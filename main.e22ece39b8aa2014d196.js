/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.cwrapper_component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n.cwrapper_component-arrow {\n  width: 0;\n  height: 0;\n  border-top: 0.3em solid transparent;\n  border-bottom: 0.3em solid transparent;\n  border-right: 0.3em solid #eeeeee;\n  margin-left: 0.3em;\n  margin-top: 0.175em;\n  transition: 0.3s;\n}\n.cwrapper_component-header button:last-child {\n  margin-right: 10px;\n}\n.cwrapper_component-body {\n  margin-left: 6px;\n  border-left: 4px solid #545b62;\n  padding-left: 6px;\n  border-radius: 0 0 0 4px;\n  margin-right: 12px;\n}\n.cwrapper_rotate {\n  transform: rotate(-90deg);\n  transition: 0.3s ease;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/compWrapper.vue"],"names":[],"mappings":";AAuEA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,QAAA;EACA,SAAA;EACA,mCAAA;EACA,sCAAA;EACA,iCAAA;EACA,kBAAA;EACA,mBAAA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,gBAAA;EACA,8BAAA;EACA,iBAAA;EACA,wBAAA;EACA,kBAAA;AACA;AAEA;EACA,yBAAA;EACA,qBAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"cwrapper_component-header\">\n        <div @click=\"visible = !visible\"> {{ component.typeName }}</div>\n        <div class=\"cwrapper_component-arrow\" :class=\"{cwrapper_rotate: visible}\" ></div>\n        <div style=\"width: 100%\"></div>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" style=\"display: grid;\"\n                  :title=\"component.clientVisible ? 'Hide component' : 'Show component'\"\n                  v-show=\"component.clientVisible !== undefined\"\n                  @click=\"$emit('ecs-property-change', component.type, 'clientVisible', !component.clientVisible, component.multiId)\">\n          <div class=\"g11\" v-show=\"component.clientVisible\"><i class=\"fas fa-eye\"/></div>\n          <div class=\"g11\" v-show=\"!component.clientVisible\"><i class=\"fas fa-eye-slash\"/></div>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"primary\" title=\"Fullscreen\"\n                  v-show=\"component._isFullscreen !== undefined\" @click=\"component._isFullscreen = true\">\n          <i class=\"fas fa-expand\"/>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"danger\" title=\"Delete\" v-show=\"component._canDelete\"\n                  @click=\"$emit('ecs-property-change', '$', 'removeComponent', component.type, component.multiId)\">\n          <i class=\"fas fa-trash\"/>\n        </b-button>\n      </div>\n    </div>\n    <b-collapse v-model=\"visible\" class=\"cwrapper_component-body\" visible>\n      <component v-bind:is=\"componentType\" v-bind:component=\"component\" v-bind:isAdmin=\"isAdmin\"\n                 v-on:ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\">\n\n      </component>\n    </b-collapse>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport ecsName from \"./ecsName.vue\";\nimport ecsNote from \"./ecsNote.vue\";\nimport ecsPosition from \"./ecsPosition.vue\";\nimport ecsWall from \"./ecsWall.vue\";\nimport ecsBackgroundImage from \"./ecsBackgroundImage.vue\";\nimport ecsPin from \"./ecsPin.vue\";\nimport ecsTransform from \"./ecsTransform.vue\";\nimport ecsLight from \"./ecsLight.vue\";\nimport ecsPlayer from \"./ecsPlayer.vue\";\nimport ecsDoor from \"./ecsDoor.vue\";\nimport ecsProp from \"./ecsProp.vue\";\nimport ecsPropTeleport from \"./ecsPropTeleport.vue\";\nimport {Component} from \"../../ecs/component\"\nimport {Vue, VComponent, VProp} from \"../vue\";\n\n@VComponent({\n  components: {\n    ecsName, ecsNote, ecsPosition, ecsWall, ecsBackgroundImage, ecsPin, ecsTransform, ecsLight, ecsPlayer, ecsDoor,\n    ecsProp, ecsPropTeleport\n  }\n})\nexport default class EcsComponentWrapper extends Vue {\n  @VProp({required: true})\n  component!: Component;\n\n  @VProp({default: false})\n  isAdmin!: boolean;\n\n  visible = true;\n\n  get componentType(): string {\n    return 'ecs-' + this.component.type.replace('_', '-');\n  }\n}\n</script>\n\n<style>\n.cwrapper_component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n\n.cwrapper_component-arrow {\n  width: 0;\n  height: 0;\n  border-top: 0.3em solid transparent;\n  border-bottom: 0.3em solid transparent;\n  border-right: 0.3em solid #eeeeee;\n  margin-left: 0.3em;\n  margin-top: 0.175em;\n  transition: 0.3s;\n}\n\n.cwrapper_component-header button:last-child {\n  margin-right: 10px;\n}\n\n.cwrapper_component-body {\n  margin-left: 6px;\n  border-left: 4px solid #545b62;\n  padding-left: 6px;\n  border-radius: 0 0 0 4px;\n  margin-right: 12px;\n}\n\n.cwrapper_rotate {\n  transform: rotate(-90deg);\n  transition: 0.3s ease;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.modal-content-dark {\n  background-color: #545b62 !important;\n}\n.hprior.ecs-note_textarea {\n  color: white !important;\n  background-color: transparent !important;\n  outline: none;\n  border-radius: 0;\n  border-color: transparent;\n}\n.hprior.ecs-note_textarea::placeholder {\n  color: #eeeeee;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/ecsNote.vue"],"names":[],"mappings":";AAyCA;EACA,oCAAA;AACA;AAEA;EACA,uBAAA;EACA,wCAAA;EACA,aAAA;EACA,gBAAA;EACA,yBAAA;AACA;AAEA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <b-textarea placeholder=\"Write something here...\" v-model=\"note\" :readonly=\"!isAdmin\" class=\"hprior ecs-note_textarea\"\n                @change=\"onChange\"/>\n    <b-modal title=\"Note\" v-model=\"component._isFullscreen\" hide-footer hide-header\n             dialog-class=\"modal-fullscreen modal-xxl\" content-class=\"modal-content-dark\">\n      <b-textarea placeholder=\"Write something here...\" v-model=\"note\" :readonly=\"!isAdmin\"\n                  @change=\"onChange\" style=\"height: 100%; resize: none;\" class=\"hprior ecs-note_textarea\"/>\n      <template v-slot:modal-footer>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {VComponent, VWatchImmediate, VProp, Vue} from \"../vue\";\nimport {NoteComponent} from \"../../ecs/component\";\n\n@VComponent\nexport default class EcsNote extends Vue {\n  @VProp({required: true})\n  component!: NoteComponent;\n\n  @VProp({required: true})\n  isAdmin!: boolean;\n\n  note: string = '';\n\n  @VWatchImmediate('component.note')\n  onCNoteChanged(val: string) {\n    this.note = val;\n  }\n\n  onChange() {\n    this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);\n  }\n}\n</script>\n\n<style>\n\n.modal-content-dark {\n  background-color: #545b62 !important;\n}\n\n.hprior.ecs-note_textarea {\n  color: white !important;\n  background-color: transparent !important;\n  outline: none;\n  border-radius: 0;\n  border-color: transparent;\n}\n\n.hprior.ecs-note_textarea::placeholder {\n  color: #eeeeee;\n}\n\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.entity-inspect_component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/entityInspect.vue"],"names":[],"mappings":";AA2FA;EACA,cAAA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <div v-show=\"data.components.length > 0\">\n    <div class=\"entity-inspect_component-btn-header\">\n      <b-dropdown toggle-class=\"rounded-0\" variant=\"success\" v-if=\"world.isMaster\">\n        <template v-slot:button-content>\n          <i class=\"fas fa-plus\"></i>\n        </template>\n        <b-dropdown-item v-for=\"x in data.addable\" :key=\"x.type\" @click=\"emitSpecial('addComponent', x.type)\">\n          {{ x.name }}\n        </b-dropdown-item>\n      </b-dropdown>\n      <b-button squared :title=\"data.hidden ? 'Show entity' : 'Hide entity'\" style=\"display: grid\" v-if=\"world.isMaster\"\n                @click=\"emitSpecial('hidden', !data.hidden)\">\n        <div class=\"g11\" :style=\"{visibility: data.hidden ? 'visible' : 'hidden'}\"><i class=\"fas fa-eye-slash\"/></div>\n        <div class=\"g11\" :style=\"{visibility: data.hidden ? 'hidden' : 'visible'}\"><i class=\"fas fa-eye\"/></div>\n      </b-button>\n      <b-button v-if=\"world.isMaster\" variant=\"danger\" title=\"Delete entity\" squared\n                @click=\"emitSpecial('delete')\">\n        <i class=\"fas fa-trash\"></i>\n      </b-button>\n      <b-button v-if=\"world.isMaster\" variand=\"danger\" title=\"Forget entity\" squared\n                @click=\"emitSpecial('forget')\">\n        <i class=\"fas fa-eraser\"></i>\n      </b-button>\n    </div>\n\n    <ecs-component-wrapper v-for=\"comp of data.components\" v-bind:key=\"comp.type + (comp.multiId || '')\"\n                           v-bind:component=\"comp\" v-bind:isAdmin=\"world.isMaster\"\n                           @ecs-property-change=\"onEcsPropertyChange(arguments[0], arguments[1], arguments[2], arguments[3])\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport EcsComponentWrapper from \"./compWrapper.vue\";\nimport {VComponent, VProp, Vue} from \"../vue\";\nimport {World} from \"../../ecs/world\";\nimport {\n  SELECTION_TYPE,\n  SELECTION_UI_DATA_TYPE,\n  SelectionSystem,\n  SelectionUiData\n} from \"../../ecs/systems/back/selectionSystem\";\nimport {Resource} from \"../../ecs/resource\";\nimport {componentClone} from \"../../ecs/ecsUtil\";\n\n@VComponent({\n  components: {\n    EcsComponentWrapper,\n  }\n})\nexport default class EntityInspect extends Vue {\n  @VProp({required: true})\n  world!: World;\n\n  data: SelectionUiData = {\n    type: SELECTION_UI_DATA_TYPE,\n    selectedEntities: [],\n    hidden: false,\n    addable: [],\n    components: [],\n    _save: false,\n    _sync: false,\n  };\n\n  onEcsPropertyChange(type: string, property: string, value: any, multiId?: number) {\n    let selectionSys = this.world.systems.get(SELECTION_TYPE) as SelectionSystem;\n    selectionSys.setProperty(this.data.selectedEntities, type, property, value, multiId);\n  }\n\n  emitSpecial(name: string, par: unknown) {\n    this.onEcsPropertyChange('$', name, par);\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === SELECTION_UI_DATA_TYPE) {\n      this.data = componentClone(res) as SelectionUiData;\n    }\n  }\n\n  mounted() {\n    this.data = componentClone(this.world.getResource(SELECTION_UI_DATA_TYPE) as SelectionUiData);\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n  }\n}\n</script>\n\n<style>\n.entity-inspect_component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.edit-map_game {\n  user-select: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/editMap.vue"],"names":[],"mappings":";AAgCA;EACA,iBAAA;AACA","sourcesContent":["<template>\n  <div class=\"edit-map_game\">\n\n    <tool-bar v-bind:world=\"world\">\n    </tool-bar>\n\n    <div id=\"canvas-container\" style=\"width: 100%; height: calc(100vh - var(--topbar-height));\">\n    </div>\n\n    <side-bar v-bind:world=\"world\">\n    </side-bar>\n\n    <reconnection-modal v-if=\"!world.isMaster\" v-bind:world=\"world\">\n    </reconnection-modal>\n\n    <a id=\"hidden-download-link\" style=\"display: none;\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport ToolBar from \"./toolBar.vue\";\nimport SideBar from \"./sideBar.vue\";\nimport ReconnectionModal from \"./reconnectionModal.vue\";\n\nexport default Vue.extend({\n  components: {ToolBar, SideBar, ReconnectionModal},\n  props: ['world'],\n});\n</script>\n\n<style>\n.edit-map_game {\n  user-select: none;\n}\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/sideBar.vue"],"names":[],"mappings":";AAgFA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <b-sidebar id=\"sidebar-right\" title=\"Sidebar\"\n             bg-variant=\"dark\" text-variant=\"light\" right visible no-header shadow\n             sidebar-class=\"under-navbar\">\n    <!----------------------------------      GRID CONTROL      ---------------------------------->\n    <grid-edit class=\"px-3 py-2\" v-show=\"tool === 'grid'\" v-bind:world=\"world\"/>\n    <!----------------------------------      ENTITY INSPECTOR      ---------------------------------->\n    <div v-show=\"tool === 'inspect'\">\n      <entity-inspect v-bind:world=\"world\"/>\n    </div>\n    <!----------------------------------      LIGHT SETTINGS      ---------------------------------->\n    <light-settings-edit  v-show=\"tool === 'light'\" v-bind:world=\"world\"/>\n    <!----------------------------------      CREATION OPTIONS      ---------------------------------->\n    <creation-options class=\"px-3 py-2\" v-bind:world=\"world\"/>\n\n    <template v-slot:footer>\n      <div class=\"sidebar-footer\">\n        {{ trackerCount }}\n        <div style=\"margin-left: 0.2rem\">\n          <i class=\"fas fa-server\"></i>\n        </div>\n        {{ connectionCount }}\n        <div v-bind:class=\"{ rotate: connectionBuffering }\" style=\"margin-left: 0.2rem\">\n          <i class=\"fas fa-sync-alt\"></i>\n        </div>\n      </div>\n    </template>\n  </b-sidebar>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Resource} from \"../../ecs/resource\";\nimport {World} from \"../../ecs/world\";\nimport {TOOL_TYPE, ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport GridEdit from \"./gridEdit.vue\";\nimport CreationOptions from \"./creationOptions.vue\";\nimport LightSettingsEdit from \"./lightSettingsEdit.vue\";\nimport EntityInspect from \"../ecs/entityInspect.vue\";\nimport {NETWORK_STATUS_TYPE, NetworkStatusResource} from \"../../ecs/systems/back/networkSystem\";\n\n@VComponent({\n  components: {\n    GridEdit, EntityInspect, LightSettingsEdit, CreationOptions\n  }\n})\nexport default class ToolBar extends Vue {\n  @VProp({ required: true })\n  world!: World;\n\n  tool = 'inspect';\n  connectionCount = 0;\n  trackerCount = 0;\n  connectionBuffering = false;\n\n  mounted() {\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === TOOL_TYPE) {\n      this.tool = (res as ToolResource).tool!;\n    } else if (res.type === NETWORK_STATUS_TYPE) {\n      let r = res as NetworkStatusResource;\n      this.trackerCount = r.trackerCount;\n      this.connectionCount = r.connectionCount;\n      this.connectionBuffering = r.isBuffering;\n    }\n  }\n}\n</script>\n\n\n<style>\n\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.toolbar-btn.plz-prioritize {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n.plz-prioritize.undo-redo-btn.disabled, .plz-prioritize.undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/toolBar.vue"],"names":[],"mappings":";AA8HA;EACA,WAAA;EACA,yBAAA;EACA,qBAAA;AACA;AAGA;EACA,yBAAA;EACA,qBAAA;EACA,gBAAA;AACA","sourcesContent":["<template>\n  <b-button-toolbar type=\"dark\" variant=\"info\" class=\"bg-dark\"\n                    style=\"width: 100%; height: var(--topbar-height); z-index: 1000;\" justify>\n    <b-button-group v-if=\"world.isMaster\" style=\"margin-right: 2rem\">\n      <b-button title=\"Undo\" squared class=\"toolbar-btn plz-prioritize undo-redo-btn\" :disabled=\"!this.canUndo\" v-on:click=\"undo()\">\n        <i class=\"fas fa-undo\"></i>\n      </b-button>\n      <b-button title=\"Redo\" squared class=\"toolbar-btn plz-prioritize undo-redo-btn\" :disabled=\"!this.canRedo\" v-on:click=\"redo()\">\n        <i class=\"fas fa-redo\"></i>\n      </b-button>\n    </b-button-group>\n\n    <b-radio-group buttons v-model=\"tool\">\n      <b-radio ref=\"radioinspect\" title=\"Inspect\" value=\"inspect\" squared\n               :class=\"{'toolbar-btn': this.backgroundLocked, 'btn-warning': !this.backgroundLocked}\">\n        <i class=\"fas fa-hand-pointer\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add wall\" value=\"create_wall\" squared class=\"toolbar-btn plz-prioritize\">\n        <wall-icon/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add prop\" value=\"create_prop\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-couch\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add pin\" value=\"create_pin\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-thumbtack\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Edit grid\" value=\"grid\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-border-all\"/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Light settings\" value=\"light\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-lightbulb\"/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Measure\" value=\"measure\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-ruler\"/>\n      </b-radio>\n      <b-radio title=\"Mouse trail\" value=\"mouse_trail\" squared class=\"toolbar-btn plz-prioritize\">\n        <mouse-trail-icon/>\n      </b-radio>\n    </b-radio-group>\n    <b-button title=\"Export map\" squared variant=\"success\" class=\"btn-xs\"\n              v-on:click=\"world.events.emit('export_map')\" v-if=\"world.isMaster\">\n      <i class=\"fas fa-download\"/>\n    </b-button>\n\n    <div style=\"flex: 1 1 0;\"/> <!-- Spacing -->\n    <b-button title=\"Toggle sidebar\" variant=\"warning\" class=\"btn-xs\" v-b-toggle.sidebar-right>\n      <i class=\"fas fa-angle-double-right\"/>\n    </b-button>\n  </b-button-toolbar>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Resource} from \"../../ecs/resource\";\nimport {World} from \"../../ecs/world\";\nimport {BACKGROUND_LAYER_TYPE, BackgroundLayerResource} from \"../../ecs/systems/back/layerSystem\";\nimport {TOOL_TYPE, ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport {Tool} from \"../../ecs/tools/toolType\";\n\nimport MouseTrailIcon from \"../icons/mouseTrailIcon.vue\";\nimport WallIcon from \"../icons/wallIcon.vue\";\n\n\n@VComponent({\n  components: {MouseTrailIcon, WallIcon}\n})\nexport default class ToolBar extends Vue {\n  @VProp({ required: true })\n  world!: World;\n\n  tool = 'inspect';\n  backgroundLocked: boolean = true;\n\n  canUndo = false;\n  canRedo = false;\n\n  mounted() {\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n    this.world.events.on('command_history_change', this.onCommandHistoryChange, this);\n\n    let x = (this.$refs.radioinspect as Vue);\n    x.$el.addEventListener('click', (e) => {\n      if (!(e.target instanceof HTMLInputElement)) return;\n      if (this.tool === 'inspect') {\n        let locked = (this.world.getResource(BACKGROUND_LAYER_TYPE) as BackgroundLayerResource).locked;\n        this.world.editResource(BACKGROUND_LAYER_TYPE, { locked: !locked });\n      }\n    });\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n    this.world.events.off('command_history_change', this.onCommandHistoryChange, this);\n  }\n\n  onCommandHistoryChange(canUndo: boolean, canRedo: boolean) {\n    this.canUndo = canUndo;\n    this.canRedo = canRedo;\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === BACKGROUND_LAYER_TYPE) {\n      this.backgroundLocked = (res as BackgroundLayerResource).locked;\n    } else if (res.type === TOOL_TYPE) {\n      this.tool = (res as ToolResource).tool!;\n    }\n  }\n\n  @VWatch('tool')\n  onToolEdit(tool: Tool) {\n    this.world.editResource('tool', {tool});\n  }\n\n  undo() {\n    this.world.events.emit('command_undo');\n  }\n\n  redo() {\n    this.world.events.emit('command_redo');\n  }\n}\n</script>\n\n<style>\n\n.toolbar-btn.plz-prioritize {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n\n\n.plz-prioritize.undo-redo-btn.disabled, .plz-prioritize.undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../public/images/GitHub-Mark-Light-32px.png */ "./src/public/images/GitHub-Mark-Light-32px.png");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.footer_credits {\n  text-align: right;\n  padding: 20px;\n}\n.footer_github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n}\n.footer_github:hover {\n  opacity: 0.5;\n}\n.footer_profile {\n  color: white;\n}\n.footer_profile:hover {\n  opacity: 0.5;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/footer.vue"],"names":[],"mappings":";AAqBA;EACA,iBAAA;EACA,aAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,yDAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA","sourcesContent":["<template>\n  <div class=\"footer\">\n    <div class=\"footer_credits\">\n      <div class=\"links\">\n        <a href=\"https://github.com/SnowyCoder/dndme\" target=\"_blank\" class=\"footer_github\"></a>\n      </div>\n      <small style=\"color: lightgray\">\n        Developed by <a href=\"https://github.com/SnowyCoder\" target=\"_blank\" class=\"footer_profile\">Rossi Lorenzo</a> /\n        Drawings by <span style=\"color: white\">Giorgia Nizzoli</span>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style>\n.footer_credits {\n  text-align: right;\n  padding: 20px;\n}\n\n.footer_github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(\"~Public/images/GitHub-Mark-Light-32px.png\");\n}\n\n.footer_github:hover {\n  opacity: 0.5;\n}\n\n.footer_profile {\n  color: white;\n}\n\n.footer_profile:hover {\n  opacity: 0.5;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.s-home-container {\n  color: white;\n}\n.s-home-text {\n  color: white;\n}\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/home/home.vue"],"names":[],"mappings":";AA0EA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,mBAAA;AACA","sourcesContent":["<template>\n  <div class=\"phase-container text-center flex-column align-items-center justify-content-center row\" style=\"height: 100vh; margin: 0;\">\n    <div class=\"text-white\">\n      <p class=\"title\" style=\"font-size: 3.5em; margin: 0;\">DRAW&DICE</p>\n      <p class=\"\" style=\"font-size: 2em;\">Dnd made ez!</p>\n    </div>\n\n    <div>\n      <b-button variant=\"warning\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onCreateMap\">Create Map</b-button>\n    </div>\n    <div>\n      <b-button variant=\"info\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onEditMap\">Edit Map</b-button>\n    </div>\n\n    <b-modal ref=\"map-load-modal\" hide-footer title=\"Gimme the map\">\n      <b-form-file\n          v-model=\"file\"\n          :state=\"Boolean(file)\"\n          placeholder=\"Choose a file or drop it here...\"\n          drop-placeholder=\"Drop file here...\"\n          accept=\".dndm\"\n      ></b-form-file>\n    </b-modal>\n\n    <footer-component></footer-component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport FooterComponent from \"../footer.vue\";\nimport MapInput from \"./mapInput.vue\";\n\n\nimport {VComponent, Vue, PhaseVue, VWatch, VRef} from \"../vue\";\nimport EventEmitter = PIXI.utils.EventEmitter;\nimport {BModal} from \"bootstrap-vue\";\n\n@VComponent({\n  components: { MapInput, FooterComponent }\n})\nexport default class HomeComponent extends Vue implements PhaseVue {\n  @VRef('map-load-modal') readonly mapLoadModal!: BModal;\n\n  file: any = null;\n  pendingOp: string = \"\";\n  eventEmitter!: EventEmitter;\n\n  onCreateMap() {\n    this.eventEmitter.emit(\"create_map\");\n  }\n\n  onEditMap() {\n    this.pendingOp = 'edit';\n    this.mapLoadModal.show();\n    this.eventEmitter.emit(\"edit_map\");\n  }\n\n  mapLoadCancel() {\n    this.mapLoadModal.hide();\n  }\n\n  @VWatch('file')\n  onFileChanged(val: any) {\n    if (val == null) return;\n\n    console.log(\"File dropped, loading: \" + this.pendingOp);\n    this.eventEmitter.emit(this.pendingOp, this.file);\n    this.file = null;\n    this.mapLoadCancel();\n  }\n}\n</script>\n\n<style>\n.s-home-container {\n  color: white;\n}\n\n.s-home-text {\n  color: white;\n}\n\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sloading-container {\n  color: white;\n  height: 100vh;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.sloading-title {\n  font-size: 5em;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/loading/loading.vue"],"names":[],"mappings":";AAwCA;EACA,YAAA;EACA,aAAA;;EAEA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,sBAAA;AACA;AACA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div class=\"sloading-container\">\n      <h1 class=\"sloading-title\">DRAW&DICE</h1>\n      <h2>{{message}}</h2>\n      <h5>Loading</h5>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport {VComponent} from \"../vue\";\n\nconst LOADING_PHRASES = [\n  \"Persuading dragons to cooperate...\",\n  \"A Dwarf, an Elf and a Dragonbord enter a tavern... \\\"We're looking for a quest\\\"\",\n  \"An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways\",\n  \"Recharging spell slots...\",\n  \"Roll a Charisma saving throw...\",\n  \"Long rest in progress...\",\n  \"Fitting out the goblin army...\",\n  \"The last boss you killed met a 20th level chieric... The rest is up to you! ;)\",\n  \"This map only costs 25gp!\",\n  \"Sorry, you'd better create a new character sheet\",\n];\n\nfunction randomMex() {\n  const i = Math.floor(Math.random() * LOADING_PHRASES.length);\n  return LOADING_PHRASES[i];\n}\n\n@VComponent\nexport default class Loading extends Vue {\n  message = randomMex();\n}\n\n</script>\n\n<style>\n  .sloading-container {\n    color: white;\n    height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n  .sloading-title {\n    font-size: 5em;\n  }\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.util_ecolor {\n  background-color: transparent !important;\n  outline: none !important;\n  border: none !important;\n  padding: 0.125rem !important;\n  box-shadow: none !important;\n  height: calc(1.5em + 0.75rem + 2px);\n  width: calc(1.5em + 0.75rem + 2px);\n  margin-left: 0.5em;\n\n  -webkit-appearance: none;\n}\n.util_ecolor::-moz-color-swatch, .util_ecolor::-webkit-color-swatch, .util_ecolor::-webkit-color-swatch-wrapper {\n  border: 0;\n  padding: 0;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/util/editableColor.vue"],"names":[],"mappings":";AAyBA;EACA,wCAAA;EACA,wBAAA;EACA,uBAAA;EACA,4BAAA;EACA,2BAAA;EACA,mCAAA;EACA,kCAAA;EACA,kBAAA;;EAEA,wBAAA;AACA;AAEA;EACA,SAAA;EACA,UAAA;AACA","sourcesContent":["<template>\n  <input type=\"color\" v-bind:value=\"value\" v-on:input=\"$emit('input', $event.target.value)\"\n         :readonly=\"readonly\" :placeholder=\"placeholder\" @change=\"$emit('change')\"\n         class=\"util_ecolor\">\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue} from \"../vue\";\n\n@VComponent\nexport default class EditableColor extends Vue {\n  @VProp({required: true})\n  value!: string;\n\n  @VProp({default: false})\n  readonly!: boolean;\n\n  @VProp({default: ''})\n  placeholder!: string;\n}\n\n</script>\n\n<style>\n.util_ecolor {\n  background-color: transparent !important;\n  outline: none !important;\n  border: none !important;\n  padding: 0.125rem !important;\n  box-shadow: none !important;\n  height: calc(1.5em + 0.75rem + 2px);\n  width: calc(1.5em + 0.75rem + 2px);\n  margin-left: 0.5em;\n\n  -webkit-appearance: none;\n}\n\n.util_ecolor::-moz-color-swatch, .util_ecolor::-webkit-color-swatch, .util_ecolor::-webkit-color-swatch-wrapper {\n  border: 0;\n  padding: 0;\n}\n</style>\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.util_editable-text_div {\n  position: relative;\n  margin: 5px;\n  width: 100%;\n}\n.util_editable-text_border {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 1px;\n\n  border: 1px solid transparent;\n  transition: width 0.2s, border 0s 0.2s;\n}\n.util_editable-text_input:focus ~ .util_editable-text_border {\n  border-color: #4285F4;\n  width: 100%;\n  transition: width 0.3s;\n}\n.hprior.util_editable-text_input {\n  color: white;\n  padding: 3px 10px;\n  margin: 0;\n  border-bottom: solid 1px #eeeeee;\n  outline: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/util/editableText.vue"],"names":[],"mappings":";AAuCA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;AACA;AAEA;EACA,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,WAAA;;EAEA,6BAAA;EACA,sCAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,sBAAA;AACA;AAEA;EACA,YAAA;EACA,iBAAA;EACA,SAAA;EACA,gCAAA;EACA,aAAA;AACA","sourcesContent":["<template>\n  <div class=\"util_editable-text_div\">\n    <input type=\"text\" v-bind:value=\"value\" v-on:input=\"onEvent('input', $event)\"\n             :readonly=\"readonly\" :placeholder=\"placeholder\" @change=\"onEvent('change', $event)\"\n             class=\"form-control-plaintext hprior util_editable-text_input\">\n    <span class=\"util_editable-text_border\"></span>\n  </div>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue} from \"../vue\";\n\n@VComponent\nexport default class EditableText extends Vue {\n  @VProp({required: true})\n  value!: string;\n\n  @VProp({default: false})\n  readonly!: boolean;\n\n  @VProp({default: ''})\n  placeholder!: string\n\n  @VProp({default: undefined})\n  filter?: (text: string) => string;\n\n  onEvent(ev: string, event: InputEvent) {\n    const et = event.target as any;\n    if (this.filter !== undefined) {\n      et.value = this.filter(et.value);\n    }\n    this.$emit(ev, et.value);\n  }\n}\n\n</script>\n\n<style>\n.util_editable-text_div {\n  position: relative;\n  margin: 5px;\n  width: 100%;\n}\n\n.util_editable-text_border {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 1px;\n\n  border: 1px solid transparent;\n  transition: width 0.2s, border 0s 0.2s;\n}\n\n.util_editable-text_input:focus ~ .util_editable-text_border {\n  border-color: #4285F4;\n  width: 100%;\n  transition: width 0.3s;\n}\n\n.hprior.util_editable-text_input {\n  color: white;\n  padding: 3px 10px;\n  margin: 0;\n  border-bottom: solid 1px #eeeeee;\n  outline: none;\n}\n</style>\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/public/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap/dist/css/bootstrap.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap/dist/css/bootstrap.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap-vue/dist/bootstrap-vue.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap-vue/dist/bootstrap-vue.css");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Merienda+One&display=swap);"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.g11 {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n", "",{"version":3,"sources":["webpack://./src/public/style.css"],"names":[],"mappings":"AAIA;IACI,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,YAAY;;IAEZ,6MAA6M;IAC7M,oCAAoC;AACxC;;AAEA;AACA;;AAEA;IACI,eAAe;IACf,SAAS;AACb;;;AAGA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,WAAW;IACX,qCAAqC;AACzC;;AAEA;IACI,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,oBAAoB;AACxB;;AAEA;IACI,WAAW;AACf;AACA;IACI,YAAY;AAChB;AACA;IACI,qBAAqB;IACrB,yBAAyB;AAC7B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,sCAAsC;AAC1C;;AAEA,iBAAiB;;AAEjB;IACI;QACI,uBAAuB;IAC3B;IACA;QACI,yBAAyB;IAC7B;AACJ","sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Merienda+One&display=swap');\n@import '~bootstrap/dist/css/bootstrap.css';\n@import '~bootstrap-vue/dist/bootstrap-vue.css';\n\n:root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.g11 {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/public/images/GitHub-Mark-Light-32px.png":
/*!******************************************************!*\
  !*** ./src/public/images/GitHub-Mark-Light-32px.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "266ca63177bca6f330a74e83fdc63178.png");

/***/ }),

/***/ "./src/public/images/props.png":
/*!*************************************!*\
  !*** ./src/public/images/props.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "461f357929f9f8d63da20b81e743a099.png");

/***/ }),

/***/ "./src/public/images/trail.png":
/*!*************************************!*\
  !*** ./src/public/images/trail.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "da16798f46c6672323f9563cc8c838b9.png");

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue */ "./src/app/ui/ecs/ecsName.vue");
/* harmony import */ var _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue */ "./src/app/ui/ecs/ecsNote.vue");
/* harmony import */ var _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsPosition.vue */ "./src/app/ui/ecs/ecsPosition.vue");
/* harmony import */ var _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ecsWall.vue */ "./src/app/ui/ecs/ecsWall.vue");
/* harmony import */ var _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ecsBackgroundImage.vue */ "./src/app/ui/ecs/ecsBackgroundImage.vue");
/* harmony import */ var _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ecsPin.vue */ "./src/app/ui/ecs/ecsPin.vue");
/* harmony import */ var _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ecsTransform.vue */ "./src/app/ui/ecs/ecsTransform.vue");
/* harmony import */ var _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ecsLight.vue */ "./src/app/ui/ecs/ecsLight.vue");
/* harmony import */ var _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ecsPlayer.vue */ "./src/app/ui/ecs/ecsPlayer.vue");
/* harmony import */ var _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ecsDoor.vue */ "./src/app/ui/ecs/ecsDoor.vue");
/* harmony import */ var _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ecsProp.vue */ "./src/app/ui/ecs/ecsProp.vue");
/* harmony import */ var _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ecsPropTeleport.vue */ "./src/app/ui/ecs/ecsPropTeleport.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













let EcsComponentWrapper = class EcsComponentWrapper extends _vue__WEBPACK_IMPORTED_MODULE_12__.Vue {
    constructor() {
        super(...arguments);
        this.visible = true;
    }
    get componentType() {
        return 'ecs-' + this.component.type.replace('_', '-');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ required: true })
], EcsComponentWrapper.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ default: false })
], EcsComponentWrapper.prototype, "isAdmin", void 0);
EcsComponentWrapper = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VComponent)({
        components: {
            ecsName: _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__["default"], ecsNote: _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__["default"], ecsPosition: _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__["default"], ecsWall: _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__["default"], ecsBackgroundImage: _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__["default"], ecsPin: _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__["default"], ecsTransform: _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__["default"], ecsLight: _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__["default"], ecsPlayer: _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__["default"], ecsDoor: _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__["default"],
            ecsProp: _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__["default"], ecsPropTeleport: _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__["default"]
        }
    })
], EcsComponentWrapper);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsComponentWrapper);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsDoor = class EcsDoor extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.doorType = _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT;
        this.open = false;
        this.locked = false;
    }
    onChange() {
        if (this.component.doorType !== this.doorType) {
            this.$emit('ecs-property-change', 'door', 'doorType', this.doorType);
        }
        if (this.component.open !== this.open) {
            this.$emit('ecs-property-change', 'door', 'open', this.open);
        }
        if (this.component.locked !== this.locked) {
            this.$emit('ecs-property-change', 'door', 'locked', this.locked);
        }
    }
    get doorTypeName() {
        switch (this.doorType) {
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_LEFT:
                return "Normal";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT:
                return "Normal right";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.ROTATE:
                return "Rotating";
            default:
                return "Unknown??";
        }
    }
    onCDoorTypeChanged(val) {
        this.doorType = val;
    }
    onCOpenChanged(val) {
        this.open = val;
    }
    onCLockedChanged(val) {
        this.locked = val;
    }
    onDoorTypeChanged() {
        this.onChange();
    }
    onOpenChanged() {
        this.onChange();
    }
    onLockedChanged() {
        this.onChange();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.doorType')
], EcsDoor.prototype, "onCDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.open')
], EcsDoor.prototype, "onCOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.locked')
], EcsDoor.prototype, "onCLockedChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('doorType')
], EcsDoor.prototype, "onDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('open')
], EcsDoor.prototype, "onOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('locked')
], EcsDoor.prototype, "onLockedChanged", null);
EcsDoor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsDoor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsDoor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableColor.vue */ "./src/app/ui/util/editableColor.vue");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.string2hex;


let EcsLight = class EcsLight extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.range = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'light', 'color', c);
        }
        let r = parseFloat(this.range);
        if (this.component.range !== r && this.range !== '') {
            this.$emit('ecs-property-change', 'light', 'range', r);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? '' : hex2string(val);
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsLight.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.range')
], EcsLight.prototype, "onCRangeChanged", null);
EcsLight = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableColor: _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_2__["default"], EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_3__["default"],
        }
    })
], EcsLight);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsLight);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableText_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableText.vue */ "./src/app/ui/util/editableText.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsName = class EcsName extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.name = '';
    }
    onCNameChanged(val) {
        this.name = val !== null && val !== void 0 ? val : '';
    }
    onChange() {
        this.$emit('ecs-property-change', 'name', 'name', this.name, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.name')
], EcsName.prototype, "onCNameChanged", null);
EcsName = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableText: _util_editableText_vue__WEBPACK_IMPORTED_MODULE_1__["default"]
        }
    })
], EcsName);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsName);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsNote = class EcsNote extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.note = '';
    }
    onCNoteChanged(val) {
        this.note = val;
    }
    onChange() {
        this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.note')
], EcsNote.prototype, "onCNoteChanged", null);
EcsNote = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsNote);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsNote);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableText_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableText.vue */ "./src/app/ui/util/editableText.vue");
/* harmony import */ var _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/editableColor.vue */ "./src/app/ui/util/editableColor.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.string2hex;


let EcsPin = class EcsPin extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'pin', 'color', c);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? "" : hex2string(val);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsPin.prototype, "onCColorChanged", null);
EcsPin = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableText: _util_editableText_vue__WEBPACK_IMPORTED_MODULE_2__["default"], EditableColor: _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_3__["default"]
        }
    })
], EcsPin);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPin);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsPlayer = class EcsPlayer extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.nightVision = false;
        this.range = '';
    }
    onChange() {
        if (this.component.nightVision !== this.nightVision) {
            this.$emit('ecs-property-change', 'player', 'nightVision', this.nightVision);
        }
        let c = parseFloat(this.range);
        if (this.component.range !== c && this.range !== '') {
            this.$emit('ecs-property-change', 'player', 'range', c);
        }
    }
    onCNightVisionChanged(val) {
        this.nightVision = !!val;
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.nightVision')
], EcsPlayer.prototype, "onCNightVisionChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.range')
], EcsPlayer.prototype, "onCRangeChanged", null);
EcsPlayer = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__["default"]
        }
    })
], EcsPlayer);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPlayer);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsPosition = class EcsPosition extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.x = '';
        this.y = '';
    }
    onChange() {
        let x = parseFloat(this.x);
        if (this.component.x !== x && this.x !== '') {
            this.$emit('ecs-property-change', 'position', 'x', x);
        }
        let y = parseFloat(this.y);
        if (this.component.y !== y && this.y !== '') {
            this.$emit('ecs-property-change', 'position', 'y', y);
        }
    }
    onCxChanged(val) {
        this.x = (val !== null && val !== void 0 ? val : '') + '';
    }
    onCyChanged(val) {
        this.y = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.x')
], EcsPosition.prototype, "onCxChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.y')
], EcsPosition.prototype, "onCyChanged", null);
EcsPosition = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__["default"],
        }
    })
], EcsPosition);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPosition);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPropTeleport = class EcsPropTeleport extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    focusTarget() {
        console.warn("TODO: focus target");
    }
    link() {
        this.$emit('ecs-property-change', '@', 'prop_teleport_link', this.component.entity);
    }
    use() {
        this.$emit('ecs-property-change', '@', 'prop_use', this.component.entity);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "isAdmin", void 0);
EcsPropTeleport = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPropTeleport);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPropTeleport);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let EcsTransform = class EcsTransform extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.rotation = '';
        this.scale = '';
    }
    onChange() {
        if (this.rotation !== '') {
            let r = (((parseFloat(this.rotation) % 360) + 360) % 360);
            if (this.component.rotation !== r) {
                this.$emit('ecs-property-change', 'transform', 'rotation', r * pixi_js__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD);
            }
        }
        if (this.scale !== '') {
            let s = parseFloat(this.scale);
            if (this.component.scale !== s) {
                this.$emit('ecs-property-change', 'transform', 'scale', s);
            }
        }
    }
    onCRotationChanged(val) {
        this.rotation = (val !== null && val !== void 0 ? val : 0) * pixi_js__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG + '';
    }
    onCScaleChanged(val) {
        this.scale = (val !== null && val !== void 0 ? val : 0) + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.rotation')
], EcsTransform.prototype, "onCRotationChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.scale')
], EcsTransform.prototype, "onCScaleChanged", null);
EcsTransform = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_2__["default"],
        }
    })
], EcsTransform);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsTransform);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsWall = class EcsWall extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.w = '';
        this.h = '';
    }
    onChange() {
        let w = parseFloat(this.w);
        let h = parseFloat(this.h);
        if ((this.component.vec[0] !== w && this.w !== '') || (this.component.vec[1] !== h && this.h !== '')) {
            this.$emit('ecs-property-change', 'wall', 'vec', [w, h]);
        }
    }
    onCxChanged(vec) {
        if (vec === undefined) {
            this.w = '';
            this.h = '';
        }
        else {
            this.w = vec[0] + '';
            this.h = vec[1] + '';
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.vec')
], EcsWall.prototype, "onCxChanged", null);
EcsWall = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__["default"],
        }
    })
], EcsWall);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsWall);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue */ "./src/app/ui/ecs/compWrapper.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/ecsUtil */ "./src/app/ecs/ecsUtil.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




let EntityInspect = class EntityInspect extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.data = {
            type: _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE,
            selectedEntities: [],
            hidden: false,
            addable: [],
            components: [],
            _save: false,
            _sync: false,
        };
    }
    onEcsPropertyChange(type, property, value, multiId) {
        let selectionSys = this.world.systems.get(_ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_TYPE);
        selectionSys.setProperty(this.data.selectedEntities, type, property, value, multiId);
    }
    emitSpecial(name, par) {
        this.onEcsPropertyChange('$', name, par);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE) {
            this.data = (0,_ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.componentClone)(res);
        }
    }
    mounted() {
        this.data = (0,_ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.componentClone)(this.world.getResource(_ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE));
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "world", void 0);
EntityInspect = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EcsComponentWrapper: _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__["default"],
        }
    })
], EntityInspect);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EntityInspect);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts& ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/resource */ "./src/app/ecs/resource.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.visible = false;
        this.exitAfterCreation = false;
    }
    reloadResource() {
        var _a;
        const info = this.world.getResource(_ecs_resource__WEBPACK_IMPORTED_MODULE_1__.CREATION_INFO_TYPE);
        this.exitAfterCreation = (_a = info === null || info === void 0 ? void 0 : info.exitAfterCreation) !== null && _a !== void 0 ? _a : true;
    }
    onChange() {
        this.world.addResource({
            type: _ecs_resource__WEBPACK_IMPORTED_MODULE_1__.CREATION_INFO_TYPE,
            exitAfterCreation: this.exitAfterCreation,
        }, 'update');
    }
    mounted() {
        this.reloadResource();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_resource__WEBPACK_IMPORTED_MODULE_1__.CREATION_INFO_TYPE)
            this.reloadResource();
        else if (res.type === 'tool') {
            this.visible = this.world.systems.get('tool').isToolPartEnabled('creation_flag');
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _toolBar_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolBar.vue */ "./src/app/ui/edit/toolBar.vue");
/* harmony import */ var _sideBar_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sideBar.vue */ "./src/app/ui/edit/sideBar.vue");
/* harmony import */ var _reconnectionModal_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reconnectionModal.vue */ "./src/app/ui/edit/reconnectionModal.vue");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_3__["default"].extend({
    components: { ToolBar: _toolBar_vue__WEBPACK_IMPORTED_MODULE_0__["default"], SideBar: _sideBar_vue__WEBPACK_IMPORTED_MODULE_1__["default"], ReconnectionModal: _reconnectionModal_vue__WEBPACK_IMPORTED_MODULE_2__["default"] },
    props: ['world'],
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _icons_hexagonIcon_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../icons/hexagonIcon.vue */ "./src/app/ui/icons/hexagonIcon.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.grid = {
            type: "none",
            unit: '0 m',
            size: 1,
            offX: 0,
            offY: 0,
            color: '#000000',
            opacity: 0.5,
            thick: 2,
        };
        this.disableWatchSave = false;
    }
    reloadGrid() {
        this.disableWatchSave = true;
        let grid = this.world.getResource('grid');
        switch (grid.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.HEXAGON:
                this.grid.type = 'hex';
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.SQUARE:
                this.grid.type = 'square';
                break;
        }
        if (!grid.visible) {
            this.grid.type = 'none';
        }
        let opts = grid;
        this.grid.unit = grid.unitMul + ' ' + grid.unitName;
        this.grid.size = opts.size;
        this.grid.offX = opts.offX;
        this.grid.offY = opts.offY;
        this.grid.color = hex2string(opts.color);
        this.grid.opacity = opts.opacity;
        this.grid.thick = opts.thick;
        this.disableWatchSave = false;
    }
    mounted() {
        this.reloadGrid();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'grid')
            this.reloadGrid();
    }
    parseUnit(s) {
        const pattern = /^\s*([0-9.,]+)(.+)$/g;
        let res = pattern.exec(s);
        if (res == null)
            return undefined;
        let mul = 1;
        try {
            mul = parseFloat(res[1]);
        }
        catch (e) { }
        return {
            name: res[2].trim(),
            mul,
        };
    }
    onGridChange(newGrid) {
        if (this.disableWatchSave)
            return;
        newGrid.offX = Math.min(newGrid.offX, newGrid.size);
        newGrid.offY = Math.min(newGrid.offY, newGrid.size);
        let type;
        switch (newGrid.type) {
            case 'none':
                type = undefined;
                break;
            case 'hex':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.HEXAGON;
                break;
            case 'square':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.SQUARE;
                break;
        }
        let cmd = {
            kind: 'redit',
            add: [], remove: [],
            edit: {},
        };
        if (type !== undefined) {
            cmd.edit['grid'] = {
                visible: true,
                gridType: type,
                size: newGrid.size,
                offX: newGrid.offX,
                offY: newGrid.offY,
                color: string2hex(newGrid.color),
                opacity: parseFloat(newGrid.opacity),
                thick: newGrid.thick,
            };
            let unit = this.parseUnit(newGrid.unit);
            if (unit !== undefined) {
                let grid = cmd.edit.grid;
                grid.unitMul = unit.mul;
                grid.unitName = unit.name;
            }
        }
        else {
            cmd.edit['grid'] = {
                visible: false,
            };
        }
        this.world.events.emit('command_log', cmd);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('grid', { deep: true })
], GridEdit.prototype, "onGridChange", null);
GridEdit = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: { HexagonIcon: _icons_hexagonIcon_vue__WEBPACK_IMPORTED_MODULE_0__["default"] }
    })
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.ambientLight = '#000000';
        this.needsLight = true;
        this.roleplayVision = false;
        this.background = '#000000';
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.reloadLight();
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'light_settings' || res.type === 'local_light_settings') {
            this.reloadLight();
        }
    }
    reloadLight() {
        let light = this.world.getResource('light_settings');
        this.ambientLight = hex2string(light.ambientLight);
        this.needsLight = light.needsLight;
        this.background = hex2string(light.background);
        let llight = this.world.getResource('local_light_settings');
        this.roleplayVision = llight.visionType === 'rp';
    }
    onAmbientLightChange() {
        this.world.addResource({
            type: 'light_settings',
            ambientLight: string2hex(this.ambientLight),
            needsLight: this.needsLight,
            background: string2hex(this.background),
        }, 'update');
    }
    onLightSettingsReset() {
        this.world.addResource(Object.assign({
            type: 'light_settings',
        }, _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LIGHT_SETTINGS), 'update');
        this.reloadLight();
    }
    onRPVisChange() {
        let visionType = this.roleplayVision ? 'rp' : 'dm';
        this.world.editResource('local_light_settings', { visionType });
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('roleplayVision')
], GridEdit.prototype, "onRPVisChange", null);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let ReconnectionModal = class ReconnectionModal extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.trackerCount = 0;
        this.connectionCount = 0;
        this.isBootstrapped = false;
    }
    get shouldBeShown() {
        return !_vue__WEBPACK_IMPORTED_MODULE_1__.networkStatus.isOnline || this.connectionCount === 0 || !this.isBootstrapped;
    }
    get bodyMessage() {
        let msg = 'Connecting...';
        if (!_vue__WEBPACK_IMPORTED_MODULE_1__.networkStatus.isOnline) {
            msg = 'Check your internet connection';
        }
        else if (this.trackerCount === 0 && this.connectionCount === 0) {
            msg = 'Connecting to trackers...';
        }
        else if (this.connectionCount === 0) {
            msg = 'Waiting for master...';
        }
        else if (!this.isBootstrapped) {
            msg = 'Downloading data...';
        }
        return msg;
    }
    stop() {
        history.pushState(null, "", '#');
        (0,_index__WEBPACK_IMPORTED_MODULE_2__.onHashChange)();
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_0__.NETWORK_STATUS_TYPE) {
            const status = res;
            this.trackerCount = status.trackerCount;
            this.connectionCount = status.connectionCount;
            this.isBootstrapped = status.isBootstrapDone;
        }
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], ReconnectionModal.prototype, "world", void 0);
ReconnectionModal = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], ReconnectionModal);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReconnectionModal);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _gridEdit_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gridEdit.vue */ "./src/app/ui/edit/gridEdit.vue");
/* harmony import */ var _creationOptions_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./creationOptions.vue */ "./src/app/ui/edit/creationOptions.vue");
/* harmony import */ var _lightSettingsEdit_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lightSettingsEdit.vue */ "./src/app/ui/edit/lightSettingsEdit.vue");
/* harmony import */ var _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ecs/entityInspect.vue */ "./src/app/ui/ecs/entityInspect.vue");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







let ToolBar = class ToolBar extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.tool = 'inspect';
        this.connectionCount = 0;
        this.trackerCount = 0;
        this.connectionBuffering = false;
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_1__.TOOL_TYPE) {
            this.tool = res.tool;
        }
        else if (res.type === _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_STATUS_TYPE) {
            let r = res;
            this.trackerCount = r.trackerCount;
            this.connectionCount = r.connectionCount;
            this.connectionBuffering = r.isBuffering;
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], ToolBar.prototype, "world", void 0);
ToolBar = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            GridEdit: _gridEdit_vue__WEBPACK_IMPORTED_MODULE_2__["default"], EntityInspect: _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_5__["default"], LightSettingsEdit: _lightSettingsEdit_vue__WEBPACK_IMPORTED_MODULE_4__["default"], CreationOptions: _creationOptions_vue__WEBPACK_IMPORTED_MODULE_3__["default"]
        }
    })
], ToolBar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolBar);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _icons_mouseTrailIcon_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../icons/mouseTrailIcon.vue */ "./src/app/ui/icons/mouseTrailIcon.vue");
/* harmony import */ var _icons_wallIcon_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icons/wallIcon.vue */ "./src/app/ui/icons/wallIcon.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





let ToolBar = class ToolBar extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.tool = 'inspect';
        this.backgroundLocked = true;
        this.canUndo = false;
        this.canRedo = false;
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on('command_history_change', this.onCommandHistoryChange, this);
        let x = this.$refs.radioinspect;
        x.$el.addEventListener('click', (e) => {
            if (!(e.target instanceof HTMLInputElement))
                return;
            if (this.tool === 'inspect') {
                let locked = this.world.getResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE).locked;
                this.world.editResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE, { locked: !locked });
            }
        });
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
        this.world.events.off('command_history_change', this.onCommandHistoryChange, this);
    }
    onCommandHistoryChange(canUndo, canRedo) {
        this.canUndo = canUndo;
        this.canRedo = canRedo;
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE) {
            this.backgroundLocked = res.locked;
        }
        else if (res.type === _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE) {
            this.tool = res.tool;
        }
    }
    onToolEdit(tool) {
        this.world.editResource('tool', { tool });
    }
    undo() {
        this.world.events.emit('command_undo');
    }
    redo() {
        this.world.events.emit('command_redo');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], ToolBar.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('tool')
], ToolBar.prototype, "onToolEdit", null);
ToolBar = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: { MouseTrailIcon: _icons_mouseTrailIcon_vue__WEBPACK_IMPORTED_MODULE_3__["default"], WallIcon: _icons_wallIcon_vue__WEBPACK_IMPORTED_MODULE_4__["default"] }
    })
], ToolBar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolBar);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../footer.vue */ "./src/app/ui/footer.vue");
/* harmony import */ var _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue */ "./src/app/ui/home/mapInput.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let HomeComponent = class HomeComponent extends _vue__WEBPACK_IMPORTED_MODULE_2__.Vue {
    constructor() {
        super(...arguments);
        this.file = null;
        this.pendingOp = "";
    }
    onCreateMap() {
        this.eventEmitter.emit("create_map");
    }
    onEditMap() {
        this.pendingOp = 'edit';
        this.mapLoadModal.show();
        this.eventEmitter.emit("edit_map");
    }
    mapLoadCancel() {
        this.mapLoadModal.hide();
    }
    onFileChanged(val) {
        if (val == null)
            return;
        console.log("File dropped, loading: " + this.pendingOp);
        this.eventEmitter.emit(this.pendingOp, this.file);
        this.file = null;
        this.mapLoadCancel();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VRef)('map-load-modal')
], HomeComponent.prototype, "mapLoadModal", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VWatch)('file')
], HomeComponent.prototype, "onFileChanged", null);
HomeComponent = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VComponent)({
        components: { MapInput: _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__["default"], FooterComponent: _footer_vue__WEBPACK_IMPORTED_MODULE_0__["default"] }
    })
], HomeComponent);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HomeComponent);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts& ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&":
/*!******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts& ***!
  \******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


const LOADING_PHRASES = [
    "Persuading dragons to cooperate...",
    "A Dwarf, an Elf and a Dragonbord enter a tavern... \"We're looking for a quest\"",
    "An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways",
    "Recharging spell slots...",
    "Roll a Charisma saving throw...",
    "Long rest in progress...",
    "Fitting out the goblin army...",
    "The last boss you killed met a 20th level chieric... The rest is up to you! ;)",
    "This map only costs 25gp!",
    "Sorry, you'd better create a new character sheet",
];
function randomMex() {
    const i = Math.floor(Math.random() * LOADING_PHRASES.length);
    return LOADING_PHRASES[i];
}
let Loading = class Loading extends vue__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor() {
        super(...arguments);
        this.message = randomMex();
    }
};
Loading = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], Loading);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EditableColor = class EditableColor extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableColor.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableColor.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableColor.prototype, "placeholder", void 0);
EditableColor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EditableColor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableColor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _editableText_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableText.vue */ "./src/app/ui/util/editableText.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EditableNumber = class EditableNumber extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.filter = (s) => {
            let neg = false;
            if (s[0] === '-') {
                neg = this.canBeNegative;
                s = s.substr(1);
            }
            const prefix = neg ? '-' : '';
            return prefix + s.split('.', 2)
                .map(x => x.replace(/[^0-9]*/g, ''))
                .join('.');
        };
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableNumber.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableNumber.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableNumber.prototype, "placeholder", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: true })
], EditableNumber.prototype, "canBeNegative", void 0);
EditableNumber = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableText: _editableText_vue__WEBPACK_IMPORTED_MODULE_1__["default"]
        }
    })
], EditableNumber);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableNumber);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EditableText = class EditableText extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    onEvent(ev, event) {
        const et = event.target;
        if (this.filter !== undefined) {
            et.value = this.filter(et.value);
        }
        this.$emit(ev, et.value);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableText.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableText.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableText.prototype, "placeholder", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: undefined })
], EditableText.prototype, "filter", void 0);
EditableText = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EditableText);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableText);


/***/ }),

/***/ "./src/app/PIXI.ts":
/*!*************************!*\
  !*** ./src/app/PIXI.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi-layers */ "./node_modules/pixi-layers/dist/pixi-layers.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_layers__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pixi_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./src/app/assetsLoader.ts":
/*!*********************************!*\
  !*** ./src/app/assetsLoader.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAssets": () => (/* binding */ loadAssets)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Public/images/props.png */ "./src/public/images/props.png");
/* harmony import */ var Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Public/spritesheets/props.json */ "./src/public/spritesheets/props.json");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



var BaseTexture = pixi_js__WEBPACK_IMPORTED_MODULE_0__.BaseTexture;
var ImageResource = pixi_js__WEBPACK_IMPORTED_MODULE_0__.resources.ImageResource;
function loadSpritesheet(loader, name, imgUrl, data) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            console.log("[Spritesheet] Loading: " + name);
            const imgElm = new Image();
            imgElm.crossOrigin = 'anonymous';
            imgElm.onload = () => {
                const tex = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Texture(new BaseTexture(new ImageResource(imgElm)));
                const spritesheet = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Spritesheet(tex, data);
                loader.resources[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.LoaderResource(name, "");
                loader.resources[name].spritesheet = spritesheet;
                spritesheet.parse(() => {
                    console.log("[Spritesheet] Loaded: " + name);
                    resolve(spritesheet);
                });
            };
            imgElm.src = imgUrl; // When the listeners are set, we can finally start downloading the image.
        });
    });
}
function loadAssets() {
    return __awaiter(this, void 0, void 0, function* () {
        const loader = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Loader.shared;
        yield Promise.all([
            loadSpritesheet(loader, "props", Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__["default"], Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__),
        ]);
    });
}


/***/ }),

/***/ "./src/app/ecs/component.ts":
/*!**********************************!*\
  !*** ./src/app/ecs/component.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "POSITION_TYPE": () => (/* binding */ POSITION_TYPE),
/* harmony export */   "TRANSFORM_TYPE": () => (/* binding */ TRANSFORM_TYPE),
/* harmony export */   "NAME_TYPE": () => (/* binding */ NAME_TYPE),
/* harmony export */   "NOTE_TYPE": () => (/* binding */ NOTE_TYPE),
/* harmony export */   "FOLLOW_MOUSE_TYPE": () => (/* binding */ FOLLOW_MOUSE_TYPE),
/* harmony export */   "HOST_HIDDEN_TYPE": () => (/* binding */ HOST_HIDDEN_TYPE),
/* harmony export */   "registerCommonStorage": () => (/* binding */ registerCommonStorage)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/app/ecs/storage.ts");

const POSITION_TYPE = "position";
const TRANSFORM_TYPE = "transform";
const NAME_TYPE = "name";
const NOTE_TYPE = "note";
const FOLLOW_MOUSE_TYPE = "follow_mouse";
const HOST_HIDDEN_TYPE = "host_hidden";
function registerCommonStorage(ecs) {
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(POSITION_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(TRANSFORM_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NAME_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NOTE_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(FOLLOW_MOUSE_TYPE, false, false));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(HOST_HIDDEN_TYPE, false, false));
}


/***/ }),

/***/ "./src/app/ecs/ecsUtil.ts":
/*!********************************!*\
  !*** ./src/app/ecs/ecsUtil.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterComponentKeepEntity": () => (/* binding */ filterComponentKeepEntity),
/* harmony export */   "filterComponent": () => (/* binding */ filterComponent),
/* harmony export */   "generateRandomId": () => (/* binding */ generateRandomId),
/* harmony export */   "componentClone": () => (/* binding */ componentClone)
/* harmony export */ });
function filterComponentKeepEntity(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function filterComponent(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'entity' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function generateRandomId() {
    return Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
}
function componentClone(obj) {
    return JSON.parse(JSON.stringify(obj));
}


/***/ }),

/***/ "./src/app/ecs/interaction.ts":
/*!************************************!*\
  !*** ./src/app/ecs/interaction.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeomertyQueryType": () => (/* binding */ GeomertyQueryType),
/* harmony export */   "QueryHitEvent": () => (/* binding */ QueryHitEvent)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

var GeomertyQueryType;
(function (GeomertyQueryType) {
    GeomertyQueryType[GeomertyQueryType["POINT"] = 0] = "POINT";
    GeomertyQueryType[GeomertyQueryType["AABB"] = 1] = "AABB";
})(GeomertyQueryType || (GeomertyQueryType = {}));
class QueryHitEvent {
    constructor(type, multi, aabb, data) {
        this.hits = new Map();
        this.type = type;
        this.multi = multi;
        this.aabb = aabb;
        this.data = data || aabb;
    }
    shouldContinue() {
        return this.multi || this.hits.size === 0;
    }
    addHit(entity, priority) {
        if (!this.shouldContinue())
            return;
        if (this.hits.has(entity)) {
            let oldPrior = this.hits.get(entity);
            if (oldPrior >= priority)
                return;
        }
        this.hits.set(entity, priority);
    }
    getSorted() {
        return [...this.hits.entries()].sort(x => -x[1]).map(x => x[0]);
    }
    static queryPoint(point, multi) {
        return new QueryHitEvent(GeomertyQueryType.POINT, multi, new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(point.x, point.y, point.x, point.y), point);
    }
    static queryAabb(aabb, multi) {
        return new QueryHitEvent(GeomertyQueryType.AABB, multi, aabb);
    }
}


/***/ }),

/***/ "./src/app/ecs/resource.ts":
/*!*********************************!*\
  !*** ./src/app/ecs/resource.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RECTANGULAR_SELECTION_TYPE": () => (/* binding */ RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "MEASURE_TYPE": () => (/* binding */ MEASURE_TYPE),
/* harmony export */   "CREATION_INFO_TYPE": () => (/* binding */ CREATION_INFO_TYPE)
/* harmony export */ });
const RECTANGULAR_SELECTION_TYPE = "rectangular_selection";
const MEASURE_TYPE = "measure";
const CREATION_INFO_TYPE = "creation_info";


/***/ }),

/***/ "./src/app/ecs/storage.ts":
/*!********************************!*\
  !*** ./src/app/ecs/storage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "serializeObj": () => (/* binding */ serializeObj),
/* harmony export */   "MultiEcsStorage": () => (/* binding */ MultiEcsStorage),
/* harmony export */   "SingleEcsStorage": () => (/* binding */ SingleEcsStorage),
/* harmony export */   "FlagEcsStorage": () => (/* binding */ FlagEcsStorage)
/* harmony export */ });
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/jsobj */ "./src/app/util/jsobj.ts");



function serializeObj(obj, removeClientVisible) {
    let res = {};
    for (let name in obj) {
        if (name[0] === '_' || name === 'entity' ||
            name === 'type' || (removeClientVisible && name === 'clientVisible'))
            continue;
        res[name] = obj[name];
    }
    return res;
}
class MultiEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getFirstComponent(entity, multiId) {
        if (multiId !== undefined) {
            return this.getComponent(entity, multiId);
        }
        let e = this.data.get(entity);
        if (e === undefined)
            return undefined;
        return e[0];
    }
    getComponent(entity, multiId) {
        let cmps = this.data.get(entity);
        if (cmps === undefined)
            return undefined;
        for (let cmp of cmps) {
            if (cmp.multiId === multiId)
                return cmp;
        }
        return undefined;
    }
    getComponents(entity) {
        if (entity !== undefined) {
            return this.data.get(entity) || [];
        }
        else {
            return this.allComponents();
        }
    }
    *allComponents() {
        for (let comps of this.data.values()) {
            for (let comp of comps) {
                yield comp;
            }
        }
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (component.multiId >= 0) { // Pre-assigned multi-id
            if (arr === undefined) {
                this.data.set(component.entity, [component]);
            }
            else {
                for (let c of arr) {
                    if (c.multiId === component.multiId)
                        throw Error('Invalid pre-assigned multiId ' + c.multiId);
                }
                arr.push(component);
            }
            return;
        }
        if (arr === undefined) {
            component.multiId = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_0__.generateRandomId)();
            this.data.set(component.entity, [component]);
        }
        else {
            let id;
            let found;
            do {
                id = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_0__.generateRandomId)();
                found = false;
                for (let x of arr) {
                    if (x.multiId === id) {
                        found = true;
                        break;
                    }
                }
            } while (found);
            component.multiId = id;
            arr.push(component);
        }
    }
    unregister(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            return;
        }
        if (arr.length === 1 && arr[0] === component) {
            this.data.delete(component.entity);
        }
        else {
            arr.splice(arr.indexOf(component), 1);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize(sdata) {
        let res = {};
        const stripClient = sdata.options.stripClient;
        const ser = (comps) => {
            let entityRes = new Array();
            for (let component of comps) {
                if (stripClient &&
                    component.clientVisible === false)
                    continue;
                entityRes.push(serializeObj(component, stripClient));
            }
            return entityRes;
        };
        const remap = sdata.options.remap;
        let isPresent = false;
        if (sdata.options.only !== undefined) {
            let i = 0;
            for (let entity of sdata.options.only) {
                i += 1;
                let comps = this.data.get(entity);
                if (comps === undefined)
                    continue;
                if (sdata.shouldIgnore(entity))
                    continue;
                const x = ser(comps);
                if (x.length === 0)
                    continue;
                let e = remap ? i : entity;
                res[e] = x;
                isPresent = true;
            }
        }
        else {
            for (let [entity, comps] of this.data.entries()) {
                if (sdata.shouldIgnore(entity))
                    continue;
                const x = ser(comps);
                if (x.length === 0)
                    continue;
                let e = remap ? sdata.entityMapping(entity) : entity;
                res[e] = x;
                isPresent = true;
            }
        }
        if (!isPresent)
            return undefined;
        return res;
    }
    deserialize(ecs, dsdata, data) {
        if (data === undefined)
            return;
        for (let entity in data) {
            let e = parseInt(entity);
            for (let comp of data[entity]) {
                let obj = Object.assign({}, comp, {
                    type: this.type
                });
                ecs.addComponent(dsdata.entityMapping(e), obj);
            }
        }
    }
    serializedMerge(to, from) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectMerge)(to, from);
    }
    serializedStrip(data, filter) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectFilterInplace)(data, (name, val) => {
            if (!filter(parseInt(name)))
                return false;
            (0,_util_array__WEBPACK_IMPORTED_MODULE_1__.arrayFilterInPlace)(val, x => {
                if (x.clientVisible === false) {
                    return false;
                }
                else {
                    delete x['clientVisible'];
                    return true;
                }
            });
            return val.length !== 0;
        });
    }
}
class SingleEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.data.get(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.data.get(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            this.data.set(component.entity, component);
        }
        else {
            throw new Error('Component of same type already registered');
        }
    }
    unregister(component) {
        let c = this.data.get(component.entity);
        if (c === undefined) {
            return;
        }
        if (c === component) {
            this.data.delete(component.entity);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize(sdata) {
        let res = {};
        const stripClient = sdata.options.stripClient;
        const remap = sdata.options.remap;
        let isPresent = false;
        if (sdata.options.only !== undefined) {
            let i = 0;
            for (let entity of sdata.options.only) {
                i += 1;
                const comp = this.data.get(entity);
                if (comp === undefined)
                    continue;
                if (stripClient &&
                    (sdata.shouldIgnore(comp.entity) ||
                        comp.clientVisible === false))
                    continue;
                let e = remap ? i : entity;
                res[e] = serializeObj(comp, stripClient);
                isPresent = true;
            }
        }
        else {
            for (let comp of this.data.values()) {
                if (stripClient &&
                    (sdata.shouldIgnore(comp.entity) ||
                        comp.clientVisible === false))
                    continue;
                let e = remap ? sdata.entityMapping(comp.entity) : comp.entity;
                res[e] = serializeObj(comp, stripClient);
                isPresent = true;
            }
        }
        if (!isPresent)
            return undefined;
        return res;
    }
    deserialize(ecs, dsData, data) {
        if (data === undefined)
            return;
        for (let entity in data) {
            let obj = Object.assign({}, data[entity], {
                type: this.type
            });
            ecs.addComponent(dsData.entityMapping(parseInt(entity)), obj);
        }
    }
    serializedMerge(to, from) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectMerge)(to, from);
    }
    serializedStrip(data, filter) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectFilterInplace)(data, (name, val) => {
            if (!filter(parseInt(name)))
                return false;
            if (val.clientVisible === false)
                return false;
            return true;
        });
    }
}
class FlagEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.getComponent(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.getComponent(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        if (this.data.has(component.entity))
            throw new Error('Component of same type already registered');
        this.data.set(component.entity, component);
    }
    unregister(component) {
        this.data.delete(component.entity);
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize(sdata) {
        let data;
        if (sdata.options.only === undefined) {
            data = [...this.data.keys()];
            if (sdata.options.stripClient) {
                data = data.filter(e => !sdata.shouldIgnore(e));
            }
            if (sdata.options.remap) {
                data = data.map(sdata.entityMapping);
            }
        }
        else {
            data = [];
            let i = 0;
            for (let e of sdata.options.only) {
                i += 1;
                if (!this.data.has(e) || sdata.shouldIgnore(e))
                    continue;
                data.push(sdata.options.remap ? i : e);
            }
        }
        if (data.length === 0)
            return undefined;
        return data;
    }
    deserialize(ecs, dsData, data) {
        if (data === undefined)
            return;
        for (let entity of data) {
            ecs.addComponent(dsData.entityMapping(entity), {
                type: this.type,
                entity: -1
            });
        }
    }
    serializedMerge(to, from) {
        to.push(...from);
    }
    serializedStrip(data, filter) {
        (0,_util_array__WEBPACK_IMPORTED_MODULE_1__.arrayFilterInPlace)(data, filter);
    }
}


/***/ }),

/***/ "./src/app/ecs/systemGraph.ts":
/*!************************************!*\
  !*** ./src/app/ecs/systemGraph.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SystemGraph": () => (/* binding */ SystemGraph)
/* harmony export */ });
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
class SystemGraph {
    constructor() {
        this.systemsByName = new Map();
        this.systems = new Array();
        this.unfulfilledDeps = new Set();
    }
    get(name) {
        return this.systemsByName.get(name);
    }
    register(system) {
        let depName = system.name;
        let unfulfilled = this.unfulfilledDeps.has(system.name);
        if (!unfulfilled && system.provides !== undefined) {
            for (let dep of system.provides) {
                depName = dep;
                unfulfilled = this.unfulfilledDeps.has(dep);
                if (unfulfilled)
                    break;
            }
        }
        if (unfulfilled) {
            throw new Error(`Some previous system optionally depended on ${depName}, please order your systems correctly`);
        }
        for (let dep of system.dependencies) {
            if (!this.systemsByName.has(dep))
                throw new Error('Unfulfilled dependency: ' + dep);
        }
        if (system.optionalDependencies !== undefined) {
            for (let dep of system.optionalDependencies) {
                if (this.systemsByName.has(dep))
                    continue;
                this.unfulfilledDeps.add(dep);
            }
        }
        let sys = this.systemsByName.get(system.name);
        if (sys != null) {
            if (sys.name === system.name)
                throw new Error('System name conflict');
            console.warn(`System ${system.name} has been already registered under ${sys.name}, overriding`);
        }
        this.systemsByName.set(system.name, system);
        this.systems.push(system);
        if (system.provides) {
            for (let prov of system.provides) {
                if (this.systemsByName.has(prov)) {
                    throw new Error(`Service ${prov} is already provided by ${this.systemsByName.get(prov).name}, cannot override with ${system.name}`);
                }
                this.systemsByName.set(prov, system);
            }
        }
    }
    [Symbol.iterator]() {
        return this.systems[Symbol.iterator]();
    }
    getAt(index) {
        return this.systems[index];
    }
    size() {
        return this.systems.length;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/bigStorageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/bigStorageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BigEntryFlags": () => (/* binding */ BigEntryFlags),
/* harmony export */   "BIG_STORAGE_TYPE": () => (/* binding */ BIG_STORAGE_TYPE),
/* harmony export */   "BigStorageSystem": () => (/* binding */ BigStorageSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




var BigEntryFlags;
(function (BigEntryFlags) {
    BigEntryFlags[BigEntryFlags["READONLY"] = 1] = "READONLY";
    /// If it's not shared it's owned as a CoW
    BigEntryFlags[BigEntryFlags["SHARED"] = 2] = "SHARED";
    // If present the object will not be shared with the other
    //  (but it's still SAVE so it will be sent at the beginning,
    //   use case: visibility map)
    BigEntryFlags[BigEntryFlags["NO_SYNC"] = 4] = "NO_SYNC";
})(BigEntryFlags || (BigEntryFlags = {}));
const BIG_STORAGE_TYPE = 'big_storage';
class BigStorageSystem {
    constructor(world) {
        this.name = BIG_STORAGE_TYPE;
        this.dependencies = [];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(BIG_STORAGE_TYPE, true, true);
        this.res = {
            type: BIG_STORAGE_TYPE,
            entity: -1,
            _save: true,
            _sync: true,
        };
        this.world = world;
        world.addStorage(this.storage);
        world.addResource(this.res);
        world.events.on('deserialized', this.onDeserialized, this);
    }
    create(data, flags = 0, own = true) {
        if (!this.world.isMaster) {
            throw Error("Trying to create a big entry on a non-master world");
        }
        if (this.res.entity <= 0) {
            console.log("Creating big storage");
            let entity = this.world.allocateId();
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, {
                kind: 'spawn',
                data: {
                    entities: [entity],
                    storages: {},
                }
            }, true);
            let cmd = {
                kind: 'redit',
                add: [],
                edit: {},
                remove: [],
            };
            cmd.edit[BIG_STORAGE_TYPE] = { entity };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, cmd, true);
        }
        let x = {
            multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.generateRandomId)(),
            type: BIG_STORAGE_TYPE,
            entity: this.res.entity,
            data,
            flags,
            _users: own ? 1 : 0,
        };
        (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_1__.componentEditCommand)([x]), !(flags & BigEntryFlags.NO_SYNC));
        return x;
    }
    request(id) {
        return this.storage.getComponent(this.res.entity, id);
    }
    requestUse(id) {
        const r = this.request(id);
        if (r === undefined)
            return undefined;
        if (this.world.isMaster) {
            r._users = ((r._users || 0) + 1);
        }
        return r;
    }
    replace(id, newData, ignoreReadonly = false) {
        const r = this.request(id);
        if (r === undefined) {
            throw Error("undefined id");
        }
        if (r.flags & BigEntryFlags.READONLY && !ignoreReadonly) {
            throw Error("Trying to replace readonly resurce");
        }
        if ((r.flags & BigEntryFlags.SHARED) === 0 && r._users > 1) {
            r._users -= 1;
            const entry = this.create(newData, r.flags);
            return entry.multiId;
        }
        r.data = newData;
        return r.multiId;
    }
    dropUse(id, forceDrop = false) {
        if (!this.world.isMaster)
            return;
        const r = this.request(id);
        if (r === undefined)
            return;
        r._users = ((r._users || 0) - 1);
        // Don't, this might be reused by the commands
        if (forceDrop && r._users <= 0) {
            this.storage.unregister(r);
        }
    }
    onDeserialized() {
        let toRemove = [];
        for (let r of this.storage.getComponents(this.res.entity)) {
            if (r._users === undefined || r._users <= 0) {
                toRemove.push(r);
            }
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_1__.componentEditCommand)([], [], toRemove);
        // TODO: please check if this works, I'm too scared
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/interactionSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/interactionSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShapeType": () => (/* binding */ ShapeType),
/* harmony export */   "shapePoint": () => (/* binding */ shapePoint),
/* harmony export */   "shapeAabb": () => (/* binding */ shapeAabb),
/* harmony export */   "shapeCircle": () => (/* binding */ shapeCircle),
/* harmony export */   "shapeLine": () => (/* binding */ shapeLine),
/* harmony export */   "shapePolygon": () => (/* binding */ shapePolygon),
/* harmony export */   "shapeObb": () => (/* binding */ shapeObb),
/* harmony export */   "shapeIntersect": () => (/* binding */ shapeIntersect),
/* harmony export */   "shapeToAabb": () => (/* binding */ shapeToAabb),
/* harmony export */   "INTERACTION_TYPE": () => (/* binding */ INTERACTION_TYPE),
/* harmony export */   "InteractionSystem": () => (/* binding */ InteractionSystem)
/* harmony export */ });
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _game_pointDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/pointDB */ "./src/app/game/pointDB.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");










var ShapeType;
(function (ShapeType) {
    ShapeType[ShapeType["POINT"] = 0] = "POINT";
    ShapeType[ShapeType["AABB"] = 1] = "AABB";
    ShapeType[ShapeType["CIRCLE"] = 2] = "CIRCLE";
    ShapeType[ShapeType["LINE"] = 3] = "LINE";
    ShapeType[ShapeType["POLYGON"] = 4] = "POLYGON";
    ShapeType[ShapeType["OBB"] = 5] = "OBB";
})(ShapeType || (ShapeType = {}));
function shapePoint(pos) {
    return {
        type: ShapeType.POINT,
        pos,
    };
}
function shapeAabb(aabb) {
    return {
        type: ShapeType.AABB,
        data: aabb,
    };
}
function shapeCircle(center, radius) {
    return {
        type: ShapeType.CIRCLE,
        pos: center,
        radius: radius,
    };
}
function shapeLine(line) {
    return {
        type: ShapeType.LINE,
        data: line,
    };
}
function shapePolygon(polygon) {
    return {
        type: ShapeType.POLYGON,
        polygon,
    };
}
function shapeObb(obb) {
    return {
        type: ShapeType.OBB,
        data: obb,
    };
}
function shapeIntersect(shape1, shape2) {
    if (shape2.type < shape1.type)
        [shape2, shape1] = [shape1, shape2];
    let s1t = shape1.type;
    let s2t = shape2.type;
    // TODO: polygon vs polygon
    if (s1t === ShapeType.POINT) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POINT: return false;
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsPoint)(shape2.data, s1.pos);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapPointVsCircle)(s1.pos, shape2.pos, shape2.radius);
            case ShapeType.LINE: return false;
            case ShapeType.POLYGON: return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.polygonPointIntersect)(s1.pos, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsPoint)(shape2.data, s1.pos);
        }
    }
    else if (s1t === ShapeType.AABB) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsAabb)(shape2.data, s1.data);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsAabb)(shape2.pos, shape2.radius, s1.data);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsLine)(s1.data, shape2.data);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(_geometry_obb__WEBPACK_IMPORTED_MODULE_3__.Obb.fromAabb(s1.data), shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsAabb)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.CIRCLE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsCircle)(shape2.pos, shape2.radius, s1.pos, s1.radius);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsCircle)(shape2.data, s1.pos, s1.radius);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsPolygon)(s1.pos, s1.radius, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsCircle)(shape2.data, s1.pos, s1.radius);
        }
    }
    else if (s1t === ShapeType.LINE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.intersectSegmentVsSegment)(s1.data, shape2.data) == _geometry_collision__WEBPACK_IMPORTED_MODULE_0__.SegmentVsSegmentRes.INTERN;
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsPolygon)(s1.data, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsLine)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.POLYGON) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POLYGON: break;
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(shape2.data, s1.polygon);
        }
    }
    else if (s1t === ShapeType.OBB) {
        return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsRotatedRect)(shape1.data, shape2.data);
    }
    // Polygon vs Polygon
    throw new Error('Query not implemented: ' + s1t + ' vs ' + s2t);
}
function shapeToAabb(shape) {
    switch (shape.type) {
        case ShapeType.POINT: return _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.fromPoint(shape.pos);
        case ShapeType.AABB: return shape.data;
        case ShapeType.CIRCLE: {
            let s = shape;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.pos.x - s.radius, s.pos.y - s.radius, s.pos.x + s.radius, s.pos.y + s.radius);
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.fromX, s.fromY, s.toX, s.toY);
        }
        case ShapeType.POLYGON: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.polygon);
            return aabb;
        }
        case ShapeType.OBB: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.data.rotVertex);
            return aabb;
        }
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
function shapeToSnaps(shape) {
    switch (shape.type) {
        case ShapeType.POINT:
        case ShapeType.CIRCLE: {
            let p = shape;
            return [p.pos.x, p.pos.y];
        }
        case ShapeType.AABB: {
            let aabb = shape.data;
            return [
                aabb.minX, aabb.minY,
                aabb.minX, aabb.maxY,
                aabb.maxX, aabb.minY,
                aabb.maxX, aabb.maxY,
            ];
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return [
                s.fromX, s.fromY,
                s.toX, s.toY,
            ];
        }
        case ShapeType.POLYGON: {
            let pol = shape.polygon;
            let data = new Array();
            for (let i = 0; i < pol.length; i += 2) {
                data.push(pol[i], pol[i + 1]);
            }
            return data;
        }
        case ShapeType.OBB: {
            let pol = shape.data.rotVertex;
            let data = new Array(8);
            for (let i = 0; i < 8; i++) {
                data[i] = pol[i];
            }
            return data;
        }
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
function shapeTranslate(shape, x, y) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            s.pos.x += x;
            s.pos.y += y;
            break;
        }
        case ShapeType.AABB: {
            let s = shape.data;
            s.translate(x, y, s);
            break;
        }
        case ShapeType.LINE: {
            let s = shape.data;
            s.fromX += x;
            s.fromY += y;
            s.toX += x;
            s.toY += y;
            break;
        }
        case ShapeType.POLYGON: {
            let s = shape;
            let slen = s.polygon.length;
            for (let i = 0; i < slen; i += 2) {
                s.polygon[i] += x;
                s.polygon[i + 1] += y;
            }
            break;
        }
        case ShapeType.OBB: {
            let s = shape.data;
            s.unrotated.translate(x, y, s.unrotated);
            let pol = s.rotVertex;
            for (let i = 0; i < 8; i += 2) {
                pol[i] += x;
                pol[i + 1] += y;
            }
            break;
        }
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
function shapeClone(shape) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            return {
                type: ShapeType.POINT,
                pos: new PIXI.Point(s.pos.x, s.pos.y),
            };
        }
        case ShapeType.AABB: return shapeAabb(shape.data.copy());
        case ShapeType.LINE: return shapeLine(shape.data.copy());
        case ShapeType.POLYGON: return shapePolygon([...shape.polygon]);
        case ShapeType.OBB: return shapeObb(shape.data.copy());
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
const INTERACTION_TYPE = 'interaction';
class InteractionSystem {
    constructor(world) {
        this.name = INTERACTION_TYPE;
        this.dependencies = [_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_5__.SingleEcsStorage('interaction', false, false);
        this.isTranslating = false;
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        this.world = world;
        this.selectionSys = this.world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE);
        this.snapDb = new _game_pointDB__WEBPACK_IMPORTED_MODULE_7__.PointDB(this.world.systems.get(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE));
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
        world.events.on('query_hit', this.onQueryHit, this);
    }
    registerSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.insert([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.remove([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterComponent(comp) {
        if (comp._snaps) {
            this.unregisterSnapPoints(comp._snaps);
            comp._snaps = undefined;
        }
        if (comp._treeId !== undefined) {
            this.aabbTree.destroyProxy(comp._treeId);
            comp._treeId = undefined;
        }
    }
    updateComponent(comp) {
        this.unregisterComponent(comp);
        if (comp.shape === undefined)
            return;
        comp._treeId = this.aabbTree.createProxy(shapeToAabb(comp.shape), comp);
        if (comp.snapEnabled) {
            comp._snaps = shapeToSnaps(comp.shape);
            this.registerSnapPoints(comp._snaps);
        }
    }
    onComponentAdd(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.updateComponent(comp);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === INTERACTION_TYPE) {
            let c = comp;
            if ('shape' in changed) {
                this.updateComponent(c);
            }
        }
        else if (comp.type === 'position') {
            let pos = comp;
            let inter = this.storage.getComponent(pos.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let oldX = changed.x !== undefined ? changed.x : pos.x;
            let oldY = changed.y !== undefined ? changed.y : pos.y;
            let diffX = pos.x - oldX;
            let diffY = pos.y - oldY;
            if (diffX !== 0 || diffY !== 0) {
                // TODO: trigger component change(?)
                shapeTranslate(inter.shape, diffX, diffY);
                if (!(this.isTranslating && this.selectionSys.selectedEntities.has(pos.entity))) {
                    this.updateComponent(inter);
                }
            }
            return;
        }
        else if (comp.type === 'transform') {
            let trans = comp;
            let inter = this.storage.getComponent(trans.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let shape = inter.shape;
            if (shape.type === ShapeType.POINT)
                return;
            if (shape.type === ShapeType.CIRCLE) {
                let s = shape;
                if ('scale' in changed) {
                    s.radius = s.radius * trans.scale / changed.scale;
                    this.updateComponent(inter);
                }
            }
            else if (shape.type === ShapeType.OBB) {
                let s = shape;
                if ('scale' in changed) {
                    let diffScale = trans.scale / changed.scale;
                    s.data.unrotated.scale(diffScale, diffScale, s.data.unrotated);
                }
                s.data.rotation = trans.rotation;
                s.data.recompute();
                this.updateComponent(inter);
            }
            else {
                console.warn("Unable to auto-rotate other shapes than OBB, watch your components!");
                return;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.unregisterComponent(comp);
    }
    onToolMoveBegin() {
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.unregisterComponent(c);
        }
        this.isTranslating = true;
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.updateComponent(c);
        }
    }
    singleHitQuery(shape, event) {
        let bestPrior = Number.NEGATIVE_INFINITY;
        let best = -1;
        let iter = this.queryVisible(shape, (c) => (c.selectPriority || 0) > bestPrior);
        for (let item of iter) {
            best = item.entity;
            bestPrior = item.selectPriority || 0;
        }
        if (best !== -1) {
            event.addHit(best, bestPrior);
        }
    }
    multiHitQuery(shape, event) {
        let iter = this.queryVisible(shape, (c) => c.selectPriority !== undefined);
        for (let item of iter) {
            event.addHit(item.entity, item.selectPriority);
            if (!event.shouldContinue())
                return;
        }
    }
    onQueryHit(event) {
        if (!event.shouldContinue())
            return;
        let shape;
        switch (event.type) {
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.POINT:
                shape = shapeCircle(event.data, 20);
                break;
            //case GeomertyQueryType.POINT: shape = shapePoint(event.data as PIXI.IPointData); break; // ENABLE THIS FOR POINT-PRECISION CLICKING
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.AABB:
                shape = shapeAabb(event.data);
                break;
            default: throw new Error('Unknown query type');
        }
        if (event.multi) {
            this.multiHitQuery(shape, event);
        }
        else {
            this.singleHitQuery(shape, event);
        }
    }
    queryVisible(shape, preCheck) {
        let playerVis = undefined;
        if (!this.world.isMaster) {
            playerVis = this.world.storages.get('player_visible');
        }
        if (playerVis === undefined)
            return this.query(shape, preCheck);
        return this.query(shape, c => {
            let visC = playerVis.getComponent(c.entity);
            if (visC !== undefined && !visC.visible)
                return false;
            return preCheck === undefined ? true : preCheck(c);
        });
    }
    *query(shape, preCheck) {
        let aabb = shapeToAabb(shape);
        for (let c of this.aabbTree.query(aabb)) {
            let tag = c.tag;
            if (preCheck && !preCheck(tag))
                continue;
            if (!shapeIntersect(tag.shape, shape))
                continue;
            let qc = tag.queryCheck;
            if (qc && !qc(shape))
                continue;
            yield tag;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/keyboardSystem.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/back/keyboardSystem.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KEYBOARD_KEY_UP": () => (/* binding */ KEYBOARD_KEY_UP),
/* harmony export */   "KEYBOARD_KEY_DOWN": () => (/* binding */ KEYBOARD_KEY_DOWN),
/* harmony export */   "KEYBOARD_TYPE": () => (/* binding */ KEYBOARD_TYPE),
/* harmony export */   "WEB_KEYBOARD_TYPE": () => (/* binding */ WEB_KEYBOARD_TYPE),
/* harmony export */   "WebKeyboardSystem": () => (/* binding */ WebKeyboardSystem)
/* harmony export */ });
const KEYBOARD_KEY_UP = 'keyboard_key_up';
const KEYBOARD_KEY_DOWN = 'keyboard_key_down';
const KEYBOARD_TYPE = 'keyboard';
const WEB_KEYBOARD_TYPE = 'web_keyboard';
class WebKeyboardSystem {
    constructor(world) {
        this.dependencies = [];
        this.name = WEB_KEYBOARD_TYPE;
        this.provides = [KEYBOARD_TYPE];
        this.world = world;
        this.keyboard = {
            type: KEYBOARD_TYPE,
            _save: false,
            _sync: false,
            pressedKeys: new Set(),
            shift: false,
            ctrl: false,
        };
        this.world.addResource(this.keyboard);
    }
    onKeyDown(event) {
        if (event.target instanceof HTMLInputElement) {
            return;
        }
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            this.keyboard.pressedKeys.add(key);
            this.world.events.emit(KEYBOARD_KEY_UP, key);
        }
    }
    onKeyUp(event) {
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            if (this.keyboard.pressedKeys.delete(key)) {
                this.world.events.emit(KEYBOARD_KEY_DOWN, key);
            }
        }
    }
    onBlur(event) {
        if (this.keyboard.shift || this.keyboard.ctrl) {
            const edit = {
                shift: false, ctrl: false,
            };
            this.world.editResource(KEYBOARD_TYPE, edit);
        }
        let pressedKeys = [...this.keyboard.pressedKeys];
        for (let key of pressedKeys) {
            this.keyboard.pressedKeys.delete(key);
            this.world.events.emit(KEYBOARD_KEY_DOWN, key);
        }
    }
    enable() {
        this.keyDownListener = this.onKeyDown.bind(this);
        document.addEventListener('keydown', this.keyDownListener);
        this.keyUpListener = this.onKeyUp.bind(this);
        document.addEventListener('keyup', this.keyUpListener);
        this.blurListener = this.onBlur.bind(this);
        document.addEventListener('blur', this.blurListener);
    }
    destroy() {
        document.removeEventListener('keydown', this.keyDownListener);
        document.removeEventListener('keyup', this.keyUpListener);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/layerSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/back/layerSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LAYER_TYPE": () => (/* binding */ LAYER_TYPE),
/* harmony export */   "PARENT_LAYER_TYPE": () => (/* binding */ PARENT_LAYER_TYPE),
/* harmony export */   "BACKGROUND_LAYER_TYPE": () => (/* binding */ BACKGROUND_LAYER_TYPE),
/* harmony export */   "SELECTED_LAYER_TYPE": () => (/* binding */ SELECTED_LAYER_TYPE),
/* harmony export */   "LayerSystem": () => (/* binding */ LayerSystem),
/* harmony export */   "findForeground": () => (/* binding */ findForeground)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




const LAYER_TYPE = "layer";
const PARENT_LAYER_TYPE = "layer_p";
const BACKGROUND_LAYER_TYPE = "layer_bkg";
const SELECTED_LAYER_TYPE = "layer_sel";
class LayerSystem {
    // TODO: optimize clear
    constructor(world) {
        this.name = LAYER_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [];
        this.layerStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(LAYER_TYPE);
        this.parentStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PARENT_LAYER_TYPE);
        this.layerByName = new Map();
        this.world = world;
        this.backgroundLayer = {
            type: BACKGROUND_LAYER_TYPE,
            entity: -1,
            name: "Background",
            priority: _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__.LayerOrder.BACKGROUND,
            locked: true,
            _save: true,
            _sync: true,
        };
        this.selectedLayer = {
            type: SELECTED_LAYER_TYPE,
            layer: -1,
        };
        world.addStorage(this.layerStorage);
        world.addStorage(this.parentStorage);
        world.addResource(this.backgroundLayer);
        world.addResource(this.selectedLayer);
        const events = world.events;
        events.on('component_add', this.onComponentAdd, this);
        events.on('component_edited', this.onComponentEdited, this);
        events.on('component_remove', this.onComponentRemove, this);
        events.on('resource_edited', this.onResourceEdited, this);
    }
    onLayerEdited(l, edits) {
        if ('name' in edits) {
            let oldName = edits.name;
            if (oldName !== undefined) {
                this.layerByName.delete(oldName);
            }
            if (l.name !== undefined) {
                if (this.layerByName.has(l.name)) {
                    console.warn("Layer name conflict");
                    l.name = undefined;
                    return;
                }
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentAdd(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            if (l.name !== undefined) {
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentEdited(c, edited) {
        if (c.type === LAYER_TYPE) {
            this.onLayerEdited(c, edited);
        }
    }
    onComponentRemove(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            let cmd = {
                kind: 'despawn',
                entities: [],
            };
            for (let child of this.parentStorage.allComponents()) {
                if (child.layer !== l.entity)
                    continue;
                cmd.entities.push(child.entity);
            }
            if (cmd.entities.length !== 0) {
                (0,_command_command__WEBPACK_IMPORTED_MODULE_1__.commandRegisterPreConsequence)(this.world, cmd);
            }
        }
    }
    onResourceEdited(r, edited) {
        if (r.type === BACKGROUND_LAYER_TYPE) {
            this.onLayerEdited(r, edited);
        }
    }
    getEntityLayer(entity) {
        let cmp = this.parentStorage.getComponent(entity);
        if (cmp === undefined) {
            return this.backgroundLayer;
        }
        let layer = this.layerStorage.getComponent(cmp.layer);
        if (layer === undefined) {
            console.warn("Invalid parent layer of " + cmp.entity + ": " + cmp.layer);
            return this.backgroundLayer;
        }
        return layer;
    }
    getLayerById(id) {
        if (id === -1)
            return this.backgroundLayer;
        let layer = this.layerStorage.getComponent(id);
        if (layer === undefined) {
            console.warn("Invalid layer id: " + id);
            return this.backgroundLayer;
        }
        return layer;
    }
    enable() {
    }
    destroy() {
    }
}
function findForeground(world) {
    let sto = world.getStorage(LAYER_TYPE);
    if (sto === undefined)
        return -1;
    for (let x of sto.getComponents()) {
        return x.entity; // There's only 1 layer for now (foreground)
    }
    // If it's not present we need to create it
    let cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__.SpawnCommandKind.from(world, [{
            type: LAYER_TYPE,
            name: 'Foreground',
            priority: _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__.LayerOrder.FOREGROUND,
            locked: false,
        }]);
    (0,_command_command__WEBPACK_IMPORTED_MODULE_1__.emitCommand)(world, cmd, true);
    return cmd.data.entities[0];
}


/***/ }),

/***/ "./src/app/ecs/systems/back/linkRelocationSystem.ts":
/*!**********************************************************!*\
  !*** ./src/app/ecs/systems/back/linkRelocationSystem.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LINK_RELOCATION_TYPE": () => (/* binding */ LINK_RELOCATION_TYPE),
/* harmony export */   "LinkRelocationSystem": () => (/* binding */ LinkRelocationSystem)
/* harmony export */ });
const LINK_RELOCATION_TYPE = 'link_relocation';
class LinkRelocationSystem {
    constructor(world) {
        this.dependencies = [];
        this.name = LINK_RELOCATION_TYPE;
        this.links = new Map();
        this.world = world;
        world.events.on('serialized', this.onSerialized, this);
        world.events.on('deserialize', this.onDeserialize, this);
    }
    addLink(storageName, path) {
        const paths = path.split('.');
        let storageData = this.links.get(storageName);
        if (storageData === undefined) {
            storageData = [];
            this.links.set(storageName, storageData);
        }
        storageData.push(paths);
    }
    adjustLink(mapping, obj, name) {
        if (obj[name] === undefined || typeof obj[name] !== 'number')
            return;
        let newId = mapping(obj[name]);
        if (newId > 0) {
            obj[name] = newId;
        }
    }
    foreachPathObj(baseObj, path, then) {
        const explore = (obj, i) => {
            if (obj === undefined)
                return;
            const p = path[i];
            if (i === path.length - 1) {
                then(obj, p);
                return;
            }
            if (p == '*') {
                for (let name in obj) {
                    explore(obj[name], i + 1);
                }
            }
            else {
                explore(obj[p], i + 1);
            }
        };
        explore(baseObj, 0);
    }
    adjustSerializedPaths(mapping, world) {
        for (let [sname, sdata] of this.links.entries()) {
            const storage = world.storages[sname];
            if (storage === undefined)
                continue;
            for (let entityId in storage) {
                const obj = storage[entityId];
                for (let path of sdata) {
                    this.foreachPathObj(obj, path, (o, n) => this.adjustLink(mapping, o, n));
                }
            }
        }
    }
    onSerialized(data) {
        if (!data.options.remap)
            return;
        this.adjustSerializedPaths(data.entityMapping, data.result);
    }
    onDeserialize(data) {
        if (!data.options.remap)
            return;
        this.adjustSerializedPaths(data.entityMapping, data.data);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/nameAsLabelSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/nameAsLabelSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NAME_AS_LABEL_TYPE": () => (/* binding */ NAME_AS_LABEL_TYPE),
/* harmony export */   "NameAsLabelSystem": () => (/* binding */ NameAsLabelSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




const NAME_AS_LABEL_TYPE = 'name_as_label';
class NameAsLabelSystem {
    constructor(world) {
        this.name = NAME_AS_LABEL_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(NAME_AS_LABEL_TYPE, false, false);
        this.isMasterView = true;
        this.world = world;
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    onComponentAdd(c) {
        if (c.type === NAME_AS_LABEL_TYPE) {
            this.updateElement(c);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE) {
            const comp = this.storage.getComponent(c.entity);
            if (comp !== undefined)
                this.updateElement(comp);
        }
    }
    onComponentEdited(c) {
        if (c.type === NAME_AS_LABEL_TYPE) {
            this.updateElement(c);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE) {
            const comp = this.storage.getComponent(c.entity);
            if (comp !== undefined)
                this.updateElement(comp);
        }
    }
    onComponentRemoved(c) {
        if (c.type === NAME_AS_LABEL_TYPE) {
            if (this.world.isDespawning.includes(c.entity))
                return;
            const g = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE);
            if (g === undefined)
                return;
            for (let elem of (g.display.children || [])) {
                if (elem.tag !== 'name')
                    continue;
                if (g.display._childrenRemove === undefined)
                    g.display._childrenRemove = [];
                g.display._childrenRemove.push(elem);
                break;
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE) {
            const comp = this.storage.getComponent(c.entity);
            if (comp !== undefined)
                this.updateElement(comp);
        }
    }
    onResourceEdited(res, edited) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_3__.LOCAL_LIGHT_SETTINGS_TYPE && 'visionType' in edited) {
            this.isMasterView = res.visionType !== 'rp';
            for (let c of this.storage.allComponents()) {
                this.updateElement(c);
            }
        }
    }
    updateElement(c) {
        let dis = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE);
        if (dis === undefined) {
            console.warn("Error, found text_as_label component on an element withot a graphic type," +
                "please first create your graphic type, then add a text_as_label component");
            dis = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_1__.ElementType.CONTAINER,
                    ignore: false,
                    priority: 0,
                },
                interactive: false,
            };
            this.world.addComponent(c.entity, dis);
        }
        const nameStorage = this.world.getStorage(_component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE);
        let compositeName = '';
        for (let name of nameStorage.getComponents(c.entity)) {
            if (name.name === '')
                continue;
            if (!this.isMasterView && name.clientVisible === false)
                continue;
            if (compositeName !== '')
                compositeName += '\n';
            compositeName += name.name;
        }
        this.updateElement0(c, dis, compositeName);
    }
    updateElement0(e, graphic, names) {
        const display = graphic.display;
        let elem = undefined;
        // Search element
        for (let c of (display.children || [])) {
            if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_1__.ElementType.TEXT && c.tag === 'name') {
                elem = c;
                break;
            }
        }
        // Or create one
        if (elem === undefined) {
            elem = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_1__.ElementType.TEXT,
                tag: 'name',
                ignore: false,
                priority: 0,
                color: 0,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_1__.VisibilityType.NORMAL,
                text: '',
                anchor: { x: 0.5, y: 1 },
                lineAlign: 'center',
            };
            if (display._childrenAdd === undefined)
                display._childrenAdd = [];
            display._childrenAdd.push(elem);
        }
        elem.offset = e.initialOffset;
        elem.text = names;
        this.world.editComponent(graphic.entity, graphic.type, { display: graphic.display }, undefined, false);
    }
    enable() {
        var _a;
        this.isMasterView = ((_a = this.world.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_3__.LOCAL_LIGHT_SETTINGS_TYPE)) === null || _a === void 0 ? void 0 : _a.visionType) !== 'rp';
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/networkSystem.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/systems/back/networkSystem.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NETWORK_TYPE": () => (/* binding */ NETWORK_TYPE),
/* harmony export */   "NETWORK_ENTITY_TYPE": () => (/* binding */ NETWORK_ENTITY_TYPE),
/* harmony export */   "NETWORK_STATUS_TYPE": () => (/* binding */ NETWORK_STATUS_TYPE),
/* harmony export */   "CommonNetworkSystem": () => (/* binding */ CommonNetworkSystem),
/* harmony export */   "HOST_NETWORK_TYPE": () => (/* binding */ HOST_NETWORK_TYPE),
/* harmony export */   "HostNetworkSystem": () => (/* binding */ HostNetworkSystem),
/* harmony export */   "CLIENT_NETWORK_TYPE": () => (/* binding */ CLIENT_NETWORK_TYPE),
/* harmony export */   "ClientNetworkSystem": () => (/* binding */ ClientNetworkSystem)
/* harmony export */ });
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");



const NETWORK_TYPE = 'network';
const NETWORK_ENTITY_TYPE = 'network_entity';
const NETWORK_STATUS_TYPE = 'network_status';
class CommonNetworkSystem {
    constructor(world, channel) {
        this.name = NETWORK_TYPE;
        this.dependencies = [];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(NETWORK_ENTITY_TYPE, true, false);
        this.channel = channel;
        this.world = world;
        this.world.addStorage(this.storage);
        this.res = {
            type: NETWORK_STATUS_TYPE,
            connectionCount: 0,
            trackerCount: this.channel.discovery.connectedTrackers,
            isBuffering: false,
            entityIndex: new Map(),
            _save: false,
            _sync: false,
        };
        world.addResource(this.res);
        this.channel.events.on('tracker_connections', trackerCount => {
            this.world.editResource(this.res.type, {
                trackerCount,
            });
        });
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('populate', this.onPopulate, this);
        if (world.isMaster) {
            world.addSystem(new HostNetworkSystem(world, channel));
        }
        else {
            world.addSystem(new ClientNetworkSystem(world, channel));
        }
    }
    onComponentAdd(c) {
        if (c.type === NETWORK_ENTITY_TYPE) {
            const comp = c;
            this.res.entityIndex.set(comp.networkId, comp.entity);
        }
    }
    onComponentRemove(c) {
        if (c.type === NETWORK_ENTITY_TYPE) {
            const comp = c;
            this.res.entityIndex.delete(comp.networkId);
        }
    }
    onPopulate() {
        this.res.myId = this.channel.myId;
        if (this.world.isMaster) {
            this.spawnDeviceEntity(this.res.myId);
            for (let pid of this.channel.connections.keys()) {
                this.spawnDeviceEntity(pid);
            }
        }
    }
    updateConnectionCount() {
        const connectionCount = this.channel.connections.size;
        this.world.editResource(NETWORK_STATUS_TYPE, { connectionCount });
    }
    spawnDeviceEntity(peerId) {
        const cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_2__.SpawnCommandKind.from(this.world, [
            {
                type: NETWORK_ENTITY_TYPE,
                networkId: peerId,
                color: Math.floor(Math.random() * 0xFFFFFF),
            }
        ]);
        (0,_command_command__WEBPACK_IMPORTED_MODULE_0__.emitCommand)(this.world, cmd, true);
    }
    onDeviceJoin(connId) {
        this.updateConnectionCount();
        if (this.world.isMaster) {
            this.spawnDeviceEntity(connId);
        }
    }
    onDeviceLeave(connId) {
        this.updateConnectionCount();
        if (this.world.isMaster) {
            const eid = this.res.entityIndex.get(connId);
            if (eid === undefined) {
                console.warn("Device " + connId + " had no associated entity");
                return;
            }
            const cmd = {
                kind: 'despawn',
                entities: [eid],
            };
            this.world.events.emit('command_emit', cmd);
        }
    }
    onDeviceBufferUpdate() {
        // TODO: buffering
        const isBuffering = false; // this.channel.bufferingChannels > 0;
        this.world.editResource(NETWORK_STATUS_TYPE, { isBuffering });
    }
    isOnline() {
        return this.channel.connections.size !== 0;
    }
    enable() {
        let chEvents = this.channel.events;
        chEvents.on('device_join', this.onDeviceJoin, this);
        chEvents.on('device_left', this.onDeviceLeave, this);
        chEvents.on('buffering_update', this.onDeviceBufferUpdate, this);
        //this.channel.events.on('message', x => console.log("RECEIVED: " + JSON.stringify(x)));
    }
    destroy() {
        let chEvents = this.channel.events;
        chEvents.off('device_join', this.onDeviceJoin, this);
        chEvents.off('device_left', this.onDeviceLeave, this);
        chEvents.off('buffering_update', this.onDeviceBufferUpdate, this);
    }
}
const HOST_NETWORK_TYPE = 'host_network';
class HostNetworkSystem {
    constructor(world, ch) {
        this.name = HOST_NETWORK_TYPE;
        this.dependencies = [];
        this.world = world;
        this.channel = ch;
        this.world.events.on('command_share', this.onCommandShare, this);
    }
    // ---------------------------------- EVENT LISTENERS ----------------------------------
    onDeviceJoin(chId) {
        this.channel.send({
            type: "ecs_bootstrap",
            payload: this.world.serialize({
                requireSync: true,
                stripClient: true,
                resources: true,
            }),
        }, chId);
    }
    onCommandPacket(pkt, info) {
        const sender = info.senderId;
        for (let cmd of pkt.data) {
            if (!this.checkCommand(sender, cmd))
                continue;
            this.world.events.emit("command_emit", cmd, false);
        }
    }
    checkCommand(sender, command) {
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    onCommandShare(command) {
        if (command.length === 0)
            return;
        this.channel.broadcast({
            type: 'cmd',
            data: command,
        });
    }
    enable() {
        this.channel.events.on('device_join', this.onDeviceJoin, this);
        this.channel.packets.on('cmd', this.onCommandPacket, this);
        this.world.editResource(NETWORK_STATUS_TYPE, { isBootstrapDone: true });
    }
    destroy() {
        this.channel.events.off('device_join', this.onDeviceJoin, this);
        this.channel.packets.off('cmd', this.onCommandPacket, this);
    }
}
const CLIENT_NETWORK_TYPE = 'client_network';
class ClientNetworkSystem {
    constructor(ecs, channel) {
        this.name = CLIENT_NETWORK_TYPE;
        this.dependencies = [];
        this.world = ecs;
        this.channel = channel;
    }
    onEcsBootstrap(packet, info) {
        if (info.senderId !== 0)
            return; // Only admin
        this.world.clear();
        this.world.deserialize(packet.payload, {});
        this.world.editResource(NETWORK_STATUS_TYPE, { isBootstrapDone: true });
        this.world.events.emit('focus_on_random_party');
    }
    onCmd(packet, info) {
        for (let cmd of packet.data) {
            if (!this.checkCommand(info.senderId, cmd))
                continue;
            this.world.events.emit("command_emit", cmd);
        }
    }
    onDeviceLeave(connId) {
        this.world.editResource(NETWORK_STATUS_TYPE, { isBootstrapDone: false });
    }
    checkCommand(sender, command) {
        if (sender === 0)
            return true;
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    enable() {
        let packets = this.channel.packets;
        packets.on('ecs_bootstrap', this.onEcsBootstrap, this);
        packets.on('cmd', this.onCmd, this);
        let chEvents = this.channel.events;
        chEvents.on('device_left', this.onDeviceLeave, this);
    }
    destroy() {
        let packets = this.channel.packets;
        packets.off('ecs_bootstrap', this.onEcsBootstrap, this);
        packets.off('cmd', this.onCmd, this);
        let chEvents = this.channel.events;
        chEvents.off('device_left', this.onDeviceLeave, this);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiBoardSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiBoardSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointerEvents": () => (/* binding */ PointerEvents),
/* harmony export */   "BOARD_TRANSFORM_TYPE": () => (/* binding */ BOARD_TRANSFORM_TYPE),
/* harmony export */   "BOARD_SIZE_TYPE": () => (/* binding */ BOARD_SIZE_TYPE),
/* harmony export */   "PIXI_BOARD_TYPE": () => (/* binding */ PIXI_BOARD_TYPE),
/* harmony export */   "PixiBoardSystem": () => (/* binding */ PixiBoardSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _keyboardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");







var PointerEvents;
(function (PointerEvents) {
    PointerEvents["POINTER_MOVE"] = "pointer_move";
    PointerEvents["POINTER_DOWN"] = "pointer_down";
    PointerEvents["POINTER_UP"] = "pointer_up";
    PointerEvents["POINTER_RIGHT_DOWN"] = "pointer_right_down";
    PointerEvents["POINTER_RIGHT_UP"] = "pointer_right_up";
    PointerEvents["POINTER_CLICK"] = "pointer_click";
})(PointerEvents || (PointerEvents = {}));
const BOARD_TRANSFORM_TYPE = 'board_transform';
const BOARD_SIZE_TYPE = 'board_size';
const PIXI_BOARD_TYPE = 'pixi_board';
class PixiBoardSystem {
    constructor(world) {
        this.name = PIXI_BOARD_TYPE;
        this.dependencies = [];
        this.pointers = new Map();
        this.mouseLastX = 0;
        this.mouseLastY = 0;
        this.isDraggingBoard = false;
        this.world = world;
        this.world.events.on('req_board_center', this.centerBoard, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on(_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_KEY_DOWN, this.onKeyDown, this);
        this.world.addResource({
            type: BOARD_TRANSFORM_TYPE,
            _save: true,
            _sync: false,
            posX: 0,
            posY: 0,
            scaleX: 1,
            scaleY: 1,
        });
        this.world.addResource({
            type: BOARD_SIZE_TYPE,
            _save: false,
            _sync: false,
            width: 100,
            height: 100,
        });
        // We cannot work without webgl
        _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
        this.renderer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Renderer({
            backgroundColor: _lightSystem__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_BACKGROUND,
        });
        (0,_util_pixi__WEBPACK_IMPORTED_MODULE_4__.addCustomBlendModes)(this.renderer);
        this.renderer.view.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        this.ticker = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Ticker();
        this.root = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Stage();
        this.root.interactive = false;
        this.root.interactiveChildren = false;
        this.root.sortableChildren = true;
        this.root.group.enableSort = true;
        this.root.interactive = true;
        this.root.hitArea = {
            contains(x, y) {
                return true;
            }
        };
        this.ticker.add(() => {
            this.renderer.render(this.root);
        }, _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].UPDATE_PRIORITY.LOW);
        // TODO: we should create render phases, one for the world (using the projection matrix to move the camera)
        //       and the other for the GUI (or other things that do not depend on camera position, as the GridSystem(?)).
        //       to create a custom game loop: https://github.com/pixijs/pixi.js/wiki/v5-Custom-Application-GameLoop
        this.board = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Container();
        this.board.interactive = false;
        this.board.interactiveChildren = false;
        this.board.position.set(0, 0);
        this.board.sortableChildren = true;
        this.toolForegroundGroup = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_6__.LayerOrder.TOOLS, false);
        const toolLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Layer(this.toolForegroundGroup);
        toolLayer.interactive = false;
        toolLayer.interactiveChildren = false;
        this.root.addChild(toolLayer);
        this.root.addChild(this.board);
    }
    onKeyDown(key) {
        let keyboard = this.world.getResource(_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_TYPE);
        if (keyboard === undefined)
            return;
        let ctrl = keyboard.ctrl;
        let shift = keyboard.shift;
        let event_name = undefined;
        if (ctrl) {
            switch (key) {
                case 'z':
                    if (shift)
                        event_name = 'command_redo';
                    else
                        event_name = 'command_undo';
                    break;
                case 'y':
                    event_name = 'command_redo';
                    break;
            }
        }
        else {
            switch (key) {
                case 'delete':
                    event_name = 'delete';
                    break;
            }
        }
        if (event_name !== undefined) {
            this.world.events.emit(event_name);
        }
    }
    toGeneralEvent(pixi) {
        const boardPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.getBoardPosFromOrigin)(this.world, pixi);
        let hoveredCache = undefined;
        const entitiesHovered = () => {
            if (hoveredCache === undefined) {
                hoveredCache = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.findEntitiesAt)(this.world, boardPos, true);
            }
            return hoveredCache;
        };
        return {
            globalPos: pixi.data.global,
            boardPos,
            pointerId: pixi.data.pointerId,
            pointerType: pixi.data.pointerType,
            originalEvent: pixi.data.originalEvent,
            entitiesHovered,
        };
    }
    canBecomeClick(pdata, p) {
        let now = Date.now();
        let timeDiff = now - (this.lastMouseDownTime || 0);
        let diffX = p.x - pdata.firstX;
        let diffY = p.y - pdata.firstY;
        let diffPos = Math.sqrt(diffX * diffX + diffY * diffY);
        return diffPos < 5 && timeDiff < 500;
    }
    zoom(dScale, centerX, centerY) {
        const minScale = 0.05;
        const maxScale = 3;
        if (this.board.scale.x < minScale && dScale < 1 || this.board.scale.x > maxScale && dScale > 1)
            return;
        // Before scaling adjust the position:
        // Takes the vector that goes from the board position (upper-left) to the cursor.
        // Apply the dScale factor to that vector and find the new board position.
        // Finally, the cursor position plus the vector obtained is the new board position.
        let padX = this.board.position.x - centerX;
        let padY = this.board.position.y - centerY;
        padX *= dScale;
        padY *= dScale;
        const position = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(padX + centerX, padY + centerY);
        const scale = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(this.board.scale.x * dScale, this.board.scale.y * dScale);
        // TODO
        /*if (this.board.isBoardLost(position, scale)) {
            console.log("You can't no more scale in this direction, you're loosing the board!");
            return;
        }*/
        this.world.editResource(BOARD_TRANSFORM_TYPE, {
            posX: position.x,
            posY: position.y,
            scaleX: scale.x,
            scaleY: scale.y,
        });
    }
    /**
     * Function called when the mouse scrolls.
     * The map is zoomed in and out based on the scroll direction.
     */
    onMouseWheel(event) {
        const scalingSpeed = 0.1;
        const dScale = 1 - Math.sign(event.deltaY) * scalingSpeed;
        this.zoom(dScale, event.clientX, event.clientY);
    }
    onPointerDown(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            let prde = this.toGeneralEvent(event);
            prde.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_RIGHT_DOWN, prde);
            return;
        }
        let pos = event.data.global;
        this.pointers.set(event.data.pointerId, {
            firstX: pos.x,
            firstY: pos.y,
            lastX: pos.x,
            lastY: pos.y,
        });
        this.lastMouseDownTime = Date.now();
        let e = this.toGeneralEvent(event);
        e.consumed = false;
        e.consumeDragBoard = false;
        if (event.data.pointerType === 'mouse' && event.data.button === 1) {
            // If middle button is pressed ignore, we force it to drag the board
            // (and prevent the paste event)
            event.data.originalEvent.preventDefault();
            event.data.originalEvent.stopPropagation();
            e.consumeDragBoard = true; // middle click to drag is always enabled
        }
        else {
            this.world.events.emit(PointerEvents.POINTER_DOWN, e);
        }
        if (e.consumeDragBoard && this.pointers.size === 1) {
            this.isDraggingBoard = true;
        }
    }
    onPointerUp(event, isInside = true) {
        const e = this.toGeneralEvent(event);
        e.isInside = isInside;
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            this.world.events.emit(PointerEvents.POINTER_RIGHT_UP, e);
        }
        else if (event.data.pointerType === 'mouse' && event.data.button === 1) {
            // If middle button is pressed ignore, we force it to drag the board
            // (and prevent the paste event)
            event.data.originalEvent.preventDefault();
            event.data.originalEvent.stopPropagation();
            // of course every browser ignores the preventDefault so we have to ignore it ourself
            this.world.events.emit('ignore_next_paste');
        }
        let pdata = this.pointers.get(event.data.pointerId);
        if (pdata === undefined)
            return;
        this.pointers.delete(event.data.pointerId);
        if (this.lastMouseDownTime === undefined)
            return;
        if (this.pointers.size === 0) {
            this.isDraggingBoard = false;
            let isClick = this.canBecomeClick(pdata, event.data.global);
            let pue = e;
            pue.lastPosition = {
                x: pdata.lastX,
                y: pdata.lastY
            };
            pue.isClick = isClick;
            pue.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_UP, pue);
            if (isClick) {
                let pce = pue;
                this.world.events.emit(PointerEvents.POINTER_CLICK, pce);
            }
        }
    }
    onPointerUpOutside(event) {
        this.onPointerUp(event, false);
    }
    /** Function called when the cursor moves around the map. */
    onPointerMove(e) {
        let pos = e.data.global;
        let event = this.toGeneralEvent(e);
        // TODO: magnet snap system
        let localPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.snapPoint)(this.world, event.boardPos);
        this.updatePointerFollowers(localPos);
        let pdata = this.pointers.get(e.data.pointerId);
        if (this.pointers.size <= 1 && !this.isDraggingBoard) {
            let pme = event;
            pme.lastPosition = {
                x: this.mouseLastX, y: this.mouseLastY,
            };
            pme.canBecomeClick = pdata === undefined ? false : this.canBecomeClick(pdata, pos);
            this.world.events.emit(PointerEvents.POINTER_MOVE, pme);
            this.mouseLastX = pos.x;
            this.mouseLastY = pos.y;
        }
        if (pdata === undefined)
            return;
        if (this.pointers.size === 1) { // Move
            if (this.isDraggingBoard) {
                const newPosX = this.board.position.x + (pos.x - pdata.lastX);
                const newPosY = this.board.position.y + (pos.y - pdata.lastY);
                /*if (this.board.isBoardLost(new PIXI.Point(newPosX, newPosY), this.scale)) {
                    //console.log("You can't go further than this, you'll loose the board!");
                    return;
                }*/
                this.world.editResource(BOARD_TRANSFORM_TYPE, {
                    posX: newPosX,
                    posY: newPosY,
                });
            }
        }
        let firstDist = 0;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            firstDist = Math.sqrt(dx * dx + dy * dy);
        }
        pdata.lastX = pos.x;
        pdata.lastY = pos.y;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            let secondDist = Math.sqrt(dx * dx + dy * dy);
            let center = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point((pa.lastX + pb.lastX) / 2, (pa.lastY + pb.lastY) / 2);
            this.zoom((secondDist / firstDist), center.x, center.y);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type !== BOARD_TRANSFORM_TYPE)
            return;
        let t = res;
        this.board.position.set(t.posX, t.posY);
        this.board.scale.set(t.scaleX, t.scaleY);
    }
    updatePointerFollowers(point) {
        for (let c of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE).allComponents()) {
            this.world.editComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE, {
                x: point.x,
                y: point.y,
            });
        }
    }
    /**
     * Make the board's center and the window's center overlap.
     * This way the initial board position is centered to the root card.
     */
    centerBoard() {
        let boardScreenWidth = this.renderer.width;
        let boardScreenHeight = this.renderer.height;
        let screenMidPointWidth = boardScreenWidth / 2;
        let screenMidPointHeight = boardScreenHeight / 2;
        let bounds = this.board.getBounds();
        this.board.position.set(screenMidPointWidth - bounds.x - bounds.width / 2, screenMidPointHeight - bounds.y - bounds.height / 2);
    }
    applyCanvasStyle(canvas) {
        const s = canvas.style;
        s.width = "100%";
        s.height = "100%";
    }
    resize() {
        if (this.resizeReqId !== undefined)
            return;
        this.resizeReqId = requestAnimationFrame(this.doResize.bind(this));
    }
    doResize() {
        if (this.resizeReqId !== undefined) {
            this.resizeReqId = undefined;
        }
        let { clientWidth, clientHeight } = this.renderer.view;
        this.renderer.resize(clientWidth, clientHeight);
        this.world.editResource(BOARD_SIZE_TYPE, {
            width: clientWidth,
            height: clientHeight,
        });
    }
    enable() {
        const canvas = this.renderer.view;
        this.applyCanvasStyle(canvas);
        let cnt = document.getElementById('canvas-container');
        if (cnt === null) {
            throw new Error("Cannot find canvas container");
        }
        cnt.appendChild(canvas);
        // PIXI
        this.root.on("pointermove", this.onPointerMove, this);
        this.root.on("pointerdown", this.onPointerDown, this);
        this.root.on("pointerup", this.onPointerUp, this);
        this.root.on("pointerupoutside", this.onPointerUpOutside, this);
        this.wheelListener = this.onMouseWheel.bind(this);
        canvas.addEventListener("wheel", this.wheelListener);
        this.resizeListener = this.resize.bind(this);
        window.addEventListener("resize", this.resizeListener);
        this.resize();
        this.ticker.start();
    }
    destroy() {
        this.ticker.stop();
        window.removeEventListener("resize", this.resizeListener);
        this.root.off("pointermove", this.onPointerMove, this);
        this.root.off("pointerdown", this.onPointerDown, this);
        this.root.off("pointerup", this.onPointerUp, this);
        this.root.off("pointerupoutside", this.onPointerUpOutside, this);
        this.renderer.view.removeEventListener('wheel', this.wheelListener);
        let cnt = document.getElementById('canvas-container');
        cnt === null || cnt === void 0 ? void 0 : cnt.removeChild(this.renderer.view);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiGraphicSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiGraphicSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REMEMBER_TYPE": () => (/* binding */ REMEMBER_TYPE),
/* harmony export */   "POINT_RADIUS": () => (/* binding */ POINT_RADIUS),
/* harmony export */   "PIXI_GRAPHIC_TYPE": () => (/* binding */ PIXI_GRAPHIC_TYPE),
/* harmony export */   "PixiGraphicSystem": () => (/* binding */ PixiGraphicSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_bitSet__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/bitSet */ "./src/app/util/bitSet.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _textSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./textSystem */ "./src/app/ecs/systems/back/textSystem.ts");
/* harmony import */ var _visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");



















const REMEMBER_TYPE = 'remember';
var VisibListenerLevel;
(function (VisibListenerLevel) {
    VisibListenerLevel[VisibListenerLevel["NOT_NEEDED"] = 0] = "NOT_NEEDED";
    VisibListenerLevel[VisibListenerLevel["REMEMBER"] = 1] = "REMEMBER";
    VisibListenerLevel[VisibListenerLevel["PERSISTENT"] = 2] = "PERSISTENT";
})(VisibListenerLevel || (VisibListenerLevel = {}));
function lerpColor(a, b, t) {
    let tr = ((a >> 16) & 0xFF) * (1 - t) + ((b >> 16) & 0xFF) * t;
    let tg = ((a >> 8) & 0xFF) * (1 - t) + ((b >> 8) & 0xFF) * t;
    let tb = (a & 0xFF) * (1 - t) + (b & 0xFF) * t;
    return tr << 16 | tg << 8 | tb;
}
const POINT_RADIUS = 12;
const PIXI_GRAPHIC_TYPE = 'pixi_graphic';
/**
 * Manages:
 * - Drawing elements
 * - Selection highlighting
 * - Element visibility/remembering
 * - Layer ordering
 * - Position/Translation updates
 * - Bit-by-bit remembering (background discovery)
 * - Interaction setup
 *
 * TODO: we could use a ParticleSystem in some instances
 */
class PixiGraphicSystem {
    constructor(world) {
        this.name = PIXI_GRAPHIC_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__.PIXI_BOARD_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE];
        this.provides = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, false, false);
        this.rememberStorage = new _storage__WEBPACK_IMPORTED_MODULE_1__.FlagEcsStorage(REMEMBER_TYPE, true, true);
        this.renderTexturePool = new pixi_js__WEBPACK_IMPORTED_MODULE_4__.RenderTexturePool();
        this.masterVisibility = false;
        this.world = world;
        this.textSystem = world.systems.get(_textSystem__WEBPACK_IMPORTED_MODULE_17__.TEXT_TYPE);
        this.pixiBoardSystem = world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__.PIXI_BOARD_TYPE);
        this.interactionSystem = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        world.addStorage(this.rememberStorage);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('selection_begin', this.onSelectionBegin, this);
        world.events.on('selection_end', this.onSelectionEnd, this);
        world.events.on(_playerSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_VISIBILITY_SPREAD, this.onBBBVisibilitySpread, this);
        world.events.on('serialize', this.onSerialize, this);
        world.events.on('forget', this.onForget, this);
    }
    onComponentAdd(c) {
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            this.updateVisibilityListener(com);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.world.getComponent(c.entity, REMEMBER_TYPE) !== undefined;
            this.updateElementVisibility(com, com.display, true, !!(pv === null || pv === void 0 ? void 0 : pv.visible), remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === REMEMBER_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            this.updateElementVisibility(com, com.display, true, true, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // TODO: here?
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentEdited(c, changes) {
        var _a;
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.runMethods(com, com.display); // run delayed methods (like _childrenAdd, _childrenReplace & co).
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.rememberStorage.getComponent(c.entity) !== undefined;
            this.updateElementVisibility(com, com.display, true, (_a = pv === null || pv === void 0 ? void 0 : pv.visible) !== null && _a !== void 0 ? _a : true, remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
            if ('interactive' in changes) {
                this.updateInteractive(com, pos, trans);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = c;
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE) {
            let pv = c;
            com = this.storage.getComponent(pv.entity);
            if (com === undefined)
                return;
            let remembered = false;
            if (com._visibListener === VisibListenerLevel.REMEMBER && pv.visible) {
                this.world.addComponent(c.entity, {
                    type: REMEMBER_TYPE,
                    entity: c.entity,
                });
                this.playerSystem.removePlayerVisListener(c.entity);
                remembered = true;
            }
            if (!this.masterVisibility) {
                this.updateElementVisibility(com, com.display, true, pv.visible, remembered);
            }
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentRemoved(c) {
        var _a;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            this.destroyElement(c.display, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            this.updateElement(com, com.display, pos, c, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined || !com._bitByBit)
                return;
            // Now you're visible! say hello
            this.updateBBBVisAround(com);
        }
        else if (c.type === REMEMBER_TYPE && this.world.isDespawning.indexOf(c.entity) < 0) {
            const comp = this.storage.getComponent(c.entity);
            if (comp === undefined)
                return;
            if (comp._visibListener === VisibListenerLevel.REMEMBER) {
                this.playerSystem.addPlayerVisListener(comp.entity, comp.isWall);
                (_a = this.world.systems.get(_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_18__.VISIBILITY_AWARE_TYPE)) === null || _a === void 0 ? void 0 : _a.manualRecomputeWall(comp.entity);
            }
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.world.getComponent(c.entity, REMEMBER_TYPE) !== undefined;
            this.updateElementVisibility(comp, comp.display, true, !!(pv === null || pv === void 0 ? void 0 : pv.visible), remembered);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type === 'local_light_settings') {
            let set = res;
            if (!('visionType' in changes))
                return;
            if (set.visionType === 'dm') {
                this.masterVisibility = true;
                for (let c of this.storage.allComponents()) {
                    this.updateElementVisibility(c, c.display, true, true, true);
                }
            }
            else if (set.visionType === 'rp') {
                this.masterVisibility = false;
                for (let c of this.storage.allComponents()) {
                    let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
                    let rem = this.rememberStorage.getComponent(c.entity);
                    this.updateElementVisibility(c, c.display, true, pv === null || pv === void 0 ? void 0 : pv.visible, rem !== undefined);
                }
            }
            else {
                throw new Error('Unknown vision type');
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE) {
            if (!('width' in changes))
                return;
            // You are literally satan, I hate you.
            let posSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let tranSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            for (let c of this.storage.allComponents()) {
                this.forEachEl(c, c.display, e => {
                    if (e.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && e.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                        let pos = posSto.getComponent(c.entity);
                        let tran = tranSto.getComponent(c.entity);
                        this.updateElement(c, e, pos, tran, false);
                        this.world.editComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, { shape: this.createShape(e, pos, tran) });
                    }
                });
            }
        }
    }
    onSelectionBegin(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = true;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onSelectionEnd(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = false;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onForget(data) {
        for (let entity of data.entities) {
            const comp = this.storage.getComponent(entity);
            if (comp === undefined)
                continue;
            const rem = this.rememberStorage.getComponent(entity);
            if (rem !== undefined) {
                // We remember this!
                this.world.removeComponent(rem);
                /*let pv = this.world.getComponent(comp.entity, PLAYER_VISIBLE_TYPE) as PlayerVisibleComponent | undefined;
                let remembered = this.rememberStorage.getComponent(comp.entity) !== undefined;
                this.updateElementVisibility(comp, comp.display, true, pv?.visible ?? true, remembered);

                this.updateVisibilityListener(comp);*/
            }
            if (comp._bitByBit) {
                this.doOnBitByBit(comp, comp.display, (img) => {
                    let w = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
                    this.pixiBoardSystem.renderer.render(w, img._renTex, true);
                    img._visMapChanged = true;
                });
                this.updateBBBVisAround(comp);
            }
        }
    }
    onBBBVisibilitySpread(data) {
        let iter = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(data.aabb), c => {
            let com = this.storage.getComponent(c.entity);
            return com !== undefined && com._bitByBit === true;
        });
        for (let c of iter) {
            // If we are here then the component exists, we checked it in the iterator
            let cmp = this.storage.getComponent(c.entity);
            this.doOnBitByBit(cmp, cmp.display, (img) => this.updateBBBVisibility(data, cmp, img));
        }
    }
    onSerialize(data) {
        const changedList = [];
        const processComp = (com) => {
            if (!com._bitByBit)
                return;
            let changed = false;
            this.doOnBitByBit(com, com.display, (img) => changed || (changed = this.extractVisibility(img)));
            if (changed)
                changedList.push(com.entity);
        };
        if (data.options.only !== undefined) {
            for (let entity of data.options.only) {
                const comp = this.storage.getComponent(entity);
                if (comp === undefined)
                    continue;
                processComp(comp);
            }
        }
        else {
            for (let com of this.storage.allComponents()) {
                ;
                processComp(com);
            }
        }
        if (changedList) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, changedList);
        }
    }
    // -------------------------- LISTENERS DONE --------------------------
    updateInteractive(comp, pos, trans) {
        let interactiveCmp = this.world.getComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        if (comp.interactive && interactiveCmp === undefined) {
            this.world.addComponent(comp.entity, {
                type: _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE,
                selectPriority: comp.display.priority,
                snapEnabled: true,
                shape: this.createShape(comp.display, pos, trans),
            });
        }
        else if (!comp.interactive && interactiveCmp !== undefined) {
            this.world.removeComponent(interactiveCmp);
        }
        else if (comp.interactive) {
            // Check for component changes in interactor
            if (comp.display.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE) {
                // If the texture has changed we need to update the interactor.
                let el = comp.display;
                if (el.texture !== el._oldTex) {
                    this.world.editComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, { shape: this.createShape(el, pos, trans) });
                }
            }
        }
    }
    createShape(comp, pos, trans) {
        switch (comp.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                // Only the root element can be made interactive, the others are ignored
                throw new Error('Cannot make interactive container');
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                throw new Error('Cannot make interactive text');
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let c = comp;
                let w = c.texture.width;
                let h = c.texture.height;
                let aabb;
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                if (c.scale == _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(c.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE);
                    let gsize = c.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_11__.Aabb.fromPointAnchor(pos, { x: w, y: h }, c.anchor);
                aabb.scale(sx, sy, aabb);
                let obb = _geometry_obb__WEBPACK_IMPORTED_MODULE_12__.Obb.rotateAabb(aabb.copy(), (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0);
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeObb)(obb);
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let c = comp;
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_13__.Line(pos.x, pos.y, pos.x + c.vec.x, pos.y + c.vec.y));
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapePoint)(new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Point(pos.x, pos.y));
            }
        }
    }
    /**
     * Extracts visibility from the rendertexture of the image (must be VISBLE_BIT_BY_BIT).
     *
     * @param c the image from which the visibility map will be extracted.
     * @return true only if the visibility map has been modified.
     * @private
     */
    extractVisibility(c) {
        if (c._visMapChanged !== true)
            return false;
        c.visMap = undefined;
        const renderer = this.pixiBoardSystem.renderer;
        const tex = c._renTex;
        if (tex === undefined)
            return false;
        let frame = tex.frame;
        renderer.renderTexture.bind(tex);
        let webglPixels = new Uint8Array(tex.width * tex.height * 4);
        const gl = renderer.gl;
        gl.readPixels(frame.x, frame.y, frame.width, frame.height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
        let fuckLen = webglPixels.length / 4;
        let newLen = ((webglPixels.length / 4 - 1) >>> 5) + 1;
        let target = new Uint32Array(newLen);
        for (let i = 0; i < fuckLen; i++) {
            let pixel = webglPixels[i * 4 + 3];
            if ((pixel & 0x80) !== 0) {
                target[i >>> 5] |= 1 << (i & 0b11111);
            }
        }
        c.visMap = new Uint8Array(target.buffer);
        c._visMapChanged = false;
        return true;
    }
    loadVisibility(c) {
        const width = c.texture.width;
        const height = c.texture.height;
        if (c._renTex === undefined) {
            c._renTex = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].RenderTexture.create({
                width, height,
                scaleMode: c.texture.baseTexture.scaleMode,
            });
            let bt = c._renTex.baseTexture;
            bt.clearColor = [0.0, 0.0, 0.0, 0.0];
        }
        if (c.visMap === undefined)
            return;
        let texOpts = {
            width, height,
            format: _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].FORMATS.RGBA,
        };
        let texData = new Uint32Array(c.texture.width * c.texture.height);
        let visMap = c.visMap;
        if ((c.visMap.byteOffset & (0x4 - 1)) !== 0) {
            // Not aligned, realign
            visMap = c.visMap.slice(0);
        }
        let set = new _util_bitSet__WEBPACK_IMPORTED_MODULE_10__.BitSet(new Uint32Array(visMap.buffer, visMap.byteOffset, visMap.byteLength / 4));
        let len = texData.length;
        for (let i = 0; i < len; i++) {
            texData[i] = set.get(i) ? 0xFFFFFFFF : 0;
        }
        let byteData = new Uint8Array(texData.buffer);
        let resource = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].resources.BufferResource(byteData, { width, height });
        let baseTexture = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BaseTexture(resource, texOpts);
        let tex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Texture(baseTexture);
        let lumSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(tex);
        lumSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.SRC_IN;
        let mapSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(c.texture);
        let cnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        cnt.addChild(mapSprite, lumSprite);
        this.pixiBoardSystem.renderer.render(cnt, c._renTex, true);
        lumSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_ALL);
        c._visMapChanged = false;
    }
    forEachEl(com, img, f) {
        f(img);
        if (img.children) {
            for (let c of img.children) {
                this.forEachEl(com, c, f);
            }
        }
    }
    doOnBitByBit(com, img, f) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            f(img);
        }
        if (img.children) {
            for (let c of img.children) {
                this.doOnBitByBit(com, c, f);
            }
        }
    }
    needsBitByBit(com, img) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            return true;
        }
        if (img.children) {
            for (let c of img.children) {
                if (this.needsBitByBit(com, c))
                    return true;
            }
        }
        return false;
    }
    updateBBBVisAround(com) {
        let inter = this.world.getComponent(com.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        let aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeToAabb)(inter.shape);
        this.playerSystem.getSpreadDataForAabb(aabb, data => {
            this.doOnBitByBit(com, com.display, (img) => this.updateBBBVisibility(data, com, img));
        });
    }
    updateBBBVisibility(data, com, img) {
        //      Part 1. What?
        // So, what does this spaghetti mess do? Good question!
        // We have players and lights, some players can see without lights and others can't
        // The task is to update the rendertexture of the background component adding the visible spots to it.
        // The visible spots are: The meshes of the players with night vision enabled and the intersection of the
        // union of the vision mesh of the normal players with the union of the vison meshes of the lights.
        // Common case: 1 NV player 0 lights, 1 player multiple lights, multiple players 1 light
        // Possible (but uncommon) cases: x NV players, y normal players, z lights (with x, y, z naturals).
        //      Part 2. How?
        // The initial idea is simple, render anything on the bkg._renTex and then render the original texture with
        // blendMode = SRC_IN, any spot with alpha = 1 will then be replaced with the correct texture.
        // The night vision players rendering is quite simple, just render the meshes before the final texture render
        // The normal players will be a bit different since we need to intersect their meshes with the light mesh.
        // To do that we can render all the players meshes in a framebuffer A, then render all of the lights in another
        // frame buffer B, then render A onto B with blendMode = SRC_IN to create a sort of union of the two.
        // Once that is done we can render B into the bkg._renTex and proceed normally.
        // Another way to do this using only a single rendertexture is to use the stencil buffer, but it will double the
        // mesh render calls (and since they are not buffered, it's a slow operation)
        // I don't think that there is another way to perform this in the general case, please prove me wrong.
        // TODO: maybe we can optimize this when only 1 player and 1 light is present (like, avoiding 1 of the 2 framebuffers).
        // Skip EVERYTHING if this entity is hidden.
        if (this.world.getComponent(com.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        //console.time('updateVisibility');
        let renderer = this.pixiBoardSystem.renderer;
        let localCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        // Setup local transform
        let m = new pixi_js__WEBPACK_IMPORTED_MODULE_4__.Matrix();
        let pixi = img._pixi;
        m.translate(-pixi.position.x, -pixi.position.y);
        m.rotate(-pixi.rotation);
        let invScale = 1 / pixi.scale.x;
        m.scale(invScale, invScale);
        m.translate(img.texture.width / 2, img.texture.height / 2);
        localCnt.transform.setFromMatrix(m);
        let worldCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        // If there are any players without night vision (and there are lights) render them (THIS IS SLOW!)
        let tex, tex2, nightSprite;
        if (data.players.length !== 0 && data.lights.length !== 0) {
            tex = this.renderTexturePool.getOptimalTexture(pixi.texture.width, pixi.texture.height);
            tex2 = this.renderTexturePool.getOptimalTexture(pixi.texture.width, pixi.texture.height);
            for (let player of data.players) {
                localCnt.addChild(player.mesh);
            }
            // Render the players visibility meshes onto tex
            renderer.render(localCnt, tex, true);
            localCnt.removeChildren();
            for (let light of data.lights) {
                light.mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.ADD;
                localCnt.addChild(light.mesh);
            }
            let playerSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(tex);
            playerSprite.blendMode = pixi_js__WEBPACK_IMPORTED_MODULE_4__.BLEND_MODES.SRC_IN;
            // Render the lights onto tex2, then render tex as BLEND_MODE.SRC_IN to filter out where the lights were not
            // present.
            worldCnt.addChild(localCnt, playerSprite);
            renderer.render(worldCnt, tex2, true);
            worldCnt.removeChildren();
            localCnt.removeChildren();
            // Add tex2 to the main phase
            nightSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(tex2);
            nightSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.ADD;
            worldCnt.addChild(nightSprite);
        }
        for (let player of data.nightVisPlayers) {
            localCnt.addChild(player.mesh);
        }
        let origTex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(img.texture);
        origTex.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.SRC_IN;
        worldCnt.addChild(localCnt, origTex);
        // Render everything to bkg._renTex and then redraw the original only where is alpha=1.
        this.pixiBoardSystem.renderer.render(worldCnt, img._renTex, false);
        img._visMapChanged = true;
        // Cleanup time (don't worry, I'm recycling and there's a garbage cleaner, we're eco friendly!)
        worldCnt.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        origTex.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        if (tex !== undefined)
            this.renderTexturePool.returnTexture(tex);
        if (tex2 !== undefined)
            this.renderTexturePool.returnTexture(tex2);
        if (nightSprite !== undefined)
            nightSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        //console.timeEnd('updateVisibility');
    }
    computeVisibilityListener(c) {
        let level;
        switch (c.visib) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                // Already maximum level, no need for further checking
                return VisibListenerLevel.PERSISTENT;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                level = VisibListenerLevel.NOT_NEEDED;
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                level = VisibListenerLevel.REMEMBER;
                break;
        }
        if (c.children) {
            for (let ch of c.children) {
                level = Math.max(level, this.computeVisibilityListener(ch));
                if (level === VisibListenerLevel.PERSISTENT)
                    break; // Already maxed out.
            }
        }
        return level;
    }
    destroyElement(desc, recursive) {
        let elem = desc._pixi;
        if (elem === undefined)
            return;
        switch (desc._oldType) {
            case undefined:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let im = desc;
                let destroyTex = im.sharedTexture !== true;
                elem.destroy({
                    children: false,
                    texture: destroyTex,
                    baseTexture: destroyTex,
                });
                if (im._renTex !== undefined) {
                    im._renTex.destroy(true);
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                elem.destroy({
                    children: false,
                    texture: true,
                    baseTexture: true,
                });
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
                break;
        }
        desc._pixi = undefined;
        desc._oldType = undefined;
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.destroyElement(el, true);
            }
        }
    }
    createElement(cmp, desc) {
        this.destroyElement(desc, false);
        let defLayer = true;
        let res;
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Graphics();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(this.circleTex);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Text("");
                res.parentLayer = this.textSystem.textLayer;
                defLayer = false;
                break;
        }
        if (defLayer && cmp._layer !== undefined) {
            res.parentGroup = cmp._layer;
        }
        res.interactive = false;
        res.interactiveChildren = false;
        res.zIndex = desc.priority;
        desc._pixi = res;
        desc._oldType = desc.type;
        this.pixiBoardSystem.board.addChild(res);
        this.pixiBoardSystem.board.sortChildren();
    }
    textureUpdateGridSize(tex) {
        let texId = tex._updateID;
        if (tex.gridSize !== undefined && tex.gridSize.updateId !== texId)
            return;
        tex.gridSize = {
            x: Math.ceil(tex.width / _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS.size) / tex.width,
            y: Math.ceil(tex.height / _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS.size) / tex.height,
            updateId: texId,
        };
    }
    updateElementVisibility(par, desc, recursive, currentlyVisible, remembered) {
        let isVisible;
        if (currentlyVisible || this.masterVisibility) {
            isVisible = true;
        }
        else {
            switch (desc.visib) {
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                    isVisible = currentlyVisible;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                    isVisible = true;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                    isVisible = remembered;
                    break;
            }
        }
        let pixi = desc._pixi;
        pixi.visible = isVisible;
        if (desc.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            let im = desc;
            im._pixi.texture = this.masterVisibility ? im.texture : im._renTex;
        }
        if (recursive && desc.children) {
            for (let c of desc.children) {
                this.updateElementVisibility(par, c, true, currentlyVisible, remembered);
            }
        }
    }
    updateVisibilityListener(el) {
        let listLevel = this.computeVisibilityListener(el.display);
        let oldListLevel = el._visibListener || VisibListenerLevel.NOT_NEEDED;
        if (listLevel === oldListLevel)
            return; // No changes reported.
        let isRemembered = this.rememberStorage.getComponent(el.entity);
        let listenerNeeded;
        switch (listLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                listenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                listenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                listenerNeeded = true;
                break;
        }
        let oldListenerNeeded;
        switch (oldListLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                oldListenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                oldListenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                oldListenerNeeded = true;
                break;
        }
        // Why before? good question!
        // when we add the listener we could discover instantly that the visibility is present, thus calling
        // a callback to this system saying "hi, this element in which there's a visibility listener is visible"
        // if we set the listener after this the system will say "oh really, but there's no listener on this element"
        // (yeah I spent way too much time to debug this)
        el._visibListener = listLevel;
        if (listenerNeeded && !oldListenerNeeded) {
            this.playerSystem.addPlayerVisListener(el.entity, el.isWall);
        }
        else if (!listenerNeeded && oldListenerNeeded) {
            this.playerSystem.removePlayerVisListener(el.entity);
        }
    }
    runMethods(par, el) {
        if (el._childrenReplace) {
            if (el.children) {
                for (let c of el.children) {
                    this.destroyElement(c, true);
                }
                el.children.length = 0;
            }
            el._childrenAdd = el._childrenReplace;
            el._childrenReplace = undefined;
        }
        if (el._childrenAdd) {
            if (el.children === undefined)
                el.children = [];
            el.children.push(...el._childrenAdd);
            el._childrenAdd = undefined;
        }
        if (el._childrenRemove) {
            if (el.children === undefined)
                return;
            for (let c of el._childrenRemove) {
                this.destroyElement(c, true);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_14__.arrayRemoveElem)(el.children, c);
            }
            el._childrenRemove = undefined;
        }
        if (el.children) {
            for (let c of el.children) {
                this.runMethods(par, c);
            }
        }
    }
    updateElement(par, desc, pos, trans, recursive) {
        if (desc._oldType !== desc.type) {
            this.createElement(par, desc);
        }
        let d = desc._pixi;
        if (desc.offset !== undefined) {
            d.position.set(pos.x + desc.offset.x, pos.y + desc.offset.y);
        }
        else {
            d.position.set(pos.x, pos.y);
        }
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let dim = d;
                let el = desc;
                if (el.visib == _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    dim.texture = this.masterVisibility ? el.texture : el._renTex;
                }
                else {
                    dim.texture = el.texture;
                }
                dim.anchor.copyFrom(el.anchor);
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = sx;
                if (el.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(dim.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE);
                    let gsize = dim.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                dim.rotation = (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0;
                dim.scale.set(sx, sy);
                dim.tint = par._selected ? 0x7986CB : 0xFFFFFF;
                if (el.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    if (el._oldTex !== el.texture) {
                        this.loadVisibility(el);
                    }
                }
                else if (el._renTex !== undefined) {
                    el._renTex.destroy(true);
                    el._renTex = undefined;
                }
                el._oldTex = el.texture;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let g = d;
                let el = desc;
                g.clear();
                g.moveTo(0, 0);
                g.lineStyle(5, el.color);
                g.lineTo(el.vec.x, el.vec.y);
                if (par._selected) {
                    g.lineStyle(0);
                    g.beginFill(0xe51010);
                    g.drawCircle(0, 0, 10);
                    g.endFill();
                    g.beginFill(el.color);
                    g.drawCircle(el.vec.x, el.vec.y, 10);
                    g.endFill();
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                let color = desc.color;
                if (par._selected) {
                    color = lerpColor(color, 0x7986CB, 0.3);
                }
                d.tint = color;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT: {
                let el = desc;
                let g = d;
                g.text = el.text;
                g.anchor.copyFrom(el.anchor);
                g.tint = el.color;
                g.style.align = el.lineAlign;
                break;
            }
        }
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.updateElement(par, el, pos, trans, true);
            }
        }
    }
    enable() {
        this.playerSystem = this.world.systems.get(_playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_TYPE);
        this.masterVisibility = this.world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_8__.LIGHT_TYPE).localLightSettings.visionType === 'dm';
        let g = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Graphics();
        g.beginFill(0xFFFFFF);
        g.lineStyle(0);
        g.drawCircle(POINT_RADIUS, POINT_RADIUS, POINT_RADIUS);
        this.circleTex = this.pixiBoardSystem.renderer.generateTexture(g, _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].SCALE_MODES.LINEAR, 1);
        this.circleTex.defaultAnchor.set(0.5, 0.5);
    }
    destroy() {
        for (let elem of this.storage.allComponents()) {
            this.destroyElement(elem.display, true);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiLayerSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiLayerSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_LAYER_TYPE": () => (/* binding */ PIXI_LAYER_TYPE),
/* harmony export */   "PixiLayerSystem": () => (/* binding */ PixiLayerSystem)
/* harmony export */ });
/* harmony import */ var _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");




const PIXI_LAYER_TYPE = 'pixi_layer';
class PixiLayerSystem {
    constructor(world) {
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE, _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE, _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE];
        this.name = PIXI_LAYER_TYPE;
        this.world = world;
        this.pixiBoard = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
        this.pixiGraphic = this.world.systems.get(_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE);
        this.layerSys = this.world.systems.get(_layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edit', this.onResourceEdit, this);
    }
    getLayer(layer) {
        if (layer._pixiLayer === undefined) {
            const group = new PIXI.display.Group(layer.priority, false);
            layer._pixiLayer = new PIXI.display.Layer(group);
            this.pixiBoard.root.addChild(layer._pixiLayer);
        }
        return layer._pixiLayer;
    }
    updateLayer(layer) {
        const pixiLayer = this.getLayer(layer);
        pixiLayer.group.zIndex = layer.priority;
        return pixiLayer;
    }
    getParentLayer(layer) {
        let l = this.layerSys.getLayerById(layer === undefined ? -1 : layer.layer);
        return this.getLayer(l);
    }
    getEntityParentLayer(entity) {
        return this.getParentLayer(this.world.getComponent(entity, _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE));
    }
    applyParent(obj, parent) {
        var _a;
        if (obj.type !== _graphics__WEBPACK_IMPORTED_MODULE_3__.ElementType.TEXT) {
            if (obj._pixi !== undefined) {
                obj._pixi.parentGroup = parent;
            }
        }
        for (let ch of (_a = obj.children) !== null && _a !== void 0 ? _a : []) {
            this.applyParent(ch, parent);
        }
    }
    onComponentAdd(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            this.updateLayer(c);
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const c = cmp;
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            let parent = this.getParentLayer(c);
            this.applyParent(g.display, parent.group);
        }
        else if (cmp.type === _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE) {
            const c = cmp;
            const parent = this.getEntityParentLayer(cmp.entity);
            this.applyParent(c.display, parent.group);
            c._layer = parent.group;
        }
    }
    onComponentEdited(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const c = cmp;
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            let parent = this.getParentLayer(c);
            this.applyParent(g.display, parent.group);
            g._layer = parent.group;
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            this.updateLayer(c);
        }
    }
    onComponentRemove(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            if (c._pixiLayer !== undefined) {
                c._pixiLayer.destroy();
                c._pixiLayer = undefined;
            }
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            const layer = this.getParentLayer(undefined);
            this.applyParent(g.display, layer.group);
            g._layer = layer.group;
        }
    }
    onResourceEdit(res) {
        if (res.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE) {
            const r = res;
            this.updateLayer(r);
        }
    }
    enable() {
        this.updateLayer(this.layerSys.backgroundLayer);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiMeasureSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiMeasureSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_MEASURE_TYPE": () => (/* binding */ PIXI_MEASURE_TYPE),
/* harmony export */   "PixiMeasureSystem": () => (/* binding */ PixiMeasureSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





const PIXI_MEASURE_TYPE = "pixi_measure";
class PixiMeasureSystem {
    constructor(world) {
        this.name = PIXI_MEASURE_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.gridSize = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.size;
        this.gridUnitMul = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.unitMul;
        this.gridUnitName = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.unitName;
        this.boardScale = 1;
        this.world = world;
        const pixiBoard = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        this.display = new PIXI.Graphics();
        this.display.parentGroup = pixiBoard.toolForegroundGroup;
        this.text = new PIXI.Text("");
        this.text.anchor.set(0.5, 1);
        this.text.style.fill = 0xff0000;
        this.text.style.fontSize = 40;
        this.text.parentGroup = pixiBoard.toolForegroundGroup;
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    setEnabled(enabled) {
        this.display.visible = enabled;
        this.text.visible = enabled;
    }
    redraw(fromX, fromY, toX, toY) {
        this.setEnabled(true);
        this.display.clear();
        const midX = (fromX + toX) / 2;
        const midY = (fromY + toY) / 2;
        let distSq = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(fromX, fromY, toX, toY) / (Math.pow(this.gridSize, 2));
        const scale = 1 / this.boardScale;
        this.text.scale.set(scale);
        if (distSq < Math.pow(0.1, 2)) {
            this.display.beginFill(0xff0000);
            this.display.drawCircle(midX, midY, 10 * scale);
            this.display.endFill();
            this.text.rotation = 0;
            this.text.text = (midX / this.gridSize).toFixed(4) + ", " + (midY / this.gridSize).toFixed(4);
            this.text.position.set(midX, midY - 10);
        }
        else {
            this.display.beginFill(0xff0000);
            this.display.drawCircle(fromX, fromY, 10 * scale);
            this.display.endFill();
            this.display.beginFill(0xff0000);
            this.display.drawCircle(toX, toY, 10 * scale);
            this.display.endFill();
            this.display.lineStyle(3 * scale, 0xff0000);
            this.display.moveTo(fromX, fromY);
            this.display.lineTo(toX, toY);
            let rot = Math.atan2(toY - fromY, toX - fromX);
            if (rot < Math.PI / 2)
                rot += Math.PI;
            if (rot > Math.PI / 2)
                rot -= Math.PI;
            this.text.position.set(midX, midY);
            this.text.rotation = rot;
            this.text.text = (Math.sqrt(distSq) * this.gridUnitMul).toFixed(4) + ' ' + this.gridUnitName;
        }
    }
    redrawRes(res) {
        this.redraw(res.fromX, res.fromY, res.toX, res.toY);
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            let r = res;
            this.redrawRes(r);
        }
    }
    onResourceEdit(res) {
        let redraw = false;
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            this.redrawRes(res);
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_4__.GRID_TYPE) {
            let grid = res;
            this.gridSize = grid.size;
            this.gridUnitMul = grid.unitMul;
            this.gridUnitName = grid.unitName;
            redraw = true;
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE) {
            this.boardScale = res.scaleX || 1;
            redraw = true;
        }
        if (redraw) {
            const r = this.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE);
            if (r !== undefined)
                this.redrawRes(r);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            this.setEnabled(false);
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE) {
            const r = res;
            this.boardScale = r.scaleX;
        }
    }
    enable() {
        var _a;
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        board.board.addChild(this.display);
        board.board.addChild(this.text);
        let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_4__.GRID_TYPE);
        if (grid !== undefined) {
            this.gridSize = grid.size;
        }
        this.boardScale = ((_a = this.world.getResource(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE)) === null || _a === void 0 ? void 0 : _a.scaleX) || 1;
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiRectSelectionSystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_RECTANGULAR_SELECTION_TYPE": () => (/* binding */ PIXI_RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "PixiRectSelectionSystem": () => (/* binding */ PixiRectSelectionSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");


const PIXI_RECTANGULAR_SELECTION_TYPE = "pixi_rect_selection";
class PixiRectSelectionSystem {
    constructor(world) {
        this.name = PIXI_RECTANGULAR_SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.world = world;
        this.display = new PIXI.Graphics();
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    redraw(box) {
        this.display.clear();
        this.display.beginFill(0x7986CB, 0.2);
        this.display.drawRect(box.minX, box.minY, box.maxX - box.minX, box.maxY - box.minY);
        this.display.endFill();
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceEdit(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            this.display.clear();
        }
    }
    enable() {
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        this.display.parentGroup = board.toolForegroundGroup;
        board.board.addChild(this.display);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/selectionSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/selectionSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECTION_UI_DATA_TYPE": () => (/* binding */ SELECTION_UI_DATA_TYPE),
/* harmony export */   "SELECTION_TYPE": () => (/* binding */ SELECTION_TYPE),
/* harmony export */   "SelectionSystem": () => (/* binding */ SelectionSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _doorSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _propSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_commandSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");














const MULTI_TYPES = ['name', 'note'];
const ELIMINABLE_TYPES = ['name', 'note', 'player', 'light', 'door', _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE];
const FULLSCREENABLE_TYPES = ['note'];
const SELECTION_UI_DATA_TYPE = 'selection_ui_data';
const SELECTION_TYPE = 'selection';
class SelectionSystem {
    constructor(ecs) {
        this.name = SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_12__.PIXI_BOARD_TYPE];
        this.selectedEntities = new Set();
        this.dataByType = new Map();
        this.translations = {};
        this.isTranslating = false;
        this.translateDirty = false;
        this.uiResDirty = true;
        this.ecs = ecs;
        this.boardSys = ecs.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_12__.PIXI_BOARD_TYPE);
        this.ecs.events.on('tool_move_begin', () => this.isTranslating = true);
        this.ecs.events.on('tool_move_end', () => {
            this.isTranslating = false;
            if (this.translateDirty) {
                this.translateDirty = false;
                this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_COMMAND_PARTIAL_END);
                this.update();
            }
        });
        this.ecs.events.on('component_add', this.onComponentAdd, this);
        this.ecs.events.on('component_edited', this.onComponentUpdate, this);
        this.ecs.events.on('component_removed', this.onComponentRemove, this);
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        this.ecs.events.on('deserialized', (d) => {
            if (d.options.thenSelect) {
                this.setOnlyEntities(d.data.entities.map(d.entityMapping));
            }
        });
        if (ecs.isMaster) {
            this.ecs.events.on('command_post_execute', (c) => {
                // a spawn command has been executed
                if (c === undefined || c.kind !== 'despawn')
                    return;
                this.setOnlyEntities(c.entities);
            });
            this.ecs.events.on('delete', () => {
                const cmd = {
                    kind: 'despawn',
                    entities: [...this.selectedEntities],
                };
                this.clear();
                (0,_command_command__WEBPACK_IMPORTED_MODULE_6__.executeAndLogCommand)(this.ecs, cmd);
            });
        }
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        this.boardSys.ticker.add(this.onRender, this, _PIXI__WEBPACK_IMPORTED_MODULE_13__["default"].UPDATE_PRIORITY.LOW);
        this.setupTranslations();
        this.uiResDirty = true;
        this.onRender();
    }
    setupTranslations() {
        this.translations[_layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE] = 'foreground';
    }
    onRender() {
        if (!this.uiResDirty)
            return;
        this.uiResDirty = false;
        let hostHidden = this.dataByType.get(_component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
        this.ecs.addResource({
            type: SELECTION_UI_DATA_TYPE,
            selectedEntities: [...this.selectedEntities],
            components: this.getCommonComponents(),
            hidden: hostHidden !== undefined && hostHidden.entities.size === this.selectedEntities.size,
            addable: this.getAddableComponents(),
            _save: false,
            _sync: false,
        }, 'update');
    }
    updateUi() {
        this.uiResDirty = true;
    }
    canSelect(entity) {
        if (this.ecs.isMaster) {
            return true;
        }
        // Make walls not selectable unless a known door is present, this
        // prevents players from bruteforcing wall structures to find doors
        // TODO: other options: merge adiacent walls when possible
        let wallC = this.ecs.getComponent(entity, _wallSystem__WEBPACK_IMPORTED_MODULE_8__.WALL_TYPE);
        if (wallC !== undefined) {
            let door = this.ecs.getComponent(entity, _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE);
            return door !== undefined;
        }
        return true;
    }
    update() {
        if (this.isTranslating)
            this.translateDirty = true;
        else {
            this.updateUi();
            this.ecs.events.emit('selection_update', this);
        }
    }
    onComponentAdd(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.getOrCreateData(component.type).entities.add(component);
        this.update();
    }
    onComponentUpdate(component) {
        if (this.selectedEntities.has(component.entity)) {
            if (!this.canSelect(component.entity)) {
                this.removeEntities([component.entity]);
                return;
            }
            this.update();
        }
    }
    onComponentRemove(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        let data = this.dataByType.get(component.type);
        data.entities.delete(component);
        if (data.entities.size === 0)
            this.dataByType.delete(component.type);
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.update();
    }
    onEntityDespawn(entity) {
        if (!this.selectedEntities.has(entity))
            return;
        this.removeEntities([entity]);
    }
    clear(callListeners = true, update = true) {
        if (callListeners) {
            for (let id of this.selectedEntities) {
                this.ecs.events.emit('selection_end', id);
            }
        }
        this.selectedEntities.clear();
        this.dataByType.clear();
        if (update) {
            this.update();
        }
    }
    setOnlyEntity(id) {
        this.clear(true, false);
        this.addEntities([id]);
    }
    setOnlyEntities(ids) {
        let idSet = new Set(ids);
        let removeIds = new Array();
        for (let id of this.selectedEntities) {
            if (!idSet.has(id))
                removeIds.push(id);
        }
        this.removeEntities(removeIds, false);
        this.addEntities(ids, false);
        this.update();
    }
    toggleEntities(ids, update = true) {
        for (let id of ids) {
            if (this.selectedEntities.has(id)) {
                this.removeEntities([id], false);
            }
            else {
                this.addEntities([id], false);
            }
        }
        if (update)
            this.update();
    }
    addEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (id === undefined) {
                console.warn("Trying to add undefined entity");
                continue;
            }
            if (this.selectedEntities.has(id))
                continue;
            if (!this.canSelect(id)) {
                continue;
            }
            count++;
            this.selectedEntities.add(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                this.getOrCreateData(c.type).entities.add(c);
            }
            this.ecs.events.emit('selection_begin', id);
        }
        if (update && count !== 0)
            this.update();
    }
    removeEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (!this.selectedEntities.has(id))
                continue;
            count++;
            this.selectedEntities.delete(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                let data = this.dataByType.get(c.type);
                data.entities.delete(c);
                if (data.entities.size === 0)
                    this.dataByType.delete(c.type);
            }
            this.ecs.events.emit('selection_end', id);
        }
        if (update && count !== 0)
            this.update();
    }
    getSelectedByType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return [];
        return data.entities;
    }
    initialComponent(type) {
        return {
            _canDelete: ELIMINABLE_TYPES.indexOf(type) >= 0,
            _isFullscreen: FULLSCREENABLE_TYPES.indexOf(type) >= 0 ? false : undefined,
        };
    }
    addTranslations(cmps) {
        for (let cmp of cmps) {
            let trans = this.translations[cmp.type];
            if (trans === undefined) {
                trans = cmp.type;
            }
            cmp.typeName = trans;
        }
        return cmps;
    }
    storagePredicate(storage) {
        if (storage.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE)
            return false;
        return storage.save && storage.sync;
    }
    getSingleComponents() {
        let res = new Array();
        let entity = this.selectedEntities.values().next().value;
        for (let storage of this.ecs.storages.values()) {
            if (!this.storagePredicate(storage))
                continue;
            let comps = storage.getComponents(entity);
            for (let comp of comps) {
                let c = res.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.componentClone)(removePrivate(this.initialComponent(storage.type), comp)));
            }
        }
        return this.addTranslations(res);
    }
    getCommonComponents() {
        if (this.selectedEntities.size === 0)
            return [];
        let selCount = this.selectedEntities.size;
        if (selCount === 1)
            return this.getSingleComponents();
        let commonTypes = new Array();
        for (let sto of this.ecs.storages.values()) {
            if (!this.storagePredicate(sto))
                continue;
            const type = sto.type;
            let data = this.dataByType.get(type);
            if (data != undefined && data.entities.size === selCount && MULTI_TYPES.indexOf(type) === -1) {
                commonTypes.push(sto);
            }
        }
        let res = new Array();
        for (let sto of commonTypes) {
            let component = undefined;
            for (let entity of this.selectedEntities) {
                let comps = sto.getComponents(entity);
                for (let comp of comps) {
                    if (component === undefined) {
                        component = removePrivate(this.initialComponent(sto.type), comp); // copy
                    }
                    else {
                        biFilterObj(component, comp);
                    }
                }
            }
            res.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.componentClone)(component));
        }
        return this.addTranslations(res);
    }
    getAddableComponents() {
        let res = new Array();
        res.push({
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
            name: 'Name'
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
            name: 'Note'
        });
        if (!this.hasComponentType(_layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE)) {
            // TODO: layers
            res.push({
                type: _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE,
                name: 'Foreground'
            });
        }
        if (this.hasEveryoneType(_pinSystem__WEBPACK_IMPORTED_MODULE_9__.PIN_TYPE) && !(this.hasComponentType(_lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE) || this.hasComponentType(_playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE))) {
            res.push({
                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                name: 'Light'
            }, {
                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                name: 'Player',
            });
        }
        else if (this.hasEveryoneType(_wallSystem__WEBPACK_IMPORTED_MODULE_8__.WALL_TYPE) && !this.hasComponentType(_doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE)) {
            res.push({
                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                name: "Door"
            });
        }
        else if (this.hasEveryoneType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TYPE) && !this.hasComponentType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE)) {
            res.push({
                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                name: "Teleporter",
            });
        }
        return res;
    }
    setProperty(entities, type, propertyName, propertyValue, multiId) {
        if (type === '$') {
            // Special management
            switch (propertyName) {
                case 'hidden': {
                    let add = [];
                    let remove = [];
                    for (let entity of entities) {
                        let cmp = this.ecs.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
                        if (cmp !== undefined) {
                            remove.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                            this.ecs.removeComponent(cmp);
                        }
                        else {
                            add.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                        }
                    }
                    let cmd = {
                        kind: "cedit",
                        add, remove,
                        edit: [],
                    };
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'delete': {
                    let cmd = {
                        kind: 'despawn',
                        entities: [...entities],
                    };
                    this.clear();
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'forget': {
                    const res = confirm("Do you want the roleplayers to forget " + this.selectedEntities.size + " entities?\nThis cannot be undone");
                    if (res) {
                        (0,_command_command__WEBPACK_IMPORTED_MODULE_6__.emitCommand)(this.ecs, {
                            kind: 'event',
                            do: { name: 'forget', args: [{ entities: [...entities] }] },
                            undo: { name: '', args: [] },
                        }, true);
                    }
                    break;
                }
                case 'addComponent': {
                    let comp;
                    switch (propertyValue) {
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
                                name: '',
                                clientVisible: true,
                                multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.generateRandomId)(),
                            };
                            break;
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
                                note: '',
                                clientVisible: true,
                                multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.generateRandomId)(),
                            };
                            break;
                        case _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE:
                            comp = {
                                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                                color: 0xFFFFFF,
                                range: 2,
                            };
                            break;
                        case _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE:
                            comp = {
                                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                                nightVision: false,
                                range: 50,
                            };
                            break;
                        case _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE:
                            comp = {
                                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                                doorType: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DoorType.NORMAL_LEFT,
                                locked: false,
                                open: false,
                                clientVisible: true,
                            };
                            break;
                        case _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE:
                            comp = {
                                type: _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE,
                                layer: (0,_layerSystem__WEBPACK_IMPORTED_MODULE_10__.findForeground)(this.ecs),
                            };
                            break;
                        case _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE:
                            comp = {
                                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                                targetProp: -1,
                            };
                            break;
                        default:
                            throw new Error('Cannot add unknown component: ' + propertyValue);
                    }
                    let add = [];
                    for (let entity of [...entities]) {
                        add.push(Object.assign({ entity }, comp));
                    }
                    this.ecs.events.emit("command_log", (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(add));
                    break;
                }
                case 'removeComponent':
                    let remove = [];
                    for (let entity of [...entities]) {
                        let comp = this.ecs.getComponent(entity, propertyValue, multiId);
                        if (comp === undefined)
                            continue;
                        remove.push({
                            type: comp.type,
                            entity: comp.entity,
                            multiId: multiId,
                        });
                    }
                    let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(undefined, undefined, remove);
                    this.ecs.events.emit("command_log", cmd);
                    break;
                default:
                    console.warn("Unknown special event: " + propertyName);
            }
            return;
        }
        else if (type === '@') {
            // Event call (yeah I know this is ugly) TODO please next me clean it up
            // TODO: command log
            this.ecs.events.emit(propertyName, propertyValue, multiId);
            return;
        }
        let edit = [];
        for (let entity of entities) {
            let changes = {};
            changes[propertyName] = propertyValue;
            edit.push({
                type,
                entity,
                multiId,
                changes
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        this.ecs.events.emit("command_log", cmd);
        this.update();
    }
    moveAll(diffX, diffY, entities) {
        let edit = [];
        let posSto = this.ecs.getStorage(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        for (let entity of entities) {
            let pos = posSto.getComponent(entity);
            if (pos === undefined)
                continue;
            edit.push({
                type: _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE,
                entity: entity,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                },
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        // partial = isTranslating (and ignore the results)
        this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_COMMAND_LOG, cmd, undefined, this.isTranslating);
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.update();
    }
    getOrCreateData(type) {
        let data = this.dataByType.get(type);
        if (data === undefined) {
            data = {
                entities: new Set(),
            };
            this.dataByType.set(type, data);
        }
        return data;
    }
    hasComponentType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size > 0;
    }
    hasEveryoneType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size === this.selectedEntities.size;
    }
    enable() {
    }
    destroy() {
    }
}
function removePrivate(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        target[name] = filter[name];
    }
    return target;
}
function biFilterObj(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        if (target[name] !== filter[name]) {
            target[name] = undefined;
        }
    }
    for (let name in target) {
        if (name[0] === '_')
            continue;
        if (filter[name] === undefined) {
            target[name] = undefined;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/textSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/textSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_TYPE": () => (/* binding */ TEXT_TYPE),
/* harmony export */   "TextSystem": () => (/* binding */ TextSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");




const TEXT_TYPE = 'text';
class TextSystem {
    constructor(world) {
        this.name = TEXT_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE];
        this.world = world;
        this.textLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Layer();
    }
    enable() {
        this.textLayer.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_3__.LayerOrder.TEXT;
        this.textLayer.interactive = false;
        this.textLayer.interactiveChildren = false;
        let boardSys = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
        boardSys.root.addChild(this.textLayer);
    }
    destroy() {
        this.textLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/toolSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/toolSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TOOL_TYPE": () => (/* binding */ TOOL_TYPE),
/* harmony export */   "ToolSystem": () => (/* binding */ ToolSystem),
/* harmony export */   "FlagToolPart": () => (/* binding */ FlagToolPart)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_inspect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/inspect */ "./src/app/ecs/tools/inspect.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/measure */ "./src/app/ecs/tools/measure.ts");
/* harmony import */ var _keyboardSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");







const TOOL_TYPE = 'tool';
class ToolSystem {
    constructor(world) {
        this.name = TOOL_TYPE;
        this.dependencies = [_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE];
        this.optionalDependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE, _keyboardSystem__WEBPACK_IMPORTED_MODULE_5__.KEYBOARD_TYPE];
        this.initialized = false;
        this.subEvents = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_6__["default"]();
        this.standardTool = _tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.parts = new Map();
        this.tools = new Map();
        this.currentParts = new Array();
        this.world = world;
        world.addResource({
            type: TOOL_TYPE,
            _save: true,
            _sync: false,
            tool: undefined,
        });
        const events = world.events;
        events.on('resource_edited', this.onResourceEdited, this);
        const keyboard = this.world.getResource(_keyboardSystem__WEBPACK_IMPORTED_MODULE_5__.KEYBOARD_TYPE);
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.FilteredPanPart(world, 'click_pan', () => true));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.FilteredPanPart(world, 'space_pan', () => { var _a; return !!((_a = keyboard === null || keyboard === void 0 ? void 0 : keyboard.pressedKeys) === null || _a === void 0 ? void 0 : _a.has(' ')); }));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.FilteredPanPart(world, 'touch_pan', (w, e) => {
            return e.originalEvent.pointerType !== "mouse" || !this.world.isMaster;
        }));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.InteractPart(world));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.SelectPart(world));
        this.addToolPart(new _tools_measure__WEBPACK_IMPORTED_MODULE_4__.MeasureToolPart(world));
        this.addToolPart(new FlagToolPart('creation_flag'));
        this.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT, ['space_pan', 'select', 'touch_pan', 'interact']);
        this.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.MEASURE, ['space_pan', 'interact', 'measure']);
    }
    addToolPart(tool) {
        this.parts.set(tool.name, tool);
        if (this.initialized) {
            console.warn("Adding tool part after initialization");
            tool.initialize(this.subEvents);
        }
    }
    addTool(name, parts) {
        let p = [...parts];
        for (let part of p) {
            if (!this.parts.has(part)) {
                console.warn("Cannot find part " + part);
            }
        }
        this.tools.set(name, p);
    }
    addToolAsCopy(name, original) {
        const parts = this.tools.get(original);
        if (parts === undefined)
            throw new Error("Original tool not found");
        this.tools.set(name, parts);
    }
    isToolPartEnabled(name) {
        return this.currentParts.includes(name);
    }
    onResourceEdited(r, edited) {
        if (r.type === TOOL_TYPE) {
            let ct = r;
            let toolName = ct.tool || this.standardTool;
            let parts = this.tools.get(toolName);
            if (parts === undefined) {
                console.warn("Unregistered tool requested: " + ct.tool);
                toolName = this.standardTool;
                parts = this.tools.get(this.standardTool);
            }
            if (toolName === this.currentTool) {
                return;
            }
            console.log("Changing tool from " + (this.currentTool || 'none') + " to " + toolName);
            this.currentTool = toolName;
            // Disable all old parts
            for (let x of this.parts.values()) {
                const oldEnabled = this.currentParts.includes(x.name);
                const newEnable = parts.includes(x.name);
                if (oldEnabled && !newEnable) {
                    x.onDisable();
                }
            }
            // Enable all new parts
            for (let x of this.parts.values()) {
                const oldEnabled = this.currentParts.includes(x.name);
                const newEnable = parts.includes(x.name);
                if (!oldEnabled && newEnable) {
                    x.onEnable();
                }
            }
            this.currentParts = parts;
            // Reorder events
            const order = parts.map((x) => this.parts.get(x)).reverse();
            this.subEvents.reorderObjects(order, _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_6__.PRIORITY_DISABLED);
        }
    }
    enable() {
        this.initialized = true;
        this.world.events.addChild(this.subEvents);
        for (let part of this.parts.values()) {
            part.initialize(this.subEvents);
        }
        if (this.currentTool === undefined) {
            this.world.editResource(TOOL_TYPE, {
                tool: this.standardTool,
            });
        }
    }
    destroy() {
        for (let part of this.parts.values()) {
            part.destroy();
        }
        this.world.events.removeChild(this.subEvents);
    }
}
class FlagToolPart {
    constructor(name) {
        this.name = name;
    }
    initialize(events) {
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilityAwareSystem.ts":
/*!***********************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilityAwareSystem.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_AWARE_TYPE": () => (/* binding */ VISIBILITY_AWARE_TYPE),
/* harmony export */   "newVisibilityAwareComponent": () => (/* binding */ newVisibilityAwareComponent),
/* harmony export */   "VisibilityAwareSystem": () => (/* binding */ VisibilityAwareSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");









const VISIBILITY_AWARE_TYPE = 'visibility_aware';
function newVisibilityAwareComponent(isWall = false) {
    return {
        type: VISIBILITY_AWARE_TYPE,
        entity: -1,
        visibleBy: [],
        isWall,
    };
}
class VisibilityAwareSystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_AWARE_TYPE;
        this.dependencies = [_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_AWARE_TYPE, false, false);
        /**
         * Events:
         * aware_update(component, added, removed)
         *   Called when a VisibilityAware entity is updated
         *   why can't we do this with a normal component_edit event?
         *   It's easier not to build component diffs.
         *   If you want to track old values do it on your own.
         */
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__["default"]();
        this.world = world;
        this.visibilitySys = this.world.systems.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        this.interactionSys = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        world.addStorage(this.storage);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    visibilityChange(viewer, polygon, range) {
        range *= this.gridSize;
        if (polygon === undefined) {
            // Player visibility null
            let oldCanSee = viewer._canSee;
            viewer._canSee = [];
            for (let x of oldCanSee) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let oldCanSee = viewer._canSee;
        viewer._canSee = [];
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let interStorage = this.world.storages.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let viewerPos = posStorage.getComponent(viewer.entity);
        let viewerPoly = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(polygon);
        let viewerCircle = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(viewerPos, range);
        // Check if old awares can still be seen
        for (let i of oldCanSee) {
            let shape = interStorage.getComponent(i).shape;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerPoly, shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape)) {
                viewer._canSee.push(i);
            }
            else {
                let target = this.storage.getComponent(i);
                // No need to remove target.entity from player._canSee as it's already been removed
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
        }
        let iter = this.interactionSys.query(viewerPoly, c => {
            let target = this.storage.getComponent(c.entity);
            return target !== undefined && target.isWall !== true && oldCanSee.indexOf(c.entity) === -1;
        });
        for (let e of iter) {
            let shape = interStorage.getComponent(e.entity).shape;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape))
                continue;
            let target = this.storage.getComponent(e.entity);
            viewer._canSee.push(e.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    visibleElementMove(aware) {
        var _a;
        if (aware.isWall === true)
            return;
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        let pos = posStorage.getComponent(aware.entity);
        let shape = this.world.getComponent(aware.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let oldVisibleBy = aware.visibleBy;
        aware.visibleBy = [];
        let added = [];
        let removed = [];
        // Search for new players
        for (let p of this.visibilitySys.aabbTree.query(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos))) {
            let entity = p.tag.entity;
            let vis = visStorage.getComponent(entity);
            if (vis === undefined || oldVisibleBy.indexOf(entity) !== -1)
                continue;
            let ppos = posStorage.getComponent(entity);
            let pvis = visStorage.getComponent(entity);
            let range = pvis.range * this.gridSize;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) || !(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)((_a = p.tag) === null || _a === void 0 ? void 0 : _a.polygon)))
                continue;
            vis._canSee.push(aware.entity);
            aware.visibleBy.push(vis.entity);
            added.push(vis.entity);
        }
        // Check for old players
        for (let p of oldVisibleBy) {
            let vis = visStorage.getComponent(p);
            let ppos = posStorage.getComponent(p);
            let pvis = visStorage.getComponent(p);
            let range = pvis.range * this.gridSize;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(pvis.polygon))) {
                aware.visibleBy.push(p);
                continue;
            }
            // No need to remove e._visibleBy as it's already been cleared
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, aware.entity);
            removed.push(vis.entity);
        }
        if (added.length + removed.length > 0) {
            this.events.emit('aware_update', aware, added, removed);
        }
    }
    onViewBlockerEdited(viewer, newWalls, oldWalls) {
        oldWalls = oldWalls || [];
        if (newWalls.length === 0) {
            // Player visibility null
            for (let x of oldWalls) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let commonWalls = [];
        // Check if old awares can still be seen
        for (let i of oldWalls) {
            if (newWalls.includes(i)) {
                //console.log("| =" + i);
                commonWalls.push(i);
                continue;
            }
            let target = this.storage.getComponent(i);
            if (target === undefined) {
                //console.log("| %" + i);
                continue;
            }
            //console.log("| -" + target.entity);
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
            this.events.emit('aware_update', target, [], [viewer.entity]);
        }
        for (let e of newWalls) {
            if (commonWalls.includes(e))
                continue;
            let target = this.storage.getComponent(e);
            if (target === undefined) {
                //console.log("| ^" + e);
                continue;
            }
            //console.log("| +" + target.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    onComponentAdd(comp) {
        if (comp.type === VISIBILITY_AWARE_TYPE) {
            this.visibleElementMove(comp);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            if ('polygon' in changed) {
                this.visibilityChange(vis, vis.polygon, vis.range);
            }
            if ('_canSeeWalls' in changed) {
                this.onViewBlockerEdited(vis, vis._canSeeWalls, changed._canSeeWalls);
            }
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let visAware = this.storage.getComponent(comp.entity);
            if (visAware === undefined)
                return;
            this.visibleElementMove(visAware);
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            this.visibilityChange(vis, undefined, 0);
            this.onViewBlockerEdited(vis, [], vis._canSeeWalls);
        }
        else if (comp.type === VISIBILITY_AWARE_TYPE) {
            let va = comp;
            let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
            for (let p of va.visibleBy) {
                let vis = visStorage.getComponent(p);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, va.entity);
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
    }
    manualRecomputeWall(entity) {
        var _a;
        const c = this.storage.getComponent(entity);
        if (c === undefined || !c.isWall)
            return;
        const newWalls = [];
        const inter = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        if (inter === undefined || inter.shape.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.ShapeType.LINE)
            return;
        const aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeToAabb)(inter.shape);
        for (let node of [...this.visibilitySys.aabbTree.query(aabb)]) {
            const comp = node.tag;
            if ((_a = comp._canSeeWalls) === null || _a === void 0 ? void 0 : _a.includes(c.entity)) {
                newWalls.push(comp.entity);
            }
        }
        const removedElements = c.visibleBy.filter(x => !newWalls.includes(x));
        const addedElements = newWalls.filter(x => !c.visibleBy.includes(x));
        this.events.emit('aware_update', c, addedElements, removedElements);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilitySystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilitySystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_TYPE": () => (/* binding */ VISIBILITY_TYPE),
/* harmony export */   "VISIBILITY_BLOCKER_TYPE": () => (/* binding */ VISIBILITY_BLOCKER_TYPE),
/* harmony export */   "VisibilitySystem": () => (/* binding */ VisibilitySystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");








const VISIBILITY_TYPE = 'visibility';
const VISIBILITY_BLOCKER_TYPE = 'visibility_blocker';
/**
 * Please don't stick a visibility component to an entity with a wall component (or vice-versa),
 * they don't go along together too much, for a lot of reasons.
 *
 * This system queries every entity with a VisibilityComponent and keeps it updated, by that I mean:
 * - Recompute the visibility polygon when the range changes
 * - Recompute the visibility polygon when the walls change
 *
 * Little note on visibility polygon algorithms:
 * General polygons are a mess to deal with, but the visibility polygon is a bit easier than most.
 * Since there are no portals nor mirrors in the game (yet!) each point in the polygon is visible from the center.
 * How can this property help in any way? Let me make an example:
 * We can easily compute if a point is inside of this polygon by doing a binary search on the angles, so the algorithm
 * becomes of complexity O(log(n)) where n are the polygon points.
 * Another property that I'm using is that a visibility polygon is much easier to triangulate!
 * Cut off all those ear cutting algorithms, just make triangles starting from the center!
 */
class VisibilitySystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_TYPE;
        this.dependencies = [_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_TYPE, false, false);
        this.blockerStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_BLOCKER_TYPE, false, false);
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__.DynamicTree();
        this.world = world;
        this.interactionSystem = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS).size;
        world.addStorage(this.storage);
        world.addStorage(this.blockerStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    removeTreePolygon(c) {
        if (c._aabbTreeId !== undefined) {
            this.aabbTree.destroyProxy(c._aabbTreeId);
            c._aabbTreeId = undefined;
        }
    }
    updatePolygon(c) {
        // Ignore if it's hidden.
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        if (pos === undefined)
            return;
        // We will recreate it later (if necessary)
        this.removeTreePolygon(c);
        if (c.range <= 0) {
            this.world.editComponent(c.entity, c.type, {
                polygon: undefined,
                polygonAabb: undefined,
                aabb: undefined,
            });
            return;
        }
        let range = c.range * this.gridSize;
        let viewport = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x - range, pos.y - range, pos.x + range, pos.y + range);
        let lines = new Array();
        let blockerIds = new Array();
        let query = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeAabb)(viewport), c => {
            return this.blockerStorage.getComponent(c.entity) !== undefined;
        });
        for (let entry of query) {
            let s = entry.shape;
            if (s.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.ShapeType.LINE)
                throw new Error('Only line is supported as light blocker shape');
            let lineData = s.data;
            // TODO: check if entity is IN wall.
            lines.push(lineData);
            blockerIds.push(entry.entity);
        }
        let usedBlockers;
        if (c.trackWalls === true) {
            usedBlockers = new Array();
        }
        else {
            usedBlockers = undefined;
        }
        let polygon = (0,_geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__.computeViewport)(lines, viewport, pos, usedBlockers);
        // Recycle the unused viewport object
        viewport.wrapPolygon(polygon);
        if (usedBlockers !== undefined) {
            for (let i = 0; i < usedBlockers.length; i++) {
                usedBlockers[i] = blockerIds[usedBlockers[i]];
            }
        }
        this.world.editComponent(c.entity, c.type, {
            polygon,
            aabb: viewport,
            _canSeeWalls: usedBlockers,
        });
        c._aabbTreeId = this.aabbTree.createProxy(viewport, c);
    }
    recomputeArea(aabb) {
        for (let node of [...this.aabbTree.query(aabb)]) {
            this.updatePolygon(node.tag);
        }
    }
    onComponentAdd(c) {
        if (c.type === VISIBILITY_TYPE) {
            let v = c;
            v._canSee = [];
            this.updatePolygon(v);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
            if (cmp !== undefined) {
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(c.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Component hidden is like component missing, they won't be able to see a thing
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.removeVisibility(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                this.removeVisibilityBlocker(blo);
            }
        }
    }
    onComponentEdited(c, changes) {
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        if (c.type === VISIBILITY_TYPE) {
            if ('range' in changes) {
                let vc = c;
                if (isNaN(vc.range) || vc.range === undefined) {
                    vc.range = 50;
                }
                this.updatePolygon(c);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blk = this.blockerStorage.getComponent(c.entity);
            if (blk !== undefined) {
                let inter = this.world.getComponent(blk.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(inter.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && 'shape' in changes && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
    }
    onComponentRemoved(c) {
        if (c.type === VISIBILITY_TYPE) {
            this.removeVisibility(c);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            this.removeVisibilityBlocker(c);
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Welcome to the visible!
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                if (cmp !== undefined) {
                    this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
                }
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // Update everything in the next tick so that everyone sees the changes first
            PIXI.Ticker.shared.addOnce(() => {
                for (let c of this.storage.allComponents()) {
                    this.updatePolygon(c);
                }
            });
        }
    }
    removeVisibility(c) {
        this.removeTreePolygon(c);
    }
    removeVisibilityBlocker(c) {
        let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        if (cmp !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/backgroundImageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/backgroundImageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BACKGROUND_IMAGE_TYPE": () => (/* binding */ BACKGROUND_IMAGE_TYPE),
/* harmony export */   "BackgroundImageSystem": () => (/* binding */ BackgroundImageSystem)
/* harmony export */ });
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* harmony import */ var _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/nameAsLabelSystem */ "./src/app/ecs/systems/back/nameAsLabelSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};






const BACKGROUND_IMAGE_TYPE = 'background_image';
class BackgroundImageSystem {
    constructor(world) {
        this.name = BACKGROUND_IMAGE_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE];
        this.world = world;
        this.bigStorage = world.systems.get(_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE);
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(BACKGROUND_IMAGE_TYPE, true, true);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        if (this.world.isMaster) {
            this.world.events.on(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, this.onRememberBBBUpdate, this);
        }
    }
    onComponentAdd(c) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            if (c.type !== BACKGROUND_IMAGE_TYPE)
                return;
            let bkgImg = c;
            if (typeof bkgImg.image !== 'number') {
                if (Uint8Array.prototype.isPrototypeOf(bkgImg.image)) {
                    // previous versions did not have BigStorageSystem, let's fix that
                    console.info("Converting background to BigStorage...");
                    bkgImg.image = this.bigStorage.create(bkgImg.image).multiId;
                    bkgImg.visMap = this.bigStorage.create(bkgImg.visMap, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BigEntryFlags.SHARED | _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BigEntryFlags.READONLY).multiId;
                    delete bkgImg['visibilityMap'];
                }
                else if (bkgImg.image === undefined) {
                    console.warn("This image has no texture, deleting");
                    this.world.removeComponent(c);
                    return;
                }
                else {
                    console.warn("Error, could not convert bkgImage! Resetting", bkgImg.image);
                    bkgImg.image = 0;
                    this.world.removeComponent(c);
                    return;
                }
            }
            let image = this.bigStorage.requestUse(bkgImg.image).data;
            if (image.image !== undefined || image.byteLength === 0) {
                // old version of background, unsupported
                console.log("Removing empty/unsupported background " + bkgImg.entity);
                this.bigStorage.dropUse(bkgImg.entity, true);
                this.world.despawnEntity(bkgImg.entity);
                return;
            }
            let visMap = undefined;
            if (bkgImg.visMap !== undefined) {
                visMap = (_a = this.bigStorage.requestUse(bkgImg.visMap)) === null || _a === void 0 ? void 0 : _a.data;
            }
            let tex;
            try {
                tex = yield (0,_util_pixi__WEBPACK_IMPORTED_MODULE_0__.loadTexture)(image, bkgImg.imageType);
            }
            catch (e) {
                console.error("Failed to load image: ", e);
                this.world.removeComponent(c);
                return;
            }
            this.world.addComponent(c.entity, {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                interactive: true,
                entity: c.entity,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE,
                    ignore: false,
                    priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.BACKGROUND,
                    scale: _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.REAL,
                    visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT,
                    visMap,
                    texture: tex,
                    anchor: { x: 0.5, y: 0.5 },
                    tint: 0xFFFFFF,
                },
            });
            this.world.addComponent(c.entity, {
                type: _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_5__.NAME_AS_LABEL_TYPE,
                initialOffset: { x: 0, y: -tex.height / 2 }
            });
        });
    }
    onComponentRemove(c) {
        if (c.type !== BACKGROUND_IMAGE_TYPE)
            return;
        let bkgImg = c;
        if (bkgImg.image !== undefined) {
            this.bigStorage.dropUse(bkgImg.image);
        }
        if (bkgImg.visMap !== undefined) {
            this.bigStorage.dropUse(bkgImg.visMap);
        }
    }
    onRememberBBBUpdate(entities) {
        var _a, _b;
        let gstor = this.world.storages.get(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        for (let e of entities) {
            let c = this.storage.getComponent(e);
            if (c === undefined)
                continue;
            const visData = (_b = (_a = gstor.getComponent(e)) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.visMap;
            if (c.visMap === undefined) {
                c.visMap = this.bigStorage.create(visData, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BigEntryFlags.NO_SYNC).multiId;
            }
            else {
                c.visMap = this.bigStorage.replace(c.visMap, visData);
            }
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/command.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/command/command.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "executeAndLogCommand": () => (/* binding */ executeAndLogCommand),
/* harmony export */   "emitCommand": () => (/* binding */ emitCommand),
/* harmony export */   "commandRegisterPreConsequence": () => (/* binding */ commandRegisterPreConsequence),
/* harmony export */   "commandRegisterPostConsequence": () => (/* binding */ commandRegisterPostConsequence)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");

function executeAndLogCommand(world, command) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_LOG, command, res);
    return res.inverted;
}
function emitCommand(world, command, share) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, command, res, share);
    return res.inverted;
}
function commandRegisterPreConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_PRE_CONSEQUENCE, command);
}
function commandRegisterPostConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_POST_CONSEQUENCE, command);
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandHistorySystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/command/commandHistorySystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COMMAND_HISTORY_TYPE": () => (/* binding */ COMMAND_HISTORY_TYPE),
/* harmony export */   "CommandHistorySystem": () => (/* binding */ CommandHistorySystem)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");

const HISTORY_LIMIT = 128;
const COMMAND_HISTORY_TYPE = 'command_history';
class CommandHistorySystem {
    constructor(world) {
        this.name = COMMAND_HISTORY_TYPE;
        this.dependencies = [_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE];
        this.isLastPartial = false;
        this.index = 0;
        this.world = world;
        this.history = new Array();
        this.commandSys = this.world.systems.get(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE);
        this.commandSys.logger = this;
        this.world.events.on("command_undo", this.onUndo, this);
        this.world.events.on("command_redo", this.onRedo, this);
    }
    historyPush(cmd) {
        if (this.history.length !== this.index) {
            this.history.length = this.index;
        }
        this.history.push(cmd);
        this.index++;
        if (this.index > HISTORY_LIMIT) {
            this.index--;
            // TODO: use some kind of random-access splice-able deque?
            this.history.shift();
        }
    }
    historyReplacePrev(cmd) {
        this.history[this.index - 1] = cmd;
    }
    historyUndo(replace) {
        this.historyReplacePrev(replace);
        this.index--;
    }
    historyRedo(replace) {
        this.index++;
        this.historyReplacePrev(replace);
    }
    historyPeekPrev() {
        if (this.index <= 0)
            return undefined;
        return this.history[this.index - 1];
    }
    historyPeekNext() {
        if (this.index >= this.history.length)
            return undefined;
        return this.history[this.index];
    }
    notifyHistoryChange() {
        this.world.events.emit("command_history_change", this.canUndo(), this.canRedo());
    }
    closePartial() {
        this.isLastPartial = false;
    }
    processPartial(cmd, partial) {
        if (this.isLastPartial && !partial) {
            this.isLastPartial = false;
            // continue, this is the last partial round
        }
        else {
            // it's not partial (but also the last one was also not a partial)
            if (!partial)
                return false;
            // the last one was not partial but this one is,
            // add the command to the queue and wait for the next
            if (!this.isLastPartial && partial) {
                this.isLastPartial = true;
                return false;
            }
        }
        let lastCmd = this.historyPeekPrev();
        if (cmd.kind !== lastCmd.cmd.kind) {
            console.warn("Warning: processing a partial with a wrong last kind, did you forget to log the last partial command");
            return false;
        }
        let kind = this.commandSys.getKind(cmd.kind);
        kind.merge(cmd, lastCmd.cmd);
        this.historyReplacePrev({
            cmd,
        });
        return true;
    }
    logPrepare(partial) {
        // TODO
        /*this.prepared = {
            cmd: { kind: 'none'} as NoneCommand,
            post: [], pre: [],
        };*/
    }
    logCommit(cmd, partial) {
        //console.log("LOG", JSON.stringify(cmd));
        if (cmd === undefined) {
            if (!partial) {
                this.closePartial();
            }
            return;
        }
        if (this.processPartial(cmd, partial)) {
            return;
        }
        this.historyPush({ cmd });
        this.notifyHistoryChange();
    }
    executeEmit(cmd) {
        let res = {};
        this.world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, cmd, res);
        return res.inverted || { kind: 'none' };
    }
    onUndo() {
        let cmd = this.historyPeekPrev();
        if (cmd === undefined) {
            console.log("Nothing to undo");
            return;
        }
        this.historyUndo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    onRedo() {
        let cmd = this.historyPeekNext();
        if (cmd === undefined) {
            console.log("Nothing to redo");
            return;
        }
        this.historyRedo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    canRedo() {
        return this.history.length > this.index;
    }
    canUndo() {
        return this.index > 0;
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/commandSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_COMMAND_EMIT": () => (/* binding */ EVENT_COMMAND_EMIT),
/* harmony export */   "EVENT_COMMAND_LOG": () => (/* binding */ EVENT_COMMAND_LOG),
/* harmony export */   "EVENT_COMMAND_PARTIAL_END": () => (/* binding */ EVENT_COMMAND_PARTIAL_END),
/* harmony export */   "EVENT_COMMAND_ADD_PRE_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_PRE_CONSEQUENCE),
/* harmony export */   "EVENT_COMMAND_ADD_POST_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_POST_CONSEQUENCE),
/* harmony export */   "COMMAND_TYPE": () => (/* binding */ COMMAND_TYPE),
/* harmony export */   "CommandSystem": () => (/* binding */ CommandSystem)
/* harmony export */ });
/* harmony import */ var _spawnCommand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _despawnCommand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./despawnCommand */ "./src/app/ecs/systems/command/despawnCommand.ts");
/* harmony import */ var _componentEdit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resourceEditCommand */ "./src/app/ecs/systems/command/resourceEditCommand.ts");
/* harmony import */ var _eventCommand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./eventCommand */ "./src/app/ecs/systems/command/eventCommand.ts");
/* harmony import */ var _noneCommand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./noneCommand */ "./src/app/ecs/systems/command/noneCommand.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");







const EVENT_COMMAND_EMIT = 'command_emit';
const EVENT_COMMAND_LOG = 'command_log';
const EVENT_COMMAND_PARTIAL_END = 'command_partial_end';
const EVENT_COMMAND_ADD_PRE_CONSEQUENCE = 'command_add_precons';
const EVENT_COMMAND_ADD_POST_CONSEQUENCE = 'command_add_poscons';
const COMMAND_TYPE = 'command';
class CommandSystem {
    constructor(world) {
        this.name = COMMAND_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE];
        this.commands = new Map();
        this.world = world;
        this.registerDefaultCommands();
        this.world.events.on(EVENT_COMMAND_EMIT, this.onEmit, this);
        this.world.events.on(EVENT_COMMAND_LOG, this.onLog, this);
        this.world.events.on(EVENT_COMMAND_PARTIAL_END, this.onPartialEnd, this);
        this.networkSys = world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE);
    }
    registerCommandKind(kind) {
        this.commands.set(kind.kind, kind);
    }
    registerDefaultCommands() {
        this.registerCommandKind(new _spawnCommand__WEBPACK_IMPORTED_MODULE_0__.SpawnCommandKind(this.world));
        this.registerCommandKind(new _despawnCommand__WEBPACK_IMPORTED_MODULE_1__.DeSpawnCommandKind(this.world));
        this.registerCommandKind(new _componentEdit__WEBPACK_IMPORTED_MODULE_2__.ComponentEditCommandKind(this.world));
        this.registerCommandKind(new _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__.ResourceEditCommandKind(this.world));
        this.registerCommandKind(new _eventCommand__WEBPACK_IMPORTED_MODULE_4__.EventCommandKind(this.world));
        this.registerCommandKind(new _noneCommand__WEBPACK_IMPORTED_MODULE_5__.NoneCommandKind());
    }
    onEmit(command, res, share) {
        var _a;
        let kind = this.commands.get(command.kind);
        if (kind === undefined) {
            console.warn("Error executing command: unknown kind " + kind);
            return undefined;
        }
        if (kind.isNull(command))
            return;
        // console.log("EMIT", JSON.stringify(command));
        if (((_a = this.networkSys) === null || _a === void 0 ? void 0 : _a.isOnline()) === true && share) {
            let stripped = kind.stripClient(command);
            if (stripped.length !== 0) {
                this.world.events.emit("command_share", stripped);
            }
        }
        this.world.events.emit('command_pre_execute');
        let inv;
        try {
            inv = kind.applyInvert(command);
        }
        catch (e) {
            console.warn("Cannot apply command", command, e);
            inv = undefined;
        }
        if (res !== undefined) {
            res.inverted = inv;
        }
        this.world.events.emit('command_post_execute', inv);
    }
    onLog(command, res, partial = false) {
        var _a, _b;
        let result = res || {};
        this.onEmit(command, result, true);
        if (result.inverted !== undefined) {
            let inv = result.inverted;
            let kind = this.commands.get(inv.kind);
            if (kind === undefined) {
                console.warn("Invalid inverted command! " + kind);
                return;
            }
            if (!kind.isNull(inv)) {
                (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(result.inverted, partial);
            }
            else {
                (_b = this.logger) === null || _b === void 0 ? void 0 : _b.logCommit(undefined, partial);
            }
        }
    }
    onPartialEnd() {
        var _a;
        (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(undefined, false);
    }
    getKind(kind) {
        return this.commands.get(kind);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/componentEdit.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/componentEdit.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "componentEditCommand": () => (/* binding */ componentEditCommand),
/* harmony export */   "singleEditCommand": () => (/* binding */ singleEditCommand),
/* harmony export */   "ComponentEditCommandKind": () => (/* binding */ ComponentEditCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/jsobj */ "./src/app/util/jsobj.ts");



function componentEditCommand(add, edit, remove, parallel) {
    return {
        kind: 'cedit',
        add,
        edit,
        remove,
        multi: parallel
    };
}
function singleEditCommand(edit) {
    return componentEditCommand(undefined, [edit]);
}
class ComponentEditCommandKind {
    constructor(world) {
        this.kind = 'cedit';
        this.world = world;
    }
    applyInvert(cmd) {
        var _a, _b, _c, _d, _e, _f;
        let inv = {
            kind: 'cedit',
        };
        for (let c of (_a = cmd.add) !== null && _a !== void 0 ? _a : []) {
            inv.remove = (_b = inv.remove) !== null && _b !== void 0 ? _b : [];
            inv.remove.push({
                entity: c.entity,
                type: c.type,
                multiId: c.multiId,
            });
            this.world.addComponent(c.entity, c);
        }
        if (!cmd.multi) {
            for (let c of (_c = cmd.edit) !== null && _c !== void 0 ? _c : []) {
                this.world.editComponent(c.entity, c.type, c.changes, c.multiId, false);
            }
        }
        else {
            let entityMap = new Map();
            for (let c of (_d = cmd.edit) !== null && _d !== void 0 ? _d : []) {
                let x = entityMap.get(c.entity);
                if (x === undefined) {
                    x = [];
                    entityMap.set(c.entity, x);
                }
                x.push({
                    type: c.type,
                    multiId: c.multiId,
                    changes: c.changes,
                });
            }
            for (let [key, val] of entityMap.entries()) {
                this.world.editComponentMultiple(key, val);
            }
        }
        inv.edit = cmd.edit;
        for (let c of (_e = cmd.remove) !== null && _e !== void 0 ? _e : []) {
            let component = this.world.getComponent(c.entity, c.type, c.multiId);
            if (component !== undefined) {
                this.world.removeComponent(component);
                inv.add = (_f = inv.add) !== null && _f !== void 0 ? _f : [];
                inv.add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(component));
            }
        }
        return inv;
    }
    stripClient(cmd) {
        var _a, _b, _c, _d, _e, _f, _g;
        // Get all of the new entitites that have been hidden
        let host_hidden = (_b = (_a = cmd.add) === null || _a === void 0 ? void 0 : _a.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _b !== void 0 ? _b : [];
        // Get all fof the new entities that have been un-hidden (shown)
        let non_host_hidden = (_d = (_c = cmd.remove) === null || _c === void 0 ? void 0 : _c.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _d !== void 0 ? _d : [];
        // Checks if a component is visible (a component is bisible if clientVisible !== false and if it's
        //   not host-hidden)
        let predicate = (x) => {
            if (x.clientVisible === false)
                return false;
            if (host_hidden.indexOf(x.entity) > -1)
                return false;
            if (non_host_hidden.indexOf(x.entity) > -1)
                return true;
            return this.world.getComponent(x.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined;
        };
        // Filters a component based on the old component, for example:
        // if the old component is hidden and the new edits do not change that, the component is filtered
        // if the old component is hidden and the new edits might change it,  it's not hidden
        // if the old component is not hidden, it's not hidden
        let partialPredicate = (entity, type, multiId, changes) => {
            let real = this.world.getComponent(entity, type, multiId);
            if (real.clientVisible === false && !('clientVisible' in changes))
                return false;
            return predicate({ entity, type });
        };
        // get added components that are only visible to the client
        let add = (_e = cmd.add) === null || _e === void 0 ? void 0 : _e.filter(predicate);
        // get edited components that are only visible to the client
        let edit = (_f = cmd.edit) === null || _f === void 0 ? void 0 : _f.filter(x => partialPredicate(x.entity, x.type, x.multiId, x.changes));
        // get removed components that are only visible to the client
        let remove = (_g = cmd.remove) === null || _g === void 0 ? void 0 : _g.filter(x => x.type !== _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE && partialPredicate(x.entity, x.type, x.multiId, {}));
        // If we set clientVisible === false in a component we need a way to remove it on the client
        //  and we also need to do the same thing in reverse
        // We need to propagate the changes in edit to add and remove components with clientVisible
        edit = edit === null || edit === void 0 ? void 0 : edit.filter(x => {
            // if the edits did not change the visibility the old filter has finished all of the work
            if (!('clientVisible' in x.changes))
                return true;
            let orig = this.world.getComponent(x.entity, x.type, x.multiId);
            if (orig === undefined)
                return false;
            if (x.changes.clientVisible === false && orig.clientVisible !== false) {
                // if the edits have hidden the component (and it wasn't hidden already) then remove it
                remove = remove !== null && remove !== void 0 ? remove : [];
                remove.push({
                    entity: x.entity,
                    type: x.type,
                    multiId: x.multiId,
                });
            }
            else if (x.changes.clientVisible !== false && orig.clientVisible === false) {
                // If the edits have unhidden the component (and it was hidden before) then add it
                add = add !== null && add !== void 0 ? add : [];
                add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(orig));
            }
            return false;
        });
        let res = new Array();
        if (host_hidden.length !== 0) {
            res.push({
                kind: 'despawn',
                entities: host_hidden,
            });
        }
        if (non_host_hidden.length !== 0) {
            res.push(this.createEntitySpawnPacket(non_host_hidden));
        }
        if (((add === null || add === void 0 ? void 0 : add.length) || 0) + ((edit === null || edit === void 0 ? void 0 : edit.length) || 0) + ((remove === null || remove === void 0 ? void 0 : remove.length) || 0) !== 0) {
            let cedit = {
                kind: 'cedit'
            };
            if (add !== undefined && add.length > 0)
                cedit.add = add.map(_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectClone);
            if (edit !== undefined && edit.length > 0) {
                cedit.edit = edit.map(_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectClone);
                if (cmd.multi)
                    cedit.multi = true;
            }
            if (remove !== undefined && remove.length > 0)
                cedit.remove = remove.map(_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectClone);
            res.push(cedit);
        }
        return res;
    }
    merge(to, from) {
        if (to.multi !== from.multi)
            return false;
        // TODO: from should remove entities added in to.
        //       handle entities edited in to but removed in from
        to.add = mergeNullableArrays(to.add, from.add);
        to.remove = mergeNullableArrays(to.remove, from.remove);
        if (from.edit !== undefined) {
            if (to.edit === undefined) {
                to.edit = from.edit;
            }
            else {
                for (let x of from.edit) {
                    let z = to.edit.find(y => x.entity === y.entity && x.type === y.type && x.multiId === y.multiId);
                    if (z === undefined) {
                        to.edit.push(x);
                    }
                    else {
                        Object.assign(z.changes, x.changes);
                    }
                }
            }
        }
        return true;
    }
    isNull(command) {
        var _a, _b, _c;
        if ((((_a = command.add) === null || _a === void 0 ? void 0 : _a.length) || 0) + (((_b = command.remove) === null || _b === void 0 ? void 0 : _b.length) || 0) !== 0)
            return false;
        for (let edit of (_c = command.edit) !== null && _c !== void 0 ? _c : []) {
            for (let c in edit.changes) {
                return false;
            }
        }
        return true;
    }
    createEntitySpawnPacket(entities) {
        let data = this.world.serialize({
            requireSync: true,
            stripClient: true,
            ignoreHostHidden: true,
            only: new Set(entities),
        });
        return {
            kind: 'spawn',
            data,
        };
    }
}
function mergeNullableArrays(a, b) {
    if (a === undefined)
        return b;
    if (b === undefined)
        return a;
    a.push(...b);
    return a;
}


/***/ }),

/***/ "./src/app/ecs/systems/command/despawnCommand.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/command/despawnCommand.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DeSpawnCommandKind": () => (/* binding */ DeSpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");

class DeSpawnCommandKind {
    constructor(world) {
        this.kind = 'despawn';
        this.world = world;
    }
    applyInvert(cmd) {
        const data = this.world.serialize({
            only: new Set(cmd.entities),
            requireSave: true,
        });
        for (let e of cmd.entities) {
            this.world.despawnEntity(e);
        }
        return {
            kind: 'spawn',
            data,
        };
    }
    stripClient(command) {
        let entities = command.entities.filter(x => this.world.getComponent(x, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined);
        if (entities.length === 0)
            return [];
        return [{
                kind: 'despawn',
                entities,
            }];
    }
    merge(to, from) {
        to.entities.push(...from.entities);
        return true;
    }
    isNull(command) {
        return command.entities.length === 0;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/eventCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/eventCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventCommandKind": () => (/* binding */ EventCommandKind)
/* harmony export */ });
class EventCommandKind {
    constructor(world) {
        this.kind = 'event';
        this.world = world;
    }
    applyInvert(cmd) {
        this.world.events.emit(cmd.do.name, ...cmd.do.args);
        return {
            kind: 'event',
            do: cmd.undo,
            undo: cmd.do,
        };
    }
    stripClient(command) {
        return [command];
    }
    merge(to, from) {
        return false;
    }
    isNull(command) {
        return false;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/noneCommand.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/command/noneCommand.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoneCommandKind": () => (/* binding */ NoneCommandKind)
/* harmony export */ });
class NoneCommandKind {
    constructor() {
        this.kind = 'none';
    }
    applyInvert(cmd) {
        return cmd;
    }
    stripClient(command) {
        return [];
    }
    merge(to, from) {
        return true;
    }
    isNull(command) {
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/resourceEditCommand.ts":
/*!************************************************************!*\
  !*** ./src/app/ecs/systems/command/resourceEditCommand.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResourceEditCommandKind": () => (/* binding */ ResourceEditCommandKind)
/* harmony export */ });
class ResourceEditCommandKind {
    constructor(world) {
        this.kind = 'redit';
        this.world = world;
    }
    applyInvert(cmd) {
        let inv = {
            kind: 'redit',
            add: [],
            edit: [],
            remove: [],
        };
        for (let c of cmd.add) {
            inv.remove.push(c.type);
            this.world.addResource(c);
        }
        for (let name in cmd.edit) {
            // Data gets swapped with the changes
            let data = cmd.edit[name];
            this.world.editResource(name, data);
        }
        inv.edit = cmd.edit;
        for (let c of cmd.remove) {
            let res = this.world.getResource(c);
            if (res === undefined)
                continue;
            inv.add.push(res);
            this.world.removeResource(c);
        }
        return inv;
    }
    stripClient(cmd) {
        var _a;
        let add = cmd.add.filter(x => x._sync);
        let edit = {};
        let editc = 0;
        for (let type in cmd.edit) {
            if ((_a = this.world.getResource(type)) === null || _a === void 0 ? void 0 : _a._sync) {
                editc += 1;
                edit[type] = cmd.edit[type];
            }
        }
        let remove = cmd.remove.filter(x => { var _a; return (_a = this.world.getResource(x)) === null || _a === void 0 ? void 0 : _a._sync; });
        if (add.length + editc + remove.length === 0) {
            return [];
        }
        return [{
                kind: 'redit',
                add, edit, remove,
            }];
    }
    merge(to, from) {
        to.add.push(...from.add);
        to.remove.push(...from.remove);
        for (let type in from.edit) {
            if (type in to.edit) {
                Object.assign(to.edit[type], from.edit[type]);
            }
            else {
                to.edit[type] = from.edit[type];
            }
        }
        return true;
    }
    isNull(command) {
        if (command.add.length + command.remove.length !== 0)
            return false;
        for (let type in command.edit) {
            for (let change in command.edit[type]) {
                return false;
            }
        }
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/spawnCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/spawnCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpawnCommandKind": () => (/* binding */ SpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/jsobj */ "./src/app/util/jsobj.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




class SpawnCommandKind {
    constructor(world) {
        this.kind = 'spawn';
        this.world = world;
    }
    applyInvert(cmd) {
        this.world.deserialize(cmd.data, {});
        return {
            kind: 'despawn',
            entities: cmd.data.entities,
        };
    }
    stripClient(command) {
        const hostHidden = command.data.storages[_component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE];
        const entityFilter = (x) => hostHidden === undefined || hostHidden.indexOf(x) < 0;
        let newEntities = command.data.entities.filter(entityFilter);
        if (newEntities.length === 0) {
            return [];
        }
        let newStorages = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_3__.objectClone)(command.data.storages);
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_3__.objectFilterInplace)(newStorages, (storName, data) => {
            const storage = this.world.getStorage(storName);
            if (!storage.sync)
                return false;
            storage.serializedStrip(data, entityFilter);
            return true;
        });
        return [{
                kind: 'spawn',
                data: {
                    entities: newEntities,
                    storages: newStorages,
                }
            }];
    }
    merge(to, from) {
        to.data.entities.push(...from.data.entities);
        for (let storageName in from.data.storages) {
            const fromStorage = from.data.storages[storageName];
            const toStorage = to.data.storages[storageName];
            if (toStorage === undefined) {
                to.data.storages[storageName] = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.componentClone)(fromStorage);
                continue;
            }
            this.world.getStorage(storageName)
                .serializedMerge(toStorage, fromStorage);
        }
        return true;
    }
    isNull(command) {
        return command.data.entities.length === 0;
    }
    static from(world, components) {
        const entity = world.allocateId();
        const cmd = {
            entities: [entity],
            storages: {},
        };
        for (let comp of components) {
            const storage = world.getStorage(comp.type);
            delete comp.type;
            if (storage instanceof _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage) {
                cmd.storages[storage.type] = {};
                cmd.storages[storage.type][entity] = comp;
            }
            else if (storage instanceof _storage__WEBPACK_IMPORTED_MODULE_2__.MultiEcsStorage) {
                let data = cmd.storages[storage.type];
                if (data === undefined) {
                    data = {};
                    data[entity] = [];
                    cmd.storages[storage.type] = data;
                }
                data[entity].push(comp);
            }
            else if (storage instanceof _storage__WEBPACK_IMPORTED_MODULE_2__.FlagEcsStorage) {
                cmd.storages[storage.type] = [entity];
            }
            else {
                console.warn("Unknown storage type: " + storage.type);
            }
        }
        return {
            kind: 'spawn',
            data: cmd,
        };
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/copyPasteSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/copyPasteSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COPY_PASTE_TYPE": () => (/* binding */ COPY_PASTE_TYPE),
/* harmony export */   "CopyPasteSystem": () => (/* binding */ CopyPasteSystem)
/* harmony export */ });
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _back_keyboardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");






const CLIPBOARD_DATA = 'dndme-clip';
const COPY_PASTE_TYPE = 'copy_paste';
class CopyPasteSystem {
    constructor(world) {
        this.name = COPY_PASTE_TYPE;
        this.dependencies = [_back_selectionSystem__WEBPACK_IMPORTED_MODULE_0__.SELECTION_TYPE, _back_keyboardSystem__WEBPACK_IMPORTED_MODULE_1__.KEYBOARD_TYPE];
        this.isActive = false;
        this.lastIgnorePaste = 0;
        this.world = world;
        this.keyboard = world.getResource(_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_1__.KEYBOARD_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_0__.SELECTION_TYPE);
        this.world.events.on('ignore_next_paste', this.onIgnoreNextPaste, this);
    }
    onIgnoreNextPaste() {
        this.lastIgnorePaste = Date.now();
    }
    onPaste(e) {
        if (e.target instanceof HTMLInputElement || e.clipboardData == null) {
            return;
        }
        if (Date.now() < this.lastIgnorePaste + 300) {
            this.lastIgnorePaste = 0;
            return;
        }
        const text = e.clipboardData.getData('text/plain');
        let parsed;
        try {
            parsed = JSON.parse(text);
            if (parsed.format !== CLIPBOARD_DATA) {
                console.warn("Invalid JSON format");
                return;
            }
            if (parsed.ver !== 1) {
                console.warn("Invalid pasted version");
                return;
            }
        }
        catch (e) {
            console.warn("Copied content is not valid dndme data");
            return;
        }
        const transform = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_5__.BOARD_TRANSFORM_TYPE);
        if (transform !== undefined) {
            const boardSize = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_5__.BOARD_SIZE_TYPE);
            const randX = Math.random() + 0.5;
            const randY = Math.random() + 0.5;
            this.moveSerialized(parsed.data, (boardSize.width * randX / 2 - transform.posX) / transform.scaleX, (boardSize.height * randY / 2 - transform.posY) / transform.scaleY);
        }
        this.world.deserialize(parsed.data, {
            remap: true,
            thenSelect: true,
        });
    }
    copyOrCut(del) {
        const data = this.world.serialize({
            requireSave: true,
            remap: true,
            only: this.selectionSys.selectedEntities,
        });
        this.repositionSerialized(data);
        const ser = JSON.stringify({
            format: CLIPBOARD_DATA,
            ver: 1,
            data,
        });
        if (del) {
            const cmd = {
                kind: 'despawn',
                entities: [...this.selectionSys.selectedEntities],
            };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.executeAndLogCommand)(this.world, cmd);
        }
        return ser;
    }
    onCopy(e) {
        if (e.target instanceof HTMLInputElement || e.clipboardData == null) {
            return;
        }
        e.preventDefault();
        const ser = this.copyOrCut(false);
        e.clipboardData.setData("text/plain", ser);
    }
    onCut(e) {
        if (e.target instanceof HTMLInputElement || e.clipboardData == null) {
            return;
        }
        e.preventDefault();
        const ser = this.copyOrCut(true);
        e.clipboardData.setData("text/plain", ser);
    }
    repositionSerialized(ser) {
        const posStorage = ser.storages[_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE];
        if (posStorage === undefined)
            return;
        let bb = undefined;
        for (let name in posStorage) {
            const data = posStorage[name];
            if (bb === undefined) {
                bb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_4__.Aabb.fromPoint(data);
            }
            else {
                bb.intersect(_geometry_aabb__WEBPACK_IMPORTED_MODULE_4__.Aabb.fromPoint(data), bb);
            }
        }
        if (bb === undefined)
            return;
        const center = bb.getCenter();
        this.moveSerialized(ser, -center.x, -center.y);
    }
    moveSerialized(ser, dx, dy) {
        const posStorage = ser.storages[_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE];
        if (posStorage === undefined)
            return;
        for (let name in posStorage) {
            const data = posStorage[name];
            data.x += dx;
            data.y += dy;
        }
    }
    enable() {
        this.copyListener = this.onCopy.bind(this);
        document.addEventListener('copy', this.copyListener);
        this.cutListener = this.onCut.bind(this);
        document.addEventListener('cut', this.cutListener);
        this.pasteListener = this.onPaste.bind(this);
        document.addEventListener('paste', this.pasteListener);
    }
    destroy() {
        document.removeEventListener('copy', this.copyListener);
        document.removeEventListener('cut', this.cutListener);
        document.removeEventListener('paste', this.pasteListener);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/doorSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/doorSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoorType": () => (/* binding */ DoorType),
/* harmony export */   "DOOR_TYPE": () => (/* binding */ DOOR_TYPE),
/* harmony export */   "DoorSystem": () => (/* binding */ DoorSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");













var DoorType;
(function (DoorType) {
    DoorType["NORMAL_LEFT"] = "normall";
    DoorType["NORMAL_RIGHT"] = "normalr";
    DoorType["ROTATE"] = "rotate";
})(DoorType || (DoorType = {}));
const DOOR_TYPE = 'door';
class DoorSystem {
    constructor(ecs) {
        this.name = DOOR_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(DOOR_TYPE, true, true);
        this.isMasterView = false;
        this.world = ecs;
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.DETAILS, false));
        this.displayContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        this.pixiBoardSys = ecs.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE);
        this.wallSys = ecs.systems.get(_wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        if (ecs.isMaster) {
            this.world.events.on('interact', this.onInteract, this);
        }
    }
    redrawComponent(door) {
        var _a;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let visible = this.isMasterView ||
            (this.world.getComponent(door.entity, _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__.REMEMBER_TYPE) !== undefined && door.clientVisible !== false);
        if (!visible) {
            (_a = door._display) === null || _a === void 0 ? void 0 : _a.clear();
            return;
        }
        // TODO: use interaction shape? (might bug out on translations)
        let line = new _geometry_line__WEBPACK_IMPORTED_MODULE_4__.Line(pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]);
        this.drawLines(door, line);
    }
    drawLines(door, line) {
        let g = door._display;
        if (g === undefined)
            return;
        g.clear();
        g.lineStyle(2, 0, 0.5);
        switch (door.doorType) {
            case DoorType.NORMAL_LEFT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.toY - line.fromY, line.toX - line.fromX);
                if (door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.fromX, line.fromY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.fromY - line.toY, line.fromX - line.toX);
                if (!door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.toX, line.toY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.ROTATE: {
                let r = line.distance() / 2;
                let cx = (line.fromX + line.toX) / 2;
                let cy = (line.fromY + line.toY) / 2;
                g.drawCircle(cx, cy, r);
                break;
            }
            default:
                console.warn("Unknown door type: " + door.doorType);
        }
    }
    openDoor(door, doorType, open) {
        var _a, _b, _c, _d;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let newPos = undefined;
        let newVec = undefined;
        switch (doorType) {
            case DoorType.NORMAL_LEFT: {
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, Math.PI / 2 * (open ? -1 : 1), { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] }, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, angle, { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.ROTATE: {
                let hvx = wall.vec[0] / 2;
                let hvy = wall.vec[1] / 2;
                let origin = { x: pos.x + hvx, y: pos.y + hvy };
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] });
                newVec.x -= newPos.x;
                newVec.y -= newPos.y;
                break;
            }
            default:
                console.warn("Unknown door type: " + doorType);
        }
        let px = (_a = newPos === null || newPos === void 0 ? void 0 : newPos.x) !== null && _a !== void 0 ? _a : pos.x;
        let py = (_b = newPos === null || newPos === void 0 ? void 0 : newPos.y) !== null && _b !== void 0 ? _b : pos.y;
        let vx = (_c = newVec === null || newVec === void 0 ? void 0 : newVec.x) !== null && _c !== void 0 ? _c : wall.vec[0];
        let vy = (_d = newVec === null || newVec === void 0 ? void 0 : newVec.y) !== null && _d !== void 0 ? _d : wall.vec[1];
        let intersectWith = this.wallSys.queryIntersections(px, py, vx, vy);
        if (!(intersectWith.length === 0 || (intersectWith.length === 1 && intersectWith[0] === door.entity))) {
            console.log("Door stuck");
            // Collision, don't split the door pls.
            return false;
        }
        let changes = [];
        if (newPos !== undefined) {
            changes.push({
                entity: door.entity,
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                changes: {
                    x: newPos.x,
                    y: newPos.y,
                },
            });
        }
        if (newVec !== undefined) {
            changes.push({
                entity: door.entity,
                type: _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE,
                changes: {
                    vec: [newVec.x, newVec.y],
                },
            });
        }
        // Commit the edits at the same time to prevent the wall from being split (multi = true)
        // (if we commit position before rotation it might create an overlap situation that should
        // not be there).
        let cmd = {
            kind: 'cedit',
            edit: changes,
            multi: true,
        };
        // Why are we using share?
        // We're editing another synced component, but this (the door) might be hidden.
        // If the master opens a hidden door the "open" message will not be shared but the door should still open for
        // the roleplayers.
        // Addendum: what if the entity is hidden? Then the command will edit a hidden entity so it will be stripped away.
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.emitCommand)(this.world, cmd, !door.clientVisible);
        return true;
    }
    onComponentAdd(comp) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            d._display = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Graphics();
            this.displayContainer.addChild(d._display);
            // Do NOT re-open the door, if it is open it means that it has been loaded from file and the wall is
            // already in the "door open" state. Bad snowy, wtf were you thinking
            this.redrawComponent(d);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            if (wall !== undefined)
                wall._dontMerge++;
        }
        else if (comp.type === _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__.REMEMBER_TYPE) {
            let door = this.storage.getComponent(comp.entity);
            if (door !== undefined) {
                this.redrawComponent(door);
            }
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            if ('open' in changed) {
                if (!this.openDoor(d, d.doorType, d.open)) {
                    // TODO: well, this does not work right with the GUI
                    d.open = !d.open;
                }
            }
            if ('doorType' in changed) {
                if (d.open) {
                    this.openDoor(d, changed['doorType'], false) && this.openDoor(d, d.doorType, true);
                }
            }
            this.redrawComponent(d);
        }
        else if (comp.type === 'wall') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
        else if (comp.type === 'position') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
    }
    onComponentRemove(comp) {
        var _a;
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            (_a = d._display) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            wall._dontMerge--;
        }
    }
    onResourceEdited(res, edited) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_8__.LOCAL_LIGHT_SETTINGS_TYPE && 'visionType' in edited) {
            this.isMasterView = res.visionType !== 'rp';
            for (let c of this.storage.allComponents()) {
                this.redrawComponent(c);
            }
        }
    }
    onInteract(entities) {
        for (let entity of entities) {
            let door = this.storage.getComponent(entity);
            if (door === undefined)
                continue;
            let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_10__.singleEditCommand)({
                entity,
                type: DOOR_TYPE,
                changes: {
                    open: !door.open,
                }
            });
            (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.world, cmd);
        }
    }
    enable() {
        var _a;
        this.layer.interactive = false;
        this.pixiBoardSys.root.addChild(this.layer);
        this.displayContainer.parentLayer = this.layer;
        this.displayContainer.interactive = false;
        this.displayContainer.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.displayContainer);
        this.isMasterView = ((_a = this.world.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_8__.LOCAL_LIGHT_SETTINGS_TYPE)) === null || _a === void 0 ? void 0 : _a.visionType) !== 'rp';
    }
    destroy() {
        this.displayContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
        this.layer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/gridSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/gridSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GRID_TYPE": () => (/* binding */ GRID_TYPE),
/* harmony export */   "GridSystem": () => (/* binding */ GridSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");









const SQRT3 = Math.sqrt(3);
const GRID_TYPE = 'grid';
class GridSystem {
    constructor(world) {
        this.name = GRID_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.PIXI_BOARD_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE];
        this.internalScale = 1;
        this.posX = 0;
        this.posY = 0;
        this.scaleX = 1;
        this.scaleY = 1;
        this.world = world;
        this.boardSys = world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.PIXI_BOARD_TYPE);
        let screen = this.boardSys.renderer.screen;
        this.sprite = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].TilingSprite(_PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture.EMPTY, screen.width, screen.height);
        this.sprite.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_8__.LayerOrder.GRID;
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
        toolSys.addToolAsCopy(_tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.GRID, _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.INSPECT);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('resource_remove', this.onResourceRemove, this);
        this.gridRes = Object.assign({
            type: GRID_TYPE,
            _save: true,
            _sync: true,
        }, _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS);
        world.addResource(this.gridRes);
        this.updateTex();
        this.updatePos();
    }
    onResourceEdited(res, changed) {
        if (res.type === GRID_TYPE) {
            // Redraw
            this.updateTex();
            this.updatePos();
        }
        else if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.BOARD_TRANSFORM_TYPE) {
            this.onBoardTransform(res);
        }
    }
    onResourceRemove(res) {
        if (res.type !== GRID_TYPE)
            return;
        throw new Error('Fool! Thou shall not remove thy grid!');
    }
    onBoardTransform(data) {
        this.posX = data.posX;
        this.posY = data.posY;
        this.scaleX = data.scaleX;
        this.scaleY = data.scaleY;
        this.updatePos();
    }
    onResize(width, height) {
        this.sprite.width = width;
        this.sprite.height = height;
    }
    updateTex() {
        this.sprite.texture.destroy(true);
        if (!this.gridRes.visible) {
            this.sprite.texture = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture.EMPTY;
            return;
        }
        let tex = drawGridTexture(512, this.gridRes.gridType, this.gridRes);
        this.internalScale = this.gridRes.size / 512;
        this.sprite.texture = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture(tex);
    }
    updatePos() {
        this.sprite.tileScale.set(this.scaleX * this.internalScale, this.scaleY * this.internalScale);
        this.sprite.tilePosition.set(this.posX + this.scaleX * this.gridRes.offX * this.gridRes.size, this.posY + this.scaleY * this.gridRes.offY * this.gridRes.size);
    }
    closestPoint(point) {
        if (this.gridRes === undefined)
            return undefined;
        let pnt = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(point[0], point[1]);
        this.sprite.worldTransform.apply(pnt, pnt);
        let pointX = pnt.x / this.gridRes.size - this.gridRes.offX;
        let pointY = pnt.y / this.gridRes.size - this.gridRes.offY;
        let resX;
        let resY;
        switch (this.gridRes.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.SQUARE:
                {
                    let fx = Math.floor(pointX);
                    let fy = Math.floor(pointY);
                    resX = fx;
                    resY = fy;
                    if (pointX > fx + 0.5) {
                        resX += 1;
                    }
                    if (pointY > fy + 0.5) {
                        resY += 1;
                    }
                    // Also check grid center
                    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(pointX, pointY, fx + 0.5, fy + 0.5) < (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(pointX, pointY, resX, resY)) {
                        resX = fx + 0.5;
                        resY = fy + 0.5;
                    }
                }
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.HEXAGON:
                {
                    // The algorithm here is quite complex and I couldn't find any of this online, so this is my own solution:
                    // (note: hexagon side = 1 because of the initial transformation).
                    // First we can notice that if we colour each point in a different colour depending on which vertex
                    // is closer to him (in a hexagonal grid) we find a grid of equilateral triangles of side 1.
                    // We then transform our grid by 2 / sqrt(3) on the horizontal side so that the height of the triangles
                    // will be the same as their base.
                    // With that done we can put a square grid on top of our triangle grid, each square will hold one
                    // triangle at its center and two halfes at the top and bottom.
                    // We can see which square the point belongs to by flooring the transformed x and y components, then
                    // we can check which triangle the points belongs to by chechinkg if the point is above or below
                    // the diagonal lines of equation: y < 0.5 - x/2 and y > x/2 + 0.5
                    // Note that each triangle column has half of a hexagon so the odd-ones will be flipped.
                    const s = 1 / SQRT3; // Hexagon Side = 1/sqrt(3)
                    let px = (pointX - s / 2) * 2 / SQRT3; // align the point with the triangle grid, and transform the grid
                    let py = pointY;
                    let sx = Math.floor(px);
                    let sy = Math.floor(py);
                    let gx = (px - sx);
                    let gy = (py - sy);
                    let rx = sx * SQRT3 / 2 + s / 2;
                    if (sx % 2 == 0) {
                        // Left side hexagon
                        if (gy < 0.5 - gx / 2) {
                            resY = sy;
                            resX = rx + s / 2;
                        }
                        else if (gy > gx / 2 + 0.5) {
                            resY = sy + 1;
                            resX = rx + s / 2;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s;
                        }
                    }
                    else {
                        // Flipped hexagon: right side hex.
                        if (gy > 1 - gx / 2) {
                            resY = sy + 1;
                            resX = rx + s;
                        }
                        else if (gy < gx / 2) {
                            resY = sy;
                            resX = rx + s;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s / 2;
                        }
                    }
                }
                break;
        }
        pnt.set((resX + this.gridRes.offX) * this.gridRes.size, (resY + this.gridRes.offY) * this.gridRes.size);
        this.sprite.worldTransform.applyInverse(pnt, pnt);
        return [pnt.x, pnt.y];
    }
    enable() {
        this.boardSys.renderer.on('resize', this.onResize, this);
        const layer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_8__.LayerOrder.GRID, false));
        this.sprite.parentLayer = layer;
        this.boardSys.root.addChild(layer, this.sprite);
        const screen = this.boardSys.renderer.screen;
        this.onResize(screen.width, screen.height);
    }
    destroy() {
        this.sprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}
// ----------------------------------------- DRAW -----------------------------------------
function drawGridTexture(size, type, options) {
    let canvas;
    switch (type) {
        case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.HEXAGON:
            canvas = drawHex(size, options);
            break;
        case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.SQUARE:
            canvas = drawSquare(size, options);
            break;
        default:
            throw new Error('Cannot draw unknown type: ' + type);
    }
    return _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].BaseTexture.fromBuffer(new Uint8Array(canvas.data.buffer), canvas.width, canvas.height);
}
function drawSquare(size, opt) {
    //let canvas = new OffscreenCanvas(size, size);
    let canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.strokeRect(0, 0, size + 1, size + 1);
    return ctx.getImageData(0, 0, size, size);
}
function drawHex(size, opt) {
    let s = size / SQRT3; // Side
    let width = Math.floor(3 * s);
    //let canvas = new OffscreenCanvas(width, size);
    let canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    let d = size;
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.moveTo(0, 0);
    ctx.lineTo(s, 0);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.lineTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, 0);
    ctx.moveTo(0, d);
    ctx.lineTo(s, d);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.moveTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, d);
    // Lines before the image:
    ctx.moveTo(0, 0);
    ctx.lineTo(-s / 2, d / 2);
    ctx.lineTo(0, d);
    ctx.stroke();
    return ctx.getImageData(0, 0, width, size);
}
function colorToHex(color, opacity) {
    return '#' + color.toString(16).padStart(6, '0')
        + ((255 * opacity) | 0).toString(16).padStart(2, '0');
}


/***/ }),

/***/ "./src/app/ecs/systems/lightSystem.ts":
/*!********************************************!*\
  !*** ./src/app/ecs/systems/lightSystem.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_BACKGROUND": () => (/* binding */ DEFAULT_BACKGROUND),
/* harmony export */   "DEFAULT_LIGHT_SETTINGS": () => (/* binding */ DEFAULT_LIGHT_SETTINGS),
/* harmony export */   "LIGHT_TYPE": () => (/* binding */ LIGHT_TYPE),
/* harmony export */   "LIGHT_SETTINGS_TYPE": () => (/* binding */ LIGHT_SETTINGS_TYPE),
/* harmony export */   "LOCAL_LIGHT_SETTINGS_TYPE": () => (/* binding */ LOCAL_LIGHT_SETTINGS_TYPE),
/* harmony export */   "LightSystem": () => (/* binding */ LightSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");








var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].utils.hex2rgb;





const DEFAULT_BACKGROUND = 0x6e472c;
const DEFAULT_LIGHT_SETTINGS = {
    ambientLight: 0x555555,
    background: DEFAULT_BACKGROUND,
    needsLight: true,
};
const LIGHT_TYPE = 'light';
const LIGHT_SETTINGS_TYPE = 'light_settings';
const LOCAL_LIGHT_SETTINGS_TYPE = 'local_light_settings';
/**
 * How is light rendered?
 * There are three logical passes on a separate framebuffer.
 * Then this framebuffer is pasted onto the real screen.
 * 1. Clear the RGBA channels with the ambient light.
 * 2. Draw only in the ALPHA channel every player mesh (achieved by setting the color to 0)
 * 3. Draw the light only where the ALPHA channel is 1 (using a custom blend mode)
 * 4. Draw the framebuffer on the screen ignoring the ALPHA channel (using a custom blend mode)
 *
 * Why is this usage of the alpha channel used?
 * We need to render light only where visible, so in the RP-view the players vision polygons should be used as a
 * mask for the light (you can't see a light that no player sees). So when the RP-view is enabled the framebuffer is
 * cleared with alpha=0 and the player's vision will fill in the alpha (they should be rendered BEFORE the lights).
 * When the DM-view is enabled the framebuffer is rendered with alpha=1 and the player's view is not drawn.
 *
 * Why isn't the visibility polygon rendering batched?
 * We need uniforms in the shaders to know the distance from the light center: remember that visibility mesh is not only
 * the visibility polygon, it also calculates the distance form the center of the light (to render a proper circle).
 * So yeah, no batched uniforms in WebGL it seems. (TODO: explore more possibilities)
 */
class LightSystem {
    constructor(world) {
        var _a;
        this.name = LIGHT_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE, _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(LIGHT_TYPE);
        this.world = world;
        this.boardSys = world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE);
        this.lightLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.LIGHT, false));
        this.playerContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        this.lightContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_8__.TOOL_TYPE);
        toolSys.addToolAsCopy(_tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.LIGHT, _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT);
        world.addStorage(this.storage);
        this.lightSettings = Object.assign({
            type: LIGHT_SETTINGS_TYPE,
            _save: true, _sync: true,
        }, DEFAULT_LIGHT_SETTINGS);
        world.addResource(this.lightSettings);
        this.localLightSettings = {
            type: LOCAL_LIGHT_SETTINGS_TYPE,
            visionType: this.world.isMaster ? 'dm' : 'rp',
            _save: true, _sync: false,
        };
        world.addResource(this.localLightSettings);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_10__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_11__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    createLightVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.createMesh();
        mesh.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1;
        this.lightContainer.addChild(mesh);
        return mesh;
    }
    createPlayerVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.createMesh('player');
        mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.ADD;
        this.playerContainer.addChild(mesh);
        return mesh;
    }
    updateVisMesh(mesh, pos, poly) {
        mesh.visible = true;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.updateMeshPolygons(mesh, pos, poly);
    }
    updateVisUniforms(mesh, center, rangeSquared, color) {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.updateMeshUniforms(mesh, center, rangeSquared, color);
    }
    disableVisMesh(mesh) {
        mesh.visible = false;
    }
    updateVisPolygon(entity, target, color, pos, vis) {
        if (pos === undefined) {
            pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            if (pos === undefined)
                return;
        }
        if (vis === undefined) {
            vis = this.world.getComponent(entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis === undefined) {
                this.disableVisMesh(target);
                return;
            }
        }
        if (vis.polygon === undefined) {
            this.disableVisMesh(target);
        }
        else {
            let range = vis.range * this.gridSize;
            this.updateVisMesh(target, pos, vis.polygon);
            this.updateVisUniforms(target, pos, range * range, color);
        }
    }
    updateLightVisPolygon(light, pos, vis) {
        this.updateVisPolygon(light.entity, light._lightDisplay, light.color, pos, vis);
    }
    updatePlayerVisPolygon(player, pos, vis) {
        if (player._lightVisionDisplay === undefined) {
            player._lightVisionDisplay = this.createPlayerVisMesh();
        }
        this.updateVisPolygon(player.entity, player._lightVisionDisplay, 0, pos, vis);
    }
    onComponentAdd(comp) {
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            light._lightDisplay = this.createLightVisMesh();
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE,
                range: light.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
            this.updateLightVisPolygon(light, undefined, vis);
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE) {
            let player = comp;
            if (player._lightVisionDisplay === undefined) {
                player._lightVisionDisplay = this.createPlayerVisMesh();
            }
            let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis === undefined) {
                console.error("Player does not have a visibility type");
            }
            this.updatePlayerVisPolygon(player, undefined, vis);
        }
    }
    onComponentEdited(comp, changes) {
        if (comp.type === LIGHT_TYPE) {
            let c = comp;
            if ('range' in changes) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let range = vis.range * this.gridSize;
                    this.updateVisUniforms(c._lightDisplay, pos, range * range, c.color);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changes))
                return;
            let light = this.storage.getComponent(vis.entity);
            if (light !== undefined) {
                this.updateLightVisPolygon(light, undefined, vis);
            }
            else {
                let player = this.world.getComponent(vis.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE);
                if (player !== undefined) {
                    this.updatePlayerVisPolygon(player, undefined, vis);
                }
            }
        }
    }
    onResourceEdited(comp, changed) {
        if (comp.type === _gridSystem__WEBPACK_IMPORTED_MODULE_10__.GRID_TYPE) {
            if (!('size' in changed))
                return;
            let grid = comp;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
        else if (comp.type === LIGHT_SETTINGS_TYPE || comp.type === LOCAL_LIGHT_SETTINGS_TYPE) {
            let arr = [0.0, 0.0, 0.0, 0.0];
            if (this.localLightSettings.visionType === 'dm')
                arr[3] = 1.0;
            hex2rgb(this.lightSettings.ambientLight, arr);
            this.lightLayer.clearColor = arr;
            this.playerContainer.visible = this.localLightSettings.visionType !== 'dm';
            this.boardSys.renderer.backgroundColor = this.lightSettings.background;
        }
    }
    onComponentRemove(comp) {
        var _a, _b;
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            (_a = light._lightDisplay) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No light visibility found on removal");
            }
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE) {
            let player = comp;
            (_b = player._lightVisionDisplay) === null || _b === void 0 ? void 0 : _b.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.setup();
        this.lightLayer.useRenderTexture = true;
        this.lightLayer.interactive = false;
        this.lightLayer.interactiveChildren = false;
        this.playerContainer.interactive = false;
        this.playerContainer.interactiveChildren = false;
        let lightSystem = this.world.systems.get(LIGHT_TYPE);
        this.playerContainer.parentLayer = lightSystem.lightLayer;
        this.lightContainer.interactive = false;
        this.lightContainer.interactiveChildren = false;
        this.lightContainer.parentLayer = this.lightLayer;
        this.onResourceEdited(this.lightSettings, {}); // Update the clearColor
        let lightingSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(this.lightLayer.getRenderTexture());
        lightingSprite.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY;
        lightingSprite.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.LIGHT;
        lightingSprite.interactive = false;
        lightingSprite.interactiveChildren = false;
        let board = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE);
        board.board.addChild(this.playerContainer, this.lightContainer, this.lightLayer);
        this.boardSys.root.addChild(lightingSprite);
    }
    destroy() {
        this.lightContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.playerContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.lightLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/mouseTrailSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/mouseTrailSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MOUSE_TRAIL_TYPE": () => (/* binding */ MOUSE_TRAIL_TYPE),
/* harmony export */   "MouseTrailSystem": () => (/* binding */ MouseTrailSystem),
/* harmony export */   "MouseTrailToolPart": () => (/* binding */ MouseTrailToolPart)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* harmony import */ var Public_images_trail_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! Public/images/trail.png */ "./src/public/images/trail.png");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");









const MOUSE_TRAIL_TYPE = 'mouse_trail';
const ROPE_SIZE = 100;
const HISTORY_SIZE = 20;
const SEND_HISTORY_AFTER_MS = 100;
class MouseTrailSystem {
    constructor(world) {
        this.name = MOUSE_TRAIL_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE, _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE, _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(MOUSE_TRAIL_TYPE, false, false);
        this.boardScale = 1;
        this.toUpdate = [];
        // our "future" to send to others (yes it will have 100ms latency)
        this.selfFuture = [];
        // last time we sent a future
        this.futureLastSend = 0;
        this.world = world;
        this.pixiBoardSys = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE);
        this.networkSys = this.world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_TYPE);
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_7__.LayerOrder.TOOLS, false));
        this.container = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].Container();
        // Add system
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE);
        toolSys.addToolPart(new MouseTrailToolPart(this));
        toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_4__.Tool.MOUSE_TRAIL, ['space_pan', 'mouse_trail']);
        // Add listeners
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        // Paint texture
        this.tex = _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].Texture.from(Public_images_trail_png__WEBPACK_IMPORTED_MODULE_8__["default"]);
    }
    onSelfInput(x, y) {
        const netres = this.networkStatusResource;
        this.onFuture(netres.myId, [x, y]);
    }
    onFuture(senderNetId, moves) {
        const netres = this.networkStatusResource;
        const entityId = netres.entityIndex.get(senderNetId);
        if (entityId === undefined) {
            console.warn("Cannot find entity of network player " + senderNetId, netres.entityIndex);
            return;
        }
        let data = this.storage.getComponent(entityId);
        if (moves.length % 2 !== 0) {
            console.warn("Client " + senderNetId + " sent unaligned xy moves");
            moves.length = moves.length - 1;
        }
        data.futurexy.push(...moves);
        if (this.toUpdate.indexOf(entityId) < 0) {
            this.toUpdate.push(entityId);
        }
    }
    createSimpleRope() {
        const points = new Array(ROPE_SIZE);
        for (let i = 0; i < ROPE_SIZE; i++) {
            points[i] = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].Point();
        }
        const rope = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].SimpleRope(this.tex, points);
        rope.blendmode = _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].BLEND_MODES.ADD;
        this.container.addChild(rope);
        return rope;
    }
    updateRope(c, netwEntity = undefined) {
        const rope = c._g;
        const geom = rope.geometry;
        const ropePoints = geom.points;
        const historySize = c.historyx.length;
        const ropeSize = ropePoints.length;
        for (let i = 0; i < ropeSize; i++) {
            const p = ropePoints[i];
            const x = cubicInterpolation(c.historyx, i / ropeSize * historySize) * this.boardScale;
            const y = cubicInterpolation(c.historyy, i / ropeSize * historySize) * this.boardScale;
            p.x = x;
            p.y = y;
        }
        rope.scale.set(1 / this.boardScale);
        geom.updateVertices();
        if (netwEntity === undefined) {
            netwEntity = this.world.getComponent(c.entity, _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE);
        }
        rope.tint = netwEntity.color;
    }
    onSelfPosition(posx, posy) {
        this.selfFuture.push(posx, posy);
        const now = Date.now();
        if (this.futureLastSend + SEND_HISTORY_AFTER_MS < now) {
            const pkt = {
                type: 'mtrail',
                fut: this.selfFuture,
            };
            this.networkSys.channel.broadcast(pkt);
            this.selfFuture = [];
            this.futureLastSend = now;
        }
    }
    onTick() {
        if (this.toUpdate.length === 0)
            return;
        let netres = this.networkStatusResource;
        const myEntityId = netres.entityIndex.get(netres.myId);
        for (let i = this.toUpdate.length - 1; i >= 0; i--) {
            const entity = this.toUpdate[i];
            const trail = this.storage.getComponent(entity);
            let prevx = trail.historyx[HISTORY_SIZE - 1];
            let prevy = trail.historyy[HISTORY_SIZE - 1];
            let nextx = prevx;
            let nexty = prevy;
            let different = false;
            if (trail.futurexy.length !== 0) {
                nextx = trail.futurexy[0];
                nexty = trail.futurexy[1];
                trail.futurexy.splice(0, 2);
                different = Math.abs(nextx - prevx) + Math.abs(nexty - prevy) > Number.EPSILON;
            }
            if (entity === myEntityId && trail.lastinput < HISTORY_SIZE) {
                this.onSelfPosition(nextx, nexty);
            }
            trail.historyx.pop();
            trail.historyy.pop();
            trail.historyx.unshift(nextx);
            trail.historyy.unshift(nexty);
            if (different) {
                trail.lastinput = 0;
                trail._g.visible = true;
            }
            else {
                // If no update has been found in the last 20 frames remove the player from the update list
                // it will be re-added if we get another change
                trail.lastinput += 1;
                if (trail.lastinput > HISTORY_SIZE) {
                    this.toUpdate.splice(i, 1);
                    trail._g.visible = false;
                    continue;
                }
            }
            this.updateRope(trail);
        }
    }
    onComponentAdd(c) {
        if (c.type === _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE) {
            const _g = this.createSimpleRope();
            const com = {
                type: MOUSE_TRAIL_TYPE,
                entity: -1,
                color: 0xFFFFFF,
                historyx: new Array(HISTORY_SIZE).fill(0),
                historyy: new Array(HISTORY_SIZE).fill(0),
                futurexy: [],
                lastinput: HISTORY_SIZE,
                _g,
            };
            this.updateRope(com, c);
            this.world.addComponent(c.entity, com);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === MOUSE_TRAIL_TYPE) {
            let c = comp;
            this.updateRope(c);
        }
        else if (comp.type === _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE) {
            if ('color' in changed) {
                const mtc = this.storage.getComponent(comp.entity);
                if (mtc !== undefined) {
                    this.updateRope(mtc, comp);
                }
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === MOUSE_TRAIL_TYPE) {
            let c = comp;
            c._g.destroy();
        }
    }
    changeScales() {
        for (let c of this.storage.allComponents()) {
            this.updateRope(c);
        }
    }
    onResourceEdited(res) {
        if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.BOARD_TRANSFORM_TYPE) {
            this.boardScale = res.scaleX || 1;
            this.changeScales();
        }
    }
    onMouseTrailPacket(pkt, info) {
        this.onFuture(info.senderId, pkt.fut);
    }
    enable() {
        this.layer.interactive = false;
        this.layer.interactiveChildren = false;
        this.pixiBoardSys.root.addChild(this.layer);
        this.pixiBoardSys.board.addChild(this.container);
        this.container.interactive = false;
        this.container.interactiveChildren = false;
        this.container.parentLayer = this.layer;
        this.networkStatusResource = this.world.getResource(_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_STATUS_TYPE);
        this.pixiBoardSys.ticker.add(this.onTick, this);
        this.networkSys.channel.packets.on('mtrail', this.onMouseTrailPacket, this);
    }
    destroy() {
        this.networkSys.channel.packets.off('mtrail', this.onMouseTrailPacket, this);
        this.pixiBoardSys.ticker.remove(this.onTick, this);
    }
}
class MouseTrailToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_4__.Tool.MOUSE_TRAIL;
        this.follower = -1;
        this.sys = sys;
    }
    initFollower() {
        this.killFollower();
        this.follower = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    killFollower() {
        if (this.follower > 0) {
            this.sys.world.despawnEntity(this.follower);
            this.follower = -1;
        }
    }
    onTick() {
        const pos = this.sys.world.getComponent(this.follower, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (!Number.isFinite(pos.x) || !Number.isFinite(pos.y))
            return;
        this.sys.onSelfInput(pos.x, pos.y);
    }
    onEnable() {
        this.initFollower();
        this.sys.pixiBoardSys.ticker.add(this.onTick, this, _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].UPDATE_PRIORITY.HIGH);
    }
    onDisable() {
        this.sys.pixiBoardSys.ticker.remove(this.onTick, this);
        this.killFollower();
    }
    initialize(events) {
    }
    destroy() {
    }
}
/**
 * Cubic interpolation based on https://github.com/osuushi/Smooth.js
 */
function clipInput(k, arr) {
    if (k < 0)
        k = 0;
    if (k > arr.length - 1)
        k = arr.length - 1;
    return arr[k];
}
function getTangent(k, factor, array) {
    return factor * (clipInput(k + 1, array) - clipInput(k - 1, array)) / 2;
}
function cubicInterpolation(array, t, tangentFactor = 1) {
    const k = Math.floor(t);
    const m = [getTangent(k, tangentFactor, array), getTangent(k + 1, tangentFactor, array)];
    const p = [clipInput(k, array), clipInput(k + 1, array)];
    t -= k;
    const t2 = t * t;
    const t3 = t * t2;
    return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];
}


/***/ }),

/***/ "./src/app/ecs/systems/pinSystem.ts":
/*!******************************************!*\
  !*** ./src/app/ecs/systems/pinSystem.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIN_TYPE": () => (/* binding */ PIN_TYPE),
/* harmony export */   "PinSystem": () => (/* binding */ PinSystem),
/* harmony export */   "CreatePinToolPart": () => (/* binding */ CreatePinToolPart)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/nameAsLabelSystem */ "./src/app/ecs/systems/back/nameAsLabelSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");














const PIN_TYPE = 'pin';
class PinSystem {
    constructor(world) {
        this.name = PIN_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_7__.SELECTION_TYPE, _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_12__.NAME_AS_LABEL_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PIN_TYPE, true, true);
        this.world = world;
        this.selectionSys = this.world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_7__.SELECTION_TYPE);
        if (world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
            toolSys.addToolPart(new CreatePinToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.CREATE_PIN, ['space_pan', 'create_pin', 'creation_flag']);
        }
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
    }
    onComponentAdd(c) {
        if (c.type !== PIN_TYPE)
            return;
        let pin = c;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (pos === undefined)
            return;
        let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        if (display === undefined) {
            display = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                entity: -1,
                interactive: true,
                display: this.createElement()
            };
            this.world.addComponent(c.entity, display);
        }
        this.redrawComponent(pin, display.display);
        this.world.addComponent(c.entity, {
            type: _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_12__.NAME_AS_LABEL_TYPE,
            initialOffset: { x: 0, y: -_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__.POINT_RADIUS },
        });
        // In some older versions there was a label field that was printed on top of the point,
        // this has been removed in favour of the "name" components (and the 'name_as_label' system)
        // so if you find a label that is not listed in the names add it to keep compatibility
        if (pin.label !== undefined) {
            const label = pin.label;
            let isNameFound = false;
            for (let name of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.NAME_TYPE).getComponents(pin.entity)) {
                if (name === label) {
                    isNameFound = true;
                    break;
                }
            }
            if (!isNameFound) {
                this.world.addComponent(pin.entity, {
                    type: _component__WEBPACK_IMPORTED_MODULE_1__.NAME_TYPE,
                    name: label,
                });
            }
            delete pin.label;
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PIN_TYPE) {
            let pin = comp;
            let grapc = this.world.getComponent(comp.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
            let pinDisplay = grapc.display;
            this.redrawComponent(pin, pinDisplay);
        }
    }
    createElement() {
        return {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT,
            priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__.DisplayPrecedence.PINS,
            visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
            ignore: false,
            interactive: true,
            color: 0xFFFFFF,
            children: [],
        };
    }
    redrawComponent(pin, display) {
        display.color = pin.color;
        this.world.editComponent(pin.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePinToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.CREATE_PIN;
        // Entity of the pin to be created (or -1)
        this.createPin = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        let color = Math.floor(Math.random() * 0xFFFFFF);
        let display = this.sys.createElement();
        display.color = color;
        display.visib = _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE;
        this.createPin = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createPin !== -1) {
            this.sys.world.despawnEntity(this.createPin);
            this.createPin = -1;
        }
    }
    confirmCreation() {
        var _a;
        if (this.createPin === -1)
            return;
        const world = this.sys.world;
        let id = this.createPin;
        let g = world.getComponent(id, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        world.despawnEntity(id);
        const cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_9__.SpawnCommandKind.from(world, [
            {
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                x: loc.x,
                y: loc.y,
            },
            {
                type: PIN_TYPE,
                color: g.display.color,
            },
            {
                type: _back_layerSystem__WEBPACK_IMPORTED_MODULE_11__.PARENT_LAYER_TYPE,
                layer: (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_11__.findForeground)(this.sys.world),
            },
        ]);
        this.createPin = -1;
        const creationInfo = this.sys.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_13__.CREATION_INFO_TYPE);
        if ((_a = creationInfo === null || creationInfo === void 0 ? void 0 : creationInfo.exitAfterCreation) !== null && _a !== void 0 ? _a : true) {
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.INSPECT,
            });
        }
        else {
            this.initCreation();
        }
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(world, cmd);
    }
    onEnable() {
        this.initCreation();
    }
    onDisable() {
        this.cancelCreation();
    }
    onPointerUp(event) {
        if (event.isInside) {
            this.confirmCreation();
        }
    }
    initialize(events) {
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__.PointerEvents.POINTER_UP, this.onPointerUp, this);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerLocator.ts":
/*!**********************************************!*\
  !*** ./src/app/ecs/systems/playerLocator.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_LOCATOR_TYPE": () => (/* binding */ PLAYER_LOCATOR_TYPE),
/* harmony export */   "PlayerLocatorSystem": () => (/* binding */ PlayerLocatorSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_UnionFindSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/UnionFindSet */ "./src/app/util/UnionFindSet.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");







// If two points are closer than this they are in the same cluster
const CLUSTER_DISTANCE = 10 * 1.5 * 128; // 1 grid = 1.5m;
const PLAYER_LOCATOR_TYPE = 'player_locator';
// TODO: should we always compute clusters using https://en.wikipedia.org/wiki/Dynamic_connectivity ?
class PlayerLocatorSystem {
    constructor(world) {
        this.name = PLAYER_LOCATOR_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE, _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE];
        this.world = world;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('focus_on_random_party', this.onFocusOnRandomParty, this);
    }
    onComponentAdd(comp) {
        if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE) {
            this.clusters = undefined;
        }
    }
    onComponentEdited(comp) {
        if (this.clusters !== undefined)
            return;
        if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            if (this.world.getComponent(comp.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE) !== undefined) {
                this.clusters = undefined;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE) {
            this.clusters = undefined;
        }
    }
    onFocusOnRandomParty() {
        const clusters = this.ensureClusters();
        if (clusters.length === 0)
            return;
        const cluster = (0,_util_array__WEBPACK_IMPORTED_MODULE_6__.arrayRandomElement)(clusters);
        const center = cluster.getCenter();
        const trans = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.BOARD_TRANSFORM_TYPE);
        const size = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.BOARD_SIZE_TYPE);
        let changes = {
            posX: -center.x * trans.scaleX + size.width / 2,
            posY: -center.y * trans.scaleY + size.height / 2,
        };
        this.world.editResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.BOARD_TRANSFORM_TYPE, changes);
    }
    ensureClusters() {
        if (this.clusters === undefined)
            this.buildClusters();
        return this.clusters;
    }
    buildClusters() {
        this.clusters = [];
        const playerStorage = this.world.getStorage(_playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE);
        const posStorage = this.world.getStorage(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        // I expect there to be a low number of players (<<30) and of clusters (<<10),
        // so any algorithm will do with some cache.
        // This is a O(P*N*log(P)) (where P = n. of players and N = avg. n. of players near a player)
        // algorithm that uses an UnionFindSet to compute the different sets and a differen
        // bounding box array to store the sets bounding box (that is only used to compute the cluster center)
        // The algorithm is divided into 2 parts:
        // 1.  All of the players are put into an Aabb Tree and are enumerated in a 1..P range
        // 1.5 A new UnionFindSet is built (with length P) that uses the newly enumerated players
        // 2.  For each player search all of the near players (with distance < CLUSTER_DISTANCE)
        //       and merge their sets together (updating the bounding boxes accordingly)
        let tree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        let playerMap = new Map();
        // Used for nothing else than finding the center.
        let bounds = new Array();
        for (let player of playerStorage.getComponents()) {
            let pos = posStorage.getComponent(player.entity);
            if (pos === undefined)
                continue;
            tree.createProxy(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos), player);
            bounds.push(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos));
            playerMap.set(player.entity, playerMap.size);
        }
        let set = new _util_UnionFindSet__WEBPACK_IMPORTED_MODULE_1__.UnionFindSet(playerMap.size);
        // TODO: should we build another tree or should we use the
        // generic one? the cost is the same but the generic une is (much) taller
        for (let player of playerStorage.getComponents()) {
            let pos = posStorage.getComponent(player.entity);
            if (pos === undefined)
                continue;
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos);
            aabb.extend(CLUSTER_DISTANCE / 2, aabb);
            const aset = set.find(playerMap.get(player.entity));
            // The query's complexity should be O(log(N)) theoretically
            // for an infinitely small Aabb
            for (let near of tree.query(aabb)) {
                if (near.tag === undefined || near.tag === player)
                    continue;
                // join player and near
                const bset = set.find(playerMap.get(near.tag.entity));
                let unionParent = set.union(aset, bset);
                if (unionParent < 0)
                    continue;
                let other = unionParent === aset ? bset : aset;
                // Merge bounds and store them in the parent's bound
                bounds[unionParent].combine(bounds[other], bounds[unionParent]);
            }
        }
        // Get results
        // The resulting AABBs are stored in the leaders of the various sets
        // (or the tree roots if you're thinking about the UFS as a forest)
        for (let i = 0; i < bounds.length; i++) {
            if (set.parents[i] !== i)
                continue; // Not the root
            this.clusters.push(bounds[i]);
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerSystem.ts":
/*!*********************************************!*\
  !*** ./src/app/ecs/systems/playerSystem.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_TYPE": () => (/* binding */ PLAYER_TYPE),
/* harmony export */   "PLAYER_VISIBLE_TYPE": () => (/* binding */ PLAYER_VISIBLE_TYPE),
/* harmony export */   "EVENT_VISIBILITY_SPREAD": () => (/* binding */ EVENT_VISIBILITY_SPREAD),
/* harmony export */   "PlayerSystem": () => (/* binding */ PlayerSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");










const PLAYER_TYPE = 'player';
/**
 * Added to every object that might be visible by a player, it tracks how many players and how many lights
 * are seeing it.
 */
const PLAYER_VISIBLE_TYPE = 'player_visible';
const EVENT_VISIBILITY_SPREAD = 'visibility_spread';
class PlayerSystem {
    constructor(world) {
        var _a;
        this.name = PLAYER_TYPE;
        this.dependencies = [_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PIN_TYPE, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_TYPE, true, true);
        this.visibleStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_VISIBLE_TYPE, false, false);
        // If false a player can see a thing only if it's illuminated by artificial light
        this.ambientIlluminated = false;
        this.world = world;
        this.lightSystem = world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        this.visibilitySystem = world.systems.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_9__.STANDARD_GRID_OPTIONS).size;
        this.world.addStorage(this.storage);
        this.world.addStorage(this.visibleStorage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        let visAware = world.systems.get(_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
        visAware.events.on('aware_update', this.onVisibilityAwareUpdate, this);
    }
    onPlayerVisibleCountersUpdate(t) {
        let newVisible = t._playerNightVisionCount > 0 ||
            ((this.ambientIlluminated || t._lightCount > 0 || t.isWall) && t._playerCount > 0);
        if (this.world.isMaster && this.world.getComponent(t.entity, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE) !== undefined) {
            newVisible = false;
        }
        if (newVisible !== t.visible) {
            this.world.editComponent(t.entity, t.type, {
                visible: newVisible,
            });
        }
    }
    onVisibilityAwareUpdate(target, added, removed) {
        let playerVisible = this.visibleStorage.getComponent(target.entity);
        if (playerVisible === undefined)
            return;
        for (let e of added) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount += 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount += 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount += 1;
            }
        }
        for (let e of removed) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount -= 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount -= 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount -= 1;
            }
        }
        this.onPlayerVisibleCountersUpdate(playerVisible);
    }
    onNightVisionUpdate(player) {
        let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let diff = player.nightVision ? +1 : -1;
        let fun = (t) => {
            let playerVisible = this.visibleStorage.getComponent(t);
            if (playerVisible === undefined)
                return;
            playerVisible._playerNightVisionCount += diff;
            this.onPlayerVisibleCountersUpdate(playerVisible);
        };
        for (let t of vis._canSee)
            fun(t);
        if (vis._canSeeWalls)
            for (let t of vis._canSeeWalls)
                fun(t);
    }
    createVisMeshFrom(pos, vis) {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(mesh, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(mesh, pos, r * r, 0xFFFFFF);
        return mesh;
    }
    spreadPlayerVisibility(player, pos, vis, nightVision) {
        if (this.world.getComponent(player, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE))
            return; // Ignore hidden players
        let playerVis = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(playerVis, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(playerVis, pos, r * r, 0xFFFFFF);
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let playerData = {
            mesh: playerVis,
            vis,
            pos,
        };
        let players = [];
        let nightVisPlayers = [];
        let lights = [];
        let aabb;
        if (!nightVision && !this.ambientIlluminated) {
            players.push(playerData);
            aabb = undefined;
            for (let c of this.visibilitySystem.aabbTree.query(vis.aabb)) {
                let visComponent = c.tag;
                let lightComponent = lightStorage.getComponent(visComponent.entity);
                if (lightComponent === undefined || visComponent.range <= 0)
                    continue;
                let pos = posStorage.getComponent(visComponent.entity);
                if (aabb === undefined)
                    aabb = visComponent.aabb.copy();
                else
                    aabb.combine(visComponent.aabb, aabb);
                let mesh = this.createVisMeshFrom(pos, visComponent);
                lights.push({
                    mesh,
                    pos,
                    vis: visComponent,
                });
            }
            if (lights.length === 0)
                return; // no night vision AND no lights = can't see a thing!
            aabb.intersect(vis.aabb, aabb);
        }
        else {
            nightVisPlayers.push(playerData);
            aabb = vis.aabb;
        }
        let data = {
            aabb,
            lights,
            players,
            nightVisPlayers,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        playerData.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let light of data.lights)
            light.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadLightVisibility(lightVis) {
        // Quite similar to spreadPlayerVisibility but follows a light instead of a player,
        // When a light visibility polygon is changed this will query each player in the polygon's reach and
        // spread the visibility (only with that light!)
        if (this.ambientIlluminated)
            return; // Who needs lights?
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let lightPos = posStorage.getComponent(lightVis.entity);
        let lightMesh = this.createVisMeshFrom(lightPos, lightVis);
        let lightData = [{
                mesh: lightMesh,
                pos: lightPos,
                vis: lightVis,
            }];
        let aabb = undefined;
        let players = [];
        for (let c of this.visibilitySystem.aabbTree.query(lightVis.aabb)) {
            let visComponent = c.tag;
            let player = this.storage.getComponent(visComponent.entity);
            if (player === undefined || visComponent.range <= 0 || player.nightVision)
                continue;
            if (aabb === undefined)
                aabb = visComponent.aabb.copy();
            else
                aabb.combine(visComponent.aabb, aabb);
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(player.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            players.push({
                mesh,
                pos,
                vis,
            });
        }
        if (players.length === 0)
            return;
        aabb.intersect(lightVis.aabb, aabb);
        let data = {
            aabb,
            lights: lightData,
            players,
            nightVisPlayers: [],
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        lightData[0].mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let player of players)
            player.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadAfterLightNotNeeded() {
        // Something changed, light is not needed anymore
        // this means that most of the things that were not visible anymore now are
        // but what? and where? this is the questions i will answer today
        let players = [];
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let aabb = undefined;
        for (let player of this.storage.allComponents()) {
            if (player.nightVision)
                continue;
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(vis.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            if (aabb === undefined)
                aabb = vis.aabb.copy();
            else
                aabb.combine(vis.aabb, aabb);
            let data = { mesh, pos, vis };
            players.push(data);
        }
        if (aabb === undefined)
            return; // Not enough players
        let data = {
            aabb,
            lights: [],
            players: [],
            nightVisPlayers: players,
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    getSpreadDataForAabb(aabb, cb) {
        let nightVisPlayers = [];
        let players = [];
        let lights = [];
        let lightsNeeded = !this.ambientIlluminated;
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        for (let c of this.visibilitySystem.aabbTree.query(aabb)) {
            let vis = c.tag;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                let pos = posStorage.getComponent(vis.entity);
                let mesh = this.createVisMeshFrom(pos, vis);
                let data = { mesh, pos, vis };
                if (player.nightVision || !lightsNeeded)
                    nightVisPlayers.push(data);
                else
                    players.push(data);
                continue;
            }
            if (lightsNeeded) {
                let light = lightStorage.getComponent(vis.entity);
                if (light !== undefined) {
                    let pos = posStorage.getComponent(vis.entity);
                    let mesh = this.createVisMeshFrom(pos, vis);
                    let data = { mesh, pos, vis };
                    lights.push(data);
                }
            }
        }
        let realPlayers = players;
        let realLights = lights;
        if (players.length === 0 || lights.length == 0) {
            realPlayers = [];
            realLights = [];
        }
        let data = {
            aabb,
            lights: realLights,
            players: realPlayers,
            nightVisPlayers,
        };
        cb(data);
        for (let x of lights)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of nightVisPlayers)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    onComponentAdd(comp) {
        if (comp.type === PLAYER_TYPE) {
            let player = comp;
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined) {
                console.error("Added player to pin without player visibility! " + comp.entity);
                return;
            }
            pv._playerNightVisionCount++; // A bit hackish, but it works ;)
            this.onPlayerVisibleCountersUpdate(pv);
            // We need a visibility component, create one if it does not already exist
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE,
                range: player.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            let c = comp;
            c._lightCount = 0;
            c._playerCount = 0;
            c._playerNightVisionCount = 0;
            this.world.addComponent(c.entity, (0,_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.newVisibilityAwareComponent)(c.isWall === true));
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE) {
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv !== undefined) {
                this.onPlayerVisibleCountersUpdate(pv);
            }
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PLAYER_TYPE) {
            let c = comp;
            if ('nightVision' in changed) {
                this.onNightVisionUpdate(c);
            }
            if ('range' in changed) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, c.nightVision);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changed))
                return;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, player.nightVision);
                }
                return;
            }
            let light = this.world.getComponent(vis.entity, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                this.spreadLightVisibility(vis);
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === PLAYER_TYPE) {
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No player visibility found on removal");
            }
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined)
                return;
            pv._playerNightVisionCount--; // Gotta undo those hacks
            this.onPlayerVisibleCountersUpdate(pv);
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE) {
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv !== undefined) {
                this.onPlayerVisibleCountersUpdate(pv);
            }
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            const visAware = this.world.getComponent(comp.entity, _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
            if (visAware !== undefined)
                this.world.removeComponent(visAware);
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_SETTINGS_TYPE && 'needsLight' in changed) {
            let light = res;
            this.ambientIlluminated = !light.needsLight;
            for (let comp of this.visibleStorage.allComponents()) {
                this.onPlayerVisibleCountersUpdate(comp);
            }
            if (!light.needsLight) {
                this.spreadAfterLightNotNeeded();
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
        }
    }
    // PUBLIC INTERFACE
    addPlayerVisListener(entity, isWall = false) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined) {
            c = {
                type: PLAYER_VISIBLE_TYPE,
                entity,
                visible: false,
                isWall,
                _refCount: 1,
                _lightCount: 0,
                _playerCount: 0,
                _playerNightVisionCount: 0,
            };
            this.world.addComponent(entity, c);
            return c;
        }
        else {
            c._refCount++;
        }
        return c;
    }
    removePlayerVisListener(entity) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined)
            return;
        c._refCount--;
        if (c._refCount === 0) {
            this.world.removeComponent(c);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.setup();
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/propSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/propSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PROP_TYPE": () => (/* binding */ PROP_TYPE),
/* harmony export */   "PROP_TELEPORT_TYPE": () => (/* binding */ PROP_TELEPORT_TYPE),
/* harmony export */   "PropSystem": () => (/* binding */ PropSystem),
/* harmony export */   "CreatePropToolPart": () => (/* binding */ CreatePropToolPart),
/* harmony export */   "PropTeleportLinkToolPart": () => (/* binding */ PropTeleportLinkToolPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./back/linkRelocationSystem */ "./src/app/ecs/systems/back/linkRelocationSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
















const PROP_TYPE = 'prop';
const PROP_TELEPORT_TYPE = 'prop_teleport';
class PropSystem {
    constructor(world) {
        this.name = PROP_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE, _back_layerSystem__WEBPACK_IMPORTED_MODULE_13__.LAYER_TYPE];
        this.optionalDependencies = [_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_14__.LINK_RELOCATION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TYPE, true, true);
        this.teleportStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TELEPORT_TYPE, true, true);
        this.defaultPropType = "ladder_down";
        this.world = world;
        if (world.isMaster) {
            const toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE);
            toolSys.addToolPart(new CreatePropToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP, ['space_pan', _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP, 'creation_flag']);
            toolSys.addToolPart(new PropTeleportLinkToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK, ['space_pan', _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK]);
        }
        let linkReloc = this.world.systems.get(_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_14__.LINK_RELOCATION_TYPE);
        if (linkReloc !== undefined) {
            linkReloc.addLink(PROP_TELEPORT_TYPE, 'targetProp');
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE);
        this.layerSys = world.systems.get(_back_layerSystem__WEBPACK_IMPORTED_MODULE_13__.LAYER_TYPE);
        this.propTypes = new Map();
        this.loadPropTypes();
        world.addStorage(this.storage);
        world.addStorage(this.teleportStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('prop_use', this.onPropUse, this);
    }
    registerPropType(propType) {
        this.propTypes.set(propType.id, propType);
    }
    loadPropTypes() {
        const atlas = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Loader.shared.resources.props.spritesheet;
        const props = [
            {
                id: 'ladder_up',
                name: 'Ladder Up',
                texture: atlas.textures['ladder_up.png'],
            },
            {
                id: 'ladder_down',
                name: 'Ladder Down',
                texture: atlas.textures['ladder_down.png'],
            },
        ];
        for (let prop of props)
            this.registerPropType(prop);
    }
    getPropType(p) {
        let pType = this.propTypes.get(p.propType);
        if (pType === undefined) {
            console.warn(`Cannot find prop type: ${p.propType}`);
            pType = this.propTypes.get(this.defaultPropType);
            if (pType === undefined) {
                throw new Error("Default prop type is invalid!");
            }
        }
        return pType;
    }
    onComponentAdd(c) {
        if (c.type !== 'prop')
            return;
        let prop = c;
        let propType = this.getPropType(prop);
        this.world.addComponent(c.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: true,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.REMEMBER,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        });
    }
    onComponentEdited(c, changed) {
        if (c.type === PROP_TYPE) {
            let prop = c;
            let pType = this.getPropType(prop);
            let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE).display;
            display.texture = pType.texture;
            this.world.editComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, { display }, undefined, false);
        }
    }
    onComponentRemove(c) {
        if (c.type === 'prop') {
            let tp = this.teleportStorage.getComponent(c.entity);
            if (tp !== undefined)
                this.world.removeComponent(tp);
        }
    }
    onPropUse(entity) {
        let prop = this.storage.getComponent(entity);
        let teleport = this.teleportStorage.getComponent(entity);
        if (prop === undefined || teleport === undefined)
            return;
        let target = this.storage.getComponent(teleport.entity);
        if (target === undefined) {
            console.warn("Unlinked teleporter!");
            return;
        }
        let positions = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let posFrom = positions.getComponent(entity);
        let posTo = positions.getComponent(teleport.targetProp);
        let diffX = posTo.x - posFrom.x;
        let diffY = posTo.y - posFrom.y;
        let shape = this.world.getComponent(entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let pinStorage = this.world.storages.get('pin');
        let foreground = (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_13__.findForeground)(this.world);
        let query = this.interactionSys.query(shape, x => {
            return pinStorage.getComponent(x.entity) !== undefined &&
                this.layerSys.getEntityLayer(x.entity).entity == foreground;
        });
        let edit = [];
        for (let q of query) {
            let pos = positions.getComponent(q.entity);
            edit.push({
                entity: q.entity,
                type: pos.type,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                }
            });
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_12__.componentEditCommand)(undefined, edit);
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.world, cmd);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePropToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP;
        // Entity of the prop to be created
        this.createProp = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        this.createPropType = this.sys.defaultPropType;
        let propType = this.sys.propTypes.get(this.createPropType);
        if (propType === undefined)
            throw new Error('Illegal prop type: ' + this.createPropType);
        this.createProp = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_3__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
            rotation: 0,
            scale: 1,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.ALWAYS_VISIBLE,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createProp !== -1) {
            this.sys.world.despawnEntity(this.createProp);
            this.createProp = -1;
        }
    }
    confirmCreation() {
        var _a;
        if (this.createProp === undefined)
            return;
        const id = this.createProp;
        const world = this.sys.world;
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let tran = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE);
        world.despawnEntity(id);
        this.createProp = -1;
        const cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_10__.SpawnCommandKind.from(world, [
            {
                type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
                x: loc.x,
                y: loc.y,
            },
            {
                type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
                scale: tran.scale,
                rotation: tran.rotation,
            },
            {
                type: PROP_TYPE,
                propType: this.createPropType,
            },
        ]);
        const creationInfo = this.sys.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_15__.CREATION_INFO_TYPE);
        if ((_a = creationInfo === null || creationInfo === void 0 ? void 0 : creationInfo.exitAfterCreation) !== null && _a !== void 0 ? _a : true) {
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
        }
        else {
            this.initCreation();
        }
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(world, cmd);
    }
    onPointerUp(event) {
        if (this.createProp === -1)
            return;
        if (event.isInside) {
            this.confirmCreation();
        }
    }
    onEnable() {
        this.initCreation();
    }
    onDisable() {
        this.cancelCreation();
    }
    initialize(events) {
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PointerEvents.POINTER_UP, this.onPointerUp, this);
    }
    destroy() {
    }
}
class PropTeleportLinkToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK;
        this.currentTarget = -1;
        this.sys = sys;
    }
    onPropTeleportLink(entity) {
        let tp = this.sys.teleportStorage.getComponent(entity);
        if (tp === undefined) {
            console.warn("Called teleport link on a non-teleport prop, ignoring");
            return;
        }
        this.currentTarget = entity;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK,
        });
    }
    linkTo(target) {
        if (this.sys.storage.getComponent(target) === undefined) {
            console.warn("Trying to link teleport to a non-prop, ignoring");
            return;
        }
        let tper = this.sys.teleportStorage.getComponent(this.currentTarget);
        if (tper === undefined) {
            console.warn("Teleporter has been destroyed");
            return;
        }
        // If the target is itself then delete the link
        let edit = [];
        edit.push({
            entity: tper.entity,
            type: tper.type,
            changes: {
                targetProp: target === this.currentTarget ? -1 : target
            }
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.sys.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_12__.componentEditCommand)(undefined, edit));
        this.currentTarget = -1;
    }
    linkCancel() {
        this.currentTarget = -1;
    }
    onPointerClick(event) {
        let point = event.boardPos;
        let interactionSystem = this.sys.world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let query = interactionSystem.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePoint)(point), x => {
            return this.sys.world.getComponent(x.entity, 'prop') !== undefined;
        });
        for (let found of query) {
            let oldTper = this.currentTarget;
            this.linkTo(found.entity);
            this.sys.selectionSys.setOnlyEntity(oldTper);
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
            return;
        }
    }
    onEnable() {
        document.body.style.cursor = 'crosshair';
    }
    onDisable() {
        this.linkCancel();
        document.body.style.cursor = 'auto';
    }
    initialize(events) {
        this.sys.world.events.on('prop_teleport_link', this.onPropTeleportLink, this);
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/wallSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/wallSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WALL_TYPE": () => (/* binding */ WALL_TYPE),
/* harmony export */   "WallSystem": () => (/* binding */ WallSystem),
/* harmony export */   "CreateWallToolPart": () => (/* binding */ CreateWallToolPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




















const WALL_TYPE = 'wall';
const SELECTION_COLOR = 0x7986CB;
class WallSystem {
    constructor(world) {
        this.name = WALL_TYPE;
        this.dependencies = [_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_14__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_3__.SingleEcsStorage(WALL_TYPE);
        this.isTranslating = false;
        this.world = world;
        // Only masters can create walls
        if (this.world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE);
            toolSys.addToolPart(new CreateWallToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_15__.Tool.CREATE_WALL, ['space_pan', _tools_toolType__WEBPACK_IMPORTED_MODULE_15__.Tool.CREATE_WALL]);
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_14__.SELECTION_TYPE);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
    }
    onComponentAdd(component) {
        if (component.type !== WALL_TYPE)
            return;
        let wall = component;
        let pos = this.world.getComponent(wall.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        if (pos === undefined) {
            console.warn("Found wall without position, please add first the position, then the wall");
            return;
        }
        wall._dontMerge = 0;
        this.world.addComponent(component.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE,
            entity: -1,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_11__.ElementType.LINE,
                ignore: false,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_11__.VisibilityType.REMEMBER,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL,
                vec: { x: wall.vec[0], y: wall.vec[1] },
            },
            interactive: true,
            isWall: true,
        });
        this.world.addComponent(component.entity, {
            type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE,
            entity: -1
        });
    }
    fixWallPreTranslation(walls) {
        for (let wall of walls) {
            let visBlock = this.world.getComponent(wall.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
            if (visBlock !== undefined)
                this.world.removeComponent(visBlock);
        }
        // what changes here? a little bittle thing:
        // we need to unfix the wall (remove the intersection breaks).
        let wall_index = new Map();
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        let insertInIndex = (index, wall) => {
            let list = wall_index.get(index);
            if (list === undefined) {
                list = [];
                wall_index.set(index, list);
            }
            list.push(wall);
        };
        for (let wall of walls) {
            if (wall._dontMerge !== 0)
                continue;
            let pos = posStorage.getComponent(wall.entity);
            let p1 = pos.x + "@" + pos.y;
            let p2 = (pos.x + wall.vec[0]) + "@" + (pos.y + wall.vec[1]);
            let tryMerge = (index) => {
                let mergeWithIndex = undefined;
                let walls = wall_index.get(index);
                if (walls === undefined)
                    return false;
                let wlen = walls.length;
                for (let i = 0; i < wlen; i++) {
                    let owall = walls[i];
                    if ((0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.lineSameSlope)(wall.vec[0], wall.vec[1], owall.vec[0], owall.vec[1])) {
                        mergeWithIndex = i;
                        break;
                    }
                }
                if (mergeWithIndex === undefined)
                    return false;
                let mwall = walls[mergeWithIndex];
                let mpos = posStorage.getComponent(mwall.entity);
                let minChanged = false;
                let x = pos.x;
                let y = pos.y;
                let dx = wall.vec[0];
                let dy = wall.vec[1];
                if (p2 === index) {
                    x += dx;
                    y += dy;
                    dx = -dx;
                    dy = -dy;
                }
                if (mpos.x === x && mpos.y === y) {
                    mpos.x += dx;
                    mpos.y += dy;
                    minChanged = true;
                }
                else {
                    mwall.vec[0] += wall.vec[0];
                    mwall.vec[1] += wall.vec[1];
                }
                walls.splice(mergeWithIndex, 1);
                let p;
                if (minChanged) {
                    p = mpos.x + "@" + mpos.y;
                }
                else {
                    p = (mpos.x + mwall.vec[0]) + "@" + (mpos.y + mwall.vec[1]);
                }
                insertInIndex(p, mwall);
                this.world.despawnEntity(wall.entity);
                this.redrawWall(mwall);
                return true;
            };
            if (tryMerge(p1) || tryMerge(p2))
                continue;
            insertInIndex(p1, wall);
            insertInIndex(p2, wall);
        }
    }
    fixWallPostTranslation(walls) {
        // Recompute intersections with other walls.
        // Why not all everything directly? we want to compute also the self-intersections
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        for (let wall of walls) {
            let pos = posStorage.getComponent(wall.entity);
            let points = [pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]];
            this.fixIntersections(points, 0);
            this.world.editComponent(pos.entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, {
                shape: (0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(points[0], points[1], points[2], points[3])),
            });
            if (points.length > 4) {
                pos.x = points[0];
                pos.y = points[1];
                wall.vec[0] = points[2] - pos.x;
                wall.vec[1] = points[3] - pos.y;
            }
            this.redrawWall(wall);
            const plen = points.length;
            const cIds = [];
            for (let i = 4; i < plen; i += 2) {
                let cmd = this.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                cIds.push(cmd.data.entities[0]);
                this.world.deserialize(cmd.data, { remap: false });
            }
            if (cIds.length > 0) {
                this.selectionSys.addEntities(cIds);
                // TODO: optimization, update the selection only once!
            }
        }
        for (let wall of walls) {
            this.world.addComponent(wall.entity, {
                type: "visibility_blocker",
                entity: -1
            });
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type !== WALL_TYPE && comp.type !== _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE)
            return;
        let wall, position;
        if (comp.type === WALL_TYPE) {
            wall = comp;
            position = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        }
        else {
            wall = this.storage.getComponent(comp.entity);
            position = comp;
        }
        if (wall === undefined || position === undefined)
            return;
        if (!this.isTranslating) {
            this.fixWallPreTranslation([wall]);
            this.fixWallPostTranslation([wall]);
        }
        if (comp.type === WALL_TYPE && 'vec' in changed) {
            this.redrawWall(wall);
        }
    }
    redrawWall(wall) {
        let display = this.world.getComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE).display;
        display.vec = { x: wall.vec[0], y: wall.vec[1] };
        this.world.editComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    findLocationOnWall(point, radius) {
        let points = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(point.x - radius, point.y - radius, point.x + radius, point.y + radius)), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        let bestPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        let bestDist = Number.POSITIVE_INFINITY;
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        for (let node of points) {
            let line = node.shape.data;
            if (!line.projectPoint(point, tmpPoint)) {
                continue;
            }
            let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_5__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
            if (dist < bestDist && dist < radius) {
                bestPoint.copyFrom(tmpPoint);
                bestDist = dist;
            }
        }
        if (bestDist !== Number.POSITIVE_INFINITY) {
            return bestPoint;
        }
        else {
            return undefined;
        }
    }
    onComponentRemove(component) {
        if (component.type !== WALL_TYPE)
            return;
        let vblocker = this.world.getComponent(component.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
        if (vblocker !== undefined) {
            this.world.removeComponent(vblocker);
        }
    }
    onToolMoveBegin() {
        this.isTranslating = true;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPreTranslation(walls);
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPostTranslation(walls);
    }
    queryIntersections(posX, posY, vecX, vecY) {
        let strip = [posX, posY, posX + vecX, posY + vecY];
        let ids = new Array();
        this.fixIntersections(strip, 0, undefined, ids);
        return ids;
    }
    fixIntersections(strip, start, end, wallIds) {
        let aabb = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);
        end = end === undefined ? strip.length : end;
        for (let i = start; i < end; i += 2) {
            aabb.minX = Math.min(aabb.minX, strip[i]);
            aabb.minY = Math.min(aabb.minY, strip[i + 1]);
            aabb.maxX = Math.max(aabb.maxX, strip[i]);
            aabb.maxY = Math.max(aabb.maxY, strip[i + 1]);
        }
        let tmpLine = new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(0, 0, 0, 0);
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        let query = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(aabb), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        for (let wall of query) {
            //console.log("Checking wall: ", wall.tag);
            for (let i = start + 2; i < end; i += 2) {
                tmpLine.fromX = strip[i - 2];
                tmpLine.fromY = strip[i - 1];
                tmpLine.toX = strip[i];
                tmpLine.toY = strip[i + 1];
                let line = wall.shape.data;
                let res = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.intersectSegmentVsSegment)(tmpLine, line, tmpPoint);
                // Only continue if the intersection is inside of both lines (not on the edge)
                if (res !== _geometry_collision__WEBPACK_IMPORTED_MODULE_8__.SegmentVsSegmentRes.INTERN)
                    continue;
                // Insert the intersection point in the strip
                //console.log("FIXING AT: " + tmpPoint.x + ", " + tmpPoint.y);
                strip.splice(i, 0, tmpPoint.x, tmpPoint.y);
                i += 2; // Skip this point
                end += 2;
                wallIds === null || wallIds === void 0 ? void 0 : wallIds.push(wall.entity);
            }
        }
        return end;
    }
    createWall(minX, minY, maxX, maxY) {
        let components = [
            {
                entity: -1,
                x: minX,
                y: minY,
                type: _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE,
            },
            {
                type: WALL_TYPE,
                vec: [maxX - minX, maxY - minY],
            },
        ];
        return _command_spawnCommand__WEBPACK_IMPORTED_MODULE_17__.SpawnCommandKind.from(this.world, components);
    }
    enable() {
    }
    destroy() {
    }
}
class CreateWallToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_15__.Tool.CREATE_WALL;
        // Sprite of the pin to be created
        this.createdIds = [];
        this.isActive = false;
        this.mouseLastPos = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.sys = sys;
        this.createLastLineDisplay = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Graphics();
        this.pixiBoardSys = sys.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PIXI_BOARD_TYPE);
        sys.world.events.on('component_add', (c) => {
            if (this.isActive && c.type === 'wall') {
                this.createdIds.push(c.entity);
            }
        });
        sys.world.events.on('component_remove', (c) => {
            if (this.isActive && c.type === 'wall' && (0,_util_array__WEBPACK_IMPORTED_MODULE_18__.arrayRemoveElem)(this.createdIds, c.entity)) {
                this.recomputeCreatedLastPos();
            }
        });
    }
    initCreation() {
        this.endCreation();
    }
    endCreation() {
        this.createLastLineDisplay.clear();
        this.createdLastPos = undefined;
        if (this.createdIds.length === 0)
            return;
        this.sys.selectionSys.setOnlyEntities(this.createdIds);
        this.createdIds.length = 0;
        this.createdLastPos = undefined;
        // don't change tool
        /*this.sys.world.editResource(TOOL_TYPE, {
            tool: Tool.INSPECT,
        })*/
    }
    redrawCreationLastLine(pos) {
        this.mouseLastPos = pos;
        let g = this.createLastLineDisplay;
        g.clear();
        if (this.createdLastPos !== undefined) {
            g.moveTo(this.createdLastPos[0], this.createdLastPos[1]);
            g.lineStyle(5, SELECTION_COLOR);
            g.lineTo(pos.x, pos.y);
        }
        g.lineStyle(0);
        if (this.createdIds.length === 0 && this.createdLastPos !== undefined) {
            g.beginFill(0xe51010);
            g.drawCircle(this.createdLastPos[0], this.createdLastPos[1], 10);
        }
        g.beginFill(0x405FFE);
        g.drawCircle(pos.x, pos.y, 10);
    }
    addVertex(point) {
        let lp = this.createdLastPos;
        if (lp === undefined) {
            this.createdLastPos = [point.x, point.y];
        }
        else if (point.x == lp[0] && point.y == lp[1]) {
            this.endCreation();
        }
        else {
            let points = [lp[0], lp[1], point.x, point.y];
            this.sys.fixIntersections(points, 0);
            let plen = points.length;
            for (let i = 2; i < plen; i += 2) {
                let cmd = this.sys.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                (0,_command_command__WEBPACK_IMPORTED_MODULE_16__.executeAndLogCommand)(this.sys.world, cmd);
            }
            this.createdLastPos = [point.x, point.y];
        }
    }
    undoVertex(point) {
        if (this.createdLastPos === undefined)
            return;
        this.mouseLastPos = point;
        let recomputeLast = true;
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
            return;
        }
        else if (this.createdIds.length === 1) {
            const wall = this.sys.world.getComponent(this.createdIds[0], _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            this.createdLastPos = [wall.x, wall.y];
            recomputeLast = false;
        }
        let cmd = {
            kind: 'despawn',
            entities: [this.createdIds.pop()],
        };
        (0,_command_command__WEBPACK_IMPORTED_MODULE_16__.executeAndLogCommand)(this.sys.world, cmd);
        if (recomputeLast) {
            this.recomputeCreatedLastPos();
        }
        else {
            this.redrawCreationLastLine(this.mouseLastPos);
        }
    }
    recomputeCreatedLastPos() {
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let id = this.createdIds[this.createdIds.length - 1];
            let wallPos = this.sys.world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            let wall = this.sys.storage.getComponent(id);
            this.createdLastPos = [
                wallPos.x + wall.vec[0],
                wallPos.y + wall.vec[1],
            ];
        }
        this.redrawCreationLastLine(this.mouseLastPos);
    }
    onPointerMove(event) {
        this.redrawCreationLastLine((0,_tools_utils__WEBPACK_IMPORTED_MODULE_19__.snapPoint)(this.sys.world, event.boardPos));
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        event.consumed = true;
        this.addVertex((0,_tools_utils__WEBPACK_IMPORTED_MODULE_19__.snapPoint)(this.sys.world, event.boardPos));
    }
    onPointerRightDown(event) {
        if (event.consumed)
            return;
        event.consumed = true;
        this.undoVertex((0,_tools_utils__WEBPACK_IMPORTED_MODULE_19__.snapPoint)(this.sys.world, event.boardPos));
    }
    onEnable() {
        this.isActive = true;
        this.initCreation();
    }
    onDisable() {
        this.endCreation();
        this.isActive = false;
    }
    initialize(events) {
        this.createLastLineDisplay.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL + 1;
        this.createLastLineDisplay.interactive = false;
        this.createLastLineDisplay.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.createLastLineDisplay);
        this.pixiBoardSys.board.sortChildren();
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PointerEvents.POINTER_RIGHT_DOWN, this.onPointerRightDown, this);
    }
    destroy() {
        this.createLastLineDisplay.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/inspect.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/inspect.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FilteredPanPart": () => (/* binding */ FilteredPanPart),
/* harmony export */   "InteractPart": () => (/* binding */ InteractPart),
/* harmony export */   "SelectPart": () => (/* binding */ SelectPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _rectangularSelection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rectangularSelection */ "./src/app/ecs/tools/rectangularSelection.ts");
/* harmony import */ var _systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");






class FilteredPanPart {
    constructor(world, name, filter, priority = 0) {
        this.isPanning = false;
        this.name = name;
        this.world = world;
        this.filter = filter;
        this.priority = priority;
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        this.isPanning = this.filter(this.world, event);
        if (this.isPanning) {
            event.consumed = true;
            event.consumeDragBoard = true;
        }
    }
    onPointerUp(event) {
        if (event.isClick) {
            event.consumed = true;
        }
        this.isPanning = false;
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_DOWN, this.onPointerDown, this, this.priority);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_UP, this.onPointerUp, this, this.priority);
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}
class InteractPart {
    constructor(world) {
        this.name = "interact";
        this.lastClick = 0;
        this.world = world;
    }
    onPointerClick(event) {
        const now = Date.now();
        if (now - this.lastClick < 800) {
            // double click!
            this.lastClick = 0;
            this.world.events.emit("interact", event.entitiesHovered());
        }
        else {
            this.lastClick = now;
        }
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}
class SelectPart {
    constructor(world) {
        this.name = "select";
        this.isDown = false;
        this.lastDownEntities = [];
        this.lastDownSelected = [];
        this.canMoveSelected = false;
        this.isMoving = false;
        this.movingStart = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.lastMove = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.world = world;
        this.layerSys = world.systems.get(_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_4__.LAYER_TYPE);
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE);
        this.keyboard = this.world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_5__.KEYBOARD_TYPE);
        this.rectSelection = new _rectangularSelection__WEBPACK_IMPORTED_MODULE_3__.RectangularSelection(world);
        this.rectSelection.predicate = id => !this.layerSys.getEntityLayer(id).locked;
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        this.isDown = true;
        this.lastDownEntities.length = 0;
        this.lastDownSelected.length = 0;
        this.justSelected = undefined;
        for (let entity of event.entitiesHovered()) {
            if (this.layerSys.getEntityLayer(entity).locked) {
                this.lastDownEntities.push(entity);
            }
            else {
                this.lastDownSelected.push(entity);
            }
        }
        if (this.lastDownSelected.length === 0 && this.world.isMaster) {
            this.rectSelection.begin(event.boardPos);
            event.consumed = true;
        }
        // Clients can't move anything (TODO: this should be false)
        event.consumed || (event.consumed = this.world.isMaster);
        // event.consumed = true;
        const ctrlPressed = this.keyboard.ctrl;
        if (ctrlPressed) {
            let selected = this.selectionSys.selectedEntities;
            let e = [];
            for (let entity of this.lastDownSelected) {
                if (!selected.has(entity)) {
                    e.push(entity);
                }
            }
            this.selectionSys.addEntities(e);
        }
        else if (this.lastDownSelected.length > 0) {
            const entity = this.lastDownSelected[0];
            this.justSelected = entity;
        }
        // TODO: better move system
        this.canMoveSelected = this.world.isMaster && !ctrlPressed;
        if (!this.canMoveSelected)
            return;
        this.movingStart.copyFrom(event.boardPos);
        this.lastMove.set(0, 0);
    }
    onPointerUp(event) {
        this.canMoveSelected = false;
        this.isDown = false;
        if (event.isClick) {
            if (event.entitiesHovered().length === 0) {
                this.selectionSys.clear();
            }
            else if (this.justSelected !== undefined) {
                this.selectionSys.setOnlyEntity(this.justSelected);
            }
        }
        if (this.rectSelection.isActive) {
            this.rectSelection.done();
        }
        if (this.isMoving) {
            this.isMoving = false;
            this.world.events.emit('tool_move_end');
        }
    }
    onPointerMove(event) {
        if (!this.isDown || !this.canMoveSelected || event.canBecomeClick)
            return;
        if (this.lastDownSelected.length === 0) {
            if (!this.rectSelection.isActive) {
                this.rectSelection.begin(this.movingStart);
            }
            this.rectSelection.moveEnd(event.boardPos);
        }
        else {
            if (!this.isMoving) {
                if (this.justSelected !== undefined && !this.selectionSys.selectedEntities.has(this.justSelected)) {
                    this.selectionSys.setOnlyEntity(this.justSelected);
                }
                this.isMoving = true;
                this.world.events.emit('tool_move_begin');
            }
            let diffX = event.boardPos.x - this.movingStart.x;
            let diffY = event.boardPos.y - this.movingStart.y;
            let moveX = diffX - this.lastMove.x;
            let moveY = diffY - this.lastMove.y;
            this.lastMove.set(diffX, diffY);
            this.selectionSys.moveAll(moveX, moveY, this.selectionSys.selectedEntities);
        }
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_UP, this.onPointerUp, this);
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/measure.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/measure.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MEASURE_TYPE": () => (/* binding */ MEASURE_TYPE),
/* harmony export */   "MeasureToolPart": () => (/* binding */ MeasureToolPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/app/ecs/tools/utils.ts");




const MEASURE_TYPE = "measure";
class MeasureToolPart {
    constructor(world) {
        this.name = MEASURE_TYPE;
        this.startMeasure = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.lastMeasure = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.isDown = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_2__.KEYBOARD_TYPE);
    }
    pushRes() {
        this.world.addResource({
            type: MEASURE_TYPE,
            fromX: this.startMeasure.x,
            fromY: this.startMeasure.y,
            toX: this.lastMeasure.x,
            toY: this.lastMeasure.y,
            _save: false,
            _sync: false,
        }, 'update');
    }
    removeRes() {
        this.world.removeResource(MEASURE_TYPE, false);
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        event.consumed = true;
        this.isDown = true;
        this.startMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.snapPoint)(this.world, event.boardPos);
        this.lastMeasure = this.startMeasure;
        this.pushRes();
    }
    onPointerUp(event) {
        if (!this.isDown)
            return;
        this.isDown = false;
        this.lastMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.snapPoint)(this.world, event.boardPos);
        this.pushRes();
    }
    onPointerMove(event) {
        if (!this.isDown)
            return;
        this.lastMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.snapPoint)(this.world, event.boardPos);
        this.pushRes();
    }
    onEnable() {
    }
    onDisable() {
        this.removeRes();
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PointerEvents.POINTER_UP, this.onPointerUp, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/rectangularSelection.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/tools/rectangularSelection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RectangularSelection": () => (/* binding */ RectangularSelection)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");







class RectangularSelection {
    constructor(world) {
        this.isActive = false;
        this.startPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.endPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.predicate = _ => true;
        this.entitiesInside = new Set();
        this.entitiesSelected = new Set();
        this.isMultiple = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_TYPE);
        this.display = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__.SELECTION_TYPE);
    }
    begin(pos) {
        this.entitiesSelected.clear();
        this.isActive = true;
        this.world.addResource({
            type: _resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE,
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x, pos.y, pos.x, pos.y),
            _save: false,
            _sync: false,
        }, 'update');
        this.startPoint = pos;
        this.endPoint = pos;
        this.isMultiple = this.keyboard.ctrl;
        if (!this.isMultiple) {
            this.selectionSys.clear();
        }
    }
    moveEnd(pos) {
        let added = [];
        let removed = [];
        (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.aabbSameOriginDifference)(this.startPoint, this.endPoint, pos, added, removed);
        for (let x of added) {
            this.addRect(x);
        }
        for (let x of removed) {
            this.removeRect(x);
        }
        this.endPoint = pos;
        this.world.editResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE, {
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(this.startPoint.x, this.startPoint.y, pos.x, pos.y),
        });
    }
    done() {
        this.isActive = false;
        this.world.removeResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE);
        this.entitiesInside.clear();
        this.entitiesSelected.clear();
    }
    onEntityEnter(id) {
        if (this.selectionSys.selectedEntities.has(id)) {
            return;
        }
        this.entitiesSelected.add(id);
        this.selectionSys.addEntities([id]);
    }
    onEntityLeave(id) {
        if (this.entitiesSelected.delete(id)) {
            this.selectionSys.removeEntities([id]);
        }
    }
    addRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            if (this.entitiesInside.has(c.entity))
                return false;
            return this.predicate(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.add(c.entity);
            this.onEntityEnter(c.entity);
        }
    }
    removeRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            return this.entitiesInside.has(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.delete(c.entity);
            this.onEntityLeave(c.entity);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/toolType.ts":
/*!***************************************!*\
  !*** ./src/app/ecs/tools/toolType.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tool": () => (/* binding */ Tool)
/* harmony export */ });
var Tool;
(function (Tool) {
    Tool["INSPECT"] = "inspect";
    Tool["CREATE_WALL"] = "create_wall";
    Tool["CREATE_PIN"] = "create_pin";
    Tool["CREATE_PROP"] = "create_prop";
    Tool["GRID"] = "grid";
    Tool["LIGHT"] = "light";
    Tool["MEASURE"] = "measure";
    Tool["PROP_TELEPORT_LINK"] = "prop_teleport_link";
    Tool["MOUSE_TRAIL"] = "mouse_trail";
})(Tool || (Tool = {}));


/***/ }),

/***/ "./src/app/ecs/tools/utils.ts":
/*!************************************!*\
  !*** ./src/app/ecs/tools/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findEntitiesAt": () => (/* binding */ findEntitiesAt),
/* harmony export */   "getBoardPosFromOrigin": () => (/* binding */ getBoardPosFromOrigin),
/* harmony export */   "getMapPointFromMouseInteraction": () => (/* binding */ getMapPointFromMouseInteraction),
/* harmony export */   "snapPoint": () => (/* binding */ snapPoint)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");





function findEntitiesAt(world, point, multi) {
    let event = _interaction__WEBPACK_IMPORTED_MODULE_1__.QueryHitEvent.queryPoint(point, multi);
    world.events.emit('query_hit', event);
    return event.getSorted();
}
function getBoardPosFromOrigin(world, event, orig) {
    let board = world.systems.get(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
    return event.data.getLocalPosition(board.board, orig);
}
function getMapPointFromMouseInteraction(world, event, orig) {
    let point = getBoardPosFromOrigin(world, event, orig);
    return snapPoint(world, point);
}
function snapPoint(world, p, useWall = true) {
    const point = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(p.x, p.y);
    const interSys = world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_3__.INTERACTION_TYPE);
    let nearest = interSys.snapDb.findNearest([point.x, point.y]);
    if (nearest !== undefined && nearest[1] < 100) {
        point.set(nearest[0][0], nearest[0][1]);
    }
    else if (useWall) {
        const wallSys = world.systems.get(_systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__.WALL_TYPE);
        let onWallLoc = wallSys === null || wallSys === void 0 ? void 0 : wallSys.findLocationOnWall(point, 50);
        if (onWallLoc !== undefined) {
            point.copyFrom(onWallLoc);
        }
    }
    return point;
}


/***/ }),

/***/ "./src/app/ecs/world.ts":
/*!******************************!*\
  !*** ./src/app/ecs/world.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "World": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _systemGraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./systemGraph */ "./src/app/ecs/systemGraph.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
// Welcome to this talk, I'll present to you: my stupid version of ECS.
// What am I trying to solve?
// Everything in the map will need to hold information, this might be a player holding inventory or maybe a monster
// holding to lifepoints and such.
// What's more? every entity might have multiple names and only some of them might be public
// so we also have something similar to a "multiple component".



const DEFAULT_SERIALIZE_OPTIONS = {
    requireSync: false,
    requireSave: false,
    remap: false,
    stripClient: false,
    ignoreHostHidden: false,
    resources: false,
};
const DEFAULT_DESERIALIZE_OPTIONS = {
    remap: false,
    thenSelect: false,
};
class World {
    constructor(isMaster) {
        this.systems = new _systemGraph__WEBPACK_IMPORTED_MODULE_0__.SystemGraph();
        this.storages = new Map();
        this.storageList = new Array();
        this.entities = new Set();
        this.resources = new Map();
        this.systemsFinalized = false;
        this.isDeserializing = false;
        this.isDespawning = [];
        //      Event list:
        // entity_spawn(id)
        // entity_spawned(id) - After an entity is spawned
        // entity_despawn(id)
        // entity_despawned(id) - After an entity is despawned
        // component_add(component)
        // component_edit(changes, component) - Before the component is edited
        // component_edited(component, changes) - After the component is edited
        // component_remove(component)
        // component_removed(component)
        // resource_add(resource)
        // resource_added(resource)
        // resource_edit(oldRes, newRes)
        // resource_remove(resource)
        // resource_removed(resource)
        // clear()
        // cleared()
        // serialize(data)
        // serialized(data)
        // deserialize(data)
        // deserialized(data)
        //      External events:
        // query_hit(event: QueryHitEvent)
        // selection_begin(entities)
        // selection_end(entities)
        // selection_update()
        // tool_move_begin()
        // tool_move_end()
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.isMaster = isMaster;
    }
    getStorage(name) {
        let s = this.storages.get(name);
        if (s === undefined) {
            throw new Error("Cannot find storage " + name);
        }
        return s;
    }
    allocateId() {
        let id = -1;
        do {
            id = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_2__.generateRandomId)();
        } while (this.entities.has(id));
        return id;
    }
    spawnEntity(...components) {
        let id = this.allocateId();
        this.spawnEntityManual(id, components);
        return id;
    }
    spawnEntityManual(id, components) {
        this.entities.add(id);
        this.events.emit('entity_spawn', id);
        for (let comp of components) {
            this.addComponent(id, comp);
        }
        this.events.emit('entity_spawned', id);
    }
    despawnEntity(entity) {
        this.isDespawning.push(entity);
        this.events.emit('entity_despawn', entity);
        for (let i = this.storageList.length - 1; i >= 0; --i) {
            let storage = this.storageList[i];
            let comps = [...storage.getComponents(entity)];
            if (comps.length === 0)
                continue;
            for (let component of comps) {
                this.events.emit('component_remove', component);
            }
            storage.unregisterAllOf(entity);
            for (let component of comps) {
                this.events.emit('component_removed', component);
            }
        }
        this.entities.delete(entity);
        if (this.isDespawning.pop() !== entity) {
            console.error("Error despawning entity, despawn queue modified");
        }
        this.events.emit('entity_despawned', entity);
    }
    addSystem(system) {
        if (this.systemsFinalized)
            throw new Error('Too late to add a system');
        try {
            this.systems.register(system);
        }
        catch (e) {
            throw new Error("Error while mounting " + system.name + ": " + e);
        }
    }
    hasAllComponents(entity, ...types) {
        for (let t of types) {
            if (this.getComponent(entity, t) === undefined)
                return false;
        }
        return true;
    }
    addComponent(entity, cmp) {
        if (!this.entities.has(entity)) {
            throw new Error("Entity not present");
        }
        cmp.entity = entity;
        let storage = this.storages.get(cmp.type);
        if (storage === undefined) {
            throw new Error('Cannot register component of type ' + cmp.type + ', no storage found');
        }
        storage.register(cmp);
        this.events.emit('component_add', cmp);
    }
    removeComponent(cmp) {
        this.events.emit('component_remove', cmp);
        let storage = this.getStorage(cmp.type);
        storage.unregister(cmp);
        this.events.emit('component_removed', cmp);
    }
    removeComponentType(entity, type) {
        for (let c of this.getStorage(type).getComponents(entity)) {
            this.removeComponent(c);
        }
    }
    addStorage(storage) {
        this.storages.set(storage.type, storage);
        this.storageList.push(storage);
    }
    getComponent(entity, type, multiId) {
        let storage = this.getStorage(type);
        return storage.getFirstComponent(entity, multiId);
    }
    getAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            res.push(...storage.getComponents(entity));
        }
        return res;
    }
    editComponent(entity, type, changes, multiId, clearCh = true) {
        let c = this.getComponent(entity, type, multiId);
        if (c === undefined) {
            throw new Error('Cannot find component ' + type + ' of entity: ' + entity);
        }
        if (clearCh && !clearChanges(c, changes))
            return; // No real changes
        this.events.emit('component_edit', c, changes);
        let changed = assignSwap(c, changes);
        this.events.emit('component_edited', c, changed);
    }
    editComponentMultiple(entity, changes) {
        if (changes.length === 0)
            return;
        if (changes.length === 1) {
            this.editComponent(entity, changes[0].type, changes[0].changes, changes[0].multiId, changes[0].clearChanges);
            return;
        }
        let chs = changes;
        for (let change of chs) {
            let c = this.getComponent(entity, change.type, change.multiId);
            if (c === undefined) {
                throw new Error('Cannot find component ' + change.type + ' of entity: ' + entity);
            }
            change._comp = c;
            if (change.clearChanges && !clearChanges(c, changes)) {
                change._skip = true;
            }
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edit', change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            assignSwap(change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edited', change._comp, change.changes);
        }
    }
    addResource(resource, ifPresent = 'fail') {
        if (this.resources.has(resource.type)) {
            switch (ifPresent) {
                case 'ignore': break;
                case 'update':
                    this.editResource(resource.type, resource);
                    break;
                default: throw new Error('Resource type already present');
            }
            return;
        }
        this.events.emit('resource_add', resource);
        if (this.resources.has(resource.type))
            throw new Error('"resource_add" event has added a resource of the same type!');
        this.resources.set(resource.type, resource);
        this.events.emit('resource_added', resource);
    }
    getResource(type) {
        return this.resources.get(type);
    }
    editResource(type, changes) {
        let res = this.getResource(type);
        if (res === undefined) {
            throw new Error('Cannot find resource ' + type);
        }
        if (!clearChanges(res, changes))
            return; // No real changes
        this.events.emit('resource_edit', res, changes);
        assignSwap(res, changes); // changes now has old values
        this.events.emit('resource_edited', res, changes);
    }
    removeResource(type, failIfNotPresent = true) {
        let resource = this.resources.get(type);
        if (resource === undefined) {
            if (failIfNotPresent)
                throw new Error('Resource type not found');
            return;
        }
        this.events.emit('resource_remove', resource);
        this.resources.delete(type);
        this.events.emit('resource_removed', resource);
    }
    enable() {
        for (let system of this.systems) {
            system.enable();
        }
    }
    destroy() {
        for (let i = this.systems.size() - 1; i >= 0; i--) {
            let system = this.systems.getAt(i);
            system.destroy();
        }
    }
    serialize(options) {
        options = Object.assign({}, DEFAULT_SERIALIZE_OPTIONS, options);
        let entities;
        if (options.only === undefined) {
            entities = [...this.entities];
        }
        else {
            entities = [...options.only];
        }
        let resEnt = entities;
        let mapping = (x) => x;
        if (options.remap) {
            resEnt = Array.from(Array(entities.length), (e, i) => i + 1);
            mapping = (x) => entities.indexOf(x) + 1;
        }
        let shouldIgnore = (x) => false;
        if (options.stripClient && !options.ignoreHostHidden) {
            const hostHidden = this.getStorage('host_hidden');
            shouldIgnore = (e) => hostHidden.getFirstComponent(e) !== undefined;
        }
        let sdata = {
            options,
            entityMapping: mapping,
            shouldIgnore,
        };
        this.events.emit('serialize', sdata);
        let storages = {};
        for (let storage of this.storages.values()) {
            if ((options.requireSync && !storage.sync) || (options.requireSave && !storage.save))
                continue;
            let data = storage.serialize(sdata);
            if (data === undefined)
                continue;
            storages[storage.type] = data;
        }
        let resources = undefined;
        if (options.resources) {
            resources = {};
            for (let resource of this.resources.values()) {
                // undefined is treated as true so that loaded resources get saved again
                if ((options.requireSave && !resource._save) || (options.requireSync && !resource._sync))
                    continue;
                let res = {};
                for (let name in resource) {
                    if (name[0] === '_' || name === 'type')
                        continue;
                    res[name] = resource[name];
                }
                resources[resource.type] = res;
            }
        }
        let res = {
            entities: resEnt,
            storages,
        };
        if (resources !== undefined)
            res.resources = resources;
        sdata.result = res;
        this.events.emit('serialized', sdata);
        return res;
    }
    deserialize(data, options) {
        options = Object.assign({}, DEFAULT_DESERIALIZE_OPTIONS, options);
        let mapping = (x) => x;
        if (options.remap) {
            let remapsUndup = new Set();
            let remaps = new Array();
            for (let i = 0; i < data.entities.length; i++) {
                let id = this.allocateId();
                if (remapsUndup.has(id)) {
                    i--;
                    continue;
                }
                remapsUndup.add(id);
                remaps.push(id);
            }
            mapping = (x) => remaps[x - 1];
        }
        let dsData = {
            options,
            data,
            entityMapping: mapping,
        };
        this.isDeserializing = true;
        this.events.emit('deserialize', dsData);
        if (data.resources !== undefined) {
            for (let type in data.resources) {
                let res = data.resources[type];
                res.type = type;
                this.addResource(res, 'update');
            }
        }
        for (let entity of data.entities) {
            let realEnt = mapping(entity);
            this.entities.add(realEnt);
            this.events.emit('entity_spawn', realEnt);
        }
        for (let type in data.storages) {
            let storage = this.storages.get(type);
            if (storage === undefined) {
                console.error("Cannot deserialize storage type: " + type + ", ignoring");
                continue;
            }
            storage.deserialize(this, dsData, data.storages[type]);
        }
        for (let entity of data.entities) {
            this.events.emit('entity_spawned', mapping(entity));
        }
        this.isDeserializing = false;
        this.events.emit('deserialized', dsData);
    }
    populate() {
        this.events.emit('populate');
    }
    clear() {
        this.events.emit('clear');
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        // Round 2 (if some entity gets spawned on despawn)
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        if (this.entities.size !== 0)
            throw new Error('Entities spawned while clearing!');
        // TODO: also clear resources
        this.events.emit('cleared');
        this.populate();
    }
    /**
     * TODO: use Vue 3
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}
function assignSwap(obj, changes) {
    for (let name in changes) {
        let tmp = changes[name];
        changes[name] = obj[name];
        obj[name] = tmp;
    }
    return changes;
}
function clearChanges(from, changes) {
    let changec = 0;
    for (let change in changes) {
        if (from[change] === changes[change]) {
            delete changes[change];
        }
        else {
            changec++;
        }
    }
    return changec !== 0;
}


/***/ }),

/***/ "./src/app/game/grid.ts":
/*!******************************!*\
  !*** ./src/app/game/grid.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridType": () => (/* binding */ GridType),
/* harmony export */   "STANDARD_GRID_OPTIONS": () => (/* binding */ STANDARD_GRID_OPTIONS)
/* harmony export */ });
var GridType;
(function (GridType) {
    GridType[GridType["SQUARE"] = 0] = "SQUARE";
    GridType[GridType["HEXAGON"] = 1] = "HEXAGON";
})(GridType || (GridType = {}));
const STANDARD_GRID_OPTIONS = {
    visible: true,
    gridType: GridType.SQUARE,
    color: 0,
    thick: 10,
    opacity: 0.75,
    size: 128,
    offX: 0,
    offY: 0,
    unitMul: 1.5,
    unitName: 'm',
};


/***/ }),

/***/ "./src/app/game/pointDB.ts":
/*!*********************************!*\
  !*** ./src/app/game/pointDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointDB": () => (/* binding */ PointDB)
/* harmony export */ });
/* harmony import */ var _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/k2dTree */ "./src/app/util/k2dTree.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");


class PointDB {
    constructor(grid) {
        // In js we cannot create a Map with a custom object as key -_-
        this.counter = new Map();
        this.tree = new _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__.K2dTree();
        this.count = 0;
        this.grid = grid;
    }
    insert(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = this.counter.get(ptrStr) || 0;
        this.counter.set(ptrStr, p + 1);
        if (p == 0) {
            this.tree.insert(point);
        }
        this.count++;
    }
    remove(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = (this.counter.get(ptrStr) || 0) - 1;
        if (p == 0) {
            this.counter.delete(ptrStr);
            if (!this.tree.remove(point)) {
                console.error('Failed to remove node: ' + point);
            }
        }
        else if (p > 0) {
            this.counter.set(ptrStr, p);
        }
        else {
            return false;
        }
        this.count--;
        return true;
    }
    findNearest(point) {
        let treeNearest = this.tree.nearestPoint(point);
        let gridNearest = undefined;
        if (this.grid !== undefined) {
            gridNearest = this.grid.closestPoint(point);
        }
        if (gridNearest !== undefined) {
            let gridDist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(point[0], point[1], gridNearest[0], gridNearest[1]);
            if (treeNearest === undefined || gridDist < treeNearest[1]) {
                return [gridNearest, gridDist];
            }
        }
        return treeNearest;
    }
}


/***/ }),

/***/ "./src/app/game/pointLightRenderer.ts":
/*!********************************************!*\
  !*** ./src/app/game/pointLightRenderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setup": () => (/* binding */ setup),
/* harmony export */   "createMesh": () => (/* binding */ createMesh),
/* harmony export */   "updateMeshPolygons": () => (/* binding */ updateMeshPolygons),
/* harmony export */   "updateMeshUniforms": () => (/* binding */ updateMeshUniforms)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.hex2rgb;
// Other methods: https://github.com/mattdesl/lwjgl-basics/wiki/2D-Pixel-Perfect-Shadows
const LIGHT_VERTEX_SHADER = `
    precision mediump float;
    attribute vec2 aVertexPosition;
    
    varying vec2 vecPos;

    uniform mat3 translationMatrix;
    uniform mat3 projectionMatrix;

    void main() {
        vecPos = aVertexPosition;
        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    }
`;
const LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - clamp(distSq / radSquared, 0., 1.);
        gl_FragColor = vec4(color, 1) * (intensity * intensity);// Pre multiplied alpha
    }
`;
const CONST_LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = float(distSq <= radSquared);
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
const PLAYER_VIS_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - smoothstep(0.9, 1.0, clamp(distSq / radSquared, 0., 1.));
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
let lightProgram = undefined;
let constLightProgram = undefined;
let playerVisProgram = undefined;
function setup() {
    if (lightProgram === undefined) {
        lightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Program.from(LIGHT_VERTEX_SHADER, LIGHT_FRAGMENT_SHADER);
        constLightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Program.from(LIGHT_VERTEX_SHADER, CONST_LIGHT_FRAGMENT_SHADER);
        playerVisProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Program.from(LIGHT_VERTEX_SHADER, PLAYER_VIS_FRAGMENT_SHADER);
    }
}
function createMesh(lightType = 'normal') {
    let geometry = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Geometry();
    let buff = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Buffer(new Float32Array(1));
    geometry.addAttribute('aVertexPosition', buff, 2, false, _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].TYPES.FLOAT);
    let program;
    switch (lightType) {
        case 'normal':
            program = lightProgram;
            break;
        case 'const':
            program = constLightProgram;
            break;
        case 'player':
            program = playerVisProgram;
            break;
    }
    // We'll change them all, in due time
    let shaders = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Shader(program, {
        'center': new Float32Array([0.5, 0.5]),
        'radSquared': 10,
        'color': new Float32Array([0, 0, 0]),
    });
    let mesh = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Mesh(geometry, shaders, undefined, _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].DRAW_MODES.TRIANGLE_FAN);
    mesh.interactive = false;
    mesh.interactiveChildren = false;
    return mesh;
}
function updateMeshPolygons(mesh, pos, poly) {
    let buffer = mesh.geometry.getBuffer('aVertexPosition');
    let fBuffer = new Float32Array(poly.length + 4);
    fBuffer[0] = pos.x;
    fBuffer[1] = pos.y;
    fBuffer.set(poly, 2);
    fBuffer[poly.length + 2] = poly[0];
    fBuffer[poly.length + 3] = poly[1];
    buffer.update(fBuffer);
}
function updateMeshUniforms(mesh, center, rangeSquared, color) {
    let uni = mesh.shader.uniforms;
    let c = uni.center;
    c[0] = center.x;
    c[1] = center.y;
    uni.radSquared = rangeSquared;
    hex2rgb(color, uni.color);
}


/***/ }),

/***/ "./src/app/geometry/aabb.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/aabb.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Aabb": () => (/* binding */ Aabb)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

class Aabb {
    constructor(x1, y1, x2, y2) {
        if (x1 > x2)
            [x1, x2] = [x2, x1];
        if (y1 > y2)
            [y1, y2] = [y2, y1];
        this.minX = x1;
        this.minY = y1;
        this.maxX = x2;
        this.maxY = y2;
    }
    isValid() {
        return this.minX < this.maxX && this.minY < this.maxY;
    }
    getCenter() {
        return new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point((this.minX + this.maxX) / 2, (this.minY + this.maxY) / 2);
    }
    getPerimeter() {
        return (this.maxX - this.minX + this.maxY - this.minY) * 2;
    }
    distancePoint(p) {
        const dx = Math.max(this.minX - p.x, 0, p.x - this.maxX);
        const dy = Math.max(this.minY - p.y, 0, p.y - this.maxY);
        return Math.sqrt(dx * dx + dy * dy);
    }
    translate(x, y, target) {
        target.minX = this.minX + x;
        target.minY = this.minY + y;
        target.maxX = this.maxX + x;
        target.maxY = this.maxY + y;
    }
    combine(other, target) {
        target.minX = Math.min(this.minX, other.minX);
        target.minY = Math.min(this.minY, other.minY);
        target.maxX = Math.max(this.maxX, other.maxX);
        target.maxY = Math.max(this.maxY, other.maxY);
    }
    intersect(other, target) {
        target.minX = Math.max(this.minX, other.minX);
        target.minY = Math.max(this.minY, other.minY);
        target.maxX = Math.min(this.maxX, other.maxX);
        target.maxY = Math.min(this.maxY, other.maxY);
    }
    extend(amount, target) {
        target.minX = this.minX - amount;
        target.minY = this.minY - amount;
        target.maxX = this.maxX + amount;
        target.maxY = this.maxY + amount;
    }
    scale(dx, dy, target) {
        let cx = (this.minX + this.maxX) / 2;
        let cy = (this.minY + this.maxY) / 2;
        let hw = (this.maxX - this.minX) / 2;
        let hh = (this.maxY - this.minY) / 2;
        target.minX = cx - hw * dx;
        target.minY = cy - hh * dy;
        target.maxX = cx + hw * dx;
        target.maxY = cy + hh * dy;
    }
    copyFrom(other) {
        this.minX = other.minX;
        this.minY = other.minY;
        this.maxX = other.maxX;
        this.maxY = other.maxY;
    }
    reset() {
        this.minX = 0;
        this.minY = 0;
        this.maxX = 0;
        this.maxY = 0;
    }
    wrapPolygon(polygon) {
        this.minX = Number.POSITIVE_INFINITY;
        this.minY = Number.POSITIVE_INFINITY;
        this.maxX = Number.NEGATIVE_INFINITY;
        this.maxY = Number.NEGATIVE_INFINITY;
        let len = polygon.length;
        for (let i = 0; i < len; i += 2) {
            this.minX = Math.min(this.minX, polygon[i]);
            this.minY = Math.min(this.minY, polygon[i + 1]);
            this.maxX = Math.max(this.maxX, polygon[i]);
            this.maxY = Math.max(this.maxY, polygon[i + 1]);
        }
    }
    copy() {
        let other = Aabb.zero();
        other.copyFrom(this);
        return other;
    }
    toString() {
        return "AABB(" + this.minX.toFixed(2) + ", " + this.minY.toFixed(2) + ", " + this.maxX.toFixed(2) + ", " + this.maxY.toFixed(2) + ")";
    }
    static zero() {
        return new Aabb(0, 0, 0, 0);
    }
    static fromBounds(b) {
        return new Aabb(b.left, b.top, b.right, b.bottom);
    }
    static fromPoint(p) {
        return new Aabb(p.x, p.y, p.x, p.y);
    }
    static fromPointAnchor(pos, size, anchor) {
        return new Aabb(pos.x - size.x * anchor.x, pos.y - size.y * anchor.y, pos.x + size.x * (1 - anchor.x), pos.y + size.y * (1 - anchor.y));
    }
}


/***/ }),

/***/ "./src/app/geometry/collision.ts":
/*!***************************************!*\
  !*** ./src/app/geometry/collision.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "overlapAabbVsAabb": () => (/* binding */ overlapAabbVsAabb),
/* harmony export */   "containsAabbVsAabb": () => (/* binding */ containsAabbVsAabb),
/* harmony export */   "overlapAabbVsPoint": () => (/* binding */ overlapAabbVsPoint),
/* harmony export */   "overlapAabbVsLine": () => (/* binding */ overlapAabbVsLine),
/* harmony export */   "overlapPointVsCircle": () => (/* binding */ overlapPointVsCircle),
/* harmony export */   "overlapCircleVsAabb": () => (/* binding */ overlapCircleVsAabb),
/* harmony export */   "overlapCircleVsCircle": () => (/* binding */ overlapCircleVsCircle),
/* harmony export */   "overlapCircleVsPolygon": () => (/* binding */ overlapCircleVsPolygon),
/* harmony export */   "overlapObbVsPolygon": () => (/* binding */ overlapObbVsPolygon),
/* harmony export */   "overlapLineVsPolygon": () => (/* binding */ overlapLineVsPolygon),
/* harmony export */   "rotatePointByOrig": () => (/* binding */ rotatePointByOrig),
/* harmony export */   "overlapRotatedRectVsPoint": () => (/* binding */ overlapRotatedRectVsPoint),
/* harmony export */   "overlapRotatedRectVsCircle": () => (/* binding */ overlapRotatedRectVsCircle),
/* harmony export */   "overlapRotatedRectVsLine": () => (/* binding */ overlapRotatedRectVsLine),
/* harmony export */   "computeObbPoints": () => (/* binding */ computeObbPoints),
/* harmony export */   "overlapRotatedRectVsAabb": () => (/* binding */ overlapRotatedRectVsAabb),
/* harmony export */   "overlapRotatedRectVsRotatedRect": () => (/* binding */ overlapRotatedRectVsRotatedRect),
/* harmony export */   "overlapLineVsCircle": () => (/* binding */ overlapLineVsCircle),
/* harmony export */   "SegmentVsSegmentRes": () => (/* binding */ SegmentVsSegmentRes),
/* harmony export */   "intersectSegmentVsSegment": () => (/* binding */ intersectSegmentVsSegment),
/* harmony export */   "triangleContainsPoint": () => (/* binding */ triangleContainsPoint),
/* harmony export */   "lineSameSlope": () => (/* binding */ lineSameSlope)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _obb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./obb */ "./src/app/geometry/obb.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





function overlapAabbVsAabb(a, b) {
    return a.minX <= b.maxX && a.maxX >= b.minX &&
        a.minY <= b.maxY && a.maxY >= b.minY;
}
function containsAabbVsAabb(a, b) {
    return a.minX <= b.minX && a.maxX >= b.maxX &&
        a.minY <= b.minY && a.maxY >= b.maxY;
}
function overlapAabbVsPoint(a, b) {
    return a.minX <= b.x && a.minY <= b.y &&
        a.maxX >= b.x && a.maxY >= b.y;
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function overlapAabbVsLine(a, b) {
    let fc = computeOutCode(a, b.fromX, b.fromY);
    let tc = computeOutCode(a, b.toX, b.toY);
    // Fast paths:
    // One of the points is inside
    if (fc === INSIDE || tc === INSIDE)
        return true;
    // bitwise AND is not 0: both points share an outside zone (LEFT, RIGHT, TOP,
    // or BOTTOM), so both must be outside window
    if ((fc & tc) !== 0)
        return false;
    // Both points are in directly opposite sites (left/right or top/bottom)
    if ((fc | tc) === (LEFT | RIGHT))
        return true;
    if ((fc | tc) === (TOP | BOTTOM))
        return true;
    return intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.minY, a.minX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.maxY, a.maxX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.maxY, a.maxX, a.minY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.minY, a.minX, a.minY), b) === SegmentVsSegmentRes.INTERN;
}
function overlapPointVsCircle(point, center, radius) {
    return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(point.x, point.y, center.x, center.y) < radius * radius;
}
function overlapCircleVsAabb(center, radius, aabb) {
    let distX = Math.abs(center.x - (aabb.minX + aabb.maxX) / 2);
    let distY = Math.abs(center.y - (aabb.minY + aabb.maxY) / 2);
    let halfW = (aabb.maxX - aabb.minX) / 2;
    let halfH = (aabb.maxY - aabb.minY) / 2;
    if (distX > halfW + radius)
        return false;
    if (distY > halfH + radius)
        return false;
    if (distX < halfW || distY < halfH)
        return true;
    let dx = distX - halfW;
    let dy = distY - halfH;
    return dx * dx + dy * dy <= radius * radius;
}
function overlapCircleVsCircle(ac, ar, bc, br) {
    let dx = ac.x - bc.x;
    let dy = ac.y - bc.y;
    let r = ar + br;
    return dx * dx + dy * dy < r * r;
}
function overlapCircleVsPolygon(ac, ar, poly) {
    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(ac, poly))
        return true;
    let tmpLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(0, 0, 0, 0);
    let tmpPoint = new PIXI.Point();
    let r2 = ar * ar;
    for (let i = 2; i < poly.length; i += 2) {
        tmpLine.fromX = poly[i - 2];
        tmpLine.fromY = poly[i - 1];
        tmpLine.toX = poly[i];
        tmpLine.toY = poly[i + 1];
        tmpLine.projectPoint(ac, tmpPoint, true);
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, ac.x, ac.y) <= r2) {
            return true;
        }
    }
    return false;
}
function overlapObbVsPolygon(obb, poly) {
    let polyAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    polyAabb.wrapPolygon(poly);
    // Fast path
    if (!overlapRotatedRectVsAabb(obb, polyAabb))
        return false;
    for (let i = 0; i < 8; i += 2) {
        let p = {
            x: obb.rotVertex[i],
            y: obb.rotVertex[i + 1],
        };
        // If a point of the OBB is inside the polygon then we're done
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(p, poly))
            return true;
    }
    for (let i = 0; i < poly.length; i += 2) {
        let p = {
            x: poly[i],
            y: poly[i + 1],
        };
        // If a point of the polygon is inside the OBB then we're done
        if (overlapRotatedRectVsPoint(obb, p))
            return true;
    }
    let obbLines = [
        [0, 2],
        [2, 4],
        [4, 6],
        [6, 0]
    ];
    // Check line intersections
    for (let line of obbLines) {
        let obbLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(obb.rotVertex[line[0]], obb.rotVertex[line[0] + 1], obb.rotVertex[line[1]], obb.rotVertex[line[1] + 1]);
        if (overlapLineVsPolygon(obbLine, poly))
            return true;
    }
    return false;
}
function overlapLineVsPolygon(line, poly) {
    let totLines = poly.length - 2;
    for (let i = 0; i < totLines; i += 2) {
        let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[i], poly[i + 1], poly[i + 2], poly[i + 3]);
        if (intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN)
            return true;
    }
    let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[0], poly[1], poly[poly.length - 2], poly[poly.length - 1]);
    return intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN;
}
function rotatePointByOrig(o, rot, p) {
    let s = Math.sin(-rot);
    let c = Math.cos(-rot);
    let transX = p.x - o.x;
    let transY = p.y - o.y;
    return new PIXI.Point((transX * c - transY * s) + o.x, (transX * s + transY * c) + o.y);
}
function overlapRotatedRectVsPoint(obb, p) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, p);
    return overlapAabbVsPoint(obb.unrotated, rotatedPoint);
}
function overlapRotatedRectVsCircle(obb, pos, rad) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, pos);
    return overlapCircleVsAabb(rotatedPoint, rad, obb.unrotated);
}
function overlapRotatedRectVsLine(obb, line) {
    let center = obb.unrotated.getCenter();
    let rotFrom = rotatePointByOrig(center, obb.rotation, { x: line.fromX, y: line.fromY });
    let rotTo = rotatePointByOrig(center, obb.rotation, { x: line.toX, y: line.toY });
    return overlapAabbVsLine(obb.unrotated, new _line__WEBPACK_IMPORTED_MODULE_1__.Line(rotFrom.x, rotFrom.y, rotTo.x, rotTo.y));
}
function computeObbPoints(aabb, rot, origin) {
    let res = new Array(8);
    let o = origin || {
        x: (aabb.minX + aabb.maxX) / 2,
        y: (aabb.minY + aabb.maxY) / 2,
    };
    for (let i = 0; i < 4; i++) {
        let minX = (i & 1);
        let minY = (i & 2) >>> 1;
        let p = rotatePointByOrig(o, rot, {
            x: minX ? aabb.minX : aabb.maxX,
            y: minY ? aabb.minY : aabb.maxY,
        });
        res[i * 2] = p.x;
        res[i * 2 + 1] = p.y;
    }
    return res;
}
function overlapRotatedRectVsAabb(obb, aabb) {
    // Separating Axis Theorem
    let otherAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    otherAabb.wrapPolygon(obb.rotVertex);
    if (overlapAabbVsAabb(aabb, otherAabb))
        return true;
    // Apply the inverse transform of the obb to the aabb
    let originalInv = computeObbPoints(aabb, obb.rotation, obb.unrotated.getCenter());
    otherAabb.reset();
    otherAabb.wrapPolygon(originalInv);
    return overlapAabbVsAabb(obb.unrotated, otherAabb);
}
function overlapRotatedRectVsRotatedRect(obb1, obb2) {
    let center = obb2.unrotated.getCenter();
    let res = obb2.unrotated.copy();
    res.translate(-center.x, -center.y, res);
    let obb3 = _obb__WEBPACK_IMPORTED_MODULE_4__.Obb.rotateAabb(res, obb2.rotation - obb1.rotation);
    return overlapRotatedRectVsAabb(obb3, obb1.unrotated);
}
function overlapLineVsCircle(line, point, radius) {
    let tmpPoint = new PIXI.Point();
    if (!line.projectPoint(point, tmpPoint, true)) {
        return false;
    }
    let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
    return dist < radius * radius;
}
var SegmentVsSegmentRes;
(function (SegmentVsSegmentRes) {
    SegmentVsSegmentRes[SegmentVsSegmentRes["NONE"] = 0] = "NONE";
    SegmentVsSegmentRes[SegmentVsSegmentRes["INTERN"] = 1] = "INTERN";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_A"] = 2] = "EDGE_A";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_B"] = 4] = "EDGE_B";
})(SegmentVsSegmentRes || (SegmentVsSegmentRes = {}));
function intersectSegmentVsSegment(a, b, target) {
    let den = (b.toY - b.fromY) * (a.toX - a.fromX) -
        (b.toX - b.fromX) * (a.toY - a.fromY);
    if (den === 0)
        return SegmentVsSegmentRes.NONE; // Parallel (or coincident)
    const s = ((b.toX - b.fromX) * (a.fromY - b.fromY) -
        (b.toY - b.fromY) * (a.fromX - b.fromX)) / den;
    if (s < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    const u = ((a.toX - a.fromX) * (a.fromY - b.fromY) -
        (a.toY - a.fromY) * (a.fromX - b.fromX)) / den;
    if (u < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    if (target !== undefined) {
        target.set(a.fromX + s * (a.toX - a.fromX), a.fromY + s * (a.toY - a.fromY));
    }
    let edge = 0;
    if (s < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_A;
    if (u < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_B;
    return edge === 0 ? SegmentVsSegmentRes.INTERN : edge;
}
function triangleContainsPoint(p, p0, p1, p2) {
    let A = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);
    let sign = A < 0 ? -1 : 1;
    let s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;
    let t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;
    return s - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && t - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && (s + t) < 2 * A * sign - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}
function lineSameSlope(ax, ay, bx, by) {
    // We need to remove divisions, (this is not real code)
    // ay / ax == by / bx  ==> ay * bx == by * ax
    return Math.abs(ay * bx - by * ax) < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}


/***/ }),

/***/ "./src/app/geometry/dynamicTree.ts":
/*!*****************************************!*\
  !*** ./src/app/geometry/dynamicTree.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DynamicTree": () => (/* binding */ DynamicTree)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
// A version highly inspired by plank.js (https://github.com/shakiba/planck.js/blob/f5777884f537db97608d8016bda960d251d42d4d/lib/collision/DynamicTree.js)


class TreeNode {
    constructor(id) {
        this.aabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
        this.height = -1;
        this.id = id;
    }
    toString() {
        return this.id + ": " + this.tag;
    }
    isLeaf() {
        return this.left === undefined;
    }
}
class DynamicTree {
    constructor(aabbExtension = 0.1, aabbMultiplier = 2) {
        this.nodes = new Map();
        this.lastProxyId = 0;
        this.aabbExtension = aabbExtension;
        this.aabbMultiplier = aabbMultiplier;
    }
    getTag(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.tag;
    }
    setTag(id, tag) {
        this.nodes.get(id).tag = tag;
    }
    getFatAabb(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.aabb;
    }
    allocateNode() {
        let node = new TreeNode(++this.lastProxyId);
        this.nodes.set(node.id, node);
        return node;
    }
    freeNode(node) {
        this.nodes.delete(node.id);
    }
    createProxy(aabb, tag) {
        let node = this.allocateNode();
        node.aabb.copyFrom(aabb);
        // Fatten the aabb
        node.aabb.extend(this.aabbExtension, node.aabb);
        node.tag = tag;
        node.height = 0;
        this.insertLeaf(node);
        return node.id;
    }
    destroyProxy(id) {
        let node = this.nodes.get(id);
        this.removeLeaf(node);
        this.freeNode(node);
    }
    moveProxy(id, aabb, d) {
        let node = this.nodes.get(id);
        if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.containsAabbVsAabb)(node.aabb, aabb)) {
            return false;
        }
        this.removeLeaf(node);
        node.aabb.copyFrom(aabb);
        // Fatten
        node.aabb.extend(this.aabbExtension, node.aabb);
        // Predict motion
        if (this.aabbMultiplier !== 1) {
            if (d.x < 0)
                aabb.minX += d.x * this.aabbMultiplier;
            else
                aabb.maxX += d.x * this.aabbMultiplier;
            if (d.y < 0)
                aabb.minY += d.y * this.aabbMultiplier;
            else
                aabb.maxY += d.y * this.aabbMultiplier;
        }
        this.insertLeaf(node);
        return true;
    }
    insertLeaf(leaf) {
        if (this.root === undefined) {
            this.root = leaf;
            this.root.parent = undefined;
            return;
        }
        let leafAabb = leaf.aabb;
        let index = this.root;
        while (!index.isLeaf()) {
            let left = index.left;
            let right = index.right;
            let per = index.aabb.getPerimeter();
            let combinedAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
            index.aabb.combine(leafAabb, combinedAabb);
            let combinedPer = combinedAabb.getPerimeter();
            let cost = combinedPer * 2;
            let inheritanceCost = (combinedPer - per) * 2;
            let costLeft;
            if (left.isLeaf()) {
                left.aabb.combine(leafAabb, combinedAabb);
                costLeft = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                left.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = left.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costLeft = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            let costRight;
            if (right.isLeaf()) {
                right.aabb.combine(leafAabb, combinedAabb);
                costRight = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                right.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = right.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costRight = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            if (cost < costLeft && cost < costRight) {
                break;
            }
            if (costLeft < costRight)
                index = left;
            else
                index = right;
        }
        let sibling = index;
        let oldParent = sibling.parent;
        let newParent = this.allocateNode();
        newParent.parent = oldParent;
        sibling.aabb.combine(leafAabb, newParent.aabb);
        newParent.height = sibling.height + 1;
        if (oldParent !== undefined) {
            // The sibling was not the root
            if (oldParent.left === sibling)
                oldParent.left = newParent;
            else
                oldParent.right = newParent;
        }
        else {
            // the sibling was the root
            this.root = newParent;
        }
        newParent.left = sibling;
        newParent.right = leaf;
        sibling.parent = newParent;
        leaf.parent = newParent;
        // Walk back up fixing heights and AABBs
        index = leaf.parent;
        while (index !== undefined) {
            index = this.balance(index);
            index.height = 1 + Math.max(index.left.height, index.right.height);
            index.left.aabb.combine(index.right.aabb, index.aabb);
            index = index.parent;
        }
    }
    removeLeaf(leaf) {
        if (leaf === this.root) {
            this.root = undefined;
            return;
        }
        let parent = leaf.parent;
        let grandParent = parent.parent;
        let sibling;
        if (parent.left === leaf)
            sibling = parent.right;
        else
            sibling = parent.left;
        if (grandParent !== undefined) {
            // Destroy parent and connect sibling to grandParent
            if (grandParent.left === parent)
                grandParent.left = sibling;
            else
                grandParent.right = sibling;
            sibling.parent = grandParent;
            this.freeNode(parent);
            // Adjust ancestor bounds
            let index = grandParent;
            while (index !== undefined) {
                index = this.balance(index);
                index.left.aabb.combine(index.right.aabb, index.aabb);
                index.height = 1 + Math.max(index.left.height, index.right.height);
                index = index.parent;
            }
        }
        else {
            this.root = sibling;
            sibling.parent = undefined;
            this.freeNode(parent);
        }
    }
    /**
     * Perform a rotation if current node is imbalanced, returns the new sub-tree root.
     * @param current
     * @private
     */
    balance(current) {
        let a = current;
        if (a.isLeaf() || a.height < 2)
            return a;
        let b = a.left;
        let c = a.right;
        let balance = c.height - b.height;
        // Rotate C up
        if (balance > 1) {
            let f = c.left;
            let g = c.right;
            // Swap a and c
            c.left = a;
            c.parent = a.parent;
            a.parent = c;
            // a parent should point to c
            if (c.parent !== undefined) {
                if (c.parent.left === a)
                    c.parent.left = c;
                else
                    c.parent.right = c;
            }
            else {
                this.root = c;
            }
            // Rotate
            if (f.height > g.height) {
                c.right = f;
                a.right = g;
                g.parent = a;
                b.aabb.combine(g.aabb, a.aabb);
                a.aabb.combine(f.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, g.height);
                c.height = 1 + Math.max(a.height, f.height);
            }
            else {
                c.right = g;
                a.right = f;
                f.parent = a;
                b.aabb.combine(f.aabb, a.aabb);
                a.aabb.combine(g.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, f.height);
                c.height = 1 + Math.max(a.height, g.height);
            }
            return c;
        }
        if (balance < -1) {
            let d = b.left;
            let e = b.right;
            // Swap a and b
            b.left = a;
            b.parent = a.parent;
            a.parent = b;
            // a parent should point to b
            if (b.parent !== undefined) {
                if (b.parent.left === a)
                    b.parent.left = b;
                else
                    b.parent.right = b;
            }
            else {
                this.root = b;
            }
            // Rotate
            if (d.height > e.height) {
                b.right = d;
                a.left = e;
                e.parent = a;
                c.aabb.combine(e.aabb, a.aabb);
                a.aabb.combine(d.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, e.height);
                b.height = 1 + Math.max(a.height, d.height);
            }
            else {
                b.right = e;
                a.left = d;
                d.parent = a;
                c.aabb.combine(d.aabb, a.aabb);
                a.aabb.combine(e.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, d.height);
                b.height = 1 + Math.max(a.height, e.height);
            }
            return b;
        }
        return a;
    }
    *query(aabb) {
        let stack = new Array();
        if (this.root === undefined)
            return;
        //console.log("Starting query: " + aabb.toString());
        stack.push(this.root);
        while (stack.length > 0) {
            let node = stack.pop();
            let overlap = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.overlapAabbVsAabb)(node.aabb, aabb);
            //console.log("Visit: " + node.id + " = " + overlap);
            if (!overlap)
                continue;
            if (node.isLeaf()) {
                yield node;
            }
            else {
                stack.push(node.left);
                stack.push(node.right);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/geometry/line.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/line.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Line": () => (/* binding */ Line)
/* harmony export */ });
class Line {
    constructor(fx, fy, tx, ty) {
        this.fromX = fx;
        this.fromY = fy;
        this.toX = tx;
        this.toY = ty;
    }
    distance() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    distanceSquared() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return dx * dx + dy * dy;
    }
    projectPoint(p, target, ignoreValid = false) {
        if (this.fromX === this.toX && this.fromY === this.toY)
            return false;
        let u = ((p.x - this.fromX) * (this.toX - this.fromX)) +
            ((p.y - this.fromY) * (this.toY - this.fromY));
        let udenom = this.distanceSquared();
        u /= udenom;
        let rx = this.fromX + u * (this.toX - this.fromX);
        let ry = this.fromY + u * (this.toY - this.fromY);
        if (ignoreValid) {
            target.set(rx, ry);
            return true;
        }
        let minx = this.fromX, maxx = this.toX;
        let miny = this.fromY, maxy = this.toY;
        if (minx > maxx)
            [minx, maxx] = [maxx, minx];
        if (miny > maxy)
            [miny, maxy] = [maxy, miny];
        let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
        if (isValid) {
            target.set(rx, ry);
            return true;
        }
        else {
            return false;
        }
    }
    copy() {
        return new Line(this.fromX, this.fromY, this.toX, this.toY);
    }
}


/***/ }),

/***/ "./src/app/geometry/obb.ts":
/*!*********************************!*\
  !*** ./src/app/geometry/obb.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Obb": () => (/* binding */ Obb)
/* harmony export */ });
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");

class Obb {
    constructor(unrotated, rotation, rotVertex) {
        this.unrotated = unrotated;
        this.rotation = rotation;
        this.rotVertex = rotVertex;
    }
    recompute() {
        this.rotVertex = (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(this.unrotated, this.rotation);
    }
    copy() {
        return new Obb(this.unrotated.copy(), this.rotation, [...this.rotVertex]);
    }
    static rotateAabb(aabb, rot) {
        if (rot === 0)
            return this.fromAabb(aabb);
        return new Obb(aabb, rot, (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(aabb, rot));
    }
    static fromAabb(aabb) {
        let points = [
            aabb.minX, aabb.minY,
            aabb.minX, aabb.maxY,
            aabb.maxX, aabb.maxY,
            aabb.maxX, aabb.minY
        ];
        return new Obb(aabb, 0, points);
    }
}


/***/ }),

/***/ "./src/app/geometry/visibilityPolygon.ts":
/*!***********************************************!*\
  !*** ./src/app/geometry/visibilityPolygon.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EPSILON": () => (/* binding */ EPSILON),
/* harmony export */   "compute": () => (/* binding */ compute),
/* harmony export */   "computeViewport": () => (/* binding */ computeViewport)
/* harmony export */ });
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/binaryHeap */ "./src/app/util/binaryHeap.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");





const EPSILON = 0.0000001;
class EndPoint extends _PIXI__WEBPACK_IMPORTED_MODULE_4__["default"].Point {
    constructor() {
        super(...arguments);
        this.angle = 0;
        this.dist = 0;
    }
}
class Segment {
    constructor(f, t) {
        this.from = f;
        this.to = t;
        this.used = false;
    }
}
// a < b
function segmentLt(a, b, o) {
    // *opens philosophy book*
    // But what does it mean for a segment to be less than another one? (relative to a point)
    // There are multiple algorithms for this, the one that makes most sense to me is what I call the
    // triangular intersection:
    // Given two segments a, b and a point o we define a < b == true only if there is at least one point in b that
    // is hidden by a.
    // For every segment then the property a < b => !(b < a) is maintained only if the segments do not intersect
    // (as the only way that two lines would hide each other is if they meet in a point).
    // On another note, the property a < b, b < c => a < c is not maintained!
    // How can this be computed, then?
    // a.from is inside the triangle formed by b and o, this means:
    // - a.to is also inside, then a < b
    // - a.to is outside, then a < b
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.from, b.from, b.to, o))
        return true;
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.to, b.from, b.to, o))
        return true;
    // If we arrive here we can be sure that neither points of a is inside the triangle,
    // A segment with both points outside of the triangle can intersect it only by intersecting two of the three
    // lines. We already assume that a and b cannot intersect so we can check either (b.from, o) or (b.to, o) and see
    // if it intersects with a
    let c1 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c1 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    let c2 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.to.x, b.to.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c2 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    // Edge case: one of the end points of the second line (the segment a) lies
    // in the line (b.from, o), this might mean two things:
    // 1: the line shares a point but does not block the second segment's view
    // 2: the line shares a point and the other point blocks the whole view (hitting the other triangle line)
    // we want to check the second case, so let's try the second segment intersect
    if ((c1 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c2 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    if ((c2 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c1 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    // Edge case n.2 (I'm kinda hating on grids)
    // The segment a could lay a point on the line between (b.from/to, o) and the other in b
    // Edge case of the edge case: If the segment is in any of the endpoints of b then it does not occlude the view
    if (((c1 | c2) & (_collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B | _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_A)) === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) {
        let c3 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, b.to.x, b.to.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
        if (c3 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE)
            return true;
    }
    // This means a >= b
    return false;
}
function initSegment(x1, y1, x2, y2, pos) {
    let a = new EndPoint(x1, y1);
    let b = new EndPoint(x2, y2);
    a.angle = Math.atan2(pos.y - a.y, pos.x - a.x);
    b.angle = Math.atan2(pos.y - b.y, pos.x - b.x);
    a.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, a.x, a.y);
    b.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, b.x, b.y);
    let s = new Segment(a, b);
    a.segment = s;
    b.segment = s;
    return s;
}
function compute0(pos, segments) {
    let points = new Array();
    for (let s of segments) {
        points.push(s.from, s.to);
    }
    // O(Nlog(N))
    points.sort((a, b) => {
        return a.angle - b.angle;
    });
    let segmentPriorityQueue = new _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__.BinaryHeap((a, b) => segmentLt(a, b, pos));
    // Populate the priority queue O(Nlog(N))
    // The priority queue should already have all the segment it collides with, but do not fear as
    // the math is quite simple and straightforward:
    // We should check that the segment collides with the line that starts at pos and has angle = -Math.PI.
    // To do that we can just check the angles of the two endpoints (draw it in a piece of paper, it's easier if shown).
    for (let segment of segments) {
        let fa = segment.from.angle;
        let ta = segment.to.angle;
        let isActive = false;
        isActive || (isActive = fa <= 0 && ta >= 0 && ta - fa > Math.PI);
        isActive || (isActive = ta <= 0 && fa >= 0 && fa - ta > Math.PI);
        if (isActive)
            segmentPriorityQueue.push(segment);
    }
    let polygon = new Array();
    for (let i = 0; i < points.length;) {
        // Extend signals that the first segment has ended
        // we should then extend the polygon to the new first visible segment.
        let extend = false;
        let orig = i; // The original point index
        let vertex = points[i];
        let oldSegment = segmentPriorityQueue.peek();
        if (oldSegment === undefined) {
            // Should be impossible but becomes possible when NaN is around
            throw new Error("No old segment");
        }
        do {
            let currSegment = points[i].segment;
            if (segmentPriorityQueue.hasElem(currSegment)) {
                if (currSegment === oldSegment) {
                    extend = true;
                    vertex = points[i];
                }
                segmentPriorityQueue.popElem(currSegment);
            }
            else {
                segmentPriorityQueue.push(currSegment);
            }
            i++;
            if (i === points.length)
                break;
        } while (points[i].angle < points[orig].angle + EPSILON);
        segmentPriorityQueue.peek().used = true;
        if (extend) {
            // Vertex is the first point of the old segment, we need to push this right away
            polygon.push(vertex.x, vertex.y);
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__["default"].Point();
            let firstSeg = segmentPriorityQueue.peek();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(firstSeg.from, firstSeg.to, pos, vertex, point);
            if (!(Math.abs(point.x - vertex.x) < EPSILON && Math.abs(point.y - vertex.y) < EPSILON)) {
                polygon.push(point.x, point.y);
            }
        }
        else if (segmentPriorityQueue.peek() != oldSegment) {
            // A new segment has hidden the old first segment.
            // First compute where the old segment has been hidden, and push that point to the polygon
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__["default"].Point();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(oldSegment.from, oldSegment.to, pos, vertex, point);
            polygon.push(point.x, point.y);
            // Then compute where the new segment intersects
            let newClosest = segmentPriorityQueue.peek();
            let nPoint;
            if (Math.abs(newClosest.from.angle - points[orig].angle) < EPSILON) {
                nPoint = newClosest.from;
            }
            else {
                nPoint = newClosest.to;
            }
            if (!(Math.abs(point.x - nPoint.x) < EPSILON && Math.abs(point.y - nPoint.y) < EPSILON)) {
                polygon.push(nPoint.x, nPoint.y);
            }
        }
    }
    return polygon;
}
function compute(pos, inSegments) {
    let segments = new Array(inSegments.length);
    // O(N)
    for (let segment of inSegments) {
        let s = initSegment(segment.fromX, segment.fromY, segment.toX, segment.toY, pos);
        segments.push(s);
    }
    return compute0(pos, segments);
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function clipSegment(line, aabb, light) {
    // https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm
    let x0 = line.fromX;
    let y0 = line.fromY;
    let x1 = line.toX;
    let y1 = line.toY;
    let code0 = computeOutCode(aabb, x0, y0);
    let code1 = computeOutCode(aabb, x1, y1);
    while (true) {
        if ((code0 | code1) === 0) {
            // bitwise OR is 0: both points inside window; trivially accept and exit loop
            return initSegment(x0, y0, x1, y1, light);
        }
        else if ((code0 & code1) !== 0) {
            // failed both tests, so calculate the line segment to clip
            // from an outside point to an intersection with clip edge
            return undefined;
        }
        else {
            let x = 0, y = 0;
            // At least one endpoint is outside the clip rectangle; pick it.
            let codeOut = code1 > code0 ? code1 : code0;
            // Now find the intersection point;
            // use formulas:
            //   slope = (y1 - y0) / (x1 - x0)
            //   x = x0 + (1 / slope) * (ym - y0), where ym is ymin or ymax
            //   y = y0 + slope * (xm - x0), where xm is xmin or xmax
            // No need to worry about divide-by-zero because, in each case, the
            // outcode bit being tested guarantees the denominator is non-zero
            if ((codeOut & TOP) !== 0) { // point is above the clip window
                x = x0 + (x1 - x0) * (aabb.maxY - y0) / (y1 - y0);
                y = aabb.maxY;
            }
            else if ((codeOut & BOTTOM) !== 0) { // point is below the clip window
                x = x0 + (x1 - x0) * (aabb.minY - y0) / (y1 - y0);
                y = aabb.minY;
            }
            else if ((codeOut & RIGHT) !== 0) { // point is to the right of clip window
                y = y0 + (y1 - y0) * (aabb.maxX - x0) / (x1 - x0);
                x = aabb.maxX;
            }
            else if ((codeOut & LEFT) !== 0) { // point is to the left of clip window
                y = y0 + (y1 - y0) * (aabb.minX - x0) / (x1 - x0);
                x = aabb.minX;
            }
            // Now we move outside point to intersection point to clip
            // and get ready for next pass.
            let code = computeOutCode(aabb, x, y);
            if (codeOut === code0) {
                x0 = x;
                y0 = y;
                code0 = code;
            }
            else {
                x1 = x;
                y1 = y;
                code1 = code;
            }
        }
    }
}
function computeViewport(lines, aabb, light, usedLines) {
    //console.log("Lines: " + lines.length);
    let segments = new Array();
    let lineLen = lines.length;
    for (let i = 0; i < lineLen; i++) {
        let segment = clipSegment(lines[i], aabb, light);
        if (segment !== undefined) {
            segment.index = i;
            segments.push(segment);
        }
    }
    //console.log("Done");
    // Push viewport segments:
    segments.push(initSegment(aabb.minX, aabb.minY, aabb.minX, aabb.maxY, light), initSegment(aabb.minX, aabb.maxY, aabb.maxX, aabb.maxY, light), initSegment(aabb.maxX, aabb.maxY, aabb.maxX, aabb.minY, light), initSegment(aabb.maxX, aabb.minY, aabb.minX, aabb.minY, light));
    //console.log("SEGMENTS: ", segments);
    let poly = compute0(light, segments);
    if (usedLines !== undefined) {
        // Compute what lines have been used
        let segLen = segments.length - 4;
        for (let i = 0; i < segLen; i++) {
            let s = segments[i];
            if (s.used)
                usedLines.push(s.index);
        }
    }
    return poly;
}


/***/ }),

/***/ "./src/app/graphics.ts":
/*!*****************************!*\
  !*** ./src/app/graphics.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE": () => (/* binding */ EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE),
/* harmony export */   "GRAPHIC_TYPE": () => (/* binding */ GRAPHIC_TYPE),
/* harmony export */   "ElementType": () => (/* binding */ ElementType),
/* harmony export */   "VisibilityType": () => (/* binding */ VisibilityType),
/* harmony export */   "ImageScaleMode": () => (/* binding */ ImageScaleMode)
/* harmony export */ });
// Common info about the graphical systems, this should be a semi-abstraction.
// NONE OF THIS SHOULD BE SERIALIZED! THIS IS ALL RUNTIME DEPENDANT! DETAILS WILL CHANGE BETWEEN MINOR VERSIONS!
const EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE = 'remember_bit_by_bit_vis_update';
const GRAPHIC_TYPE = "graphic";
var ElementType;
(function (ElementType) {
    ElementType[ElementType["CONTAINER"] = 0] = "CONTAINER";
    ElementType[ElementType["IMAGE"] = 1] = "IMAGE";
    ElementType[ElementType["LINE"] = 2] = "LINE";
    ElementType[ElementType["POINT"] = 3] = "POINT";
    ElementType[ElementType["TEXT"] = 4] = "TEXT";
})(ElementType || (ElementType = {}));
var VisibilityType;
(function (VisibilityType) {
    // You only see one thing when you see it! seems stupid but you can also remember things
    VisibilityType[VisibilityType["NORMAL"] = 0] = "NORMAL";
    // A player can always see itself, even with no light, "I think therefore I am"
    VisibilityType[VisibilityType["ALWAYS_VISIBLE"] = 1] = "ALWAYS_VISIBLE";
    // You'll remember once you see it
    VisibilityType[VisibilityType["REMEMBER"] = 2] = "REMEMBER";
    // Used in images, you only remember what you see! (only support images for now)
    VisibilityType[VisibilityType["REMEMBER_BIT_BY_BIT"] = 3] = "REMEMBER_BIT_BY_BIT";
})(VisibilityType || (VisibilityType = {}));
var ImageScaleMode;
(function (ImageScaleMode) {
    // 1 pixel = 1*scale pixels
    ImageScaleMode[ImageScaleMode["REAL"] = 0] = "REAL";
    // 1 pixel = 1*gridSize*scale pixels
    ImageScaleMode[ImageScaleMode["GRID"] = 1] = "GRID";
})(ImageScaleMode || (ImageScaleMode = {}));


/***/ }),

/***/ "./src/app/index.ts":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "windowEventEmitter": () => (/* binding */ windowEventEmitter),
/* harmony export */   "stage": () => (/* binding */ stage),
/* harmony export */   "onHashChange": () => (/* binding */ onHashChange)
/* harmony export */ });
/* harmony import */ var _phase_stage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase/stage */ "./src/app/phase/stage.ts");
/* harmony import */ var _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phase/homePhase */ "./src/app/phase/homePhase.ts");
/* harmony import */ var _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/eventEmitterWrapper */ "./src/app/util/eventEmitterWrapper.ts");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var bootstrap_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bootstrap-vue */ "./node_modules/bootstrap-vue/esm/index.js");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/fontawesome-free/css/all.css */ "./node_modules/@fortawesome/fontawesome-free/css/all.css");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/fontawesome-free/js/all.js */ "./node_modules/@fortawesome/fontawesome-free/js/all.js");
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! Public/style.css */ "./src/public/style.css");
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(Public_style_css__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./phase/editMap/clientEditMapPhase */ "./src/app/phase/editMap/clientEditMapPhase.ts");
/* harmony import */ var _assetsLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./assetsLoader */ "./src/app/assetsLoader.ts");
/* harmony import */ var _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./phase/loadingPhase */ "./src/app/phase/loadingPhase.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};







vue__WEBPACK_IMPORTED_MODULE_5__["default"].use(bootstrap_vue__WEBPACK_IMPORTED_MODULE_6__.BootstrapVue);
// ================================================================================================ Public




const windowEventEmitter = new _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_2__.EventEmitterWrapper((event, emitter) => {
    window.addEventListener(event, data => {
        emitter.emit(event, data);
    });
});
// Main
const stage = new _phase_stage__WEBPACK_IMPORTED_MODULE_0__.Stage("main");
function onHashChange() {
    if (window.location.hash) {
        const roomId = window.location.hash.substr(1); // Remove #
        if (roomId.startsWith('t')) {
            console.log("Connecting with: torrent");
            stage.setPhase(new _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_8__.ClientEditMapPhase(roomId.substr(1)));
        }
        else {
            console.log("Invalid hash");
            stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__.HomePhase());
        }
    }
    else {
        stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__.HomePhase());
    }
}
(function () {
    return __awaiter(this, void 0, void 0, function* () {
        console.log("Loading dndme: " + "v1.2.0");
        stage.setPhase(new _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_10__.LoadingPhase());
        yield (0,_assetsLoader__WEBPACK_IMPORTED_MODULE_9__.loadAssets)();
        onHashChange();
        window.onhashchange = function () {
            console.log("Hash change" + location.hash);
            onHashChange();
        };
    });
})();


/***/ }),

/***/ "./src/app/map/gameMap.ts":
/*!********************************!*\
  !*** ./src/app/map/gameMap.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GameMap": () => (/* binding */ GameMap)
/* harmony export */ });
/* harmony import */ var _mapLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/dist/jszip.min.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



class GameMap {
    constructor() {
        this.levels = new Map();
    }
    createDataJson() {
        let levels = {};
        for (let [id, level] of this.levels.entries()) {
            levels[id] = level.serialize();
        }
        let data = {
            version: GameMap.SER_VERSION,
            levels: levels,
        };
        return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(data);
    }
    saveToFile() {
        let data = this.createDataJson();
        let zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
        zip.file("data.msgpack", data);
        return zip.generateAsync({
            type: "blob",
            compression: 'DEFLATE',
            // Prevent the browser from renaming the extension
            mimeType: 'application/octet-stream',
        });
    }
    static loadFromFile(from) {
        return __awaiter(this, void 0, void 0, function* () {
            let zip = yield jszip__WEBPACK_IMPORTED_MODULE_1___default().loadAsync(from);
            // TODO: better error management
            let file = yield zip.file("data.msgpack").async('arraybuffer');
            let data = yield (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__.decode)(file);
            if (data['version'] !== this.SER_VERSION) {
                throw new Error('Version not supported');
            }
            let gameMap = new GameMap();
            let levelsData = data["levels"];
            for (let id in levelsData) {
                let level = levelsData[id];
                let res = yield _mapLevel__WEBPACK_IMPORTED_MODULE_0__.MapLevel.deserialize(parseInt(id), level);
                gameMap.levels.set(res.id, res);
            }
            return gameMap;
        });
    }
}
GameMap.SER_VERSION = '1.0';


/***/ }),

/***/ "./src/app/map/mapLevel.ts":
/*!*********************************!*\
  !*** ./src/app/map/mapLevel.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLevel": () => (/* binding */ MapLevel)
/* harmony export */ });
class MapLevel {
    constructor(id) {
        this.id = id;
    }
    loadInto(ecs) {
        ecs.clear();
        if (this.ecs !== undefined) {
            ecs.deserialize(this.ecs, {});
        }
    }
    saveFrom(ecs) {
        this.ecs = undefined;
        this.ecs = ecs.serialize({
            requireSave: true,
            resources: true,
        });
    }
    serialize() {
        return {
            name: this.name,
            ecs: this.ecs
        };
    }
    static deserialize(id, data) {
        let res = new MapLevel(id);
        res.name = data['name'];
        res.ecs = data['ecs'];
        return res;
    }
}


/***/ }),

/***/ "./src/app/network/webtorrent/WTChannel.ts":
/*!*************************************************!*\
  !*** ./src/app/network/webtorrent/WTChannel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WTChannel": () => (/* binding */ WTChannel)
/* harmony export */ });
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* harmony import */ var _WTDiscovery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WTDiscovery */ "./src/app/network/webtorrent/WTDiscovery.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/jsobj */ "./src/app/util/jsobj.ts");
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");





/**
 * Header structure:
 * flags: 1 byte
 * from: 4 bytes
 * to: 4 bytes (-1 = broadcast)
 * partial_size: 4 bytes (only if flags contains PARTIAL)
 *
 */
var ChunkFlags;
(function (ChunkFlags) {
    ChunkFlags[ChunkFlags["PARTIAL"] = 1] = "PARTIAL";
})(ChunkFlags || (ChunkFlags = {}));
const MIN_HEADER_LENGTH = 1 + 4 + 4;
const RECEIVER_BROADCAST = 4294967295;
const ENDIANESS = true;
/**
 * WebRTC data channel limit beyond which data is split into chunks
 * Chose 16KB considering Chromium
 * https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_data_channels#Concerns_with_large_messages
 */
const MAX_MESSAGE_LENGTH = 16300;
class WTChannel {
    constructor() {
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.packets = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.connections = new Map();
        this.nextId = -1;
        this.myId = -1;
        this.peers = new Map();
        this.connectedSecret = buffer__WEBPACK_IMPORTED_MODULE_3__.Buffer.from([]);
        this.discovery = new _WTDiscovery__WEBPACK_IMPORTED_MODULE_1__.WTDiscovery();
        this.discovery.onPeerCallback = this.onPeer.bind(this);
        this.discovery.onTrackerConnectionCountEdit = (c) => this.events.emit('tracker_connections', c);
    }
    startMaster() {
        this.connectedSecret = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.randombytes)(20);
        this.discovery.start(true, this.connectedSecret.toString('hex'));
        this.myId = 0;
        this.nextId = 1;
    }
    startClient(connectTo) {
        if (typeof connectTo == 'string') {
            connectTo = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.base64UrlToBuffer)(connectTo);
        }
        this.connectedSecret = connectTo;
        this.discovery.start(false, connectTo.toString('hex'));
    }
    getConnectSecret() {
        return (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.bufferToBase64Url)(this.connectedSecret);
    }
    send(data, to) {
        const receiver = this.connections.get(to);
        if (receiver === undefined) {
            throw new Error("Cannot find reciver");
        }
        const encoded = (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_4__.encode)(data);
        this.sendRaw(encoded, receiver);
    }
    broadcast(data) {
        this.sendRaw((0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_4__.encode)(data));
    }
    destroy() {
        this.discovery.stop();
        for (let p of this.peers.values()) {
            p.socket.destroy();
        }
    }
    sendRaw(data, onlyTo) {
        // We don't have to worry here about forwarded packets
        // they are handled on the receiving end.
        if (data.byteLength <= MAX_MESSAGE_LENGTH - MIN_HEADER_LENGTH) {
            const packet = new Uint8Array(data.byteLength + MIN_HEADER_LENGTH);
            packet.set(data, MIN_HEADER_LENGTH);
            const view = new DataView(packet.buffer);
            view.setUint32(1, this.myId, ENDIANESS);
            this.sendPacketRaw(packet, onlyTo);
            return;
        }
        // Yaay, let's split things!
        const packet = new Uint8Array(MAX_MESSAGE_LENGTH);
        const view = new DataView(packet.buffer);
        packet[0] = ChunkFlags.PARTIAL;
        view.setUint32(1, this.myId, ENDIANESS);
        view.setUint32(MIN_HEADER_LENGTH, data.length, ENDIANESS);
        let sent = MAX_MESSAGE_LENGTH - MIN_HEADER_LENGTH - 4;
        packet.set(data.subarray(0, sent), MIN_HEADER_LENGTH + 4);
        this.sendPacketRaw(packet, onlyTo, true);
        while (sent < data.byteLength) {
            const subarr = data.subarray(sent, sent + MAX_MESSAGE_LENGTH);
            sent += subarr.byteLength;
            this.sendPacketRaw(subarr, onlyTo, false);
        }
    }
    sendPacketRaw(packet, onlyTo, adjustFlags = true, broadcastExclde) {
        const sendRaw = (x) => {
            if (x.sending) {
                x.packets.push(packet);
            }
            else {
                x.sending = true;
                x.socket.write(packet, undefined, x.afterSendBounded);
            }
        };
        let dataView = adjustFlags ? new DataView(packet.buffer, packet.byteOffset) : null;
        if (onlyTo === undefined) {
            dataView === null || dataView === void 0 ? void 0 : dataView.setUint32(1 + 4, RECEIVER_BROADCAST, ENDIANESS);
            for (let x of this.peers.values()) {
                if (x === broadcastExclde)
                    continue;
                sendRaw(x);
            }
        }
        else {
            dataView === null || dataView === void 0 ? void 0 : dataView.setUint32(1 + 4, onlyTo.id, ENDIANESS);
            sendRaw(onlyTo);
        }
    }
    afterDataSend(peer, e) {
        const nextData = peer.packets.shift();
        if (nextData === undefined) {
            peer.sending = false;
            return;
        }
        peer.socket.write(nextData, undefined, peer.afterSendBounded);
    }
    onPeer(peer, peerId) {
        const data = {
            peerId,
            id: this.discovery.isMaster ? this.nextId++ : 0,
            socket: peer,
            packets: [],
            sending: false,
            afterSendBounded: _ => { },
        };
        data.afterSendBounded = e => this.afterDataSend(data, e);
        this.peers.set(peerId, data);
        peer.once('connect', () => {
            if (this.discovery.isMaster) {
                peer.send('' + data.id);
                postBootstrap();
            }
            else {
                this.discovery.pause();
            }
        });
        const postBootstrap = () => {
            this.connections.set(data.id, data);
            this.events.emit('device_join', data.id);
            peer.on('data', (chunk) => {
                this.onPeerData(data, chunk);
            });
        };
        if (!this.discovery.isMaster) {
            peer.once('data', (chunk) => {
                this.myId = parseInt(chunk);
                postBootstrap();
            });
        }
        peer.on('close', () => {
            console.info("Peer closed");
            this.connections.delete(data.id);
            this.peers.delete(peerId);
            this.events.emit('device_left', data.id);
            // Re-listen for master
            this.discovery.resume();
        });
        peer.on('error', (e) => {
            console.error("Peer error", e);
        });
    }
    onPeerData(peer, chunk) {
        if (peer.partial) {
            this.onPartialData(peer, chunk);
            return;
        }
        const flags = chunk[0];
        const headerView = new DataView(chunk.buffer, chunk.byteOffset);
        const sender = headerView.getUint32(1, ENDIANESS);
        const receiver = headerView.getUint32(1 + 4, ENDIANESS);
        let header = MIN_HEADER_LENGTH;
        let pktInfo = {
            isBroadcast: receiver === RECEIVER_BROADCAST,
            senderId: sender,
        };
        const needsForward = receiver !== this.myId && !pktInfo.isBroadcast;
        if (flags & ChunkFlags.PARTIAL) {
            let size = headerView.getUint32(header, ENDIANESS);
            peer.partial = {
                index: 0,
                buffer: !needsForward ? new Uint8Array(size) : undefined,
                info: pktInfo,
                size,
            };
            header += 4;
        }
        if (needsForward) {
            if (!this.discovery.isMaster) {
                console.warn("Asket a non-master to forward");
                return;
            }
            const recv = this.connections.get(receiver);
            if (recv === undefined) {
                console.warn("Asked to forward to unknown peer");
                return;
            }
            if (peer.partial) {
                peer.partial.forwardTo = receiver;
            }
            else {
                this.sendPacketRaw(chunk, recv, false);
            }
            return;
        }
        if (this.discovery.isMaster && pktInfo.isBroadcast) {
            this.sendPacketRaw(chunk, undefined, false, peer);
        }
        if (peer.partial) {
            this.onPartialData(peer, chunk.subarray(header));
            return;
        }
        this.onMessage(chunk.subarray(header), pktInfo);
    }
    onPartialData(peer, chunk) {
        if (!peer.partial)
            throw new Error('wrong state: nor partial');
        let oldIndex = peer.partial.index;
        peer.partial.index += chunk.length;
        const isDone = peer.partial.size <= peer.partial.index;
        if (peer.partial.buffer !== undefined) {
            peer.partial.buffer.set(chunk, oldIndex);
        }
        else {
            let target = this.connections.get(peer.partial.forwardTo);
            if (target === undefined)
                return;
            this.sendPacketRaw(chunk, target, false);
        }
        if (isDone) {
            if (peer.partial.size < peer.partial.index) {
                console.warn("Partial is longer than expected");
            }
            const partial = peer.partial;
            peer.partial = undefined;
            if (partial.buffer !== undefined) {
                this.onMessage(partial.buffer, partial.info);
            }
        }
    }
    onMessage(buffer, info) {
        let obj;
        try {
            obj = (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_5__.decode)(buffer);
        }
        catch (e) {
            console.error("Received wrong data", e);
            return;
        }
        this.events.emit('message', obj, info);
        const packetType = obj.type;
        if (packetType && typeof packetType === 'string') {
            this.packets.emit(packetType, obj, info);
        }
    }
}


/***/ }),

/***/ "./src/app/network/webtorrent/WTDiscovery.ts":
/*!***************************************************!*\
  !*** ./src/app/network/webtorrent/WTDiscovery.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WTDiscovery": () => (/* binding */ WTDiscovery)
/* harmony export */ });
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/jsobj */ "./src/app/util/jsobj.ts");
/* harmony import */ var _WebTorrentTracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WebTorrentTracker */ "./src/app/network/webtorrent/WebTorrentTracker.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



// https://github.com/ngosang/trackerslist/blob/master/trackers_all_ws.txt
const TRACKERS = [
    //'ws://localhost:8000',
    'wss://tracker.openwebtorrent.com',
    'wss://tracker.btorrent.xyz',
    'wss://tracker.files.fm:7073/announce',
    //'wss://spacetradersapi-chatbox.herokuapp.com:443/announce',
    //'wss://peertube.cpy.re:443/tracker/socket',
];
const WAITING_FOR_INIT = {};
class WTDiscovery {
    constructor() {
        this.peers = new Map();
        this.onPeerCallback = () => { };
        this.onTrackerConnectionCountEdit = () => { };
        this.isMaster = false;
        this.isPaused = true;
        this.trackers = {};
        let peerId = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_1__.randombytes)(20);
        this.trackerConfig = {
            peerIdBinary: peerId.toString('binary'),
            infoHashBinary: '',
            defAnnounceOptions: {},
            peerOptions: {
                channelConfig: {
                    ordered: true,
                },
            },
            offerData: {},
        };
        this.peerId = peerId.toString('hex');
        this.connectedTrackers = 0;
    }
    setInfoHash(str) {
        return __awaiter(this, void 0, void 0, function* () {
            const buffer = new TextEncoder().encode(str);
            const digest = yield crypto.subtle.digest('SHA-1', buffer);
            // Convert digest to hex string
            this.trackerConfig.infoHashBinary = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(digest).toString('binary');
        });
    }
    addTracker(trackerUrl) {
        if (trackerUrl in this.trackers) {
            return;
        }
        const tracker = new _WebTorrentTracker__WEBPACK_IMPORTED_MODULE_2__.WebTorrentTracker(trackerUrl, this.trackerConfig);
        this.trackers[trackerUrl] = tracker;
        tracker.events.on('connect', () => {
            console.log('Tracker connection established ' + trackerUrl);
            this.connectedTrackers++;
            this.onTrackerConnectionCountEdit(this.connectedTrackers);
        });
        tracker.events.on('disconnect', (ev) => {
            console.log("Tracker closed", ev);
            this.connectedTrackers--;
            this.onTrackerConnectionCountEdit(this.connectedTrackers);
        });
        tracker.events.on('error', x => {
            console.error('Tracker error', x);
        });
        tracker.events.on('offer_filter', (e) => {
            if ((!!e.offer.master) === this.isMaster) {
                console.log("Offer rejected (non-master): " + e.offer);
                e.continue = false;
                return;
            }
            if (this.peers.has(e.peerId)) {
                // already have one
                e.continue = false;
                console.log("Offer rejected (already present): " + e.offer);
                return;
            }
            this.peers.set(e.peerId, WAITING_FOR_INIT);
        });
        tracker.events.on('offer_timeout', (peerId) => {
            // someone passed offer_filter, received an answer but didn't reply back
            this.peers.delete(peerId);
        });
        tracker.events.on('peer', (peer, peerId) => {
            const oldPeerData = this.peers.get(peerId);
            if (oldPeerData !== undefined && oldPeerData !== WAITING_FOR_INIT) {
                console.error("Opened another socket for an already connected peer");
                peer.destroy();
                return;
            }
            console.log('Peer connected', peerId);
            this.peers.set(peerId, peer);
            peer.once('connect', () => {
                if (!this.isMaster) {
                    console.log("Master connected, pausing.");
                    this.pause();
                }
            });
            this.onPeerCallback(peer, peerId);
            peer.once('close', () => {
                this.peers.delete(peerId);
            });
        });
        tracker.events.on('warning', x => {
            console.warn('warning', x);
        });
    }
    pause() {
        if (this.isPaused)
            return Promise.resolve();
        this.isPaused = true;
        const promises = [];
        for (let trackerName in this.trackers) {
            const tracker = this.trackers[trackerName];
            promises.push(tracker.stop());
        }
        return Promise.all(promises).then(() => { });
    }
    resumeTracker(tracker) {
        tracker.start();
        tracker.announce({
            event: 'started',
        });
    }
    resume() {
        if (!this.isPaused)
            return;
        this.isPaused = false;
        for (let trackerName in this.trackers) {
            const tracker = this.trackers[trackerName];
            this.resumeTracker(tracker);
        }
    }
    start(isMaster, identifier) {
        return __awaiter(this, void 0, void 0, function* () {
            this.isMaster = isMaster;
            this.trackerConfig.defAnnounceOptions.numwant = isMaster ? 0 : 10;
            this.trackerConfig.offerData.master = isMaster;
            this.setInfoHash(identifier);
            for (let url of TRACKERS) {
                this.addTracker(url);
            }
            this.resume();
        });
    }
    stop() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.pause();
            this.trackers = {};
        });
    }
}


/***/ }),

/***/ "./src/app/network/webtorrent/WebTorrentTracker.ts":
/*!*********************************************************!*\
  !*** ./src/app/network/webtorrent/WebTorrentTracker.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebTorrentTracker": () => (/* binding */ WebTorrentTracker)
/* harmony export */ });
/* harmony import */ var simple_peer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! simple-peer */ "./node_modules/simple-peer/index.js");
/* harmony import */ var simple_peer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(simple_peer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/jsobj */ "./src/app/util/jsobj.ts");
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};




const RECONNECT_MINIMUM = 5 * 1000;
const RECONNECT_MAXIMUM = 60 * 1000;
const RECONNECT_VARIANCE = 10 * 1000;
const OFFER_TIMEOUT = 30 * 1000;
/*
 * Protocol: 3-way handshake
 * originally there was only a 2-way handshake:
 * client A ---offer --> client B (offer = WebRTC offer)
 * client A <--answer--- client B (answer = WebRTC answer)
 * connection established
 *
 * but after the offer the client might not continue the answer,
 * maybe because it's already connected or because it's searching someone else.
 * So the WebRTC offer will be wasted (and that's a bit of waste in resource).
 *
 * To mitigate this we'll make the actual offer only after we're sure that the
 * client will receive it.
 * A ---offer --> B  (offer = custom data)
 * A <--answer--- B  (answer=WebRTC offer)
 * A ---answer--> B  (answer=WebRTC response)
 *
 * The server does not store any data regarding offers/answers so this is compatible.
 * About the cross-client compatibility: we don't have work with real webtorrent clients.
 *
 */
class WebTorrentTracker {
    constructor(announceUrl, config) {
        this.isConnected = false;
        this.destroyed = false;
        this.expectingResponse = false;
        this.reconnecting = false;
        this.reconnectRetries = 0;
        this.reconnectTimer = null;
        this.config = config;
        this.announceUrl = announceUrl;
        this.connectingPeers = {};
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_3__["default"]();
    }
    start() {
        if (this.socket !== undefined) {
            throw new Error("Already started");
        }
        this.openSocket();
    }
    setInterval(intervalMs) {
        if (intervalMs == null)
            intervalMs = 30 * 1000; // 30 seconds
        clearInterval(this.interval);
        if (intervalMs) {
            this.interval = setInterval(() => {
                this.announce();
            }, intervalMs);
        }
    }
    stop() {
        return __awaiter(this, void 0, void 0, function* () {
            this.announce({ event: 'stopped' });
            yield this.destroy();
        });
    }
    destroy() {
        return new Promise(resolve => {
            var _a;
            if (this.destroyed)
                return resolve();
            if (this.isConnected) {
                this.isConnected = false;
                this.events.emit('disconnect');
            }
            this.destroyed = true;
            clearInterval(this.interval);
            clearTimeout(this.reconnectTimer);
            for (const peerId in this.connectingPeers) {
                const peer = this.connectingPeers[peerId];
                clearTimeout(peer.offerTimeout);
                (_a = peer.peer) === null || _a === void 0 ? void 0 : _a.destroy();
            }
            this.connectingPeers = {};
            let socket = this.socket;
            if (!socket)
                return resolve();
            socket.onopen = noop;
            socket.onmessage = noop;
            socket.onclose = noop;
            socket.onerror = noop;
            this.socket = undefined;
            if (socket.readyState === WebSocket.CLOSED || socket.readyState === WebSocket.CLOSING) {
                return resolve();
            }
            socket.onclose = () => resolve();
            let timeout;
            // If there is no data response expected, destroy immediately.
            if (!this.expectingResponse)
                return destroyCleanup();
            // Otherwise, wait a short time for potential responses to come in from the
            // server, then force close the socket.
            timeout = setTimeout(destroyCleanup, 1000);
            // But, if a response comes from the server before the timeout fires, do cleanup
            // right away.
            socket.onmessage = destroyCleanup;
            function destroyCleanup() {
                if (timeout) {
                    clearTimeout(timeout);
                    timeout = null;
                }
                if (socket) {
                    socket.onmessage = noop;
                    if (socket.readyState === WebSocket.CLOSED) {
                        socket.close();
                    }
                }
            }
        });
    }
    onSocketConnect() {
        if (this.destroyed)
            return;
        this.isConnected = true;
        this.events.emit('connect');
        if (this.reconnecting) {
            this.reconnecting = false;
            this.reconnectRetries = 0;
            this.announce({});
        }
    }
    onSocketError(err) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.destroyed)
                return;
            console.error("WTT: Socket error", err);
            this.events.emit('error', err);
            yield this.destroy();
            // errors will often happen if a tracker is offline, so don't treat it as fatal
            this.startReconnecting();
        });
    }
    onSocketData(chunk) {
        if (this.destroyed)
            return;
        this.expectingResponse = false;
        let data;
        try {
            data = JSON.parse(chunk.data);
        }
        catch (err) {
            console.warn(new Error("Invalid tracker response"));
            return;
        }
        if (data.action == 'announce') {
            this.onAnnounceResponse(data);
        }
        else if (data.action === 'scrape') {
            // ignore
        }
        else {
            this.onSocketError(new Error(`invalid action in WS response: ${data.action}`));
        }
    }
    onSocketClose(ev) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.destroyed)
                return;
            console.log("Tracker closed", ev);
            yield this.destroy();
            this.startReconnecting();
        });
    }
    startReconnecting() {
        const ms = Math.floor(Math.random() * RECONNECT_VARIANCE) + Math.min(Math.pow(2, this.reconnectRetries) * RECONNECT_MINIMUM, RECONNECT_MAXIMUM);
        console.log("Reconnecting in " + ms / 1000);
        this.reconnecting = true;
        clearTimeout(this.reconnectTimer);
        this.reconnectTimer = setTimeout(() => {
            console.log("Reconnecting...");
            this.reconnectRetries++;
            this.openSocket();
        }, ms);
    }
    announce(options = {}) {
        var _a, _b;
        if (this.destroyed || this.reconnecting)
            return;
        if (((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) != WebSocket.OPEN) {
            this.events.once('connect', () => this.announce(options));
            return;
        }
        // console.log("Announcing: " + Buffer.from(this.config.infoHashBinary, 'binary').toString('hex'));
        const params = Object.assign({
            action: 'announce',
            info_hash: this.config.infoHashBinary,
            peer_id: this.config.peerIdBinary,
        }, this.config.defAnnounceOptions, options);
        if (this.trackerId)
            params.trackerId = this.trackerId;
        if (options.event !== 'stopped' && options.event !== 'completed') {
            params.numwant = (_b = options.numwant) !== null && _b !== void 0 ? _b : 10;
            const offers = [];
            for (let i = 0; i < params.numwant; i++) {
                let offerId = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_1__.randombytes)(20);
                this.connectingPeers[offerId.toString('hex')] = {};
                offers.push({
                    offer_id: offerId.toString('binary'),
                    offer: this.config.offerData,
                });
            }
            params.offers = offers;
        }
        // console.log("  Offers: " + JSON.stringify(params.offers));
        this.send(params);
    }
    onAnnounceResponse(data) {
        return __awaiter(this, void 0, void 0, function* () {
            //console.log("Announce response: " + JSON.stringify(data));
            if (data.info_hash !== this.config.infoHashBinary) {
                return;
            }
            if (data.peer_id && data.peer_id === this.config.peerIdBinary) {
                // ignore offers/answers from this client
                return;
            }
            const failure = data['failure reason'];
            if (failure) {
                this.onSocketError(new Error(failure));
                return;
            }
            const warning = data['warning message'];
            if (warning) {
                this.events.emit('warning', new Error(warning));
            }
            const interval = data.interval || data['min interval'];
            if (interval)
                this.setInterval(interval * 1000);
            const trackerId = data['tracker id'];
            if (trackerId) {
                // If absent, do not discard previous trackerId value
                this.trackerId = trackerId;
            }
            if (data.offer && data.peer_id) {
                const peerId = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.peer_id, 'binary').toString('hex');
                const eventData = {
                    peerId,
                    offer: data.offer,
                    continue: true,
                };
                this.events.emit('offer_filter', eventData);
                if (!eventData.continue) {
                    console.log("Discarding offer");
                    return;
                }
                const offer = yield this.createInitPeer(peerId, buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.offer_id, 'binary'), {});
                const params = {
                    action: 'announce',
                    info_hash: this.config.infoHashBinary,
                    peer_id: this.config.peerIdBinary,
                    to_peer_id: data.peer_id,
                    answer: offer,
                    offer_id: data.offer_id,
                };
                if (this.trackerId)
                    params.trackerId = this.trackerId;
                //console.log("Answering offer");
                this.send(params);
            }
            if (data.answer && data.peer_id) {
                //console.log("Received answer");
                const offerId = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.offer_id, 'binary').toString('hex');
                let offerData = this.connectingPeers[offerId];
                const peerId = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.peer_id, 'binary').toString('hex');
                if (offerData == undefined) {
                    this.events.emit('warning', new Error("Got answer for unknown offer from " + peerId));
                }
                delete this.connectingPeers[offerId];
                if (offerData.peer === undefined) {
                    //console.log("Received second");
                    // Received the second message of the 3-way handshake!
                    const peer = this.createPeer({});
                    peer.once('signal', answer => {
                        const params = {
                            action: 'announce',
                            info_hash: this.config.infoHashBinary,
                            peer_id: this.config.peerIdBinary,
                            to_peer_id: data.peer_id,
                            answer,
                            offer_id: data.offer_id,
                        };
                        if (this.trackerId)
                            params.trackerId = this.trackerId;
                        this.send(params);
                        //console.log("Sending third message");
                    });
                    peer.signal(data.answer);
                    this.events.emit('peer', peer, peerId);
                }
                else {
                    //console.log("Received third");
                    clearTimeout(offerData.offerTimeout);
                    this.events.emit('peer', offerData.peer, peerId);
                    offerData.peer.signal(data.answer);
                }
            }
        });
    }
    send(data) {
        if (this.destroyed)
            return;
        this.expectingResponse = data.answer === undefined;
        const message = JSON.stringify(data);
        this.socket.send(message);
    }
    createPeer(options) {
        const peerOpts = Object.assign({}, options, this.config.peerOptions);
        peerOpts.trickle = false;
        let peer = new (simple_peer__WEBPACK_IMPORTED_MODULE_0___default())(peerOpts);
        const onErr = (err) => {
            console.error(err);
            peer.destroy();
        };
        peer.once('error', onErr);
        peer.once('connect', () => {
            peer.removeListener('error', onErr);
        });
        return peer;
    }
    createInitPeer(peerId, offerId, options) {
        return new Promise(resolve => {
            const offerHex = offerId.toString('hex');
            const peer = this.createPeer(Object.assign({ initiator: true }, options));
            peer.once('signal', offer => {
                resolve(offer);
            });
            const offerTimeout = setTimeout(() => {
                delete this.connectingPeers[offerHex];
                peer.destroy();
                this.events.emit('offer_timeout', peerId);
            }, OFFER_TIMEOUT);
            const connPeer = {
                peer,
                offerTimeout,
            };
            this.connectingPeers[offerHex] = connPeer;
        });
    }
    openSocket() {
        this.destroyed = false;
        this.socket = new WebSocket(this.announceUrl);
        this.socket.binaryType = 'arraybuffer';
        this.socket.onopen = this.onSocketConnect.bind(this);
        this.socket.onmessage = this.onSocketData.bind(this);
        this.socket.onclose = this.onSocketClose.bind(this);
        this.socket.onerror = () => this.onSocketError(new Error("Error connecting to " + this.announceUrl));
    }
}
function noop() { }


/***/ }),

/***/ "./src/app/phase/ecsPhase.ts":
/*!***********************************!*\
  !*** ./src/app/phase/ecsPhase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EcsPhase": () => (/* binding */ EcsPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ecs_world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ecs/world */ "./src/app/ecs/world.ts");
/* harmony import */ var _ecs_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ecs/component */ "./src/app/ecs/component.ts");



class EcsPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name, isMaster) {
        super(name);
        this.world = new _ecs_world__WEBPACK_IMPORTED_MODULE_1__.World(isMaster);
    }
    ecsSetup() {
        (0,_ecs_component__WEBPACK_IMPORTED_MODULE_2__.registerCommonStorage)(this.world);
        this.registerSystems();
        this.world.populate();
    }
    registerSystems() {
    }
    enable() {
        this.ecsSetup();
        super.enable();
        this.world.enable();
    }
    disable() {
        super.disable();
        this.world.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/clientEditMapPhase.ts":
/*!*****************************************************!*\
  !*** ./src/app/phase/editMap/clientEditMapPhase.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClientEditMapPhase": () => (/* binding */ ClientEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");

class ClientEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(id) {
        super('editClient', id);
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/displayPrecedence.ts":
/*!****************************************************!*\
  !*** ./src/app/phase/editMap/displayPrecedence.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayPrecedence": () => (/* binding */ DisplayPrecedence)
/* harmony export */ });
var DisplayPrecedence;
(function (DisplayPrecedence) {
    DisplayPrecedence[DisplayPrecedence["BACKGROUND"] = 0] = "BACKGROUND";
    DisplayPrecedence[DisplayPrecedence["GRID"] = 10] = "GRID";
    DisplayPrecedence[DisplayPrecedence["WALL"] = 210] = "WALL";
    DisplayPrecedence[DisplayPrecedence["PROP"] = 220] = "PROP";
    DisplayPrecedence[DisplayPrecedence["PINS"] = 230] = "PINS";
    DisplayPrecedence[DisplayPrecedence["WALL_CREATOR"] = 260] = "WALL_CREATOR";
})(DisplayPrecedence || (DisplayPrecedence = {}));


/***/ }),

/***/ "./src/app/phase/editMap/editMapPhase.ts":
/*!***********************************************!*\
  !*** ./src/app/phase/editMap/editMapPhase.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditMapPhase": () => (/* binding */ EditMapPhase)
/* harmony export */ });
/* harmony import */ var _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/edit/editMap.vue */ "./src/app/ui/edit/editMap.vue");
/* harmony import */ var _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/backgroundImageSystem */ "./src/app/ecs/systems/backgroundImageSystem.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ecs/systems/back/textSystem */ "./src/app/ecs/systems/back/textSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ecs/systems/back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ecs/systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ecs/systems/playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ecs/systems/back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ecs/systems/propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ecs/systems/back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ecs/systems/gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _ecsPhase__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ecsPhase */ "./src/app/phase/ecsPhase.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ecs/systems/command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ecs/systems/command/commandHistorySystem */ "./src/app/ecs/systems/command/commandHistorySystem.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../ecs/systems/back/pixiRectSelectionSystem */ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts");
/* harmony import */ var _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../ecs/systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiMeasureSystem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../ecs/systems/back/pixiMeasureSystem */ "./src/app/ecs/systems/back/pixiMeasureSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiLayerSystem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../ecs/systems/back/pixiLayerSystem */ "./src/app/ecs/systems/back/pixiLayerSystem.ts");
/* harmony import */ var _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../ecs/systems/back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* harmony import */ var _ecs_systems_mouseTrailSystem__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../ecs/systems/mouseTrailSystem */ "./src/app/ecs/systems/mouseTrailSystem.ts");
/* harmony import */ var _ecs_systems_copyPasteSystem__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../ecs/systems/copyPasteSystem */ "./src/app/ecs/systems/copyPasteSystem.ts");
/* harmony import */ var _ecs_systems_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../ecs/systems/back/linkRelocationSystem */ "./src/app/ecs/systems/back/linkRelocationSystem.ts");
/* harmony import */ var _ecs_systems_back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../ecs/systems/back/nameAsLabelSystem */ "./src/app/ecs/systems/back/nameAsLabelSystem.ts");
/* harmony import */ var _network_webtorrent_WTChannel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../network/webtorrent/WTChannel */ "./src/app/network/webtorrent/WTChannel.ts");
/* harmony import */ var _ecs_systems_playerLocator__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../ecs/systems/playerLocator */ "./src/app/ecs/systems/playerLocator.ts");

































class EditMapPhase extends _ecsPhase__WEBPACK_IMPORTED_MODULE_16__.EcsPhase {
    constructor(name, gameId) {
        super(name, gameId === undefined);
        this.gameId = gameId;
    }
    ecsSetup() {
        this.setupNetworkManager();
        super.ecsSetup();
    }
    registerSystems() {
        super.registerSystems();
        let w = this.world;
        w.addSystem(new _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_23__.CommonNetworkSystem(w, this.channel));
        w.addSystem(new _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_18__.CommandSystem(w));
        if (w.isMaster) {
            w.addSystem(new _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_19__.CommandHistorySystem(w));
        }
        w.addSystem(new _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_22__.WebKeyboardSystem(w));
        w.addSystem(new _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_26__.BigStorageSystem(w));
        w.addSystem(new _ecs_systems_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_29__.LinkRelocationSystem(w));
        w.addSystem(new _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_20__.LayerSystem(w));
        w.addSystem(new _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__.PixiBoardSystem(w));
        w.addSystem(new _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SelectionSystem(w));
        if (w.isMaster) {
            w.addSystem(new _ecs_systems_copyPasteSystem__WEBPACK_IMPORTED_MODULE_28__.CopyPasteSystem(w));
        }
        w.addSystem(new _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_21__.PixiRectSelectionSystem(w));
        w.addSystem(new _ecs_systems_back_pixiMeasureSystem__WEBPACK_IMPORTED_MODULE_24__.PixiMeasureSystem(w));
        w.addSystem(new _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_14__.ToolSystem(w));
        w.addSystem(new _ecs_systems_mouseTrailSystem__WEBPACK_IMPORTED_MODULE_27__.MouseTrailSystem(w));
        w.addSystem(new _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GridSystem(w));
        w.addSystem(new _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_8__.InteractionSystem(w));
        w.addSystem(new _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_6__.TextSystem(w));
        w.addSystem(new _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_13__.PixiGraphicSystem(w));
        w.addSystem(new _ecs_systems_back_pixiLayerSystem__WEBPACK_IMPORTED_MODULE_25__.PixiLayerSystem(w));
        w.addSystem(new _ecs_systems_back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_30__.NameAsLabelSystem(w));
        w.addSystem(new _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_1__.BackgroundImageSystem(w));
        w.addSystem(new _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__.WallSystem(w));
        w.addSystem(new _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_11__.DoorSystem(w));
        w.addSystem(new _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_7__.VisibilitySystem(w));
        w.addSystem(new _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_10__.VisibilityAwareSystem(w));
        w.addSystem(new _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_3__.PinSystem(w));
        w.addSystem(new _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_12__.PropSystem(w));
        w.addSystem(new _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_9__.PlayerSystem(w));
        w.addSystem(new _ecs_systems_playerLocator__WEBPACK_IMPORTED_MODULE_32__.PlayerLocatorSystem(w));
        w.addSystem(new _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_5__.LightSystem(w));
    }
    setupNetworkManager() {
        this.channel = new _network_webtorrent_WTChannel__WEBPACK_IMPORTED_MODULE_31__.WTChannel();
        if (this.world.isMaster) {
            this.channel.startMaster();
            history.replaceState(null, "", '#t' + this.channel.getConnectSecret());
        }
        else {
            this.channel.startClient(this.gameId);
        }
    }
    // overrides
    ui() {
        return new _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__["default"]({
            propsData: {
                world: this.world,
            }
        });
    }
    disable() {
        super.disable();
        this.channel.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/hostEditMapPhase.ts":
/*!***************************************************!*\
  !*** ./src/app/phase/editMap/hostEditMapPhase.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HostEditMapPhase": () => (/* binding */ HostEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _map_mapLevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../map/mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ecs/systems/back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};






class HostEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(map) {
        super('editHost', undefined);
        this.map = map;
        if (this.map.levels.size == 0) {
            this.map.levels.set(42, new _map_mapLevel__WEBPACK_IMPORTED_MODULE_1__.MapLevel(42));
        }
        this.currentLevel = this.map.levels.values().next().value;
        this.world.events.on('export_map', () => {
            void this.exportMap();
        });
    }
    onDrop(event) {
        return __awaiter(this, void 0, void 0, function* () {
            event.stopPropagation();
            event.preventDefault();
            let x = event.pageX;
            let y = event.pageY;
            if (event.dataTransfer.items) {
                let res = [];
                for (let f of event.dataTransfer.items) {
                    let file = f.getAsFile();
                    if (file != null) {
                        res.push(file);
                    }
                }
                yield this.onFileDrop(res, x, y);
            }
            else {
                yield this.onFileDrop(event.dataTransfer.files, x, y);
            }
        });
    }
    onDragOver(event) {
        event.stopPropagation();
        event.preventDefault();
        event.dataTransfer.dropEffect = "copy";
        return false;
    }
    onFileDrop(files, x, y) {
        return __awaiter(this, void 0, void 0, function* () {
            if (files.length == 0)
                return;
            let firstFile = files[0];
            // Sometimes this does not work but the problem is not the matrix calculation, it's the browser coords
            // so if you have firefox and linux (this seems to be the wrong stack) and have spare time, pls debug this.
            // Could be caused by: https://bugzilla.mozilla.org/show_bug.cgi?id=505521#c80
            let p = new PIXI.Point(x, y);
            let pixiBoard = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
            pixiBoard.board.updateTransform();
            pixiBoard.board.transform.worldTransform.applyInverse(p, p);
            if (firstFile.type.startsWith("image/")) {
                let data = new Uint8Array(yield firstFile.arrayBuffer());
                let bigStorage = this.world.systems.get(_ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__.BIG_STORAGE_TYPE);
                let dataId = bigStorage.create(data, _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__.BigEntryFlags.READONLY | _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__.BigEntryFlags.SHARED, false).multiId;
                const cmd = _ecs_systems_command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__.SpawnCommandKind.from(this.world, [
                    {
                        type: 'name',
                        name: firstFile.name,
                        clientVisible: false,
                    },
                    {
                        type: "position",
                        x: p.x,
                        y: p.y,
                    },
                    {
                        type: "transform",
                        rotation: 0,
                        scale: 1,
                    },
                    {
                        type: "background_image",
                        entity: -1,
                        image: dataId,
                        imageType: firstFile.type,
                    },
                ]);
                (0,_ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_4__.executeAndLogCommand)(this.world, cmd);
                console.log("Image loaded");
            }
        });
    }
    exportMap() {
        return __awaiter(this, void 0, void 0, function* () {
            this.currentLevel.saveFrom(this.world);
            let blob = yield this.map.saveToFile();
            this.saveBlob(blob, "map.dndm");
        });
    }
    saveBlob(blob, fileName) {
        let a = document.getElementById("hidden-download-link");
        let url = window.URL.createObjectURL(blob);
        a.href = url;
        a.download = fileName;
        a.click();
        window.URL.revokeObjectURL(url);
    }
    enable() {
        super.enable();
        const canvas = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE).renderer.view;
        canvas.ondrop = this.onDrop.bind(this);
        canvas.ondragover = this.onDragOver.bind(this);
        this.beforeUnloadListener = (event) => {
            event.preventDefault();
            event.returnValue = 'pls';
        };
        window.addEventListener('beforeunload', this.beforeUnloadListener);
        this.currentLevel.loadInto(this.world);
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.on("_device_join", this.onDeviceJoin, this);
    }
    disable() {
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.off("_device_join", this.onDeviceJoin, this);
        window.removeEventListener('beforeunload', this.beforeUnloadListener);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/layerOrder.ts":
/*!*********************************************!*\
  !*** ./src/app/phase/editMap/layerOrder.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LayerOrder": () => (/* binding */ LayerOrder)
/* harmony export */ });
var LayerOrder;
(function (LayerOrder) {
    LayerOrder[LayerOrder["BACKGROUND"] = 0] = "BACKGROUND";
    LayerOrder[LayerOrder["GRID"] = 10] = "GRID";
    LayerOrder[LayerOrder["FOREGROUND"] = 100] = "FOREGROUND";
    LayerOrder[LayerOrder["DETAILS"] = 110] = "DETAILS";
    LayerOrder[LayerOrder["LIGHT"] = 200] = "LIGHT";
    LayerOrder[LayerOrder["TOOLS"] = 250] = "TOOLS";
    LayerOrder[LayerOrder["TEXT"] = 300] = "TEXT";
})(LayerOrder || (LayerOrder = {}));


/***/ }),

/***/ "./src/app/phase/homePhase.ts":
/*!************************************!*\
  !*** ./src/app/phase/homePhase.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HomePhase": () => (/* binding */ HomePhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");
/* harmony import */ var _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/home/home.vue */ "./src/app/ui/home/home.vue");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editMap/hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HomePhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("home");
    }
    ui() {
        return new _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    createMap() {
        let map = new _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap();
        _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
    }
    editMap(file) {
        return __awaiter(this, void 0, void 0, function* () {
            let map = yield _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap.loadFromFile(file);
            _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
        });
    }
    enable() {
        super.enable();
        this.uiEventEmitter.on('create_map', this.createMap, this);
        this.uiEventEmitter.on('edit', this.editMap, this);
    }
    disable() {
        this.uiEventEmitter.on('edit', this.editMap, this);
        this.uiEventEmitter.on('create_map', this.createMap, this);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/loadingPhase.ts":
/*!***************************************!*\
  !*** ./src/app/phase/loadingPhase.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadingPhase": () => (/* binding */ LoadingPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/loading/loading.vue */ "./src/app/ui/loading/loading.vue");


class LoadingPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("loading");
    }
    ui() {
        return new _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
}


/***/ }),

/***/ "./src/app/phase/phase.ts":
/*!********************************!*\
  !*** ./src/app/phase/phase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Phase": () => (/* binding */ Phase)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");


class Phase {
    constructor(name) {
        this.name = name;
        // Create Vue instance that is responsible for handling the UI events of the current phase.
        // https://medium.com/vuejobs/create-a-global-event-bus-in-vue-js-838a5d9ab03a
        this.uiEventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
    }
    log(message) {
        console.log(`[${this.name}] ` + message);
    }
    ui() {
        return undefined;
    }
    enable() {
        this.log("Enabling");
        vue__WEBPACK_IMPORTED_MODULE_1__["default"].prototype.eventEmitter = this.uiEventEmitter;
        this.vue = this.ui();
        if (this.vue) {
            this.vue.$mount();
            document.body.appendChild(this.vue.$el);
        }
        // Done ^^
    }
    disable() {
        console.log(`[${this.name}] Disabling`);
        if (this.vue) {
            this.vue.$destroy();
            document.body.removeChild(this.vue.$el);
        }
    }
    /**
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}


/***/ }),

/***/ "./src/app/phase/stage.ts":
/*!********************************!*\
  !*** ./src/app/phase/stage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stage": () => (/* binding */ Stage)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");

class Stage extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name) {
        super(name);
        this.phase = null;
    }
    setPhase(phase) {
        if (this.phase)
            this.phase.disable();
        this.phase = phase;
        if (this.phase)
            this.phase.enable();
    }
    disable() {
        super.disable();
        this.setPhase(null);
    }
}


/***/ }),

/***/ "./src/app/ui/vue.ts":
/*!***************************!*\
  !*** ./src/app/ui/vue.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Vue": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue),
/* harmony export */   "VComponent": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Component),
/* harmony export */   "VProp": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Prop),
/* harmony export */   "VWatch": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch),
/* harmony export */   "VRef": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Ref),
/* harmony export */   "VWatchImmediate": () => (/* binding */ VWatchImmediate),
/* harmony export */   "networkStatus": () => (/* binding */ networkStatus)
/* harmony export */ });
/* harmony import */ var vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue-property-decorator */ "./node_modules/vue-property-decorator/lib/index.js");


function VWatchImmediate(name) {
    return (0,vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch)(name, { immediate: true });
}
const networkStatus = vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue.observable({
    isOnline: navigator.onLine,
});
window.addEventListener('online', () => networkStatus.isOnline = true);
window.addEventListener('offline', () => networkStatus.isOnline = false);


/***/ }),

/***/ "./src/app/util/UnionFindSet.ts":
/*!**************************************!*\
  !*** ./src/app/util/UnionFindSet.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UnionFindSet": () => (/* binding */ UnionFindSet)
/* harmony export */ });
class UnionFindSet {
    constructor(length) {
        this.parents = new Array(length);
        this.ranks = new Array(length);
        for (let i = 0; i < length; i++) {
            this.parents[i] = i;
            this.ranks[i] = 1;
        }
    }
    find(x) {
        /*
        Path splitting:

        while x.parent ≠ x do
            (x, x.parent) := (x.parent, x.parent.parent)
        end while
        return x
        */
        let parent = this.parents[x];
        while (parent !== x) {
            const newpar = this.parents[parent];
            this.parents[x] = this.parents[newpar];
            x = parent;
            parent = newpar;
        }
        return parent;
    }
    union(a, b) {
        a = this.find(a);
        b = this.find(b);
        if (a == b) {
            return -1;
        }
        let arank = this.ranks[a];
        let brank = this.ranks[b];
        if (arank < brank) {
            [a, b] = [b, a];
            // Do not swap ranks, we will not use their ordering later
        }
        this.parents[b] = a;
        if (arank === brank) {
            this.ranks[a] += 1;
        }
        return a;
    }
}


/***/ }),

/***/ "./src/app/util/array.ts":
/*!*******************************!*\
  !*** ./src/app/util/array.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arrayRemoveElem": () => (/* binding */ arrayRemoveElem),
/* harmony export */   "arrayFilterInPlace": () => (/* binding */ arrayFilterInPlace),
/* harmony export */   "arrayRandomElement": () => (/* binding */ arrayRandomElement)
/* harmony export */ });
function arrayRemoveElem(arr, elem) {
    let index = arr.indexOf(elem);
    if (index !== -1)
        arr.splice(index, 1);
    return index !== -1;
}
function arrayFilterInPlace(a, condition) {
    let i = 0, j = 0;
    while (i < a.length) {
        const val = a[i];
        if (condition(val))
            a[j++] = val;
        i++;
    }
    a.length = j;
    return a;
}
function arrayRandomElement(a) {
    return a[Math.floor(Math.random() * a.length)];
}


/***/ }),

/***/ "./src/app/util/binaryHeap.ts":
/*!************************************!*\
  !*** ./src/app/util/binaryHeap.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinaryHeap": () => (/* binding */ BinaryHeap)
/* harmony export */ });
// Binary heap implementation from:
// http://eloquentjavascript.net/appendix2.html
class BinaryHeap {
    constructor(cmpLt) {
        this.content = new Array();
        this.elemMap = new Map();
        this.cmpLt = cmpLt;
    }
    push(element) {
        // Add the new element to the end of the array.
        this.elemMap.set(element, this.content.length);
        this.content.push(element);
        // Allow it to bubble up.
        this.bubbleUp(this.content.length - 1);
    }
    pop() {
        if (this.content.length === 0)
            return undefined;
        // Store the first element so we can return it later.
        let result = this.content[0];
        this.elemMap.delete(result);
        // Get the element at the end of the array.
        let end = this.content.pop();
        // If there are any elements left, put the end element at the
        // start, and let it sink down.
        if (this.content.length !== 0) {
            this.content[0] = end;
            this.elemMap.set(end, 0);
            this.sinkDown(0);
        }
        return result;
    }
    popElem(e) {
        let index = this.elemMap.get(e);
        if (index === undefined)
            return;
        this.elemMap.delete(e);
        let end = this.content.pop();
        if (index === this.content.length)
            return;
        this.content[index] = end;
        this.elemMap.set(end, index);
        this.sinkDown(index);
        this.bubbleUp(index); // Fix, some systems where a < b. b < c => a < c is not maintained
    }
    hasElem(e) {
        return this.elemMap.has(e);
    }
    peek() {
        return this.content[0];
    }
    size() {
        return this.content.length;
    }
    bubbleUp(n) {
        // Fetch the element that has to be moved.
        let element = this.content[n];
        // When at 0, an element can not go up any further.
        while (n > 0) {
            // Compute the parent element's index, and fetch it.
            let parentN = Math.floor((n + 1) / 2) - 1;
            let parent = this.content[parentN];
            // Swap the elements if the parent is greater.
            if (this.cmpLt(element, parent)) {
                this.content[parentN] = element;
                this.content[n] = parent;
                this.elemMap.set(element, parentN);
                this.elemMap.set(parent, n);
                // Update 'n' to continue at the new position.
                n = parentN;
            }
            // Found a parent that is less, no need to move it further.
            else {
                break;
            }
        }
    }
    sinkDown(n) {
        // Look up the target element and its score.
        let length = this.content.length;
        let element = this.content[n];
        while (true) {
            // Compute the indices of the child elements.
            let child2N = (n + 1) * 2, child1N = child2N - 1;
            // This is used to store the new position of the element,
            // if any.
            let swap = null;
            let child1 = undefined;
            // If the first child exists (is inside the array)...
            if (child1N < length) {
                // Look it up and compute its score.
                child1 = this.content[child1N];
                // If the score is less than our element's, we need to swap.
                if (this.cmpLt(child1, element))
                    swap = child1N;
            }
            // Do the same checks for the other child.
            if (child2N < length) {
                let child2 = this.content[child2N];
                if (this.cmpLt(child2, swap == null ? element : child1)) {
                    swap = child2N;
                }
            }
            // If the element needs to be moved, swap it, and continue.
            if (swap != null) {
                this.content[n] = this.content[swap];
                this.content[swap] = element;
                this.elemMap.set(this.content[n], n);
                this.elemMap.set(element, swap);
                n = swap;
            }
            // Otherwise, we are done.
            else {
                break;
            }
        }
    }
}


/***/ }),

/***/ "./src/app/util/bitSet.ts":
/*!********************************!*\
  !*** ./src/app/util/bitSet.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitSet": () => (/* binding */ BitSet)
/* harmony export */ });
/**
 * Basic BitSet
 */
class BitSet {
    constructor(data) {
        if (typeof data === 'number') {
            this.data = new Uint32Array(Math.ceil(length / 32));
        }
        else if (data.BYTES_PER_ELEMENT === 4) {
            this.data = data;
        }
        else {
            let len = Math.floor(data.byteLength / Uint32Array.BYTES_PER_ELEMENT);
            this.data = new Uint32Array(data.buffer, data.byteOffset, len);
        }
    }
    get size() {
        return this.data.length << 5;
    }
    get(i) {
        i |= 0;
        let wi = i >>> 5;
        if (wi >= this.data.length)
            return false;
        let b = this.data[wi];
        return !!((b >>> i) & 1);
    }
    ensureCapacity(wi) {
        let newLen = this.data.length;
        while (newLen < wi)
            newLen *= 2;
        if (newLen === this.data.length)
            return;
        let newData = new Uint32Array(newLen);
        newData.set(this.data);
        this.data = newData;
    }
    set(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] |= 1 << i;
    }
    reset(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] &= ~(1 << i);
    }
    isAll(target, until) {
        let t = 0;
        if (target) {
            t = 0xFFFFFFFF;
        }
        let loopLast = until === undefined ? this.data.length : (until >>> 5);
        for (let i = 0; i < loopLast; i++) {
            if (this.data[i] !== t)
                return false;
        }
        if (until === undefined)
            return true;
        let i = ((until - 1) >> 5) + 1;
        let il = until & 0x1F;
        let mask = (1 << il) - 1;
        let d = this.data[i];
        if (target) {
            d = ~d;
        }
        return (d & mask) === 0;
    }
}


/***/ }),

/***/ "./src/app/util/eventEmitterWrapper.ts":
/*!*********************************************!*\
  !*** ./src/app/util/eventEmitterWrapper.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventEmitterWrapper": () => (/* binding */ EventEmitterWrapper)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class EventEmitterWrapper extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__ {
    constructor(catcher) {
        super();
        this.caught = new Set();
        this.catcher = catcher;
    }
    catchEvent(event) {
        this.catcher(event, this);
        this.caught.add(event);
    }
    on(event, fn, context) {
        super.on(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
    addListener(event, fn, context) {
        super.addListener(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/util/geometry.ts":
/*!**********************************!*\
  !*** ./src/app/util/geometry.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "polygonPointIntersect": () => (/* binding */ polygonPointIntersect),
/* harmony export */   "aabbAabbIntersect": () => (/* binding */ aabbAabbIntersect),
/* harmony export */   "distSquared2d": () => (/* binding */ distSquared2d),
/* harmony export */   "projectPointOnSegment": () => (/* binding */ projectPointOnSegment),
/* harmony export */   "intersectLineVsLine": () => (/* binding */ intersectLineVsLine),
/* harmony export */   "aabbSameOriginDifference": () => (/* binding */ aabbSameOriginDifference)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

function polygonPointIntersect(point, polygon) {
    const x = point.x;
    const y = point.y;
    let inside = false;
    // use some raycasting to test hits
    // https://github.com/substack/point-in-polygon/blob/master/index.js
    const length = polygon.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
        const xi = polygon[i * 2];
        const yi = polygon[(i * 2) + 1];
        const xj = polygon[j * 2];
        const yj = polygon[(j * 2) + 1];
        const intersect = ((yi > y) !== (yj > y)) && (x < ((xj - xi) * ((y - yi) / (yj - yi))) + xi);
        if (intersect) {
            inside = !inside;
        }
    }
    return inside;
}
function aabbAabbIntersect(al, at, ar, ab, bl, bt, br, bb) {
    return al < br && ar > bl && at < bb && ab > bt;
}
function distSquared2d(x1, y1, x2, y2) {
    let x = x1 - x2;
    let y = y1 - y2;
    return x * x + y * y;
}
function projectPointOnSegment(ax, ay, bx, by, px, py) {
    if (ax == bx && ay == ay)
        ax -= 0.00001;
    let u = ((px - ax) * (bx - ax)) + ((py - ay) * (by - ay));
    let udenom = Math.pow(bx - ax, 2) + Math.pow(by - ay, 2);
    u /= udenom;
    let rx = ax + (u * (bx - ax));
    let ry = ay + (u * (by - ay));
    let minx, maxx, miny, maxy;
    minx = Math.min(ax, bx);
    maxx = Math.max(ax, bx);
    miny = Math.min(ay, by);
    maxy = Math.max(ay, by);
    let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
    return isValid ? [rx, ry] : undefined;
}
function intersectLineVsLine(a1, a2, b1, b2, target) {
    let dbx = b2.x - b1.x;
    let dby = b2.y - b1.y;
    let dax = a2.x - a1.x;
    let day = a2.y - a1.y;
    let u_b = dby * dax - dbx * day;
    if (u_b == 0) {
        return false;
    }
    let ua = (dbx * (a1.y - b1.y) - dby * (a1.x - b1.x)) / u_b;
    if (target !== undefined) {
        target.set(a1.x - ua * -dax, a1.y - ua * -day);
    }
    return true;
}
function aabbSameOriginDifference(orig, last, now, added, removed) {
    let xAct = 0;
    if (now.x != last.x) {
        let xBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(now.x, orig.y, last.x, last.y);
        let add = (now.x > last.x) == (orig.x < now.x);
        if (add) {
            xAct = 1;
            added.push(xBox);
        }
        else {
            xAct = -1;
            removed.push(xBox);
        }
    }
    let yAct = 0;
    if (now.y != last.y) {
        let yBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(orig.x, last.y, last.x, now.y);
        let add = (now.y > last.y) == (orig.y < last.y);
        if (add) {
            yAct = 1;
            added.push(yBox);
        }
        else {
            yAct = -1;
            removed.push(yBox);
        }
    }
    if (xAct == yAct) {
        let box = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(last.x, last.y, now.x, now.y);
        if (xAct > 0) {
            added.push(box);
        }
        else {
            removed.push(box);
        }
    }
}


/***/ }),

/***/ "./src/app/util/jsobj.ts":
/*!*******************************!*\
  !*** ./src/app/util/jsobj.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "objectMerge": () => (/* binding */ objectMerge),
/* harmony export */   "objectFilterInplace": () => (/* binding */ objectFilterInplace),
/* harmony export */   "objectClone": () => (/* binding */ objectClone),
/* harmony export */   "randombytes": () => (/* binding */ randombytes),
/* harmony export */   "bufferToBase64Url": () => (/* binding */ bufferToBase64Url),
/* harmony export */   "base64UrlToBuffer": () => (/* binding */ base64UrlToBuffer)
/* harmony export */ });
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");


function objectMerge(to, from) {
    for (let i in from) {
        to[i] = from[i];
    }
}
function objectFilterInplace(x, filter) {
    for (let name in x) {
        if (!filter(name, x[name])) {
            delete x[name];
        }
    }
}
function objectClone(obj) {
    // Yes, really, thanks js.
    return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_1__.decode)((0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(obj));
    //return JSON.parse(JSON.stringify(obj));
}
function randombytes(num) {
    let buffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.allocUnsafe(num);
    crypto.getRandomValues(buffer);
    return buffer;
}
// base 64
function bufferToBase64Url(input) {
    return input.toString("base64")
        .replace(/=/g, "")
        .replace(/\+/g, "-")
        .replace(/\//g, "_");
}
;
function base64UrlToBuffer(base64url) {
    const base64 = b64PadString(base64url)
        .replace(/\-/g, "+")
        .replace(/_/g, "/");
    return buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(base64, "base64");
}
function b64PadString(input) {
    let segmentLength = 4;
    let stringLength = input.length;
    let diff = stringLength % segmentLength;
    if (!diff) {
        return input;
    }
    let position = stringLength;
    let padLength = segmentLength - diff;
    let paddedStringLength = stringLength + padLength;
    let buffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.alloc(paddedStringLength);
    buffer.write(input);
    while (padLength--) {
        buffer.write("=", position++);
    }
    return buffer.toString();
}


/***/ }),

/***/ "./src/app/util/k2dTree.ts":
/*!*********************************!*\
  !*** ./src/app/util/k2dTree.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K2dTree": () => (/* binding */ K2dTree)
/* harmony export */ });
class Node {
    constructor(point, parent, dimension) {
        this.left = undefined;
        this.right = undefined;
        this.point = point;
        this.parent = parent;
        this.dimension = dimension;
    }
}
class K2dTree {
    constructor() {
        this.root = undefined;
    }
    distance(a, b) {
        let dx = a[0] - b[0];
        let dy = a[1] - b[1];
        return dx * dx + dy * dy;
    }
    lastSearch(point, node, parent) {
        while (node !== undefined) {
            parent = node;
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return parent;
    }
    nodeSearch(point) {
        let node = this.root;
        while (node !== undefined) {
            if (point[0] === node.point[0] && point[1] === node.point[1]) {
                return node;
            }
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return undefined;
    }
    insert(point) {
        let insertPosition = this.lastSearch(point, this.root, undefined);
        if (insertPosition === undefined) {
            this.root = new Node(point, undefined, 0);
            return;
        }
        let newNode = new Node(point, insertPosition, (insertPosition.dimension + 1) & 1);
        let dimension = insertPosition.dimension;
        if (point[dimension] < insertPosition.point[dimension]) {
            insertPosition.left = newNode;
        }
        else {
            insertPosition.right = newNode;
        }
    }
    findMin(node, dim) {
        if (node === undefined) {
            return undefined;
        }
        if (node.dimension === dim) {
            if (node.left !== undefined) {
                return this.findMin(node.left, dim);
            }
            return node;
        }
        let own = node.point[dim];
        let left = this.findMin(node.left, dim);
        let right = this.findMin(node.right, dim);
        let min = node;
        if (left !== undefined && left.point[dim] < own) {
            min = left;
        }
        if (right !== undefined && right.point[dim] < min.point[dim]) {
            min = right;
        }
        return min;
    }
    removeNode(node) {
        if (node.left === undefined && node.right === undefined) {
            if (node.parent === undefined) {
                this.root = undefined;
                return;
            }
            let dim = node.parent.dimension;
            if (node.point[dim] < node.parent.point[dim]) {
                node.parent.left = undefined;
            }
            else {
                node.parent.right = undefined;
            }
            return;
        }
        // If the right subtree is not empty, swap with the minimum element on the
        // node's dimension. If it is empty, we swap the left and right subtrees and
        // do the same.
        if (node.right !== undefined) {
            let nextNode = this.findMin(node.right, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.point = nextPoint;
        }
        else {
            let nextNode = this.findMin(node.left, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.right = node.left;
            node.left = undefined;
            node.point = nextPoint;
        }
    }
    remove(point) {
        let node = this.nodeSearch(point);
        if (node === undefined)
            return false;
        this.removeNode(node);
        return true;
    }
    nearestPoint(point, root) {
        root = root || this.root;
        if (root === undefined)
            return undefined;
        let ownDistance = this.distance(root.point, point);
        if (root.left === undefined && root.right === undefined) {
            return [root.point, ownDistance];
        }
        let bestChild;
        if (root.right === undefined) {
            bestChild = root.left;
        }
        else if (root.left === undefined) {
            bestChild = root.right;
        }
        else {
            if (point[root.dimension] < root.point[root.dimension]) {
                bestChild = root.left;
            }
            else {
                bestChild = root.right;
            }
        }
        let [bestChildNode, bestChildDist] = this.nearestPoint(point, bestChild);
        let bestNode;
        let bestDist;
        if (bestChildDist < ownDistance) {
            bestNode = bestChildNode;
            bestDist = bestChildDist;
        }
        else {
            bestNode = root.point;
            bestDist = ownDistance;
        }
        // Searched point projected to our axis
        let linearPoint = [point[0], point[1]];
        linearPoint[root.dimension] = root.point[root.dimension];
        let linearDist = this.distance(linearPoint, point);
        if (linearDist < bestDist) {
            let otherChild;
            if (bestChild === root.left) {
                otherChild = root.right;
            }
            else {
                otherChild = root.left;
            }
            if (otherChild !== undefined) {
                let [otherNode, otherDist] = this.nearestPoint(point, otherChild);
                if (otherDist < bestDist) {
                    bestNode = otherNode;
                    bestDist = otherDist;
                }
            }
        }
        return [bestNode, bestDist];
    }
}


/***/ }),

/***/ "./src/app/util/pixi.ts":
/*!******************************!*\
  !*** ./src/app/util/pixi.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DESTROY_ALL": () => (/* binding */ DESTROY_ALL),
/* harmony export */   "DESTROY_MIN": () => (/* binding */ DESTROY_MIN),
/* harmony export */   "loadTexture": () => (/* binding */ loadTexture),
/* harmony export */   "CUSTOM_BLEND_MODES": () => (/* binding */ CUSTOM_BLEND_MODES),
/* harmony export */   "addCustomBlendModes": () => (/* binding */ addCustomBlendModes)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");
/* provided dependency */ var Buffer = __webpack_require__(/*! ./node_modules/buffer/index.js */ "./node_modules/buffer/index.js")["Buffer"];

const DESTROY_ALL = {
    children: true,
    texture: true,
    baseTexture: true,
};
const DESTROY_MIN = {
    children: false,
    texture: false,
    baseTexture: false,
};
const ALLOWED_IMAGETYPES = ['jpeg', 'png', 'x-jg', 'bmp', 'x-icon', 'ief', 'pjpeg', 'x-portable-bitmap', 'x-rgb', 'tiff', 'x-tiff'];
function validateImageMimeType(type) {
    if (!type.startsWith('image/'))
        throw new Error('Invalid type: it should be an image');
    if (ALLOWED_IMAGETYPES.indexOf(type.substr('image/'.length)) < 0)
        throw new Error('Unsupported image type');
}
function loadTexture(data, dataType) {
    validateImageMimeType(dataType);
    let b64 = 'data:' + dataType + ';base64,' + Buffer.from(data).toString('base64');
    return new Promise((resolve, reject) => {
        let image = new Image();
        image.onload = () => {
            const tex = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].BaseTexture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].resources.ImageResource(image)));
            resolve(tex);
        };
        image.onerror = reject;
        image.src = b64;
    });
}
var CUSTOM_BLEND_MODES;
(function (CUSTOM_BLEND_MODES) {
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["MULTIPLY_COLOR_ONLY"] = 30] = "MULTIPLY_COLOR_ONLY";
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["ADD_WHERE_ALPHA_1"] = 31] = "ADD_WHERE_ALPHA_1";
})(CUSTOM_BLEND_MODES || (CUSTOM_BLEND_MODES = {}));
function addCustomBlendModes(renderer) {
    let gl = renderer.gl;
    let array = renderer.state.blendModes;
    array[CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY] = [gl.DST_COLOR, gl.ZERO, gl.ONE, gl.ZERO];
    array[CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1] = [gl.DST_ALPHA, gl.ONE, gl.ZERO, gl.ONE];
}


/***/ }),

/***/ "./src/app/util/safeEventEmitter.ts":
/*!******************************************!*\
  !*** ./src/app/util/safeEventEmitter.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PRIORITY_DISABLED": () => (/* binding */ PRIORITY_DISABLED),
/* harmony export */   "default": () => (/* binding */ SafeEventEmitter)
/* harmony export */ });
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
const PRIORITY_DISABLED = -Infinity;
class SafeEventEmitter {
    constructor() {
        this.events = {};
        this.children = [];
    }
    emit(event, ...args) {
        let received = false;
        for (let c of this.children) {
            let x = c.emit(event, ...args);
            received || (received = x);
        }
        let listeners = this.events[event];
        if (listeners === undefined || listeners.length === 0)
            return received;
        let length = listeners.length;
        for (let i = 0; i < length;) {
            let listener = listeners[i];
            if (listener.priority === PRIORITY_DISABLED) {
                i++;
                continue;
            }
            try {
                listener.cb.call(listener.self, ...args);
            }
            catch (b) {
                console.error("Error while calling event " + event);
                console.error(b);
            }
            if (listener.once) {
                listeners.splice(i, 1);
                length--;
            }
            else {
                i++;
            }
        }
        return true;
    }
    insertHandler(event, handler) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [handler];
            this.events[event] = listeners;
            return;
        }
        let i = listeners.length - 1;
        for (; i >= 0; i--) {
            if (listeners[i].priority >= handler.priority)
                break;
        }
        // Add at position
        listeners.splice(i, 0, handler);
    }
    /**
     * Add a listener for a given event.
     */
    on(event, fn, context, priority = 0) {
        this.insertHandler(event, {
            cb: fn,
            self: context,
            once: false,
            priority,
        });
        return this;
    }
    /**
     * Add a one-time listener for a given event.
     */
    once(event, fn, context) {
        this.insertHandler(event, {
            cb: fn,
            self: context,
            once: true,
        });
        return this;
    }
    /**
     * Remove the listeners of a given event.
     */
    off(event, fn, context, once) {
        let listeners = this.events[event];
        if (listeners === undefined)
            throw new Error('Cannot find event ' + event);
        let length = listeners.length;
        for (let i = 0; i < length; i++) {
            let listener = listeners[i];
            if (listener.cb === fn && listener.self === context) {
                listeners.splice(i, 1);
                return this;
            }
        }
        throw new Error('Cannot find event ' + event);
    }
    /**
     * Remove all listeners, or those of the specified event.
     */
    removeAllListeners(event) {
        if (event !== undefined) {
            this.events[event] = [];
        }
        else {
            this.events = {};
        }
        return this;
    }
    reorderObjects(priorityList, defaultPriority = -1) {
        for (let name in this.events) {
            const listeners = this.events[name];
            for (let listener of listeners) {
                listener.priority = priorityList.indexOf(listener.self);
                if (listener.priority < 0)
                    listener.priority = defaultPriority;
            }
            // decrescent order
            listeners.sort((a, b) => b.priority - a.priority);
        }
    }
    addChild(emitter) {
        this.children.push(emitter);
    }
    removeChild(emitter) {
        let index = this.children.indexOf(emitter);
        if (index >= 0)
            this.children.splice(index, 1);
    }
}


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=template&id=03d324d6& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&");
/* harmony import */ var _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
/* harmony import */ var _compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.render,
  _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/compWrapper.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=template&id=5efd7016& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&");
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsBackgroundImage.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=template&id=1862e8b5& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&");
/* harmony import */ var _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsDoor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue":
/*!*************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=template&id=724e011f& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&");
/* harmony import */ var _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsLight.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue?vue&type=template&id=3e768912& */ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&");
/* harmony import */ var _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsName.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsName.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=template&id=2effb2f9& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&");
/* harmony import */ var _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
/* harmony import */ var _ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsNote.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue":
/*!***********************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=template&id=26d88e5e& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&");
/* harmony import */ var _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPin.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue":
/*!**************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=template&id=636ceea8& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&");
/* harmony import */ var _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPlayer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=template&id=e81e4da0& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&");
/* harmony import */ var _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPosition.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=template&id=d4f0f42c& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&");
/* harmony import */ var _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsProp.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue":
/*!********************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");
/* harmony import */ var _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "08b2d1b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPropTeleport.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue":
/*!*****************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=template&id=4ee87bf5& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&");
/* harmony import */ var _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsTransform.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=template&id=37e22e5e& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&");
/* harmony import */ var _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsWall.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue":
/*!******************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=template&id=c407dbfa& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&");
/* harmony import */ var _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
/* harmony import */ var _entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.render,
  _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/entityInspect.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/creationOptions.vue":
/*!*********************************************!*\
  !*** ./src/app/ui/edit/creationOptions.vue ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./creationOptions.vue?vue&type=template&id=5d73769e& */ "./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&");
/* harmony import */ var _creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./creationOptions.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.render,
  _creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/creationOptions.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/editMap.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMap.vue?vue&type=template&id=53b46051& */ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&");
/* harmony import */ var _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editMap.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editMap.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.render,
  _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/editMap.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue":
/*!**************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=template&id=69e6e221& */ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");
/* harmony import */ var _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/gridEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lightSettingsEdit.vue?vue&type=template&id=52a50522& */ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&");
/* harmony import */ var _lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lightSettingsEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.render,
  _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/lightSettingsEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/reconnectionModal.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/edit/reconnectionModal.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reconnectionModal.vue?vue&type=template&id=4d4c0f7b& */ "./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&");
/* harmony import */ var _reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reconnectionModal.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.render,
  _reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/reconnectionModal.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sideBar.vue?vue&type=template&id=075598ca& */ "./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&");
/* harmony import */ var _sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sideBar.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&");
/* harmony import */ var _sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sideBar.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.render,
  _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/sideBar.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolBar.vue?vue&type=template&id=fde8e78c& */ "./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&");
/* harmony import */ var _toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolBar.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&");
/* harmony import */ var _toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolBar.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.render,
  _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/toolBar.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/footer.vue":
/*!*******************************!*\
  !*** ./src/app/ui/footer.vue ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer.vue?vue&type=template&id=539f2bff& */ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&");
/* harmony import */ var _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./footer.vue?vue&type=script&lang=ts& */ "./src/app/ui/footer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./footer.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.render,
  _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/footer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/home.vue":
/*!**********************************!*\
  !*** ./src/app/ui/home/home.vue ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=d8550b4a& */ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");
/* harmony import */ var _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=ts& */ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
/* harmony import */ var _home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render,
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/home.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue":
/*!**************************************!*\
  !*** ./src/app/ui/home/mapInput.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapInput.vue?vue&type=template&id=7e9d406c& */ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&");
/* harmony import */ var _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue?vue&type=script&lang=js& */ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.render,
  _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/mapInput.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    name: "mapInput",
    data() {
        return {
            file: null,
        }
    },
    methods: {
        onDrop: function (event) {

        },
        hideModal: function (event) {
          this.$emit("close");
        }
    }
});


/***/ }),

/***/ "./src/app/ui/icons/hexagonIcon.vue":
/*!******************************************!*\
  !*** ./src/app/ui/icons/hexagonIcon.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hexagonIcon.vue?vue&type=template&id=7c718f10& */ "./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&");
/* harmony import */ var _hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hexagonIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.render,
  _hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/hexagonIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue":
/*!*********************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mouseTrailIcon.vue?vue&type=template&id=5673bb73& */ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&");
/* harmony import */ var _mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mouseTrailIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.render,
  _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/mouseTrailIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue":
/*!***************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wallIcon.vue?vue&type=template&id=15dccc9c& */ "./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&");
/* harmony import */ var _wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wallIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.render,
  _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/wallIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/loading/loading.vue":
/*!****************************************!*\
  !*** ./src/app/ui/loading/loading.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=b10af496& */ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");
/* harmony import */ var _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.vue?vue&type=script&lang=ts& */ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableColor.vue":
/*!*******************************************!*\
  !*** ./src/app/ui/util/editableColor.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableColor.vue?vue&type=template&id=b8ad6e14& */ "./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&");
/* harmony import */ var _editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableColor.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editableColor.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableColor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue":
/*!********************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableNumber.vue?vue&type=template&id=6fe10046& */ "./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&");
/* harmony import */ var _editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableNumber.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableNumber.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableText.vue":
/*!******************************************!*\
  !*** ./src/app/ui/util/editableText.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableText.vue?vue&type=template&id=c769652c& */ "./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&");
/* harmony import */ var _editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableText.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editableText.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableText.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creationOptions.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lightSettingsEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reconnectionModal.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!********************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!***********************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hexagonIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouseTrailIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&":
/*!****************************************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts& ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&":
/*!********************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableNumber.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=template&id=03d324d6& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=template&id=5efd7016& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=template&id=1862e8b5& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&":
/*!********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=template&id=724e011f& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=template&id=3e768912& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=template&id=2effb2f9& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=template&id=26d88e5e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=template&id=636ceea8& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=template&id=e81e4da0& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=template&id=d4f0f42c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!***************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=template&id=4ee87bf5& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=template&id=37e22e5e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&");


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=template&id=c407dbfa& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&");


/***/ }),

/***/ "./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creationOptions.vue?vue&type=template&id=5d73769e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&");


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=template&id=53b46051& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&");


/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=template&id=69e6e221& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");


/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lightSettingsEdit.vue?vue&type=template&id=52a50522& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&");


/***/ }),

/***/ "./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reconnectionModal.vue?vue&type=template&id=4d4c0f7b& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&");


/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=template&id=075598ca& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&");


/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=template&id=fde8e78c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&");


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&":
/*!**************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=template&id=539f2bff& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=template&id=539f2bff& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&");


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=template&id=d8550b4a& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");


/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=script&lang=js& */ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=template&id=7e9d406c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&");


/***/ }),

/***/ "./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hexagonIcon.vue?vue&type=template&id=7c718f10& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&");


/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouseTrailIcon.vue?vue&type=template&id=5673bb73& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&");


/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallIcon.vue?vue&type=template&id=15dccc9c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&");


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=b10af496& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");


/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&":
/*!**************************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=template&id=b8ad6e14& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&");


/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableNumber.vue?vue&type=template&id=6fe10046& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&");


/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=template&id=c769652c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&");


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", [
        _c(
          "div",
          { staticClass: "cwrapper_component-header" },
          [
            _c(
              "div",
              {
                on: {
                  click: function ($event) {
                    _vm.visible = !_vm.visible
                  },
                },
              },
              [_vm._v(" " + _vm._s(_vm.component.typeName))]
            ),
            _vm._v(" "),
            _c("div", {
              staticClass: "cwrapper_component-arrow",
              class: { cwrapper_rotate: _vm.visible },
            }),
            _vm._v(" "),
            _c("div", { staticStyle: { width: "100%" } }),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component.clientVisible !== undefined,
                        expression: "component.clientVisible !== undefined",
                      },
                    ],
                    staticStyle: { display: "grid" },
                    attrs: {
                      squared: "",
                      size: "sm",
                      title: _vm.component.clientVisible
                        ? "Hide component"
                        : "Show component",
                    },
                    on: {
                      click: function ($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          _vm.component.type,
                          "clientVisible",
                          !_vm.component.clientVisible,
                          _vm.component.multiId
                        )
                      },
                    },
                  },
                  [
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: _vm.component.clientVisible,
                            expression: "component.clientVisible",
                          },
                        ],
                        staticClass: "g11",
                      },
                      [_c("i", { staticClass: "fas fa-eye" })]
                    ),
                    _vm._v(" "),
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: !_vm.component.clientVisible,
                            expression: "!component.clientVisible",
                          },
                        ],
                        staticClass: "g11",
                      },
                      [_c("i", { staticClass: "fas fa-eye-slash" })]
                    ),
                  ]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._isFullscreen !== undefined,
                        expression: "component._isFullscreen !== undefined",
                      },
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "primary",
                      title: "Fullscreen",
                    },
                    on: {
                      click: function ($event) {
                        _vm.component._isFullscreen = true
                      },
                    },
                  },
                  [_c("i", { staticClass: "fas fa-expand" })]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._canDelete,
                        expression: "component._canDelete",
                      },
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "danger",
                      title: "Delete",
                    },
                    on: {
                      click: function ($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          "$",
                          "removeComponent",
                          _vm.component.type,
                          _vm.component.multiId
                        )
                      },
                    },
                  },
                  [_c("i", { staticClass: "fas fa-trash" })]
                )
              : _vm._e(),
          ],
          1
        ),
      ]),
      _vm._v(" "),
      _c(
        "b-collapse",
        {
          staticClass: "cwrapper_component-body",
          attrs: { visible: "" },
          model: {
            value: _vm.visible,
            callback: function ($$v) {
              _vm.visible = $$v
            },
            expression: "visible",
          },
        },
        [
          _c(_vm.componentType, {
            tag: "component",
            attrs: { component: _vm.component, isAdmin: _vm.isAdmin },
            on: {
              "ecs-property-change": function ($event) {
                return _vm.$emit(
                  "ecs-property-change",
                  arguments[0],
                  arguments[1],
                  arguments[2],
                  arguments[3]
                )
              },
            },
          }),
        ],
        1
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("span", [_vm._v("Your regular background image")])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Type:\n    "),
        !_vm.isAdmin
          ? _c("span", [
              _vm._v("\n      " + _vm._s(this.doorTypeName) + "\n    "),
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-form-select",
              {
                staticClass: "mb-3",
                model: {
                  value: _vm.doorType,
                  callback: function ($$v) {
                    _vm.doorType = $$v
                  },
                  expression: "doorType",
                },
              },
              [
                _c("b-form-select-option", { attrs: { value: "normall" } }, [
                  _vm._v("Normal"),
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "normalr" } }, [
                  _vm._v("Normal right"),
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "rotate" } }, [
                  _vm._v("Rotating"),
                ]),
              ],
              1
            )
          : _vm._e(),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        !_vm.isAdmin
          ? _c("span", [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))])
          : _vm._e(),
        _vm._v(" "),
        !_vm.isAdmin
          ? _c(
              "span",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: this.locked,
                    expression: "this.locked",
                  },
                ],
                staticStyle: { "margin-left": "0.5rem" },
              },
              [_c("i", { staticClass: "fas fa-lock" })]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.open },
                on: {
                  "update:pressed": function ($event) {
                    _vm.open = $event
                  },
                },
              },
              [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.locked },
                on: {
                  "update:pressed": function ($event) {
                    _vm.locked = $event
                  },
                },
              },
              [
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.locked,
                        expression: "locked",
                      },
                    ],
                  },
                  [_c("i", { staticClass: "fas fa-lock" })]
                ),
                _vm._v(" "),
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: !_vm.locked,
                        expression: "!locked",
                      },
                    ],
                  },
                  [_c("i", { staticClass: "fas fa-lock-open" })]
                ),
              ]
            )
          : _vm._e(),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Color:\n    "),
        _c("editable-color", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.color,
            callback: function ($$v) {
              _vm.color = $$v
            },
            expression: "color",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range:\n    "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin, isNegative: "false" },
          on: { change: _vm.onChange },
          model: {
            value: _vm.range,
            callback: function ($$v) {
              _vm.range = $$v
            },
            expression: "range",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("editable-text", {
    attrs: { readonly: !_vm.isAdmin, placeholder: "Entity name" },
    on: { change: _vm.onChange },
    model: {
      value: _vm.component.name,
      callback: function ($$v) {
        _vm.$set(_vm.component, "name", $$v)
      },
      expression: "component.name",
    },
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("b-textarea", {
        staticClass: "hprior ecs-note_textarea",
        attrs: {
          placeholder: "Write something here...",
          readonly: !_vm.isAdmin,
        },
        on: { change: _vm.onChange },
        model: {
          value: _vm.note,
          callback: function ($$v) {
            _vm.note = $$v
          },
          expression: "note",
        },
      }),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          attrs: {
            title: "Note",
            "hide-footer": "",
            "hide-header": "",
            "dialog-class": "modal-fullscreen modal-xxl",
            "content-class": "modal-content-dark",
          },
          scopedSlots: _vm._u([
            {
              key: "modal-footer",
              fn: function () {
                return undefined
              },
              proxy: true,
            },
          ]),
          model: {
            value: _vm.component._isFullscreen,
            callback: function ($$v) {
              _vm.$set(_vm.component, "_isFullscreen", $$v)
            },
            expression: "component._isFullscreen",
          },
        },
        [
          _c("b-textarea", {
            staticClass: "hprior ecs-note_textarea",
            staticStyle: { height: "100%", resize: "none" },
            attrs: {
              placeholder: "Write something here...",
              readonly: !_vm.isAdmin,
            },
            on: { change: _vm.onChange },
            model: {
              value: _vm.note,
              callback: function ($$v) {
                _vm.note = $$v
              },
              expression: "note",
            },
          }),
        ],
        1
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e& ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm.isAdmin
        ? [
            _c(
              "div",
              { staticClass: "d-flex align-items-center" },
              [
                _vm._v("\n      Color:\n      "),
                _c("editable-color", {
                  attrs: { readonly: !_vm.isAdmin },
                  on: { change: _vm.onChange },
                  model: {
                    value: _vm.color,
                    callback: function ($$v) {
                      _vm.color = $$v
                    },
                    expression: "color",
                  },
                }),
              ],
              1
            ),
          ]
        : _vm._e(),
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Night vision:\n    "),
        _vm.isAdmin
          ? _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.nightVision,
                callback: function ($$v) {
                  _vm.nightVision = $$v
                },
                expression: "nightVision",
              },
            })
          : _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.nightVision ? "yes" : "no")),
            ]),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range:\n    "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin, isNegative: "false" },
          on: { change: _vm.onChange },
          model: {
            value: _vm.range,
            callback: function ($$v) {
              _vm.range = $$v
            },
            expression: "range",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    X: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.x,
            callback: function ($$v) {
              _vm.x = $$v
            },
            expression: "x",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Y: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.y,
            callback: function ($$v) {
              _vm.y = $$v
            },
            expression: "y",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div")
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", { staticStyle: { display: "flex", "align-items": "center" } }, [
        _vm._v("\n    Target: "),
        _c("span", { on: { click: _vm.focusTarget } }, [
          _vm._v(_vm._s(this.component.targetProp)),
        ]),
      ]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.link } }, [_vm._v("Link")]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.use } }, [_vm._v("Use")]),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5& ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Angle: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.rotation,
            callback: function ($$v) {
              _vm.rotation = $$v
            },
            expression: "rotation",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Scale: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.scale,
            callback: function ($$v) {
              _vm.scale = $$v
            },
            expression: "scale",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    W: "),
        _c("editable-number", {
          attrs: { readonly: !this.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.w,
            callback: function ($$v) {
              _vm.w = $$v
            },
            expression: "w",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    H: "),
        _c("editable-number", {
          attrs: { readonly: !this.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.h,
            callback: function ($$v) {
              _vm.h = $$v
            },
            expression: "h",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      directives: [
        {
          name: "show",
          rawName: "v-show",
          value: _vm.data.components.length > 0,
          expression: "data.components.length > 0",
        },
      ],
    },
    [
      _c(
        "div",
        { staticClass: "entity-inspect_component-btn-header" },
        [
          _vm.world.isMaster
            ? _c(
                "b-dropdown",
                {
                  attrs: { "toggle-class": "rounded-0", variant: "success" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "button-content",
                        fn: function () {
                          return [_c("i", { staticClass: "fas fa-plus" })]
                        },
                        proxy: true,
                      },
                    ],
                    null,
                    false,
                    1774554641
                  ),
                },
                [
                  _vm._v(" "),
                  _vm._l(_vm.data.addable, function (x) {
                    return _c(
                      "b-dropdown-item",
                      {
                        key: x.type,
                        on: {
                          click: function ($event) {
                            return _vm.emitSpecial("addComponent", x.type)
                          },
                        },
                      },
                      [_vm._v("\n        " + _vm._s(x.name) + "\n      ")]
                    )
                  }),
                ],
                2
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  staticStyle: { display: "grid" },
                  attrs: {
                    squared: "",
                    title: _vm.data.hidden ? "Show entity" : "Hide entity",
                  },
                  on: {
                    click: function ($event) {
                      return _vm.emitSpecial("hidden", !_vm.data.hidden)
                    },
                  },
                },
                [
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.data.hidden ? "visible" : "hidden",
                      },
                    },
                    [_c("i", { staticClass: "fas fa-eye-slash" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.data.hidden ? "hidden" : "visible",
                      },
                    },
                    [_c("i", { staticClass: "fas fa-eye" })]
                  ),
                ]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  attrs: {
                    variant: "danger",
                    title: "Delete entity",
                    squared: "",
                  },
                  on: {
                    click: function ($event) {
                      return _vm.emitSpecial("delete")
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-trash" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  attrs: {
                    variand: "danger",
                    title: "Forget entity",
                    squared: "",
                  },
                  on: {
                    click: function ($event) {
                      return _vm.emitSpecial("forget")
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-eraser" })]
              )
            : _vm._e(),
        ],
        1
      ),
      _vm._v(" "),
      _vm._l(_vm.data.components, function (comp) {
        return _c("ecs-component-wrapper", {
          key: comp.type + (comp.multiId || ""),
          attrs: { component: comp, isAdmin: _vm.world.isMaster },
          on: {
            "ecs-property-change": function ($event) {
              return _vm.onEcsPropertyChange(
                arguments[0],
                arguments[1],
                arguments[2],
                arguments[3]
              )
            },
          },
        })
      }),
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e& ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm.visible
    ? _c("section", [
        _c(
          "div",
          { staticStyle: { display: "flex", "align-items": "center" } },
          [
            _vm._v("\n    Create once:\n    "),
            _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.exitAfterCreation,
                callback: function ($$v) {
                  _vm.exitAfterCreation = $$v
                },
                expression: "exitAfterCreation",
              },
            }),
          ],
          1
        ),
      ])
    : _vm._e()
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "edit-map_game" },
    [
      _c("tool-bar", { attrs: { world: _vm.world } }),
      _vm._v(" "),
      _c("div", {
        staticStyle: {
          width: "100%",
          height: "calc(100vh - var(--topbar-height))",
        },
        attrs: { id: "canvas-container" },
      }),
      _vm._v(" "),
      _c("side-bar", { attrs: { world: _vm.world } }),
      _vm._v(" "),
      !_vm.world.isMaster
        ? _c("reconnection-modal", { attrs: { world: _vm.world } })
        : _vm._e(),
      _vm._v(" "),
      _c("a", {
        staticStyle: { display: "none" },
        attrs: { id: "hidden-download-link" },
      }),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm._v("\n  Type:\n  "),
      _c(
        "b-radio-group",
        {
          attrs: { id: "grid-type-radio", buttons: "" },
          model: {
            value: _vm.grid.type,
            callback: function ($$v) {
              _vm.$set(_vm.grid, "type", $$v)
            },
            expression: "grid.type",
          },
        },
        [
          _c("b-radio", { attrs: { value: "none" } }, [
            _c("i", { staticClass: "fas fa-border-none" }),
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "square" } }, [
            _c("i", { staticClass: "far fa-square" }),
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "hex" } }, [_c("hexagon-icon")], 1),
        ],
        1
      ),
      _vm._v(" "),
      _vm.grid.type !== "none"
        ? _c(
            "div",
            [
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Unit:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: { size: "sm" },
                      model: {
                        value: _vm.grid.unit,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "unit", $$v)
                        },
                        expression: "grid.unit",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Size:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "10",
                        max: "512",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.size,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "size", $$v)
                        },
                        expression: "grid.size",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "10", max: "512" },
                model: {
                  value: _vm.grid.size,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "size", $$v)
                  },
                  expression: "grid.size",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Xoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.offX,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "offX", $$v)
                        },
                        expression: "grid.offX",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offX,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "offX", $$v)
                  },
                  expression: "grid.offX",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Yoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.offY,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "offY", $$v)
                        },
                        expression: "grid.offY",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offY,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "offY", $$v)
                  },
                  expression: "grid.offY",
                },
              }),
              _vm._v("\n\n    Color: " + _vm._s(_vm.grid.color) + "\n    "),
              _c("b-input", {
                attrs: { type: "color" },
                model: {
                  value: _vm.grid.color,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "color", $$v)
                  },
                  expression: "grid.color",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Opacity:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.opacity,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "opacity", $$v)
                        },
                        expression: "grid.opacity",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.opacity,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "opacity", $$v)
                  },
                  expression: "grid.opacity",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Thickness:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "1",
                        max: "200",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.thick,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "thick", $$v)
                        },
                        expression: "grid.thick",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "1", max: "200" },
                model: {
                  value: _vm.grid.thick,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "thick", $$v)
                  },
                  expression: "grid.thick",
                },
              }),
            ],
            1
          )
        : _vm._e(),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "px-3 py-2" }, [
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Light:")]),
        _vm._v(" "),
        _c("b-input", {
          attrs: { type: "color", readonly: !_vm.world.isMaster },
          on: { change: _vm.onAmbientLightChange },
          model: {
            value: _vm.ambientLight,
            callback: function ($$v) {
              _vm.ambientLight = $$v
            },
            expression: "ambientLight",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Needs light:")]),
        _vm._v(" "),
        _c("b-form-checkbox", {
          attrs: { readonly: !_vm.world.isMaster },
          on: { input: _vm.onAmbientLightChange },
          model: {
            value: _vm.needsLight,
            callback: function ($$v) {
              _vm.needsLight = $$v
            },
            expression: "needsLight",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Vision type:")]),
        _vm._v(" "),
        _c(
          "b-button",
          {
            attrs: {
              pressed: _vm.roleplayVision,
              readonly: !_vm.world.isMaster,
            },
            on: {
              "update:pressed": function ($event) {
                _vm.roleplayVision = $event
              },
            },
          },
          [
            _vm._v(
              "\n      " +
                _vm._s(_vm.roleplayVision ? "Roleplayer" : "Master") +
                "\n    "
            ),
          ]
        ),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Background:")]),
        _vm._v(" "),
        _c("b-input", {
          attrs: { type: "color", readonly: !_vm.world.isMaster },
          on: { change: _vm.onAmbientLightChange },
          model: {
            value: _vm.background,
            callback: function ($$v) {
              _vm.background = $$v
            },
            expression: "background",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      [
        _c("b-button", { on: { click: _vm.onLightSettingsReset } }, [
          _vm._v("Reset"),
        ]),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    {
      attrs: {
        "no-close-on-backdrop": "",
        "no-close-on-esc": "",
        "hide-header-close": "",
        "header-bg-variant": "dark",
        "header-text-variant": "light",
        "header-class": "border-bottom-0",
        "body-bg-variant": "dark",
        "body-text-variant": "light",
        "footer-bg-variant": "dark",
        "footer-text-variant": "light",
        "footer-class": "border-top-0",
        title: "Connecting...",
      },
      scopedSlots: _vm._u([
        {
          key: "modal-footer",
          fn: function () {
            return [
              _c(
                "b-button",
                {
                  attrs: { size: "sm", variant: "outline-secondary" },
                  on: {
                    click: function ($event) {
                      return _vm.stop()
                    },
                  },
                },
                [_vm._v("\n      Cancel\n    ")]
              ),
            ]
          },
          proxy: true,
        },
      ]),
      model: {
        value: _vm.shouldBeShown,
        callback: function ($$v) {
          _vm.shouldBeShown = $$v
        },
        expression: "shouldBeShown",
      },
    },
    [_vm._v("\n  " + _vm._s(_vm.bodyMessage) + "\n\n  ")]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-sidebar",
    {
      attrs: {
        id: "sidebar-right",
        title: "Sidebar",
        "bg-variant": "dark",
        "text-variant": "light",
        right: "",
        visible: "",
        "no-header": "",
        shadow: "",
        "sidebar-class": "under-navbar",
      },
      scopedSlots: _vm._u([
        {
          key: "footer",
          fn: function () {
            return [
              _c("div", { staticClass: "sidebar-footer" }, [
                _vm._v("\n      " + _vm._s(_vm.trackerCount) + "\n      "),
                _c("div", { staticStyle: { "margin-left": "0.2rem" } }, [
                  _c("i", { staticClass: "fas fa-server" }),
                ]),
                _vm._v("\n      " + _vm._s(_vm.connectionCount) + "\n      "),
                _c(
                  "div",
                  {
                    class: { rotate: _vm.connectionBuffering },
                    staticStyle: { "margin-left": "0.2rem" },
                  },
                  [_c("i", { staticClass: "fas fa-sync-alt" })]
                ),
              ]),
            ]
          },
          proxy: true,
        },
      ]),
    },
    [
      _c("grid-edit", {
        directives: [
          {
            name: "show",
            rawName: "v-show",
            value: _vm.tool === "grid",
            expression: "tool === 'grid'",
          },
        ],
        staticClass: "px-3 py-2",
        attrs: { world: _vm.world },
      }),
      _vm._v(" "),
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.tool === "inspect",
              expression: "tool === 'inspect'",
            },
          ],
        },
        [_c("entity-inspect", { attrs: { world: _vm.world } })],
        1
      ),
      _vm._v(" "),
      _c("light-settings-edit", {
        directives: [
          {
            name: "show",
            rawName: "v-show",
            value: _vm.tool === "light",
            expression: "tool === 'light'",
          },
        ],
        attrs: { world: _vm.world },
      }),
      _vm._v(" "),
      _c("creation-options", {
        staticClass: "px-3 py-2",
        attrs: { world: _vm.world },
      }),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-button-toolbar",
    {
      staticClass: "bg-dark",
      staticStyle: {
        width: "100%",
        height: "var(--topbar-height)",
        "z-index": "1000",
      },
      attrs: { type: "dark", variant: "info", justify: "" },
    },
    [
      _vm.world.isMaster
        ? _c(
            "b-button-group",
            { staticStyle: { "margin-right": "2rem" } },
            [
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn plz-prioritize undo-redo-btn",
                  attrs: {
                    title: "Undo",
                    squared: "",
                    disabled: !this.canUndo,
                  },
                  on: {
                    click: function ($event) {
                      return _vm.undo()
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-undo" })]
              ),
              _vm._v(" "),
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn plz-prioritize undo-redo-btn",
                  attrs: {
                    title: "Redo",
                    squared: "",
                    disabled: !this.canRedo,
                  },
                  on: {
                    click: function ($event) {
                      return _vm.redo()
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-redo" })]
              ),
            ],
            1
          )
        : _vm._e(),
      _vm._v(" "),
      _c(
        "b-radio-group",
        {
          attrs: { buttons: "" },
          model: {
            value: _vm.tool,
            callback: function ($$v) {
              _vm.tool = $$v
            },
            expression: "tool",
          },
        },
        [
          _c(
            "b-radio",
            {
              ref: "radioinspect",
              class: {
                "toolbar-btn": this.backgroundLocked,
                "btn-warning": !this.backgroundLocked,
              },
              attrs: { title: "Inspect", value: "inspect", squared: "" },
            },
            [_c("i", { staticClass: "fas fa-hand-pointer" })]
          ),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Add wall",
                    value: "create_wall",
                    squared: "",
                  },
                },
                [_c("wall-icon")],
                1
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Add prop",
                    value: "create_prop",
                    squared: "",
                  },
                },
                [_c("i", { staticClass: "fas fa-couch" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Add pin", value: "create_pin", squared: "" },
                },
                [_c("i", { staticClass: "fas fa-thumbtack" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Edit grid", value: "grid", squared: "" },
                },
                [_c("i", { staticClass: "fas fa-border-all" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Light settings",
                    value: "light",
                    squared: "",
                  },
                },
                [_c("i", { staticClass: "fas fa-lightbulb" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Measure", value: "measure", squared: "" },
                },
                [_c("i", { staticClass: "fas fa-ruler" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _c(
            "b-radio",
            {
              staticClass: "toolbar-btn plz-prioritize",
              attrs: {
                title: "Mouse trail",
                value: "mouse_trail",
                squared: "",
              },
            },
            [_c("mouse-trail-icon")],
            1
          ),
        ],
        1
      ),
      _vm._v(" "),
      _vm.world.isMaster
        ? _c(
            "b-button",
            {
              staticClass: "btn-xs",
              attrs: { title: "Export map", squared: "", variant: "success" },
              on: {
                click: function ($event) {
                  return _vm.world.events.emit("export_map")
                },
              },
            },
            [_c("i", { staticClass: "fas fa-download" })]
          )
        : _vm._e(),
      _vm._v(" "),
      _c("div", { staticStyle: { flex: "1 1 0" } }),
      _vm._v(" "),
      _c(
        "b-button",
        {
          directives: [
            {
              name: "b-toggle",
              rawName: "v-b-toggle.sidebar-right",
              modifiers: { "sidebar-right": true },
            },
          ],
          staticClass: "btn-xs",
          attrs: { title: "Toggle sidebar", variant: "warning" },
        },
        [_c("i", { staticClass: "fas fa-angle-double-right" })]
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&":
/*!*****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff& ***!
  \*****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm._m(0)
}
var staticRenderFns = [
  function () {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "footer" }, [
      _c("div", { staticClass: "footer_credits" }, [
        _c("div", { staticClass: "links" }, [
          _c("a", {
            staticClass: "footer_github",
            attrs: {
              href: "https://github.com/SnowyCoder/dndme",
              target: "_blank",
            },
          }),
        ]),
        _vm._v(" "),
        _c("small", { staticStyle: { color: "lightgray" } }, [
          _vm._v("\n      Developed by "),
          _c(
            "a",
            {
              staticClass: "footer_profile",
              attrs: {
                href: "https://github.com/SnowyCoder",
                target: "_blank",
              },
            },
            [_vm._v("Rossi Lorenzo")]
          ),
          _vm._v(" /\n      Drawings by "),
          _c("span", { staticStyle: { color: "white" } }, [
            _vm._v("Giorgia Nizzoli"),
          ]),
        ]),
      ]),
    ])
  },
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      staticClass:
        "phase-container text-center flex-column align-items-center justify-content-center row",
      staticStyle: { height: "100vh", margin: "0" },
    },
    [
      _vm._m(0),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "warning", size: "lg" },
              on: { click: _vm.onCreateMap },
            },
            [_vm._v("Create Map")]
          ),
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "info", size: "lg" },
              on: { click: _vm.onEditMap },
            },
            [_vm._v("Edit Map")]
          ),
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          ref: "map-load-modal",
          attrs: { "hide-footer": "", title: "Gimme the map" },
        },
        [
          _c("b-form-file", {
            attrs: {
              state: Boolean(_vm.file),
              placeholder: "Choose a file or drop it here...",
              "drop-placeholder": "Drop file here...",
              accept: ".dndm",
            },
            model: {
              value: _vm.file,
              callback: function ($$v) {
                _vm.file = $$v
              },
              expression: "file",
            },
          }),
        ],
        1
      ),
      _vm._v(" "),
      _c("footer-component"),
    ],
    1
  )
}
var staticRenderFns = [
  function () {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "text-white" }, [
      _c(
        "p",
        {
          staticClass: "title",
          staticStyle: { "font-size": "3.5em", margin: "0" },
        },
        [_vm._v("DRAW&DICE")]
      ),
      _vm._v(" "),
      _c("p", { staticStyle: { "font-size": "2em" } }, [
        _vm._v("Dnd made ez!"),
      ]),
    ])
  },
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    { ref: "my-modal", attrs: { "hide-footer": "", title: "Gimme the map" } },
    [
      _c("div", { staticClass: "d-block text-center" }, [
        _c("h3", [_vm._v("Insert map to load")]),
      ]),
      _vm._v(" "),
      _c(
        "b-button",
        {
          staticClass: "mt-3",
          attrs: { variant: "outline-danger", block: "" },
          on: { click: _vm.hideModal },
        },
        [_vm._v("Cancel")]
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-hexagon fa-w-18",
      attrs: {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 576 512",
      },
    },
    [
      _c("path", {
        attrs: {
          fill: "currentColor",
          d: "M441.5 39.8C432.9 25.1 417.1 16 400 16H176c-17.1 0-32.9 9.1-41.5 23.8l-112 192c-8.7 14.9-8.7 33.4 0 48.4l112 192c8.6 14.7 24.4 23.8 41.5 23.8h224c17.1 0 32.9-9.1 41.5-23.8l112-192c8.7-14.9 8.7-33.4 0-48.4l-112-192zM400 448H176L64 256 176 64h224l112 192-112 192z",
        },
      }),
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73& ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-w-16",
      attrs: {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 217.46 200.1",
      },
    },
    [
      _c("g", [
        _c("circle", {
          staticStyle: { fill: "#fff" },
          attrs: { cx: "37.78", cy: "38.23", r: "37.78" },
        }),
        _vm._v(" "),
        _c("path", {
          staticStyle: { fill: "#fff" },
          attrs: {
            d: "M236.41,291h2.24l2,0,3.91.09q3.88.11,7.71.27c5.12.22,10.2.5,15.29.85,10.17.69,20.33,1.62,30.55,2.88S318.6,297.92,329,300a258,258,0,0,1,31.7,8.25,155.6,155.6,0,0,1,16.5,6.55,101,101,0,0,1,17.24,10.1,72.14,72.14,0,0,1,8.76,7.59c1.44,1.48,2.85,3.07,4.22,4.79a56.73,56.73,0,0,1,3.88,5.58,50.71,50.71,0,0,1,5.69,13.3,49.09,49.09,0,0,1,1.57,14.24c0,1.14-.12,2.27-.24,3.37l-.08.82-.1.69-.21,1.35c-.25,1.76-.67,3.65-1.07,5.49a59.86,59.86,0,0,1-4.11,11.58,49.21,49.21,0,0,1-7.37,11.21,48.09,48.09,0,0,1-10,8.65,53.58,53.58,0,0,1-10.59,5.28,67.38,67.38,0,0,1-9.94,2.8,105.43,105.43,0,0,1-17.53,1.87c-10.87.3-20.64-.37-30-.78a243.31,243.31,0,0,0-26.81-.15c-8.45.58-16.36,2-23.14,5a44,44,0,0,0-4.87,2.53c-.78.47-1.53,1-2.28,1.49l-1.1.81c-.37.26-.78.61-1.17.91a40.18,40.18,0,0,0-7.73,7.78,17.34,17.34,0,0,0-2.11,3.79,9.67,9.67,0,0,0-.74,3.57c-.08,2.41,1.1,5.44,3.4,8.45a43.34,43.34,0,0,0,9,8.48,94,94,0,0,0,11.54,7.11,180.1,180.1,0,0,0,26,10.92,272.23,272.23,0,0,0,27.62,7.71A272.74,272.74,0,0,1,306,488.53a186.62,186.62,0,0,1-28.77-6.27A106.25,106.25,0,0,1,263,476.77a58.87,58.87,0,0,1-13.75-8.86,36.86,36.86,0,0,1-6.09-6.93,28.73,28.73,0,0,1-4.13-9.4,28.36,28.36,0,0,1-.46-10.69,36.66,36.66,0,0,1,2.79-9.65A60.59,60.59,0,0,1,251,416.37c.47-.53.89-1.06,1.41-1.59l1.55-1.61c1.06-1.05,2.16-2.07,3.29-3a67.75,67.75,0,0,1,7.11-5.35A81.08,81.08,0,0,1,279.84,397a118.09,118.09,0,0,1,15.78-4.74A268.45,268.45,0,0,1,326,387.52c9.7-1.09,19.1-2,27.28-3.57A62.06,62.06,0,0,0,364,381c2.94-1.16,4.92-2.55,5.57-3.51a1.86,1.86,0,0,0,.42-1.12c0-.29,0-.58,0-1.08l0-2.13c0-.53,0-1-.07-1.61l0-.44v-.2l0-.07a.85.85,0,0,0-.13-.22c-.2-.22-.4-.1-.53.09s-.25.39-.46.39c-.4,0-1.61-.8-3.76-1.75a57.31,57.31,0,0,0-8.31-2.89,103.35,103.35,0,0,0-10.79-2.29,203.75,203.75,0,0,0-24.7-2.28c-8.6-.32-17.43-.27-26.33.06s-17.88.91-26.84,1.72q-6.74.62-13.42,1.39l-6.64.82-3.25.45-1.58.23-.76.11c-.22,0-.52.08-.59.11Z",
            transform: "translate(-201.13 -290.98)",
          },
        }),
      ]),
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c& ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-w-16",
      attrs: {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 234.809 234.809",
        "xml:space": "preserve",
      },
    },
    [
      _c("path", {
        attrs: {
          fill: "currentColor",
          d: "M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n    c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n    c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n    c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n    c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n    H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n    c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n    c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n    c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n    c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n    H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n    c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n    c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z",
        },
      }),
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c("div", { staticClass: "sloading-container" }, [
      _c("h1", { staticClass: "sloading-title" }, [_vm._v("DRAW&DICE")]),
      _vm._v(" "),
      _c("h2", [_vm._v(_vm._s(_vm.message))]),
      _vm._v(" "),
      _c("h5", [_vm._v("Loading")]),
    ]),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("input", {
    staticClass: "util_ecolor",
    attrs: {
      type: "color",
      readonly: _vm.readonly,
      placeholder: _vm.placeholder,
    },
    domProps: { value: _vm.value },
    on: {
      input: function ($event) {
        return _vm.$emit("input", $event.target.value)
      },
      change: function ($event) {
        return _vm.$emit("change")
      },
    },
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046& ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("editable-text", {
    attrs: {
      value: _vm.value,
      readonly: _vm.readonly,
      placeholder: _vm.placeholder,
      filter: _vm.filter,
    },
    on: {
      change: function ($event) {
        _vm.$emit("change", parseFloat($event))
      },
      input: function ($event) {
        return _vm.$emit("input", $event)
      },
    },
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "util_editable-text_div" }, [
    _c("input", {
      staticClass: "form-control-plaintext hprior util_editable-text_input",
      attrs: {
        type: "text",
        readonly: _vm.readonly,
        placeholder: _vm.placeholder,
      },
      domProps: { value: _vm.value },
      on: {
        input: function ($event) {
          return _vm.onEvent("input", $event)
        },
        change: function ($event) {
          return _vm.onEvent("change", $event)
        },
      },
    }),
    _vm._v(" "),
    _c("span", { staticClass: "util_editable-text_border" }),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("6a032da6", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("1c5d82b3", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("34a434f2", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("7a2423ac", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("14f2376c", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("0f7a11e8", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("349ead5c", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("3421859f", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("13877244", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("d6181bf8", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("ed5fdd00", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/style.css":
/*!******************************!*\
  !*** ./src/public/style.css ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("511f390e", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "?6e84":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?2581":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./src/public/spritesheets/props.json":
/*!********************************************!*\
  !*** ./src/public/spritesheets/props.json ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"frames":{"ladder_down.png":{"frame":{"x":0,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}},"ladder_up.png":{"frame":{"x":64,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}}},"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"1.0","image":"props.png","format":"RGBA8888","size":{"w":128,"h":64},"scale":"1","smartupdate":"$TexturePacker:SmartUpdate:e4f96f20e593ddd42c4cf1d50d2d8f26:7e60e2d391e00eeed0a16270f3c0f13d:f4c39b94f5b79b4c461da96ae5609d50$"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkdrawndice"] = self["webpackChunkdrawndice"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_fortawesome_fontawesome-free_js_all_js-node_modules_bootstrap-vue_esm_in-b7fb82"], () => (__webpack_require__("./src/app/index.ts")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQztTQUNKO1FBRUQsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBRWxCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQzFCLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUV0QyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDN0IsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVwQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUMxQixJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7WUFFdEMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUM3QixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBRTlDLElBQUksTUFBTSxHQUFHLElBQUksbURBQVUsQ0FDdkIsQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3pC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RSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM3QixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFckIsMEJBQTBCO0lBQzFCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMxQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVqQixHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFFYixPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENB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QUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxNQUFNLENBQUMsTUFBYyxFQUFFLE1BQVk7UUFDL0IsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7UUFDakMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztJQUNyQyxDQUFDO0lBRUQsS0FBSyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsTUFBWTtRQUN0QyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsR0FB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QUFFTSxTQUFTLHFCQUFxQixDQUFDLENBQWMsRUFBRSxFQUFlLEVBQUUsRUFBZSxFQUFFLEVBQWU7SUFDbkcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRixJQUFJLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ3ZGLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFD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QUFHLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQWpHLENBQUMsaUVBQWUsc0lBQUcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQXJKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQ0FBMEM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFD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K0JBQStCLHdDQUF3QztXQUN2RTtXQUNBO1dBQ0E7V0FDQTtXQUNBLGlCQUFpQixxQkFBcUI7V0FDdEM7V0FDQTtXQUNBLGtCQUFrQixxQkFBcUI7V0FDdkM7V0FDQTtXQUNBLEtBQUs7V0FDTDtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7Ozs7O1dDM0JBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxpQ0FBaUMsV0FBVztXQUM1QztXQUNBOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSxHQUFHO1dBQ0g7V0FDQTtXQUNBLENBQUM7Ozs7O1dDUEQ7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7OztXQ05BO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7Ozs7O1dDSkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7Ozs7O1dDZkE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLE1BQU0scUJBQXFCO1dBQzNCO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBOzs7OztVRWhEQTtVQUNBO1VBQ0E7VUFDQTtVQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlPzk1NTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/Y2YyNyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT8zYzEyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT8xYmJlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZT8wMmE3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC90b29sQmFyLnZ1ZT80MjUzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT9hMzQ5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT8wOWExIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9jNWNmIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZUNvbG9yLnZ1ZT83MDk0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlP2FkNzYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9pbWFnZXMvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9pbWFnZXMvcHJvcHMucG5nIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3RyYWlsLnBuZyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/YTkwYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzVmMTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/MGI4NyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/ZGZhYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT83OTBlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlPzliNTYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT80NjdjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MjU0MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/NTBjOSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZT9jMjA2Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWU/MGI5OCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlPzJkOWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWU/MzEyNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT9lN2JiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9jcmVhdGlvbk9wdGlvbnMudnVlP2M3MDAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlP2FiNmQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZT8yMWNiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9saWdodFNldHRpbmdzRWRpdC52dWU/NWRmYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvcmVjb25uZWN0aW9uTW9kYWwudnVlPzk2MDciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlP2UwMzkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlPzRjN2MiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlPzYxNzUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlP2M2YTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy9oZXhhZ29uSWNvbi52dWU/MTQyYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZT8xODdlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvd2FsbEljb24udnVlP2M0ODgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlPzFjMWYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzQ5Y2YiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZT9lY2NkIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlPzBmNjciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9QSVhJLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvYXNzZXRzTG9hZGVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9lY3NVdGlsLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2ludGVyYWN0aW9uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Jlc291cmNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtR3JhcGgudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9rZXlib2FyZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2xpbmtSZWxvY2F0aW9uU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9uYW1lQXNMYWJlbFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svbmV0d29ya1N5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9waXhpR3JhcGhpY1N5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUxheWVyU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9waXhpTWVhc3VyZVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aVJlY3RTZWxlY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdGV4dFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eUF3YXJlU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay92aXNpYmlsaXR5U3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFja2dyb3VuZEltYWdlU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9jb21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9jb21tYW5kSGlzdG9yeVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tcG9uZW50RWRpdC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2V2ZW50Q29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvbm9uZUNvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL3Jlc291cmNlRWRpdENvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL3NwYXduQ29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvcHlQYXN0ZVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2Rvb3JTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9ncmlkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9tb3VzZVRyYWlsU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvcGluU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvcGxheWVyTG9jYXRvci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3Byb3BTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy93YWxsU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL2luc3BlY3QudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvdG9vbHMvbWVhc3VyZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy9yZWN0YW5ndWxhclNlbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy90b29sVHlwZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy91dGlscy50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy93b3JsZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dhbWUvZ3JpZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dhbWUvcG9pbnREQi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dhbWUvcG9pbnRMaWdodFJlbmRlcmVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvYWFiYi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L2R5bmFtaWNUcmVlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvbGluZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L29iYi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L3Zpc2liaWxpdHlQb2x5Z29uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ3JhcGhpY3MudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9pbmRleC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL21hcC9nYW1lTWFwLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbWFwL21hcExldmVsLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbmV0d29yay93ZWJ0b3JyZW50L1dUQ2hhbm5lbC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL25ldHdvcmsvd2VidG9ycmVudC9XVERpc2NvdmVyeS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL25ldHdvcmsvd2VidG9ycmVudC9XZWJUb3JyZW50VHJhY2tlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2Vjc1BoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWRpdE1hcC9jbGllbnRFZGl0TWFwUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWRpdE1hcC9lZGl0TWFwUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2hvc3RFZGl0TWFwUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9ob21lUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9sb2FkaW5nUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9waGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL3N0YWdlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdnVlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9VbmlvbkZpbmRTZXQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2FycmF5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9iaW5hcnlIZWFwLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9iaXRTZXQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2V2ZW50RW1pdHRlcldyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2dlb21ldHJ5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9qc29iai50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvazJkVHJlZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvcGl4aS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvc2FmZUV2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzQmFja2dyb3VuZEltYWdlLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQbGF5ZXIudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wVGVsZXBvcnQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2NyZWF0aW9uT3B0aW9ucy52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvcmVjb25uZWN0aW9uTW9kYWwudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvaGV4YWdvbkljb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvbW91c2VUcmFpbEljb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvd2FsbEljb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/ZmFjMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzEzZDQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/NzI5MiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/MWI1YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT9kN2NjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlPzgwZTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT9lOTk5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MzA1MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/MzMxYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZT9mNTlhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWU/ZmRhYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlPzE0N2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWU/Mjc0MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT9mYmFhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9jcmVhdGlvbk9wdGlvbnMudnVlPzkzYmIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzA2Y2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZT9hODdiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9saWdodFNldHRpbmdzRWRpdC52dWU/ZGJjZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvcmVjb25uZWN0aW9uTW9kYWwudnVlP2QxNTciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlPzVkMTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlP2M0ZmMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlPzI4MTUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlP2YzNGMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy9oZXhhZ29uSWNvbi52dWU/YzRkNiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZT81OTkxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvd2FsbEljb24udnVlPzVmNDAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2QyYzMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzUxMzgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZT9lZTI1Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlP2Q2MzAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZT8yMzgwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZT85ZTljIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/NDIyNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZT8xYzFhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZT85MDAwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05hbWUudnVlPzVlOWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/YWRkNyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlPzJiODUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZT8zZjg4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZT9kYTJhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlP2QxZDgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZT9jOTQxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWU/MjA5MSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZT81NjQyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlPzBjYTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2NyZWF0aW9uT3B0aW9ucy52dWU/YTM2ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWU/MmQ4YiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlP2Q4YjEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT9hOTE3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/M2QwYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvc2lkZUJhci52dWU/YzY2YiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWU/N2ZiMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/YTdjMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/Nzc3OSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlP2Q4MjciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy9oZXhhZ29uSWNvbi52dWU/MDU0OCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZT9kMDI5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvd2FsbEljb24udnVlPzkxYmMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2YwZDYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzE5ZjgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZT83Nzk5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlPzA3YTUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlPzVmMjYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/OTM5YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT8xYmZlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT8xN2FiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZT8wZmY0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC90b29sQmFyLnZ1ZT8xMDZmIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT9iNWRhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT9kZTE0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9jZTI4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZUNvbG9yLnZ1ZT8wNjkwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlPzA5MjUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9zdHlsZS5jc3M/YmIwMyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvaWdub3JlZHwvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvc2ltcGxlLXBlZXIvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtc3x1dGlsIiwid2VicGFjazovL2RyYXduZGljZS9pZ25vcmVkfC9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy9zaW1wbGUtcGVlci9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYnx1dGlsIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL2JlZm9yZS1zdGFydHVwIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5jd3JhcHBlcl9jb21wb25lbnQtaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuLmN3cmFwcGVyX2NvbXBvbmVudC1hcnJvdyB7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci10b3A6IDAuM2VtIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogMC4zZW0gc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDAuM2VtIHNvbGlkICNlZWVlZWU7XFxuICBtYXJnaW4tbGVmdDogMC4zZW07XFxuICBtYXJnaW4tdG9wOiAwLjE3NWVtO1xcbiAgdHJhbnNpdGlvbjogMC4zcztcXG59XFxuLmN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXIgYnV0dG9uOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG4uY3dyYXBwZXJfY29tcG9uZW50LWJvZHkge1xcbiAgbWFyZ2luLWxlZnQ6IDZweDtcXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzU0NWI2MjtcXG4gIHBhZGRpbmctbGVmdDogNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDAgNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG4uY3dyYXBwZXJfcm90YXRlIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XFxuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBdUVBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNBO0FBRUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLG1DQUFBO0VBQ0Esc0NBQUE7RUFDQSxpQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUNBO0FBRUE7RUFDQSxrQkFBQTtBQUNBO0FBRUE7RUFDQSxnQkFBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7RUFDQSx3QkFBQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXJcXFwiPlxcbiAgICAgICAgPGRpdiBAY2xpY2s9XFxcInZpc2libGUgPSAhdmlzaWJsZVxcXCI+IHt7IGNvbXBvbmVudC50eXBlTmFtZSB9fTwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY3dyYXBwZXJfY29tcG9uZW50LWFycm93XFxcIiA6Y2xhc3M9XFxcIntjd3JhcHBlcl9yb3RhdGU6IHZpc2libGV9XFxcIiA+PC9kaXY+XFxuICAgICAgICA8ZGl2IHN0eWxlPVxcXCJ3aWR0aDogMTAwJVxcXCI+PC9kaXY+XFxuICAgICAgICA8Yi1idXR0b24gdi1pZj1cXFwiaXNBZG1pblxcXCIgc3F1YXJlZCBzaXplPVxcXCJzbVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGdyaWQ7XFxcIlxcbiAgICAgICAgICAgICAgICAgIDp0aXRsZT1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGUgPyAnSGlkZSBjb21wb25lbnQnIDogJ1Nob3cgY29tcG9uZW50J1xcXCJcXG4gICAgICAgICAgICAgICAgICB2LXNob3c9XFxcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWRcXFwiXFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGNvbXBvbmVudC50eXBlLCAnY2xpZW50VmlzaWJsZScsICFjb21wb25lbnQuY2xpZW50VmlzaWJsZSwgY29tcG9uZW50Lm11bHRpSWQpXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZzExXFxcIiB2LXNob3c9XFxcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlXFxcIj48aSBjbGFzcz1cXFwiZmFzIGZhLWV5ZVxcXCIvPjwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIHYtc2hvdz1cXFwiIWNvbXBvbmVudC5jbGllbnRWaXNpYmxlXFxcIj48aSBjbGFzcz1cXFwiZmFzIGZhLWV5ZS1zbGFzaFxcXCIvPjwvZGl2PlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiBzcXVhcmVkIHNpemU9XFxcInNtXFxcIiB2YXJpYW50PVxcXCJwcmltYXJ5XFxcIiB0aXRsZT1cXFwiRnVsbHNjcmVlblxcXCJcXG4gICAgICAgICAgICAgICAgICB2LXNob3c9XFxcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuICE9PSB1bmRlZmluZWRcXFwiIEBjbGljaz1cXFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4gPSB0cnVlXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1leHBhbmRcXFwiLz5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgICA8Yi1idXR0b24gdi1pZj1cXFwiaXNBZG1pblxcXCIgc3F1YXJlZCBzaXplPVxcXCJzbVxcXCIgdmFyaWFudD1cXFwiZGFuZ2VyXFxcIiB0aXRsZT1cXFwiRGVsZXRlXFxcIiB2LXNob3c9XFxcImNvbXBvbmVudC5fY2FuRGVsZXRlXFxcIlxcbiAgICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnJCcsICdyZW1vdmVDb21wb25lbnQnLCBjb21wb25lbnQudHlwZSwgY29tcG9uZW50Lm11bHRpSWQpXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS10cmFzaFxcXCIvPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxiLWNvbGxhcHNlIHYtbW9kZWw9XFxcInZpc2libGVcXFwiIGNsYXNzPVxcXCJjd3JhcHBlcl9jb21wb25lbnQtYm9keVxcXCIgdmlzaWJsZT5cXG4gICAgICA8Y29tcG9uZW50IHYtYmluZDppcz1cXFwiY29tcG9uZW50VHlwZVxcXCIgdi1iaW5kOmNvbXBvbmVudD1cXFwiY29tcG9uZW50XFxcIiB2LWJpbmQ6aXNBZG1pbj1cXFwiaXNBZG1pblxcXCJcXG4gICAgICAgICAgICAgICAgIHYtb246ZWNzLXByb3BlcnR5LWNoYW5nZT1cXFwiJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10pXFxcIj5cXG5cXG4gICAgICA8L2NvbXBvbmVudD5cXG4gICAgPC9iLWNvbGxhcHNlPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgZWNzTmFtZSBmcm9tIFxcXCIuL2Vjc05hbWUudnVlXFxcIjtcXG5pbXBvcnQgZWNzTm90ZSBmcm9tIFxcXCIuL2Vjc05vdGUudnVlXFxcIjtcXG5pbXBvcnQgZWNzUG9zaXRpb24gZnJvbSBcXFwiLi9lY3NQb3NpdGlvbi52dWVcXFwiO1xcbmltcG9ydCBlY3NXYWxsIGZyb20gXFxcIi4vZWNzV2FsbC52dWVcXFwiO1xcbmltcG9ydCBlY3NCYWNrZ3JvdW5kSW1hZ2UgZnJvbSBcXFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXFxcIjtcXG5pbXBvcnQgZWNzUGluIGZyb20gXFxcIi4vZWNzUGluLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1RyYW5zZm9ybSBmcm9tIFxcXCIuL2Vjc1RyYW5zZm9ybS52dWVcXFwiO1xcbmltcG9ydCBlY3NMaWdodCBmcm9tIFxcXCIuL2Vjc0xpZ2h0LnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1BsYXllciBmcm9tIFxcXCIuL2Vjc1BsYXllci52dWVcXFwiO1xcbmltcG9ydCBlY3NEb29yIGZyb20gXFxcIi4vZWNzRG9vci52dWVcXFwiO1xcbmltcG9ydCBlY3NQcm9wIGZyb20gXFxcIi4vZWNzUHJvcC52dWVcXFwiO1xcbmltcG9ydCBlY3NQcm9wVGVsZXBvcnQgZnJvbSBcXFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlXFxcIjtcXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcXFwiLi4vLi4vZWNzL2NvbXBvbmVudFxcXCJcXG5pbXBvcnQge1Z1ZSwgVkNvbXBvbmVudCwgVlByb3B9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuXFxuQFZDb21wb25lbnQoe1xcbiAgY29tcG9uZW50czoge1xcbiAgICBlY3NOYW1lLCBlY3NOb3RlLCBlY3NQb3NpdGlvbiwgZWNzV2FsbCwgZWNzQmFja2dyb3VuZEltYWdlLCBlY3NQaW4sIGVjc1RyYW5zZm9ybSwgZWNzTGlnaHQsIGVjc1BsYXllciwgZWNzRG9vcixcXG4gICAgZWNzUHJvcCwgZWNzUHJvcFRlbGVwb3J0XFxuICB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NDb21wb25lbnRXcmFwcGVyIGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxcbiAgY29tcG9uZW50ITogQ29tcG9uZW50O1xcblxcbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXFxuICBpc0FkbWluITogYm9vbGVhbjtcXG5cXG4gIHZpc2libGUgPSB0cnVlO1xcblxcbiAgZ2V0IGNvbXBvbmVudFR5cGUoKTogc3RyaW5nIHtcXG4gICAgcmV0dXJuICdlY3MtJyArIHRoaXMuY29tcG9uZW50LnR5cGUucmVwbGFjZSgnXycsICctJyk7XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4uY3dyYXBwZXJfY29tcG9uZW50LWhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XFxuICBtYXJnaW4tYm90dG9tOiAycHg7XFxufVxcblxcbi5jd3JhcHBlcl9jb21wb25lbnQtYXJyb3cge1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxuICBib3JkZXItdG9wOiAwLjNlbSBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b206IDAuM2VtIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJpZ2h0OiAwLjNlbSBzb2xpZCAjZWVlZWVlO1xcbiAgbWFyZ2luLWxlZnQ6IDAuM2VtO1xcbiAgbWFyZ2luLXRvcDogMC4xNzVlbTtcXG4gIHRyYW5zaXRpb246IDAuM3M7XFxufVxcblxcbi5jd3JhcHBlcl9jb21wb25lbnQtaGVhZGVyIGJ1dHRvbjpsYXN0LWNoaWxkIHtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG59XFxuXFxuLmN3cmFwcGVyX2NvbXBvbmVudC1ib2R5IHtcXG4gIG1hcmdpbi1sZWZ0OiA2cHg7XFxuICBib3JkZXItbGVmdDogNHB4IHNvbGlkICM1NDViNjI7XFxuICBwYWRkaW5nLWxlZnQ6IDZweDtcXG4gIGJvcmRlci1yYWRpdXM6IDAgMCAwIDRweDtcXG4gIG1hcmdpbi1yaWdodDogMTJweDtcXG59XFxuXFxuLmN3cmFwcGVyX3JvdGF0ZSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xcbiAgdHJhbnNpdGlvbjogMC4zcyBlYXNlO1xcbn1cXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5tb2RhbC1jb250ZW50LWRhcmsge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU0NWI2MiAhaW1wb3J0YW50O1xcbn1cXG4uaHByaW9yLmVjcy1ub3RlX3RleHRhcmVhIHtcXG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLmhwcmlvci5lY3Mtbm90ZV90ZXh0YXJlYTo6cGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICNlZWVlZWU7XFxufVxcblxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF5Q0E7RUFDQSxvQ0FBQTtBQUNBO0FBRUE7RUFDQSx1QkFBQTtFQUNBLHdDQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7QUFDQTtBQUVBO0VBQ0EsY0FBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXY+XFxuICAgIDxiLXRleHRhcmVhIHBsYWNlaG9sZGVyPVxcXCJXcml0ZSBzb21ldGhpbmcgaGVyZS4uLlxcXCIgdi1tb2RlbD1cXFwibm90ZVxcXCIgOnJlYWRvbmx5PVxcXCIhaXNBZG1pblxcXCIgY2xhc3M9XFxcImhwcmlvciBlY3Mtbm90ZV90ZXh0YXJlYVxcXCJcXG4gICAgICAgICAgICAgICAgQGNoYW5nZT1cXFwib25DaGFuZ2VcXFwiLz5cXG4gICAgPGItbW9kYWwgdGl0bGU9XFxcIk5vdGVcXFwiIHYtbW9kZWw9XFxcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuXFxcIiBoaWRlLWZvb3RlciBoaWRlLWhlYWRlclxcbiAgICAgICAgICAgICBkaWFsb2ctY2xhc3M9XFxcIm1vZGFsLWZ1bGxzY3JlZW4gbW9kYWwteHhsXFxcIiBjb250ZW50LWNsYXNzPVxcXCJtb2RhbC1jb250ZW50LWRhcmtcXFwiPlxcbiAgICAgIDxiLXRleHRhcmVhIHBsYWNlaG9sZGVyPVxcXCJXcml0ZSBzb21ldGhpbmcgaGVyZS4uLlxcXCIgdi1tb2RlbD1cXFwibm90ZVxcXCIgOnJlYWRvbmx5PVxcXCIhaXNBZG1pblxcXCJcXG4gICAgICAgICAgICAgICAgICBAY2hhbmdlPVxcXCJvbkNoYW5nZVxcXCIgc3R5bGU9XFxcImhlaWdodDogMTAwJTsgcmVzaXplOiBub25lO1xcXCIgY2xhc3M9XFxcImhwcmlvciBlY3Mtbm90ZV90ZXh0YXJlYVxcXCIvPlxcbiAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6bW9kYWwtZm9vdGVyPlxcbiAgICAgIDwvdGVtcGxhdGU+XFxuICAgIDwvYi1tb2RhbD5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IHtOb3RlQ29tcG9uZW50fSBmcm9tIFxcXCIuLi8uLi9lY3MvY29tcG9uZW50XFxcIjtcXG5cXG5AVkNvbXBvbmVudFxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc05vdGUgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBjb21wb25lbnQhOiBOb3RlQ29tcG9uZW50O1xcblxcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBpc0FkbWluITogYm9vbGVhbjtcXG5cXG4gIG5vdGU6IHN0cmluZyA9ICcnO1xcblxcbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm5vdGUnKVxcbiAgb25DTm90ZUNoYW5nZWQodmFsOiBzdHJpbmcpIHtcXG4gICAgdGhpcy5ub3RlID0gdmFsO1xcbiAgfVxcblxcbiAgb25DaGFuZ2UoKSB7XFxuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnbm90ZScsICdub3RlJywgdGhpcy5ub3RlLCB0aGlzLmNvbXBvbmVudC5tdWx0aUlkKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcblxcbi5tb2RhbC1jb250ZW50LWRhcmsge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU0NWI2MiAhaW1wb3J0YW50O1xcbn1cXG5cXG4uaHByaW9yLmVjcy1ub3RlX3RleHRhcmVhIHtcXG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuXFxuLmhwcmlvci5lY3Mtbm90ZV90ZXh0YXJlYTo6cGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICNlZWVlZWU7XFxufVxcblxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmVudGl0eS1pbnNwZWN0X2NvbXBvbmVudC1idG4taGVhZGVyIHtcXG4gIG1hcmdpbjogMC41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBMkZBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiB2LXNob3c9XFxcImRhdGEuY29tcG9uZW50cy5sZW5ndGggPiAwXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZW50aXR5LWluc3BlY3RfY29tcG9uZW50LWJ0bi1oZWFkZXJcXFwiPlxcbiAgICAgIDxiLWRyb3Bkb3duIHRvZ2dsZS1jbGFzcz1cXFwicm91bmRlZC0wXFxcIiB2YXJpYW50PVxcXCJzdWNjZXNzXFxcIiB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCI+XFxuICAgICAgICA8dGVtcGxhdGUgdi1zbG90OmJ1dHRvbi1jb250ZW50PlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXBsdXNcXFwiPjwvaT5cXG4gICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgICA8Yi1kcm9wZG93bi1pdGVtIHYtZm9yPVxcXCJ4IGluIGRhdGEuYWRkYWJsZVxcXCIgOmtleT1cXFwieC50eXBlXFxcIiBAY2xpY2s9XFxcImVtaXRTcGVjaWFsKCdhZGRDb21wb25lbnQnLCB4LnR5cGUpXFxcIj5cXG4gICAgICAgICAge3sgeC5uYW1lIH19XFxuICAgICAgICA8L2ItZHJvcGRvd24taXRlbT5cXG4gICAgICA8L2ItZHJvcGRvd24+XFxuICAgICAgPGItYnV0dG9uIHNxdWFyZWQgOnRpdGxlPVxcXCJkYXRhLmhpZGRlbiA/ICdTaG93IGVudGl0eScgOiAnSGlkZSBlbnRpdHknXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogZ3JpZFxcXCIgdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiXFxuICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2hpZGRlbicsICFkYXRhLmhpZGRlbilcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZzExXFxcIiA6c3R5bGU9XFxcInt2aXNpYmlsaXR5OiBkYXRhLmhpZGRlbiA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nfVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWUtc2xhc2hcXFwiLz48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgOnN0eWxlPVxcXCJ7dmlzaWJpbGl0eTogZGF0YS5oaWRkZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ31cXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllXFxcIi8+PC9kaXY+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICA8Yi1idXR0b24gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHZhcmlhbnQ9XFxcImRhbmdlclxcXCIgdGl0bGU9XFxcIkRlbGV0ZSBlbnRpdHlcXFwiIHNxdWFyZWRcXG4gICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJlbWl0U3BlY2lhbCgnZGVsZXRlJylcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS10cmFzaFxcXCI+PC9pPlxcbiAgICAgIDwvYi1idXR0b24+XFxuICAgICAgPGItYnV0dG9uIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB2YXJpYW5kPVxcXCJkYW5nZXJcXFwiIHRpdGxlPVxcXCJGb3JnZXQgZW50aXR5XFxcIiBzcXVhcmVkXFxuICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2ZvcmdldCcpXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZXJhc2VyXFxcIj48L2k+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxlY3MtY29tcG9uZW50LXdyYXBwZXIgdi1mb3I9XFxcImNvbXAgb2YgZGF0YS5jb21wb25lbnRzXFxcIiB2LWJpbmQ6a2V5PVxcXCJjb21wLnR5cGUgKyAoY29tcC5tdWx0aUlkIHx8ICcnKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2LWJpbmQ6Y29tcG9uZW50PVxcXCJjb21wXFxcIiB2LWJpbmQ6aXNBZG1pbj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQGVjcy1wcm9wZXJ0eS1jaGFuZ2U9XFxcIm9uRWNzUHJvcGVydHlDaGFuZ2UoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKVxcXCIvPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgRWNzQ29tcG9uZW50V3JhcHBlciBmcm9tIFxcXCIuL2NvbXBXcmFwcGVyLnZ1ZVxcXCI7XFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcbmltcG9ydCB7V29ybGR9IGZyb20gXFxcIi4uLy4uL2Vjcy93b3JsZFxcXCI7XFxuaW1wb3J0IHtcXG4gIFNFTEVDVElPTl9UWVBFLFxcbiAgU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSxcXG4gIFNlbGVjdGlvblN5c3RlbSxcXG4gIFNlbGVjdGlvblVpRGF0YVxcbn0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9zZWxlY3Rpb25TeXN0ZW1cXFwiO1xcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9yZXNvdXJjZVxcXCI7XFxuaW1wb3J0IHtjb21wb25lbnRDbG9uZX0gZnJvbSBcXFwiLi4vLi4vZWNzL2Vjc1V0aWxcXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHtcXG4gICAgRWNzQ29tcG9uZW50V3JhcHBlcixcXG4gIH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eUluc3BlY3QgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICB3b3JsZCE6IFdvcmxkO1xcblxcbiAgZGF0YTogU2VsZWN0aW9uVWlEYXRhID0ge1xcbiAgICB0eXBlOiBTRUxFQ1RJT05fVUlfREFUQV9UWVBFLFxcbiAgICBzZWxlY3RlZEVudGl0aWVzOiBbXSxcXG4gICAgaGlkZGVuOiBmYWxzZSxcXG4gICAgYWRkYWJsZTogW10sXFxuICAgIGNvbXBvbmVudHM6IFtdLFxcbiAgICBfc2F2ZTogZmFsc2UsXFxuICAgIF9zeW5jOiBmYWxzZSxcXG4gIH07XFxuXFxuICBvbkVjc1Byb3BlcnR5Q2hhbmdlKHR5cGU6IHN0cmluZywgcHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSwgbXVsdGlJZD86IG51bWJlcikge1xcbiAgICBsZXQgc2VsZWN0aW9uU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xcbiAgICBzZWxlY3Rpb25TeXMuc2V0UHJvcGVydHkodGhpcy5kYXRhLnNlbGVjdGVkRW50aXRpZXMsIHR5cGUsIHByb3BlcnR5LCB2YWx1ZSwgbXVsdGlJZCk7XFxuICB9XFxuXFxuICBlbWl0U3BlY2lhbChuYW1lOiBzdHJpbmcsIHBhcjogdW5rbm93bikge1xcbiAgICB0aGlzLm9uRWNzUHJvcGVydHlDaGFuZ2UoJyQnLCBuYW1lLCBwYXIpO1xcbiAgfVxcblxcbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XFxuICAgIGlmIChyZXMudHlwZSA9PT0gU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSkge1xcbiAgICAgIHRoaXMuZGF0YSA9IGNvbXBvbmVudENsb25lKHJlcykgYXMgU2VsZWN0aW9uVWlEYXRhO1xcbiAgICB9XFxuICB9XFxuXFxuICBtb3VudGVkKCkge1xcbiAgICB0aGlzLmRhdGEgPSBjb21wb25lbnRDbG9uZSh0aGlzLndvcmxkLmdldFJlc291cmNlKFNFTEVDVElPTl9VSV9EQVRBX1RZUEUpIGFzIFNlbGVjdGlvblVpRGF0YSk7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xcbiAgfVxcblxcbiAgdW5tb3VudGVkKCkge1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4uZW50aXR5LWluc3BlY3RfY29tcG9uZW50LWJ0bi1oZWFkZXIge1xcbiAgbWFyZ2luOiAwLjVyZW07XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmVkaXQtbWFwX2dhbWUge1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBZ0NBO0VBQ0EsaUJBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJlZGl0LW1hcF9nYW1lXFxcIj5cXG5cXG4gICAgPHRvb2wtYmFyIHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiPlxcbiAgICA8L3Rvb2wtYmFyPlxcblxcbiAgICA8ZGl2IGlkPVxcXCJjYW52YXMtY29udGFpbmVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCU7IGhlaWdodDogY2FsYygxMDB2aCAtIHZhcigtLXRvcGJhci1oZWlnaHQpKTtcXFwiPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPHNpZGUtYmFyIHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiPlxcbiAgICA8L3NpZGUtYmFyPlxcblxcbiAgICA8cmVjb25uZWN0aW9uLW1vZGFsIHYtaWY9XFxcIiF3b3JsZC5pc01hc3RlclxcXCIgdi1iaW5kOndvcmxkPVxcXCJ3b3JsZFxcXCI+XFxuICAgIDwvcmVjb25uZWN0aW9uLW1vZGFsPlxcblxcbiAgICA8YSBpZD1cXFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCIvPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgVnVlIGZyb20gXFxcInZ1ZVxcXCI7XFxuaW1wb3J0IFRvb2xCYXIgZnJvbSBcXFwiLi90b29sQmFyLnZ1ZVxcXCI7XFxuaW1wb3J0IFNpZGVCYXIgZnJvbSBcXFwiLi9zaWRlQmFyLnZ1ZVxcXCI7XFxuaW1wb3J0IFJlY29ubmVjdGlvbk1vZGFsIGZyb20gXFxcIi4vcmVjb25uZWN0aW9uTW9kYWwudnVlXFxcIjtcXG5cXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHtcXG4gIGNvbXBvbmVudHM6IHtUb29sQmFyLCBTaWRlQmFyLCBSZWNvbm5lY3Rpb25Nb2RhbH0sXFxuICBwcm9wczogWyd3b3JsZCddLFxcbn0pO1xcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4uZWRpdC1tYXBfZ2FtZSB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuPC9zdHlsZT5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uc2lkZWJhci1mb290ZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2VkaXQvc2lkZUJhci52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQWdGQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGItc2lkZWJhciBpZD1cXFwic2lkZWJhci1yaWdodFxcXCIgdGl0bGU9XFxcIlNpZGViYXJcXFwiXFxuICAgICAgICAgICAgIGJnLXZhcmlhbnQ9XFxcImRhcmtcXFwiIHRleHQtdmFyaWFudD1cXFwibGlnaHRcXFwiIHJpZ2h0IHZpc2libGUgbm8taGVhZGVyIHNoYWRvd1xcbiAgICAgICAgICAgICBzaWRlYmFyLWNsYXNzPVxcXCJ1bmRlci1uYXZiYXJcXFwiPlxcbiAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBHUklEIENPTlRST0wgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxcbiAgICA8Z3JpZC1lZGl0IGNsYXNzPVxcXCJweC0zIHB5LTJcXFwiIHYtc2hvdz1cXFwidG9vbCA9PT0gJ2dyaWQnXFxcIiB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIi8+XFxuICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgIEVOVElUWSBJTlNQRUNUT1IgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxcbiAgICA8ZGl2IHYtc2hvdz1cXFwidG9vbCA9PT0gJ2luc3BlY3QnXFxcIj5cXG4gICAgICA8ZW50aXR5LWluc3BlY3Qgdi1iaW5kOndvcmxkPVxcXCJ3b3JsZFxcXCIvPlxcbiAgICA8L2Rpdj5cXG4gICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgTElHSFQgU0VUVElOR1MgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxcbiAgICA8bGlnaHQtc2V0dGluZ3MtZWRpdCAgdi1zaG93PVxcXCJ0b29sID09PSAnbGlnaHQnXFxcIiB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIi8+XFxuICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgIENSRUFUSU9OIE9QVElPTlMgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxcbiAgICA8Y3JlYXRpb24tb3B0aW9ucyBjbGFzcz1cXFwicHgtMyBweS0yXFxcIiB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIi8+XFxuXFxuICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6Zm9vdGVyPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInNpZGViYXItZm9vdGVyXFxcIj5cXG4gICAgICAgIHt7IHRyYWNrZXJDb3VudCB9fVxcbiAgICAgICAgPGRpdiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6IDAuMnJlbVxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtc2VydmVyXFxcIj48L2k+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIHt7IGNvbm5lY3Rpb25Db3VudCB9fVxcbiAgICAgICAgPGRpdiB2LWJpbmQ6Y2xhc3M9XFxcInsgcm90YXRlOiBjb25uZWN0aW9uQnVmZmVyaW5nIH1cXFwiIHN0eWxlPVxcXCJtYXJnaW4tbGVmdDogMC4ycmVtXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zeW5jLWFsdFxcXCI+PC9pPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvdGVtcGxhdGU+XFxuICA8L2Itc2lkZWJhcj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcblxcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9yZXNvdXJjZVxcXCI7XFxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcXFwiLi4vLi4vZWNzL3dvcmxkXFxcIjtcXG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFJlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cXFwiO1xcbmltcG9ydCBHcmlkRWRpdCBmcm9tIFxcXCIuL2dyaWRFZGl0LnZ1ZVxcXCI7XFxuaW1wb3J0IENyZWF0aW9uT3B0aW9ucyBmcm9tIFxcXCIuL2NyZWF0aW9uT3B0aW9ucy52dWVcXFwiO1xcbmltcG9ydCBMaWdodFNldHRpbmdzRWRpdCBmcm9tIFxcXCIuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZVxcXCI7XFxuaW1wb3J0IEVudGl0eUluc3BlY3QgZnJvbSBcXFwiLi4vZWNzL2VudGl0eUluc3BlY3QudnVlXFxcIjtcXG5pbXBvcnQge05FVFdPUktfU1RBVFVTX1RZUEUsIE5ldHdvcmtTdGF0dXNSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9uZXR3b3JrU3lzdGVtXFxcIjtcXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7XFxuICAgIEdyaWRFZGl0LCBFbnRpdHlJbnNwZWN0LCBMaWdodFNldHRpbmdzRWRpdCwgQ3JlYXRpb25PcHRpb25zXFxuICB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sQmFyIGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXFxuICB3b3JsZCE6IFdvcmxkO1xcblxcbiAgdG9vbCA9ICdpbnNwZWN0JztcXG4gIGNvbm5lY3Rpb25Db3VudCA9IDA7XFxuICB0cmFja2VyQ291bnQgPSAwO1xcbiAgY29ubmVjdGlvbkJ1ZmZlcmluZyA9IGZhbHNlO1xcblxcbiAgbW91bnRlZCgpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XFxuICB9XFxuXFxuICB1bm1vdW50ZWQoKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gIH1cXG5cXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xcbiAgICBpZiAocmVzLnR5cGUgPT09IFRPT0xfVFlQRSkge1xcbiAgICAgIHRoaXMudG9vbCA9IChyZXMgYXMgVG9vbFJlc291cmNlKS50b29sITtcXG4gICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gTkVUV09SS19TVEFUVVNfVFlQRSkge1xcbiAgICAgIGxldCByID0gcmVzIGFzIE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcXG4gICAgICB0aGlzLnRyYWNrZXJDb3VudCA9IHIudHJhY2tlckNvdW50O1xcbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ID0gci5jb25uZWN0aW9uQ291bnQ7XFxuICAgICAgdGhpcy5jb25uZWN0aW9uQnVmZmVyaW5nID0gci5pc0J1ZmZlcmluZztcXG4gICAgfVxcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG5cXG48c3R5bGU+XFxuXFxuLnNpZGViYXItZm9vdGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcXG59XFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4udG9vbGJhci1idG4ucGx6LXByaW9yaXRpemUge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xcbiAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xcbn1cXG4ucGx6LXByaW9yaXRpemUudW5kby1yZWRvLWJ0bi5kaXNhYmxlZCwgLnBsei1wcmlvcml0aXplLnVuZG8tcmVkby1idG46ZGlzYWJsZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0M2E0MDtcXG4gIGJvcmRlci1jb2xvcjogIzM0M2E0MDtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWRpdC90b29sQmFyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBOEhBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7QUFDQTtBQUdBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGItYnV0dG9uLXRvb2xiYXIgdHlwZT1cXFwiZGFya1xcXCIgdmFyaWFudD1cXFwiaW5mb1xcXCIgY2xhc3M9XFxcImJnLWRhcmtcXFwiXFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwid2lkdGg6IDEwMCU7IGhlaWdodDogdmFyKC0tdG9wYmFyLWhlaWdodCk7IHotaW5kZXg6IDEwMDA7XFxcIiBqdXN0aWZ5PlxcbiAgICA8Yi1idXR0b24tZ3JvdXAgdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlnaHQ6IDJyZW1cXFwiPlxcbiAgICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiVW5kb1xcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemUgdW5kby1yZWRvLWJ0blxcXCIgOmRpc2FibGVkPVxcXCIhdGhpcy5jYW5VbmRvXFxcIiB2LW9uOmNsaWNrPVxcXCJ1bmRvKClcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS11bmRvXFxcIj48L2k+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIlJlZG9cXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplIHVuZG8tcmVkby1idG5cXFwiIDpkaXNhYmxlZD1cXFwiIXRoaXMuY2FuUmVkb1xcXCIgdi1vbjpjbGljaz1cXFwicmVkbygpXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtcmVkb1xcXCI+PC9pPlxcbiAgICAgIDwvYi1idXR0b24+XFxuICAgIDwvYi1idXR0b24tZ3JvdXA+XFxuXFxuICAgIDxiLXJhZGlvLWdyb3VwIGJ1dHRvbnMgdi1tb2RlbD1cXFwidG9vbFxcXCI+XFxuICAgICAgPGItcmFkaW8gcmVmPVxcXCJyYWRpb2luc3BlY3RcXFwiIHRpdGxlPVxcXCJJbnNwZWN0XFxcIiB2YWx1ZT1cXFwiaW5zcGVjdFxcXCIgc3F1YXJlZFxcbiAgICAgICAgICAgICAgIDpjbGFzcz1cXFwieyd0b29sYmFyLWJ0bic6IHRoaXMuYmFja2dyb3VuZExvY2tlZCwgJ2J0bi13YXJuaW5nJzogIXRoaXMuYmFja2dyb3VuZExvY2tlZH1cXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1oYW5kLXBvaW50ZXJcXFwiPjwvaT5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHRpdGxlPVxcXCJBZGQgd2FsbFxcXCIgdmFsdWU9XFxcImNyZWF0ZV93YWxsXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8d2FsbC1pY29uLz5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHRpdGxlPVxcXCJBZGQgcHJvcFxcXCIgdmFsdWU9XFxcImNyZWF0ZV9wcm9wXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWNvdWNoXFxcIj48L2k+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB0aXRsZT1cXFwiQWRkIHBpblxcXCIgdmFsdWU9XFxcImNyZWF0ZV9waW5cXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtdGh1bWJ0YWNrXFxcIj48L2k+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB0aXRsZT1cXFwiRWRpdCBncmlkXFxcIiB2YWx1ZT1cXFwiZ3JpZFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1ib3JkZXItYWxsXFxcIi8+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB0aXRsZT1cXFwiTGlnaHQgc2V0dGluZ3NcXFwiIHZhbHVlPVxcXCJsaWdodFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1saWdodGJ1bGJcXFwiLz5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHRpdGxlPVxcXCJNZWFzdXJlXFxcIiB2YWx1ZT1cXFwibWVhc3VyZVxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1ydWxlclxcXCIvPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB0aXRsZT1cXFwiTW91c2UgdHJhaWxcXFwiIHZhbHVlPVxcXCJtb3VzZV90cmFpbFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPG1vdXNlLXRyYWlsLWljb24vPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgPC9iLXJhZGlvLWdyb3VwPlxcbiAgICA8Yi1idXR0b24gdGl0bGU9XFxcIkV4cG9ydCBtYXBcXFwiIHNxdWFyZWQgdmFyaWFudD1cXFwic3VjY2Vzc1xcXCIgY2xhc3M9XFxcImJ0bi14c1xcXCJcXG4gICAgICAgICAgICAgIHYtb246Y2xpY2s9XFxcIndvcmxkLmV2ZW50cy5lbWl0KCdleHBvcnRfbWFwJylcXFwiIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIj5cXG4gICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWRvd25sb2FkXFxcIi8+XFxuICAgIDwvYi1idXR0b24+XFxuXFxuICAgIDxkaXYgc3R5bGU9XFxcImZsZXg6IDEgMSAwO1xcXCIvPiA8IS0tIFNwYWNpbmcgLS0+XFxuICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiVG9nZ2xlIHNpZGViYXJcXFwiIHZhcmlhbnQ9XFxcIndhcm5pbmdcXFwiIGNsYXNzPVxcXCJidG4teHNcXFwiIHYtYi10b2dnbGUuc2lkZWJhci1yaWdodD5cXG4gICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWFuZ2xlLWRvdWJsZS1yaWdodFxcXCIvPlxcbiAgICA8L2ItYnV0dG9uPlxcbiAgPC9iLWJ1dHRvbi10b29sYmFyPlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuXFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3Jlc291cmNlXFxcIjtcXG5pbXBvcnQge1dvcmxkfSBmcm9tIFxcXCIuLi8uLi9lY3Mvd29ybGRcXFwiO1xcbmltcG9ydCB7QkFDS0dST1VORF9MQVlFUl9UWVBFLCBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbVxcXCI7XFxuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXFxcIjtcXG5pbXBvcnQge1Rvb2x9IGZyb20gXFxcIi4uLy4uL2Vjcy90b29scy90b29sVHlwZVxcXCI7XFxuXFxuaW1wb3J0IE1vdXNlVHJhaWxJY29uIGZyb20gXFxcIi4uL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZVxcXCI7XFxuaW1wb3J0IFdhbGxJY29uIGZyb20gXFxcIi4uL2ljb25zL3dhbGxJY29uLnZ1ZVxcXCI7XFxuXFxuXFxuQFZDb21wb25lbnQoe1xcbiAgY29tcG9uZW50czoge01vdXNlVHJhaWxJY29uLCBXYWxsSWNvbn1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xCYXIgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcXG4gIHdvcmxkITogV29ybGQ7XFxuXFxuICB0b29sID0gJ2luc3BlY3QnO1xcbiAgYmFja2dyb3VuZExvY2tlZDogYm9vbGVhbiA9IHRydWU7XFxuXFxuICBjYW5VbmRvID0gZmFsc2U7XFxuICBjYW5SZWRvID0gZmFsc2U7XFxuXFxuICBtb3VudGVkKCkge1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbW1hbmRfaGlzdG9yeV9jaGFuZ2UnLCB0aGlzLm9uQ29tbWFuZEhpc3RvcnlDaGFuZ2UsIHRoaXMpO1xcblxcbiAgICBsZXQgeCA9ICh0aGlzLiRyZWZzLnJhZGlvaW5zcGVjdCBhcyBWdWUpO1xcbiAgICB4LiRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XFxuICAgICAgaWYgKCEoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xcbiAgICAgIGlmICh0aGlzLnRvb2wgPT09ICdpbnNwZWN0Jykge1xcbiAgICAgICAgbGV0IGxvY2tlZCA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UpLmxvY2tlZDtcXG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSwgeyBsb2NrZWQ6ICFsb2NrZWQgfSk7XFxuICAgICAgfVxcbiAgICB9KTtcXG4gIH1cXG5cXG4gIHVubW91bnRlZCgpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ2NvbW1hbmRfaGlzdG9yeV9jaGFuZ2UnLCB0aGlzLm9uQ29tbWFuZEhpc3RvcnlDaGFuZ2UsIHRoaXMpO1xcbiAgfVxcblxcbiAgb25Db21tYW5kSGlzdG9yeUNoYW5nZShjYW5VbmRvOiBib29sZWFuLCBjYW5SZWRvOiBib29sZWFuKSB7XFxuICAgIHRoaXMuY2FuVW5kbyA9IGNhblVuZG87XFxuICAgIHRoaXMuY2FuUmVkbyA9IGNhblJlZG87XFxuICB9XFxuXFxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcXG4gICAgaWYgKHJlcy50eXBlID09PSBCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIHtcXG4gICAgICB0aGlzLmJhY2tncm91bmRMb2NrZWQgPSAocmVzIGFzIEJhY2tncm91bmRMYXllclJlc291cmNlKS5sb2NrZWQ7XFxuICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IFRPT0xfVFlQRSkge1xcbiAgICAgIHRoaXMudG9vbCA9IChyZXMgYXMgVG9vbFJlc291cmNlKS50b29sITtcXG4gICAgfVxcbiAgfVxcblxcbiAgQFZXYXRjaCgndG9vbCcpXFxuICBvblRvb2xFZGl0KHRvb2w6IFRvb2wpIHtcXG4gICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoJ3Rvb2wnLCB7dG9vbH0pO1xcbiAgfVxcblxcbiAgdW5kbygpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF91bmRvJyk7XFxuICB9XFxuXFxuICByZWRvKCkge1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3JlZG8nKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcblxcbi50b29sYmFyLWJ0bi5wbHotcHJpb3JpdGl6ZSB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XFxuICBib3JkZXItY29sb3I6ICMyQzNFNTA7XFxufVxcblxcblxcbi5wbHotcHJpb3JpdGl6ZS51bmRvLXJlZG8tYnRuLmRpc2FibGVkLCAucGx6LXByaW9yaXRpemUudW5kby1yZWRvLWJ0bjpkaXNhYmxlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQzYTQwO1xcbiAgYm9yZGVyLWNvbG9yOiAjMzQzYTQwO1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIGZyb20gXCIuLi8uLi9wdWJsaWMvaW1hZ2VzL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmZvb3Rlcl9jcmVkaXRzIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuLmZvb3Rlcl9naXRodWIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDMycHg7XFxuICBoZWlnaHQ6IDMycHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbn1cXG4uZm9vdGVyX2dpdGh1Yjpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcbi5mb290ZXJfcHJvZmlsZSB7XFxuICBjb2xvcjogd2hpdGU7XFxufVxcbi5mb290ZXJfcHJvZmlsZTpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBcUJBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0FBQ0E7QUFFQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5REFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcImZvb3RlclxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvb3Rlcl9jcmVkaXRzXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJsaW5rc1xcXCI+XFxuICAgICAgICA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2Rlci9kbmRtZVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJmb290ZXJfZ2l0aHViXFxcIj48L2E+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPHNtYWxsIHN0eWxlPVxcXCJjb2xvcjogbGlnaHRncmF5XFxcIj5cXG4gICAgICAgIERldmVsb3BlZCBieSA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2RlclxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJmb290ZXJfcHJvZmlsZVxcXCI+Um9zc2kgTG9yZW56bzwvYT4gL1xcbiAgICAgICAgRHJhd2luZ3MgYnkgPHNwYW4gc3R5bGU9XFxcImNvbG9yOiB3aGl0ZVxcXCI+R2lvcmdpYSBOaXp6b2xpPC9zcGFuPlxcbiAgICAgIDwvc21hbGw+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgVnVlIGZyb20gXFxcInZ1ZVxcXCI7XFxuXFxuZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7fSk7XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5mb290ZXJfY3JlZGl0cyB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcblxcbi5mb290ZXJfZ2l0aHViIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzMnB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJ+UHVibGljL2ltYWdlcy9HaXRIdWItTWFyay1MaWdodC0zMnB4LnBuZ1xcXCIpO1xcbn1cXG5cXG4uZm9vdGVyX2dpdGh1Yjpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbi5mb290ZXJfcHJvZmlsZSB7XFxuICBjb2xvcjogd2hpdGU7XFxufVxcblxcbi5mb290ZXJfcHJvZmlsZTpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbjwvc3R5bGU+XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLnMtaG9tZS1jb250YWluZXIge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4ucy1ob21lLXRleHQge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4uYnRuLWVudHJ5IHtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBMEVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0FBQ0E7QUFFQTtFQUNBLG1CQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwicGhhc2UtY29udGFpbmVyIHRleHQtY2VudGVyIGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHJvd1xcXCIgc3R5bGU9XFxcImhlaWdodDogMTAwdmg7IG1hcmdpbjogMDtcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0ZXh0LXdoaXRlXFxcIj5cXG4gICAgICA8cCBjbGFzcz1cXFwidGl0bGVcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDMuNWVtOyBtYXJnaW46IDA7XFxcIj5EUkFXJkRJQ0U8L3A+XFxuICAgICAgPHAgY2xhc3M9XFxcIlxcXCIgc3R5bGU9XFxcImZvbnQtc2l6ZTogMmVtO1xcXCI+RG5kIG1hZGUgZXohPC9wPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdj5cXG4gICAgICA8Yi1idXR0b24gdmFyaWFudD1cXFwid2FybmluZ1xcXCIgc2l6ZT1cXFwibGdcXFwiIGNsYXNzPVxcXCJidG4tZW50cnlcXFwiIHYtb246Y2xpY2s9XFxcIm9uQ3JlYXRlTWFwXFxcIj5DcmVhdGUgTWFwPC9iLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXY+XFxuICAgICAgPGItYnV0dG9uIHZhcmlhbnQ9XFxcImluZm9cXFwiIHNpemU9XFxcImxnXFxcIiBjbGFzcz1cXFwiYnRuLWVudHJ5XFxcIiB2LW9uOmNsaWNrPVxcXCJvbkVkaXRNYXBcXFwiPkVkaXQgTWFwPC9iLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxiLW1vZGFsIHJlZj1cXFwibWFwLWxvYWQtbW9kYWxcXFwiIGhpZGUtZm9vdGVyIHRpdGxlPVxcXCJHaW1tZSB0aGUgbWFwXFxcIj5cXG4gICAgICA8Yi1mb3JtLWZpbGVcXG4gICAgICAgICAgdi1tb2RlbD1cXFwiZmlsZVxcXCJcXG4gICAgICAgICAgOnN0YXRlPVxcXCJCb29sZWFuKGZpbGUpXFxcIlxcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiQ2hvb3NlIGEgZmlsZSBvciBkcm9wIGl0IGhlcmUuLi5cXFwiXFxuICAgICAgICAgIGRyb3AtcGxhY2Vob2xkZXI9XFxcIkRyb3AgZmlsZSBoZXJlLi4uXFxcIlxcbiAgICAgICAgICBhY2NlcHQ9XFxcIi5kbmRtXFxcIlxcbiAgICAgID48L2ItZm9ybS1maWxlPlxcbiAgICA8L2ItbW9kYWw+XFxuXFxuICAgIDxmb290ZXItY29tcG9uZW50PjwvZm9vdGVyLWNvbXBvbmVudD5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IEZvb3RlckNvbXBvbmVudCBmcm9tIFxcXCIuLi9mb290ZXIudnVlXFxcIjtcXG5pbXBvcnQgTWFwSW5wdXQgZnJvbSBcXFwiLi9tYXBJbnB1dC52dWVcXFwiO1xcblxcblxcbmltcG9ydCB7VkNvbXBvbmVudCwgVnVlLCBQaGFzZVZ1ZSwgVldhdGNoLCBWUmVmfSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcbmltcG9ydCBFdmVudEVtaXR0ZXIgPSBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlcjtcXG5pbXBvcnQge0JNb2RhbH0gZnJvbSBcXFwiYm9vdHN0cmFwLXZ1ZVxcXCI7XFxuXFxuQFZDb21wb25lbnQoe1xcbiAgY29tcG9uZW50czogeyBNYXBJbnB1dCwgRm9vdGVyQ29tcG9uZW50IH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWVDb21wb25lbnQgZXh0ZW5kcyBWdWUgaW1wbGVtZW50cyBQaGFzZVZ1ZSB7XFxuICBAVlJlZignbWFwLWxvYWQtbW9kYWwnKSByZWFkb25seSBtYXBMb2FkTW9kYWwhOiBCTW9kYWw7XFxuXFxuICBmaWxlOiBhbnkgPSBudWxsO1xcbiAgcGVuZGluZ09wOiBzdHJpbmcgPSBcXFwiXFxcIjtcXG4gIGV2ZW50RW1pdHRlciE6IEV2ZW50RW1pdHRlcjtcXG5cXG4gIG9uQ3JlYXRlTWFwKCkge1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFxcXCJjcmVhdGVfbWFwXFxcIik7XFxuICB9XFxuXFxuICBvbkVkaXRNYXAoKSB7XFxuICAgIHRoaXMucGVuZGluZ09wID0gJ2VkaXQnO1xcbiAgICB0aGlzLm1hcExvYWRNb2RhbC5zaG93KCk7XFxuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXFxcImVkaXRfbWFwXFxcIik7XFxuICB9XFxuXFxuICBtYXBMb2FkQ2FuY2VsKCkge1xcbiAgICB0aGlzLm1hcExvYWRNb2RhbC5oaWRlKCk7XFxuICB9XFxuXFxuICBAVldhdGNoKCdmaWxlJylcXG4gIG9uRmlsZUNoYW5nZWQodmFsOiBhbnkpIHtcXG4gICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm47XFxuXFxuICAgIGNvbnNvbGUubG9nKFxcXCJGaWxlIGRyb3BwZWQsIGxvYWRpbmc6IFxcXCIgKyB0aGlzLnBlbmRpbmdPcCk7XFxuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQodGhpcy5wZW5kaW5nT3AsIHRoaXMuZmlsZSk7XFxuICAgIHRoaXMuZmlsZSA9IG51bGw7XFxuICAgIHRoaXMubWFwTG9hZENhbmNlbCgpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuLnMtaG9tZS1jb250YWluZXIge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4ucy1ob21lLXRleHQge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4uYnRuLWVudHJ5IHtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbjwvc3R5bGU+XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLnNsb2FkaW5nLWNvbnRhaW5lciB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBoZWlnaHQ6IDEwMHZoO1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcbi5zbG9hZGluZy10aXRsZSB7XFxuICBmb250LXNpemU6IDVlbTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF3Q0E7RUFDQSxZQUFBO0VBQ0EsYUFBQTs7RUFFQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBQ0E7QUFDQTtFQUNBLGNBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzbG9hZGluZy1jb250YWluZXJcXFwiPlxcbiAgICAgIDxoMSBjbGFzcz1cXFwic2xvYWRpbmctdGl0bGVcXFwiPkRSQVcmRElDRTwvaDE+XFxuICAgICAgPGgyPnt7bWVzc2FnZX19PC9oMj5cXG4gICAgICA8aDU+TG9hZGluZzwvaDU+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgVnVlIGZyb20gXFxcInZ1ZVxcXCI7XFxuaW1wb3J0IHtWQ29tcG9uZW50fSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcblxcbmNvbnN0IExPQURJTkdfUEhSQVNFUyA9IFtcXG4gIFxcXCJQZXJzdWFkaW5nIGRyYWdvbnMgdG8gY29vcGVyYXRlLi4uXFxcIixcXG4gIFxcXCJBIER3YXJmLCBhbiBFbGYgYW5kIGEgRHJhZ29uYm9yZCBlbnRlciBhIHRhdmVybi4uLiBcXFxcXFxcIldlJ3JlIGxvb2tpbmcgZm9yIGEgcXVlc3RcXFxcXFxcIlxcXCIsXFxuICBcXFwiQW4gYW5jaWVudCBsZWdlbmQgdGVsbHMgdGhhdCBpZiB5b3UgaW5zdWx0IGEgZHJhZ29uIHRvIGV4aGF1c3Rpb24uLi4gdGhleSdsbCBlYXQgeW91IGFueXdheXNcXFwiLFxcbiAgXFxcIlJlY2hhcmdpbmcgc3BlbGwgc2xvdHMuLi5cXFwiLFxcbiAgXFxcIlJvbGwgYSBDaGFyaXNtYSBzYXZpbmcgdGhyb3cuLi5cXFwiLFxcbiAgXFxcIkxvbmcgcmVzdCBpbiBwcm9ncmVzcy4uLlxcXCIsXFxuICBcXFwiRml0dGluZyBvdXQgdGhlIGdvYmxpbiBhcm15Li4uXFxcIixcXG4gIFxcXCJUaGUgbGFzdCBib3NzIHlvdSBraWxsZWQgbWV0IGEgMjB0aCBsZXZlbCBjaGllcmljLi4uIFRoZSByZXN0IGlzIHVwIHRvIHlvdSEgOylcXFwiLFxcbiAgXFxcIlRoaXMgbWFwIG9ubHkgY29zdHMgMjVncCFcXFwiLFxcbiAgXFxcIlNvcnJ5LCB5b3UnZCBiZXR0ZXIgY3JlYXRlIGEgbmV3IGNoYXJhY3RlciBzaGVldFxcXCIsXFxuXTtcXG5cXG5mdW5jdGlvbiByYW5kb21NZXgoKSB7XFxuICBjb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTE9BRElOR19QSFJBU0VTLmxlbmd0aCk7XFxuICByZXR1cm4gTE9BRElOR19QSFJBU0VTW2ldO1xcbn1cXG5cXG5AVkNvbXBvbmVudFxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmcgZXh0ZW5kcyBWdWUge1xcbiAgbWVzc2FnZSA9IHJhbmRvbU1leCgpO1xcbn1cXG5cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuICAuc2xvYWRpbmctY29udGFpbmVyIHtcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBoZWlnaHQ6IDEwMHZoO1xcblxcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG4gIC5zbG9hZGluZy10aXRsZSB7XFxuICAgIGZvbnQtc2l6ZTogNWVtO1xcbiAgfVxcbjwvc3R5bGU+XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLnV0aWxfZWNvbG9yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XFxuICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XFxuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDAuMTI1cmVtICFpbXBvcnRhbnQ7XFxuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IGNhbGMoMS41ZW0gKyAwLjc1cmVtICsgMnB4KTtcXG4gIHdpZHRoOiBjYWxjKDEuNWVtICsgMC43NXJlbSArIDJweCk7XFxuICBtYXJnaW4tbGVmdDogMC41ZW07XFxuXFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxufVxcbi51dGlsX2Vjb2xvcjo6LW1vei1jb2xvci1zd2F0Y2gsIC51dGlsX2Vjb2xvcjo6LXdlYmtpdC1jb2xvci1zd2F0Y2gsIC51dGlsX2Vjb2xvcjo6LXdlYmtpdC1jb2xvci1zd2F0Y2gtd3JhcHBlciB7XFxuICBib3JkZXI6IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQXlCQTtFQUNBLHdDQUFBO0VBQ0Esd0JBQUE7RUFDQSx1QkFBQTtFQUNBLDRCQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLGtDQUFBO0VBQ0Esa0JBQUE7O0VBRUEsd0JBQUE7QUFDQTtBQUVBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8aW5wdXQgdHlwZT1cXFwiY29sb3JcXFwiIHYtYmluZDp2YWx1ZT1cXFwidmFsdWVcXFwiIHYtb246aW5wdXQ9XFxcIiRlbWl0KCdpbnB1dCcsICRldmVudC50YXJnZXQudmFsdWUpXFxcIlxcbiAgICAgICAgIDpyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiIDpwbGFjZWhvbGRlcj1cXFwicGxhY2Vob2xkZXJcXFwiIEBjaGFuZ2U9XFxcIiRlbWl0KCdjaGFuZ2UnKVxcXCJcXG4gICAgICAgICBjbGFzcz1cXFwidXRpbF9lY29sb3JcXFwiPlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuXFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcblxcbkBWQ29tcG9uZW50XFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVDb2xvciBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIHZhbHVlITogc3RyaW5nO1xcblxcbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXFxuICByZWFkb25seSE6IGJvb2xlYW47XFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcXG4gIHBsYWNlaG9sZGVyITogc3RyaW5nO1xcbn1cXG5cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuLnV0aWxfZWNvbG9yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XFxuICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XFxuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDAuMTI1cmVtICFpbXBvcnRhbnQ7XFxuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IGNhbGMoMS41ZW0gKyAwLjc1cmVtICsgMnB4KTtcXG4gIHdpZHRoOiBjYWxjKDEuNWVtICsgMC43NXJlbSArIDJweCk7XFxuICBtYXJnaW4tbGVmdDogMC41ZW07XFxuXFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxufVxcblxcbi51dGlsX2Vjb2xvcjo6LW1vei1jb2xvci1zd2F0Y2gsIC51dGlsX2Vjb2xvcjo6LXdlYmtpdC1jb2xvci1zd2F0Y2gsIC51dGlsX2Vjb2xvcjo6LXdlYmtpdC1jb2xvci1zd2F0Y2gtd3JhcHBlciB7XFxuICBib3JkZXI6IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG48L3N0eWxlPlxcblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi51dGlsX2VkaXRhYmxlLXRleHRfZGl2IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogNXB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi51dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMXB4O1xcblxcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzLCBib3JkZXIgMHMgMC4ycztcXG59XFxuLnV0aWxfZWRpdGFibGUtdGV4dF9pbnB1dDpmb2N1cyB+IC51dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyIHtcXG4gIGJvcmRlci1jb2xvcjogIzQyODVGNDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdHJhbnNpdGlvbjogd2lkdGggMC4zcztcXG59XFxuLmhwcmlvci51dGlsX2VkaXRhYmxlLXRleHRfaW5wdXQge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgcGFkZGluZzogM3B4IDEwcHg7XFxuICBtYXJnaW46IDA7XFxuICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggI2VlZWVlZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF1Q0E7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FBQ0E7QUFFQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTs7RUFFQSw2QkFBQTtFQUNBLHNDQUFBO0FBQ0E7QUFFQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLFNBQUE7RUFDQSxnQ0FBQTtFQUNBLGFBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJ1dGlsX2VkaXRhYmxlLXRleHRfZGl2XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHYtYmluZDp2YWx1ZT1cXFwidmFsdWVcXFwiIHYtb246aW5wdXQ9XFxcIm9uRXZlbnQoJ2lucHV0JywgJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgOnJlYWRvbmx5PVxcXCJyZWFkb25seVxcXCIgOnBsYWNlaG9sZGVyPVxcXCJwbGFjZWhvbGRlclxcXCIgQGNoYW5nZT1cXFwib25FdmVudCgnY2hhbmdlJywgJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgY2xhc3M9XFxcImZvcm0tY29udHJvbC1wbGFpbnRleHQgaHByaW9yIHV0aWxfZWRpdGFibGUtdGV4dF9pbnB1dFxcXCI+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ1dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyXFxcIj48L3NwYW4+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcblxcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5AVkNvbXBvbmVudFxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRhYmxlVGV4dCBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIHZhbHVlITogc3RyaW5nO1xcblxcbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXFxuICByZWFkb25seSE6IGJvb2xlYW47XFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcXG4gIHBsYWNlaG9sZGVyITogc3RyaW5nXFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6IHVuZGVmaW5lZH0pXFxuICBmaWx0ZXI/OiAodGV4dDogc3RyaW5nKSA9PiBzdHJpbmc7XFxuXFxuICBvbkV2ZW50KGV2OiBzdHJpbmcsIGV2ZW50OiBJbnB1dEV2ZW50KSB7XFxuICAgIGNvbnN0IGV0ID0gZXZlbnQudGFyZ2V0IGFzIGFueTtcXG4gICAgaWYgKHRoaXMuZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcXG4gICAgICBldC52YWx1ZSA9IHRoaXMuZmlsdGVyKGV0LnZhbHVlKTtcXG4gICAgfVxcbiAgICB0aGlzLiRlbWl0KGV2LCBldC52YWx1ZSk7XFxuICB9XFxufVxcblxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4udXRpbF9lZGl0YWJsZS10ZXh0X2RpdiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW46IDVweDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4udXRpbF9lZGl0YWJsZS10ZXh0X2JvcmRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDFweDtcXG5cXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgdHJhbnNpdGlvbjogd2lkdGggMC4ycywgYm9yZGVyIDBzIDAuMnM7XFxufVxcblxcbi51dGlsX2VkaXRhYmxlLXRleHRfaW5wdXQ6Zm9jdXMgfiAudXRpbF9lZGl0YWJsZS10ZXh0X2JvcmRlciB7XFxuICBib3JkZXItY29sb3I6ICM0Mjg1RjQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XFxufVxcblxcbi5ocHJpb3IudXRpbF9lZGl0YWJsZS10ZXh0X2lucHV0IHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDNweCAxMHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNlZWVlZWU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG48L3N0eWxlPlxcblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzBfX18gZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAuY3NzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9ib290c3RyYXAtdnVlL2Rpc3QvYm9vdHN0cmFwLXZ1ZS5jc3NcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU1lcmllbmRhK09uZSZkaXNwbGF5PXN3YXApO1wiXSk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMV9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAgIC0tdG9wYmFyLWhlaWdodDogNDBweDtcXG59XFxuXFxuKiB7XFxuICAgIGZvbnQtZmFtaWx5OiAnTWVyaWVuZGEgT25lJywgY3Vyc2l2ZTtcXG59XFxuXFxuYm9keSB7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG5cXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWdBQUFBSUNBWUFBQURFRDc2TEFBQUFQa2xFUVZRb1UyTmtZR0F3Wm1CZ09Nc0FBU0QyY3dZR2htY3dQaU9VSWNYQXdDQ0pwQkRPaHluQTBBa3pDYVFBMlFvTWswQUtRSUp3TytudkJtTUFrMllXdkRoWUJSb0FBQUFBU1VWT1JLNUNZSUk9KTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNDcyYyAhaW1wb3J0YW50O1xcbn1cXG5cXG4ucGhhc2UtY29udGFpbmVyIHtcXG59XFxuXFxuLmZvb3RlciB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm90dG9tOiAwO1xcbn1cXG5cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNjAwcHgpIHtcXG4gICAgLmZvb3RlciB7XFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcbiAgICB9XFxufVxcblxcbi51bmRlci1uYXZiYXIge1xcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS10b3BiYXItaGVpZ2h0KSAhaW1wb3J0YW50O1xcbn1cXG5cXG5kaXYudW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuLmItc2lkZWJhci51bmRlci1uYXZiYXIge1xcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSk7XFxufVxcblxcbi5mb290ZXIsIC5nYW1lLWZvb3RlciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4uYnRuLXhzIHtcXG4gICAgcGFkZGluZzogLjI1cmVtIC40cmVtO1xcbiAgICBmb250LXNpemU6IC44NzVyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiAuNTtcXG4gICAgYm9yZGVyLXJhZGl1czogLjJyZW07XFxufVxcblxcbi5tb2RhbC1mdWxsc2NyZWVuIHtcXG4gICAgaGVpZ2h0OiA5MiU7XFxufVxcbi5tb2RhbC1mdWxsc2NyZWVuIC5tb2RhbC1jb250ZW50IHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4ubW9kYWwteHhsIHtcXG4gICAgd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbiAgICBtYXgtd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbn1cXG5cXG4jY2FudmFzLWNvbnRhaW5lciBjYW52YXMge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbn1cXG5cXG4uZzExIHtcXG4gICAgZ3JpZC1jb2x1bW46IDE7XFxuICAgIGdyaWQtcm93OiAxO1xcbn1cXG5cXG4ucm90YXRlIHtcXG4gICAgYW5pbWF0aW9uOiByb3RhdGlvbiAxcyBpbmZpbml0ZSBsaW5lYXI7XFxufVxcblxcbi8qKiBBTklNQVRJT05TICoqL1xcblxcbkBrZXlmcmFtZXMgcm90YXRpb24ge1xcbiAgICBmcm9tIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7XFxuICAgIH1cXG59XFxuXFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3B1YmxpYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBSUE7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxZQUFZOztJQUVaLDZNQUE2TTtJQUM3TSxvQ0FBb0M7QUFDeEM7O0FBRUE7QUFDQTs7QUFFQTtJQUNJLGVBQWU7SUFDZixTQUFTO0FBQ2I7OztBQUdBO0lBQ0k7UUFDSSxnQkFBZ0I7SUFDcEI7QUFDSjs7QUFFQTtJQUNJLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLDBDQUEwQztBQUM5Qzs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQ0FBcUM7QUFDekM7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7QUFDQTtJQUNJLFlBQVk7QUFDaEI7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsV0FBVztBQUNmOztBQUVBO0lBQ0ksc0NBQXNDO0FBQzFDOztBQUVBLGlCQUFpQjs7QUFFakI7SUFDSTtRQUNJLHVCQUF1QjtJQUMzQjtJQUNBO1FBQ0kseUJBQXlCO0lBQzdCO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TWVyaWVuZGErT25lJmRpc3BsYXk9c3dhcCcpO1xcbkBpbXBvcnQgJ35ib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLmNzcyc7XFxuQGltcG9ydCAnfmJvb3RzdHJhcC12dWUvZGlzdC9ib290c3RyYXAtdnVlLmNzcyc7XFxuXFxuOnJvb3Qge1xcbiAgICAtLXRvcGJhci1oZWlnaHQ6IDQwcHg7XFxufVxcblxcbioge1xcbiAgICBmb250LWZhbWlseTogJ01lcmllbmRhIE9uZScsIGN1cnNpdmU7XFxufVxcblxcbmJvZHkge1xcbiAgICBjb2xvcjogd2hpdGU7XFxuXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFnQUFBQUlDQVlBQUFERUQ3NkxBQUFBUGtsRVFWUW9VMk5rWUdBd1ptQmdPTXNBQVNEMmN3WUdobWN3UGlPVUljWEF3Q0NKcEJET2h5bkEwQWt6Q2FRQTJRb01rMEFLUUlKd08rbnZCbU1BazJZV3ZEaFlCUm9BQUFBQVNVVk9SSzVDWUlJPSk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTQ3MmMgIWltcG9ydGFudDtcXG59XFxuXFxuLnBoYXNlLWNvbnRhaW5lciB7XFxufVxcblxcbi5mb290ZXIge1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIGJvdHRvbTogMDtcXG59XFxuXFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6IDYwMHB4KSB7XFxuICAgIC5mb290ZXIge1xcbiAgICAgICAgcG9zaXRpb246IHN0YXRpYztcXG4gICAgfVxcbn1cXG5cXG4udW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuZGl2LnVuZGVyLW5hdmJhciB7XFxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvcGJhci1oZWlnaHQpICFpbXBvcnRhbnQ7XFxufVxcblxcbi5iLXNpZGViYXIudW5kZXItbmF2YmFyIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpO1xcbn1cXG5cXG4uZm9vdGVyLCAuZ2FtZS1mb290ZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxuLmJ0bi14cyB7XFxuICAgIHBhZGRpbmc6IC4yNXJlbSAuNHJlbTtcXG4gICAgZm9udC1zaXplOiAuODc1cmVtO1xcbiAgICBsaW5lLWhlaWdodDogLjU7XFxuICAgIGJvcmRlci1yYWRpdXM6IC4ycmVtO1xcbn1cXG5cXG4ubW9kYWwtZnVsbHNjcmVlbiB7XFxuICAgIGhlaWdodDogOTIlO1xcbn1cXG4ubW9kYWwtZnVsbHNjcmVlbiAubW9kYWwtY29udGVudCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuLm1vZGFsLXh4bCB7XFxuICAgIHdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG4gICAgbWF4LXdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG59XFxuXFxuI2NhbnZhcy1jb250YWluZXIgY2FudmFzIHtcXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcXG59XFxuXFxuLmcxMSB7XFxuICAgIGdyaWQtY29sdW1uOiAxO1xcbiAgICBncmlkLXJvdzogMTtcXG59XFxuXFxuLnJvdGF0ZSB7XFxuICAgIGFuaW1hdGlvbjogcm90YXRpb24gMXMgaW5maW5pdGUgbGluZWFyO1xcbn1cXG5cXG4vKiogQU5JTUFUSU9OUyAqKi9cXG5cXG5Aa2V5ZnJhbWVzIHJvdGF0aW9uIHtcXG4gICAgZnJvbSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgfVxcbiAgICB0byB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xcbiAgICB9XFxufVxcblxcblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMjY2Y2E2MzE3N2JjYTZmMzMwYTc0ZTgzZmRjNjMxNzgucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ2MWYzNTc5MjlmOWY4ZDYzZGEyMGI4MWU3NDNhMDk5LnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkYTE2Nzk4ZjQ2YzY2NzIzMjNmOTU2M2NjOGM4MzhiOS5wbmdcIjsiLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBlY3NOYW1lIGZyb20gXCIuL2Vjc05hbWUudnVlXCI7XG5pbXBvcnQgZWNzTm90ZSBmcm9tIFwiLi9lY3NOb3RlLnZ1ZVwiO1xuaW1wb3J0IGVjc1Bvc2l0aW9uIGZyb20gXCIuL2Vjc1Bvc2l0aW9uLnZ1ZVwiO1xuaW1wb3J0IGVjc1dhbGwgZnJvbSBcIi4vZWNzV2FsbC52dWVcIjtcbmltcG9ydCBlY3NCYWNrZ3JvdW5kSW1hZ2UgZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZVwiO1xuaW1wb3J0IGVjc1BpbiBmcm9tIFwiLi9lY3NQaW4udnVlXCI7XG5pbXBvcnQgZWNzVHJhbnNmb3JtIGZyb20gXCIuL2Vjc1RyYW5zZm9ybS52dWVcIjtcbmltcG9ydCBlY3NMaWdodCBmcm9tIFwiLi9lY3NMaWdodC52dWVcIjtcbmltcG9ydCBlY3NQbGF5ZXIgZnJvbSBcIi4vZWNzUGxheWVyLnZ1ZVwiO1xuaW1wb3J0IGVjc0Rvb3IgZnJvbSBcIi4vZWNzRG9vci52dWVcIjtcbmltcG9ydCBlY3NQcm9wIGZyb20gXCIuL2Vjc1Byb3AudnVlXCI7XG5pbXBvcnQgZWNzUHJvcFRlbGVwb3J0IGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWVcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiXG5pbXBvcnQge1Z1ZSwgVkNvbXBvbmVudCwgVlByb3B9IGZyb20gXCIuLi92dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgZWNzTmFtZSwgZWNzTm90ZSwgZWNzUG9zaXRpb24sIGVjc1dhbGwsIGVjc0JhY2tncm91bmRJbWFnZSwgZWNzUGluLCBlY3NUcmFuc2Zvcm0sIGVjc0xpZ2h0LCBlY3NQbGF5ZXIsIGVjc0Rvb3IsXG4gICAgZWNzUHJvcCwgZWNzUHJvcFRlbGVwb3J0XG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NDb21wb25lbnRXcmFwcGVyIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IENvbXBvbmVudDtcblxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgdmlzaWJsZSA9IHRydWU7XG5cbiAgZ2V0IGNvbXBvbmVudFR5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2Vjcy0nICsgdGhpcy5jb21wb25lbnQudHlwZS5yZXBsYWNlKCdfJywgJy0nKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQge0JhY2tncm91bmRJbWFnZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRJbWFnZVN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzQmFja2dyb3VuZEltYWdlIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IEJhY2tncm91bmRJbWFnZUNvbXBvbmVudDtcbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7RG9vckNvbXBvbmVudCwgRG9vclR5cGV9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9kb29yU3lzdGVtXCI7XG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NEb29yIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IERvb3JDb21wb25lbnQ7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBpc0FkbWluITogYm9vbGVhbjtcblxuICBkb29yVHlwZTogRG9vclR5cGUgPSBEb29yVHlwZS5OT1JNQUxfUklHSFQ7XG4gIG9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgbG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LmRvb3JUeXBlICE9PSB0aGlzLmRvb3JUeXBlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2Rvb3InLCAnZG9vclR5cGUnLCB0aGlzLmRvb3JUeXBlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Lm9wZW4gIT09IHRoaXMub3Blbikge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdkb29yJywgJ29wZW4nLCB0aGlzLm9wZW4pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb21wb25lbnQubG9ja2VkICE9PSB0aGlzLmxvY2tlZCkge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdkb29yJywgJ2xvY2tlZCcsIHRoaXMubG9ja2VkKTtcbiAgICB9XG4gIH1cblxuICBnZXQgZG9vclR5cGVOYW1lKCk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0aGlzLmRvb3JUeXBlKSB7XG4gICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9MRUZUOlxuICAgICAgICByZXR1cm4gXCJOb3JtYWxcIjtcbiAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX1JJR0hUOlxuICAgICAgICByZXR1cm4gXCJOb3JtYWwgcmlnaHRcIjtcbiAgICAgIGNhc2UgRG9vclR5cGUuUk9UQVRFOlxuICAgICAgICByZXR1cm4gXCJSb3RhdGluZ1wiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwiVW5rbm93bj8/XCJcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQuZG9vclR5cGUnKVxuICBvbkNEb29yVHlwZUNoYW5nZWQodmFsOiBEb29yVHlwZSkge1xuICAgIHRoaXMuZG9vclR5cGUgPSB2YWw7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQub3BlbicpXG4gIG9uQ09wZW5DaGFuZ2VkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMub3BlbiA9IHZhbDtcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5sb2NrZWQnKVxuICBvbkNMb2NrZWRDaGFuZ2VkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMubG9ja2VkID0gdmFsO1xuICB9XG5cbiAgQFZXYXRjaCgnZG9vclR5cGUnKVxuICBvbkRvb3JUeXBlQ2hhbmdlZCgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gIH1cblxuICBAVldhdGNoKCdvcGVuJylcbiAgb25PcGVuQ2hhbmdlZCgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gIH1cblxuICBAVldhdGNoKCdsb2NrZWQnKVxuICBvbkxvY2tlZENoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0xpZ2h0Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XG5pbXBvcnQgRWRpdGFibGVDb2xvciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZUNvbG9yLnZ1ZVwiO1xuaW1wb3J0IEVkaXRhYmxlTnVtYmVyIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZUNvbG9yLCBFZGl0YWJsZU51bWJlcixcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0xpZ2h0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IExpZ2h0Q29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBjb2xvcjogc3RyaW5nID0gJyc7XG4gIHJhbmdlOiBzdHJpbmcgPSAnJztcblxuICBvbkNoYW5nZSgpIHtcbiAgICBsZXQgYyA9IHN0cmluZzJoZXgodGhpcy5jb2xvcik7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LmNvbG9yICE9PSBjICYmIHRoaXMuY29sb3IgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2xpZ2h0JywgJ2NvbG9yJywgYyk7XG4gICAgfVxuICAgIGxldCByID0gcGFyc2VGbG9hdCh0aGlzLnJhbmdlKTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQucmFuZ2UgIT09IHIgJiYgdGhpcy5yYW5nZSAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnbGlnaHQnLCAncmFuZ2UnLCByKTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQuY29sb3InKVxuICBvbkNDb2xvckNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmNvbG9yID0gdmFsID09PSB1bmRlZmluZWQgPyAnJyA6IGhleDJzdHJpbmcodmFsKTtcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5yYW5nZScpXG4gIG9uQ1JhbmdlQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucmFuZ2UgPSAodmFsID8/ICcnKSArICcnO1xuICB9XG59XG4iLCJcblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7TmFtZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCBFZGl0YWJsZVRleHQgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZVRleHRcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc05hbWUgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogTmFtZUNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgbmFtZTogc3RyaW5nID0gJyc7XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm5hbWUnKVxuICBvbkNOYW1lQ2hhbmdlZCh2YWw6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMubmFtZSA9IHZhbCA/PyAnJztcbiAgfVxuXG4gIG9uQ2hhbmdlKCkge1xuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnbmFtZScsICduYW1lJywgdGhpcy5uYW1lLCB0aGlzLmNvbXBvbmVudC5tdWx0aUlkKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7Tm90ZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc05vdGUgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogTm90ZUNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgbm90ZTogc3RyaW5nID0gJyc7XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm5vdGUnKVxuICBvbkNOb3RlQ2hhbmdlZCh2YWw6IHN0cmluZykge1xuICAgIHRoaXMubm90ZSA9IHZhbDtcbiAgfVxuXG4gIG9uQ2hhbmdlKCkge1xuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnbm90ZScsICdub3RlJywgdGhpcy5ub3RlLCB0aGlzLmNvbXBvbmVudC5tdWx0aUlkKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UGluQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGluU3lzdGVtXCI7XG5pbXBvcnQgaGV4MnN0cmluZyA9IFBJWEkudXRpbHMuaGV4MnN0cmluZztcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuXG5pbXBvcnQgRWRpdGFibGVUZXh0IGZyb20gXCIuLi91dGlsL2VkaXRhYmxlVGV4dC52dWVcIjtcbmltcG9ydCBFZGl0YWJsZUNvbG9yIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlQ29sb3IudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlVGV4dCwgRWRpdGFibGVDb2xvclxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUGluIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBpbkNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgY29sb3I6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCBjID0gc3RyaW5nMmhleCh0aGlzLmNvbG9yKTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQuY29sb3IgIT09IGMgJiYgdGhpcy5jb2xvciAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGluJywgJ2NvbG9yJywgYyk7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmNvbG9yJylcbiAgb25DQ29sb3JDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5jb2xvciA9IHZhbCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGhleDJzdHJpbmcodmFsKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQbGF5ZXJDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCBFZGl0YWJsZU51bWJlciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVOdW1iZXJcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1BsYXllciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBQbGF5ZXJDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIG5pZ2h0VmlzaW9uOiBib29sZWFuID0gZmFsc2U7XG4gIHJhbmdlOiBzdHJpbmcgPSAnJztcblxuICBvbkNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnQubmlnaHRWaXNpb24gIT09IHRoaXMubmlnaHRWaXNpb24pIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGxheWVyJywgJ25pZ2h0VmlzaW9uJywgdGhpcy5uaWdodFZpc2lvbik7XG4gICAgfVxuICAgIGxldCBjID0gcGFyc2VGbG9hdCh0aGlzLnJhbmdlKTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQucmFuZ2UgIT09IGMgJiYgdGhpcy5yYW5nZSAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGxheWVyJywgJ3JhbmdlJywgYyk7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm5pZ2h0VmlzaW9uJylcbiAgb25DTmlnaHRWaXNpb25DaGFuZ2VkKHZhbDogYm9vbGVhbiB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMubmlnaHRWaXNpb24gPSAhIXZhbDtcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5yYW5nZScpXG4gIG9uQ1JhbmdlQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucmFuZ2UgPSAodmFsID8/ICcnKSArICcnO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCBFZGl0YWJsZU51bWJlciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVOdW1iZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NQb3NpdGlvbiBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBQb3NpdGlvbkNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgeDogc3RyaW5nID0gJyc7XG4gIHk6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCB4ID0gcGFyc2VGbG9hdCh0aGlzLngpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC54ICE9PSB4ICYmIHRoaXMueCAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncG9zaXRpb24nLCAneCcsIHgpO1xuICAgIH1cbiAgICBsZXQgeSA9IHBhcnNlRmxvYXQodGhpcy55KTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQueSAhPT0geSAmJiB0aGlzLnkgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3Bvc2l0aW9uJywgJ3knLCB5KTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQueCcpXG4gIG9uQ3hDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy54ID0gKHZhbCA/PyAnJykgKyAnJztcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC55JylcbiAgb25DeUNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnkgPSAodmFsID8/ICcnKSArICcnO1xuICB9XG59XG4iLCJcblxuXG5cbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQcm9wQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcHJvcFN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzQmFja2dyb3VuZEltYWdlIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IFByb3BDb21wb25lbnQ7XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Byb3BUZWxlcG9ydH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3Byb3BTeXN0ZW1cIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1Byb3BUZWxlcG9ydCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBQcm9wVGVsZXBvcnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIGZvY3VzVGFyZ2V0KCkge1xuICAgIGNvbnNvbGUud2FybihcIlRPRE86IGZvY3VzIHRhcmdldFwiKVxuICB9XG5cbiAgbGluaygpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ0AnLCAncHJvcF90ZWxlcG9ydF9saW5rJywgdGhpcy5jb21wb25lbnQuZW50aXR5KTtcbiAgfVxuXG4gIHVzZSgpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ0AnLCAncHJvcF91c2UnLCB0aGlzLmNvbXBvbmVudC5lbnRpdHkpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge0RFR19UT19SQUQsIFJBRF9UT19ERUd9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1RyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCBFZGl0YWJsZU51bWJlciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVOdW1iZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NUcmFuc2Zvcm0gZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogVHJhbnNmb3JtQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICByb3RhdGlvbjogc3RyaW5nID0gJyc7XG4gIHNjYWxlOiBzdHJpbmcgPSAnJztcblxuICBvbkNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5yb3RhdGlvbiAhPT0gJycpIHtcbiAgICAgIGxldCByID0gKCgocGFyc2VGbG9hdCh0aGlzLnJvdGF0aW9uKSAlIDM2MCkgKyAzNjApICUgMzYwKTtcbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5yb3RhdGlvbiAhPT0gcikge1xuICAgICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3RyYW5zZm9ybScsICdyb3RhdGlvbicsIHIgKiBERUdfVE9fUkFEKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc2NhbGUgIT09ICcnKSB7XG4gICAgICBsZXQgcyA9IHBhcnNlRmxvYXQodGhpcy5zY2FsZSk7XG4gICAgICBpZiAodGhpcy5jb21wb25lbnQuc2NhbGUgIT09IHMpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICd0cmFuc2Zvcm0nLCAnc2NhbGUnLCBzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQucm90YXRpb24nKVxuICBvbkNSb3RhdGlvbkNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnJvdGF0aW9uID0gKHZhbCA/PyAwKSAqIFJBRF9UT19ERUcgKyAnJztcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5zY2FsZScpXG4gIG9uQ1NjYWxlQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2NhbGUgPSAodmFsID8/IDApICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtXYWxsQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvd2FsbFN5c3RlbVwiO1xuaW1wb3J0IEVkaXRhYmxlTnVtYmVyIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZU51bWJlcixcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1dhbGwgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogV2FsbENvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgdzogc3RyaW5nID0gJyc7XG4gIGg6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCB3ID0gcGFyc2VGbG9hdCh0aGlzLncpO1xuICAgIGxldCBoID0gcGFyc2VGbG9hdCh0aGlzLmgpO1xuICAgIGlmICgodGhpcy5jb21wb25lbnQudmVjWzBdICE9PSB3ICYmIHRoaXMudyAhPT0gJycpIHx8ICh0aGlzLmNvbXBvbmVudC52ZWNbMV0gIT09IGggJiYgdGhpcy5oICE9PSAnJykpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnd2FsbCcsICd2ZWMnLCBbdywgaF0pO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC52ZWMnKVxuICBvbkN4Q2hhbmdlZCh2ZWM6IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQpIHtcbiAgICBpZiAodmVjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudyA9ICcnO1xuICAgICAgdGhpcy5oID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudyA9IHZlY1swXSArICcnO1xuICAgICAgdGhpcy5oID0gdmVjWzFdICsgJyc7XG4gICAgfVxuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgRWNzQ29tcG9uZW50V3JhcHBlciBmcm9tIFwiLi9jb21wV3JhcHBlci52dWVcIjtcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtcbiAgU0VMRUNUSU9OX1RZUEUsXG4gIFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXG4gIFNlbGVjdGlvblN5c3RlbSxcbiAgU2VsZWN0aW9uVWlEYXRhXG59IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9yZXNvdXJjZVwiO1xuaW1wb3J0IHtjb21wb25lbnRDbG9uZX0gZnJvbSBcIi4uLy4uL2Vjcy9lY3NVdGlsXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVjc0NvbXBvbmVudFdyYXBwZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHlJbnNwZWN0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgZGF0YTogU2VsZWN0aW9uVWlEYXRhID0ge1xuICAgIHR5cGU6IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXG4gICAgc2VsZWN0ZWRFbnRpdGllczogW10sXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBhZGRhYmxlOiBbXSxcbiAgICBjb21wb25lbnRzOiBbXSxcbiAgICBfc2F2ZTogZmFsc2UsXG4gICAgX3N5bmM6IGZhbHNlLFxuICB9O1xuXG4gIG9uRWNzUHJvcGVydHlDaGFuZ2UodHlwZTogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogYW55LCBtdWx0aUlkPzogbnVtYmVyKSB7XG4gICAgbGV0IHNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICBzZWxlY3Rpb25TeXMuc2V0UHJvcGVydHkodGhpcy5kYXRhLnNlbGVjdGVkRW50aXRpZXMsIHR5cGUsIHByb3BlcnR5LCB2YWx1ZSwgbXVsdGlJZCk7XG4gIH1cblxuICBlbWl0U3BlY2lhbChuYW1lOiBzdHJpbmcsIHBhcjogdW5rbm93bikge1xuICAgIHRoaXMub25FY3NQcm9wZXJ0eUNoYW5nZSgnJCcsIG5hbWUsIHBhcik7XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGNvbXBvbmVudENsb25lKHJlcykgYXMgU2VsZWN0aW9uVWlEYXRhO1xuICAgIH1cbiAgfVxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5kYXRhID0gY29tcG9uZW50Q2xvbmUodGhpcy53b3JsZC5nZXRSZXNvdXJjZShTRUxFQ1RJT05fVUlfREFUQV9UWVBFKSBhcyBTZWxlY3Rpb25VaURhdGEpO1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtDcmVhdGlvbkluZm9SZXNvdXJjZSwgQ1JFQVRJT05fSU5GT19UWVBFLCBHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQgeyBUb29sU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZEVkaXQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuXG4gIHZpc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZXhpdEFmdGVyQ3JlYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICByZWxvYWRSZXNvdXJjZSgpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShDUkVBVElPTl9JTkZPX1RZUEUpIGFzIENyZWF0aW9uSW5mb1Jlc291cmNlIHwgdW5kZWZpbmVkO1xuICAgIHRoaXMuZXhpdEFmdGVyQ3JlYXRpb24gPSBpbmZvPy5leGl0QWZ0ZXJDcmVhdGlvbiA/PyB0cnVlO1xuICB9XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHtcbiAgICAgICAgICB0eXBlOiBDUkVBVElPTl9JTkZPX1RZUEUsXG4gICAgICAgICAgZXhpdEFmdGVyQ3JlYXRpb246IHRoaXMuZXhpdEFmdGVyQ3JlYXRpb24sXG4gICAgICB9IGFzIENyZWF0aW9uSW5mb1Jlc291cmNlLCAndXBkYXRlJyk7XG4gIH1cblxuICBtb3VudGVkKCkge1xuICAgIHRoaXMucmVsb2FkUmVzb3VyY2UoKTtcblxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gQ1JFQVRJT05fSU5GT19UWVBFKSB0aGlzLnJlbG9hZFJlc291cmNlKCk7XG4gICAgZWxzZSBpZiAocmVzLnR5cGUgPT09ICd0b29sJykge1xuICAgICAgICB0aGlzLnZpc2libGUgPSAodGhpcy53b3JsZC5zeXN0ZW1zLmdldCgndG9vbCcpIGFzIFRvb2xTeXN0ZW0pLmlzVG9vbFBhcnRFbmFibGVkKCdjcmVhdGlvbl9mbGFnJyk7XG4gICAgfVxuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgVG9vbEJhciBmcm9tIFwiLi90b29sQmFyLnZ1ZVwiO1xuaW1wb3J0IFNpZGVCYXIgZnJvbSBcIi4vc2lkZUJhci52dWVcIjtcbmltcG9ydCBSZWNvbm5lY3Rpb25Nb2RhbCBmcm9tIFwiLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7XG4gIGNvbXBvbmVudHM6IHtUb29sQmFyLCBTaWRlQmFyLCBSZWNvbm5lY3Rpb25Nb2RhbH0sXG4gIHByb3BzOiBbJ3dvcmxkJ10sXG59KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgSGV4YWdvbkljb24gZnJvbSBcIi4uL2ljb25zL2hleGFnb25JY29uLnZ1ZVwiO1xuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtHcmlkVHlwZX0gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9lY3Mvd29ybGRcIjtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuaW1wb3J0IHtSZXNvdXJjZUVkaXRDb21tYW5kfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvY29tbWFuZC9yZXNvdXJjZUVkaXRDb21tYW5kXCI7XG5cbnR5cGUgUmVuZGVyR3JpZE9wdHMgPSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdW5pdDogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG4gIG9mZlg6IG51bWJlcjtcbiAgb2ZmWTogbnVtYmVyO1xuICBjb2xvcjogc3RyaW5nO1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIHRoaWNrOiBudW1iZXI7XG59XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czogeyBIZXhhZ29uSWNvbiB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZEVkaXQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuXG4gIGdyaWQ6IFJlbmRlckdyaWRPcHRzID0ge1xuICAgIHR5cGU6IFwibm9uZVwiLFxuICAgIHVuaXQ6ICcwIG0nLFxuICAgIHNpemU6IDEsXG4gICAgb2ZmWDogMCxcbiAgICBvZmZZOiAwLFxuICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgb3BhY2l0eTogMC41LFxuICAgIHRoaWNrOiAyLFxuICB9O1xuICBkaXNhYmxlV2F0Y2hTYXZlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcmVsb2FkR3JpZCgpIHtcbiAgICB0aGlzLmRpc2FibGVXYXRjaFNhdmUgPSB0cnVlO1xuXG4gICAgbGV0IGdyaWQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKCdncmlkJykgYXMgR3JpZFJlc291cmNlO1xuICAgIHN3aXRjaCAoZ3JpZC5ncmlkVHlwZSkge1xuICAgICAgY2FzZSBHcmlkVHlwZS5IRVhBR09OOlxuICAgICAgICB0aGlzLmdyaWQudHlwZSA9ICdoZXgnXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHcmlkVHlwZS5TUVVBUkU6XG4gICAgICAgIHRoaXMuZ3JpZC50eXBlID0gJ3NxdWFyZSdcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKCFncmlkLnZpc2libGUpIHtcbiAgICAgIHRoaXMuZ3JpZC50eXBlID0gJ25vbmUnO1xuICAgIH1cbiAgICBsZXQgb3B0cyA9IGdyaWQ7XG4gICAgdGhpcy5ncmlkLnVuaXQgPSBncmlkLnVuaXRNdWwgKyAnICcgKyBncmlkLnVuaXROYW1lO1xuICAgIHRoaXMuZ3JpZC5zaXplID0gb3B0cy5zaXplO1xuICAgIHRoaXMuZ3JpZC5vZmZYID0gb3B0cy5vZmZYO1xuICAgIHRoaXMuZ3JpZC5vZmZZID0gb3B0cy5vZmZZO1xuICAgIHRoaXMuZ3JpZC5jb2xvciA9IGhleDJzdHJpbmcob3B0cy5jb2xvcik7XG4gICAgdGhpcy5ncmlkLm9wYWNpdHkgPSBvcHRzLm9wYWNpdHk7XG4gICAgdGhpcy5ncmlkLnRoaWNrID0gb3B0cy50aGljaztcblxuICAgIHRoaXMuZGlzYWJsZVdhdGNoU2F2ZSA9IGZhbHNlO1xuICB9XG5cbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLnJlbG9hZEdyaWQoKTtcblxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gJ2dyaWQnKSB0aGlzLnJlbG9hZEdyaWQoKTtcbiAgfVxuXG4gIHBhcnNlVW5pdChzOiBzdHJpbmcpOiB7IG5hbWU6IHN0cmluZywgbXVsOiBudW1iZXJ9IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gL15cXHMqKFswLTkuLF0rKSguKykkL2c7XG5cbiAgICBsZXQgcmVzID0gcGF0dGVybi5leGVjKHMpO1xuICAgIGlmIChyZXMgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBsZXQgbXVsID0gMTtcbiAgICB0cnkge1xuICAgICAgbXVsID0gcGFyc2VGbG9hdChyZXNbMV0pO1xuICAgIH0gY2F0Y2goZSkge31cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiByZXNbMl0udHJpbSgpLFxuICAgICAgbXVsLFxuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2goJ2dyaWQnLCB7IGRlZXA6IHRydWUgfSlcbiAgb25HcmlkQ2hhbmdlKG5ld0dyaWQ6IGFueSkge1xuICAgIGlmICh0aGlzLmRpc2FibGVXYXRjaFNhdmUpIHJldHVybjtcbiAgICBuZXdHcmlkLm9mZlggPSBNYXRoLm1pbihuZXdHcmlkLm9mZlgsIG5ld0dyaWQuc2l6ZSk7XG4gICAgbmV3R3JpZC5vZmZZID0gTWF0aC5taW4obmV3R3JpZC5vZmZZLCBuZXdHcmlkLnNpemUpO1xuXG4gICAgbGV0IHR5cGU7XG4gICAgc3dpdGNoIChuZXdHcmlkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICB0eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHR5cGUgPSBHcmlkVHlwZS5IRVhBR09OO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NxdWFyZSc6XG4gICAgICAgIHR5cGUgPSBHcmlkVHlwZS5TUVVBUkU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsZXQgY21kID0ge1xuICAgICAga2luZDogJ3JlZGl0JyxcbiAgICAgIGFkZDogW10sIHJlbW92ZTogW10sXG4gICAgICBlZGl0OiB7fSxcbiAgICB9IGFzIFJlc291cmNlRWRpdENvbW1hbmQ7XG4gICAgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY21kLmVkaXRbJ2dyaWQnXSA9IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgZ3JpZFR5cGU6IHR5cGUsXG4gICAgICAgIHNpemU6IG5ld0dyaWQuc2l6ZSxcbiAgICAgICAgb2ZmWDogbmV3R3JpZC5vZmZYLFxuICAgICAgICBvZmZZOiBuZXdHcmlkLm9mZlksXG4gICAgICAgIGNvbG9yOiBzdHJpbmcyaGV4KG5ld0dyaWQuY29sb3IpLFxuICAgICAgICBvcGFjaXR5OiBwYXJzZUZsb2F0KG5ld0dyaWQub3BhY2l0eSksXG4gICAgICAgIHRoaWNrOiBuZXdHcmlkLnRoaWNrLFxuICAgICAgfSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICBsZXQgdW5pdCA9IHRoaXMucGFyc2VVbml0KG5ld0dyaWQudW5pdCk7XG4gICAgICBpZiAodW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBncmlkID0gY21kLmVkaXQuZ3JpZCBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgIGdyaWQudW5pdE11bCA9IHVuaXQubXVsO1xuICAgICAgICBncmlkLnVuaXROYW1lID0gdW5pdC5uYW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjbWQuZWRpdFsnZ3JpZCddID0ge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfbG9nJywgY21kKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9yZXNvdXJjZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtERUZBVUxUX0xJR0hUX1NFVFRJTkdTLCBMaWdodFNldHRpbmdzLCBMb2NhbExpZ2h0U2V0dGluZ3N9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XG5pbXBvcnQgaGV4MnN0cmluZyA9IFBJWEkudXRpbHMuaGV4MnN0cmluZztcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRFZGl0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcbiAgd29ybGQhOiBXb3JsZDtcblxuICBhbWJpZW50TGlnaHQgPSAnIzAwMDAwMCc7XG4gIG5lZWRzTGlnaHQgPSB0cnVlO1xuICByb2xlcGxheVZpc2lvbiA9IGZhbHNlO1xuICBiYWNrZ3JvdW5kID0gJyMwMDAwMDAnO1xuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgdGhpcy5yZWxvYWRMaWdodCgpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gJ2xpZ2h0X3NldHRpbmdzJyB8fCByZXMudHlwZSA9PT0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykge1xuICAgICAgdGhpcy5yZWxvYWRMaWdodCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbG9hZExpZ2h0KCkge1xuICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2xpZ2h0X3NldHRpbmdzJykgYXMgTGlnaHRTZXR0aW5ncztcbiAgICB0aGlzLmFtYmllbnRMaWdodCA9IGhleDJzdHJpbmcobGlnaHQuYW1iaWVudExpZ2h0KTtcbiAgICB0aGlzLm5lZWRzTGlnaHQgPSBsaWdodC5uZWVkc0xpZ2h0O1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IGhleDJzdHJpbmcobGlnaHQuYmFja2dyb3VuZCk7XG4gICAgbGV0IGxsaWdodCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykgYXMgTG9jYWxMaWdodFNldHRpbmdzO1xuICAgIHRoaXMucm9sZXBsYXlWaXNpb24gPSBsbGlnaHQudmlzaW9uVHlwZSA9PT0gJ3JwJztcbiAgfVxuXG4gIG9uQW1iaWVudExpZ2h0Q2hhbmdlKCkge1xuICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgdHlwZTogJ2xpZ2h0X3NldHRpbmdzJyxcbiAgICAgIGFtYmllbnRMaWdodDogc3RyaW5nMmhleCh0aGlzLmFtYmllbnRMaWdodCksXG4gICAgICBuZWVkc0xpZ2h0OiB0aGlzLm5lZWRzTGlnaHQsXG4gICAgICBiYWNrZ3JvdW5kOiBzdHJpbmcyaGV4KHRoaXMuYmFja2dyb3VuZCksXG4gICAgfSBhcyBMaWdodFNldHRpbmdzLCAndXBkYXRlJyk7XG4gIH1cblxuICBvbkxpZ2h0U2V0dGluZ3NSZXNldCgpIHtcbiAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgdHlwZTogJ2xpZ2h0X3NldHRpbmdzJyxcbiAgICB9LCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTKSBhcyBMaWdodFNldHRpbmdzLCAndXBkYXRlJyk7XG4gICAgdGhpcy5yZWxvYWRMaWdodCgpO1xuICB9XG5cbiAgQFZXYXRjaCgncm9sZXBsYXlWaXNpb24nKVxuICBvblJQVmlzQ2hhbmdlKCkge1xuICAgIGxldCB2aXNpb25UeXBlID0gdGhpcy5yb2xlcGxheVZpc2lvbiA/ICdycCcgOiAnZG0nO1xuXG4gICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJywge3Zpc2lvblR5cGV9KTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCB7IE5ldHdvcmtTdGF0dXNSZXNvdXJjZSwgTkVUV09SS19TVEFUVVNfVFlQRSB9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtuZXR3b3JrU3RhdHVzLCBWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQgeyBvbkhhc2hDaGFuZ2UgfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlY29ubmVjdGlvbk1vZGFsIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcbiAgd29ybGQhOiBXb3JsZDtcbiAgdHJhY2tlckNvdW50OiBudW1iZXIgPSAwO1xuICBjb25uZWN0aW9uQ291bnQ6IG51bWJlciA9IDA7XG4gIGlzQm9vdHN0cmFwcGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgZ2V0IHNob3VsZEJlU2hvd24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICFuZXR3b3JrU3RhdHVzLmlzT25saW5lIHx8IHRoaXMuY29ubmVjdGlvbkNvdW50ID09PSAwIHx8ICF0aGlzLmlzQm9vdHN0cmFwcGVkO1xuICB9XG5cbiAgZ2V0IGJvZHlNZXNzYWdlKCk6IHN0cmluZyB7XG4gICAgbGV0IG1zZyA9ICdDb25uZWN0aW5nLi4uJztcbiAgICBpZiAoIW5ldHdvcmtTdGF0dXMuaXNPbmxpbmUpIHtcbiAgICAgIG1zZyA9ICdDaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24nO1xuICAgIH0gZWxzZSBpZiAodGhpcy50cmFja2VyQ291bnQgPT09IDAgJiYgdGhpcy5jb25uZWN0aW9uQ291bnQgPT09IDApIHtcbiAgICAgIG1zZyA9ICdDb25uZWN0aW5nIHRvIHRyYWNrZXJzLi4uJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29ubmVjdGlvbkNvdW50ID09PSAwKSB7XG4gICAgICBtc2cgPSAnV2FpdGluZyBmb3IgbWFzdGVyLi4uJztcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzQm9vdHN0cmFwcGVkKSB7XG4gICAgICBtc2cgPSAnRG93bmxvYWRpbmcgZGF0YS4uLic7XG4gICAgfVxuICAgIHJldHVybiBtc2c7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIFwiXCIsICcjJyk7XG4gICAgb25IYXNoQ2hhbmdlKCk7XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09IE5FVFdPUktfU1RBVFVTX1RZUEUpIHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHJlcyBhcyBOZXR3b3JrU3RhdHVzUmVzb3VyY2U7XG4gICAgICB0aGlzLnRyYWNrZXJDb3VudCA9IHN0YXR1cy50cmFja2VyQ291bnQ7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudCA9IHN0YXR1cy5jb25uZWN0aW9uQ291bnQ7XG4gICAgICB0aGlzLmlzQm9vdHN0cmFwcGVkID0gc3RhdHVzLmlzQm9vdHN0cmFwRG9uZTtcbiAgICB9XG4gIH1cblxuICBtb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQgR3JpZEVkaXQgZnJvbSBcIi4vZ3JpZEVkaXQudnVlXCI7XG5pbXBvcnQgQ3JlYXRpb25PcHRpb25zIGZyb20gXCIuL2NyZWF0aW9uT3B0aW9ucy52dWVcIjtcbmltcG9ydCBMaWdodFNldHRpbmdzRWRpdCBmcm9tIFwiLi9saWdodFNldHRpbmdzRWRpdC52dWVcIjtcbmltcG9ydCBFbnRpdHlJbnNwZWN0IGZyb20gXCIuLi9lY3MvZW50aXR5SW5zcGVjdC52dWVcIjtcbmltcG9ydCB7TkVUV09SS19TVEFUVVNfVFlQRSwgTmV0d29ya1N0YXR1c1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9uZXR3b3JrU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEdyaWRFZGl0LCBFbnRpdHlJbnNwZWN0LCBMaWdodFNldHRpbmdzRWRpdCwgQ3JlYXRpb25PcHRpb25zXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sQmFyIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcbiAgd29ybGQhOiBXb3JsZDtcblxuICB0b29sID0gJ2luc3BlY3QnO1xuICBjb25uZWN0aW9uQ291bnQgPSAwO1xuICB0cmFja2VyQ291bnQgPSAwO1xuICBjb25uZWN0aW9uQnVmZmVyaW5nID0gZmFsc2U7XG5cbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIHVubW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09IFRPT0xfVFlQRSkge1xuICAgICAgdGhpcy50b29sID0gKHJlcyBhcyBUb29sUmVzb3VyY2UpLnRvb2whO1xuICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IE5FVFdPUktfU1RBVFVTX1RZUEUpIHtcbiAgICAgIGxldCByID0gcmVzIGFzIE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcbiAgICAgIHRoaXMudHJhY2tlckNvdW50ID0gci50cmFja2VyQ291bnQ7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudCA9IHIuY29ubmVjdGlvbkNvdW50O1xuICAgICAgdGhpcy5jb25uZWN0aW9uQnVmZmVyaW5nID0gci5pc0J1ZmZlcmluZztcbiAgICB9XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9yZXNvdXJjZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtCQUNLR1JPVU5EX0xBWUVSX1RZUEUsIEJhY2tncm91bmRMYXllclJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbVwiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vLi4vZWNzL3Rvb2xzL3Rvb2xUeXBlXCI7XG5cbmltcG9ydCBNb3VzZVRyYWlsSWNvbiBmcm9tIFwiLi4vaWNvbnMvbW91c2VUcmFpbEljb24udnVlXCI7XG5pbXBvcnQgV2FsbEljb24gZnJvbSBcIi4uL2ljb25zL3dhbGxJY29uLnZ1ZVwiO1xuXG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge01vdXNlVHJhaWxJY29uLCBXYWxsSWNvbn1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sQmFyIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcbiAgd29ybGQhOiBXb3JsZDtcblxuICB0b29sID0gJ2luc3BlY3QnO1xuICBiYWNrZ3JvdW5kTG9ja2VkOiBib29sZWFuID0gdHJ1ZTtcblxuICBjYW5VbmRvID0gZmFsc2U7XG4gIGNhblJlZG8gPSBmYWxzZTtcblxuICBtb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21tYW5kX2hpc3RvcnlfY2hhbmdlJywgdGhpcy5vbkNvbW1hbmRIaXN0b3J5Q2hhbmdlLCB0aGlzKTtcblxuICAgIGxldCB4ID0gKHRoaXMuJHJlZnMucmFkaW9pbnNwZWN0IGFzIFZ1ZSk7XG4gICAgeC4kZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKCEoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMudG9vbCA9PT0gJ2luc3BlY3QnKSB7XG4gICAgICAgIGxldCBsb2NrZWQgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIGFzIEJhY2tncm91bmRMYXllclJlc291cmNlKS5sb2NrZWQ7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSwgeyBsb2NrZWQ6ICFsb2NrZWQgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB1bm1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZignY29tbWFuZF9oaXN0b3J5X2NoYW5nZScsIHRoaXMub25Db21tYW5kSGlzdG9yeUNoYW5nZSwgdGhpcyk7XG4gIH1cblxuICBvbkNvbW1hbmRIaXN0b3J5Q2hhbmdlKGNhblVuZG86IGJvb2xlYW4sIGNhblJlZG86IGJvb2xlYW4pIHtcbiAgICB0aGlzLmNhblVuZG8gPSBjYW5VbmRvO1xuICAgIHRoaXMuY2FuUmVkbyA9IGNhblJlZG87XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkge1xuICAgICAgdGhpcy5iYWNrZ3JvdW5kTG9ja2VkID0gKHJlcyBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSkubG9ja2VkO1xuICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IFRPT0xfVFlQRSkge1xuICAgICAgdGhpcy50b29sID0gKHJlcyBhcyBUb29sUmVzb3VyY2UpLnRvb2whO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2goJ3Rvb2wnKVxuICBvblRvb2xFZGl0KHRvb2w6IFRvb2wpIHtcbiAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZSgndG9vbCcsIHt0b29sfSk7XG4gIH1cblxuICB1bmRvKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfdW5kbycpO1xuICB9XG5cbiAgcmVkbygpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3JlZG8nKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBGb290ZXJDb21wb25lbnQgZnJvbSBcIi4uL2Zvb3Rlci52dWVcIjtcbmltcG9ydCBNYXBJbnB1dCBmcm9tIFwiLi9tYXBJbnB1dC52dWVcIjtcblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZ1ZSwgUGhhc2VWdWUsIFZXYXRjaCwgVlJlZn0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xuaW1wb3J0IHtCTW9kYWx9IGZyb20gXCJib290c3RyYXAtdnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czogeyBNYXBJbnB1dCwgRm9vdGVyQ29tcG9uZW50IH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lQ29tcG9uZW50IGV4dGVuZHMgVnVlIGltcGxlbWVudHMgUGhhc2VWdWUge1xuICBAVlJlZignbWFwLWxvYWQtbW9kYWwnKSByZWFkb25seSBtYXBMb2FkTW9kYWwhOiBCTW9kYWw7XG5cbiAgZmlsZTogYW55ID0gbnVsbDtcbiAgcGVuZGluZ09wOiBzdHJpbmcgPSBcIlwiO1xuICBldmVudEVtaXR0ZXIhOiBFdmVudEVtaXR0ZXI7XG5cbiAgb25DcmVhdGVNYXAoKSB7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImNyZWF0ZV9tYXBcIik7XG4gIH1cblxuICBvbkVkaXRNYXAoKSB7XG4gICAgdGhpcy5wZW5kaW5nT3AgPSAnZWRpdCc7XG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuc2hvdygpO1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJlZGl0X21hcFwiKTtcbiAgfVxuXG4gIG1hcExvYWRDYW5jZWwoKSB7XG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuaGlkZSgpO1xuICB9XG5cbiAgQFZXYXRjaCgnZmlsZScpXG4gIG9uRmlsZUNoYW5nZWQodmFsOiBhbnkpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKFwiRmlsZSBkcm9wcGVkLCBsb2FkaW5nOiBcIiArIHRoaXMucGVuZGluZ09wKTtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHRoaXMucGVuZGluZ09wLCB0aGlzLmZpbGUpO1xuICAgIHRoaXMuZmlsZSA9IG51bGw7XG4gICAgdGhpcy5tYXBMb2FkQ2FuY2VsKCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7VkNvbXBvbmVudH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5jb25zdCBMT0FESU5HX1BIUkFTRVMgPSBbXG4gIFwiUGVyc3VhZGluZyBkcmFnb25zIHRvIGNvb3BlcmF0ZS4uLlwiLFxuICBcIkEgRHdhcmYsIGFuIEVsZiBhbmQgYSBEcmFnb25ib3JkIGVudGVyIGEgdGF2ZXJuLi4uIFxcXCJXZSdyZSBsb29raW5nIGZvciBhIHF1ZXN0XFxcIlwiLFxuICBcIkFuIGFuY2llbnQgbGVnZW5kIHRlbGxzIHRoYXQgaWYgeW91IGluc3VsdCBhIGRyYWdvbiB0byBleGhhdXN0aW9uLi4uIHRoZXknbGwgZWF0IHlvdSBhbnl3YXlzXCIsXG4gIFwiUmVjaGFyZ2luZyBzcGVsbCBzbG90cy4uLlwiLFxuICBcIlJvbGwgYSBDaGFyaXNtYSBzYXZpbmcgdGhyb3cuLi5cIixcbiAgXCJMb25nIHJlc3QgaW4gcHJvZ3Jlc3MuLi5cIixcbiAgXCJGaXR0aW5nIG91dCB0aGUgZ29ibGluIGFybXkuLi5cIixcbiAgXCJUaGUgbGFzdCBib3NzIHlvdSBraWxsZWQgbWV0IGEgMjB0aCBsZXZlbCBjaGllcmljLi4uIFRoZSByZXN0IGlzIHVwIHRvIHlvdSEgOylcIixcbiAgXCJUaGlzIG1hcCBvbmx5IGNvc3RzIDI1Z3AhXCIsXG4gIFwiU29ycnksIHlvdSdkIGJldHRlciBjcmVhdGUgYSBuZXcgY2hhcmFjdGVyIHNoZWV0XCIsXG5dO1xuXG5mdW5jdGlvbiByYW5kb21NZXgoKSB7XG4gIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBMT0FESU5HX1BIUkFTRVMubGVuZ3RoKTtcbiAgcmV0dXJuIExPQURJTkdfUEhSQVNFU1tpXTtcbn1cblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmcgZXh0ZW5kcyBWdWUge1xuICBtZXNzYWdlID0gcmFuZG9tTWV4KCk7XG59XG5cbiIsIlxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRhYmxlQ29sb3IgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgdmFsdWUhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcblxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmc7XG59XG5cbiIsIlxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCBFZGl0YWJsZVRleHQgZnJvbSBcIi4vZWRpdGFibGVUZXh0LnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZVRleHRcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRhYmxlTnVtYmVyIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIHZhbHVlITogc3RyaW5nO1xuXG4gIEBWUHJvcCh7ZGVmYXVsdDogZmFsc2V9KVxuICByZWFkb25seSE6IGJvb2xlYW47XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiAnJ30pXG4gIHBsYWNlaG9sZGVyITogc3RyaW5nO1xuXG4gIEBWUHJvcCh7ZGVmYXVsdDogdHJ1ZX0pXG4gIGNhbkJlTmVnYXRpdmUhOiBib29sZWFuO1xuXG4gIGZpbHRlciA9IChzOiBzdHJpbmcpID0+IHtcbiAgICBsZXQgbmVnID0gZmFsc2U7XG4gICAgaWYgKHNbMF0gPT09ICctJykge1xuICAgICAgbmVnID0gdGhpcy5jYW5CZU5lZ2F0aXZlO1xuICAgICAgcyA9IHMuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBjb25zdCBwcmVmaXggPSBuZWcgPyAnLScgOiAnJztcbiAgICByZXR1cm4gcHJlZml4ICsgcy5zcGxpdCgnLicsIDIpXG4gICAgICAgIC5tYXAoeCA9PiB4LnJlcGxhY2UoL1teMC05XSovZywgJycpKVxuICAgICAgICAuam9pbignLicpO1xuICB9XG5cbn1cblxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVUZXh0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIHZhbHVlITogc3RyaW5nO1xuXG4gIEBWUHJvcCh7ZGVmYXVsdDogZmFsc2V9KVxuICByZWFkb25seSE6IGJvb2xlYW47XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiAnJ30pXG4gIHBsYWNlaG9sZGVyITogc3RyaW5nXG5cbiAgQFZQcm9wKHtkZWZhdWx0OiB1bmRlZmluZWR9KVxuICBmaWx0ZXI/OiAodGV4dDogc3RyaW5nKSA9PiBzdHJpbmc7XG5cbiAgb25FdmVudChldjogc3RyaW5nLCBldmVudDogSW5wdXRFdmVudCkge1xuICAgIGNvbnN0IGV0ID0gZXZlbnQudGFyZ2V0IGFzIGFueTtcbiAgICBpZiAodGhpcy5maWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXQudmFsdWUgPSB0aGlzLmZpbHRlcihldC52YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMuJGVtaXQoZXYsIGV0LnZhbHVlKTtcbiAgfVxufVxuXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0ICdwaXhpLWxheWVycydcblxuZXhwb3J0IGRlZmF1bHQgUElYSTsiLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XG5cbmltcG9ydCBQcm9wc0ltYWdlIGZyb20gXCJQdWJsaWMvaW1hZ2VzL3Byb3BzLnBuZ1wiO1xuaW1wb3J0IFByb3BzU3ByaXRlc2hlZXQgZnJvbSBcIlB1YmxpYy9zcHJpdGVzaGVldHMvcHJvcHMuanNvblwiO1xuXG5pbXBvcnQgQmFzZVRleHR1cmUgPSBQSVhJLkJhc2VUZXh0dXJlO1xuaW1wb3J0IEltYWdlUmVzb3VyY2UgPSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlO1xuXG5hc3luYyBmdW5jdGlvbiBsb2FkU3ByaXRlc2hlZXQobG9hZGVyOiBQSVhJLkxvYWRlciwgbmFtZTogc3RyaW5nLCBpbWdVcmw6IHN0cmluZywgZGF0YTogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbU3ByaXRlc2hlZXRdIExvYWRpbmc6IFwiICsgbmFtZSk7XG4gICAgICAgIGNvbnN0IGltZ0VsbSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWdFbG0uY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgaW1nRWxtLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleCA9IG5ldyBQSVhJLlRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBJbWFnZVJlc291cmNlKGltZ0VsbSkpKTtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZXNoZWV0ID0gbmV3IFBJWEkuU3ByaXRlc2hlZXQodGV4LCBkYXRhKTtcbiAgICAgICAgICAgIGxvYWRlci5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgKFBJWEkuTG9hZGVyUmVzb3VyY2UgYXMgYW55KShuYW1lLCBcIlwiKTtcbiAgICAgICAgICAgIGxvYWRlci5yZXNvdXJjZXNbbmFtZV0uc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltTcHJpdGVzaGVldF0gTG9hZGVkOiBcIiArIG5hbWUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoc3ByaXRlc2hlZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZ0VsbS5zcmMgPSBpbWdVcmw7IC8vIFdoZW4gdGhlIGxpc3RlbmVycyBhcmUgc2V0LCB3ZSBjYW4gZmluYWxseSBzdGFydCBkb3dubG9hZGluZyB0aGUgaW1hZ2UuXG4gICAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXNzZXRzKCkge1xuICAgIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGxvYWRTcHJpdGVzaGVldChsb2FkZXIsIFwicHJvcHNcIiwgUHJvcHNJbWFnZSwgUHJvcHNTcHJpdGVzaGVldCksXG4gICAgXSk7XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4vd29ybGRcIjtcbmltcG9ydCB7RmxhZ0Vjc1N0b3JhZ2UsIE11bHRpRWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudCB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGVudGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE11bHRpQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBtdWx0aUlkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlkZWFibGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNsaWVudFZpc2libGU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBQT1NJVElPTl9UWVBFID0gXCJwb3NpdGlvblwiO1xuZXhwb3J0IHR5cGUgUE9TSVRJT05fVFlQRSA9IHR5cGVvZiBQT1NJVElPTl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBQb3NpdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUE9TSVRJT05fVFlQRTtcblxuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBUUkFOU0ZPUk1fVFlQRSA9IFwidHJhbnNmb3JtXCI7XG5leHBvcnQgdHlwZSBUUkFOU0ZPUk1fVFlQRSA9IHR5cGVvZiBUUkFOU0ZPUk1fVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNmb3JtQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBUUkFOU0ZPUk1fVFlQRTtcblxuICAgIHNjYWxlOiBudW1iZXI7XG4gICAgcm90YXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IE5BTUVfVFlQRSA9IFwibmFtZVwiO1xuZXhwb3J0IHR5cGUgTkFNRV9UWVBFID0gdHlwZW9mIE5BTUVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTmFtZUNvbXBvbmVudCBleHRlbmRzIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudCB7XG4gICAgdHlwZTogTkFNRV9UWVBFO1xuXG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBjb25zdCBOT1RFX1RZUEUgPSBcIm5vdGVcIjtcbmV4cG9ydCB0eXBlIE5PVEVfVFlQRSA9IHR5cGVvZiBOT1RFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIE5vdGVDb21wb25lbnQgZXh0ZW5kcyBIaWRlYWJsZUNvbXBvbmVudCwgTXVsdGlDb21wb25lbnQge1xuICAgIHR5cGU6IE5PVEVfVFlQRTtcblxuICAgIG5vdGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEZPTExPV19NT1VTRV9UWVBFID0gXCJmb2xsb3dfbW91c2VcIjtcbmV4cG9ydCB0eXBlIEZPTExPV19NT1VTRV9UWVBFID0gdHlwZW9mIEZPTExPV19NT1VTRV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBGb2xsb3dNb3VzZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogRk9MTE9XX01PVVNFX1RZUEU7XG59XG5cbmV4cG9ydCBjb25zdCBIT1NUX0hJRERFTl9UWVBFID0gXCJob3N0X2hpZGRlblwiO1xuZXhwb3J0IHR5cGUgSE9TVF9ISURERU5fVFlQRSA9IHR5cGVvZiBIT1NUX0hJRERFTl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBIb3N0SGlkZGVuQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21tb25TdG9yYWdlKGVjczogV29ybGQpIHtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgU2luZ2xlRWNzU3RvcmFnZShQT1NJVElPTl9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IFNpbmdsZUVjc1N0b3JhZ2UoVFJBTlNGT1JNX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgTXVsdGlFY3NTdG9yYWdlKE5BTUVfVFlQRSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBNdWx0aUVjc1N0b3JhZ2UoTk9URV9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IEZsYWdFY3NTdG9yYWdlKEZPTExPV19NT1VTRV9UWVBFLCBmYWxzZSwgZmFsc2UpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgRmxhZ0Vjc1N0b3JhZ2UoSE9TVF9ISURERU5fVFlQRSwgZmFsc2UsIGZhbHNlKSk7XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudEtlZXBFbnRpdHkoY29tcDogQ29tcG9uZW50KTogYW55IHtcbiAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgIGZvciAobGV0IG5hbWUgaW4gY29tcCkge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nIHx8IG5hbWUgPT09ICdjbGllbnRWaXNpYmxlJykgY29udGludWU7XG4gICAgICAgIHJlc1tuYW1lXSA9IChjb21wIGFzIGFueSlbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJDb21wb25lbnQoY29tcDogQ29tcG9uZW50KTogYW55IHtcbiAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgIGZvciAobGV0IG5hbWUgaW4gY29tcCkge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nIHx8IG5hbWUgPT09ICdlbnRpdHknIHx8IG5hbWUgPT09ICdjbGllbnRWaXNpYmxlJykgY29udGludWU7XG4gICAgICAgIHJlc1tuYW1lXSA9IChjb21wIGFzIGFueSlbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUlkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudENsb25lKG9iajogYW55KTogYW55IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn0iLCJpbXBvcnQge0FhYmJ9IGZyb20gXCIuLi9nZW9tZXRyeS9hYWJiXCI7XG5cbmV4cG9ydCBlbnVtIEdlb21lcnR5UXVlcnlUeXBlIHtcbiAgICBQT0lOVCwgQUFCQixcbn1cblxuZXhwb3J0IGNsYXNzIFF1ZXJ5SGl0RXZlbnQge1xuICAgIHJlYWRvbmx5IHR5cGU6IEdlb21lcnR5UXVlcnlUeXBlO1xuICAgIHJlYWRvbmx5IG11bHRpOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGFhYmI6IEFhYmI7Ly8gSWYgaXQncyBhIHBvaW50IG1pblggPSBtYXhYICYmIG1pblkgPSBtYXhZXG4gICAgcmVhZG9ubHkgZGF0YTogUElYSS5JUG9pbnREYXRhIHwgQWFiYjtcblxuICAgIGhpdHMgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcih0eXBlOiBHZW9tZXJ0eVF1ZXJ5VHlwZSwgbXVsdGk6IGJvb2xlYW4sIGFhYmI6IEFhYmIsIGRhdGE/OiBQSVhJLklQb2ludERhdGEpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5tdWx0aSA9IG11bHRpO1xuICAgICAgICB0aGlzLmFhYmIgPSBhYWJiO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IGFhYmI7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29udGludWUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpIHx8IHRoaXMuaGl0cy5zaXplID09PSAwO1xuICAgIH1cblxuICAgIGFkZEhpdChlbnRpdHk6IG51bWJlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQ29udGludWUoKSkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5oaXRzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICBsZXQgb2xkUHJpb3IgPSB0aGlzLmhpdHMuZ2V0KGVudGl0eSkhO1xuICAgICAgICAgICAgaWYgKG9sZFByaW9yID49IHByaW9yaXR5KSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXRzLnNldChlbnRpdHksIHByaW9yaXR5KTtcbiAgICB9XG5cbiAgICBnZXRTb3J0ZWQoKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5oaXRzLmVudHJpZXMoKV0uc29ydCh4ID0+IC14WzFdKS5tYXAoeCA9PiB4WzBdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcXVlcnlQb2ludChwb2ludDogUElYSS5JUG9pbnREYXRhLCBtdWx0aTogYm9vbGVhbik6IFF1ZXJ5SGl0RXZlbnQge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SGl0RXZlbnQoR2VvbWVydHlRdWVyeVR5cGUuUE9JTlQsIG11bHRpLCBuZXcgQWFiYihwb2ludC54LCBwb2ludC55LCBwb2ludC54LCBwb2ludC55KSwgcG9pbnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVyeUFhYmIoYWFiYjogQWFiYiwgbXVsdGk6IGJvb2xlYW4pOiBRdWVyeUhpdEV2ZW50IHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeUhpdEV2ZW50KEdlb21lcnR5UXVlcnlUeXBlLkFBQkIsIG11bHRpLCBhYWJiKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7R3JpZE9wdGlvbnN9IGZyb20gXCIuLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi9zeXN0ZW1zL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uL2dlb21ldHJ5L2FhYmJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIF9zYXZlOiBib29sZWFuO1xuICAgIF9zeW5jOiBib29sZWFuO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2UsIEdyaWRPcHRpb25zIHtcbiAgICB0eXBlOiBHUklEX1RZUEU7XG4gICAgX3NhdmU6IHRydWU7XG4gICAgX3N5bmM6IHRydWU7XG59XG5cblxuXG5leHBvcnQgY29uc3QgUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUgPSBcInJlY3Rhbmd1bGFyX3NlbGVjdGlvblwiO1xuZXhwb3J0IHR5cGUgUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUgPSB0eXBlb2YgUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEU7XG4gICAgYWFiYjogQWFiYjtcbiAgICBfc2F2ZTogZmFsc2U7XG4gICAgX3N5bmM6IGZhbHNlO1xufVxuXG5leHBvcnQgY29uc3QgTUVBU1VSRV9UWVBFID0gXCJtZWFzdXJlXCI7XG5leHBvcnQgdHlwZSBNRUFTVVJFX1RZUEUgPSB0eXBlb2YgTUVBU1VSRV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBNZWFzdXJlUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogTUVBU1VSRV9UWVBFO1xuICAgIGZyb21YOiBudW1iZXI7XG4gICAgZnJvbVk6IG51bWJlcjtcbiAgICB0b1g6IG51bWJlcjtcbiAgICB0b1k6IG51bWJlcjtcbiAgICBfc2F2ZTogZmFsc2U7XG4gICAgX3N5bmM6IGZhbHNlO1xufVxuXG5cbmV4cG9ydCBjb25zdCBDUkVBVElPTl9JTkZPX1RZUEUgPSBcImNyZWF0aW9uX2luZm9cIjtcbmV4cG9ydCB0eXBlIENSRUFUSU9OX0lORk9fVFlQRSA9IHR5cGVvZiBDUkVBVElPTl9JTkZPX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0aW9uSW5mb1Jlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IENSRUFUSU9OX0lORk9fVFlQRTtcbiAgICBleGl0QWZ0ZXJDcmVhdGlvbjogYm9vbGVhbjtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogZmFsc2U7XG59IiwiaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0Rlc2VyaWFsaXplRGF0YSwgRGVzZXJpYWxpemVPcHRpb25zLCBTZXJpYWxpemVEYXRhLCBTZXJpYWxpemVPcHRpb25zLCBXb3JsZH0gZnJvbSBcIi4vd29ybGRcIjtcbmltcG9ydCB7Z2VuZXJhdGVSYW5kb21JZH0gZnJvbSBcIi4vZWNzVXRpbFwiO1xuaW1wb3J0IHsgYXJyYXlGaWx0ZXJJblBsYWNlIH0gZnJvbSBcIi4uL3V0aWwvYXJyYXlcIjtcbmltcG9ydCB7IG9iamVjdEZpbHRlcklucGxhY2UsIG9iamVjdE1lcmdlIH0gZnJvbSBcIi4uL3V0aWwvanNvYmpcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplT2JqKG9iajogQ29tcG9uZW50LCByZW1vdmVDbGllbnRWaXNpYmxlOiBib29sZWFuKTogYW55IHtcbiAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgIGZvciAobGV0IG5hbWUgaW4gb2JqKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2VudGl0eScgfHxcbiAgICAgICAgICAgIG5hbWUgPT09ICd0eXBlJyB8fCAocmVtb3ZlQ2xpZW50VmlzaWJsZSAmJiBuYW1lID09PSAnY2xpZW50VmlzaWJsZScpKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKG9iaiBhcyBhbnkpW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVjc1N0b3JhZ2U8QyBleHRlbmRzIENvbXBvbmVudD4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgbXVsdGlJZD86IG51bWJlcik6IEMgfCB1bmRlZmluZWQ7XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPEM+XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkO1xuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkO1xuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKTogdm9pZDtcblxuICAgIHNlcmlhbGl6ZShvcHRpb25zOiBTZXJpYWxpemVEYXRhKTogYW55IHwgdW5kZWZpbmVkO1xuXG4gICAgZGVzZXJpYWxpemUoZWNzOiBXb3JsZCwgZHNEYXRhOiBEZXNlcmlhbGl6ZURhdGEsIHJhdzogYW55KTogdm9pZDtcblxuICAgIHNlcmlhbGl6ZWRNZXJnZSh0bzogYW55LCBmcm9tOiBhbnkpOiB2b2lkO1xuXG4gICAgc2VyaWFsaXplZFN0cmlwKGRhdGE6IGFueSwgZmlsdGVyOiAoeDogbnVtYmVyKSA9PiBib29sZWFuKTogdm9pZDtcbn1cblxudHlwZSBNdWx0aUVjc1N0b3JhZ2VTZXJpYWxpemVkID0ge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfTtcbmV4cG9ydCBjbGFzcyBNdWx0aUVjc1N0b3JhZ2U8QyBleHRlbmRzIE11bHRpQ29tcG9uZW50PiBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Qz4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGRhdGEgPSBuZXcgTWFwPG51bWJlciwgQXJyYXk8Qz4+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIHN5bmM6IGJvb2xlYW4gPSB0cnVlLCBzYXZlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN5bmMgPSBzeW5jO1xuICAgICAgICB0aGlzLnNhdmUgPSBzYXZlO1xuICAgIH1cblxuICAgIGdldEZpcnN0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBtdWx0aUlkPzogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChtdWx0aUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudChlbnRpdHksIG11bHRpSWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gZVswXTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIG11bHRpSWQ6IG51bWJlcik6IEMgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgY21wcyA9IHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKGNtcHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChsZXQgY21wIG9mIGNtcHMpIHtcbiAgICAgICAgICAgIGlmIChjbXAubXVsdGlJZCA9PT0gbXVsdGlJZCkgcmV0dXJuIGNtcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Qz4ge1xuICAgICAgICBpZiAoZW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSkgfHwgW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxDb21wb25lbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAqYWxsQ29tcG9uZW50cygpOiBHZW5lcmF0b3I8Qz4ge1xuICAgICAgICBmb3IgKGxldCBjb21wcyBvZiB0aGlzLmRhdGEudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjb21wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQubXVsdGlJZCA+PSAwKSB7Ly8gUHJlLWFzc2lnbmVkIG11bHRpLWlkXG4gICAgICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIFtjb21wb25lbnRdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMubXVsdGlJZCA9PT0gY29tcG9uZW50Lm11bHRpSWQpIHRocm93IEVycm9yKCdJbnZhbGlkIHByZS1hc3NpZ25lZCBtdWx0aUlkICcgKyBjLm11bHRpSWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFyci5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5tdWx0aUlkID0gZ2VuZXJhdGVSYW5kb21JZCgpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNldChjb21wb25lbnQuZW50aXR5LCBbY29tcG9uZW50XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaWQ7XG4gICAgICAgICAgICBsZXQgZm91bmQ7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWQgPSBnZW5lcmF0ZVJhbmRvbUlkKCk7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4IG9mIGFycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeC5tdWx0aUlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChmb3VuZCk7XG4gICAgICAgICAgICBjb21wb25lbnQubXVsdGlJZCA9IGlkO1xuICAgICAgICAgICAgYXJyLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVucmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMSAmJiBhcnJbMF0gPT09IGNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmRlbGV0ZShjb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyci5zcGxpY2UoYXJyLmluZGV4T2YoY29tcG9uZW50KSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyQWxsT2YoZW50aXR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRlbGV0ZShlbnRpdHkpO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZShzZGF0YTogU2VyaWFsaXplRGF0YSk6IE11bHRpRWNzU3RvcmFnZVNlcmlhbGl6ZWQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcmVzOiBNdWx0aUVjc1N0b3JhZ2VTZXJpYWxpemVkID0ge307XG5cbiAgICAgICAgY29uc3Qgc3RyaXBDbGllbnQgPSBzZGF0YS5vcHRpb25zLnN0cmlwQ2xpZW50O1xuICAgICAgICBjb25zdCBzZXIgPSAoY29tcHM6IENbXSk6IEFycmF5PGFueT4gPT4ge1xuICAgICAgICAgICAgbGV0IGVudGl0eVJlcyA9IG5ldyBBcnJheTxhbnk+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaXBDbGllbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgKGNvbXBvbmVudCBhcyBDb21wb25lbnQgYXMgSGlkZWFibGVDb21wb25lbnQpLmNsaWVudFZpc2libGUgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlbnRpdHlSZXMucHVzaChzZXJpYWxpemVPYmooY29tcG9uZW50LCBzdHJpcENsaWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eVJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbWFwID0gc2RhdGEub3B0aW9ucy5yZW1hcDtcbiAgICAgICAgbGV0IGlzUHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2RhdGEub3B0aW9ucy5vbmx5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBzZGF0YS5vcHRpb25zLm9ubHkpIHtcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wcyA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoc2RhdGEuc2hvdWxkSWdub3JlKGVudGl0eSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHNlcihjb21wcyk7XG4gICAgICAgICAgICAgICAgaWYgKHgubGVuZ3RoID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxldCBlID0gcmVtYXAgPyBpIDogZW50aXR5O1xuICAgICAgICAgICAgICAgIHJlc1tlXSA9IHg7XG4gICAgICAgICAgICAgICAgaXNQcmVzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IFtlbnRpdHksIGNvbXBzXSBvZiB0aGlzLmRhdGEuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNkYXRhLnNob3VsZElnbm9yZShlbnRpdHkpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBzZXIoY29tcHMpO1xuICAgICAgICAgICAgICAgIGlmICh4Lmxlbmd0aCA9PT0gMCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgZSA9IHJlbWFwID8gc2RhdGEuZW50aXR5TWFwcGluZyhlbnRpdHkpIDogZW50aXR5O1xuICAgICAgICAgICAgICAgIHJlc1tlXSA9IHg7XG4gICAgICAgICAgICAgICAgaXNQcmVzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUHJlc2VudCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBkZXNlcmlhbGl6ZShlY3M6IFdvcmxkLCBkc2RhdGE6IERlc2VyaWFsaXplRGF0YSwgZGF0YTogTXVsdGlFY3NTdG9yYWdlU2VyaWFsaXplZCB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBsZXQgZSA9IHBhcnNlSW50KGVudGl0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGRhdGFbZW50aXR5XSkge1xuICAgICAgICAgICAgICAgIGxldCBvYmogPSBPYmplY3QuYXNzaWduKHt9LCBjb21wLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVjcy5hZGRDb21wb25lbnQoZHNkYXRhLmVudGl0eU1hcHBpbmcoZSksIG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemVkTWVyZ2UodG86IE11bHRpRWNzU3RvcmFnZVNlcmlhbGl6ZWQsIGZyb206IE11bHRpRWNzU3RvcmFnZVNlcmlhbGl6ZWQpIHtcbiAgICAgICAgb2JqZWN0TWVyZ2UodG8sIGZyb20pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZWRTdHJpcChkYXRhOiBNdWx0aUVjc1N0b3JhZ2VTZXJpYWxpemVkLCBmaWx0ZXI6ICh4OiBudW1iZXIpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgb2JqZWN0RmlsdGVySW5wbGFjZShkYXRhLCAobmFtZSwgdmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZpbHRlcihwYXJzZUludChuYW1lKSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGFycmF5RmlsdGVySW5QbGFjZSh2YWwsIHggPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoeCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAoeCBhcyBhbnkpWydjbGllbnRWaXNpYmxlJ107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkID0ge1tlbnRpdHk6IG51bWJlcl06IGFueX07XG5leHBvcnQgY2xhc3MgU2luZ2xlRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Qz4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGRhdGEgPSBuZXcgTWFwPG51bWJlciwgQz4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPEM+IHtcbiAgICAgICAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgICAgICBlbHNlIHJldHVybiBbcmVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbENvbXBvbmVudHMoKTogSXRlcmFibGVJdGVyYXRvcjxDPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsdWVzKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IG9mIHNhbWUgdHlwZSBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVucmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5kYXRhLmdldChjb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjID09PSBjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5kZWxldGUoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyQWxsT2YoZW50aXR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRlbGV0ZShlbnRpdHkpO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZShzZGF0YTogU2VyaWFsaXplRGF0YSk6IFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcmVzOiBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkID0ge307XG5cbiAgICAgICAgY29uc3Qgc3RyaXBDbGllbnQgPSBzZGF0YS5vcHRpb25zLnN0cmlwQ2xpZW50O1xuICAgICAgICBjb25zdCByZW1hcCA9IHNkYXRhLm9wdGlvbnMucmVtYXA7XG4gICAgICAgIGxldCBpc1ByZXNlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHNkYXRhLm9wdGlvbnMub25seSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2Ygc2RhdGEub3B0aW9ucy5vbmx5KSB7XG4gICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLmRhdGEuZ2V0KGVudGl0eSlcbiAgICAgICAgICAgICAgICBpZiAoY29tcCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaXBDbGllbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNkYXRhLnNob3VsZElnbm9yZShjb21wLmVudGl0eSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGNvbXAgYXMgQ29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IGUgPSByZW1hcCA/IGkgOiBlbnRpdHk7XG4gICAgICAgICAgICAgICAgcmVzW2VdID0gc2VyaWFsaXplT2JqKGNvbXAsIHN0cmlwQ2xpZW50KTtcbiAgICAgICAgICAgICAgICBpc1ByZXNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLmRhdGEudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaXBDbGllbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNkYXRhLnNob3VsZElnbm9yZShjb21wLmVudGl0eSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGNvbXAgYXMgQ29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IGUgPSByZW1hcCA/IHNkYXRhLmVudGl0eU1hcHBpbmcoY29tcC5lbnRpdHkpIDogY29tcC5lbnRpdHk7XG4gICAgICAgICAgICAgICAgcmVzW2VdID0gc2VyaWFsaXplT2JqKGNvbXAsIHN0cmlwQ2xpZW50KTtcbiAgICAgICAgICAgICAgICBpc1ByZXNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQcmVzZW50KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRzRGF0YTogRGVzZXJpYWxpemVEYXRhLCBkYXRhOiBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGxldCBvYmogPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhW2VudGl0eV0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBlY3MuYWRkQ29tcG9uZW50KGRzRGF0YS5lbnRpdHlNYXBwaW5nKHBhcnNlSW50KGVudGl0eSkpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplZE1lcmdlKHRvOiBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkLCBmcm9tOiBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkKSB7XG4gICAgICAgIG9iamVjdE1lcmdlKHRvLCBmcm9tKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemVkU3RyaXAoZGF0YTogU2luZ2xlRWNzU3RvcmFnZVNlcmlhbHplZCwgZmlsdGVyOiAoeDogbnVtYmVyKSA9PiBib29sZWFuKSB7XG4gICAgICAgIG9iamVjdEZpbHRlcklucGxhY2UoZGF0YSwgKG5hbWUsIHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmaWx0ZXIocGFyc2VJbnQobmFtZSkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoKHZhbCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgRmxhZ0Vjc1N0b3JhZ2VTZXJpYWx6ZWQgPSBudW1iZXJbXTtcbmV4cG9ydCBjbGFzcyBGbGFnRWNzU3RvcmFnZSBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Q29tcG9uZW50PiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgZGF0YSA9IG5ldyBNYXA8bnVtYmVyLCBDb21wb25lbnQ+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIHN5bmM6IGJvb2xlYW4gPSB0cnVlLCBzYXZlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN5bmMgPSBzeW5jO1xuICAgICAgICB0aGlzLnNhdmUgPSBzYXZlO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudChlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIpOiBDb21wb25lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPENvbXBvbmVudD4ge1xuICAgICAgICBpZiAoZW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgICAgICBlbHNlIHJldHVybiBbcmVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbENvbXBvbmVudHMoKTogSXRlcmFibGVJdGVyYXRvcjxDb21wb25lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS52YWx1ZXMoKTtcbiAgICB9XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmhhcyhjb21wb25lbnQuZW50aXR5KSkgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnQgb2Ygc2FtZSB0eXBlIGFscmVhZHkgcmVnaXN0ZXJlZCcpO1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIGNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXJBbGxPZihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKHNkYXRhOiBTZXJpYWxpemVEYXRhKTogbnVtYmVyW10gfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgaWYgKHNkYXRhLm9wdGlvbnMub25seSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0gWy4uLnRoaXMuZGF0YS5rZXlzKCldO1xuICAgICAgICAgICAgaWYgKHNkYXRhLm9wdGlvbnMuc3RyaXBDbGllbnQpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5maWx0ZXIoZSA9PiAhc2RhdGEuc2hvdWxkSWdub3JlKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZGF0YS5vcHRpb25zLnJlbWFwKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEubWFwKHNkYXRhLmVudGl0eU1hcHBpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IFtdO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBzZGF0YS5vcHRpb25zLm9ubHkpIHtcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRhdGEuaGFzKGUpIHx8IHNkYXRhLnNob3VsZElnbm9yZShlKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHNkYXRhLm9wdGlvbnMucmVtYXAgPyBpIDogZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRzRGF0YTogRGVzZXJpYWxpemVEYXRhLCBkYXRhOiBudW1iZXJbXSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBlY3MuYWRkQ29tcG9uZW50KGRzRGF0YS5lbnRpdHlNYXBwaW5nKGVudGl0eSksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemVkTWVyZ2UodG86IEZsYWdFY3NTdG9yYWdlU2VyaWFsemVkLCBmcm9tOiBGbGFnRWNzU3RvcmFnZVNlcmlhbHplZCkge1xuICAgICAgICB0by5wdXNoKC4uLmZyb20pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZWRTdHJpcChkYXRhOiBGbGFnRWNzU3RvcmFnZVNlcmlhbHplZCwgZmlsdGVyOiAoeDogbnVtYmVyKSA9PiBib29sZWFuKSB7XG4gICAgICAgIGFycmF5RmlsdGVySW5QbGFjZShkYXRhLCBmaWx0ZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbUdyYXBoIHtcbiAgICBwcml2YXRlIHN5c3RlbXNCeU5hbWUgPSBuZXcgTWFwPHN0cmluZywgU3lzdGVtPigpO1xuICAgIHByaXZhdGUgc3lzdGVtcyA9IG5ldyBBcnJheTxTeXN0ZW0+KCk7XG4gICAgcHJpdmF0ZSB1bmZ1bGZpbGxlZERlcHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgIGdldChuYW1lOiBzdHJpbmcpOiBTeXN0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChuYW1lKTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihzeXN0ZW06IFN5c3RlbSk6IHZvaWQge1xuICAgICAgICBsZXQgZGVwTmFtZSA9IHN5c3RlbS5uYW1lO1xuICAgICAgICBsZXQgdW5mdWxmaWxsZWQgPSB0aGlzLnVuZnVsZmlsbGVkRGVwcy5oYXMoc3lzdGVtLm5hbWUpO1xuXG4gICAgICAgIGlmICghdW5mdWxmaWxsZWQgJiYgc3lzdGVtLnByb3ZpZGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgICAgICBkZXBOYW1lID0gZGVwO1xuICAgICAgICAgICAgICAgIHVuZnVsZmlsbGVkID0gdGhpcy51bmZ1bGZpbGxlZERlcHMuaGFzKGRlcCk7XG4gICAgICAgICAgICAgICAgaWYgKHVuZnVsZmlsbGVkKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodW5mdWxmaWxsZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU29tZSBwcmV2aW91cyBzeXN0ZW0gb3B0aW9uYWxseSBkZXBlbmRlZCBvbiAke2RlcE5hbWV9LCBwbGVhc2Ugb3JkZXIgeW91ciBzeXN0ZW1zIGNvcnJlY3RseWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZGVwIG9mIHN5c3RlbS5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zeXN0ZW1zQnlOYW1lLmhhcyhkZXApKSB0aHJvdyBuZXcgRXJyb3IoJ1VuZnVsZmlsbGVkIGRlcGVuZGVuY3k6ICcgKyBkZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzeXN0ZW0ub3B0aW9uYWxEZXBlbmRlbmNpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgZGVwIG9mIHN5c3RlbS5vcHRpb25hbERlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN5c3RlbXNCeU5hbWUuaGFzKGRlcCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudW5mdWxmaWxsZWREZXBzLmFkZChkZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN5cyA9IHRoaXMuc3lzdGVtc0J5TmFtZS5nZXQoc3lzdGVtLm5hbWUpO1xuICAgICAgICBpZiAoc3lzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzeXMubmFtZSA9PT0gc3lzdGVtLm5hbWUpIHRocm93IG5ldyBFcnJvcignU3lzdGVtIG5hbWUgY29uZmxpY3QnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU3lzdGVtICR7c3lzdGVtLm5hbWV9IGhhcyBiZWVuIGFscmVhZHkgcmVnaXN0ZXJlZCB1bmRlciAke3N5cy5uYW1lfSwgb3ZlcnJpZGluZ2ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3lzdGVtc0J5TmFtZS5zZXQoc3lzdGVtLm5hbWUsIHN5c3RlbSk7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgICAgIGlmIChzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3Ygb2Ygc3lzdGVtLnByb3ZpZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMocHJvdikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2aWNlICR7cHJvdn0gaXMgYWxyZWFkeSBwcm92aWRlZCBieSAke3RoaXMuc3lzdGVtc0J5TmFtZS5nZXQocHJvdikhLm5hbWV9LCBjYW5ub3Qgb3ZlcnJpZGUgd2l0aCAke3N5c3RlbS5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbXNCeU5hbWUuc2V0KHByb3YsIHN5c3RlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFN5c3RlbT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9XG5cbiAgICBnZXRBdChpbmRleDogbnVtYmVyKTogU3lzdGVtIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtc1tpbmRleF07XG4gICAgfVxuXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zLmxlbmd0aDtcbiAgICB9XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtNdWx0aUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge011bHRpQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtjb21wb25lbnRFZGl0Q29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tcG9uZW50RWRpdFwiO1xuaW1wb3J0IHtSZXNvdXJjZUVkaXRDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9yZXNvdXJjZUVkaXRDb21tYW5kXCI7XG5pbXBvcnQge2VtaXRDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQgeyBvYmplY3RDbG9uZSB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2pzb2JqXCI7XG5pbXBvcnQgeyBTcGF3bkNvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7IGdlbmVyYXRlUmFuZG9tSWQgfSBmcm9tIFwiLi4vLi4vZWNzVXRpbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJpZ0VudHJ5PFg+IHtcbiAgICBtdWx0aUlkOiBCaWdTdG9yYWdlSW5kZXg8WD47XG4gICAgZGF0YTogWDtcbiAgICBmbGFnczogQmlnRW50cnlGbGFncztcbiAgICBfdXNlcnM/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlnRW50cnlDb21wb25lbnQgZXh0ZW5kcyBNdWx0aUNvbXBvbmVudCwgQmlnRW50cnk8YW55PiB7XG4gICAgdHlwZTogQklHX1NUT1JBR0VfVFlQRTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWdFbnRyeVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IEJJR19TVE9SQUdFX1RZUEU7XG4gICAgZW50aXR5OiBudW1iZXI7XG4gICAgX3NhdmU6IHRydWU7XG4gICAgX3N5bmM6IHRydWU7XG59XG5cbmV4cG9ydCBlbnVtIEJpZ0VudHJ5RmxhZ3Mge1xuICAgIFJFQURPTkxZID0gMSxcbiAgICAvLy8gSWYgaXQncyBub3Qgc2hhcmVkIGl0J3Mgb3duZWQgYXMgYSBDb1dcbiAgICBTSEFSRUQgPSAyLFxuICAgIC8vIElmIHByZXNlbnQgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCB0aGUgb3RoZXJcbiAgICAvLyAgKGJ1dCBpdCdzIHN0aWxsIFNBVkUgc28gaXQgd2lsbCBiZSBzZW50IGF0IHRoZSBiZWdpbm5pbmcsXG4gICAgLy8gICB1c2UgY2FzZTogdmlzaWJpbGl0eSBtYXApXG4gICAgTk9fU1lOQyA9IDQsXG59XG5cbmV4cG9ydCB0eXBlIEJpZ1N0b3JhZ2VJbmRleDxYPiA9IG51bWJlcjtcblxuZXhwb3J0IGNvbnN0IEJJR19TVE9SQUdFX1RZUEUgPSAnYmlnX3N0b3JhZ2UnO1xuZXhwb3J0IHR5cGUgQklHX1NUT1JBR0VfVFlQRSA9IHR5cGVvZiBCSUdfU1RPUkFHRV9UWVBFO1xuZXhwb3J0IGNsYXNzIEJpZ1N0b3JhZ2VTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBCSUdfU1RPUkFHRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBNdWx0aUVjc1N0b3JhZ2U8QmlnRW50cnlDb21wb25lbnQ+KEJJR19TVE9SQUdFX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgcmVzOiBCaWdFbnRyeVJlc291cmNlID0ge1xuICAgICAgICB0eXBlOiBCSUdfU1RPUkFHRV9UWVBFLFxuICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgX3N5bmM6IHRydWUsXG4gICAgfTtcblxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMucmVzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdkZXNlcmlhbGl6ZWQnLCB0aGlzLm9uRGVzZXJpYWxpemVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGU8WD4oZGF0YTogWCwgZmxhZ3M6IEJpZ0VudHJ5RmxhZ3MgPSAwLCBvd24gPSB0cnVlKTogQmlnRW50cnk8WD4ge1xuICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIGJpZyBlbnRyeSBvbiBhIG5vbi1tYXN0ZXIgd29ybGRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzLmVudGl0eSA8PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIGJpZyBzdG9yYWdlXCIpO1xuICAgICAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMud29ybGQuYWxsb2NhdGVJZCgpO1xuICAgICAgICAgICAgZW1pdENvbW1hbmQodGhpcy53b3JsZCwge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdGllczogW2VudGl0eV0sXG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VzOiB7fSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIFNwYXduQ29tbWFuZCwgdHJ1ZSk7XG4gICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdyZWRpdCcsXG4gICAgICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgICAgICBlZGl0OiB7fSxcbiAgICAgICAgICAgICAgICByZW1vdmU6IFtdLFxuICAgICAgICAgICAgfSBhcyBSZXNvdXJjZUVkaXRDb21tYW5kO1xuICAgICAgICAgICAgY21kLmVkaXRbQklHX1NUT1JBR0VfVFlQRV0gPSB7IGVudGl0eSB9O1xuICAgICAgICAgICAgZW1pdENvbW1hbmQodGhpcy53b3JsZCwgY21kLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB4ID0ge1xuICAgICAgICAgICAgbXVsdGlJZDogZ2VuZXJhdGVSYW5kb21JZCgpLFxuICAgICAgICAgICAgdHlwZTogQklHX1NUT1JBR0VfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5yZXMuZW50aXR5LFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICAgICAgX3VzZXJzOiBvd24gPyAxIDogMCxcbiAgICAgICAgfSBhcyBCaWdFbnRyeUNvbXBvbmVudDtcblxuICAgICAgICBlbWl0Q29tbWFuZCh0aGlzLndvcmxkLCBjb21wb25lbnRFZGl0Q29tbWFuZChbeF0pLCAhKGZsYWdzICYgQmlnRW50cnlGbGFncy5OT19TWU5DKSk7XG5cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuXG4gICAgcmVxdWVzdDxYPihpZDogQmlnU3RvcmFnZUluZGV4PFg+KTogQmlnRW50cnk8WD4gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh0aGlzLnJlcy5lbnRpdHksIGlkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0VXNlPFg+KGlkOiBCaWdTdG9yYWdlSW5kZXg8WD4pOiBCaWdFbnRyeTxYPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJlcXVlc3Q8WD4oaWQpO1xuICAgICAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICByLl91c2VycyA9ICgoci5fdXNlcnMgfHwgMCkgICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuXG4gICAgcmVwbGFjZTxYPihpZDogQmlnU3RvcmFnZUluZGV4PFg+LCBuZXdEYXRhOiBYLCBpZ25vcmVSZWFkb25seSA9IGZhbHNlKTogQmlnU3RvcmFnZUluZGV4PFg+IHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucmVxdWVzdDxYPihpZCk7XG4gICAgICAgIGlmIChyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwidW5kZWZpbmVkIGlkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyLmZsYWdzICYgQmlnRW50cnlGbGFncy5SRUFET05MWSAmJiAhaWdub3JlUmVhZG9ubHkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJ5aW5nIHRvIHJlcGxhY2UgcmVhZG9ubHkgcmVzdXJjZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoci5mbGFncyAmIEJpZ0VudHJ5RmxhZ3MuU0hBUkVEKSA9PT0gMCAmJiByLl91c2VycyEhID4gMSkge1xuICAgICAgICAgICAgci5fdXNlcnMhISAtPSAxO1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZShuZXdEYXRhLCByLmZsYWdzKTtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5tdWx0aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgci5kYXRhID0gbmV3RGF0YTtcbiAgICAgICAgcmV0dXJuIHIubXVsdGlJZDtcbiAgICB9XG5cbiAgICBkcm9wVXNlPFg+KGlkOiBCaWdTdG9yYWdlSW5kZXg8WD4sIGZvcmNlRHJvcDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy53b3JsZC5pc01hc3RlcikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJlcXVlc3QoaWQpO1xuICAgICAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHIuX3VzZXJzID0gKChyLl91c2VycyB8fCAwKSAtIDEpO1xuICAgICAgICAvLyBEb24ndCwgdGhpcyBtaWdodCBiZSByZXVzZWQgYnkgdGhlIGNvbW1hbmRzXG4gICAgICAgIGlmIChmb3JjZURyb3AgJiYgci5fdXNlcnMgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnVucmVnaXN0ZXIociBhcyBCaWdFbnRyeUNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRGVzZXJpYWxpemVkKCkge1xuICAgICAgICBsZXQgdG9SZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50cyh0aGlzLnJlcy5lbnRpdHkpKSB7XG4gICAgICAgICAgICBpZiAoci5fdXNlcnMgPT09IHVuZGVmaW5lZCB8fCByLl91c2VycyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdG9SZW1vdmUucHVzaChyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgY21kID0gY29tcG9uZW50RWRpdENvbW1hbmQoW10sIFtdLCB0b1JlbW92ZSk7XG4gICAgICAgIC8vIFRPRE86IHBsZWFzZSBjaGVjayBpZiB0aGlzIHdvcmtzLCBJJ20gdG9vIHNjYXJlZFxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBQb3NpdGlvbkNvbXBvbmVudCwgVHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1xuICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQsXG4gICAgb3ZlcmxhcEFhYmJWc0FhYmIsXG4gICAgb3ZlcmxhcEFhYmJWc0xpbmUsXG4gICAgb3ZlcmxhcEFhYmJWc1BvaW50LFxuICAgIG92ZXJsYXBDaXJjbGVWc0FhYmIsXG4gICAgb3ZlcmxhcENpcmNsZVZzQ2lyY2xlLFxuICAgIG92ZXJsYXBDaXJjbGVWc1BvbHlnb24sXG4gICAgb3ZlcmxhcExpbmVWc0NpcmNsZSxcbiAgICBvdmVybGFwTGluZVZzUG9seWdvbixcbiAgICBvdmVybGFwT2JiVnNQb2x5Z29uLFxuICAgIG92ZXJsYXBQb2ludFZzQ2lyY2xlLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzQWFiYixcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZSxcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc0xpbmUsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNQb2ludCxcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc1JvdGF0ZWRSZWN0LFxuICAgIFNlZ21lbnRWc1NlZ21lbnRSZXNcbn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2NvbGxpc2lvblwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHtwb2x5Z29uUG9pbnRJbnRlcnNlY3R9IGZyb20gXCIuLi8uLi8uLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L29iYlwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0R5bmFtaWNUcmVlfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvZHluYW1pY1RyZWVcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge0dlb21lcnR5UXVlcnlUeXBlLCBRdWVyeUhpdEV2ZW50fSBmcm9tIFwiLi4vLi4vaW50ZXJhY3Rpb25cIjtcbmltcG9ydCB7UGxheWVyVmlzaWJsZUNvbXBvbmVudH0gZnJvbSBcIi4uL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtQb2ludERCfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9wb2ludERCXCI7XG5pbXBvcnQge0dSSURfVFlQRSwgR3JpZFN5c3RlbX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEUsIFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4vc2VsZWN0aW9uU3lzdGVtXCI7XG5cbmV4cG9ydCBlbnVtIFNoYXBlVHlwZSB7XG4gICAgUE9JTlQsIEFBQkIsIENJUkNMRSwgTElORSwgUE9MWUdPTiwgT0JCLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuUE9JTlQ7XG4gICAgcG9zOiBQSVhJLklQb2ludERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWFiYlNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5BQUJCO1xuICAgIGRhdGE6IEFhYmI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2lyY2xlU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLkNJUkNMRTtcbiAgICBwb3M6IFBJWEkuSVBvaW50RGF0YTtcbiAgICByYWRpdXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLkxJTkU7XG4gICAgZGF0YTogTGluZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2x5Z29uU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLlBPTFlHT047XG4gICAgcG9seWdvbjogbnVtYmVyW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JiU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLk9CQjtcbiAgICBkYXRhOiBPYmI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZVBvaW50KHBvczogUElYSS5JUG9pbnREYXRhKTogUG9pbnRTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPSU5ULFxuICAgICAgICBwb3MsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlQWFiYihhYWJiOiBBYWJiKTogQWFiYlNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuQUFCQixcbiAgICAgICAgZGF0YTogYWFiYixcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVDaXJjbGUoY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhZGl1czogbnVtYmVyKTogQ2lyY2xlU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5DSVJDTEUsXG4gICAgICAgIHBvczogY2VudGVyLFxuICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVMaW5lKGxpbmU6IExpbmUpOiBMaW5lU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5MSU5FLFxuICAgICAgICBkYXRhOiBsaW5lLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZVBvbHlnb24ocG9seWdvbjogbnVtYmVyW10pOiBQb2x5Z29uU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5QT0xZR09OLFxuICAgICAgICBwb2x5Z29uLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZU9iYihvYmI6IE9iYik6IE9iYlNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuT0JCLFxuICAgICAgICBkYXRhOiBvYmIsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlSW50ZXJzZWN0KHNoYXBlMTogU2hhcGUsIHNoYXBlMjogU2hhcGUpOiBib29sZWFuIHtcbiAgICBpZiAoc2hhcGUyLnR5cGUgPCBzaGFwZTEudHlwZSkgW3NoYXBlMiwgc2hhcGUxXSA9IFtzaGFwZTEsIHNoYXBlMl07XG4gICAgbGV0IHMxdCA9IHNoYXBlMS50eXBlO1xuICAgIGxldCBzMnQgPSBzaGFwZTIudHlwZTtcblxuICAgIC8vIFRPRE86IHBvbHlnb24gdnMgcG9seWdvblxuICAgIGlmIChzMXQgPT09IFNoYXBlVHlwZS5QT0lOVCkge1xuICAgICAgICBsZXQgczEgPSBzaGFwZTEgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOiByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5BQUJCOiByZXR1cm4gb3ZlcmxhcEFhYmJWc1BvaW50KChzaGFwZTIgYXMgQWFiYlNoYXBlKS5kYXRhLCBzMS5wb3MpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOiByZXR1cm4gb3ZlcmxhcFBvaW50VnNDaXJjbGUoczEucG9zLCAoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnJhZGl1cyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gcG9seWdvblBvaW50SW50ZXJzZWN0KHMxLnBvcywgKHNoYXBlMiBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb24pO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNQb2ludCgoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb3MpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzMXQgPT09IFNoYXBlVHlwZS5BQUJCKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBBYWJiU2hhcGU7XG4gICAgICAgIHN3aXRjaCAoczJ0KSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5BQUJCOiByZXR1cm4gb3ZlcmxhcEFhYmJWc0FhYmIoKHNoYXBlMiBhcyBBYWJiU2hhcGUpLmRhdGEsIHMxLmRhdGEpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOiByZXR1cm4gb3ZlcmxhcENpcmNsZVZzQWFiYigoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnJhZGl1cywgczEuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiByZXR1cm4gb3ZlcmxhcEFhYmJWc0xpbmUoczEuZGF0YSwgKHNoYXBlMiBhcyBMaW5lU2hhcGUpLmRhdGEpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjogcmV0dXJuIG92ZXJsYXBPYmJWc1BvbHlnb24oT2JiLmZyb21BYWJiKHMxLmRhdGEpLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIoKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkNJUkNMRSkge1xuICAgICAgICBsZXQgczEgPSBzaGFwZTEgYXMgQ2lyY2xlU2hhcGU7XG4gICAgICAgIHN3aXRjaCAoczJ0KSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwQ2lyY2xlVnNDaXJjbGUoKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucG9zLCAoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5yYWRpdXMsIHMxLnBvcywgczEucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBvdmVybGFwTGluZVZzQ2lyY2xlKChzaGFwZTIgYXMgTGluZVNoYXBlKS5kYXRhLCBzMS5wb3MsIHMxLnJhZGl1cyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gb3ZlcmxhcENpcmNsZVZzUG9seWdvbihzMS5wb3MsIHMxLnJhZGl1cywgKHNoYXBlMiBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb24pO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNDaXJjbGUoKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEucG9zLCBzMS5yYWRpdXMpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzMXQgPT09IFNoYXBlVHlwZS5MSU5FKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBMaW5lU2hhcGU7XG4gICAgICAgIHN3aXRjaCAoczJ0KSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiByZXR1cm4gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChzMS5kYXRhLCAoc2hhcGUyIGFzIExpbmVTaGFwZSkuZGF0YSkgPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gb3ZlcmxhcExpbmVWc1BvbHlnb24oczEuZGF0YSwgKHNoYXBlMiBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb24pO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNMaW5lKChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLmRhdGEpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzMXQgPT09IFNoYXBlVHlwZS5QT0xZR09OKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBQb2x5Z29uU2hhcGU7XG4gICAgICAgIHN3aXRjaCAoczJ0KSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBPYmJWc1BvbHlnb24oKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEucG9seWdvbik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLk9CQikge1xuICAgICAgICByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNSb3RhdGVkUmVjdCgoc2hhcGUxIGFzIE9iYlNoYXBlKS5kYXRhLCAoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhKTtcbiAgICB9XG4gICAgLy8gUG9seWdvbiB2cyBQb2x5Z29uXG4gICAgdGhyb3cgbmV3IEVycm9yKCdRdWVyeSBub3QgaW1wbGVtZW50ZWQ6ICcgKyBzMXQgKyAnIHZzICcgKyBzMnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVUb0FhYmIoc2hhcGU6IFNoYXBlKTogQWFiYiB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOiByZXR1cm4gQWFiYi5mcm9tUG9pbnQoKHNoYXBlIGFzIFBvaW50U2hhcGUpLnBvcyk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgQ2lyY2xlU2hhcGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFhYmIoXG4gICAgICAgICAgICAgICAgcy5wb3MueCAtIHMucmFkaXVzLCBzLnBvcy55IC0gcy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgcy5wb3MueCArIHMucmFkaXVzLCBzLnBvcy55ICsgcy5yYWRpdXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORToge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBYWJiKHMuZnJvbVgsIHMuZnJvbVksIHMudG9YLCBzLnRvWSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGFhYmIud3JhcFBvbHlnb24oKHNoYXBlIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICByZXR1cm4gYWFiYjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBhYWJiID0gQWFiYi56ZXJvKCk7XG4gICAgICAgICAgICBhYWJiLndyYXBQb2x5Z29uKChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5yb3RWZXJ0ZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGFhYmI7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNoYXBlVG9TbmFwcyhzaGFwZTogU2hhcGUpOiBudW1iZXJbXSB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHtcbiAgICAgICAgICAgIGxldCBwID0gc2hhcGUgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiBbcC5wb3MueCwgcC5wb3MueV07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWluWSxcbiAgICAgICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgICAgICBhYWJiLm1heFgsIGFhYmIubWluWSxcbiAgICAgICAgICAgICAgICBhYWJiLm1heFgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHMuZnJvbVgsIHMuZnJvbVksXG4gICAgICAgICAgICAgICAgcy50b1gsIHMudG9ZLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBsZXQgcG9sID0gKHNoYXBlIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbjtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9sLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHBvbFtpXSwgcG9sW2kgKyAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBwb2wgPSAoc2hhcGUgYXMgT2JiU2hhcGUpLmRhdGEucm90VmVydGV4O1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgQXJyYXk8bnVtYmVyPig4KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IHBvbFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biBzaGFwZSB0eXBlOiAnICsgc2hhcGUudHlwZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFwZVRyYW5zbGF0ZShzaGFwZTogU2hhcGUsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTpcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgICAgIHMucG9zLnggKz0geDtcbiAgICAgICAgICAgIHMucG9zLnkgKz0geTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHtcbiAgICAgICAgICAgIGxldCBzID0gKHNoYXBlIGFzIEFhYmJTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIHMudHJhbnNsYXRlKHgsIHksIHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORToge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy5mcm9tWCArPSB4O1xuICAgICAgICAgICAgcy5mcm9tWSArPSB5O1xuICAgICAgICAgICAgcy50b1ggKz0geDtcbiAgICAgICAgICAgIHMudG9ZICs9IHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBsZXQgcyA9IHNoYXBlIGFzIFBvbHlnb25TaGFwZTtcbiAgICAgICAgICAgIGxldCBzbGVuID0gcy5wb2x5Z29uLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgcy5wb2x5Z29uW2ldICs9IHg7XG4gICAgICAgICAgICAgICAgcy5wb2x5Z29uW2kgKyAxXSArPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIHMudW5yb3RhdGVkLnRyYW5zbGF0ZSh4LCB5LCBzLnVucm90YXRlZCk7XG4gICAgICAgICAgICBsZXQgcG9sID0gcy5yb3RWZXJ0ZXg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIHBvbFtpICAgIF0gKz0geDtcbiAgICAgICAgICAgICAgICBwb2xbaSArIDFdICs9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc2hhcGUgdHlwZTogJyArIHNoYXBlLnR5cGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVDbG9uZShzaGFwZTogU2hhcGUpOiBTaGFwZSB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTpcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPSU5ULFxuICAgICAgICAgICAgICAgIHBvczogbmV3IFBJWEkuUG9pbnQocy5wb3MueCwgcy5wb3MueSksXG4gICAgICAgICAgICB9IGFzIFBvaW50U2hhcGU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIHNoYXBlQWFiYigoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhLmNvcHkoKSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBzaGFwZUxpbmUoKHNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YS5jb3B5KCkpO1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gc2hhcGVQb2x5Z29uKFsuLi4oc2hhcGUgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uXSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIHNoYXBlT2JiKChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5jb3B5KCkpXG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biBzaGFwZSB0eXBlOiAnICsgc2hhcGUudHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSU5URVJBQ1RJT05fVFlQRSA9ICdpbnRlcmFjdGlvbic7XG5leHBvcnQgdHlwZSBJTlRFUkFDVElPTl9UWVBFID0gJ2ludGVyYWN0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogSU5URVJBQ1RJT05fVFlQRTtcblxuICAgIHNlbGVjdFByaW9yaXR5OiBudW1iZXI7Ly8gSWYgdHJ1ZSB0aGVuIHRoZSBpdGVtIGlzIHNlbGVjdGFibGVcbiAgICBzbmFwRW5hYmxlZDogYm9vbGVhbjsvLyBpZiB0cnVlIHRoZW4gdGhlIHNuYXBEYiByZWdpc3RyYXRpb24gaXMgYXZhaWxhYmxlLlxuICAgIHNoYXBlOiBTaGFwZTtcbiAgICAvLyBBZGRpdGlvbmFsIGNoZWNrcyAobm90IHJlcXVpcmVkKVxuICAgIHF1ZXJ5Q2hlY2s/OiAoc2hhcGU6IFNoYXBlKSA9PiBib29sZWFuO1xuXG4gICAgX3RyZWVJZD86IG51bWJlcjtcbiAgICBfc25hcHM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgbmFtZSA9IElOVEVSQUNUSU9OX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0dSSURfVFlQRSwgU0VMRUNUSU9OX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxJbnRlcmFjdGlvbkNvbXBvbmVudD4oJ2ludGVyYWN0aW9uJywgZmFsc2UsIGZhbHNlKTtcbiAgICBpc1RyYW5zbGF0aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBzbmFwRGI6IFBvaW50REI7XG4gICAgYWFiYlRyZWUgPSBuZXcgRHluYW1pY1RyZWU8SW50ZXJhY3Rpb25Db21wb25lbnQ+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5zbmFwRGIgPSBuZXcgUG9pbnREQih0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KEdSSURfVFlQRSkgYXMgR3JpZFN5c3RlbSk7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Rvb2xfbW92ZV9iZWdpbicsIHRoaXMub25Ub29sTW92ZUJlZ2luLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfZW5kJywgdGhpcy5vblRvb2xNb3ZlRW5kLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdxdWVyeV9oaXQnLCB0aGlzLm9uUXVlcnlIaXQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJTbmFwUG9pbnRzKHNuYXBzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgc2xlbiA9IHNuYXBzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHRoaXMuc25hcERiLmluc2VydChbc25hcHNbaV0sIHNuYXBzW2kgKyAxXV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bnJlZ2lzdGVyU25hcFBvaW50cyhzbmFwczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IHNsZW4gPSBzbmFwcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBEYi5yZW1vdmUoW3NuYXBzW2ldLCBzbmFwc1tpICsgMV1dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdW5yZWdpc3RlckNvbXBvbmVudChjb21wOiBJbnRlcmFjdGlvbkNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC5fc25hcHMpIHtcbiAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlclNuYXBQb2ludHMoY29tcC5fc25hcHMpO1xuICAgICAgICAgICAgY29tcC5fc25hcHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAuX3RyZWVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFhYmJUcmVlLmRlc3Ryb3lQcm94eShjb21wLl90cmVlSWQpO1xuICAgICAgICAgICAgY29tcC5fdHJlZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDb21wb25lbnQoY29tcDogSW50ZXJhY3Rpb25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ29tcG9uZW50KGNvbXApO1xuICAgICAgICBpZiAoY29tcC5zaGFwZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGNvbXAuX3RyZWVJZCA9IHRoaXMuYWFiYlRyZWUuY3JlYXRlUHJveHkoc2hhcGVUb0FhYmIoY29tcC5zaGFwZSksIGNvbXApO1xuICAgICAgICBpZiAoY29tcC5zbmFwRW5hYmxlZCkge1xuICAgICAgICAgICAgY29tcC5fc25hcHMgPSBzaGFwZVRvU25hcHMoY29tcC5zaGFwZSk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyU25hcFBvaW50cyhjb21wLl9zbmFwcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlICE9PSBJTlRFUkFDVElPTl9UWVBFKSByZXR1cm47XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBpZiAoJ3NoYXBlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gY29tcCBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBpbnRlciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQocG9zLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoaW50ZXIgPT09IHVuZGVmaW5lZCB8fCBpbnRlci5zaGFwZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgb2xkWCA9IGNoYW5nZWQueCAhPT0gdW5kZWZpbmVkID8gY2hhbmdlZC54IDogcG9zLng7XG4gICAgICAgICAgICBsZXQgb2xkWSA9IGNoYW5nZWQueSAhPT0gdW5kZWZpbmVkID8gY2hhbmdlZC55IDogcG9zLnk7XG4gICAgICAgICAgICBsZXQgZGlmZlggPSBwb3MueCAtIG9sZFg7XG4gICAgICAgICAgICBsZXQgZGlmZlkgPSBwb3MueSAtIG9sZFk7XG5cbiAgICAgICAgICAgIGlmIChkaWZmWCAhPT0gMCB8fCBkaWZmWSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHRyaWdnZXIgY29tcG9uZW50IGNoYW5nZSg/KVxuICAgICAgICAgICAgICAgIHNoYXBlVHJhbnNsYXRlKGludGVyLnNoYXBlLCBkaWZmWCwgZGlmZlkpO1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuaXNUcmFuc2xhdGluZyAmJiB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzLmhhcyhwb3MuZW50aXR5KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoaW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IGNvbXAgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IGludGVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh0cmFucy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGludGVyID09PSB1bmRlZmluZWQgfHwgaW50ZXIuc2hhcGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gaW50ZXIuc2hhcGU7XG4gICAgICAgICAgICBpZiAoc2hhcGUudHlwZSA9PT0gU2hhcGVUeXBlLlBPSU5UKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoc2hhcGUudHlwZSA9PT0gU2hhcGVUeXBlLkNJUkNMRSkge1xuICAgICAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgQ2lyY2xlU2hhcGU7XG4gICAgICAgICAgICAgICAgaWYgKCdzY2FsZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBzLnJhZGl1cyA9IHMucmFkaXVzICogdHJhbnMuc2NhbGUgLyBjaGFuZ2VkLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChpbnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZS50eXBlID09PSBTaGFwZVR5cGUuT0JCKSB7XG4gICAgICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBPYmJTaGFwZTtcbiAgICAgICAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaWZmU2NhbGUgPSB0cmFucy5zY2FsZSAvIGNoYW5nZWQuc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHMuZGF0YS51bnJvdGF0ZWQuc2NhbGUoZGlmZlNjYWxlLCBkaWZmU2NhbGUsIHMuZGF0YS51bnJvdGF0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLmRhdGEucm90YXRpb24gPSB0cmFucy5yb3RhdGlvbjtcbiAgICAgICAgICAgICAgICBzLmRhdGEucmVjb21wdXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoaW50ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gYXV0by1yb3RhdGUgb3RoZXIgc2hhcGVzIHRoYW4gT0JCLCB3YXRjaCB5b3VyIGNvbXBvbmVudHMhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgIT09IElOVEVSQUNUSU9OX1RZUEUpIHJldHVybjtcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ29tcG9uZW50KGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUJlZ2luKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKElOVEVSQUNUSU9OX1RZUEUpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG9vbE1vdmVFbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKElOVEVSQUNUSU9OX1RZUEUpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChjKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBzaW5nbGVIaXRRdWVyeShzaGFwZTogU2hhcGUsIGV2ZW50OiBRdWVyeUhpdEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBiZXN0UHJpb3I6IG51bWJlciA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgbGV0IGJlc3Q6IG51bWJlciA9IC0xO1xuXG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5xdWVyeVZpc2libGUoc2hhcGUsIChjKSA9PiAoYy5zZWxlY3RQcmlvcml0eSB8fCAwKSA+IGJlc3RQcmlvcik7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcikge1xuICAgICAgICAgICAgYmVzdCA9IGl0ZW0uZW50aXR5O1xuICAgICAgICAgICAgYmVzdFByaW9yID0gaXRlbS5zZWxlY3RQcmlvcml0eSB8fCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlc3QgIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudC5hZGRIaXQoYmVzdCwgYmVzdFByaW9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbXVsdGlIaXRRdWVyeShzaGFwZTogU2hhcGUsIGV2ZW50OiBRdWVyeUhpdEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5xdWVyeVZpc2libGUoc2hhcGUsIChjKSA9PiBjLnNlbGVjdFByaW9yaXR5ICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGV2ZW50LmFkZEhpdChpdGVtLmVudGl0eSwgaXRlbS5zZWxlY3RQcmlvcml0eSk7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LnNob3VsZENvbnRpbnVlKCkpIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25RdWVyeUhpdChldmVudDogUXVlcnlIaXRFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIWV2ZW50LnNob3VsZENvbnRpbnVlKCkpIHJldHVybjtcblxuICAgICAgICBsZXQgc2hhcGU6IFNoYXBlO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2VvbWVydHlRdWVyeVR5cGUuUE9JTlQ6IHNoYXBlID0gc2hhcGVDaXJjbGUoZXZlbnQuZGF0YSBhcyBQSVhJLklQb2ludERhdGEsIDIwKTsgYnJlYWs7XG4gICAgICAgICAgICAvL2Nhc2UgR2VvbWVydHlRdWVyeVR5cGUuUE9JTlQ6IHNoYXBlID0gc2hhcGVQb2ludChldmVudC5kYXRhIGFzIFBJWEkuSVBvaW50RGF0YSk7IGJyZWFrOyAvLyBFTkFCTEUgVEhJUyBGT1IgUE9JTlQtUFJFQ0lTSU9OIENMSUNLSU5HXG4gICAgICAgICAgICBjYXNlIEdlb21lcnR5UXVlcnlUeXBlLkFBQkI6IHNoYXBlID0gc2hhcGVBYWJiKGV2ZW50LmRhdGEgYXMgQWFiYik7IGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHF1ZXJ5IHR5cGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5tdWx0aSkge1xuICAgICAgICAgICAgdGhpcy5tdWx0aUhpdFF1ZXJ5KHNoYXBlLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpbmdsZUhpdFF1ZXJ5KHNoYXBlLCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHF1ZXJ5VmlzaWJsZShzaGFwZTogU2hhcGUsIHByZUNoZWNrPzogKGM6IEludGVyYWN0aW9uQ29tcG9uZW50KSA9PiBib29sZWFuKTogR2VuZXJhdG9yPEludGVyYWN0aW9uQ29tcG9uZW50PiB7XG4gICAgICAgIGxldCBwbGF5ZXJWaXM6IFNpbmdsZUVjc1N0b3JhZ2U8UGxheWVyVmlzaWJsZUNvbXBvbmVudD4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghdGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgcGxheWVyVmlzID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoJ3BsYXllcl92aXNpYmxlJykgYXMgU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJWaXNpYmxlQ29tcG9uZW50PjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJWaXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMucXVlcnkoc2hhcGUsIHByZUNoZWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoc2hhcGUsIGMgPT4ge1xuICAgICAgICAgICAgbGV0IHZpc0MgPSBwbGF5ZXJWaXMhLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzQyAhPT0gdW5kZWZpbmVkICYmICF2aXNDLnZpc2libGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBwcmVDaGVjayA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHByZUNoZWNrKGMpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgICpxdWVyeShzaGFwZTogU2hhcGUsIHByZUNoZWNrPzogKGM6IEludGVyYWN0aW9uQ29tcG9uZW50KSA9PiBib29sZWFuKTogR2VuZXJhdG9yPEludGVyYWN0aW9uQ29tcG9uZW50PiB7XG4gICAgICAgIGxldCBhYWJiID0gc2hhcGVUb0FhYmIoc2hhcGUpO1xuXG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5hYWJiVHJlZS5xdWVyeShhYWJiKSkge1xuICAgICAgICAgICAgbGV0IHRhZyA9IGMudGFnITtcbiAgICAgICAgICAgIGlmIChwcmVDaGVjayAmJiAhcHJlQ2hlY2sodGFnKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXNoYXBlSW50ZXJzZWN0KHRhZy5zaGFwZSEsIHNoYXBlKSkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcWMgPSB0YWcucXVlcnlDaGVjaztcbiAgICAgICAgICAgIGlmIChxYyAmJiAhcWMoc2hhcGUpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHlpZWxkIHRhZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcblxuZXhwb3J0IGNvbnN0IEtFWUJPQVJEX0tFWV9VUCA9ICdrZXlib2FyZF9rZXlfdXAnO1xuZXhwb3J0IGNvbnN0IEtFWUJPQVJEX0tFWV9ET1dOID0gJ2tleWJvYXJkX2tleV9kb3duJztcblxuZXhwb3J0IGNvbnN0IEtFWUJPQVJEX1RZUEUgPSAna2V5Ym9hcmQnO1xuZXhwb3J0IHR5cGUgS0VZQk9BUkRfVFlQRSA9IHR5cGVvZiBLRVlCT0FSRF9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBLZXlib2FyZFJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IEtFWUJPQVJEX1RZUEU7XG4gICAgX3NhdmU6IGZhbHNlO1xuICAgIF9zeW5jOiBmYWxzZTtcblxuICAgIHByZXNzZWRLZXlzOiBTZXQ8c3RyaW5nPjtcbiAgICBzaGlmdDogYm9vbGVhbjtcbiAgICBjdHJsOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgV0VCX0tFWUJPQVJEX1RZUEUgPSAnd2ViX2tleWJvYXJkJztcbmV4cG9ydCB0eXBlIFdFQl9LRVlCT0FSRF9UWVBFID0gdHlwZW9mIFdFQl9LRVlCT0FSRF9UWVBFO1xuZXhwb3J0IGNsYXNzIFdlYktleWJvYXJkU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZWFkb25seSBuYW1lID0gV0VCX0tFWUJPQVJEX1RZUEU7XG4gICAgcmVhZG9ubHkgcHJvdmlkZXMgPSBbS0VZQk9BUkRfVFlQRV07XG5cbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUga2V5RG93bkxpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSBrZXlVcExpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSBibHVyTGlzdGVuZXI6IGFueTtcblxuICAgIHByaXZhdGUga2V5Ym9hcmQ6IEtleWJvYXJkUmVzb3VyY2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSB7XG4gICAgICAgICAgICB0eXBlOiBLRVlCT0FSRF9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuXG4gICAgICAgICAgICBwcmVzc2VkS2V5czogbmV3IFNldCgpLFxuICAgICAgICAgICAgc2hpZnQ6IGZhbHNlLFxuICAgICAgICAgICAgY3RybDogZmFsc2UsXG4gICAgICAgIH0gYXMgS2V5Ym9hcmRSZXNvdXJjZTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmtleWJvYXJkKTtcbiAgICB9XG5cbiAgICBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZWRpdCA9IHtcbiAgICAgICAgICAgIHNoaWZ0OiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgIGN0cmw6IGV2ZW50LmN0cmxLZXksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEtFWUJPQVJEX1RZUEUsIGVkaXQpO1xuICAgICAgICBpZiAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBsZXQga2V5ID0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkLnByZXNzZWRLZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChLRVlCT0FSRF9LRVlfVVAsIGtleSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGVkaXQgPSB7XG4gICAgICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICBjdHJsOiBldmVudC5jdHJsS2V5LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFLCBlZGl0KTtcblxuICAgICAgICBpZiAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBsZXQga2V5ID0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5rZXlib2FyZC5wcmVzc2VkS2V5cy5kZWxldGUoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoS0VZQk9BUkRfS0VZX0RPV04sIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkJsdXIoZXZlbnQ6IEZvY3VzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuc2hpZnQgfHwgdGhpcy5rZXlib2FyZC5jdHJsKSB7XG4gICAgICAgICAgICBjb25zdCBlZGl0ID0ge1xuICAgICAgICAgICAgICAgIHNoaWZ0OiBmYWxzZSwgY3RybDogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSwgZWRpdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXNzZWRLZXlzID0gWy4uLnRoaXMua2V5Ym9hcmQucHJlc3NlZEtleXNdO1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgcHJlc3NlZEtleXMpIHtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQucHJlc3NlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEtFWUJPQVJEX0tFWV9ET1dOLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmtleURvd25MaXN0ZW5lciA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleURvd25MaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy5rZXlVcExpc3RlbmVyID0gdGhpcy5vbktleVVwLmJpbmQodGhpcyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5rZXlVcExpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLmJsdXJMaXN0ZW5lciA9IHRoaXMub25CbHVyLmJpbmQodGhpcyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmJsdXJMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5RG93bkxpc3RlbmVyKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVVwTGlzdGVuZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2NvbW1hbmRSZWdpc3RlclByZUNvbnNlcXVlbmNlLCBlbWl0Q29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5pbXBvcnQgeyBTcGF3bkNvbW1hbmRLaW5kIH0gZnJvbSBcIi4uL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5cblxuZXhwb3J0IGNvbnN0IExBWUVSX1RZUEUgPSBcImxheWVyXCI7XG5leHBvcnQgdHlwZSBMQVlFUl9UWVBFID0gdHlwZW9mIExBWUVSX1RZUEU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF5ZXIge1xuICAgIGVudGl0eTogbnVtYmVyO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICBsb2NrZWQ6IGJvb2xlYW47XG59XG5cblxuZXhwb3J0IGNvbnN0IFBBUkVOVF9MQVlFUl9UWVBFID0gXCJsYXllcl9wXCI7XG5leHBvcnQgdHlwZSBQQVJFTlRfTEFZRVJfVFlQRSA9IHR5cGVvZiBQQVJFTlRfTEFZRVJfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUGFyZW50TGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBBUkVOVF9MQVlFUl9UWVBFO1xuICAgIGxheWVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQsIExheWVyIHtcbiAgICB0eXBlOiBMQVlFUl9UWVBFLFxufVxuXG5cbmV4cG9ydCBjb25zdCBCQUNLR1JPVU5EX0xBWUVSX1RZUEUgPSBcImxheWVyX2JrZ1wiO1xuZXhwb3J0IHR5cGUgQkFDS0dST1VORF9MQVlFUl9UWVBFID0gdHlwZW9mIEJBQ0tHUk9VTkRfTEFZRVJfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgQmFja2dyb3VuZExheWVyUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSwgTGF5ZXIge1xuICAgIHR5cGU6IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRTtcblxuICAgIF9zYXZlOiB0cnVlLFxuICAgIF9zeW5jOiB0cnVlLFxufVxuXG5leHBvcnQgY29uc3QgU0VMRUNURURfTEFZRVJfVFlQRSA9IFwibGF5ZXJfc2VsXCI7XG5leHBvcnQgdHlwZSBTRUxFQ1RFRF9MQVlFUl9UWVBFID0gdHlwZW9mIFNFTEVDVEVEX0xBWUVSX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGVkTGF5ZXJSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICBsYXllcj86IG51bWJlcjtcbn1cblxuXG5leHBvcnQgY2xhc3MgTGF5ZXJTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBMQVlFUl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJlYWRvbmx5IG9wdGlvbmFsRGVwZW5kZW5jaWVzID0gW107XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGxheWVyU3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPExheWVyQ29tcG9uZW50PihMQVlFUl9UWVBFKTtcbiAgICBwYXJlbnRTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGFyZW50TGF5ZXJDb21wb25lbnQ+KFBBUkVOVF9MQVlFUl9UWVBFKTtcblxuICAgIGJhY2tncm91bmRMYXllcjogQmFja2dyb3VuZExheWVyUmVzb3VyY2U7XG4gICAgc2VsZWN0ZWRMYXllcjogU2VsZWN0ZWRMYXllclJlc291cmNlO1xuICAgIGxheWVyQnlOYW1lID0gbmV3IE1hcDxzdHJpbmcsIExheWVyPigpO1xuXG4gICAgLy8gVE9ETzogb3B0aW1pemUgY2xlYXJcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kTGF5ZXIgPSB7XG4gICAgICAgICAgICB0eXBlOiBCQUNLR1JPVU5EX0xBWUVSX1RZUEUsXG4gICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgbmFtZTogXCJCYWNrZ3JvdW5kXCIsXG4gICAgICAgICAgICBwcmlvcml0eTogTGF5ZXJPcmRlci5CQUNLR1JPVU5ELFxuICAgICAgICAgICAgbG9ja2VkOiB0cnVlLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgICAgICBfc3luYzogdHJ1ZSxcbiAgICAgICAgfSBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZExheWVyID0ge1xuICAgICAgICAgICAgdHlwZTogU0VMRUNURURfTEFZRVJfVFlQRSxcbiAgICAgICAgICAgIGxheWVyOiAtMSxcbiAgICAgICAgfSBhcyBTZWxlY3RlZExheWVyUmVzb3VyY2U7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLmxheWVyU3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5wYXJlbnRTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5iYWNrZ3JvdW5kTGF5ZXIpO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLnNlbGVjdGVkTGF5ZXIpO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHdvcmxkLmV2ZW50cztcbiAgICAgICAgZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25MYXllckVkaXRlZChsOiBMYXllciwgZWRpdHM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoJ25hbWUnIGluIGVkaXRzKSB7XG4gICAgICAgICAgICBsZXQgb2xkTmFtZSA9IGVkaXRzLm5hbWU7XG4gICAgICAgICAgICBpZiAob2xkTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllckJ5TmFtZS5kZWxldGUob2xkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobC5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXllckJ5TmFtZS5oYXMobC5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJMYXllciBuYW1lIGNvbmZsaWN0XCIpO1xuICAgICAgICAgICAgICAgICAgICBsLm5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllckJ5TmFtZS5zZXQobC5uYW1lLCBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsID0gYyBhcyBMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCeU5hbWUuc2V0KGwubmFtZSwgbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGM6IENvbXBvbmVudCwgZWRpdGVkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5vbkxheWVyRWRpdGVkKGMgYXMgTGF5ZXJDb21wb25lbnQsIGVkaXRlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgbCA9IGMgYXMgTGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogW10sXG4gICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5wYXJlbnRTdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5sYXllciAhPT0gbC5lbnRpdHkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNtZC5lbnRpdGllcy5wdXNoKGNoaWxkLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21kLmVudGl0aWVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRSZWdpc3RlclByZUNvbnNlcXVlbmNlKHRoaXMud29ybGQsIGNtZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocjogUmVzb3VyY2UsIGVkaXRlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyLnR5cGUgPT09IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5vbkxheWVyRWRpdGVkKHIgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UsIGVkaXRlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRFbnRpdHlMYXllcihlbnRpdHk6IG51bWJlcik6IExheWVyIHtcbiAgICAgICAgbGV0IGNtcCA9IHRoaXMucGFyZW50U3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGNtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTGF5ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGF5ZXIgPSB0aGlzLmxheWVyU3RvcmFnZS5nZXRDb21wb25lbnQoY21wLmxheWVyKTtcbiAgICAgICAgaWYgKGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgcGFyZW50IGxheWVyIG9mIFwiICsgY21wLmVudGl0eSArIFwiOiBcIiArIGNtcC5sYXllcik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgIH1cblxuICAgIGdldExheWVyQnlJZChpZDogbnVtYmVyKTogTGF5ZXIge1xuICAgICAgICBpZiAoaWQgPT09IC0xKSByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTGF5ZXI7XG5cbiAgICAgICAgbGV0IGxheWVyID0gdGhpcy5sYXllclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGlkKTtcbiAgICAgICAgaWYgKGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgbGF5ZXIgaWQ6IFwiICsgaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZExheWVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXllcjtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG5cbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZEZvcmVncm91bmQod29ybGQ6IFdvcmxkKTogbnVtYmVyIHtcbiAgICBsZXQgc3RvID0gd29ybGQuZ2V0U3RvcmFnZShMQVlFUl9UWVBFKTtcbiAgICBpZiAoc3RvID09PSB1bmRlZmluZWQpIHJldHVybiAtMTtcbiAgICBmb3IgKGxldCB4IG9mIHN0by5nZXRDb21wb25lbnRzKCkpIHtcbiAgICAgICAgcmV0dXJuIHguZW50aXR5Oy8vIFRoZXJlJ3Mgb25seSAxIGxheWVyIGZvciBub3cgKGZvcmVncm91bmQpXG4gICAgfVxuICAgIC8vIElmIGl0J3Mgbm90IHByZXNlbnQgd2UgbmVlZCB0byBjcmVhdGUgaXRcbiAgICBsZXQgY21kID0gU3Bhd25Db21tYW5kS2luZC5mcm9tKHdvcmxkLCBbe1xuICAgICAgICB0eXBlOiBMQVlFUl9UWVBFLFxuICAgICAgICBuYW1lOiAnRm9yZWdyb3VuZCcsXG4gICAgICAgIHByaW9yaXR5OiBMYXllck9yZGVyLkZPUkVHUk9VTkQsXG4gICAgICAgIGxvY2tlZDogZmFsc2UsXG4gICAgfSBhcyBMYXllckNvbXBvbmVudF0pO1xuXG4gICAgZW1pdENvbW1hbmQod29ybGQsIGNtZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGNtZC5kYXRhLmVudGl0aWVzWzBdO1xufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7RGVzZXJpYWxpemVEYXRhLCBTZXJpYWxpemVEYXRhLCBTZXJpYWxpemVkV29ybGQsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcblxuXG50eXBlIExpbmtQYXRoID0gQXJyYXk8c3RyaW5nPjtcblxuZXhwb3J0IGNvbnN0IExJTktfUkVMT0NBVElPTl9UWVBFID0gJ2xpbmtfcmVsb2NhdGlvbic7XG5leHBvcnQgdHlwZSBMSU5LX1JFTE9DQVRJT05fVFlQRSA9IHR5cGVvZiBMSU5LX1JFTE9DQVRJT05fVFlQRTtcbmV4cG9ydCBjbGFzcyBMaW5rUmVsb2NhdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmVhZG9ubHkgbmFtZSA9IExJTktfUkVMT0NBVElPTl9UWVBFO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBwcml2YXRlIGxpbmtzID0gbmV3IE1hcDxzdHJpbmcsIEFycmF5PExpbmtQYXRoPj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZXJpYWxpemVkJywgdGhpcy5vblNlcmlhbGl6ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2Rlc2VyaWFsaXplJywgdGhpcy5vbkRlc2VyaWFsaXplLCB0aGlzKTtcbiAgICB9XG5cbiAgICBhZGRMaW5rKHN0b3JhZ2VOYW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBwYXRocyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgbGV0IHN0b3JhZ2VEYXRhID0gdGhpcy5saW5rcy5nZXQoc3RvcmFnZU5hbWUpO1xuICAgICAgICBpZiAoc3RvcmFnZURhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3RvcmFnZURhdGEgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubGlua3Muc2V0KHN0b3JhZ2VOYW1lLCBzdG9yYWdlRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcmFnZURhdGEucHVzaChwYXRocyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGp1c3RMaW5rKG1hcHBpbmc6ICh4OiBudW1iZXIpID0+IG51bWJlciwgb2JqOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAob2JqW25hbWVdID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIG9ialtuYW1lXSAhPT0gJ251bWJlcicpIHJldHVybjtcbiAgICAgICAgbGV0IG5ld0lkID0gbWFwcGluZyhvYmpbbmFtZV0pO1xuICAgICAgICBpZiAobmV3SWQgPiAwKSB7XG4gICAgICAgICAgICBvYmpbbmFtZV0gPSBuZXdJZDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBmb3JlYWNoUGF0aE9iaihiYXNlT2JqOiBhbnksIHBhdGg6IExpbmtQYXRoLCB0aGVuOiAob2JqOiBhbnksIG5hbWU6IHN0cmluZykgPT4gdm9pZCkge1xuICAgICAgICBjb25zdCBleHBsb3JlID0gKG9iajogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcCA9IHBhdGhbaV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gcGF0aC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhlbihvYmosIHApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHAgPT0gJyonKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwbG9yZShvYmpbbmFtZV0sIGkgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cGxvcmUob2JqW3BdLCBpICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBsb3JlKGJhc2VPYmosIDApO1xuICAgIH1cblxuXG5cbiAgICBhZGp1c3RTZXJpYWxpemVkUGF0aHMobWFwcGluZzogKHg6IG51bWJlcikgPT4gbnVtYmVyLCB3b3JsZDogU2VyaWFsaXplZFdvcmxkKSB7XG4gICAgICAgIGZvciAobGV0IFtzbmFtZSwgc2RhdGFdIG9mIHRoaXMubGlua3MuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gd29ybGQuc3RvcmFnZXNbc25hbWVdO1xuICAgICAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eUlkIGluIHN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBzdG9yYWdlW2VudGl0eUlkXTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBhdGggb2Ygc2RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JlYWNoUGF0aE9iaihvYmosIHBhdGgsIChvLCBuKSA9PiB0aGlzLmFkanVzdExpbmsobWFwcGluZywgbywgbikpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlcmlhbGl6ZWQoZGF0YTogU2VyaWFsaXplRGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEub3B0aW9ucy5yZW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuYWRqdXN0U2VyaWFsaXplZFBhdGhzKGRhdGEuZW50aXR5TWFwcGluZywgZGF0YS5yZXN1bHQhISk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkRlc2VyaWFsaXplKGRhdGE6IERlc2VyaWFsaXplRGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEub3B0aW9ucy5yZW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuYWRqdXN0U2VyaWFsaXplZFBhdGhzKGRhdGEuZW50aXR5TWFwcGluZywgZGF0YS5kYXRhKTtcbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7TXVsdGlFY3NTdG9yYWdlLCBTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZSwgR1JBUEhJQ19UWVBFLCBHcmFwaGljQ29tcG9uZW50LCBQb2ludEVsZW1lbnQsIFRleHRFbGVtZW50LCBWaXNpYmlsaXR5VHlwZSwgRGlzcGxheUVsZW1lbnR9IGZyb20gXCIuLi8uLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBOYW1lQ29tcG9uZW50LCBOQU1FX1RZUEUgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBJUG9pbnREYXRhIH0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7IFJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgeyBMb2NhbExpZ2h0U2V0dGluZ3MsIExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUgfSBmcm9tIFwiLi4vbGlnaHRTeXN0ZW1cIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIE5hbWVBc0xhYmVsQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBOQU1FX0FTX0xBQkVMX1RZUEU7XG4gICAgaW5pdGlhbE9mZnNldDogSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGNvbnN0IE5BTUVfQVNfTEFCRUxfVFlQRSA9ICduYW1lX2FzX2xhYmVsJztcbmV4cG9ydCB0eXBlIE5BTUVfQVNfTEFCRUxfVFlQRSA9IHR5cGVvZiBOQU1FX0FTX0xBQkVMX1RZUEU7XG5leHBvcnQgY2xhc3MgTmFtZUFzTGFiZWxTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBOQU1FX0FTX0xBQkVMX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0dSQVBISUNfVFlQRV07XG5cbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcblxuICAgIHJlYWRvbmx5IHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxOYW1lQXNMYWJlbENvbXBvbmVudD4oTkFNRV9BU19MQUJFTF9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgcHJpdmF0ZSBpc01hc3RlclZpZXc6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlZCcsIHRoaXMub25Db21wb25lbnRSZW1vdmVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5BTUVfQVNfTEFCRUxfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMgYXMgTmFtZUFzTGFiZWxDb21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gTkFNRV9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tcCAhPT0gdW5kZWZpbmVkKSB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBOQU1FX0FTX0xBQkVMX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjIGFzIE5hbWVBc0xhYmVsQ29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IE5BTUVfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXAgIT09IHVuZGVmaW5lZCkgdGhpcy51cGRhdGVFbGVtZW50KGNvbXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZWQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5BTUVfQVNfTEFCRUxfVFlQRSkge1xuICAgICAgICAgICAgaWYgKHRoaXMud29ybGQuaXNEZXNwYXduaW5nLmluY2x1ZGVzKGMuZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBmb3IgKGxldCBlbGVtIG9mIChnLmRpc3BsYXkuY2hpbGRyZW4gfHwgW10pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0udGFnICE9PSAnbmFtZScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChnLmRpc3BsYXkuX2NoaWxkcmVuUmVtb3ZlID09PSB1bmRlZmluZWQpIGcuZGlzcGxheS5fY2hpbGRyZW5SZW1vdmUgPSBbXTtcbiAgICAgICAgICAgICAgICBnLmRpc3BsYXkuX2NoaWxkcmVuUmVtb3ZlLnB1c2goZWxlbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBOQU1FX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb21wICE9PSB1bmRlZmluZWQpIHRoaXMudXBkYXRlRWxlbWVudChjb21wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBlZGl0ZWQ6IGFueSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUgJiYgJ3Zpc2lvblR5cGUnIGluIGVkaXRlZCkge1xuICAgICAgICAgICAgdGhpcy5pc01hc3RlclZpZXcgPSAocmVzIGFzIExvY2FsTGlnaHRTZXR0aW5ncykudmlzaW9uVHlwZSAhPT0gJ3JwJztcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUVsZW1lbnQoYzogTmFtZUFzTGFiZWxDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGRpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgIGlmIChkaXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IsIGZvdW5kIHRleHRfYXNfbGFiZWwgY29tcG9uZW50IG9uIGFuIGVsZW1lbnQgd2l0aG90IGEgZ3JhcGhpYyB0eXBlLFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBcInBsZWFzZSBmaXJzdCBjcmVhdGUgeW91ciBncmFwaGljIHR5cGUsIHRoZW4gYWRkIGEgdGV4dF9hc19sYWJlbCBjb21wb25lbnRcIik7XG4gICAgICAgICAgICBkaXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuQ09OVEFJTkVSLFxuICAgICAgICAgICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBkaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hbWVTdG9yYWdlID0gdGhpcy53b3JsZC5nZXRTdG9yYWdlKE5BTUVfVFlQRSkgYXMgTXVsdGlFY3NTdG9yYWdlPE5hbWVDb21wb25lbnQ+O1xuICAgICAgICBsZXQgY29tcG9zaXRlTmFtZSA9ICcnO1xuICAgICAgICBmb3IgKGxldCBuYW1lIG9mIG5hbWVTdG9yYWdlLmdldENvbXBvbmVudHMoYy5lbnRpdHkpKSB7XG4gICAgICAgICAgICBpZiAobmFtZS5uYW1lID09PSAnJykgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNNYXN0ZXJWaWV3ICYmIG5hbWUuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGNvbXBvc2l0ZU5hbWUgIT09ICcnKSBjb21wb3NpdGVOYW1lICs9ICdcXG4nO1xuICAgICAgICAgICAgY29tcG9zaXRlTmFtZSArPSBuYW1lLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50MChjLCBkaXMsIGNvbXBvc2l0ZU5hbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlRWxlbWVudDAoZTogTmFtZUFzTGFiZWxDb21wb25lbnQsIGdyYXBoaWM6IEdyYXBoaWNDb21wb25lbnQsIG5hbWVzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGlzcGxheSA9IGdyYXBoaWMuZGlzcGxheTtcblxuICAgICAgICBsZXQgZWxlbTogVGV4dEVsZW1lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gU2VhcmNoIGVsZW1lbnRcbiAgICAgICAgZm9yIChsZXQgYyBvZiAoZGlzcGxheS5jaGlsZHJlbiB8fCBbXSkpIHtcbiAgICAgICAgICAgIGlmIChjLnR5cGUgPT09IEVsZW1lbnRUeXBlLlRFWFQgJiYgYy50YWcgPT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgIGVsZW0gPSBjIGFzIFRleHRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9yIGNyZWF0ZSBvbmVcbiAgICAgICAgaWYgKGVsZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5URVhULFxuICAgICAgICAgICAgICAgIHRhZzogJ25hbWUnLFxuICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IDAsXG4gICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLk5PUk1BTCxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICBhbmNob3I6IHsgeDogMC41LCB5OiAxIH0sXG4gICAgICAgICAgICAgICAgbGluZUFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIH0gYXMgVGV4dEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZGlzcGxheS5fY2hpbGRyZW5BZGQgPT09IHVuZGVmaW5lZCkgZGlzcGxheS5fY2hpbGRyZW5BZGQgPSBbXTtcbiAgICAgICAgICAgIGRpc3BsYXkuX2NoaWxkcmVuQWRkLnB1c2goZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5vZmZzZXQgPSBlLmluaXRpYWxPZmZzZXQ7XG5cbiAgICAgICAgZWxlbS50ZXh0ID0gbmFtZXM7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChncmFwaGljLmVudGl0eSwgZ3JhcGhpYy50eXBlLCB7IGRpc3BsYXk6IGdyYXBoaWMuZGlzcGxheSB9LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNNYXN0ZXJWaWV3ID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSkgYXMgTG9jYWxMaWdodFNldHRpbmdzKT8udmlzaW9uVHlwZSAhPT0gJ3JwJztcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCAqIGFzIFAgZnJvbSBcIi4uLy4uLy4uL3Byb3RvY29sL2dhbWVcIjtcbmltcG9ydCB7Q29tbWFuZCwgZW1pdENvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kS2luZH0gZnJvbSBcIi4uL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHsgUGFja2V0SW5mbywgV1RDaGFubmVsIH0gZnJvbSBcIi4uLy4uLy4uL25ldHdvcmsvd2VidG9ycmVudC9XVENoYW5uZWxcIjtcblxuZXhwb3J0IGNvbnN0IE5FVFdPUktfVFlQRSA9ICduZXR3b3JrJztcbmV4cG9ydCB0eXBlIE5FVFdPUktfVFlQRSA9IHR5cGVvZiBORVRXT1JLX1RZUEU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya1N5c3RlbSBleHRlbmRzIFN5c3RlbXtcbiAgICBpc09ubGluZSgpOiBib29sZWFuO1xuXG4gICAgcmVhZG9ubHkgY2hhbm5lbDogV1RDaGFubmVsO1xufVxuXG5leHBvcnQgY29uc3QgTkVUV09SS19FTlRJVFlfVFlQRSA9ICduZXR3b3JrX2VudGl0eSc7XG5leHBvcnQgdHlwZSBORVRXT1JLX0VOVElUWV9UWVBFID0gdHlwZW9mIE5FVFdPUktfRU5USVRZX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIE5ldHdvcmtFbnRpdHlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IE5FVFdPUktfRU5USVRZX1RZUEU7XG4gICAgbmV0d29ya0lkOiBudW1iZXI7XG4gICAgY29sb3I6IG51bWJlcjtcbn1cblxuXG5leHBvcnQgY29uc3QgTkVUV09SS19TVEFUVVNfVFlQRSA9ICduZXR3b3JrX3N0YXR1cyc7XG5leHBvcnQgdHlwZSBORVRXT1JLX1NUQVRVU19UWVBFID0gdHlwZW9mIE5FVFdPUktfU1RBVFVTX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIE5ldHdvcmtTdGF0dXNSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBORVRXT1JLX1NUQVRVU19UWVBFO1xuICAgIGNvbm5lY3Rpb25Db3VudDogbnVtYmVyO1xuICAgIHRyYWNrZXJDb3VudDogbnVtYmVyO1xuICAgIGlzQnVmZmVyaW5nOiBib29sZWFuO1xuICAgIG15SWQ6IG51bWJlcjtcbiAgICBlbnRpdHlJbmRleDogTWFwPG51bWJlciwgbnVtYmVyPjtcblxuICAgIGlzQm9vdHN0cmFwRG9uZTogYm9vbGVhbjtcblxuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tb25OZXR3b3JrU3lzdGVtIGltcGxlbWVudHMgTmV0d29ya1N5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IE5FVFdPUktfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcblxuICAgIHJlYWRvbmx5IGNoYW5uZWw6IFdUQ2hhbm5lbDtcbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUgcmVzOiBOZXR3b3JrU3RhdHVzUmVzb3VyY2U7XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8TmV0d29ya0VudGl0eUNvbXBvbmVudD4oTkVUV09SS19FTlRJVFlfVFlQRSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkLCBjaGFubmVsOiBXVENoYW5uZWwpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuXG4gICAgICAgIHRoaXMucmVzID0ge1xuICAgICAgICAgICAgdHlwZTogTkVUV09SS19TVEFUVVNfVFlQRSxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25Db3VudDogMCxcbiAgICAgICAgICAgIHRyYWNrZXJDb3VudDogdGhpcy5jaGFubmVsLmRpc2NvdmVyeS5jb25uZWN0ZWRUcmFja2VycyxcbiAgICAgICAgICAgIGlzQnVmZmVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVudGl0eUluZGV4OiBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpLFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcblxuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLnJlcyk7XG5cbiAgICAgICAgdGhpcy5jaGFubmVsLmV2ZW50cy5vbigndHJhY2tlcl9jb25uZWN0aW9ucycsIHRyYWNrZXJDb3VudCA9PiB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZSh0aGlzLnJlcy50eXBlLCB7XG4gICAgICAgICAgICAgICAgdHJhY2tlckNvdW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdwb3B1bGF0ZScsIHRoaXMub25Qb3B1bGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHdvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB3b3JsZC5hZGRTeXN0ZW0obmV3IEhvc3ROZXR3b3JrU3lzdGVtKHdvcmxkLCBjaGFubmVsKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3b3JsZC5hZGRTeXN0ZW0obmV3IENsaWVudE5ldHdvcmtTeXN0ZW0od29ybGQsIGNoYW5uZWwpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5FVFdPUktfRU5USVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSBjIGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVzLmVudGl0eUluZGV4LnNldChjb21wLm5ldHdvcmtJZCwgY29tcC5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTkVUV09SS19FTlRJVFlfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IGMgYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy5yZXMuZW50aXR5SW5kZXguZGVsZXRlKGNvbXAubmV0d29ya0lkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb3B1bGF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZXMubXlJZCA9IHRoaXMuY2hhbm5lbC5teUlkO1xuXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNwYXduRGV2aWNlRW50aXR5KHRoaXMucmVzLm15SWQpO1xuICAgICAgICAgICAgZm9yIChsZXQgcGlkIG9mIHRoaXMuY2hhbm5lbC5jb25uZWN0aW9ucy5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwYXduRGV2aWNlRW50aXR5KHBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNvbm5lY3Rpb25Db3VudCgpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbkNvdW50ID0gdGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zLnNpemU7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKE5FVFdPUktfU1RBVFVTX1RZUEUsIHsgY29ubmVjdGlvbkNvdW50IH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3Bhd25EZXZpY2VFbnRpdHkocGVlcklkOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY21kID0gU3Bhd25Db21tYW5kS2luZC5mcm9tKHRoaXMud29ybGQsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBORVRXT1JLX0VOVElUWV9UWVBFLFxuICAgICAgICAgICAgICAgIG5ldHdvcmtJZDogcGVlcklkLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweEZGRkZGRiksXG4gICAgICAgICAgICB9IGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnRcbiAgICAgICAgXSk7XG4gICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNtZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb25EZXZpY2VKb2luKGNvbm5JZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkNvdW50KCk7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgIHRoaXMuc3Bhd25EZXZpY2VFbnRpdHkoY29ubklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGV2aWNlTGVhdmUoY29ubklkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uQ291bnQoKTtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVpZCA9IHRoaXMucmVzLmVudGl0eUluZGV4LmdldChjb25uSWQpO1xuICAgICAgICAgICAgaWYgKGVpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGV2aWNlIFwiICsgY29ubklkICsgXCIgaGFkIG5vIGFzc29jaWF0ZWQgZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtlaWRdLFxuICAgICAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfZW1pdCcsIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRldmljZUJ1ZmZlclVwZGF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogYnVmZmVyaW5nXG4gICAgICAgIGNvbnN0IGlzQnVmZmVyaW5nID0gZmFsc2U7IC8vIHRoaXMuY2hhbm5lbC5idWZmZXJpbmdDaGFubmVscyA+IDA7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKE5FVFdPUktfU1RBVFVTX1RZUEUsIHsgaXNCdWZmZXJpbmcgfSk7XG4gICAgfVxuXG4gICAgaXNPbmxpbmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWwuY29ubmVjdGlvbnMuc2l6ZSAhPT0gMDtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGxldCBjaEV2ZW50cyA9IHRoaXMuY2hhbm5lbC5ldmVudHM7XG4gICAgICAgIGNoRXZlbnRzLm9uKCdkZXZpY2Vfam9pbicsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICAgICAgY2hFdmVudHMub24oJ2RldmljZV9sZWZ0JywgdGhpcy5vbkRldmljZUxlYXZlLCB0aGlzKTtcbiAgICAgICAgY2hFdmVudHMub24oJ2J1ZmZlcmluZ191cGRhdGUnLCB0aGlzLm9uRGV2aWNlQnVmZmVyVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgLy90aGlzLmNoYW5uZWwuZXZlbnRzLm9uKCdtZXNzYWdlJywgeCA9PiBjb25zb2xlLmxvZyhcIlJFQ0VJVkVEOiBcIiArIEpTT04uc3RyaW5naWZ5KHgpKSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNoRXZlbnRzID0gdGhpcy5jaGFubmVsLmV2ZW50cztcbiAgICAgICAgY2hFdmVudHMub2ZmKCdkZXZpY2Vfam9pbicsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICAgICAgY2hFdmVudHMub2ZmKCdkZXZpY2VfbGVmdCcsIHRoaXMub25EZXZpY2VMZWF2ZSwgdGhpcyk7XG4gICAgICAgIGNoRXZlbnRzLm9mZignYnVmZmVyaW5nX3VwZGF0ZScsIHRoaXMub25EZXZpY2VCdWZmZXJVcGRhdGUsIHRoaXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEhPU1RfTkVUV09SS19UWVBFID0gJ2hvc3RfbmV0d29yayc7XG5leHBvcnQgdHlwZSBIT1NUX05FVFdPUktfVFlQRSA9IHR5cGVvZiBIT1NUX05FVFdPUktfVFlQRTtcbmV4cG9ydCBjbGFzcyBIb3N0TmV0d29ya1N5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEhPU1RfTkVUV09SS19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdIGFzIHN0cmluZ1tdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgY2hhbm5lbDogV1RDaGFubmVsO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkLCBjaDogV1RDaGFubmVsKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2g7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbW1hbmRfc2hhcmUnLCB0aGlzLm9uQ29tbWFuZFNoYXJlLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVWRU5UIExJU1RFTkVSUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBwcml2YXRlIG9uRGV2aWNlSm9pbihjaElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogXCJlY3NfYm9vdHN0cmFwXCIsXG4gICAgICAgICAgICBwYXlsb2FkOiB0aGlzLndvcmxkLnNlcmlhbGl6ZSh7XG4gICAgICAgICAgICAgICAgcmVxdWlyZVN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RyaXBDbGllbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzOiB0cnVlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0gYXMgUC5FY3NCb290cnN0cmFwLCBjaElkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tbWFuZFBhY2tldChwa3Q6IFAuQ29tbWFuZFBhY2tldCwgaW5mbzogUGFja2V0SW5mbykge1xuICAgICAgICBjb25zdCBzZW5kZXIgPSBpbmZvLnNlbmRlcklkO1xuICAgICAgICBmb3IgKGxldCBjbWQgb2YgcGt0LmRhdGEpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0NvbW1hbmQoc2VuZGVyLCBjbWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2VtaXRcIiwgY21kLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQ29tbWFuZChzZW5kZXI6IG51bWJlciwgY29tbWFuZDogQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJSZWNlaXZlZCBjb21tYW5kIGZyb20gbm9uLWFkbWluOiBcIiwgY29tbWFuZCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tbWFuZFNoYXJlKGNvbW1hbmQ6IENvbW1hbmRbXSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tbWFuZC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5jaGFubmVsLmJyb2FkY2FzdCh7XG4gICAgICAgICAgICB0eXBlOiAnY21kJyxcbiAgICAgICAgICAgIGRhdGE6IGNvbW1hbmQsXG4gICAgICAgIH0gYXMgUC5Db21tYW5kUGFja2V0KTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudHMub24oJ2RldmljZV9qb2luJywgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgICAgICB0aGlzLmNoYW5uZWwucGFja2V0cy5vbignY21kJywgdGhpcy5vbkNvbW1hbmRQYWNrZXQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShORVRXT1JLX1NUQVRVU19UWVBFLCB7IGlzQm9vdHN0cmFwRG9uZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoYW5uZWwuZXZlbnRzLm9mZignZGV2aWNlX2pvaW4nLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5wYWNrZXRzLm9mZignY21kJywgdGhpcy5vbkNvbW1hbmRQYWNrZXQsIHRoaXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IENMSUVOVF9ORVRXT1JLX1RZUEUgPSAnY2xpZW50X25ldHdvcmsnO1xuZXhwb3J0IHR5cGUgQ0xJRU5UX05FVFdPUktfVFlQRSA9IHR5cGVvZiBDTElFTlRfTkVUV09SS19UWVBFO1xuZXhwb3J0IGNsYXNzIENsaWVudE5ldHdvcmtTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBDTElFTlRfTkVUV09SS19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdIGFzIHN0cmluZ1tdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgY2hhbm5lbDogV1RDaGFubmVsO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCwgY2hhbm5lbDogV1RDaGFubmVsKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSBlY3M7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVjc0Jvb3RzdHJhcChwYWNrZXQ6IFAuRWNzQm9vdHJzdHJhcCwgaW5mbzogUGFja2V0SW5mbyk6IHZvaWQge1xuICAgICAgICBpZiAoaW5mby5zZW5kZXJJZCAhPT0gMCkgcmV0dXJuOyAvLyBPbmx5IGFkbWluXG5cbiAgICAgICAgdGhpcy53b3JsZC5jbGVhcigpO1xuICAgICAgICB0aGlzLndvcmxkLmRlc2VyaWFsaXplKHBhY2tldC5wYXlsb2FkLCB7fSk7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKE5FVFdPUktfU1RBVFVTX1RZUEUsIHsgaXNCb290c3RyYXBEb25lOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdmb2N1c19vbl9yYW5kb21fcGFydHknKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ21kKHBhY2tldDogUC5Db21tYW5kUGFja2V0LCBpbmZvOiBQYWNrZXRJbmZvKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGNtZCBvZiBwYWNrZXQuZGF0YSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQ29tbWFuZChpbmZvLnNlbmRlcklkLCBjbWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2VtaXRcIiwgY21kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25EZXZpY2VMZWF2ZShjb25uSWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShORVRXT1JLX1NUQVRVU19UWVBFLCB7IGlzQm9vdHN0cmFwRG9uZTogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0NvbW1hbmQoc2VuZGVyOiBudW1iZXIsIGNvbW1hbmQ6IENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHNlbmRlciA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlJlY2VpdmVkIGNvbW1hbmQgZnJvbSBub24tYWRtaW46IFwiLCBjb21tYW5kKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHBhY2tldHMgPSB0aGlzLmNoYW5uZWwucGFja2V0cztcbiAgICAgICAgcGFja2V0cy5vbignZWNzX2Jvb3RzdHJhcCcsIHRoaXMub25FY3NCb290c3RyYXAsIHRoaXMpO1xuICAgICAgICBwYWNrZXRzLm9uKCdjbWQnLCB0aGlzLm9uQ21kLCB0aGlzKTtcbiAgICAgICAgbGV0IGNoRXZlbnRzID0gdGhpcy5jaGFubmVsLmV2ZW50cztcbiAgICAgICAgY2hFdmVudHMub24oJ2RldmljZV9sZWZ0JywgdGhpcy5vbkRldmljZUxlYXZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBsZXQgcGFja2V0cyA9IHRoaXMuY2hhbm5lbC5wYWNrZXRzO1xuICAgICAgICBwYWNrZXRzLm9mZignZWNzX2Jvb3RzdHJhcCcsIHRoaXMub25FY3NCb290c3RyYXAsIHRoaXMpO1xuICAgICAgICBwYWNrZXRzLm9mZignY21kJywgdGhpcy5vbkNtZCwgdGhpcyk7XG4gICAgICAgIGxldCBjaEV2ZW50cyA9IHRoaXMuY2hhbm5lbC5ldmVudHM7XG4gICAgICAgIGNoRXZlbnRzLm9mZignZGV2aWNlX2xlZnQnLCB0aGlzLm9uRGV2aWNlTGVhdmUsIHRoaXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtJSGl0QXJlYSwgSVBvaW50RGF0YX0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0ZPTExPV19NT1VTRV9UWVBFLCBQT1NJVElPTl9UWVBFfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0ZsYWdFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtmaW5kRW50aXRpZXNBdCwgZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luLCBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uLCBzbmFwUG9pbnR9IGZyb20gXCIuLi8uLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtLRVlCT0FSRF9LRVlfRE9XTiwgS0VZQk9BUkRfVFlQRSwgS2V5Ym9hcmRSZXNvdXJjZX0gZnJvbSBcIi4va2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7YWRkQ3VzdG9tQmxlbmRNb2Rlc30gZnJvbSBcIi4uLy4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtERUZBVUxUX0JBQ0tHUk9VTkR9IGZyb20gXCIuLi9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cbmludGVyZmFjZSBQb2ludGVyRGF0YSB7XG4gICAgZmlyc3RYOiBudW1iZXIsXG4gICAgZmlyc3RZOiBudW1iZXIsXG4gICAgbGFzdFg6IG51bWJlcixcbiAgICBsYXN0WTogbnVtYmVyLFxufVxuXG5leHBvcnQgZW51bSBQb2ludGVyRXZlbnRzIHtcbiAgICBQT0lOVEVSX01PVkUgPSAncG9pbnRlcl9tb3ZlJyxcbiAgICBQT0lOVEVSX0RPV04gPSAncG9pbnRlcl9kb3duJyxcbiAgICBQT0lOVEVSX1VQID0gJ3BvaW50ZXJfdXAnLFxuICAgIFBPSU5URVJfUklHSFRfRE9XTiA9ICdwb2ludGVyX3JpZ2h0X2Rvd24nLFxuICAgIFBPSU5URVJfUklHSFRfVVAgPSAncG9pbnRlcl9yaWdodF91cCcsXG4gICAgUE9JTlRFUl9DTElDSyA9ICdwb2ludGVyX2NsaWNrJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCB7XG4gICAgZ2xvYmFsUG9zOiBQSVhJLklQb2ludERhdGE7XG4gICAgYm9hcmRQb3M6IFBJWEkuSVBvaW50RGF0YTtcbiAgICBwb2ludGVySWQ6IG51bWJlcjtcbiAgICBwb2ludGVyVHlwZTogc3RyaW5nO1xuICAgIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50IHwgUG9pbnRlckV2ZW50O1xuICAgIC8vIGxhenkgYW5kIGNhY2hlZFxuICAgIGVudGl0aWVzSG92ZXJlZDogKCkgPT4gbnVtYmVyW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3VtYWJsZUV2ZW50IHtcbiAgICBjb25zdW1lZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIYXNMYXN0UG9zaXRpb24ge1xuICAgIGxhc3RQb3NpdGlvbjogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgdHlwZSBQb2ludGVyRG93bkV2ZW50ID0gUG9pbnRlckludGVyYWN0aW9uRXZlbnQgJiBDb25zdW1hYmxlRXZlbnQgJiB7XG4gICAgLy8gSWYgc2V0IHRvIHRydWUgYWZ0ZXIgdGhlIGV2ZW50IHRoZSBpbnRlcmFjdGlvbiB3aWxsIGJlIHVzZWQgdG8gZHJhZyB0aGUgbWFwIGFyb3VuZFxuICAgIGNvbnN1bWVEcmFnQm9hcmQ6IGJvb2xlYW47XG59O1xuZXhwb3J0IHR5cGUgUG9pbnRlclVwRXZlbnQgPSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCAmIEhhc0xhc3RQb3NpdGlvbiAmIENvbnN1bWFibGVFdmVudCAmIHtcbiAgICBpc0luc2lkZTogYm9vbGVhbjtcbiAgICBpc0NsaWNrOiBib29sZWFuO1xufTtcbmV4cG9ydCB0eXBlIFBvaW50ZXJNb3ZlRXZlbnQgPSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCAmIEhhc0xhc3RQb3NpdGlvbiAmIHtcbiAgICBjYW5CZWNvbWVDbGljazogYm9vbGVhbjtcbn07XG5leHBvcnQgdHlwZSBQb2ludGVyUmlnaHREb3duRXZlbnQgPSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCAmIENvbnN1bWFibGVFdmVudDtcbmV4cG9ydCB0eXBlIFBvaW50ZXJSaWdodFVwRXZlbnQgPSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCAmIENvbnN1bWFibGVFdmVudDtcbmV4cG9ydCB0eXBlIFBvaW50ZXJDbGlja0V2ZW50ID0gUG9pbnRlckludGVyYWN0aW9uRXZlbnQgJiBDb25zdW1hYmxlRXZlbnQ7XG5cbmV4cG9ydCBjb25zdCBCT0FSRF9UUkFOU0ZPUk1fVFlQRSA9ICdib2FyZF90cmFuc2Zvcm0nO1xuZXhwb3J0IHR5cGUgQk9BUkRfVFJBTlNGT1JNX1RZUEUgPSB0eXBlb2YgQk9BUkRfVFJBTlNGT1JNX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogQk9BUkRfVFJBTlNGT1JNX1RZUEU7XG4gICAgX3NhdmU6IHRydWU7XG4gICAgX3N5bmM6IGZhbHNlO1xuXG4gICAgcG9zWDogbnVtYmVyO1xuICAgIHBvc1k6IG51bWJlcjtcbiAgICBzY2FsZVg6IG51bWJlcjtcbiAgICBzY2FsZVk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IEJPQVJEX1NJWkVfVFlQRSA9ICdib2FyZF9zaXplJztcbmV4cG9ydCB0eXBlIEJPQVJEX1NJWkVfVFlQRSA9IHR5cGVvZiBCT0FSRF9TSVpFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEJvYXJkU2l6ZVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IEJPQVJEX1NJWkVfVFlQRTtcbiAgICBfc2F2ZTogZmFsc2U7XG4gICAgX3N5bmM6IGZhbHNlO1xuXG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUElYSV9CT0FSRF9UWVBFID0gJ3BpeGlfYm9hcmQnO1xuZXhwb3J0IGNvbnN0IFBJWElfQk9BUkRfVFlQRSA9ICdwaXhpX2JvYXJkJztcbmV4cG9ydCBjbGFzcyBQaXhpQm9hcmRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIG5hbWUgPSBQSVhJX0JPQVJEX1RZUEU7XG4gICAgZGVwZW5kZW5jaWVzID0gW10gYXMgc3RyaW5nW107XG5cbiAgICB3b3JsZDogV29ybGQ7XG5cbiAgICByZW5kZXJlcjogUElYSS5SZW5kZXJlcjtcbiAgICB0aWNrZXI6IFBJWEkuVGlja2VyO1xuICAgIHByaXZhdGUgcmVzaXplUmVxSWQ/OiBudW1iZXI7XG5cbiAgICByb290OiBQSVhJLmRpc3BsYXkuU3RhZ2U7XG4gICAgYm9hcmQ6IFBJWEkuQ29udGFpbmVyO1xuICAgIHRvb2xGb3JlZ3JvdW5kR3JvdXA6IFBJWEkuZGlzcGxheS5Hcm91cDtcblxuICAgIHByaXZhdGUgd2hlZWxMaXN0ZW5lcjogYW55O1xuICAgIHByaXZhdGUgcmVzaXplTGlzdGVuZXI6IGFueTtcbiAgICBwb2ludGVycyA9IG5ldyBNYXA8bnVtYmVyLCBQb2ludGVyRGF0YT4oKTtcbiAgICBtb3VzZUxhc3RYOiBudW1iZXIgPSAwO1xuICAgIG1vdXNlTGFzdFk6IG51bWJlciA9IDA7XG4gICAgbGFzdE1vdXNlRG93blRpbWU/OiBudW1iZXI7XG4gICAgaXNEcmFnZ2luZ0JvYXJkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXFfYm9hcmRfY2VudGVyJywgdGhpcy5jZW50ZXJCb2FyZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihLRVlCT0FSRF9LRVlfRE9XTiwgdGhpcy5vbktleURvd24sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogQk9BUkRfVFJBTlNGT1JNX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgICAgIHBvc1g6IDAsXG4gICAgICAgICAgICBwb3NZOiAwLFxuICAgICAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICAgICAgc2NhbGVZOiAxLFxuICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogQk9BUkRfU0laRV9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IDEwMCxcbiAgICAgICAgICAgIGhlaWdodDogMTAwLFxuICAgICAgICB9IGFzIEJvYXJkU2l6ZVJlc291cmNlKTtcblxuICAgICAgICAvLyBXZSBjYW5ub3Qgd29yayB3aXRob3V0IHdlYmdsXG4gICAgICAgIFBJWEkuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBQSVhJLlJlbmRlcmVyKHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgICAgICB9KTtcbiAgICAgICAgYWRkQ3VzdG9tQmxlbmRNb2Rlcyh0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGlja2VyID0gbmV3IFBJWEkuVGlja2VyKCk7XG5cbiAgICAgICAgdGhpcy5yb290ID0gbmV3IFBJWEkuZGlzcGxheS5TdGFnZSgpO1xuICAgICAgICB0aGlzLnJvb3QuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yb290LmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yb290LnNvcnRhYmxlQ2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLnJvb3QuZ3JvdXAuZW5hYmxlU29ydCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5yb290LmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yb290LmhpdEFyZWEgPSB7XG4gICAgICAgICAgICBjb250YWlucyh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGFzIElIaXRBcmVhO1xuXG4gICAgICAgIHRoaXMudGlja2VyLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnJvb3QpO1xuICAgICAgICB9LCBQSVhJLlVQREFURV9QUklPUklUWS5MT1cpO1xuXG4gICAgICAgIC8vIFRPRE86IHdlIHNob3VsZCBjcmVhdGUgcmVuZGVyIHBoYXNlcywgb25lIGZvciB0aGUgd29ybGQgKHVzaW5nIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCB0byBtb3ZlIHRoZSBjYW1lcmEpXG4gICAgICAgIC8vICAgICAgIGFuZCB0aGUgb3RoZXIgZm9yIHRoZSBHVUkgKG9yIG90aGVyIHRoaW5ncyB0aGF0IGRvIG5vdCBkZXBlbmQgb24gY2FtZXJhIHBvc2l0aW9uLCBhcyB0aGUgR3JpZFN5c3RlbSg/KSkuXG4gICAgICAgIC8vICAgICAgIHRvIGNyZWF0ZSBhIGN1c3RvbSBnYW1lIGxvb3A6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUN1c3RvbS1BcHBsaWNhdGlvbi1HYW1lTG9vcFxuICAgICAgICB0aGlzLmJvYXJkID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuYm9hcmQuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ib2FyZC5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KDAsIDApO1xuICAgICAgICB0aGlzLmJvYXJkLnNvcnRhYmxlQ2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudG9vbEZvcmVncm91bmRHcm91cCA9IG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAoTGF5ZXJPcmRlci5UT09MUywgZmFsc2UpO1xuICAgICAgICBjb25zdCB0b29sTGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKHRoaXMudG9vbEZvcmVncm91bmRHcm91cCk7XG4gICAgICAgIHRvb2xMYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0b29sTGF5ZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvb3QuYWRkQ2hpbGQodG9vbExheWVyKTtcblxuICAgICAgICB0aGlzLnJvb3QuYWRkQ2hpbGQodGhpcy5ib2FyZCk7XG4gICAgfVxuXG4gICAgb25LZXlEb3duKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBrZXlib2FyZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSkgYXMgS2V5Ym9hcmRSZXNvdXJjZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGtleWJvYXJkID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgY3RybCA9IGtleWJvYXJkLmN0cmw7XG4gICAgICAgIGxldCBzaGlmdCA9IGtleWJvYXJkLnNoaWZ0O1xuICAgICAgICBsZXQgZXZlbnRfbmFtZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoY3RybCkge1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaWZ0KSBldmVudF9uYW1lID0gJ2NvbW1hbmRfcmVkbyc7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgZXZlbnRfbmFtZSA9ICdjb21tYW5kX3VuZG8nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd5JzogZXZlbnRfbmFtZSA9ICdjb21tYW5kX3JlZG8nOyAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50X25hbWUgPSAnZGVsZXRlJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50X25hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChldmVudF9uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvR2VuZXJhbEV2ZW50KHBpeGk6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCk6IFBvaW50ZXJJbnRlcmFjdGlvbkV2ZW50IHtcbiAgICAgICAgY29uc3QgYm9hcmRQb3MgPSBnZXRCb2FyZFBvc0Zyb21PcmlnaW4odGhpcy53b3JsZCwgcGl4aSk7XG5cbiAgICAgICAgbGV0IGhvdmVyZWRDYWNoZTogbnVtYmVyW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGVudGl0aWVzSG92ZXJlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlcmVkQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhvdmVyZWRDYWNoZSA9IGZpbmRFbnRpdGllc0F0KHRoaXMud29ybGQsIGJvYXJkUG9zLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3ZlcmVkQ2FjaGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2xvYmFsUG9zOiBwaXhpLmRhdGEuZ2xvYmFsLFxuICAgICAgICAgICAgYm9hcmRQb3MsXG4gICAgICAgICAgICBwb2ludGVySWQ6IHBpeGkuZGF0YS5wb2ludGVySWQsXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcGl4aS5kYXRhLnBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogcGl4aS5kYXRhLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICBlbnRpdGllc0hvdmVyZWQsXG4gICAgICAgIH0gYXMgUG9pbnRlckludGVyYWN0aW9uRXZlbnQ7XG4gICAgfVxuXG4gICAgY2FuQmVjb21lQ2xpY2socGRhdGE6IFBvaW50ZXJEYXRhLCBwOiBJUG9pbnREYXRhKSB7XG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGxldCB0aW1lRGlmZiA9IG5vdyAtICh0aGlzLmxhc3RNb3VzZURvd25UaW1lIHx8IDApO1xuXG4gICAgICAgIGxldCBkaWZmWCA9IHAueCAtIHBkYXRhLmZpcnN0WDtcbiAgICAgICAgbGV0IGRpZmZZID0gcC55IC0gcGRhdGEuZmlyc3RZO1xuICAgICAgICBsZXQgZGlmZlBvcyA9IE1hdGguc3FydChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSk7XG5cbiAgICAgICAgcmV0dXJuIGRpZmZQb3MgPCA1ICYmIHRpbWVEaWZmIDwgNTAwO1xuICAgIH1cblxuICAgIHpvb20oZFNjYWxlOiBudW1iZXIsIGNlbnRlclg6IG51bWJlciwgY2VudGVyWTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IG1pblNjYWxlID0gMC4wNTtcbiAgICAgICAgY29uc3QgbWF4U2NhbGUgPSAzO1xuXG4gICAgICAgIGlmICh0aGlzLmJvYXJkLnNjYWxlLnggPCBtaW5TY2FsZSAmJiBkU2NhbGUgPCAxIHx8IHRoaXMuYm9hcmQuc2NhbGUueCA+IG1heFNjYWxlICYmIGRTY2FsZSA+IDEpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gQmVmb3JlIHNjYWxpbmcgYWRqdXN0IHRoZSBwb3NpdGlvbjpcbiAgICAgICAgLy8gVGFrZXMgdGhlIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgYm9hcmQgcG9zaXRpb24gKHVwcGVyLWxlZnQpIHRvIHRoZSBjdXJzb3IuXG4gICAgICAgIC8vIEFwcGx5IHRoZSBkU2NhbGUgZmFjdG9yIHRvIHRoYXQgdmVjdG9yIGFuZCBmaW5kIHRoZSBuZXcgYm9hcmQgcG9zaXRpb24uXG4gICAgICAgIC8vIEZpbmFsbHksIHRoZSBjdXJzb3IgcG9zaXRpb24gcGx1cyB0aGUgdmVjdG9yIG9idGFpbmVkIGlzIHRoZSBuZXcgYm9hcmQgcG9zaXRpb24uXG5cbiAgICAgICAgbGV0IHBhZFggPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnggLSBjZW50ZXJYO1xuICAgICAgICBsZXQgcGFkWSA9IHRoaXMuYm9hcmQucG9zaXRpb24ueSAtIGNlbnRlclk7XG5cbiAgICAgICAgcGFkWCAqPSBkU2NhbGU7XG4gICAgICAgIHBhZFkgKj0gZFNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQocGFkWCArIGNlbnRlclgsIHBhZFkgKyBjZW50ZXJZKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBuZXcgUElYSS5Qb2ludCh0aGlzLmJvYXJkLnNjYWxlLnggKiBkU2NhbGUsIHRoaXMuYm9hcmQuc2NhbGUueSAqIGRTY2FsZSk7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvKmlmICh0aGlzLmJvYXJkLmlzQm9hcmRMb3N0KHBvc2l0aW9uLCBzY2FsZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiWW91IGNhbid0IG5vIG1vcmUgc2NhbGUgaW4gdGhpcyBkaXJlY3Rpb24sIHlvdSdyZSBsb29zaW5nIHRoZSBib2FyZCFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0qL1xuXG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFLCB7XG4gICAgICAgICAgICBwb3NYOiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgcG9zWTogcG9zaXRpb24ueSxcbiAgICAgICAgICAgIHNjYWxlWDogc2NhbGUueCxcbiAgICAgICAgICAgIHNjYWxlWTogc2NhbGUueSxcbiAgICAgICAgfSBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgbW91c2Ugc2Nyb2xscy5cbiAgICAgKiBUaGUgbWFwIGlzIHpvb21lZCBpbiBhbmQgb3V0IGJhc2VkIG9uIHRoZSBzY3JvbGwgZGlyZWN0aW9uLlxuICAgICAqL1xuICAgIG9uTW91c2VXaGVlbChldmVudDogV2hlZWxFdmVudCkge1xuICAgICAgICBjb25zdCBzY2FsaW5nU3BlZWQgPSAwLjE7XG4gICAgICAgIGNvbnN0IGRTY2FsZSA9IDEgLSBNYXRoLnNpZ24oZXZlbnQuZGVsdGFZKSAqIHNjYWxpbmdTcGVlZDtcbiAgICAgICAgdGhpcy56b29tKGRTY2FsZSwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyRG93bihldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgICAvLyBSaWdodCBidXR0b25cbiAgICAgICAgICAgIGxldCBwcmRlID0gdGhpcy50b0dlbmVyYWxFdmVudChldmVudCkgYXMgUG9pbnRlclJpZ2h0RG93bkV2ZW50O1xuICAgICAgICAgICAgcHJkZS5jb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfUklHSFRfRE9XTiwgcHJkZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9zID0gZXZlbnQuZGF0YS5nbG9iYWw7XG4gICAgICAgIHRoaXMucG9pbnRlcnMuc2V0KGV2ZW50LmRhdGEucG9pbnRlcklkLCB7XG4gICAgICAgICAgICBmaXJzdFg6IHBvcy54LFxuICAgICAgICAgICAgZmlyc3RZOiBwb3MueSxcbiAgICAgICAgICAgIGxhc3RYOiBwb3MueCxcbiAgICAgICAgICAgIGxhc3RZOiBwb3MueSxcbiAgICAgICAgfSBhcyBQb2ludGVyRGF0YSk7XG5cbiAgICAgICAgdGhpcy5sYXN0TW91c2VEb3duVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgbGV0IGUgPSB0aGlzLnRvR2VuZXJhbEV2ZW50KGV2ZW50KSBhcyBQb2ludGVyRG93bkV2ZW50O1xuICAgICAgICBlLmNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgIGUuY29uc3VtZURyYWdCb2FyZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5kYXRhLmJ1dHRvbiA9PT0gMSkge1xuICAgICAgICAgICAgLy8gSWYgbWlkZGxlIGJ1dHRvbiBpcyBwcmVzc2VkIGlnbm9yZSwgd2UgZm9yY2UgaXQgdG8gZHJhZyB0aGUgYm9hcmRcbiAgICAgICAgICAgIC8vIChhbmQgcHJldmVudCB0aGUgcGFzdGUgZXZlbnQpXG4gICAgICAgICAgICBldmVudC5kYXRhLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LmRhdGEub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUuY29uc3VtZURyYWdCb2FyZCA9IHRydWU7Ly8gbWlkZGxlIGNsaWNrIHRvIGRyYWcgaXMgYWx3YXlzIGVuYWJsZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX0RPV04sIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuY29uc3VtZURyYWdCb2FyZCAmJiB0aGlzLnBvaW50ZXJzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0JvYXJkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlclVwKGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQsIGlzSW5zaWRlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBlID0gdGhpcy50b0dlbmVyYWxFdmVudChldmVudCkgYXMgUG9pbnRlclVwRXZlbnQ7XG4gICAgICAgIGUuaXNJbnNpZGUgPSBpc0luc2lkZTtcblxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5kYXRhLmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgLy8gUmlnaHQgYnV0dG9uXG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9VUCwgZSBhcyBQb2ludGVyUmlnaHRVcEV2ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiBtaWRkbGUgYnV0dG9uIGlzIHByZXNzZWQgaWdub3JlLCB3ZSBmb3JjZSBpdCB0byBkcmFnIHRoZSBib2FyZFxuICAgICAgICAgICAgLy8gKGFuZCBwcmV2ZW50IHRoZSBwYXN0ZSBldmVudClcbiAgICAgICAgICAgIGV2ZW50LmRhdGEub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgLy8gb2YgY291cnNlIGV2ZXJ5IGJyb3dzZXIgaWdub3JlcyB0aGUgcHJldmVudERlZmF1bHQgc28gd2UgaGF2ZSB0byBpZ25vcmUgaXQgb3Vyc2VsZlxuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnaWdub3JlX25leHRfcGFzdGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwZGF0YSA9IHRoaXMucG9pbnRlcnMuZ2V0KGV2ZW50LmRhdGEucG9pbnRlcklkKTtcbiAgICAgICAgaWYgKHBkYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLnBvaW50ZXJzLmRlbGV0ZShldmVudC5kYXRhLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgaWYgKHRoaXMubGFzdE1vdXNlRG93blRpbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0JvYXJkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBpc0NsaWNrID0gdGhpcy5jYW5CZWNvbWVDbGljayhwZGF0YSwgZXZlbnQuZGF0YS5nbG9iYWwpO1xuXG4gICAgICAgICAgICBsZXQgcHVlID0gZSBhcyBQb2ludGVyVXBFdmVudDtcbiAgICAgICAgICAgIHB1ZS5sYXN0UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeDogcGRhdGEubGFzdFgsXG4gICAgICAgICAgICAgICAgeTogcGRhdGEubGFzdFlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwdWUuaXNDbGljayA9IGlzQ2xpY2s7XG4gICAgICAgICAgICBwdWUuY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX1VQLCBwdWUpO1xuICAgICAgICAgICAgaWYgKGlzQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBsZXQgcGNlID0gcHVlIGFzIFBvaW50ZXJDbGlja0V2ZW50O1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX0NMSUNLLCBwY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXBPdXRzaWRlKGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQpIHtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcChldmVudCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIGFyb3VuZCB0aGUgbWFwLiAqL1xuICAgIG9uUG9pbnRlck1vdmUoZTogUElYSS5JbnRlcmFjdGlvbkV2ZW50KSB7XG4gICAgICAgIGxldCBwb3MgPSBlLmRhdGEuZ2xvYmFsO1xuICAgICAgICBsZXQgZXZlbnQgPSB0aGlzLnRvR2VuZXJhbEV2ZW50KGUpO1xuXG4gICAgICAgIC8vIFRPRE86IG1hZ25ldCBzbmFwIHN5c3RlbVxuICAgICAgICBsZXQgbG9jYWxQb3MgPSBzbmFwUG9pbnQodGhpcy53b3JsZCwgZXZlbnQuYm9hcmRQb3MpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJGb2xsb3dlcnMobG9jYWxQb3MpO1xuXG4gICAgICAgIGxldCBwZGF0YSA9IHRoaXMucG9pbnRlcnMuZ2V0KGUuZGF0YS5wb2ludGVySWQpO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPD0gMSAmJiAhdGhpcy5pc0RyYWdnaW5nQm9hcmQpIHtcbiAgICAgICAgICAgIGxldCBwbWUgPSBldmVudCBhcyBQb2ludGVyTW92ZUV2ZW50O1xuICAgICAgICAgICAgcG1lLmxhc3RQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLm1vdXNlTGFzdFgsIHk6IHRoaXMubW91c2VMYXN0WSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwbWUuY2FuQmVjb21lQ2xpY2sgPSBwZGF0YSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0aGlzLmNhbkJlY29tZUNsaWNrKHBkYXRhLCBwb3MpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfTU9WRSwgcG1lKTtcbiAgICAgICAgICAgIHRoaXMubW91c2VMYXN0WCA9IHBvcy54O1xuICAgICAgICAgICAgdGhpcy5tb3VzZUxhc3RZID0gcG9zLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDEpIHsvLyBNb3ZlXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nQm9hcmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb3NYID0gdGhpcy5ib2FyZC5wb3NpdGlvbi54ICsgKHBvcy54IC0gcGRhdGEubGFzdFgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bvc1kgPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnkgKyAocG9zLnkgLSBwZGF0YS5sYXN0WSk7XG5cbiAgICAgICAgICAgICAgICAvKmlmICh0aGlzLmJvYXJkLmlzQm9hcmRMb3N0KG5ldyBQSVhJLlBvaW50KG5ld1Bvc1gsIG5ld1Bvc1kpLCB0aGlzLnNjYWxlKSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiWW91IGNhbid0IGdvIGZ1cnRoZXIgdGhhbiB0aGlzLCB5b3UnbGwgbG9vc2UgdGhlIGJvYXJkIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoQk9BUkRfVFJBTlNGT1JNX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zWDogbmV3UG9zWCxcbiAgICAgICAgICAgICAgICAgICAgcG9zWTogbmV3UG9zWSxcbiAgICAgICAgICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpcnN0RGlzdCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMikge1xuICAgICAgICAgICAgbGV0IFtwYSwgcGJdID0gdGhpcy5wb2ludGVycy52YWx1ZXMoKTtcblxuICAgICAgICAgICAgbGV0IGR4ID0gcGEubGFzdFggLSBwYi5sYXN0WDtcbiAgICAgICAgICAgIGxldCBkeSA9IHBhLmxhc3RZIC0gcGIubGFzdFk7XG4gICAgICAgICAgICBmaXJzdERpc3QgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGRhdGEubGFzdFggPSBwb3MueDtcbiAgICAgICAgcGRhdGEubGFzdFkgPSBwb3MueTtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplID09PSAyKSB7XG4gICAgICAgICAgICBsZXQgW3BhLCBwYl0gPSB0aGlzLnBvaW50ZXJzLnZhbHVlcygpO1xuXG4gICAgICAgICAgICBsZXQgZHggPSBwYS5sYXN0WCAtIHBiLmxhc3RYO1xuICAgICAgICAgICAgbGV0IGR5ID0gcGEubGFzdFkgLSBwYi5sYXN0WTtcbiAgICAgICAgICAgIGxldCBzZWNvbmREaXN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgICAgICAgICAgbGV0IGNlbnRlciA9IG5ldyBQSVhJLlBvaW50KFxuICAgICAgICAgICAgICAgIChwYS5sYXN0WCArIHBiLmxhc3RYKSAvIDIsXG4gICAgICAgICAgICAgICAgKHBhLmxhc3RZICsgcGIubGFzdFkpIC8gMixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnpvb20oKHNlY29uZERpc3QgLyBmaXJzdERpc3QpLCBjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgIT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCB0ID0gcmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2U7XG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KHQucG9zWCwgdC5wb3NZKTtcbiAgICAgICAgdGhpcy5ib2FyZC5zY2FsZS5zZXQodC5zY2FsZVgsIHQuc2NhbGVZKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQb2ludGVyRm9sbG93ZXJzKHBvaW50OiBQSVhJLklQb2ludERhdGEpIHtcbiAgICAgICAgZm9yIChsZXQgYyBvZiAodGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoRk9MTE9XX01PVVNFX1RZUEUpIGFzIEZsYWdFY3NTdG9yYWdlKS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFrZSB0aGUgYm9hcmQncyBjZW50ZXIgYW5kIHRoZSB3aW5kb3cncyBjZW50ZXIgb3ZlcmxhcC5cbiAgICAgKiBUaGlzIHdheSB0aGUgaW5pdGlhbCBib2FyZCBwb3NpdGlvbiBpcyBjZW50ZXJlZCB0byB0aGUgcm9vdCBjYXJkLlxuICAgICAqL1xuICAgIGNlbnRlckJvYXJkKCkge1xuICAgICAgICBsZXQgYm9hcmRTY3JlZW5XaWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIGxldCBib2FyZFNjcmVlbkhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgIGxldCBzY3JlZW5NaWRQb2ludFdpZHRoID0gYm9hcmRTY3JlZW5XaWR0aCAvIDI7XG4gICAgICAgIGxldCBzY3JlZW5NaWRQb2ludEhlaWdodCA9IGJvYXJkU2NyZWVuSGVpZ2h0IC8gMjtcblxuICAgICAgICBsZXQgYm91bmRzID0gdGhpcy5ib2FyZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICB0aGlzLmJvYXJkLnBvc2l0aW9uLnNldChcbiAgICAgICAgICAgIHNjcmVlbk1pZFBvaW50V2lkdGggLSBib3VuZHMueCAtIGJvdW5kcy53aWR0aCAvIDIsXG4gICAgICAgICAgICBzY3JlZW5NaWRQb2ludEhlaWdodCAtIGJvdW5kcy55IC0gYm91bmRzLmhlaWdodCAvIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhcHBseUNhbnZhc1N0eWxlKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcyA9IGNhbnZhcy5zdHlsZTtcbiAgICAgICAgcy53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICBzLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgIH1cblxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplUmVxSWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlc2l6ZVJlcUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZG9SZXNpemUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkb1Jlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplUmVxSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVSZXFJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBjbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0IH0gPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVzaXplKGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQpO1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCT0FSRF9TSVpFX1RZUEUsIHtcbiAgICAgICAgICAgIHdpZHRoOiBjbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY2xpZW50SGVpZ2h0LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgdGhpcy5hcHBseUNhbnZhc1N0eWxlKGNhbnZhcyk7XG4gICAgICAgIGxldCBjbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAoY250ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBjYW52YXMgY29udGFpbmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gICAgICAgIC8vIFBJWElcbiAgICAgICAgdGhpcy5yb290Lm9uKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5yb290Lm9uKFwicG9pbnRlcmRvd25cIiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzKTtcbiAgICAgICAgdGhpcy5yb290Lm9uKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMub25Qb2ludGVyVXBPdXRzaWRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLndoZWVsTGlzdGVuZXIgPSB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMud2hlZWxMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMucmVzaXplTGlzdGVuZXIgPSB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLnRpY2tlci5zdGFydCgpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMudGlja2VyLnN0b3AoKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVMaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy5yb290Lm9mZihcInBvaW50ZXJtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vZmYoXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub2ZmKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub2ZmKFwicG9pbnRlcnVwb3V0c2lkZVwiLCB0aGlzLm9uUG9pbnRlclVwT3V0c2lkZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy53aGVlbExpc3RlbmVyKTtcblxuICAgICAgICBsZXQgY250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICAgICAgY250Py5yZW1vdmVDaGlsZCh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgIH1cbn0iLCJpbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnQsXG4gICAgVFJBTlNGT1JNX1RZUEUsXG4gICAgVHJhbnNmb3JtQ29tcG9uZW50XG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7RmxhZ0Vjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge0ZvcmdldERhdGEsIFNlcmlhbGl6ZURhdGEsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIERpc3BsYXlFbGVtZW50LFxuICAgIEVsZW1lbnRUeXBlLFxuICAgIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsXG4gICAgR1JBUEhJQ19UWVBFLFxuICAgIEdyYXBoaWNDb21wb25lbnQsXG4gICAgSW1hZ2VFbGVtZW50LFxuICAgIEltYWdlU2NhbGVNb2RlLFxuICAgIExpbmVFbGVtZW50LFxuICAgIFBvaW50RWxlbWVudCxcbiAgICBUZXh0RWxlbWVudCxcbiAgICBWaXNpYmlsaXR5VHlwZVxufSBmcm9tIFwiLi4vLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtCTEVORF9NT0RFUywgSVBvaW50RGF0YSwgTWF0cml4LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgVGV4dHVyZX0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7REVTVFJPWV9BTEwsIERFU1RST1lfTUlOfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtcbiAgICBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCxcbiAgICBQTEFZRVJfVFlQRSxcbiAgICBQTEFZRVJfVklTSUJMRV9UWVBFLFxuICAgIFBsYXllclN5c3RlbSxcbiAgICBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50LFxuICAgIFZpc2liaWxpdHlTcHJlYWREYXRhXG59IGZyb20gXCIuLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7TElHSFRfVFlQRSwgTGlnaHRTeXN0ZW0sIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4uL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgU2hhcGUsXG4gICAgc2hhcGVBYWJiLFxuICAgIHNoYXBlTGluZSxcbiAgICBzaGFwZU9iYixcbiAgICBzaGFwZVBvaW50LFxuICAgIHNoYXBlVG9BYWJiXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0JpdFNldH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvYml0U2V0XCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L29iYlwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvbGluZVwiO1xuaW1wb3J0IHthcnJheVJlbW92ZUVsZW19IGZyb20gXCIuLi8uLi8uLi91dGlsL2FycmF5XCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtURVhUX1RZUEUsIFRleHRTeXN0ZW19IGZyb20gXCIuL3RleHRTeXN0ZW1cIjtcbmltcG9ydCB7IFZpc2liaWxpdHlBd2FyZVN5c3RlbSwgVklTSUJJTElUWV9BV0FSRV9UWVBFIH0gZnJvbSBcIi4vdmlzaWJpbGl0eUF3YXJlU3lzdGVtXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGl4aUdyYXBoaWNDb21wb25lbnQgZXh0ZW5kcyBHcmFwaGljQ29tcG9uZW50IHtcbiAgICBfc2VsZWN0ZWQ6IGJvb2xlYW47XG4gICAgX3Zpc2liTGlzdGVuZXI/OiBWaXNpYkxpc3RlbmVyTGV2ZWw7Ly8gRGVmYXVsdDogTk9UX05FRURFRFxuICAgIF9iaXRCeUJpdD86IGJvb2xlYW47XG4gICAgX2xheWVyPzogUElYSS5kaXNwbGF5Lkdyb3VwO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpeGlEaXNwbGF5RWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50IHtcbiAgICBfb2xkVHlwZT86IEVsZW1lbnRUeXBlO1xuICAgIF9waXhpPzogUElYSS5EaXNwbGF5T2JqZWN0O1xufVxuXG5pbnRlcmZhY2UgUGl4aUltYWdlRWxlbWVudCBleHRlbmRzIEltYWdlRWxlbWVudCwgUGl4aURpc3BsYXlFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRTsvLyBpbnRlcmZlcmVuY2UgYmV0d2VlbiBpbnRlcmZhY2VzIChnb29kLW9sZCBkaWFtb25kIHByb2JsZW0/KVxuICAgIF9vbGRUZXg/OiBUZXh0dXJlLFxuICAgIF9yZW5UZXg/OiBSZW5kZXJUZXh0dXJlO1xuICAgIF92aXNNYXBDaGFuZ2VkPzogYm9vbGVhbjtcbiAgICBfcGl4aT86IFBJWEkuU3ByaXRlO1xufVxuXG5pbnRlcmZhY2UgQ3VzdG9tVGV4dHVyZSBleHRlbmRzIFBJWEkuVGV4dHVyZSB7XG4gICAgZ3JpZFNpemU/OiB7XG4gICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgeTogbnVtYmVyO1xuICAgICAgICB1cGRhdGVJZDogbnVtYmVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJFTUVNQkVSX1RZUEUgPSAncmVtZW1iZXInO1xuZXhwb3J0IHR5cGUgUkVNRU1CRVJfVFlQRSA9ICdyZW1lbWJlcic7XG5leHBvcnQgaW50ZXJmYWNlIFJlbWVtYmVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBSRU1FTUJFUl9UWVBFLFxufVxuXG5lbnVtIFZpc2liTGlzdGVuZXJMZXZlbCB7XG4gICAgTk9UX05FRURFRCxcbiAgICBSRU1FTUJFUixcbiAgICBQRVJTSVNURU5ULFxufVxuXG5mdW5jdGlvbiBsZXJwQ29sb3IoYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHRyID0gKChhID4+IDE2KSAmIDB4RkYpICogKDEgLSB0KSArICgoYiA+PiAxNikgJiAweEZGKSAqIHQ7XG4gICAgbGV0IHRnID0gKChhID4+IDgpICYgMHhGRikgKiAoMSAtIHQpICsgKChiID4+IDgpICYgMHhGRikgKiB0O1xuICAgIGxldCB0YiA9IChhICYgMHhGRikgKiAoMSAtIHQpICsgKGIgJiAweEZGKSAqIHQ7XG4gICAgcmV0dXJuIHRyIDw8IDE2IHwgdGcgPDwgOCB8IHRiO1xufVxuXG5leHBvcnQgY29uc3QgUE9JTlRfUkFESVVTID0gMTI7XG5cbmV4cG9ydCBjb25zdCBQSVhJX0dSQVBISUNfVFlQRSA9ICdwaXhpX2dyYXBoaWMnO1xuZXhwb3J0IHR5cGUgUElYSV9HUkFQSElDX1RZUEUgPSB0eXBlb2YgUElYSV9HUkFQSElDX1RZUEU7XG5cbi8qKlxuICogTWFuYWdlczpcbiAqIC0gRHJhd2luZyBlbGVtZW50c1xuICogLSBTZWxlY3Rpb24gaGlnaGxpZ2h0aW5nXG4gKiAtIEVsZW1lbnQgdmlzaWJpbGl0eS9yZW1lbWJlcmluZ1xuICogLSBMYXllciBvcmRlcmluZ1xuICogLSBQb3NpdGlvbi9UcmFuc2xhdGlvbiB1cGRhdGVzXG4gKiAtIEJpdC1ieS1iaXQgcmVtZW1iZXJpbmcgKGJhY2tncm91bmQgZGlzY292ZXJ5KVxuICogLSBJbnRlcmFjdGlvbiBzZXR1cFxuICpcbiAqIFRPRE86IHdlIGNvdWxkIHVzZSBhIFBhcnRpY2xlU3lzdGVtIGluIHNvbWUgaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBQaXhpR3JhcGhpY1N5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJWElfR1JBUEhJQ19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIElOVEVSQUNUSU9OX1RZUEVdO1xuICAgIHJlYWRvbmx5IHByb3ZpZGVzID0gW0dSQVBISUNfVFlQRV07XG5cbiAgICB3b3JsZDogV29ybGQ7XG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBpeGlHcmFwaGljQ29tcG9uZW50PihHUkFQSElDX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG4gICAgcmVtZW1iZXJTdG9yYWdlID0gbmV3IEZsYWdFY3NTdG9yYWdlKFJFTUVNQkVSX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgdGV4dFN5c3RlbTogVGV4dFN5c3RlbTtcbiAgICBwaXhpQm9hcmRTeXN0ZW06IFBpeGlCb2FyZFN5c3RlbTtcbiAgICBpbnRlcmFjdGlvblN5c3RlbTogSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgcGxheWVyU3lzdGVtPzogUGxheWVyU3lzdGVtO1xuICAgIHJlbmRlclRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgY2lyY2xlVGV4PzogUElYSS5UZXh0dXJlO1xuXG4gICAgbWFzdGVyVmlzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMudGV4dFN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRFWFRfVFlQRSkgYXMgVGV4dFN5c3RlbTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5yZW1lbWJlclN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlZCcsIHRoaXMub25Db21wb25lbnRSZW1vdmVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3NlbGVjdGlvbl9iZWdpbicsIHRoaXMub25TZWxlY3Rpb25CZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignc2VsZWN0aW9uX2VuZCcsIHRoaXMub25TZWxlY3Rpb25FbmQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIHRoaXMub25CQkJWaXNpYmlsaXR5U3ByZWFkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZXJpYWxpemUnLCB0aGlzLm9uU2VyaWFsaXplLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdmb3JnZXQnLCB0aGlzLm9uRm9yZ2V0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgc3ByZWFkVmlzID0gZmFsc2U7XG4gICAgICAgIGxldCBjb206IFBpeGlHcmFwaGljQ29tcG9uZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgY29tID0gYyBhcyBQaXhpR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3RpdmUoY29tLCBwb3MsIHRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eUxpc3RlbmVyKGNvbSk7XG5cbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQTEFZRVJfVklTSUJMRV9UWVBFKSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IHJlbWVtYmVyZWQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUkVNRU1CRVJfVFlQRSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tLCBjb20uZGlzcGxheSwgdHJ1ZSwgISFwdj8udmlzaWJsZSwgcmVtZW1iZXJlZCk7XG4gICAgICAgICAgICBjb20uX2JpdEJ5Qml0ID0gdGhpcy5uZWVkc0JpdEJ5Qml0KGNvbSwgY29tLmRpc3BsYXkpO1xuICAgICAgICAgICAgc3ByZWFkVmlzID0gY29tLl9iaXRCeUJpdDtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFRSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IGMgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgc3ByZWFkVmlzID0gISFjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUkVNRU1CRVJfVFlQRSkge1xuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tLCBjb20uZGlzcGxheSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBoZXJlP1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNwcmVhZFZpcyAmJiBjb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCQkJWaXNBcm91bmQoY29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNwcmVhZFZpcyA9IGZhbHNlO1xuICAgICAgICBsZXQgY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoYy50eXBlID09PSBHUkFQSElDX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IGMgYXMgUGl4aUdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnJ1bk1ldGhvZHMoY29tLCBjb20uZGlzcGxheSk7Ly8gcnVuIGRlbGF5ZWQgbWV0aG9kcyAobGlrZSBfY2hpbGRyZW5BZGQsIF9jaGlsZHJlblJlcGxhY2UgJiBjbykuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aXZlKGNvbSwgcG9zLCB0cmFucyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUExBWUVSX1ZJU0lCTEVfVFlQRSkgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCByZW1lbWJlcmVkID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCBwdj8udmlzaWJsZSA/PyB0cnVlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIGNvbS5fYml0QnlCaXQgPSB0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSBjb20uX2JpdEJ5Qml0O1xuXG4gICAgICAgICAgICBpZiAoJ2ludGVyYWN0aXZlJyBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcmFjdGl2ZShjb20sIHBvcywgdHJhbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUE9TSVRJT05fVFlQRSkge1xuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwb3MgPSBjIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBUUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSBjIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIHNwcmVhZFZpcyA9ICEhY29tLl9iaXRCeUJpdDtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFBMQVlFUl9WSVNJQkxFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwdiA9IGMgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcblxuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChwdi5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGxldCByZW1lbWJlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY29tLl92aXNpYkxpc3RlbmVyID09PSBWaXNpYkxpc3RlbmVyTGV2ZWwuUkVNRU1CRVIgJiYgcHYudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJFTUVNQkVSX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eTogYy5lbnRpdHksXG4gICAgICAgICAgICAgICAgfSBhcyBSZW1lbWJlckNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLnJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZW1lbWJlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1hc3RlclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGNvbSwgY29tLmRpc3BsYXksIHRydWUsIHB2LnZpc2libGUsIHJlbWVtYmVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNwcmVhZFZpcyAmJiBjb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCQkJWaXNBcm91bmQoY29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmVkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBHUkFQSElDX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoKGMgYXMgR3JhcGhpY0NvbXBvbmVudCkuZGlzcGxheSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBUUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgbGV0IGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgKGMgYXMgVHJhbnNmb3JtQ29tcG9uZW50KSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQgfHwgIWNvbS5fYml0QnlCaXQpIHJldHVybjtcbiAgICAgICAgICAgIC8vIE5vdyB5b3UncmUgdmlzaWJsZSEgc2F5IGhlbGxvXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUkVNRU1CRVJfVFlQRSAmJiB0aGlzLndvcmxkLmlzRGVzcGF3bmluZy5pbmRleE9mKGMuZW50aXR5KSA8IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChjb21wLl92aXNpYkxpc3RlbmVyID09PSBWaXNpYkxpc3RlbmVyTGV2ZWwuUkVNRU1CRVIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEuYWRkUGxheWVyVmlzTGlzdGVuZXIoY29tcC5lbnRpdHksIGNvbXAuaXNXYWxsKTtcbiAgICAgICAgICAgICAgICAodGhpcy53b3JsZC5zeXN0ZW1zLmdldChWSVNJQklMSVRZX0FXQVJFX1RZUEUpIGFzIFZpc2liaWxpdHlBd2FyZVN5c3RlbSk/Lm1hbnVhbFJlY29tcHV0ZVdhbGwoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUExBWUVSX1ZJU0lCTEVfVFlQRSkgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCByZW1lbWJlcmVkID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFJFTUVNQkVSX1RZUEUpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGNvbXAsIGNvbXAuZGlzcGxheSwgdHJ1ZSwgISFwdj8udmlzaWJsZSwgcmVtZW1iZXJlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykge1xuICAgICAgICAgICAgbGV0IHNldCA9IHJlcyBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XG4gICAgICAgICAgICBpZiAoISgndmlzaW9uVHlwZScgaW4gY2hhbmdlcykpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKHNldC52aXNpb25UeXBlID09PSAnZG0nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXN0ZXJWaXNpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjLCBjLmRpc3BsYXksIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0LnZpc2lvblR5cGUgPT09ICdycCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc3RlclZpc2liaWxpdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBMQVlFUl9WSVNJQkxFX1RZUEUpIGFzIFBsYXllclZpc2libGVDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZW0gPSB0aGlzLnJlbWVtYmVyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGMsIGMuZGlzcGxheSwgdHJ1ZSwgcHY/LnZpc2libGUsIHJlbSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB2aXNpb24gdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghKCd3aWR0aCcgaW4gY2hhbmdlcykpIHJldHVybjtcbiAgICAgICAgICAgIC8vIFlvdSBhcmUgbGl0ZXJhbGx5IHNhdGFuLCBJIGhhdGUgeW91LlxuXG4gICAgICAgICAgICBsZXQgcG9zU3RvID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgICAgICBsZXQgdHJhblN0byA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFRSQU5TRk9STV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFRyYW5zZm9ybUNvbXBvbmVudD47XG5cbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9yRWFjaEVsKGMsIGMuZGlzcGxheSxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRWxlbWVudFR5cGUuSU1BR0UgJiYgKGUgYXMgSW1hZ2VFbGVtZW50KS5zY2FsZSA9PT0gSW1hZ2VTY2FsZU1vZGUuR1JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0by5nZXRDb21wb25lbnQoYy5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFuID0gdHJhblN0by5nZXRDb21wb25lbnQoYy5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjLCBlLCBwb3MsIHRyYW4sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSwgeyBzaGFwZTogdGhpcy5jcmVhdGVTaGFwZShlLCBwb3MsIHRyYW4pfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZWxlY3Rpb25CZWdpbihlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYywgYy5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZWxlY3Rpb25FbmQoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX3NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjLCBjLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkZvcmdldChkYXRhOiBGb3JnZXREYXRhKSB7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhLmVudGl0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXAgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbSA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHJlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgcmVtZW1iZXIgdGhpcyFcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChyZW0pO1xuXG4gICAgICAgICAgICAgICAgLypsZXQgcHYgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUExBWUVSX1ZJU0lCTEVfVFlQRSkgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsZXQgcmVtZW1iZXJlZCA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGNvbXAsIGNvbXAuZGlzcGxheSwgdHJ1ZSwgcHY/LnZpc2libGUgPz8gdHJ1ZSwgcmVtZW1iZXJlZCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHlMaXN0ZW5lcihjb21wKTsqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29tcC5fYml0QnlCaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjb21wLCBjb21wLmRpc3BsYXksIChpbWcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHcgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0ucmVuZGVyZXIucmVuZGVyKHcsIGltZy5fcmVuVGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLl92aXNNYXBDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCQkJWaXNBcm91bmQoY29tcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQkJCVmlzaWJpbGl0eVNwcmVhZChkYXRhOiBWaXNpYmlsaXR5U3ByZWFkRGF0YSk6IHZvaWQge1xuICAgICAgICBsZXQgaXRlciA9IHRoaXMuaW50ZXJhY3Rpb25TeXN0ZW0ucXVlcnkoc2hhcGVBYWJiKGRhdGEuYWFiYiksIGMgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbSAhPT0gdW5kZWZpbmVkICYmIGNvbS5fYml0QnlCaXQgPT09IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBoZXJlIHRoZW4gdGhlIGNvbXBvbmVudCBleGlzdHMsIHdlIGNoZWNrZWQgaXQgaW4gdGhlIGl0ZXJhdG9yXG4gICAgICAgICAgICBsZXQgY21wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkhO1xuICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY21wLCBjbXAuZGlzcGxheSwgKGltZykgPT4gdGhpcy51cGRhdGVCQkJWaXNpYmlsaXR5KGRhdGEsIGNtcCwgaW1nKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2VyaWFsaXplKGRhdGE6IFNlcmlhbGl6ZURhdGEpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hhbmdlZExpc3Q6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc0NvbXAgPSAoY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb20uX2JpdEJ5Qml0KSByZXR1cm47XG4gICAgICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSwgKGltZykgPT4gY2hhbmdlZCB8fD0gdGhpcy5leHRyYWN0VmlzaWJpbGl0eShpbWcpKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkKSBjaGFuZ2VkTGlzdC5wdXNoKGNvbS5lbnRpdHkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkYXRhLm9wdGlvbnMub25seSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YS5vcHRpb25zLm9ubHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21wKGNvbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICA7cHJvY2Vzc0NvbXAoY29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkTGlzdCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFLCBjaGFuZ2VkTGlzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTElTVEVORVJTIERPTkUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgdXBkYXRlSW50ZXJhY3RpdmUoY29tcDogUGl4aUdyYXBoaWNDb21wb25lbnQsIHBvczogSVBvaW50RGF0YSwgdHJhbnM6IFRyYW5zZm9ybUNvbXBvbmVudCB8IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgaW50ZXJhY3RpdmVDbXAgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgaWYgKGNvbXAuaW50ZXJhY3RpdmUgJiYgaW50ZXJhY3RpdmVDbXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBJTlRFUkFDVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHNlbGVjdFByaW9yaXR5OiBjb21wLmRpc3BsYXkucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgc25hcEVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hhcGU6IHRoaXMuY3JlYXRlU2hhcGUoY29tcC5kaXNwbGF5LCBwb3MsIHRyYW5zKSxcbiAgICAgICAgICAgIH0gYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjb21wLmludGVyYWN0aXZlICYmIGludGVyYWN0aXZlQ21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGludGVyYWN0aXZlQ21wKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY29tcG9uZW50IGNoYW5nZXMgaW4gaW50ZXJhY3RvclxuICAgICAgICAgICAgaWYgKGNvbXAuZGlzcGxheS50eXBlID09PSBFbGVtZW50VHlwZS5JTUFHRSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0ZXh0dXJlIGhhcyBjaGFuZ2VkIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBpbnRlcmFjdG9yLlxuICAgICAgICAgICAgICAgIGxldCBlbCA9IGNvbXAuZGlzcGxheSBhcyBQaXhpSW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChlbC50ZXh0dXJlICE9PSBlbC5fb2xkVGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjb21wLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSwge3NoYXBlOiB0aGlzLmNyZWF0ZVNoYXBlKGVsLCBwb3MsIHRyYW5zKX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU2hhcGUoY29tcDogUGl4aURpc3BsYXlFbGVtZW50LCBwb3M6IElQb2ludERhdGEsIHRyYW5zOiBUcmFuc2Zvcm1Db21wb25lbnQgfCB1bmRlZmluZWQpOiBTaGFwZSB7XG4gICAgICAgIHN3aXRjaCAoY29tcC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkNPTlRBSU5FUjpcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHRoZSByb290IGVsZW1lbnQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUsIHRoZSBvdGhlcnMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtYWtlIGludGVyYWN0aXZlIGNvbnRhaW5lcicpO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1ha2UgaW50ZXJhY3RpdmUgdGV4dCcpO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgbGV0IHcgPSBjLnRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBjLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGxldCBhYWJiO1xuXG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gdHJhbnM/LnNjYWxlIHx8IDE7XG4gICAgICAgICAgICAgICAgbGV0IHN5ID0gdHJhbnM/LnNjYWxlIHx8IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoYy5zY2FsZSA9PSBJbWFnZVNjYWxlTW9kZS5HUklEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZUdyaWRTaXplKGMudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdzaXplID0gKGMudGV4dHVyZSBhcyBDdXN0b21UZXh0dXJlKS5ncmlkU2l6ZSEhO1xuICAgICAgICAgICAgICAgICAgICBzeCA9IGdzaXplLnggKiBncmlkLnNpemUgKiBzeDtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSBnc2l6ZS55ICogZ3JpZC5zaXplICogc3k7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWFiYiA9IEFhYmIuZnJvbVBvaW50QW5jaG9yKHBvcywge3g6IHcsIHk6IGh9LCBjLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgYWFiYi5zY2FsZShzeCwgc3ksIGFhYmIpO1xuICAgICAgICAgICAgICAgIGxldCBvYmIgPSBPYmIucm90YXRlQWFiYihhYWJiLmNvcHkoKSwgdHJhbnM/LnJvdGF0aW9uIHx8IDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZU9iYihvYmIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOiB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIExpbmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZUxpbmUobmV3IExpbmUoXG4gICAgICAgICAgICAgICAgICAgIHBvcy54LCBwb3MueSwgcG9zLnggKyBjLnZlYy54LCBwb3MueSArIGMudmVjLnlcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGVQb2ludChuZXcgUElYSS5Qb2ludChwb3MueCwgcG9zLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHZpc2liaWxpdHkgZnJvbSB0aGUgcmVuZGVydGV4dHVyZSBvZiB0aGUgaW1hZ2UgKG11c3QgYmUgVklTQkxFX0JJVF9CWV9CSVQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGMgdGhlIGltYWdlIGZyb20gd2hpY2ggdGhlIHZpc2liaWxpdHkgbWFwIHdpbGwgYmUgZXh0cmFjdGVkLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBvbmx5IGlmIHRoZSB2aXNpYmlsaXR5IG1hcCBoYXMgYmVlbiBtb2RpZmllZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZXh0cmFjdFZpc2liaWxpdHkoYzogUGl4aUltYWdlRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoYy5fdmlzTWFwQ2hhbmdlZCAhPT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGMudmlzTWFwID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5waXhpQm9hcmRTeXN0ZW0ucmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IHRleCA9IGMuX3JlblRleDtcbiAgICAgICAgaWYgKHRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbGV0IGZyYW1lID0gdGV4LmZyYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZCh0ZXgpO1xuICAgICAgICBsZXQgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheSh0ZXgud2lkdGggKiB0ZXguaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgICAgIGZyYW1lLngsXG4gICAgICAgICAgICBmcmFtZS55LFxuICAgICAgICAgICAgZnJhbWUud2lkdGgsXG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQsXG4gICAgICAgICAgICBnbC5SR0JBLFxuICAgICAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGZ1Y2tMZW4gPSB3ZWJnbFBpeGVscy5sZW5ndGggLyA0O1xuICAgICAgICBsZXQgbmV3TGVuID0gKCh3ZWJnbFBpeGVscy5sZW5ndGggLyA0IC0gMSkgPj4+IDUpICsgMTtcbiAgICAgICAgbGV0IHRhcmdldCA9IG5ldyBVaW50MzJBcnJheShuZXdMZW4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1Y2tMZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IHBpeGVsID0gd2ViZ2xQaXhlbHNbaSAqIDQgKyAzXTtcblxuICAgICAgICAgICAgaWYgKChwaXhlbCAmIDB4ODApICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2kgPj4+IDVdIHw9IDEgPDwgKGkgJiAwYjExMTExKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjLnZpc01hcCA9IG5ldyBVaW50OEFycmF5KHRhcmdldC5idWZmZXIpO1xuICAgICAgICBjLl92aXNNYXBDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFZpc2liaWxpdHkoYzogUGl4aUltYWdlRWxlbWVudCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IGMudGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYy50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBpZiAoYy5fcmVuVGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX3JlblRleCA9IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBjLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgYnQgPSBjLl9yZW5UZXguYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAoYnQgYXMgYW55KS5jbGVhckNvbG9yID0gWzAuMCwgMC4wLCAwLjAsIDAuMF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYy52aXNNYXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0ZXhPcHRzID0ge1xuICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgIGZvcm1hdDogUElYSS5GT1JNQVRTLlJHQkEsXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHRleERhdGEgPSBuZXcgVWludDMyQXJyYXkoYy50ZXh0dXJlLndpZHRoICogYy50ZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgbGV0IHZpc01hcCA9IGMudmlzTWFwO1xuICAgICAgICBpZiAoKGMudmlzTWFwLmJ5dGVPZmZzZXQgJiAoMHg0IC0gMSkpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBOb3QgYWxpZ25lZCwgcmVhbGlnblxuICAgICAgICAgICAgdmlzTWFwID0gYy52aXNNYXAuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNldCA9IG5ldyBCaXRTZXQobmV3IFVpbnQzMkFycmF5KHZpc01hcC5idWZmZXIsIHZpc01hcC5ieXRlT2Zmc2V0LCB2aXNNYXAuYnl0ZUxlbmd0aCAvIDQpKTtcbiAgICAgICAgbGV0IGxlbiA9IHRleERhdGEubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0ZXhEYXRhW2ldID0gc2V0LmdldChpKSA/IDB4RkZGRkZGRkYgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ5dGVEYXRhID0gbmV3IFVpbnQ4QXJyYXkodGV4RGF0YS5idWZmZXIpO1xuICAgICAgICBsZXQgcmVzb3VyY2UgPSBuZXcgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2UoYnl0ZURhdGEsIHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgICAgbGV0IGJhc2VUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUocmVzb3VyY2UsIHRleE9wdHMpXG5cbiAgICAgICAgbGV0IHRleCA9IG5ldyBQSVhJLlRleHR1cmUoYmFzZVRleHR1cmUpO1xuICAgICAgICBsZXQgbHVtU3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleCk7XG4gICAgICAgIGx1bVNwcml0ZS5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLlNSQ19JTjtcblxuICAgICAgICBsZXQgbWFwU3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKGMudGV4dHVyZSk7XG4gICAgICAgIGxldCBjbnQgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgY250LmFkZENoaWxkKG1hcFNwcml0ZSwgbHVtU3ByaXRlKTtcblxuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlci5yZW5kZXIoY250LCBjLl9yZW5UZXgsIHRydWUpO1xuXG4gICAgICAgIGx1bVNwcml0ZS5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICBjLl92aXNNYXBDaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JFYWNoRWwoY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBQaXhpRGlzcGxheUVsZW1lbnQsIGY6IChpbWc6IFBpeGlEaXNwbGF5RWxlbWVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBmKGltZyk7XG4gICAgICAgIGlmIChpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JFYWNoRWwoY29tLCBjLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZG9PbkJpdEJ5Qml0KGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQsIGltZzogUGl4aURpc3BsYXlFbGVtZW50LCBmOiAoaW1nOiBQaXhpSW1hZ2VFbGVtZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmIChpbWcudHlwZSA9PSBFbGVtZW50VHlwZS5JTUFHRSAmJiAoaW1nIGFzIFBpeGlJbWFnZUVsZW1lbnQpLnZpc2liID09PSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUKSB7XG4gICAgICAgICAgICBmKGltZyBhcyBQaXhpSW1hZ2VFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNvbSwgYywgZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG5lZWRzQml0QnlCaXQoY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBQaXhpRGlzcGxheUVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGltZy50eXBlID09IEVsZW1lbnRUeXBlLklNQUdFICYmIChpbWcgYXMgUGl4aUltYWdlRWxlbWVudCkudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNCaXRCeUJpdChjb20sIGMpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVCQkJWaXNBcm91bmQoY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCkge1xuICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb20uZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgbGV0IGFhYmIgPSBzaGFwZVRvQWFiYihpbnRlci5zaGFwZSk7XG4gICAgICAgIHRoaXMucGxheWVyU3lzdGVtIS5nZXRTcHJlYWREYXRhRm9yQWFiYihhYWJiLCBkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNvbSwgY29tLmRpc3BsYXksIChpbWcpID0+IHRoaXMudXBkYXRlQkJCVmlzaWJpbGl0eShkYXRhLCBjb20sIGltZykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUJCQlZpc2liaWxpdHkoZGF0YTogVmlzaWJpbGl0eVNwcmVhZERhdGEsIGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQsIGltZzogUGl4aUltYWdlRWxlbWVudCkge1xuICAgICAgICAvLyAgICAgIFBhcnQgMS4gV2hhdD9cbiAgICAgICAgLy8gU28sIHdoYXQgZG9lcyB0aGlzIHNwYWdoZXR0aSBtZXNzIGRvPyBHb29kIHF1ZXN0aW9uIVxuICAgICAgICAvLyBXZSBoYXZlIHBsYXllcnMgYW5kIGxpZ2h0cywgc29tZSBwbGF5ZXJzIGNhbiBzZWUgd2l0aG91dCBsaWdodHMgYW5kIG90aGVycyBjYW4ndFxuICAgICAgICAvLyBUaGUgdGFzayBpcyB0byB1cGRhdGUgdGhlIHJlbmRlcnRleHR1cmUgb2YgdGhlIGJhY2tncm91bmQgY29tcG9uZW50IGFkZGluZyB0aGUgdmlzaWJsZSBzcG90cyB0byBpdC5cbiAgICAgICAgLy8gVGhlIHZpc2libGUgc3BvdHMgYXJlOiBUaGUgbWVzaGVzIG9mIHRoZSBwbGF5ZXJzIHdpdGggbmlnaHQgdmlzaW9uIGVuYWJsZWQgYW5kIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlXG4gICAgICAgIC8vIHVuaW9uIG9mIHRoZSB2aXNpb24gbWVzaCBvZiB0aGUgbm9ybWFsIHBsYXllcnMgd2l0aCB0aGUgdW5pb24gb2YgdGhlIHZpc29uIG1lc2hlcyBvZiB0aGUgbGlnaHRzLlxuICAgICAgICAvLyBDb21tb24gY2FzZTogMSBOViBwbGF5ZXIgMCBsaWdodHMsIDEgcGxheWVyIG11bHRpcGxlIGxpZ2h0cywgbXVsdGlwbGUgcGxheWVycyAxIGxpZ2h0XG4gICAgICAgIC8vIFBvc3NpYmxlIChidXQgdW5jb21tb24pIGNhc2VzOiB4IE5WIHBsYXllcnMsIHkgbm9ybWFsIHBsYXllcnMsIHogbGlnaHRzICh3aXRoIHgsIHksIHogbmF0dXJhbHMpLlxuXG4gICAgICAgIC8vICAgICAgUGFydCAyLiBIb3c/XG4gICAgICAgIC8vIFRoZSBpbml0aWFsIGlkZWEgaXMgc2ltcGxlLCByZW5kZXIgYW55dGhpbmcgb24gdGhlIGJrZy5fcmVuVGV4IGFuZCB0aGVuIHJlbmRlciB0aGUgb3JpZ2luYWwgdGV4dHVyZSB3aXRoXG4gICAgICAgIC8vIGJsZW5kTW9kZSA9IFNSQ19JTiwgYW55IHNwb3Qgd2l0aCBhbHBoYSA9IDEgd2lsbCB0aGVuIGJlIHJlcGxhY2VkIHdpdGggdGhlIGNvcnJlY3QgdGV4dHVyZS5cbiAgICAgICAgLy8gVGhlIG5pZ2h0IHZpc2lvbiBwbGF5ZXJzIHJlbmRlcmluZyBpcyBxdWl0ZSBzaW1wbGUsIGp1c3QgcmVuZGVyIHRoZSBtZXNoZXMgYmVmb3JlIHRoZSBmaW5hbCB0ZXh0dXJlIHJlbmRlclxuICAgICAgICAvLyBUaGUgbm9ybWFsIHBsYXllcnMgd2lsbCBiZSBhIGJpdCBkaWZmZXJlbnQgc2luY2Ugd2UgbmVlZCB0byBpbnRlcnNlY3QgdGhlaXIgbWVzaGVzIHdpdGggdGhlIGxpZ2h0IG1lc2guXG4gICAgICAgIC8vIFRvIGRvIHRoYXQgd2UgY2FuIHJlbmRlciBhbGwgdGhlIHBsYXllcnMgbWVzaGVzIGluIGEgZnJhbWVidWZmZXIgQSwgdGhlbiByZW5kZXIgYWxsIG9mIHRoZSBsaWdodHMgaW4gYW5vdGhlclxuICAgICAgICAvLyBmcmFtZSBidWZmZXIgQiwgdGhlbiByZW5kZXIgQSBvbnRvIEIgd2l0aCBibGVuZE1vZGUgPSBTUkNfSU4gdG8gY3JlYXRlIGEgc29ydCBvZiB1bmlvbiBvZiB0aGUgdHdvLlxuICAgICAgICAvLyBPbmNlIHRoYXQgaXMgZG9uZSB3ZSBjYW4gcmVuZGVyIEIgaW50byB0aGUgYmtnLl9yZW5UZXggYW5kIHByb2NlZWQgbm9ybWFsbHkuXG4gICAgICAgIC8vIEFub3RoZXIgd2F5IHRvIGRvIHRoaXMgdXNpbmcgb25seSBhIHNpbmdsZSByZW5kZXJ0ZXh0dXJlIGlzIHRvIHVzZSB0aGUgc3RlbmNpbCBidWZmZXIsIGJ1dCBpdCB3aWxsIGRvdWJsZSB0aGVcbiAgICAgICAgLy8gbWVzaCByZW5kZXIgY2FsbHMgKGFuZCBzaW5jZSB0aGV5IGFyZSBub3QgYnVmZmVyZWQsIGl0J3MgYSBzbG93IG9wZXJhdGlvbilcbiAgICAgICAgLy8gSSBkb24ndCB0aGluayB0aGF0IHRoZXJlIGlzIGFub3RoZXIgd2F5IHRvIHBlcmZvcm0gdGhpcyBpbiB0aGUgZ2VuZXJhbCBjYXNlLCBwbGVhc2UgcHJvdmUgbWUgd3JvbmcuXG4gICAgICAgIC8vIFRPRE86IG1heWJlIHdlIGNhbiBvcHRpbWl6ZSB0aGlzIHdoZW4gb25seSAxIHBsYXllciBhbmQgMSBsaWdodCBpcyBwcmVzZW50IChsaWtlLCBhdm9pZGluZyAxIG9mIHRoZSAyIGZyYW1lYnVmZmVycykuXG5cbiAgICAgICAgLy8gU2tpcCBFVkVSWVRISU5HIGlmIHRoaXMgZW50aXR5IGlzIGhpZGRlbi5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbS5lbnRpdHksIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47XG5cbiAgICAgICAgLy9jb25zb2xlLnRpbWUoJ3VwZGF0ZVZpc2liaWxpdHknKTtcblxuICAgICAgICBsZXQgcmVuZGVyZXIgPSB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlcjtcblxuICAgICAgICBsZXQgbG9jYWxDbnQgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgLy8gU2V0dXAgbG9jYWwgdHJhbnNmb3JtXG4gICAgICAgIGxldCBtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBsZXQgcGl4aSA9IGltZy5fcGl4aSE7XG4gICAgICAgIG0udHJhbnNsYXRlKFxuICAgICAgICAgICAgLXBpeGkucG9zaXRpb24ueCxcbiAgICAgICAgICAgIC1waXhpLnBvc2l0aW9uLnlcbiAgICAgICAgKTtcbiAgICAgICAgbS5yb3RhdGUoLXBpeGkucm90YXRpb24pO1xuICAgICAgICBsZXQgaW52U2NhbGUgPSAxL3BpeGkuc2NhbGUueDtcbiAgICAgICAgbS5zY2FsZShpbnZTY2FsZSwgaW52U2NhbGUpO1xuICAgICAgICBtLnRyYW5zbGF0ZShpbWcudGV4dHVyZS53aWR0aCAvIDIsIGltZy50ZXh0dXJlLmhlaWdodCAvIDIpO1xuICAgICAgICBsb2NhbENudC50cmFuc2Zvcm0uc2V0RnJvbU1hdHJpeChtKTtcblxuICAgICAgICBsZXQgd29ybGRDbnQgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IHBsYXllcnMgd2l0aG91dCBuaWdodCB2aXNpb24gKGFuZCB0aGVyZSBhcmUgbGlnaHRzKSByZW5kZXIgdGhlbSAoVEhJUyBJUyBTTE9XISlcbiAgICAgICAgbGV0IHRleCwgdGV4MiwgbmlnaHRTcHJpdGU7XG4gICAgICAgIGlmIChkYXRhLnBsYXllcnMubGVuZ3RoICE9PSAwICYmIGRhdGEubGlnaHRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGV4ID0gKHRoaXMucmVuZGVyVGV4dHVyZVBvb2wgYXMgYW55KS5nZXRPcHRpbWFsVGV4dHVyZShwaXhpLnRleHR1cmUud2lkdGgsIHBpeGkudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgdGV4MiA9ICh0aGlzLnJlbmRlclRleHR1cmVQb29sIGFzIGFueSkuZ2V0T3B0aW1hbFRleHR1cmUocGl4aS50ZXh0dXJlLndpZHRoLCBwaXhpLnRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIGRhdGEucGxheWVycykge1xuICAgICAgICAgICAgICAgIGxvY2FsQ250LmFkZENoaWxkKHBsYXllci5tZXNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBwbGF5ZXJzIHZpc2liaWxpdHkgbWVzaGVzIG9udG8gdGV4XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIobG9jYWxDbnQsIHRleCwgdHJ1ZSk7XG4gICAgICAgICAgICBsb2NhbENudC5yZW1vdmVDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBsaWdodCBvZiBkYXRhLmxpZ2h0cykge1xuICAgICAgICAgICAgICAgIGxpZ2h0Lm1lc2guYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5BREQ7XG4gICAgICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQobGlnaHQubWVzaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwbGF5ZXJTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4KTtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgbGlnaHRzIG9udG8gdGV4MiwgdGhlbiByZW5kZXIgdGV4IGFzIEJMRU5EX01PREUuU1JDX0lOIHRvIGZpbHRlciBvdXQgd2hlcmUgdGhlIGxpZ2h0cyB3ZXJlIG5vdFxuICAgICAgICAgICAgLy8gcHJlc2VudC5cbiAgICAgICAgICAgIHdvcmxkQ250LmFkZENoaWxkKGxvY2FsQ250LCBwbGF5ZXJTcHJpdGUpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyKHdvcmxkQ250LCB0ZXgyLCB0cnVlKTtcbiAgICAgICAgICAgIHdvcmxkQ250LnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICBsb2NhbENudC5yZW1vdmVDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGV4MiB0byB0aGUgbWFpbiBwaGFzZVxuICAgICAgICAgICAgbmlnaHRTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4Mik7XG4gICAgICAgICAgICBuaWdodFNwcml0ZS5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgICAgIHdvcmxkQ250LmFkZENoaWxkKG5pZ2h0U3ByaXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBkYXRhLm5pZ2h0VmlzUGxheWVycykge1xuICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQocGxheWVyLm1lc2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9yaWdUZXggPSBuZXcgUElYSS5TcHJpdGUoaW1nLnRleHR1cmUpO1xuICAgICAgICBvcmlnVGV4LmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuU1JDX0lOO1xuXG4gICAgICAgIHdvcmxkQ250LmFkZENoaWxkKGxvY2FsQ250LCBvcmlnVGV4KVxuXG4gICAgICAgIC8vIFJlbmRlciBldmVyeXRoaW5nIHRvIGJrZy5fcmVuVGV4IGFuZCB0aGVuIHJlZHJhdyB0aGUgb3JpZ2luYWwgb25seSB3aGVyZSBpcyBhbHBoYT0xLlxuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlci5yZW5kZXIod29ybGRDbnQsIGltZy5fcmVuVGV4LCBmYWxzZSk7XG4gICAgICAgIGltZy5fdmlzTWFwQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gQ2xlYW51cCB0aW1lIChkb24ndCB3b3JyeSwgSSdtIHJlY3ljbGluZyBhbmQgdGhlcmUncyBhIGdhcmJhZ2UgY2xlYW5lciwgd2UncmUgZWNvIGZyaWVuZGx5ISlcbiAgICAgICAgd29ybGRDbnQuZGVzdHJveShERVNUUk9ZX01JTik7XG4gICAgICAgIG9yaWdUZXguZGVzdHJveShERVNUUk9ZX01JTik7XG5cbiAgICAgICAgaWYgKHRleCAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlbmRlclRleHR1cmVQb29sLnJldHVyblRleHR1cmUodGV4KTtcbiAgICAgICAgaWYgKHRleDIgIT09IHVuZGVmaW5lZCkgdGhpcy5yZW5kZXJUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleDIpO1xuICAgICAgICBpZiAobmlnaHRTcHJpdGUgIT09IHVuZGVmaW5lZCkgbmlnaHRTcHJpdGUuZGVzdHJveShERVNUUk9ZX01JTik7XG5cbiAgICAgICAgLy9jb25zb2xlLnRpbWVFbmQoJ3VwZGF0ZVZpc2liaWxpdHknKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoYzogRGlzcGxheUVsZW1lbnQpOiBWaXNpYkxpc3RlbmVyTGV2ZWwge1xuICAgICAgICBsZXQgbGV2ZWw7XG4gICAgICAgIHN3aXRjaCAoYy52aXNpYikge1xuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtYXhpbXVtIGxldmVsLCBubyBuZWVkIGZvciBmdXJ0aGVyIGNoZWNraW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UO1xuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRTpcbiAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVDpcbiAgICAgICAgICAgICAgICBsZXZlbCA9IFZpc2liTGlzdGVuZXJMZXZlbC5OT1RfTkVFREVEO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUjpcbiAgICAgICAgICAgICAgICBsZXZlbCA9IFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaCBvZiBjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBNYXRoLm1heChsZXZlbCwgdGhpcy5jb21wdXRlVmlzaWJpbGl0eUxpc3RlbmVyKGNoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09PSBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVCkgYnJlYWs7Ly8gQWxyZWFkeSBtYXhlZCBvdXQuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGV2ZWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZXN0cm95RWxlbWVudChkZXNjOiBQaXhpRGlzcGxheUVsZW1lbnQsIHJlY3Vyc2l2ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBsZXQgZWxlbSA9IGRlc2MuX3BpeGk7XG5cbiAgICAgICAgaWYgKGVsZW0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHN3aXRjaCAoZGVzYy5fb2xkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkNPTlRBSU5FUjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuSU1BR0U6IHtcbiAgICAgICAgICAgICAgICBsZXQgaW0gPSBkZXNjIGFzIFBpeGlJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgbGV0IGRlc3Ryb3lUZXggPSBpbS5zaGFyZWRUZXh0dXJlICE9PSB0cnVlO1xuICAgICAgICAgICAgICAgIChlbGVtIGFzIFBJWEkuU3ByaXRlKS5kZXN0cm95KHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiBkZXN0cm95VGV4LFxuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZTogZGVzdHJveVRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW0uX3JlblRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGltLl9yZW5UZXguZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkxJTkU6XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5HcmFwaGljcykuZGVzdHJveSh7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIChlbGVtIGFzIFBJWEkuU3ByaXRlKS5kZXN0cm95KERFU1RST1lfTUlOKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuVEVYVDpcbiAgICAgICAgICAgICAgICAoZWxlbSBhcyBQSVhJLlRleHQpLmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzYy5fcGl4aSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGVzYy5fb2xkVHlwZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVsIG9mIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGVsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRWxlbWVudChjbXA6IFBpeGlHcmFwaGljQ29tcG9uZW50LCBkZXNjOiBQaXhpRGlzcGxheUVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChkZXNjLCBmYWxzZSk7XG5cbiAgICAgICAgbGV0IGRlZkxheWVyID0gdHJ1ZTtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgc3dpdGNoIChkZXNjLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRTpcbiAgICAgICAgICAgICAgICByZXMgPSBuZXcgUElYSS5TcHJpdGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuTElORTpcbiAgICAgICAgICAgICAgICByZXMgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICByZXMgPSBuZXcgUElYSS5TcHJpdGUodGhpcy5jaXJjbGVUZXgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlRleHQoXCJcIik7XG4gICAgICAgICAgICAgICAgcmVzLnBhcmVudExheWVyID0gdGhpcy50ZXh0U3lzdGVtLnRleHRMYXllcjtcbiAgICAgICAgICAgICAgICBkZWZMYXllciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZMYXllciAmJiBjbXAuX2xheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcy5wYXJlbnRHcm91cCA9IGNtcC5fbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJlcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHJlcy56SW5kZXggPSBkZXNjLnByaW9yaXR5O1xuICAgICAgICBkZXNjLl9waXhpID0gcmVzO1xuICAgICAgICBkZXNjLl9vbGRUeXBlID0gZGVzYy50eXBlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5ib2FyZC5hZGRDaGlsZChyZXMpO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5ib2FyZC5zb3J0Q2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRleHR1cmVVcGRhdGVHcmlkU2l6ZSh0ZXg6IEN1c3RvbVRleHR1cmUpOiB2b2lkIHtcbiAgICAgICAgbGV0IHRleElkID0gKHRleCBhcyBhbnkpLl91cGRhdGVJRDtcbiAgICAgICAgaWYgKHRleC5ncmlkU2l6ZSAhPT0gdW5kZWZpbmVkICYmIHRleC5ncmlkU2l6ZS51cGRhdGVJZCAhPT0gdGV4SWQpIHJldHVybjtcblxuICAgICAgICB0ZXguZ3JpZFNpemUgPSB7XG4gICAgICAgICAgICB4OiBNYXRoLmNlaWwodGV4LndpZHRoIC8gU1RBTkRBUkRfR1JJRF9PUFRJT05TLnNpemUpIC8gdGV4LndpZHRoLFxuICAgICAgICAgICAgeTogTWF0aC5jZWlsKHRleC5oZWlnaHQgLyBTVEFOREFSRF9HUklEX09QVElPTlMuc2l6ZSkgLyB0ZXguaGVpZ2h0LFxuICAgICAgICAgICAgdXBkYXRlSWQ6IHRleElkLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVFbGVtZW50VmlzaWJpbGl0eShwYXI6IFBpeGlHcmFwaGljQ29tcG9uZW50LCBkZXNjOiBQaXhpRGlzcGxheUVsZW1lbnQsIHJlY3Vyc2l2ZTogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVZpc2libGU6IGJvb2xlYW4sIHJlbWVtYmVyZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgbGV0IGlzVmlzaWJsZTtcbiAgICAgICAgaWYgKGN1cnJlbnRseVZpc2libGUgfHwgdGhpcy5tYXN0ZXJWaXNpYmlsaXR5KSB7XG4gICAgICAgICAgICBpc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChkZXNjLnZpc2liKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IGN1cnJlbnRseVZpc2libGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuQUxXQVlTX1ZJU0lCTEU6XG4gICAgICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUOlxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSOlxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGUgPSByZW1lbWJlcmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcGl4aSA9IGRlc2MuX3BpeGkhO1xuICAgICAgICBwaXhpLnZpc2libGUgPSBpc1Zpc2libGU7XG5cbiAgICAgICAgaWYgKGRlc2MudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgIGxldCBpbSA9IChkZXNjIGFzIFBpeGlJbWFnZUVsZW1lbnQpO1xuICAgICAgICAgICAgaW0uX3BpeGkhLnRleHR1cmUgPSB0aGlzLm1hc3RlclZpc2liaWxpdHkgPyBpbS50ZXh0dXJlIDogaW0uX3JlblRleCE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkocGFyLCBjLCB0cnVlLCBjdXJyZW50bHlWaXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVmlzaWJpbGl0eUxpc3RlbmVyKGVsOiBQaXhpR3JhcGhpY0NvbXBvbmVudCkge1xuICAgICAgICBsZXQgbGlzdExldmVsID0gdGhpcy5jb21wdXRlVmlzaWJpbGl0eUxpc3RlbmVyKGVsLmRpc3BsYXkpO1xuICAgICAgICBsZXQgb2xkTGlzdExldmVsID0gZWwuX3Zpc2liTGlzdGVuZXIgfHwgVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ7XG4gICAgICAgIGlmIChsaXN0TGV2ZWwgPT09IG9sZExpc3RMZXZlbCkgcmV0dXJuOy8vIE5vIGNoYW5nZXMgcmVwb3J0ZWQuXG5cbiAgICAgICAgbGV0IGlzUmVtZW1iZXJlZCA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChlbC5lbnRpdHkpO1xuXG4gICAgICAgIGxldCBsaXN0ZW5lck5lZWRlZDtcbiAgICAgICAgc3dpdGNoIChsaXN0TGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ6IGxpc3RlbmVyTmVlZGVkID0gZmFsc2U7ICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUjogICBsaXN0ZW5lck5lZWRlZCA9ICFpc1JlbWVtYmVyZWQ7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVDogbGlzdGVuZXJOZWVkZWQgPSB0cnVlOyAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvbGRMaXN0ZW5lck5lZWRlZDtcbiAgICAgICAgc3dpdGNoIChvbGRMaXN0TGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ6IG9sZExpc3RlbmVyTmVlZGVkID0gZmFsc2U7ICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUjogICBvbGRMaXN0ZW5lck5lZWRlZCA9ICFpc1JlbWVtYmVyZWQ7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVDogb2xkTGlzdGVuZXJOZWVkZWQgPSB0cnVlOyAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoeSBiZWZvcmU/IGdvb2QgcXVlc3Rpb24hXG4gICAgICAgIC8vIHdoZW4gd2UgYWRkIHRoZSBsaXN0ZW5lciB3ZSBjb3VsZCBkaXNjb3ZlciBpbnN0YW50bHkgdGhhdCB0aGUgdmlzaWJpbGl0eSBpcyBwcmVzZW50LCB0aHVzIGNhbGxpbmdcbiAgICAgICAgLy8gYSBjYWxsYmFjayB0byB0aGlzIHN5c3RlbSBzYXlpbmcgXCJoaSwgdGhpcyBlbGVtZW50IGluIHdoaWNoIHRoZXJlJ3MgYSB2aXNpYmlsaXR5IGxpc3RlbmVyIGlzIHZpc2libGVcIlxuICAgICAgICAvLyBpZiB3ZSBzZXQgdGhlIGxpc3RlbmVyIGFmdGVyIHRoaXMgdGhlIHN5c3RlbSB3aWxsIHNheSBcIm9oIHJlYWxseSwgYnV0IHRoZXJlJ3Mgbm8gbGlzdGVuZXIgb24gdGhpcyBlbGVtZW50XCJcbiAgICAgICAgLy8gKHllYWggSSBzcGVudCB3YXkgdG9vIG11Y2ggdGltZSB0byBkZWJ1ZyB0aGlzKVxuICAgICAgICBlbC5fdmlzaWJMaXN0ZW5lciA9IGxpc3RMZXZlbDtcbiAgICAgICAgaWYgKGxpc3RlbmVyTmVlZGVkICYmICFvbGRMaXN0ZW5lck5lZWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLmFkZFBsYXllclZpc0xpc3RlbmVyKGVsLmVudGl0eSwgZWwuaXNXYWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICghbGlzdGVuZXJOZWVkZWQgJiYgb2xkTGlzdGVuZXJOZWVkZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3lzdGVtIS5yZW1vdmVQbGF5ZXJWaXNMaXN0ZW5lcihlbC5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBydW5NZXRob2RzKHBhcjogUGl4aUdyYXBoaWNDb21wb25lbnQsIGVsOiBQaXhpRGlzcGxheUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlblJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsLl9jaGlsZHJlbkFkZCA9IGVsLl9jaGlsZHJlblJlcGxhY2U7XG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5SZXBsYWNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5fY2hpbGRyZW5BZGQpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSBlbC5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgZWwuY2hpbGRyZW4ucHVzaCguLi5lbC5fY2hpbGRyZW5BZGQpO1xuICAgICAgICAgICAgZWwuX2NoaWxkcmVuQWRkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5fY2hpbGRyZW5SZW1vdmUpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGVsLl9jaGlsZHJlblJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKGVsLmNoaWxkcmVuLCBjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuX2NoaWxkcmVuUmVtb3ZlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMucnVuTWV0aG9kcyhwYXIsIGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVFbGVtZW50KHBhcjogUGl4aUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCwgcG9zOiBJUG9pbnREYXRhLCB0cmFuczogVHJhbnNmb3JtQ29tcG9uZW50IHwgdW5kZWZpbmVkLCByZWN1cnNpdmU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKGRlc2MuX29sZFR5cGUgIT09IGRlc2MudHlwZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KHBhciwgZGVzYyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZCA9IGRlc2MuX3BpeGkhO1xuXG4gICAgICAgIGlmIChkZXNjLm9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkLnBvc2l0aW9uLnNldChwb3MueCArIGRlc2Mub2Zmc2V0LngsIHBvcy55ICsgZGVzYy5vZmZzZXQueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkLnBvc2l0aW9uLnNldChwb3MueCwgcG9zLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChkZXNjLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBkaW0gPSAoZCBhcyBQSVhJLlNwcml0ZSk7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gKGRlc2MgYXMgUGl4aUltYWdlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnZpc2liID09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGltLnRleHR1cmUgPSB0aGlzLm1hc3RlclZpc2liaWxpdHkgPyBlbC50ZXh0dXJlIDogZWwuX3JlblRleCE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGltLnRleHR1cmUgPSBlbC50ZXh0dXJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaW0uYW5jaG9yLmNvcHlGcm9tKGVsLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gdHJhbnM/LnNjYWxlIHx8IDE7XG4gICAgICAgICAgICAgICAgbGV0IHN5ID0gc3g7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnNjYWxlID09PSBJbWFnZVNjYWxlTW9kZS5HUklEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZUdyaWRTaXplKGRpbS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3NpemUgPSAoZGltLnRleHR1cmUgYXMgQ3VzdG9tVGV4dHVyZSkuZ3JpZFNpemUhITtcbiAgICAgICAgICAgICAgICAgICAgc3ggPSBnc2l6ZS54ICogZ3JpZC5zaXplICogc3g7XG4gICAgICAgICAgICAgICAgICAgIHN5ID0gZ3NpemUueSAqIGdyaWQuc2l6ZSAqIHN5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaW0ucm90YXRpb24gPSB0cmFucz8ucm90YXRpb24gfHwgMDtcbiAgICAgICAgICAgICAgICBkaW0uc2NhbGUuc2V0KHN4LCBzeSk7XG4gICAgICAgICAgICAgICAgZGltLnRpbnQgPSBwYXIuX3NlbGVjdGVkID8gMHg3OTg2Q0IgOiAweEZGRkZGRjtcblxuICAgICAgICAgICAgICAgIGlmIChlbC52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWwuX29sZFRleCAhPT0gZWwudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVmlzaWJpbGl0eShlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLl9yZW5UZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5fcmVuVGV4LmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsLl9yZW5UZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsLl9vbGRUZXggPSBlbC50ZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkxJTkU6IHtcbiAgICAgICAgICAgICAgICBsZXQgZyA9IChkIGFzIFBJWEkuR3JhcGhpY3MpO1xuICAgICAgICAgICAgICAgIGxldCBlbCA9IChkZXNjIGFzIExpbmVFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGcuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgIGcubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgICAgIGcubGluZVN0eWxlKDUsIGVsLmNvbG9yKTtcbiAgICAgICAgICAgICAgICBnLmxpbmVUbyhlbC52ZWMueCwgZWwudmVjLnkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhci5fc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZy5saW5lU3R5bGUoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZy5iZWdpbkZpbGwoMHhlNTEwMTApO1xuICAgICAgICAgICAgICAgICAgICBnLmRyYXdDaXJjbGUoMCwgMCwgMTApO1xuICAgICAgICAgICAgICAgICAgICBnLmVuZEZpbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICBnLmJlZ2luRmlsbChlbC5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIGcuZHJhd0NpcmNsZShlbC52ZWMueCwgZWwudmVjLnksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgZy5lbmRGaWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gKGRlc2MgYXMgUG9pbnRFbGVtZW50KS5jb2xvcjtcbiAgICAgICAgICAgICAgICBpZiAocGFyLl9zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IGxlcnBDb2xvcihjb2xvciwgMHg3OTg2Q0IsIDAuMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChkIGFzIFBJWEkuU3ByaXRlKS50aW50ID0gY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBUZXh0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgbGV0IGcgPSAoZCBhcyBQSVhJLlRleHQpO1xuICAgICAgICAgICAgICAgIGcudGV4dCA9IGVsLnRleHQ7XG4gICAgICAgICAgICAgICAgZy5hbmNob3IuY29weUZyb20oZWwuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBnLnRpbnQgPSBlbC5jb2xvcjtcbiAgICAgICAgICAgICAgICBnLnN0eWxlLmFsaWduID0gZWwubGluZUFsaWduO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY3Vyc2l2ZSAmJiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBlbCBvZiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHBhciwgZWwsIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyU3lzdGVtID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQTEFZRVJfVFlQRSkgYXMgUGxheWVyU3lzdGVtO1xuICAgICAgICB0aGlzLm1hc3RlclZpc2liaWxpdHkgPSAodGhpcy53b3JsZC5zeXN0ZW1zLmdldChMSUdIVF9UWVBFKSBhcyBMaWdodFN5c3RlbSkubG9jYWxMaWdodFNldHRpbmdzLnZpc2lvblR5cGUgPT09ICdkbSc7XG5cbiAgICAgICAgbGV0IGcgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICBnLmJlZ2luRmlsbCgweEZGRkZGRik7XG4gICAgICAgIGcubGluZVN0eWxlKDApO1xuICAgICAgICBnLmRyYXdDaXJjbGUoUE9JTlRfUkFESVVTLCBQT0lOVF9SQURJVVMsIFBPSU5UX1JBRElVUyk7XG4gICAgICAgIHRoaXMuY2lyY2xlVGV4ID0gdGhpcy5waXhpQm9hcmRTeXN0ZW0ucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKGcsIFBJWEkuU0NBTEVfTU9ERVMuTElORUFSLCAxKTtcbiAgICAgICAgdGhpcy5jaXJjbGVUZXguZGVmYXVsdEFuY2hvci5zZXQoMC41LCAwLjUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGVsZW0gb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChlbGVtLmRpc3BsYXksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7UElYSV9HUkFQSElDX1RZUEUsIFBpeGlEaXNwbGF5RWxlbWVudCwgUGl4aUdyYXBoaWNDb21wb25lbnQsIFBpeGlHcmFwaGljU3lzdGVtfSBmcm9tIFwiLi9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtcbiAgICBCQUNLR1JPVU5EX0xBWUVSX1RZUEUsXG4gICAgQmFja2dyb3VuZExheWVyUmVzb3VyY2UsXG4gICAgTGF5ZXIsXG4gICAgTEFZRVJfVFlQRSxcbiAgICBMYXllckNvbXBvbmVudCxcbiAgICBMYXllclN5c3RlbSxcbiAgICBQQVJFTlRfTEFZRVJfVFlQRSxcbiAgICBQYXJlbnRMYXllckNvbXBvbmVudFxufSBmcm9tIFwiLi9sYXllclN5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7RWxlbWVudFR5cGV9IGZyb20gXCIuLi8uLi8uLi9ncmFwaGljc1wiO1xuXG5leHBvcnQgdHlwZSBDdXN0b21MYXllciA9IExheWVyICYge1xuICAgIF9waXhpTGF5ZXI/OiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG59O1xuXG5leHBvcnQgY29uc3QgUElYSV9MQVlFUl9UWVBFID0gJ3BpeGlfbGF5ZXInO1xuZXhwb3J0IHR5cGUgUElYSV9MQVlFUl9UWVBFID0gJ3BpeGlfbGF5ZXInO1xuZXhwb3J0IGNsYXNzIFBpeGlMYXllclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgUElYSV9HUkFQSElDX1RZUEUsIExBWUVSX1RZUEVdO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQSVhJX0xBWUVSX1RZUEU7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBpeGlCb2FyZDogUGl4aUJvYXJkU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGl4aUdyYXBoaWM6IFBpeGlHcmFwaGljU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGF5ZXJTeXM6IExheWVyU3lzdGVtO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnBpeGlCb2FyZCA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHRoaXMucGl4aUdyYXBoaWMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfR1JBUEhJQ19UWVBFKSBhcyBQaXhpR3JhcGhpY1N5c3RlbTtcbiAgICAgICAgdGhpcy5sYXllclN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoTEFZRVJfVFlQRSkgYXMgTGF5ZXJTeXN0ZW07XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0JywgdGhpcy5vblJlc291cmNlRWRpdCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRMYXllcihsYXllcjogQ3VzdG9tTGF5ZXIpOiBQSVhJLmRpc3BsYXkuTGF5ZXIge1xuICAgICAgICBpZiAobGF5ZXIuX3BpeGlMYXllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAobGF5ZXIucHJpb3JpdHksIGZhbHNlKTtcbiAgICAgICAgICAgIGxheWVyLl9waXhpTGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKGdyb3VwKTtcbiAgICAgICAgICAgIHRoaXMucGl4aUJvYXJkLnJvb3QuYWRkQ2hpbGQobGF5ZXIuX3BpeGlMYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxheWVyLl9waXhpTGF5ZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVMYXllcihsYXllcjogQ3VzdG9tTGF5ZXIpOiBQSVhJLmRpc3BsYXkuTGF5ZXIge1xuICAgICAgICBjb25zdCBwaXhpTGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVyKTtcbiAgICAgICAgcGl4aUxheWVyLmdyb3VwLnpJbmRleCA9IGxheWVyLnByaW9yaXR5O1xuICAgICAgICByZXR1cm4gcGl4aUxheWVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UGFyZW50TGF5ZXIobGF5ZXI6IFBhcmVudExheWVyQ29tcG9uZW50IHwgdW5kZWZpbmVkKTogUElYSS5kaXNwbGF5LkxheWVyIHtcbiAgICAgICAgbGV0IGwgPSB0aGlzLmxheWVyU3lzLmdldExheWVyQnlJZChsYXllciA9PT0gdW5kZWZpbmVkID8gLTEgOiBsYXllci5sYXllcik7XG4gICAgICAgIHJldHVybiB0aGlzLmdldExheWVyKGwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RW50aXR5UGFyZW50TGF5ZXIoZW50aXR5OiBudW1iZXIpOiBQSVhJLmRpc3BsYXkuTGF5ZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnRMYXllcih0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFBBUkVOVF9MQVlFUl9UWVBFKSBhcyBQYXJlbnRMYXllckNvbXBvbmVudCB8IHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseVBhcmVudChvYmo6IFBpeGlEaXNwbGF5RWxlbWVudCwgcGFyZW50OiBQSVhJLmRpc3BsYXkuR3JvdXApIHtcbiAgICAgICAgaWYgKG9iai50eXBlICE9PSBFbGVtZW50VHlwZS5URVhUKSB7XG4gICAgICAgICAgICBpZiAob2JqLl9waXhpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvYmouX3BpeGkucGFyZW50R3JvdXAgPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2ggb2Ygb2JqLmNoaWxkcmVuID8/IFtdKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5UGFyZW50KGNoLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY21wLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgTGF5ZXJDb21wb25lbnQgYXMgQ3VzdG9tTGF5ZXI7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheWVyKGMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNtcC50eXBlID09PSBQQVJFTlRfTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IGNtcCBhcyBQYXJlbnRMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGNvbnN0IGcgPSB0aGlzLnBpeGlHcmFwaGljLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNtcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGcgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50TGF5ZXIoYyk7XG4gICAgICAgICAgICB0aGlzLmFwcGx5UGFyZW50KGcuZGlzcGxheSBhcyBQaXhpRGlzcGxheUVsZW1lbnQsIHBhcmVudC5ncm91cCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY21wLnR5cGUgPT09IFBJWElfR1JBUEhJQ19UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY21wIGFzIFBpeGlHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRFbnRpdHlQYXJlbnRMYXllcihjbXAuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQYXJlbnQoYy5kaXNwbGF5IGFzIFBpeGlEaXNwbGF5RWxlbWVudCwgcGFyZW50Lmdyb3VwKTtcbiAgICAgICAgICAgIGMuX2xheWVyID0gcGFyZW50Lmdyb3VwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY21wLnR5cGUgPT09IFBBUkVOVF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY21wIGFzIFBhcmVudExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgY29uc3QgZyA9IHRoaXMucGl4aUdyYXBoaWMuc3RvcmFnZS5nZXRDb21wb25lbnQoY21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRMYXllcihjKTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQYXJlbnQoZy5kaXNwbGF5IGFzIFBpeGlEaXNwbGF5RWxlbWVudCwgcGFyZW50Lmdyb3VwKTtcbiAgICAgICAgICAgIGcuX2xheWVyID0gcGFyZW50Lmdyb3VwO1xuICAgICAgICB9IGVsc2UgaWYgKGNtcC50eXBlID09PSBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY21wIGFzIExheWVyQ29tcG9uZW50IGFzIEN1c3RvbUxheWVyO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXllcihjKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY21wOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNtcC50eXBlID09PSBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY21wIGFzIExheWVyQ29tcG9uZW50IGFzIEN1c3RvbUxheWVyO1xuICAgICAgICAgICAgaWYgKGMuX3BpeGlMYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYy5fcGl4aUxheWVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBjLl9waXhpTGF5ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY21wLnR5cGUgPT09IFBBUkVOVF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBnID0gdGhpcy5waXhpR3JhcGhpYy5zdG9yYWdlLmdldENvbXBvbmVudChjbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRQYXJlbnRMYXllcih1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5hcHBseVBhcmVudChnLmRpc3BsYXksIGxheWVyLmdyb3VwKTtcbiAgICAgICAgICAgIGcuX2xheWVyID0gbGF5ZXIuZ3JvdXA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0KHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSByZXMgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UgYXMgQ3VzdG9tTGF5ZXI7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheWVyKHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVwZGF0ZUxheWVyKHRoaXMubGF5ZXJTeXMuYmFja2dyb3VuZExheWVyIGFzIEN1c3RvbUxheWVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Qk9BUkRfVFJBTlNGT1JNX1RZUEUsIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UsIFBJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgTUVBU1VSRV9UWVBFLCBNZWFzdXJlUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcblxuXG5leHBvcnQgY29uc3QgUElYSV9NRUFTVVJFX1RZUEUgPSBcInBpeGlfbWVhc3VyZVwiO1xuZXhwb3J0IHR5cGUgUElYSV9NRUFTVVJFX1RZUEUgPSB0eXBlb2YgUElYSV9NRUFTVVJFX1RZUEU7XG5leHBvcnQgY2xhc3MgUGl4aU1lYXN1cmVTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQSVhJX01FQVNVUkVfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgZGlzcGxheTogUElYSS5HcmFwaGljcztcbiAgICBwcml2YXRlIHRleHQ6IFBJWEkuVGV4dDtcblxuICAgIHByaXZhdGUgZ3JpZFNpemU6IG51bWJlciA9IFNUQU5EQVJEX0dSSURfT1BUSU9OUy5zaXplO1xuICAgIHByaXZhdGUgZ3JpZFVuaXRNdWw6IG51bWJlciA9IFNUQU5EQVJEX0dSSURfT1BUSU9OUy51bml0TXVsO1xuICAgIHByaXZhdGUgZ3JpZFVuaXROYW1lOiBzdHJpbmcgPSBTVEFOREFSRF9HUklEX09QVElPTlMudW5pdE5hbWU7XG4gICAgcHJpdmF0ZSBib2FyZFNjYWxlOiBudW1iZXIgPSAxO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgY29uc3QgcGl4aUJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcblxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICB0aGlzLmRpc3BsYXkucGFyZW50R3JvdXAgPSBwaXhpQm9hcmQudG9vbEZvcmVncm91bmRHcm91cDtcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IFBJWEkuVGV4dChcIlwiKTtcbiAgICAgICAgdGhpcy50ZXh0LmFuY2hvci5zZXQoMC41LCAxKTtcbiAgICAgICAgdGhpcy50ZXh0LnN0eWxlLmZpbGwgPSAweGZmMDAwMDtcbiAgICAgICAgdGhpcy50ZXh0LnN0eWxlLmZvbnRTaXplID0gNDA7XG4gICAgICAgIHRoaXMudGV4dC5wYXJlbnRHcm91cCA9IHBpeGlCb2FyZC50b29sRm9yZWdyb3VuZEdyb3VwO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfYWRkJywgdGhpcy5vblJlc291cmNlQWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0LCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9yZW1vdmVkJywgdGhpcy5vblJlc291cmNlUmVtb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5LnZpc2libGUgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLnRleHQudmlzaWJsZSA9IGVuYWJsZWQ7XG4gICAgfVxuXG4gICAgcmVkcmF3KGZyb21YOiBudW1iZXIsIGZyb21ZOiBudW1iZXIsIHRvWDogbnVtYmVyLCB0b1k6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgIHRoaXMuZGlzcGxheS5jbGVhcigpO1xuXG4gICAgICAgIGNvbnN0IG1pZFggPSAoZnJvbVggKyB0b1gpIC8gMjtcbiAgICAgICAgY29uc3QgbWlkWSA9IChmcm9tWSArIHRvWSkgLyAyO1xuICAgICAgICBsZXQgZGlzdFNxID0gZGlzdFNxdWFyZWQyZChmcm9tWCwgZnJvbVksIHRvWCwgdG9ZKSAvICh0aGlzLmdyaWRTaXplICoqIDIpO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gMS90aGlzLmJvYXJkU2NhbGU7XG4gICAgICAgIHRoaXMudGV4dC5zY2FsZS5zZXQoc2NhbGUpO1xuXG4gICAgICAgIGlmIChkaXN0U3EgPCAwLjEqKjIpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5iZWdpbkZpbGwoMHhmZjAwMDApO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmRyYXdDaXJjbGUobWlkWCwgbWlkWSwgMTAgKiBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZW5kRmlsbCgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHRoaXMudGV4dC50ZXh0ID0gKG1pZFggLyB0aGlzLmdyaWRTaXplKS50b0ZpeGVkKDQpICsgXCIsIFwiICsgKG1pZFkgLyB0aGlzLmdyaWRTaXplKS50b0ZpeGVkKDQpO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnBvc2l0aW9uLnNldChtaWRYLCBtaWRZIC0gMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweGZmMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZHJhd0NpcmNsZShmcm9tWCwgZnJvbVksIDEwICogc2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmVuZEZpbGwoKTtcblxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweGZmMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZHJhd0NpcmNsZSh0b1gsIHRvWSwgMTAgKiBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZW5kRmlsbCgpO1xuXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkubGluZVN0eWxlKDMgKiBzY2FsZSwgMHhmZjAwMDApXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkubW92ZVRvKGZyb21YLCBmcm9tWSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkubGluZVRvKHRvWCwgdG9ZKTtcblxuICAgICAgICAgICAgbGV0IHJvdCA9IE1hdGguYXRhbjIodG9ZIC0gZnJvbVksIHRvWCAtIGZyb21YKTtcbiAgICAgICAgICAgIGlmIChyb3QgPCBNYXRoLlBJIC8gMikgcm90ICs9IE1hdGguUEk7XG4gICAgICAgICAgICBpZiAocm90ID4gTWF0aC5QSSAvIDIpIHJvdCAtPSBNYXRoLlBJO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnBvc2l0aW9uLnNldChtaWRYLCBtaWRZKTtcbiAgICAgICAgICAgIHRoaXMudGV4dC5yb3RhdGlvbiA9IHJvdDtcbiAgICAgICAgICAgIHRoaXMudGV4dC50ZXh0ID0gKE1hdGguc3FydChkaXN0U3EpICogdGhpcy5ncmlkVW5pdE11bCkudG9GaXhlZCg0KSArICcgJyArIHRoaXMuZ3JpZFVuaXROYW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVkcmF3UmVzKHJlczogTWVhc3VyZVJlc291cmNlKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KHJlcy5mcm9tWCwgcmVzLmZyb21ZLCByZXMudG9YLCByZXMudG9ZKTtcbiAgICB9XG5cbiAgICBvblJlc291cmNlQWRkKHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBNRUFTVVJFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCByID0gcmVzIGFzIE1lYXN1cmVSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3UmVzKHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBsZXQgcmVkcmF3ID0gZmFsc2U7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gTUVBU1VSRV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd1JlcyhyZXMgYXMgTWVhc3VyZVJlc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IHJlcyBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZC5zaXplO1xuICAgICAgICAgICAgdGhpcy5ncmlkVW5pdE11bCA9IGdyaWQudW5pdE11bDtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFVuaXROYW1lID0gZ3JpZC51bml0TmFtZTtcbiAgICAgICAgICAgIHJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkU2NhbGUgPSAocmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpLnNjYWxlWCB8fCAxO1xuICAgICAgICAgICAgcmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWRyYXcpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKE1FQVNVUkVfVFlQRSkgYXMgTWVhc3VyZVJlc291cmNlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHIgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdSZXMocik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlc291cmNlUmVtb3ZlKHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBNRUFTVVJFX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCByID0gcmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmJvYXJkU2NhbGUgPSByLnNjYWxlWDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgYm9hcmQuYm9hcmQuYWRkQ2hpbGQodGhpcy5kaXNwbGF5KTtcbiAgICAgICAgYm9hcmQuYm9hcmQuYWRkQ2hpbGQodGhpcy50ZXh0KTtcblxuICAgICAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKTtcbiAgICAgICAgaWYgKGdyaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IChncmlkIGFzIEdyaWRSZXNvdXJjZSkuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvYXJkU2NhbGUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSkgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSB8IHVuZGVmaW5lZCk/LnNjYWxlWCB8fCAxO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSwgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuXG5cbmV4cG9ydCBjb25zdCBQSVhJX1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFID0gXCJwaXhpX3JlY3Rfc2VsZWN0aW9uXCI7XG5leHBvcnQgdHlwZSBQSVhJX1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFID0gdHlwZW9mIFBJWElfUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEU7XG5leHBvcnQgY2xhc3MgUGl4aVJlY3RTZWxlY3Rpb25TeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIG5hbWUgPSBQSVhJX1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFO1xuICAgIGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdO1xuXG4gICAgd29ybGQ6IFdvcmxkO1xuICAgIGRpc3BsYXk6IFBJWEkuR3JhcGhpY3M7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2FkZCcsIHRoaXMub25SZXNvdXJjZUFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfcmVtb3ZlZCcsIHRoaXMub25SZXNvdXJjZVJlbW92ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVkcmF3KGJveDogQWFiYikge1xuICAgICAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweDc5ODZDQiwgMC4yKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmRyYXdSZWN0KGJveC5taW5YLCBib3gubWluWSwgYm94Lm1heFggLSBib3gubWluWCwgYm94Lm1heFkgLSBib3gubWluWSk7XG4gICAgICAgIHRoaXMuZGlzcGxheS5lbmRGaWxsKCk7XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUFkZChyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCByID0gcmVzIGFzIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLnJlZHJhdyhyLmFhYmIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IFJFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgciA9IHJlcyBhcyBSZWN0YW5ndWxhclNlbGVjdGlvblJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXcoci5hYWJiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVzb3VyY2VSZW1vdmUocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IFJFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LnBhcmVudEdyb3VwID0gYm9hcmQudG9vbEZvcmVncm91bmRHcm91cDtcbiAgICAgICAgYm9hcmQuYm9hcmQuYWRkQ2hpbGQodGhpcy5kaXNwbGF5KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge0Rlc2VyaWFsaXplRGF0YSwgV29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsIEhPU1RfSElEREVOX1RZUEUsIE11bHRpQ29tcG9uZW50LFxuICAgIE5BTUVfVFlQRSxcbiAgICBOYW1lQ29tcG9uZW50LFxuICAgIE5PVEVfVFlQRSxcbiAgICBOb3RlQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnRcbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtMSUdIVF9UWVBFLCBMaWdodENvbXBvbmVudH0gZnJvbSBcIi4uL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1BMQVlFUl9UWVBFLCBQbGF5ZXJDb21wb25lbnR9IGZyb20gXCIuLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7RE9PUl9UWVBFLCBEb29yQ29tcG9uZW50LCBEb29yVHlwZX0gZnJvbSBcIi4uL2Rvb3JTeXN0ZW1cIjtcbmltcG9ydCB7UFJPUF9URUxFUE9SVF9UWVBFLCBQUk9QX1RZUEUsIFByb3BUZWxlcG9ydH0gZnJvbSBcIi4uL3Byb3BTeXN0ZW1cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge2NvbXBvbmVudEVkaXRDb21tYW5kLCBDb21wb25lbnRFZGl0Q29tbWFuZCwgRWRpdFR5cGV9IGZyb20gXCIuLi9jb21tYW5kL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge0NvbW1hbmQsIGVtaXRDb21tYW5kLCBleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtFVkVOVF9DT01NQU5EX0xPRywgRVZFTlRfQ09NTUFORF9QQVJUSUFMX0VORH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFN5c3RlbVwiO1xuaW1wb3J0IHtXQUxMX1RZUEV9IGZyb20gXCIuLi93YWxsU3lzdGVtXCI7XG5pbXBvcnQge0Vjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge1BJTl9UWVBFfSBmcm9tIFwiLi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge2ZpbmRGb3JlZ3JvdW5kLCBQQVJFTlRfTEFZRVJfVFlQRSwgUGFyZW50TGF5ZXJDb21wb25lbnR9IGZyb20gXCIuL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge2NvbXBvbmVudENsb25lLCBnZW5lcmF0ZVJhbmRvbUlkfSBmcm9tIFwiLi4vLi4vZWNzVXRpbFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQgeyBFdmVudENvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZC9ldmVudENvbW1hbmRcIjtcblxuY29uc3QgTVVMVElfVFlQRVMgPSBbJ25hbWUnLCAnbm90ZSddO1xuY29uc3QgRUxJTUlOQUJMRV9UWVBFUyA9IFsnbmFtZScsICdub3RlJywgJ3BsYXllcicsICdsaWdodCcsICdkb29yJywgUEFSRU5UX0xBWUVSX1RZUEVdO1xuY29uc3QgRlVMTFNDUkVFTkFCTEVfVFlQRVMgPSBbJ25vdGUnXTtcblxuLy8gbmFtZVxuLy8gbm90ZSAtPiBub3RlLCBwb3NpdGlvblxuLy8gcG9zaXRpb25cbi8vIHJvb20gLT4gcm9vbSwgcG9zaXRpb25cbi8vIGJrZ19pbWcgPT4gYmtnX2ltZywgcG9zaXRpb25cblxuLy8gUG9zc2libGUgY29uZmlndXJhdGlvbnM6ICg/ID0gMC8xLCAqID0gMCssIGxpa2UgcmVnZXgpXG4vLyAoYmtnX2ltZywgcG9zLCB0cmFuc2Zvcm0sIG5hbWUqLCBub3RlcyopXG4vLyAocGluLCBwb3MsIGxpZ2h0fHBsYXllciwgbmFtZSosIG5vdGVzKilcbi8vIChwcm9wLCBwb3MsIHRyYW5zZm9ybSwgdGVsZXBvcnQ/LCBuYW1lKiwgbm90ZXMqKVxuLy8gKHdhbGwsIHBvcywgZG9vcj8pXG5cbmludGVyZmFjZSBUeXBlRGF0YSB7XG4gICAgZW50aXRpZXM6IFNldDxDb21wb25lbnQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkZENvbXBvbmVudCB7XG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbn1cblxuZXhwb3J0IGNvbnN0IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUgPSAnc2VsZWN0aW9uX3VpX2RhdGEnO1xuZXhwb3J0IHR5cGUgU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSA9IHR5cGVvZiBTRUxFQ1RJT05fVUlfREFUQV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBTZWxlY3Rpb25VaURhdGEgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogU0VMRUNUSU9OX1VJX0RBVEFfVFlQRTtcbiAgICBzZWxlY3RlZEVudGl0aWVzOiBBcnJheTxudW1iZXI+O1xuICAgIGNvbXBvbmVudHM6IENvbXBvbmVudFtdO1xuICAgIGhpZGRlbjogYm9vbGVhbjtcbiAgICBhZGRhYmxlOiBBcnJheTxBZGRDb21wb25lbnQ+O1xuXG4gICAgX3NhdmU6IGZhbHNlLFxuICAgIF9zeW5jOiBmYWxzZTtcbn1cblxuZXhwb3J0IGNvbnN0IFNFTEVDVElPTl9UWVBFID0gJ3NlbGVjdGlvbic7XG5leHBvcnQgdHlwZSBTRUxFQ1RJT05fVFlQRSA9IHR5cGVvZiBTRUxFQ1RJT05fVFlQRTtcbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb25TeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZWNzOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gU0VMRUNUSU9OX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRV0gYXMgc3RyaW5nW107XG5cbiAgICBwcml2YXRlIGJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG5cbiAgICBzZWxlY3RlZEVudGl0aWVzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgZGF0YUJ5VHlwZSA9IG5ldyBNYXA8c3RyaW5nLCBUeXBlRGF0YT4oKTtcbiAgICB0cmFuc2xhdGlvbnM6IHtbdHlwZTogc3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuXG4gICAgcHJpdmF0ZSBpc1RyYW5zbGF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSB0cmFuc2xhdGVEaXJ0eTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgdWlSZXNEaXJ0eTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcihlY3M6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMuZWNzID0gZWNzO1xuXG4gICAgICAgIHRoaXMuYm9hcmRTeXMgPSBlY3Muc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG5cbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCAoKSA9PiB0aGlzLmlzVHJhbnNsYXRpbmcgPSB0cnVlKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCd0b29sX21vdmVfZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2xhdGVEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChFVkVOVF9DT01NQU5EX1BBUlRJQUxfRU5EKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmVkJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignZW50aXR5X2Rlc3Bhd24nLCB0aGlzLm9uRW50aXR5RGVzcGF3biwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignZGVzZXJpYWxpemVkJywgKGQ6IERlc2VyaWFsaXplRGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGQub3B0aW9ucy50aGVuU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPbmx5RW50aXRpZXMoZC5kYXRhLmVudGl0aWVzLm1hcChkLmVudGl0eU1hcHBpbmcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlY3MuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignY29tbWFuZF9wb3N0X2V4ZWN1dGUnLCAoYzogQ29tbWFuZCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGEgc3Bhd24gY29tbWFuZCBoYXMgYmVlbiBleGVjdXRlZFxuICAgICAgICAgICAgICAgIGlmIChjID09PSB1bmRlZmluZWQgfHwgYy5raW5kICE9PSAnZGVzcGF3bicpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9ubHlFbnRpdGllcygoYyBhcyBEZVNwYXduQ29tbWFuZCkuZW50aXRpZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2RlbGV0ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICAgICAgZW50aXRpZXM6IFsuLi50aGlzLnNlbGVjdGVkRW50aXRpZXNdLFxuICAgICAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMuZWNzLCBjbWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdlbnRpdHlfZGVzcGF3bicsIHRoaXMub25FbnRpdHlEZXNwYXduLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ib2FyZFN5cy50aWNrZXIuYWRkKHRoaXMub25SZW5kZXIsIHRoaXMsIFBJWEkuVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG5cbiAgICAgICAgdGhpcy5zZXR1cFRyYW5zbGF0aW9ucygpO1xuXG4gICAgICAgIHRoaXMudWlSZXNEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMub25SZW5kZXIoKTtcbiAgICB9XG5cbiAgICBzZXR1cFRyYW5zbGF0aW9ucygpIHtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnNbUEFSRU5UX0xBWUVSX1RZUEVdID0gJ2ZvcmVncm91bmQnO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy51aVJlc0RpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMudWlSZXNEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBob3N0SGlkZGVuID0gdGhpcy5kYXRhQnlUeXBlLmdldChIT1NUX0hJRERFTl9UWVBFKTtcblxuICAgICAgICB0aGlzLmVjcy5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBTRUxFQ1RJT05fVUlfREFUQV9UWVBFLFxuICAgICAgICAgICAgc2VsZWN0ZWRFbnRpdGllczogWy4uLnRoaXMuc2VsZWN0ZWRFbnRpdGllc10sXG4gICAgICAgICAgICBjb21wb25lbnRzOiB0aGlzLmdldENvbW1vbkNvbXBvbmVudHMoKSxcbiAgICAgICAgICAgIGhpZGRlbjogaG9zdEhpZGRlbiAhPT0gdW5kZWZpbmVkICYmIGhvc3RIaWRkZW4uZW50aXRpZXMuc2l6ZSA9PT0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemUsXG4gICAgICAgICAgICBhZGRhYmxlOiB0aGlzLmdldEFkZGFibGVDb21wb25lbnRzKCksXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgIH0gYXMgU2VsZWN0aW9uVWlEYXRhLCAndXBkYXRlJyk7XG4gICAgfVxuXG4gICAgdXBkYXRlVWkoKSB7XG4gICAgICAgIHRoaXMudWlSZXNEaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgY2FuU2VsZWN0KGVudGl0eTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmVjcy5pc01hc3Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHdhbGxzIG5vdCBzZWxlY3RhYmxlIHVubGVzcyBhIGtub3duIGRvb3IgaXMgcHJlc2VudCwgdGhpc1xuICAgICAgICAvLyBwcmV2ZW50cyBwbGF5ZXJzIGZyb20gYnJ1dGVmb3JjaW5nIHdhbGwgc3RydWN0dXJlcyB0byBmaW5kIGRvb3JzXG4gICAgICAgIC8vIFRPRE86IG90aGVyIG9wdGlvbnM6IG1lcmdlIGFkaWFjZW50IHdhbGxzIHdoZW4gcG9zc2libGVcbiAgICAgICAgbGV0IHdhbGxDID0gdGhpcy5lY3MuZ2V0Q29tcG9uZW50KGVudGl0eSwgV0FMTF9UWVBFKTtcbiAgICAgICAgaWYgKHdhbGxDICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBkb29yID0gdGhpcy5lY3MuZ2V0Q29tcG9uZW50KGVudGl0eSwgRE9PUl9UWVBFKTtcbiAgICAgICAgICAgIHJldHVybiBkb29yICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVHJhbnNsYXRpbmcpIHRoaXMudHJhbnNsYXRlRGlydHkgPSB0cnVlO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVWkoKVxuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoJ3NlbGVjdGlvbl91cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ29tcG9uZW50QWRkKGNvbXBvbmVudDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhjb21wb25lbnQuZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuY2FuU2VsZWN0KGNvbXBvbmVudC5lbnRpdHkpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtjb21wb25lbnQuZW50aXR5XSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZURhdGEoY29tcG9uZW50LnR5cGUpLmVudGl0aWVzLmFkZChjb21wb25lbnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG9uQ29tcG9uZW50VXBkYXRlKGNvbXBvbmVudDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FuU2VsZWN0KGNvbXBvbmVudC5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbY29tcG9uZW50LmVudGl0eV0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNvbXBvbmVudFJlbW92ZShjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoY29tcG9uZW50LmVudGl0eSkpIHJldHVybjtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KGNvbXBvbmVudC50eXBlKSE7XG4gICAgICAgIGRhdGEuZW50aXRpZXMuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChkYXRhLmVudGl0aWVzLnNpemUgPT09IDApIHRoaXMuZGF0YUJ5VHlwZS5kZWxldGUoY29tcG9uZW50LnR5cGUpO1xuXG4gICAgICAgIGlmICghdGhpcy5jYW5TZWxlY3QoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2NvbXBvbmVudC5lbnRpdHldKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlEZXNwYXduKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSByZXR1cm47XG4gICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2VudGl0eV0pO1xuICAgIH1cblxuICAgIGNsZWFyKGNhbGxMaXN0ZW5lcnM6IGJvb2xlYW4gPSB0cnVlLCB1cGRhdGU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGlmIChjYWxsTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZCBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdCgnc2VsZWN0aW9uX2VuZCcsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkRW50aXRpZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5kYXRhQnlUeXBlLmNsZWFyKCk7XG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRPbmx5RW50aXR5KGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jbGVhcih0cnVlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYWRkRW50aXRpZXMoW2lkXSk7XG4gICAgfVxuXG4gICAgc2V0T25seUVudGl0aWVzKGlkczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IGlkU2V0ID0gbmV3IFNldChpZHMpO1xuXG4gICAgICAgIGxldCByZW1vdmVJZHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICBmb3IgKGxldCBpZCBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmICghaWRTZXQuaGFzKGlkKSkgcmVtb3ZlSWRzLnB1c2goaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMocmVtb3ZlSWRzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYWRkRW50aXRpZXMoaWRzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgdG9nZ2xlRW50aXRpZXMoaWRzOiBudW1iZXJbXSwgdXBkYXRlOiBib29sZWFuPXRydWUpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtpZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFbnRpdGllcyhbaWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZSkgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBhZGRFbnRpdGllcyhpZHM6IG51bWJlcltdLCB1cGRhdGU6IGJvb2xlYW49dHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVHJ5aW5nIHRvIGFkZCB1bmRlZmluZWQgZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoaWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5TZWxlY3QoaWQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVudGl0aWVzLmFkZChpZCk7XG5cbiAgICAgICAgICAgIGxldCBjb21wcyA9IHRoaXMuZWNzLmdldEFsbENvbXBvbmVudHMoaWQpO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3JDcmVhdGVEYXRhKGMudHlwZSkuZW50aXRpZXMuYWRkKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoJ3NlbGVjdGlvbl9iZWdpbicsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlICYmIGNvdW50ICE9PSAwKSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHJlbW92ZUVudGl0aWVzKGlkczogbnVtYmVyW10sIHVwZGF0ZTogYm9vbGVhbj10cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkgY29udGludWU7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVudGl0aWVzLmRlbGV0ZShpZClcbiAgICAgICAgICAgIGxldCBjb21wcyA9IHRoaXMuZWNzLmdldEFsbENvbXBvbmVudHMoaWQpO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldChjLnR5cGUpITtcbiAgICAgICAgICAgICAgICBkYXRhLmVudGl0aWVzLmRlbGV0ZShjKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lbnRpdGllcy5zaXplID09PSAwKSB0aGlzLmRhdGFCeVR5cGUuZGVsZXRlKGMudHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdCgnc2VsZWN0aW9uX2VuZCcsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlICYmIGNvdW50ICE9PSAwKSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGdldFNlbGVjdGVkQnlUeXBlKHR5cGU6IHN0cmluZyk6IEl0ZXJhYmxlPENvbXBvbmVudD4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIGRhdGEuZW50aXRpZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0aWFsQ29tcG9uZW50KHR5cGU6IHN0cmluZyk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfY2FuRGVsZXRlOiBFTElNSU5BQkxFX1RZUEVTLmluZGV4T2YodHlwZSkgPj0gMCxcbiAgICAgICAgICAgIF9pc0Z1bGxzY3JlZW46IEZVTExTQ1JFRU5BQkxFX1RZUEVTLmluZGV4T2YodHlwZSkgPj0gMCA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkVHJhbnNsYXRpb25zKGNtcHM6IENvbXBvbmVudFtdKTogQ29tcG9uZW50W10ge1xuICAgICAgICBmb3IgKGxldCBjbXAgb2YgY21wcykge1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy50cmFuc2xhdGlvbnNbY21wLnR5cGVdO1xuICAgICAgICAgICAgaWYgKHRyYW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0cmFucyA9IGNtcC50eXBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAoY21wIGFzIGFueSkudHlwZU5hbWUgPSB0cmFucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY21wcztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0b3JhZ2VQcmVkaWNhdGUoc3RvcmFnZTogRWNzU3RvcmFnZTxDb21wb25lbnQ+KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChzdG9yYWdlLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2Uuc2F2ZSAmJiBzdG9yYWdlLnN5bmM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTaW5nbGVDb21wb25lbnRzKCk6IENvbXBvbmVudFtdIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG4gICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLnNlbGVjdGVkRW50aXRpZXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuXG4gICAgICAgIGZvciAobGV0IHN0b3JhZ2Ugb2YgdGhpcy5lY3Muc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdG9yYWdlUHJlZGljYXRlKHN0b3JhZ2UpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IGNvbXBzID0gc3RvcmFnZS5nZXRDb21wb25lbnRzKGVudGl0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPVxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGNvbXBvbmVudENsb25lKHJlbW92ZVByaXZhdGUodGhpcy5pbml0aWFsQ29tcG9uZW50KHN0b3JhZ2UudHlwZSksIGNvbXApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRUcmFuc2xhdGlvbnMocmVzKTtcbiAgICB9XG5cbiAgICBnZXRDb21tb25Db21wb25lbnRzKCk6IENvbXBvbmVudFtdIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5zaXplID09PSAwKSByZXR1cm4gW107XG5cbiAgICAgICAgbGV0IHNlbENvdW50ID0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemU7XG5cbiAgICAgICAgaWYgKHNlbENvdW50ID09PSAxKSByZXR1cm4gdGhpcy5nZXRTaW5nbGVDb21wb25lbnRzKCk7XG4gICAgICAgIGxldCBjb21tb25UeXBlcyA9IG5ldyBBcnJheTxFY3NTdG9yYWdlPENvbXBvbmVudD4+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvIG9mIHRoaXMuZWNzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RvcmFnZVByZWRpY2F0ZShzdG8pKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHN0by50eXBlO1xuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQodHlwZSk7XG4gICAgICAgICAgICBpZiAoZGF0YSAhPSB1bmRlZmluZWQgJiYgZGF0YS5lbnRpdGllcy5zaXplID09PSBzZWxDb3VudCAmJiBNVUxUSV9UWVBFUy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbW1vblR5cGVzLnB1c2goc3RvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8Q29tcG9uZW50PigpO1xuXG4gICAgICAgIGZvciAobGV0IHN0byBvZiBjb21tb25UeXBlcykge1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29tcHMgPSBzdG8uZ2V0Q29tcG9uZW50cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSByZW1vdmVQcml2YXRlKHRoaXMuaW5pdGlhbENvbXBvbmVudChzdG8udHlwZSksIGNvbXApOy8vIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpRmlsdGVyT2JqKGNvbXBvbmVudCwgY29tcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMucHVzaChjb21wb25lbnRDbG9uZShjb21wb25lbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZFRyYW5zbGF0aW9ucyhyZXMpO1xuICAgIH1cblxuICAgIGdldEFkZGFibGVDb21wb25lbnRzKCk6IEFycmF5PEFkZENvbXBvbmVudD4ge1xuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PEFkZENvbXBvbmVudD4oKTtcblxuICAgICAgICByZXMucHVzaChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBOQU1FX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogJ05hbWUnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICB0eXBlOiBOT1RFX1RZUEUsXG4gICAgICAgICAgICAgICBuYW1lOiAnTm90ZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXRoaXMuaGFzQ29tcG9uZW50VHlwZShQQVJFTlRfTEFZRVJfVFlQRSkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGxheWVyc1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdGb3JlZ3JvdW5kJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYXNFdmVyeW9uZVR5cGUoUElOX1RZUEUpICYmICEodGhpcy5oYXNDb21wb25lbnRUeXBlKExJR0hUX1RZUEUpIHx8IHRoaXMuaGFzQ29tcG9uZW50VHlwZShQTEFZRVJfVFlQRSkpKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogTElHSFRfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGlnaHQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogUExBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1BsYXllcicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZShXQUxMX1RZUEUpICYmICF0aGlzLmhhc0NvbXBvbmVudFR5cGUoRE9PUl9UWVBFKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IERPT1JfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkRvb3JcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNFdmVyeW9uZVR5cGUoUFJPUF9UWVBFKSAmJiAhdGhpcy5oYXNDb21wb25lbnRUeXBlKFBST1BfVEVMRVBPUlRfVFlQRSkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJUZWxlcG9ydGVyXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgc2V0UHJvcGVydHkoZW50aXRpZXM6IG51bWJlcltdLCB0eXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eVZhbHVlOiBhbnksIG11bHRpSWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICckJykge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBtYW5hZ2VtZW50XG4gICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hpZGRlbic6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNtcCA9IHRoaXMuZWNzLmdldENvbXBvbmVudChlbnRpdHksIEhPU1RfSElEREVOX1RZUEUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLnJlbW92ZUNvbXBvbmVudChjbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBcImNlZGl0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQsIHJlbW92ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNtZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllczogWy4uLmVudGl0aWVzXSxcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNtZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdmb3JnZXQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNvbmZpcm0oXCJEbyB5b3Ugd2FudCB0aGUgcm9sZXBsYXllcnMgdG8gZm9yZ2V0IFwiICsgdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemUgKyBcIiBlbnRpdGllcz9cXG5UaGlzIGNhbm5vdCBiZSB1bmRvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRDb21tYW5kKHRoaXMuZWNzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbzogeyBuYW1lOiAnZm9yZ2V0JywgYXJnczogW3sgZW50aXRpZXM6IFsuLi5lbnRpdGllc10gfV0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRvOiB7IG5hbWU6ICcnLCBhcmdzOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBFdmVudENvbW1hbmQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdhZGRDb21wb25lbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21wOiBDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOQU1FX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTkFNRV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlJZDogZ2VuZXJhdGVSYW5kb21JZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTmFtZUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTk9URV9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE5PVEVfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IGdlbmVyYXRlUmFuZG9tSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIE5vdGVDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExJR0hUX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTElHSFRfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQTEFZRVJfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQTEFZRVJfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlnaHRWaXNpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogNTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBQbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERPT1JfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBET09SX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvb3JUeXBlOiBEb29yVHlwZS5OT1JNQUxfTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBEb29yQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQQVJFTlRfTEFZRVJfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQQVJFTlRfTEFZRVJfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IGZpbmRGb3JlZ3JvdW5kKHRoaXMuZWNzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIFBhcmVudExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQUk9QX1RFTEVQT1JUX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUFJPUF9URUxFUE9SVF9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRQcm9wOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIFByb3BUZWxlcG9ydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIHVua25vd24gY29tcG9uZW50OiAnICsgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLmVudGl0aWVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkLnB1c2goT2JqZWN0LmFzc2lnbih7IGVudGl0eSB9LCBjb21wKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjb21wb25lbnRFZGl0Q29tbWFuZChhZGQpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZUNvbXBvbmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIFsuLi5lbnRpdGllc10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5lY3MuZ2V0Q29tcG9uZW50KGVudGl0eSwgcHJvcGVydHlWYWx1ZSwgbXVsdGlJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb21wLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBjb21wLmVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aUlkOiBtdWx0aUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBNdWx0aUNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNtZCA9IGNvbXBvbmVudEVkaXRDb21tYW5kKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCByZW1vdmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNtZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVua25vd24gc3BlY2lhbCBldmVudDogXCIgKyBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdAJykge1xuICAgICAgICAgICAgLy8gRXZlbnQgY2FsbCAoeWVhaCBJIGtub3cgdGhpcyBpcyB1Z2x5KSBUT0RPIHBsZWFzZSBuZXh0IG1lIGNsZWFuIGl0IHVwXG4gICAgICAgICAgICAvLyBUT0RPOiBjb21tYW5kIGxvZ1xuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlLCBtdWx0aUlkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlZGl0ID0gW107XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IGNoYW5nZXMgPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICBjaGFuZ2VzW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgZWRpdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgICBtdWx0aUlkLFxuICAgICAgICAgICAgICAgIGNoYW5nZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICAgICAgZWRpdCxcbiAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjbWQpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG1vdmVBbGwoZGlmZlg6IG51bWJlciwgZGlmZlk6IG51bWJlciwgZW50aXRpZXM6IEl0ZXJhYmxlPG51bWJlcj4pIHtcbiAgICAgICAgbGV0IGVkaXQgPSBbXTtcblxuICAgICAgICBsZXQgcG9zU3RvID0gdGhpcy5lY3MuZ2V0U3RvcmFnZShQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG8uZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBwb3MueCArIGRpZmZYLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb3MueSArIGRpZmZZLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICAgICAgZWRpdCxcbiAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgLy8gcGFydGlhbCA9IGlzVHJhbnNsYXRpbmcgKGFuZCBpZ25vcmUgdGhlIHJlc3VsdHMpXG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfTE9HLCBjbWQsIHVuZGVmaW5lZCwgdGhpcy5pc1RyYW5zbGF0aW5nKTtcbiAgICAgICAgaWYgKHRoaXMuaXNUcmFuc2xhdGluZykgdGhpcy50cmFuc2xhdGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIGVsc2UgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE9yQ3JlYXRlRGF0YSh0eXBlOiBzdHJpbmcpOiBUeXBlRGF0YSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdGllczogbmV3IFNldDxDb21wb25lbnQ+KCksXG4gICAgICAgICAgICB9IGFzIFR5cGVEYXRhO1xuICAgICAgICAgICAgdGhpcy5kYXRhQnlUeXBlLnNldCh0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBoYXNDb21wb25lbnRUeXBlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGRhdGEuZW50aXRpZXMuc2l6ZSA+IDA7XG4gICAgfVxuXG4gICAgaGFzRXZlcnlvbmVUeXBlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemU7XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByaXZhdGUodGFyZ2V0OiBhbnksIGZpbHRlcjogYW55KTogYW55IHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGZpbHRlcikge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gZmlsdGVyW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBiaUZpbHRlck9iaih0YXJnZXQ6IGFueSwgZmlsdGVyOiBhbnkpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGZpbHRlcikge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHRhcmdldFtuYW1lXSAhPT0gZmlsdGVyW25hbWVdKSB7XG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgbmFtZSBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmIChmaWx0ZXJbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBURVhUX1RZUEUgPSAndGV4dCc7XG5leHBvcnQgdHlwZSBURVhUX1RZUEUgPSB0eXBlb2YgVEVYVF9UWVBFO1xuZXhwb3J0IGNsYXNzIFRleHRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIG5hbWUgPSBURVhUX1RZUEU7XG4gICAgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRV0gYXMgc3RyaW5nW107XG5cbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcbiAgICB0ZXh0TGF5ZXI6IFBJWEkuZGlzcGxheS5MYXllcjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMudGV4dExheWVyID0gbmV3IFBJWEkuZGlzcGxheS5MYXllcigpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuekluZGV4ID0gTGF5ZXJPcmRlci5URVhUO1xuICAgICAgICB0aGlzLnRleHRMYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRleHRMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGJvYXJkU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgYm9hcmRTeXMucm9vdC5hZGRDaGlsZCh0aGlzLnRleHRMYXllcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIFBJWElfQk9BUkRfVFlQRSwgUG9pbnRlckRvd25FdmVudCxcbn0gZnJvbSBcIi4vcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEV9IGZyb20gXCIuL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0ZpbHRlcmVkUGFuUGFydCwgSW50ZXJhY3RQYXJ0LCBTZWxlY3RQYXJ0fSBmcm9tIFwiLi4vLi4vdG9vbHMvaW5zcGVjdFwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7TWVhc3VyZVRvb2xQYXJ0fSBmcm9tIFwiLi4vLi4vdG9vbHMvbWVhc3VyZVwiO1xuaW1wb3J0IHsgS2V5Ym9hcmRSZXNvdXJjZSwgS0VZQk9BUkRfVFlQRSB9IGZyb20gXCIuL2tleWJvYXJkU3lzdGVtXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciwgeyBQUklPUklUWV9ESVNBQkxFRCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUb29sUGFydCB7XG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkO1xuICAgIGRlc3Ryb3koKTogdm9pZDtcblxuICAgIG9uRW5hYmxlKCk6IHZvaWQ7XG4gICAgb25EaXNhYmxlKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IFRPT0xfVFlQRTtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogZmFsc2U7XG5cbiAgICB0b29sPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgVE9PTF9UWVBFID0gJ3Rvb2wnO1xuZXhwb3J0IHR5cGUgVE9PTF9UWVBFID0gdHlwZW9mIFRPT0xfVFlQRTtcbmV4cG9ydCBjbGFzcyBUb29sU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gVE9PTF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtTRUxFQ1RJT05fVFlQRV07XG4gICAgcmVhZG9ubHkgb3B0aW9uYWxEZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBLRVlCT0FSRF9UWVBFXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHN1YkV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBzdGFuZGFyZFRvb2w6IFRvb2wgPSBUb29sLklOU1BFQ1Q7XG4gICAgcGFydHMgPSBuZXcgTWFwPHN0cmluZywgVG9vbFBhcnQ+KCk7XG4gICAgdG9vbHMgPSBuZXcgTWFwPHN0cmluZywgQXJyYXk8c3RyaW5nPj4oKTtcbiAgICBjdXJyZW50VG9vbD86IHN0cmluZztcbiAgICBjdXJyZW50UGFydHMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogVE9PTF9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG5cbiAgICAgICAgICAgIHRvb2w6IHVuZGVmaW5lZCxcbiAgICAgICAgfSBhcyBUb29sUmVzb3VyY2UpO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHdvcmxkLmV2ZW50cztcbiAgICAgICAgZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuXG4gICAgICAgIGNvbnN0IGtleWJvYXJkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSBhcyBLZXlib2FyZFJlc291cmNlIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMuYWRkVG9vbFBhcnQobmV3IEZpbHRlcmVkUGFuUGFydCh3b3JsZCwgJ2NsaWNrX3BhbicsICgpID0+IHRydWUpKTtcbiAgICAgICAgdGhpcy5hZGRUb29sUGFydChuZXcgRmlsdGVyZWRQYW5QYXJ0KHdvcmxkLCAnc3BhY2VfcGFuJywgKCkgPT4gISFrZXlib2FyZD8ucHJlc3NlZEtleXM/LmhhcygnICcpKSk7XG4gICAgICAgIHRoaXMuYWRkVG9vbFBhcnQobmV3IEZpbHRlcmVkUGFuUGFydCh3b3JsZCwgJ3RvdWNoX3BhbicsICh3OiBXb3JsZCwgZTogUG9pbnRlckRvd25FdmVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChlLm9yaWdpbmFsRXZlbnQgYXMgUG9pbnRlckV2ZW50KS5wb2ludGVyVHlwZSAhPT0gXCJtb3VzZVwiIHx8ICF0aGlzLndvcmxkLmlzTWFzdGVyO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuYWRkVG9vbFBhcnQobmV3IEludGVyYWN0UGFydCh3b3JsZCkpO1xuICAgICAgICB0aGlzLmFkZFRvb2xQYXJ0KG5ldyBTZWxlY3RQYXJ0KHdvcmxkKSk7XG4gICAgICAgIHRoaXMuYWRkVG9vbFBhcnQobmV3IE1lYXN1cmVUb29sUGFydCh3b3JsZCkpO1xuICAgICAgICB0aGlzLmFkZFRvb2xQYXJ0KG5ldyBGbGFnVG9vbFBhcnQoJ2NyZWF0aW9uX2ZsYWcnKSk7XG5cbiAgICAgICAgdGhpcy5hZGRUb29sKFRvb2wuSU5TUEVDVCwgWydzcGFjZV9wYW4nLCAnc2VsZWN0JywgJ3RvdWNoX3BhbicsICdpbnRlcmFjdCddKVxuICAgICAgICB0aGlzLmFkZFRvb2woVG9vbC5NRUFTVVJFLCBbJ3NwYWNlX3BhbicsICdpbnRlcmFjdCcsICdtZWFzdXJlJ10pXG4gICAgfVxuXG4gICAgYWRkVG9vbFBhcnQodG9vbDogVG9vbFBhcnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wYXJ0cy5zZXQodG9vbC5uYW1lLCB0b29sKTtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFkZGluZyB0b29sIHBhcnQgYWZ0ZXIgaW5pdGlhbGl6YXRpb25cIik7XG4gICAgICAgICAgICB0b29sLmluaXRpYWxpemUodGhpcy5zdWJFdmVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVG9vbChuYW1lOiBzdHJpbmcsIHBhcnRzOiBJdGVyYWJsZTxzdHJpbmc+KTogdm9pZCB7XG4gICAgICAgIGxldCBwID0gWy4uLnBhcnRzXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiBwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFydHMuaGFzKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IGZpbmQgcGFydCBcIiArIHBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9vbHMuc2V0KG5hbWUsIHApO1xuICAgIH1cblxuICAgIGFkZFRvb2xBc0NvcHkobmFtZTogc3RyaW5nLCBvcmlnaW5hbDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy50b29scy5nZXQob3JpZ2luYWwpO1xuICAgICAgICBpZiAocGFydHMgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiT3JpZ2luYWwgdG9vbCBub3QgZm91bmRcIik7XG4gICAgICAgIHRoaXMudG9vbHMuc2V0KG5hbWUsIHBhcnRzKTtcbiAgICB9XG5cbiAgICBpc1Rvb2xQYXJ0RW5hYmxlZChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhcnRzLmluY2x1ZGVzKG5hbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHIudHlwZSA9PT0gVE9PTF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY3QgPSByIGFzIFRvb2xSZXNvdXJjZTtcblxuICAgICAgICAgICAgbGV0IHRvb2xOYW1lID0gY3QudG9vbCB8fCB0aGlzLnN0YW5kYXJkVG9vbDtcblxuICAgICAgICAgICAgbGV0IHBhcnRzID0gdGhpcy50b29scy5nZXQodG9vbE5hbWUpO1xuICAgICAgICAgICAgaWYgKHBhcnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnJlZ2lzdGVyZWQgdG9vbCByZXF1ZXN0ZWQ6IFwiICsgY3QudG9vbCk7XG4gICAgICAgICAgICAgICAgdG9vbE5hbWUgPSB0aGlzLnN0YW5kYXJkVG9vbDtcbiAgICAgICAgICAgICAgICBwYXJ0cyA9IHRoaXMudG9vbHMuZ2V0KHRoaXMuc3RhbmRhcmRUb29sKSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b29sTmFtZSA9PT0gdGhpcy5jdXJyZW50VG9vbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGFuZ2luZyB0b29sIGZyb20gXCIgKyAodGhpcy5jdXJyZW50VG9vbCB8fCAnbm9uZScpICArIFwiIHRvIFwiICsgdG9vbE5hbWUpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbCA9IHRvb2xOYW1lO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGFsbCBvbGQgcGFydHNcbiAgICAgICAgICAgIGZvciAobGV0IHggb2YgdGhpcy5wYXJ0cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEVuYWJsZWQgPSB0aGlzLmN1cnJlbnRQYXJ0cy5pbmNsdWRlcyh4Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VuYWJsZSA9IHBhcnRzLmluY2x1ZGVzKHgubmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkRW5hYmxlZCAmJiAhbmV3RW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHgub25EaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRW5hYmxlIGFsbCBuZXcgcGFydHNcbiAgICAgICAgICAgIGZvciAobGV0IHggb2YgdGhpcy5wYXJ0cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEVuYWJsZWQgPSB0aGlzLmN1cnJlbnRQYXJ0cy5pbmNsdWRlcyh4Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VuYWJsZSA9IHBhcnRzLmluY2x1ZGVzKHgubmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW9sZEVuYWJsZWQgJiYgbmV3RW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHgub25FbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJ0cyA9IHBhcnRzO1xuICAgICAgICAgICAgLy8gUmVvcmRlciBldmVudHNcbiAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gcGFydHMubWFwKCh4KSA9PiB0aGlzLnBhcnRzLmdldCh4KSkucmV2ZXJzZSgpO1xuICAgICAgICAgICAgdGhpcy5zdWJFdmVudHMucmVvcmRlck9iamVjdHMob3JkZXIsIFBSSU9SSVRZX0RJU0FCTEVEKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuYWRkQ2hpbGQodGhpcy5zdWJFdmVudHMpO1xuICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIHRoaXMucGFydHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHBhcnQuaW5pdGlhbGl6ZSh0aGlzLnN1YkV2ZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB0b29sOiB0aGlzLnN0YW5kYXJkVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiB0aGlzLnBhcnRzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBwYXJ0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5yZW1vdmVDaGlsZCh0aGlzLnN1YkV2ZW50cyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmxhZ1Rvb2xQYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICB9XG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgfVxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7VklTSUJJTElUWV9UWVBFLCBWaXNpYmlsaXR5Q29tcG9uZW50LCBWaXNpYmlsaXR5U3lzdGVtfSBmcm9tIFwiLi92aXNpYmlsaXR5U3lzdGVtXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge2FycmF5UmVtb3ZlRWxlbX0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvYXJyYXlcIjtcbmltcG9ydCB7XG4gICAgSU5URVJBQ1RJT05fVFlQRSxcbiAgICBJbnRlcmFjdGlvbkNvbXBvbmVudCxcbiAgICBJbnRlcmFjdGlvblN5c3RlbSxcbiAgICBzaGFwZUNpcmNsZSxcbiAgICBzaGFwZUludGVyc2VjdCxcbiAgICBzaGFwZVBvbHlnb24sXG4gICAgU2hhcGVUeXBlLFxuICAgIHNoYXBlVG9BYWJiXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuXG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0FXQVJFX1RZUEUgPSAndmlzaWJpbGl0eV9hd2FyZSc7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX0FXQVJFX1RZUEUgPSAndmlzaWJpbGl0eV9hd2FyZSc7XG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9BV0FSRV9UWVBFO1xuICAgIHZpc2libGVCeTogbnVtYmVyW107XG4gICAgaXNXYWxsOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KGlzV2FsbDogYm9vbGVhbiA9IGZhbHNlKTogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBWSVNJQklMSVRZX0FXQVJFX1RZUEUsXG4gICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgIHZpc2libGVCeTogW10sXG4gICAgICAgIGlzV2FsbCxcbiAgICB9IGFzIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudDtcbn1cblxuXG5leHBvcnQgY2xhc3MgVmlzaWJpbGl0eUF3YXJlU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gVklTSUJJTElUWV9BV0FSRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtWSVNJQklMSVRZX1RZUEUsIElOVEVSQUNUSU9OX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSB2aXNpYmlsaXR5U3lzOiBWaXNpYmlsaXR5U3lzdGVtO1xuICAgIHByaXZhdGUgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudD4oVklTSUJJTElUWV9BV0FSRV9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnRzOlxuICAgICAqIGF3YXJlX3VwZGF0ZShjb21wb25lbnQsIGFkZGVkLCByZW1vdmVkKVxuICAgICAqICAgQ2FsbGVkIHdoZW4gYSBWaXNpYmlsaXR5QXdhcmUgZW50aXR5IGlzIHVwZGF0ZWRcbiAgICAgKiAgIHdoeSBjYW4ndCB3ZSBkbyB0aGlzIHdpdGggYSBub3JtYWwgY29tcG9uZW50X2VkaXQgZXZlbnQ/XG4gICAgICogICBJdCdzIGVhc2llciBub3QgdG8gYnVpbGQgY29tcG9uZW50IGRpZmZzLlxuICAgICAqICAgSWYgeW91IHdhbnQgdG8gdHJhY2sgb2xkIHZhbHVlcyBkbyBpdCBvbiB5b3VyIG93bi5cbiAgICAgKi9cbiAgICBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnZpc2liaWxpdHlTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eVN5c3RlbTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZpc2liaWxpdHlDaGFuZ2Uodmlld2VyOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBwb2x5Z29uOiBudW1iZXJbXSB8IHVuZGVmaW5lZCwgcmFuZ2U6IG51bWJlcik6IHZvaWQge1xuICAgICAgICByYW5nZSAqPSB0aGlzLmdyaWRTaXplO1xuICAgICAgICBpZiAocG9seWdvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBQbGF5ZXIgdmlzaWJpbGl0eSBudWxsXG4gICAgICAgICAgICBsZXQgb2xkQ2FuU2VlID0gdmlld2VyLl9jYW5TZWU7XG4gICAgICAgICAgICB2aWV3ZXIuX2NhblNlZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBvbGRDYW5TZWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh4KTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZENhblNlZSA9IHZpZXdlci5fY2FuU2VlO1xuICAgICAgICB2aWV3ZXIuX2NhblNlZSA9IFtdO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgaW50ZXJTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxJbnRlcmFjdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCB2aWV3ZXJQb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aWV3ZXIuZW50aXR5KSE7XG5cbiAgICAgICAgbGV0IHZpZXdlclBvbHkgPSBzaGFwZVBvbHlnb24ocG9seWdvbik7XG4gICAgICAgIGxldCB2aWV3ZXJDaXJjbGUgPSBzaGFwZUNpcmNsZSh2aWV3ZXJQb3MsIHJhbmdlKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBvbGQgYXdhcmVzIGNhbiBzdGlsbCBiZSBzZWVuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygb2xkQ2FuU2VlKSB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBpbnRlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpIS5zaGFwZTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlSW50ZXJzZWN0KHZpZXdlclBvbHksIHNoYXBlKSAmJiBzaGFwZUludGVyc2VjdCh2aWV3ZXJDaXJjbGUsIHNoYXBlKSkge1xuICAgICAgICAgICAgICAgIHZpZXdlci5fY2FuU2VlLnB1c2goaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpITtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIHJlbW92ZSB0YXJnZXQuZW50aXR5IGZyb20gcGxheWVyLl9jYW5TZWUgYXMgaXQncyBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHZpZXdlclBvbHksIGMgPT4ge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuICB0YXJnZXQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuaXNXYWxsICE9PSB0cnVlICYmIG9sZENhblNlZS5pbmRleE9mKGMuZW50aXR5KSA9PT0gLTE7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IGludGVyU3RvcmFnZS5nZXRDb21wb25lbnQoZS5lbnRpdHkpIS5zaGFwZTtcbiAgICAgICAgICAgIGlmICghc2hhcGVJbnRlcnNlY3Qodmlld2VyQ2lyY2xlLCBzaGFwZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlLmVudGl0eSkhO1xuICAgICAgICAgICAgdmlld2VyLl9jYW5TZWUucHVzaChlLmVudGl0eSk7XG4gICAgICAgICAgICB0YXJnZXQudmlzaWJsZUJ5LnB1c2godmlld2VyLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFt2aWV3ZXIuZW50aXR5XSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2aXNpYmxlRWxlbWVudE1vdmUoYXdhcmU6IFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYXdhcmUuaXNXYWxsID09PSB0cnVlKSByZXR1cm47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChhd2FyZS5lbnRpdHkpITtcbiAgICAgICAgbGV0IHNoYXBlID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGF3YXJlLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpLnNoYXBlO1xuXG4gICAgICAgIGxldCBvbGRWaXNpYmxlQnkgPSBhd2FyZS52aXNpYmxlQnk7XG4gICAgICAgIGF3YXJlLnZpc2libGVCeSA9IFtdO1xuXG4gICAgICAgIGxldCBhZGRlZCA9IFtdO1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IFtdO1xuXG4gICAgICAgIC8vIFNlYXJjaCBmb3IgbmV3IHBsYXllcnNcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnZpc2liaWxpdHlTeXMuYWFiYlRyZWUucXVlcnkoQWFiYi5mcm9tUG9pbnQocG9zKSkpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSBwLnRhZyEuZW50aXR5O1xuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQgfHwgb2xkVmlzaWJsZUJ5LmluZGV4T2YoZW50aXR5KSAhPT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgcHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBpZiAoIXNoYXBlSW50ZXJzZWN0KHNoYXBlQ2lyY2xlKHBwb3MsIHJhbmdlKSwgc2hhcGUpIHx8ICFzaGFwZUludGVyc2VjdChzaGFwZSwgc2hhcGVQb2x5Z29uKHAudGFnPy5wb2x5Z29uISkpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdmlzLl9jYW5TZWUucHVzaChhd2FyZS5lbnRpdHkpO1xuICAgICAgICAgICAgYXdhcmUudmlzaWJsZUJ5LnB1c2godmlzLmVudGl0eSk7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHZpcy5lbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG9sZCBwbGF5ZXJzXG4gICAgICAgIGZvciAobGV0IHAgb2Ygb2xkVmlzaWJsZUJ5KSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgbGV0IHBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwKSE7XG4gICAgICAgICAgICBsZXQgcHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHApITtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBpZiAoc2hhcGVJbnRlcnNlY3Qoc2hhcGVDaXJjbGUocHBvcywgcmFuZ2UpLCBzaGFwZSkgJiYgc2hhcGVJbnRlcnNlY3Qoc2hhcGUsIHNoYXBlUG9seWdvbihwdmlzLnBvbHlnb24hKSkpIHtcbiAgICAgICAgICAgICAgICBhd2FyZS52aXNpYmxlQnkucHVzaChwKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byByZW1vdmUgZS5fdmlzaWJsZUJ5IGFzIGl0J3MgYWxyZWFkeSBiZWVuIGNsZWFyZWRcbiAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh2aXMuX2NhblNlZSwgYXdhcmUuZW50aXR5KTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaCh2aXMuZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGRlZC5sZW5ndGggKyByZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIGF3YXJlLCBhZGRlZCwgcmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVmlld0Jsb2NrZXJFZGl0ZWQodmlld2VyOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBuZXdXYWxsczogbnVtYmVyW10sIG9sZFdhbGxzPzogbnVtYmVyW10pIHtcbiAgICAgICAgb2xkV2FsbHMgPSBvbGRXYWxscyB8fCBbXTtcbiAgICAgICAgaWYgKG5ld1dhbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUGxheWVyIHZpc2liaWxpdHkgbnVsbFxuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBvbGRXYWxscykge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHgpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbW1vbldhbGxzID0gW107XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgb2xkIGF3YXJlcyBjYW4gc3RpbGwgYmUgc2VlblxuICAgICAgICBmb3IgKGxldCBpIG9mIG9sZFdhbGxzKSB7XG4gICAgICAgICAgICBpZiAobmV3V2FsbHMuaW5jbHVkZXMoaSkpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCA9XCIgKyBpKTtcbiAgICAgICAgICAgICAgICBjb21tb25XYWxscy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChpKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8ICVcIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgLVwiICsgdGFyZ2V0LmVudGl0eSk7XG5cbiAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlIG9mIG5ld1dhbGxzKSB7XG4gICAgICAgICAgICBpZiAoY29tbW9uV2FsbHMuaW5jbHVkZXMoZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8IF5cIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgK1wiICsgdGFyZ2V0LmVudGl0eSk7XG5cbiAgICAgICAgICAgIHRhcmdldC52aXNpYmxlQnkucHVzaCh2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW3ZpZXdlci5lbnRpdHldLCBbXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX0FXQVJFX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRNb3ZlKGNvbXAgYXMgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjb21wIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIGlmICgncG9seWdvbicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZSh2aXMsIHZpcy5wb2x5Z29uLCB2aXMucmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdfY2FuU2VlV2FsbHMnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmlld0Jsb2NrZXJFZGl0ZWQodmlzLCB2aXMuX2NhblNlZVdhbGxzISwgY2hhbmdlZC5fY2FuU2VlV2FsbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUE9TSVRJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpc0F3YXJlID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzQXdhcmUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLnZpc2libGVFbGVtZW50TW92ZSh2aXNBd2FyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjb21wIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2UodmlzLCB1bmRlZmluZWQsIDApO1xuICAgICAgICAgICAgdGhpcy5vblZpZXdCbG9ja2VyRWRpdGVkKHZpcywgW10sIHZpcy5fY2FuU2VlV2FsbHMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9BV0FSRV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmEgPSBjb21wIGFzIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiB2YS52aXNpYmxlQnkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh2aXMuX2NhblNlZSwgdmEuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUgJiYgJ3NpemUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBjYXJlLCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29ucyB3aWxsIGNoYW5nZSBvbiB0aGVpciBvd25cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hbnVhbFJlY29tcHV0ZVdhbGwoZW50aXR5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCB8fCAhYy5pc1dhbGwpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXdXYWxsczogbnVtYmVyW10gPSBbXTtcblxuICAgICAgICBjb25zdCBpbnRlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKGludGVyID09PSB1bmRlZmluZWQgfHwgaW50ZXIuc2hhcGUudHlwZSAhPT0gU2hhcGVUeXBlLkxJTkUpIHJldHVybjtcbiAgICAgICAgY29uc3QgYWFiYiA9IHNoYXBlVG9BYWJiKGludGVyLnNoYXBlKTtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBbLi4udGhpcy52aXNpYmlsaXR5U3lzLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpXSkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IG5vZGUudGFnISBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGNvbXAuX2NhblNlZVdhbGxzPy5pbmNsdWRlcyhjLmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBuZXdXYWxscy5wdXNoKGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgY29uc3QgcmVtb3ZlZEVsZW1lbnRzID0gYy52aXNpYmxlQnkuZmlsdGVyKHggPT4gIW5ld1dhbGxzLmluY2x1ZGVzKHgpKTtcbiAgICAgICAgY29uc3QgYWRkZWRFbGVtZW50cyA9IG5ld1dhbGxzLmZpbHRlcih4ID0+ICFjLnZpc2libGVCeS5pbmNsdWRlcyh4KSk7XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgYywgYWRkZWRFbGVtZW50cywgcmVtb3ZlZEVsZW1lbnRzKTtcbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbXBvbmVudCwgSE9TVF9ISURERU5fVFlQRSwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7RHluYW1pY1RyZWV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9keW5hbWljVHJlZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge2NvbXB1dGVWaWV3cG9ydH0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L3Zpc2liaWxpdHlQb2x5Z29uXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtcbiAgICBJTlRFUkFDVElPTl9UWVBFLFxuICAgIEludGVyYWN0aW9uQ29tcG9uZW50LFxuICAgIEludGVyYWN0aW9uU3lzdGVtLFxuICAgIExpbmVTaGFwZSxcbiAgICBzaGFwZUFhYmIsXG4gICAgc2hhcGVUb0FhYmIsXG4gICAgU2hhcGVUeXBlXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuXG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX1RZUEUgPSAndmlzaWJpbGl0eSc7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX1RZUEUgPSAndmlzaWJpbGl0eSc7XG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFZJU0lCSUxJVFlfVFlQRTtcbiAgICByYW5nZTogbnVtYmVyOy8vIEluIGdyaWRzIChieSBkZWZhdWx0IDEgZ3JpZCA9IDEyOCBwaXhlbHMpXG4gICAgdHJhY2tXYWxsczogYm9vbGVhbjtcbiAgICBwb2x5Z29uPzogbnVtYmVyW107XG4gICAgYWFiYj86IEFhYmI7XG4gICAgX2FhYmJUcmVlSWQ/OiBudW1iZXI7XG4gICAgX2NhblNlZTogbnVtYmVyW107Ly8gVmlzaWJpbGl0eSBhd2FyZSBjb21wb25lbnRzXG4gICAgX2NhblNlZVdhbGxzPzogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSA9ICd2aXNpYmlsaXR5X2Jsb2NrZXInO1xuZXhwb3J0IHR5cGUgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUgPSAndmlzaWJpbGl0eV9ibG9ja2VyJztcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eUJsb2NrZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFO1xufVxuXG5cbi8qKlxuICogUGxlYXNlIGRvbid0IHN0aWNrIGEgdmlzaWJpbGl0eSBjb21wb25lbnQgdG8gYW4gZW50aXR5IHdpdGggYSB3YWxsIGNvbXBvbmVudCAob3IgdmljZS12ZXJzYSksXG4gKiB0aGV5IGRvbid0IGdvIGFsb25nIHRvZ2V0aGVyIHRvbyBtdWNoLCBmb3IgYSBsb3Qgb2YgcmVhc29ucy5cbiAqXG4gKiBUaGlzIHN5c3RlbSBxdWVyaWVzIGV2ZXJ5IGVudGl0eSB3aXRoIGEgVmlzaWJpbGl0eUNvbXBvbmVudCBhbmQga2VlcHMgaXQgdXBkYXRlZCwgYnkgdGhhdCBJIG1lYW46XG4gKiAtIFJlY29tcHV0ZSB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIHdoZW4gdGhlIHJhbmdlIGNoYW5nZXNcbiAqIC0gUmVjb21wdXRlIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gd2hlbiB0aGUgd2FsbHMgY2hhbmdlXG4gKlxuICogTGl0dGxlIG5vdGUgb24gdmlzaWJpbGl0eSBwb2x5Z29uIGFsZ29yaXRobXM6XG4gKiBHZW5lcmFsIHBvbHlnb25zIGFyZSBhIG1lc3MgdG8gZGVhbCB3aXRoLCBidXQgdGhlIHZpc2liaWxpdHkgcG9seWdvbiBpcyBhIGJpdCBlYXNpZXIgdGhhbiBtb3N0LlxuICogU2luY2UgdGhlcmUgYXJlIG5vIHBvcnRhbHMgbm9yIG1pcnJvcnMgaW4gdGhlIGdhbWUgKHlldCEpIGVhY2ggcG9pbnQgaW4gdGhlIHBvbHlnb24gaXMgdmlzaWJsZSBmcm9tIHRoZSBjZW50ZXIuXG4gKiBIb3cgY2FuIHRoaXMgcHJvcGVydHkgaGVscCBpbiBhbnkgd2F5PyBMZXQgbWUgbWFrZSBhbiBleGFtcGxlOlxuICogV2UgY2FuIGVhc2lseSBjb21wdXRlIGlmIGEgcG9pbnQgaXMgaW5zaWRlIG9mIHRoaXMgcG9seWdvbiBieSBkb2luZyBhIGJpbmFyeSBzZWFyY2ggb24gdGhlIGFuZ2xlcywgc28gdGhlIGFsZ29yaXRobVxuICogYmVjb21lcyBvZiBjb21wbGV4aXR5IE8obG9nKG4pKSB3aGVyZSBuIGFyZSB0aGUgcG9seWdvbiBwb2ludHMuXG4gKiBBbm90aGVyIHByb3BlcnR5IHRoYXQgSSdtIHVzaW5nIGlzIHRoYXQgYSB2aXNpYmlsaXR5IHBvbHlnb24gaXMgbXVjaCBlYXNpZXIgdG8gdHJpYW5ndWxhdGUhXG4gKiBDdXQgb2ZmIGFsbCB0aG9zZSBlYXIgY3V0dGluZyBhbGdvcml0aG1zLCBqdXN0IG1ha2UgdHJpYW5nbGVzIHN0YXJ0aW5nIGZyb20gdGhlIGNlbnRlciFcbiAqL1xuZXhwb3J0IGNsYXNzIFZpc2liaWxpdHlTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBWSVNJQklMSVRZX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0lOVEVSQUNUSU9OX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+KFZJU0lCSUxJVFlfVFlQRSwgZmFsc2UsIGZhbHNlKTtcbiAgICBibG9ja2VyU3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlCbG9ja2VyPihWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIGludGVyYWN0aW9uU3lzdGVtOiBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICBncmlkU2l6ZTogbnVtYmVyO1xuICAgIGFhYmJUcmVlID0gbmV3IER5bmFtaWNUcmVlPFZpc2liaWxpdHlDb21wb25lbnQ+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uU3lzdGVtID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLmJsb2NrZXJTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmVkJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVUcmVlUG9seWdvbihjOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLl9hYWJiVHJlZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWFiYlRyZWUuZGVzdHJveVByb3h5KGMuX2FhYmJUcmVlSWQpO1xuICAgICAgICAgICAgYy5fYWFiYlRyZWVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVBvbHlnb24oYzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICAvLyBJZ25vcmUgaWYgaXQncyBoaWRkZW4uXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkpIHJldHVybjtcblxuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAvLyBXZSB3aWxsIHJlY3JlYXRlIGl0IGxhdGVyIChpZiBuZWNlc3NhcnkpXG4gICAgICAgIHRoaXMucmVtb3ZlVHJlZVBvbHlnb24oYyk7XG5cbiAgICAgICAgaWYgKGMucmFuZ2UgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcG9seWdvbkFhYmI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBhYWJiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByYW5nZSA9IGMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuXG4gICAgICAgIGxldCB2aWV3cG9ydCA9IG5ldyBBYWJiKHBvcy54IC0gcmFuZ2UsIHBvcy55IC0gcmFuZ2UsIHBvcy54ICsgcmFuZ2UsIHBvcy55ICsgcmFuZ2UpO1xuXG4gICAgICAgIGxldCBsaW5lcyA9IG5ldyBBcnJheTxMaW5lPigpO1xuICAgICAgICBsZXQgYmxvY2tlcklkcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5pbnRlcmFjdGlvblN5c3RlbS5xdWVyeShzaGFwZUFhYmIodmlld3BvcnQpLCBjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBzID0gZW50cnkuc2hhcGU7XG4gICAgICAgICAgICBpZiAocy50eXBlICE9PSBTaGFwZVR5cGUuTElORSkgdGhyb3cgbmV3IEVycm9yKCdPbmx5IGxpbmUgaXMgc3VwcG9ydGVkIGFzIGxpZ2h0IGJsb2NrZXIgc2hhcGUnKVxuICAgICAgICAgICAgbGV0IGxpbmVEYXRhID0gKHMgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgLy8gVE9ETzogY2hlY2sgaWYgZW50aXR5IGlzIElOIHdhbGwuXG5cbiAgICAgICAgICAgIGxpbmVzLnB1c2gobGluZURhdGEpO1xuICAgICAgICAgICAgYmxvY2tlcklkcy5wdXNoKGVudHJ5LmVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVzZWRCbG9ja2VycztcbiAgICAgICAgaWYgKGMudHJhY2tXYWxscyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdXNlZEJsb2NrZXJzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZWRCbG9ja2VycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9seWdvbiA9IGNvbXB1dGVWaWV3cG9ydChsaW5lcywgdmlld3BvcnQsIHBvcywgdXNlZEJsb2NrZXJzKTtcblxuICAgICAgICAvLyBSZWN5Y2xlIHRoZSB1bnVzZWQgdmlld3BvcnQgb2JqZWN0XG4gICAgICAgIHZpZXdwb3J0LndyYXBQb2x5Z29uKHBvbHlnb24pO1xuXG4gICAgICAgIGlmICh1c2VkQmxvY2tlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VkQmxvY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB1c2VkQmxvY2tlcnNbaV0gPSBibG9ja2VySWRzW3VzZWRCbG9ja2Vyc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwge1xuICAgICAgICAgICAgcG9seWdvbixcbiAgICAgICAgICAgIGFhYmI6IHZpZXdwb3J0LFxuICAgICAgICAgICAgX2NhblNlZVdhbGxzOiB1c2VkQmxvY2tlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMuX2FhYmJUcmVlSWQgPSB0aGlzLmFhYmJUcmVlLmNyZWF0ZVByb3h5KHZpZXdwb3J0LCBjKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlY29tcHV0ZUFyZWEoYWFiYjogQWFiYikge1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIFsuLi50aGlzLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpXSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKG5vZGUudGFnISk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2ID0gYyBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdi5fY2FuU2VlID0gW107XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24odik7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChjbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihjbXAuc2hhcGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUgJiYgdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYigoYyBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCkuc2hhcGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIENvbXBvbmVudCBoaWRkZW4gaXMgbGlrZSBjb21wb25lbnQgbWlzc2luZywgdGhleSB3b24ndCBiZSBhYmxlIHRvIHNlZSBhIHRoaW5nXG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHkodmlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGJsbyA9IHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChibG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eUJsb2NrZXIoYmxvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuO1xuICAgICAgICBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICgncmFuZ2UnIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmMgPSBjIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHZjLnJhbmdlKSB8fCB2Yy5yYW5nZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZjLnJhbmdlID0gNTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihjIGFzIFZpc2liaWxpdHlDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUE9TSVRJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKHZpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYmxrID0gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGJsayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGludGVyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYmxrLmVudGl0eSxJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoaW50ZXIuc2hhcGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUgJiYgJ3NoYXBlJyBpbiBjaGFuZ2VzICYmIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgaSA9IGMgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihpLnNoYXBlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHkoYyBhcyBWaXNpYmlsaXR5Q29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHlCbG9ja2VyKGMgYXMgVmlzaWJpbGl0eUJsb2NrZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSAmJiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGkgPSBjIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoaS5zaGFwZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgLy8gV2VsY29tZSB0byB0aGUgdmlzaWJsZSFcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbih2aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmxvID0gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGJsbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAoY21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGNtcC5zaGFwZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUgJiYgJ3NpemUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBldmVyeXRoaW5nIGluIHRoZSBuZXh0IHRpY2sgc28gdGhhdCBldmVyeW9uZSBzZWVzIHRoZSBjaGFuZ2VzIGZpcnN0XG4gICAgICAgICAgICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlVmlzaWJpbGl0eShjOiBWaXNpYmlsaXR5Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlVHJlZVBvbHlnb24oYyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVWaXNpYmlsaXR5QmxvY2tlcihjOiBWaXNpYmlsaXR5QmxvY2tlcikge1xuICAgICAgICBsZXQgY21wID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAoY21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihjbXAuc2hhcGUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7bG9hZFRleHR1cmV9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIEVsZW1lbnRUeXBlLFxuICAgIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsXG4gICAgR1JBUEhJQ19UWVBFLFxuICAgIEdyYXBoaWNDb21wb25lbnQsXG4gICAgSW1hZ2VFbGVtZW50LFxuICAgIEltYWdlU2NhbGVNb2RlLFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7QklHX1NUT1JBR0VfVFlQRSwgQmlnU3RvcmFnZUluZGV4LCBCaWdTdG9yYWdlU3lzdGVtLCBCaWdFbnRyeUZsYWdzfSBmcm9tIFwiLi9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW1cIjtcbmltcG9ydCB7IE5hbWVBc0xhYmVsQ29tcG9uZW50LCBOYW1lQXNMYWJlbFN5c3RlbSwgTkFNRV9BU19MQUJFTF9UWVBFIH0gZnJvbSBcIi4vYmFjay9uYW1lQXNMYWJlbFN5c3RlbVwiO1xuXG5leHBvcnQgdHlwZSBCQUNLR1JPVU5EX1RZUEUgPSAnYmFja2dyb3VuZF9pbWFnZSc7XG5leHBvcnQgY29uc3QgQkFDS0dST1VORF9JTUFHRV9UWVBFID0gJ2JhY2tncm91bmRfaW1hZ2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogQkFDS0dST1VORF9UWVBFO1xuICAgIGltYWdlOiBCaWdTdG9yYWdlSW5kZXg8VWludDhBcnJheT47XG4gICAgdmlzTWFwOiBCaWdTdG9yYWdlSW5kZXg8VWludDhBcnJheT4gfCB1bmRlZmluZWQ7XG4gICAgaW1hZ2VUeXBlOiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRJbWFnZVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEJBQ0tHUk9VTkRfSU1BR0VfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JBUEhJQ19UWVBFLCBCSUdfU1RPUkFHRV9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBzdG9yYWdlOiBTaW5nbGVFY3NTdG9yYWdlPEJhY2tncm91bmRJbWFnZUNvbXBvbmVudD47XG4gICAgcHJpdmF0ZSByZWFkb25seSBiaWdTdG9yYWdlOiBCaWdTdG9yYWdlU3lzdGVtO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5iaWdTdG9yYWdlID0gd29ybGQuc3lzdGVtcy5nZXQoQklHX1NUT1JBR0VfVFlQRSkgYXMgQmlnU3RvcmFnZVN5c3RlbTtcblxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ+KEJBQ0tHUk9VTkRfSU1BR0VfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFLCB0aGlzLm9uUmVtZW1iZXJCQkJVcGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gQkFDS0dST1VORF9JTUFHRV9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCBia2dJbWcgPSBjIGFzIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudDtcblxuICAgICAgICBpZiAodHlwZW9mIGJrZ0ltZy5pbWFnZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmIChVaW50OEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJrZ0ltZy5pbWFnZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyB2ZXJzaW9ucyBkaWQgbm90IGhhdmUgQmlnU3RvcmFnZVN5c3RlbSwgbGV0J3MgZml4IHRoYXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXCJDb252ZXJ0aW5nIGJhY2tncm91bmQgdG8gQmlnU3RvcmFnZS4uLlwiKTtcbiAgICAgICAgICAgICAgICBia2dJbWcuaW1hZ2UgPSB0aGlzLmJpZ1N0b3JhZ2UuY3JlYXRlKGJrZ0ltZy5pbWFnZSkubXVsdGlJZDtcbiAgICAgICAgICAgICAgICBia2dJbWcudmlzTWFwID0gdGhpcy5iaWdTdG9yYWdlLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgYmtnSW1nLnZpc01hcCxcbiAgICAgICAgICAgICAgICAgICAgQmlnRW50cnlGbGFncy5TSEFSRUQgfCBCaWdFbnRyeUZsYWdzLlJFQURPTkxZXG4gICAgICAgICAgICAgICAgKS5tdWx0aUlkO1xuXG4gICAgICAgICAgICAgICAgZGVsZXRlIChia2dJbWcgYXMgYW55KVsndmlzaWJpbGl0eU1hcCddO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChia2dJbWcuaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoaXMgaW1hZ2UgaGFzIG5vIHRleHR1cmUsIGRlbGV0aW5nXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IsIGNvdWxkIG5vdCBjb252ZXJ0IGJrZ0ltYWdlISBSZXNldHRpbmdcIiwgYmtnSW1nLmltYWdlKTtcbiAgICAgICAgICAgICAgICBia2dJbWcuaW1hZ2UgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbWFnZSA9IHRoaXMuYmlnU3RvcmFnZS5yZXF1ZXN0VXNlPFVpbnQ4QXJyYXk+KGJrZ0ltZy5pbWFnZSkhIS5kYXRhO1xuICAgICAgICBpZiAoKGltYWdlIGFzIGFueSkuaW1hZ2UgIT09IHVuZGVmaW5lZCB8fCBpbWFnZS5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBvbGQgdmVyc2lvbiBvZiBiYWNrZ3JvdW5kLCB1bnN1cHBvcnRlZFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZW1vdmluZyBlbXB0eS91bnN1cHBvcnRlZCBiYWNrZ3JvdW5kIFwiICsgYmtnSW1nLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLmJpZ1N0b3JhZ2UuZHJvcFVzZShia2dJbWcuZW50aXR5LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZGVzcGF3bkVudGl0eShia2dJbWcuZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2aXNNYXA6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChia2dJbWcudmlzTWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZpc01hcCA9IHRoaXMuYmlnU3RvcmFnZS5yZXF1ZXN0VXNlPFVpbnQ4QXJyYXk+KGJrZ0ltZy52aXNNYXApPy5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRleCA9IGF3YWl0IGxvYWRUZXh0dXJlKGltYWdlLCBia2dJbWcuaW1hZ2VUeXBlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGltYWdlOiBcIiwgZSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudGl0eTogYy5lbnRpdHksXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuQkFDS0dST1VORCxcbiAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuUkVBTCxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCxcbiAgICAgICAgICAgICAgICB2aXNNYXAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogdGV4LFxuICAgICAgICAgICAgICAgIGFuY2hvcjogeyB4OiAwLjUsIHk6IDAuNSB9LFxuICAgICAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgfSBhcyBJbWFnZUVsZW1lbnQsXG4gICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIHtcbiAgICAgICAgICAgIHR5cGU6IE5BTUVfQVNfTEFCRUxfVFlQRSxcbiAgICAgICAgICAgIGluaXRpYWxPZmZzZXQ6IHsgeDogMCwgeTogLXRleC5oZWlnaHQgLyAyfVxuICAgICAgICB9IGFzIE5hbWVBc0xhYmVsQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlICE9PSBCQUNLR1JPVU5EX0lNQUdFX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IGJrZ0ltZyA9IGMgYXMgQmFja2dyb3VuZEltYWdlQ29tcG9uZW50O1xuXG4gICAgICAgIGlmIChia2dJbWcuaW1hZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5iaWdTdG9yYWdlLmRyb3BVc2UoYmtnSW1nLmltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmtnSW1nLnZpc01hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJpZ1N0b3JhZ2UuZHJvcFVzZShia2dJbWcudmlzTWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZW1lbWJlckJCQlVwZGF0ZShlbnRpdGllczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IGdzdG9yID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoR1JBUEhJQ19UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPEdyYXBoaWNDb21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGUgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgdmlzRGF0YSA9IChnc3Rvci5nZXRDb21wb25lbnQoZSk/LmRpc3BsYXkgYXMgSW1hZ2VFbGVtZW50KT8udmlzTWFwO1xuXG4gICAgICAgICAgICBpZiAoYy52aXNNYXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGMudmlzTWFwID0gdGhpcy5iaWdTdG9yYWdlLmNyZWF0ZSh2aXNEYXRhLCBCaWdFbnRyeUZsYWdzLk5PX1NZTkMpLm11bHRpSWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMudmlzTWFwID0gdGhpcy5iaWdTdG9yYWdlLnJlcGxhY2UoYy52aXNNYXAsIHZpc0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1xuICAgIENvbW1hbmRSZXN1bHQsXG4gICAgRVZFTlRfQ09NTUFORF9BRERfUE9TVF9DT05TRVFVRU5DRSxcbiAgICBFVkVOVF9DT01NQU5EX0FERF9QUkVfQ09OU0VRVUVOQ0UsXG4gICAgRVZFTlRfQ09NTUFORF9FTUlULFxuICAgIEVWRU5UX0NPTU1BTkRfTE9HXG59IGZyb20gXCIuL2NvbW1hbmRTeXN0ZW1cIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb21tYW5kIHtcbiAgICBraW5kOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIENBTExJTkcgVEhJUyBDT05TVU1FUyBUSEUgQVJHVU1FTlQhXG4gICAgICovXG4gICAgYXBwbHlJbnZlcnQoY29tbWFuZDogQ29tbWFuZCk6IENvbW1hbmQ7XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBDb21tYW5kKTogQ29tbWFuZFtdO1xuXG4gICAgbWVyZ2UodG86IENvbW1hbmQsIGZyb206IENvbW1hbmQpOiBib29sZWFuO1xuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IENvbW1hbmQpOiBib29sZWFuO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlQW5kTG9nQ29tbWFuZCh3b3JsZDogV29ybGQsIGNvbW1hbmQ6IENvbW1hbmQpOiBDb21tYW5kIHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgcmVzID0ge30gYXMgQ29tbWFuZFJlc3VsdDtcbiAgICB3b3JsZC5ldmVudHMuZW1pdChFVkVOVF9DT01NQU5EX0xPRywgY29tbWFuZCwgcmVzKTtcbiAgICByZXR1cm4gcmVzLmludmVydGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1pdENvbW1hbmQod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kLCBzaGFyZTogYm9vbGVhbik6IENvbW1hbmQgfCB1bmRlZmluZWQge1xuICAgIGxldCByZXMgPSB7fSBhcyBDb21tYW5kUmVzdWx0O1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfRU1JVCwgY29tbWFuZCwgcmVzLCBzaGFyZSk7XG4gICAgcmV0dXJuIHJlcy5pbnZlcnRlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmRSZWdpc3RlclByZUNvbnNlcXVlbmNlKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCk6IHZvaWQge1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfQUREX1BSRV9DT05TRVFVRU5DRSwgY29tbWFuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kUmVnaXN0ZXJQb3N0Q29uc2VxdWVuY2Uod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kKTogdm9pZCB7XG4gICAgd29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9BRERfUE9TVF9DT05TRVFVRU5DRSwgY29tbWFuZCk7XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7Q09NTUFORF9UWVBFLCBDb21tYW5kUmVzdWx0LCBDb21tYW5kU3lzdGVtLCBFVkVOVF9DT01NQU5EX0VNSVQsIExvZ0hvb2t9IGZyb20gXCIuL2NvbW1hbmRTeXN0ZW1cIjtcbmltcG9ydCB7Tm9uZUNvbW1hbmR9IGZyb20gXCIuL25vbmVDb21tYW5kXCI7XG5cbmNvbnN0IEhJU1RPUllfTElNSVQgPSAxMjg7XG5cbmludGVyZmFjZSBIaXN0b3J5RW50cnkge1xuICAgIGNtZDogQ29tbWFuZCxcbiAgICAvLyBNYW5hZ2VzIGRlcGVuZGVuY2llcyBhbmQgcmVsYXRpb25zXG4gICAgLy9wcmU6IENvbW1hbmRbXSxcbiAgICAvL3Bvc3Q6IENvbW1hbmRbXSxcbn1cblxuZXhwb3J0IGNvbnN0IENPTU1BTkRfSElTVE9SWV9UWVBFID0gJ2NvbW1hbmRfaGlzdG9yeSc7XG5leHBvcnQgdHlwZSBDT01NQU5EX0hJU1RPUllfVFlQRSA9IHR5cGVvZiBDT01NQU5EX0hJU1RPUllfVFlQRTtcbmV4cG9ydCBjbGFzcyBDb21tYW5kSGlzdG9yeVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSwgTG9nSG9vayB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBDT01NQU5EX0hJU1RPUllfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbQ09NTUFORF9UWVBFXTtcblxuICAgIC8vcHJpdmF0ZSBwcmVwYXJlZD86IEhpc3RvcnlFbnRyeTtcbiAgICBjb21tYW5kU3lzOiBDb21tYW5kU3lzdGVtO1xuICAgIGhpc3Rvcnk6IEFycmF5PEhpc3RvcnlFbnRyeT47XG4gICAgaXNMYXN0UGFydGlhbDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGluZGV4OiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmhpc3RvcnkgPSBuZXcgQXJyYXk8SGlzdG9yeUVudHJ5PigpO1xuXG4gICAgICAgIHRoaXMuY29tbWFuZFN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoQ09NTUFORF9UWVBFKSBhcyBDb21tYW5kU3lzdGVtO1xuICAgICAgICB0aGlzLmNvbW1hbmRTeXMubG9nZ2VyID0gdGhpcztcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihcImNvbW1hbmRfdW5kb1wiLCB0aGlzLm9uVW5kbywgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKFwiY29tbWFuZF9yZWRvXCIsIHRoaXMub25SZWRvLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlQdXNoKGNtZDogSGlzdG9yeUVudHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLmhpc3RvcnkubGVuZ3RoICE9PSB0aGlzLmluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkubGVuZ3RoID0gdGhpcy5pbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChjbWQpO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID4gSElTVE9SWV9MSU1JVCkge1xuICAgICAgICAgICAgdGhpcy5pbmRleC0tO1xuICAgICAgICAgICAgLy8gVE9ETzogdXNlIHNvbWUga2luZCBvZiByYW5kb20tYWNjZXNzIHNwbGljZS1hYmxlIGRlcXVlP1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlSZXBsYWNlUHJldihjbWQ6IEhpc3RvcnlFbnRyeSkge1xuICAgICAgICB0aGlzLmhpc3RvcnlbdGhpcy5pbmRleCAtIDFdID0gY21kO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVVuZG8ocmVwbGFjZTogSGlzdG9yeUVudHJ5KSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeVJlcGxhY2VQcmV2KHJlcGxhY2UpO1xuICAgICAgICB0aGlzLmluZGV4LS07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UmVkbyhyZXBsYWNlOiBIaXN0b3J5RW50cnkpIHtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICB0aGlzLmhpc3RvcnlSZXBsYWNlUHJldihyZXBsYWNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlQZWVrUHJldigpOiBIaXN0b3J5RW50cnkgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pbmRleCA8PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5W3RoaXMuaW5kZXggLSAxXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlQZWVrTmV4dCgpOiBIaXN0b3J5RW50cnkgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pbmRleCA+PSB0aGlzLmhpc3RvcnkubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5W3RoaXMuaW5kZXhdO1xuICAgIH1cblxuICAgIG5vdGlmeUhpc3RvcnlDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2hpc3RvcnlfY2hhbmdlXCIsIHRoaXMuY2FuVW5kbygpLCB0aGlzLmNhblJlZG8oKSk7XG4gICAgfVxuXG4gICAgY2xvc2VQYXJ0aWFsKCkge1xuICAgICAgICB0aGlzLmlzTGFzdFBhcnRpYWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm9jZXNzUGFydGlhbChjbWQ6IENvbW1hbmQsIHBhcnRpYWw6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNMYXN0UGFydGlhbCAmJiAhcGFydGlhbCkge1xuICAgICAgICAgICAgdGhpcy5pc0xhc3RQYXJ0aWFsID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjb250aW51ZSwgdGhpcyBpcyB0aGUgbGFzdCBwYXJ0aWFsIHJvdW5kXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpdCdzIG5vdCBwYXJ0aWFsIChidXQgYWxzbyB0aGUgbGFzdCBvbmUgd2FzIGFsc28gbm90IGEgcGFydGlhbClcbiAgICAgICAgICAgIGlmICghcGFydGlhbCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAvLyB0aGUgbGFzdCBvbmUgd2FzIG5vdCBwYXJ0aWFsIGJ1dCB0aGlzIG9uZSBpcyxcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgY29tbWFuZCB0byB0aGUgcXVldWUgYW5kIHdhaXQgZm9yIHRoZSBuZXh0XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNMYXN0UGFydGlhbCAmJiBwYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xhc3RQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhc3RDbWQgPSB0aGlzLmhpc3RvcnlQZWVrUHJldigpITtcbiAgICAgICAgaWYgKGNtZC5raW5kICE9PSBsYXN0Q21kLmNtZC5raW5kKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBwcm9jZXNzaW5nIGEgcGFydGlhbCB3aXRoIGEgd3JvbmcgbGFzdCBraW5kLCBkaWQgeW91IGZvcmdldCB0byBsb2cgdGhlIGxhc3QgcGFydGlhbCBjb21tYW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtpbmQgPSB0aGlzLmNvbW1hbmRTeXMuZ2V0S2luZChjbWQua2luZCkhO1xuICAgICAgICBraW5kLm1lcmdlKGNtZCwgbGFzdENtZC5jbWQpO1xuICAgICAgICB0aGlzLmhpc3RvcnlSZXBsYWNlUHJldih7XG4gICAgICAgICAgICBjbWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGxvZ1ByZXBhcmUocGFydGlhbDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8qdGhpcy5wcmVwYXJlZCA9IHtcbiAgICAgICAgICAgIGNtZDogeyBraW5kOiAnbm9uZSd9IGFzIE5vbmVDb21tYW5kLFxuICAgICAgICAgICAgcG9zdDogW10sIHByZTogW10sXG4gICAgICAgIH07Ki9cbiAgICB9XG5cblxuICAgIGxvZ0NvbW1pdChjbWQ6IENvbW1hbmQgfCB1bmRlZmluZWQsIHBhcnRpYWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIkxPR1wiLCBKU09OLnN0cmluZ2lmeShjbWQpKTtcbiAgICAgICAgaWYgKGNtZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIXBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUGFydGlhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc1BhcnRpYWwoY21kLCBwYXJ0aWFsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGlzdG9yeVB1c2goeyBjbWQgfSk7XG4gICAgICAgIHRoaXMubm90aWZ5SGlzdG9yeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXhlY3V0ZUVtaXQoY21kOiBDb21tYW5kKTogQ29tbWFuZCB7XG4gICAgICAgIGxldCByZXMgPSB7fSBhcyBDb21tYW5kUmVzdWx0O1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfRU1JVCwgY21kLCByZXMpO1xuICAgICAgICByZXR1cm4gcmVzLmludmVydGVkIHx8IHsga2luZDogJ25vbmUnIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblVuZG8oKSB7XG4gICAgICAgIGxldCBjbWQgPSB0aGlzLmhpc3RvcnlQZWVrUHJldigpO1xuXG4gICAgICAgIGlmIChjbWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3RoaW5nIHRvIHVuZG9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhpc3RvcnlVbmRvKHsgY21kOiB0aGlzLmV4ZWN1dGVFbWl0KGNtZC5jbWQpfSk7XG4gICAgICAgIHRoaXMubm90aWZ5SGlzdG9yeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZWRvKCkge1xuICAgICAgICBsZXQgY21kID0gdGhpcy5oaXN0b3J5UGVla05leHQoKTtcbiAgICAgICAgaWYgKGNtZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vdGhpbmcgdG8gcmVkb1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGlzdG9yeVJlZG8oeyBjbWQ6IHRoaXMuZXhlY3V0ZUVtaXQoY21kLmNtZCkgfSk7XG4gICAgICAgIHRoaXMubm90aWZ5SGlzdG9yeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIGNhblJlZG8oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkubGVuZ3RoID4gdGhpcy5pbmRleDtcbiAgICB9XG5cbiAgICBjYW5VbmRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCA+IDA7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZEtpbmR9IGZyb20gXCIuL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtEZVNwYXduQ29tbWFuZEtpbmR9IGZyb20gXCIuL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge0NvbXBvbmVudEVkaXRDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tcG9uZW50RWRpdFwiO1xuaW1wb3J0IHtSZXNvdXJjZUVkaXRDb21tYW5kS2luZH0gZnJvbSBcIi4vcmVzb3VyY2VFZGl0Q29tbWFuZFwiO1xuaW1wb3J0IHtFdmVudENvbW1hbmRLaW5kfSBmcm9tIFwiLi9ldmVudENvbW1hbmRcIjtcbmltcG9ydCB7Tm9uZUNvbW1hbmRLaW5kfSBmcm9tIFwiLi9ub25lQ29tbWFuZFwiO1xuaW1wb3J0IHtORVRXT1JLX1RZUEUsIE5ldHdvcmtTeXN0ZW19IGZyb20gXCIuLi9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb21tYW5kUmVzdWx0IHtcbiAgICBpbnZlcnRlZD86IENvbW1hbmQ7XG59XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9DT01NQU5EX0VNSVQgPSAnY29tbWFuZF9lbWl0JztcbmV4cG9ydCBjb25zdCBFVkVOVF9DT01NQU5EX0xPRyA9ICdjb21tYW5kX2xvZyc7XG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9QQVJUSUFMX0VORCA9ICdjb21tYW5kX3BhcnRpYWxfZW5kJztcbmV4cG9ydCBjb25zdCBFVkVOVF9DT01NQU5EX0FERF9QUkVfQ09OU0VRVUVOQ0UgPSAnY29tbWFuZF9hZGRfcHJlY29ucyc7XG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9BRERfUE9TVF9DT05TRVFVRU5DRSA9ICdjb21tYW5kX2FkZF9wb3Njb25zJztcblxuZXhwb3J0IGludGVyZmFjZSBMb2dIb29rIHtcbiAgICBsb2dQcmVwYXJlKHBhcnRpYWw6IGJvb2xlYW4pOiB2b2lkO1xuXG4gICAgbG9nQ29tbWl0KGNtZDogQ29tbWFuZCB8IHVuZGVmaW5lZCwgcGFydGlhbDogYm9vbGVhbik6IHZvaWQ7XG59XG5cblxuZXhwb3J0IGNvbnN0IENPTU1BTkRfVFlQRSA9ICdjb21tYW5kJztcbmV4cG9ydCB0eXBlIENPTU1BTkRfVFlQRSA9IHR5cGVvZiBDT01NQU5EX1RZUEU7XG5leHBvcnQgY2xhc3MgQ29tbWFuZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBDT01NQU5EX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmVhZG9ubHkgb3B0aW9uYWxEZXBlbmRlbmNpZXMgPSBbTkVUV09SS19UWVBFXVxuXG4gICAgbG9nZ2VyPzogTG9nSG9vaztcblxuICAgIHByaXZhdGUgY29tbWFuZHMgPSBuZXcgTWFwPHN0cmluZywgQ29tbWFuZEtpbmQ+KCk7XG4gICAgcHJpdmF0ZSBuZXR3b3JrU3lzOiBOZXR3b3JrU3lzdGVtIHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJEZWZhdWx0Q29tbWFuZHMoKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oRVZFTlRfQ09NTUFORF9FTUlULCB0aGlzLm9uRW1pdCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEVWRU5UX0NPTU1BTkRfTE9HLCB0aGlzLm9uTG9nLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oRVZFTlRfQ09NTUFORF9QQVJUSUFMX0VORCwgdGhpcy5vblBhcnRpYWxFbmQsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMubmV0d29ya1N5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KE5FVFdPUktfVFlQRSkgYXMgTmV0d29ya1N5c3RlbSB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZWdpc3RlckNvbW1hbmRLaW5kKGtpbmQ6IENvbW1hbmRLaW5kKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZHMuc2V0KGtpbmQua2luZCwga2luZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3RlckRlZmF1bHRDb21tYW5kcygpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBTcGF3bkNvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBEZVNwYXduQ29tbWFuZEtpbmQodGhpcy53b3JsZCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IENvbXBvbmVudEVkaXRDb21tYW5kS2luZCh0aGlzLndvcmxkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgUmVzb3VyY2VFZGl0Q29tbWFuZEtpbmQodGhpcy53b3JsZCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IEV2ZW50Q29tbWFuZEtpbmQodGhpcy53b3JsZCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IE5vbmVDb21tYW5kS2luZCgpKTtcbiAgICB9XG5cbiAgICBvbkVtaXQoY29tbWFuZDogQ29tbWFuZCwgcmVzPzogQ29tbWFuZFJlc3VsdCwgc2hhcmU/OiBib29sZWFuKSB7XG4gICAgICAgIGxldCBraW5kID0gdGhpcy5jb21tYW5kcy5nZXQoY29tbWFuZC5raW5kKTtcbiAgICAgICAgaWYgKGtpbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgZXhlY3V0aW5nIGNvbW1hbmQ6IHVua25vd24ga2luZCBcIiArIGtpbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2luZC5pc051bGwoY29tbWFuZCkpIHJldHVybjtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkVNSVRcIiwgSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkpO1xuXG4gICAgICAgIGlmICh0aGlzLm5ldHdvcmtTeXM/LmlzT25saW5lKCkgPT09IHRydWUgJiYgc2hhcmUpIHtcbiAgICAgICAgICAgIGxldCBzdHJpcHBlZCA9IGtpbmQuc3RyaXBDbGllbnQoY29tbWFuZCk7XG4gICAgICAgICAgICBpZiAoc3RyaXBwZWQubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImNvbW1hbmRfc2hhcmVcIiwgc3RyaXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfcHJlX2V4ZWN1dGUnKTtcbiAgICAgICAgbGV0IGludjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGludiA9IGtpbmQuYXBwbHlJbnZlcnQoY29tbWFuZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCBhcHBseSBjb21tYW5kXCIsIGNvbW1hbmQsIGUpO1xuICAgICAgICAgICAgaW52ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzLmludmVydGVkID0gaW52O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfcG9zdF9leGVjdXRlJywgaW52KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTG9nKGNvbW1hbmQ6IENvbW1hbmQsIHJlcz86IENvbW1hbmRSZXN1bHQsIHBhcnRpYWw6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzIHx8IHt9O1xuICAgICAgICB0aGlzLm9uRW1pdChjb21tYW5kLCByZXN1bHQsIHRydWUpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuaW52ZXJ0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGludiA9IHJlc3VsdC5pbnZlcnRlZDtcbiAgICAgICAgICAgIGxldCBraW5kID0gdGhpcy5jb21tYW5kcy5nZXQoaW52LmtpbmQpO1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgaW52ZXJ0ZWQgY29tbWFuZCEgXCIgKyBraW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWtpbmQuaXNOdWxsKGludikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcj8ubG9nQ29tbWl0KHJlc3VsdC5pbnZlcnRlZCwgcGFydGlhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyPy5sb2dDb21taXQodW5kZWZpbmVkLCBwYXJ0aWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25QYXJ0aWFsRW5kKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcj8ubG9nQ29tbWl0KHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGdldEtpbmQoa2luZDogc3RyaW5nKTogQ29tbWFuZEtpbmQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5nZXQoa2luZClcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgSGlkZWFibGVDb21wb25lbnQsIEhPU1RfSElEREVOX1RZUEUsIE11bHRpQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0FueU1hcFR5cGUsIE11bHRpRWRpdFR5cGUsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZH0gZnJvbSBcIi4vc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2ZpbHRlckNvbXBvbmVudCwgZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eX0gZnJvbSBcIi4uLy4uL2Vjc1V0aWxcIjtcbmltcG9ydCB7IG9iamVjdENsb25lIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvanNvYmpcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudEVkaXRDb21tYW5kKFxuICAgIGFkZD86IENvbXBvbmVudFtdLFxuICAgIGVkaXQ/OiBFZGl0VHlwZVtdLFxuICAgIHJlbW92ZT86IENvbXBvbmVudFtdLFxuICAgIHBhcmFsbGVsPzogYm9vbGVhbixcbik6IENvbXBvbmVudEVkaXRDb21tYW5kIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICBhZGQsXG4gICAgICAgIGVkaXQsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgbXVsdGk6IHBhcmFsbGVsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZUVkaXRDb21tYW5kKGVkaXQ6IEVkaXRUeXBlKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudEVkaXRDb21tYW5kKHVuZGVmaW5lZCwgW2VkaXRdKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0VHlwZSB7XG4gICAgZW50aXR5OiBudW1iZXI7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG11bHRpSWQ/OiBudW1iZXI7XG4gICAgY2hhbmdlczogQW55TWFwVHlwZSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRFZGl0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdjZWRpdCc7XG4gICAgYWRkPzogQ29tcG9uZW50W107XG4gICAgbXVsdGk/OiBib29sZWFuO1xuICAgIGVkaXQ/OiBFZGl0VHlwZVtdO1xuICAgIHBlZGl0Pzoge1tpZDogbnVtYmVyXTogTXVsdGlFZGl0VHlwZX07XG4gICAgcmVtb3ZlPzogQ29tcG9uZW50W107XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnRFZGl0Q29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdjZWRpdCc7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBDb21wb25lbnRFZGl0Q29tbWFuZCB7XG4gICAgICAgIGxldCBpbnYgPSB7XG4gICAgICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5hZGQgPz8gW10pIHtcbiAgICAgICAgICAgIGludi5yZW1vdmUgPSBpbnYucmVtb3ZlID8/IFtdO1xuICAgICAgICAgICAgaW52LnJlbW92ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGMuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IGMudHlwZSxcbiAgICAgICAgICAgICAgICBtdWx0aUlkOiAoYyBhcyBNdWx0aUNvbXBvbmVudCkubXVsdGlJZCxcbiAgICAgICAgICAgIH0gYXMgTXVsdGlDb21wb25lbnQpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIGMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY21kLm11bHRpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5lZGl0ID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIGMuY2hhbmdlcywgYy5tdWx0aUlkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZW50aXR5TWFwID0gbmV3IE1hcDxudW1iZXIsIE11bHRpRWRpdFR5cGU+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5lZGl0ID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBlbnRpdHlNYXAuZ2V0KGMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5TWFwLnNldChjLmVudGl0eSwgeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHgucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlJZDogYy5tdWx0aUlkLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzOiBjLmNoYW5nZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudGl0eU1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnRNdWx0aXBsZShrZXksIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW52LmVkaXQgPSBjbWQuZWRpdDtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQucmVtb3ZlID8/IFtdKSB7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwgKGMgYXMgTXVsdGlDb21wb25lbnQpLm11bHRpSWQpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBpbnYuYWRkID0gaW52LmFkZCA/PyBbXTtcbiAgICAgICAgICAgICAgICBpbnYuYWRkLnB1c2goZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShjb21wb25lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52O1xuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNtZDogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBuZXcgZW50aXRpdGVzIHRoYXQgaGF2ZSBiZWVuIGhpZGRlblxuICAgICAgICBsZXQgaG9zdF9oaWRkZW4gPSBjbWQuYWRkPy5maWx0ZXIoeCA9PiB4LnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpLm1hcCh4ID0+IHguZW50aXR5KSA/PyBbXTtcbiAgICAgICAgLy8gR2V0IGFsbCBmb2YgdGhlIG5ldyBlbnRpdGllcyB0aGF0IGhhdmUgYmVlbiB1bi1oaWRkZW4gKHNob3duKVxuICAgICAgICBsZXQgbm9uX2hvc3RfaGlkZGVuID0gY21kLnJlbW92ZT8uZmlsdGVyKHggPT4geC50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKS5tYXAoeCA9PiB4LmVudGl0eSkgPz8gW107XG5cbiAgICAgICAgLy8gQ2hlY2tzIGlmIGEgY29tcG9uZW50IGlzIHZpc2libGUgKGEgY29tcG9uZW50IGlzIGJpc2libGUgaWYgY2xpZW50VmlzaWJsZSAhPT0gZmFsc2UgYW5kIGlmIGl0J3NcbiAgICAgICAgLy8gICBub3QgaG9zdC1oaWRkZW4pXG4gICAgICAgIGxldCBwcmVkaWNhdGUgPSAoeDogQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoKHggYXMgSGlkZWFibGVDb21wb25lbnQpLmNsaWVudFZpc2libGUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaG9zdF9oaWRkZW4uaW5kZXhPZih4LmVudGl0eSkgPiAtMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5vbl9ob3N0X2hpZGRlbi5pbmRleE9mKHguZW50aXR5KSA+IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndvcmxkLmdldENvbXBvbmVudCh4LmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gRmlsdGVycyBhIGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgb2xkIGNvbXBvbmVudCwgZm9yIGV4YW1wbGU6XG4gICAgICAgIC8vIGlmIHRoZSBvbGQgY29tcG9uZW50IGlzIGhpZGRlbiBhbmQgdGhlIG5ldyBlZGl0cyBkbyBub3QgY2hhbmdlIHRoYXQsIHRoZSBjb21wb25lbnQgaXMgZmlsdGVyZWRcbiAgICAgICAgLy8gaWYgdGhlIG9sZCBjb21wb25lbnQgaXMgaGlkZGVuIGFuZCB0aGUgbmV3IGVkaXRzIG1pZ2h0IGNoYW5nZSBpdCwgIGl0J3Mgbm90IGhpZGRlblxuICAgICAgICAvLyBpZiB0aGUgb2xkIGNvbXBvbmVudCBpcyBub3QgaGlkZGVuLCBpdCdzIG5vdCBoaWRkZW5cbiAgICAgICAgbGV0IHBhcnRpYWxQcmVkaWNhdGUgPSAoZW50aXR5OiBudW1iZXIsIHR5cGU6IHN0cmluZywgbXVsdGlJZDogbnVtYmVyIHwgdW5kZWZpbmVkLCBjaGFuZ2VzOiBBbnlNYXBUeXBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVhbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgdHlwZSwgbXVsdGlJZCkhO1xuICAgICAgICAgICAgaWYgKChyZWFsIGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSAmJiAhKCdjbGllbnRWaXNpYmxlJyBpbiBjaGFuZ2VzKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh7IGVudGl0eSwgdHlwZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBhZGRlZCBjb21wb25lbnRzIHRoYXQgYXJlIG9ubHkgdmlzaWJsZSB0byB0aGUgY2xpZW50XG4gICAgICAgIGxldCBhZGQgPSBjbWQuYWRkPy5maWx0ZXIocHJlZGljYXRlKTtcbiAgICAgICAgLy8gZ2V0IGVkaXRlZCBjb21wb25lbnRzIHRoYXQgYXJlIG9ubHkgdmlzaWJsZSB0byB0aGUgY2xpZW50XG4gICAgICAgIGxldCBlZGl0ID0gY21kLmVkaXQ/LmZpbHRlcih4ID0+IHBhcnRpYWxQcmVkaWNhdGUoeC5lbnRpdHksIHgudHlwZSwgeC5tdWx0aUlkLCB4LmNoYW5nZXMpKTtcbiAgICAgICAgLy8gZ2V0IHJlbW92ZWQgY29tcG9uZW50cyB0aGF0IGFyZSBvbmx5IHZpc2libGUgdG8gdGhlIGNsaWVudFxuICAgICAgICBsZXQgcmVtb3ZlID0gY21kLnJlbW92ZT8uZmlsdGVyKHggPT4geC50eXBlICE9PSBIT1NUX0hJRERFTl9UWVBFICYmIHBhcnRpYWxQcmVkaWNhdGUoeC5lbnRpdHksIHgudHlwZSwgKHggYXMgTXVsdGlDb21wb25lbnQpLm11bHRpSWQsIHt9KSk7XG5cbiAgICAgICAgLy8gSWYgd2Ugc2V0IGNsaWVudFZpc2libGUgPT09IGZhbHNlIGluIGEgY29tcG9uZW50IHdlIG5lZWQgYSB3YXkgdG8gcmVtb3ZlIGl0IG9uIHRoZSBjbGllbnRcbiAgICAgICAgLy8gIGFuZCB3ZSBhbHNvIG5lZWQgdG8gZG8gdGhlIHNhbWUgdGhpbmcgaW4gcmV2ZXJzZVxuICAgICAgICAvLyBXZSBuZWVkIHRvIHByb3BhZ2F0ZSB0aGUgY2hhbmdlcyBpbiBlZGl0IHRvIGFkZCBhbmQgcmVtb3ZlIGNvbXBvbmVudHMgd2l0aCBjbGllbnRWaXNpYmxlXG4gICAgICAgIGVkaXQgPSBlZGl0Py5maWx0ZXIoeCA9PiB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgZWRpdHMgZGlkIG5vdCBjaGFuZ2UgdGhlIHZpc2liaWxpdHkgdGhlIG9sZCBmaWx0ZXIgaGFzIGZpbmlzaGVkIGFsbCBvZiB0aGUgd29ya1xuICAgICAgICAgICAgaWYgKCEoJ2NsaWVudFZpc2libGUnIGluIHguY2hhbmdlcykpIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgb3JpZyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHguZW50aXR5LCB4LnR5cGUsIHgubXVsdGlJZCkgYXMgSGlkZWFibGVDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAob3JpZyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh4LmNoYW5nZXMuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UgJiYgb3JpZy5jbGllbnRWaXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBlZGl0cyBoYXZlIGhpZGRlbiB0aGUgY29tcG9uZW50IChhbmQgaXQgd2Fzbid0IGhpZGRlbiBhbHJlYWR5KSB0aGVuIHJlbW92ZSBpdFxuICAgICAgICAgICAgICAgIHJlbW92ZSA9IHJlbW92ZSA/PyBbXTtcbiAgICAgICAgICAgICAgICByZW1vdmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eTogeC5lbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHgudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlJZDogeC5tdWx0aUlkLFxuICAgICAgICAgICAgICAgIH0gYXMgTXVsdGlDb21wb25lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh4LmNoYW5nZXMuY2xpZW50VmlzaWJsZSAhPT0gZmFsc2UgJiYgb3JpZy5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlZGl0cyBoYXZlIHVuaGlkZGVuIHRoZSBjb21wb25lbnQgKGFuZCBpdCB3YXMgaGlkZGVuIGJlZm9yZSkgdGhlbiBhZGQgaXRcbiAgICAgICAgICAgICAgICBhZGQgPSBhZGQgPz8gW107XG4gICAgICAgICAgICAgICAgYWRkLnB1c2goZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShvcmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21tYW5kPigpO1xuICAgICAgICBpZiAoaG9zdF9oaWRkZW4ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBob3N0X2hpZGRlbixcbiAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vbl9ob3N0X2hpZGRlbi5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHRoaXMuY3JlYXRlRW50aXR5U3Bhd25QYWNrZXQobm9uX2hvc3RfaGlkZGVuKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChhZGQ/Lmxlbmd0aCB8fCAwKSArIChlZGl0Py5sZW5ndGggfHwgMCkgKyAocmVtb3ZlPy5sZW5ndGggfHwgMCkgIT09IDApIHtcbiAgICAgICAgICAgIGxldCBjZWRpdCA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnY2VkaXQnXG4gICAgICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAgICAgaWYgKGFkZCAhPT0gdW5kZWZpbmVkICYmIGFkZC5sZW5ndGggPiAwKSBjZWRpdC5hZGQgPSBhZGQubWFwKG9iamVjdENsb25lKTtcbiAgICAgICAgICAgIGlmIChlZGl0ICE9PSB1bmRlZmluZWQgJiYgZWRpdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2VkaXQuZWRpdCA9IGVkaXQubWFwKG9iamVjdENsb25lKTtcbiAgICAgICAgICAgICAgICBpZiAoY21kLm11bHRpKSBjZWRpdC5tdWx0aSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtb3ZlICE9PSB1bmRlZmluZWQgJiYgcmVtb3ZlLmxlbmd0aCA+IDApIGNlZGl0LnJlbW92ZSA9IHJlbW92ZS5tYXAob2JqZWN0Q2xvbmUpO1xuICAgICAgICAgICAgcmVzLnB1c2goY2VkaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogQ29tcG9uZW50RWRpdENvbW1hbmQsIGZyb206IENvbXBvbmVudEVkaXRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0by5tdWx0aSAhPT0gZnJvbS5tdWx0aSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIFRPRE86IGZyb20gc2hvdWxkIHJlbW92ZSBlbnRpdGllcyBhZGRlZCBpbiB0by5cbiAgICAgICAgLy8gICAgICAgaGFuZGxlIGVudGl0aWVzIGVkaXRlZCBpbiB0byBidXQgcmVtb3ZlZCBpbiBmcm9tXG4gICAgICAgIHRvLmFkZCA9IG1lcmdlTnVsbGFibGVBcnJheXModG8uYWRkLCBmcm9tLmFkZCk7XG4gICAgICAgIHRvLnJlbW92ZSA9IG1lcmdlTnVsbGFibGVBcnJheXModG8ucmVtb3ZlLCBmcm9tLnJlbW92ZSk7XG5cbiAgICAgICAgaWYgKGZyb20uZWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodG8uZWRpdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG8uZWRpdCA9IGZyb20uZWRpdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBmcm9tLmVkaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHogPSB0by5lZGl0LmZpbmQoeSA9PiB4LmVudGl0eSA9PT0geS5lbnRpdHkgJiYgeC50eXBlID09PSB5LnR5cGUgJiYgeC5tdWx0aUlkID09PSB5Lm11bHRpSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5lZGl0LnB1c2goeClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oei5jaGFuZ2VzLCB4LmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG5cbiAgICBpc051bGwoY29tbWFuZDogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKChjb21tYW5kLmFkZD8ubGVuZ3RoIHx8IDApICsgKGNvbW1hbmQucmVtb3ZlPy5sZW5ndGggfHwgMCkgIT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgZWRpdCBvZiBjb21tYW5kLmVkaXQgPz8gW10pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgaW4gZWRpdC5jaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRW50aXR5U3Bhd25QYWNrZXQoZW50aXRpZXM6IG51bWJlcltdKTogU3Bhd25Db21tYW5kICB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy53b3JsZC5zZXJpYWxpemUoe1xuICAgICAgICAgICAgcmVxdWlyZVN5bmM6IHRydWUsXG4gICAgICAgICAgICBzdHJpcENsaWVudDogdHJ1ZSxcbiAgICAgICAgICAgIGlnbm9yZUhvc3RIaWRkZW46IHRydWUsXG4gICAgICAgICAgICBvbmx5OiBuZXcgU2V0KGVudGl0aWVzKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlTnVsbGFibGVBcnJheXM8VD4oYT86IFRbXSwgYj86IFRbXSk6IFRbXSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGI7XG4gICAgaWYgKGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGE7XG4gICAgYS5wdXNoKC4uLmIpO1xuICAgIHJldHVybiBhO1xufVxuIiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0hPU1RfSElEREVOX1RZUEV9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi9zcGF3bkNvbW1hbmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZVNwYXduQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdkZXNwYXduJztcbiAgICBlbnRpdGllczogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBEZVNwYXduQ29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdkZXNwYXduJztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBEZVNwYXduQ29tbWFuZCk6IFNwYXduQ29tbWFuZCB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLndvcmxkLnNlcmlhbGl6ZSh7XG4gICAgICAgICAgICBvbmx5OiBuZXcgU2V0KGNtZC5lbnRpdGllcyksXG4gICAgICAgICAgICByZXF1aXJlU2F2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGUgb2YgY21kLmVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmRlc3Bhd25FbnRpdHkoZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gIHtcbiAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICB9IGFzIFNwYXduQ29tbWFuZFxuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNvbW1hbmQ6IERlU3Bhd25Db21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgbGV0IGVudGl0aWVzID0gY29tbWFuZC5lbnRpdGllcy5maWx0ZXIoeCA9PiB0aGlzLndvcmxkLmdldENvbXBvbmVudCh4LCBIT1NUX0hJRERFTl9UWVBFKSA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGVudGl0aWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgIGVudGl0aWVzLFxuICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kXTtcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogRGVTcGF3bkNvbW1hbmQsIGZyb206IERlU3Bhd25Db21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHRvLmVudGl0aWVzLnB1c2goLi4uZnJvbS5lbnRpdGllcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBEZVNwYXduQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29tbWFuZC5lbnRpdGllcy5sZW5ndGggPT09IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRDYWxsIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXJnczogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAga2luZDogJ2V2ZW50JztcbiAgICBkbzogRXZlbnRDYWxsO1xuICAgIHVuZG86IEV2ZW50Q2FsbDtcbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50Q29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdldmVudCc7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogRXZlbnRDb21tYW5kKTogRXZlbnRDb21tYW5kIHtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChjbWQuZG8ubmFtZSwgLi4uY21kLmRvLmFyZ3MpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZXZlbnQnLFxuICAgICAgICAgICAgZG86IGNtZC51bmRvLFxuICAgICAgICAgICAgdW5kbzogY21kLmRvLFxuICAgICAgICB9IGFzIEV2ZW50Q29tbWFuZDtcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBFdmVudENvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICByZXR1cm4gW2NvbW1hbmRdO1xuICAgIH1cblxuICAgIG1lcmdlKHRvOiBFdmVudENvbW1hbmQsIGZyb206IEV2ZW50Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IEV2ZW50Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vbmVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAga2luZDogJ25vbmUnO1xufVxuXG5leHBvcnQgY2xhc3MgTm9uZUNvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnbm9uZSc7XG5cbiAgICBhcHBseUludmVydChjbWQ6IE5vbmVDb21tYW5kKTogTm9uZUNvbW1hbmQge1xuICAgICAgICByZXR1cm4gY21kO1xuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNvbW1hbmQ6IE5vbmVDb21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIG1lcmdlKHRvOiBOb25lQ29tbWFuZCwgZnJvbTogTm9uZUNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0FueU1hcFR5cGUsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZUVkaXRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAga2luZDogJ3JlZGl0JztcbiAgICBhZGQ6IFJlc291cmNlW107XG4gICAgZWRpdDoge1t0eXBlOiBzdHJpbmddOiBhbnl9O1xuICAgIHJlbW92ZTogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZUVkaXRDb21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ3JlZGl0JztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBSZXNvdXJjZUVkaXRDb21tYW5kKTogUmVzb3VyY2VFZGl0Q29tbWFuZCB7XG4gICAgICAgIGxldCBpbnYgPSB7XG4gICAgICAgICAgICBraW5kOiAncmVkaXQnLFxuICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgIGVkaXQ6IFtdLFxuICAgICAgICAgICAgcmVtb3ZlOiBbXSxcbiAgICAgICAgfSBhcyBSZXNvdXJjZUVkaXRDb21tYW5kO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5hZGQpIHtcbiAgICAgICAgICAgIGludi5yZW1vdmUucHVzaChjLnR5cGUpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShjKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIGNtZC5lZGl0KSB7XG4gICAgICAgICAgICAvLyBEYXRhIGdldHMgc3dhcHBlZCB3aXRoIHRoZSBjaGFuZ2VzXG4gICAgICAgICAgICBsZXQgZGF0YSA9IGNtZC5lZGl0W25hbWVdO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UobmFtZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaW52LmVkaXQgPSBjbWQuZWRpdDtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQucmVtb3ZlKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShjKTtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICBpbnYuYWRkLnB1c2gocmVzKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlUmVzb3VyY2UoYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludjtcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjbWQ6IFJlc291cmNlRWRpdENvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICBsZXQgYWRkID0gY21kLmFkZC5maWx0ZXIoeCA9PiB4Ll9zeW5jKTtcbiAgICAgICAgbGV0IGVkaXQgPSB7fSBhcyBBbnlNYXBUeXBlO1xuXG4gICAgICAgIGxldCBlZGl0YyA9IDA7XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gY21kLmVkaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmxkLmdldFJlc291cmNlKHR5cGUpPy5fc3luYykge1xuICAgICAgICAgICAgICAgIGVkaXRjICs9IDE7XG4gICAgICAgICAgICAgICAgZWRpdFt0eXBlXSA9IGNtZC5lZGl0W3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbW92ZSA9IGNtZC5yZW1vdmUuZmlsdGVyKHggPT4gdGhpcy53b3JsZC5nZXRSZXNvdXJjZSh4KT8uX3N5bmMpO1xuXG4gICAgICAgIGlmIChhZGQubGVuZ3RoICsgZWRpdGMgKyByZW1vdmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBraW5kOiAncmVkaXQnLFxuICAgICAgICAgICAgYWRkLCBlZGl0LCByZW1vdmUsXG4gICAgICAgIH0gYXMgUmVzb3VyY2VFZGl0Q29tbWFuZF1cbiAgICB9XG5cbiAgICBtZXJnZSh0bzogUmVzb3VyY2VFZGl0Q29tbWFuZCwgZnJvbTogUmVzb3VyY2VFZGl0Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICB0by5hZGQucHVzaCguLi5mcm9tLmFkZClcbiAgICAgICAgdG8ucmVtb3ZlLnB1c2goLi4uZnJvbS5yZW1vdmUpXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gZnJvbS5lZGl0KSB7XG4gICAgICAgICAgICBpZiAodHlwZSBpbiB0by5lZGl0KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0by5lZGl0W3R5cGVdLCBmcm9tLmVkaXRbdHlwZV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0by5lZGl0W3R5cGVdID0gZnJvbS5lZGl0W3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBSZXNvdXJjZUVkaXRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChjb21tYW5kLmFkZC5sZW5ndGggKyBjb21tYW5kLnJlbW92ZS5sZW5ndGggIT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBjb21tYW5kLmVkaXQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNoYW5nZSBpbiBjb21tYW5kLmVkaXRbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTZXJpYWxpemVkRW50aXRpZXMsIFNlcmlhbGl6ZWRXb3JsZCwgV29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21wb25lbnQsIEhPU1RfSElEREVOX1RZUEV9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQgeyBjb21wb25lbnRDbG9uZSB9IGZyb20gXCIuLi8uLi9lY3NVdGlsXCI7XG5pbXBvcnQgeyBGbGFnRWNzU3RvcmFnZSwgRmxhZ0Vjc1N0b3JhZ2VTZXJpYWx6ZWQsIE11bHRpRWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZSB9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBvYmplY3RDbG9uZSwgb2JqZWN0RmlsdGVySW5wbGFjZSB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2pzb2JqXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Bhd25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAga2luZDogJ3NwYXduJztcbiAgICBkYXRhOiBTZXJpYWxpemVkRW50aXRpZXM7XG59XG5cbmV4cG9ydCBjbGFzcyBTcGF3bkNvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnc3Bhd24nO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBhcHBseUludmVydChjbWQ6IFNwYXduQ29tbWFuZCk6IERlU3Bhd25Db21tYW5kIHtcbiAgICAgICAgdGhpcy53b3JsZC5kZXNlcmlhbGl6ZShjbWQuZGF0YSwge30pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllczogY21kLmRhdGEuZW50aXRpZXMsXG4gICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogU3Bhd25Db21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgY29uc3QgaG9zdEhpZGRlbiA9IGNvbW1hbmQuZGF0YS5zdG9yYWdlc1tIT1NUX0hJRERFTl9UWVBFXSBhcyBGbGFnRWNzU3RvcmFnZVNlcmlhbHplZDtcblxuICAgICAgICBjb25zdCBlbnRpdHlGaWx0ZXIgPSAoeDogbnVtYmVyKSA9PiBob3N0SGlkZGVuID09PSB1bmRlZmluZWQgfHwgaG9zdEhpZGRlbi5pbmRleE9mKHgpIDwgMDtcbiAgICAgICAgbGV0IG5ld0VudGl0aWVzID0gY29tbWFuZC5kYXRhLmVudGl0aWVzLmZpbHRlcihlbnRpdHlGaWx0ZXIpO1xuXG4gICAgICAgIGlmIChuZXdFbnRpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdTdG9yYWdlcyA9IG9iamVjdENsb25lKGNvbW1hbmQuZGF0YS5zdG9yYWdlcyk7XG5cbiAgICAgICAgb2JqZWN0RmlsdGVySW5wbGFjZShuZXdTdG9yYWdlcywgKHN0b3JOYW1lOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMud29ybGQuZ2V0U3RvcmFnZShzdG9yTmFtZSk7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc3luYykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBzdG9yYWdlLnNlcmlhbGl6ZWRTdHJpcChkYXRhLCBlbnRpdHlGaWx0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlbnRpdGllczogbmV3RW50aXRpZXMsXG4gICAgICAgICAgICAgICAgc3RvcmFnZXM6IG5ld1N0b3JhZ2VzLFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGFzIFNwYXduQ29tbWFuZF07XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IFNwYXduQ29tbWFuZCwgZnJvbTogU3Bhd25Db21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHRvLmRhdGEuZW50aXRpZXMucHVzaCguLi5mcm9tLmRhdGEuZW50aXRpZXMpO1xuICAgICAgICBmb3IgKGxldCBzdG9yYWdlTmFtZSBpbiBmcm9tLmRhdGEuc3RvcmFnZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyb21TdG9yYWdlID0gZnJvbS5kYXRhLnN0b3JhZ2VzW3N0b3JhZ2VOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IHRvU3RvcmFnZSA9IHRvLmRhdGEuc3RvcmFnZXNbc3RvcmFnZU5hbWVdO1xuICAgICAgICAgICAgaWYgKHRvU3RvcmFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG8uZGF0YS5zdG9yYWdlc1tzdG9yYWdlTmFtZV0gPSBjb21wb25lbnRDbG9uZShmcm9tU3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuZ2V0U3RvcmFnZShzdG9yYWdlTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAuc2VyaWFsaXplZE1lcmdlKHRvU3RvcmFnZSwgZnJvbVN0b3JhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBTcGF3bkNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbW1hbmQuZGF0YS5lbnRpdGllcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb20od29ybGQ6IFdvcmxkLCBjb21wb25lbnRzOiBDb21wb25lbnRbXSk6IFNwYXduQ29tbWFuZCB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHdvcmxkLmFsbG9jYXRlSWQoKTtcbiAgICAgICAgY29uc3QgY21kID0ge1xuICAgICAgICAgICAgZW50aXRpZXM6IFtlbnRpdHldLFxuICAgICAgICAgICAgc3RvcmFnZXM6IHt9LFxuICAgICAgICB9IGFzIFNlcmlhbGl6ZWRXb3JsZDtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wb25lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gd29ybGQuZ2V0U3RvcmFnZShjb21wLnR5cGUpO1xuICAgICAgICAgICAgZGVsZXRlIChjb21wIGFzIGFueSkudHlwZTtcbiAgICAgICAgICAgIGlmIChzdG9yYWdlIGluc3RhbmNlb2YgU2luZ2xlRWNzU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGNtZC5zdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0ge31cbiAgICAgICAgICAgICAgICBjbWQuc3RvcmFnZXNbc3RvcmFnZS50eXBlXVtlbnRpdHldID0gY29tcDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RvcmFnZSBpbnN0YW5jZW9mIE11bHRpRWNzU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gY21kLnN0b3JhZ2VzW3N0b3JhZ2UudHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge31cbiAgICAgICAgICAgICAgICAgICAgZGF0YVtlbnRpdHldID0gW11cbiAgICAgICAgICAgICAgICAgICAgY21kLnN0b3JhZ2VzW3N0b3JhZ2UudHlwZV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhW2VudGl0eV0ucHVzaChjb21wKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RvcmFnZSBpbnN0YW5jZW9mIEZsYWdFY3NTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgY21kLnN0b3JhZ2VzW3N0b3JhZ2UudHlwZV0gPSBbZW50aXR5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBzdG9yYWdlIHR5cGU6IFwiICsgc3RvcmFnZS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgIGRhdGE6IGNtZCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7U2VyaWFsaXplZEVudGl0aWVzLCBTZXJpYWxpemVkV29ybGQsIFdvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEUsIFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4vYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7S0VZQk9BUkRfVFlQRSwgS2V5Ym9hcmRSZXNvdXJjZX0gZnJvbSBcIi4vYmFjay9rZXlib2FyZFN5c3RlbVwiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHsgRGVTcGF3bkNvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQgeyBleGVjdXRlQW5kTG9nQ29tbWFuZCB9IGZyb20gXCIuL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHsgUE9TSVRJT05fVFlQRSB9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQgfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgQWFiYiB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQgeyBCb2FyZFNpemVSZXNvdXJjZSwgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSwgQk9BUkRfU0laRV9UWVBFLCBCT0FSRF9UUkFOU0ZPUk1fVFlQRSB9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5cbmNvbnN0IENMSVBCT0FSRF9EQVRBID0gJ2RuZG1lLWNsaXAnO1xuXG5pbnRlcmZhY2UgQ3VzdG9tQ2xpcGJvYXJkRGF0YSB7XG4gICAgZm9ybWF0OiB0eXBlb2YgQ0xJUEJPQVJEX0RBVEE7XG4gICAgdmVyOiAxLFxuICAgIGRhdGE6IFNlcmlhbGl6ZWRFbnRpdGllcztcbn1cblxuZXhwb3J0IGNvbnN0IENPUFlfUEFTVEVfVFlQRSA9ICdjb3B5X3Bhc3RlJztcbmV4cG9ydCB0eXBlIENPUFlfUEFTVEVfVFlQRSA9IHR5cGVvZiBDT1BZX1BBU1RFX1RZUEU7XG5leHBvcnQgY2xhc3MgQ29weVBhc3RlU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gQ09QWV9QQVNURV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtTRUxFQ1RJT05fVFlQRSwgS0VZQk9BUkRfVFlQRV07XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkga2V5Ym9hcmQ6IEtleWJvYXJkUmVzb3VyY2U7XG5cbiAgICBpc0FjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBjb3B5TGlzdGVuZXI6IGFueTtcbiAgICBwcml2YXRlIHBhc3RlTGlzdGVuZXI6IGFueTtcbiAgICBwcml2YXRlIGN1dExpc3RlbmVyOiBhbnk7XG5cbiAgICBwcml2YXRlIGxhc3RJZ25vcmVQYXN0ZTogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSB3b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2lnbm9yZV9uZXh0X3Bhc3RlJywgdGhpcy5vbklnbm9yZU5leHRQYXN0ZSwgdGhpcyk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uSWdub3JlTmV4dFBhc3RlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxhc3RJZ25vcmVQYXN0ZSA9IERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgb25QYXN0ZShlOiBDbGlwYm9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IGUuY2xpcGJvYXJkRGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoRGF0ZS5ub3coKSA8IHRoaXMubGFzdElnbm9yZVBhc3RlICsgMzAwKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RJZ25vcmVQYXN0ZSA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG5cbiAgICAgICAgbGV0IHBhcnNlZDogQ3VzdG9tQ2xpcGJvYXJkRGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCkgYXMgQ3VzdG9tQ2xpcGJvYXJkRGF0YTtcbiAgICAgICAgICAgIGlmIChwYXJzZWQuZm9ybWF0ICE9PSBDTElQQk9BUkRfREFUQSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgSlNPTiBmb3JtYXRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZC52ZXIgIT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIHBhc3RlZCB2ZXJzaW9uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ29waWVkIGNvbnRlbnQgaXMgbm90IHZhbGlkIGRuZG1lIGRhdGFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFKSBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlO1xuICAgICAgICBpZiAodHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvYXJkU2l6ZSA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQk9BUkRfU0laRV9UWVBFKSBhcyBCb2FyZFNpemVSZXNvdXJjZTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmRYID0gTWF0aC5yYW5kb20oKSArIDAuNTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmRZID0gTWF0aC5yYW5kb20oKSArIDAuNTtcbiAgICAgICAgICAgIHRoaXMubW92ZVNlcmlhbGl6ZWQoXG4gICAgICAgICAgICAgICAgcGFyc2VkLmRhdGEsXG4gICAgICAgICAgICAgICAgKGJvYXJkU2l6ZS53aWR0aCAgKiByYW5kWCAvIDIgLSB0cmFuc2Zvcm0ucG9zWCkgLyB0cmFuc2Zvcm0uc2NhbGVYLFxuICAgICAgICAgICAgICAgIChib2FyZFNpemUuaGVpZ2h0ICogcmFuZFkgLyAyIC0gdHJhbnNmb3JtLnBvc1kpIC8gdHJhbnNmb3JtLnNjYWxlWVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGQuZGVzZXJpYWxpemUocGFyc2VkLmRhdGEsIHtcbiAgICAgICAgICAgIHJlbWFwOiB0cnVlLFxuICAgICAgICAgICAgdGhlblNlbGVjdDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29weU9yQ3V0KGRlbDogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLndvcmxkLnNlcmlhbGl6ZSh7XG4gICAgICAgICAgICByZXF1aXJlU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlbWFwOiB0cnVlLFxuICAgICAgICAgICAgb25seTogdGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZXBvc2l0aW9uU2VyaWFsaXplZChkYXRhKTtcbiAgICAgICAgY29uc3Qgc2VyID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZm9ybWF0OiBDTElQQk9BUkRfREFUQSxcbiAgICAgICAgICAgIHZlcjogMSxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgIH0gYXMgQ3VzdG9tQ2xpcGJvYXJkRGF0YSk7XG4gICAgICAgIGlmIChkZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFsuLi50aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzXSxcbiAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLndvcmxkLCBjbWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXI7XG4gICAgfVxuXG4gICAgb25Db3B5KGU6IENsaXBib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHwgZS5jbGlwYm9hcmREYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3Qgc2VyID0gdGhpcy5jb3B5T3JDdXQoZmFsc2UpO1xuXG4gICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBzZXIpO1xuICAgIH1cblxuICAgIG9uQ3V0KGU6IENsaXBib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHwgZS5jbGlwYm9hcmREYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3Qgc2VyID0gdGhpcy5jb3B5T3JDdXQodHJ1ZSk7XG5cbiAgICAgICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHNlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXBvc2l0aW9uU2VyaWFsaXplZChzZXI6IFNlcmlhbGl6ZWRXb3JsZCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwb3NTdG9yYWdlID0gc2VyLnN0b3JhZ2VzW1BPU0lUSU9OX1RZUEVdIGFzIFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQ7XG4gICAgICAgIGlmIChwb3NTdG9yYWdlID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgYmI6IEFhYmIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwb3NTdG9yYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcG9zU3RvcmFnZVtuYW1lXTtcbiAgICAgICAgICAgIGlmIChiYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYmIgPSBBYWJiLmZyb21Qb2ludChkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmIuaW50ZXJzZWN0KEFhYmIuZnJvbVBvaW50KGRhdGEpLCBiYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmIgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJiLmdldENlbnRlcigpO1xuICAgICAgICB0aGlzLm1vdmVTZXJpYWxpemVkKHNlciwgLWNlbnRlci54LCAtY2VudGVyLnkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbW92ZVNlcmlhbGl6ZWQoc2VyOiBTZXJpYWxpemVkV29ybGQsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcG9zU3RvcmFnZSA9IHNlci5zdG9yYWdlc1tQT1NJVElPTl9UWVBFXSBhcyBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkO1xuICAgICAgICBpZiAocG9zU3RvcmFnZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwb3NTdG9yYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcG9zU3RvcmFnZVtuYW1lXTtcblxuICAgICAgICAgICAgZGF0YS54ICs9IGR4O1xuICAgICAgICAgICAgZGF0YS55ICs9IGR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmNvcHlMaXN0ZW5lciA9IHRoaXMub25Db3B5LmJpbmQodGhpcyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvcHknLCB0aGlzLmNvcHlMaXN0ZW5lcik7XG5cblxuICAgICAgICB0aGlzLmN1dExpc3RlbmVyID0gdGhpcy5vbkN1dC5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjdXQnLCB0aGlzLmN1dExpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLnBhc3RlTGlzdGVuZXIgPSB0aGlzLm9uUGFzdGUuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCB0aGlzLnBhc3RlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCB0aGlzLmNvcHlMaXN0ZW5lcik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2N1dCcsIHRoaXMuY3V0TGlzdGVuZXIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRoaXMucGFzdGVMaXN0ZW5lcilcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7V0FMTF9UWVBFLCBXYWxsQ29tcG9uZW50LCBXYWxsU3lzdGVtfSBmcm9tIFwiLi93YWxsU3lzdGVtXCI7XG5pbXBvcnQge3JvdGF0ZVBvaW50QnlPcmlnfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvY29sbGlzaW9uXCI7XG5pbXBvcnQge1JFTUVNQkVSX1RZUEV9IGZyb20gXCIuL2JhY2svcGl4aUdyYXBoaWNTeXN0ZW1cIjtcbmltcG9ydCB7TE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSwgTG9jYWxMaWdodFNldHRpbmdzfSBmcm9tIFwiLi9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtDb21wb25lbnRFZGl0Q29tbWFuZCwgc2luZ2xlRWRpdENvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvY29tcG9uZW50RWRpdFwiO1xuaW1wb3J0IHtlbWl0Q29tbWFuZCwgZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cblxuZXhwb3J0IGVudW0gRG9vclR5cGUge1xuICAgIE5PUk1BTF9MRUZUID0gXCJub3JtYWxsXCIsXG4gICAgTk9STUFMX1JJR0hUID0gXCJub3JtYWxyXCIsXG4gICAgUk9UQVRFID0gXCJyb3RhdGVcIixcbn1cblxuZXhwb3J0IGNvbnN0IERPT1JfVFlQRSA9ICdkb29yJztcbmV4cG9ydCB0eXBlIERPT1JfVFlQRSA9IHR5cGVvZiBET09SX1RZUEU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9vckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCwgSGlkZWFibGVDb21wb25lbnQge1xuICAgIHR5cGU6IERPT1JfVFlQRTtcbiAgICBkb29yVHlwZTogRG9vclR5cGU7XG4gICAgbG9ja2VkOiBib29sZWFuO1xuICAgIG9wZW46IGJvb2xlYW47XG4gICAgY2xpZW50VmlzaWJsZTogYm9vbGVhbjtcbiAgICBfZGlzcGxheT86IFBJWEkuR3JhcGhpY3M7XG59XG5cblxuZXhwb3J0IGNsYXNzIERvb3JTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gRE9PUl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIFdBTExfVFlQRV07XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8RG9vckNvbXBvbmVudD4oRE9PUl9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgIHBpeGlCb2FyZFN5czogUGl4aUJvYXJkU3lzdGVtO1xuICAgIHdhbGxTeXM6IFdhbGxTeXN0ZW07XG4gICAgaXNNYXN0ZXJWaWV3OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBsYXllcjogUElYSS5kaXNwbGF5LkxheWVyO1xuICAgIGRpc3BsYXlDb250YWluZXI6IFBJWEkuQ29udGFpbmVyO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gZWNzO1xuXG4gICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAoTGF5ZXJPcmRlci5ERVRBSUxTLCBmYWxzZSkpO1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblxuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cyA9IGVjcy5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy53YWxsU3lzID0gZWNzLnN5c3RlbXMuZ2V0KFdBTExfVFlQRSkgYXMgV2FsbFN5c3RlbTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgICAgIGlmIChlY3MuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdpbnRlcmFjdCcsIHRoaXMub25JbnRlcmFjdCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWRyYXdDb21wb25lbnQoZG9vcjogRG9vckNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG5cbiAgICAgICAgbGV0IHZpc2libGUgPSB0aGlzLmlzTWFzdGVyVmlldyB8fFxuICAgICAgICAgICAgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBSRU1FTUJFUl9UWVBFKSAhPT0gdW5kZWZpbmVkICYmIGRvb3IuY2xpZW50VmlzaWJsZSAhPT0gZmFsc2UpO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIGRvb3IuX2Rpc3BsYXk/LmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiB1c2UgaW50ZXJhY3Rpb24gc2hhcGU/IChtaWdodCBidWcgb3V0IG9uIHRyYW5zbGF0aW9ucylcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIHBvcy54LCBwb3MueSxcbiAgICAgICAgICAgIHBvcy54ICsgd2FsbC52ZWNbMF0sIHBvcy55ICsgd2FsbC52ZWNbMV1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMoZG9vciwgbGluZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3TGluZXMoZG9vcjogRG9vckNvbXBvbmVudCwgbGluZTogTGluZSk6IHZvaWQge1xuICAgICAgICBsZXQgZyA9IGRvb3IuX2Rpc3BsYXk7XG4gICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgZy5jbGVhcigpO1xuICAgICAgICBnLmxpbmVTdHlsZSgyLCAwLCAwLjUpO1xuICAgICAgICBzd2l0Y2ggKGRvb3IuZG9vclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGxpbmUuZGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIobGluZS50b1kgLSBsaW5lLmZyb21ZLCBsaW5lLnRvWCAtIGxpbmUuZnJvbVgpO1xuICAgICAgICAgICAgICAgIGlmIChkb29yLm9wZW4pIHN0YXJ0QW5nbGUgLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgZy5hcmMobGluZS5mcm9tWCwgbGluZS5mcm9tWSwgciwgc3RhcnRBbmdsZSwgc3RhcnRBbmdsZSArIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX1JJR0hUOiB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBsaW5lLmRpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKGxpbmUuZnJvbVkgLSBsaW5lLnRvWSwgbGluZS5mcm9tWCAtIGxpbmUudG9YKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvb3Iub3Blbikgc3RhcnRBbmdsZSAtPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgICAgICBnLmFyYyhsaW5lLnRvWCwgbGluZS50b1ksIHIsIHN0YXJ0QW5nbGUsIHN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLlJPVEFURToge1xuICAgICAgICAgICAgICAgIGxldCByID0gbGluZS5kaXN0YW5jZSgpIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgY3ggPSAobGluZS5mcm9tWCArIGxpbmUudG9YKSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IGN5ID0gKGxpbmUuZnJvbVkgKyBsaW5lLnRvWSkgLyAyO1xuICAgICAgICAgICAgICAgIGcuZHJhd0NpcmNsZShjeCwgY3ksIHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIGRvb3IgdHlwZTogXCIgKyBkb29yLmRvb3JUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkRvb3IoZG9vcjogRG9vckNvbXBvbmVudCwgZG9vclR5cGU6IERvb3JUeXBlLCBvcGVuOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBsZXQgbmV3UG9zID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbmV3VmVjID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHN3aXRjaCAoZG9vclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6IHtcbiAgICAgICAgICAgICAgICBuZXdWZWMgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguUEkgLyAyICogKG9wZW4gPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfUklHSFQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLlBJIC8gMiAqIChvcGVuID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICBuZXdQb3MgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiBwb3MueCArIHdhbGwudmVjWzBdLCB5OiBwb3MueSArIHdhbGwudmVjWzFdIH0sXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54LCB5OiBwb3MueSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG5ld1ZlYyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogd2FsbC52ZWNbMF0sIHk6IHdhbGwudmVjWzFdIH1cbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuUk9UQVRFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGh2eCA9IHdhbGwudmVjWzBdIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgaHZ5ID0gd2FsbC52ZWNbMV0gLyAyO1xuICAgICAgICAgICAgICAgIGxldCBvcmlnaW4gPSB7IHg6IHBvcy54ICsgaHZ4LCB5OiBwb3MueSArIGh2eSB9O1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IE1hdGguUEkgLyAyICogKG9wZW4gPyAxIDogLTEpO1xuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4sIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54LCB5OiBwb3MueSB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbmV3VmVjID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbiwgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogcG9zLnggKyB3YWxsLnZlY1swXSwgeTogcG9zLnkgKyB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBuZXdWZWMueCAtPSBuZXdQb3MueDtcbiAgICAgICAgICAgICAgICBuZXdWZWMueSAtPSBuZXdQb3MueTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIGRvb3IgdHlwZTogXCIgKyBkb29yVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHB4ID0gbmV3UG9zPy54ID8/IHBvcy54O1xuICAgICAgICBsZXQgcHkgPSBuZXdQb3M/LnkgPz8gcG9zLnk7XG4gICAgICAgIGxldCB2eCA9IG5ld1ZlYz8ueCA/PyB3YWxsLnZlY1swXTtcbiAgICAgICAgbGV0IHZ5ID0gbmV3VmVjPy55ID8/IHdhbGwudmVjWzFdO1xuICAgICAgICBsZXQgaW50ZXJzZWN0V2l0aCA9IHRoaXMud2FsbFN5cy5xdWVyeUludGVyc2VjdGlvbnMocHgsIHB5LCB2eCwgdnkpO1xuICAgICAgICBpZiAoIShpbnRlcnNlY3RXaXRoLmxlbmd0aCA9PT0gMCB8fCAoaW50ZXJzZWN0V2l0aC5sZW5ndGggPT09IDEgJiYgaW50ZXJzZWN0V2l0aFswXSA9PT0gZG9vci5lbnRpdHkpKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb29yIHN0dWNrXCIpO1xuICAgICAgICAgICAgLy8gQ29sbGlzaW9uLCBkb24ndCBzcGxpdCB0aGUgZG9vciBwbHMuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuXG4gICAgICAgIGlmIChuZXdQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGRvb3IuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBuZXdQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgeTogbmV3UG9zLnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdWZWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGRvb3IuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFdBTExfVFlQRSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHZlYzogW25ld1ZlYy54LCBuZXdWZWMueV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tbWl0IHRoZSBlZGl0cyBhdCB0aGUgc2FtZSB0aW1lIHRvIHByZXZlbnQgdGhlIHdhbGwgZnJvbSBiZWluZyBzcGxpdCAobXVsdGkgPSB0cnVlKVxuICAgICAgICAvLyAoaWYgd2UgY29tbWl0IHBvc2l0aW9uIGJlZm9yZSByb3RhdGlvbiBpdCBtaWdodCBjcmVhdGUgYW4gb3ZlcmxhcCBzaXR1YXRpb24gdGhhdCBzaG91bGRcbiAgICAgICAgLy8gbm90IGJlIHRoZXJlKS5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0OiBjaGFuZ2VzLFxuICAgICAgICAgICAgbXVsdGk6IHRydWUsXG4gICAgICAgIH0gYXMgQ29tcG9uZW50RWRpdENvbW1hbmQ7XG4gICAgICAgIC8vIFdoeSBhcmUgd2UgdXNpbmcgc2hhcmU/XG4gICAgICAgIC8vIFdlJ3JlIGVkaXRpbmcgYW5vdGhlciBzeW5jZWQgY29tcG9uZW50LCBidXQgdGhpcyAodGhlIGRvb3IpIG1pZ2h0IGJlIGhpZGRlbi5cbiAgICAgICAgLy8gSWYgdGhlIG1hc3RlciBvcGVucyBhIGhpZGRlbiBkb29yIHRoZSBcIm9wZW5cIiBtZXNzYWdlIHdpbGwgbm90IGJlIHNoYXJlZCBidXQgdGhlIGRvb3Igc2hvdWxkIHN0aWxsIG9wZW4gZm9yXG4gICAgICAgIC8vIHRoZSByb2xlcGxheWVycy5cbiAgICAgICAgLy8gQWRkZW5kdW06IHdoYXQgaWYgdGhlIGVudGl0eSBpcyBoaWRkZW4/IFRoZW4gdGhlIGNvbW1hbmQgd2lsbCBlZGl0IGEgaGlkZGVuIGVudGl0eSBzbyBpdCB3aWxsIGJlIHN0cmlwcGVkIGF3YXkuXG4gICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNtZCwgIWRvb3IuY2xpZW50VmlzaWJsZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGQuX2Rpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmFkZENoaWxkKGQuX2Rpc3BsYXkpO1xuICAgICAgICAgICAgLy8gRG8gTk9UIHJlLW9wZW4gdGhlIGRvb3IsIGlmIGl0IGlzIG9wZW4gaXQgbWVhbnMgdGhhdCBpdCBoYXMgYmVlbiBsb2FkZWQgZnJvbSBmaWxlIGFuZCB0aGUgd2FsbCBpc1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiB0aGUgXCJkb29yIG9wZW5cIiBzdGF0ZS4gQmFkIHNub3d5LCB3dGYgd2VyZSB5b3UgdGhpbmtpbmdcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuXG4gICAgICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAod2FsbCAhPT0gdW5kZWZpbmVkKSB3YWxsLl9kb250TWVyZ2UrKztcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFJFTUVNQkVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkb29yID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZG9vciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQoZG9vcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICgnb3BlbicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuRG9vcihkLCBkLmRvb3JUeXBlLCBkLm9wZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHdlbGwsIHRoaXMgZG9lcyBub3Qgd29yayByaWdodCB3aXRoIHRoZSBHVUlcbiAgICAgICAgICAgICAgICAgICAgZC5vcGVuID0gIWQub3BlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2Rvb3JUeXBlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Eb29yKGQsIGNoYW5nZWRbJ2Rvb3JUeXBlJ10sIGZhbHNlKSAmJiB0aGlzLm9wZW5Eb29yKGQsIGQuZG9vclR5cGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3dhbGwnKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBET09SX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkID0gY29tcCBhcyBEb29yQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBkLl9kaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgV0FMTF9UWVBFKSBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgd2FsbC5fZG9udE1lcmdlLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFICYmICd2aXNpb25UeXBlJyBpbiBlZGl0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNYXN0ZXJWaWV3ID0gKHJlcyBhcyBMb2NhbExpZ2h0U2V0dGluZ3MpLnZpc2lvblR5cGUgIT09ICdycCc7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25JbnRlcmFjdChlbnRpdGllczogbnVtYmVyW10pIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChkb29yID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGNtZCA9IHNpbmdsZUVkaXRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogIWRvb3Iub3BlbixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5yb290LmFkZENoaWxkKHRoaXMubGF5ZXIpO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5wYXJlbnRMYXllciA9IHRoaXMubGF5ZXI7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5hZGRDaGlsZCh0aGlzLmRpc3BsYXlDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuaXNNYXN0ZXJWaWV3ID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSkgYXMgTG9jYWxMaWdodFNldHRpbmdzKT8udmlzaW9uVHlwZSAhPT0gJ3JwJztcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIHRoaXMubGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufSIsImltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge2Rpc3RTcXVhcmVkMmQsIFBvaW50fSBmcm9tIFwiLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtHcmlkR3JhcGhpY2FsT3B0aW9ucywgR3JpZFR5cGUsIFNUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7Qk9BUkRfVFJBTlNGT1JNX1RZUEUsIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UsIFBJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xTeXN0ZW19IGZyb20gXCIuL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRX0gZnJvbSBcIi4vYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuXG5jb25zdCBTUVJUMyA9IE1hdGguc3FydCgzKTtcblxuZXhwb3J0IGNvbnN0IEdSSURfVFlQRSA9ICdncmlkJztcbmV4cG9ydCB0eXBlIEdSSURfVFlQRSA9ICdncmlkJztcblxuXG5leHBvcnQgY2xhc3MgR3JpZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEdSSURfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBTRUxFQ1RJT05fVFlQRSwgVE9PTF9UWVBFXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIGJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgc3ByaXRlOiBQSVhJLlRpbGluZ1Nwcml0ZTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ3JpZFJlczogR3JpZFJlc291cmNlO1xuICAgIHByaXZhdGUgaW50ZXJuYWxTY2FsZTogbnVtYmVyID0gMTtcblxuICAgIHBvc1g6IG51bWJlciA9IDA7XG4gICAgcG9zWTogbnVtYmVyID0gMDtcbiAgICBzY2FsZVg6IG51bWJlciA9IDE7XG4gICAgc2NhbGVZOiBudW1iZXIgPSAxO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5ib2FyZFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBsZXQgc2NyZWVuID0gdGhpcy5ib2FyZFN5cy5yZW5kZXJlci5zY3JlZW47XG5cbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUoUElYSS5UZXh0dXJlLkVNUFRZLCBzY3JlZW4ud2lkdGgsIHNjcmVlbi5oZWlnaHQpO1xuICAgICAgICB0aGlzLnNwcml0ZS56SW5kZXggPSBMYXllck9yZGVyLkdSSUQ7XG5cbiAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgIHRvb2xTeXMuYWRkVG9vbEFzQ29weShUb29sLkdSSUQsIFRvb2wuSU5TUEVDVCk7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX3JlbW92ZScsIHRoaXMub25SZXNvdXJjZVJlbW92ZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5ncmlkUmVzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0eXBlOiBHUklEX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiB0cnVlLFxuICAgICAgICB9LCBTVEFOREFSRF9HUklEX09QVElPTlMpICBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMuZ3JpZFJlcyk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXgoKTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3MoKTtcbiAgICB9XG5cbiAgICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSkge1xuICAgICAgICAgICAgLy8gUmVkcmF3XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3MoKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gQk9BUkRfVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMub25Cb2FyZFRyYW5zZm9ybShyZXMgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlc291cmNlUmVtb3ZlKHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlICE9PSBHUklEX1RZUEUpIHJldHVybjtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb29sISBUaG91IHNoYWxsIG5vdCByZW1vdmUgdGh5IGdyaWQhJyk7XG4gICAgfVxuXG4gICAgb25Cb2FyZFRyYW5zZm9ybShkYXRhOiBCb2FyZFRyYW5zZm9ybVJlc291cmNlKSB7XG4gICAgICAgIHRoaXMucG9zWCA9IGRhdGEucG9zWDtcbiAgICAgICAgdGhpcy5wb3NZID0gZGF0YS5wb3NZO1xuICAgICAgICB0aGlzLnNjYWxlWCA9IGRhdGEuc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlWSA9IGRhdGEuc2NhbGVZO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvcygpO1xuICAgIH1cblxuICAgIG9uUmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuc3ByaXRlLmhlaWdodCA9IGhlaWdodDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVRleCgpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUudGV4dHVyZS5kZXN0cm95KHRydWUpO1xuXG4gICAgICAgIGlmICghdGhpcy5ncmlkUmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUgPSBQSVhJLlRleHR1cmUuRU1QVFk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGV4ID0gZHJhd0dyaWRUZXh0dXJlKDUxMiwgdGhpcy5ncmlkUmVzLmdyaWRUeXBlLCB0aGlzLmdyaWRSZXMpO1xuICAgICAgICB0aGlzLmludGVybmFsU2NhbGUgPSB0aGlzLmdyaWRSZXMuc2l6ZSAvIDUxMjtcbiAgICAgICAgdGhpcy5zcHJpdGUudGV4dHVyZSA9IG5ldyBQSVhJLlRleHR1cmUodGV4KTtcbiAgICB9XG5cbiAgICB1cGRhdGVQb3MoKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRpbGVTY2FsZS5zZXQodGhpcy5zY2FsZVggKiB0aGlzLmludGVybmFsU2NhbGUsIHRoaXMuc2NhbGVZICogdGhpcy5pbnRlcm5hbFNjYWxlKTtcbiAgICAgICAgdGhpcy5zcHJpdGUudGlsZVBvc2l0aW9uLnNldCh0aGlzLnBvc1ggKyB0aGlzLnNjYWxlWCAqIHRoaXMuZ3JpZFJlcy5vZmZYICAqIHRoaXMuZ3JpZFJlcy5zaXplICwgdGhpcy5wb3NZICsgdGhpcy5zY2FsZVkgKiB0aGlzLmdyaWRSZXMub2ZmWSAqIHRoaXMuZ3JpZFJlcy5zaXplKTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5ncmlkUmVzID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwbnQgPSBuZXcgUElYSS5Qb2ludChwb2ludFswXSwgcG9pbnRbMV0pO1xuICAgICAgICB0aGlzLnNwcml0ZS53b3JsZFRyYW5zZm9ybS5hcHBseShwbnQsIHBudCk7XG5cbiAgICAgICAgbGV0IHBvaW50WCA9IHBudC54IC8gdGhpcy5ncmlkUmVzLnNpemUgLSB0aGlzLmdyaWRSZXMub2ZmWDtcbiAgICAgICAgbGV0IHBvaW50WSA9IHBudC55IC8gdGhpcy5ncmlkUmVzLnNpemUgLSB0aGlzLmdyaWRSZXMub2ZmWTtcblxuICAgICAgICBsZXQgcmVzWDogbnVtYmVyO1xuICAgICAgICBsZXQgcmVzWTogbnVtYmVyO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZ3JpZFJlcy5ncmlkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBHcmlkVHlwZS5TUVVBUkU6IHtcbiAgICAgICAgICAgICAgICBsZXQgZnggPSBNYXRoLmZsb29yKHBvaW50WCk7XG4gICAgICAgICAgICAgICAgbGV0IGZ5ID0gTWF0aC5mbG9vcihwb2ludFkpO1xuXG4gICAgICAgICAgICAgICAgcmVzWCA9IGZ4O1xuICAgICAgICAgICAgICAgIHJlc1kgPSBmeTtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludFggPiBmeCArIDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXNYICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwb2ludFkgPiBmeSArIDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXNZICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBjaGVjayBncmlkIGNlbnRlclxuICAgICAgICAgICAgICAgIGlmIChkaXN0U3F1YXJlZDJkKHBvaW50WCwgcG9pbnRZLCBmeCArIDAuNSwgZnkgKyAwLjUpIDwgZGlzdFNxdWFyZWQyZChwb2ludFgsIHBvaW50WSwgcmVzWCwgcmVzWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWCA9IGZ4ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICByZXNZID0gZnkgKyAwLjU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR3JpZFR5cGUuSEVYQUdPTjoge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBhbGdvcml0aG0gaGVyZSBpcyBxdWl0ZSBjb21wbGV4IGFuZCBJIGNvdWxkbid0IGZpbmQgYW55IG9mIHRoaXMgb25saW5lLCBzbyB0aGlzIGlzIG15IG93biBzb2x1dGlvbjpcbiAgICAgICAgICAgICAgICAvLyAobm90ZTogaGV4YWdvbiBzaWRlID0gMSBiZWNhdXNlIG9mIHRoZSBpbml0aWFsIHRyYW5zZm9ybWF0aW9uKS5cbiAgICAgICAgICAgICAgICAvLyBGaXJzdCB3ZSBjYW4gbm90aWNlIHRoYXQgaWYgd2UgY29sb3VyIGVhY2ggcG9pbnQgaW4gYSBkaWZmZXJlbnQgY29sb3VyIGRlcGVuZGluZyBvbiB3aGljaCB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAvLyBpcyBjbG9zZXIgdG8gaGltIChpbiBhIGhleGFnb25hbCBncmlkKSB3ZSBmaW5kIGEgZ3JpZCBvZiBlcXVpbGF0ZXJhbCB0cmlhbmdsZXMgb2Ygc2lkZSAxLlxuICAgICAgICAgICAgICAgIC8vIFdlIHRoZW4gdHJhbnNmb3JtIG91ciBncmlkIGJ5IDIgLyBzcXJ0KDMpIG9uIHRoZSBob3Jpem9udGFsIHNpZGUgc28gdGhhdCB0aGUgaGVpZ2h0IG9mIHRoZSB0cmlhbmdsZXNcbiAgICAgICAgICAgICAgICAvLyB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZWlyIGJhc2UuXG4gICAgICAgICAgICAgICAgLy8gV2l0aCB0aGF0IGRvbmUgd2UgY2FuIHB1dCBhIHNxdWFyZSBncmlkIG9uIHRvcCBvZiBvdXIgdHJpYW5nbGUgZ3JpZCwgZWFjaCBzcXVhcmUgd2lsbCBob2xkIG9uZVxuICAgICAgICAgICAgICAgIC8vIHRyaWFuZ2xlIGF0IGl0cyBjZW50ZXIgYW5kIHR3byBoYWxmZXMgYXQgdGhlIHRvcCBhbmQgYm90dG9tLlxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBzZWUgd2hpY2ggc3F1YXJlIHRoZSBwb2ludCBiZWxvbmdzIHRvIGJ5IGZsb29yaW5nIHRoZSB0cmFuc2Zvcm1lZCB4IGFuZCB5IGNvbXBvbmVudHMsIHRoZW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gY2hlY2sgd2hpY2ggdHJpYW5nbGUgdGhlIHBvaW50cyBiZWxvbmdzIHRvIGJ5IGNoZWNoaW5rZyBpZiB0aGUgcG9pbnQgaXMgYWJvdmUgb3IgYmVsb3dcbiAgICAgICAgICAgICAgICAvLyB0aGUgZGlhZ29uYWwgbGluZXMgb2YgZXF1YXRpb246IHkgPCAwLjUgLSB4LzIgYW5kIHkgPiB4LzIgKyAwLjVcbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgZWFjaCB0cmlhbmdsZSBjb2x1bW4gaGFzIGhhbGYgb2YgYSBoZXhhZ29uIHNvIHRoZSBvZGQtb25lcyB3aWxsIGJlIGZsaXBwZWQuXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gMSAvIFNRUlQzOy8vIEhleGFnb24gU2lkZSA9IDEvc3FydCgzKVxuICAgICAgICAgICAgICAgIGxldCBweCA9IChwb2ludFggLSBzIC8gMikgKiAyIC8gU1FSVDM7Ly8gYWxpZ24gdGhlIHBvaW50IHdpdGggdGhlIHRyaWFuZ2xlIGdyaWQsIGFuZCB0cmFuc2Zvcm0gdGhlIGdyaWRcbiAgICAgICAgICAgICAgICBsZXQgcHkgPSBwb2ludFk7XG5cbiAgICAgICAgICAgICAgICBsZXQgc3ggPSBNYXRoLmZsb29yKHB4KTtcbiAgICAgICAgICAgICAgICBsZXQgc3kgPSBNYXRoLmZsb29yKHB5KTtcblxuICAgICAgICAgICAgICAgIGxldCBneCA9IChweCAtIHN4KTtcbiAgICAgICAgICAgICAgICBsZXQgZ3kgPSAocHkgLSBzeSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgcnggPSBzeCAqIFNRUlQzIC8gMiArIHMgLyAyO1xuICAgICAgICAgICAgICAgIGlmIChzeCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBMZWZ0IHNpZGUgaGV4YWdvblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3kgPCAwLjUgLSBneCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHMgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGd5ID4gZ3ggLyAyICsgMC41KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3kgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcyAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3kgKyAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmxpcHBlZCBoZXhhZ29uOiByaWdodCBzaWRlIGhleC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGd5ID4gMSAtIGd4IC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3kgPCBneCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3kgKyAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcG50LnNldChcbiAgICAgICAgICAgIChyZXNYICsgdGhpcy5ncmlkUmVzLm9mZlgpICogdGhpcy5ncmlkUmVzLnNpemUsXG4gICAgICAgICAgICAocmVzWSArIHRoaXMuZ3JpZFJlcy5vZmZZKSAqIHRoaXMuZ3JpZFJlcy5zaXplXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3ByaXRlLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwbnQsIHBudCk7XG5cbiAgICAgICAgcmV0dXJuIFtwbnQueCwgcG50LnldO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5ib2FyZFN5cy5yZW5kZXJlci5vbigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgdGhpcyk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAoTGF5ZXJPcmRlci5HUklELCBmYWxzZSkpO1xuICAgICAgICB0aGlzLnNwcml0ZS5wYXJlbnRMYXllciA9IGxheWVyO1xuICAgICAgICB0aGlzLmJvYXJkU3lzLnJvb3QuYWRkQ2hpbGQobGF5ZXIsIHRoaXMuc3ByaXRlKTtcbiAgICAgICAgY29uc3Qgc2NyZWVuID0gdGhpcy5ib2FyZFN5cy5yZW5kZXJlci5zY3JlZW47XG4gICAgICAgIHRoaXMub25SZXNpemUoc2NyZWVuLndpZHRoLCBzY3JlZW4uaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERSQVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gZHJhd0dyaWRUZXh0dXJlKHNpemU6IG51bWJlciwgdHlwZTogR3JpZFR5cGUsIG9wdGlvbnM6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogUElYSS5CYXNlVGV4dHVyZSB7XG4gICAgbGV0IGNhbnZhczogSW1hZ2VEYXRhO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046XG4gICAgICAgICAgICBjYW52YXMgPSBkcmF3SGV4KHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOlxuICAgICAgICAgICAgY2FudmFzID0gZHJhd1NxdWFyZShzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZHJhdyB1bmtub3duIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUElYSS5CYXNlVGV4dHVyZS5mcm9tQnVmZmVyKG5ldyBVaW50OEFycmF5KGNhbnZhcy5kYXRhLmJ1ZmZlciksIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdTcXVhcmUoc2l6ZTogbnVtYmVyLCBvcHQ6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogSW1hZ2VEYXRhIHtcbiAgICAvL2xldCBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHNpemUsIHNpemUpO1xuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBzaXplO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplO1xuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgIGN0eC5saW5lV2lkdGggPSBvcHQudGhpY2s7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3JUb0hleChvcHQuY29sb3IsIG9wdC5vcGFjaXR5KTtcblxuICAgIGN0eC5zdHJva2VSZWN0KDAsIDAsIHNpemUgKyAxLCBzaXplICsgMSk7XG4gICAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdIZXgoc2l6ZTogbnVtYmVyLCBvcHQ6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogSW1hZ2VEYXRhIHtcbiAgICBsZXQgcyA9IHNpemUgLyBTUVJUMzsvLyBTaWRlXG5cbiAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKDMgKiBzKTtcbiAgICAvL2xldCBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBzaXplKTtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHNpemU7XG4gICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuXG4gICAgbGV0IGQgPSBzaXplO1xuXG4gICAgY3R4LmxpbmVXaWR0aCA9IG9wdC50aGljaztcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAgY29sb3JUb0hleChvcHQuY29sb3IsIG9wdC5vcGFjaXR5KTtcblxuXG4gICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICBjdHgubGluZVRvKHMsIDApO1xuICAgIGN0eC5saW5lVG8ocyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygyICogcyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygzICogcywgMCk7XG4gICAgY3R4Lm1vdmVUbygwLCBkKTtcbiAgICBjdHgubGluZVRvKHMsIGQpO1xuICAgIGN0eC5saW5lVG8ocyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4Lm1vdmVUbygyICogcyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygzICogcywgZCk7XG5cbiAgICAvLyBMaW5lcyBiZWZvcmUgdGhlIGltYWdlOlxuICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgY3R4LmxpbmVUbygtcyAvIDIsIGQgLyAyKTtcbiAgICBjdHgubGluZVRvKDAsIGQpO1xuXG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIHNpemUpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvSGV4KGNvbG9yOiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuICcjJyArIGNvbG9yLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpXG4gICAgICAgICsgKCgyNTUgKiBvcGFjaXR5KSB8IDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIFBPU0lUSU9OX1RZUEUsIFBvc2l0aW9uQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge0NVU1RPTV9CTEVORF9NT0RFUywgREVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7U3R1cGlkUG9pbnR9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9wb2ludFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1ZJU0lCSUxJVFlfVFlQRSwgVmlzaWJpbGl0eUNvbXBvbmVudH0gZnJvbSBcIi4vYmFjay92aXNpYmlsaXR5U3lzdGVtXCI7XG5pbXBvcnQgKiBhcyBQb2ludExpZ2h0UmVuZGVyIGZyb20gXCIuLi8uLi9nYW1lL3BvaW50TGlnaHRSZW5kZXJlclwiO1xuaW1wb3J0IHtQTEFZRVJfVFlQRSwgUGxheWVyQ29tcG9uZW50fSBmcm9tIFwiLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7TWVzaH0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7UGl4aUJvYXJkU3lzdGVtLCBQSVhJX0JPQVJEX1RZUEV9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQgaGV4MnJnYiA9IFBJWEkudXRpbHMuaGV4MnJnYjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7TGF5ZXJPcmRlcn0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvbGF5ZXJPcmRlclwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CQUNLR1JPVU5EID0gMHg2ZTQ3MmM7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTID0ge1xuICAgIGFtYmllbnRMaWdodDogMHg1NTU1NTUsXG4gICAgYmFja2dyb3VuZDogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgIG5lZWRzTGlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgTElHSFRfVFlQRSA9ICdsaWdodCc7XG5leHBvcnQgdHlwZSBMSUdIVF9UWVBFID0gJ2xpZ2h0JztcbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IExJR0hUX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbiAgICByYW5nZTogbnVtYmVyO1xuXG4gICAgX2xpZ2h0RGlzcGxheT86IFBJWEkuTWVzaDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21QbGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBQbGF5ZXJDb21wb25lbnQge1xuICAgIF9saWdodFZpc2lvbkRpc3BsYXk/OiBQSVhJLk1lc2g7XG59XG5cbmV4cG9ydCBjb25zdCBMSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCB0eXBlIExJR0hUX1NFVFRJTkdTX1RZUEUgPSAnbGlnaHRfc2V0dGluZ3MnO1xuZXhwb3J0IGludGVyZmFjZSBMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgYW1iaWVudExpZ2h0OiBudW1iZXIsXG4gICAgbmVlZHNMaWdodDogYm9vbGVhbixcbiAgICBiYWNrZ3JvdW5kOiBudW1iZXIsXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IHRydWUsXG59XG5cbnR5cGUgVmlzaW9uVHlwZSA9ICdkbScgfCAncnAnO1xuXG5leHBvcnQgY29uc3QgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSA9ICdsb2NhbF9saWdodF9zZXR0aW5ncyc7XG5leHBvcnQgdHlwZSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgdmlzaW9uVHlwZTogVmlzaW9uVHlwZSxcbiAgICBfc2F2ZTogdHJ1ZSxcbiAgICBfc3luYzogZmFsc2UsXG59XG5cblxuLyoqXG4gKiBIb3cgaXMgbGlnaHQgcmVuZGVyZWQ/XG4gKiBUaGVyZSBhcmUgdGhyZWUgbG9naWNhbCBwYXNzZXMgb24gYSBzZXBhcmF0ZSBmcmFtZWJ1ZmZlci5cbiAqIFRoZW4gdGhpcyBmcmFtZWJ1ZmZlciBpcyBwYXN0ZWQgb250byB0aGUgcmVhbCBzY3JlZW4uXG4gKiAxLiBDbGVhciB0aGUgUkdCQSBjaGFubmVscyB3aXRoIHRoZSBhbWJpZW50IGxpZ2h0LlxuICogMi4gRHJhdyBvbmx5IGluIHRoZSBBTFBIQSBjaGFubmVsIGV2ZXJ5IHBsYXllciBtZXNoIChhY2hpZXZlZCBieSBzZXR0aW5nIHRoZSBjb2xvciB0byAwKVxuICogMy4gRHJhdyB0aGUgbGlnaHQgb25seSB3aGVyZSB0aGUgQUxQSEEgY2hhbm5lbCBpcyAxICh1c2luZyBhIGN1c3RvbSBibGVuZCBtb2RlKVxuICogNC4gRHJhdyB0aGUgZnJhbWVidWZmZXIgb24gdGhlIHNjcmVlbiBpZ25vcmluZyB0aGUgQUxQSEEgY2hhbm5lbCAodXNpbmcgYSBjdXN0b20gYmxlbmQgbW9kZSlcbiAqXG4gKiBXaHkgaXMgdGhpcyB1c2FnZSBvZiB0aGUgYWxwaGEgY2hhbm5lbCB1c2VkP1xuICogV2UgbmVlZCB0byByZW5kZXIgbGlnaHQgb25seSB3aGVyZSB2aXNpYmxlLCBzbyBpbiB0aGUgUlAtdmlldyB0aGUgcGxheWVycyB2aXNpb24gcG9seWdvbnMgc2hvdWxkIGJlIHVzZWQgYXMgYVxuICogbWFzayBmb3IgdGhlIGxpZ2h0ICh5b3UgY2FuJ3Qgc2VlIGEgbGlnaHQgdGhhdCBubyBwbGF5ZXIgc2VlcykuIFNvIHdoZW4gdGhlIFJQLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXNcbiAqIGNsZWFyZWQgd2l0aCBhbHBoYT0wIGFuZCB0aGUgcGxheWVyJ3MgdmlzaW9uIHdpbGwgZmlsbCBpbiB0aGUgYWxwaGEgKHRoZXkgc2hvdWxkIGJlIHJlbmRlcmVkIEJFRk9SRSB0aGUgbGlnaHRzKS5cbiAqIFdoZW4gdGhlIERNLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXMgcmVuZGVyZWQgd2l0aCBhbHBoYT0xIGFuZCB0aGUgcGxheWVyJ3MgdmlldyBpcyBub3QgZHJhd24uXG4gKlxuICogV2h5IGlzbid0IHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gcmVuZGVyaW5nIGJhdGNoZWQ/XG4gKiBXZSBuZWVkIHVuaWZvcm1zIGluIHRoZSBzaGFkZXJzIHRvIGtub3cgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGxpZ2h0IGNlbnRlcjogcmVtZW1iZXIgdGhhdCB2aXNpYmlsaXR5IG1lc2ggaXMgbm90IG9ubHlcbiAqIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24sIGl0IGFsc28gY2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgZm9ybSB0aGUgY2VudGVyIG9mIHRoZSBsaWdodCAodG8gcmVuZGVyIGEgcHJvcGVyIGNpcmNsZSkuXG4gKiBTbyB5ZWFoLCBubyBiYXRjaGVkIHVuaWZvcm1zIGluIFdlYkdMIGl0IHNlZW1zLiAoVE9ETzogZXhwbG9yZSBtb3JlIHBvc3NpYmlsaXRpZXMpXG4gKi9cbmV4cG9ydCBjbGFzcyBMaWdodFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IExJR0hUX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgUExBWUVSX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgYm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxMaWdodENvbXBvbmVudD4oTElHSFRfVFlQRSk7XG5cbiAgICBsaWdodExheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG4gICAgcGxheWVyQ29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcbiAgICBsaWdodENvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cbiAgICBsaWdodFNldHRpbmdzOiBMaWdodFNldHRpbmdzO1xuICAgIGxvY2FsTGlnaHRTZXR0aW5nczogTG9jYWxMaWdodFNldHRpbmdzO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5ib2FyZFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIHRoaXMubGlnaHRMYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIobmV3IFBJWEkuZGlzcGxheS5Hcm91cChMYXllck9yZGVyLkxJR0hULCBmYWxzZSkpO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgIHRvb2xTeXMuYWRkVG9vbEFzQ29weShUb29sLkxJR0hULCBUb29sLklOU1BFQ1QpO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy5saWdodFNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0eXBlOiBMSUdIVF9TRVRUSU5HU19UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsIF9zeW5jOiB0cnVlLFxuICAgICAgICB9LCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTKSBhcyBMaWdodFNldHRpbmdzO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmxpZ2h0U2V0dGluZ3MpO1xuICAgICAgICB0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHR5cGU6IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgICAgICAgICB2aXNpb25UeXBlOiB0aGlzLndvcmxkLmlzTWFzdGVyID8gJ2RtJyA6ICdycCcsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSwgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIExvY2FsTGlnaHRTZXR0aW5ncztcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZSA/PyBTVEFOREFSRF9HUklEX09QVElPTlMpLnNpemU7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpZ2h0VmlzTWVzaCgpOiBQSVhJLk1lc2gge1xuICAgICAgICBsZXQgbWVzaCA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgpO1xuXG4gICAgICAgIG1lc2guYmxlbmRNb2RlID0gQ1VTVE9NX0JMRU5EX01PREVTLkFERF9XSEVSRV9BTFBIQV8xO1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyLmFkZENoaWxkKG1lc2gpO1xuXG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cblxuICAgIGNyZWF0ZVBsYXllclZpc01lc2goKTogUElYSS5NZXNoIHtcbiAgICAgICAgbGV0IG1lc2ggPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goJ3BsYXllcicpO1xuXG4gICAgICAgIG1lc2guYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5BREQ7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmFkZENoaWxkKG1lc2gpO1xuXG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc01lc2gobWVzaDogUElYSS5NZXNoLCBwb3M6IFN0dXBpZFBvaW50LCBwb2x5OiBudW1iZXJbXSkge1xuICAgICAgICBtZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hQb2x5Z29ucyhtZXNoLCBwb3MsIHBvbHkpO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc1VuaWZvcm1zKG1lc2g6IFBJWEkuTWVzaCwgY2VudGVyOiBTdHVwaWRQb2ludCwgcmFuZ2VTcXVhcmVkOiBudW1iZXIsIGNvbG9yOiBudW1iZXIpIHtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoVW5pZm9ybXMobWVzaCwgY2VudGVyLCByYW5nZVNxdWFyZWQsIGNvbG9yKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlVmlzTWVzaChtZXNoOiBQSVhJLk1lc2gpIHtcbiAgICAgICAgbWVzaC52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlzUG9seWdvbihlbnRpdHk6IG51bWJlciwgdGFyZ2V0OiBNZXNoLCBjb2xvcjogbnVtYmVyLCBwb3M/OiBQb3NpdGlvbkNvbXBvbmVudCwgdmlzPzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVWaXNNZXNoKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZpcy5wb2x5Z29uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVZpc01lc2godGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc01lc2godGFyZ2V0LCBwb3MsIHZpcy5wb2x5Z29uKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzVW5pZm9ybXModGFyZ2V0LCBwb3MsIHJhbmdlICogcmFuZ2UsIGNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUxpZ2h0VmlzUG9seWdvbihsaWdodDogTGlnaHRDb21wb25lbnQsIHBvcz86IFBvc2l0aW9uQ29tcG9uZW50LCB2aXM/OiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlVmlzUG9seWdvbihsaWdodC5lbnRpdHksIGxpZ2h0Ll9saWdodERpc3BsYXkhLCBsaWdodC5jb2xvciwgcG9zLCB2aXMpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBsYXllclZpc1BvbHlnb24ocGxheWVyOiBDdXN0b21QbGF5ZXJDb21wb25lbnQsIHBvcz86IFBvc2l0aW9uQ29tcG9uZW50LCB2aXM/OiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSA9IHRoaXMuY3JlYXRlUGxheWVyVmlzTWVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVmlzUG9seWdvbihwbGF5ZXIuZW50aXR5LCBwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSwgMCwgcG9zLCB2aXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IGNvbXAgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBsaWdodC5fbGlnaHREaXNwbGF5ID0gdGhpcy5jcmVhdGVMaWdodFZpc01lc2goKTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX1RZUEUsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IGxpZ2h0LnJhbmdlLFxuICAgICAgICAgICAgICAgIHRyYWNrV2FsbHM6IHRydWUsXG4gICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wLmVudGl0eSwgdmlzKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGlnaHRWaXNQb2x5Z29uKGxpZ2h0LCB1bmRlZmluZWQsIHZpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IGNvbXAgYXMgQ3VzdG9tUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSA9IHRoaXMuY3JlYXRlUGxheWVyVmlzTWVzaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQocGxheWVyLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHZpcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBsYXllciBkb2VzIG5vdCBoYXZlIGEgdmlzaWJpbGl0eSB0eXBlXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllclZpc1BvbHlnb24ocGxheWVyLCB1bmRlZmluZWQsIHZpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICgncmFuZ2UnIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSwge1xuICAgICAgICAgICAgICAgICAgICByYW5nZTogYy5yYW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmICh2aXMucG9seWdvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzVW5pZm9ybXMoYy5fbGlnaHREaXNwbGF5ISwgcG9zLCByYW5nZSAqIHJhbmdlLCBjLmNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjb21wIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoISgncG9seWdvbicgaW4gY2hhbmdlcykpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0VmlzUG9seWdvbihsaWdodCwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQodmlzLmVudGl0eSwgUExBWUVSX1RZUEUpIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJWaXNQb2x5Z29uKHBsYXllciwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChjb21wOiBSZXNvdXJjZSwgY2hhbmdlZDogYW55KSB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IEdSSURfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCEoJ3NpemUnIGluIGNoYW5nZWQpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IGNvbXAgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcblxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgcmVhbGx5IGNhcmUsIHRoZSB2aXNpYmlsaXR5IHBvbHlnb25zIHdpbGwgY2hhbmdlIG9uIHRoZWlyIG93blxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gTElHSFRfU0VUVElOR1NfVFlQRSB8fCBjb21wLnR5cGUgPT09IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBhcnIgPSBbMC4wLCAwLjAsIDAuMCwgMC4wXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncy52aXNpb25UeXBlID09PSAnZG0nKSBhcnJbM10gPSAxLjA7XG4gICAgICAgICAgICBoZXgycmdiKHRoaXMubGlnaHRTZXR0aW5ncy5hbWJpZW50TGlnaHQsIGFycik7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuY2xlYXJDb2xvciA9IGFycjtcblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIudmlzaWJsZSA9IHRoaXMubG9jYWxMaWdodFNldHRpbmdzLnZpc2lvblR5cGUgIT09ICdkbSc7XG5cbiAgICAgICAgICAgIHRoaXMuYm9hcmRTeXMucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gdGhpcy5saWdodFNldHRpbmdzLmJhY2tncm91bmQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IGNvbXAgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBsaWdodC5fbGlnaHREaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodmlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gbGlnaHQgdmlzaWJpbGl0eSBmb3VuZCBvbiByZW1vdmFsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci5zZXR1cCgpO1xuXG4gICAgICAgIHRoaXMubGlnaHRMYXllci51c2VSZW5kZXJUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saWdodExheWVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICBsZXQgbGlnaHRTeXN0ZW0gPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KExJR0hUX1RZUEUpIGFzIExpZ2h0U3lzdGVtO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci5wYXJlbnRMYXllciA9IGxpZ2h0U3lzdGVtLmxpZ2h0TGF5ZXI7XG5cbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5wYXJlbnRMYXllciA9IHRoaXMubGlnaHRMYXllclxuXG4gICAgICAgIHRoaXMub25SZXNvdXJjZUVkaXRlZCh0aGlzLmxpZ2h0U2V0dGluZ3MsIHt9KTsvLyBVcGRhdGUgdGhlIGNsZWFyQ29sb3JcblxuICAgICAgICBsZXQgbGlnaHRpbmdTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGhpcy5saWdodExheWVyLmdldFJlbmRlclRleHR1cmUoKSk7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmJsZW5kTW9kZSA9IENVU1RPTV9CTEVORF9NT0RFUy5NVUxUSVBMWV9DT0xPUl9PTkxZO1xuICAgICAgICBsaWdodGluZ1Nwcml0ZS56SW5kZXggPSBMYXllck9yZGVyLkxJR0hUO1xuICAgICAgICBsaWdodGluZ1Nwcml0ZS5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBsaWdodGluZ1Nwcml0ZS5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcblxuICAgICAgICBib2FyZC5ib2FyZC5hZGRDaGlsZCh0aGlzLnBsYXllckNvbnRhaW5lciwgdGhpcy5saWdodENvbnRhaW5lciwgdGhpcy5saWdodExheWVyKTtcbiAgICAgICAgdGhpcy5ib2FyZFN5cy5yb290LmFkZENoaWxkKGxpZ2h0aW5nU3ByaXRlKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgdGhpcy5saWdodExheWVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudFxufSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFN5c3RlbSwgVG9vbFBhcnR9IGZyb20gXCIuL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtcbiAgICBCT0FSRF9UUkFOU0ZPUk1fVFlQRSxcbiAgICBCb2FyZFRyYW5zZm9ybVJlc291cmNlLFxuICAgIFBJWElfQk9BUkRfVFlQRSxcbiAgICBQaXhpQm9hcmRTeXN0ZW0sXG59IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtcbiAgICBORVRXT1JLX0VOVElUWV9UWVBFLFxuICAgIE5FVFdPUktfU1RBVFVTX1RZUEUsXG4gICAgTkVUV09SS19UWVBFLCBOZXR3b3JrRW50aXR5Q29tcG9uZW50LFxuICAgIE5ldHdvcmtTdGF0dXNSZXNvdXJjZSwgTmV0d29ya1N5c3RlbSxcbn0gZnJvbSBcIi4vYmFjay9uZXR3b3JrU3lzdGVtXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cbmltcG9ydCBUcmFpbEltYWdlIGZyb20gXCJQdWJsaWMvaW1hZ2VzL3RyYWlsLnBuZ1wiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBQIGZyb20gXCIuLi8uLi9wcm90b2NvbC9nYW1lXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBQYWNrZXRJbmZvIH0gZnJvbSBcIi4uLy4uL25ldHdvcmsvd2VidG9ycmVudC9XVENoYW5uZWxcIjtcblxuZXhwb3J0IGNvbnN0IE1PVVNFX1RSQUlMX1RZUEUgPSAnbW91c2VfdHJhaWwnO1xuZXhwb3J0IHR5cGUgTU9VU0VfVFJBSUxfVFlQRSA9IHR5cGVvZiBNT1VTRV9UUkFJTF9UWVBFO1xuXG5jb25zdCBST1BFX1NJWkUgPSAxMDA7XG5jb25zdCBISVNUT1JZX1NJWkUgPSAyMDtcbmNvbnN0IFNFTkRfSElTVE9SWV9BRlRFUl9NUyA9IDEwMDtcblxuLy8gVE9ETzogZG9uJ3QgdXNlIHRpY2tlciwgdXNlIHJlYWwgd29ybGQgY2xvY2tcbi8vIFRPRE86IGJldHRlciBpbnRlcnBvbGF0aW9uIHN5c3RlbSwgaXQgc2hvdWxkIHRha2UgdGltZSBpbnRvIGFjY291bnQgKHJpZ2h0PylcblxuZXhwb3J0IGludGVyZmFjZSBNb3VzZVRyYWlsQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBNT1VTRV9UUkFJTF9UWVBFO1xuXG4gICAgZnV0dXJleHk6IG51bWJlcltdLC8vIGludGVybGVhdmVkIFt4MSwgeTEsIHgyLCB5Ml1cbiAgICBoaXN0b3J5eDogbnVtYmVyW107XG4gICAgaGlzdG9yeXk6IG51bWJlcltdO1xuICAgIGxhc3RpbnB1dDogbnVtYmVyLC8vIGhvdyBtYW55IGZyYW1lcyBoYXZlIHBhc3NlZCBzaW5jZSBhbiBpbnB1dFxuICAgIF9nOiBQSVhJLlNpbXBsZVJvcGU7XG59XG5cblxuZXhwb3J0IGNsYXNzIE1vdXNlVHJhaWxTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBNT1VTRV9UUkFJTF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtUT09MX1RZUEUsIFBJWElfQk9BUkRfVFlQRSwgTkVUV09SS19UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBwaXhpQm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcbiAgICByZWFkb25seSBuZXR3b3JrU3lzOiBOZXR3b3JrU3lzdGVtO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPE1vdXNlVHJhaWxDb21wb25lbnQ+KE1PVVNFX1RSQUlMX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBuZXR3b3JrU3RhdHVzUmVzb3VyY2U/OiBOZXR3b3JrU3RhdHVzUmVzb3VyY2U7XG5cbiAgICBsYXllcjogUElYSS5kaXNwbGF5LkxheWVyO1xuICAgIGNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cbiAgICBwcml2YXRlIHRleDogUElYSS5UZXh0dXJlO1xuICAgIHByaXZhdGUgYm9hcmRTY2FsZTogbnVtYmVyID0gMTtcblxuICAgIHByaXZhdGUgdG9VcGRhdGU6IG51bWJlcltdID0gW107XG5cbiAgICAvLyBvdXIgXCJmdXR1cmVcIiB0byBzZW5kIHRvIG90aGVycyAoeWVzIGl0IHdpbGwgaGF2ZSAxMDBtcyBsYXRlbmN5KVxuICAgIHByaXZhdGUgc2VsZkZ1dHVyZTogbnVtYmVyW10gPSBbXTtcbiAgICAvLyBsYXN0IHRpbWUgd2Ugc2VudCBhIGZ1dHVyZVxuICAgIHByaXZhdGUgZnV0dXJlTGFzdFNlbmQ6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5uZXR3b3JrU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChORVRXT1JLX1RZUEUpIGFzIE5ldHdvcmtTeXN0ZW07XG5cbiAgICAgICAgdGhpcy5sYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIobmV3IFBJWEkuZGlzcGxheS5Hcm91cChMYXllck9yZGVyLlRPT0xTLCBmYWxzZSkpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIC8vIEFkZCBzeXN0ZW1cbiAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgIHRvb2xTeXMuYWRkVG9vbFBhcnQobmV3IE1vdXNlVHJhaWxUb29sUGFydCh0aGlzKSk7XG4gICAgICAgIHRvb2xTeXMuYWRkVG9vbChUb29sLk1PVVNFX1RSQUlMLCBbJ3NwYWNlX3BhbicsICdtb3VzZV90cmFpbCddKTtcblxuICAgICAgICAvLyBBZGQgbGlzdGVuZXJzXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuXG4gICAgICAgIC8vIFBhaW50IHRleHR1cmVcbiAgICAgICAgdGhpcy50ZXggPSBQSVhJLlRleHR1cmUuZnJvbShUcmFpbEltYWdlKTtcbiAgICB9XG5cbiAgICBvblNlbGZJbnB1dCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBuZXRyZXMgPSB0aGlzLm5ldHdvcmtTdGF0dXNSZXNvdXJjZSEhO1xuICAgICAgICB0aGlzLm9uRnV0dXJlKG5ldHJlcy5teUlkLCBbeCwgeV0pO1xuICAgIH1cblxuICAgIG9uRnV0dXJlKHNlbmRlck5ldElkOiBudW1iZXIsIG1vdmVzOiBudW1iZXJbXSkge1xuICAgICAgICBjb25zdCBuZXRyZXMgPSB0aGlzLm5ldHdvcmtTdGF0dXNSZXNvdXJjZSEhO1xuICAgICAgICBjb25zdCBlbnRpdHlJZCA9IG5ldHJlcy5lbnRpdHlJbmRleC5nZXQoc2VuZGVyTmV0SWQpO1xuICAgICAgICBpZiAoZW50aXR5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IGZpbmQgZW50aXR5IG9mIG5ldHdvcmsgcGxheWVyIFwiICsgc2VuZGVyTmV0SWQsIG5ldHJlcy5lbnRpdHlJbmRleCk7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5SWQpISE7XG5cbiAgICAgICAgaWYgKG1vdmVzLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNsaWVudCBcIiArIHNlbmRlck5ldElkICsgXCIgc2VudCB1bmFsaWduZWQgeHkgbW92ZXNcIik7XG4gICAgICAgICAgICBtb3Zlcy5sZW5ndGggPSBtb3Zlcy5sZW5ndGggLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5mdXR1cmV4eS5wdXNoKC4uLm1vdmVzKTtcbiAgICAgICAgaWYgKHRoaXMudG9VcGRhdGUuaW5kZXhPZihlbnRpdHlJZCkgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnRvVXBkYXRlLnB1c2goZW50aXR5SWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaW1wbGVSb3BlKCk6IFBJWEkuU2ltcGxlUm9wZSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IG5ldyBBcnJheTxQSVhJLlBvaW50PihST1BFX1NJWkUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFJPUEVfU0laRTsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbaV0gPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUodGhpcy50ZXgsIHBvaW50cyk7XG4gICAgICAgIChyb3BlIGFzIGFueSkuYmxlbmRtb2RlID0gUElYSS5CTEVORF9NT0RFUy5BREQ7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQocm9wZSk7XG5cbiAgICAgICAgcmV0dXJuIHJvcGU7XG4gICAgfVxuXG4gICAgIHVwZGF0ZVJvcGUoYzogTW91c2VUcmFpbENvbXBvbmVudCwgbmV0d0VudGl0eTogTmV0d29ya0VudGl0eUNvbXBvbmVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCByb3BlID0gYy5fZztcbiAgICAgICAgY29uc3QgZ2VvbSA9IHJvcGUuZ2VvbWV0cnkgYXMgUElYSS5Sb3BlR2VvbWV0cnk7XG4gICAgICAgIGNvbnN0IHJvcGVQb2ludHMgPSBnZW9tLnBvaW50cztcblxuICAgICAgICBjb25zdCBoaXN0b3J5U2l6ZSA9IGMuaGlzdG9yeXgubGVuZ3RoO1xuICAgICAgICBjb25zdCByb3BlU2l6ZSA9IHJvcGVQb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvcGVTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSByb3BlUG9pbnRzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gY3ViaWNJbnRlcnBvbGF0aW9uKGMuaGlzdG9yeXgsIGkgLyByb3BlU2l6ZSAqIGhpc3RvcnlTaXplKSAqIHRoaXMuYm9hcmRTY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBjdWJpY0ludGVycG9sYXRpb24oYy5oaXN0b3J5eSwgaSAvIHJvcGVTaXplICogaGlzdG9yeVNpemUpICogdGhpcy5ib2FyZFNjYWxlO1xuXG4gICAgICAgICAgICBwLnggPSB4O1xuICAgICAgICAgICAgcC55ID0geTtcbiAgICAgICAgfVxuICAgICAgICByb3BlLnNjYWxlLnNldCgxL3RoaXMuYm9hcmRTY2FsZSk7XG5cbiAgICAgICAgZ2VvbS51cGRhdGVWZXJ0aWNlcygpO1xuICAgICAgICBpZiAobmV0d0VudGl0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXR3RW50aXR5ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIE5FVFdPUktfRU5USVRZX1RZUEUpIGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcm9wZS50aW50ID0gbmV0d0VudGl0eS5jb2xvcjtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25TZWxmUG9zaXRpb24ocG9zeDogbnVtYmVyLCBwb3N5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zZWxmRnV0dXJlLnB1c2gocG9zeCwgcG9zeSk7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLmZ1dHVyZUxhc3RTZW5kICsgU0VORF9ISVNUT1JZX0FGVEVSX01TIDwgbm93KSB7XG4gICAgICAgICAgICBjb25zdCBwa3QgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ210cmFpbCcsXG4gICAgICAgICAgICAgICAgZnV0OiB0aGlzLnNlbGZGdXR1cmUsXG4gICAgICAgICAgICB9IGFzIFAuTW91c2VUcmFpbFBhY2tldDtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya1N5cy5jaGFubmVsLmJyb2FkY2FzdChwa3QpO1xuICAgICAgICAgICAgdGhpcy5zZWxmRnV0dXJlID0gW107XG4gICAgICAgICAgICB0aGlzLmZ1dHVyZUxhc3RTZW5kID0gbm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLnRvVXBkYXRlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBuZXRyZXMgPSB0aGlzLm5ldHdvcmtTdGF0dXNSZXNvdXJjZSEhO1xuICAgICAgICBjb25zdCBteUVudGl0eUlkID0gbmV0cmVzLmVudGl0eUluZGV4LmdldChuZXRyZXMubXlJZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnRvVXBkYXRlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLnRvVXBkYXRlW2ldO1xuICAgICAgICAgICAgY29uc3QgdHJhaWwgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuXG4gICAgICAgICAgICBsZXQgcHJldnggPSB0cmFpbC5oaXN0b3J5eFtISVNUT1JZX1NJWkUgLSAxXTtcbiAgICAgICAgICAgIGxldCBwcmV2eSA9IHRyYWlsLmhpc3Rvcnl5W0hJU1RPUllfU0laRSAtIDFdO1xuXG4gICAgICAgICAgICBsZXQgbmV4dHggPSBwcmV2eDtcbiAgICAgICAgICAgIGxldCBuZXh0eSA9IHByZXZ5O1xuICAgICAgICAgICAgbGV0IGRpZmZlcmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRyYWlsLmZ1dHVyZXh5Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIG5leHR4ID0gdHJhaWwuZnV0dXJleHlbMF07XG4gICAgICAgICAgICAgICAgbmV4dHkgPSB0cmFpbC5mdXR1cmV4eVsxXTtcbiAgICAgICAgICAgICAgICB0cmFpbC5mdXR1cmV4eS5zcGxpY2UoMCwgMik7XG4gICAgICAgICAgICAgICAgZGlmZmVyZW50ID0gTWF0aC5hYnMobmV4dHggLSBwcmV2eCkgKyBNYXRoLmFicyhuZXh0eSAtIHByZXZ5KSA+IE51bWJlci5FUFNJTE9OO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudGl0eSA9PT0gbXlFbnRpdHlJZCAmJiB0cmFpbC5sYXN0aW5wdXQgPCBISVNUT1JZX1NJWkUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2VsZlBvc2l0aW9uKG5leHR4LCBuZXh0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyYWlsLmhpc3Rvcnl4LnBvcCgpO1xuICAgICAgICAgICAgdHJhaWwuaGlzdG9yeXkucG9wKCk7XG4gICAgICAgICAgICB0cmFpbC5oaXN0b3J5eC51bnNoaWZ0KG5leHR4KTtcbiAgICAgICAgICAgIHRyYWlsLmhpc3Rvcnl5LnVuc2hpZnQobmV4dHkpO1xuXG4gICAgICAgICAgICBpZiAoZGlmZmVyZW50KSB7XG4gICAgICAgICAgICAgICAgdHJhaWwubGFzdGlucHV0ID0gMDtcbiAgICAgICAgICAgICAgICB0cmFpbC5fZy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gdXBkYXRlIGhhcyBiZWVuIGZvdW5kIGluIHRoZSBsYXN0IDIwIGZyYW1lcyByZW1vdmUgdGhlIHBsYXllciBmcm9tIHRoZSB1cGRhdGUgbGlzdFxuICAgICAgICAgICAgICAgIC8vIGl0IHdpbGwgYmUgcmUtYWRkZWQgaWYgd2UgZ2V0IGFub3RoZXIgY2hhbmdlXG4gICAgICAgICAgICAgICAgdHJhaWwubGFzdGlucHV0ICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWlsLmxhc3RpbnB1dCA+IEhJU1RPUllfU0laRSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvVXBkYXRlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhaWwuX2cudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVSb3BlKHRyYWlsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTkVUV09SS19FTlRJVFlfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgX2cgPSB0aGlzLmNyZWF0ZVNpbXBsZVJvcGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBNT1VTRV9UUkFJTF9UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnl4OiBuZXcgQXJyYXkoSElTVE9SWV9TSVpFKS5maWxsKDApLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnl5OiBuZXcgQXJyYXkoSElTVE9SWV9TSVpFKS5maWxsKDApLFxuICAgICAgICAgICAgICAgIGZ1dHVyZXh5OiBbXSxcbiAgICAgICAgICAgICAgICBsYXN0aW5wdXQ6IEhJU1RPUllfU0laRSxcbiAgICAgICAgICAgICAgICBfZyxcbiAgICAgICAgICAgIH0gYXMgTW91c2VUcmFpbENvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVSb3BlKGNvbSwgYyBhcyBOZXR3b3JrRW50aXR5Q29tcG9uZW50KTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIGNvbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IE1PVVNFX1RSQUlMX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBNb3VzZVRyYWlsQ29tcG9uZW50O1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJvcGUoYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBORVRXT1JLX0VOVElUWV9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoJ2NvbG9yJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXRjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKG10YyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUm9wZShtdGMsIGNvbXAgYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gTU9VU0VfVFJBSUxfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIE1vdXNlVHJhaWxDb21wb25lbnQ7XG4gICAgICAgICAgICBjLl9nLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hhbmdlU2NhbGVzKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUm9wZShjKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gQk9BUkRfVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmRTY2FsZSA9IChyZXMgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSkuc2NhbGVYIHx8IDE7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVNjYWxlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1vdXNlVHJhaWxQYWNrZXQocGt0OiBQLk1vdXNlVHJhaWxQYWNrZXQsIGluZm86IFBhY2tldEluZm8pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vbkZ1dHVyZShpbmZvLnNlbmRlcklkLCBwa3QuZnV0KTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGF5ZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLnJvb3QuYWRkQ2hpbGQodGhpcy5sYXllcik7XG5cbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMuYm9hcmQuYWRkQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucGFyZW50TGF5ZXIgPSB0aGlzLmxheWVyO1xuXG4gICAgICAgIHRoaXMubmV0d29ya1N0YXR1c1Jlc291cmNlID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShORVRXT1JLX1NUQVRVU19UWVBFKSBhcyBOZXR3b3JrU3RhdHVzUmVzb3VyY2U7XG5cblxuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy50aWNrZXIuYWRkKHRoaXMub25UaWNrLCB0aGlzKTtcbiAgICAgICAgdGhpcy5uZXR3b3JrU3lzLmNoYW5uZWwucGFja2V0cy5vbignbXRyYWlsJywgdGhpcy5vbk1vdXNlVHJhaWxQYWNrZXQsIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMubmV0d29ya1N5cy5jaGFubmVsLnBhY2tldHMub2ZmKCdtdHJhaWwnLCB0aGlzLm9uTW91c2VUcmFpbFBhY2tldCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLnRpY2tlci5yZW1vdmUodGhpcy5vblRpY2ssIHRoaXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlVHJhaWxUb29sUGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5NT1VTRV9UUkFJTDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN5czogTW91c2VUcmFpbFN5c3RlbTtcblxuICAgIGZvbGxvd2VyOiBudW1iZXIgPSAtMTtcblxuICAgIGNvbnN0cnVjdG9yKHN5czogTW91c2VUcmFpbFN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICB9XG5cbiAgICBpbml0Rm9sbG93ZXIoKSB7XG4gICAgICAgIHRoaXMua2lsbEZvbGxvd2VyKCk7XG5cbiAgICAgICAgdGhpcy5mb2xsb3dlciA9IHRoaXMuc3lzLndvcmxkLnNwYXduRW50aXR5KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEUsXG4gICAgICAgICAgICB9IGFzIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIHg6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICB5OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEZPTExPV19NT1VTRV9UWVBFLFxuICAgICAgICAgICAgfSBhcyBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBraWxsRm9sbG93ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmZvbGxvd2VyID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zeXMud29ybGQuZGVzcGF3bkVudGl0eSh0aGlzLmZvbGxvd2VyKTtcbiAgICAgICAgICAgIHRoaXMuZm9sbG93ZXIgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25UaWNrKCkge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLnN5cy53b3JsZC5nZXRDb21wb25lbnQodGhpcy5mb2xsb3dlciwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHBvcy54KSB8fCAhTnVtYmVyLmlzRmluaXRlKHBvcy55KSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnN5cy5vblNlbGZJbnB1dChwb3MueCwgcG9zLnkpO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRGb2xsb3dlcigpO1xuICAgICAgICB0aGlzLnN5cy5waXhpQm9hcmRTeXMudGlja2VyLmFkZCh0aGlzLm9uVGljaywgdGhpcywgUElYSS5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN5cy5waXhpQm9hcmRTeXMudGlja2VyLnJlbW92ZSh0aGlzLm9uVGljaywgdGhpcyk7XG4gICAgICAgIHRoaXMua2lsbEZvbGxvd2VyKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuXG4vKipcbiAqIEN1YmljIGludGVycG9sYXRpb24gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL29zdXVzaGkvU21vb3RoLmpzXG4gKi9cbmZ1bmN0aW9uIGNsaXBJbnB1dDxYPihrOiBudW1iZXIsIGFycjogWFtdKTogWCB7XG4gICAgaWYgKGsgPCAwKSBrID0gMDtcbiAgICBpZiAoayA+IGFyci5sZW5ndGggLSAxKSBrID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGFycltrXTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFuZ2VudChrOiBudW1iZXIsIGZhY3RvcjogbnVtYmVyLCBhcnJheTogbnVtYmVyW10pIHtcbiAgICByZXR1cm4gZmFjdG9yICogKGNsaXBJbnB1dChrICsgMSwgYXJyYXkpIC0gY2xpcElucHV0KGsgLSAxLCBhcnJheSkpIC8gMjtcbn1cblxuZnVuY3Rpb24gY3ViaWNJbnRlcnBvbGF0aW9uKGFycmF5OiBudW1iZXJbXSwgdDogbnVtYmVyLCB0YW5nZW50RmFjdG9yOiBudW1iZXIgPSAxKSB7XG4gICAgY29uc3QgayA9IE1hdGguZmxvb3IodCk7XG4gICAgY29uc3QgbSA9IFtnZXRUYW5nZW50KGssIHRhbmdlbnRGYWN0b3IsIGFycmF5KSwgZ2V0VGFuZ2VudChrICsgMSwgdGFuZ2VudEZhY3RvciwgYXJyYXkpXTtcbiAgICBjb25zdCBwID0gW2NsaXBJbnB1dChrLCBhcnJheSksIGNsaXBJbnB1dChrICsgMSwgYXJyYXkpXTtcbiAgICB0IC09IGs7XG4gICAgY29uc3QgdDIgPSB0ICogdDtcbiAgICBjb25zdCB0MyA9IHQgKiB0MjtcbiAgICByZXR1cm4gKDIgKiB0MyAtIDMgKiB0MiArIDEpICogcFswXSArICh0MyAtIDIgKiB0MiArIHQpICogbVswXSArICgtMiAqIHQzICsgMyAqIHQyKSAqIHBbMV0gKyAodDMgLSB0MikgKiBtWzFdO1xufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtNdWx0aUVjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBOQU1FX1RZUEUsXG4gICAgTmFtZUNvbXBvbmVudFxufSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0VsZW1lbnRUeXBlLCBHUkFQSElDX1RZUEUsIEdyYXBoaWNDb21wb25lbnQsIFBvaW50RWxlbWVudCwgVGV4dEVsZW1lbnQsIFZpc2liaWxpdHlUeXBlfSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7UE9JTlRfUkFESVVTfSBmcm9tIFwiLi9iYWNrL3BpeGlHcmFwaGljU3lzdGVtXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xTeXN0ZW0sIFRvb2xQYXJ0fSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7UG9pbnRlckV2ZW50cywgUG9pbnRlclVwRXZlbnR9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge2ZpbmRGb3JlZ3JvdW5kLCBQQVJFTlRfTEFZRVJfVFlQRSwgUGFyZW50TGF5ZXJDb21wb25lbnR9IGZyb20gXCIuL2JhY2svbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7IE5hbWVBc0xhYmVsQ29tcG9uZW50LCBOQU1FX0FTX0xBQkVMX1RZUEUgfSBmcm9tIFwiLi9iYWNrL25hbWVBc0xhYmVsU3lzdGVtXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBDcmVhdGlvbkluZm9SZXNvdXJjZSwgQ1JFQVRJT05fSU5GT19UWVBFIH0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5cbmV4cG9ydCBjb25zdCBQSU5fVFlQRSA9ICdwaW4nO1xuZXhwb3J0IHR5cGUgUElOX1RZUEUgPSB0eXBlb2YgUElOX1RZUEU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGluQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQSU5fVFlQRTtcbiAgICBjb2xvcjogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBQaW5TeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQSU5fVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbVE9PTF9UWVBFLCBHUkFQSElDX1RZUEUsIFNFTEVDVElPTl9UWVBFLCBOQU1FX0FTX0xBQkVMX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBpbkNvbXBvbmVudD4oUElOX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcblxuICAgICAgICBpZiAod29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sUGFydChuZXcgQ3JlYXRlUGluVG9vbFBhcnQodGhpcykpO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sKFRvb2wuQ1JFQVRFX1BJTiwgWydzcGFjZV9wYW4nLCAnY3JlYXRlX3BpbicsICdjcmVhdGlvbl9mbGFnJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gUElOX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IHBpbiA9IGMgYXMgUGluQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgZGlzcGxheSA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgIGlmIChkaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRpc3BsYXkgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5jcmVhdGVFbGVtZW50KClcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBkaXNwbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChwaW4sIGRpc3BsYXkuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBOQU1FX0FTX0xBQkVMX1RZUEUsXG4gICAgICAgICAgICBpbml0aWFsT2Zmc2V0OiB7eDogMCwgeTogLVBPSU5UX1JBRElVU30sXG4gICAgICAgIH0gYXMgTmFtZUFzTGFiZWxDb21wb25lbnQpO1xuXG4gICAgICAgIC8vIEluIHNvbWUgb2xkZXIgdmVyc2lvbnMgdGhlcmUgd2FzIGEgbGFiZWwgZmllbGQgdGhhdCB3YXMgcHJpbnRlZCBvbiB0b3Agb2YgdGhlIHBvaW50LFxuICAgICAgICAvLyB0aGlzIGhhcyBiZWVuIHJlbW92ZWQgaW4gZmF2b3VyIG9mIHRoZSBcIm5hbWVcIiBjb21wb25lbnRzIChhbmQgdGhlICduYW1lX2FzX2xhYmVsJyBzeXN0ZW0pXG4gICAgICAgIC8vIHNvIGlmIHlvdSBmaW5kIGEgbGFiZWwgdGhhdCBpcyBub3QgbGlzdGVkIGluIHRoZSBuYW1lcyBhZGQgaXQgdG8ga2VlcCBjb21wYXRpYmlsaXR5XG4gICAgICAgIGlmICgocGluIGFzIGFueSkubGFiZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSAocGluIGFzIGFueSkubGFiZWw7XG4gICAgICAgICAgICBsZXQgaXNOYW1lRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgKHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KE5BTUVfVFlQRSkgYXMgTXVsdGlFY3NTdG9yYWdlPE5hbWVDb21wb25lbnQ+KS5nZXRDb21wb25lbnRzKHBpbi5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTmFtZUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzTmFtZUZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQocGluLmVudGl0eSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBOQU1FX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGxhYmVsLFxuICAgICAgICAgICAgICAgIH0gYXMgTmFtZUNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSAocGluIGFzIGFueSkubGFiZWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBJTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcGluID0gY29tcCBhcyBQaW5Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIGxldCBncmFwYyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcGluRGlzcGxheSA9IGdyYXBjLmRpc3BsYXkgYXMgUG9pbnRFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQocGluLCBwaW5EaXNwbGF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUVsZW1lbnQoKTogUG9pbnRFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLlBPSU5ULFxuICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLlBJTlMsXG4gICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuTk9STUFMLFxuICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICB9IGFzIFBvaW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZHJhd0NvbXBvbmVudChwaW46IFBpbkNvbXBvbmVudCwgZGlzcGxheTogUG9pbnRFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGRpc3BsYXkuY29sb3IgPSBwaW4uY29sb3I7XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHBpbi5lbnRpdHksIEdSQVBISUNfVFlQRSwgeyBkaXNwbGF5IH0sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVBpblRvb2xQYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLkNSRUFURV9QSU47XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFBpblN5c3RlbTtcblxuICAgIC8vIEVudGl0eSBvZiB0aGUgcGluIHRvIGJlIGNyZWF0ZWQgKG9yIC0xKVxuICAgIGNyZWF0ZVBpbjogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IFBpblN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICB9XG5cbiAgICBpbml0Q3JlYXRpb24oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ3JlYXRpb24oKTtcbiAgICAgICAgbGV0IGNvbG9yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHhGRkZGRkYpO1xuXG4gICAgICAgIGxldCBkaXNwbGF5ID0gdGhpcy5zeXMuY3JlYXRlRWxlbWVudCgpO1xuICAgICAgICBkaXNwbGF5LmNvbG9yID0gY29sb3I7XG4gICAgICAgIGRpc3BsYXkudmlzaWIgPSBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVBpbiA9IHRoaXMuc3lzLndvcmxkLnNwYXduRW50aXR5KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEUsXG4gICAgICAgICAgICB9IGFzIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIHg6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICB5OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEZPTExPV19NT1VTRV9UWVBFLFxuICAgICAgICAgICAgfSBhcyBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjYW5jZWxDcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUGluICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zeXMud29ybGQuZGVzcGF3bkVudGl0eSh0aGlzLmNyZWF0ZVBpbik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVBpbiA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlybUNyZWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVQaW4gPT09IC0xKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgd29ybGQgPSB0aGlzLnN5cy53b3JsZDtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5jcmVhdGVQaW47XG4gICAgICAgIGxldCBnID0gd29ybGQuZ2V0Q29tcG9uZW50KGlkLCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgIGxldCBsb2MgPSB3b3JsZC5nZXRDb21wb25lbnQoaWQsIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICB3b3JsZC5kZXNwYXduRW50aXR5KGlkKTtcblxuICAgICAgICBjb25zdCBjbWQgPSBTcGF3bkNvbW1hbmRLaW5kLmZyb20od29ybGQsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHg6IGxvYy54LFxuICAgICAgICAgICAgICAgIHk6IGxvYy55LFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQSU5fVFlQRSxcbiAgICAgICAgICAgICAgICBjb2xvcjogKGcuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQpLmNvbG9yLFxuICAgICAgICAgICAgfSBhcyBQaW5Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgbGF5ZXI6IGZpbmRGb3JlZ3JvdW5kKHRoaXMuc3lzLndvcmxkKSxcbiAgICAgICAgICAgIH0gYXMgUGFyZW50TGF5ZXJDb21wb25lbnQsXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUGluID0gLTE7XG4gICAgICAgIGNvbnN0IGNyZWF0aW9uSW5mbyA9IHRoaXMuc3lzLndvcmxkLmdldFJlc291cmNlKENSRUFUSU9OX0lORk9fVFlQRSkgYXMgQ3JlYXRpb25JbmZvUmVzb3VyY2UgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjcmVhdGlvbkluZm8/LmV4aXRBZnRlckNyZWF0aW9uID8/IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQod29ybGQsIGNtZCk7XG4gICAgfVxuXG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0Q3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmlzSW5zaWRlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpcm1DcmVhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9VUCwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59IiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7IFNpbmdsZUVjc1N0b3JhZ2UgfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IFVuaW9uRmluZFNldCB9IGZyb20gXCIuLi8uLi91dGlsL1VuaW9uRmluZFNldFwiO1xuaW1wb3J0IHsgQm9hcmRTaXplUmVzb3VyY2UsIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UsIEJPQVJEX1NJWkVfVFlQRSwgQk9BUkRfVFJBTlNGT1JNX1RZUEUsIFBJWElfQk9BUkRfVFlQRSB9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQgeyBQbGF5ZXJDb21wb25lbnQsIFBMQVlFUl9UWVBFIH0gZnJvbSBcIi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQgeyBEeW5hbWljVHJlZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9keW5hbWljVHJlZVwiO1xuaW1wb3J0IHsgQWFiYiB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQgeyBhcnJheVJhbmRvbUVsZW1lbnQgfSBmcm9tIFwiLi4vLi4vdXRpbC9hcnJheVwiO1xuXG4vLyBJZiB0d28gcG9pbnRzIGFyZSBjbG9zZXIgdGhhbiB0aGlzIHRoZXkgYXJlIGluIHRoZSBzYW1lIGNsdXN0ZXJcbmNvbnN0IENMVVNURVJfRElTVEFOQ0UgPSAxMCAqIDEuNSAqIDEyODsvLyAxIGdyaWQgPSAxLjVtO1xuXG5leHBvcnQgY29uc3QgUExBWUVSX0xPQ0FUT1JfVFlQRSA9ICdwbGF5ZXJfbG9jYXRvcic7XG5leHBvcnQgdHlwZSBQTEFZRVJfTE9DQVRPUl9UWVBFID0gdHlwZW9mIFBMQVlFUl9MT0NBVE9SX1RZUEU7XG5cbi8vIFRPRE86IHNob3VsZCB3ZSBhbHdheXMgY29tcHV0ZSBjbHVzdGVycyB1c2luZyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EeW5hbWljX2Nvbm5lY3Rpdml0eSA/XG5leHBvcnQgY2xhc3MgUGxheWVyTG9jYXRvclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQTEFZRVJfTE9DQVRPUl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIFBMQVlFUl9UWVBFXTtcblxuICAgIC8vIFdoZW4gdGhlIGRhdGEgaXMgZGlydHkgdGhpcyBpcyBzZXQgdG8gdW5kZWZpbmVkLlxuICAgIC8vIFRoaXMgaXMgYW4gYXJyYXkgb2YgZGlzam9pbnQgQUFCQnMgcmVwcmVzZW50aW5nIGNsdXN0ZXJzXG4gICAgY2x1c3RlcnM6IEFycmF5PEFhYmI+IHwgdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdmb2N1c19vbl9yYW5kb21fcGFydHknLCB0aGlzLm9uRm9jdXNPblJhbmRvbVBhcnR5LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5jbHVzdGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNsdXN0ZXJzICE9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUE9TSVRJT05fVFlQRSkge1xuICAgICAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQTEFZRVJfVFlQRSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2x1c3RlcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5jbHVzdGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Gb2N1c09uUmFuZG9tUGFydHkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5lbnN1cmVDbHVzdGVycygpO1xuXG4gICAgICAgIGlmIChjbHVzdGVycy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgY2x1c3RlciA9IGFycmF5UmFuZG9tRWxlbWVudChjbHVzdGVycyk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGNsdXN0ZXIuZ2V0Q2VudGVyKCk7XG5cbiAgICAgICAgY29uc3QgdHJhbnMgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFKSBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShCT0FSRF9TSVpFX1RZUEUpIGFzIEJvYXJkU2l6ZVJlc291cmNlO1xuXG4gICAgICAgIGxldCBjaGFuZ2VzID0ge1xuICAgICAgICAgICAgcG9zWDogLWNlbnRlci54ICogdHJhbnMuc2NhbGVYICsgc2l6ZS53aWR0aCAvIDIsXG4gICAgICAgICAgICBwb3NZOiAtY2VudGVyLnkgKiB0cmFucy5zY2FsZVkgKyBzaXplLmhlaWdodCAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFLCBjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBlbnN1cmVDbHVzdGVycygpOiBBcnJheTxBYWJiPiB7XG4gICAgICAgIGlmICh0aGlzLmNsdXN0ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuYnVpbGRDbHVzdGVycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbHVzdGVycyEhO1xuICAgIH1cblxuICAgIGJ1aWxkQ2x1c3RlcnMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2x1c3RlcnMgPSBbXTtcblxuICAgICAgICBjb25zdCBwbGF5ZXJTdG9yYWdlID0gdGhpcy53b3JsZC5nZXRTdG9yYWdlKFBMQVlFUl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllckNvbXBvbmVudD47XG4gICAgICAgIGNvbnN0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLmdldFN0b3JhZ2UoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgLy8gSSBleHBlY3QgdGhlcmUgdG8gYmUgYSBsb3cgbnVtYmVyIG9mIHBsYXllcnMgKDw8MzApIGFuZCBvZiBjbHVzdGVycyAoPDwxMCksXG4gICAgICAgIC8vIHNvIGFueSBhbGdvcml0aG0gd2lsbCBkbyB3aXRoIHNvbWUgY2FjaGUuXG4gICAgICAgIC8vIFRoaXMgaXMgYSBPKFAqTipsb2coUCkpICh3aGVyZSBQID0gbi4gb2YgcGxheWVycyBhbmQgTiA9IGF2Zy4gbi4gb2YgcGxheWVycyBuZWFyIGEgcGxheWVyKVxuICAgICAgICAvLyBhbGdvcml0aG0gdGhhdCB1c2VzIGFuIFVuaW9uRmluZFNldCB0byBjb21wdXRlIHRoZSBkaWZmZXJlbnQgc2V0cyBhbmQgYSBkaWZmZXJlblxuICAgICAgICAvLyBib3VuZGluZyBib3ggYXJyYXkgdG8gc3RvcmUgdGhlIHNldHMgYm91bmRpbmcgYm94ICh0aGF0IGlzIG9ubHkgdXNlZCB0byBjb21wdXRlIHRoZSBjbHVzdGVyIGNlbnRlcilcbiAgICAgICAgLy8gVGhlIGFsZ29yaXRobSBpcyBkaXZpZGVkIGludG8gMiBwYXJ0czpcbiAgICAgICAgLy8gMS4gIEFsbCBvZiB0aGUgcGxheWVycyBhcmUgcHV0IGludG8gYW4gQWFiYiBUcmVlIGFuZCBhcmUgZW51bWVyYXRlZCBpbiBhIDEuLlAgcmFuZ2VcbiAgICAgICAgLy8gMS41IEEgbmV3IFVuaW9uRmluZFNldCBpcyBidWlsdCAod2l0aCBsZW5ndGggUCkgdGhhdCB1c2VzIHRoZSBuZXdseSBlbnVtZXJhdGVkIHBsYXllcnNcbiAgICAgICAgLy8gMi4gIEZvciBlYWNoIHBsYXllciBzZWFyY2ggYWxsIG9mIHRoZSBuZWFyIHBsYXllcnMgKHdpdGggZGlzdGFuY2UgPCBDTFVTVEVSX0RJU1RBTkNFKVxuICAgICAgICAvLyAgICAgICBhbmQgbWVyZ2UgdGhlaXIgc2V0cyB0b2dldGhlciAodXBkYXRpbmcgdGhlIGJvdW5kaW5nIGJveGVzIGFjY29yZGluZ2x5KVxuXG4gICAgICAgIGxldCB0cmVlID0gbmV3IER5bmFtaWNUcmVlPFBsYXllckNvbXBvbmVudD4oKTtcbiAgICAgICAgbGV0IHBsYXllck1hcCA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG4gICAgICAgIC8vIFVzZWQgZm9yIG5vdGhpbmcgZWxzZSB0aGFuIGZpbmRpbmcgdGhlIGNlbnRlci5cbiAgICAgICAgbGV0IGJvdW5kcyA9IG5ldyBBcnJheTxBYWJiPigpO1xuXG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJTdG9yYWdlLmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdHJlZS5jcmVhdGVQcm94eShBYWJiLmZyb21Qb2ludChwb3MpLCBwbGF5ZXIpO1xuICAgICAgICAgICAgYm91bmRzLnB1c2goQWFiYi5mcm9tUG9pbnQocG9zKSk7XG4gICAgICAgICAgICBwbGF5ZXJNYXAuc2V0KHBsYXllci5lbnRpdHksIHBsYXllck1hcC5zaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZXQgPSBuZXcgVW5pb25GaW5kU2V0KHBsYXllck1hcC5zaXplKTtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHdlIGJ1aWxkIGFub3RoZXIgdHJlZSBvciBzaG91bGQgd2UgdXNlIHRoZVxuICAgICAgICAvLyBnZW5lcmljIG9uZT8gdGhlIGNvc3QgaXMgdGhlIHNhbWUgYnV0IHRoZSBnZW5lcmljIHVuZSBpcyAobXVjaCkgdGFsbGVyXG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJTdG9yYWdlLmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IGFhYmIgPSBBYWJiLmZyb21Qb2ludChwb3MpO1xuICAgICAgICAgICAgYWFiYi5leHRlbmQoQ0xVU1RFUl9ESVNUQU5DRSAvIDIsIGFhYmIpO1xuICAgICAgICAgICAgY29uc3QgYXNldCA9IHNldC5maW5kKHBsYXllck1hcC5nZXQocGxheWVyLmVudGl0eSkhISk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBxdWVyeSdzIGNvbXBsZXhpdHkgc2hvdWxkIGJlIE8obG9nKE4pKSB0aGVvcmV0aWNhbGx5XG4gICAgICAgICAgICAvLyBmb3IgYW4gaW5maW5pdGVseSBzbWFsbCBBYWJiXG4gICAgICAgICAgICBmb3IgKGxldCBuZWFyIG9mIHRyZWUucXVlcnkoYWFiYikpIHtcbiAgICAgICAgICAgICAgICBpZiAobmVhci50YWcgPT09IHVuZGVmaW5lZCB8fCBuZWFyLnRhZyA9PT0gcGxheWVyKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBqb2luIHBsYXllciBhbmQgbmVhclxuXG4gICAgICAgICAgICAgICAgY29uc3QgYnNldCA9IHNldC5maW5kKHBsYXllck1hcC5nZXQobmVhci50YWcuZW50aXR5KSEhKTtcbiAgICAgICAgICAgICAgICBsZXQgdW5pb25QYXJlbnQgPSBzZXQudW5pb24oYXNldCwgYnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKHVuaW9uUGFyZW50IDwgMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbGV0IG90aGVyID0gdW5pb25QYXJlbnQgPT09IGFzZXQgPyBic2V0IDogYXNldDtcblxuICAgICAgICAgICAgICAgIC8vIE1lcmdlIGJvdW5kcyBhbmQgc3RvcmUgdGhlbSBpbiB0aGUgcGFyZW50J3MgYm91bmRcbiAgICAgICAgICAgICAgICBib3VuZHNbdW5pb25QYXJlbnRdLmNvbWJpbmUoYm91bmRzW290aGVyXSwgYm91bmRzW3VuaW9uUGFyZW50XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgcmVzdWx0c1xuICAgICAgICAvLyBUaGUgcmVzdWx0aW5nIEFBQkJzIGFyZSBzdG9yZWQgaW4gdGhlIGxlYWRlcnMgb2YgdGhlIHZhcmlvdXMgc2V0c1xuICAgICAgICAvLyAob3IgdGhlIHRyZWUgcm9vdHMgaWYgeW91J3JlIHRoaW5raW5nIGFib3V0IHRoZSBVRlMgYXMgYSBmb3Jlc3QpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2V0LnBhcmVudHNbaV0gIT09IGkpIGNvbnRpbnVlOyAvLyBOb3QgdGhlIHJvb3RcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcnMucHVzaChib3VuZHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnQsIFZpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0ICogYXMgUG9pbnRMaWdodFJlbmRlciBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXJcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7XG4gICAgbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LFxuICAgIFZJU0lCSUxJVFlfQVdBUkVfVFlQRSxcbiAgICBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQsXG4gICAgVmlzaWJpbGl0eUF3YXJlU3lzdGVtXG59IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eUF3YXJlU3lzdGVtXCI7XG5pbXBvcnQge0xJR0hUX1NFVFRJTkdTX1RZUEUsIExJR0hUX1RZUEUsIExpZ2h0Q29tcG9uZW50LCBMaWdodFNldHRpbmdzLCBMaWdodFN5c3RlbSwgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSwgTG9jYWxMaWdodFNldHRpbmdzfSBmcm9tIFwiLi9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1BJTl9UWVBFfSBmcm9tIFwiLi9waW5TeXN0ZW1cIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuXG5leHBvcnQgY29uc3QgUExBWUVSX1RZUEUgPSAncGxheWVyJztcbmV4cG9ydCB0eXBlIFBMQVlFUl9UWVBFID0gdHlwZW9mIFBMQVlFUl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBMQVlFUl9UWVBFO1xuICAgIG5pZ2h0VmlzaW9uOiBib29sZWFuO1xuICAgIHJhbmdlOiBudW1iZXI7XG59XG5cbi8qKlxuICogQWRkZWQgdG8gZXZlcnkgb2JqZWN0IHRoYXQgbWlnaHQgYmUgdmlzaWJsZSBieSBhIHBsYXllciwgaXQgdHJhY2tzIGhvdyBtYW55IHBsYXllcnMgYW5kIGhvdyBtYW55IGxpZ2h0c1xuICogYXJlIHNlZWluZyBpdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFBMQVlFUl9WSVNJQkxFX1RZUEUgPSAncGxheWVyX3Zpc2libGUnO1xuZXhwb3J0IHR5cGUgUExBWUVSX1ZJU0lCTEVfVFlQRSA9IHR5cGVvZiBQTEFZRVJfVklTSUJMRV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQTEFZRVJfVklTSUJMRV9UWVBFO1xuICAgIHZpc2libGU6IGJvb2xlYW47XG4gICAgaXNXYWxsPzogYm9vbGVhbjsvLyBOb24gbW9kaWZpYWJsZVxuICAgIF9yZWZDb3VudDogbnVtYmVyO1xuICAgIF9saWdodENvdW50OiBudW1iZXI7XG4gICAgX3BsYXllckNvdW50OiBudW1iZXI7XG4gICAgX3BsYXllck5pZ2h0VmlzaW9uQ291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5U3ByZWFkRGF0YSB7XG4gICAgbmlnaHRWaXNpb246IGJvb2xlYW47XG4gICAgYWFiYjogQWFiYixcbiAgICBsaWdodHM6IFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFbXTtcbiAgICBwbGF5ZXJzOiBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhW107XG4gICAgbmlnaHRWaXNQbGF5ZXJzOiBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YSB7XG4gICAgbWVzaDogUElYSS5NZXNoO1xuICAgIHBvczogUElYSS5JUG9pbnREYXRhO1xuICAgIHZpczogVmlzaWJpbGl0eUNvbXBvbmVudCxcbn1cblxuZXhwb3J0IGNvbnN0IEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFEID0gJ3Zpc2liaWxpdHlfc3ByZWFkJztcbmV4cG9ydCB0eXBlIEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFEID0gdHlwZW9mIEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFEO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gUExBWUVSX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJTl9UWVBFLCBWSVNJQklMSVRZX1RZUEUsIFZJU0lCSUxJVFlfQVdBUkVfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpZ2h0U3lzdGVtOiBMaWdodFN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZpc2liaWxpdHlTeXN0ZW06IFZpc2liaWxpdHlTeXN0ZW07XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGxheWVyQ29tcG9uZW50PihQTEFZRVJfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgdmlzaWJsZVN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJWaXNpYmxlQ29tcG9uZW50PihQTEFZRVJfVklTSUJMRV9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgLy8gSWYgZmFsc2UgYSBwbGF5ZXIgY2FuIHNlZSBhIHRoaW5nIG9ubHkgaWYgaXQncyBpbGx1bWluYXRlZCBieSBhcnRpZmljaWFsIGxpZ2h0XG4gICAgYW1iaWVudElsbHVtaW5hdGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMubGlnaHRTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChMSUdIVF9UWVBFKSBhcyBMaWdodFN5c3RlbTtcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5U3lzdGVtID0gd29ybGQuc3lzdGVtcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5U3lzdGVtO1xuXG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZSA/PyBTVEFOREFSRF9HUklEX09QVElPTlMpLnNpemU7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnZpc2libGVTdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG5cbiAgICAgICAgbGV0IHZpc0F3YXJlID0gd29ybGQuc3lzdGVtcy5nZXQoVklTSUJJTElUWV9BV0FSRV9UWVBFKSBhcyBWaXNpYmlsaXR5QXdhcmVTeXN0ZW07XG4gICAgICAgIHZpc0F3YXJlLmV2ZW50cy5vbignYXdhcmVfdXBkYXRlJywgdGhpcy5vblZpc2liaWxpdHlBd2FyZVVwZGF0ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZSh0OiBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBuZXdWaXNpYmxlID0gdC5fcGxheWVyTmlnaHRWaXNpb25Db3VudCA+IDAgfHxcbiAgICAgICAgICAgICgodGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQgfHwgdC5fbGlnaHRDb3VudCA+IDAgfHwgdC5pc1dhbGwpICYmIHQuX3BsYXllckNvdW50ID4gMCk7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyICYmIHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHQuZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1Zpc2libGUgIT09IHQudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHQuZW50aXR5LCB0LnR5cGUsIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBuZXdWaXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVmlzaWJpbGl0eUF3YXJlVXBkYXRlKHRhcmdldDogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LCBhZGRlZDogbnVtYmVyW10sIHJlbW92ZWQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBwbGF5ZXJWaXNpYmxlID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQodGFyZ2V0LmVudGl0eSk7XG4gICAgICAgIGlmIChwbGF5ZXJWaXNpYmxlID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBlIG9mIGFkZGVkKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllckNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlLCBMSUdIVF9UWVBFKSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fbGlnaHRDb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZSBvZiByZW1vdmVkKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllckNvdW50IC09IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlLCBMSUdIVF9UWVBFKSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fbGlnaHRDb3VudCAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwbGF5ZXJWaXNpYmxlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTmlnaHRWaXNpb25VcGRhdGUocGxheWVyOiBQbGF5ZXJDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcblxuICAgICAgICBsZXQgZGlmZiA9IHBsYXllci5uaWdodFZpc2lvbiA/ICsxIDogLTE7XG5cbiAgICAgICAgbGV0IGZ1biA9ICh0OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXJWaXNpYmxlID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQodCk7XG4gICAgICAgICAgICBpZiAocGxheWVyVmlzaWJsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ICs9IGRpZmY7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHBsYXllclZpc2libGUpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCB0IG9mIHZpcy5fY2FuU2VlKSBmdW4odCk7XG4gICAgICAgIGlmICh2aXMuX2NhblNlZVdhbGxzKSBmb3IgKGxldCB0IG9mIHZpcy5fY2FuU2VlV2FsbHMpIGZ1bih0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVZpc01lc2hGcm9tKHBvczogUElYSS5JUG9pbnREYXRhLCB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQpOiBQSVhJLk1lc2gge1xuICAgICAgICBsZXQgbWVzaCA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgnY29uc3QnKTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMobWVzaCwgcG9zLCB2aXMucG9seWdvbiEpO1xuICAgICAgICBsZXQgciA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFVuaWZvcm1zKG1lc2gsIHBvcywgcipyLCAweEZGRkZGRik7XG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3ByZWFkUGxheWVyVmlzaWJpbGl0eShwbGF5ZXI6IG51bWJlciwgcG9zOiBQSVhJLklQb2ludERhdGEsIHZpczogVmlzaWJpbGl0eUNvbXBvbmVudCwgbmlnaHRWaXNpb246IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllciwgSE9TVF9ISURERU5fVFlQRSkpIHJldHVybjsvLyBJZ25vcmUgaGlkZGVuIHBsYXllcnNcbiAgICAgICAgbGV0IHBsYXllclZpcyA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgnY29uc3QnKTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMocGxheWVyVmlzLCBwb3MsIHZpcy5wb2x5Z29uISk7XG4gICAgICAgIGxldCByID0gdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoVW5pZm9ybXMocGxheWVyVmlzLCBwb3MsIHIgKiByLCAweEZGRkZGRik7XG5cbiAgICAgICAgbGV0IGxpZ2h0U3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KExJR0hUX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8TGlnaHRDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBwbGF5ZXJEYXRhID0ge1xuICAgICAgICAgICAgbWVzaDogcGxheWVyVmlzLFxuICAgICAgICAgICAgdmlzLFxuICAgICAgICAgICAgcG9zLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGE7XG5cblxuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuICAgICAgICBsZXQgbmlnaHRWaXNQbGF5ZXJzID0gW107XG5cbiAgICAgICAgbGV0IGxpZ2h0cyA9IFtdO1xuICAgICAgICBsZXQgYWFiYjtcbiAgICAgICAgaWYgKCFuaWdodFZpc2lvbiAmJiAhdGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHBsYXllcnMucHVzaChwbGF5ZXJEYXRhKTtcblxuICAgICAgICAgICAgYWFiYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy52aXNpYmlsaXR5U3lzdGVtLmFhYmJUcmVlLnF1ZXJ5KHZpcy5hYWJiISkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlzQ29tcG9uZW50ID0gYy50YWchO1xuICAgICAgICAgICAgICAgIGxldCBsaWdodENvbXBvbmVudCA9IGxpZ2h0U3RvcmFnZS5nZXRDb21wb25lbnQodmlzQ29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0Q29tcG9uZW50ID09PSB1bmRlZmluZWQgfHwgdmlzQ29tcG9uZW50LnJhbmdlIDw9IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXNDb21wb25lbnQuZW50aXR5KSE7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWFiYiA9PT0gdW5kZWZpbmVkKSBhYWJiID0gdmlzQ29tcG9uZW50LmFhYmIhLmNvcHkoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGFhYmIuY29tYmluZSh2aXNDb21wb25lbnQuYWFiYiEsIGFhYmIpO1xuXG4gICAgICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXNDb21wb25lbnQpO1xuXG4gICAgICAgICAgICAgICAgbGlnaHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZXNoLFxuICAgICAgICAgICAgICAgICAgICBwb3MsXG4gICAgICAgICAgICAgICAgICAgIHZpczogdmlzQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlnaHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOy8vIG5vIG5pZ2h0IHZpc2lvbiBBTkQgbm8gbGlnaHRzID0gY2FuJ3Qgc2VlIGEgdGhpbmchXG4gICAgICAgICAgICBhYWJiIS5pbnRlcnNlY3QodmlzLmFhYmIhLCBhYWJiISk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnMucHVzaChwbGF5ZXJEYXRhKVxuICAgICAgICAgICAgYWFiYiA9IHZpcy5hYWJiO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzLFxuICAgICAgICAgICAgcGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVycyxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELCBkYXRhKTtcblxuICAgICAgICBwbGF5ZXJEYXRhLm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IGxpZ2h0IG9mIGRhdGEubGlnaHRzKSBsaWdodC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3ByZWFkTGlnaHRWaXNpYmlsaXR5KGxpZ2h0VmlzOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIC8vIFF1aXRlIHNpbWlsYXIgdG8gc3ByZWFkUGxheWVyVmlzaWJpbGl0eSBidXQgZm9sbG93cyBhIGxpZ2h0IGluc3RlYWQgb2YgYSBwbGF5ZXIsXG4gICAgICAgIC8vIFdoZW4gYSBsaWdodCB2aXNpYmlsaXR5IHBvbHlnb24gaXMgY2hhbmdlZCB0aGlzIHdpbGwgcXVlcnkgZWFjaCBwbGF5ZXIgaW4gdGhlIHBvbHlnb24ncyByZWFjaCBhbmRcbiAgICAgICAgLy8gc3ByZWFkIHRoZSB2aXNpYmlsaXR5IChvbmx5IHdpdGggdGhhdCBsaWdodCEpXG5cbiAgICAgICAgaWYgKHRoaXMuYW1iaWVudElsbHVtaW5hdGVkKSByZXR1cm47Ly8gV2hvIG5lZWRzIGxpZ2h0cz9cblxuICAgICAgICBsZXQgdmlzU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5Q29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgbGlnaHRQb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChsaWdodFZpcy5lbnRpdHkpITtcbiAgICAgICAgbGV0IGxpZ2h0TWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20obGlnaHRQb3MsIGxpZ2h0VmlzKTtcblxuICAgICAgICBsZXQgbGlnaHREYXRhID0gW3tcbiAgICAgICAgICAgIG1lc2g6IGxpZ2h0TWVzaCxcbiAgICAgICAgICAgIHBvczogbGlnaHRQb3MsXG4gICAgICAgICAgICB2aXM6IGxpZ2h0VmlzLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFdO1xuXG4gICAgICAgIGxldCBhYWJiID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy52aXNpYmlsaXR5U3lzdGVtLmFhYmJUcmVlLnF1ZXJ5KGxpZ2h0VmlzLmFhYmIhKSkge1xuICAgICAgICAgICAgbGV0IHZpc0NvbXBvbmVudCA9IGMudGFnITtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpc0NvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gdW5kZWZpbmVkIHx8IHZpc0NvbXBvbmVudC5yYW5nZSA8PSAwIHx8IHBsYXllci5uaWdodFZpc2lvbikgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChhYWJiID09PSB1bmRlZmluZWQpIGFhYmIgPSB2aXNDb21wb25lbnQuYWFiYiEuY29weSgpO1xuICAgICAgICAgICAgZWxzZSBhYWJiLmNvbWJpbmUodmlzQ29tcG9uZW50LmFhYmIhLCBhYWJiKTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KSE7XG5cbiAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG5cbiAgICAgICAgICAgIHBsYXllcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzaCxcbiAgICAgICAgICAgICAgICBwb3MsXG4gICAgICAgICAgICAgICAgdmlzLFxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGFhYmIhLmludGVyc2VjdChsaWdodFZpcy5hYWJiISwgYWFiYiEpO1xuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0czogbGlnaHREYXRhLFxuICAgICAgICAgICAgcGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVyczogW10sXG4gICAgICAgICAgICBuaWdodFZpc2lvbjogZmFsc2UsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgZGF0YSk7XG4gICAgICAgIGxpZ2h0RGF0YVswXS5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgcGxheWVycykgcGxheWVyLm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcHJlYWRBZnRlckxpZ2h0Tm90TmVlZGVkKCk6IHZvaWQge1xuICAgICAgICAvLyBTb21ldGhpbmcgY2hhbmdlZCwgbGlnaHQgaXMgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCBtb3N0IG9mIHRoZSB0aGluZ3MgdGhhdCB3ZXJlIG5vdCB2aXNpYmxlIGFueW1vcmUgbm93IGFyZVxuICAgICAgICAvLyBidXQgd2hhdD8gYW5kIHdoZXJlPyB0aGlzIGlzIHRoZSBxdWVzdGlvbnMgaSB3aWxsIGFuc3dlciB0b2RheVxuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuXG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBhYWJiID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcblxuICAgICAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgYWFiYiA9IHZpcy5hYWJiIS5jb3B5KCk7XG4gICAgICAgICAgICBlbHNlIGFhYmIuY29tYmluZSh2aXMuYWFiYiEsIGFhYmIpO1xuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHttZXNoLCBwb3MsIHZpc30gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcbiAgICAgICAgICAgIHBsYXllcnMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhYWJiID09PSB1bmRlZmluZWQpIHJldHVybjsvLyBOb3QgZW5vdWdoIHBsYXllcnNcblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGFhYmIsXG4gICAgICAgICAgICBsaWdodHM6IFtdLFxuICAgICAgICAgICAgcGxheWVyczogW10sXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnM6IHBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc2lvbjogZmFsc2UsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIGRhdGEpO1xuXG4gICAgICAgIGZvciAobGV0IHggb2YgcGxheWVycykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuICAgIGdldFNwcmVhZERhdGFGb3JBYWJiKGFhYmI6IEFhYmIsIGNiOiAoZGF0YTogVmlzaWJpbGl0eVNwcmVhZERhdGEpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5pZ2h0VmlzUGxheWVycyA9IFtdO1xuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuICAgICAgICBsZXQgbGlnaHRzID0gW107XG5cbiAgICAgICAgbGV0IGxpZ2h0c05lZWRlZCA9ICF0aGlzLmFtYmllbnRJbGx1bWluYXRlZDtcbiAgICAgICAgbGV0IGxpZ2h0U3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KExJR0hUX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8TGlnaHRDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy52aXNpYmlsaXR5U3lzdGVtLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gYy50YWchO1xuXG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0ge21lc2gsIHBvcywgdmlzfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIubmlnaHRWaXNpb24gfHwgIWxpZ2h0c05lZWRlZCkgbmlnaHRWaXNQbGF5ZXJzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgZWxzZSBwbGF5ZXJzLnB1c2goZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaWdodHNOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGlnaHQgPSBsaWdodFN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0ge21lc2gsIHBvcywgdmlzfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuICAgICAgICAgICAgICAgICAgICBsaWdodHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVhbFBsYXllcnMgPSBwbGF5ZXJzO1xuICAgICAgICBsZXQgcmVhbExpZ2h0cyA9IGxpZ2h0cztcblxuICAgICAgICBpZiAocGxheWVycy5sZW5ndGggPT09IDAgfHwgbGlnaHRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZWFsUGxheWVycyA9IFtdO1xuICAgICAgICAgICAgcmVhbExpZ2h0cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzOiByZWFsTGlnaHRzLFxuICAgICAgICAgICAgcGxheWVyczogcmVhbFBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnMsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG4gICAgICAgIGNiKGRhdGEpO1xuXG4gICAgICAgIGZvciAobGV0IHggb2YgbGlnaHRzKSB4Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IHggb2YgcGxheWVycykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCB4IG9mIG5pZ2h0VmlzUGxheWVycykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIFBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFkZGVkIHBsYXllciB0byBwaW4gd2l0aG91dCBwbGF5ZXIgdmlzaWJpbGl0eSEgXCIgKyBjb21wLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHYuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQrKzsvLyBBIGJpdCBoYWNraXNoLCBidXQgaXQgd29ya3MgOylcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocHYpO1xuXG4gICAgICAgICAgICAvLyBXZSBuZWVkIGEgdmlzaWJpbGl0eSBjb21wb25lbnQsIGNyZWF0ZSBvbmUgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuICAgICAgICAgICAgbGV0IHZpcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX1RZUEUsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHBsYXllci5yYW5nZSxcbiAgICAgICAgICAgICAgICB0cmFja1dhbGxzOiB0cnVlLFxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHZpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVklTSUJMRV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgIGMuX2xpZ2h0Q291bnQgPSAwO1xuICAgICAgICAgICAgYy5fcGxheWVyQ291bnQgPSAwO1xuICAgICAgICAgICAgYy5fcGxheWVyTmlnaHRWaXNpb25Db3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwgbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KGMuaXNXYWxsID09PSB0cnVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgUGxheWVyQ29tcG9uZW50XG5cbiAgICAgICAgICAgIGlmICgnbmlnaHRWaXNpb24nIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTmlnaHRWaXNpb25VcGRhdGUoYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgncmFuZ2UnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSwge1xuICAgICAgICAgICAgICAgICAgICByYW5nZTogYy5yYW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodmlzLnBvbHlnb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZFBsYXllclZpc2liaWxpdHkoY29tcC5lbnRpdHksIHBvcywgdmlzLCBjLm5pZ2h0VmlzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjb21wIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoISgncG9seWdvbicgaW4gY2hhbmdlZCkpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHBsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpcy5wb2x5Z29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRQbGF5ZXJWaXNpYmlsaXR5KGNvbXAuZW50aXR5LCBwb3MsIHZpcywgcGxheWVyLm5pZ2h0VmlzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQodmlzLmVudGl0eSwgTElHSFRfVFlQRSk7XG4gICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ByZWFkTGlnaHRWaXNpYmlsaXR5KHZpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodmlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gcGxheWVyIHZpc2liaWxpdHkgZm91bmQgb24gcmVtb3ZhbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwdiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBwdi5fcGxheWVyTmlnaHRWaXNpb25Db3VudC0tOy8vIEdvdHRhIHVuZG8gdGhvc2UgaGFja3NcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocHYpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHB2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9WSVNJQkxFX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpc0F3YXJlID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFZJU0lCSUxJVFlfQVdBUkVfVFlQRSk7XG4gICAgICAgICAgICBpZiAodmlzQXdhcmUgIT09IHVuZGVmaW5lZCkgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodmlzQXdhcmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IExJR0hUX1NFVFRJTkdTX1RZUEUgJiYgJ25lZWRzTGlnaHQnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IHJlcyBhcyBMaWdodFNldHRpbmdzO1xuICAgICAgICAgICAgdGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQgPSAhbGlnaHQubmVlZHNMaWdodDtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy52aXNpYmxlU3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKGNvbXApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWxpZ2h0Lm5lZWRzTGlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZEFmdGVyTGlnaHROb3ROZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFICYmICdzaXplJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IHJlcyBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZC5zaXplO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUFVCTElDIElOVEVSRkFDRVxuICAgIGFkZFBsYXllclZpc0xpc3RlbmVyKGVudGl0eTogbnVtYmVyLCBpc1dhbGw6IGJvb2xlYW4gPSBmYWxzZSk6IFBsYXllclZpc2libGVDb21wb25lbnQge1xuICAgICAgICBsZXQgYyA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogUExBWUVSX1ZJU0lCTEVfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNXYWxsLFxuICAgICAgICAgICAgICAgIF9yZWZDb3VudDogMSxcbiAgICAgICAgICAgICAgICBfbGlnaHRDb3VudDogMCxcbiAgICAgICAgICAgICAgICBfcGxheWVyQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgX3BsYXllck5pZ2h0VmlzaW9uQ291bnQ6IDAsXG4gICAgICAgICAgICB9IGFzIFBsYXllclZpc2libGVDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChlbnRpdHksIGMpO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLl9yZWZDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIHJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBjLl9yZWZDb3VudC0tO1xuICAgICAgICBpZiAoYy5fcmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIuc2V0dXAoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxuXG59IiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBUUkFOU0ZPUk1fVFlQRSxcbiAgICBUcmFuc2Zvcm1Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvbkNvbXBvbmVudCwgSW50ZXJhY3Rpb25TeXN0ZW0sIHNoYXBlUG9pbnR9IGZyb20gXCIuL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VGV4dHVyZX0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7UGluQ29tcG9uZW50fSBmcm9tIFwiLi9waW5TeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgRWxlbWVudFR5cGUsXG4gICAgR1JBUEhJQ19UWVBFLFxuICAgIEdyYXBoaWNDb21wb25lbnQsXG4gICAgSW1hZ2VFbGVtZW50LFxuICAgIEltYWdlU2NhbGVNb2RlLFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xQYXJ0LCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7UG9pbnRlckNsaWNrRXZlbnQsIFBvaW50ZXJFdmVudHMsIFBvaW50ZXJVcEV2ZW50fSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7ZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtjb21wb25lbnRFZGl0Q29tbWFuZCwgRWRpdFR5cGV9IGZyb20gXCIuL2NvbW1hbmQvY29tcG9uZW50RWRpdFwiO1xuaW1wb3J0IHtmaW5kRm9yZWdyb3VuZCwgTEFZRVJfVFlQRSwgTGF5ZXJTeXN0ZW19IGZyb20gXCIuL2JhY2svbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7TGlua1JlbG9jYXRpb25TeXN0ZW0sIExJTktfUkVMT0NBVElPTl9UWVBFfSBmcm9tIFwiLi9iYWNrL2xpbmtSZWxvY2F0aW9uU3lzdGVtXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBDcmVhdGlvbkluZm9SZXNvdXJjZSwgQ1JFQVRJT05fSU5GT19UWVBFIH0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5cblxuZXhwb3J0IGNvbnN0IFBST1BfVFlQRSA9ICdwcm9wJztcbmV4cG9ydCB0eXBlIFBST1BfVFlQRSA9IHR5cGVvZiBQUk9QX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFByb3BDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBST1BfVFlQRTtcbiAgICBwcm9wVHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BUeXBlIHtcbiAgICBpZDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB0ZXh0dXJlOiBUZXh0dXJlLFxufVxuXG5leHBvcnQgY29uc3QgUFJPUF9URUxFUE9SVF9UWVBFID0gJ3Byb3BfdGVsZXBvcnQnO1xuZXhwb3J0IHR5cGUgUFJPUF9URUxFUE9SVF9UWVBFID0gdHlwZW9mIFBST1BfVEVMRVBPUlRfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUHJvcFRlbGVwb3J0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEU7XG4gICAgdGFyZ2V0UHJvcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvcFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBST1BfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JBUEhJQ19UWVBFLCBJTlRFUkFDVElPTl9UWVBFLCBTRUxFQ1RJT05fVFlQRSwgTEFZRVJfVFlQRV07XG4gICAgcmVhZG9ubHkgb3B0aW9uYWxEZXBlbmRlbmNpZXMgPSBbTElOS19SRUxPQ0FUSU9OX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IGludGVyYWN0aW9uU3lzOiBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcbiAgICByZWFkb25seSBsYXllclN5czogTGF5ZXJTeXN0ZW07XG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UHJvcENvbXBvbmVudD4oUFJPUF9UWVBFLCB0cnVlLCB0cnVlKTtcbiAgICByZWFkb25seSB0ZWxlcG9ydFN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQcm9wVGVsZXBvcnQ+KFBST1BfVEVMRVBPUlRfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBwcm9wVHlwZXM6IE1hcDxzdHJpbmcsIFByb3BUeXBlPjtcbiAgICBkZWZhdWx0UHJvcFR5cGU6IHN0cmluZyA9IFwibGFkZGVyX2Rvd25cIjtcblxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICBpZiAod29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2xQYXJ0KG5ldyBDcmVhdGVQcm9wVG9vbFBhcnQodGhpcykpO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sKFRvb2wuQ1JFQVRFX1BST1AsIFsnc3BhY2VfcGFuJywgVG9vbC5DUkVBVEVfUFJPUCwgJ2NyZWF0aW9uX2ZsYWcnXSk7XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2xQYXJ0KG5ldyBQcm9wVGVsZXBvcnRMaW5rVG9vbFBhcnQodGhpcykpO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sKFRvb2wuUFJPUF9URUxFUE9SVF9MSU5LLCBbJ3NwYWNlX3BhbicsIFRvb2wuUFJPUF9URUxFUE9SVF9MSU5LXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGlua1JlbG9jID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChMSU5LX1JFTE9DQVRJT05fVFlQRSkgYXMgTGlua1JlbG9jYXRpb25TeXN0ZW0gfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChsaW5rUmVsb2MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlua1JlbG9jLmFkZExpbmsoUFJPUF9URUxFUE9SVF9UWVBFLCAndGFyZ2V0UHJvcCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG4gICAgICAgIHRoaXMubGF5ZXJTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChMQVlFUl9UWVBFKSBhcyBMYXllclN5c3RlbTtcblxuICAgICAgICB0aGlzLnByb3BUeXBlcyA9IG5ldyBNYXA8c3RyaW5nLCBQcm9wVHlwZT4oKTtcblxuICAgICAgICB0aGlzLmxvYWRQcm9wVHlwZXMoKTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy50ZWxlcG9ydFN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Byb3BfdXNlJywgdGhpcy5vblByb3BVc2UsIHRoaXMpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyUHJvcFR5cGUocHJvcFR5cGU6IFByb3BUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMucHJvcFR5cGVzLnNldChwcm9wVHlwZS5pZCwgcHJvcFR5cGUpO1xuICAgIH1cblxuICAgIGxvYWRQcm9wVHlwZXMoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGF0bGFzID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcInByb3BzXCJdLnNwcml0ZXNoZWV0ITtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdsYWRkZXJfdXAnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMYWRkZXIgVXAnLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IGF0bGFzLnRleHR1cmVzWydsYWRkZXJfdXAucG5nJ10sXG4gICAgICAgICAgICB9IGFzIFByb3BUeXBlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbGFkZGVyX2Rvd24nLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMYWRkZXIgRG93bicsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogYXRsYXMudGV4dHVyZXNbJ2xhZGRlcl9kb3duLnBuZyddLFxuICAgICAgICAgICAgfSBhcyBQcm9wVHlwZSxcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBvZiBwcm9wcykgdGhpcy5yZWdpc3RlclByb3BUeXBlKHByb3ApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHJvcFR5cGUocDogUHJvcENvbXBvbmVudCk6IFByb3BUeXBlIHtcbiAgICAgICAgbGV0IHBUeXBlID0gdGhpcy5wcm9wVHlwZXMuZ2V0KHAucHJvcFR5cGUpO1xuICAgICAgICBpZiAocFR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgZmluZCBwcm9wIHR5cGU6ICR7cC5wcm9wVHlwZX1gKTtcbiAgICAgICAgICAgIHBUeXBlID0gdGhpcy5wcm9wVHlwZXMuZ2V0KHRoaXMuZGVmYXVsdFByb3BUeXBlKTtcblxuICAgICAgICAgICAgaWYgKHBUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHByb3AgdHlwZSBpcyBpbnZhbGlkIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcFR5cGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gJ3Byb3AnKSByZXR1cm47XG4gICAgICAgIGxldCBwcm9wID0gYyBhcyBQcm9wQ29tcG9uZW50O1xuICAgICAgICBsZXQgcHJvcFR5cGUgPSB0aGlzLmdldFByb3BUeXBlKHByb3ApO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuUFJPUCxcbiAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuR1JJRCxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVIsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogcHJvcFR5cGUudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBzaGFyZWRUZXh0dXJlOiB0cnVlLC8vIERPTlQgREVMRVRFIE1ZIFRFWFRVUkVcbiAgICAgICAgICAgICAgICBhbmNob3I6IHsgeDogMC41LCB5OiAwLjUgfSxcbiAgICAgICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIH0gYXMgSW1hZ2VFbGVtZW50LFxuICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gUFJPUF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IGMgYXMgUHJvcENvbXBvbmVudDtcblxuICAgICAgICAgICAgbGV0IHBUeXBlID0gdGhpcy5nZXRQcm9wVHlwZShwcm9wKTtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQpLmRpc3BsYXkgYXMgSW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgZGlzcGxheS50ZXh0dXJlID0gcFR5cGUudGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgR1JBUEhJQ19UWVBFLCB7IGRpc3BsYXkgfSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSAncHJvcCcpIHtcbiAgICAgICAgICAgIGxldCB0cCA9IHRoaXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodHAgIT09IHVuZGVmaW5lZCkgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodHApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblByb3BVc2UoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IHByb3AgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGxldCB0ZWxlcG9ydCA9IHRoaXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkIHx8IHRlbGVwb3J0ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodGVsZXBvcnQuZW50aXR5KTtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmxpbmtlZCB0ZWxlcG9ydGVyIVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3NpdGlvbnMgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc0Zyb20gPSBwb3NpdGlvbnMuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuICAgICAgICBsZXQgcG9zVG8gPSBwb3NpdGlvbnMuZ2V0Q29tcG9uZW50KHRlbGVwb3J0LnRhcmdldFByb3ApITtcbiAgICAgICAgbGV0IGRpZmZYID0gcG9zVG8ueCAtIHBvc0Zyb20ueDtcbiAgICAgICAgbGV0IGRpZmZZID0gcG9zVG8ueSAtIHBvc0Zyb20ueTtcblxuICAgICAgICBsZXQgc2hhcGUgPSAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCkuc2hhcGU7XG4gICAgICAgIGxldCBwaW5TdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoJ3BpbicpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UGluQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgZm9yZWdyb3VuZCA9IGZpbmRGb3JlZ3JvdW5kKHRoaXMud29ybGQpO1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlLCB4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwaW5TdG9yYWdlLmdldENvbXBvbmVudCh4LmVudGl0eSkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJTeXMuZ2V0RW50aXR5TGF5ZXIoeC5lbnRpdHkpLmVudGl0eSA9PSBmb3JlZ3JvdW5kO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGxldCBlZGl0ID0gW10gYXMgRWRpdFR5cGVbXTtcbiAgICAgICAgZm9yIChsZXQgcSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc2l0aW9ucy5nZXRDb21wb25lbnQocS5lbnRpdHkpITtcbiAgICAgICAgICAgIGVkaXQucHVzaCh7XG4gICAgICAgICAgICAgICAgZW50aXR5OiBxLmVudGl0eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBwb3MudHlwZSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgZGlmZlgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgZGlmZlksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNtZCA9IGNvbXBvbmVudEVkaXRDb21tYW5kKHVuZGVmaW5lZCwgZWRpdCk7XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQcm9wVG9vbFBhcnQgaW1wbGVtZW50cyBUb29sUGFydCB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuQ1JFQVRFX1BST1A7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFByb3BTeXN0ZW07XG5cbiAgICAvLyBFbnRpdHkgb2YgdGhlIHByb3AgdG8gYmUgY3JlYXRlZFxuICAgIGNyZWF0ZVByb3A6IG51bWJlciA9IC0xO1xuICAgIGNyZWF0ZVByb3BUeXBlPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBQcm9wU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuc3lzID0gc3lzO1xuICAgIH1cblxuICAgIGluaXRDcmVhdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxDcmVhdGlvbigpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcFR5cGUgPSB0aGlzLnN5cy5kZWZhdWx0UHJvcFR5cGU7XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IHRoaXMuc3lzLnByb3BUeXBlcy5nZXQodGhpcy5jcmVhdGVQcm9wVHlwZSk7XG4gICAgICAgIGlmIChwcm9wVHlwZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgcHJvcCB0eXBlOiAnICsgdGhpcy5jcmVhdGVQcm9wVHlwZSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wID0gdGhpcy5zeXMud29ybGQuc3Bhd25FbnRpdHkoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogSE9TVF9ISURERU5fVFlQRSxcbiAgICAgICAgICAgIH0gYXMgSG9zdEhpZGRlbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHg6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICB5OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5QUk9QLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuR1JJRCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiBwcm9wVHlwZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICBzaGFyZWRUZXh0dXJlOiB0cnVlLC8vIERPTlQgREVMRVRFIE1ZIFRFWFRVUkVcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiB7eDogMC41LCB5OiAwLjV9LFxuICAgICAgICAgICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgICAgICB9IGFzIEltYWdlRWxlbWVudCxcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2FuY2VsQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVByb3AgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnN5cy53b3JsZC5kZXNwYXduRW50aXR5KHRoaXMuY3JlYXRlUHJvcCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVByb3AgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbmZpcm1DcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUHJvcCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmNyZWF0ZVByb3A7XG4gICAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5zeXMud29ybGQ7XG4gICAgICAgIGxldCBsb2MgPSB3b3JsZC5nZXRDb21wb25lbnQoaWQsIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBsZXQgdHJhbiA9IHdvcmxkLmdldENvbXBvbmVudChpZCwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgd29ybGQuZGVzcGF3bkVudGl0eShpZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcCA9IC0xO1xuXG4gICAgICAgIGNvbnN0IGNtZCA9IFNwYXduQ29tbWFuZEtpbmQuZnJvbSh3b3JsZCwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgeDogbG9jLngsXG4gICAgICAgICAgICAgICAgeTogbG9jLnksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFLFxuICAgICAgICAgICAgICAgIHNjYWxlOiB0cmFuLnNjYWxlLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB0cmFuLnJvdGF0aW9uLFxuICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUFJPUF9UWVBFLFxuICAgICAgICAgICAgICAgIHByb3BUeXBlOiB0aGlzLmNyZWF0ZVByb3BUeXBlLFxuICAgICAgICAgICAgfSBhcyBQcm9wQ29tcG9uZW50LFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdCBjcmVhdGlvbkluZm8gPSB0aGlzLnN5cy53b3JsZC5nZXRSZXNvdXJjZShDUkVBVElPTl9JTkZPX1RZUEUpIGFzIENyZWF0aW9uSW5mb1Jlc291cmNlIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjcmVhdGlvbkluZm8/LmV4aXRBZnRlckNyZWF0aW9uID8/IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQod29ybGQsIGNtZCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJVcEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVByb3AgPT09IC0xKSByZXR1cm47XG4gICAgICAgIGlmIChldmVudC5pc0luc2lkZSkge1xuICAgICAgICAgICAgdGhpcy5jb25maXJtQ3JlYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9VUCwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcylcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BUZWxlcG9ydExpbmtUb29sUGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5QUk9QX1RFTEVQT1JUX0xJTks7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFByb3BTeXN0ZW07XG5cbiAgICBjdXJyZW50VGFyZ2V0OiBudW1iZXIgPSAtMTtcblxuICAgIGNvbnN0cnVjdG9yKHN5czogUHJvcFN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUHJvcFRlbGVwb3J0TGluayhlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgdHAgPSB0aGlzLnN5cy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmICh0cCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYWxsZWQgdGVsZXBvcnQgbGluayBvbiBhIG5vbi10ZWxlcG9ydCBwcm9wLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBlbnRpdHk7XG5cbiAgICAgICAgdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgdG9vbDogVG9vbC5QUk9QX1RFTEVQT1JUX0xJTkssXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbGlua1RvKHRhcmdldDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN5cy5zdG9yYWdlLmdldENvbXBvbmVudCh0YXJnZXQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRyeWluZyB0byBsaW5rIHRlbGVwb3J0IHRvIGEgbm9uLXByb3AsIGlnbm9yaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0cGVyID0gdGhpcy5zeXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudCh0aGlzLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICBpZiAodHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUZWxlcG9ydGVyIGhhcyBiZWVuIGRlc3Ryb3llZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIGl0c2VsZiB0aGVuIGRlbGV0ZSB0aGUgbGlua1xuICAgICAgICBsZXQgZWRpdCA9IFtdO1xuICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgZW50aXR5OiB0cGVyLmVudGl0eSxcbiAgICAgICAgICAgIHR5cGU6IHRwZXIudHlwZSxcbiAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRQcm9wOiB0YXJnZXQgPT09IHRoaXMuY3VycmVudFRhcmdldCA/IC0xIDogdGFyZ2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLnN5cy53b3JsZCwgY29tcG9uZW50RWRpdENvbW1hbmQodW5kZWZpbmVkLCBlZGl0KSk7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IC0xO1xuICAgIH1cblxuICAgIGxpbmtDYW5jZWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IC0xO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBldmVudC5ib2FyZFBvcztcblxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25TeXN0ZW0gPSB0aGlzLnN5cy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gaW50ZXJhY3Rpb25TeXN0ZW0ucXVlcnkoc2hhcGVQb2ludChwb2ludCksIHggPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3lzLndvcmxkLmdldENvbXBvbmVudCh4LmVudGl0eSwgJ3Byb3AnKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgZm91bmQgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBvbGRUcGVyID0gdGhpcy5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5saW5rVG8oZm91bmQuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuc3lzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXR5KG9sZFRwZXIpO1xuICAgICAgICAgICAgdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgICAgIHRvb2w6IFRvb2wuSU5TUEVDVCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJztcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlua0NhbmNlbCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdhdXRvJztcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnN5cy53b3JsZC5ldmVudHMub24oJ3Byb3BfdGVsZXBvcnRfbGluaycsIHRoaXMub25Qcm9wVGVsZXBvcnRMaW5rLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9DTElDSywgdGhpcy5vblBvaW50ZXJDbGljaywgdGhpcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICB9XG59XG4iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBQb2ludH0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7aW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCwgbGluZVNhbWVTbG9wZSwgU2VnbWVudFZzU2VnbWVudFJlc30gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2NvbGxpc2lvblwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbSwgTGluZVNoYXBlLCBzaGFwZUFhYmIsIHNoYXBlTGluZX0gZnJvbSBcIi4vYmFjay9pbnRlcmFjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSwgVmlzaWJpbGl0eUJsb2NrZXJ9IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZSwgR1JBUEhJQ19UWVBFLCBHcmFwaGljQ29tcG9uZW50LCBMaW5lRWxlbWVudCwgVmlzaWJpbGl0eVR5cGV9IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xQYXJ0LCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgUElYSV9CT0FSRF9UWVBFLFxuICAgIFBpeGlCb2FyZFN5c3RlbSxcbiAgICBQb2ludGVyQ2xpY2tFdmVudCxcbiAgICBQb2ludGVyTW92ZUV2ZW50LFxuICAgIFBvaW50ZXJSaWdodERvd25FdmVudCxcbiAgICBQb2ludGVyRXZlbnRzXG59IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZCwgU3Bhd25Db21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7YXJyYXlSZW1vdmVFbGVtfSBmcm9tIFwiLi4vLi4vdXRpbC9hcnJheVwiO1xuaW1wb3J0IHtEZVNwYXduQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHsgc25hcFBvaW50IH0gZnJvbSBcIi4uL3Rvb2xzL3V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBXQUxMX1RZUEUgPSAnd2FsbCc7XG5leHBvcnQgdHlwZSBXQUxMX1RZUEUgPSB0eXBlb2YgV0FMTF9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBXYWxsQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBXQUxMX1RZUEU7XG4gICAgdmVjOiBQb2ludDtcbiAgICBfZG9udE1lcmdlOiBudW1iZXI7XG59XG5cbmNvbnN0IFNFTEVDVElPTl9DT0xPUiA9IDB4Nzk4NkNCO1xuXG5leHBvcnQgY2xhc3MgV2FsbFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFdBTExfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbSU5URVJBQ1RJT05fVFlQRSwgR1JBUEhJQ19UWVBFLCBUT09MX1RZUEUsIFNFTEVDVElPTl9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBpbnRlcmFjdGlvblN5czogSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8V2FsbENvbXBvbmVudD4oV0FMTF9UWVBFKTtcblxuICAgIGlzVHJhbnNsYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgLy8gT25seSBtYXN0ZXJzIGNhbiBjcmVhdGUgd2FsbHNcbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sUGFydChuZXcgQ3JlYXRlV2FsbFRvb2xQYXJ0KHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChUb29sLkNSRUFURV9XQUxMLCBbJ3NwYWNlX3BhbicsIFRvb2wuQ1JFQVRFX1dBTExdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCB0aGlzLm9uVG9vbE1vdmVCZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2VuZCcsIHRoaXMub25Ub29sTW92ZUVuZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgIT09IFdBTExfVFlQRSkgcmV0dXJuO1xuICAgICAgICBsZXQgd2FsbCA9IGNvbXBvbmVudCBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQod2FsbC5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZvdW5kIHdhbGwgd2l0aG91dCBwb3NpdGlvbiwgcGxlYXNlIGFkZCBmaXJzdCB0aGUgcG9zaXRpb24sIHRoZW4gdGhlIHdhbGxcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FsbC5fZG9udE1lcmdlID0gMDtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wb25lbnQuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLkxJTkUsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVIsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLldBTEwsXG4gICAgICAgICAgICAgICAgdmVjOiB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9LFxuICAgICAgICAgICAgfSBhcyBMaW5lRWxlbWVudCxcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgaXNXYWxsOiB0cnVlLFxuICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGNvbXBvbmVudC5lbnRpdHksIHtcbiAgICAgICAgICAgIHR5cGU6IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICB9IGFzIFZpc2liaWxpdHlCbG9ja2VyKTtcbiAgICB9XG5cbiAgICBmaXhXYWxsUHJlVHJhbnNsYXRpb24od2FsbHM6IFdhbGxDb21wb25lbnRbXSkge1xuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICBsZXQgdmlzQmxvY2sgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSwgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpc0Jsb2NrICE9PSB1bmRlZmluZWQpIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpc0Jsb2NrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoYXQgY2hhbmdlcyBoZXJlPyBhIGxpdHRsZSBiaXR0bGUgdGhpbmc6XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gdW5maXggdGhlIHdhbGwgKHJlbW92ZSB0aGUgaW50ZXJzZWN0aW9uIGJyZWFrcykuXG5cbiAgICAgICAgbGV0IHdhbGxfaW5kZXggPSBuZXcgTWFwPHN0cmluZywgV2FsbENvbXBvbmVudFtdPigpO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBpbnNlcnRJbkluZGV4ID0gKGluZGV4OiBzdHJpbmcsIHdhbGw6IFdhbGxDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBsaXN0ID0gd2FsbF9pbmRleC5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICB3YWxsX2luZGV4LnNldChpbmRleCwgbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0LnB1c2god2FsbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgaWYgKHdhbGwuX2RvbnRNZXJnZSAhPT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQod2FsbC5lbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHAxID0gcG9zLnggKyBcIkBcIiArIHBvcy55O1xuICAgICAgICAgICAgbGV0IHAyID0gKHBvcy54ICsgd2FsbC52ZWNbMF0pICsgXCJAXCIgKyAocG9zLnkgKyB3YWxsLnZlY1sxXSk7XG5cbiAgICAgICAgICAgIGxldCB0cnlNZXJnZSA9IChpbmRleDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lcmdlV2l0aEluZGV4ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgbGV0IHdhbGxzID0gd2FsbF9pbmRleC5nZXQoaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdhbGxzID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCB3bGVuID0gd2FsbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvd2FsbCA9IHdhbGxzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZVNhbWVTbG9wZSh3YWxsLnZlY1swXSwgd2FsbC52ZWNbMV0sIG93YWxsLnZlY1swXSwgb3dhbGwudmVjWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VXaXRoSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobWVyZ2VXaXRoSW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbGV0IG13YWxsID0gd2FsbHNbbWVyZ2VXaXRoSW5kZXhdO1xuICAgICAgICAgICAgICAgIGxldCBtcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQobXdhbGwuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgbGV0IG1pbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHBvcy54O1xuICAgICAgICAgICAgICAgIGxldCB5ID0gcG9zLnk7XG4gICAgICAgICAgICAgICAgbGV0IGR4ID0gd2FsbC52ZWNbMF07XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0gd2FsbC52ZWNbMV07XG5cbiAgICAgICAgICAgICAgICBpZiAocDIgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgIHkgKz0gZHk7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gLWR4O1xuICAgICAgICAgICAgICAgICAgICBkeSA9IC1keTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobXBvcy54ID09PSB4ICYmIG1wb3MueSA9PT0geSkge1xuICAgICAgICAgICAgICAgICAgICBtcG9zLnggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgIG1wb3MueSArPSBkeTtcbiAgICAgICAgICAgICAgICAgICAgbWluQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbXdhbGwudmVjWzBdICs9IHdhbGwudmVjWzBdO1xuICAgICAgICAgICAgICAgICAgICBtd2FsbC52ZWNbMV0gKz0gd2FsbC52ZWNbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2FsbHMuc3BsaWNlKG1lcmdlV2l0aEluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBsZXQgcDtcbiAgICAgICAgICAgICAgICBpZiAobWluQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBwID0gbXBvcy54ICsgXCJAXCIgKyBtcG9zLnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IChtcG9zLnggKyBtd2FsbC52ZWNbMF0pICsgXCJAXCIgKyAobXBvcy55ICsgbXdhbGwudmVjWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwLCBtd2FsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5kZXNwYXduRW50aXR5KHdhbGwuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZHJhd1dhbGwobXdhbGwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodHJ5TWVyZ2UocDEpIHx8IHRyeU1lcmdlKHAyKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGluc2VydEluSW5kZXgocDEsIHdhbGwpO1xuICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwMiwgd2FsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaXhXYWxsUG9zdFRyYW5zbGF0aW9uKHdhbGxzOiBXYWxsQ29tcG9uZW50W10pIHtcbiAgICAgICAgLy8gUmVjb21wdXRlIGludGVyc2VjdGlvbnMgd2l0aCBvdGhlciB3YWxscy5cbiAgICAgICAgLy8gV2h5IG5vdCBhbGwgZXZlcnl0aGluZyBkaXJlY3RseT8gd2Ugd2FudCB0byBjb21wdXRlIGFsc28gdGhlIHNlbGYtaW50ZXJzZWN0aW9uc1xuXG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gW3Bvcy54LCBwb3MueSwgcG9zLnggKyB3YWxsLnZlY1swXSwgcG9zLnkgKyB3YWxsLnZlY1sxXV07XG4gICAgICAgICAgICB0aGlzLmZpeEludGVyc2VjdGlvbnMocG9pbnRzLCAwKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHBvcy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgICAgICBzaGFwZTogc2hhcGVMaW5lKG5ldyBMaW5lKHBvaW50c1swXSwgcG9pbnRzWzFdLCBwb2ludHNbMl0sIHBvaW50c1szXSkpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIHBvcy54ID0gcG9pbnRzWzBdO1xuICAgICAgICAgICAgICAgIHBvcy55ID0gcG9pbnRzWzFdO1xuICAgICAgICAgICAgICAgIHdhbGwudmVjWzBdID0gcG9pbnRzWzJdIC0gcG9zLng7XG4gICAgICAgICAgICAgICAgd2FsbC52ZWNbMV0gPSBwb2ludHNbM10gLSBwb3MueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWRyYXdXYWxsKHdhbGwpO1xuXG4gICAgICAgICAgICBjb25zdCBwbGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNJZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSA0OyBpIDwgcGxlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNtZCA9IHRoaXMuY3JlYXRlV2FsbChcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2kgLSAyXSwgcG9pbnRzW2kgLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2ldLCBwb2ludHNbaSArIDFdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjSWRzLnB1c2goY21kLmRhdGEuZW50aXRpZXNbMF0pO1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZGVzZXJpYWxpemUoY21kLmRhdGEsIHsgcmVtYXA6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmFkZEVudGl0aWVzKGNJZHMpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IG9wdGltaXphdGlvbiwgdXBkYXRlIHRoZSBzZWxlY3Rpb24gb25seSBvbmNlIVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHdhbGwgb2Ygd2FsbHMpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KHdhbGwuZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ2aXNpYmlsaXR5X2Jsb2NrZXJcIixcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xXG4gICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlCbG9ja2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlICE9PSBXQUxMX1RZUEUgJiYgY29tcC50eXBlICE9PSBQT1NJVElPTl9UWVBFKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHdhbGwsIHBvc2l0aW9uO1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBXQUxMX1RZUEUpIHtcbiAgICAgICAgICAgIHdhbGwgPSBjb21wIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdhbGwgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gY29tcCBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YWxsID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICghdGhpcy5pc1RyYW5zbGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpeFdhbGxQcmVUcmFuc2xhdGlvbihbd2FsbF0pO1xuICAgICAgICAgICAgdGhpcy5maXhXYWxsUG9zdFRyYW5zbGF0aW9uKFt3YWxsXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcC50eXBlID09PSBXQUxMX1RZUEUgJiYgJ3ZlYycgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdXYWxsKHdhbGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWRyYXdXYWxsKHdhbGw6IFdhbGxDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGRpc3BsYXkgPSAodGhpcy53b3JsZC5nZXRDb21wb25lbnQod2FsbC5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudCkuZGlzcGxheSBhcyBMaW5lRWxlbWVudDtcbiAgICAgICAgZGlzcGxheS52ZWMgPSB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9O1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQod2FsbC5lbnRpdHksIEdSQVBISUNfVFlQRSwge2Rpc3BsYXl9LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmaW5kTG9jYXRpb25PbldhbGwocG9pbnQ6IFBJWEkuUG9pbnQsIHJhZGl1czogbnVtYmVyKTogUElYSS5Qb2ludCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBwb2ludHMgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlQWFiYihuZXcgQWFiYihcbiAgICAgICAgICAgIHBvaW50LnggLSByYWRpdXMsIHBvaW50LnkgLSByYWRpdXMsXG4gICAgICAgICAgICBwb2ludC54ICsgcmFkaXVzLCBwb2ludC55ICsgcmFkaXVzXG4gICAgICAgICkpLCBjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGJlc3RQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgICAgIGxldCBiZXN0RGlzdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgICAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIHBvaW50cykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSAobm9kZS5zaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICBpZiAoIWxpbmUucHJvamVjdFBvaW50KHBvaW50LCB0bXBQb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkaXN0ID0gZGlzdFNxdWFyZWQyZCh0bXBQb2ludC54LCB0bXBQb2ludC55LCBwb2ludC54LCBwb2ludC55KTtcblxuICAgICAgICAgICAgaWYgKGRpc3QgPCBiZXN0RGlzdCAmJiBkaXN0IDwgcmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgYmVzdFBvaW50LmNvcHlGcm9tKHRtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBiZXN0RGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVzdERpc3QgIT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgcmV0dXJuIGJlc3RQb2ludDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wb25lbnQudHlwZSAhPT0gV0FMTF9UWVBFKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHZibG9ja2VyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcG9uZW50LmVudGl0eSwgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpO1xuICAgICAgICBpZiAodmJsb2NrZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodmJsb2NrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlQmVnaW4oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWU7XG4gICAgICAgIGxldCB3YWxscyA9IFsuLi50aGlzLnNlbGVjdGlvblN5cy5nZXRTZWxlY3RlZEJ5VHlwZShXQUxMX1RZUEUpXSBhcyBXYWxsQ29tcG9uZW50W107XG4gICAgICAgIHRoaXMuZml4V2FsbFByZVRyYW5zbGF0aW9uKHdhbGxzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG9vbE1vdmVFbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgd2FsbHMgPSBbLi4udGhpcy5zZWxlY3Rpb25TeXMuZ2V0U2VsZWN0ZWRCeVR5cGUoV0FMTF9UWVBFKV0gYXMgV2FsbENvbXBvbmVudFtdO1xuICAgICAgICB0aGlzLmZpeFdhbGxQb3N0VHJhbnNsYXRpb24od2FsbHMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBxdWVyeUludGVyc2VjdGlvbnMocG9zWDogbnVtYmVyLCBwb3NZOiBudW1iZXIsIHZlY1g6IG51bWJlciwgdmVjWTogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgICAgICBsZXQgc3RyaXAgPSBbcG9zWCwgcG9zWSwgcG9zWCArIHZlY1gsIHBvc1kgKyB2ZWNZXTtcbiAgICAgICAgbGV0IGlkcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgIHRoaXMuZml4SW50ZXJzZWN0aW9ucyhzdHJpcCwgMCwgdW5kZWZpbmVkLCBpZHMpO1xuICAgICAgICByZXR1cm4gaWRzO1xuICAgIH1cblxuICAgIGZpeEludGVyc2VjdGlvbnMoc3RyaXA6IG51bWJlcltdLCBzdGFydDogbnVtYmVyLCBlbmQ/OiBudW1iZXIsIHdhbGxJZHM/OiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgICAgIGxldCBhYWJiID0gbmV3IEFhYmIoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcblxuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHN0cmlwLmxlbmd0aCA6IGVuZDtcblxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMikge1xuICAgICAgICAgICAgYWFiYi5taW5YID0gTWF0aC5taW4oYWFiYi5taW5YLCBzdHJpcFtpXSk7XG4gICAgICAgICAgICBhYWJiLm1pblkgPSBNYXRoLm1pbihhYWJiLm1pblksIHN0cmlwW2kgKyAxXSk7XG4gICAgICAgICAgICBhYWJiLm1heFggPSBNYXRoLm1heChhYWJiLm1heFgsIHN0cmlwW2ldKTtcbiAgICAgICAgICAgIGFhYmIubWF4WSA9IE1hdGgubWF4KGFhYmIubWF4WSwgc3RyaXBbaSArIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0bXBMaW5lID0gbmV3IExpbmUoMCwgMCwgMCwgMCk7XG4gICAgICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgICAgIGxldCBxdWVyeSA9IHRoaXMuaW50ZXJhY3Rpb25TeXMucXVlcnkoc2hhcGVBYWJiKGFhYmIpLCBjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2hlY2tpbmcgd2FsbDogXCIsIHdhbGwudGFnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydCArIDI7IGkgPCBlbmQ7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIHRtcExpbmUuZnJvbVggPSBzdHJpcFtpIC0gMl07XG4gICAgICAgICAgICAgICAgdG1wTGluZS5mcm9tWSA9IHN0cmlwW2kgLSAxXTtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLnRvWCA9IHN0cmlwW2ldO1xuICAgICAgICAgICAgICAgIHRtcExpbmUudG9ZID0gc3RyaXBbaSArIDFdO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gKHdhbGwuc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KHRtcExpbmUsIGxpbmUsIHRtcFBvaW50KTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGNvbnRpbnVlIGlmIHRoZSBpbnRlcnNlY3Rpb24gaXMgaW5zaWRlIG9mIGJvdGggbGluZXMgKG5vdCBvbiB0aGUgZWRnZSlcbiAgICAgICAgICAgICAgICBpZiAocmVzICE9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgaW4gdGhlIHN0cmlwXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkZJWElORyBBVDogXCIgKyB0bXBQb2ludC54ICsgXCIsIFwiICsgdG1wUG9pbnQueSk7XG4gICAgICAgICAgICAgICAgc3RyaXAuc3BsaWNlKGksIDAsIHRtcFBvaW50LngsIHRtcFBvaW50LnkpO1xuICAgICAgICAgICAgICAgIGkgKz0gMjsvLyBTa2lwIHRoaXMgcG9pbnRcbiAgICAgICAgICAgICAgICBlbmQgKz0gMjtcbiAgICAgICAgICAgICAgICB3YWxsSWRzPy5wdXNoKHdhbGwuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cblxuICAgIGNyZWF0ZVdhbGwobWluWDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIG1heFg6IG51bWJlciwgbWF4WTogbnVtYmVyKTogU3Bhd25Db21tYW5kIHtcbiAgICAgICAgbGV0IGNvbXBvbmVudHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBtaW5YLFxuICAgICAgICAgICAgICAgIHk6IG1pblksXG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogV0FMTF9UWVBFLFxuICAgICAgICAgICAgICAgIHZlYzogW21heFggLSBtaW5YLCBtYXhZIC0gbWluWV0sXG4gICAgICAgICAgICB9IGFzIFdhbGxDb21wb25lbnQsXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBTcGF3bkNvbW1hbmRLaW5kLmZyb20odGhpcy53b3JsZCwgY29tcG9uZW50cyk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlV2FsbFRvb2xQYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLkNSRUFURV9XQUxMO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFdhbGxTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBwaXhpQm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcblxuICAgIC8vIFNwcml0ZSBvZiB0aGUgcGluIHRvIGJlIGNyZWF0ZWRcbiAgICBjcmVhdGVkSWRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGNyZWF0ZWRMYXN0UG9zPzogUG9pbnQ7XG4gICAgY3JlYXRlTGFzdExpbmVEaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICBtb3VzZUxhc3RQb3M6IFBJWEkuSVBvaW50RGF0YSA9IG5ldyBQSVhJLlBvaW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IFdhbGxTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMgPSBzeXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHN5cy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCAoYzogQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSAmJiBjLnR5cGUgPT09ICd3YWxsJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlZElkcy5wdXNoKGMuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN5cy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCAoYzogQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSAmJiBjLnR5cGUgPT09ICd3YWxsJyAmJiBhcnJheVJlbW92ZUVsZW0odGhpcy5jcmVhdGVkSWRzLCBjLmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUNyZWF0ZWRMYXN0UG9zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRDcmVhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbmRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIGVuZENyZWF0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS5jbGVhcigpO1xuICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5zeXMuc2VsZWN0aW9uU3lzLnNldE9ubHlFbnRpdGllcyh0aGlzLmNyZWF0ZWRJZHMpO1xuICAgICAgICB0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gZG9uJ3QgY2hhbmdlIHRvb2xcbiAgICAgICAgLyp0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgIH0pKi9cbiAgICB9XG5cbiAgICByZWRyYXdDcmVhdGlvbkxhc3RMaW5lKHBvczogUElYSS5JUG9pbnREYXRhKTogdm9pZCB7XG4gICAgICAgIHRoaXMubW91c2VMYXN0UG9zID0gcG9zO1xuICAgICAgICBsZXQgZyA9IHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5O1xuICAgICAgICBnLmNsZWFyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZExhc3RQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZy5tb3ZlVG8odGhpcy5jcmVhdGVkTGFzdFBvc1swXSwgdGhpcy5jcmVhdGVkTGFzdFBvc1sxXSk7XG4gICAgICAgICAgICBnLmxpbmVTdHlsZSg1LCBTRUxFQ1RJT05fQ09MT1IpO1xuICAgICAgICAgICAgZy5saW5lVG8ocG9zLngsIHBvcy55KTtcbiAgICAgICAgfVxuICAgICAgICBnLmxpbmVTdHlsZSgwKTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDAgJiYgdGhpcy5jcmVhdGVkTGFzdFBvcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBnLmJlZ2luRmlsbCgweGU1MTAxMCk7XG4gICAgICAgICAgICBnLmRyYXdDaXJjbGUodGhpcy5jcmVhdGVkTGFzdFBvc1swXSwgdGhpcy5jcmVhdGVkTGFzdFBvc1sxXSwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGcuYmVnaW5GaWxsKDB4NDA1RkZFKTtcbiAgICAgICAgZy5kcmF3Q2lyY2xlKHBvcy54LCBwb3MueSwgMTApO1xuICAgIH1cblxuICAgIGFkZFZlcnRleChwb2ludDogUElYSS5JUG9pbnREYXRhKTogdm9pZCB7XG4gICAgICAgIGxldCBscCA9IHRoaXMuY3JlYXRlZExhc3RQb3M7XG5cbiAgICAgICAgaWYgKGxwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSBbcG9pbnQueCwgcG9pbnQueV07XG4gICAgICAgIH0gZWxzZSBpZiAocG9pbnQueCA9PSBscFswXSAmJiBwb2ludC55ID09IGxwWzFdKSB7XG4gICAgICAgICAgICB0aGlzLmVuZENyZWF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gW2xwWzBdLCBscFsxXSwgcG9pbnQueCwgcG9pbnQueV07XG4gICAgICAgICAgICB0aGlzLnN5cy5maXhJbnRlcnNlY3Rpb25zKHBvaW50cywgMCk7XG4gICAgICAgICAgICBsZXQgcGxlbiA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcGxlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNtZCA9IHRoaXMuc3lzLmNyZWF0ZVdhbGwoXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpIC0gMl0sIHBvaW50c1tpIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpICAgIF0sIHBvaW50c1tpICsgMV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMuc3lzLndvcmxkLCBjbWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVuZG9WZXJ0ZXgocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVkTGFzdFBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHRoaXMubW91c2VMYXN0UG9zID0gcG9pbnQ7XG4gICAgICAgIGxldCByZWNvbXB1dGVMYXN0ID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCB3YWxsID0gdGhpcy5zeXMud29ybGQuZ2V0Q29tcG9uZW50KHRoaXMuY3JlYXRlZElkc1swXSwgUE9TSVRJT05fVFlQRSkhISBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSBbd2FsbC54LCB3YWxsLnldO1xuICAgICAgICAgICAgcmVjb21wdXRlTGFzdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgIGVudGl0aWVzOiBbdGhpcy5jcmVhdGVkSWRzLnBvcCgpXSxcbiAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy5zeXMud29ybGQsIGNtZCk7XG5cbiAgICAgICAgaWYgKHJlY29tcHV0ZUxhc3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQ3JlYXRlZExhc3RQb3MoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q3JlYXRpb25MYXN0TGluZSh0aGlzLm1vdXNlTGFzdFBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWNvbXB1dGVDcmVhdGVkTGFzdFBvcygpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmNyZWF0ZWRJZHNbdGhpcy5jcmVhdGVkSWRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IHdhbGxQb3MgPSB0aGlzLnN5cy53b3JsZC5nZXRDb21wb25lbnQoaWQsIFBPU0lUSU9OX1RZUEUpISBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB3YWxsID0gdGhpcy5zeXMuc3RvcmFnZS5nZXRDb21wb25lbnQoaWQpITtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtcbiAgICAgICAgICAgICAgICB3YWxsUG9zLnggKyB3YWxsLnZlY1swXSxcbiAgICAgICAgICAgICAgICB3YWxsUG9zLnkgKyB3YWxsLnZlY1sxXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZHJhd0NyZWF0aW9uTGFzdExpbmUodGhpcy5tb3VzZUxhc3RQb3MpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5yZWRyYXdDcmVhdGlvbkxhc3RMaW5lKHNuYXBQb2ludCh0aGlzLnN5cy53b3JsZCwgZXZlbnQuYm9hcmRQb3MpKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuY29uc3VtZWQpIHJldHVybjtcbiAgICAgICAgZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmFkZFZlcnRleChzbmFwUG9pbnQodGhpcy5zeXMud29ybGQsIGV2ZW50LmJvYXJkUG9zKSk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyUmlnaHREb3duKGV2ZW50OiBQb2ludGVyUmlnaHREb3duRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50LmNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51bmRvVmVydGV4KHNuYXBQb2ludCh0aGlzLnN5cy53b3JsZCwgZXZlbnQuYm9hcmRQb3MpKTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVuZENyZWF0aW9uKCk7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS56SW5kZXggPSBEaXNwbGF5UHJlY2VkZW5jZS5XQUxMICsgMTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5hZGRDaGlsZCh0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheSk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLmJvYXJkLnNvcnRDaGlsZHJlbigpO1xuXG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfTU9WRSwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9ET1dOLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX1JJR0hUX0RPV04sIHRoaXMub25Qb2ludGVyUmlnaHREb3duLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS5kZXN0cm95KERFU1RST1lfQUxMKVxuICAgIH1cbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50LCBQb2ludGVyRG93bkV2ZW50LCBQb2ludGVyRXZlbnRzLCBQb2ludGVyTW92ZUV2ZW50LCBQb2ludGVyVXBFdmVudH0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbFBhcnR9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtSZWN0YW5ndWxhclNlbGVjdGlvbn0gZnJvbSBcIi4vcmVjdGFuZ3VsYXJTZWxlY3Rpb25cIjtcbmltcG9ydCB7TEFZRVJfVFlQRSwgTGF5ZXJTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7S0VZQk9BUkRfVFlQRSwgS2V5Ym9hcmRSZXNvdXJjZX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9rZXlib2FyZFN5c3RlbVwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuXG5leHBvcnQgY2xhc3MgRmlsdGVyZWRQYW5QYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWU7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgZmlsdGVyOiAod29ybGQ6IFdvcmxkLCBldmVudDogUG9pbnRlckRvd25FdmVudCkgPT4gYm9vbGVhbjtcbiAgICByZWFkb25seSBwcmlvcml0eTogbnVtYmVyO1xuXG4gICAgaXNQYW5uaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHdvcmxkOiBXb3JsZCwgbmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgZmlsdGVyOiAod29ybGQ6IFdvcmxkLCBldmVudDogUG9pbnRlckRvd25FdmVudCkgPT4gYm9vbGVhbixcbiAgICAgICAgICAgIHByaW9yaXR5OiBudW1iZXIgPSAwXG4gICAgICAgICkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyRG93bihldmVudDogUG9pbnRlckRvd25FdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZlbnQuY29uc3VtZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1Bhbm5pbmcgPSB0aGlzLmZpbHRlcih0aGlzLndvcmxkLCBldmVudCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNQYW5uaW5nKSB7XG4gICAgICAgICAgICBldmVudC5jb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICBldmVudC5jb25zdW1lRHJhZ0JvYXJkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlclVwKGV2ZW50OiBQb2ludGVyVXBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZlbnQuaXNDbGljaykge1xuICAgICAgICAgICAgZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNQYW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9ET1dOLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMsIHRoaXMucHJpb3JpdHkpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX1VQLCB0aGlzLm9uUG9pbnRlclVwLCB0aGlzLCB0aGlzLnByaW9yaXR5KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgIH1cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RQYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcImludGVyYWN0XCI7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBsYXN0Q2xpY2s6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGlmIChub3cgLSB0aGlzLmxhc3RDbGljayA8IDgwMCkge1xuICAgICAgICAgICAgLy8gZG91YmxlIGNsaWNrIVxuICAgICAgICAgICAgdGhpcy5sYXN0Q2xpY2sgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFwiaW50ZXJhY3RcIiwgZXZlbnQuZW50aXRpZXNIb3ZlcmVkKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q2xpY2sgPSBub3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcik6IHZvaWQge1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX0NMSUNLLCB0aGlzLm9uUG9pbnRlckNsaWNrLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgIH1cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0UGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICBuYW1lID0gXCJzZWxlY3RcIjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxheWVyU3lzOiBMYXllclN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkga2V5Ym9hcmQ6IEtleWJvYXJkUmVzb3VyY2U7XG4gICAgcHJpdmF0ZSByZWN0U2VsZWN0aW9uOiBSZWN0YW5ndWxhclNlbGVjdGlvbjtcblxuICAgIHByaXZhdGUgaXNEb3duID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIGxhc3REb3duRW50aXRpZXM6IG51bWJlcltdID0gW107XG4gICAgcHJpdmF0ZSBsYXN0RG93blNlbGVjdGVkOiBudW1iZXJbXSA9IFtdO1xuICAgIHByaXZhdGUganVzdFNlbGVjdGVkOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICBwcml2YXRlIGNhbk1vdmVTZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgaXNNb3Zpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIG1vdmluZ1N0YXJ0ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICBwcml2YXRlIGxhc3RNb3ZlID0gbmV3IFBJWEkuUG9pbnQoKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMubGF5ZXJTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChMQVlFUl9UWVBFKSBhcyBMYXllclN5c3RlbTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLmtleWJvYXJkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24gPSBuZXcgUmVjdGFuZ3VsYXJTZWxlY3Rpb24od29ybGQpO1xuICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24ucHJlZGljYXRlID0gaWQgPT4gIXRoaXMubGF5ZXJTeXMuZ2V0RW50aXR5TGF5ZXIoaWQpLmxvY2tlZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXN0RG93bkVudGl0aWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubGFzdERvd25TZWxlY3RlZC5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmp1c3RTZWxlY3RlZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZXZlbnQuZW50aXRpZXNIb3ZlcmVkKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxheWVyU3lzLmdldEVudGl0eUxheWVyKGVudGl0eSkubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RG93bkVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RG93blNlbGVjdGVkLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxhc3REb3duU2VsZWN0ZWQubGVuZ3RoID09PSAwICYmIHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5iZWdpbihldmVudC5ib2FyZFBvcyk7XG4gICAgICAgICAgICBldmVudC5jb25zdW1lZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbGllbnRzIGNhbid0IG1vdmUgYW55dGhpbmcgKFRPRE86IHRoaXMgc2hvdWxkIGJlIGZhbHNlKVxuICAgICAgICBldmVudC5jb25zdW1lZCB8fD0gdGhpcy53b3JsZC5pc01hc3RlcjtcbiAgICAgICAgLy8gZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGN0cmxQcmVzc2VkID0gdGhpcy5rZXlib2FyZC5jdHJsO1xuICAgICAgICBpZiAoY3RybFByZXNzZWQpIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXM7XG4gICAgICAgICAgICBsZXQgZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIHRoaXMubGFzdERvd25TZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuYWRkRW50aXRpZXMoZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMubGFzdERvd25TZWxlY3RlZFswXTtcbiAgICAgICAgICAgIHRoaXMuanVzdFNlbGVjdGVkID0gZW50aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYmV0dGVyIG1vdmUgc3lzdGVtXG4gICAgICAgIHRoaXMuY2FuTW92ZVNlbGVjdGVkID0gdGhpcy53b3JsZC5pc01hc3RlciAmJiAhY3RybFByZXNzZWQ7XG4gICAgICAgIGlmICghdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLm1vdmluZ1N0YXJ0LmNvcHlGcm9tKGV2ZW50LmJvYXJkUG9zKTtcbiAgICAgICAgdGhpcy5sYXN0TW92ZS5zZXQoMCwgMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcblxuICAgICAgICBpZiAoZXZlbnQuaXNDbGljaykge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmVudGl0aWVzSG92ZXJlZCgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmNsZWFyKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuanVzdFNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXR5KHRoaXMuanVzdFNlbGVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlY3RTZWxlY3Rpb24uaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5kb25lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc01vdmluZykge1xuICAgICAgICAgICAgdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgndG9vbF9tb3ZlX2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlck1vdmVFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNEb3duIHx8ICF0aGlzLmNhbk1vdmVTZWxlY3RlZCB8fCBldmVudC5jYW5CZWNvbWVDbGljaykgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLmxhc3REb3duU2VsZWN0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVjdFNlbGVjdGlvbi5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5iZWdpbih0aGlzLm1vdmluZ1N0YXJ0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWN0U2VsZWN0aW9uLm1vdmVFbmQoZXZlbnQuYm9hcmRQb3MpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5qdXN0U2VsZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcy5oYXModGhpcy5qdXN0U2VsZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnNldE9ubHlFbnRpdHkodGhpcy5qdXN0U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmlzTW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCd0b29sX21vdmVfYmVnaW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRpZmZYID0gZXZlbnQuYm9hcmRQb3MueCAtIHRoaXMubW92aW5nU3RhcnQueDtcbiAgICAgICAgICAgIGxldCBkaWZmWSA9IGV2ZW50LmJvYXJkUG9zLnkgLSB0aGlzLm1vdmluZ1N0YXJ0Lnk7XG5cbiAgICAgICAgICAgIGxldCBtb3ZlWCA9IGRpZmZYIC0gdGhpcy5sYXN0TW92ZS54O1xuICAgICAgICAgICAgbGV0IG1vdmVZID0gZGlmZlkgLSB0aGlzLmxhc3RNb3ZlLnk7XG4gICAgICAgICAgICB0aGlzLmxhc3RNb3ZlLnNldChkaWZmWCwgZGlmZlkpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMubW92ZUFsbChtb3ZlWCwgbW92ZVksIHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9ET1dOLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX01PVkUsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgfVxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICB9XG59XG4iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1BvaW50ZXJEb3duRXZlbnQsIFBvaW50ZXJFdmVudHMsIFBvaW50ZXJNb3ZlRXZlbnQsIFBvaW50ZXJVcEV2ZW50fSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtUb29sUGFydH0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge0tFWUJPQVJEX1RZUEUsIEtleWJvYXJkUmVzb3VyY2V9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2sva2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7TWVhc3VyZVJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gXCIuLi8uLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7IHNuYXBQb2ludCB9IGZyb20gXCIuL3V0aWxzXCI7XG5cblxuZXhwb3J0IGNvbnN0IE1FQVNVUkVfVFlQRSA9IFwibWVhc3VyZVwiO1xuZXhwb3J0IHR5cGUgTUVBU1VSRV9UWVBFID0gdHlwZW9mIE1FQVNVUkVfVFlQRTtcbmV4cG9ydCBjbGFzcyBNZWFzdXJlVG9vbFBhcnQgaW1wbGVtZW50cyBUb29sUGFydCB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IE1FQVNVUkVfVFlQRTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgcHJpdmF0ZSBzdGFydE1lYXN1cmU6IFBJWEkuSVBvaW50RGF0YSA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgcHJpdmF0ZSBsYXN0TWVhc3VyZTogUElYSS5JUG9pbnREYXRhID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICBwcml2YXRlIGlzRG93bjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHdvcmxkLmdldFJlc291cmNlKEtFWUJPQVJEX1RZUEUpISBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgIH1cblxuICAgIHB1c2hSZXMoKSB7XG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogTUVBU1VSRV9UWVBFLFxuICAgICAgICAgICAgZnJvbVg6IHRoaXMuc3RhcnRNZWFzdXJlLngsXG4gICAgICAgICAgICBmcm9tWTogdGhpcy5zdGFydE1lYXN1cmUueSxcbiAgICAgICAgICAgIHRvWDogdGhpcy5sYXN0TWVhc3VyZS54LFxuICAgICAgICAgICAgdG9ZOiB0aGlzLmxhc3RNZWFzdXJlLnksXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgIH0gYXMgTWVhc3VyZVJlc291cmNlLCAndXBkYXRlJyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlUmVzKCkge1xuICAgICAgICB0aGlzLndvcmxkLnJlbW92ZVJlc291cmNlKE1FQVNVUkVfVFlQRSwgZmFsc2UpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50LmNvbnN1bWVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmlzRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRNZWFzdXJlID0gc25hcFBvaW50KHRoaXMud29ybGQsIGV2ZW50LmJvYXJkUG9zKTtcbiAgICAgICAgdGhpcy5sYXN0TWVhc3VyZSA9IHRoaXMuc3RhcnRNZWFzdXJlO1xuXG4gICAgICAgIHRoaXMucHVzaFJlcygpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlclVwKGV2ZW50OiBQb2ludGVyVXBFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEb3duKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNEb3duID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5sYXN0TWVhc3VyZSA9IHNuYXBQb2ludCh0aGlzLndvcmxkLCBldmVudC5ib2FyZFBvcyk7XG5cbiAgICAgICAgdGhpcy5wdXNoUmVzKCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlck1vdmVFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNEb3duKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5sYXN0TWVhc3VyZSA9IHNuYXBQb2ludCh0aGlzLndvcmxkLCBldmVudC5ib2FyZFBvcyk7XG5cbiAgICAgICAgdGhpcy5wdXNoUmVzKCk7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbW92ZVJlcygpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyKSB7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9VUCwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfTU9WRSwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbSwgc2hhcGVBYWJifSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge2FhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZX0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7UkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5pbXBvcnQgeyBJUG9pbnREYXRhIH0gZnJvbSBcInBpeGkuanNcIjtcblxudHlwZSBJUG9pbnQgPSBQSVhJLklQb2ludDtcblxuZXhwb3J0IGNsYXNzIFJlY3Rhbmd1bGFyU2VsZWN0aW9uIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkga2V5Ym9hcmQ6IEtleWJvYXJkUmVzb3VyY2U7XG5cbiAgICBpc0FjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXJ0UG9pbnQ6IElQb2ludERhdGEgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIGVuZFBvaW50OiBJUG9pbnREYXRhID0gbmV3IFBJWEkuUG9pbnQoKTtcblxuICAgIHByZWRpY2F0ZTogKGlkOiBudW1iZXIpID0+IGJvb2xlYW4gPSBfID0+IHRydWU7XG4gICAgZW50aXRpZXNJbnNpZGUgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBlbnRpdGllc1NlbGVjdGVkID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgaXNNdWx0aXBsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgZGlzcGxheTogUElYSS5HcmFwaGljcztcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSB3b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICB9XG5cbiAgICBiZWdpbihwb3M6IElQb2ludERhdGEpIHtcbiAgICAgICAgdGhpcy5lbnRpdGllc1NlbGVjdGVkLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHtcbiAgICAgICAgICAgIHR5cGU6IFJFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFLFxuICAgICAgICAgICAgYWFiYjogbmV3IEFhYmIocG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnkpLFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2UsICd1cGRhdGUnKTtcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ID0gcG9zO1xuICAgICAgICB0aGlzLmVuZFBvaW50ID0gcG9zO1xuXG4gICAgICAgIHRoaXMuaXNNdWx0aXBsZSA9IHRoaXMua2V5Ym9hcmQuY3RybDtcbiAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG1vdmVFbmQocG9zOiBJUG9pbnREYXRhKSB7XG4gICAgICAgIGxldCBhZGRlZCA9IFtdIGFzIEFhYmJbXTtcbiAgICAgICAgbGV0IHJlbW92ZWQgPSBbXSBhcyBBYWJiW107XG4gICAgICAgIGFhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZSh0aGlzLnN0YXJ0UG9pbnQhLCB0aGlzLmVuZFBvaW50ISwgcG9zLCBhZGRlZCwgcmVtb3ZlZCk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBhZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHggb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBwb3M7XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgIGFhYmI6IG5ldyBBYWJiKHRoaXMuc3RhcnRQb2ludCEueCwgdGhpcy5zdGFydFBvaW50IS55LCBwb3MueCwgcG9zLnkpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkb25lKCkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMud29ybGQucmVtb3ZlUmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpO1xuXG4gICAgICAgIHRoaXMuZW50aXRpZXNJbnNpZGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5lbnRpdGllc1NlbGVjdGVkLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVudGl0eUVudGVyKGlkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW50aXRpZXNTZWxlY3RlZC5hZGQoaWQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyhbaWRdKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5TGVhdmUoaWQ6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5lbnRpdGllc1NlbGVjdGVkLmRlbGV0ZShpZCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnJlbW92ZUVudGl0aWVzKFtpZF0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhZGRSZWN0KGFhYmI6IEFhYmIpIHtcbiAgICAgICAgbGV0IHN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIGxldCBlbnRzID0gc3lzLnF1ZXJ5VmlzaWJsZShzaGFwZUFhYmIoYWFiYiksIGMgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXRpZXNJbnNpZGUuaGFzKGMuZW50aXR5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGljYXRlKGMuZW50aXR5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGMgb2YgZW50cykge1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllc0luc2lkZS5hZGQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5vbkVudGl0eUVudGVyKGMuZW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVJlY3QoYWFiYjogQWFiYikge1xuICAgICAgICBsZXQgc3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgbGV0IGVudHMgPSBzeXMucXVlcnlWaXNpYmxlKHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllc0luc2lkZS5oYXMoYy5lbnRpdHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzSW5zaWRlLmRlbGV0ZShjLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLm9uRW50aXR5TGVhdmUoYy5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn0iLCJleHBvcnQgZW51bSBUb29sIHtcbiAgICBJTlNQRUNUPSAnaW5zcGVjdCcsXG4gICAgQ1JFQVRFX1dBTEwgPSAnY3JlYXRlX3dhbGwnLFxuICAgIENSRUFURV9QSU4gPSAnY3JlYXRlX3BpbicsXG4gICAgQ1JFQVRFX1BST1AgPSAnY3JlYXRlX3Byb3AnLFxuICAgIEdSSUQgPSAnZ3JpZCcsXG4gICAgTElHSFQgPSAnbGlnaHQnLFxuICAgIE1FQVNVUkU9ICdtZWFzdXJlJyxcbiAgICBQUk9QX1RFTEVQT1JUX0xJTksgPSAncHJvcF90ZWxlcG9ydF9saW5rJyxcbiAgICBNT1VTRV9UUkFJTCA9ICdtb3VzZV90cmFpbCcsXG59XG4iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtRdWVyeUhpdEV2ZW50fSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25TeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7V0FMTF9UWVBFLCBXYWxsU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy93YWxsU3lzdGVtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRW50aXRpZXNBdCh3b3JsZDogV29ybGQsIHBvaW50OiBQSVhJLlBvaW50LCBtdWx0aTogYm9vbGVhbik6IG51bWJlcltdIHtcbiAgICBsZXQgZXZlbnQgPSBRdWVyeUhpdEV2ZW50LnF1ZXJ5UG9pbnQocG9pbnQsIG11bHRpKTtcblxuICAgIHdvcmxkLmV2ZW50cy5lbWl0KCdxdWVyeV9oaXQnLCBldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50LmdldFNvcnRlZCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luKHdvcmxkOiBXb3JsZCwgZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCwgb3JpZz86IFBJWEkuUG9pbnQpOiBQSVhJLlBvaW50IHtcbiAgICBsZXQgYm9hcmQgPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICByZXR1cm4gZXZlbnQuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKGJvYXJkLmJvYXJkLCBvcmlnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24od29ybGQ6IFdvcmxkLCBldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50LCBvcmlnPzogUElYSS5Qb2ludCk6IFBJWEkuUG9pbnQge1xuICAgIGxldCBwb2ludCA9IGdldEJvYXJkUG9zRnJvbU9yaWdpbih3b3JsZCwgZXZlbnQsIG9yaWcpO1xuXG4gICAgcmV0dXJuIHNuYXBQb2ludCh3b3JsZCwgcG9pbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc25hcFBvaW50KHdvcmxkOiBXb3JsZCwgcDogUElYSS5JUG9pbnREYXRhLCB1c2VXYWxsOiBib29sZWFuID0gdHJ1ZSk6IFBJWEkuUG9pbnQge1xuICAgIGNvbnN0IHBvaW50ID0gbmV3IFBJWEkuUG9pbnQocC54LCBwLnkpO1xuXG4gICAgY29uc3QgaW50ZXJTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICBsZXQgbmVhcmVzdCA9IGludGVyU3lzLnNuYXBEYi5maW5kTmVhcmVzdChbcG9pbnQueCwgcG9pbnQueV0pO1xuICAgIGlmIChuZWFyZXN0ICE9PSB1bmRlZmluZWQgJiYgbmVhcmVzdFsxXSA8IDEwMCkge1xuICAgICAgICBwb2ludC5zZXQobmVhcmVzdFswXVswXSwgbmVhcmVzdFswXVsxXSk7XG4gICAgfSBlbHNlIGlmICh1c2VXYWxsKSB7XG4gICAgICAgIGNvbnN0IHdhbGxTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChXQUxMX1RZUEUpIGFzIFdhbGxTeXN0ZW07XG4gICAgICAgIGxldCBvbldhbGxMb2MgPSB3YWxsU3lzPy5maW5kTG9jYXRpb25PbldhbGwocG9pbnQsIDUwKTtcbiAgICAgICAgaWYgKG9uV2FsbExvYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb2ludC5jb3B5RnJvbShvbldhbGxMb2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn1cbiIsIi8vIFdlbGNvbWUgdG8gdGhpcyB0YWxrLCBJJ2xsIHByZXNlbnQgdG8geW91OiBteSBzdHVwaWQgdmVyc2lvbiBvZiBFQ1MuXG4vLyBXaGF0IGFtIEkgdHJ5aW5nIHRvIHNvbHZlP1xuLy8gRXZlcnl0aGluZyBpbiB0aGUgbWFwIHdpbGwgbmVlZCB0byBob2xkIGluZm9ybWF0aW9uLCB0aGlzIG1pZ2h0IGJlIGEgcGxheWVyIGhvbGRpbmcgaW52ZW50b3J5IG9yIG1heWJlIGEgbW9uc3RlclxuLy8gaG9sZGluZyB0byBsaWZlcG9pbnRzIGFuZCBzdWNoLlxuLy8gV2hhdCdzIG1vcmU/IGV2ZXJ5IGVudGl0eSBtaWdodCBoYXZlIG11bHRpcGxlIG5hbWVzIGFuZCBvbmx5IHNvbWUgb2YgdGhlbSBtaWdodCBiZSBwdWJsaWNcbi8vIHNvIHdlIGFsc28gaGF2ZSBzb21ldGhpbmcgc2ltaWxhciB0byBhIFwibXVsdGlwbGUgY29tcG9uZW50XCIuXG5cbmltcG9ydCB7RWNzU3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7U3lzdGVtR3JhcGh9IGZyb20gXCIuL3N5c3RlbUdyYXBoXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4vc3lzdGVtXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQge2dlbmVyYXRlUmFuZG9tSWR9IGZyb20gXCIuL2Vjc1V0aWxcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGb3JnZXREYXRhIHtcbiAgICBlbnRpdGllczogU2V0PG51bWJlcj47XG59XG5cbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZWRFbnRpdGllcyA9IHtcbiAgICBlbnRpdGllczogbnVtYmVyW107XG4gICAgc3RvcmFnZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fTtcbn07XG5cbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZWRSZXNvdXJjZXMgPSB7XG4gICAgcmVzb3VyY2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX07XG59XG5cbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZWRXb3JsZCA9IFNlcmlhbGl6ZWRFbnRpdGllcyAmIFBhcnRpYWw8U2VyaWFsaXplZFJlc291cmNlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWNzRW50aXR5TGlua2VkIHtcbiAgICBfZWNzX2VudGl0eT86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQW55TWFwVHlwZSA9IHtba2V5OiBzdHJpbmddOiBhbnl9O1xuZXhwb3J0IHR5cGUgTXVsdGlFZGl0VHlwZSA9IEFycmF5PHtcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgY2hhbmdlczogQW55TWFwVHlwZSxcbiAgICBtdWx0aUlkPzogbnVtYmVyLFxuICAgIGNsZWFyQ2hhbmdlcz86IGJvb2xlYW4sXG59PjtcbnR5cGUgTXVsdGlFZGl0VHlwZVdvcmsgPSBNdWx0aUVkaXRUeXBlICYgQXJyYXk8e1xuICAgIF9za2lwPzogdHJ1ZTtcbiAgICBfY29tcD86IENvbXBvbmVudDtcbn0+O1xuXG5leHBvcnQgdHlwZSBSZXNvdXJjZUFkZFByZXNlbnRUeXBlID0gJ2ZhaWwnIHwgJ2lnbm9yZScgfCAndXBkYXRlJztcblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVEYXRhIHtcbiAgICBvcHRpb25zOiBTZXJpYWxpemVPcHRpb25zO1xuICAgIGVudGl0eU1hcHBpbmc6IChpZDogbnVtYmVyKSA9PiBudW1iZXI7XG4gICAgc2hvdWxkSWdub3JlOiAoaWQ6IG51bWJlcikgPT4gYm9vbGVhbjtcbiAgICByZXN1bHQ/OiBTZXJpYWxpemVkV29ybGQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVzZXJpYWxpemVEYXRhIHtcbiAgICBvcHRpb25zOiBEZXNlcmlhbGl6ZU9wdGlvbnM7XG4gICAgZGF0YTogU2VyaWFsaXplZFdvcmxkO1xuICAgIGVudGl0eU1hcHBpbmc6IChpZDogbnVtYmVyKSA9PiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplT3B0aW9ucyB7XG4gICAgLy8gSWYgdHJ1ZSBvbmx5IHNlcmlhbGl6ZXMgc3luYyBjb21wb25lbnRzL3Jlc291cmNlc1xuICAgIHJlcXVpcmVTeW5jOiBib29sZWFuLFxuICAgIC8vIElmIHRydWUgb25seSBzZXJpYWxpemVzIHNhdmUgY29tcG9uZW50cy9yZXNvdXJjZXNcbiAgICByZXF1aXJlU2F2ZTogYm9vbGVhbixcbiAgICAvLyBSZW1hcHMgZW50aXRpZXMgdG8gMSwyLDMuLi5cbiAgICByZW1hcDogYm9vbGVhbixcbiAgICAvLyBSZW1vdmVzIGNsaWVudFZpc2libGUgKGFuZCBjbGllbnRWaXNpYmxlID09PSBmYWxzZSBjb21wb25lbnRzKVxuICAgIC8vIGFuZCBIT1NUX0hJRERFTiBlbnRpdGllc1xuICAgIHN0cmlwQ2xpZW50OiBib29sZWFuLFxuICAgIC8vIElmIHRydWUgc2VyaWFsaXplcyBldmVyeSBlbnRpdHksIGV2ZW4gaWYgaXQgaGFzIEhPU1RfSElEREVOXG4gICAgLy8gKG9ubHkgdXNlZnVsIHdoZW4gc3RyaXBDbGllbnQgaXMgZW5hYmxlZClcbiAgICBpZ25vcmVIb3N0SGlkZGVuOiBib29sZWFuLFxuICAgIC8vIE9ubHkgc2VyaWFsaXplcyBlbnRpdGllcyBjb250YWluZWQgaW4gdGhlIHNldFxuICAgIG9ubHk/OiBTZXQ8bnVtYmVyPixcbiAgICAvLyBJZiB0cnVlIGFsc28gc2VyaWFsaXplcyByZXNvdXJjZXNcbiAgICByZXNvdXJjZXM6IGJvb2xlYW4sXG59XG5cbmNvbnN0IERFRkFVTFRfU0VSSUFMSVpFX09QVElPTlMgPSB7XG4gICAgcmVxdWlyZVN5bmM6IGZhbHNlLFxuICAgIHJlcXVpcmVTYXZlOiBmYWxzZSxcbiAgICByZW1hcDogZmFsc2UsXG4gICAgc3RyaXBDbGllbnQ6IGZhbHNlLFxuICAgIGlnbm9yZUhvc3RIaWRkZW46IGZhbHNlLFxuICAgIHJlc291cmNlczogZmFsc2UsXG59IGFzIFNlcmlhbGl6ZU9wdGlvbnM7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVzZXJpYWxpemVPcHRpb25zIHtcbiAgICByZW1hcDogYm9vbGVhbixcbiAgICB0aGVuU2VsZWN0OiBib29sZWFuLFxufVxuXG5jb25zdCBERUZBVUxUX0RFU0VSSUFMSVpFX09QVElPTlMgPSB7XG4gICAgcmVtYXA6IGZhbHNlLFxuICAgIHRoZW5TZWxlY3Q6IGZhbHNlLFxufSBhcyBEZXNlcmlhbGl6ZU9wdGlvbnM7XG5cbmV4cG9ydCBjbGFzcyBXb3JsZCB7XG4gICAgc3lzdGVtcyA9IG5ldyBTeXN0ZW1HcmFwaCgpO1xuICAgIHN0b3JhZ2VzID0gbmV3IE1hcDxzdHJpbmcsIEVjc1N0b3JhZ2U8YW55Pj4oKTtcbiAgICBzdG9yYWdlTGlzdCA9IG5ldyBBcnJheTxFY3NTdG9yYWdlPGFueT4+KCk7XG4gICAgZW50aXRpZXMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICByZXNvdXJjZXMgPSBuZXcgTWFwPHN0cmluZywgUmVzb3VyY2U+KCk7XG5cbiAgICBwcml2YXRlIHN5c3RlbXNGaW5hbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc0Rlc2VyaWFsaXppbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc0Rlc3Bhd25pbmc6IG51bWJlcltdID0gW107XG4gICAgaXNNYXN0ZXI6IGJvb2xlYW47XG5cbiAgICAvLyAgICAgIEV2ZW50IGxpc3Q6XG4gICAgLy8gZW50aXR5X3NwYXduKGlkKVxuICAgIC8vIGVudGl0eV9zcGF3bmVkKGlkKSAtIEFmdGVyIGFuIGVudGl0eSBpcyBzcGF3bmVkXG4gICAgLy8gZW50aXR5X2Rlc3Bhd24oaWQpXG4gICAgLy8gZW50aXR5X2Rlc3Bhd25lZChpZCkgLSBBZnRlciBhbiBlbnRpdHkgaXMgZGVzcGF3bmVkXG4gICAgLy8gY29tcG9uZW50X2FkZChjb21wb25lbnQpXG4gICAgLy8gY29tcG9uZW50X2VkaXQoY2hhbmdlcywgY29tcG9uZW50KSAtIEJlZm9yZSB0aGUgY29tcG9uZW50IGlzIGVkaXRlZFxuICAgIC8vIGNvbXBvbmVudF9lZGl0ZWQoY29tcG9uZW50LCBjaGFuZ2VzKSAtIEFmdGVyIHRoZSBjb21wb25lbnQgaXMgZWRpdGVkXG4gICAgLy8gY29tcG9uZW50X3JlbW92ZShjb21wb25lbnQpXG4gICAgLy8gY29tcG9uZW50X3JlbW92ZWQoY29tcG9uZW50KVxuICAgIC8vIHJlc291cmNlX2FkZChyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9hZGRlZChyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9lZGl0KG9sZFJlcywgbmV3UmVzKVxuICAgIC8vIHJlc291cmNlX3JlbW92ZShyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9yZW1vdmVkKHJlc291cmNlKVxuICAgIC8vIGNsZWFyKClcbiAgICAvLyBjbGVhcmVkKClcbiAgICAvLyBzZXJpYWxpemUoZGF0YSlcbiAgICAvLyBzZXJpYWxpemVkKGRhdGEpXG4gICAgLy8gZGVzZXJpYWxpemUoZGF0YSlcbiAgICAvLyBkZXNlcmlhbGl6ZWQoZGF0YSlcbiAgICAvLyAgICAgIEV4dGVybmFsIGV2ZW50czpcbiAgICAvLyBxdWVyeV9oaXQoZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpXG4gICAgLy8gc2VsZWN0aW9uX2JlZ2luKGVudGl0aWVzKVxuICAgIC8vIHNlbGVjdGlvbl9lbmQoZW50aXRpZXMpXG4gICAgLy8gc2VsZWN0aW9uX3VwZGF0ZSgpXG4gICAgLy8gdG9vbF9tb3ZlX2JlZ2luKClcbiAgICAvLyB0b29sX21vdmVfZW5kKClcbiAgICBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3IoaXNNYXN0ZXI6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc01hc3RlciA9IGlzTWFzdGVyO1xuICAgIH1cblxuICAgIGdldFN0b3JhZ2UobmFtZTogc3RyaW5nKTogRWNzU3RvcmFnZTxDb21wb25lbnQ+IHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnN0b3JhZ2VzLmdldChuYW1lKTtcbiAgICAgICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3RvcmFnZSBcIiArIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGFsbG9jYXRlSWQoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGlkID0gLTE7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWQgPSBnZW5lcmF0ZVJhbmRvbUlkKCk7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuZW50aXRpZXMuaGFzKGlkKSlcblxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgc3Bhd25FbnRpdHkoLi4uY29tcG9uZW50czogQXJyYXk8Q29tcG9uZW50Pik6IG51bWJlciB7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuYWxsb2NhdGVJZCgpO1xuXG4gICAgICAgIHRoaXMuc3Bhd25FbnRpdHlNYW51YWwoaWQsIGNvbXBvbmVudHMpO1xuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBzcGF3bkVudGl0eU1hbnVhbChpZDogbnVtYmVyLCBjb21wb25lbnRzOiBBcnJheTxDb21wb25lbnQ+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMuYWRkKGlkKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd24nLCBpZCk7XG5cbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wb25lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChpZCwgY29tcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd25lZCcsIGlkKTtcbiAgICB9XG5cbiAgICBkZXNwYXduRW50aXR5KGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNEZXNwYXduaW5nLnB1c2goZW50aXR5KTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X2Rlc3Bhd24nLCBlbnRpdHkpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdG9yYWdlTGlzdC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2VMaXN0W2ldO1xuICAgICAgICAgICAgbGV0IGNvbXBzID0gWy4uLnN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpXVxuICAgICAgICAgICAgaWYgKGNvbXBzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlJywgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlckFsbE9mKGVudGl0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnRpdGllcy5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgaWYgKHRoaXMuaXNEZXNwYXduaW5nLnBvcCgpICE9PSBlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZXNwYXduaW5nIGVudGl0eSwgZGVzcGF3biBxdWV1ZSBtb2RpZmllZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfZGVzcGF3bmVkJywgZW50aXR5KTtcbiAgICB9XG5cbiAgICBhZGRTeXN0ZW0oc3lzdGVtOiBTeXN0ZW0pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0ZpbmFsaXplZCkgdGhyb3cgbmV3IEVycm9yKCdUb28gbGF0ZSB0byBhZGQgYSBzeXN0ZW0nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5yZWdpc3RlcihzeXN0ZW0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB3aGlsZSBtb3VudGluZyBcIiArIHN5c3RlbS5uYW1lICsgXCI6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNBbGxDb21wb25lbnRzKGVudGl0eTogbnVtYmVyLCAuLi50eXBlczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChsZXQgdCBvZiB0eXBlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSwgdCkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFkZENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgY21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbnRpdHkgbm90IHByZXNlbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY21wLmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2VzLmdldChjbXAudHlwZSk7XG4gICAgICAgIGlmIChzdG9yYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZ2lzdGVyIGNvbXBvbmVudCBvZiB0eXBlICcgKyBjbXAudHlwZSArICcsIG5vIHN0b3JhZ2UgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yYWdlLnJlZ2lzdGVyKGNtcCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9hZGQnLCBjbXApO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbXBvbmVudChjbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlJywgY21wKTtcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2UoY21wLnR5cGUpO1xuICAgICAgICBzdG9yYWdlLnVucmVnaXN0ZXIoY21wKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X3JlbW92ZWQnLCBjbXApO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbXBvbmVudFR5cGUoZW50aXR5OiBudW1iZXIsIHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuZ2V0U3RvcmFnZSh0eXBlKS5nZXRDb21wb25lbnRzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29tcG9uZW50KGMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkU3RvcmFnZShzdG9yYWdlOiBFY3NTdG9yYWdlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlcy5zZXQoc3RvcmFnZS50eXBlLCBzdG9yYWdlKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlTGlzdC5wdXNoKHN0b3JhZ2UpO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nLCBtdWx0aUlkPzogbnVtYmVyKTogQ29tcG9uZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2UodHlwZSk7XG4gICAgICAgIHJldHVybiBzdG9yYWdlLmdldEZpcnN0Q29tcG9uZW50KGVudGl0eSwgbXVsdGlJZCk7XG4gICAgfVxuXG4gICAgZ2V0QWxsQ29tcG9uZW50cyhlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudFtdIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICByZXMucHVzaCguLi5zdG9yYWdlLmdldENvbXBvbmVudHMoZW50aXR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGVkaXRDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIHR5cGU6IHN0cmluZywgY2hhbmdlczogQW55TWFwVHlwZSwgbXVsdGlJZD86IG51bWJlciwgY2xlYXJDaDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLmdldENvbXBvbmVudChlbnRpdHksIHR5cGUsIG11bHRpSWQpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIGNvbXBvbmVudCAnICsgdHlwZSArICcgb2YgZW50aXR5OiAnICsgZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGVhckNoICYmICFjbGVhckNoYW5nZXMoYywgY2hhbmdlcykpIHJldHVybjsvLyBObyByZWFsIGNoYW5nZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2VkaXQnLCBjLCBjaGFuZ2VzKTtcblxuICAgICAgICBsZXQgY2hhbmdlZCA9IGFzc2lnblN3YXAoYywgY2hhbmdlcyk7XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2VkaXRlZCcsIGMsIGNoYW5nZWQpO1xuICAgIH1cblxuICAgIGVkaXRDb21wb25lbnRNdWx0aXBsZShlbnRpdHk6IG51bWJlciwgY2hhbmdlczogTXVsdGlFZGl0VHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRDb21wb25lbnQoZW50aXR5LCBjaGFuZ2VzWzBdLnR5cGUsIGNoYW5nZXNbMF0uY2hhbmdlcywgY2hhbmdlc1swXS5tdWx0aUlkLCBjaGFuZ2VzWzBdLmNsZWFyQ2hhbmdlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNocyA9IGNoYW5nZXMgYXMgTXVsdGlFZGl0VHlwZVdvcms7XG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCBjaGFuZ2UudHlwZSwgY2hhbmdlLm11bHRpSWQpO1xuICAgICAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgY29tcG9uZW50ICcgKyBjaGFuZ2UudHlwZSArICcgb2YgZW50aXR5OiAnICsgZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZS5fY29tcCA9IGM7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UuY2xlYXJDaGFuZ2VzICYmICFjbGVhckNoYW5nZXMoYywgY2hhbmdlcykpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2UuX3NraXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdCcsIGNoYW5nZS5fY29tcCEsIGNoYW5nZS5jaGFuZ2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuICAgICAgICAgICAgYXNzaWduU3dhcChjaGFuZ2UuX2NvbXAhLCBjaGFuZ2UuY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5fc2tpcCkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdGVkJywgY2hhbmdlLl9jb21wISwgY2hhbmdlLmNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUmVzb3VyY2UocmVzb3VyY2U6IFJlc291cmNlLCBpZlByZXNlbnQ6IFJlc291cmNlQWRkUHJlc2VudFR5cGUgPSAnZmFpbCcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzLmhhcyhyZXNvdXJjZS50eXBlKSkge1xuICAgICAgICAgICAgc3dpdGNoIChpZlByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpZ25vcmUnOiBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1cGRhdGUnOiB0aGlzLmVkaXRSZXNvdXJjZShyZXNvdXJjZS50eXBlLCByZXNvdXJjZSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgdHlwZSBhbHJlYWR5IHByZXNlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX2FkZCcsIHJlc291cmNlKTtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzLmhhcyhyZXNvdXJjZS50eXBlKSkgdGhyb3cgbmV3IEVycm9yKCdcInJlc291cmNlX2FkZFwiIGV2ZW50IGhhcyBhZGRlZCBhIHJlc291cmNlIG9mIHRoZSBzYW1lIHR5cGUhJyk7XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMuc2V0KHJlc291cmNlLnR5cGUsIHJlc291cmNlKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfYWRkZWQnLCByZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgZ2V0UmVzb3VyY2UodHlwZTogc3RyaW5nKTogUmVzb3VyY2UgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZXMuZ2V0KHR5cGUpO1xuICAgIH1cblxuICAgIGVkaXRSZXNvdXJjZSh0eXBlOiBzdHJpbmcsIGNoYW5nZXM6IEFueU1hcFR5cGUpOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuZ2V0UmVzb3VyY2UodHlwZSk7XG4gICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCByZXNvdXJjZSAnICsgdHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNsZWFyQ2hhbmdlcyhyZXMsIGNoYW5nZXMpKSByZXR1cm47Ly8gTm8gcmVhbCBjaGFuZ2VzXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX2VkaXQnLCByZXMsIGNoYW5nZXMpO1xuICAgICAgICBhc3NpZ25Td2FwKHJlcywgY2hhbmdlcyk7Ly8gY2hhbmdlcyBub3cgaGFzIG9sZCB2YWx1ZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfZWRpdGVkJywgcmVzLCBjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICByZW1vdmVSZXNvdXJjZSh0eXBlOiBzdHJpbmcsIGZhaWxJZk5vdFByZXNlbnQ6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKHJlc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChmYWlsSWZOb3RQcmVzZW50KSB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIHR5cGUgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfcmVtb3ZlJywgcmVzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2VzLmRlbGV0ZSh0eXBlKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfcmVtb3ZlZCcsIHJlc291cmNlKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGZvciAobGV0IHN5c3RlbSBvZiB0aGlzLnN5c3RlbXMpIHtcbiAgICAgICAgICAgIHN5c3RlbS5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN5c3RlbXMuc2l6ZSgpIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBzeXN0ZW0gPSB0aGlzLnN5c3RlbXMuZ2V0QXQoaSk7XG4gICAgICAgICAgICBzeXN0ZW0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKG9wdGlvbnM6IFBhcnRpYWw8U2VyaWFsaXplT3B0aW9ucz4pOiBTZXJpYWxpemVkV29ybGQge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVJJQUxJWkVfT1BUSU9OUywgb3B0aW9ucykgYXMgU2VyaWFsaXplT3B0aW9ucztcbiAgICAgICAgbGV0IGVudGl0aWVzOiBudW1iZXJbXTtcbiAgICAgICAgaWYgKG9wdGlvbnMub25seSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbnRpdGllcyA9IFsuLi50aGlzLmVudGl0aWVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVudGl0aWVzID0gWy4uLm9wdGlvbnMub25seV07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzRW50ID0gZW50aXRpZXM7XG5cbiAgICAgICAgbGV0IG1hcHBpbmcgPSAoeDogbnVtYmVyKSA9PiB4O1xuICAgICAgICBpZiAob3B0aW9ucy5yZW1hcCkge1xuICAgICAgICAgICAgcmVzRW50ID0gQXJyYXkuZnJvbShBcnJheShlbnRpdGllcy5sZW5ndGgpLCAoZSxpKT0+aSsxKTtcbiAgICAgICAgICAgIG1hcHBpbmcgPSAoeDogbnVtYmVyKSA9PiBlbnRpdGllcy5pbmRleE9mKHgpICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaG91bGRJZ25vcmUgPSAoeDogbnVtYmVyKSA9PiBmYWxzZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RyaXBDbGllbnQgJiYgIW9wdGlvbnMuaWdub3JlSG9zdEhpZGRlbikge1xuICAgICAgICAgICAgY29uc3QgaG9zdEhpZGRlbiA9IHRoaXMuZ2V0U3RvcmFnZSgnaG9zdF9oaWRkZW4nKTtcblxuICAgICAgICAgICAgc2hvdWxkSWdub3JlID0gKGUpID0+IGhvc3RIaWRkZW4uZ2V0Rmlyc3RDb21wb25lbnQoZSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZGF0YSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBlbnRpdHlNYXBwaW5nOiBtYXBwaW5nLFxuICAgICAgICAgICAgc2hvdWxkSWdub3JlLFxuICAgICAgICB9IGFzIFNlcmlhbGl6ZURhdGE7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3NlcmlhbGl6ZScsIHNkYXRhKTtcblxuICAgICAgICBsZXQgc3RvcmFnZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBzdG9yYWdlIG9mIHRoaXMuc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucy5yZXF1aXJlU3luYyAmJiAhc3RvcmFnZS5zeW5jKSB8fCAob3B0aW9ucy5yZXF1aXJlU2F2ZSAmJiAhc3RvcmFnZS5zYXZlKSkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHN0b3JhZ2Uuc2VyaWFsaXplKHNkYXRhKTtcbiAgICAgICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgc3RvcmFnZXNbc3RvcmFnZS50eXBlXSA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzb3VyY2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICByZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICAgICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgdGhpcy5yZXNvdXJjZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1bmRlZmluZWQgaXMgdHJlYXRlZCBhcyB0cnVlIHNvIHRoYXQgbG9hZGVkIHJlc291cmNlcyBnZXQgc2F2ZWQgYWdhaW5cbiAgICAgICAgICAgICAgICBpZiAoKG9wdGlvbnMucmVxdWlyZVNhdmUgJiYgIXJlc291cmNlLl9zYXZlKSB8fCAob3B0aW9ucy5yZXF1aXJlU3luYyAmJiAhcmVzb3VyY2UuX3N5bmMpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgaW4gcmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAndHlwZScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICByZXNbbmFtZV0gPSAocmVzb3VyY2UgYXMgYW55KVtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzW3Jlc291cmNlLnR5cGVdID0gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IHtcbiAgICAgICAgICAgIGVudGl0aWVzOiByZXNFbnQsXG4gICAgICAgICAgICBzdG9yYWdlcyxcbiAgICAgICAgfSBhcyBTZXJpYWxpemVkV29ybGQ7XG5cbiAgICAgICAgaWYgKHJlc291cmNlcyAhPT0gdW5kZWZpbmVkKSByZXMucmVzb3VyY2VzID0gcmVzb3VyY2VzO1xuXG4gICAgICAgIHNkYXRhLnJlc3VsdCA9IHJlcztcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplZCcsIHNkYXRhKTtcblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGRhdGE6IFNlcmlhbGl6ZWRXb3JsZCwgb3B0aW9uczogUGFydGlhbDxEZXNlcmlhbGl6ZU9wdGlvbnM+KSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0RFU0VSSUFMSVpFX09QVElPTlMsIG9wdGlvbnMpIGFzIERlc2VyaWFsaXplT3B0aW9ucztcblxuICAgICAgICBsZXQgbWFwcGluZyA9ICh4OiBudW1iZXIpID0+IHg7XG4gICAgICAgIGlmIChvcHRpb25zLnJlbWFwKSB7XG4gICAgICAgICAgICBsZXQgcmVtYXBzVW5kdXAgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICAgICAgICAgIGxldCByZW1hcHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5hbGxvY2F0ZUlkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbWFwc1VuZHVwLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVtYXBzVW5kdXAuYWRkKGlkKTtcbiAgICAgICAgICAgICAgICByZW1hcHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXBwaW5nID0gKHg6IG51bWJlcikgPT4gcmVtYXBzW3ggLSAxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkc0RhdGEgPSB7XG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGVudGl0eU1hcHBpbmc6IG1hcHBpbmcsXG4gICAgICAgIH0gYXMgRGVzZXJpYWxpemVEYXRhO1xuXG4gICAgICAgIHRoaXMuaXNEZXNlcmlhbGl6aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZGVzZXJpYWxpemUnLCBkc0RhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLnJlc291cmNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIGRhdGEucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IGRhdGEucmVzb3VyY2VzW3R5cGVdO1xuICAgICAgICAgICAgICAgIHJlcy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlKHJlcywgJ3VwZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCAgcmVhbEVudCA9IG1hcHBpbmcoZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXMuYWRkKHJlYWxFbnQpO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd24nLCByZWFsRW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gZGF0YS5zdG9yYWdlcykge1xuICAgICAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2VzLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGlmIChzdG9yYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGRlc2VyaWFsaXplIHN0b3JhZ2UgdHlwZTogXCIgKyB0eXBlICsgXCIsIGlnbm9yaW5nXCIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmFnZS5kZXNlcmlhbGl6ZSh0aGlzLCBkc0RhdGEsIGRhdGEuc3RvcmFnZXNbdHlwZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bmVkJywgbWFwcGluZyhlbnRpdHkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNEZXNlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Rlc2VyaWFsaXplZCcsIGRzRGF0YSk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGUoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3BvcHVsYXRlJyk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NsZWFyJyk7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4udGhpcy5lbnRpdGllc10pIHtcbiAgICAgICAgICAgIHRoaXMuZGVzcGF3bkVudGl0eShlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJvdW5kIDIgKGlmIHNvbWUgZW50aXR5IGdldHMgc3Bhd25lZCBvbiBkZXNwYXduKVxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLnRoaXMuZW50aXRpZXNdKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbnRpdGllcy5zaXplICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ0VudGl0aWVzIHNwYXduZWQgd2hpbGUgY2xlYXJpbmchJyk7XG4gICAgICAgIC8vIFRPRE86IGFsc28gY2xlYXIgcmVzb3VyY2VzXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NsZWFyZWQnKTtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRPRE86IHVzZSBWdWUgM1xuICAgICAqIE92ZXJyaWRlcyB0aGUgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopYCByZXN1bHQuXG4gICAgICogVGhpcyBpcyBkb25lIHRvIGhpZGUgdGhpcyBvYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIG9ic2VydmVycyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvaXNzdWVzLzI2MzcpXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSB0eXBlIG5hbWVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TeW1ib2wvdG9TdHJpbmdUYWd9XG4gICAgICovXG4gICAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgICAgICAvLyBBbnl0aGluZyBjYW4gZ28gaGVyZSByZWFsbHkgYXMgbG9uZyBhcyBpdCdzIG5vdCAnT2JqZWN0J1xuICAgICAgICByZXR1cm4gJ09iamVjdE5vT2JzZXJ2ZSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25Td2FwKG9iajogYW55LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHRtcCA9IGNoYW5nZXNbbmFtZV07XG4gICAgICAgIGNoYW5nZXNbbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICAgIG9ialtuYW1lXSA9IHRtcDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZXM7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQ2hhbmdlcyhmcm9tOiBBbnlNYXBUeXBlLCBjaGFuZ2VzOiBBbnlNYXBUeXBlKTogYm9vbGVhbiB7XG4gICAgbGV0IGNoYW5nZWMgPSAwO1xuICAgIGZvciAobGV0IGNoYW5nZSBpbiBjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChmcm9tW2NoYW5nZV0gPT09IGNoYW5nZXNbY2hhbmdlXSkge1xuICAgICAgICAgICAgZGVsZXRlIGNoYW5nZXNbY2hhbmdlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWMrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlYyAhPT0gMDtcbn1cbiIsImV4cG9ydCBlbnVtIEdyaWRUeXBlIHtcbiAgICBTUVVBUkUsXG4gICAgSEVYQUdPTixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkR3JhcGhpY2FsT3B0aW9ucyB7XG4gICAgdmlzaWJsZTogYm9vbGVhbjtcbiAgICBncmlkVHlwZTogR3JpZFR5cGUsXG4gICAgY29sb3I6IG51bWJlcjtcbiAgICB0aGljazogbnVtYmVyO1xuICAgIG9wYWNpdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkUGxhY2VtZW50T3B0aW9ucyB7XG4gICAgc2l6ZTogbnVtYmVyO1xuICAgIG9mZlg6IG51bWJlcjtcbiAgICBvZmZZOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFVuaXRzT3B0aW9ucyB7XG4gICAgdW5pdE11bDogbnVtYmVyO1xuICAgIHVuaXROYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnMgZXh0ZW5kcyBHcmlkR3JhcGhpY2FsT3B0aW9ucywgR3JpZFBsYWNlbWVudE9wdGlvbnMsIEdyaWRVbml0c09wdGlvbnMge31cblxuZXhwb3J0IGNvbnN0IFNUQU5EQVJEX0dSSURfT1BUSU9OUyA9IHtcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIGdyaWRUeXBlOiBHcmlkVHlwZS5TUVVBUkUsXG4gICAgY29sb3I6IDAsXG4gICAgdGhpY2s6IDEwLFxuICAgIG9wYWNpdHk6IDAuNzUsXG4gICAgc2l6ZTogMTI4LFxuICAgIG9mZlg6IDAsXG4gICAgb2ZmWTogMCxcbiAgICB1bml0TXVsOiAxLjUsXG4gICAgdW5pdE5hbWU6ICdtJyxcbn0gYXMgR3JpZE9wdGlvbnM7XG4iLCJpbXBvcnQge0syZFRyZWV9IGZyb20gXCIuLi91dGlsL2syZFRyZWVcIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgUG9pbnR9IGZyb20gXCIuLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0dyaWRTeXN0ZW19IGZyb20gXCIuLi9lY3Mvc3lzdGVtcy9ncmlkU3lzdGVtXCI7XG5cblxuZXhwb3J0IGNsYXNzIFBvaW50REIge1xuICAgIC8vIEluIGpzIHdlIGNhbm5vdCBjcmVhdGUgYSBNYXAgd2l0aCBhIGN1c3RvbSBvYmplY3QgYXMga2V5IC1fLVxuICAgIHByaXZhdGUgY291bnRlciA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgcHJpdmF0ZSB0cmVlID0gbmV3IEsyZFRyZWUoKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGdyaWQ/OiBHcmlkU3lzdGVtO1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoZ3JpZD86IEdyaWRTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICB9XG5cblxuICAgIGluc2VydChwb2ludDogUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IHB0clN0ciA9IHBvaW50WzBdICsgJ3wnICsgcG9pbnRbMV07XG4gICAgICAgIGxldCBwID0gdGhpcy5jb3VudGVyLmdldChwdHJTdHIpIHx8IDBcbiAgICAgICAgdGhpcy5jb3VudGVyLnNldChwdHJTdHIsIHAgKyAxKTtcbiAgICAgICAgaWYgKHAgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy50cmVlLmluc2VydChwb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgIH1cblxuICAgIHJlbW92ZShwb2ludDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHB0clN0ciA9IHBvaW50WzBdICsgJ3wnICsgcG9pbnRbMV07XG4gICAgICAgIGxldCBwID0gKHRoaXMuY291bnRlci5nZXQocHRyU3RyKSB8fCAwKSAtIDE7XG4gICAgICAgIGlmIChwID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY291bnRlci5kZWxldGUocHRyU3RyKTtcbiAgICAgICAgICAgIGlmICghdGhpcy50cmVlLnJlbW92ZShwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVtb3ZlIG5vZGU6ICcgKyBwb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY291bnRlci5zZXQocHRyU3RyLCBwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQtLTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3QocG9pbnQ6IFBvaW50KTogW1BvaW50LCBudW1iZXJdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IHRyZWVOZWFyZXN0ID0gdGhpcy50cmVlLm5lYXJlc3RQb2ludChwb2ludCk7XG5cbiAgICAgICAgbGV0IGdyaWROZWFyZXN0OiBQb2ludCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuZ3JpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBncmlkTmVhcmVzdCA9IHRoaXMuZ3JpZC5jbG9zZXN0UG9pbnQocG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyaWROZWFyZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkRGlzdCA9IGRpc3RTcXVhcmVkMmQocG9pbnRbMF0sIHBvaW50WzFdLCBncmlkTmVhcmVzdFswXSwgZ3JpZE5lYXJlc3RbMV0pO1xuICAgICAgICAgICAgaWYgKHRyZWVOZWFyZXN0ID09PSB1bmRlZmluZWQgfHwgZ3JpZERpc3QgPCB0cmVlTmVhcmVzdFsxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbZ3JpZE5lYXJlc3QsIGdyaWREaXN0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmVlTmVhcmVzdDtcbiAgICB9XG59IiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcbmltcG9ydCBoZXgycmdiID0gUElYSS51dGlscy5oZXgycmdiO1xuXG4vLyBPdGhlciBtZXRob2RzOiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvbHdqZ2wtYmFzaWNzL3dpa2kvMkQtUGl4ZWwtUGVyZmVjdC1TaGFkb3dzXG5jb25zdCBMSUdIVF9WRVJURVhfU0hBREVSID0gYFxuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcbiAgICBcbiAgICB2YXJ5aW5nIHZlYzIgdmVjUG9zO1xuXG4gICAgdW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xuICAgIHVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWNQb3MgPSBhVmVydGV4UG9zaXRpb247XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgfVxuYDtcblxuY29uc3QgTElHSFRfRlJBR01FTlRfU0hBREVSID0gYFxuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgdmFyeWluZyB2ZWMyIHZlY1BvcztcbiAgICBcbiAgICB1bmlmb3JtIHZlYzIgY2VudGVyO1xuICAgIHVuaWZvcm0gZmxvYXQgcmFkU3F1YXJlZDtcbiAgICB1bmlmb3JtIHZlYzMgY29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgIHZlYzIgZGlmZiA9IGNlbnRlciAtIHZlY1BvcztcbiAgICAgICAgZmxvYXQgZGlzdFNxID0gZGlmZi54ICogZGlmZi54ICsgZGlmZi55ICogZGlmZi55O1xuICAgICAgICBmbG9hdCBpbnRlbnNpdHkgPSAxLjAgLSBjbGFtcChkaXN0U3EgLyByYWRTcXVhcmVkLCAwLiwgMS4pO1xuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxKSAqIChpbnRlbnNpdHkgKiBpbnRlbnNpdHkpOy8vIFByZSBtdWx0aXBsaWVkIGFscGhhXG4gICAgfVxuYDtcblxuY29uc3QgQ09OU1RfTElHSFRfRlJBR01FTlRfU0hBREVSID0gYFxuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgdmFyeWluZyB2ZWMyIHZlY1BvcztcbiAgICBcbiAgICB1bmlmb3JtIHZlYzIgY2VudGVyO1xuICAgIHVuaWZvcm0gZmxvYXQgcmFkU3F1YXJlZDtcbiAgICB1bmlmb3JtIHZlYzMgY29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgIHZlYzIgZGlmZiA9IGNlbnRlciAtIHZlY1BvcztcbiAgICAgICAgZmxvYXQgZGlzdFNxID0gZGlmZi54ICogZGlmZi54ICsgZGlmZi55ICogZGlmZi55O1xuICAgICAgICBmbG9hdCBpbnRlbnNpdHkgPSBmbG9hdChkaXN0U3EgPD0gcmFkU3F1YXJlZCk7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEpICogaW50ZW5zaXR5Oy8vIFByZSBtdWx0aXBsaWVkIGFscGhhXG4gICAgfVxuYDtcblxuY29uc3QgUExBWUVSX1ZJU19GUkFHTUVOVF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdmVjUG9zO1xuICAgIFxuICAgIHVuaWZvcm0gdmVjMiBjZW50ZXI7XG4gICAgdW5pZm9ybSBmbG9hdCByYWRTcXVhcmVkO1xuICAgIHVuaWZvcm0gdmVjMyBjb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjMiBkaWZmID0gY2VudGVyIC0gdmVjUG9zO1xuICAgICAgICBmbG9hdCBkaXN0U3EgPSBkaWZmLnggKiBkaWZmLnggKyBkaWZmLnkgKiBkaWZmLnk7XG4gICAgICAgIGZsb2F0IGludGVuc2l0eSA9IDEuMCAtIHNtb290aHN0ZXAoMC45LCAxLjAsIGNsYW1wKGRpc3RTcSAvIHJhZFNxdWFyZWQsIDAuLCAxLikpO1xuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxKSAqIGludGVuc2l0eTsvLyBQcmUgbXVsdGlwbGllZCBhbHBoYVxuICAgIH1cbmA7XG5cbmxldCBsaWdodFByb2dyYW06IFBJWEkuUHJvZ3JhbSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmxldCBjb25zdExpZ2h0UHJvZ3JhbTogUElYSS5Qcm9ncmFtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xubGV0IHBsYXllclZpc1Byb2dyYW06IFBJWEkuUHJvZ3JhbSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxudHlwZSBMaWdodFByb2dyYW1UeXBlID0gJ25vcm1hbCcgfCAnY29uc3QnIHwgJ3BsYXllcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAobGlnaHRQcm9ncmFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGlnaHRQcm9ncmFtID0gUElYSS5Qcm9ncmFtLmZyb20oTElHSFRfVkVSVEVYX1NIQURFUiwgTElHSFRfRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgY29uc3RMaWdodFByb2dyYW0gPSBQSVhJLlByb2dyYW0uZnJvbShMSUdIVF9WRVJURVhfU0hBREVSLCBDT05TVF9MSUdIVF9GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBwbGF5ZXJWaXNQcm9ncmFtID0gUElYSS5Qcm9ncmFtLmZyb20oTElHSFRfVkVSVEVYX1NIQURFUiwgUExBWUVSX1ZJU19GUkFHTUVOVF9TSEFERVIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lc2gobGlnaHRUeXBlOiBMaWdodFByb2dyYW1UeXBlID0gJ25vcm1hbCcpOiBQSVhJLk1lc2gge1xuICAgIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gICAgbGV0IGJ1ZmYgPSBuZXcgUElYSS5CdWZmZXIobmV3IEZsb2F0MzJBcnJheSgxKSk7XG4gICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBidWZmLCAyLCBmYWxzZSwgUElYSS5UWVBFUy5GTE9BVCk7XG5cbiAgICBsZXQgcHJvZ3JhbTtcbiAgICBzd2l0Y2ggKGxpZ2h0VHlwZSkge1xuICAgICAgICBjYXNlICdub3JtYWwnOiBwcm9ncmFtID0gbGlnaHRQcm9ncmFtOyBicmVhaztcbiAgICAgICAgY2FzZSAnY29uc3QnOiBwcm9ncmFtID0gY29uc3RMaWdodFByb2dyYW07IGJyZWFrO1xuICAgICAgICBjYXNlICdwbGF5ZXInOiBwcm9ncmFtID0gcGxheWVyVmlzUHJvZ3JhbTsgYnJlYWs7XG4gICAgfVxuICAgIC8vIFdlJ2xsIGNoYW5nZSB0aGVtIGFsbCwgaW4gZHVlIHRpbWVcbiAgICBsZXQgc2hhZGVycyA9IG5ldyBQSVhJLlNoYWRlcihwcm9ncmFtLCB7XG4gICAgICAgICdjZW50ZXInOiBuZXcgRmxvYXQzMkFycmF5KFswLjUsIDAuNV0pLFxuICAgICAgICAncmFkU3F1YXJlZCc6IDEwLFxuICAgICAgICAnY29sb3InOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwXSksXG4gICAgfSk7XG5cbiAgICBsZXQgbWVzaCA9IG5ldyBQSVhJLk1lc2goZ2VvbWV0cnksIHNoYWRlcnMgYXMgUElYSS5NZXNoTWF0ZXJpYWwsIHVuZGVmaW5lZCwgUElYSS5EUkFXX01PREVTLlRSSUFOR0xFX0ZBTik7XG4gICAgbWVzaC5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgIG1lc2guaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIG1lc2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNZXNoUG9seWdvbnMobWVzaDogUElYSS5NZXNoLCBwb3M6IFBJWEkuSVBvaW50RGF0YSwgcG9seTogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgYnVmZmVyID0gbWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuXG4gICAgbGV0IGZCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHBvbHkubGVuZ3RoICsgNCk7XG4gICAgZkJ1ZmZlclswXSA9IHBvcy54O1xuICAgIGZCdWZmZXJbMV0gPSBwb3MueTtcbiAgICBmQnVmZmVyLnNldChwb2x5LCAyKTtcbiAgICBmQnVmZmVyW3BvbHkubGVuZ3RoICsgMl0gPSBwb2x5WzBdO1xuICAgIGZCdWZmZXJbcG9seS5sZW5ndGggKyAzXSA9IHBvbHlbMV07XG4gICAgYnVmZmVyLnVwZGF0ZShmQnVmZmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1lc2hVbmlmb3JtcyhtZXNoOiBQSVhJLk1lc2gsIGNlbnRlcjogUElYSS5JUG9pbnREYXRhLCByYW5nZVNxdWFyZWQ6IG51bWJlciwgY29sb3I6IG51bWJlcikge1xuICAgIGxldCB1bmkgPSBtZXNoLnNoYWRlci51bmlmb3JtcztcbiAgICBsZXQgYyA9IHVuaS5jZW50ZXI7XG4gICAgY1swXSA9IGNlbnRlci54O1xuICAgIGNbMV0gPSBjZW50ZXIueTtcbiAgICB1bmkucmFkU3F1YXJlZCA9IHJhbmdlU3F1YXJlZDtcbiAgICBoZXgycmdiKGNvbG9yLCB1bmkuY29sb3IpO1xufSIsImltcG9ydCB7UG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuaW1wb3J0IHsgSVBvaW50RGF0YSB9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBBYWJiIHtcbiAgICBtaW5YOiBudW1iZXI7XG4gICAgbWluWTogbnVtYmVyO1xuICAgIG1heFg6IG51bWJlcjtcbiAgICBtYXhZOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XG4gICAgICAgIGlmICh4MSA+IHgyKSBbeDEsIHgyXSA9IFt4MiwgeDFdO1xuICAgICAgICBpZiAoeTEgPiB5MikgW3kxLCB5Ml0gPSBbeTIsIHkxXTtcblxuICAgICAgICB0aGlzLm1pblggPSB4MTtcbiAgICAgICAgdGhpcy5taW5ZID0geTE7XG4gICAgICAgIHRoaXMubWF4WCA9IHgyO1xuICAgICAgICB0aGlzLm1heFkgPSB5MjtcbiAgICB9XG5cbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YIDwgdGhpcy5tYXhYICYmIHRoaXMubWluWSA8IHRoaXMubWF4WTtcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICAgICAodGhpcy5taW5YICsgdGhpcy5tYXhYKSAvIDIsXG4gICAgICAgICAgICAodGhpcy5taW5ZICsgdGhpcy5tYXhZKSAvIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRQZXJpbWV0ZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1heFggLSB0aGlzLm1pblggKyB0aGlzLm1heFkgLSB0aGlzLm1pblkpICogMjtcbiAgICB9XG5cbiAgICBkaXN0YW5jZVBvaW50KHA6IElQb2ludERhdGEpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBkeCA9IE1hdGgubWF4KHRoaXMubWluWCAtIHAueCwgMCwgcC54IC0gdGhpcy5tYXhYKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLm1heCh0aGlzLm1pblkgLSBwLnksIDAsIHAueSAtIHRoaXMubWF4WSk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHgqZHggKyBkeSpkeSk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKHg6IG51bWJlciwgeTogbnVtYmVyLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSB0aGlzLm1pblggKyB4O1xuICAgICAgICB0YXJnZXQubWluWSA9IHRoaXMubWluWSArIHk7XG4gICAgICAgIHRhcmdldC5tYXhYID0gdGhpcy5tYXhYICsgeDtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSB0aGlzLm1heFkgKyB5O1xuICAgIH1cblxuICAgIGNvbWJpbmUob3RoZXI6IEFhYmIsIHRhcmdldDogQWFiYik6IHZvaWQge1xuICAgICAgICB0YXJnZXQubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgb3RoZXIubWluWCk7XG4gICAgICAgIHRhcmdldC5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBvdGhlci5taW5ZKTtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIG90aGVyLm1heFgpO1xuICAgICAgICB0YXJnZXQubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgb3RoZXIubWF4WSk7XG4gICAgfVxuXG4gICAgaW50ZXJzZWN0KG90aGVyOiBBYWJiLCB0YXJnZXQ6IEFhYmIpIHtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSBNYXRoLm1heCh0aGlzLm1pblgsIG90aGVyLm1pblgpO1xuICAgICAgICB0YXJnZXQubWluWSA9IE1hdGgubWF4KHRoaXMubWluWSwgb3RoZXIubWluWSk7XG4gICAgICAgIHRhcmdldC5tYXhYID0gTWF0aC5taW4odGhpcy5tYXhYLCBvdGhlci5tYXhYKTtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSBNYXRoLm1pbih0aGlzLm1heFksIG90aGVyLm1heFkpO1xuICAgIH1cblxuICAgIGV4dGVuZChhbW91bnQ6IG51bWJlciwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIHRhcmdldC5taW5YID0gdGhpcy5taW5YIC0gYW1vdW50O1xuICAgICAgICB0YXJnZXQubWluWSA9IHRoaXMubWluWSAtIGFtb3VudDtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSB0aGlzLm1heFggKyBhbW91bnQ7XG4gICAgICAgIHRhcmdldC5tYXhZID0gdGhpcy5tYXhZICsgYW1vdW50O1xuICAgIH1cblxuICAgIHNjYWxlKGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIHRhcmdldDogQWFiYik6IHZvaWQge1xuICAgICAgICBsZXQgY3ggPSAodGhpcy5taW5YICsgdGhpcy5tYXhYKSAvIDI7XG4gICAgICAgIGxldCBjeSA9ICh0aGlzLm1pblkgKyB0aGlzLm1heFkpIC8gMjtcbiAgICAgICAgbGV0IGh3ID0gKHRoaXMubWF4WCAtIHRoaXMubWluWCkgLyAyO1xuICAgICAgICBsZXQgaGggPSAodGhpcy5tYXhZIC0gdGhpcy5taW5ZKSAvIDI7XG4gICAgICAgIHRhcmdldC5taW5YID0gY3ggLSBodyAqIGR4O1xuICAgICAgICB0YXJnZXQubWluWSA9IGN5IC0gaGggKiBkeTtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSBjeCArIGh3ICogZHg7XG4gICAgICAgIHRhcmdldC5tYXhZID0gY3kgKyBoaCAqIGR5O1xuICAgIH1cblxuICAgIGNvcHlGcm9tKG90aGVyOiBBYWJiKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWluWCA9IG90aGVyLm1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG90aGVyLm1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG90aGVyLm1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG90aGVyLm1heFk7XG4gICAgfVxuXG4gICAgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWluWCA9IDA7XG4gICAgICAgIHRoaXMubWluWSA9IDA7XG4gICAgICAgIHRoaXMubWF4WCA9IDA7XG4gICAgICAgIHRoaXMubWF4WSA9IDA7XG4gICAgfVxuXG4gICAgd3JhcFBvbHlnb24ocG9seWdvbjogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5taW5YID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLm1pblkgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHRoaXMubWF4WCA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5tYXhZID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuXG4gICAgICAgIGxldCBsZW4gPSBwb2x5Z29uLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2x5Z29uW2ldKTtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9seWdvbltpICsgMV0pO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2x5Z29uW2ldKTtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9seWdvbltpICsgMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29weSgpOiBBYWJiIHtcbiAgICAgICAgbGV0IG90aGVyID0gQWFiYi56ZXJvKCk7XG4gICAgICAgIG90aGVyLmNvcHlGcm9tKHRoaXMpO1xuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiQUFCQihcIiArIHRoaXMubWluWC50b0ZpeGVkKDIpICsgXCIsIFwiICsgdGhpcy5taW5ZLnRvRml4ZWQoMikgKyBcIiwgXCIgKyB0aGlzLm1heFgudG9GaXhlZCgyKSArIFwiLCBcIiArIHRoaXMubWF4WS50b0ZpeGVkKDIpICsgXCIpXCI7XG4gICAgfVxuXG4gICAgc3RhdGljIHplcm8oKTogQWFiYiB7XG4gICAgICAgIHJldHVybiBuZXcgQWFiYigwLCAwLCAwLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUJvdW5kcyhiOiBQSVhJLlJlY3RhbmdsZSk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIoYi5sZWZ0LCBiLnRvcCwgYi5yaWdodCwgYi5ib3R0b20pO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUG9pbnQocDogUElYSS5JUG9pbnREYXRhKTogQWFiYiB7XG4gICAgICAgIHJldHVybiBuZXcgQWFiYihwLngsIHAueSwgcC54LCBwLnkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUG9pbnRBbmNob3IocG9zOiBQSVhJLklQb2ludERhdGEsIHNpemU6IFBJWEkuSVBvaW50RGF0YSwgYW5jaG9yOiBQSVhJLklQb2ludERhdGEpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKFxuICAgICAgICAgICAgcG9zLnggLSBzaXplLnggKiBhbmNob3IueCxcbiAgICAgICAgICAgIHBvcy55IC0gc2l6ZS55ICogYW5jaG9yLnksXG4gICAgICAgICAgICBwb3MueCArIHNpemUueCAqICgxIC0gYW5jaG9yLngpLFxuICAgICAgICAgICAgcG9zLnkgKyBzaXplLnkgKiAoMSAtIGFuY2hvci55KVxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7QWFiYn0gZnJvbSBcIi4vYWFiYlwiO1xuaW1wb3J0IHtQb2ludCwgU3R1cGlkUG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7RVBTSUxPTn0gZnJvbSBcIi4vdmlzaWJpbGl0eVBvbHlnb25cIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgcG9seWdvblBvaW50SW50ZXJzZWN0fSBmcm9tIFwiLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtPYmJ9IGZyb20gXCIuL29iYlwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQWFiYlZzQWFiYihhOiBBYWJiLCBiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLm1heFggJiYgYS5tYXhYID49IGIubWluWCAmJlxuICAgICAgICAgICBhLm1pblkgPD0gYi5tYXhZICYmIGEubWF4WSA+PSBiLm1pblk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0FhYmJWc0FhYmIoYTogQWFiYiwgYjogQWFiYik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhLm1pblggPD0gYi5taW5YICYmIGEubWF4WCA+PSBiLm1heFggJiZcbiAgICAgICAgICAgYS5taW5ZIDw9IGIubWluWSAmJiBhLm1heFkgPj0gYi5tYXhZO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcEFhYmJWc1BvaW50KGE6IEFhYmIsIGI6IFBJWEkuSVBvaW50RGF0YSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhLm1pblggPD0gYi54ICYmIGEubWluWSA8PSBiLnkgJiZcbiAgICAgICAgICAgYS5tYXhYID49IGIueCAmJiBhLm1heFkgPj0gYi55O1xufVxuXG5jb25zdCBJTlNJREUgPSAwO1xuY29uc3QgTEVGVCA9IDE7XG5jb25zdCBSSUdIVCA9IDI7XG5jb25zdCBCT1RUT00gPSA0O1xuY29uc3QgVE9QID0gODtcblxuZnVuY3Rpb24gY29tcHV0ZU91dENvZGUoYm94OiBBYWJiLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IGNvZGUgPSBJTlNJREU7XG5cbiAgICBpZiAgICAgICh4IDwgYm94Lm1pblgpIGNvZGUgfD0gTEVGVDtcbiAgICBlbHNlIGlmICh4ID4gYm94Lm1heFgpIGNvZGUgfD0gUklHSFQ7XG5cbiAgICBpZiAgICAgICh5IDwgYm94Lm1pblkpIGNvZGUgfD0gQk9UVE9NO1xuICAgIGVsc2UgaWYgKHkgPiBib3gubWF4WSkgY29kZSB8PSBUT1A7XG5cbiAgICByZXR1cm4gY29kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBBYWJiVnNMaW5lKGE6IEFhYmIsIGI6IExpbmUpOiBib29sZWFuIHtcbiAgICBsZXQgZmMgPSBjb21wdXRlT3V0Q29kZShhLCBiLmZyb21YLCBiLmZyb21ZKTtcbiAgICBsZXQgdGMgPSBjb21wdXRlT3V0Q29kZShhLCBiLnRvWCwgYi50b1kpO1xuXG4gICAgLy8gRmFzdCBwYXRoczpcbiAgICAvLyBPbmUgb2YgdGhlIHBvaW50cyBpcyBpbnNpZGVcbiAgICBpZiAoZmMgPT09IElOU0lERSB8fCB0YyA9PT0gSU5TSURFKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBiaXR3aXNlIEFORCBpcyBub3QgMDogYm90aCBwb2ludHMgc2hhcmUgYW4gb3V0c2lkZSB6b25lIChMRUZULCBSSUdIVCwgVE9QLFxuICAgIC8vIG9yIEJPVFRPTSksIHNvIGJvdGggbXVzdCBiZSBvdXRzaWRlIHdpbmRvd1xuICAgIGlmICgoZmMgJiB0YykgIT09IDApIHJldHVybiBmYWxzZTtcbiAgICAvLyBCb3RoIHBvaW50cyBhcmUgaW4gZGlyZWN0bHkgb3Bwb3NpdGUgc2l0ZXMgKGxlZnQvcmlnaHQgb3IgdG9wL2JvdHRvbSlcbiAgICBpZiAoKGZjIHwgdGMpID09PSAoTEVGVCB8IFJJR0hUKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKChmYyB8IHRjKSA9PT0gKFRPUCB8IEJPVFRPTSkpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5taW5YLCBhLm1pblksIGEubWluWCwgYS5tYXhZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIHx8XG4gICAgICAgICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5taW5YLCBhLm1heFksIGEubWF4WCwgYS5tYXhZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIHx8XG4gICAgICAgICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5tYXhYLCBhLm1heFksIGEubWF4WCwgYS5taW5ZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIHx8XG4gICAgICAgICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5tYXhYLCBhLm1pblksIGEubWluWCwgYS5taW5ZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFBvaW50VnNDaXJjbGUocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSwgY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRpc3RTcXVhcmVkMmQocG9pbnQueCwgcG9pbnQueSwgY2VudGVyLngsIGNlbnRlci55KSA8IHJhZGl1cyAqIHJhZGl1cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBDaXJjbGVWc0FhYmIoY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhZGl1czogbnVtYmVyLCBhYWJiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgbGV0IGRpc3RYID0gTWF0aC5hYnMoY2VudGVyLnggLSAoYWFiYi5taW5YICsgYWFiYi5tYXhYKSAvIDIpO1xuICAgIGxldCBkaXN0WSA9IE1hdGguYWJzKGNlbnRlci55IC0gKGFhYmIubWluWSArIGFhYmIubWF4WSkgLyAyKTtcblxuICAgIGxldCBoYWxmVyA9IChhYWJiLm1heFggLSBhYWJiLm1pblgpIC8gMjtcbiAgICBsZXQgaGFsZkggPSAoYWFiYi5tYXhZIC0gYWFiYi5taW5ZKSAvIDI7XG5cbiAgICBpZiAoZGlzdFggPiBoYWxmVyArIHJhZGl1cykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChkaXN0WSA+IGhhbGZIICsgcmFkaXVzKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoZGlzdFggPCBoYWxmVyB8fCBkaXN0WSA8IGhhbGZIKSByZXR1cm4gdHJ1ZTtcblxuICAgIGxldCBkeCA9IGRpc3RYIC0gaGFsZlc7XG4gICAgbGV0IGR5ID0gZGlzdFkgLSBoYWxmSDtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcENpcmNsZVZzQ2lyY2xlKGFjOiBQSVhJLklQb2ludERhdGEsIGFyOiBudW1iZXIsIGJjOiBQSVhJLklQb2ludERhdGEsIGJyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBsZXQgZHggPSBhYy54IC0gYmMueDtcbiAgICBsZXQgZHkgPSBhYy55IC0gYmMueTtcbiAgICBsZXQgciA9IGFyICsgYnI7XG5cbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPCAgciAqIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uKGFjOiBQSVhJLklQb2ludERhdGEsIGFyOiBudW1iZXIsIHBvbHk6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgaWYgKHBvbHlnb25Qb2ludEludGVyc2VjdChhYywgcG9seSkpIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IHRtcExpbmUgPSBuZXcgTGluZSgwLCAwLCAwLCAwKTtcbiAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIGxldCByMiA9IGFyICogYXI7XG5cbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBvbHkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgdG1wTGluZS5mcm9tWCA9IHBvbHlbaSAtIDJdO1xuICAgICAgICB0bXBMaW5lLmZyb21ZID0gcG9seVtpIC0gMV07XG4gICAgICAgIHRtcExpbmUudG9YID0gcG9seVtpXTtcbiAgICAgICAgdG1wTGluZS50b1kgPSBwb2x5W2kgKyAxXTtcblxuICAgICAgICB0bXBMaW5lLnByb2plY3RQb2ludChhYywgdG1wUG9pbnQsIHRydWUpO1xuICAgICAgICBpZiAoZGlzdFNxdWFyZWQyZCh0bXBQb2ludC54LCB0bXBQb2ludC55LCBhYy54LCBhYy55KSA8PSByMikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwT2JiVnNQb2x5Z29uKG9iYjogT2JiLCBwb2x5OiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGxldCBwb2x5QWFiYiA9IEFhYmIuemVybygpO1xuICAgIHBvbHlBYWJiLndyYXBQb2x5Z29uKHBvbHkpO1xuICAgIC8vIEZhc3QgcGF0aFxuICAgIGlmICghb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYiwgcG9seUFhYmIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMikge1xuICAgICAgICBsZXQgcCA9IHtcbiAgICAgICAgICAgIHg6IG9iYi5yb3RWZXJ0ZXhbaV0sXG4gICAgICAgICAgICB5OiBvYmIucm90VmVydGV4W2kgKyAxXSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgYSBwb2ludCBvZiB0aGUgT0JCIGlzIGluc2lkZSB0aGUgcG9seWdvbiB0aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgaWYgKHBvbHlnb25Qb2ludEludGVyc2VjdChwLCBwb2x5KSkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2x5Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGxldCBwID0ge1xuICAgICAgICAgICAgeDogcG9seVtpXSxcbiAgICAgICAgICAgIHk6IHBvbHlbaSArIDFdLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIGEgcG9pbnQgb2YgdGhlIHBvbHlnb24gaXMgaW5zaWRlIHRoZSBPQkIgdGhlbiB3ZSdyZSBkb25lXG4gICAgICAgIGlmIChvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50KG9iYiwgcCkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgb2JiTGluZXMgPSBbXG4gICAgICAgIFswLCAyXSxcbiAgICAgICAgWzIsIDRdLFxuICAgICAgICBbNCwgNl0sXG4gICAgICAgIFs2LCAwXVxuICAgIF07XG5cbiAgICAvLyBDaGVjayBsaW5lIGludGVyc2VjdGlvbnNcbiAgICBmb3IgKGxldCBsaW5lIG9mIG9iYkxpbmVzKSB7XG4gICAgICAgIGxldCBvYmJMaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgICBvYmIucm90VmVydGV4W2xpbmVbMF1dLCBvYmIucm90VmVydGV4W2xpbmVbMF0gKyAxXSxcbiAgICAgICAgICAgIG9iYi5yb3RWZXJ0ZXhbbGluZVsxXV0sIG9iYi5yb3RWZXJ0ZXhbbGluZVsxXSArIDFdXG4gICAgICAgIClcbiAgICAgICAgaWYgKG92ZXJsYXBMaW5lVnNQb2x5Z29uKG9iYkxpbmUsIHBvbHkpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwTGluZVZzUG9seWdvbihsaW5lOiBMaW5lLCBwb2x5OiBudW1iZXJbXSkge1xuICAgIGxldCB0b3RMaW5lcyA9IHBvbHkubGVuZ3RoIC0gMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdExpbmVzOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHBvbExpbmUgPSBuZXcgTGluZShwb2x5W2ldLCBwb2x5W2krMV0sIHBvbHlbaSsyXSwgcG9seVtpKzNdKTtcbiAgICAgICAgaWYgKGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobGluZSwgcG9sTGluZSkgPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgcG9sTGluZSA9IG5ldyBMaW5lKHBvbHlbMF0sIHBvbHlbMV0sIHBvbHlbcG9seS5sZW5ndGgtMl0sIHBvbHlbcG9seS5sZW5ndGgtMV0pO1xuICAgIHJldHVybiBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KGxpbmUsIHBvbExpbmUpID09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUG9pbnRCeU9yaWcobzogUElYSS5JUG9pbnREYXRhLCByb3Q6IG51bWJlciwgcDogUElYSS5JUG9pbnREYXRhKTogUElYSS5Qb2ludCB7XG4gICAgbGV0IHMgPSBNYXRoLnNpbigtcm90KTtcbiAgICBsZXQgYyA9IE1hdGguY29zKC1yb3QpO1xuXG4gICAgbGV0IHRyYW5zWCA9IHAueCAtIG8ueDtcbiAgICBsZXQgdHJhbnNZID0gcC55IC0gby55O1xuXG4gICAgcmV0dXJuIG5ldyBQSVhJLlBvaW50KFxuICAgICAgICAodHJhbnNYICogYyAtIHRyYW5zWSAqIHMpICsgby54LFxuICAgICAgICAodHJhbnNYICogcyArIHRyYW5zWSAqIGMpICsgby55XG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQob2JiOiBPYmIsIHA6IFBJWEkuSVBvaW50RGF0YSkge1xuICAgIGxldCByb3RhdGVkUG9pbnQgPSByb3RhdGVQb2ludEJ5T3JpZyhvYmIudW5yb3RhdGVkLmdldENlbnRlcigpLCBvYmIucm90YXRpb24sIHApO1xuXG4gICAgcmV0dXJuIG92ZXJsYXBBYWJiVnNQb2ludChvYmIudW5yb3RhdGVkLCByb3RhdGVkUG9pbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNDaXJjbGUob2JiOiBPYmIsIHBvczogUElYSS5JUG9pbnREYXRhLCByYWQ6IG51bWJlcikge1xuICAgIGxldCByb3RhdGVkUG9pbnQgPSByb3RhdGVQb2ludEJ5T3JpZyhvYmIudW5yb3RhdGVkLmdldENlbnRlcigpLCBvYmIucm90YXRpb24sIHBvcyk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcENpcmNsZVZzQWFiYihyb3RhdGVkUG9pbnQsIHJhZCwgb2JiLnVucm90YXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUm90YXRlZFJlY3RWc0xpbmUob2JiOiBPYmIsIGxpbmU6IExpbmUpIHtcbiAgICBsZXQgY2VudGVyID0gb2JiLnVucm90YXRlZC5nZXRDZW50ZXIoKTtcbiAgICBsZXQgcm90RnJvbSA9IHJvdGF0ZVBvaW50QnlPcmlnKGNlbnRlciwgb2JiLnJvdGF0aW9uLCB7eDogbGluZS5mcm9tWCwgeTogbGluZS5mcm9tWX0pO1xuICAgIGxldCByb3RUbyA9IHJvdGF0ZVBvaW50QnlPcmlnKGNlbnRlciwgb2JiLnJvdGF0aW9uLCB7eDogbGluZS50b1gsIHk6IGxpbmUudG9ZfSk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc0xpbmUob2JiLnVucm90YXRlZCwgbmV3IExpbmUocm90RnJvbS54LCByb3RGcm9tLnksIHJvdFRvLngsIHJvdFRvLnkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPYmJQb2ludHMoYWFiYjogQWFiYiwgcm90OiBudW1iZXIsIG9yaWdpbj86IFBJWEkuSVBvaW50RGF0YSk6IG51bWJlcltdIHtcbiAgICBsZXQgcmVzID0gbmV3IEFycmF5PG51bWJlcj4oOCk7XG5cbiAgICBsZXQgbyA9IG9yaWdpbiB8fCB7XG4gICAgICAgIHg6IChhYWJiLm1pblggKyBhYWJiLm1heFgpIC8gMixcbiAgICAgICAgeTogKGFhYmIubWluWSArIGFhYmIubWF4WSkgLyAyLFxuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBsZXQgbWluWCA9IChpICYgMSk7XG4gICAgICAgIGxldCBtaW5ZID0gKGkgJiAyKSA+Pj4gMTtcblxuICAgICAgICBsZXQgcCA9IHJvdGF0ZVBvaW50QnlPcmlnKG8sIHJvdCwge1xuICAgICAgICAgICAgeDogbWluWCA/IGFhYmIubWluWCA6IGFhYmIubWF4WCxcbiAgICAgICAgICAgIHk6IG1pblkgPyBhYWJiLm1pblkgOiBhYWJiLm1heFksXG4gICAgICAgIH0pO1xuICAgICAgICByZXNbaSAqIDIgICAgXSA9IHAueDtcbiAgICAgICAgcmVzW2kgKiAyICsgMV0gPSBwLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzQWFiYihvYmI6IE9iYiwgYWFiYjogQWFiYik6IGJvb2xlYW4ge1xuICAgIC8vIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtXG4gICAgbGV0IG90aGVyQWFiYiA9IEFhYmIuemVybygpO1xuXG4gICAgb3RoZXJBYWJiLndyYXBQb2x5Z29uKG9iYi5yb3RWZXJ0ZXgpO1xuICAgIGlmIChvdmVybGFwQWFiYlZzQWFiYihhYWJiLCBvdGhlckFhYmIpKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIEFwcGx5IHRoZSBpbnZlcnNlIHRyYW5zZm9ybSBvZiB0aGUgb2JiIHRvIHRoZSBhYWJiXG4gICAgbGV0IG9yaWdpbmFsSW52ID0gY29tcHV0ZU9iYlBvaW50cyhhYWJiLCBvYmIucm90YXRpb24sIG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCkpO1xuXG4gICAgb3RoZXJBYWJiLnJlc2V0KCk7XG4gICAgb3RoZXJBYWJiLndyYXBQb2x5Z29uKG9yaWdpbmFsSW52KTtcbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc0FhYmIob2JiLnVucm90YXRlZCwgb3RoZXJBYWJiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzUm90YXRlZFJlY3Qob2JiMTogT2JiLCBvYmIyOiBPYmIpOiBib29sZWFuIHtcbiAgICBsZXQgY2VudGVyID0gb2JiMi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCk7XG4gICAgbGV0IHJlcyA9IG9iYjIudW5yb3RhdGVkLmNvcHkoKTtcbiAgICByZXMudHJhbnNsYXRlKC1jZW50ZXIueCwgLWNlbnRlci55LCByZXMpO1xuXG4gICAgbGV0IG9iYjMgPSBPYmIucm90YXRlQWFiYihyZXMsIG9iYjIucm90YXRpb24gLSBvYmIxLnJvdGF0aW9uKTtcbiAgICByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYjMsIG9iYjEudW5yb3RhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBMaW5lVnNDaXJjbGUobGluZTogTGluZSwgcG9pbnQ6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgaWYgKCFsaW5lLnByb2plY3RQb2ludChwb2ludCwgdG1wUG9pbnQsIHRydWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGRpc3QgPSBkaXN0U3F1YXJlZDJkKHRtcFBvaW50LngsIHRtcFBvaW50LnksIHBvaW50LngsIHBvaW50LnkpO1xuICAgIHJldHVybiBkaXN0IDwgcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZW51bSBTZWdtZW50VnNTZWdtZW50UmVzIHtcbiAgICBOT05FLCBJTlRFUk4sIEVER0VfQSwgRURHRV9CID0gNCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoYTogTGluZSwgYjogTGluZSwgdGFyZ2V0PzogUG9pbnQpOiBTZWdtZW50VnNTZWdtZW50UmVzIHtcbiAgICBsZXQgZGVuID0gKGIudG9ZIC0gYi5mcm9tWSkgKiAoYS50b1ggLSBhLmZyb21YKSAtXG4gICAgICAgICAgICAgIChiLnRvWCAtIGIuZnJvbVgpICogKGEudG9ZIC0gYS5mcm9tWSk7XG5cbiAgICBpZiAoZGVuID09PSAwKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FOyAvLyBQYXJhbGxlbCAob3IgY29pbmNpZGVudClcblxuICAgIGNvbnN0IHMgPSAoXG4gICAgICAgIChiLnRvWCAtIGIuZnJvbVgpICogKGEuZnJvbVkgLSBiLmZyb21ZKSAtXG4gICAgICAgIChiLnRvWSAtIGIuZnJvbVkpICogKGEuZnJvbVggLSBiLmZyb21YKVxuICAgICkgLyBkZW47XG5cbiAgICBpZiAocyA8IC1FUFNJTE9OIHx8IHMgPiAxICsgRVBTSUxPTikgcmV0dXJuIFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORTtcblxuICAgIGNvbnN0IHUgPSAoXG4gICAgICAgIChhLnRvWCAtIGEuZnJvbVgpICogKGEuZnJvbVkgLSBiLmZyb21ZKSAtXG4gICAgICAgIChhLnRvWSAtIGEuZnJvbVkpICogKGEuZnJvbVggLSBiLmZyb21YKVxuICAgICkgLyBkZW47XG5cbiAgICBpZiAodSA8IC1FUFNJTE9OIHx8IHUgPiAxICsgRVBTSUxPTikgcmV0dXJuIFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORTtcblxuICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0YXJnZXQuc2V0KFxuICAgICAgICAgICAgYS5mcm9tWCArIHMgKiAoYS50b1ggLSBhLmZyb21YKSxcbiAgICAgICAgICAgIGEuZnJvbVkgKyBzICogKGEudG9ZIC0gYS5mcm9tWSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGVkZ2UgPSAwO1xuICAgIGlmIChzIDwgRVBTSUxPTiB8fCBzID4gMSAtIEVQU0lMT04pIGVkZ2UgfD0gU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0E7XG4gICAgaWYgKHUgPCBFUFNJTE9OIHx8IHUgPiAxIC0gRVBTSUxPTikgZWRnZSB8PSBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQjtcbiAgICByZXR1cm4gZWRnZSA9PT0gMCA/IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIDogZWRnZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaWFuZ2xlQ29udGFpbnNQb2ludChwOiBTdHVwaWRQb2ludCwgcDA6IFN0dXBpZFBvaW50LCBwMTogU3R1cGlkUG9pbnQsIHAyOiBTdHVwaWRQb2ludCkge1xuICAgIGxldCBBID0gMS8yICogKC1wMS55ICogcDIueCArIHAwLnkgKiAoLXAxLnggKyBwMi54KSArIHAwLnggKiAocDEueSAtIHAyLnkpICsgcDEueCAqIHAyLnkpO1xuICAgIGxldCBzaWduID0gQSA8IDAgPyAtMSA6IDE7XG4gICAgbGV0IHMgPSAocDAueSAqIHAyLnggLSBwMC54ICogcDIueSArIChwMi55IC0gcDAueSkgKiBwLnggKyAocDAueCAtIHAyLngpICogcC55KSAqIHNpZ247XG4gICAgbGV0IHQgPSAocDAueCAqIHAxLnkgLSBwMC55ICogcDEueCArIChwMC55IC0gcDEueSkgKiBwLnggKyAocDEueCAtIHAwLngpICogcC55KSAqIHNpZ247XG5cbiAgICByZXR1cm4gcyAtIEVQU0lMT04gPiAwICYmIHQgLSBFUFNJTE9OID4gMCAmJiAocyArIHQpIDwgMiAqIEEgKiBzaWduIC0gRVBTSUxPTjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTYW1lU2xvcGUoYXg6IG51bWJlciwgYXk6IG51bWJlciwgYng6IG51bWJlciwgYnk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIFdlIG5lZWQgdG8gcmVtb3ZlIGRpdmlzaW9ucywgKHRoaXMgaXMgbm90IHJlYWwgY29kZSlcbiAgICAvLyBheSAvIGF4ID09IGJ5IC8gYnggID09PiBheSAqIGJ4ID09IGJ5ICogYXhcbiAgICByZXR1cm4gTWF0aC5hYnMoYXkgKiBieCAtIGJ5ICogYXgpIDwgRVBTSUxPTjtcbn1cblxuIiwiXG4vLyBBIHZlcnNpb24gaGlnaGx5IGluc3BpcmVkIGJ5IHBsYW5rLmpzIChodHRwczovL2dpdGh1Yi5jb20vc2hha2liYS9wbGFuY2suanMvYmxvYi9mNTc3Nzg4NGY1MzdkYjk3NjA4ZDgwMTZiZGE5NjBkMjUxZDQyZDRkL2xpYi9jb2xsaXNpb24vRHluYW1pY1RyZWUuanMpXG5cbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4vYWFiYlwiO1xuaW1wb3J0IHtjb250YWluc0FhYmJWc0FhYmIsIG92ZXJsYXBBYWJiVnNBYWJifSBmcm9tIFwiLi9jb2xsaXNpb25cIjtcbmltcG9ydCB7UG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5cbmNsYXNzIFRyZWVOb2RlPFQ+IHtcbiAgICBpZDogbnVtYmVyO1xuICAgIGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICB0YWc/OiBUO1xuXG4gICAgcGFyZW50PzogVHJlZU5vZGU8VD47XG4gICAgbGVmdD86IFRyZWVOb2RlPFQ+O1xuICAgIHJpZ2h0PzogVHJlZU5vZGU8VD47XG5cbiAgICBoZWlnaHQ6IG51bWJlciA9IC0xO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQgKyBcIjogXCIgKyB0aGlzLnRhZztcbiAgICB9XG5cbiAgICBpc0xlYWYoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQgPT09IHVuZGVmaW5lZDtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIER5bmFtaWNUcmVlPFQ+IHtcbiAgICByb290PzogVHJlZU5vZGU8VD47XG4gICAgbm9kZXMgPSBuZXcgTWFwPG51bWJlciwgVHJlZU5vZGU8VD4+KCk7XG4gICAgbGFzdFByb3h5SWQ6IG51bWJlciA9IDA7XG5cbiAgICBhYWJiRXh0ZW5zaW9uOiBudW1iZXI7XG4gICAgYWFiYk11bHRpcGxpZXI6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGFhYmJFeHRlbnNpb246IG51bWJlciA9IDAuMSwgYWFiYk11bHRpcGxpZXI6IG51bWJlciA9IDIpIHtcbiAgICAgICAgdGhpcy5hYWJiRXh0ZW5zaW9uID0gYWFiYkV4dGVuc2lvbjtcbiAgICAgICAgdGhpcy5hYWJiTXVsdGlwbGllciA9IGFhYmJNdWx0aXBsaWVyO1xuICAgIH1cblxuICAgIGdldFRhZyhpZDogbnVtYmVyKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmdldChpZCk/LnRhZztcbiAgICB9XG5cbiAgICBzZXRUYWcoaWQ6IG51bWJlciwgdGFnOiBUKSB7XG4gICAgICAgIHRoaXMubm9kZXMuZ2V0KGlkKSEudGFnID0gdGFnO1xuICAgIH1cblxuICAgIGdldEZhdEFhYmIoaWQ6IG51bWJlcik6IEFhYmIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5nZXQoaWQpPy5hYWJiO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWxsb2NhdGVOb2RlKCk6IFRyZWVOb2RlPFQ+IHtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgVHJlZU5vZGU8VD4oKyt0aGlzLmxhc3RQcm94eUlkKTtcbiAgICAgICAgdGhpcy5ub2Rlcy5zZXQobm9kZS5pZCwgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZnJlZU5vZGUobm9kZTogVHJlZU5vZGU8VD4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5kZWxldGUobm9kZS5pZCk7XG4gICAgfVxuXG4gICAgY3JlYXRlUHJveHkoYWFiYjogQWFiYiwgdGFnOiBUKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmFsbG9jYXRlTm9kZSgpO1xuXG4gICAgICAgIG5vZGUuYWFiYi5jb3B5RnJvbShhYWJiKTtcblxuICAgICAgICAvLyBGYXR0ZW4gdGhlIGFhYmJcbiAgICAgICAgbm9kZS5hYWJiLmV4dGVuZCh0aGlzLmFhYmJFeHRlbnNpb24sIG5vZGUuYWFiYik7XG5cbiAgICAgICAgbm9kZS50YWcgPSB0YWc7XG4gICAgICAgIG5vZGUuaGVpZ2h0ID0gMDtcblxuICAgICAgICB0aGlzLmluc2VydExlYWYobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlLmlkO1xuICAgIH1cblxuICAgIGRlc3Ryb3lQcm94eShpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlcy5nZXQoaWQpITtcblxuICAgICAgICB0aGlzLnJlbW92ZUxlYWYobm9kZSk7XG4gICAgICAgIHRoaXMuZnJlZU5vZGUobm9kZSk7XG4gICAgfVxuXG4gICAgbW92ZVByb3h5KGlkOiBudW1iZXIsIGFhYmI6IEFhYmIsIGQ6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlcy5nZXQoaWQpITtcblxuICAgICAgICBpZiAoY29udGFpbnNBYWJiVnNBYWJiKG5vZGUuYWFiYiwgYWFiYikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVtb3ZlTGVhZihub2RlKTtcbiAgICAgICAgbm9kZS5hYWJiLmNvcHlGcm9tKGFhYmIpO1xuXG4gICAgICAgIC8vIEZhdHRlblxuICAgICAgICBub2RlLmFhYmIuZXh0ZW5kKHRoaXMuYWFiYkV4dGVuc2lvbiwgbm9kZS5hYWJiKTtcblxuICAgICAgICAvLyBQcmVkaWN0IG1vdGlvblxuICAgICAgICBpZiAodGhpcy5hYWJiTXVsdGlwbGllciAhPT0gMSkge1xuICAgICAgICAgICAgaWYgKGQueCA8IDApIGFhYmIubWluWCArPSBkLnggKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICAgICAgZWxzZSBhYWJiLm1heFggKz0gZC54ICogdGhpcy5hYWJiTXVsdGlwbGllcjtcblxuICAgICAgICAgICAgaWYgKGQueSA8IDApIGFhYmIubWluWSArPSBkLnkgKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICAgICAgZWxzZSBhYWJiLm1heFkgKz0gZC55ICogdGhpcy5hYWJiTXVsdGlwbGllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5zZXJ0TGVhZihub2RlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydExlYWYobGVhZjogVHJlZU5vZGU8VD4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBsZWFmO1xuICAgICAgICAgICAgdGhpcy5yb290LnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZWFmQWFiYiA9IGxlYWYuYWFiYjtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5yb290O1xuXG4gICAgICAgIHdoaWxlICghaW5kZXguaXNMZWFmKCkpIHtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gaW5kZXgubGVmdCE7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBpbmRleC5yaWdodCE7XG5cbiAgICAgICAgICAgIGxldCBwZXIgPSBpbmRleC5hYWJiLmdldFBlcmltZXRlcigpO1xuXG5cbiAgICAgICAgICAgIGxldCBjb21iaW5lZEFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGluZGV4LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgIGxldCBjb21iaW5lZFBlciA9IGNvbWJpbmVkQWFiYi5nZXRQZXJpbWV0ZXIoKTtcblxuICAgICAgICAgICAgbGV0IGNvc3QgPSBjb21iaW5lZFBlciAqIDI7XG5cbiAgICAgICAgICAgIGxldCBpbmhlcml0YW5jZUNvc3QgPSAoY29tYmluZWRQZXIgLSBwZXIpICogMjtcblxuICAgICAgICAgICAgbGV0IGNvc3RMZWZ0O1xuICAgICAgICAgICAgaWYgKGxlZnQuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICBsZWZ0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBjb3N0TGVmdCA9IGNvbWJpbmVkQWFiYi5nZXRQZXJpbWV0ZXIoKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVmdC5hYWJiLmNvbWJpbmUobGVhZkFhYmIsIGNvbWJpbmVkQWFiYik7XG4gICAgICAgICAgICAgICAgbGV0IG9sZFBlcmltZXRlciA9IGxlZnQuYWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyaW1ldGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGNvc3RMZWZ0ID0gKG5ld1BlcmltZXRlciAtIG9sZFBlcmltZXRlcikgKyBpbmhlcml0YW5jZUNvc3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjb3N0UmlnaHQ7XG4gICAgICAgICAgICBpZiAocmlnaHQuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICByaWdodC5hYWJiLmNvbWJpbmUobGVhZkFhYmIsIGNvbWJpbmVkQWFiYik7XG4gICAgICAgICAgICAgICAgY29zdFJpZ2h0ID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByaWdodC5hYWJiLmNvbWJpbmUobGVhZkFhYmIsIGNvbWJpbmVkQWFiYik7XG4gICAgICAgICAgICAgICAgbGV0IG9sZFBlcmltZXRlciA9IHJpZ2h0LmFhYmIuZ2V0UGVyaW1ldGVyKCk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1BlcmltZXRlciA9IGNvbWJpbmVkQWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBjb3N0UmlnaHQgPSAobmV3UGVyaW1ldGVyIC0gb2xkUGVyaW1ldGVyKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvc3QgPCBjb3N0TGVmdCAmJiBjb3N0IDwgY29zdFJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb3N0TGVmdCA8IGNvc3RSaWdodCkgaW5kZXggPSBsZWZ0O1xuICAgICAgICAgICAgZWxzZSBpbmRleCA9IHJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpYmxpbmcgPSBpbmRleDtcbiAgICAgICAgbGV0IG9sZFBhcmVudCA9IHNpYmxpbmcucGFyZW50O1xuICAgICAgICBsZXQgbmV3UGFyZW50ID0gdGhpcy5hbGxvY2F0ZU5vZGUoKTtcblxuICAgICAgICBuZXdQYXJlbnQucGFyZW50ID0gb2xkUGFyZW50O1xuICAgICAgICBzaWJsaW5nLmFhYmIuY29tYmluZShsZWFmQWFiYiwgbmV3UGFyZW50LmFhYmIpO1xuICAgICAgICBuZXdQYXJlbnQuaGVpZ2h0ID0gc2libGluZy5oZWlnaHQgKyAxO1xuXG4gICAgICAgIGlmIChvbGRQYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVGhlIHNpYmxpbmcgd2FzIG5vdCB0aGUgcm9vdFxuICAgICAgICAgICAgaWYgKG9sZFBhcmVudC5sZWZ0ID09PSBzaWJsaW5nKSBvbGRQYXJlbnQubGVmdCA9IG5ld1BhcmVudDtcbiAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkUGFyZW50LnJpZ2h0ID0gbmV3UGFyZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhlIHNpYmxpbmcgd2FzIHRoZSByb290XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXdQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3UGFyZW50LmxlZnQgPSBzaWJsaW5nO1xuICAgICAgICBuZXdQYXJlbnQucmlnaHQgPSBsZWFmO1xuICAgICAgICBzaWJsaW5nLnBhcmVudCA9IG5ld1BhcmVudDtcbiAgICAgICAgbGVhZi5wYXJlbnQgPSBuZXdQYXJlbnQ7XG5cbiAgICAgICAgLy8gV2FsayBiYWNrIHVwIGZpeGluZyBoZWlnaHRzIGFuZCBBQUJCc1xuICAgICAgICBpbmRleCA9IGxlYWYucGFyZW50O1xuICAgICAgICB3aGlsZSAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJhbGFuY2UoaW5kZXgpO1xuXG4gICAgICAgICAgICBpbmRleC5oZWlnaHQgPSAxICsgTWF0aC5tYXgoaW5kZXgubGVmdCEuaGVpZ2h0LCBpbmRleC5yaWdodCEuaGVpZ2h0KTtcbiAgICAgICAgICAgIGluZGV4LmxlZnQhLmFhYmIuY29tYmluZShpbmRleC5yaWdodCEuYWFiYiwgaW5kZXguYWFiYik7XG5cbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXgucGFyZW50ITtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlTGVhZihsZWFmOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICBpZiAobGVhZiA9PT0gdGhpcy5yb290KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGFyZW50ID0gbGVhZi5wYXJlbnQhO1xuICAgICAgICBsZXQgZ3JhbmRQYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICBsZXQgc2libGluZztcbiAgICAgICAgaWYgKHBhcmVudC5sZWZ0ID09PSBsZWFmKSBzaWJsaW5nID0gcGFyZW50LnJpZ2h0ITtcbiAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nID0gcGFyZW50LmxlZnQhO1xuXG4gICAgICAgIGlmIChncmFuZFBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBEZXN0cm95IHBhcmVudCBhbmQgY29ubmVjdCBzaWJsaW5nIHRvIGdyYW5kUGFyZW50XG4gICAgICAgICAgICBpZiAoZ3JhbmRQYXJlbnQubGVmdCA9PT0gcGFyZW50KSBncmFuZFBhcmVudC5sZWZ0ID0gc2libGluZztcbiAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYW5kUGFyZW50LnJpZ2h0ID0gc2libGluZztcblxuICAgICAgICAgICAgc2libGluZy5wYXJlbnQgPSBncmFuZFBhcmVudDtcbiAgICAgICAgICAgIHRoaXMuZnJlZU5vZGUocGFyZW50KTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGFuY2VzdG9yIGJvdW5kc1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gZ3JhbmRQYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5iYWxhbmNlKGluZGV4KTtcblxuICAgICAgICAgICAgICAgIGluZGV4LmxlZnQhLmFhYmIuY29tYmluZShpbmRleC5yaWdodCEuYWFiYiwgaW5kZXguYWFiYik7XG4gICAgICAgICAgICAgICAgaW5kZXguaGVpZ2h0ID0gMSArIE1hdGgubWF4KGluZGV4LmxlZnQhLmhlaWdodCwgaW5kZXgucmlnaHQhLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4LnBhcmVudCE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBzaWJsaW5nO1xuICAgICAgICAgICAgc2libGluZy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmZyZWVOb2RlKHBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgcm90YXRpb24gaWYgY3VycmVudCBub2RlIGlzIGltYmFsYW5jZWQsIHJldHVybnMgdGhlIG5ldyBzdWItdHJlZSByb290LlxuICAgICAqIEBwYXJhbSBjdXJyZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGJhbGFuY2UoY3VycmVudDogVHJlZU5vZGU8VD4pOiBUcmVlTm9kZTxUPiB7XG4gICAgICAgIGxldCBhID0gY3VycmVudDtcblxuICAgICAgICBpZiAoYS5pc0xlYWYoKSB8fCBhLmhlaWdodCA8IDIpIHJldHVybiBhO1xuXG4gICAgICAgIGxldCBiID0gYS5sZWZ0ITtcbiAgICAgICAgbGV0IGMgPSBhLnJpZ2h0ITtcblxuICAgICAgICBsZXQgYmFsYW5jZSA9IGMuaGVpZ2h0IC0gYi5oZWlnaHQ7XG5cbiAgICAgICAgLy8gUm90YXRlIEMgdXBcbiAgICAgICAgaWYgKGJhbGFuY2UgPiAxKSB7XG4gICAgICAgICAgICBsZXQgZiA9IGMubGVmdCE7XG4gICAgICAgICAgICBsZXQgZyA9IGMucmlnaHQhO1xuXG4gICAgICAgICAgICAvLyBTd2FwIGEgYW5kIGNcbiAgICAgICAgICAgIGMubGVmdCA9IGE7XG4gICAgICAgICAgICBjLnBhcmVudCA9IGEucGFyZW50O1xuICAgICAgICAgICAgYS5wYXJlbnQgPSBjO1xuXG4gICAgICAgICAgICAvLyBhIHBhcmVudCBzaG91bGQgcG9pbnQgdG8gY1xuICAgICAgICAgICAgaWYgKGMucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5wYXJlbnQubGVmdCA9PT0gYSkgYy5wYXJlbnQubGVmdCA9IGM7XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgIGMucGFyZW50LnJpZ2h0ID0gYztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUm90YXRlXG4gICAgICAgICAgICBpZiAoZi5oZWlnaHQgPiBnLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGcucGFyZW50ID0gYTtcbiAgICAgICAgICAgICAgICBiLmFhYmIuY29tYmluZShnLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZi5hYWJiLCBjLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYi5oZWlnaHQsIGcuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZi5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjLnJpZ2h0ID0gZztcbiAgICAgICAgICAgICAgICBhLnJpZ2h0ID0gZjtcbiAgICAgICAgICAgICAgICBmLnBhcmVudCA9IGE7XG4gICAgICAgICAgICAgICAgYi5hYWJiLmNvbWJpbmUoZi5hYWJiLCBhLmFhYmIpO1xuICAgICAgICAgICAgICAgIGEuYWFiYi5jb21iaW5lKGcuYWFiYiwgYy5hYWJiKTtcblxuICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGIuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgYy5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYS5oZWlnaHQsIGcuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFsYW5jZSA8IC0xKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGIubGVmdCE7XG4gICAgICAgICAgICBsZXQgZSA9IGIucmlnaHQhO1xuXG4gICAgICAgICAgICAvLyBTd2FwIGEgYW5kIGJcbiAgICAgICAgICAgIGIubGVmdCA9IGE7XG4gICAgICAgICAgICBiLnBhcmVudCA9IGEucGFyZW50O1xuICAgICAgICAgICAgYS5wYXJlbnQgPSBiO1xuXG4gICAgICAgICAgICAvLyBhIHBhcmVudCBzaG91bGQgcG9pbnQgdG8gYlxuICAgICAgICAgICAgaWYgKGIucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYi5wYXJlbnQubGVmdCA9PT0gYSkgYi5wYXJlbnQubGVmdCA9IGI7XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgIGIucGFyZW50LnJpZ2h0ID0gYjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gYjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUm90YXRlXG4gICAgICAgICAgICBpZiAoZC5oZWlnaHQgPiBlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGIucmlnaHQgPSBkO1xuICAgICAgICAgICAgICAgIGEubGVmdCA9IGU7XG4gICAgICAgICAgICAgICAgZS5wYXJlbnQgPSBhO1xuXG4gICAgICAgICAgICAgICAgYy5hYWJiLmNvbWJpbmUoZS5hYWJiLCBhLmFhYmIpO1xuICAgICAgICAgICAgICAgIGEuYWFiYi5jb21iaW5lKGQuYWFiYiwgYi5hYWJiKTtcblxuICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGMuaGVpZ2h0LCBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgYi5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYS5oZWlnaHQsIGQuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYi5yaWdodCA9IGU7XG4gICAgICAgICAgICAgICAgYS5sZWZ0ID0gZDtcbiAgICAgICAgICAgICAgICBkLnBhcmVudCA9IGE7XG5cbiAgICAgICAgICAgICAgICBjLmFhYmIuY29tYmluZShkLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZS5hYWJiLCBiLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYy5oZWlnaHQsIGQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBiLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cblxuICAgICpxdWVyeShhYWJiOiBBYWJiKTogR2VuZXJhdG9yPFRyZWVOb2RlPFQ+PiB7XG4gICAgICAgIGxldCBzdGFjayA9IG5ldyBBcnJheTxUcmVlTm9kZTxUPj4oKTtcblxuICAgICAgICBpZiAodGhpcy5yb290ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3RhcnRpbmcgcXVlcnk6IFwiICsgYWFiYi50b1N0cmluZygpKTtcblxuICAgICAgICBzdGFjay5wdXNoKHRoaXMucm9vdCk7XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHN0YWNrLnBvcCgpITtcblxuICAgICAgICAgICAgbGV0IG92ZXJsYXAgPSBvdmVybGFwQWFiYlZzQWFiYihub2RlLmFhYmIsIGFhYmIpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlZpc2l0OiBcIiArIG5vZGUuaWQgKyBcIiA9IFwiICsgb3ZlcmxhcCk7XG4gICAgICAgICAgICBpZiAoIW92ZXJsYXApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAobm9kZS5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIG5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZS5sZWZ0ISk7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLnJpZ2h0ISk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCB7UG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgICBmcm9tWDogbnVtYmVyO1xuICAgIGZyb21ZOiBudW1iZXI7XG4gICAgdG9YOiBudW1iZXI7XG4gICAgdG9ZOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZnJvbVggPSBmeDtcbiAgICAgICAgdGhpcy5mcm9tWSA9IGZ5O1xuICAgICAgICB0aGlzLnRvWCA9IHR4O1xuICAgICAgICB0aGlzLnRvWSA9IHR5O1xuICAgIH1cblxuICAgIGRpc3RhbmNlKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkeCA9IHRoaXMudG9YIC0gdGhpcy5mcm9tWDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy50b1kgLSB0aGlzLmZyb21ZO1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICBkaXN0YW5jZVNxdWFyZWQoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy50b1ggLSB0aGlzLmZyb21YO1xuICAgICAgICBsZXQgZHkgPSB0aGlzLnRvWSAtIHRoaXMuZnJvbVk7XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9XG5cbiAgICBwcm9qZWN0UG9pbnQocDogUElYSS5JUG9pbnREYXRhLCB0YXJnZXQ6IFBvaW50LCBpZ25vcmVWYWxpZDogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmZyb21YID09PSB0aGlzLnRvWCAmJiB0aGlzLmZyb21ZID09PSB0aGlzLnRvWSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgdSA9ICgocC54IC0gdGhpcy5mcm9tWCkgKiAodGhpcy50b1ggLSB0aGlzLmZyb21YKSkgK1xuICAgICAgICAgICAgICAgICgocC55IC0gdGhpcy5mcm9tWSkgKiAodGhpcy50b1kgLSB0aGlzLmZyb21ZKSk7XG5cbiAgICAgICAgbGV0IHVkZW5vbSA9IHRoaXMuZGlzdGFuY2VTcXVhcmVkKCk7XG5cbiAgICAgICAgdSAvPSB1ZGVub207XG5cbiAgICAgICAgbGV0IHJ4ID0gdGhpcy5mcm9tWCArIHUgKiAodGhpcy50b1ggLSB0aGlzLmZyb21YKTtcbiAgICAgICAgbGV0IHJ5ID0gdGhpcy5mcm9tWSArIHUgKiAodGhpcy50b1kgLSB0aGlzLmZyb21ZKTtcblxuICAgICAgICBpZiAoaWdub3JlVmFsaWQpIHtcbiAgICAgICAgICAgIHRhcmdldC5zZXQocngsIHJ5KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1pbnggPSB0aGlzLmZyb21YLCBtYXh4ID0gdGhpcy50b1g7XG4gICAgICAgIGxldCBtaW55ID0gdGhpcy5mcm9tWSwgbWF4eSA9IHRoaXMudG9ZO1xuXG4gICAgICAgIGlmIChtaW54ID4gbWF4eCkgW21pbngsIG1heHhdID0gW21heHgsIG1pbnhdO1xuICAgICAgICBpZiAobWlueSA+IG1heHkpIFttaW55LCBtYXh5XSA9IFttYXh5LCBtaW55XTtcblxuICAgICAgICBsZXQgaXNWYWxpZCA9IChyeCA+PSBtaW54ICYmIHJ4IDw9IG1heHgpICYmIChyeSA+PSBtaW55ICYmIHJ5IDw9IG1heHkpO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICB0YXJnZXQuc2V0KHJ4LCByeSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHkoKTogTGluZSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluZShcbiAgICAgICAgICAgIHRoaXMuZnJvbVgsIHRoaXMuZnJvbVksXG4gICAgICAgICAgICB0aGlzLnRvWCwgdGhpcy50b1lcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge2NvbXB1dGVPYmJQb2ludHN9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xuXG5leHBvcnQgY2xhc3MgT2JiIHtcbiAgICB1bnJvdGF0ZWQ6IEFhYmI7XG4gICAgcm90YXRpb246IG51bWJlcjtcbiAgICByb3RWZXJ0ZXg6IEFycmF5PG51bWJlcj47XG5cbiAgICBjb25zdHJ1Y3Rvcih1bnJvdGF0ZWQ6IEFhYmIsIHJvdGF0aW9uOiBudW1iZXIsIHJvdFZlcnRleDogQXJyYXk8bnVtYmVyPikge1xuICAgICAgICB0aGlzLnVucm90YXRlZCA9IHVucm90YXRlZDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnJvdFZlcnRleCA9IHJvdFZlcnRleDtcbiAgICB9XG5cbiAgICByZWNvbXB1dGUoKSB7XG4gICAgICAgIHRoaXMucm90VmVydGV4ID0gY29tcHV0ZU9iYlBvaW50cyh0aGlzLnVucm90YXRlZCwgdGhpcy5yb3RhdGlvbik7XG4gICAgfVxuXG4gICAgY29weSgpOiBPYmIge1xuICAgICAgICByZXR1cm4gbmV3IE9iYih0aGlzLnVucm90YXRlZC5jb3B5KCksIHRoaXMucm90YXRpb24sIFsuLi50aGlzLnJvdFZlcnRleF0pO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHJvdGF0ZUFhYmIoYWFiYjogQWFiYiwgcm90OiBudW1iZXIpOiBPYmIge1xuICAgICAgICBpZiAocm90ID09PSAwKSByZXR1cm4gdGhpcy5mcm9tQWFiYihhYWJiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmIoYWFiYiwgcm90LCBjb21wdXRlT2JiUG9pbnRzKGFhYmIsIHJvdCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQWFiYihhYWJiOiBBYWJiKTogT2JiIHtcbiAgICAgICAgbGV0IHBvaW50cyA9IFtcbiAgICAgICAgICAgIGFhYmIubWluWCwgYWFiYi5taW5ZLFxuICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1heFksXG4gICAgICAgICAgICBhYWJiLm1heFgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5taW5ZXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBuZXcgT2JiKGFhYmIsIDAsIHBvaW50cyk7XG4gICAgfVxufSIsImltcG9ydCB7UG9pbnQsIFN0dXBpZFBvaW50fSBmcm9tIFwiLi9wb2ludFwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQge2ludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQsIFNlZ21lbnRWc1NlZ21lbnRSZXMsIHRyaWFuZ2xlQ29udGFpbnNQb2ludH0gZnJvbSBcIi4vY29sbGlzaW9uXCI7XG5pbXBvcnQge2Rpc3RTcXVhcmVkMmQsIGludGVyc2VjdExpbmVWc0xpbmV9IGZyb20gXCIuLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0JpbmFyeUhlYXB9IGZyb20gXCIuLi91dGlsL2JpbmFyeUhlYXBcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4vYWFiYlwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcblxuZXhwb3J0IGNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMDE7XG5cbmNsYXNzIEVuZFBvaW50IGV4dGVuZHMgUElYSS5Qb2ludCB7XG4gICAgYW5nbGU6IG51bWJlciA9IDA7XG4gICAgZGlzdDogbnVtYmVyID0gMDtcbiAgICBzZWdtZW50PzogU2VnbWVudDtcbn1cblxuY2xhc3MgU2VnbWVudCB7XG4gICAgZnJvbTogRW5kUG9pbnQ7XG4gICAgdG86IEVuZFBvaW50O1xuICAgIHVzZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihmOiBFbmRQb2ludCwgdDogRW5kUG9pbnQpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZjtcbiAgICAgICAgdGhpcy50byA9IHQ7XG4gICAgICAgIHRoaXMudXNlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gYSA8IGJcbmZ1bmN0aW9uIHNlZ21lbnRMdChhOiBTZWdtZW50LCBiOiBTZWdtZW50LCBvOiBTdHVwaWRQb2ludCk6IGJvb2xlYW4ge1xuICAgIC8vICpvcGVucyBwaGlsb3NvcGh5IGJvb2sqXG4gICAgLy8gQnV0IHdoYXQgZG9lcyBpdCBtZWFuIGZvciBhIHNlZ21lbnQgdG8gYmUgbGVzcyB0aGFuIGFub3RoZXIgb25lPyAocmVsYXRpdmUgdG8gYSBwb2ludClcbiAgICAvLyBUaGVyZSBhcmUgbXVsdGlwbGUgYWxnb3JpdGhtcyBmb3IgdGhpcywgdGhlIG9uZSB0aGF0IG1ha2VzIG1vc3Qgc2Vuc2UgdG8gbWUgaXMgd2hhdCBJIGNhbGwgdGhlXG4gICAgLy8gdHJpYW5ndWxhciBpbnRlcnNlY3Rpb246XG4gICAgLy8gR2l2ZW4gdHdvIHNlZ21lbnRzIGEsIGIgYW5kIGEgcG9pbnQgbyB3ZSBkZWZpbmUgYSA8IGIgPT0gdHJ1ZSBvbmx5IGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwb2ludCBpbiBiIHRoYXRcbiAgICAvLyBpcyBoaWRkZW4gYnkgYS5cbiAgICAvLyBGb3IgZXZlcnkgc2VnbWVudCB0aGVuIHRoZSBwcm9wZXJ0eSBhIDwgYiA9PiAhKGIgPCBhKSBpcyBtYWludGFpbmVkIG9ubHkgaWYgdGhlIHNlZ21lbnRzIGRvIG5vdCBpbnRlcnNlY3RcbiAgICAvLyAoYXMgdGhlIG9ubHkgd2F5IHRoYXQgdHdvIGxpbmVzIHdvdWxkIGhpZGUgZWFjaCBvdGhlciBpcyBpZiB0aGV5IG1lZXQgaW4gYSBwb2ludCkuXG4gICAgLy8gT24gYW5vdGhlciBub3RlLCB0aGUgcHJvcGVydHkgYSA8IGIsIGIgPCBjID0+IGEgPCBjIGlzIG5vdCBtYWludGFpbmVkIVxuICAgIC8vIEhvdyBjYW4gdGhpcyBiZSBjb21wdXRlZCwgdGhlbj9cblxuICAgIC8vIGEuZnJvbSBpcyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGZvcm1lZCBieSBiIGFuZCBvLCB0aGlzIG1lYW5zOlxuICAgIC8vIC0gYS50byBpcyBhbHNvIGluc2lkZSwgdGhlbiBhIDwgYlxuICAgIC8vIC0gYS50byBpcyBvdXRzaWRlLCB0aGVuIGEgPCBiXG4gICAgaWYgKHRyaWFuZ2xlQ29udGFpbnNQb2ludChhLmZyb20sIGIuZnJvbSwgYi50bywgbykpIHJldHVybiB0cnVlO1xuICAgIGlmICh0cmlhbmdsZUNvbnRhaW5zUG9pbnQoYS50bywgYi5mcm9tLCBiLnRvLCBvKSkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBJZiB3ZSBhcnJpdmUgaGVyZSB3ZSBjYW4gYmUgc3VyZSB0aGF0IG5laXRoZXIgcG9pbnRzIG9mIGEgaXMgaW5zaWRlIHRoZSB0cmlhbmdsZSxcbiAgICAvLyBBIHNlZ21lbnQgd2l0aCBib3RoIHBvaW50cyBvdXRzaWRlIG9mIHRoZSB0cmlhbmdsZSBjYW4gaW50ZXJzZWN0IGl0IG9ubHkgYnkgaW50ZXJzZWN0aW5nIHR3byBvZiB0aGUgdGhyZWVcbiAgICAvLyBsaW5lcy4gV2UgYWxyZWFkeSBhc3N1bWUgdGhhdCBhIGFuZCBiIGNhbm5vdCBpbnRlcnNlY3Qgc28gd2UgY2FuIGNoZWNrIGVpdGhlciAoYi5mcm9tLCBvKSBvciAoYi50bywgbykgYW5kIHNlZVxuICAgIC8vIGlmIGl0IGludGVyc2VjdHMgd2l0aCBhXG5cbiAgICBsZXQgYzEgPSBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KFxuICAgICAgICBuZXcgTGluZShiLmZyb20ueCwgYi5mcm9tLnksIG8ueCwgby55KSxcbiAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICApO1xuICAgIGlmIChjMSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IGMyID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChcbiAgICAgICAgbmV3IExpbmUoYi50by54LCBiLnRvLnksIG8ueCwgby55KSxcbiAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICApO1xuICAgIGlmIChjMiA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIHJldHVybiB0cnVlO1xuXG5cbiAgICAvLyBFZGdlIGNhc2U6IG9uZSBvZiB0aGUgZW5kIHBvaW50cyBvZiB0aGUgc2Vjb25kIGxpbmUgKHRoZSBzZWdtZW50IGEpIGxpZXNcbiAgICAvLyBpbiB0aGUgbGluZSAoYi5mcm9tLCBvKSwgdGhpcyBtaWdodCBtZWFuIHR3byB0aGluZ3M6XG4gICAgLy8gMTogdGhlIGxpbmUgc2hhcmVzIGEgcG9pbnQgYnV0IGRvZXMgbm90IGJsb2NrIHRoZSBzZWNvbmQgc2VnbWVudCdzIHZpZXdcbiAgICAvLyAyOiB0aGUgbGluZSBzaGFyZXMgYSBwb2ludCBhbmQgdGhlIG90aGVyIHBvaW50IGJsb2NrcyB0aGUgd2hvbGUgdmlldyAoaGl0dGluZyB0aGUgb3RoZXIgdHJpYW5nbGUgbGluZSlcbiAgICAvLyB3ZSB3YW50IHRvIGNoZWNrIHRoZSBzZWNvbmQgY2FzZSwgc28gbGV0J3MgdHJ5IHRoZSBzZWNvbmQgc2VnbWVudCBpbnRlcnNlY3RcbiAgICBpZiAoKGMxICYgU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0IpICE9PSAwICYmIGMyICE9PSBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgoYzIgJiBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQikgIT09IDAgJiYgYzEgIT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBFZGdlIGNhc2Ugbi4yIChJJ20ga2luZGEgaGF0aW5nIG9uIGdyaWRzKVxuICAgIC8vIFRoZSBzZWdtZW50IGEgY291bGQgbGF5IGEgcG9pbnQgb24gdGhlIGxpbmUgYmV0d2VlbiAoYi5mcm9tL3RvLCBvKSBhbmQgdGhlIG90aGVyIGluIGJcbiAgICAvLyBFZGdlIGNhc2Ugb2YgdGhlIGVkZ2UgY2FzZTogSWYgdGhlIHNlZ21lbnQgaXMgaW4gYW55IG9mIHRoZSBlbmRwb2ludHMgb2YgYiB0aGVuIGl0IGRvZXMgbm90IG9jY2x1ZGUgdGhlIHZpZXdcbiAgICBpZiAoKChjMSB8IGMyKSAmIChTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQiB8IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9BKSkgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CKSB7XG4gICAgICAgIGxldCBjMyA9IGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoXG4gICAgICAgICAgICBuZXcgTGluZShiLmZyb20ueCwgYi5mcm9tLnksIGIudG8ueCwgYi50by55KSxcbiAgICAgICAgICAgIG5ldyBMaW5lKGEuZnJvbS54LCBhLmZyb20ueSwgYS50by54LCBhLnRvLnkpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjMyAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIG1lYW5zIGEgPj0gYlxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5pdFNlZ21lbnQoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcG9zOiBTdHVwaWRQb2ludCk6IFNlZ21lbnQge1xuICAgIGxldCBhID0gbmV3IEVuZFBvaW50KHgxLCB5MSk7XG4gICAgbGV0IGIgPSBuZXcgRW5kUG9pbnQoeDIsIHkyKTtcblxuICAgIGEuYW5nbGUgPSBNYXRoLmF0YW4yKHBvcy55IC0gYS55LCBwb3MueCAtIGEueCk7XG4gICAgYi5hbmdsZSA9IE1hdGguYXRhbjIocG9zLnkgLSBiLnksIHBvcy54IC0gYi54KTtcbiAgICBhLmRpc3QgPSBkaXN0U3F1YXJlZDJkKHBvcy54LCBwb3MueSwgYS54LCBhLnkpO1xuICAgIGIuZGlzdCA9IGRpc3RTcXVhcmVkMmQocG9zLngsIHBvcy55LCBiLngsIGIueSk7XG5cbiAgICBsZXQgcyA9IG5ldyBTZWdtZW50KGEsIGIpO1xuICAgIGEuc2VnbWVudCA9IHM7XG4gICAgYi5zZWdtZW50ID0gcztcblxuICAgIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlMChwb3M6IFN0dXBpZFBvaW50LCBzZWdtZW50czogU2VnbWVudFtdKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgbGV0IHBvaW50cyA9IG5ldyBBcnJheTxFbmRQb2ludD4oKTtcbiAgICBmb3IgKGxldCBzIG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKHMuZnJvbSwgcy50byk7XG4gICAgfVxuXG4gICAgLy8gTyhObG9nKE4pKVxuICAgIHBvaW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLmFuZ2xlIC0gYi5hbmdsZTtcbiAgICB9KTtcblxuICAgIGxldCBzZWdtZW50UHJpb3JpdHlRdWV1ZSA9IG5ldyBCaW5hcnlIZWFwPFNlZ21lbnQ+KChhLCBiKSA9PiBzZWdtZW50THQoYSwgYiwgcG9zKSk7XG5cbiAgICAvLyBQb3B1bGF0ZSB0aGUgcHJpb3JpdHkgcXVldWUgTyhObG9nKE4pKVxuICAgIC8vIFRoZSBwcmlvcml0eSBxdWV1ZSBzaG91bGQgYWxyZWFkeSBoYXZlIGFsbCB0aGUgc2VnbWVudCBpdCBjb2xsaWRlcyB3aXRoLCBidXQgZG8gbm90IGZlYXIgYXNcbiAgICAvLyB0aGUgbWF0aCBpcyBxdWl0ZSBzaW1wbGUgYW5kIHN0cmFpZ2h0Zm9yd2FyZDpcbiAgICAvLyBXZSBzaG91bGQgY2hlY2sgdGhhdCB0aGUgc2VnbWVudCBjb2xsaWRlcyB3aXRoIHRoZSBsaW5lIHRoYXQgc3RhcnRzIGF0IHBvcyBhbmQgaGFzIGFuZ2xlID0gLU1hdGguUEkuXG4gICAgLy8gVG8gZG8gdGhhdCB3ZSBjYW4ganVzdCBjaGVjayB0aGUgYW5nbGVzIG9mIHRoZSB0d28gZW5kcG9pbnRzIChkcmF3IGl0IGluIGEgcGllY2Ugb2YgcGFwZXIsIGl0J3MgZWFzaWVyIGlmIHNob3duKS5cbiAgICBmb3IgKGxldCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIGxldCBmYSA9IHNlZ21lbnQuZnJvbS5hbmdsZTtcbiAgICAgICAgbGV0IHRhID0gc2VnbWVudC50by5hbmdsZTtcblxuICAgICAgICBsZXQgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaXNBY3RpdmUgfHw9IGZhIDw9IDAgJiYgdGEgPj0gMCAmJiB0YSAtIGZhID4gTWF0aC5QSTtcbiAgICAgICAgaXNBY3RpdmUgfHw9IHRhIDw9IDAgJiYgZmEgPj0gMCAmJiBmYSAtIHRhID4gTWF0aC5QSTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wdXNoKHNlZ21lbnQpO1xuICAgIH1cblxuICAgIGxldCBwb2x5Z29uID0gbmV3IEFycmF5PG51bWJlcj4oKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDspIHtcbiAgICAgICAgLy8gRXh0ZW5kIHNpZ25hbHMgdGhhdCB0aGUgZmlyc3Qgc2VnbWVudCBoYXMgZW5kZWRcbiAgICAgICAgLy8gd2Ugc2hvdWxkIHRoZW4gZXh0ZW5kIHRoZSBwb2x5Z29uIHRvIHRoZSBuZXcgZmlyc3QgdmlzaWJsZSBzZWdtZW50LlxuICAgICAgICBsZXQgZXh0ZW5kID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IG9yaWcgPSBpOy8vIFRoZSBvcmlnaW5hbCBwb2ludCBpbmRleFxuICAgICAgICBsZXQgdmVydGV4ID0gcG9pbnRzW2ldO1xuICAgICAgICBsZXQgb2xkU2VnbWVudCA9IHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKTtcbiAgICAgICAgaWYgKG9sZFNlZ21lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gU2hvdWxkIGJlIGltcG9zc2libGUgYnV0IGJlY29tZXMgcG9zc2libGUgd2hlbiBOYU4gaXMgYXJvdW5kXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBvbGQgc2VnbWVudFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxldCBjdXJyU2VnbWVudCA9IHBvaW50c1tpXS5zZWdtZW50IVxuICAgICAgICAgICAgaWYgKHNlZ21lbnRQcmlvcml0eVF1ZXVlLmhhc0VsZW0oY3VyclNlZ21lbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJTZWdtZW50ID09PSBvbGRTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VnbWVudFByaW9yaXR5UXVldWUucG9wRWxlbShjdXJyU2VnbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnB1c2goY3VyclNlZ21lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBpZiAoaSA9PT0gcG9pbnRzLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgIH0gd2hpbGUgKHBvaW50c1tpXS5hbmdsZSA8IHBvaW50c1tvcmlnXS5hbmdsZSArIEVQU0lMT04pO1xuXG4gICAgICAgIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSEudXNlZCA9IHRydWU7XG4gICAgICAgIGlmIChleHRlbmQpIHtcbiAgICAgICAgICAgIC8vIFZlcnRleCBpcyB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIG9sZCBzZWdtZW50LCB3ZSBuZWVkIHRvIHB1c2ggdGhpcyByaWdodCBhd2F5XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2godmVydGV4LngsIHZlcnRleC55KTtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgICAgICAgICBsZXQgZmlyc3RTZWcgPSBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wZWVrKCkhO1xuICAgICAgICAgICAgaW50ZXJzZWN0TGluZVZzTGluZShmaXJzdFNlZy5mcm9tLCBmaXJzdFNlZy50bywgcG9zLCB2ZXJ0ZXgsIHBvaW50KTtcbiAgICAgICAgICAgIGlmICghKE1hdGguYWJzKHBvaW50LnggLSB2ZXJ0ZXgueCkgPCBFUFNJTE9OICYmIE1hdGguYWJzKHBvaW50LnkgLSB2ZXJ0ZXgueSkgPCBFUFNJTE9OKSkge1xuICAgICAgICAgICAgICAgIHBvbHlnb24ucHVzaChwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzZWdtZW50UHJpb3JpdHlRdWV1ZS5wZWVrKCkgIT0gb2xkU2VnbWVudCkge1xuICAgICAgICAgICAgLy8gQSBuZXcgc2VnbWVudCBoYXMgaGlkZGVuIHRoZSBvbGQgZmlyc3Qgc2VnbWVudC5cbiAgICAgICAgICAgIC8vIEZpcnN0IGNvbXB1dGUgd2hlcmUgdGhlIG9sZCBzZWdtZW50IGhhcyBiZWVuIGhpZGRlbiwgYW5kIHB1c2ggdGhhdCBwb2ludCB0byB0aGUgcG9seWdvblxuICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgICAgIGludGVyc2VjdExpbmVWc0xpbmUob2xkU2VnbWVudC5mcm9tLCBvbGRTZWdtZW50LnRvLCBwb3MsIHZlcnRleCwgcG9pbnQpO1xuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHBvaW50LngsIHBvaW50LnkpO1xuXG4gICAgICAgICAgICAvLyBUaGVuIGNvbXB1dGUgd2hlcmUgdGhlIG5ldyBzZWdtZW50IGludGVyc2VjdHNcbiAgICAgICAgICAgIGxldCBuZXdDbG9zZXN0ID0gc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpITtcbiAgICAgICAgICAgIGxldCBuUG9pbnQ7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMobmV3Q2xvc2VzdC5mcm9tLmFuZ2xlIC0gcG9pbnRzW29yaWddLmFuZ2xlKSA8IEVQU0lMT04pIHtcbiAgICAgICAgICAgICAgICBuUG9pbnQgPSBuZXdDbG9zZXN0LmZyb207XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5Qb2ludCA9IG5ld0Nsb3Nlc3QudG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShNYXRoLmFicyhwb2ludC54IC0gblBvaW50LngpIDwgRVBTSUxPTiAmJiBNYXRoLmFicyhwb2ludC55IC0gblBvaW50LnkpIDwgRVBTSUxPTikpIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uLnB1c2goblBvaW50LngsIG5Qb2ludC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9seWdvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGUocG9zOiBQb2ludCwgaW5TZWdtZW50czogTGluZVtdKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgbGV0IHNlZ21lbnRzID0gbmV3IEFycmF5PFNlZ21lbnQ+KGluU2VnbWVudHMubGVuZ3RoKTtcblxuICAgIC8vIE8oTilcbiAgICBmb3IgKGxldCBzZWdtZW50IG9mIGluU2VnbWVudHMpIHtcbiAgICAgICAgbGV0IHMgPSBpbml0U2VnbWVudChzZWdtZW50LmZyb21YLCBzZWdtZW50LmZyb21ZLCBzZWdtZW50LnRvWCwgc2VnbWVudC50b1ksIHBvcyk7XG5cbiAgICAgICAgc2VnbWVudHMucHVzaChzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcHV0ZTAocG9zLCBzZWdtZW50cyk7XG59XG5cbmNvbnN0IElOU0lERSA9IDA7XG5jb25zdCBMRUZUID0gMTtcbmNvbnN0IFJJR0hUID0gMjtcbmNvbnN0IEJPVFRPTSA9IDQ7XG5jb25zdCBUT1AgPSA4O1xuXG5mdW5jdGlvbiBjb21wdXRlT3V0Q29kZShib3g6IEFhYmIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgY29kZSA9IElOU0lERTtcblxuICAgIGlmICAgICAgKHggPCBib3gubWluWCkgY29kZSB8PSBMRUZUO1xuICAgIGVsc2UgaWYgKHggPiBib3gubWF4WCkgY29kZSB8PSBSSUdIVDtcblxuICAgIGlmICAgICAgKHkgPCBib3gubWluWSkgY29kZSB8PSBCT1RUT007XG4gICAgZWxzZSBpZiAoeSA+IGJveC5tYXhZKSBjb2RlIHw9IFRPUDtcblxuICAgIHJldHVybiBjb2RlO1xufVxuXG5mdW5jdGlvbiBjbGlwU2VnbWVudChsaW5lOiBMaW5lLCBhYWJiOiBBYWJiLCBsaWdodDogU3R1cGlkUG9pbnQpOiBTZWdtZW50IHwgdW5kZWZpbmVkIHtcbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2hlbiVFMiU4MCU5M1N1dGhlcmxhbmRfYWxnb3JpdGhtXG4gICAgbGV0IHgwID0gbGluZS5mcm9tWDtcbiAgICBsZXQgeTAgPSBsaW5lLmZyb21ZO1xuICAgIGxldCB4MSA9IGxpbmUudG9YO1xuICAgIGxldCB5MSA9IGxpbmUudG9ZO1xuXG4gICAgbGV0IGNvZGUwID0gY29tcHV0ZU91dENvZGUoYWFiYiwgeDAsIHkwKTtcbiAgICBsZXQgY29kZTEgPSBjb21wdXRlT3V0Q29kZShhYWJiLCB4MSwgeTEpO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKChjb2RlMCB8IGNvZGUxKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gYml0d2lzZSBPUiBpcyAwOiBib3RoIHBvaW50cyBpbnNpZGUgd2luZG93OyB0cml2aWFsbHkgYWNjZXB0IGFuZCBleGl0IGxvb3BcbiAgICAgICAgICAgIHJldHVybiBpbml0U2VnbWVudCh4MCwgeTAsIHgxLCB5MSwgbGlnaHQpO1xuICAgICAgICB9IGVsc2UgaWYgKChjb2RlMCAmIGNvZGUxKSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gZmFpbGVkIGJvdGggdGVzdHMsIHNvIGNhbGN1bGF0ZSB0aGUgbGluZSBzZWdtZW50IHRvIGNsaXBcbiAgICAgICAgICAgIC8vIGZyb20gYW4gb3V0c2lkZSBwb2ludCB0byBhbiBpbnRlcnNlY3Rpb24gd2l0aCBjbGlwIGVkZ2VcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgeCA9IDAsIHkgPSAwO1xuXG4gICAgICAgICAgICAvLyBBdCBsZWFzdCBvbmUgZW5kcG9pbnQgaXMgb3V0c2lkZSB0aGUgY2xpcCByZWN0YW5nbGU7IHBpY2sgaXQuXG4gICAgICAgICAgICBsZXQgY29kZU91dCA9IGNvZGUxID4gY29kZTAgPyBjb2RlMSA6IGNvZGUwO1xuXG4gICAgICAgICAgICAvLyBOb3cgZmluZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50O1xuICAgICAgICAgICAgLy8gdXNlIGZvcm11bGFzOlxuICAgICAgICAgICAgLy8gICBzbG9wZSA9ICh5MSAtIHkwKSAvICh4MSAtIHgwKVxuICAgICAgICAgICAgLy8gICB4ID0geDAgKyAoMSAvIHNsb3BlKSAqICh5bSAtIHkwKSwgd2hlcmUgeW0gaXMgeW1pbiBvciB5bWF4XG4gICAgICAgICAgICAvLyAgIHkgPSB5MCArIHNsb3BlICogKHhtIC0geDApLCB3aGVyZSB4bSBpcyB4bWluIG9yIHhtYXhcbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gd29ycnkgYWJvdXQgZGl2aWRlLWJ5LXplcm8gYmVjYXVzZSwgaW4gZWFjaCBjYXNlLCB0aGVcbiAgICAgICAgICAgIC8vIG91dGNvZGUgYml0IGJlaW5nIHRlc3RlZCBndWFyYW50ZWVzIHRoZSBkZW5vbWluYXRvciBpcyBub24temVyb1xuXG4gICAgICAgICAgICBpZiAoKGNvZGVPdXQgJiBUT1ApICE9PSAwKSB7ICAgICAgICAgICAvLyBwb2ludCBpcyBhYm92ZSB0aGUgY2xpcCB3aW5kb3dcbiAgICAgICAgICAgICAgICB4ID0geDAgKyAoeDEgLSB4MCkgKiAoYWFiYi5tYXhZIC0geTApIC8gKHkxIC0geTApO1xuICAgICAgICAgICAgICAgIHkgPSBhYWJiLm1heFk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChjb2RlT3V0ICYgQk9UVE9NKSAhPT0gMCkgeyAvLyBwb2ludCBpcyBiZWxvdyB0aGUgY2xpcCB3aW5kb3dcbiAgICAgICAgICAgICAgICB4ID0geDAgKyAoeDEgLSB4MCkgKiAoYWFiYi5taW5ZIC0geTApIC8gKHkxIC0geTApO1xuICAgICAgICAgICAgICAgIHkgPSBhYWJiLm1pblk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChjb2RlT3V0ICYgUklHSFQpICE9PSAwKSB7ICAvLyBwb2ludCBpcyB0byB0aGUgcmlnaHQgb2YgY2xpcCB3aW5kb3dcbiAgICAgICAgICAgICAgICB5ID0geTAgKyAoeTEgLSB5MCkgKiAoYWFiYi5tYXhYIC0geDApIC8gKHgxIC0geDApO1xuICAgICAgICAgICAgICAgIHggPSBhYWJiLm1heFg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChjb2RlT3V0ICYgTEVGVCkgIT09IDApIHsgICAvLyBwb2ludCBpcyB0byB0aGUgbGVmdCBvZiBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHkgPSB5MCArICh5MSAtIHkwKSAqIChhYWJiLm1pblggLSB4MCkgLyAoeDEgLSB4MCk7XG4gICAgICAgICAgICAgICAgeCA9IGFhYmIubWluWDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm93IHdlIG1vdmUgb3V0c2lkZSBwb2ludCB0byBpbnRlcnNlY3Rpb24gcG9pbnQgdG8gY2xpcFxuICAgICAgICAgICAgLy8gYW5kIGdldCByZWFkeSBmb3IgbmV4dCBwYXNzLlxuICAgICAgICAgICAgbGV0IGNvZGUgPSBjb21wdXRlT3V0Q29kZShhYWJiLCB4LCB5KTtcbiAgICAgICAgICAgIGlmIChjb2RlT3V0ID09PSBjb2RlMCkge1xuICAgICAgICAgICAgICAgIHgwID0geDtcbiAgICAgICAgICAgICAgICB5MCA9IHk7XG4gICAgICAgICAgICAgICAgY29kZTAgPSBjb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4MSA9IHg7XG4gICAgICAgICAgICAgICAgeTEgPSB5O1xuICAgICAgICAgICAgICAgIGNvZGUxID0gY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVWaWV3cG9ydChsaW5lczogTGluZVtdLCBhYWJiOiBBYWJiLCBsaWdodDogU3R1cGlkUG9pbnQsIHVzZWRMaW5lcz86IG51bWJlcltdKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgLy9jb25zb2xlLmxvZyhcIkxpbmVzOiBcIiArIGxpbmVzLmxlbmd0aCk7XG4gICAgbGV0IHNlZ21lbnRzID0gbmV3IEFycmF5PFNlZ21lbnQ+KCk7XG5cbiAgICBsZXQgbGluZUxlbiA9IGxpbmVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVMZW47IGkrKykge1xuICAgICAgICBsZXQgc2VnbWVudCA9IGNsaXBTZWdtZW50KGxpbmVzW2ldLCBhYWJiLCBsaWdodCk7XG4gICAgICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIChzZWdtZW50IGFzIGFueSkuaW5kZXggPSBpO1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwiRG9uZVwiKTtcbiAgICAvLyBQdXNoIHZpZXdwb3J0IHNlZ21lbnRzOlxuICAgIHNlZ21lbnRzLnB1c2goXG4gICAgICAgIGluaXRTZWdtZW50KGFhYmIubWluWCwgYWFiYi5taW5ZLCBhYWJiLm1pblgsIGFhYmIubWF4WSwgbGlnaHQpLFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1pblgsIGFhYmIubWF4WSwgYWFiYi5tYXhYLCBhYWJiLm1heFksIGxpZ2h0KSxcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5tYXhYLCBhYWJiLm1heFksIGFhYmIubWF4WCwgYWFiYi5taW5ZLCBsaWdodCksXG4gICAgICAgIGluaXRTZWdtZW50KGFhYmIubWF4WCwgYWFiYi5taW5ZLCBhYWJiLm1pblgsIGFhYmIubWluWSwgbGlnaHQpLFxuICAgICk7XG5cbiAgICAvL2NvbnNvbGUubG9nKFwiU0VHTUVOVFM6IFwiLCBzZWdtZW50cyk7XG5cbiAgICBsZXQgcG9seSA9IGNvbXB1dGUwKGxpZ2h0LCBzZWdtZW50cyk7XG5cbiAgICBpZiAodXNlZExpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gQ29tcHV0ZSB3aGF0IGxpbmVzIGhhdmUgYmVlbiB1c2VkXG4gICAgICAgIGxldCBzZWdMZW4gPSBzZWdtZW50cy5sZW5ndGggLSA0O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ0xlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcyA9IHNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHMudXNlZCkgdXNlZExpbmVzLnB1c2goKHMgYXMgYW55KS5pbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcG9seTtcbn1cbiIsIi8vIENvbW1vbiBpbmZvIGFib3V0IHRoZSBncmFwaGljYWwgc3lzdGVtcywgdGhpcyBzaG91bGQgYmUgYSBzZW1pLWFic3RyYWN0aW9uLlxuLy8gTk9ORSBPRiBUSElTIFNIT1VMRCBCRSBTRVJJQUxJWkVEISBUSElTIElTIEFMTCBSVU5USU1FIERFUEVOREFOVCEgREVUQUlMUyBXSUxMIENIQU5HRSBCRVRXRUVOIE1JTk9SIFZFUlNJT05TIVxuXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgQmlnU3RvcmFnZUluZGV4IH0gZnJvbSBcIi4vZWNzL3N5c3RlbXMvYmFjay9iaWdTdG9yYWdlU3lzdGVtXCI7XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFID0gJ3JlbWVtYmVyX2JpdF9ieV9iaXRfdmlzX3VwZGF0ZSc7XG5cbmV4cG9ydCB0eXBlIEdSQVBISUNfVFlQRSA9IFwiZ3JhcGhpY1wiO1xuZXhwb3J0IGNvbnN0IEdSQVBISUNfVFlQRSA9IFwiZ3JhcGhpY1wiO1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgZGlzcGxheTogRGlzcGxheUVsZW1lbnQ7XG4gICAgLy8gV2h5IGRvZXMgdGhpcyBmbGFnIGV4aXN0PyBnb29kIHRoaW5nIHlvdSBhc2tlZCEgV2FsbHMgaGF2ZSBhIHNwZWNpYWwgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgZG9lc1xuICAgIC8vIG5vdCB1c2UgaW1wcmVjaXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24sIHRoZXkgdXNlIGRhdGEgZXh0cmFjdGVkIGZyb20gdGhlIHZpc2liaWxpdHkgcG9seWdvbiBhbGdvcml0aG0uXG4gICAgLy8gSWYgeW91IHRoaW5rIGFib3V0IGl0IGEgYml0IGl0J3Mgbm90IHRoYXQgZmFyLWZldGNoZWQsIHRoZSBhbGdvcml0aG0gY29tcHV0ZXMgYWxsIG9mIHRoZSB2aXNpYmlsaXR5IHBhdGhzLCBpdFxuICAgIC8vIHNob3VsZCBhbHNvIGtub3cgd2hhdCB3YWxscyBhcmUgYmVpbmcgdXNlZCAoYW5kIHdlIGdldCB0aGF0IGluZm8gZm9yIGZyZWUhKS5cbiAgICBpc1dhbGw/OiB0cnVlO1xuICAgIGludGVyYWN0aXZlOiBib29sZWFuOy8vIFdoZW4gdHJ1ZSB0aGlzIGVsZW1lbnQgd2lsbCBiZSBhZGRlZCB0byB0aGUgSW50ZXJhY3Rpb24gc3lzdGVtXG59XG5cbmV4cG9ydCBlbnVtIEVsZW1lbnRUeXBlIHtcbiAgICBDT05UQUlORVIsXG4gICAgSU1BR0UsXG4gICAgTElORSxcbiAgICBQT0lOVCxcbiAgICBURVhULFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc3BsYXlFbGVtZW50IGV4dGVuZHMgVmlzaWJpbGl0eU9wdGlvbnMge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlO1xuICAgIHRhZz86IHN0cmluZzsvLyB1c2VkIHNvbWV0aW1lcyB0byBkaWZmZXJlbnRpYXRlIGVsZW1lbnRzIGJldHdlZW4gc3lzdGVtc1xuICAgIGlnbm9yZTogYm9vbGVhbjtcbiAgICBwcmlvcml0eTogbnVtYmVyOy8vIChpZ25vcmVkIGlmIHRleHQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMpXG4gICAgb2Zmc2V0PzogUElYSS5JUG9pbnREYXRhO1xuICAgIGNoaWxkcmVuPzogRGlzcGxheUVsZW1lbnRbXTtcbiAgICAvLyBUaGVzZSBhcmUgYWtpbiB0byBmdW5jdGlvbiBjYWxscywgdXBvbiB1cGRhdGluZyB0aGUgc3lzdGVtIGluIGNoYXJnZSBvZlxuICAgIC8vIEdVSSBlZGl0aW5nIHdpbGwgYWRkL3JlbW92ZS9yZXBsYWNlIHRoZSBjaGlsZHJlbnMgY29udGFpbmVkXG4gICAgX2NoaWxkcmVuQWRkPzogRGlzcGxheUVsZW1lbnRbXTtcbiAgICBfY2hpbGRyZW5SZW1vdmU/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIF9jaGlsZHJlblJlcGxhY2U/OiBEaXNwbGF5RWxlbWVudFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuY2hvcmFibGVFbGVtZW50IHtcbiAgICBhbmNob3I6IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2xvcmFibGVFbGVtZW50IHtcbiAgICBjb2xvcjogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBWaXNpYmlsaXR5VHlwZSB7XG4gICAgLy8gWW91IG9ubHkgc2VlIG9uZSB0aGluZyB3aGVuIHlvdSBzZWUgaXQhIHNlZW1zIHN0dXBpZCBidXQgeW91IGNhbiBhbHNvIHJlbWVtYmVyIHRoaW5nc1xuICAgIE5PUk1BTCxcbiAgICAvLyBBIHBsYXllciBjYW4gYWx3YXlzIHNlZSBpdHNlbGYsIGV2ZW4gd2l0aCBubyBsaWdodCwgXCJJIHRoaW5rIHRoZXJlZm9yZSBJIGFtXCJcbiAgICBBTFdBWVNfVklTSUJMRSxcbiAgICAvLyBZb3UnbGwgcmVtZW1iZXIgb25jZSB5b3Ugc2VlIGl0XG4gICAgUkVNRU1CRVIsXG4gICAgLy8gVXNlZCBpbiBpbWFnZXMsIHlvdSBvbmx5IHJlbWVtYmVyIHdoYXQgeW91IHNlZSEgKG9ubHkgc3VwcG9ydCBpbWFnZXMgZm9yIG5vdylcbiAgICBSRU1FTUJFUl9CSVRfQllfQklULFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlPcHRpb25zIHtcbiAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGU7XG59XG5cbi8vIFJlYWwgY29tcG9uZW50c1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuQ09OVEFJTkVSO1xufVxuXG5leHBvcnQgZW51bSBJbWFnZVNjYWxlTW9kZSB7XG4gICAgLy8gMSBwaXhlbCA9IDEqc2NhbGUgcGl4ZWxzXG4gICAgUkVBTCxcbiAgICAvLyAxIHBpeGVsID0gMSpncmlkU2l6ZSpzY2FsZSBwaXhlbHNcbiAgICBHUklELFxufVxuXG4vLyBUT0RPOiBjcmVhdGUgYSBzaGFyZWQgcmVzb3VyY2VzIHJlc291cmNlIGFuZCBwdXQgdGV4dHVyZXMgaW4gdGhlbSAodGhlbiBwdXQgYmFja2dyb3VuZHMgaW4gaXQhKS5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIEFuY2hvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRTtcbiAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGU7XG4gICAgdGV4dHVyZTogUElYSS5UZXh0dXJlO1xuICAgIHNoYXJlZFRleHR1cmU/OiB0cnVlOy8vIElmIHRoaXMgZmllbGQgaXMgcHJlc2VudCB0aGUgdGV4dHVyZSB3b24ndCBiZSBkZXN0cm95ZWRcbiAgICB0aW50OiBudW1iZXI7XG4gICAgLy8gT3V0cHV0IG9mIHRoZSB2aXNpYmxlIGltYWdlLCBvbmx5IGF2YWlsYWJsZSBpZiB2aXNpYj1SRU1FTUJFUl9CSVRfQllfQklUIGFuZCBpdCdzIGFuIGltYWdlXG4gICAgLy8gdXBkYXRlZCB3aGVuIHRoZSBlbnRpdHkgaXMgc2VyaWFsaXplZCwgd2hlbiBpdCBpcyBFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFIGlzIGZpcmVkIHdpdGggYSBsaXN0XG4gICAgLy8gb2YgdXBkYXRlZCBlbnRpdGllcy5cbiAgICB2aXNNYXA/OiBVaW50OEFycmF5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLkxJTkU7XG4gICAgdmVjOiBQSVhJLklQb2ludERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLlBPSU5UO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIEFuY2hvcmFibGVFbGVtZW50LCBDb2xvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5URVhUO1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBsaW5lQWxpZ24/OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7XG59XG4iLCJpbXBvcnQge1N0YWdlfSBmcm9tIFwiLi9waGFzZS9zdGFnZVwiO1xuXG5pbXBvcnQge0hvbWVQaGFzZX0gZnJvbSBcIi4vcGhhc2UvaG9tZVBoYXNlXCI7XG5cbmltcG9ydCB7RXZlbnRFbWl0dGVyV3JhcHBlcn0gZnJvbSBcIi4vdXRpbC9ldmVudEVtaXR0ZXJXcmFwcGVyXCI7XG5cbmltcG9ydCBWdWUgZnJvbSAndnVlJ1xuaW1wb3J0IHsgQm9vdHN0cmFwVnVlIH0gZnJvbSAnYm9vdHN0cmFwLXZ1ZSdcblxuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9jc3MvYWxsLmNzcydcbmltcG9ydCAnQGZvcnRhd2Vzb21lL2ZvbnRhd2Vzb21lLWZyZWUvanMvYWxsLmpzJ1xuXG5WdWUudXNlKEJvb3RzdHJhcFZ1ZSlcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFB1YmxpY1xuXG5pbXBvcnQgXCJQdWJsaWMvc3R5bGUuY3NzXCI7XG5pbXBvcnQge0NsaWVudEVkaXRNYXBQaGFzZX0gZnJvbSBcIi4vcGhhc2UvZWRpdE1hcC9jbGllbnRFZGl0TWFwUGhhc2VcIjtcbmltcG9ydCB7bG9hZEFzc2V0c30gZnJvbSBcIi4vYXNzZXRzTG9hZGVyXCI7XG5pbXBvcnQge0xvYWRpbmdQaGFzZX0gZnJvbSBcIi4vcGhhc2UvbG9hZGluZ1BoYXNlXCI7XG5cbmV4cG9ydCBjb25zdCB3aW5kb3dFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyV3JhcHBlcigoZXZlbnQsIGVtaXR0ZXIpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZGF0YSA9PiB7XG4gICAgICAgIGVtaXR0ZXIuZW1pdChldmVudCwgZGF0YSk7XG4gICAgfSk7XG59KTtcblxuLy8gTWFpblxuZXhwb3J0IGNvbnN0IHN0YWdlID0gbmV3IFN0YWdlKFwibWFpblwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uSGFzaENoYW5nZSgpIHtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgY29uc3Qgcm9vbUlkID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpOy8vIFJlbW92ZSAjXG4gICAgICAgIGlmIChyb29tSWQuc3RhcnRzV2l0aCgndCcpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpbmcgd2l0aDogdG9ycmVudFwiKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBDbGllbnRFZGl0TWFwUGhhc2Uocm9vbUlkLnN1YnN0cigxKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIGhhc2hcIilcbiAgICAgICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBIb21lUGhhc2UoKSk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBIb21lUGhhc2UoKSk7XG4gICAgfVxufVxuXG4oYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBkbmRtZTogXCIgKyBfX0NPTU1JVF9IQVNIX18pO1xuXG4gICAgc3RhZ2Uuc2V0UGhhc2UobmV3IExvYWRpbmdQaGFzZSgpKTtcblxuICAgIGF3YWl0IGxvYWRBc3NldHMoKTtcblxuICAgIG9uSGFzaENoYW5nZSgpO1xuXG4gICAgd2luZG93Lm9uaGFzaGNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJIYXNoIGNoYW5nZVwiICsgbG9jYXRpb24uaGFzaCk7XG4gICAgICAgIG9uSGFzaENoYW5nZSgpO1xuICAgIH1cbn0pKCk7XG4iLCJpbXBvcnQge01hcExldmVsfSBmcm9tIFwiLi9tYXBMZXZlbFwiO1xuXG5pbXBvcnQge2RlY29kZSwgZW5jb2RlfSBmcm9tIFwiQG1zZ3BhY2svbXNncGFja1wiO1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcCB7XG4gICAgc3RhdGljIFNFUl9WRVJTSU9OID0gJzEuMCc7XG5cbiAgICBsZXZlbHMgPSBuZXcgTWFwPG51bWJlciwgTWFwTGV2ZWw+KCk7XG5cblxuICAgIHByaXZhdGUgY3JlYXRlRGF0YUpzb24oKTogVWludDhBcnJheSB7XG4gICAgICAgIGxldCBsZXZlbHM6IHsgW2lkOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IFtpZCwgbGV2ZWxdIG9mIHRoaXMubGV2ZWxzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgbGV2ZWxzW2lkXSA9IGxldmVsLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBHYW1lTWFwLlNFUl9WRVJTSU9OLFxuICAgICAgICAgICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBlbmNvZGUoZGF0YSk7XG4gICAgfVxuXG4gICAgc2F2ZVRvRmlsZSgpOiBQcm9taXNlPEJsb2I+IHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZURhdGFKc29uKCk7XG4gICAgICAgIGxldCB6aXAgPSBuZXcgSlNaaXAoKTtcbiAgICAgICAgemlwLmZpbGUoXCJkYXRhLm1zZ3BhY2tcIiwgZGF0YSk7XG4gICAgICAgIHJldHVybiB6aXAuZ2VuZXJhdGVBc3luYyh7XG4gICAgICAgICAgICB0eXBlOiBcImJsb2JcIixcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiAnREVGTEFURScsXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBicm93c2VyIGZyb20gcmVuYW1pbmcgdGhlIGV4dGVuc2lvblxuICAgICAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBsb2FkRnJvbUZpbGUoZnJvbTogRmlsZSk6IFByb21pc2U8R2FtZU1hcD4ge1xuICAgICAgICBsZXQgemlwID0gYXdhaXQgSlNaaXAubG9hZEFzeW5jKGZyb20pO1xuICAgICAgICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWFuYWdlbWVudFxuICAgICAgICBsZXQgZmlsZSA9IGF3YWl0IHppcC5maWxlKFwiZGF0YS5tc2dwYWNrXCIpIS5hc3luYygnYXJyYXlidWZmZXInKTtcbiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBkZWNvZGUoZmlsZSkgYXMgYW55O1xuXG4gICAgICAgIGlmIChkYXRhWyd2ZXJzaW9uJ10gIT09IHRoaXMuU0VSX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmVyc2lvbiBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZ2FtZU1hcCA9IG5ldyBHYW1lTWFwKCk7XG5cbiAgICAgICAgbGV0IGxldmVsc0RhdGEgPSBkYXRhW1wibGV2ZWxzXCJdO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBsZXZlbHNEYXRhKSB7XG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSBsZXZlbHNEYXRhW2lkXTtcbiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBNYXBMZXZlbC5kZXNlcmlhbGl6ZShwYXJzZUludChpZCksIGxldmVsKTtcbiAgICAgICAgICAgIGdhbWVNYXAubGV2ZWxzLnNldChyZXMuaWQsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdhbWVNYXA7XG4gICAgfVxufSIsImltcG9ydCB7U2VyaWFsaXplZFdvcmxkLCBXb3JsZH0gZnJvbSBcIi4uL2Vjcy93b3JsZFwiO1xuXG5leHBvcnQgY2xhc3MgTWFwTGV2ZWwge1xuICAgIGlkOiBudW1iZXI7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBlY3M/OiBTZXJpYWxpemVkV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBsb2FkSW50byhlY3M6IFdvcmxkKTogdm9pZCB7XG4gICAgICAgIGVjcy5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5lY3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWNzLmRlc2VyaWFsaXplKHRoaXMuZWNzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlRnJvbShlY3M6IFdvcmxkKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWNzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVjcyA9IGVjcy5zZXJpYWxpemUoe1xuICAgICAgICAgICAgcmVxdWlyZVNhdmU6IHRydWUsXG4gICAgICAgICAgICByZXNvdXJjZXM6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgZWNzOiB0aGlzLmVjc1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGlkOiBudW1iZXIsIGRhdGE6IGFueSk6IE1hcExldmVsIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBNYXBMZXZlbChpZCk7XG4gICAgICAgIHJlcy5uYW1lID0gZGF0YVsnbmFtZSddO1xuICAgICAgICByZXMuZWNzID0gZGF0YVsnZWNzJ107XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxufSIsImltcG9ydCBTaW1wbGVQZWVyIGZyb20gXCJzaW1wbGUtcGVlclwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHsgV1REaXNjb3ZlcnkgfSBmcm9tIFwiLi9XVERpc2NvdmVyeVwiO1xuaW1wb3J0IHsgZW5jb2RlLCBkZWNvZGUgfSBmcm9tIFwiQG1zZ3BhY2svbXNncGFja1wiO1xuaW1wb3J0IHsgYmFzZTY0VXJsVG9CdWZmZXIsIGJ1ZmZlclRvQmFzZTY0VXJsLCByYW5kb21ieXRlcyB9IGZyb20gXCIuLi8uLi91dGlsL2pzb2JqXCI7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XG5cbmRlY2xhcmUgbW9kdWxlICdzaW1wbGUtcGVlcicge1xuICAgIGludGVyZmFjZSBJbnN0YW5jZSB7XG4gICAgICAgIF9wYzogUlRDUGVlckNvbm5lY3Rpb24gfCBudWxsO1xuICAgICAgICBfY2hhbm5lbDogUlRDRGF0YUNoYW5uZWwgfCBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIZWFkZXIgc3RydWN0dXJlOlxuICogZmxhZ3M6IDEgYnl0ZVxuICogZnJvbTogNCBieXRlc1xuICogdG86IDQgYnl0ZXMgKC0xID0gYnJvYWRjYXN0KVxuICogcGFydGlhbF9zaXplOiA0IGJ5dGVzIChvbmx5IGlmIGZsYWdzIGNvbnRhaW5zIFBBUlRJQUwpXG4gKlxuICovXG5lbnVtIENodW5rRmxhZ3Mge1xuICAgIFBBUlRJQUwgICAgID0gMSA8PCAwLFxufVxuY29uc3QgTUlOX0hFQURFUl9MRU5HVEggPSAxICsgNCArIDQ7XG5jb25zdCBSRUNFSVZFUl9CUk9BRENBU1QgPSAweEZGRkZfRkZGRjtcblxuY29uc3QgRU5ESUFORVNTID0gdHJ1ZTtcblxuaW50ZXJmYWNlIFBlZXJEYXRhIHtcbiAgICBwZWVySWQ6IHN0cmluZztcbiAgICBpZDogbnVtYmVyO1xuICAgIHNvY2tldDogU2ltcGxlUGVlci5JbnN0YW5jZTtcbiAgICBhZnRlclNlbmRCb3VuZGVkOiAoZTogRXJyb3IgfCB1bmRlZmluZWQgfCBudWxsKSA9PiB2b2lkLFxuICAgIHNlbmRpbmc6IGJvb2xlYW47XG4gICAgcGFja2V0czogVWludDhBcnJheVtdO1xuICAgIHBhcnRpYWw/OiB7XG4gICAgICAgIGluZGV4OiBudW1iZXI7XG4gICAgICAgIHNpemU6IG51bWJlcjtcbiAgICAgICAgaW5mbzogUGFja2V0SW5mbztcbiAgICAgICAgLy8gVGhhdCdzIGFuIFhPUiBiZXR3ZWVuIGJ1ZmZlciBhbmQgZm9yd2FyZFRvLFxuICAgICAgICAvLyBidXQgdHlwZXNjcmlwdCB3b24ndCBsZXQgbWUgd3JpdGUgdGhpcyBpbiBhblxuICAgICAgICAvLyBhbGdlYnJhaWMgdHlwZS5cbiAgICAgICAgYnVmZmVyPzogVWludDhBcnJheSxcbiAgICAgICAgZm9yd2FyZFRvPzogbnVtYmVyLFxuICAgIH0sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFja2V0SW5mbyB7XG4gICAgaXNCcm9hZGNhc3Q6IGJvb2xlYW47XG4gICAgc2VuZGVySWQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBXZWJSVEMgZGF0YSBjaGFubmVsIGxpbWl0IGJleW9uZCB3aGljaCBkYXRhIGlzIHNwbGl0IGludG8gY2h1bmtzXG4gKiBDaG9zZSAxNktCIGNvbnNpZGVyaW5nIENocm9taXVtXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViUlRDX0FQSS9Vc2luZ19kYXRhX2NoYW5uZWxzI0NvbmNlcm5zX3dpdGhfbGFyZ2VfbWVzc2FnZXNcbiAqL1xuY29uc3QgTUFYX01FU1NBR0VfTEVOR1RIID0gMTYzMDA7XG5cbmV4cG9ydCBjbGFzcyBXVENoYW5uZWwge1xuICAgIHJlYWRvbmx5IGRpc2NvdmVyeTogV1REaXNjb3Zlcnk7XG4gICAgcmVhZG9ubHkgZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKTtcbiAgICByZWFkb25seSBwYWNrZXRzOiBTYWZlRXZlbnRFbWl0dGVyID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKTtcbiAgICBjb25uZWN0ZWRTZWNyZXQ6IEJ1ZmZlcjtcblxuICAgIGNvbm5lY3Rpb25zID0gbmV3IE1hcDxudW1iZXIsIFBlZXJEYXRhPigpO1xuICAgIHByaXZhdGUgbmV4dElkOiBudW1iZXIgPSAtMTtcbiAgICBteUlkOiBudW1iZXIgPSAtMTtcbiAgICBwcml2YXRlIHBlZXJzID0gbmV3IE1hcDxzdHJpbmcsIFBlZXJEYXRhPigpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkU2VjcmV0ID0gQnVmZmVyLmZyb20oW10pO1xuICAgICAgICB0aGlzLmRpc2NvdmVyeSA9IG5ldyBXVERpc2NvdmVyeSgpO1xuICAgICAgICB0aGlzLmRpc2NvdmVyeS5vblBlZXJDYWxsYmFjayA9IHRoaXMub25QZWVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGlzY292ZXJ5Lm9uVHJhY2tlckNvbm5lY3Rpb25Db3VudEVkaXQgPSAoYzogbnVtYmVyKSA9PiB0aGlzLmV2ZW50cy5lbWl0KCd0cmFja2VyX2Nvbm5lY3Rpb25zJywgYyk7XG4gICAgfVxuXG4gICAgc3RhcnRNYXN0ZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkU2VjcmV0ID0gcmFuZG9tYnl0ZXMoMjApO1xuICAgICAgICB0aGlzLmRpc2NvdmVyeS5zdGFydCh0cnVlLCB0aGlzLmNvbm5lY3RlZFNlY3JldC50b1N0cmluZygnaGV4JykpO1xuICAgICAgICB0aGlzLm15SWQgPSAwO1xuICAgICAgICB0aGlzLm5leHRJZCA9IDE7XG4gICAgfVxuXG4gICAgc3RhcnRDbGllbnQoY29ubmVjdFRvOiBCdWZmZXIgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25uZWN0VG8gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbm5lY3RUbyA9IGJhc2U2NFVybFRvQnVmZmVyKGNvbm5lY3RUbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0ZWRTZWNyZXQgPSBjb25uZWN0VG87XG4gICAgICAgIHRoaXMuZGlzY292ZXJ5LnN0YXJ0KGZhbHNlLCBjb25uZWN0VG8udG9TdHJpbmcoJ2hleCcpKTtcbiAgICB9XG5cbiAgICBnZXRDb25uZWN0U2VjcmV0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBidWZmZXJUb0Jhc2U2NFVybCh0aGlzLmNvbm5lY3RlZFNlY3JldCk7XG4gICAgfVxuXG4gICAgc2VuZChkYXRhOiBvYmplY3QsIHRvOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmVjZWl2ZXIgPSB0aGlzLmNvbm5lY3Rpb25zLmdldCh0byk7XG4gICAgICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCByZWNpdmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGUoZGF0YSk7XG4gICAgICAgIHRoaXMuc2VuZFJhdyhlbmNvZGVkLCByZWNlaXZlcik7XG4gICAgfVxuXG4gICAgYnJvYWRjYXN0KGRhdGE6IG9iamVjdCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNlbmRSYXcoZW5jb2RlKGRhdGEpKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc2NvdmVyeS5zdG9wKCk7XG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wZWVycy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcC5zb2NrZXQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZW5kUmF3KGRhdGE6IFVpbnQ4QXJyYXksIG9ubHlUbz86IFBlZXJEYXRhKTogdm9pZCB7XG4gICAgICAgIC8vIFdlIGRvbid0IGhhdmUgdG8gd29ycnkgaGVyZSBhYm91dCBmb3J3YXJkZWQgcGFja2V0c1xuICAgICAgICAvLyB0aGV5IGFyZSBoYW5kbGVkIG9uIHRoZSByZWNlaXZpbmcgZW5kLlxuICAgICAgICBpZiAoZGF0YS5ieXRlTGVuZ3RoIDw9IE1BWF9NRVNTQUdFX0xFTkdUSCAtIE1JTl9IRUFERVJfTEVOR1RIKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBuZXcgVWludDhBcnJheShkYXRhLmJ5dGVMZW5ndGggKyBNSU5fSEVBREVSX0xFTkdUSCk7XG4gICAgICAgICAgICBwYWNrZXQuc2V0KGRhdGEsIE1JTl9IRUFERVJfTEVOR1RIKTtcblxuICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhwYWNrZXQuYnVmZmVyKTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDEsIHRoaXMubXlJZCwgRU5ESUFORVNTKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0UmF3KHBhY2tldCwgb25seVRvKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBZYWF5LCBsZXQncyBzcGxpdCB0aGluZ3MhXG4gICAgICAgIGNvbnN0IHBhY2tldCA9IG5ldyBVaW50OEFycmF5KE1BWF9NRVNTQUdFX0xFTkdUSCk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcocGFja2V0LmJ1ZmZlcik7XG4gICAgICAgIHBhY2tldFswXSA9IENodW5rRmxhZ3MuUEFSVElBTDtcbiAgICAgICAgdmlldy5zZXRVaW50MzIoMSwgdGhpcy5teUlkLCBFTkRJQU5FU1MpO1xuICAgICAgICB2aWV3LnNldFVpbnQzMihNSU5fSEVBREVSX0xFTkdUSCwgZGF0YS5sZW5ndGgsIEVORElBTkVTUylcblxuICAgICAgICBsZXQgc2VudCA9IE1BWF9NRVNTQUdFX0xFTkdUSCAtIE1JTl9IRUFERVJfTEVOR1RIIC0gNDtcbiAgICAgICAgcGFja2V0LnNldChkYXRhLnN1YmFycmF5KDAsIHNlbnQpLCBNSU5fSEVBREVSX0xFTkdUSCArIDQpO1xuICAgICAgICB0aGlzLnNlbmRQYWNrZXRSYXcocGFja2V0LCBvbmx5VG8sIHRydWUpO1xuXG4gICAgICAgIHdoaWxlIChzZW50IDwgZGF0YS5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJhcnIgPSBkYXRhLnN1YmFycmF5KHNlbnQsIHNlbnQgKyBNQVhfTUVTU0FHRV9MRU5HVEgpO1xuICAgICAgICAgICAgc2VudCArPSBzdWJhcnIuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuc2VuZFBhY2tldFJhdyhzdWJhcnIsIG9ubHlUbywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZW5kUGFja2V0UmF3KHBhY2tldDogVWludDhBcnJheSwgb25seVRvPzogUGVlckRhdGEsIGFkanVzdEZsYWdzOiBib29sZWFuID0gdHJ1ZSwgYnJvYWRjYXN0RXhjbGRlPzogUGVlckRhdGEpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2VuZFJhdyA9ICh4OiBQZWVyRGF0YSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgaWYgKHguc2VuZGluZykge1xuICAgICAgICAgICAgICAgIHgucGFja2V0cy5wdXNoKHBhY2tldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHguc2VuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgeC5zb2NrZXQud3JpdGUocGFja2V0LCB1bmRlZmluZWQsIHguYWZ0ZXJTZW5kQm91bmRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGRhdGFWaWV3ID0gYWRqdXN0RmxhZ3MgPyBuZXcgRGF0YVZpZXcocGFja2V0LmJ1ZmZlciwgcGFja2V0LmJ5dGVPZmZzZXQpIDogbnVsbDtcblxuICAgICAgICBpZiAob25seVRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGFWaWV3Py5zZXRVaW50MzIoMSArIDQsIFJFQ0VJVkVSX0JST0FEQ0FTVCwgRU5ESUFORVNTKTtcbiAgICAgICAgICAgIGZvciAobGV0IHggb2YgdGhpcy5wZWVycy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBicm9hZGNhc3RFeGNsZGUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHNlbmRSYXcoeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhVmlldz8uc2V0VWludDMyKDEgKyA0LCBvbmx5VG8uaWQsIEVORElBTkVTUyk7XG5cbiAgICAgICAgICAgIHNlbmRSYXcob25seVRvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWZ0ZXJEYXRhU2VuZChwZWVyOiBQZWVyRGF0YSwgZTogRXJyb3IgfCBudWxsIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG5leHREYXRhID0gcGVlci5wYWNrZXRzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChuZXh0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZWVyLnNlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZWVyLnNvY2tldC53cml0ZShuZXh0RGF0YSwgdW5kZWZpbmVkLCBwZWVyLmFmdGVyU2VuZEJvdW5kZWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QZWVyKHBlZXI6IFNpbXBsZVBlZXIuSW5zdGFuY2UsIHBlZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBwZWVySWQsXG4gICAgICAgICAgICBpZDogdGhpcy5kaXNjb3ZlcnkuaXNNYXN0ZXIgPyB0aGlzLm5leHRJZCsrIDogMCxcbiAgICAgICAgICAgIHNvY2tldDogcGVlcixcbiAgICAgICAgICAgIHBhY2tldHM6IFtdLFxuICAgICAgICAgICAgc2VuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBhZnRlclNlbmRCb3VuZGVkOiBfID0+IHt9LFxuICAgICAgICB9IGFzIFBlZXJEYXRhO1xuICAgICAgICBkYXRhLmFmdGVyU2VuZEJvdW5kZWQgPSBlID0+IHRoaXMuYWZ0ZXJEYXRhU2VuZChkYXRhLCBlKTtcbiAgICAgICAgdGhpcy5wZWVycy5zZXQocGVlcklkLCBkYXRhKTtcblxuICAgICAgICBwZWVyLm9uY2UoJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNjb3ZlcnkuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBwZWVyLnNlbmQoJycgKyBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICBwb3N0Qm9vdHN0cmFwKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY292ZXJ5LnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcG9zdEJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KGRhdGEuaWQsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZGV2aWNlX2pvaW4nLCBkYXRhLmlkKTtcblxuICAgICAgICAgICAgcGVlci5vbignZGF0YScsIChjaHVuazogVWludDhBcnJheSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25QZWVyRGF0YShkYXRhLCBjaHVuayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXNjb3ZlcnkuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHBlZXIub25jZSgnZGF0YScsIChjaHVuazogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5teUlkID0gcGFyc2VJbnQoY2h1bmspO1xuICAgICAgICAgICAgICAgIHBvc3RCb290c3RyYXAoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuXG4gICAgICAgIHBlZXIub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiUGVlciBjbG9zZWRcIik7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLmRlbGV0ZShkYXRhLmlkKTtcbiAgICAgICAgICAgIHRoaXMucGVlcnMuZGVsZXRlKHBlZXJJZCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdkZXZpY2VfbGVmdCcsIGRhdGEuaWQpO1xuICAgICAgICAgICAgLy8gUmUtbGlzdGVuIGZvciBtYXN0ZXJcbiAgICAgICAgICAgIHRoaXMuZGlzY292ZXJ5LnJlc3VtZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwZWVyLm9uKCdlcnJvcicsIChlOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBlZXIgZXJyb3JcIiwgZSk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBlZXJEYXRhKHBlZXI6IFBlZXJEYXRhLCBjaHVuazogVWludDhBcnJheSk6IHZvaWQge1xuICAgICAgICBpZiAocGVlci5wYXJ0aWFsKSB7XG4gICAgICAgICAgICB0aGlzLm9uUGFydGlhbERhdGEocGVlciwgY2h1bmspO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmxhZ3MgPSBjaHVua1swXTtcbiAgICAgICAgY29uc3QgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIsIGNodW5rLmJ5dGVPZmZzZXQpO1xuICAgICAgICBjb25zdCBzZW5kZXIgICA9IGhlYWRlclZpZXcuZ2V0VWludDMyKDEgICAgLCBFTkRJQU5FU1MpO1xuICAgICAgICBjb25zdCByZWNlaXZlciA9IGhlYWRlclZpZXcuZ2V0VWludDMyKDEgKyA0LCBFTkRJQU5FU1MpO1xuICAgICAgICBsZXQgaGVhZGVyID0gTUlOX0hFQURFUl9MRU5HVEg7XG5cbiAgICAgICAgbGV0IHBrdEluZm8gPSB7XG4gICAgICAgICAgICBpc0Jyb2FkY2FzdDogcmVjZWl2ZXIgPT09IFJFQ0VJVkVSX0JST0FEQ0FTVCxcbiAgICAgICAgICAgIHNlbmRlcklkOiBzZW5kZXIsXG4gICAgICAgIH0gYXMgUGFja2V0SW5mbztcblxuICAgICAgICBjb25zdCBuZWVkc0ZvcndhcmQgPSByZWNlaXZlciAhPT0gdGhpcy5teUlkICYmICFwa3RJbmZvLmlzQnJvYWRjYXN0O1xuXG4gICAgICAgIGlmIChmbGFncyAmIENodW5rRmxhZ3MuUEFSVElBTCkge1xuICAgICAgICAgICAgbGV0IHNpemUgPSBoZWFkZXJWaWV3LmdldFVpbnQzMihoZWFkZXIsIEVORElBTkVTUyk7XG4gICAgICAgICAgICBwZWVyLnBhcnRpYWwgPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgYnVmZmVyOiAhbmVlZHNGb3J3YXJkID8gbmV3IFVpbnQ4QXJyYXkoc2l6ZSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaW5mbzogcGt0SW5mbyxcbiAgICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGhlYWRlciArPSA0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5lZWRzRm9yd2FyZCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2NvdmVyeS5pc01hc3Rlcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFza2V0IGEgbm9uLW1hc3RlciB0byBmb3J3YXJkXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlY3YgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChyZWNlaXZlcik7XG4gICAgICAgICAgICBpZiAocmVjdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQXNrZWQgdG8gZm9yd2FyZCB0byB1bmtub3duIHBlZXJcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBlZXIucGFydGlhbCkge1xuICAgICAgICAgICAgICAgIHBlZXIucGFydGlhbC5mb3J3YXJkVG8gPSByZWNlaXZlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0UmF3KGNodW5rLCByZWN2LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kaXNjb3ZlcnkuaXNNYXN0ZXIgJiYgcGt0SW5mby5pc0Jyb2FkY2FzdCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0UmF3KGNodW5rLCB1bmRlZmluZWQsIGZhbHNlLCBwZWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwZWVyLnBhcnRpYWwpIHtcbiAgICAgICAgICAgIHRoaXMub25QYXJ0aWFsRGF0YShwZWVyLCBjaHVuay5zdWJhcnJheShoZWFkZXIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25NZXNzYWdlKGNodW5rLnN1YmFycmF5KGhlYWRlciksIHBrdEluZm8pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QYXJ0aWFsRGF0YShwZWVyOiBQZWVyRGF0YSwgY2h1bms6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFwZWVyLnBhcnRpYWwpIHRocm93IG5ldyBFcnJvcignd3Jvbmcgc3RhdGU6IG5vciBwYXJ0aWFsJyk7XG5cbiAgICAgICAgbGV0IG9sZEluZGV4ID0gcGVlci5wYXJ0aWFsLmluZGV4O1xuICAgICAgICBwZWVyLnBhcnRpYWwuaW5kZXggKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICBjb25zdCBpc0RvbmUgPSBwZWVyLnBhcnRpYWwuc2l6ZSA8PSBwZWVyLnBhcnRpYWwuaW5kZXg7XG5cbiAgICAgICAgaWYgKHBlZXIucGFydGlhbC5idWZmZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGVlci5wYXJ0aWFsLmJ1ZmZlci5zZXQoY2h1bmssIG9sZEluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChwZWVyLnBhcnRpYWwuZm9yd2FyZFRvISEpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnNlbmRQYWNrZXRSYXcoY2h1bmssIHRhcmdldCwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICAgICAgaWYgKHBlZXIucGFydGlhbC5zaXplIDwgcGVlci5wYXJ0aWFsLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGFydGlhbCBpcyBsb25nZXIgdGhhbiBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGFydGlhbCA9IHBlZXIucGFydGlhbDtcbiAgICAgICAgICAgIHBlZXIucGFydGlhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChwYXJ0aWFsLmJ1ZmZlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2UocGFydGlhbC5idWZmZXIsIHBhcnRpYWwuaW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTWVzc2FnZShidWZmZXI6IFVpbnQ4QXJyYXksIGluZm86IFBhY2tldEluZm8pIHtcbiAgICAgICAgbGV0IG9iajtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IGRlY29kZShidWZmZXIpIGFzIGFueTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlY2VpdmVkIHdyb25nIGRhdGFcIiwgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdtZXNzYWdlJywgb2JqLCBpbmZvKTtcbiAgICAgICAgY29uc3QgcGFja2V0VHlwZSA9IG9iai50eXBlO1xuICAgICAgICBpZiAocGFja2V0VHlwZSAmJiB0eXBlb2YgcGFja2V0VHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMucGFja2V0cy5lbWl0KHBhY2tldFR5cGUsIG9iaiwgaW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IFNpbXBsZVBlZXIgZnJvbSBcInNpbXBsZS1wZWVyXCI7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XG5pbXBvcnQgeyByYW5kb21ieXRlcyB9IGZyb20gXCIuLi8uLi91dGlsL2pzb2JqXCI7XG5pbXBvcnQge09mZmVyRmlsdGVyRGF0YSwgVHJhY2tlckNvbmZpZywgV2ViVG9ycmVudFRyYWNrZXJ9IGZyb20gXCIuL1dlYlRvcnJlbnRUcmFja2VyXCI7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9uZ29zYW5nL3RyYWNrZXJzbGlzdC9ibG9iL21hc3Rlci90cmFja2Vyc19hbGxfd3MudHh0XG5jb25zdCBUUkFDS0VSUyA9IFtcbiAgICAvLyd3czovL2xvY2FsaG9zdDo4MDAwJyxcbiAgICAnd3NzOi8vdHJhY2tlci5vcGVud2VidG9ycmVudC5jb20nLFxuICAgICd3c3M6Ly90cmFja2VyLmJ0b3JyZW50Lnh5eicsXG4gICAgJ3dzczovL3RyYWNrZXIuZmlsZXMuZm06NzA3My9hbm5vdW5jZScsXG4gICAgLy8nd3NzOi8vc3BhY2V0cmFkZXJzYXBpLWNoYXRib3guaGVyb2t1YXBwLmNvbTo0NDMvYW5ub3VuY2UnLFxuICAgIC8vJ3dzczovL3BlZXJ0dWJlLmNweS5yZTo0NDMvdHJhY2tlci9zb2NrZXQnLFxuXVxuXG5jb25zdCBXQUlUSU5HX0ZPUl9JTklUID0ge307XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2ZmZXJEYXRhIHtcbiAgICBtYXN0ZXI/OiB0cnVlLFxufVxuXG5leHBvcnQgY2xhc3MgV1REaXNjb3Zlcnkge1xuICAgIHByaXZhdGUgdHJhY2tlckNvbmZpZzogVHJhY2tlckNvbmZpZztcbiAgICByZWFkb25seSBwZWVySWQ6IHN0cmluZztcbiAgICBwZWVycyA9IG5ldyBNYXA8c3RyaW5nLCBTaW1wbGVQZWVyLkluc3RhbmNlIHwgdHlwZW9mIFdBSVRJTkdfRk9SX0lOSVQ+KCk7XG4gICAgY29ubmVjdGVkVHJhY2tlcnM6IG51bWJlcjtcbiAgICBvblBlZXJDYWxsYmFjazogKHBlZXI6IFNpbXBsZVBlZXIuSW5zdGFuY2UsIHBlZXJJZDogc3RyaW5nKSA9PiB2b2lkID0gKCkgPT4ge307XG4gICAgb25UcmFja2VyQ29ubmVjdGlvbkNvdW50RWRpdDogKGNvdW50OiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAgIGlzTWFzdGVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNQYXVzZWQgPSB0cnVlO1xuICAgIHRyYWNrZXJzOiB7W3RyYWNrZXJVcmw6IHN0cmluZ106IFdlYlRvcnJlbnRUcmFja2VyfSA9IHt9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGxldCBwZWVySWQgPSByYW5kb21ieXRlcygyMCk7XG4gICAgICAgIHRoaXMudHJhY2tlckNvbmZpZyA9IHtcbiAgICAgICAgICAgIHBlZXJJZEJpbmFyeTogcGVlcklkLnRvU3RyaW5nKCdiaW5hcnknKSxcbiAgICAgICAgICAgIGluZm9IYXNoQmluYXJ5OiAnJyxcbiAgICAgICAgICAgIGRlZkFubm91bmNlT3B0aW9uczoge30sXG4gICAgICAgICAgICBwZWVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxDb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9mZmVyRGF0YToge30sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGVlcklkID0gcGVlcklkLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRUcmFja2VycyA9IDA7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0SW5mb0hhc2goc3RyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cik7XG4gICAgICAgIGNvbnN0IGRpZ2VzdCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMScsIGJ1ZmZlcik7XG5cbiAgICAgICAgLy8gQ29udmVydCBkaWdlc3QgdG8gaGV4IHN0cmluZ1xuICAgICAgICB0aGlzLnRyYWNrZXJDb25maWcuaW5mb0hhc2hCaW5hcnkgPSBCdWZmZXIuZnJvbShkaWdlc3QpLnRvU3RyaW5nKCdiaW5hcnknKTtcbiAgICB9XG5cbiAgICBhZGRUcmFja2VyKHRyYWNrZXJVcmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodHJhY2tlclVybCBpbiB0aGlzLnRyYWNrZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhY2tlciA9IG5ldyBXZWJUb3JyZW50VHJhY2tlcih0cmFja2VyVXJsLCB0aGlzLnRyYWNrZXJDb25maWcpO1xuICAgICAgICB0aGlzLnRyYWNrZXJzW3RyYWNrZXJVcmxdID0gdHJhY2tlcjtcbiAgICAgICAgdHJhY2tlci5ldmVudHMub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVHJhY2tlciBjb25uZWN0aW9uIGVzdGFibGlzaGVkICcgKyB0cmFja2VyVXJsKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkVHJhY2tlcnMrKztcbiAgICAgICAgICAgIHRoaXMub25UcmFja2VyQ29ubmVjdGlvbkNvdW50RWRpdCh0aGlzLmNvbm5lY3RlZFRyYWNrZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNrZXIuZXZlbnRzLm9uKCdkaXNjb25uZWN0JywgKGV2OiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWNrZXIgY2xvc2VkXCIsIGV2KTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkVHJhY2tlcnMtLTtcbiAgICAgICAgICAgIHRoaXMub25UcmFja2VyQ29ubmVjdGlvbkNvdW50RWRpdCh0aGlzLmNvbm5lY3RlZFRyYWNrZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNrZXIuZXZlbnRzLm9uKCdlcnJvcicsIHggPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVHJhY2tlciBlcnJvcicsIHgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2tlci5ldmVudHMub24oJ29mZmVyX2ZpbHRlcicsIChlOiBPZmZlckZpbHRlckRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmICgoISEoZS5vZmZlciBhcyBPZmZlckRhdGEpLm1hc3RlcikgPT09IHRoaXMuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9mZmVyIHJlamVjdGVkIChub24tbWFzdGVyKTogXCIgKyBlLm9mZmVyKTtcbiAgICAgICAgICAgICAgICBlLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGVlcnMuaGFzKGUucGVlcklkKSkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaGF2ZSBvbmVcbiAgICAgICAgICAgICAgICBlLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPZmZlciByZWplY3RlZCAoYWxyZWFkeSBwcmVzZW50KTogXCIgKyBlLm9mZmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlZXJzLnNldChlLnBlZXJJZCwgV0FJVElOR19GT1JfSU5JVCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFja2VyLmV2ZW50cy5vbignb2ZmZXJfdGltZW91dCcsIChwZWVySWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgLy8gc29tZW9uZSBwYXNzZWQgb2ZmZXJfZmlsdGVyLCByZWNlaXZlZCBhbiBhbnN3ZXIgYnV0IGRpZG4ndCByZXBseSBiYWNrXG4gICAgICAgICAgICB0aGlzLnBlZXJzLmRlbGV0ZShwZWVySWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2tlci5ldmVudHMub24oJ3BlZXInLCAocGVlcjogU2ltcGxlUGVlci5JbnN0YW5jZSwgcGVlcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFBlZXJEYXRhID0gdGhpcy5wZWVycy5nZXQocGVlcklkKTtcbiAgICAgICAgICAgIGlmIChvbGRQZWVyRGF0YSAhPT0gdW5kZWZpbmVkICYmIG9sZFBlZXJEYXRhICE9PSBXQUlUSU5HX0ZPUl9JTklUKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk9wZW5lZCBhbm90aGVyIHNvY2tldCBmb3IgYW4gYWxyZWFkeSBjb25uZWN0ZWQgcGVlclwiKTtcbiAgICAgICAgICAgICAgICBwZWVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGVlciBjb25uZWN0ZWQnLCBwZWVySWQpO1xuICAgICAgICAgICAgdGhpcy5wZWVycy5zZXQocGVlcklkLCBwZWVyKTtcbiAgICAgICAgICAgIHBlZXIub25jZSgnY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNYXN0ZXIgY29ubmVjdGVkLCBwYXVzaW5nLlwiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uUGVlckNhbGxiYWNrKHBlZXIsIHBlZXJJZCk7XG4gICAgICAgICAgICBwZWVyLm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGVlcnMuZGVsZXRlKHBlZXJJZCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2tlci5ldmVudHMub24oJ3dhcm5pbmcnLCB4ID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybignd2FybmluZycsIHgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwYXVzZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgdHJhY2tlck5hbWUgaW4gdGhpcy50cmFja2Vycykge1xuICAgICAgICAgICAgY29uc3QgdHJhY2tlciA9IHRoaXMudHJhY2tlcnNbdHJhY2tlck5hbWVdO1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0cmFja2VyLnN0b3AoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHt9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc3VtZVRyYWNrZXIodHJhY2tlcjogV2ViVG9ycmVudFRyYWNrZXIpOiB2b2lkIHtcbiAgICAgICAgdHJhY2tlci5zdGFydCgpO1xuICAgICAgICB0cmFja2VyLmFubm91bmNlKHtcbiAgICAgICAgICAgIGV2ZW50OiAnc3RhcnRlZCcsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc3VtZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUGF1c2VkKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCB0cmFja2VyTmFtZSBpbiB0aGlzLnRyYWNrZXJzKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFja2VyID0gdGhpcy50cmFja2Vyc1t0cmFja2VyTmFtZV07XG4gICAgICAgICAgICB0aGlzLnJlc3VtZVRyYWNrZXIodHJhY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzdGFydChpc01hc3RlcjogYm9vbGVhbiwgaWRlbnRpZmllcjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuaXNNYXN0ZXIgPSBpc01hc3RlcjtcbiAgICAgICAgdGhpcy50cmFja2VyQ29uZmlnLmRlZkFubm91bmNlT3B0aW9ucy5udW13YW50ID0gaXNNYXN0ZXIgPyAwIDogMTA7XG4gICAgICAgIHRoaXMudHJhY2tlckNvbmZpZy5vZmZlckRhdGEubWFzdGVyID0gaXNNYXN0ZXI7XG4gICAgICAgIHRoaXMuc2V0SW5mb0hhc2goaWRlbnRpZmllcik7XG4gICAgICAgIGZvciAobGV0IHVybCBvZiBUUkFDS0VSUykge1xuICAgICAgICAgICAgdGhpcy5hZGRUcmFja2VyKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBzdG9wKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBhdXNlKCk7XG4gICAgICAgIHRoaXMudHJhY2tlcnMgPSB7fTtcbiAgICB9XG59IiwiaW1wb3J0IFNpbXBsZVBlZXIgZnJvbSAnc2ltcGxlLXBlZXInO1xuaW1wb3J0IHtyYW5kb21ieXRlc30gZnJvbSBcIi4uLy4uL3V0aWwvanNvYmpcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gJy4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlcic7XG5cbmludGVyZmFjZSBPZmZlciB7XG4gICAgb2ZmZXI6IGFueTtcbiAgICBvZmZlcl9pZDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQW5ub3VuY2VSZXNwb25zZSB7XG4gICAgaW5mb19oYXNoOiBzdHJpbmc7XG4gICAgcGVlcl9pZD86IHN0cmluZztcbiAgICAnZmFpbHVyZSByZWFzb24nPzogc3RyaW5nO1xuICAgICd3YXJuaW5nIG1lc3NhZ2UnPzogc3RyaW5nO1xuICAgIGludGVydmFsPzogbnVtYmVyO1xuICAgICdtaW4gaW50ZXJ2YWwnPzogbnVtYmVyO1xuICAgICd0cmFja2VyIGlkJz86IHN0cmluZztcbiAgICBjb21wbGV0ZTogYW55O1xuICAgIG9mZmVyczogQXJyYXk8T2ZmZXI+O1xuICAgIG9mZmVyOiBhbnk7XG4gICAgb2ZmZXJfaWQ6IHN0cmluZztcbiAgICB0cmFja2VySWQ6IGFueTtcbiAgICBhbnN3ZXI6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPZmZlckZpbHRlckRhdGEge1xuICAgIHBlZXJJZDogc3RyaW5nO1xuICAgIG9mZmVyOiBhbnk7XG4gICAgLy8gc2V0IHRoaXMgdG8gZmFsc2UgdG8gZGVjbGluZSB0aGUgb2ZmZXJcbiAgICBjb250aW51ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZWVyRXZlbnREYXRhIHtcbiAgICBwZWVySWQ6IHN0cmluZztcbiAgICBwZWVyOiBTaW1wbGVQZWVyLkluc3RhbmNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFubm91bmNlT3B0aW9ucyB7XG4gICAgbnVtd2FudD86IG51bWJlcjtcbiAgICBldmVudD86ICdzdGFydGVkJyB8ICdzdG9wcGVkJyB8ICdjb21wbGV0ZWQnIHwgJ3VwZGF0ZSc7XG59XG5cbmludGVyZmFjZSBDb25uZWN0aW5nUGVlciB7XG4gICAgcGVlcj86IFNpbXBsZVBlZXIuSW5zdGFuY2U7XG4gICAgb2ZmZXJUaW1lb3V0PzogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrZXJDb25maWcge1xuICAgIHBlZXJPcHRpb25zOiBTaW1wbGVQZWVyLk9wdGlvbnNcbiAgICBwZWVySWRCaW5hcnk6IHN0cmluZztcbiAgICBpbmZvSGFzaEJpbmFyeTogc3RyaW5nO1xuICAgIGRlZkFubm91bmNlT3B0aW9uczogQW5ub3VuY2VPcHRpb25zO1xuICAgIG9mZmVyRGF0YTogYW55O1xufVxuXG5jb25zdCBSRUNPTk5FQ1RfTUlOSU1VTSA9IDUgKiAxMDAwO1xuY29uc3QgUkVDT05ORUNUX01BWElNVU0gPSA2MCAqIDEwMDA7XG5jb25zdCBSRUNPTk5FQ1RfVkFSSUFOQ0UgPSAxMCAqIDEwMDA7XG5jb25zdCBPRkZFUl9USU1FT1VUID0gMzAgKiAxMDAwO1xuXG4vKlxuICogUHJvdG9jb2w6IDMtd2F5IGhhbmRzaGFrZVxuICogb3JpZ2luYWxseSB0aGVyZSB3YXMgb25seSBhIDItd2F5IGhhbmRzaGFrZTpcbiAqIGNsaWVudCBBIC0tLW9mZmVyIC0tPiBjbGllbnQgQiAob2ZmZXIgPSBXZWJSVEMgb2ZmZXIpXG4gKiBjbGllbnQgQSA8LS1hbnN3ZXItLS0gY2xpZW50IEIgKGFuc3dlciA9IFdlYlJUQyBhbnN3ZXIpXG4gKiBjb25uZWN0aW9uIGVzdGFibGlzaGVkXG4gKlxuICogYnV0IGFmdGVyIHRoZSBvZmZlciB0aGUgY2xpZW50IG1pZ2h0IG5vdCBjb250aW51ZSB0aGUgYW5zd2VyLFxuICogbWF5YmUgYmVjYXVzZSBpdCdzIGFscmVhZHkgY29ubmVjdGVkIG9yIGJlY2F1c2UgaXQncyBzZWFyY2hpbmcgc29tZW9uZSBlbHNlLlxuICogU28gdGhlIFdlYlJUQyBvZmZlciB3aWxsIGJlIHdhc3RlZCAoYW5kIHRoYXQncyBhIGJpdCBvZiB3YXN0ZSBpbiByZXNvdXJjZSkuXG4gKlxuICogVG8gbWl0aWdhdGUgdGhpcyB3ZSdsbCBtYWtlIHRoZSBhY3R1YWwgb2ZmZXIgb25seSBhZnRlciB3ZSdyZSBzdXJlIHRoYXQgdGhlXG4gKiBjbGllbnQgd2lsbCByZWNlaXZlIGl0LlxuICogQSAtLS1vZmZlciAtLT4gQiAgKG9mZmVyID0gY3VzdG9tIGRhdGEpXG4gKiBBIDwtLWFuc3dlci0tLSBCICAoYW5zd2VyPVdlYlJUQyBvZmZlcilcbiAqIEEgLS0tYW5zd2VyLS0+IEIgIChhbnN3ZXI9V2ViUlRDIHJlc3BvbnNlKVxuICpcbiAqIFRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3RvcmUgYW55IGRhdGEgcmVnYXJkaW5nIG9mZmVycy9hbnN3ZXJzIHNvIHRoaXMgaXMgY29tcGF0aWJsZS5cbiAqIEFib3V0IHRoZSBjcm9zcy1jbGllbnQgY29tcGF0aWJpbGl0eTogd2UgZG9uJ3QgaGF2ZSB3b3JrIHdpdGggcmVhbCB3ZWJ0b3JyZW50IGNsaWVudHMuXG4gKlxuICovXG5cbmV4cG9ydCBjbGFzcyBXZWJUb3JyZW50VHJhY2tlciB7XG4gICAgcmVhZG9ubHkgY29uZmlnOiBUcmFja2VyQ29uZmlnO1xuICAgIGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcjtcbiAgICBpc0Nvbm5lY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgYW5ub3VuY2VVcmw6IHN0cmluZztcbiAgICBzb2NrZXQ/OiBXZWJTb2NrZXQ7XG4gICAgZGVzdHJveWVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBleHBlY3RpbmdSZXNwb25zZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSByZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICBwcml2YXRlIHJlY29ubmVjdFJldHJpZXMgPSAwO1xuICAgIHByaXZhdGUgcmVjb25uZWN0VGltZXI6IGFueSA9IG51bGw7XG5cbiAgICB0cmFja2VySWQ6IGFueTtcbiAgICBwcml2YXRlIGludGVydmFsOiBhbnk7XG4gICAgcHJpdmF0ZSBjb25uZWN0aW5nUGVlcnM6IHtbaWQ6IHN0cmluZ106IENvbm5lY3RpbmdQZWVyfTtcblxuICAgIGNvbnN0cnVjdG9yKGFubm91bmNlVXJsOiBzdHJpbmcsIGNvbmZpZzogVHJhY2tlckNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5hbm5vdW5jZVVybCA9IGFubm91bmNlVXJsO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmdQZWVycyA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnNvY2tldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHN0YXJ0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuU29ja2V0KCk7XG4gICAgfVxuXG4gICAgc2V0SW50ZXJ2YWwoaW50ZXJ2YWxNczogbnVtYmVyIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgICAgIGlmIChpbnRlcnZhbE1zID09IG51bGwpIGludGVydmFsTXMgPSAzMCAqIDEwMDAgLy8gMzAgc2Vjb25kc1xuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgICAgICBpZiAoaW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFubm91bmNlKClcbiAgICAgICAgICAgIH0sIGludGVydmFsTXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc3RvcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5hbm5vdW5jZSh7IGV2ZW50OiAnc3RvcHBlZCcgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkgcmV0dXJuIHJlc29sdmUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZGlzY29ubmVjdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lcik7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGVlcklkIGluIHRoaXMuY29ubmVjdGluZ1BlZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVlciA9IHRoaXMuY29ubmVjdGluZ1BlZXJzW3BlZXJJZF07XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBlZXIub2ZmZXJUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBwZWVyLnBlZXI/LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGluZ1BlZXJzID0ge31cblxuICAgICAgICAgICAgbGV0IHNvY2tldCA9IHRoaXMuc29ja2V0O1xuICAgICAgICAgICAgaWYgKCFzb2NrZXQpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICBzb2NrZXQub25vcGVuID0gbm9vcDtcbiAgICAgICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBub29wO1xuICAgICAgICAgICAgc29ja2V0Lm9uY2xvc2UgPSBub29wO1xuICAgICAgICAgICAgc29ja2V0Lm9uZXJyb3IgPSBub29wO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCB8fCBzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NJTkcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb2NrZXQub25jbG9zZSA9ICgpID0+IHJlc29sdmUoKTtcblxuICAgICAgICAgICAgbGV0IHRpbWVvdXQ6IGFueTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSByZXNwb25zZSBleHBlY3RlZCwgZGVzdHJveSBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgIGlmICghdGhpcy5leHBlY3RpbmdSZXNwb25zZSkgcmV0dXJuIGRlc3Ryb3lDbGVhbnVwKCk7XG5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2FpdCBhIHNob3J0IHRpbWUgZm9yIHBvdGVudGlhbCByZXNwb25zZXMgdG8gY29tZSBpbiBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gc2VydmVyLCB0aGVuIGZvcmNlIGNsb3NlIHRoZSBzb2NrZXQuXG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChkZXN0cm95Q2xlYW51cCwgMTAwMCk7XG5cbiAgICAgICAgICAgIC8vIEJ1dCwgaWYgYSByZXNwb25zZSBjb21lcyBmcm9tIHRoZSBzZXJ2ZXIgYmVmb3JlIHRoZSB0aW1lb3V0IGZpcmVzLCBkbyBjbGVhbnVwXG4gICAgICAgICAgICAvLyByaWdodCBhd2F5LlxuICAgICAgICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IGRlc3Ryb3lDbGVhbnVwO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBkZXN0cm95Q2xlYW51cCAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQub25tZXNzYWdlID0gbm9vcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0VEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNvY2tldENvbm5lY3QoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29ubmVjdCcpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdGluZykge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0UmV0cmllcyA9IDA7XG4gICAgICAgICAgICB0aGlzLmFubm91bmNlKHt9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgb25Tb2NrZXRFcnJvcihlcnI6IEVycm9yKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiV1RUOiBTb2NrZXQgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICBhd2FpdCB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgLy8gZXJyb3JzIHdpbGwgb2Z0ZW4gaGFwcGVuIGlmIGEgdHJhY2tlciBpcyBvZmZsaW5lLCBzbyBkb24ndCB0cmVhdCBpdCBhcyBmYXRhbFxuICAgICAgICB0aGlzLnN0YXJ0UmVjb25uZWN0aW5nKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNvY2tldERhdGEoY2h1bms6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmV4cGVjdGluZ1Jlc3BvbnNlID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShjaHVuay5kYXRhIGFzIHN0cmluZyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcihcIkludmFsaWQgdHJhY2tlciByZXNwb25zZVwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5hY3Rpb24gPT0gJ2Fubm91bmNlJykge1xuICAgICAgICAgICAgdGhpcy5vbkFubm91bmNlUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5hY3Rpb24gPT09ICdzY3JhcGUnKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25Tb2NrZXRFcnJvcihuZXcgRXJyb3IoYGludmFsaWQgYWN0aW9uIGluIFdTIHJlc3BvbnNlOiAke2RhdGEuYWN0aW9ufWApKVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uU29ja2V0Q2xvc2UoZXY6IENsb3NlRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVHJhY2tlciBjbG9zZWRcIiwgZXYpO1xuICAgICAgICBhd2FpdCB0aGlzLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLnN0YXJ0UmVjb25uZWN0aW5nKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydFJlY29ubmVjdGluZygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbXMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBSRUNPTk5FQ1RfVkFSSUFOQ0UpICsgTWF0aC5taW4oTWF0aC5wb3coMiwgdGhpcy5yZWNvbm5lY3RSZXRyaWVzKSAqIFJFQ09OTkVDVF9NSU5JTVVNLCBSRUNPTk5FQ1RfTUFYSU1VTSlcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlY29ubmVjdGluZyBpbiBcIiArIG1zIC8gMTAwMCk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlY29ubmVjdGluZy4uLlwiKTtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0UmV0cmllcysrO1xuICAgICAgICAgICAgdGhpcy5vcGVuU29ja2V0KCk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9XG5cbiAgICBhbm5vdW5jZShvcHRpb25zOiBBbm5vdW5jZU9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQgfHwgdGhpcy5yZWNvbm5lY3RpbmcpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5zb2NrZXQ/LnJlYWR5U3RhdGUgIT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoJ2Nvbm5lY3QnLCAoKSA9PiB0aGlzLmFubm91bmNlKG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkFubm91bmNpbmc6IFwiICsgQnVmZmVyLmZyb20odGhpcy5jb25maWcuaW5mb0hhc2hCaW5hcnksICdiaW5hcnknKS50b1N0cmluZygnaGV4JykpO1xuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYWN0aW9uOiAnYW5ub3VuY2UnLFxuICAgICAgICAgICAgaW5mb19oYXNoOiB0aGlzLmNvbmZpZy5pbmZvSGFzaEJpbmFyeSxcbiAgICAgICAgICAgIHBlZXJfaWQ6IHRoaXMuY29uZmlnLnBlZXJJZEJpbmFyeSxcbiAgICAgICAgfSwgdGhpcy5jb25maWcuZGVmQW5ub3VuY2VPcHRpb25zLCBvcHRpb25zKSBhcyBhbnk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhY2tlcklkKSBwYXJhbXMudHJhY2tlcklkID0gdGhpcy50cmFja2VySWQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZXZlbnQgIT09ICdzdG9wcGVkJyAmJiBvcHRpb25zLmV2ZW50ICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcGFyYW1zLm51bXdhbnQgPSBvcHRpb25zLm51bXdhbnQgPz8gMTA7XG4gICAgICAgICAgICBjb25zdCBvZmZlcnMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubnVtd2FudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9mZmVySWQgPSByYW5kb21ieXRlcygyMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW5nUGVlcnNbb2ZmZXJJZC50b1N0cmluZygnaGV4JyldID0ge31cbiAgICAgICAgICAgICAgICBvZmZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9mZmVyX2lkOiBvZmZlcklkLnRvU3RyaW5nKCdiaW5hcnknKSxcbiAgICAgICAgICAgICAgICAgICAgb2ZmZXI6IHRoaXMuY29uZmlnLm9mZmVyRGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyYW1zLm9mZmVycyA9IG9mZmVycztcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiAgT2ZmZXJzOiBcIiArIEpTT04uc3RyaW5naWZ5KHBhcmFtcy5vZmZlcnMpKTtcblxuICAgICAgICB0aGlzLnNlbmQocGFyYW1zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uQW5ub3VuY2VSZXNwb25zZShkYXRhOiBBbm5vdW5jZVJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJBbm5vdW5jZSByZXNwb25zZTogXCIgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIGlmIChkYXRhLmluZm9faGFzaCAhPT0gdGhpcy5jb25maWcuaW5mb0hhc2hCaW5hcnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5wZWVyX2lkICYmIGRhdGEucGVlcl9pZCA9PT0gdGhpcy5jb25maWcucGVlcklkQmluYXJ5KSB7XG4gICAgICAgICAgICAvLyBpZ25vcmUgb2ZmZXJzL2Fuc3dlcnMgZnJvbSB0aGlzIGNsaWVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZhaWx1cmUgPSBkYXRhWydmYWlsdXJlIHJlYXNvbiddO1xuICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgdGhpcy5vblNvY2tldEVycm9yKG5ldyBFcnJvcihmYWlsdXJlKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3YXJuaW5nID0gZGF0YVsnd2FybmluZyBtZXNzYWdlJ107XG4gICAgICAgIGlmICh3YXJuaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCd3YXJuaW5nJywgbmV3IEVycm9yKHdhcm5pbmcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGludGVydmFsID0gZGF0YS5pbnRlcnZhbCB8fCBkYXRhWydtaW4gaW50ZXJ2YWwnXTtcbiAgICAgICAgaWYgKGludGVydmFsKSB0aGlzLnNldEludGVydmFsKGludGVydmFsICogMTAwMCk7XG5cbiAgICAgICAgY29uc3QgdHJhY2tlcklkID0gZGF0YVsndHJhY2tlciBpZCddO1xuICAgICAgICBpZiAodHJhY2tlcklkKSB7XG4gICAgICAgICAgICAvLyBJZiBhYnNlbnQsIGRvIG5vdCBkaXNjYXJkIHByZXZpb3VzIHRyYWNrZXJJZCB2YWx1ZVxuICAgICAgICAgICAgdGhpcy50cmFja2VySWQgPSB0cmFja2VySWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5vZmZlciAmJiBkYXRhLnBlZXJfaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBlZXJJZCA9IEJ1ZmZlci5mcm9tKGRhdGEucGVlcl9pZCwgJ2JpbmFyeScpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICBwZWVySWQsXG4gICAgICAgICAgICAgICAgb2ZmZXI6IGRhdGEub2ZmZXIsXG4gICAgICAgICAgICAgICAgY29udGludWU6IHRydWUsXG4gICAgICAgICAgICB9IGFzIE9mZmVyRmlsdGVyRGF0YTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ29mZmVyX2ZpbHRlcicsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoIWV2ZW50RGF0YS5jb250aW51ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGlzY2FyZGluZyBvZmZlclwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMuY3JlYXRlSW5pdFBlZXIocGVlcklkLCBCdWZmZXIuZnJvbShkYXRhLm9mZmVyX2lkLCAnYmluYXJ5JyksIHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdhbm5vdW5jZScsXG4gICAgICAgICAgICAgICAgaW5mb19oYXNoOiB0aGlzLmNvbmZpZy5pbmZvSGFzaEJpbmFyeSxcbiAgICAgICAgICAgICAgICBwZWVyX2lkOiB0aGlzLmNvbmZpZy5wZWVySWRCaW5hcnksXG4gICAgICAgICAgICAgICAgdG9fcGVlcl9pZDogZGF0YS5wZWVyX2lkLFxuICAgICAgICAgICAgICAgIGFuc3dlcjogb2ZmZXIsXG4gICAgICAgICAgICAgICAgb2ZmZXJfaWQ6IGRhdGEub2ZmZXJfaWQsXG4gICAgICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrZXJJZCkgcGFyYW1zLnRyYWNrZXJJZCA9IHRoaXMudHJhY2tlcklkO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkFuc3dlcmluZyBvZmZlclwiKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZChwYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuYW5zd2VyICYmIGRhdGEucGVlcl9pZCkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJlY2VpdmVkIGFuc3dlclwiKTtcbiAgICAgICAgICAgIGNvbnN0IG9mZmVySWQgPSBCdWZmZXIuZnJvbShkYXRhLm9mZmVyX2lkLCAnYmluYXJ5JykudG9TdHJpbmcoJ2hleCcpO1xuXG4gICAgICAgICAgICBsZXQgb2ZmZXJEYXRhID0gdGhpcy5jb25uZWN0aW5nUGVlcnNbb2ZmZXJJZF07XG4gICAgICAgICAgICBjb25zdCBwZWVySWQgPSBCdWZmZXIuZnJvbShkYXRhLnBlZXJfaWQsICdiaW5hcnknKS50b1N0cmluZygnaGV4Jyk7XG5cbiAgICAgICAgICAgIGlmIChvZmZlckRhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnd2FybmluZycsIG5ldyBFcnJvcihcIkdvdCBhbnN3ZXIgZm9yIHVua25vd24gb2ZmZXIgZnJvbSBcIiArIHBlZXJJZCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW5nUGVlcnNbb2ZmZXJJZF07XG4gICAgICAgICAgICBpZiAob2ZmZXJEYXRhLnBlZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJSZWNlaXZlZCBzZWNvbmRcIik7XG4gICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgdGhlIHNlY29uZCBtZXNzYWdlIG9mIHRoZSAzLXdheSBoYW5kc2hha2UhXG4gICAgICAgICAgICAgICAgY29uc3QgcGVlciA9IHRoaXMuY3JlYXRlUGVlcih7fSk7XG4gICAgICAgICAgICAgICAgcGVlci5vbmNlKCdzaWduYWwnLCBhbnN3ZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdhbm5vdW5jZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvX2hhc2g6IHRoaXMuY29uZmlnLmluZm9IYXNoQmluYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVlcl9pZDogdGhpcy5jb25maWcucGVlcklkQmluYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9fcGVlcl9pZDogZGF0YS5wZWVyX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJfaWQ6IGRhdGEub2ZmZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFja2VySWQpIHBhcmFtcy50cmFja2VySWQgPSB0aGlzLnRyYWNrZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTZW5kaW5nIHRoaXJkIG1lc3NhZ2VcIik7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwZWVyLnNpZ25hbChkYXRhLmFuc3dlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncGVlcicsIHBlZXIsIHBlZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJSZWNlaXZlZCB0aGlyZFwiKTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQob2ZmZXJEYXRhLm9mZmVyVGltZW91dCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwZWVyJywgb2ZmZXJEYXRhLnBlZXIsIHBlZXJJZCk7XG4gICAgICAgICAgICAgICAgb2ZmZXJEYXRhLnBlZXIuc2lnbmFsKGRhdGEuYW5zd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2VuZChkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuZXhwZWN0aW5nUmVzcG9uc2UgPSBkYXRhLmFuc3dlciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIHRoaXMuc29ja2V0ISEuc2VuZChtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVBlZXIob3B0aW9uczoge30pOiBTaW1wbGVQZWVyLkluc3RhbmNlIHtcbiAgICAgICAgY29uc3QgcGVlck9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB0aGlzLmNvbmZpZy5wZWVyT3B0aW9ucyk7XG4gICAgICAgIHBlZXJPcHRzLnRyaWNrbGUgPSBmYWxzZTtcblxuICAgICAgICBsZXQgcGVlciA9IG5ldyBTaW1wbGVQZWVyKHBlZXJPcHRzKTtcblxuICAgICAgICBjb25zdCBvbkVyciA9IChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBwZWVyLmRlc3Ryb3koKTtcbiAgICAgICAgfTtcbiAgICAgICAgcGVlci5vbmNlKCdlcnJvcicsIG9uRXJyKTtcbiAgICAgICAgcGVlci5vbmNlKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgcGVlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGVlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUluaXRQZWVyKHBlZXJJZDogc3RyaW5nLCBvZmZlcklkOiBCdWZmZXIsIG9wdGlvbnM6IHt9KTogUHJvbWlzZTxTaW1wbGVQZWVyLlNpZ25hbERhdGE+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2ZmZXJIZXggPSBvZmZlcklkLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgICAgICAgIGNvbnN0IHBlZXIgPSB0aGlzLmNyZWF0ZVBlZXIoT2JqZWN0LmFzc2lnbih7IGluaXRpYXRvcjogdHJ1ZSB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgIHBlZXIub25jZSgnc2lnbmFsJywgIG9mZmVyID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG9mZmVyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCBvZmZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW5nUGVlcnNbb2ZmZXJIZXhdO1xuICAgICAgICAgICAgICAgIHBlZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ29mZmVyX3RpbWVvdXQnLCBwZWVySWQpO1xuICAgICAgICAgICAgfSwgT0ZGRVJfVElNRU9VVCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbm5QZWVyID0ge1xuICAgICAgICAgICAgICAgIHBlZXIsXG4gICAgICAgICAgICAgICAgb2ZmZXJUaW1lb3V0LFxuICAgICAgICAgICAgfSBhcyBDb25uZWN0aW5nUGVlcjtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGluZ1BlZXJzW29mZmVySGV4XSA9IGNvbm5QZWVyO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5Tb2NrZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLmFubm91bmNlVXJsKTtcbiAgICAgICAgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9ub3BlbiA9IHRoaXMub25Tb2NrZXRDb25uZWN0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMub25Tb2NrZXREYXRhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uU29ja2V0Q2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb2NrZXQub25lcnJvciA9ICgpID0+IHRoaXMub25Tb2NrZXRFcnJvcihuZXcgRXJyb3IoXCJFcnJvciBjb25uZWN0aW5nIHRvIFwiICsgdGhpcy5hbm5vdW5jZVVybCkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG4iLCJpbXBvcnQge1BoYXNlfSBmcm9tIFwiLi9waGFzZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtyZWdpc3RlckNvbW1vblN0b3JhZ2V9IGZyb20gXCIuLi9lY3MvY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBFY3NQaGFzZSBleHRlbmRzIFBoYXNlIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGlzTWFzdGVyOiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLndvcmxkID0gbmV3IFdvcmxkKGlzTWFzdGVyKTtcblxuICAgIH1cblxuICAgIGVjc1NldHVwKCk6IHZvaWQge1xuICAgICAgICByZWdpc3RlckNvbW1vblN0b3JhZ2UodGhpcy53b3JsZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJTeXN0ZW1zKCk7XG4gICAgICAgIHRoaXMud29ybGQucG9wdWxhdGUoKTtcbiAgICB9XG5cbiAgICByZWdpc3RlclN5c3RlbXMoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmVjc1NldHVwKCk7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLndvcmxkLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy53b3JsZC5kZXN0cm95KCk7XG4gICAgfVxufSIsImltcG9ydCB7RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwUGhhc2VcIjtcblxuZXhwb3J0IGNsYXNzIENsaWVudEVkaXRNYXBQaGFzZSBleHRlbmRzIEVkaXRNYXBQaGFzZSB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZykge1xuICAgICAgICBzdXBlcignZWRpdENsaWVudCcsIGlkKTtcbiAgICB9XG59IiwiXG5leHBvcnQgZW51bSBEaXNwbGF5UHJlY2VkZW5jZSB7XG4gICAgQkFDS0dST1VORCA9IDAsXG4gICAgR1JJRCA9IDEwLFxuICAgIFdBTEwgPSAyMTAsXG4gICAgUFJPUCA9IDIyMCxcbiAgICBQSU5TID0gMjMwLFxuICAgIFdBTExfQ1JFQVRPUiA9IDI2MCxcbn1cblxuIiwiaW1wb3J0IEVkaXRNYXBDb21wb25lbnQgZnJvbSBcIi4uLy4uL3VpL2VkaXQvZWRpdE1hcC52dWVcIjtcbmltcG9ydCB7QmFja2dyb3VuZEltYWdlU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFja2dyb3VuZEltYWdlU3lzdGVtXCI7XG5pbXBvcnQge1NlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1BpblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BpblN5c3RlbVwiO1xuaW1wb3J0IHtXYWxsU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvd2FsbFN5c3RlbVwiO1xuaW1wb3J0IHtMaWdodFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1RleHRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3RleHRTeXN0ZW1cIjtcbmltcG9ydCB7VmlzaWJpbGl0eVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0IHtJbnRlcmFjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7UGxheWVyU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge1Zpc2liaWxpdHlBd2FyZVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eUF3YXJlU3lzdGVtXCI7XG5pbXBvcnQge0Rvb3JTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9kb29yU3lzdGVtXCI7XG5pbXBvcnQge1Byb3BTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wcm9wU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlHcmFwaGljU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtUb29sU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge0dyaWRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge0Vjc1BoYXNlfSBmcm9tIFwiLi4vZWNzUGhhc2VcIjtcbmltcG9ydCB7UGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7Q29tbWFuZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZFN5c3RlbVwiO1xuaW1wb3J0IHtDb21tYW5kSGlzdG9yeVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZEhpc3RvcnlTeXN0ZW1cIjtcbmltcG9ydCB7TGF5ZXJTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlSZWN0U2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpUmVjdFNlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtXZWJLZXlib2FyZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2sva2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7Q29tbW9uTmV0d29ya1N5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbmV0d29ya1N5c3RlbVwiO1xuaW1wb3J0IHtQaXhpTWVhc3VyZVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aU1lYXN1cmVTeXN0ZW1cIjtcbmltcG9ydCB7UGl4aUxheWVyU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpTGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7QmlnU3RvcmFnZVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svYmlnU3RvcmFnZVN5c3RlbVwiO1xuaW1wb3J0IHtNb3VzZVRyYWlsU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvbW91c2VUcmFpbFN5c3RlbVwiO1xuaW1wb3J0IHtDb3B5UGFzdGVTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb3B5UGFzdGVTeXN0ZW1cIjtcbmltcG9ydCB7IExpbmtSZWxvY2F0aW9uU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbGlua1JlbG9jYXRpb25TeXN0ZW1cIjtcbmltcG9ydCB7IE5hbWVBc0xhYmVsU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbmFtZUFzTGFiZWxTeXN0ZW1cIjtcbmltcG9ydCB7IFdUQ2hhbm5lbCB9IGZyb20gXCIuLi8uLi9uZXR3b3JrL3dlYnRvcnJlbnQvV1RDaGFubmVsXCI7XG5pbXBvcnQgeyBQbGF5ZXJMb2NhdG9yU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BsYXllckxvY2F0b3JcIjtcblxuXG5leHBvcnQgY2xhc3MgRWRpdE1hcFBoYXNlIGV4dGVuZHMgRWNzUGhhc2Uge1xuICAgIGNoYW5uZWwhOiBXVENoYW5uZWw7XG4gICAgcHJpdmF0ZSByZWFkb25seSBnYW1lSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZ2FtZUlkPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsIGdhbWVJZCA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5nYW1lSWQgPSBnYW1lSWQ7XG4gICAgfVxuXG4gICAgZWNzU2V0dXAoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBOZXR3b3JrTWFuYWdlcigpO1xuXG4gICAgICAgIHN1cGVyLmVjc1NldHVwKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW1zKCkge1xuICAgICAgICBzdXBlci5yZWdpc3RlclN5c3RlbXMoKTtcbiAgICAgICAgbGV0IHcgPSB0aGlzLndvcmxkO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQ29tbW9uTmV0d29ya1N5c3RlbSh3LCB0aGlzLmNoYW5uZWwpKTtcblxuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQ29tbWFuZFN5c3RlbSh3KSk7XG4gICAgICAgIGlmICh3LmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB3LmFkZFN5c3RlbShuZXcgQ29tbWFuZEhpc3RvcnlTeXN0ZW0odykpO1xuICAgICAgICB9XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBXZWJLZXlib2FyZFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBCaWdTdG9yYWdlU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IExpbmtSZWxvY2F0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IExheWVyU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlCb2FyZFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBTZWxlY3Rpb25TeXN0ZW0odykpO1xuICAgICAgICBpZiAody5pc01hc3Rlcikge1xuICAgICAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvcHlQYXN0ZVN5c3RlbSh3KSk7XG4gICAgICAgIH1cbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlSZWN0U2VsZWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlNZWFzdXJlU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFRvb2xTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgTW91c2VUcmFpbFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBHcmlkU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IEludGVyYWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFRleHRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGl4aUdyYXBoaWNTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGl4aUxheWVyU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IE5hbWVBc0xhYmVsU3lzdGVtKHcpKTtcblxuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQmFja2dyb3VuZEltYWdlU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFdhbGxTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgRG9vclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBWaXNpYmlsaXR5U3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFZpc2liaWxpdHlBd2FyZVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaW5TeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUHJvcFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQbGF5ZXJTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGxheWVyTG9jYXRvclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBMaWdodFN5c3RlbSh3KSk7XG4gICAgfVxuXG4gICAgc2V0dXBOZXR3b3JrTWFuYWdlcigpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gbmV3IFdUQ2hhbm5lbCgpO1xuICAgICAgICBpZiAodGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLnN0YXJ0TWFzdGVyKCk7XG4gICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCAnI3QnICsgdGhpcy5jaGFubmVsLmdldENvbm5lY3RTZWNyZXQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuc3RhcnRDbGllbnQodGhpcy5nYW1lSWQhISk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvdmVycmlkZXNcblxuICAgIHVpKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVkaXRNYXBDb21wb25lbnQoe1xuICAgICAgICAgICAgcHJvcHNEYXRhOiB7XG4gICAgICAgICAgICAgICAgd29ybGQ6IHRoaXMud29ybGQsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwUGhhc2VcIjtcbmltcG9ydCB7TmFtZUNvbXBvbmVudCwgUG9zaXRpb25Db21wb25lbnQsIFRyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCB7QmFja2dyb3VuZEltYWdlQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFja2dyb3VuZEltYWdlU3lzdGVtXCI7XG5pbXBvcnQge0dhbWVNYXB9IGZyb20gXCIuLi8uLi9tYXAvZ2FtZU1hcFwiO1xuaW1wb3J0IHtNYXBMZXZlbH0gZnJvbSBcIi4uLy4uL21hcC9tYXBMZXZlbFwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZEtpbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtCSUdfU1RPUkFHRV9UWVBFLCBCaWdTdG9yYWdlU3lzdGVtLCBCaWdFbnRyeUZsYWdzfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9iaWdTdG9yYWdlU3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBIb3N0RWRpdE1hcFBoYXNlIGV4dGVuZHMgRWRpdE1hcFBoYXNlIHtcbiAgICBtYXA6IEdhbWVNYXA7XG4gICAgY3VycmVudExldmVsOiBNYXBMZXZlbDtcblxuICAgIHByaXZhdGUgYmVmb3JlVW5sb2FkTGlzdGVuZXI6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogR2FtZU1hcCkge1xuICAgICAgICBzdXBlcignZWRpdEhvc3QnLCB1bmRlZmluZWQpO1xuXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICBpZiAodGhpcy5tYXAubGV2ZWxzLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tYXAubGV2ZWxzLnNldCg0MiwgbmV3IE1hcExldmVsKDQyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwgPSB0aGlzLm1hcC5sZXZlbHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdleHBvcnRfbWFwJywgKCkgPT4ge1xuICAgICAgICAgICAgdm9pZCB0aGlzLmV4cG9ydE1hcCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkRyb3AoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBsZXQgeCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgICBsZXQgeSA9IGV2ZW50LnBhZ2VZO1xuXG4gICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIhLml0ZW1zKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBmIG9mIGV2ZW50LmRhdGFUcmFuc2ZlciEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGYuZ2V0QXNGaWxlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChmaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMub25GaWxlRHJvcChyZXMsIHgsIHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5vbkZpbGVEcm9wKGV2ZW50LmRhdGFUcmFuc2ZlciEuZmlsZXMsIHgsIHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EcmFnT3ZlcihldmVudDogRHJhZ0V2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIhLmRyb3BFZmZlY3QgPSBcImNvcHlcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIG9uRmlsZURyb3AoZmlsZXM6IEFic0ZpbGVMaXN0LCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID09IDApIHJldHVybjtcbiAgICAgICAgbGV0IGZpcnN0RmlsZSA9IGZpbGVzWzBdO1xuXG4gICAgICAgIC8vIFNvbWV0aW1lcyB0aGlzIGRvZXMgbm90IHdvcmsgYnV0IHRoZSBwcm9ibGVtIGlzIG5vdCB0aGUgbWF0cml4IGNhbGN1bGF0aW9uLCBpdCdzIHRoZSBicm93c2VyIGNvb3Jkc1xuICAgICAgICAvLyBzbyBpZiB5b3UgaGF2ZSBmaXJlZm94IGFuZCBsaW51eCAodGhpcyBzZWVtcyB0byBiZSB0aGUgd3Jvbmcgc3RhY2spIGFuZCBoYXZlIHNwYXJlIHRpbWUsIHBscyBkZWJ1ZyB0aGlzLlxuICAgICAgICAvLyBDb3VsZCBiZSBjYXVzZWQgYnk6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTUwNTUyMSNjODBcbiAgICAgICAgbGV0IHAgPSBuZXcgUElYSS5Qb2ludCh4LCB5KTtcbiAgICAgICAgbGV0IHBpeGlCb2FyZCA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHBpeGlCb2FyZC5ib2FyZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgcGl4aUJvYXJkLmJvYXJkLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocCwgcCk7XG5cbiAgICAgICAgaWYgKGZpcnN0RmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgZmlyc3RGaWxlLmFycmF5QnVmZmVyKCkpO1xuICAgICAgICAgICAgbGV0IGJpZ1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KEJJR19TVE9SQUdFX1RZUEUpIGFzIEJpZ1N0b3JhZ2VTeXN0ZW07XG4gICAgICAgICAgICBsZXQgZGF0YUlkID0gYmlnU3RvcmFnZS5jcmVhdGUoXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICBCaWdFbnRyeUZsYWdzLlJFQURPTkxZIHwgQmlnRW50cnlGbGFncy5TSEFSRUQsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICkubXVsdGlJZDtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IFNwYXduQ29tbWFuZEtpbmQuZnJvbSh0aGlzLndvcmxkLCBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpcnN0RmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9IGFzIE5hbWVDb21wb25lbnQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvc2l0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHg6IHAueCxcbiAgICAgICAgICAgICAgICAgICAgeTogcC55LFxuICAgICAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1Db21wb25lbnQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJhY2tncm91bmRfaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGRhdGFJZCxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VUeXBlOiBmaXJzdEZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICB9IGFzIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy53b3JsZCwgY21kKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW1hZ2UgbG9hZGVkXCIpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIGV4cG9ydE1hcCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwuc2F2ZUZyb20odGhpcy53b3JsZCk7XG4gICAgICAgIGxldCBibG9iID0gYXdhaXQgdGhpcy5tYXAuc2F2ZVRvRmlsZSgpO1xuICAgICAgICB0aGlzLnNhdmVCbG9iKGJsb2IsIFwibWFwLmRuZG1cIik7XG4gICAgfVxuXG4gICAgc2F2ZUJsb2IoYmxvYjogQmxvYiwgZmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICBsZXQgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcIikgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9ICh0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtKS5yZW5kZXJlci52aWV3O1xuICAgICAgICBjYW52YXMub25kcm9wID0gdGhpcy5vbkRyb3AuYmluZCh0aGlzKTtcbiAgICAgICAgY2FudmFzLm9uZHJhZ292ZXIgPSB0aGlzLm9uRHJhZ092ZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmJlZm9yZVVubG9hZExpc3RlbmVyID0gKGV2ZW50OiBCZWZvcmVVbmxvYWRFdmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gJ3Bscyc7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmJlZm9yZVVubG9hZExpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbC5sb2FkSW50byh0aGlzLndvcmxkKTtcbiAgICAgICAgLy9sZXQgY2ggPSB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwuZXZlbnRFbWl0dGVyO1xuICAgICAgICAvL2NoLm9uKFwiX2RldmljZV9qb2luXCIsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICAvL2xldCBjaCA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5ldmVudEVtaXR0ZXI7XG4gICAgICAgIC8vY2gub2ZmKFwiX2RldmljZV9qb2luXCIsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuYmVmb3JlVW5sb2FkTGlzdGVuZXIpO1xuXG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICB9XG5cbn1cblxuXG5pbnRlcmZhY2UgQWJzRmlsZUxpc3Qge1xuICAgIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyO1xuICAgIFtpbmRleDogbnVtYmVyXTogRmlsZTtcbn1cbiIsIlxuZXhwb3J0IGVudW0gTGF5ZXJPcmRlciB7XG4gICAgQkFDS0dST1VORCA9IDAsXG4gICAgR1JJRCA9IDEwLFxuICAgIEZPUkVHUk9VTkQgPSAxMDAsXG4gICAgREVUQUlMUyA9IDExMCxcbiAgICBMSUdIVCA9IDIwMCxcbiAgICBUT09MUyA9IDI1MCxcbiAgICBURVhUID0gMzAwLFxufVxuXG4iLCJpbXBvcnQge1BoYXNlfSBmcm9tIFwiLi9waGFzZVwiO1xuaW1wb3J0IHtzdGFnZX0gZnJvbSBcIi4uL2luZGV4XCJcblxuaW1wb3J0IEhvbWVDb21wb25lbnQgZnJvbSBcIi4uL3VpL2hvbWUvaG9tZS52dWVcIjtcbmltcG9ydCB7R2FtZU1hcH0gZnJvbSBcIi4uL21hcC9nYW1lTWFwXCI7XG5pbXBvcnQge0hvc3RFZGl0TWFwUGhhc2V9IGZyb20gXCIuL2VkaXRNYXAvaG9zdEVkaXRNYXBQaGFzZVwiO1xuXG5leHBvcnQgY2xhc3MgSG9tZVBoYXNlIGV4dGVuZHMgUGhhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiaG9tZVwiKTtcbiAgICB9XG5cbiAgICB1aSgpOiBWdWUge1xuICAgICAgICByZXR1cm4gbmV3IEhvbWVDb21wb25lbnQoKSBhcyB1bmtub3duIGFzIFZ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGVNYXAoKSB7XG4gICAgICAgIGxldCBtYXAgPSBuZXcgR2FtZU1hcCgpO1xuICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9zdEVkaXRNYXBQaGFzZShtYXApKTtcbiAgICB9XG5cbiAgICBhc3luYyBlZGl0TWFwKGZpbGU6IEZpbGUpIHtcbiAgICAgICAgbGV0IG1hcCA9IGF3YWl0IEdhbWVNYXAubG9hZEZyb21GaWxlKGZpbGUpO1xuICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9zdEVkaXRNYXBQaGFzZShtYXApKTtcbiAgICB9XG5cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgc3VwZXIuZW5hYmxlKCk7XG4gICAgICAgIHRoaXMudWlFdmVudEVtaXR0ZXIub24oJ2NyZWF0ZV9tYXAnLCB0aGlzLmNyZWF0ZU1hcCwgdGhpcyk7XG4gICAgICAgIHRoaXMudWlFdmVudEVtaXR0ZXIub24oJ2VkaXQnLCB0aGlzLmVkaXRNYXAsIHRoaXMpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMudWlFdmVudEVtaXR0ZXIub24oJ2VkaXQnLCB0aGlzLmVkaXRNYXAsIHRoaXMpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdjcmVhdGVfbWFwJywgdGhpcy5jcmVhdGVNYXAsIHRoaXMpO1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtQaGFzZX0gZnJvbSBcIi4vcGhhc2VcIjtcbmltcG9ydCBMb2FkaW5nQ29tcG9uZW50IGZyb20gXCIuLi91aS9sb2FkaW5nL2xvYWRpbmcudnVlXCI7XG5cbmV4cG9ydCBjbGFzcyBMb2FkaW5nUGhhc2UgZXh0ZW5kcyBQaGFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwibG9hZGluZ1wiKTtcbiAgICB9XG5cbiAgICB1aSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2FkaW5nQ29tcG9uZW50KCk7XG4gICAgfVxufSIsImltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuaW1wb3J0ICogYXMgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudGVtaXR0ZXIzXCI7XG5cbmV4cG9ydCBjbGFzcyBQaGFzZSB7XG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAgdnVlOiBhbnk7XG4gICAgdWlFdmVudEVtaXR0ZXI6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIC8vIENyZWF0ZSBWdWUgaW5zdGFuY2UgdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgdGhlIFVJIGV2ZW50cyBvZiB0aGUgY3VycmVudCBwaGFzZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL3Z1ZWpvYnMvY3JlYXRlLWEtZ2xvYmFsLWV2ZW50LWJ1cy1pbi12dWUtanMtODM4YTVkOWFiMDNhXG4gICAgICAgIHRoaXMudWlFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuXG4gICAgbG9nKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV0gYCArIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHVpKCk6IFZ1ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmxvZyhcIkVuYWJsaW5nXCIpO1xuXG4gICAgICAgIChWdWUucHJvdG90eXBlIGFzIGFueSkuZXZlbnRFbWl0dGVyID0gdGhpcy51aUV2ZW50RW1pdHRlcjtcblxuICAgICAgICB0aGlzLnZ1ZSA9IHRoaXMudWkoKTtcbiAgICAgICAgaWYgKHRoaXMudnVlKSB7XG4gICAgICAgICAgICB0aGlzLnZ1ZS4kbW91bnQoKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy52dWUuJGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvbmUgXl5cbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV0gRGlzYWJsaW5nYCk7XG4gICAgICAgIGlmICh0aGlzLnZ1ZSkge1xuICAgICAgICAgICAgdGhpcy52dWUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy52dWUuJGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKWAgcmVzdWx0LlxuICAgICAqIFRoaXMgaXMgZG9uZSB0byBoaWRlIHRoaXMgb2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSBvYnNlcnZlcnMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2lzc3Vlcy8yNjM3KVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gdHlwZSBuYW1lXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3ltYm9sL3RvU3RyaW5nVGFnfVxuICAgICAqL1xuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgY2FuIGdvIGhlcmUgcmVhbGx5IGFzIGxvbmcgYXMgaXQncyBub3QgJ09iamVjdCdcbiAgICAgICAgcmV0dXJuICdPYmplY3ROb09ic2VydmUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGFnZSBleHRlbmRzIFBoYXNlIHtcbiAgICBwaGFzZTogUGhhc2UgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICB9XG5cbiAgICBzZXRQaGFzZShwaGFzZTogUGhhc2UgfCBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLnBoYXNlKVxuICAgICAgICAgICAgdGhpcy5waGFzZS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMucGhhc2UgPSBwaGFzZTtcbiAgICAgICAgaWYgKHRoaXMucGhhc2UpXG4gICAgICAgICAgICB0aGlzLnBoYXNlLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5zZXRQaGFzZShudWxsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1Z1ZSwgV2F0Y2h9IGZyb20gXCJ2dWUtcHJvcGVydHktZGVjb3JhdG9yXCI7XG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XG5pbXBvcnQge1Z1ZURlY29yYXRvcn0gZnJvbSBcInZ1ZS1jbGFzcy1jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQaGFzZVZ1ZSB7XG4gICAgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXI7XG59XG5cbmV4cG9ydCB7XG4gICAgVnVlLFxuICAgIENvbXBvbmVudCBhcyBWQ29tcG9uZW50LFxuICAgIFByb3AgYXMgVlByb3AsXG4gICAgV2F0Y2ggYXMgVldhdGNoLFxuICAgIFJlZiBhcyBWUmVmLFxufSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBWV2F0Y2hJbW1lZGlhdGUobmFtZTogc3RyaW5nKTogVnVlRGVjb3JhdG9yIHtcbiAgICByZXR1cm4gV2F0Y2gobmFtZSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBuZXR3b3JrU3RhdHVzID0gVnVlLm9ic2VydmFibGUoe1xuICAgIGlzT25saW5lOiBuYXZpZ2F0b3Iub25MaW5lLFxufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCAoKSA9PiBuZXR3b3JrU3RhdHVzLmlzT25saW5lID0gdHJ1ZSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsICgpID0+IG5ldHdvcmtTdGF0dXMuaXNPbmxpbmUgPSBmYWxzZSk7XG4iLCJleHBvcnQgY2xhc3MgVW5pb25GaW5kU2V0IHtcbiAgICBwYXJlbnRzOiBBcnJheTxudW1iZXI+O1xuICAgIHJhbmtzOiBBcnJheTxudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IobGVuZ3RoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIHRoaXMucmFua3MgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudHNbaV0gPSBpO1xuICAgICAgICAgICAgdGhpcy5yYW5rc1tpXSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5kKHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIC8qXG4gICAgICAgIFBhdGggc3BsaXR0aW5nOlxuXG4gICAgICAgIHdoaWxlIHgucGFyZW50IOKJoCB4IGRvXG4gICAgICAgICAgICAoeCwgeC5wYXJlbnQpIDo9ICh4LnBhcmVudCwgeC5wYXJlbnQucGFyZW50KVxuICAgICAgICBlbmQgd2hpbGVcbiAgICAgICAgcmV0dXJuIHhcbiAgICAgICAgKi9cbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50c1t4XTtcbiAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0geCkge1xuICAgICAgICAgICAgY29uc3QgbmV3cGFyID0gdGhpcy5wYXJlbnRzW3BhcmVudF07XG4gICAgICAgICAgICB0aGlzLnBhcmVudHNbeF0gPSB0aGlzLnBhcmVudHNbbmV3cGFyXTtcbiAgICAgICAgICAgIHggPSBwYXJlbnQ7XG4gICAgICAgICAgICBwYXJlbnQgPSBuZXdwYXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICB1bmlvbihhOiBudW1iZXIsIGI6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGEgPSB0aGlzLmZpbmQoYSk7XG4gICAgICAgIGIgPSB0aGlzLmZpbmQoYik7XG5cbiAgICAgICAgaWYgKGEgPT0gYikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFyYW5rID0gdGhpcy5yYW5rc1thXTtcbiAgICAgICAgbGV0IGJyYW5rID0gdGhpcy5yYW5rc1tiXTtcbiAgICAgICAgaWYgKGFyYW5rIDwgYnJhbmspIHtcbiAgICAgICAgICAgIFthLCBiXSA9IFtiLCBhXTtcbiAgICAgICAgICAgIC8vIERvIG5vdCBzd2FwIHJhbmtzLCB3ZSB3aWxsIG5vdCB1c2UgdGhlaXIgb3JkZXJpbmcgbGF0ZXJcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFyZW50c1tiXSA9IGE7XG4gICAgICAgIGlmIChhcmFuayA9PT0gYnJhbmspIHtcbiAgICAgICAgICAgIHRoaXMucmFua3NbYV0gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG59IiwiXG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVJlbW92ZUVsZW08VD4oYXJyOiBUW10sIGVsZW06IFQpOiBib29sZWFuIHtcbiAgICBsZXQgaW5kZXggPSBhcnIuaW5kZXhPZihlbGVtKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gaW5kZXggIT09IC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlGaWx0ZXJJblBsYWNlPFQ+KGE6IFRbXSwgY29uZGl0aW9uOiAoeDogVCkgPT4gYm9vbGVhbikge1xuICAgIGxldCBpID0gMCwgaiA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGEubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IGFbaV07XG4gICAgICAgIGlmIChjb25kaXRpb24odmFsKSkgYVtqKytdID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgYS5sZW5ndGggPSBqO1xuICAgIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlSYW5kb21FbGVtZW50PFQ+KGE6IFRbXSk6IFQge1xuICAgIHJldHVybiBhW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGEubGVuZ3RoKV07XG59XG4iLCJcbi8vIEJpbmFyeSBoZWFwIGltcGxlbWVudGF0aW9uIGZyb206XG4vLyBodHRwOi8vZWxvcXVlbnRqYXZhc2NyaXB0Lm5ldC9hcHBlbmRpeDIuaHRtbFxuXG5leHBvcnQgY2xhc3MgQmluYXJ5SGVhcDxUPiB7XG4gICAgY29udGVudCA9IG5ldyBBcnJheTxUPigpO1xuICAgIGVsZW1NYXAgPSBuZXcgTWFwPFQsIG51bWJlcj4oKTtcbiAgICBjbXBMdDogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihjbXBMdDogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jbXBMdCA9IGNtcEx0O1xuICAgIH1cblxuICAgIHB1c2goZWxlbWVudDogVCkge1xuICAgICAgICAvLyBBZGQgdGhlIG5ldyBlbGVtZW50IHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5LlxuICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVsZW1lbnQsIHRoaXMuY29udGVudC5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNvbnRlbnQucHVzaChlbGVtZW50KTtcbiAgICAgICAgLy8gQWxsb3cgaXQgdG8gYnViYmxlIHVwLlxuICAgICAgICB0aGlzLmJ1YmJsZVVwKHRoaXMuY29udGVudC5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICBwb3AoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBTdG9yZSB0aGUgZmlyc3QgZWxlbWVudCBzbyB3ZSBjYW4gcmV0dXJuIGl0IGxhdGVyLlxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb250ZW50WzBdO1xuICAgICAgICB0aGlzLmVsZW1NYXAuZGVsZXRlKHJlc3VsdCk7XG4gICAgICAgIC8vIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAgbGV0IGVuZCA9IHRoaXMuY29udGVudC5wb3AoKSE7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgZWxlbWVudHMgbGVmdCwgcHV0IHRoZSBlbmQgZWxlbWVudCBhdCB0aGVcbiAgICAgICAgLy8gc3RhcnQsIGFuZCBsZXQgaXQgc2luayBkb3duLlxuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50WzBdID0gZW5kO1xuICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbmQsIDApO1xuICAgICAgICAgICAgdGhpcy5zaW5rRG93bigwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHBvcEVsZW0oZTogVCk6IHZvaWQge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmVsZW1NYXAuZ2V0KGUpO1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZWxlbU1hcC5kZWxldGUoZSk7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCkhO1xuICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuY29udGVudC5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNvbnRlbnRbaW5kZXhdID0gZW5kO1xuICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVuZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLnNpbmtEb3duKGluZGV4KTtcbiAgICAgICAgdGhpcy5idWJibGVVcChpbmRleCk7Ly8gRml4LCBzb21lIHN5c3RlbXMgd2hlcmUgYSA8IGIuIGIgPCBjID0+IGEgPCBjIGlzIG5vdCBtYWludGFpbmVkXG4gICAgfVxuXG4gICAgaGFzRWxlbShlOiBUKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1NYXAuaGFzKGUpO1xuICAgIH1cblxuICAgIHBlZWsoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbMF07XG4gICAgfVxuXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBidWJibGVVcChuOiBudW1iZXIpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGVsZW1lbnQgdGhhdCBoYXMgdG8gYmUgbW92ZWQuXG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5jb250ZW50W25dO1xuICAgICAgICAvLyBXaGVuIGF0IDAsIGFuIGVsZW1lbnQgY2FuIG5vdCBnbyB1cCBhbnkgZnVydGhlci5cbiAgICAgICAgd2hpbGUgKG4gPiAwKSB7XG4gICAgICAgICAgICAvLyBDb21wdXRlIHRoZSBwYXJlbnQgZWxlbWVudCdzIGluZGV4LCBhbmQgZmV0Y2ggaXQuXG4gICAgICAgICAgICBsZXQgcGFyZW50TiA9IE1hdGguZmxvb3IoKG4gKyAxKSAvIDIpIC0gMTtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmNvbnRlbnRbcGFyZW50Tl07XG4gICAgICAgICAgICAvLyBTd2FwIHRoZSBlbGVtZW50cyBpZiB0aGUgcGFyZW50IGlzIGdyZWF0ZXIuXG4gICAgICAgICAgICBpZiAodGhpcy5jbXBMdChlbGVtZW50LCBwYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W3BhcmVudE5dID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbbl0gPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbGVtZW50LCBwYXJlbnROKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KHBhcmVudCwgbik7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlICduJyB0byBjb250aW51ZSBhdCB0aGUgbmV3IHBvc2l0aW9uLlxuICAgICAgICAgICAgICAgIG4gPSBwYXJlbnROO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm91bmQgYSBwYXJlbnQgdGhhdCBpcyBsZXNzLCBubyBuZWVkIHRvIG1vdmUgaXQgZnVydGhlci5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2lua0Rvd24objogbnVtYmVyKSB7XG4gICAgICAgIC8vIExvb2sgdXAgdGhlIHRhcmdldCBlbGVtZW50IGFuZCBpdHMgc2NvcmUuXG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmNvbnRlbnQubGVuZ3RoO1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgaW5kaWNlcyBvZiB0aGUgY2hpbGQgZWxlbWVudHMuXG4gICAgICAgICAgICBsZXQgY2hpbGQyTiA9IChuICsgMSkgKiAyLCBjaGlsZDFOID0gY2hpbGQyTiAtIDE7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIG5ldyBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCxcbiAgICAgICAgICAgIC8vIGlmIGFueS5cbiAgICAgICAgICAgIGxldCBzd2FwID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjaGlsZDE6IFQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZmlyc3QgY2hpbGQgZXhpc3RzIChpcyBpbnNpZGUgdGhlIGFycmF5KS4uLlxuICAgICAgICAgICAgaWYgKGNoaWxkMU4gPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBMb29rIGl0IHVwIGFuZCBjb21wdXRlIGl0cyBzY29yZS5cbiAgICAgICAgICAgICAgICBjaGlsZDEgPSB0aGlzLmNvbnRlbnRbY2hpbGQxTl07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNjb3JlIGlzIGxlc3MgdGhhbiBvdXIgZWxlbWVudCdzLCB3ZSBuZWVkIHRvIHN3YXAuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoY2hpbGQxLCBlbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IGNoaWxkMU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEbyB0aGUgc2FtZSBjaGVja3MgZm9yIHRoZSBvdGhlciBjaGlsZC5cbiAgICAgICAgICAgIGlmIChjaGlsZDJOIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkMiA9IHRoaXMuY29udGVudFtjaGlsZDJOXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbXBMdChjaGlsZDIsIHN3YXAgPT0gbnVsbCA/IGVsZW1lbnQgOiBjaGlsZDEhKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2FwID0gY2hpbGQyTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IG5lZWRzIHRvIGJlIG1vdmVkLCBzd2FwIGl0LCBhbmQgY29udGludWUuXG4gICAgICAgICAgICBpZiAoc3dhcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gdGhpcy5jb250ZW50W3N3YXBdO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtzd2FwXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldCh0aGlzLmNvbnRlbnRbbl0sIG4pO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZWxlbWVudCwgc3dhcCk7XG4gICAgICAgICAgICAgICAgbiA9IHN3YXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlIGFyZSBkb25lLlxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiLyoqXG4gKiBCYXNpYyBCaXRTZXRcbiAqL1xuZXhwb3J0IGNsYXNzIEJpdFNldCB7XG4gICAgZGF0YTogVWludDMyQXJyYXk7XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBudW1iZXIgfCBVaW50MzJBcnJheSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoTWF0aC5jZWlsKGxlbmd0aCAvIDMyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLmZsb29yKGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBVaW50MzJBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBsZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPDwgNTtcbiAgICB9XG5cbiAgICBnZXQoaTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGkgfD0gMDtcbiAgICAgICAgbGV0IHdpID0gaSA+Pj4gNTtcbiAgICAgICAgaWYgKHdpID49IHRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmRhdGFbd2ldO1xuICAgICAgICByZXR1cm4gISEoKGIgPj4+IGkpICYgMSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbnN1cmVDYXBhY2l0eSh3aTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBuZXdMZW4gPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobmV3TGVuIDwgd2kpIG5ld0xlbiAqPSAyO1xuICAgICAgICBpZiAobmV3TGVuID09PSB0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQzMkFycmF5KG5ld0xlbik7XG4gICAgICAgIG5ld0RhdGEuc2V0KHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ld0RhdGE7XG4gICAgfVxuXG4gICAgc2V0KGk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpIHw9IDA7XG5cbiAgICAgICAgbGV0IHdpID0gaSA+Pj4gNTtcbiAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh3aSk7XG4gICAgICAgIHRoaXMuZGF0YVt3aV0gfD0gMSA8PCBpO1xuICAgIH1cblxuICAgIHJlc2V0KGk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpIHw9IDA7XG5cbiAgICAgICAgbGV0IHdpID0gaSA+Pj4gNTtcbiAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh3aSk7XG4gICAgICAgIHRoaXMuZGF0YVt3aV0gJj0gfigxIDw8IGkpO1xuICAgIH1cblxuICAgIGlzQWxsKHRhcmdldDogYm9vbGVhbiwgdW50aWw/OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB0ID0gMHhGRkZGRkZGRjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb29wTGFzdCA9IHVudGlsID09PSB1bmRlZmluZWQgPyB0aGlzLmRhdGEubGVuZ3RoIDogKHVudGlsID4+PiA1KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvb3BMYXN0OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaV0gIT09IHQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bnRpbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBsZXQgaSA9ICgodW50aWwgLSAxKSA+PiA1KSArIDE7XG4gICAgICAgIGxldCBpbCA9IHVudGlsICYgMHgxRjtcbiAgICAgICAgbGV0IG1hc2sgPSAoMSA8PCBpbCkgLSAxO1xuXG4gICAgICAgIGxldCBkID0gdGhpcy5kYXRhW2ldO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBkID0gfmQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKGQgJiBtYXNrKSA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudGVtaXR0ZXIzXCI7XG5cbi8qKlxuICogVGhlIHRhc2sgb2YgdGhpcyBmdW5jdGlvbiBpcyB0byBicmluZyB0aGUgZXZlbnQgZnJvbSBhIHRoaXJkLXBhcnR5XG4gKiBFdmVudE1hbmFnZXIgKHRoYXQgY291bGQgYmUgdGhlIERPTSwgVnVlIG9yIHdoYXRldmVyKSB0byBFdmVudEVtaXR0ZXIzLlxuICovXG50eXBlIENhdGNoRXZlbnRGb3JFbWl0dGVyID0gKGV2ZW50OiBhbnksIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcikgPT4gdm9pZDtcblxuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlcldyYXBwZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHJlYWRvbmx5IGNhdGNoZXI6IENhdGNoRXZlbnRGb3JFbWl0dGVyO1xuICAgIHByaXZhdGUgY2F1Z2h0OiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuXG4gICAgY29uc3RydWN0b3IoY2F0Y2hlcjogQ2F0Y2hFdmVudEZvckVtaXR0ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYXRjaGVyID0gY2F0Y2hlcjtcbiAgICB9XG5cbiAgICBjYXRjaEV2ZW50KGV2ZW50OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jYXRjaGVyKGV2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5jYXVnaHQuYWRkKGV2ZW50KTtcbiAgICB9XG5cbiAgICBvbihldmVudDogc3RyaW5nLCBmbjogRXZlbnRFbWl0dGVyLkxpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGZuLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCF0aGlzLmNhdWdodC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZExpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGZuOiBFdmVudEVtaXR0ZXIuTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSk6IHRoaXMge1xuICAgICAgICBzdXBlci5hZGRMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQpO1xuICAgICAgICBpZiAoIXRoaXMuY2F1Z2h0LmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2F0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcbmltcG9ydCB7U3R1cGlkUG9pbnR9IGZyb20gXCIuLi9nZW9tZXRyeS9wb2ludFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vZ2VvbWV0cnkvYWFiYlwiO1xuXG50eXBlIFBQb2ludCA9IFBJWEkuUG9pbnQ7XG5leHBvcnQgdHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2x5Z29uUG9pbnRJbnRlcnNlY3QocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSwgcG9seWdvbjogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBjb25zdCB4ID0gcG9pbnQueDtcbiAgICBjb25zdCB5ID0gcG9pbnQueTtcbiAgICBsZXQgaW5zaWRlID0gZmFsc2U7XG4gICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvbHlnb24ubGVuZ3RoIC8gMjtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgY29uc3QgeGkgPSBwb2x5Z29uW2kgKiAyXTtcbiAgICAgICAgY29uc3QgeWkgPSBwb2x5Z29uWyhpICogMikgKyAxXTtcbiAgICAgICAgY29uc3QgeGogPSBwb2x5Z29uW2ogKiAyXTtcbiAgICAgICAgY29uc3QgeWogPSBwb2x5Z29uWyhqICogMikgKyAxXTtcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFhYmJBYWJiSW50ZXJzZWN0KGFsOiBudW1iZXIsIGF0OiBudW1iZXIsIGFyOiBudW1iZXIsIGFiOiBudW1iZXIsXG4gICAgYmw6IG51bWJlciwgYnQ6IG51bWJlciwgYnI6IG51bWJlciwgYmI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhbCA8IGJyICYmIGFyID4gYmwgJiYgYXQgPCBiYiAmJiBhYiA+IGJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdFNxdWFyZWQyZCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgeCA9IHgxIC0geDI7XG4gICAgbGV0IHkgPSB5MSAtIHkyO1xuICAgIHJldHVybiB4ICogeCArIHkgKiB5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0UG9pbnRPblNlZ21lbnQoYXg6IG51bWJlciwgYXk6IG51bWJlciwgYng6IG51bWJlciwgYnk6IG51bWJlciwgcHg6IG51bWJlciwgcHk6IG51bWJlcik6IFBvaW50IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoYXggPT0gYnggJiYgYXkgPT0gYXkpIGF4IC09IDAuMDAwMDE7XG5cbiAgICBsZXQgdSA9ICgocHggLSBheCkgKiAoYnggLSBheCkpICsgKChweSAtIGF5KSAqIChieSAtIGF5KSk7XG5cbiAgICBsZXQgdWRlbm9tID0gTWF0aC5wb3coYnggLSBheCwgMikgKyBNYXRoLnBvdyhieSAtIGF5LCAyKTtcblxuICAgIHUgLz0gdWRlbm9tO1xuXG4gICAgbGV0IHJ4ID0gYXggKyAodSAqIChieCAtIGF4KSk7XG4gICAgbGV0IHJ5ID0gYXkgKyAodSAqIChieSAtIGF5KSk7XG5cbiAgICBsZXQgbWlueCwgbWF4eCwgbWlueSwgbWF4eTtcblxuICAgIG1pbnggPSBNYXRoLm1pbihheCwgYngpO1xuICAgIG1heHggPSBNYXRoLm1heChheCwgYngpO1xuXG4gICAgbWlueSA9IE1hdGgubWluKGF5LCBieSk7XG4gICAgbWF4eSA9IE1hdGgubWF4KGF5LCBieSk7XG5cbiAgICBsZXQgaXNWYWxpZCA9IChyeCA+PSBtaW54ICYmIHJ4IDw9IG1heHgpICYmIChyeSA+PSBtaW55ICYmIHJ5IDw9IG1heHkpO1xuXG4gICAgcmV0dXJuIGlzVmFsaWQgPyBbcngsIHJ5XSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdExpbmVWc0xpbmUoYTE6IFN0dXBpZFBvaW50LCBhMjogU3R1cGlkUG9pbnQsIGIxOiBTdHVwaWRQb2ludCwgYjI6IFN0dXBpZFBvaW50LCB0YXJnZXQ/OiBQUG9pbnQpOiBib29sZWFuIHtcbiAgICBsZXQgZGJ4ID0gYjIueCAtIGIxLng7XG4gICAgbGV0IGRieSA9IGIyLnkgLSBiMS55O1xuICAgIGxldCBkYXggPSBhMi54IC0gYTEueDtcbiAgICBsZXQgZGF5ID0gYTIueSAtIGExLnk7XG5cbiAgICBsZXQgdV9iID0gZGJ5ICogZGF4IC0gZGJ4ICogZGF5O1xuICAgIGlmICh1X2IgPT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB1YSA9IChkYnggKiAoYTEueSAtIGIxLnkpIC0gZGJ5ICogKGExLnggLSBiMS54KSkgLyB1X2I7XG5cbiAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGFyZ2V0LnNldChhMS54IC0gdWEgKiAtZGF4LCBhMS55IC0gdWEgKiAtZGF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYWJiU2FtZU9yaWdpbkRpZmZlcmVuY2Uob3JpZzogU3R1cGlkUG9pbnQsIGxhc3Q6IFN0dXBpZFBvaW50LCBub3c6IFN0dXBpZFBvaW50LCBhZGRlZDogQWFiYltdLCByZW1vdmVkOiBBYWJiW10pOiB2b2lkIHtcbiAgICBsZXQgeEFjdCA9IDA7XG4gICAgaWYgKG5vdy54ICE9IGxhc3QueCkge1xuICAgICAgICBsZXQgeEJveCA9IG5ldyBBYWJiKFxuICAgICAgICAgICAgbm93LngsIG9yaWcueSxcbiAgICAgICAgICAgIGxhc3QueCwgbGFzdC55LFxuICAgICAgICApO1xuICAgICAgICBsZXQgYWRkID0gKG5vdy54ID4gbGFzdC54KSA9PSAob3JpZy54IDwgbm93LngpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICB4QWN0ID0gMTtcbiAgICAgICAgICAgIGFkZGVkLnB1c2goeEJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4QWN0ID0gLTE7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2goeEJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgeUFjdCA9IDA7XG4gICAgaWYgKG5vdy55ICE9IGxhc3QueSkge1xuICAgICAgICBsZXQgeUJveCA9IG5ldyBBYWJiKFxuICAgICAgICAgICAgb3JpZy54LCBsYXN0LnksXG4gICAgICAgICAgICBsYXN0LngsIG5vdy55LFxuICAgICAgICApO1xuICAgICAgICBsZXQgYWRkID0gKG5vdy55ID4gbGFzdC55KSA9PSAob3JpZy55IDwgbGFzdC55KTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgeUFjdCA9IDE7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHlCb3gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeUFjdCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKHlCb3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHhBY3QgPT0geUFjdCkge1xuICAgICAgICBsZXQgYm94ID0gbmV3IEFhYmIoXG4gICAgICAgICAgICBsYXN0LngsIGxhc3QueSxcbiAgICAgICAgICAgIG5vdy54LCBub3cueVxuICAgICAgICApO1xuICAgICAgICBpZiAoeEFjdCA+IDApIHtcbiAgICAgICAgICAgIGFkZGVkLnB1c2goYm94KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaChib3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZGVjb2RlLCBlbmNvZGUgfSBmcm9tIFwiQG1zZ3BhY2svbXNncGFja1wiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcImJ1ZmZlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0TWVyZ2UodG86IGFueSwgZnJvbTogYW55KSB7XG4gICAgZm9yIChsZXQgaSBpbiBmcm9tKSB7XG4gICAgICAgIHRvW2ldID0gZnJvbVtpXTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RGaWx0ZXJJbnBsYWNlPFQ+KHg6IHtbbmFtZTogc3RyaW5nXTogVH0sIGZpbHRlcjogKG5hbWU6IHN0cmluZywgdmFsOiBUKSA9PiBib29sZWFuKSB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiB4KSB7XG4gICAgICAgIGlmICghZmlsdGVyKG5hbWUsIHhbbmFtZV0pKSB7XG4gICAgICAgICAgICBkZWxldGUgeFtuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdENsb25lKG9iajogYW55KTogYW55IHtcbiAgICAvLyBZZXMsIHJlYWxseSwgdGhhbmtzIGpzLlxuICAgIHJldHVybiBkZWNvZGUoZW5jb2RlKG9iaikpO1xuICAgIC8vcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21ieXRlcyhudW06IG51bWJlcik6IEJ1ZmZlciB7XG4gICAgbGV0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShudW0pO1xuXG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhidWZmZXIpO1xuICAgIHJldHVybiBidWZmZXI7XG59XG5cbi8vIGJhc2UgNjRcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlclRvQmFzZTY0VXJsKGlucHV0OiBCdWZmZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dC50b1N0cmluZyhcImJhc2U2NFwiKVxuICAgICAgICAucmVwbGFjZSgvPS9nLCBcIlwiKVxuICAgICAgICAucmVwbGFjZSgvXFwrL2csIFwiLVwiKVxuICAgICAgICAucmVwbGFjZSgvXFwvL2csIFwiX1wiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRVcmxUb0J1ZmZlcihiYXNlNjR1cmw6IHN0cmluZyk6IEJ1ZmZlciB7XG4gICAgY29uc3QgYmFzZTY0ID0gYjY0UGFkU3RyaW5nKGJhc2U2NHVybClcbiAgICAgICAgLnJlcGxhY2UoL1xcLS9nLCBcIitcIilcbiAgICAgICAgLnJlcGxhY2UoL18vZywgXCIvXCIpO1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShiYXNlNjQsIFwiYmFzZTY0XCIpO1xufVxuXG5mdW5jdGlvbiBiNjRQYWRTdHJpbmcoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IHNlZ21lbnRMZW5ndGggPSA0O1xuICAgIGxldCBzdHJpbmdMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgbGV0IGRpZmYgPSBzdHJpbmdMZW5ndGggJSBzZWdtZW50TGVuZ3RoO1xuXG4gICAgaWYgKCFkaWZmKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBsZXQgcG9zaXRpb24gPSBzdHJpbmdMZW5ndGg7XG4gICAgbGV0IHBhZExlbmd0aCA9IHNlZ21lbnRMZW5ndGggLSBkaWZmO1xuICAgIGxldCBwYWRkZWRTdHJpbmdMZW5ndGggPSBzdHJpbmdMZW5ndGggKyBwYWRMZW5ndGg7XG4gICAgbGV0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhwYWRkZWRTdHJpbmdMZW5ndGgpO1xuXG4gICAgYnVmZmVyLndyaXRlKGlucHV0KTtcblxuICAgIHdoaWxlIChwYWRMZW5ndGgtLSkge1xuICAgICAgICBidWZmZXIud3JpdGUoXCI9XCIsIHBvc2l0aW9uKyspO1xuICAgIH1cblxuICAgIHJldHVybiBidWZmZXIudG9TdHJpbmcoKTtcbn1cbiIsIlxudHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmNsYXNzIE5vZGUge1xuICAgIHBvaW50OiBQb2ludDtcbiAgICBsZWZ0PzogTm9kZSA9IHVuZGVmaW5lZDtcbiAgICByaWdodD86IE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgcGFyZW50PzogTm9kZTtcbiAgICBkaW1lbnNpb246IG51bWJlcjsvLyAwOiBYLCAxOiBZXG5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludDogUG9pbnQsIHBhcmVudDogTm9kZSB8IHVuZGVmaW5lZCwgZGltZW5zaW9uOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24gPSBkaW1lbnNpb247XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSzJkVHJlZSB7XG4gICAgcm9vdD86IE5vZGUgPSB1bmRlZmluZWQ7XG5cbiAgICBwcml2YXRlIGRpc3RhbmNlKGE6IFBvaW50LCBiOiBQb2ludCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkeCA9IGFbMF0gLSBiWzBdO1xuICAgICAgICBsZXQgZHkgPSBhWzFdIC0gYlsxXTtcbiAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuICAgIH1cblxuICAgIHByaXZhdGUgbGFzdFNlYXJjaChwb2ludDogUG9pbnQsIG5vZGU6IE5vZGUgfCB1bmRlZmluZWQsIHBhcmVudDogTm9kZSB8IHVuZGVmaW5lZCk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBub2RlO1xuICAgICAgICAgICAgaWYgKHBvaW50W25vZGUuZGltZW5zaW9uXSA8IG5vZGUucG9pbnRbbm9kZS5kaW1lbnNpb25dKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vZGVTZWFyY2gocG9pbnQ6IFBvaW50KTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5yb290O1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRbMF0gPT09IG5vZGUucG9pbnRbMF0gJiYgcG9pbnRbMV0gPT09IG5vZGUucG9pbnRbMV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb2ludFtub2RlLmRpbWVuc2lvbl0gPCBub2RlLnBvaW50W25vZGUuZGltZW5zaW9uXSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaW5zZXJ0KHBvaW50OiBQb2ludCkge1xuICAgICAgICBsZXQgaW5zZXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RTZWFyY2gocG9pbnQsIHRoaXMucm9vdCwgdW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAoaW5zZXJ0UG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gbmV3IE5vZGUocG9pbnQsIHVuZGVmaW5lZCwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3Tm9kZSA9IG5ldyBOb2RlKHBvaW50LCBpbnNlcnRQb3NpdGlvbiwgKGluc2VydFBvc2l0aW9uLmRpbWVuc2lvbiArIDEpICYgMSk7XG4gICAgICAgIGxldCBkaW1lbnNpb24gPSBpbnNlcnRQb3NpdGlvbi5kaW1lbnNpb247XG5cbiAgICAgICAgaWYgKHBvaW50W2RpbWVuc2lvbl0gPCBpbnNlcnRQb3NpdGlvbi5wb2ludFtkaW1lbnNpb25dKSB7XG4gICAgICAgICAgICBpbnNlcnRQb3NpdGlvbi5sZWZ0ID0gbmV3Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc2VydFBvc2l0aW9uLnJpZ2h0ID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBmaW5kTWluKG5vZGU6IE5vZGUgfCB1bmRlZmluZWQsIGRpbTogbnVtYmVyKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5kaW1lbnNpb24gPT09IGRpbSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubGVmdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZE1pbihub2RlLmxlZnQsIGRpbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvd24gPSBub2RlLnBvaW50W2RpbV07XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5maW5kTWluKG5vZGUubGVmdCwgZGltKTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5maW5kTWluKG5vZGUucmlnaHQsIGRpbSk7XG4gICAgICAgIGxldCBtaW4gPSBub2RlO1xuXG4gICAgICAgIGlmIChsZWZ0ICE9PSB1bmRlZmluZWQgJiYgbGVmdC5wb2ludFtkaW1dIDwgb3duKSB7XG4gICAgICAgICAgICBtaW4gPSBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyaWdodCAhPT0gdW5kZWZpbmVkICYmIHJpZ2h0LnBvaW50W2RpbV0gPCBtaW4ucG9pbnRbZGltXSkge1xuICAgICAgICAgICAgbWluID0gcmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlTm9kZShub2RlOiBOb2RlKSB7XG4gICAgICAgIGlmIChub2RlLmxlZnQgPT09IHVuZGVmaW5lZCAmJiBub2RlLnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkaW0gPSBub2RlLnBhcmVudC5kaW1lbnNpb247XG4gICAgICAgICAgICBpZiAobm9kZS5wb2ludFtkaW1dIDwgbm9kZS5wYXJlbnQucG9pbnRbZGltXSkge1xuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LnJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHJpZ2h0IHN1YnRyZWUgaXMgbm90IGVtcHR5LCBzd2FwIHdpdGggdGhlIG1pbmltdW0gZWxlbWVudCBvbiB0aGVcbiAgICAgICAgLy8gbm9kZSdzIGRpbWVuc2lvbi4gSWYgaXQgaXMgZW1wdHksIHdlIHN3YXAgdGhlIGxlZnQgYW5kIHJpZ2h0IHN1YnRyZWVzIGFuZFxuICAgICAgICAvLyBkbyB0aGUgc2FtZS5cbiAgICAgICAgaWYgKG5vZGUucmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IG5leHROb2RlID0gdGhpcy5maW5kTWluKG5vZGUucmlnaHQsIG5vZGUuZGltZW5zaW9uKSE7XG4gICAgICAgICAgICBsZXQgbmV4dFBvaW50ID0gbmV4dE5vZGUucG9pbnQ7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU5vZGUobmV4dE5vZGUpO1xuICAgICAgICAgICAgbm9kZS5wb2ludCA9IG5leHRQb2ludDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBuZXh0Tm9kZSA9IHRoaXMuZmluZE1pbihub2RlLmxlZnQsIG5vZGUuZGltZW5zaW9uKSE7XG4gICAgICAgICAgICBsZXQgbmV4dFBvaW50ID0gbmV4dE5vZGUucG9pbnQ7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU5vZGUobmV4dE5vZGUpO1xuICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIG5vZGUubGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5vZGUucG9pbnQgPSBuZXh0UG9pbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUocG9pbnQ6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2RlU2VhcmNoKHBvaW50KTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShub2RlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbmVhcmVzdFBvaW50KHBvaW50OiBQb2ludCwgcm9vdD86IE5vZGUpOiBbUG9pbnQsIG51bWJlcl0gfCB1bmRlZmluZWQge1xuICAgICAgICByb290ID0gcm9vdCB8fCB0aGlzLnJvb3Q7XG4gICAgICAgIGlmIChyb290ID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgbGV0IG93bkRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShyb290LnBvaW50LCBwb2ludCk7XG4gICAgICAgIGlmIChyb290LmxlZnQgPT09IHVuZGVmaW5lZCAmJiByb290LnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbcm9vdC5wb2ludCwgb3duRGlzdGFuY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJlc3RDaGlsZDtcblxuICAgICAgICBpZiAocm9vdC5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LmxlZnQ7XG4gICAgICAgIH0gZWxzZSBpZiAocm9vdC5sZWZ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJlc3RDaGlsZCA9IHJvb3QucmlnaHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwb2ludFtyb290LmRpbWVuc2lvbl0gPCByb290LnBvaW50W3Jvb3QuZGltZW5zaW9uXSkge1xuICAgICAgICAgICAgICAgIGJlc3RDaGlsZCA9IHJvb3QubGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBbYmVzdENoaWxkTm9kZSwgYmVzdENoaWxkRGlzdF0gPSB0aGlzLm5lYXJlc3RQb2ludChwb2ludCwgYmVzdENoaWxkKSE7XG5cbiAgICAgICAgbGV0IGJlc3ROb2RlO1xuICAgICAgICBsZXQgYmVzdERpc3Q7XG4gICAgICAgIGlmIChiZXN0Q2hpbGREaXN0IDwgb3duRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGJlc3ROb2RlID0gYmVzdENoaWxkTm9kZTtcbiAgICAgICAgICAgIGJlc3REaXN0ID0gYmVzdENoaWxkRGlzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJlc3ROb2RlID0gcm9vdC5wb2ludDtcbiAgICAgICAgICAgIGJlc3REaXN0ID0gb3duRGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWFyY2hlZCBwb2ludCBwcm9qZWN0ZWQgdG8gb3VyIGF4aXNcbiAgICAgICAgbGV0IGxpbmVhclBvaW50OiBQb2ludCA9IFtwb2ludFswXSwgcG9pbnRbMV1dO1xuICAgICAgICBsaW5lYXJQb2ludFtyb290LmRpbWVuc2lvbl0gPSByb290LnBvaW50W3Jvb3QuZGltZW5zaW9uXTtcblxuICAgICAgICBsZXQgbGluZWFyRGlzdCA9IHRoaXMuZGlzdGFuY2UobGluZWFyUG9pbnQsIHBvaW50KTtcbiAgICAgICAgaWYgKGxpbmVhckRpc3QgPCBiZXN0RGlzdCkge1xuICAgICAgICAgICAgbGV0IG90aGVyQ2hpbGQ7XG4gICAgICAgICAgICBpZiAoYmVzdENoaWxkID09PSByb290LmxlZnQpIHtcbiAgICAgICAgICAgICAgICBvdGhlckNoaWxkID0gcm9vdC5yaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3RoZXJDaGlsZCA9IHJvb3QubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvdGhlckNoaWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgW290aGVyTm9kZSwgb3RoZXJEaXN0XSA9IHRoaXMubmVhcmVzdFBvaW50KHBvaW50LCBvdGhlckNoaWxkKSE7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyRGlzdCA8IGJlc3REaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3ROb2RlID0gb3RoZXJOb2RlO1xuICAgICAgICAgICAgICAgICAgICBiZXN0RGlzdCA9IG90aGVyRGlzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtiZXN0Tm9kZSwgYmVzdERpc3RdXG4gICAgfVxufVxuXG4iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuXG5leHBvcnQgY29uc3QgREVTVFJPWV9BTEwgPSB7XG4gICAgY2hpbGRyZW46IHRydWUsXG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBERVNUUk9ZX01JTiA9IHtcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgdGV4dHVyZTogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IGZhbHNlLFxufTtcblxuY29uc3QgQUxMT1dFRF9JTUFHRVRZUEVTID0gWydqcGVnJywgJ3BuZycsICd4LWpnJywgJ2JtcCcsICd4LWljb24nLCAnaWVmJywgJ3BqcGVnJywgJ3gtcG9ydGFibGUtYml0bWFwJywgJ3gtcmdiJywgJ3RpZmYnLCAneC10aWZmJ11cblxuZnVuY3Rpb24gdmFsaWRhdGVJbWFnZU1pbWVUeXBlKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR5cGU6IGl0IHNob3VsZCBiZSBhbiBpbWFnZScpO1xuICAgIGlmIChBTExPV0VEX0lNQUdFVFlQRVMuaW5kZXhPZih0eXBlLnN1YnN0cignaW1hZ2UvJy5sZW5ndGgpKSA8IDApIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFRleHR1cmUoZGF0YTogQXJyYXlCdWZmZXIsIGRhdGFUeXBlOiBzdHJpbmcpOiBQcm9taXNlPFBJWEkuVGV4dHVyZT4ge1xuICAgIHZhbGlkYXRlSW1hZ2VNaW1lVHlwZShkYXRhVHlwZSk7XG4gICAgbGV0IGI2NCA9ICdkYXRhOicgKyBkYXRhVHlwZSArICc7YmFzZTY0LCcgKyBCdWZmZXIuZnJvbShkYXRhKS50b1N0cmluZygnYmFzZTY0Jyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8UElYSS5UZXh0dXJlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXggPSBuZXcgUElYSS5UZXh0dXJlKG5ldyBQSVhJLkJhc2VUZXh0dXJlKG5ldyBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlKGltYWdlKSkpO1xuICAgICAgICAgICAgcmVzb2x2ZSh0ZXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICBpbWFnZS5zcmMgPSBiNjQ7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBlbnVtIENVU1RPTV9CTEVORF9NT0RFUyB7XG4gICAgTVVMVElQTFlfQ09MT1JfT05MWSA9IDMwLFxuICAgIEFERF9XSEVSRV9BTFBIQV8xLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3VzdG9tQmxlbmRNb2RlcyhyZW5kZXJlcjogUElYSS5SZW5kZXJlcikge1xuICAgIGxldCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGxldCBhcnJheSA9IChyZW5kZXJlci5zdGF0ZSBhcyBhbnkpLmJsZW5kTW9kZXM7XG4gICAgYXJyYXlbQ1VTVE9NX0JMRU5EX01PREVTLk1VTFRJUExZX0NPTE9SX09OTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuWkVSTywgZ2wuT05FLCBnbC5aRVJPXTtcbiAgICBhcnJheVtDVVNUT01fQkxFTkRfTU9ERVMuQUREX1dIRVJFX0FMUEhBXzFdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FLCBnbC5aRVJPLCBnbC5PTkVdO1xufSIsIlxudHlwZSBMaXN0ZW5lckZuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgRXZlbnRIYW5kbGVyIHtcbiAgICBjYjogTGlzdGVuZXJGbjtcbiAgICBzZWxmOiBhbnk7XG4gICAgb25jZTogYm9vbGVhbjtcbiAgICBwcmlvcml0eTogbnVtYmVyOy8vIGlmIC1pbmY6IGRpc2FibGVkXG59XG5cbmV4cG9ydCBjb25zdCBQUklPUklUWV9ESVNBQkxFRCA9IC1JbmZpbml0eTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2FmZUV2ZW50RW1pdHRlciB7XG4gICAgZXZlbnRzOiB7W25hbWU6IHN0cmluZ106IEV2ZW50SGFuZGxlcltdfSA9IHt9O1xuICAgIGNoaWxkcmVuOiBTYWZlRXZlbnRFbWl0dGVyW10gPSBbXTtcblxuICAgIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4uYXJnczogQXJyYXk8YW55Pik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcmVjZWl2ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZXQgeCA9IGMuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICAgICAgICByZWNlaXZlZCB8fD0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF07XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkIHx8IGxpc3RlbmVycy5sZW5ndGggPT09IDApIHJldHVybiByZWNlaXZlZDtcblxuICAgICAgICBsZXQgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPT09IFBSSU9SSVRZX0RJU0FCTEVEKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYi5jYWxsKGxpc3RlbmVyLnNlbGYsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoYikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBjYWxsaW5nIGV2ZW50IFwiICsgZXZlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0SGFuZGxlcihldmVudDogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXIpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbaGFuZGxlcl07XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBsaXN0ZW5lcnM7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxO1xuICAgICAgICBmb3IgKDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0ucHJpb3JpdHkgPj0gaGFuZGxlci5wcmlvcml0eSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGF0IHBvc2l0aW9uXG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMCwgaGFuZGxlcilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAgICAgKi9cbiAgICBvbihldmVudDogc3RyaW5nLCBmbjogTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSwgcHJpb3JpdHk6IG51bWJlciA9IDApOiB0aGlzIHtcbiAgICAgICAgdGhpcy5pbnNlcnRIYW5kbGVyKGV2ZW50LCB7XG4gICAgICAgICAgICBjYjogZm4sXG4gICAgICAgICAgICBzZWxmOiBjb250ZXh0LFxuICAgICAgICAgICAgb25jZTogZmFsc2UsXG4gICAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb25jZShldmVudDogc3RyaW5nLCBmbjogTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSk6IHRoaXMge1xuICAgICAgICB0aGlzLmluc2VydEhhbmRsZXIoZXZlbnQsIHtcbiAgICAgICAgICAgIGNiOiBmbixcbiAgICAgICAgICAgIHNlbGY6IGNvbnRleHQsXG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9IGFzIEV2ZW50SGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb2ZmKGV2ZW50OiBzdHJpbmcsIGZuOiBMaXN0ZW5lckZuLCBjb250ZXh0PzogYW55LCBvbmNlPzogYm9vbGVhbik6IHRoaXMge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgZXZlbnQgJyArIGV2ZW50KTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5jYiA9PT0gZm4gJiYgbGlzdGVuZXIuc2VsZiA9PT0gY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBldmVudCAnICsgZXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqL1xuICAgIHJlbW92ZUFsbExpc3RlbmVycyhldmVudD86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICBpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJlb3JkZXJPYmplY3RzKHByaW9yaXR5TGlzdDogYW55W10sIGRlZmF1bHRQcmlvcml0eTogbnVtYmVyID0gLTEpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiB0aGlzLmV2ZW50cykge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbbmFtZV07XG4gICAgICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5wcmlvcml0eSA9IHByaW9yaXR5TGlzdC5pbmRleE9mKGxpc3RlbmVyLnNlbGYpO1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA8IDApIGxpc3RlbmVyLnByaW9yaXR5ID0gZGVmYXVsdFByaW9yaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVjcmVzY2VudCBvcmRlclxuICAgICAgICAgICAgbGlzdGVuZXJzLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZENoaWxkKGVtaXR0ZXI6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGVtaXR0ZXIpO1xuICAgIH1cblxuICAgIHJlbW92ZUNoaWxkKGVtaXR0ZXI6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGVtaXR0ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAzZDMyNGQ2JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwM2QzMjRkNicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwM2QzMjRkNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwM2QzMjRkNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAzZDMyNGQ2JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzAzZDMyNGQ2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWVmZDcwMTYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNWVmZDcwMTYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNWVmZDcwMTYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNWVmZDcwMTYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWVmZDcwMTYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNWVmZDcwMTYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc0Rvb3IudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE4NjJlOGI1JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc0Rvb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMTg2MmU4YjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMTg2MmU4YjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMTg2MmU4YjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc0Rvb3IudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE4NjJlOGI1JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzE4NjJlOGI1Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcyNGUwMTFmJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc3MjRlMDExZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3MjRlMDExZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3MjRlMDExZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcyNGUwMTFmJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzcyNGUwMTFmJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTNlNzY4OTEyJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnM2U3Njg5MTInKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnM2U3Njg5MTInLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnM2U3Njg5MTInLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTNlNzY4OTEyJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzNlNzY4OTEyJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzTm90ZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MmVmZmIyZjkmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzTm90ZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzJlZmZiMmY5JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yZWZmYjJmOSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcyZWZmYjJmOScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjZkODhlNWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMjZkODhlNWUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMjZkODhlNWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMjZkODhlNWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjZkODhlNWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMjZkODhlNWUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1Bpbi52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjM2Y2VlYTgmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNjM2Y2VlYTgnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNjM2Y2VlYTgnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNjM2Y2VlYTgnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjM2Y2VlYTgmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNjM2Y2VlYTgnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lODFlNGRhMCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZTgxZTRkYTAnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lODFlNGRhMCZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdlODFlNGRhMCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kNGYwZjQyYyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2Q0ZjBmNDJjJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2Q0ZjBmNDJjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2Q0ZjBmNDJjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kNGYwZjQyYyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdkNGYwZjQyYycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUHJvcC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDhiMmQxYjUmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMDhiMmQxYjVcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwOGIyZDFiNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwOGIyZDFiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwOGIyZDFiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wOGIyZDFiNSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwOGIyZDFiNScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZWU4N2JmNSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc0ZWU4N2JmNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc0ZWU4N2JmNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc0ZWU4N2JmNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZWU4N2JmNSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc0ZWU4N2JmNScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzV2FsbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzdlMjJlNWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzV2FsbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCczN2UyMmU1ZScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCczN2UyMmU1ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCczN2UyMmU1ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzV2FsbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzdlMjJlNWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMzdlMjJlNWUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1dhbGwudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jNDA3ZGJmYSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnYzQwN2RiZmEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnYzQwN2RiZmEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnYzQwN2RiZmEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0MDdkYmZhJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2M0MDdkYmZhJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vY3JlYXRpb25PcHRpb25zLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZDczNzY5ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9jcmVhdGlvbk9wdGlvbnMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9jcmVhdGlvbk9wdGlvbnMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1ZDczNzY5ZScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1ZDczNzY5ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1ZDczNzY5ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vY3JlYXRpb25PcHRpb25zLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZDczNzY5ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1ZDczNzY5ZScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L2NyZWF0aW9uT3B0aW9ucy52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUzYjQ2MDUxJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1M2I0NjA1MScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1M2I0NjA1MScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1M2I0NjA1MScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTNiNDYwNTEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTNiNDYwNTEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY5ZTZlMjIxJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc2OWU2ZTIyMScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc2OWU2ZTIyMScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc2OWU2ZTIyMScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY5ZTZlMjIxJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzY5ZTZlMjIxJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9saWdodFNldHRpbmdzRWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTJhNTA1MjImXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9saWdodFNldHRpbmdzRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzUyYTUwNTIyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzUyYTUwNTIyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzUyYTUwNTIyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9saWdodFNldHRpbmdzRWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTJhNTA1MjImXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTJhNTA1MjInLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9saWdodFNldHRpbmdzRWRpdC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3JlY29ubmVjdGlvbk1vZGFsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZDRjMGY3YiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3JlY29ubmVjdGlvbk1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNGQ0YzBmN2InKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNGQ0YzBmN2InLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNGQ0YzBmN2InLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL3JlY29ubmVjdGlvbk1vZGFsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZDRjMGY3YiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc0ZDRjMGY3YicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L3JlY29ubmVjdGlvbk1vZGFsLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vc2lkZUJhci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDc1NTk4Y2EmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vc2lkZUJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzA3NTU5OGNhJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzA3NTU5OGNhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzA3NTU5OGNhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wNzU1OThjYSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwNzU1OThjYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi90b29sQmFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mZGU4ZTc4YyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZmRlOGU3OGMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZmRlOGU3OGMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZmRlOGU3OGMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWZkZThlNzhjJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2ZkZThlNzhjJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Zvb3Rlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTM5ZjJiZmYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzUzOWYyYmZmJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzUzOWYyYmZmJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzUzOWYyYmZmJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUzOWYyYmZmJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzUzOWYyYmZmJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Zvb3Rlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2hvbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ4NTUwYjRhJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdkODU1MGI0YScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdkODU1MGI0YScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdkODU1MGI0YScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vaG9tZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDg1NTBiNGEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZDg1NTBiNGEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdlOWQ0MDZjJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc3ZTlkNDA2YycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3ZTlkNDA2YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3ZTlkNDA2YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdlOWQ0MDZjJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzdlOWQ0MDZjJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiPHRlbXBsYXRlPlxuICAgIDwhLS10cmFuc2l0aW9uIG5hbWU9XCJtb2RhbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtbWFza1wiXG4gICAgICAgICAgICAgb25kcmFnZW50ZXI9XCJldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIlxuICAgICAgICAgICAgIG9uZHJhZ292ZXI9XCJldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIlxuICAgICAgICAgICAgIHYtb246b25kcm9wPVwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IG9uRHJvcChldmVudClcIlxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zZXJ0IG1hcCB0byBsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcCBsb2FkaW5nIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGZvb3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1kZWZhdWx0LWJ1dHRvblwiIEBjbGljaz1cIiRlbWl0KCdjYW5jZWwnKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC90cmFuc2l0aW9uLS0+XG4gICAgPGItbW9kYWwgcmVmPVwibXktbW9kYWxcIiBoaWRlLWZvb3RlciB0aXRsZT1cIkdpbW1lIHRoZSBtYXBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImQtYmxvY2sgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxoMz5JbnNlcnQgbWFwIHRvIGxvYWQ8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGItYnV0dG9uIGNsYXNzPVwibXQtM1wiIHZhcmlhbnQ9XCJvdXRsaW5lLWRhbmdlclwiIGJsb2NrIEBjbGljaz1cImhpZGVNb2RhbFwiPkNhbmNlbDwvYi1idXR0b24+XG4gICAgPC9iLW1vZGFsPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgICBleHBvcnQgZGVmYXVsdCB7XG4gICAgICAgIG5hbWU6IFwibWFwSW5wdXRcIixcbiAgICAgICAgZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgICAgb25Ecm9wOiBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGVNb2RhbDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJjbG9zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG48L3N0eWxlPiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaGV4YWdvbkljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdjNzE4ZjEwJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2hleGFnb25JY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaGV4YWdvbkljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc3YzcxOGYxMCcpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3YzcxOGYxMCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3YzcxOGYxMCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vaGV4YWdvbkljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdjNzE4ZjEwJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzdjNzE4ZjEwJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2ljb25zL2hleGFnb25JY29uLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTU2NzNiYjczJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL21vdXNlVHJhaWxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1NjczYmI3MycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1NjczYmI3MycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1NjczYmI3MycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTU2NzNiYjczJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzU2NzNiYjczJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE1ZGNjYzljJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcxNWRjY2M5YycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcxNWRjY2M5YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcxNWRjY2M5YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE1ZGNjYzljJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzE1ZGNjYzljJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2ljb25zL3dhbGxJY29uLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjEwYWY0OTYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2IxMGFmNDk2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2IxMGFmNDk2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2IxMGFmNDk2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iMTBhZjQ5NiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdiMTBhZjQ5NicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iOGFkNmUxNCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnYjhhZDZlMTQnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnYjhhZDZlMTQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnYjhhZDZlMTQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWI4YWQ2ZTE0JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2I4YWQ2ZTE0Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VkaXRhYmxlTnVtYmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02ZmUxMDA0NiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2VkaXRhYmxlTnVtYmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNmZlMTAwNDYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNmZlMTAwNDYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNmZlMTAwNDYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VkaXRhYmxlTnVtYmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02ZmUxMDA0NiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc2ZmUxMDA0NicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jNzY5NjUyYyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnYzc2OTY1MmMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnYzc2OTY1MmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnYzc2OTY1MmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9Yzc2OTY1MmMmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignYzc2OTY1MmMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0Rvb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0Rvb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTm90ZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTm90ZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY3JlYXRpb25PcHRpb25zLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jcmVhdGlvbk9wdGlvbnMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vcmVjb25uZWN0aW9uTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3JlY29ubmVjdGlvbk1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9oZXhhZ29uSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaGV4YWdvbkljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tb3VzZVRyYWlsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi93YWxsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlTnVtYmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF9jKFwiZGl2XCIsIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXJcIiB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS52aXNpYmxlID0gIV92bS52aXNpYmxlXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtfdm0uX3YoXCIgXCIgKyBfdm0uX3MoX3ZtLmNvbXBvbmVudC50eXBlTmFtZSkpXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImRpdlwiLCB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImN3cmFwcGVyX2NvbXBvbmVudC1hcnJvd1wiLFxuICAgICAgICAgICAgICBjbGFzczogeyBjd3JhcHBlcl9yb3RhdGU6IF92bS52aXNpYmxlIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY1N0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiB9IH0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImdyaWRcIiB9LFxuICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJIaWRlIGNvbXBvbmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiU2hvdyBjb21wb25lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGllbnRWaXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQubXVsdGlJZFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWV5ZVwiIH0pXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICFfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCIhY29tcG9uZW50LmNsaWVudFZpc2libGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllLXNsYXNoXCIgfSldXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5faXNGdWxsc2NyZWVuICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuICE9PSB1bmRlZmluZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IFwicHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkZ1bGxzY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC5faXNGdWxsc2NyZWVuID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leHBhbmRcIiB9KV1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50Ll9jYW5EZWxldGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5fY2FuRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRlbGV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVtb3ZlQ29tcG9uZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC5tdWx0aUlkXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXRyYXNoXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1jb2xsYXBzZVwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwiY3dyYXBwZXJfY29tcG9uZW50LWJvZHlcIixcbiAgICAgICAgICBhdHRyczogeyB2aXNpYmxlOiBcIlwiIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0udmlzaWJsZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS52aXNpYmxlID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKF92bS5jb21wb25lbnRUeXBlLCB7XG4gICAgICAgICAgICB0YWc6IFwiY29tcG9uZW50XCIsXG4gICAgICAgICAgICBhdHRyczogeyBjb21wb25lbnQ6IF92bS5jb21wb25lbnQsIGlzQWRtaW46IF92bS5pc0FkbWluIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIjogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXG4gICAgICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIixcbiAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1syXSxcbiAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1szXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcInNwYW5cIiwgW192bS5fdihcIllvdXIgcmVndWxhciBiYWNrZ3JvdW5kIGltYWdlXCIpXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVHlwZTpcXG4gICAgXCIpLFxuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwic3BhblwiLCBbXG4gICAgICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgIFwiICsgX3ZtLl9zKHRoaXMuZG9vclR5cGVOYW1lKSArIFwiXFxuICAgIFwiKSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItZm9ybS1zZWxlY3RcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm1iLTNcIixcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5kb29yVHlwZSxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS5kb29yVHlwZSA9ICQkdlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZG9vclR5cGVcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vcm1hbGxcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIk5vcm1hbFwiKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFwiYi1mb3JtLXNlbGVjdC1vcHRpb25cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJub3JtYWxyXCIgfSB9LCBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCJOb3JtYWwgcmlnaHRcIiksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcImItZm9ybS1zZWxlY3Qtb3B0aW9uXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwicm90YXRlXCIgfSB9LCBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCJSb3RhdGluZ1wiKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhfdm0ub3BlbiA/IFwiT3BlblwiIDogXCJDbG9zZWRcIikpXSlcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmxvY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0aGlzLmxvY2tlZFwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWxvY2tcIiB9KV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHByZXNzZWQ6IF92bS5vcGVuIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIFwidXBkYXRlOnByZXNzZWRcIjogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdm0ub3BlbiA9ICRldmVudFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyhfdm0ub3BlbiA/IFwiT3BlblwiIDogXCJDbG9zZWRcIikpXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgcHJlc3NlZDogX3ZtLmxvY2tlZCB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBcInVwZGF0ZTpwcmVzc2VkXCI6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLmxvY2tlZCA9ICRldmVudFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImxvY2tlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1sb2NrXCIgfSldXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhX3ZtLmxvY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiIWxvY2tlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1sb2NrLW9wZW5cIiB9KV1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgQ29sb3I6XFxuICAgIFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1jb2xvclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uY29sb3IsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0uY29sb3IgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbG9yXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVmlzaWJpbGl0eSBSYW5nZTpcXG4gICAgXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiwgaXNOZWdhdGl2ZTogXCJmYWxzZVwiIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5yYW5nZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5yYW5nZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwicmFuZ2VcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImVkaXRhYmxlLXRleHRcIiwge1xuICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sIHBsYWNlaG9sZGVyOiBcIkVudGl0eSBuYW1lXCIgfSxcbiAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgIG1vZGVsOiB7XG4gICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5uYW1lLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgX3ZtLiRzZXQoX3ZtLmNvbXBvbmVudCwgXCJuYW1lXCIsICQkdilcbiAgICAgIH0sXG4gICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5uYW1lXCIsXG4gICAgfSxcbiAgfSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF9jKFwiYi10ZXh0YXJlYVwiLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcImhwcmlvciBlY3Mtbm90ZV90ZXh0YXJlYVwiLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXCIsXG4gICAgICAgICAgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbixcbiAgICAgICAgfSxcbiAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICB2YWx1ZTogX3ZtLm5vdGUsXG4gICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgIF92bS5ub3RlID0gJCR2XG4gICAgICAgICAgfSxcbiAgICAgICAgICBleHByZXNzaW9uOiBcIm5vdGVcIixcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItbW9kYWxcIixcbiAgICAgICAge1xuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0aXRsZTogXCJOb3RlXCIsXG4gICAgICAgICAgICBcImhpZGUtZm9vdGVyXCI6IFwiXCIsXG4gICAgICAgICAgICBcImhpZGUtaGVhZGVyXCI6IFwiXCIsXG4gICAgICAgICAgICBcImRpYWxvZy1jbGFzc1wiOiBcIm1vZGFsLWZ1bGxzY3JlZW4gbW9kYWwteHhsXCIsXG4gICAgICAgICAgICBcImNvbnRlbnQtY2xhc3NcIjogXCJtb2RhbC1jb250ZW50LWRhcmtcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBrZXk6IFwibW9kYWwtZm9vdGVyXCIsXG4gICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwcm94eTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSksXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4sXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0uJHNldChfdm0uY29tcG9uZW50LCBcIl9pc0Z1bGxzY3JlZW5cIiwgJCR2KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW5cIixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJiLXRleHRhcmVhXCIsIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImhwcmlvciBlY3Mtbm90ZV90ZXh0YXJlYVwiLFxuICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgaGVpZ2h0OiBcIjEwMCVcIiwgcmVzaXplOiBcIm5vbmVcIiB9LFxuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiV3JpdGUgc29tZXRoaW5nIGhlcmUuLi5cIixcbiAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS5ub3RlLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgIF92bS5ub3RlID0gJCR2XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibm90ZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgPyBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgIENvbG9yOlxcbiAgICAgIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcImVkaXRhYmxlLWNvbG9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5jb2xvciA9ICQkdlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbG9yXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApLFxuICAgICAgICAgIF1cbiAgICAgICAgOiBfdm0uX2UoKSxcbiAgICBdLFxuICAgIDJcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgTmlnaHQgdmlzaW9uOlxcbiAgICBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItZm9ybS1jaGVja2JveFwiLCB7XG4gICAgICAgICAgICAgIG9uOiB7IGlucHV0OiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm5pZ2h0VmlzaW9uLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICBfdm0ubmlnaHRWaXNpb24gPSAkJHZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibmlnaHRWaXNpb25cIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLm5pZ2h0VmlzaW9uID8gXCJ5ZXNcIiA6IFwibm9cIikpLFxuICAgICAgICAgICAgXSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVmlzaWJpbGl0eSBSYW5nZTpcXG4gICAgXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiwgaXNOZWdhdGl2ZTogXCJmYWxzZVwiIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5yYW5nZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5yYW5nZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwicmFuZ2VcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFg6IFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLngsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0ueCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwieFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFk6IFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnksXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0ueSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwieVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIpXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LCBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBUYXJnZXQ6IFwiKSxcbiAgICAgICAgX2MoXCJzcGFuXCIsIHsgb246IHsgY2xpY2s6IF92bS5mb2N1c1RhcmdldCB9IH0sIFtcbiAgICAgICAgICBfdm0uX3YoX3ZtLl9zKHRoaXMuY29tcG9uZW50LnRhcmdldFByb3ApKSxcbiAgICAgICAgXSksXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS5saW5rIH0gfSwgW192bS5fdihcIkxpbmtcIildKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS51c2UgfSB9LCBbX3ZtLl92KFwiVXNlXCIpXSksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIEFuZ2xlOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5yb3RhdGlvbixcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5yb3RhdGlvbiA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwicm90YXRpb25cIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBTY2FsZTogXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uc2NhbGUsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0uc2NhbGUgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInNjYWxlXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBXOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIXRoaXMuaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0udyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS53ID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ3XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgSDogXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICF0aGlzLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmgsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0uaCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiaFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICB2YWx1ZTogX3ZtLmRhdGEuY29tcG9uZW50cy5sZW5ndGggPiAwLFxuICAgICAgICAgIGV4cHJlc3Npb246IFwiZGF0YS5jb21wb25lbnRzLmxlbmd0aCA+IDBcIixcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgeyBzdGF0aWNDbGFzczogXCJlbnRpdHktaW5zcGVjdF9jb21wb25lbnQtYnRuLWhlYWRlclwiIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgXCJ0b2dnbGUtY2xhc3NcIjogXCJyb3VuZGVkLTBcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIgfSxcbiAgICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiYnV0dG9uLWNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXBsdXNcIiB9KV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgMTc3NDU1NDY0MVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLmRhdGEuYWRkYWJsZSwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB4LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZW1pdFNwZWNpYWwoXCJhZGRDb21wb25lbnRcIiwgeC50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJcXG4gICAgICAgIFwiICsgX3ZtLl9zKHgubmFtZSkgKyBcIlxcbiAgICAgIFwiKV1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZ3JpZFwiIH0sXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3ZtLmRhdGEuaGlkZGVuID8gXCJTaG93IGVudGl0eVwiIDogXCJIaWRlIGVudGl0eVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImhpZGRlblwiLCAhX3ZtLmRhdGEuaGlkZGVuKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IF92bS5kYXRhLmhpZGRlbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWV5ZS1zbGFzaFwiIH0pXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImcxMVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBfdm0uZGF0YS5oaWRkZW4gPyBcImhpZGRlblwiIDogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWVcIiB9KV1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEZWxldGUgZW50aXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTcGVjaWFsKFwiZGVsZXRlXCIpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS10cmFzaFwiIH0pXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYW5kOiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJGb3JnZXQgZW50aXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTcGVjaWFsKFwiZm9yZ2V0XCIpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1lcmFzZXJcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfdm0uX2woX3ZtLmRhdGEuY29tcG9uZW50cywgZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgcmV0dXJuIF9jKFwiZWNzLWNvbXBvbmVudC13cmFwcGVyXCIsIHtcbiAgICAgICAgICBrZXk6IGNvbXAudHlwZSArIChjb21wLm11bHRpSWQgfHwgXCJcIiksXG4gICAgICAgICAgYXR0cnM6IHsgY29tcG9uZW50OiBjb21wLCBpc0FkbWluOiBfdm0ud29ybGQuaXNNYXN0ZXIgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCI6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkVjc1Byb3BlcnR5Q2hhbmdlKFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1szXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICB9KSxcbiAgICBdLFxuICAgIDJcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF92bS52aXNpYmxlXG4gICAgPyBfYyhcInNlY3Rpb25cIiwgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgIENyZWF0ZSBvbmNlOlxcbiAgICBcIiksXG4gICAgICAgICAgICBfYyhcImItZm9ybS1jaGVja2JveFwiLCB7XG4gICAgICAgICAgICAgIG9uOiB7IGlucHV0OiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmV4aXRBZnRlckNyZWF0aW9uLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICBfdm0uZXhpdEFmdGVyQ3JlYXRpb24gPSAkJHZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZXhpdEFmdGVyQ3JlYXRpb25cIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgXSlcbiAgICA6IF92bS5fZSgpXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IHN0YXRpY0NsYXNzOiBcImVkaXQtbWFwX2dhbWVcIiB9LFxuICAgIFtcbiAgICAgIF9jKFwidG9vbC1iYXJcIiwgeyBhdHRyczogeyB3b3JsZDogX3ZtLndvcmxkIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICBzdGF0aWNTdHlsZToge1xuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxMDB2aCAtIHZhcigtLXRvcGJhci1oZWlnaHQpKVwiLFxuICAgICAgICB9LFxuICAgICAgICBhdHRyczogeyBpZDogXCJjYW52YXMtY29udGFpbmVyXCIgfSxcbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwic2lkZS1iYXJcIiwgeyBhdHRyczogeyB3b3JsZDogX3ZtLndvcmxkIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgIV92bS53b3JsZC5pc01hc3RlclxuICAgICAgICA/IF9jKFwicmVjb25uZWN0aW9uLW1vZGFsXCIsIHsgYXR0cnM6IHsgd29ybGQ6IF92bS53b3JsZCB9IH0pXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJhXCIsIHtcbiAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJub25lXCIgfSxcbiAgICAgICAgYXR0cnM6IHsgaWQ6IFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcIiB9LFxuICAgICAgfSksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF92bS5fdihcIlxcbiAgVHlwZTpcXG4gIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItcmFkaW8tZ3JvdXBcIixcbiAgICAgICAge1xuICAgICAgICAgIGF0dHJzOiB7IGlkOiBcImdyaWQtdHlwZS1yYWRpb1wiLCBidXR0b25zOiBcIlwiIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC50eXBlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwidHlwZVwiLCAkJHYpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnR5cGVcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJiLXJhZGlvXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwibm9uZVwiIH0gfSwgW1xuICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWJvcmRlci1ub25lXCIgfSksXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImItcmFkaW9cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJzcXVhcmVcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhciBmYS1zcXVhcmVcIiB9KSxcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiYi1yYWRpb1wiLCB7IGF0dHJzOiB7IHZhbHVlOiBcImhleFwiIH0gfSwgW19jKFwiaGV4YWdvbi1pY29uXCIpXSwgMSksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX3ZtLmdyaWQudHlwZSAhPT0gXCJub25lXCJcbiAgICAgICAgPyBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCBbX3ZtLl92KFwiVW5pdDpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBzaXplOiBcInNtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnVuaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ1bml0XCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQudW5pdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIFtfdm0uX3YoXCJTaXplOlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjEwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiNTEyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJzaXplXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQuc2l6ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIxMFwiLCBtYXg6IFwiNTEyXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnNpemUsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJzaXplXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQuc2l6ZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgW192bS5fdihcIlhvZmZzZXQ6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IFwiMC4wMDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9mZlhcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vZmZYXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwicmFuZ2VcIiwgbWluOiBcIjBcIiwgbWF4OiBcIjFcIiwgc3RlcDogXCIwLjAwMVwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZYLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZlhcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiWW9mZnNldDpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogXCIwLjAwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZZLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZllcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMFwiLCBtYXg6IFwiMVwiLCBzdGVwOiBcIjAuMDAxXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9mZlksXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZZXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCJcXG5cXG4gICAgQ29sb3I6IFwiICsgX3ZtLl9zKF92bS5ncmlkLmNvbG9yKSArIFwiXFxuICAgIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwiY29sb3JcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5jb2xvclwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJPcGFjaXR5OlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiBcIjAuMDAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvcGFjaXR5XCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub3BhY2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIwXCIsIG1heDogXCIxXCIsIHN0ZXA6IFwiMC4wMDFcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9wYWNpdHlcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vcGFjaXR5XCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIlRoaWNrbmVzczpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnRoaWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwidGhpY2tcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC50aGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIxXCIsIG1heDogXCIyMDBcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQudGhpY2ssXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ0aGlja1wiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnRoaWNrXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKSxcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicHgtMyBweS0yXCIgfSwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiTGlnaHQ6XCIpXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiLCByZWFkb25seTogIV92bS53b3JsZC5pc01hc3RlciB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uYW1iaWVudExpZ2h0LFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLmFtYmllbnRMaWdodCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiYW1iaWVudExpZ2h0XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIk5lZWRzIGxpZ2h0OlwiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImItZm9ybS1jaGVja2JveFwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0ud29ybGQuaXNNYXN0ZXIgfSxcbiAgICAgICAgICBvbjogeyBpbnB1dDogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmVlZHNMaWdodCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5uZWVkc0xpZ2h0ID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJuZWVkc0xpZ2h0XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIlZpc2lvbiB0eXBlOlwiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgcHJlc3NlZDogX3ZtLnJvbGVwbGF5VmlzaW9uLFxuICAgICAgICAgICAgICByZWFkb25seTogIV92bS53b3JsZC5pc01hc3RlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBcInVwZGF0ZTpwcmVzc2VkXCI6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdm0ucm9sZXBsYXlWaXNpb24gPSAkZXZlbnRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgIFwiXFxuICAgICAgXCIgK1xuICAgICAgICAgICAgICAgIF92bS5fcyhfdm0ucm9sZXBsYXlWaXNpb24gPyBcIlJvbGVwbGF5ZXJcIiA6IFwiTWFzdGVyXCIpICtcbiAgICAgICAgICAgICAgICBcIlxcbiAgICBcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBdXG4gICAgICAgICksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIkJhY2tncm91bmQ6XCIpXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiLCByZWFkb25seTogIV92bS53b3JsZC5pc01hc3RlciB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5iYWNrZ3JvdW5kID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICBbXG4gICAgICAgIF9jKFwiYi1idXR0b25cIiwgeyBvbjogeyBjbGljazogX3ZtLm9uTGlnaHRTZXR0aW5nc1Jlc2V0IH0gfSwgW1xuICAgICAgICAgIF92bS5fdihcIlJlc2V0XCIpLFxuICAgICAgICBdKSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImItbW9kYWxcIixcbiAgICB7XG4gICAgICBhdHRyczoge1xuICAgICAgICBcIm5vLWNsb3NlLW9uLWJhY2tkcm9wXCI6IFwiXCIsXG4gICAgICAgIFwibm8tY2xvc2Utb24tZXNjXCI6IFwiXCIsXG4gICAgICAgIFwiaGlkZS1oZWFkZXItY2xvc2VcIjogXCJcIixcbiAgICAgICAgXCJoZWFkZXItYmctdmFyaWFudFwiOiBcImRhcmtcIixcbiAgICAgICAgXCJoZWFkZXItdGV4dC12YXJpYW50XCI6IFwibGlnaHRcIixcbiAgICAgICAgXCJoZWFkZXItY2xhc3NcIjogXCJib3JkZXItYm90dG9tLTBcIixcbiAgICAgICAgXCJib2R5LWJnLXZhcmlhbnRcIjogXCJkYXJrXCIsXG4gICAgICAgIFwiYm9keS10ZXh0LXZhcmlhbnRcIjogXCJsaWdodFwiLFxuICAgICAgICBcImZvb3Rlci1iZy12YXJpYW50XCI6IFwiZGFya1wiLFxuICAgICAgICBcImZvb3Rlci10ZXh0LXZhcmlhbnRcIjogXCJsaWdodFwiLFxuICAgICAgICBcImZvb3Rlci1jbGFzc1wiOiBcImJvcmRlci10b3AtMFwiLFxuICAgICAgICB0aXRsZTogXCJDb25uZWN0aW5nLi4uXCIsXG4gICAgICB9LFxuICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6IFwibW9kYWwtZm9vdGVyXCIsXG4gICAgICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczogeyBzaXplOiBcInNtXCIsIHZhcmlhbnQ6IFwib3V0bGluZS1zZWNvbmRhcnlcIiB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnN0b3AoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJcXG4gICAgICBDYW5jZWxcXG4gICAgXCIpXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJveHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICBdKSxcbiAgICAgIG1vZGVsOiB7XG4gICAgICAgIHZhbHVlOiBfdm0uc2hvdWxkQmVTaG93bixcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICBfdm0uc2hvdWxkQmVTaG93biA9ICQkdlxuICAgICAgICB9LFxuICAgICAgICBleHByZXNzaW9uOiBcInNob3VsZEJlU2hvd25cIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBbX3ZtLl92KFwiXFxuICBcIiArIF92bS5fcyhfdm0uYm9keU1lc3NhZ2UpICsgXCJcXG5cXG4gIFwiKV1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiYi1zaWRlYmFyXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgaWQ6IFwic2lkZWJhci1yaWdodFwiLFxuICAgICAgICB0aXRsZTogXCJTaWRlYmFyXCIsXG4gICAgICAgIFwiYmctdmFyaWFudFwiOiBcImRhcmtcIixcbiAgICAgICAgXCJ0ZXh0LXZhcmlhbnRcIjogXCJsaWdodFwiLFxuICAgICAgICByaWdodDogXCJcIixcbiAgICAgICAgdmlzaWJsZTogXCJcIixcbiAgICAgICAgXCJuby1oZWFkZXJcIjogXCJcIixcbiAgICAgICAgc2hhZG93OiBcIlwiLFxuICAgICAgICBcInNpZGViYXItY2xhc3NcIjogXCJ1bmRlci1uYXZiYXJcIixcbiAgICAgIH0sXG4gICAgICBzY29wZWRTbG90czogX3ZtLl91KFtcbiAgICAgICAge1xuICAgICAgICAgIGtleTogXCJmb290ZXJcIixcbiAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJzaWRlYmFyLWZvb3RlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBcIiArIF92bS5fcyhfdm0udHJhY2tlckNvdW50KSArIFwiXFxuICAgICAgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuMnJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXNlcnZlclwiIH0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgIFwiICsgX3ZtLl9zKF92bS5jb25uZWN0aW9uQ291bnQpICsgXCJcXG4gICAgICBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGFzczogeyByb3RhdGU6IF92bS5jb25uZWN0aW9uQnVmZmVyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjJyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtc3luYy1hbHRcIiB9KV1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3h5OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgXSksXG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcImdyaWQtZWRpdFwiLCB7XG4gICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wgPT09IFwiZ3JpZFwiLFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnZ3JpZCdcIixcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBzdGF0aWNDbGFzczogXCJweC0zIHB5LTJcIixcbiAgICAgICAgYXR0cnM6IHsgd29ybGQ6IF92bS53b3JsZCB9LFxuICAgICAgfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wgPT09IFwiaW5zcGVjdFwiLFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInRvb2wgPT09ICdpbnNwZWN0J1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICBbX2MoXCJlbnRpdHktaW5zcGVjdFwiLCB7IGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfSB9KV0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJsaWdodC1zZXR0aW5ncy1lZGl0XCIsIHtcbiAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgIHZhbHVlOiBfdm0udG9vbCA9PT0gXCJsaWdodFwiLFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnbGlnaHQnXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgYXR0cnM6IHsgd29ybGQ6IF92bS53b3JsZCB9LFxuICAgICAgfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJjcmVhdGlvbi1vcHRpb25zXCIsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6IFwicHgtMyBweS0yXCIsXG4gICAgICAgIGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfSxcbiAgICAgIH0pLFxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJiLWJ1dHRvbi10b29sYmFyXCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiYmctZGFya1wiLFxuICAgICAgc3RhdGljU3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwidmFyKC0tdG9wYmFyLWhlaWdodClcIixcbiAgICAgICAgXCJ6LWluZGV4XCI6IFwiMTAwMFwiLFxuICAgICAgfSxcbiAgICAgIGF0dHJzOiB7IHR5cGU6IFwiZGFya1wiLCB2YXJpYW50OiBcImluZm9cIiwganVzdGlmeTogXCJcIiB9LFxuICAgIH0sXG4gICAgW1xuICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgID8gX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uLWdyb3VwXCIsXG4gICAgICAgICAgICB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLXJpZ2h0XCI6IFwiMnJlbVwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplIHVuZG8tcmVkby1idG5cIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlVuZG9cIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICF0aGlzLmNhblVuZG8sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnVuZG8oKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdW5kb1wiIH0pXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemUgdW5kby1yZWRvLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUmVkb1wiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMuY2FuUmVkbyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVkbygpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1yZWRvXCIgfSldXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLXJhZGlvLWdyb3VwXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBhdHRyczogeyBidXR0b25zOiBcIlwiIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0udG9vbCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS50b29sID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlZjogXCJyYWRpb2luc3BlY3RcIixcbiAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICBcInRvb2xiYXItYnRuXCI6IHRoaXMuYmFja2dyb3VuZExvY2tlZCxcbiAgICAgICAgICAgICAgICBcImJ0bi13YXJuaW5nXCI6ICF0aGlzLmJhY2tncm91bmRMb2NrZWQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkluc3BlY3RcIiwgdmFsdWU6IFwiaW5zcGVjdFwiLCBzcXVhcmVkOiBcIlwiIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1oYW5kLXBvaW50ZXJcIiB9KV1cbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJBZGQgd2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJjcmVhdGVfd2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcIndhbGwtaWNvblwiKV0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJBZGQgcHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJjcmVhdGVfcHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtY291Y2hcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiQWRkIHBpblwiLCB2YWx1ZTogXCJjcmVhdGVfcGluXCIsIHNxdWFyZWQ6IFwiXCIgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdGh1bWJ0YWNrXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkVkaXQgZ3JpZFwiLCB2YWx1ZTogXCJncmlkXCIsIHNxdWFyZWQ6IFwiXCIgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtYm9yZGVyLWFsbFwiIH0pXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJMaWdodCBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJsaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbGlnaHRidWxiXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIk1lYXN1cmVcIiwgdmFsdWU6IFwibWVhc3VyZVwiLCBzcXVhcmVkOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXJ1bGVyXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVwiLFxuICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIk1vdXNlIHRyYWlsXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwibW91c2VfdHJhaWxcIixcbiAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfYyhcIm1vdXNlLXRyYWlsLWljb25cIildLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgID8gX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi14c1wiLFxuICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJFeHBvcnQgbWFwXCIsIHNxdWFyZWQ6IFwiXCIsIHZhcmlhbnQ6IFwic3VjY2Vzc1wiIH0sXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ud29ybGQuZXZlbnRzLmVtaXQoXCJleHBvcnRfbWFwXCIpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWRvd25sb2FkXCIgfSldXG4gICAgICAgICAgKVxuICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljU3R5bGU6IHsgZmxleDogXCIxIDEgMFwiIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAge1xuICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJiLXRvZ2dsZVwiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtYi10b2dnbGUuc2lkZWJhci1yaWdodFwiLFxuICAgICAgICAgICAgICBtb2RpZmllcnM6IHsgXCJzaWRlYmFyLXJpZ2h0XCI6IHRydWUgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4teHNcIixcbiAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJUb2dnbGUgc2lkZWJhclwiLCB2YXJpYW50OiBcIndhcm5pbmdcIiB9LFxuICAgICAgICB9LFxuICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWFuZ2xlLWRvdWJsZS1yaWdodFwiIH0pXVxuICAgICAgKSxcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF92bS5fbSgwKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZm9vdGVyXCIgfSwgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJmb290ZXJfY3JlZGl0c1wiIH0sIFtcbiAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJsaW5rc1wiIH0sIFtcbiAgICAgICAgICBfYyhcImFcIiwge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9vdGVyX2dpdGh1YlwiLFxuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2Rlci9kbmRtZVwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICBdKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJzbWFsbFwiLCB7IHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcImxpZ2h0Z3JheVwiIH0gfSwgW1xuICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgIERldmVsb3BlZCBieSBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9vdGVyX3Byb2ZpbGVcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICBocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Tbm93eUNvZGVyXCIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfdm0uX3YoXCJSb3NzaSBMb3JlbnpvXCIpXVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLl92KFwiIC9cXG4gICAgICBEcmF3aW5ncyBieSBcIiksXG4gICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiB9IH0sIFtcbiAgICAgICAgICAgIF92bS5fdihcIkdpb3JnaWEgTml6em9saVwiKSxcbiAgICAgICAgICBdKSxcbiAgICAgICAgXSksXG4gICAgICBdKSxcbiAgICBdKVxuICB9LFxuXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICBcInBoYXNlLWNvbnRhaW5lciB0ZXh0LWNlbnRlciBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciByb3dcIixcbiAgICAgIHN0YXRpY1N0eWxlOiB7IGhlaWdodDogXCIxMDB2aFwiLCBtYXJnaW46IFwiMFwiIH0sXG4gICAgfSxcbiAgICBbXG4gICAgICBfdm0uX20oMCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuLWVudHJ5XCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHZhcmlhbnQ6IFwid2FybmluZ1wiLCBzaXplOiBcImxnXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5vbkNyZWF0ZU1hcCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfdm0uX3YoXCJDcmVhdGUgTWFwXCIpXVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuLWVudHJ5XCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHZhcmlhbnQ6IFwiaW5mb1wiLCBzaXplOiBcImxnXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5vbkVkaXRNYXAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX3ZtLl92KFwiRWRpdCBNYXBcIildXG4gICAgICAgICAgKSxcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLW1vZGFsXCIsXG4gICAgICAgIHtcbiAgICAgICAgICByZWY6IFwibWFwLWxvYWQtbW9kYWxcIixcbiAgICAgICAgICBhdHRyczogeyBcImhpZGUtZm9vdGVyXCI6IFwiXCIsIHRpdGxlOiBcIkdpbW1lIHRoZSBtYXBcIiB9LFxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJiLWZvcm0tZmlsZVwiLCB7XG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICBzdGF0ZTogQm9vbGVhbihfdm0uZmlsZSksXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIkNob29zZSBhIGZpbGUgb3IgZHJvcCBpdCBoZXJlLi4uXCIsXG4gICAgICAgICAgICAgIFwiZHJvcC1wbGFjZWhvbGRlclwiOiBcIkRyb3AgZmlsZSBoZXJlLi4uXCIsXG4gICAgICAgICAgICAgIGFjY2VwdDogXCIuZG5kbVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0uZmlsZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICBfdm0uZmlsZSA9ICQkdlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZpbGVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJmb290ZXItY29tcG9uZW50XCIpLFxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW1xuICBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ0ZXh0LXdoaXRlXCIgfSwgW1xuICAgICAgX2MoXG4gICAgICAgIFwicFwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwidGl0bGVcIixcbiAgICAgICAgICBzdGF0aWNTdHlsZTogeyBcImZvbnQtc2l6ZVwiOiBcIjMuNWVtXCIsIG1hcmdpbjogXCIwXCIgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW192bS5fdihcIkRSQVcmRElDRVwiKV1cbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJwXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJmb250LXNpemVcIjogXCIyZW1cIiB9IH0sIFtcbiAgICAgICAgX3ZtLl92KFwiRG5kIG1hZGUgZXohXCIpLFxuICAgICAgXSksXG4gICAgXSlcbiAgfSxcbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJiLW1vZGFsXCIsXG4gICAgeyByZWY6IFwibXktbW9kYWxcIiwgYXR0cnM6IHsgXCJoaWRlLWZvb3RlclwiOiBcIlwiLCB0aXRsZTogXCJHaW1tZSB0aGUgbWFwXCIgfSB9LFxuICAgIFtcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1ibG9jayB0ZXh0LWNlbnRlclwiIH0sIFtcbiAgICAgICAgX2MoXCJoM1wiLCBbX3ZtLl92KFwiSW5zZXJ0IG1hcCB0byBsb2FkXCIpXSksXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwibXQtM1wiLFxuICAgICAgICAgIGF0dHJzOiB7IHZhcmlhbnQ6IFwib3V0bGluZS1kYW5nZXJcIiwgYmxvY2s6IFwiXCIgfSxcbiAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmhpZGVNb2RhbCB9LFxuICAgICAgICB9LFxuICAgICAgICBbX3ZtLl92KFwiQ2FuY2VsXCIpXVxuICAgICAgKSxcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6IFwic3ZnLWlubGluZS0tZmEgZmEtaGV4YWdvbiBmYS13LTE4XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICByb2xlOiBcImltZ1wiLFxuICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICB2aWV3Qm94OiBcIjAgMCA1NzYgNTEyXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXCJwYXRoXCIsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGQ6IFwiTTQ0MS41IDM5LjhDNDMyLjkgMjUuMSA0MTcuMSAxNiA0MDAgMTZIMTc2Yy0xNy4xIDAtMzIuOSA5LjEtNDEuNSAyMy44bC0xMTIgMTkyYy04LjcgMTQuOS04LjcgMzMuNCAwIDQ4LjRsMTEyIDE5MmM4LjYgMTQuNyAyNC40IDIzLjggNDEuNSAyMy44aDIyNGMxNy4xIDAgMzIuOS05LjEgNDEuNS0yMy44bDExMi0xOTJjOC43LTE0LjkgOC43LTMzLjQgMC00OC40bC0xMTItMTkyek00MDAgNDQ4SDE3Nkw2NCAyNTYgMTc2IDY0aDIyNGwxMTIgMTkyLTExMiAxOTJ6XCIsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICBdXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLXctMTZcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDIxNy40NiAyMDAuMVwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFwiZ1wiLCBbXG4gICAgICAgIF9jKFwiY2lyY2xlXCIsIHtcbiAgICAgICAgICBzdGF0aWNTdHlsZTogeyBmaWxsOiBcIiNmZmZcIiB9LFxuICAgICAgICAgIGF0dHJzOiB7IGN4OiBcIjM3Ljc4XCIsIGN5OiBcIjM4LjIzXCIsIHI6IFwiMzcuNzhcIiB9LFxuICAgICAgICB9KSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJwYXRoXCIsIHtcbiAgICAgICAgICBzdGF0aWNTdHlsZTogeyBmaWxsOiBcIiNmZmZcIiB9LFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBkOiBcIk0yMzYuNDEsMjkxaDIuMjRsMiwwLDMuOTEuMDlxMy44OC4xMSw3LjcxLjI3YzUuMTIuMjIsMTAuMi41LDE1LjI5Ljg1LDEwLjE3LjY5LDIwLjMzLDEuNjIsMzAuNTUsMi44OFMzMTguNiwyOTcuOTIsMzI5LDMwMGEyNTgsMjU4LDAsMCwxLDMxLjcsOC4yNSwxNTUuNiwxNTUuNiwwLDAsMSwxNi41LDYuNTUsMTAxLDEwMSwwLDAsMSwxNy4yNCwxMC4xLDcyLjE0LDcyLjE0LDAsMCwxLDguNzYsNy41OWMxLjQ0LDEuNDgsMi44NSwzLjA3LDQuMjIsNC43OWE1Ni43Myw1Ni43MywwLDAsMSwzLjg4LDUuNTgsNTAuNzEsNTAuNzEsMCwwLDEsNS42OSwxMy4zLDQ5LjA5LDQ5LjA5LDAsMCwxLDEuNTcsMTQuMjRjMCwxLjE0LS4xMiwyLjI3LS4yNCwzLjM3bC0uMDguODItLjEuNjktLjIxLDEuMzVjLS4yNSwxLjc2LS42NywzLjY1LTEuMDcsNS40OWE1OS44Niw1OS44NiwwLDAsMS00LjExLDExLjU4LDQ5LjIxLDQ5LjIxLDAsMCwxLTcuMzcsMTEuMjEsNDguMDksNDguMDksMCwwLDEtMTAsOC42NSw1My41OCw1My41OCwwLDAsMS0xMC41OSw1LjI4LDY3LjM4LDY3LjM4LDAsMCwxLTkuOTQsMi44LDEwNS40MywxMDUuNDMsMCwwLDEtMTcuNTMsMS44N2MtMTAuODcuMy0yMC42NC0uMzctMzAtLjc4YTI0My4zMSwyNDMuMzEsMCwwLDAtMjYuODEtLjE1Yy04LjQ1LjU4LTE2LjM2LDItMjMuMTQsNWE0NCw0NCwwLDAsMC00Ljg3LDIuNTNjLS43OC40Ny0xLjUzLDEtMi4yOCwxLjQ5bC0xLjEuODFjLS4zNy4yNi0uNzguNjEtMS4xNy45MWE0MC4xOCw0MC4xOCwwLDAsMC03LjczLDcuNzgsMTcuMzQsMTcuMzQsMCwwLDAtMi4xMSwzLjc5LDkuNjcsOS42NywwLDAsMC0uNzQsMy41N2MtLjA4LDIuNDEsMS4xLDUuNDQsMy40LDguNDVhNDMuMzQsNDMuMzQsMCwwLDAsOSw4LjQ4LDk0LDk0LDAsMCwwLDExLjU0LDcuMTEsMTgwLjEsMTgwLjEsMCwwLDAsMjYsMTAuOTIsMjcyLjIzLDI3Mi4yMywwLDAsMCwyNy42Miw3LjcxQTI3Mi43NCwyNzIuNzQsMCwwLDEsMzA2LDQ4OC41M2ExODYuNjIsMTg2LjYyLDAsMCwxLTI4Ljc3LTYuMjdBMTA2LjI1LDEwNi4yNSwwLDAsMSwyNjMsNDc2Ljc3YTU4Ljg3LDU4Ljg3LDAsMCwxLTEzLjc1LTguODYsMzYuODYsMzYuODYsMCwwLDEtNi4wOS02LjkzLDI4LjczLDI4LjczLDAsMCwxLTQuMTMtOS40LDI4LjM2LDI4LjM2LDAsMCwxLS40Ni0xMC42OSwzNi42NiwzNi42NiwwLDAsMSwyLjc5LTkuNjVBNjAuNTksNjAuNTksMCwwLDEsMjUxLDQxNi4zN2MuNDctLjUzLjg5LTEuMDYsMS40MS0xLjU5bDEuNTUtMS42MWMxLjA2LTEuMDUsMi4xNi0yLjA3LDMuMjktM2E2Ny43NSw2Ny43NSwwLDAsMSw3LjExLTUuMzVBODEuMDgsODEuMDgsMCwwLDEsMjc5Ljg0LDM5N2ExMTguMDksMTE4LjA5LDAsMCwxLDE1Ljc4LTQuNzRBMjY4LjQ1LDI2OC40NSwwLDAsMSwzMjYsMzg3LjUyYzkuNy0xLjA5LDE5LjEtMiwyNy4yOC0zLjU3QTYyLjA2LDYyLjA2LDAsMCwwLDM2NCwzODFjMi45NC0xLjE2LDQuOTItMi41NSw1LjU3LTMuNTFhMS44NiwxLjg2LDAsMCwwLC40Mi0xLjEyYzAtLjI5LDAtLjU4LDAtMS4wOGwwLTIuMTNjMC0uNTMsMC0xLS4wNy0xLjYxbDAtLjQ0di0uMmwwLS4wN2EuODUuODUsMCwwLDAtLjEzLS4yMmMtLjItLjIyLS40LS4xLS41My4wOXMtLjI1LjM5LS40Ni4zOWMtLjQsMC0xLjYxLS44LTMuNzYtMS43NWE1Ny4zMSw1Ny4zMSwwLDAsMC04LjMxLTIuODksMTAzLjM1LDEwMy4zNSwwLDAsMC0xMC43OS0yLjI5LDIwMy43NSwyMDMuNzUsMCwwLDAtMjQuNy0yLjI4Yy04LjYtLjMyLTE3LjQzLS4yNy0yNi4zMy4wNnMtMTcuODguOTEtMjYuODQsMS43MnEtNi43NC42Mi0xMy40MiwxLjM5bC02LjY0LjgyLTMuMjUuNDUtMS41OC4yMy0uNzYuMTFjLS4yMiwwLS41Mi4wOC0uNTkuMTFaXCIsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0yMDEuMTMgLTI5MC45OClcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0pLFxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6IFwic3ZnLWlubGluZS0tZmEgZmEtdy0xNlwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgICAgdmlld0JveDogXCIwIDAgMjM0LjgwOSAyMzQuODA5XCIsXG4gICAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcInBhdGhcIiwge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgZDogXCJNNy41LDUzLjk4OGMtNC4xMzUsMC03LjUtMy4zNjQtNy41LTcuNVYyMC41NzFjMC00LjEzNiwzLjM2NS03LjUsNy41LTcuNWg5NC45MDRjNC4xMzUsMCw3LjUsMy4zNjQsNy41LDcuNXYyNS45MTdcXG4gICAgYzAsNC4xMzYtMy4zNjUsNy41LTcuNSw3LjVINy41eiBNMjI3LjMwOSw1My45ODhjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNVYyMC41NzFjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0XFxuICAgIGMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgyMjcuMzA5eiBNMTY0Ljg1NiwxMDkuOTA0YzQuMTM1LDAsNy41LTMuMzY1LDcuNS03LjVWNzYuNDg4XFxuICAgIGMwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNSwzLjM2NSw3LjUsNy41LDcuNUgxNjQuODU2eiBNMzkuOTUyLDEwOS45MDRcXG4gICAgYzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjVWNzYuNDg4YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVIOC4wNDhjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVcXG4gICAgSDM5Ljk1MnogTTIyNi43NjEsMTA5LjkwNGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41aC0zMS45MDRjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3XFxuICAgIGMwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6IE0xMDIuNDA0LDE2NS44MjFjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzUtMy4zNjUtNy41LTcuNS03LjVINy41XFxuICAgIGMtNC4xMzUsMC03LjUsMy4zNjUtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgxMDIuNDA0eiBNMjI3LjMwOSwxNjUuODIxYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN1xcbiAgICBjMC00LjEzNS0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0Yy00LjEzNSwwLTcuNSwzLjM2NS03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDIyNy4zMDl6IE0xNjQuODU2LDIyMS43MzhcXG4gICAgYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNVxcbiAgICBIMTY0Ljg1NnogTTM5Ljk1MiwyMjEuNzM4YzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41SDguMDQ4Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN1xcbiAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgzOS45NTJ6IE0yMjYuNzYxLDIyMS43MzhjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVoLTMxLjkwNFxcbiAgICBjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVIMjI2Ljc2MXpcIixcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInNsb2FkaW5nLWNvbnRhaW5lclwiIH0sIFtcbiAgICAgIF9jKFwiaDFcIiwgeyBzdGF0aWNDbGFzczogXCJzbG9hZGluZy10aXRsZVwiIH0sIFtfdm0uX3YoXCJEUkFXJkRJQ0VcIildKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImgyXCIsIFtfdm0uX3YoX3ZtLl9zKF92bS5tZXNzYWdlKSldKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImg1XCIsIFtfdm0uX3YoXCJMb2FkaW5nXCIpXSksXG4gICAgXSksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJpbnB1dFwiLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidXRpbF9lY29sb3JcIixcbiAgICBhdHRyczoge1xuICAgICAgdHlwZTogXCJjb2xvclwiLFxuICAgICAgcmVhZG9ubHk6IF92bS5yZWFkb25seSxcbiAgICAgIHBsYWNlaG9sZGVyOiBfdm0ucGxhY2Vob2xkZXIsXG4gICAgfSxcbiAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnZhbHVlIH0sXG4gICAgb246IHtcbiAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJpbnB1dFwiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgfSxcbiAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiY2hhbmdlXCIpXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJlZGl0YWJsZS10ZXh0XCIsIHtcbiAgICBhdHRyczoge1xuICAgICAgdmFsdWU6IF92bS52YWx1ZSxcbiAgICAgIHJlYWRvbmx5OiBfdm0ucmVhZG9ubHksXG4gICAgICBwbGFjZWhvbGRlcjogX3ZtLnBsYWNlaG9sZGVyLFxuICAgICAgZmlsdGVyOiBfdm0uZmlsdGVyLFxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICBfdm0uJGVtaXQoXCJjaGFuZ2VcIiwgcGFyc2VGbG9hdCgkZXZlbnQpKVxuICAgICAgfSxcbiAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJpbnB1dFwiLCAkZXZlbnQpXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ1dGlsX2VkaXRhYmxlLXRleHRfZGl2XCIgfSwgW1xuICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1jb250cm9sLXBsYWludGV4dCBocHJpb3IgdXRpbF9lZGl0YWJsZS10ZXh0X2lucHV0XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgcmVhZG9ubHk6IF92bS5yZWFkb25seSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IF92bS5wbGFjZWhvbGRlcixcbiAgICAgIH0sXG4gICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLnZhbHVlIH0sXG4gICAgICBvbjoge1xuICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdm0ub25FdmVudChcImlucHV0XCIsICRldmVudClcbiAgICAgICAgfSxcbiAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF92bS5vbkV2ZW50KFwiY2hhbmdlXCIsICRldmVudClcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ1dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyXCIgfSksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI2YTAzMmRhNlwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTm90ZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMWM1ZDgyYjNcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIzNGE0MzRmMlwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjdhMjQyM2FjXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMTRmMjM3NmNcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIwZjdhMTFlOFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vdG9vbEJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vdG9vbEJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMzQ5ZWFkNWNcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMzQyMTg1OWZcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIxMzg3NzI0NFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcImQ2MTgxYmY4XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCJlZDVmZGQwMFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI1MTFmMzkwZVwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLyogKGlnbm9yZWQpICovIiwiLyogKGlnbm9yZWQpICovIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwibWFpblwiOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHNbaV1dID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rZHJhd25kaWNlXCJdID0gc2VsZltcIndlYnBhY2tDaHVua2RyYXduZGljZVwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgW1widmVuZG9ycy1ub2RlX21vZHVsZXNfZm9ydGF3ZXNvbWVfZm9udGF3ZXNvbWUtZnJlZV9qc19hbGxfanMtbm9kZV9tb2R1bGVzX2Jvb3RzdHJhcC12dWVfZXNtX2luLWI3ZmI4MlwiXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9hcHAvaW5kZXgudHNcIikpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==