/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.cwrapper_component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n.cwrapper_component-arrow {\n  width: 0;\n  height: 0;\n  border-top: 0.3em solid transparent;\n  border-bottom: 0.3em solid transparent;\n  border-right: 0.3em solid #eeeeee;\n  margin-left: 0.3em;\n  margin-top: 0.175em;\n  transition: 0.3s;\n}\n.cwrapper_component-header button:last-child {\n  margin-right: 10px;\n}\n.cwrapper_component-body {\n  margin-left: 6px;\n  border-left: 4px solid #545b62;\n  padding-left: 6px;\n  border-radius: 0 0 0 4px;\n  margin-right: 12px;\n}\n.cwrapper_rotate {\n  transform: rotate(-90deg);\n  transition: 0.3s ease;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/compWrapper.vue"],"names":[],"mappings":";AAuEA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,QAAA;EACA,SAAA;EACA,mCAAA;EACA,sCAAA;EACA,iCAAA;EACA,kBAAA;EACA,mBAAA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,gBAAA;EACA,8BAAA;EACA,iBAAA;EACA,wBAAA;EACA,kBAAA;AACA;AAEA;EACA,yBAAA;EACA,qBAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"cwrapper_component-header\">\n        <div @click=\"visible = !visible\"> {{ component.typeName }}</div>\n        <div class=\"cwrapper_component-arrow\" :class=\"{cwrapper_rotate: visible}\" ></div>\n        <div style=\"width: 100%\"></div>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" style=\"display: grid;\"\n                  :title=\"component.clientVisible ? 'Hide component' : 'Show component'\"\n                  v-show=\"component.clientVisible !== undefined\"\n                  @click=\"$emit('ecs-property-change', component.type, 'clientVisible', !component.clientVisible)\">\n          <div class=\"g11\" v-show=\"component.clientVisible\"><i class=\"fas fa-eye\"/></div>\n          <div class=\"g11\" v-show=\"!component.clientVisible\"><i class=\"fas fa-eye-slash\"/></div>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"primary\" title=\"Fullscreen\"\n                  v-show=\"component._isFullscreen !== undefined\" @click=\"component._isFullscreen = true\">\n          <i class=\"fas fa-expand\"/>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"danger\" title=\"Delete\" v-show=\"component._canDelete\"\n                  @click=\"$emit('ecs-property-change', '$', 'removeComponent', component.type, component.multiId)\">\n          <i class=\"fas fa-trash\"/>\n        </b-button>\n      </div>\n    </div>\n    <b-collapse v-model=\"visible\" class=\"cwrapper_component-body\" visible>\n      <component v-bind:is=\"componentType\" v-bind:component=\"component\" v-bind:isAdmin=\"isAdmin\"\n                 v-on:ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\">\n\n      </component>\n    </b-collapse>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport ecsName from \"./ecsName.vue\";\nimport ecsNote from \"./ecsNote.vue\";\nimport ecsPosition from \"./ecsPosition.vue\";\nimport ecsWall from \"./ecsWall.vue\";\nimport ecsBackgroundImage from \"./ecsBackgroundImage.vue\";\nimport ecsPin from \"./ecsPin.vue\";\nimport ecsTransform from \"./ecsTransform.vue\";\nimport ecsLight from \"./ecsLight.vue\";\nimport ecsPlayer from \"./ecsPlayer.vue\";\nimport ecsDoor from \"./ecsDoor.vue\";\nimport ecsProp from \"./ecsProp.vue\";\nimport ecsPropTeleport from \"./ecsPropTeleport.vue\";\nimport {Component} from \"../../ecs/component\"\nimport {Vue, VComponent, VProp} from \"../vue\";\n\n@VComponent({\n  components: {\n    ecsName, ecsNote, ecsPosition, ecsWall, ecsBackgroundImage, ecsPin, ecsTransform, ecsLight, ecsPlayer, ecsDoor,\n    ecsProp, ecsPropTeleport\n  }\n})\nexport default class EcsComponentWrapper extends Vue {\n  @VProp({required: true})\n  component!: Component;\n\n  @VProp({default: false})\n  isAdmin!: boolean;\n\n  visible = true;\n\n  get componentType(): string {\n    return 'ecs-' + this.component.type.replace('_', '-');\n  }\n}\n</script>\n\n<style>\n.cwrapper_component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n\n.cwrapper_component-arrow {\n  width: 0;\n  height: 0;\n  border-top: 0.3em solid transparent;\n  border-bottom: 0.3em solid transparent;\n  border-right: 0.3em solid #eeeeee;\n  margin-left: 0.3em;\n  margin-top: 0.175em;\n  transition: 0.3s;\n}\n\n.cwrapper_component-header button:last-child {\n  margin-right: 10px;\n}\n\n.cwrapper_component-body {\n  margin-left: 6px;\n  border-left: 4px solid #545b62;\n  padding-left: 6px;\n  border-radius: 0 0 0 4px;\n  margin-right: 12px;\n}\n\n.cwrapper_rotate {\n  transform: rotate(-90deg);\n  transition: 0.3s ease;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.modal-content-dark {\n  background-color: #545b62 !important;\n}\n.hprior.ecs-note_textarea {\n  color: white !important;\n  background-color: transparent !important;\n  outline: none;\n  border-radius: 0;\n  border-color: transparent;\n}\n.hprior.ecs-note_textarea::placeholder {\n  color: #eeeeee;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/ecsNote.vue"],"names":[],"mappings":";AAyCA;EACA,oCAAA;AACA;AAEA;EACA,uBAAA;EACA,wCAAA;EACA,aAAA;EACA,gBAAA;EACA,yBAAA;AACA;AAEA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <b-textarea placeholder=\"Write something here...\" v-model=\"note\" :readonly=\"!isAdmin\" class=\"hprior ecs-note_textarea\"\n                @change=\"onChange\"/>\n    <b-modal title=\"Note\" v-model=\"component._isFullscreen\" hide-footer hide-header\n             dialog-class=\"modal-fullscreen modal-xxl\" content-class=\"modal-content-dark\">\n      <b-textarea placeholder=\"Write something here...\" v-model=\"note\" :readonly=\"!isAdmin\"\n                  @change=\"onChange\" style=\"height: 100%; resize: none;\" class=\"hprior ecs-note_textarea\"/>\n      <template v-slot:modal-footer>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {VComponent, VWatchImmediate, VProp, Vue} from \"../vue\";\nimport {NoteComponent} from \"../../ecs/component\";\n\n@VComponent\nexport default class EcsNote extends Vue {\n  @VProp({required: true})\n  component!: NoteComponent;\n\n  @VProp({required: true})\n  isAdmin!: boolean;\n\n  note: string = '';\n\n  @VWatchImmediate('component.note')\n  onCNoteChanged(val: string) {\n    this.note = val;\n  }\n\n  onChange() {\n    this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);\n  }\n}\n</script>\n\n<style>\n\n.modal-content-dark {\n  background-color: #545b62 !important;\n}\n\n.hprior.ecs-note_textarea {\n  color: white !important;\n  background-color: transparent !important;\n  outline: none;\n  border-radius: 0;\n  border-color: transparent;\n}\n\n.hprior.ecs-note_textarea::placeholder {\n  color: #eeeeee;\n}\n\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.entity-inspect_component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/entityInspect.vue"],"names":[],"mappings":";AAwFA;EACA,cAAA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <div v-show=\"data.components.length > 0\">\n    <div class=\"entity-inspect_component-btn-header\">\n      <b-dropdown toggle-class=\"rounded-0\" variant=\"success\" v-if=\"world.isMaster\">\n        <template v-slot:button-content>\n          <i class=\"fas fa-plus\"></i>\n        </template>\n        <b-dropdown-item v-for=\"x in data.addable\" :key=\"x.type\" @click=\"emitSpecial('addComponent', x.type)\">\n          {{ x.name }}\n        </b-dropdown-item>\n      </b-dropdown>\n      <b-button squared :title=\"data.hidden ? 'Show entity' : 'Hide entity'\" style=\"display: grid\" v-if=\"world.isMaster\"\n                @click=\"emitSpecial('hidden', !data.hidden)\">\n        <div class=\"g11\" :style=\"{visibility: data.hidden ? 'visible' : 'hidden'}\"><i class=\"fas fa-eye-slash\"/></div>\n        <div class=\"g11\" :style=\"{visibility: data.hidden ? 'hidden' : 'visible'}\"><i class=\"fas fa-eye\"/></div>\n      </b-button>\n      <b-button v-if=\"world.isMaster\" variant=\"danger\" title=\"Delete entity\" squared\n                @click=\"emitSpecial('delete')\">\n        <i class=\"fas fa-trash\"></i>\n      </b-button>\n    </div>\n\n    <ecs-component-wrapper v-for=\"comp of data.components\" v-bind:key=\"comp.type + (comp.multiId || '')\"\n                           v-bind:component=\"comp\" v-bind:isAdmin=\"world.isMaster\"\n                           @ecs-property-change=\"onEcsPropertyChange(arguments[0], arguments[1], arguments[2], arguments[3])\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport EcsComponentWrapper from \"./compWrapper.vue\";\nimport {VComponent, VProp, Vue} from \"../vue\";\nimport {Component} from \"../../ecs/component\";\nimport {World} from \"../../ecs/world\";\nimport {\n  SELECTION_TYPE,\n  SELECTION_UI_DATA_TYPE,\n  SelectionSystem,\n  SelectionUiData\n} from \"../../ecs/systems/back/selectionSystem\";\nimport {Resource} from \"../../ecs/resource\";\nimport {componentClone} from \"../../ecs/ecsUtil\";\n\n@VComponent({\n  components: {\n    EcsComponentWrapper,\n  }\n})\nexport default class EntityInspect extends Vue {\n  @VProp({required: true})\n  world!: World;\n\n  data: SelectionUiData = {\n    type: SELECTION_UI_DATA_TYPE,\n    selectedEntities: [],\n    hidden: false,\n    addable: [],\n    components: [],\n    _save: false,\n    _sync: false,\n  };\n\n  onEcsPropertyChange(type: string, property: string, value: any, multiId?: number) {\n    let selectionSys = this.world.systems.get(SELECTION_TYPE) as SelectionSystem;\n    selectionSys.setProperty(this.data.selectedEntities, type, property, value, multiId);\n  }\n\n  emitSpecial(name: string, par: unknown) {\n    this.onEcsPropertyChange('$', name, par);\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === SELECTION_UI_DATA_TYPE) {\n      this.data = componentClone(res) as SelectionUiData;\n    }\n  }\n\n  mounted() {\n    this.data = componentClone(this.world.getResource(SELECTION_UI_DATA_TYPE) as SelectionUiData);\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n  }\n}\n</script>\n\n<style>\n.entity-inspect_component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.edit-map_game {\n  user-select: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/editMap.vue"],"names":[],"mappings":";AA4BA;EACA,iBAAA;AACA","sourcesContent":["<template>\n  <div class=\"edit-map_game\">\n\n    <tool-bar v-bind:world=\"world\">\n    </tool-bar>\n\n    <div id=\"canvas-container\" style=\"width: 100%; height: calc(100vh - var(--topbar-height));\">\n    </div>\n\n    <side-bar v-bind:world=\"world\">\n    </side-bar>\n\n    <a id=\"hidden-download-link\" style=\"display: none;\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport ToolBar from \"./toolBar.vue\";\nimport SideBar from \"./sideBar.vue\";\n\nexport default Vue.extend({\n  components: {ToolBar, SideBar},\n  props: ['world'],\n});\n</script>\n\n<style>\n.edit-map_game {\n  user-select: none;\n}\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/sideBar.vue"],"names":[],"mappings":";AA8EA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <b-sidebar id=\"sidebar-right\" title=\"Sidebar\"\n             bg-variant=\"dark\" text-variant=\"light\" right visible no-header shadow\n             sidebar-class=\"under-navbar\">\n    <!----------------------------------      GRID CONTROL      ---------------------------------->\n    <grid-edit class=\"px-3 py-2\" v-show=\"tool === 'grid'\" v-bind:world=\"world\"/>\n    <!----------------------------------      ENTITY INSPECTOR      ---------------------------------->\n    <div v-show=\"tool === 'inspect'\">\n      <entity-inspect v-bind:world=\"world\"/>\n    </div>\n    <!----------------------------------      LIGHT SETTINGS      ---------------------------------->\n    <light-settings-edit  v-show=\"tool === 'light'\" v-bind:world=\"world\">\n    </light-settings-edit>\n\n    <template v-slot:footer>\n      <div class=\"sidebar-footer\">\n        {{ connectionCount }}\n        <div v-bind:class=\"{ rotate: connectionBuffering }\" style=\"margin-left: 0.2rem\">\n          <i class=\"fas fa-sync-alt\"></i>\n        </div>\n      </div>\n    </template>\n  </b-sidebar>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Resource} from \"../../ecs/resource\";\nimport {World} from \"../../ecs/world\";\nimport {BACKGROUND_LAYER_TYPE, BackgroundLayerResource} from \"../../ecs/systems/back/layerSystem\";\nimport {TOOL_TYPE, ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport {Tool} from \"../../ecs/tools/toolType\";\nimport GridEdit from \"./gridEdit.vue\";\nimport LightSettingsEdit from \"./lightSettingsEdit.vue\";\nimport EntityInspect from \"../ecs/entityInspect.vue\";\nimport {SelectionSystem} from \"../../ecs/systems/back/selectionSystem\";\nimport {DEFAULT_LIGHT_SETTINGS, LightSettings, LocalLightSettings} from \"../../ecs/systems/lightSystem\";\nimport hex2string = PIXI.utils.hex2string;\nimport string2hex = PIXI.utils.string2hex;\nimport {NETWORK_STATUS_TYPE, NetworkStatusResource} from \"../../ecs/systems/back/networkSystem\";\n\n@VComponent({\n  components: {\n    GridEdit, EntityInspect, LightSettingsEdit,\n  }\n})\nexport default class ToolBar extends Vue {\n  @VProp({ required: true })\n  world!: World;\n\n  tool = 'inspect';\n  connectionCount = 0;\n  connectionBuffering = false;\n\n  mounted() {\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === TOOL_TYPE) {\n      this.tool = (res as ToolResource).tool!;\n    } else if (res.type === NETWORK_STATUS_TYPE) {\n      let r = res as NetworkStatusResource;\n      this.connectionCount = r.connectionCount;\n      this.connectionBuffering = r.isBuffering;\n    }\n  }\n}\n</script>\n\n\n<style>\n\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.toolbar-btn.plz-prioritize {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n.plz-prioritize.undo-redo-btn.disabled, .plz-prioritize.undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/toolBar.vue"],"names":[],"mappings":";AA8HA;EACA,WAAA;EACA,yBAAA;EACA,qBAAA;AACA;AAGA;EACA,yBAAA;EACA,qBAAA;EACA,gBAAA;AACA","sourcesContent":["<template>\n  <b-button-toolbar type=\"dark\" variant=\"info\" class=\"bg-dark\"\n                    style=\"width: 100%; height: var(--topbar-height); z-index: 1000;\" justify>\n    <b-button-group v-if=\"world.isMaster\" style=\"margin-right: 2rem\">\n      <b-button title=\"Undo\" squared class=\"toolbar-btn plz-prioritize undo-redo-btn\" :disabled=\"!this.canUndo\" v-on:click=\"undo()\">\n        <i class=\"fas fa-undo\"></i>\n      </b-button>\n      <b-button title=\"Redo\" squared class=\"toolbar-btn plz-prioritize undo-redo-btn\" :disabled=\"!this.canRedo\" v-on:click=\"redo()\">\n        <i class=\"fas fa-redo\"></i>\n      </b-button>\n    </b-button-group>\n\n    <b-radio-group buttons v-model=\"tool\">\n      <b-radio ref=\"radioinspect\" title=\"Inspect\" value=\"inspect\" squared\n               :class=\"{'toolbar-btn': this.backgroundLocked, 'btn-warning': !this.backgroundLocked}\">\n        <i class=\"fas fa-hand-pointer\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add wall\" value=\"create_wall\" squared class=\"toolbar-btn plz-prioritize\">\n        <wall-icon/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add prop\" value=\"create_prop\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-couch\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add pin\" value=\"create_pin\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-thumbtack\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Edit grid\" value=\"grid\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-border-all\"/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Light settings\" value=\"light\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-lightbulb\"/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Measure\" value=\"measure\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-ruler\"/>\n      </b-radio>\n      <b-radio title=\"Mouse trail\" value=\"mouse_trail\" squared class=\"toolbar-btn plz-prioritize\">\n        <mouse-trail-icon/>\n      </b-radio>\n    </b-radio-group>\n    <b-button title=\"Export map\" squared variant=\"success\" class=\"btn-xs\"\n              v-on:click=\"world.events.emit('export_map')\" v-if=\"world.isMaster\">\n      <i class=\"fas fa-download\"/>\n    </b-button>\n\n    <div style=\"flex: 1 1 0;\"/> <!-- Spacing -->\n    <b-button title=\"Toggle sidebar\" variant=\"warning\" class=\"btn-xs\" v-b-toggle.sidebar-right>\n      <i class=\"fas fa-angle-double-right\"/>\n    </b-button>\n  </b-button-toolbar>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Resource} from \"../../ecs/resource\";\nimport {World} from \"../../ecs/world\";\nimport {BACKGROUND_LAYER_TYPE, BackgroundLayerResource} from \"../../ecs/systems/back/layerSystem\";\nimport {TOOL_TYPE, ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport {Tool} from \"../../ecs/tools/toolType\";\n\nimport MouseTrailIcon from \"../icons/mouseTrailIcon.vue\";\nimport WallIcon from \"../icons/wallIcon.vue\";\n\n\n@VComponent({\n  components: {MouseTrailIcon, WallIcon}\n})\nexport default class ToolBar extends Vue {\n  @VProp({ required: true })\n  world!: World;\n\n  tool = 'inspect';\n  backgroundLocked: boolean = true;\n\n  canUndo = false;\n  canRedo = false;\n\n  mounted() {\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n    this.world.events.on('command_history_change', this.onCommandHistoryChange, this);\n\n    let x = (this.$refs.radioinspect as Vue);\n    x.$el.addEventListener('click', (e) => {\n      if (!(e.target instanceof HTMLInputElement)) return;\n      if (this.tool === 'inspect') {\n        let locked = (this.world.getResource(BACKGROUND_LAYER_TYPE) as BackgroundLayerResource).locked;\n        this.world.editResource(BACKGROUND_LAYER_TYPE, { locked: !locked });\n      }\n    });\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n    this.world.events.off('command_history_change', this.onCommandHistoryChange, this);\n  }\n\n  onCommandHistoryChange(canUndo: boolean, canRedo: boolean) {\n    this.canUndo = canUndo;\n    this.canRedo = canRedo;\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === BACKGROUND_LAYER_TYPE) {\n      this.backgroundLocked = (res as BackgroundLayerResource).locked;\n    } else if (res.type === TOOL_TYPE) {\n      this.tool = (res as ToolResource).tool!;\n    }\n  }\n\n  @VWatch('tool')\n  onToolEdit(tool: Tool) {\n    this.world.editResource('tool', {tool});\n  }\n\n  undo() {\n    this.world.events.emit('command_undo');\n  }\n\n  redo() {\n    this.world.events.emit('command_redo');\n  }\n}\n</script>\n\n<style>\n\n.toolbar-btn.plz-prioritize {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n\n\n.plz-prioritize.undo-redo-btn.disabled, .plz-prioritize.undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../public/images/GitHub-Mark-Light-32px.png */ "./src/public/images/GitHub-Mark-Light-32px.png");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__.default);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.footer_credits {\n  text-align: right;\n  padding: 20px;\n}\n.footer_github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n}\n.footer_github:hover {\n  opacity: 0.5;\n}\n.footer_profile {\n  color: white;\n}\n.footer_profile:hover {\n  opacity: 0.5;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/footer.vue"],"names":[],"mappings":";AAqBA;EACA,iBAAA;EACA,aAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,yDAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA","sourcesContent":["<template>\n  <div class=\"footer\">\n    <div class=\"footer_credits\">\n      <div class=\"links\">\n        <a href=\"https://github.com/SnowyCoder/dndme\" target=\"_blank\" class=\"footer_github\"></a>\n      </div>\n      <small style=\"color: lightgray\">\n        Developed by <a href=\"https://github.com/SnowyCoder\" target=\"_blank\" class=\"footer_profile\">Rossi Lorenzo</a> /\n        Drawings by <span style=\"color: white\">Giorgia Nizzoli</span>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style>\n.footer_credits {\n  text-align: right;\n  padding: 20px;\n}\n\n.footer_github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(\"~Public/images/GitHub-Mark-Light-32px.png\");\n}\n\n.footer_github:hover {\n  opacity: 0.5;\n}\n\n.footer_profile {\n  color: white;\n}\n\n.footer_profile:hover {\n  opacity: 0.5;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.s-home-container {\n  color: white;\n}\n.s-home-text {\n  color: white;\n}\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/home/home.vue"],"names":[],"mappings":";AA0EA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,mBAAA;AACA","sourcesContent":["<template>\n  <div class=\"phase-container text-center flex-column align-items-center justify-content-center row\" style=\"height: 100vh; margin: 0;\">\n    <div class=\"text-white\">\n      <p class=\"title\" style=\"font-size: 3.5em; margin: 0;\">DRAW&DICE</p>\n      <p class=\"\" style=\"font-size: 2em;\">Dnd made ez!</p>\n    </div>\n\n    <div>\n      <b-button variant=\"warning\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onCreateMap\">Create Map</b-button>\n    </div>\n    <div>\n      <b-button variant=\"info\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onEditMap\">Edit Map</b-button>\n    </div>\n\n    <b-modal ref=\"map-load-modal\" hide-footer title=\"Gimme the map\">\n      <b-form-file\n          v-model=\"file\"\n          :state=\"Boolean(file)\"\n          placeholder=\"Choose a file or drop it here...\"\n          drop-placeholder=\"Drop file here...\"\n          accept=\".dndm\"\n      ></b-form-file>\n    </b-modal>\n\n    <footer-component></footer-component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport FooterComponent from \"../footer.vue\";\nimport MapInput from \"./mapInput.vue\";\n\n\nimport {VComponent, Vue, PhaseVue, VWatch, VRef} from \"../vue\";\nimport EventEmitter = PIXI.utils.EventEmitter;\nimport {BModal} from \"bootstrap-vue\";\n\n@VComponent({\n  components: { MapInput, FooterComponent }\n})\nexport default class HomeComponent extends Vue implements PhaseVue {\n  @VRef('map-load-modal') readonly mapLoadModal!: BModal;\n\n  file: any = null;\n  pendingOp: string = \"\";\n  eventEmitter!: EventEmitter;\n\n  onCreateMap() {\n    this.eventEmitter.emit(\"create_map\");\n  }\n\n  onEditMap() {\n    this.pendingOp = 'edit';\n    this.mapLoadModal.show();\n    this.eventEmitter.emit(\"edit_map\");\n  }\n\n  mapLoadCancel() {\n    this.mapLoadModal.hide();\n  }\n\n  @VWatch('file')\n  onFileChanged(val: any) {\n    if (val == null) return;\n\n    console.log(\"File dropped, loading: \" + this.pendingOp);\n    this.eventEmitter.emit(this.pendingOp, this.file);\n    this.file = null;\n    this.mapLoadCancel();\n  }\n}\n</script>\n\n<style>\n.s-home-container {\n  color: white;\n}\n\n.s-home-text {\n  color: white;\n}\n\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sloading-container {\n  color: white;\n  height: 100vh;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.sloading-title {\n  font-size: 5em;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/loading/loading.vue"],"names":[],"mappings":";AAwCA;EACA,YAAA;EACA,aAAA;;EAEA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,sBAAA;AACA;AACA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div class=\"sloading-container\">\n      <h1 class=\"sloading-title\">DRAW&DICE</h1>\n      <h2>{{message}}</h2>\n      <h5>Loading</h5>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport {VComponent} from \"../vue\";\n\nconst LOADING_PHRASES = [\n  \"Persuading dragons to cooperate...\",\n  \"A Dwarf, an Elf and a Dragonbord enter a tavern... \\\"We're looking for a quest\\\"\",\n  \"An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways\",\n  \"Recharging spell slots...\",\n  \"Roll a Charisma saving throw...\",\n  \"Long rest in progress...\",\n  \"Fitting out the goblin army...\",\n  \"The last boss you killed met a 20th level chieric... The rest is up to you! ;)\",\n  \"This map only costs 25gp!\",\n  \"Sorry, you'd better create a new character sheet\",\n];\n\nfunction randomMex() {\n  const i = Math.floor(Math.random() * LOADING_PHRASES.length);\n  return LOADING_PHRASES[i];\n}\n\n@VComponent\nexport default class Loading extends Vue {\n  message = randomMex();\n}\n\n</script>\n\n<style>\n  .sloading-container {\n    color: white;\n    height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n  .sloading-title {\n    font-size: 5em;\n  }\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.util_ecolor {\n  background-color: transparent !important;\n  outline: none !important;\n  border: none !important;\n  padding: 0.125rem !important;\n  box-shadow: none !important;\n  height: calc(1.5em + 0.75rem + 2px);\n  width: calc(1.5em + 0.75rem + 2px);\n  margin-left: 0.5em;\n\n  -webkit-appearance: none;\n}\n.util_ecolor::-moz-color-swatch, .util_ecolor::-webkit-color-swatch, .util_ecolor::-webkit-color-swatch-wrapper {\n  border: 0;\n  padding: 0;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/util/editableColor.vue"],"names":[],"mappings":";AAyBA;EACA,wCAAA;EACA,wBAAA;EACA,uBAAA;EACA,4BAAA;EACA,2BAAA;EACA,mCAAA;EACA,kCAAA;EACA,kBAAA;;EAEA,wBAAA;AACA;AAEA;EACA,SAAA;EACA,UAAA;AACA","sourcesContent":["<template>\n  <input type=\"color\" v-bind:value=\"value\" v-on:input=\"$emit('input', $event.target.value)\"\n         :readonly=\"readonly\" :placeholder=\"placeholder\" @change=\"$emit('change')\"\n         class=\"util_ecolor\">\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue} from \"../vue\";\n\n@VComponent\nexport default class EditableColor extends Vue {\n  @VProp({required: true})\n  value!: string;\n\n  @VProp({default: false})\n  readonly!: boolean;\n\n  @VProp({default: ''})\n  placeholder!: string;\n}\n\n</script>\n\n<style>\n.util_ecolor {\n  background-color: transparent !important;\n  outline: none !important;\n  border: none !important;\n  padding: 0.125rem !important;\n  box-shadow: none !important;\n  height: calc(1.5em + 0.75rem + 2px);\n  width: calc(1.5em + 0.75rem + 2px);\n  margin-left: 0.5em;\n\n  -webkit-appearance: none;\n}\n\n.util_ecolor::-moz-color-swatch, .util_ecolor::-webkit-color-swatch, .util_ecolor::-webkit-color-swatch-wrapper {\n  border: 0;\n  padding: 0;\n}\n</style>\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.util_editable-text_div {\n  position: relative;\n  margin: 5px;\n  width: 100%;\n}\n.util_editable-text_border {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 1px;\n\n  border: 1px solid transparent;\n  transition: width 0.2s, border 0s 0.2s;\n}\n.util_editable-text_input:focus ~ .util_editable-text_border {\n  border-color: #4285F4;\n  width: 100%;\n  transition: width 0.3s;\n}\n.hprior.util_editable-text_input {\n  color: white;\n  padding: 3px 10px;\n  margin: 0;\n  border-bottom: solid 1px #eeeeee;\n  outline: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/util/editableText.vue"],"names":[],"mappings":";AAuCA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;AACA;AAEA;EACA,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,WAAA;;EAEA,6BAAA;EACA,sCAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,sBAAA;AACA;AAEA;EACA,YAAA;EACA,iBAAA;EACA,SAAA;EACA,gCAAA;EACA,aAAA;AACA","sourcesContent":["<template>\n  <div class=\"util_editable-text_div\">\n    <input type=\"text\" v-bind:value=\"value\" v-on:input=\"onEvent('input', $event)\"\n             :readonly=\"readonly\" :placeholder=\"placeholder\" @change=\"onEvent('change', $event)\"\n             class=\"form-control-plaintext hprior util_editable-text_input\">\n    <span class=\"util_editable-text_border\"></span>\n  </div>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue} from \"../vue\";\n\n@VComponent\nexport default class EditableText extends Vue {\n  @VProp({required: true})\n  value!: string;\n\n  @VProp({default: false})\n  readonly!: boolean;\n\n  @VProp({default: ''})\n  placeholder!: string\n\n  @VProp({default: undefined})\n  filter?: (text: string) => string;\n\n  onEvent(ev: string, event: InputEvent) {\n    const et = event.target as any;\n    if (this.filter !== undefined) {\n      et.value = this.filter(et.value);\n    }\n    this.$emit(ev, et.value);\n  }\n}\n\n</script>\n\n<style>\n.util_editable-text_div {\n  position: relative;\n  margin: 5px;\n  width: 100%;\n}\n\n.util_editable-text_border {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 1px;\n\n  border: 1px solid transparent;\n  transition: width 0.2s, border 0s 0.2s;\n}\n\n.util_editable-text_input:focus ~ .util_editable-text_border {\n  border-color: #4285F4;\n  width: 100%;\n  transition: width 0.3s;\n}\n\n.hprior.util_editable-text_input {\n  color: white;\n  padding: 3px 10px;\n  margin: 0;\n  border-bottom: solid 1px #eeeeee;\n  outline: none;\n}\n</style>\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/public/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap/dist/css/bootstrap.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap/dist/css/bootstrap.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap-vue/dist/bootstrap-vue.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap-vue/dist/bootstrap-vue.css");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Merienda+One&display=swap);"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__.default);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__.default);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.g11 {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n", "",{"version":3,"sources":["webpack://./src/public/style.css"],"names":[],"mappings":"AAIA;IACI,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,YAAY;;IAEZ,6MAA6M;IAC7M,oCAAoC;AACxC;;AAEA;AACA;;AAEA;IACI,eAAe;IACf,SAAS;AACb;;;AAGA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,WAAW;IACX,qCAAqC;AACzC;;AAEA;IACI,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,oBAAoB;AACxB;;AAEA;IACI,WAAW;AACf;AACA;IACI,YAAY;AAChB;AACA;IACI,qBAAqB;IACrB,yBAAyB;AAC7B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,sCAAsC;AAC1C;;AAEA,iBAAiB;;AAEjB;IACI;QACI,uBAAuB;IAC3B;IACA;QACI,yBAAyB;IAC7B;AACJ","sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Merienda+One&display=swap');\n@import '~bootstrap/dist/css/bootstrap.css';\n@import '~bootstrap-vue/dist/bootstrap-vue.css';\n\n:root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.g11 {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/public/images/GitHub-Mark-Light-32px.png":
/*!******************************************************!*\
  !*** ./src/public/images/GitHub-Mark-Light-32px.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "266ca63177bca6f330a74e83fdc63178.png");

/***/ }),

/***/ "./src/public/images/props.png":
/*!*************************************!*\
  !*** ./src/public/images/props.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "461f357929f9f8d63da20b81e743a099.png");

/***/ }),

/***/ "./src/public/images/trail.png":
/*!*************************************!*\
  !*** ./src/public/images/trail.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "da16798f46c6672323f9563cc8c838b9.png");

/***/ }),

/***/ "./node_modules/peerjs/dist sync recursive":
/*!****************************************!*\
  !*** ./node_modules/peerjs/dist/ sync ***!
  \****************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/peerjs/dist sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue */ "./src/app/ui/ecs/ecsName.vue");
/* harmony import */ var _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue */ "./src/app/ui/ecs/ecsNote.vue");
/* harmony import */ var _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsPosition.vue */ "./src/app/ui/ecs/ecsPosition.vue");
/* harmony import */ var _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ecsWall.vue */ "./src/app/ui/ecs/ecsWall.vue");
/* harmony import */ var _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ecsBackgroundImage.vue */ "./src/app/ui/ecs/ecsBackgroundImage.vue");
/* harmony import */ var _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ecsPin.vue */ "./src/app/ui/ecs/ecsPin.vue");
/* harmony import */ var _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ecsTransform.vue */ "./src/app/ui/ecs/ecsTransform.vue");
/* harmony import */ var _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ecsLight.vue */ "./src/app/ui/ecs/ecsLight.vue");
/* harmony import */ var _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ecsPlayer.vue */ "./src/app/ui/ecs/ecsPlayer.vue");
/* harmony import */ var _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ecsDoor.vue */ "./src/app/ui/ecs/ecsDoor.vue");
/* harmony import */ var _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ecsProp.vue */ "./src/app/ui/ecs/ecsProp.vue");
/* harmony import */ var _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ecsPropTeleport.vue */ "./src/app/ui/ecs/ecsPropTeleport.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













let EcsComponentWrapper = class EcsComponentWrapper extends _vue__WEBPACK_IMPORTED_MODULE_12__.Vue {
    constructor() {
        super(...arguments);
        this.visible = true;
    }
    get componentType() {
        return 'ecs-' + this.component.type.replace('_', '-');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ required: true })
], EcsComponentWrapper.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ default: false })
], EcsComponentWrapper.prototype, "isAdmin", void 0);
EcsComponentWrapper = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VComponent)({
        components: {
            ecsName: _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__.default, ecsNote: _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__.default, ecsPosition: _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__.default, ecsWall: _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__.default, ecsBackgroundImage: _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__.default, ecsPin: _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__.default, ecsTransform: _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__.default, ecsLight: _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__.default, ecsPlayer: _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__.default, ecsDoor: _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__.default,
            ecsProp: _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__.default, ecsPropTeleport: _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__.default
        }
    })
], EcsComponentWrapper);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsComponentWrapper);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsDoor = class EcsDoor extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.doorType = _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT;
        this.open = false;
        this.locked = false;
    }
    onChange() {
        if (this.component.doorType !== this.doorType) {
            this.$emit('ecs-property-change', 'door', 'doorType', this.doorType);
        }
        if (this.component.open !== this.open) {
            this.$emit('ecs-property-change', 'door', 'open', this.open);
        }
        if (this.component.locked !== this.locked) {
            this.$emit('ecs-property-change', 'door', 'locked', this.locked);
        }
    }
    get doorTypeName() {
        switch (this.doorType) {
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_LEFT:
                return "Normal";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT:
                return "Normal right";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.ROTATE:
                return "Rotating";
            default:
                return "Unknown??";
        }
    }
    onCDoorTypeChanged(val) {
        this.doorType = val;
    }
    onCOpenChanged(val) {
        this.open = val;
    }
    onCLockedChanged(val) {
        this.locked = val;
    }
    onDoorTypeChanged() {
        this.onChange();
    }
    onOpenChanged() {
        this.onChange();
    }
    onLockedChanged() {
        this.onChange();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.doorType')
], EcsDoor.prototype, "onCDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.open')
], EcsDoor.prototype, "onCOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.locked')
], EcsDoor.prototype, "onCLockedChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('doorType')
], EcsDoor.prototype, "onDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('open')
], EcsDoor.prototype, "onOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('locked')
], EcsDoor.prototype, "onLockedChanged", null);
EcsDoor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsDoor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsDoor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableColor.vue */ "./src/app/ui/util/editableColor.vue");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.string2hex;


let EcsLight = class EcsLight extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.range = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'light', 'color', c);
        }
        let r = parseFloat(this.range);
        if (this.component.range !== r && this.range !== '') {
            this.$emit('ecs-property-change', 'light', 'range', r);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? '' : hex2string(val);
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsLight.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.range')
], EcsLight.prototype, "onCRangeChanged", null);
EcsLight = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableColor: _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_2__.default, EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_3__.default,
        }
    })
], EcsLight);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsLight);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableText_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableText.vue */ "./src/app/ui/util/editableText.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsName = class EcsName extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.name = '';
    }
    onCNameChanged(val) {
        this.name = val !== null && val !== void 0 ? val : '';
    }
    onChange() {
        this.$emit('ecs-property-change', 'name', 'name', this.name, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.name')
], EcsName.prototype, "onCNameChanged", null);
EcsName = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableText: _util_editableText_vue__WEBPACK_IMPORTED_MODULE_1__.default
        }
    })
], EcsName);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsName);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsNote = class EcsNote extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.note = '';
    }
    onCNoteChanged(val) {
        this.note = val;
    }
    onChange() {
        this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.note')
], EcsNote.prototype, "onCNoteChanged", null);
EcsNote = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsNote);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsNote);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableText_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableText.vue */ "./src/app/ui/util/editableText.vue");
/* harmony import */ var _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/editableColor.vue */ "./src/app/ui/util/editableColor.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.string2hex;


let EcsPin = class EcsPin extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.label = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'pin', 'color', c);
        }
        let label = this.label;
        if (!label)
            label = undefined;
        if (label !== this.component.label) {
            this.$emit('ecs-property-change', 'pin', 'label', label);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? "" : hex2string(val);
    }
    onCLabelChanged(val) {
        this.label = val !== null && val !== void 0 ? val : "";
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsPin.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.label')
], EcsPin.prototype, "onCLabelChanged", null);
EcsPin = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableText: _util_editableText_vue__WEBPACK_IMPORTED_MODULE_2__.default, EditableColor: _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_3__.default
        }
    })
], EcsPin);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPin);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsPlayer = class EcsPlayer extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.nightVision = false;
        this.range = '';
    }
    onChange() {
        if (this.component.nightVision !== this.nightVision) {
            this.$emit('ecs-property-change', 'player', 'nightVision', this.nightVision);
        }
        let c = parseFloat(this.range);
        if (this.component.range !== c && this.range !== '') {
            this.$emit('ecs-property-change', 'player', 'range', c);
        }
    }
    onCNightVisionChanged(val) {
        this.nightVision = val;
    }
    onCRangeChanged(val) {
        this.range = val + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.nightVision')
], EcsPlayer.prototype, "onCNightVisionChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.range')
], EcsPlayer.prototype, "onCRangeChanged", null);
EcsPlayer = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__.default
        }
    })
], EcsPlayer);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPlayer);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsPosition = class EcsPosition extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.x = '';
        this.y = '';
    }
    onChange() {
        let x = parseFloat(this.x);
        if (this.component.x !== x && this.x !== '') {
            this.$emit('ecs-property-change', 'position', 'x', x);
        }
        let y = parseFloat(this.y);
        if (this.component.y !== y && this.y !== '') {
            this.$emit('ecs-property-change', 'position', 'y', y);
        }
    }
    onCxChanged(val) {
        this.x = (val !== null && val !== void 0 ? val : '') + '';
    }
    onCyChanged(val) {
        this.y = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.x')
], EcsPosition.prototype, "onCxChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.y')
], EcsPosition.prototype, "onCyChanged", null);
EcsPosition = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__.default,
        }
    })
], EcsPosition);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPosition);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPropTeleport = class EcsPropTeleport extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    focusTarget() {
        console.warn("TODO: focus target");
    }
    link() {
        this.$emit('ecs-property-change', '@', 'prop_teleport_link', this.component.entity);
    }
    use() {
        this.$emit('ecs-property-change', '@', 'prop_use', this.component.entity);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "isAdmin", void 0);
EcsPropTeleport = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPropTeleport);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPropTeleport);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let EcsTransform = class EcsTransform extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.rotation = '';
        this.scale = '';
    }
    onChange() {
        if (this.rotation !== '') {
            let r = (((parseFloat(this.rotation) % 360) + 360) % 360);
            if (this.component.rotation !== r) {
                this.$emit('ecs-property-change', 'transform', 'rotation', r * pixi_js__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD);
            }
        }
        if (this.scale !== '') {
            let s = parseFloat(this.scale);
            if (this.component.scale !== s) {
                this.$emit('ecs-property-change', 'transform', 'scale', s);
            }
        }
    }
    onCRotationChanged(val) {
        this.rotation = (val !== null && val !== void 0 ? val : 0) * pixi_js__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG + '';
    }
    onCScaleChanged(val) {
        this.scale = (val !== null && val !== void 0 ? val : 0) + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.rotation')
], EcsTransform.prototype, "onCRotationChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.scale')
], EcsTransform.prototype, "onCScaleChanged", null);
EcsTransform = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_2__.default,
        }
    })
], EcsTransform);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsTransform);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsWall = class EcsWall extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.w = '';
        this.h = '';
    }
    onChange() {
        let w = parseFloat(this.w);
        let h = parseFloat(this.h);
        if ((this.component.vec[0] !== w && this.w !== '') || (this.component.vec[1] !== h && this.h !== '')) {
            this.$emit('ecs-property-change', 'wall', 'vec', [w, h]);
        }
    }
    onCxChanged(vec) {
        if (vec === undefined) {
            this.w = '';
            this.h = '';
        }
        else {
            this.w = vec[0] + '';
            this.h = vec[1] + '';
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.vec')
], EcsWall.prototype, "onCxChanged", null);
EcsWall = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__.default,
        }
    })
], EcsWall);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsWall);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue */ "./src/app/ui/ecs/compWrapper.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/ecsUtil */ "./src/app/ecs/ecsUtil.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




let EntityInspect = class EntityInspect extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.data = {
            type: _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE,
            selectedEntities: [],
            hidden: false,
            addable: [],
            components: [],
            _save: false,
            _sync: false,
        };
    }
    onEcsPropertyChange(type, property, value, multiId) {
        let selectionSys = this.world.systems.get(_ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_TYPE);
        selectionSys.setProperty(this.data.selectedEntities, type, property, value, multiId);
    }
    emitSpecial(name, par) {
        this.onEcsPropertyChange('$', name, par);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE) {
            this.data = (0,_ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.componentClone)(res);
        }
    }
    mounted() {
        this.data = (0,_ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.componentClone)(this.world.getResource(_ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE));
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "world", void 0);
EntityInspect = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EcsComponentWrapper: _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__.default,
        }
    })
], EntityInspect);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EntityInspect);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _toolBar_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolBar.vue */ "./src/app/ui/edit/toolBar.vue");
/* harmony import */ var _sideBar_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sideBar.vue */ "./src/app/ui/edit/sideBar.vue");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_2__.default.extend({
    components: { ToolBar: _toolBar_vue__WEBPACK_IMPORTED_MODULE_0__.default, SideBar: _sideBar_vue__WEBPACK_IMPORTED_MODULE_1__.default },
    props: ['world'],
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.grid = {
            type: "none",
            size: 1,
            offX: 0,
            offY: 0,
            color: '#000000',
            opacity: 0.5,
            thick: 2,
        };
        this.disableWatchSave = false;
    }
    reloadGrid() {
        this.disableWatchSave = true;
        let grid = this.world.getResource('grid');
        switch (grid.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.HEXAGON:
                this.grid.type = 'hex';
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.SQUARE:
                this.grid.type = 'square';
                break;
        }
        if (!grid.visible) {
            this.grid.type = 'none';
        }
        let opts = grid;
        this.grid.size = opts.size;
        this.grid.offX = opts.offX;
        this.grid.offY = opts.offY;
        this.grid.color = hex2string(opts.color);
        this.grid.opacity = opts.opacity;
        this.grid.thick = opts.thick;
        this.disableWatchSave = false;
    }
    mounted() {
        this.reloadGrid();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'grid')
            this.reloadGrid();
    }
    onGridChange(newGrid) {
        if (this.disableWatchSave)
            return;
        newGrid.offX = Math.min(newGrid.offX, newGrid.size);
        newGrid.offY = Math.min(newGrid.offY, newGrid.size);
        let type;
        switch (newGrid.type) {
            case 'none':
                type = undefined;
                break;
            case 'hex':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.HEXAGON;
                break;
            case 'square':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.SQUARE;
                break;
        }
        let cmd = {
            kind: 'redit',
            add: [], remove: [],
            edit: {},
        };
        if (type !== undefined) {
            cmd.edit['grid'] = {
                visible: true,
                gridType: type,
                size: newGrid.size,
                offX: newGrid.offX,
                offY: newGrid.offY,
                color: string2hex(newGrid.color),
                opacity: parseFloat(newGrid.opacity),
                thick: newGrid.thick,
            };
        }
        else {
            cmd.edit['grid'] = {
                visible: false,
            };
        }
        this.world.events.emit('command_log', cmd);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('grid', { deep: true })
], GridEdit.prototype, "onGridChange", null);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.ambientLight = '#000000';
        this.needsLight = true;
        this.roleplayVision = false;
        this.background = '#000000';
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.reloadLight();
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'light_settings' || res.type === 'local_light_settings') {
            this.reloadLight();
        }
    }
    reloadLight() {
        let light = this.world.getResource('light_settings');
        this.ambientLight = hex2string(light.ambientLight);
        this.needsLight = light.needsLight;
        this.background = hex2string(light.background);
        let llight = this.world.getResource('local_light_settings');
        this.roleplayVision = llight.visionType === 'rp';
    }
    onAmbientLightChange() {
        this.world.addResource({
            type: 'light_settings',
            ambientLight: string2hex(this.ambientLight),
            needsLight: this.needsLight,
            background: string2hex(this.background),
        }, 'update');
    }
    onLightSettingsReset() {
        this.world.addResource(Object.assign({
            type: 'light_settings',
        }, _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LIGHT_SETTINGS), 'update');
        this.reloadLight();
    }
    onRPVisChange() {
        let visionType = this.roleplayVision ? 'rp' : 'dm';
        this.world.editResource('local_light_settings', { visionType });
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('roleplayVision')
], GridEdit.prototype, "onRPVisChange", null);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _gridEdit_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gridEdit.vue */ "./src/app/ui/edit/gridEdit.vue");
/* harmony import */ var _lightSettingsEdit_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lightSettingsEdit.vue */ "./src/app/ui/edit/lightSettingsEdit.vue");
/* harmony import */ var _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ecs/entityInspect.vue */ "./src/app/ui/ecs/entityInspect.vue");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






let ToolBar = class ToolBar extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.tool = 'inspect';
        this.connectionCount = 0;
        this.connectionBuffering = false;
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_1__.TOOL_TYPE) {
            this.tool = res.tool;
        }
        else if (res.type === _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_STATUS_TYPE) {
            let r = res;
            this.connectionCount = r.connectionCount;
            this.connectionBuffering = r.isBuffering;
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], ToolBar.prototype, "world", void 0);
ToolBar = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            GridEdit: _gridEdit_vue__WEBPACK_IMPORTED_MODULE_2__.default, EntityInspect: _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_4__.default, LightSettingsEdit: _lightSettingsEdit_vue__WEBPACK_IMPORTED_MODULE_3__.default,
        }
    })
], ToolBar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolBar);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _icons_mouseTrailIcon_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../icons/mouseTrailIcon.vue */ "./src/app/ui/icons/mouseTrailIcon.vue");
/* harmony import */ var _icons_wallIcon_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icons/wallIcon.vue */ "./src/app/ui/icons/wallIcon.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





let ToolBar = class ToolBar extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.tool = 'inspect';
        this.backgroundLocked = true;
        this.canUndo = false;
        this.canRedo = false;
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on('command_history_change', this.onCommandHistoryChange, this);
        let x = this.$refs.radioinspect;
        x.$el.addEventListener('click', (e) => {
            if (!(e.target instanceof HTMLInputElement))
                return;
            if (this.tool === 'inspect') {
                let locked = this.world.getResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE).locked;
                this.world.editResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE, { locked: !locked });
            }
        });
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
        this.world.events.off('command_history_change', this.onCommandHistoryChange, this);
    }
    onCommandHistoryChange(canUndo, canRedo) {
        this.canUndo = canUndo;
        this.canRedo = canRedo;
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE) {
            this.backgroundLocked = res.locked;
        }
        else if (res.type === _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE) {
            this.tool = res.tool;
        }
    }
    onToolEdit(tool) {
        this.world.editResource('tool', { tool });
    }
    undo() {
        this.world.events.emit('command_undo');
    }
    redo() {
        this.world.events.emit('command_redo');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], ToolBar.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('tool')
], ToolBar.prototype, "onToolEdit", null);
ToolBar = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: { MouseTrailIcon: _icons_mouseTrailIcon_vue__WEBPACK_IMPORTED_MODULE_3__.default, WallIcon: _icons_wallIcon_vue__WEBPACK_IMPORTED_MODULE_4__.default }
    })
], ToolBar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolBar);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../footer.vue */ "./src/app/ui/footer.vue");
/* harmony import */ var _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue */ "./src/app/ui/home/mapInput.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let HomeComponent = class HomeComponent extends _vue__WEBPACK_IMPORTED_MODULE_2__.Vue {
    constructor() {
        super(...arguments);
        this.file = null;
        this.pendingOp = "";
    }
    onCreateMap() {
        this.eventEmitter.emit("create_map");
    }
    onEditMap() {
        this.pendingOp = 'edit';
        this.mapLoadModal.show();
        this.eventEmitter.emit("edit_map");
    }
    mapLoadCancel() {
        this.mapLoadModal.hide();
    }
    onFileChanged(val) {
        if (val == null)
            return;
        console.log("File dropped, loading: " + this.pendingOp);
        this.eventEmitter.emit(this.pendingOp, this.file);
        this.file = null;
        this.mapLoadCancel();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VRef)('map-load-modal')
], HomeComponent.prototype, "mapLoadModal", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VWatch)('file')
], HomeComponent.prototype, "onFileChanged", null);
HomeComponent = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VComponent)({
        components: { MapInput: _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__.default, FooterComponent: _footer_vue__WEBPACK_IMPORTED_MODULE_0__.default }
    })
], HomeComponent);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HomeComponent);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts& ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&":
/*!******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts& ***!
  \******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


const LOADING_PHRASES = [
    "Persuading dragons to cooperate...",
    "A Dwarf, an Elf and a Dragonbord enter a tavern... \"We're looking for a quest\"",
    "An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways",
    "Recharging spell slots...",
    "Roll a Charisma saving throw...",
    "Long rest in progress...",
    "Fitting out the goblin army...",
    "The last boss you killed met a 20th level chieric... The rest is up to you! ;)",
    "This map only costs 25gp!",
    "Sorry, you'd better create a new character sheet",
];
function randomMex() {
    const i = Math.floor(Math.random() * LOADING_PHRASES.length);
    return LOADING_PHRASES[i];
}
let Loading = class Loading extends vue__WEBPACK_IMPORTED_MODULE_1__.default {
    constructor() {
        super(...arguments);
        this.message = randomMex();
    }
};
Loading = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], Loading);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EditableColor = class EditableColor extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableColor.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableColor.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableColor.prototype, "placeholder", void 0);
EditableColor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EditableColor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableColor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _editableText_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableText.vue */ "./src/app/ui/util/editableText.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EditableNumber = class EditableNumber extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.filter = (s) => {
            let neg = false;
            if (s[0] === '-') {
                neg = this.canBeNegative;
                s = s.substr(1);
            }
            const prefix = neg ? '-' : '';
            return prefix + s.split('.', 2)
                .map(x => x.replace(/[^0-9]*/g, ''))
                .join('.');
        };
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableNumber.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableNumber.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableNumber.prototype, "placeholder", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: true })
], EditableNumber.prototype, "canBeNegative", void 0);
EditableNumber = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableText: _editableText_vue__WEBPACK_IMPORTED_MODULE_1__.default
        }
    })
], EditableNumber);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableNumber);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EditableText = class EditableText extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    onEvent(ev, event) {
        const et = event.target;
        if (this.filter !== undefined) {
            et.value = this.filter(et.value);
        }
        this.$emit(ev, et.value);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableText.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableText.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableText.prototype, "placeholder", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: undefined })
], EditableText.prototype, "filter", void 0);
EditableText = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EditableText);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableText);


/***/ }),

/***/ "./src/app/PIXI.ts":
/*!*************************!*\
  !*** ./src/app/PIXI.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi-layers */ "./node_modules/pixi-layers/dist/pixi-layers.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_layers__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pixi_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./src/app/assetsLoader.ts":
/*!*********************************!*\
  !*** ./src/app/assetsLoader.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAssets": () => (/* binding */ loadAssets)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Public/images/props.png */ "./src/public/images/props.png");
/* harmony import */ var Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Public/spritesheets/props.json */ "./src/public/spritesheets/props.json");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



var BaseTexture = pixi_js__WEBPACK_IMPORTED_MODULE_0__.BaseTexture;
var ImageResource = pixi_js__WEBPACK_IMPORTED_MODULE_0__.resources.ImageResource;
function loadSpritesheet(loader, name, imgUrl, data) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            console.log("[Spritesheet] Loading: " + name);
            const imgElm = new Image();
            imgElm.crossOrigin = 'anonymous';
            imgElm.onload = () => {
                const tex = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Texture(new BaseTexture(new ImageResource(imgElm)));
                const spritesheet = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Spritesheet(tex, data);
                loader.resources[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.LoaderResource(name, "");
                loader.resources[name].spritesheet = spritesheet;
                spritesheet.parse(() => {
                    console.log("[Spritesheet] Loaded: " + name);
                    resolve(spritesheet);
                });
            };
            imgElm.src = imgUrl; // When the listeners are set, we can finally start downloading the image.
        });
    });
}
function loadAssets() {
    return __awaiter(this, void 0, void 0, function* () {
        const loader = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Loader.shared;
        yield Promise.all([
            loadSpritesheet(loader, "props", Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__.default, Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__),
        ]);
    });
}


/***/ }),

/***/ "./src/app/ecs/component.ts":
/*!**********************************!*\
  !*** ./src/app/ecs/component.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "POSITION_TYPE": () => (/* binding */ POSITION_TYPE),
/* harmony export */   "TRANSFORM_TYPE": () => (/* binding */ TRANSFORM_TYPE),
/* harmony export */   "NAME_TYPE": () => (/* binding */ NAME_TYPE),
/* harmony export */   "NOTE_TYPE": () => (/* binding */ NOTE_TYPE),
/* harmony export */   "FOLLOW_MOUSE_TYPE": () => (/* binding */ FOLLOW_MOUSE_TYPE),
/* harmony export */   "HOST_HIDDEN_TYPE": () => (/* binding */ HOST_HIDDEN_TYPE),
/* harmony export */   "registerCommonStorage": () => (/* binding */ registerCommonStorage)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/app/ecs/storage.ts");

const POSITION_TYPE = "position";
const TRANSFORM_TYPE = "transform";
const NAME_TYPE = "name";
const NOTE_TYPE = "note";
const FOLLOW_MOUSE_TYPE = "follow_mouse";
const HOST_HIDDEN_TYPE = "host_hidden";
function registerCommonStorage(ecs) {
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(POSITION_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(TRANSFORM_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NAME_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NOTE_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(FOLLOW_MOUSE_TYPE, false, false));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(HOST_HIDDEN_TYPE, false, false));
}


/***/ }),

/***/ "./src/app/ecs/ecsUtil.ts":
/*!********************************!*\
  !*** ./src/app/ecs/ecsUtil.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterComponentKeepEntity": () => (/* binding */ filterComponentKeepEntity),
/* harmony export */   "filterComponent": () => (/* binding */ filterComponent),
/* harmony export */   "generateRandomId": () => (/* binding */ generateRandomId),
/* harmony export */   "componentClone": () => (/* binding */ componentClone)
/* harmony export */ });
function filterComponentKeepEntity(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function filterComponent(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'entity' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function generateRandomId() {
    return Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
}
function componentClone(obj) {
    return JSON.parse(JSON.stringify(obj));
}


/***/ }),

/***/ "./src/app/ecs/interaction.ts":
/*!************************************!*\
  !*** ./src/app/ecs/interaction.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeomertyQueryType": () => (/* binding */ GeomertyQueryType),
/* harmony export */   "QueryHitEvent": () => (/* binding */ QueryHitEvent)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

var GeomertyQueryType;
(function (GeomertyQueryType) {
    GeomertyQueryType[GeomertyQueryType["POINT"] = 0] = "POINT";
    GeomertyQueryType[GeomertyQueryType["AABB"] = 1] = "AABB";
})(GeomertyQueryType || (GeomertyQueryType = {}));
class QueryHitEvent {
    constructor(type, multi, aabb, data) {
        this.hits = new Map();
        this.type = type;
        this.multi = multi;
        this.aabb = aabb;
        this.data = data || aabb;
    }
    shouldContinue() {
        return this.multi || this.hits.size === 0;
    }
    addHit(entity, priority) {
        if (!this.shouldContinue())
            return;
        if (this.hits.has(entity)) {
            let oldPrior = this.hits.get(entity);
            if (oldPrior >= priority)
                return;
        }
        this.hits.set(entity, priority);
    }
    getSorted() {
        return [...this.hits.entries()].sort(x => -x[1]).map(x => x[0]);
    }
    static queryPoint(point, multi) {
        return new QueryHitEvent(GeomertyQueryType.POINT, multi, new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(point.x, point.y, point.x, point.y), point);
    }
    static queryAabb(aabb, multi) {
        return new QueryHitEvent(GeomertyQueryType.AABB, multi, aabb);
    }
}


/***/ }),

/***/ "./src/app/ecs/resource.ts":
/*!*********************************!*\
  !*** ./src/app/ecs/resource.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RECTANGULAR_SELECTION_TYPE": () => (/* binding */ RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "MEASURE_TYPE": () => (/* binding */ MEASURE_TYPE)
/* harmony export */ });
const RECTANGULAR_SELECTION_TYPE = "rectangular_selection";
const MEASURE_TYPE = "measure";


/***/ }),

/***/ "./src/app/ecs/storage.ts":
/*!********************************!*\
  !*** ./src/app/ecs/storage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "serializeObj": () => (/* binding */ serializeObj),
/* harmony export */   "MultiEcsStorage": () => (/* binding */ MultiEcsStorage),
/* harmony export */   "SingleEcsStorage": () => (/* binding */ SingleEcsStorage),
/* harmony export */   "FlagEcsStorage": () => (/* binding */ FlagEcsStorage)
/* harmony export */ });
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");

function serializeObj(obj) {
    let res = {};
    for (let name in obj) {
        if (name[0] === '_' || name === 'entity' || name === 'type')
            continue;
        res[name] = obj[name];
    }
    return res;
}
class MultiEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getFirstComponent(entity, multiId) {
        if (multiId !== undefined) {
            return this.getComponent(entity, multiId);
        }
        let e = this.data.get(entity);
        if (e === undefined)
            return undefined;
        return e[0];
    }
    getComponent(entity, multiId) {
        let cmps = this.data.get(entity);
        if (cmps === undefined)
            return undefined;
        for (let cmp of cmps) {
            if (cmp.multiId === multiId)
                return cmp;
        }
        return undefined;
    }
    getComponents(entity) {
        if (entity !== undefined) {
            return this.data.get(entity) || [];
        }
        else {
            return this.allComponents();
        }
    }
    *allComponents() {
        for (let comps of this.data.values()) {
            for (let comp of comps) {
                yield comp;
            }
        }
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (component.multiId >= 0) { // Pre-assigned multi-id
            if (arr === undefined) {
                this.data.set(component.entity, [component]);
            }
            else {
                for (let c of arr) {
                    if (c.multiId === component.multiId)
                        throw 'Invalid pre-assigned multiId';
                }
                arr.push(component);
            }
            return;
        }
        if (arr === undefined) {
            component.multiId = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_0__.generateRandomId)();
            this.data.set(component.entity, [component]);
        }
        else {
            let id;
            let found;
            do {
                id = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_0__.generateRandomId)();
                found = false;
                for (let x of arr) {
                    if (x.multiId === id) {
                        found = true;
                        break;
                    }
                }
            } while (found);
            component.multiId = id;
            arr.push(component);
        }
    }
    unregister(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            return;
        }
        if (arr.length === 1 && arr[0] === component) {
            this.data.delete(component.entity);
        }
        else {
            arr.splice(arr.indexOf(component), 1);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        let res = {};
        for (let [entity, comps] of this.data.entries()) {
            let entityRes = new Array();
            for (let component of comps) {
                entityRes.push(serializeObj(component));
            }
            res[entity] = entityRes;
        }
        return res;
    }
    serializeClient(shouldIgnore) {
        let res = {};
        for (let [entity, comps] of this.data.entries()) {
            if (shouldIgnore(entity))
                continue;
            let entityRes = new Array();
            for (let component of comps) {
                if (component.clientVisible === false)
                    continue;
                entityRes.push(serializeObj(component));
            }
            if (entityRes.length !== 0) {
                res[entity] = entityRes;
            }
        }
        return res;
    }
    deserialize(ecs, data) {
        for (let entity in data) {
            let e = parseInt(entity);
            for (let comp of data[entity]) {
                let obj = Object.assign({}, comp, {
                    type: this.type
                });
                ecs.addComponent(e, obj);
            }
        }
    }
}
class SingleEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.data.get(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.data.get(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            this.data.set(component.entity, component);
        }
        else {
            throw 'Component of same type already registered';
        }
    }
    unregister(component) {
        let c = this.data.get(component.entity);
        if (c === undefined) {
            return;
        }
        if (c === component) {
            this.data.delete(component.entity);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        let res = {};
        for (let comp of this.data.values()) {
            res[comp.entity] = serializeObj(comp);
        }
        return res;
    }
    serializeClient(shouldIgnore) {
        let res = {};
        for (let comp of this.data.values()) {
            if (shouldIgnore(comp.entity) || comp.clientVisible === false)
                continue;
            res[comp.entity] = serializeObj(comp);
        }
        return res;
    }
    deserialize(ecs, data) {
        for (let entity in data) {
            let obj = Object.assign({}, data[entity], {
                type: this.type
            });
            ecs.addComponent(parseInt(entity), obj);
        }
    }
}
class FlagEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.getComponent(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.getComponent(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        if (this.data.has(component.entity))
            throw 'Component of same type already registered';
        this.data.set(component.entity, component);
    }
    unregister(component) {
        this.data.delete(component.entity);
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        return [...this.data.keys()];
    }
    serializeClient(shouldIgnore) {
        return [...this.data.keys()].filter((e) => !shouldIgnore(e));
    }
    deserialize(ecs, data) {
        for (let entity of data) {
            ecs.addComponent(entity, {
                type: this.type,
                entity: -1
            });
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systemGraph.ts":
/*!************************************!*\
  !*** ./src/app/ecs/systemGraph.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SystemGraph": () => (/* binding */ SystemGraph)
/* harmony export */ });
class SystemGraph {
    constructor() {
        this.systemsByName = new Map();
        this.systems = new Array();
        this.unfulfilledDeps = new Set();
    }
    get(name) {
        return this.systemsByName.get(name);
    }
    register(system) {
        let depName = system.name;
        let unfulfilled = this.unfulfilledDeps.has(system.name);
        if (!unfulfilled && system.provides !== undefined) {
            for (let dep of system.provides) {
                depName = dep;
                unfulfilled = this.unfulfilledDeps.has(dep);
                if (unfulfilled)
                    break;
            }
        }
        if (unfulfilled) {
            throw `Some previous system optionally depended on ${depName}, please order your systems correctly`;
        }
        for (let dep of system.dependencies) {
            if (!this.systemsByName.has(dep))
                throw 'Unfulfilled dependency: ' + dep;
        }
        if (system.optionalDependencies !== undefined) {
            for (let dep of system.optionalDependencies) {
                if (this.systemsByName.has(dep))
                    continue;
                this.unfulfilledDeps.add(dep);
            }
        }
        let sys = this.systemsByName.get(system.name);
        if (sys != null) {
            if (sys.name === system.name)
                throw 'System name conflict';
            console.warn(`System ${system.name} has been already registered under ${sys.name}, overriding`);
        }
        this.systemsByName.set(system.name, system);
        this.systems.push(system);
        if (system.provides) {
            for (let prov of system.provides) {
                if (this.systemsByName.has(prov)) {
                    throw `Service ${prov} is already provided by ${this.systemsByName.get(prov).name}, cannot override with ${system.name}`;
                }
                this.systemsByName.set(prov, system);
            }
        }
    }
    [Symbol.iterator]() {
        return this.systems[Symbol.iterator]();
    }
    getAt(index) {
        return this.systems[index];
    }
    size() {
        return this.systems.length;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/bigStorageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/bigStorageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BIG_STORAGE_TYPE": () => (/* binding */ BIG_STORAGE_TYPE),
/* harmony export */   "BigStorageSystem": () => (/* binding */ BigStorageSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");



const BIG_STORAGE_TYPE = 'big_storage';
class BigStorageSystem {
    constructor(world) {
        this.name = BIG_STORAGE_TYPE;
        this.dependencies = [];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(BIG_STORAGE_TYPE, true, true);
        this.res = {
            type: BIG_STORAGE_TYPE,
            entity: -1,
            _save: true,
            _sync: true
        };
        this.world = world;
        world.addStorage(this.storage);
        world.addResource(this.res);
        world.events.on('deserialized', this.onDeserialized, this);
    }
    create(data, readonly = true) {
        if (this.res.entity <= 0) {
            let entity = this.world.spawnEntity();
            let cmd = {
                kind: 'redit',
                add: [],
                remove: [],
                edit: {
                    BIG_STORAGE_TYPE: { entity }
                }
            };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, cmd);
            this.world.editResource(BIG_STORAGE_TYPE, { entity });
        }
        let x = {
            multiId: -1,
            type: BIG_STORAGE_TYPE,
            entity: this.res.entity,
            data,
            _users: 0,
            _readonly: readonly,
        };
        (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_1__.componentEditCommand)([x]));
        return x;
    }
    request(id) {
        return this.storage.getComponent(this.res.entity, id);
    }
    requestUse(id) {
        const r = this.request(id);
        if (r === undefined)
            return undefined;
        if (this.world.isMaster) {
            r._users = ((r._users || 0) + 1);
        }
        return r;
    }
    replace(id, newData) {
        const r = this.request(id);
        if (r === undefined)
            return undefined;
        r.data = newData;
        return r;
    }
    dropUse(id) {
        if (!this.world.isMaster)
            return;
        const r = this.request(id);
        if (r === undefined)
            return;
        r._users = ((r._users || 0) - 1);
        // Don't, this might be reused by the commands
        /*if (r._users <= 0) {
            this.storage.unregister(r as BigEntryComponent);
        }*/
    }
    onDeserialized() {
        let toRemove = [];
        for (let r of this.storage.getComponents(this.res.entity)) {
            if (r._users === undefined || r._users <= 0) {
                toRemove.push(r);
            }
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_1__.componentEditCommand)([], [], toRemove);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/interactionSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/interactionSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShapeType": () => (/* binding */ ShapeType),
/* harmony export */   "shapePoint": () => (/* binding */ shapePoint),
/* harmony export */   "shapeAabb": () => (/* binding */ shapeAabb),
/* harmony export */   "shapeCircle": () => (/* binding */ shapeCircle),
/* harmony export */   "shapeLine": () => (/* binding */ shapeLine),
/* harmony export */   "shapePolygon": () => (/* binding */ shapePolygon),
/* harmony export */   "shapeObb": () => (/* binding */ shapeObb),
/* harmony export */   "shapeIntersect": () => (/* binding */ shapeIntersect),
/* harmony export */   "shapeToAabb": () => (/* binding */ shapeToAabb),
/* harmony export */   "INTERACTION_TYPE": () => (/* binding */ INTERACTION_TYPE),
/* harmony export */   "InteractionSystem": () => (/* binding */ InteractionSystem)
/* harmony export */ });
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _game_pointDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/pointDB */ "./src/app/game/pointDB.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");










var ShapeType;
(function (ShapeType) {
    ShapeType[ShapeType["POINT"] = 0] = "POINT";
    ShapeType[ShapeType["AABB"] = 1] = "AABB";
    ShapeType[ShapeType["CIRCLE"] = 2] = "CIRCLE";
    ShapeType[ShapeType["LINE"] = 3] = "LINE";
    ShapeType[ShapeType["POLYGON"] = 4] = "POLYGON";
    ShapeType[ShapeType["OBB"] = 5] = "OBB";
})(ShapeType || (ShapeType = {}));
function shapePoint(pos) {
    return {
        type: ShapeType.POINT,
        pos,
    };
}
function shapeAabb(aabb) {
    return {
        type: ShapeType.AABB,
        data: aabb,
    };
}
function shapeCircle(center, radius) {
    return {
        type: ShapeType.CIRCLE,
        pos: center,
        radius: radius,
    };
}
function shapeLine(line) {
    return {
        type: ShapeType.LINE,
        data: line,
    };
}
function shapePolygon(polygon) {
    return {
        type: ShapeType.POLYGON,
        polygon,
    };
}
function shapeObb(obb) {
    return {
        type: ShapeType.OBB,
        data: obb,
    };
}
function shapeIntersect(shape1, shape2) {
    if (shape2.type < shape1.type)
        [shape2, shape1] = [shape1, shape2];
    let s1t = shape1.type;
    let s2t = shape2.type;
    // TODO: polygon vs polygon
    if (s1t === ShapeType.POINT) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POINT: return false;
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsPoint)(shape2.data, s1.pos);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapPointVsCircle)(s1.pos, shape2.pos, shape2.radius);
            case ShapeType.LINE: return false;
            case ShapeType.POLYGON: return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.polygonPointIntersect)(s1.pos, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsPoint)(shape2.data, s1.pos);
        }
    }
    else if (s1t === ShapeType.AABB) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsAabb)(shape2.data, s1.data);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsAabb)(shape2.pos, shape2.radius, s1.data);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsLine)(s1.data, shape2.data);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(_geometry_obb__WEBPACK_IMPORTED_MODULE_3__.Obb.fromAabb(s1.data), shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsAabb)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.CIRCLE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsCircle)(shape2.pos, shape2.radius, s1.pos, s1.radius);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsCircle)(shape2.data, s1.pos, s1.radius);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsPolygon)(s1.pos, s1.radius, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsCircle)(shape2.data, s1.pos, s1.radius);
        }
    }
    else if (s1t === ShapeType.LINE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.intersectSegmentVsSegment)(s1.data, shape2.data) == _geometry_collision__WEBPACK_IMPORTED_MODULE_0__.SegmentVsSegmentRes.INTERN;
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsPolygon)(s1.data, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsLine)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.POLYGON) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POLYGON: break;
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(shape2.data, s1.polygon);
        }
    }
    else if (s1t === ShapeType.OBB) {
        return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsRotatedRect)(shape1.data, shape2.data);
    }
    // Polygon vs Polygon
    throw 'Query not implemented: ' + s1t + ' vs ' + s2t;
}
function shapeToAabb(shape) {
    switch (shape.type) {
        case ShapeType.POINT: return _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.fromPoint(shape.pos);
        case ShapeType.AABB: return shape.data;
        case ShapeType.CIRCLE: {
            let s = shape;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.pos.x - s.radius, s.pos.y - s.radius, s.pos.x + s.radius, s.pos.y + s.radius);
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.fromX, s.fromY, s.toX, s.toY);
        }
        case ShapeType.POLYGON: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.polygon);
            return aabb;
        }
        case ShapeType.OBB: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.data.rotVertex);
            return aabb;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeToSnaps(shape) {
    switch (shape.type) {
        case ShapeType.POINT:
        case ShapeType.CIRCLE: {
            let p = shape;
            return [p.pos.x, p.pos.y];
        }
        case ShapeType.AABB: {
            let aabb = shape.data;
            return [
                aabb.minX, aabb.minY,
                aabb.minX, aabb.maxY,
                aabb.maxX, aabb.minY,
                aabb.maxX, aabb.maxY,
            ];
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return [
                s.fromX, s.fromY,
                s.toX, s.toY,
            ];
        }
        case ShapeType.POLYGON: {
            let pol = shape.polygon;
            let data = new Array();
            for (let i = 0; i < pol.length; i += 2) {
                data.push(pol[i], pol[i + 1]);
            }
            return data;
        }
        case ShapeType.OBB: {
            let pol = shape.data.rotVertex;
            let data = new Array(8);
            for (let i = 0; i < 8; i++) {
                data[i] = pol[i];
            }
            return data;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeTranslate(shape, x, y) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            s.pos.x += x;
            s.pos.y += y;
            break;
        }
        case ShapeType.AABB: {
            let s = shape.data;
            s.translate(x, y, s);
            break;
        }
        case ShapeType.LINE: {
            let s = shape.data;
            s.fromX += x;
            s.fromY += y;
            s.toX += x;
            s.toY += y;
            break;
        }
        case ShapeType.POLYGON: {
            let s = shape;
            let slen = s.polygon.length;
            for (let i = 0; i < slen; i += 2) {
                s.polygon[i] += x;
                s.polygon[i + 1] += y;
            }
            break;
        }
        case ShapeType.OBB: {
            let s = shape.data;
            s.unrotated.translate(x, y, s.unrotated);
            let pol = s.rotVertex;
            for (let i = 0; i < 8; i += 2) {
                pol[i] += x;
                pol[i + 1] += y;
            }
            break;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeClone(shape) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            return {
                type: ShapeType.POINT,
                pos: new PIXI.Point(s.pos.x, s.pos.y),
            };
        }
        case ShapeType.AABB: return shapeAabb(shape.data.copy());
        case ShapeType.LINE: return shapeLine(shape.data.copy());
        case ShapeType.POLYGON: return shapePolygon([...shape.polygon]);
        case ShapeType.OBB: return shapeObb(shape.data.copy());
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
const INTERACTION_TYPE = 'interaction';
class InteractionSystem {
    constructor(world) {
        this.name = INTERACTION_TYPE;
        this.dependencies = [_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_5__.SingleEcsStorage('interaction', false, false);
        this.isTranslating = false;
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        this.world = world;
        this.selectionSys = this.world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE);
        this.snapDb = new _game_pointDB__WEBPACK_IMPORTED_MODULE_7__.PointDB(this.world.systems.get(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE));
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
        world.events.on('query_hit', this.onQueryHit, this);
    }
    registerSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.insert([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.remove([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterComponent(comp) {
        if (comp._snaps) {
            this.unregisterSnapPoints(comp._snaps);
            comp._snaps = undefined;
        }
        if (comp._treeId !== undefined) {
            this.aabbTree.destroyProxy(comp._treeId);
            comp._treeId = undefined;
        }
    }
    updateComponent(comp) {
        this.unregisterComponent(comp);
        if (comp.shape === undefined)
            return;
        comp._treeId = this.aabbTree.createProxy(shapeToAabb(comp.shape), comp);
        if (comp.snapEnabled) {
            comp._snaps = shapeToSnaps(comp.shape);
            this.registerSnapPoints(comp._snaps);
        }
    }
    onComponentAdd(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.updateComponent(comp);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === INTERACTION_TYPE) {
            let c = comp;
            if ('shape' in changed) {
                this.updateComponent(c);
            }
        }
        else if (comp.type === 'position') {
            let pos = comp;
            let inter = this.storage.getComponent(pos.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let oldX = changed.x !== undefined ? changed.x : pos.x;
            let oldY = changed.y !== undefined ? changed.y : pos.y;
            let diffX = pos.x - oldX;
            let diffY = pos.y - oldY;
            if (diffX !== 0 || diffY !== 0) {
                // TODO: trigger component change(?)
                shapeTranslate(inter.shape, diffX, diffY);
                if (!(this.isTranslating && this.selectionSys.selectedEntities.has(pos.entity))) {
                    this.updateComponent(inter);
                }
            }
            return;
        }
        else if (comp.type === 'transform') {
            let trans = comp;
            let inter = this.storage.getComponent(trans.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let shape = inter.shape;
            if (shape.type === ShapeType.POINT)
                return;
            if (shape.type === ShapeType.CIRCLE) {
                let s = shape;
                if ('scale' in changed) {
                    s.radius = s.radius * trans.scale / changed.scale;
                    this.updateComponent(inter);
                }
            }
            else if (shape.type === ShapeType.OBB) {
                let s = shape;
                if ('scale' in changed) {
                    let diffScale = trans.scale / changed.scale;
                    s.data.unrotated.scale(diffScale, diffScale, s.data.unrotated);
                }
                s.data.rotation = trans.rotation;
                s.data.recompute();
                this.updateComponent(inter);
            }
            else {
                console.warn("Unable to auto-rotate other shapes than OBB, watch your components!");
                return;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.unregisterComponent(comp);
    }
    onToolMoveBegin() {
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.unregisterComponent(c);
        }
        this.isTranslating = true;
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.updateComponent(c);
        }
    }
    singleHitQuery(shape, event) {
        let bestPrior = Number.NEGATIVE_INFINITY;
        let best = -1;
        let iter = this.queryVisible(shape, (c) => (c.selectPriority || 0) > bestPrior);
        for (let item of iter) {
            best = item.entity;
            bestPrior = item.selectPriority || 0;
        }
        if (best !== -1) {
            event.addHit(best, bestPrior);
        }
    }
    multiHitQuery(shape, event) {
        let iter = this.queryVisible(shape, (c) => c.selectPriority !== undefined);
        for (let item of iter) {
            event.addHit(item.entity, item.selectPriority);
            if (!event.shouldContinue())
                return;
        }
    }
    onQueryHit(event) {
        if (!event.shouldContinue())
            return;
        let shape;
        switch (event.type) {
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.POINT:
                shape = shapeCircle(event.data, 20);
                break;
            //case GeomertyQueryType.POINT: shape = shapePoint(event.data as PIXI.IPointData); break; // ENABLE THIS FOR POINT-PRECISION CLICKING
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.AABB:
                shape = shapeAabb(event.data);
                break;
            default: throw 'Unknown query type';
        }
        if (event.multi) {
            this.multiHitQuery(shape, event);
        }
        else {
            this.singleHitQuery(shape, event);
        }
    }
    queryVisible(shape, preCheck) {
        let playerVis = undefined;
        if (!this.world.isMaster) {
            playerVis = this.world.storages.get('player_visible');
        }
        if (playerVis === undefined)
            return this.query(shape, preCheck);
        return this.query(shape, c => {
            let visC = playerVis.getComponent(c.entity);
            if (visC !== undefined && !visC.visible)
                return false;
            return preCheck === undefined ? true : preCheck(c);
        });
    }
    *query(shape, preCheck) {
        let aabb = shapeToAabb(shape);
        for (let c of this.aabbTree.query(aabb)) {
            let tag = c.tag;
            if (preCheck && !preCheck(tag))
                continue;
            if (!shapeIntersect(tag.shape, shape))
                continue;
            let qc = tag.queryCheck;
            if (qc && !qc(shape))
                continue;
            yield tag;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/keyboardSystem.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/back/keyboardSystem.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KEYBOARD_KEY_UP": () => (/* binding */ KEYBOARD_KEY_UP),
/* harmony export */   "KEYBOARD_KEY_DOWN": () => (/* binding */ KEYBOARD_KEY_DOWN),
/* harmony export */   "KEYBOARD_TYPE": () => (/* binding */ KEYBOARD_TYPE),
/* harmony export */   "WEB_KEYBOARD_TYPE": () => (/* binding */ WEB_KEYBOARD_TYPE),
/* harmony export */   "WebKeyboardSystem": () => (/* binding */ WebKeyboardSystem)
/* harmony export */ });
const KEYBOARD_KEY_UP = 'keyboard_key_up';
const KEYBOARD_KEY_DOWN = 'keyboard_key_down';
const KEYBOARD_TYPE = 'keyboard';
const WEB_KEYBOARD_TYPE = 'web_keyboard';
class WebKeyboardSystem {
    constructor(world) {
        this.dependencies = [];
        this.name = WEB_KEYBOARD_TYPE;
        this.provides = [KEYBOARD_TYPE];
        this.world = world;
        this.keyboard = {
            type: KEYBOARD_TYPE,
            _save: false,
            _sync: false,
            pressedKeys: new Set(),
            shift: false,
            ctrl: false,
        };
        this.world.addResource(this.keyboard);
    }
    onKeyDown(event) {
        if (event.target instanceof HTMLInputElement) {
            return;
        }
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            this.keyboard.pressedKeys.add(key);
            this.world.events.emit(KEYBOARD_KEY_UP, key);
        }
    }
    onKeyUp(event) {
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            this.keyboard.pressedKeys.delete(key);
            this.world.events.emit(KEYBOARD_KEY_DOWN, key);
        }
    }
    enable() {
        this.keyDownListener = this.onKeyDown.bind(this);
        document.addEventListener('keydown', this.keyDownListener);
        this.keyUpListener = this.onKeyUp.bind(this);
        document.addEventListener('keyup', this.keyUpListener);
    }
    destroy() {
        document.removeEventListener('keydown', this.keyDownListener);
        document.removeEventListener('keyup', this.keyUpListener);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/layerSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/back/layerSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LAYER_TYPE": () => (/* binding */ LAYER_TYPE),
/* harmony export */   "PARENT_LAYER_TYPE": () => (/* binding */ PARENT_LAYER_TYPE),
/* harmony export */   "BACKGROUND_LAYER_TYPE": () => (/* binding */ BACKGROUND_LAYER_TYPE),
/* harmony export */   "SELECTED_LAYER_TYPE": () => (/* binding */ SELECTED_LAYER_TYPE),
/* harmony export */   "LayerSystem": () => (/* binding */ LayerSystem),
/* harmony export */   "findForeground": () => (/* binding */ findForeground)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");



const LAYER_TYPE = "layer";
const PARENT_LAYER_TYPE = "layer_p";
const BACKGROUND_LAYER_TYPE = "layer_bkg";
const SELECTED_LAYER_TYPE = "layer_sel";
class LayerSystem {
    // TODO: optimize clear
    constructor(world) {
        this.name = LAYER_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [];
        this.layerStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(LAYER_TYPE);
        this.parentStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PARENT_LAYER_TYPE);
        this.layerByName = new Map();
        this.world = world;
        this.backgroundLayer = {
            type: BACKGROUND_LAYER_TYPE,
            entity: -1,
            name: "Background",
            priority: _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__.LayerOrder.BACKGROUND,
            locked: true,
            _save: true,
            _sync: true,
        };
        this.selectedLayer = {
            type: SELECTED_LAYER_TYPE,
            layer: -1,
        };
        world.addStorage(this.layerStorage);
        world.addStorage(this.parentStorage);
        world.addResource(this.backgroundLayer);
        world.addResource(this.selectedLayer);
        const events = world.events;
        events.on('component_add', this.onComponentAdd, this);
        events.on('component_edited', this.onComponentEdited, this);
        events.on('component_remove', this.onComponentRemove, this);
        events.on('resource_edited', this.onResourceEdited, this);
    }
    onLayerEdited(l, edits) {
        if ('name' in edits) {
            let oldName = edits.name;
            if (oldName !== undefined) {
                this.layerByName.delete(oldName);
            }
            if (l.name !== undefined) {
                if (this.layerByName.has(l.name)) {
                    console.warn("Layer name conflict");
                    l.name = undefined;
                    return;
                }
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentAdd(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            if (l.name !== undefined) {
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentEdited(c, edited) {
        if (c.type === LAYER_TYPE) {
            this.onLayerEdited(c, edited);
        }
    }
    onComponentRemove(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            let cmd = {
                kind: 'despawn',
                entities: [],
            };
            for (let child of this.parentStorage.allComponents()) {
                if (child.layer !== l.entity)
                    continue;
                cmd.entities.push(child.entity);
            }
            if (cmd.entities.length !== 0) {
                (0,_command_command__WEBPACK_IMPORTED_MODULE_1__.commandRegisterPreConsequence)(this.world, cmd);
            }
        }
    }
    onResourceEdited(r, edited) {
        if (r.type === BACKGROUND_LAYER_TYPE) {
            this.onLayerEdited(r, edited);
        }
    }
    getEntityLayer(entity) {
        let cmp = this.parentStorage.getComponent(entity);
        if (cmp === undefined) {
            return this.backgroundLayer;
        }
        let layer = this.layerStorage.getComponent(cmp.layer);
        if (layer === undefined) {
            console.warn("Invalid parent layer of " + cmp.entity + ": " + cmp.layer);
            return this.backgroundLayer;
        }
        return layer;
    }
    getLayerById(id) {
        if (id === -1)
            return this.backgroundLayer;
        let layer = this.layerStorage.getComponent(id);
        if (layer === undefined) {
            console.warn("Invalid layer id: " + layer);
            return this.backgroundLayer;
        }
        return layer;
    }
    enable() {
    }
    destroy() {
    }
}
function findForeground(world) {
    let sto = world.getStorage(LAYER_TYPE);
    if (sto === undefined)
        return -1;
    for (let x of sto.getComponents()) {
        return x.entity; // There's only 1 layer for now (foreground)
    }
    // If it's not present we need to create it
    return world.spawnEntity({
        type: LAYER_TYPE,
        name: 'Foreground',
        priority: _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__.LayerOrder.FOREGROUND,
        locked: false,
    });
}


/***/ }),

/***/ "./src/app/ecs/systems/back/networkSystem.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/systems/back/networkSystem.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NETWORK_TYPE": () => (/* binding */ NETWORK_TYPE),
/* harmony export */   "NETWORK_ENTITY_TYPE": () => (/* binding */ NETWORK_ENTITY_TYPE),
/* harmony export */   "NETWORK_STATUS_TYPE": () => (/* binding */ NETWORK_STATUS_TYPE),
/* harmony export */   "CommonNetworkSystem": () => (/* binding */ CommonNetworkSystem),
/* harmony export */   "HOST_NETWORK_TYPE": () => (/* binding */ HOST_NETWORK_TYPE),
/* harmony export */   "HostNetworkSystem": () => (/* binding */ HostNetworkSystem),
/* harmony export */   "CLIENT_NETWORK_TYPE": () => (/* binding */ CLIENT_NETWORK_TYPE),
/* harmony export */   "ClientNetworkSystem": () => (/* binding */ ClientNetworkSystem)
/* harmony export */ });
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");



const NETWORK_TYPE = 'network';
const NETWORK_ENTITY_TYPE = 'network_entity';
const NETWORK_STATUS_TYPE = 'network_status';
class CommonNetworkSystem {
    constructor(world, channel) {
        this.name = NETWORK_TYPE;
        this.dependencies = [];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(NETWORK_ENTITY_TYPE, true, false);
        this.channel = channel;
        this.world = world;
        this.world.addStorage(this.storage);
        this.res = {
            type: NETWORK_STATUS_TYPE,
            connectionCount: 0,
            isBuffering: false,
            entityIndex: new Map(),
            _save: false,
            _sync: false,
        };
        world.addResource(this.res);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('populate', this.onPopulate, this);
        if (world.isMaster) {
            world.addSystem(new HostNetworkSystem(world, channel));
        }
        else {
            world.addSystem(new ClientNetworkSystem(world, channel));
        }
    }
    onComponentAdd(c) {
        if (c.type === NETWORK_ENTITY_TYPE) {
            const comp = c;
            this.res.entityIndex.set(comp.networkId, comp.entity);
        }
    }
    onComponentRemove(c) {
        if (c.type === NETWORK_ENTITY_TYPE) {
            const comp = c;
            this.res.entityIndex.delete(comp.networkId);
        }
    }
    onPopulate() {
        this.res.myId = this.channel.myId;
        if (this.world.isMaster) {
            this.spawnDeviceEntity(this.channel.myId);
            for (let c of this.channel.connections) {
                this.spawnDeviceEntity(c.channelId);
            }
        }
    }
    updateConnectionCount() {
        const connectionCount = this.channel.connections.length;
        this.world.editResource(NETWORK_STATUS_TYPE, { connectionCount });
    }
    spawnDeviceEntity(connId) {
        const cmd = {
            kind: 'spawn',
            entities: [{
                    id: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_2__.generateRandomId)(),
                    components: [{
                            type: NETWORK_ENTITY_TYPE,
                            networkId: connId,
                            color: Math.floor(Math.random() * 0xFFFFFF),
                        }],
                }]
        };
        (0,_command_command__WEBPACK_IMPORTED_MODULE_0__.emitCommand)(this.world, cmd);
    }
    onDeviceJoin(connId) {
        this.updateConnectionCount();
        if (this.world.isMaster) {
            this.spawnDeviceEntity(connId);
        }
    }
    onDeviceLeave(connId) {
        this.updateConnectionCount();
        if (this.world.isMaster) {
            const eid = this.res.entityIndex.get(connId);
            if (eid === undefined) {
                console.warn("Device " + connId + " had no associated entity");
                return;
            }
            const cmd = {
                kind: 'despawn',
                entities: [eid],
            };
            this.world.events.emit('command_emit', cmd);
        }
    }
    onDeviceBufferUpdate() {
        const isBuffering = this.channel.bufferingChannels > 0;
        this.world.editResource(NETWORK_STATUS_TYPE, { isBuffering });
    }
    isOnline() {
        return this.channel.connections.length !== 0;
    }
    enable() {
        let chEvents = this.channel.eventEmitter;
        chEvents.on('_device_join', this.onDeviceJoin, this);
        chEvents.on('_device_left', this.onDeviceLeave, this);
        chEvents.on('_buffering_update', this.onDeviceBufferUpdate, this);
    }
    destroy() {
        let chEvents = this.channel.eventEmitter;
        chEvents.off('_device_join', this.onDeviceJoin, this);
        chEvents.off('_device_left', this.onDeviceLeave, this);
        chEvents.off('_buffering_update', this.onDeviceBufferUpdate, this);
    }
}
const HOST_NETWORK_TYPE = 'host_network';
class HostNetworkSystem {
    constructor(world, ch) {
        this.name = HOST_NETWORK_TYPE;
        this.dependencies = [];
        this.world = world;
        this.channel = ch;
        this.world.events.on('command_share', this.onCommandShare, this);
    }
    // ---------------------------------- EVENT LISTENERS ----------------------------------
    onDeviceJoin(chId) {
        this.channel.send({
            type: "ecs_bootstrap",
            payload: this.world.serializeClient(),
        }, chId);
    }
    onCommandPacket(pkt, container) {
        const sender = container.sender;
        for (let cmd of pkt.data) {
            if (!this.checkCommand(sender, cmd))
                continue;
            this.world.events.emit("command_emit", cmd, false);
        }
    }
    checkCommand(sender, command) {
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    onCommandShare(command) {
        if (command.length === 0)
            return;
        this.channel.broadcast({
            type: 'cmd',
            data: command,
        });
    }
    enable() {
        this.channel.eventEmitter.on('_device_join', this.onDeviceJoin, this);
        this.channel.eventEmitter.on('cmd', this.onCommandPacket, this);
    }
    destroy() {
        this.channel.eventEmitter.off('_device_join', this.onDeviceJoin, this);
        this.channel.eventEmitter.off('cmd', this.onCommandPacket, this);
    }
}
const CLIENT_NETWORK_TYPE = 'client_network';
class ClientNetworkSystem {
    constructor(ecs, channel) {
        this.name = CLIENT_NETWORK_TYPE;
        this.dependencies = [];
        this.world = ecs;
        this.channel = channel;
    }
    onEcsBootstrap(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.world.deserialize(packet.payload);
    }
    onCmd(packet, container) {
        for (let cmd of packet.data) {
            if (!this.checkCommand(container.sender, cmd))
                continue;
            this.world.events.emit("command_emit", cmd);
        }
    }
    checkCommand(sender, command) {
        if (sender === 0)
            return true;
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    enable() {
        this.channel.eventEmitter.on('ecs_bootstrap', this.onEcsBootstrap, this);
        this.channel.eventEmitter.on('cmd', this.onCmd, this);
    }
    destroy() {
        this.channel.eventEmitter.off('ecs_bootstrap', this.onEcsBootstrap, this);
        this.channel.eventEmitter.off('cmd', this.onCmd, this);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiBoardSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiBoardSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointerEvents": () => (/* binding */ PointerEvents),
/* harmony export */   "BOARD_TRANSFORM_TYPE": () => (/* binding */ BOARD_TRANSFORM_TYPE),
/* harmony export */   "PIXI_BOARD_TYPE": () => (/* binding */ PIXI_BOARD_TYPE),
/* harmony export */   "PixiBoardSystem": () => (/* binding */ PixiBoardSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _keyboardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");







var PointerEvents;
(function (PointerEvents) {
    PointerEvents["POINTER_MOVE"] = "pointer_move";
    PointerEvents["POINTER_DOWN"] = "pointer_down";
    PointerEvents["POINTER_UP"] = "pointer_up";
    PointerEvents["POINTER_RIGHT_DOWN"] = "pointer_right_down";
    PointerEvents["POINTER_RIGHT_UP"] = "pointer_right_up";
    PointerEvents["POINTER_CLICK"] = "pointer_click";
})(PointerEvents || (PointerEvents = {}));
const BOARD_TRANSFORM_TYPE = 'board_transform';
const PIXI_BOARD_TYPE = 'pixi_board';
class PixiBoardSystem {
    constructor(world) {
        this.name = PIXI_BOARD_TYPE;
        this.dependencies = [];
        this.pointers = new Map();
        this.mouseLastX = 0;
        this.mouseLastY = 0;
        this.isDraggingBoard = false;
        this.world = world;
        this.world.events.on('req_board_center', this.centerBoard, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on(_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_KEY_DOWN, this.onKeyDown, this);
        this.world.addResource({
            type: BOARD_TRANSFORM_TYPE,
            _save: true,
            _sync: false,
            posX: 0,
            posY: 0,
            scaleX: 1,
            scaleY: 1,
        });
        // We cannot work without webgl
        _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
        this.renderer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Renderer({
            backgroundColor: _lightSystem__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_BACKGROUND,
        });
        (0,_util_pixi__WEBPACK_IMPORTED_MODULE_4__.addCustomBlendModes)(this.renderer);
        this.renderer.view.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        this.ticker = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Ticker();
        this.root = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Stage();
        this.root.interactive = false;
        this.root.interactiveChildren = false;
        this.root.sortableChildren = true;
        this.root.group.enableSort = true;
        this.root.interactive = true;
        this.root.hitArea = {
            contains(x, y) {
                return true;
            }
        };
        this.ticker.add(() => {
            this.renderer.render(this.root);
        }, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.UPDATE_PRIORITY.LOW);
        // TODO: we should create render phases, one for the world (using the projection matrix to move the camera)
        //       and the other for the GUI (or other things that do not depend on camera position, as the GridSystem(?)).
        //       to create a custom game loop: https://github.com/pixijs/pixi.js/wiki/v5-Custom-Application-GameLoop
        this.board = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Container();
        this.board.interactive = false;
        this.board.interactiveChildren = false;
        this.board.position.set(0, 0);
        this.board.sortableChildren = true;
        this.toolForegroundGroup = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_6__.LayerOrder.TOOLS, false);
        const toolLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Layer(this.toolForegroundGroup);
        toolLayer.interactive = false;
        toolLayer.interactiveChildren = false;
        this.root.addChild(toolLayer);
        this.root.addChild(this.board);
    }
    onKeyDown(key) {
        let keyboard = this.world.getResource(_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_TYPE);
        if (keyboard === undefined)
            return;
        let ctrl = keyboard.ctrl;
        let shift = keyboard.shift;
        if (!ctrl)
            return;
        let event_name = undefined;
        switch (key) {
            case 'z':
                if (shift)
                    event_name = 'command_redo';
                else
                    event_name = 'command_undo';
                break;
            case 'y':
                event_name = 'command_redo';
                break;
            case 'c':
                console.log("copy");
                break;
            case 'v':
                console.log("paste");
                break;
        }
        if (event_name !== undefined) {
            this.world.events.emit(event_name);
        }
    }
    canBecomeClick(pdata, p) {
        let now = Date.now();
        let timeDiff = now - (this.lastMouseDownTime || 0);
        let diffX = p.x - pdata.firstX;
        let diffY = p.y - pdata.firstY;
        let diffPos = Math.sqrt(diffX * diffX + diffY * diffY);
        return diffPos < 5 && timeDiff < 500;
    }
    zoom(dScale, centerX, centerY) {
        const minScale = 0.05;
        const maxScale = 3;
        if (this.board.scale.x < minScale && dScale < 1 || this.board.scale.x > maxScale && dScale > 1)
            return;
        // Before scaling adjust the position:
        // Takes the vector that goes from the board position (upper-left) to the cursor.
        // Apply the dScale factor to that vector and find the new board position.
        // Finally, the cursor position plus the vector obtained is the new board position.
        let padX = this.board.position.x - centerX;
        let padY = this.board.position.y - centerY;
        padX *= dScale;
        padY *= dScale;
        const position = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(padX + centerX, padY + centerY);
        const scale = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(this.board.scale.x * dScale, this.board.scale.y * dScale);
        // TODO
        /*if (this.board.isBoardLost(position, scale)) {
            console.log("You can't no more scale in this direction, you're loosing the board!");
            return;
        }*/
        this.world.editResource(BOARD_TRANSFORM_TYPE, {
            posX: position.x,
            posY: position.y,
            scaleX: scale.x,
            scaleY: scale.y,
        });
    }
    /**
     * Function called when the mouse scrolls.
     * The map is zoomed in and out based on the scroll direction.
     */
    onMouseWheel(event) {
        const scalingSpeed = 0.1;
        const dScale = 1 - Math.sign(event.deltaY) * scalingSpeed;
        this.zoom(dScale, event.clientX, event.clientY);
    }
    onPointerDown(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            let prde = event;
            prde.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_RIGHT_DOWN, prde);
            return;
        }
        let pos = event.data.global;
        this.pointers.set(event.data.pointerId, {
            firstX: pos.x,
            firstY: pos.y,
            lastX: pos.x,
            lastY: pos.y,
        });
        this.lastMouseDownTime = Date.now();
        let e = event;
        e.consumed = false;
        if (!(event.data.pointerType === 'mouse' && event.data.button === 1)) {
            // If middle button is pressed ignore, we force it to drag the board
            this.world.events.emit(PointerEvents.POINTER_DOWN, event);
        }
        if (!e.consumed && this.pointers.size === 1) {
            this.isDraggingBoard = true;
        }
    }
    onPointerUp(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            this.world.events.emit(PointerEvents.POINTER_RIGHT_UP, event);
        }
        let pdata = this.pointers.get(event.data.pointerId);
        if (pdata === undefined)
            return;
        this.pointers.delete(event.data.pointerId);
        if (this.lastMouseDownTime === undefined)
            return;
        if (this.pointers.size === 0) {
            this.isDraggingBoard = false;
            let isClick = this.canBecomeClick(pdata, event.data.global);
            let pue = event;
            pue.lastPosition = {
                x: pdata.lastX,
                y: pdata.lastY
            };
            pue.isClick = isClick;
            this.world.events.emit(PointerEvents.POINTER_UP, pue);
            if (isClick) {
                this.world.events.emit(PointerEvents.POINTER_CLICK, event);
            }
        }
    }
    onPointerUpOutside(event) {
        this.onPointerUp(event);
    }
    /** Function called when the cursor moves around the map. */
    onPointerMove(e) {
        let pos = e.data.global;
        // TODO: magnet snap system
        let localPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, e);
        this.updatePointerFollowers(localPos);
        let pdata = this.pointers.get(e.data.pointerId);
        if (this.pointers.size <= 1 && !this.isDraggingBoard) {
            let pme = e;
            pme.lastPosition = {
                x: this.mouseLastX, y: this.mouseLastY,
            };
            pme.canBecomeClick = pdata === undefined ? false : this.canBecomeClick(pdata, pos);
            this.world.events.emit(PointerEvents.POINTER_MOVE, pme);
            this.mouseLastX = pos.x;
            this.mouseLastY = pos.y;
        }
        if (pdata === undefined)
            return;
        if (this.pointers.size === 1) { // Move
            if (this.isDraggingBoard) {
                const newPosX = this.board.position.x + (pos.x - pdata.lastX);
                const newPosY = this.board.position.y + (pos.y - pdata.lastY);
                /*if (this.board.isBoardLost(new PIXI.Point(newPosX, newPosY), this.scale)) {
                    //console.log("You can't go further than this, you'll loose the board!");
                    return;
                }*/
                this.world.editResource(BOARD_TRANSFORM_TYPE, {
                    posX: newPosX,
                    posY: newPosY,
                });
            }
        }
        let firstDist = 0;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            firstDist = Math.sqrt(dx * dx + dy * dy);
        }
        pdata.lastX = pos.x;
        pdata.lastY = pos.y;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            let secondDist = Math.sqrt(dx * dx + dy * dy);
            let center = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point((pa.lastX + pb.lastX) / 2, (pa.lastY + pb.lastY) / 2);
            this.zoom((secondDist / firstDist), center.x, center.y);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type !== BOARD_TRANSFORM_TYPE)
            return;
        let t = res;
        this.board.position.set(t.posX, t.posY);
        this.board.scale.set(t.scaleX, t.scaleY);
    }
    updatePointerFollowers(point) {
        for (let c of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE).allComponents()) {
            this.world.editComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE, {
                x: point.x,
                y: point.y,
            });
        }
    }
    /**
     * Make the board's center and the window's center overlap.
     * This way the initial board position is centered to the root card.
     */
    centerBoard() {
        let boardScreenWidth = this.renderer.width;
        let boardScreenHeight = this.renderer.height;
        let screenMidPointWidth = boardScreenWidth / 2;
        let screenMidPointHeight = boardScreenHeight / 2;
        let bounds = this.board.getBounds();
        this.board.position.set(screenMidPointWidth - bounds.x - bounds.width / 2, screenMidPointHeight - bounds.y - bounds.height / 2);
    }
    applyCanvasStyle(canvas) {
        const s = canvas.style;
        s.width = "100%";
        s.height = "100%";
    }
    resize() {
        if (this.resizeReqId !== undefined)
            return;
        this.resizeReqId = requestAnimationFrame(this.doResize.bind(this));
    }
    doResize() {
        if (this.resizeReqId !== undefined) {
            this.resizeReqId = undefined;
        }
        let { clientWidth, clientHeight } = this.renderer.view;
        this.renderer.resize(clientWidth, clientHeight);
    }
    enable() {
        const canvas = this.renderer.view;
        this.applyCanvasStyle(canvas);
        let cnt = document.getElementById('canvas-container');
        if (cnt === null) {
            throw "Cannot find canvas container";
        }
        cnt.appendChild(canvas);
        // PIXI
        this.root.on("pointermove", this.onPointerMove, this);
        this.root.on("pointerdown", this.onPointerDown, this);
        this.root.on("pointerup", this.onPointerUp, this);
        this.root.on("pointerupoutside", this.onPointerUpOutside, this);
        this.wheelListener = this.onMouseWheel.bind(this);
        canvas.addEventListener("wheel", this.wheelListener);
        this.resizeListener = this.resize.bind(this);
        window.addEventListener("resize", this.resizeListener);
        this.resize();
        this.ticker.start();
    }
    destroy() {
        this.ticker.stop();
        window.removeEventListener("resize", this.resizeListener);
        this.root.off("pointermove", this.onPointerMove, this);
        this.root.off("pointerdown", this.onPointerDown, this);
        this.root.off("pointerup", this.onPointerUp, this);
        this.root.off("pointerupoutside", this.onPointerUpOutside, this);
        this.renderer.view.removeEventListener('wheel', this.wheelListener);
        let cnt = document.getElementById('canvas-container');
        cnt === null || cnt === void 0 ? void 0 : cnt.removeChild(this.renderer.view);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiGraphicSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiGraphicSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REMEMBER_TYPE": () => (/* binding */ REMEMBER_TYPE),
/* harmony export */   "POINT_RADIUS": () => (/* binding */ POINT_RADIUS),
/* harmony export */   "PIXI_GRAPHIC_TYPE": () => (/* binding */ PIXI_GRAPHIC_TYPE),
/* harmony export */   "PixiGraphicSystem": () => (/* binding */ PixiGraphicSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_bitSet__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/bitSet */ "./src/app/util/bitSet.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _textSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./textSystem */ "./src/app/ecs/systems/back/textSystem.ts");


















const REMEMBER_TYPE = 'remember';
var VisibListenerLevel;
(function (VisibListenerLevel) {
    VisibListenerLevel[VisibListenerLevel["NOT_NEEDED"] = 0] = "NOT_NEEDED";
    VisibListenerLevel[VisibListenerLevel["REMEMBER"] = 1] = "REMEMBER";
    VisibListenerLevel[VisibListenerLevel["PERSISTENT"] = 2] = "PERSISTENT";
})(VisibListenerLevel || (VisibListenerLevel = {}));
function lerpColor(a, b, t) {
    let tr = ((a >> 16) & 0xFF) * (1 - t) + ((b >> 16) & 0xFF) * t;
    let tg = ((a >> 8) & 0xFF) * (1 - t) + ((b >> 8) & 0xFF) * t;
    let tb = (a & 0xFF) * (1 - t) + (b & 0xFF) * t;
    return tr << 16 | tg << 8 | tb;
}
const POINT_RADIUS = 12;
const PIXI_GRAPHIC_TYPE = 'pixi_graphic';
/**
 * Manages:
 * - Drawing elements
 * - Selection highlighting
 * - Element visibility/remembering
 * - Layer ordering
 * - Position/Translation updates
 * - Bit-by-bit remembering (background discovery)
 * - Interaction setup
 *
 * TODO: we could use a ParticleSystem in some instances
 */
class PixiGraphicSystem {
    constructor(world) {
        this.name = PIXI_GRAPHIC_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__.PIXI_BOARD_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE];
        this.provides = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, false, false);
        this.rememberStorage = new _storage__WEBPACK_IMPORTED_MODULE_1__.FlagEcsStorage(REMEMBER_TYPE, true, true);
        this.renderTexturePool = new pixi_js__WEBPACK_IMPORTED_MODULE_4__.RenderTexturePool();
        this.masterVisibility = false;
        this.world = world;
        this.textSystem = world.systems.get(_textSystem__WEBPACK_IMPORTED_MODULE_17__.TEXT_TYPE);
        this.pixiBoardSystem = world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__.PIXI_BOARD_TYPE);
        this.interactionSystem = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        world.addStorage(this.rememberStorage);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('selection_begin', this.onSelectionBegin, this);
        world.events.on('selection_end', this.onSelectionEnd, this);
        world.events.on(_playerSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_VISIBILITY_SPREAD, this.onBBBVisibilitySpread, this);
        world.events.on('serialize', this.onSerialize, this);
        world.events.on('serialize_entity', this.onSerializeEntity, this);
    }
    onComponentAdd(c) {
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            this.updateVisibilityListener(com);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.world.getComponent(c.entity, REMEMBER_TYPE) !== undefined;
            this.updateElementVisibility(com, com.display, true, !!(pv === null || pv === void 0 ? void 0 : pv.visible), remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === REMEMBER_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            this.updateElementVisibility(com, com.display, true, true, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // TODO: here?
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentEdited(c, changes) {
        var _a;
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.runMethods(com, com.display); // run delayed methods (like _childrenAdd, _childrenReplace & co).
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.rememberStorage.getComponent(c.entity) !== undefined;
            this.updateElementVisibility(com, com.display, true, (_a = pv === null || pv === void 0 ? void 0 : pv.visible) !== null && _a !== void 0 ? _a : true, remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
            if ('interactive' in changes) {
                this.updateInteractive(com, pos, trans);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = c;
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE) {
            let pv = c;
            com = this.storage.getComponent(pv.entity);
            if (com === undefined)
                return;
            let remembered = false;
            if (com._visibListener === VisibListenerLevel.REMEMBER && pv.visible) {
                this.world.addComponent(c.entity, {
                    type: REMEMBER_TYPE,
                    entity: c.entity,
                });
                this.playerSystem.removePlayerVisListener(c.entity);
                remembered = true;
            }
            if (!this.masterVisibility) {
                this.updateElementVisibility(com, com.display, true, pv.visible, remembered);
            }
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentRemoved(c) {
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            this.destroyElement(c.display, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            this.updateElement(com, com.display, pos, c, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined || !com._bitByBit)
                return;
            // Now you're visible! say hello
            this.updateBBBVisAround(com);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type === 'local_light_settings') {
            let set = res;
            if (!('visionType' in changes))
                return;
            if (set.visionType === 'dm') {
                this.masterVisibility = true;
                for (let c of this.storage.allComponents()) {
                    this.updateElementVisibility(c, c.display, true, true, true);
                }
            }
            else if (set.visionType === 'rp') {
                this.masterVisibility = false;
                for (let c of this.storage.allComponents()) {
                    let pv = this.world.getComponent(c.entity, 'player_visible');
                    let rem = this.rememberStorage.getComponent(c.entity);
                    this.updateElementVisibility(c, c.display, true, pv === null || pv === void 0 ? void 0 : pv.visible, rem !== undefined);
                }
            }
            else {
                throw 'Unknown vision type';
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE) {
            if (!('width' in changes))
                return;
            // You are literally satan, I hate you.
            let posSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let tranSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            for (let c of this.storage.allComponents()) {
                this.forEachEl(c, c.display, e => {
                    if (e.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && e.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                        let pos = posSto.getComponent(c.entity);
                        let tran = tranSto.getComponent(c.entity);
                        this.updateElement(c, e, pos, tran, false);
                        this.world.editComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, { shape: this.createShape(e, pos, tran) });
                    }
                });
            }
        }
    }
    onSelectionBegin(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = true;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onSelectionEnd(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = false;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onBBBVisibilitySpread(data) {
        let iter = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(data.aabb), c => {
            let com = this.storage.getComponent(c.entity);
            return com !== undefined && com._bitByBit === true;
        });
        for (let c of iter) {
            // If we are here then the component exists, we checked it in the iterator
            let cmp = this.storage.getComponent(c.entity);
            this.doOnBitByBit(cmp, cmp.display, (img) => this.updateBBBVisibility(data, cmp, img));
        }
    }
    onSerialize() {
        let changedList = [];
        for (let com of this.storage.allComponents()) {
            if (!com._bitByBit)
                continue;
            let changed = false;
            this.doOnBitByBit(com, com.display, (img) => changed || (changed = this.extractVisibility(img)));
            if (changed)
                changedList.push(com.entity);
        }
        if (changedList) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, changedList);
        }
    }
    onSerializeEntity(entity) {
        let c = this.storage.getComponent(entity);
        if (c === undefined)
            return;
        let changed = false;
        this.doOnBitByBit(c, c.display, (img) => changed || (changed = this.extractVisibility(img)));
        if (changed) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, [entity]);
        }
    }
    // -------------------------- LISTENERS DONE --------------------------
    updateInteractive(comp, pos, trans) {
        let interactiveCmp = this.world.getComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        if (comp.interactive && interactiveCmp === undefined) {
            this.world.addComponent(comp.entity, {
                type: _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE,
                selectPriority: comp.display.priority,
                snapEnabled: true,
                shape: this.createShape(comp.display, pos, trans),
            });
        }
        else if (!comp.interactive && interactiveCmp !== undefined) {
            this.world.removeComponent(interactiveCmp);
        }
        else if (comp.interactive) {
            // Check for component changes in interactor
            if (comp.display.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE) {
                // If the texture has changed we need to update the interactor.
                let el = comp.display;
                if (el.texture !== el._oldTex) {
                    this.world.editComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, { shape: this.createShape(el, pos, trans) });
                }
            }
        }
    }
    createShape(comp, pos, trans) {
        switch (comp.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                // Only the root element can be made interactive, the others are ignored
                throw 'Cannot make interactive container';
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                throw 'Cannot make interactive text';
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let c = comp;
                let w = c.texture.width;
                let h = c.texture.height;
                let aabb;
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                if (c.scale == _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(c.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE);
                    let gsize = c.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_11__.Aabb.fromPointAnchor(pos, { x: w, y: h }, c.anchor);
                aabb.scale(sx, sy, aabb);
                let obb = _geometry_obb__WEBPACK_IMPORTED_MODULE_12__.Obb.rotateAabb(aabb.copy(), (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0);
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeObb)(obb);
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let c = comp;
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_13__.Line(pos.x, pos.y, pos.x + c.vec.x, pos.y + c.vec.y));
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapePoint)(new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Point(pos.x, pos.y));
            }
        }
    }
    /**
     * Extracts visibility from the rendertexture of the image (must be VISBLE_BIT_BY_BIT).
     *
     * @param c the image from which the visibility map will be extracted.
     * @return true only if the visibility map has been modified.
     * @private
     */
    extractVisibility(c) {
        if (c._visMapChanged !== true)
            return false;
        c.visMap = undefined;
        const renderer = this.pixiBoardSystem.renderer;
        const tex = c._renTex;
        if (tex === undefined)
            return false;
        let frame = tex.frame;
        renderer.renderTexture.bind(tex);
        let webglPixels = new Uint8Array(tex.width * tex.height * 4);
        const gl = renderer.gl;
        gl.readPixels(frame.x, frame.y, frame.width, frame.height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
        let fuckLen = webglPixels.length / 4;
        let newLen = ((webglPixels.length / 4 - 1) >>> 5) + 1;
        let target = new Uint32Array(newLen);
        for (let i = 0; i < fuckLen; i++) {
            let pixel = webglPixels[i * 4 + 3];
            if ((pixel & 0x80) !== 0) {
                target[i >>> 5] |= 1 << (i & 0b11111);
            }
        }
        c.visMap = target;
        c._visMapChanged = false;
        return true;
    }
    loadVisibility(c) {
        const width = c.texture.width;
        const height = c.texture.height;
        if (c._renTex === undefined) {
            c._renTex = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.RenderTexture.create({
                width, height,
                scaleMode: c.texture.baseTexture.scaleMode,
            });
            let bt = c._renTex.baseTexture;
            bt.clearColor = [0.0, 0.0, 0.0, 0.0];
        }
        if (c.visMap === undefined)
            return;
        let texOpts = {
            width, height,
            format: _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.FORMATS.RGBA,
        };
        let texData = new Uint32Array(c.texture.width * c.texture.height);
        let set = new _util_bitSet__WEBPACK_IMPORTED_MODULE_10__.BitSet(c.visMap);
        let len = texData.length;
        for (let i = 0; i < len; i++) {
            texData[i] = set.get(i) ? 0xFFFFFFFF : 0;
        }
        let byteData = new Uint8Array(texData.buffer);
        let resource = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.resources.BufferResource(byteData, { width, height });
        let baseTexture = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BaseTexture(resource, texOpts);
        let tex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Texture(baseTexture);
        let lumSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex);
        lumSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.SRC_IN;
        let mapSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(c.texture);
        let cnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        cnt.addChild(mapSprite, lumSprite);
        this.pixiBoardSystem.renderer.render(cnt, c._renTex, true);
        lumSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_ALL);
        c._visMapChanged = false;
    }
    forEachEl(com, img, f) {
        f(img);
        if (img.children) {
            for (let c of img.children) {
                this.forEachEl(com, c, f);
            }
        }
    }
    doOnBitByBit(com, img, f) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            f(img);
        }
        if (img.children) {
            for (let c of img.children) {
                this.doOnBitByBit(com, c, f);
            }
        }
    }
    needsBitByBit(com, img) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            return true;
        }
        if (img.children) {
            for (let c of img.children) {
                if (this.needsBitByBit(com, c))
                    return true;
            }
        }
        return false;
    }
    updateBBBVisAround(com) {
        let inter = this.world.getComponent(com.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        let aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeToAabb)(inter.shape);
        this.playerSystem.getSpreadDataForAabb(aabb, data => {
            this.doOnBitByBit(com, com.display, (img) => this.updateBBBVisibility(data, com, img));
        });
    }
    updateBBBVisibility(data, com, img) {
        //      Part 1. What?
        // So, what does this spaghetti mess do? Good question!
        // We have players and lights, some players can see without lights and others can't
        // The task is to update the rendertexture of the background component adding the visible spots to it.
        // The visible spots are: The meshes of the players with night vision enabled and the intersection of the
        // union of the vision mesh of the normal players with the union of the vison meshes of the lights.
        // Common case: 1 NV player 0 lights, 1 player multiple lights, multiple players 1 light
        // Possible (but uncommon) cases: x NV players, y normal players, z lights (with x, y, z naturals).
        //      Part 2. How?
        // The initial idea is simple, render anything on the bkg._renTex and then render the original texture with
        // blendMode = SRC_IN, any spot with alpha = 1 will then be replaced with the correct texture.
        // The night vision players rendering is quite simple, just render the meshes before the final texture render
        // The normal players will be a bit different since we need to intersect their meshes with the light mesh.
        // To do that we can render all the players meshes in a framebuffer A, then render all of the lights in another
        // frame buffer B, then render A onto B with blendMode = SRC_IN to create a sort of union of the two.
        // Once that is done we can render B into the bkg._renTex and proceed normally.
        // Another way to do this using only a single rendertexture is to use the stencil buffer, but it will double the
        // mesh render calls (and since they are not buffered, it's a slow operation)
        // I don't think that there is another way to perform this in the general case, please prove me wrong.
        // TODO: maybe we can optimize this when only 1 player and 1 light is present (like, avoiding 1 of the 2 framebuffers).
        // Skip EVERYTHING if this entity is hidden.
        if (this.world.getComponent(com.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        //console.time('updateVisibility');
        let renderer = this.pixiBoardSystem.renderer;
        let localCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        // Setup local transform
        let m = new pixi_js__WEBPACK_IMPORTED_MODULE_4__.Matrix();
        let pixi = img._pixi;
        m.translate(-pixi.position.x, -pixi.position.y);
        m.rotate(-pixi.rotation);
        let invScale = 1 / pixi.scale.x;
        m.scale(invScale, invScale);
        m.translate(img.texture.width / 2, img.texture.height / 2);
        localCnt.transform.setFromMatrix(m);
        let worldCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        // If there are any players without night vision (and there are lights) render them (THIS IS SLOW!)
        let tex, tex2, nightSprite;
        if (data.players.length !== 0 && data.lights.length !== 0) {
            tex = this.renderTexturePool.getOptimalTexture(pixi.width, pixi.height);
            tex2 = this.renderTexturePool.getOptimalTexture(pixi.width, pixi.height);
            for (let player of data.players) {
                localCnt.addChild(player.mesh);
            }
            // Render the players visibility meshes onto tex
            renderer.render(localCnt, tex, true);
            localCnt.removeChildren();
            for (let light of data.lights) {
                light.mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
                localCnt.addChild(light.mesh);
            }
            let playerSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex);
            playerSprite.blendMode = pixi_js__WEBPACK_IMPORTED_MODULE_4__.BLEND_MODES.SRC_IN;
            // Render the lights onto tex2, then render tex as BLEND_MODE.SRC_IN to filter out where the lights were not
            // present.
            worldCnt.addChild(localCnt, playerSprite);
            renderer.render(worldCnt, tex2, true);
            worldCnt.removeChildren();
            localCnt.removeChildren();
            // Add tex2 to the main phase
            nightSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex2);
            nightSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
            worldCnt.addChild(nightSprite);
        }
        for (let player of data.nightVisPlayers) {
            localCnt.addChild(player.mesh);
        }
        let origTex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(img.texture);
        origTex.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.SRC_IN;
        worldCnt.addChild(localCnt, origTex);
        // Render everything to bkg._renTex and then redraw the original only where is alpha=1.
        this.pixiBoardSystem.renderer.render(worldCnt, img._renTex, false);
        img._visMapChanged = true;
        // Cleanup time (don't worry, I'm recycling and there's a garbage cleaner, we're eco friendly!)
        worldCnt.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        origTex.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        if (tex !== undefined)
            this.renderTexturePool.returnTexture(tex);
        if (tex2 !== undefined)
            this.renderTexturePool.returnTexture(tex2);
        if (nightSprite !== undefined)
            nightSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        //console.timeEnd('updateVisibility');
    }
    computeVisibilityListener(c) {
        let level;
        switch (c.visib) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                // Already maximum level, no need for further checking
                return VisibListenerLevel.PERSISTENT;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                level = VisibListenerLevel.NOT_NEEDED;
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                level = VisibListenerLevel.REMEMBER;
                break;
        }
        if (c.children) {
            for (let ch of c.children) {
                level = Math.max(level, this.computeVisibilityListener(ch));
                if (level === VisibListenerLevel.PERSISTENT)
                    break; // Already maxed out.
            }
        }
        return level;
    }
    destroyElement(desc, recursive) {
        let elem = desc._pixi;
        if (elem === undefined)
            return;
        switch (desc._oldType) {
            case undefined:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let im = desc;
                let destroyTex = im.sharedTexture !== true;
                elem.destroy({
                    children: false,
                    texture: destroyTex,
                    baseTexture: destroyTex,
                });
                if (im._renTex !== undefined) {
                    im._renTex.destroy(true);
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                elem.destroy({
                    children: false,
                    texture: true,
                    baseTexture: true,
                });
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
                break;
        }
        desc._pixi = undefined;
        desc._oldType = undefined;
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.destroyElement(el, true);
            }
        }
    }
    createElement(cmp, desc) {
        this.destroyElement(desc, false);
        let defLayer = true;
        let res;
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(this.circleTex);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Text("");
                res.parentLayer = this.textSystem.textLayer;
                defLayer = false;
                break;
        }
        if (defLayer && cmp._layer !== undefined) {
            res.parentGroup = cmp._layer;
        }
        res.interactive = false;
        res.interactiveChildren = false;
        res.zIndex = desc.priority;
        desc._pixi = res;
        desc._oldType = desc.type;
        this.pixiBoardSystem.board.addChild(res);
        this.pixiBoardSystem.board.sortChildren();
    }
    textureUpdateGridSize(tex) {
        let texId = tex._updateID;
        if (tex.gridSize !== undefined && tex.gridSize.updateId !== texId)
            return;
        tex.gridSize = {
            x: Math.ceil(tex.width / _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS.size) / tex.width,
            y: Math.ceil(tex.height / _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS.size) / tex.height,
            updateId: texId,
        };
    }
    updateElementVisibility(par, desc, recursive, currentlyVisible, remembered) {
        let isVisible;
        if (currentlyVisible || this.masterVisibility) {
            isVisible = true;
        }
        else {
            switch (desc.visib) {
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                    isVisible = currentlyVisible;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                    isVisible = true;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                    isVisible = remembered;
                    break;
            }
        }
        let pixi = desc._pixi;
        pixi.visible = isVisible;
        if (desc.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            let im = desc;
            im._pixi.texture = this.masterVisibility ? im.texture : im._renTex;
        }
        if (recursive && desc.children) {
            for (let c of desc.children) {
                this.updateElementVisibility(par, c, true, currentlyVisible, remembered);
            }
        }
    }
    updateVisibilityListener(el) {
        let listLevel = this.computeVisibilityListener(el.display);
        let oldListLevel = el._visibListener || VisibListenerLevel.NOT_NEEDED;
        if (listLevel === oldListLevel)
            return; // No changes reported.
        let isRemembered = this.rememberStorage.getComponent(el.entity);
        let listenerNeeded;
        switch (listLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                listenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                listenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                listenerNeeded = true;
                break;
        }
        let oldListenerNeeded;
        switch (oldListLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                oldListenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                oldListenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                oldListenerNeeded = true;
                break;
        }
        // Why before? good question!
        // when we add the listener we could discover instantly that the visibility is present, thus calling
        // a callback to this system saying "hi, this element in which there's a visibility listener is visible"
        // if we set the listener after this the system will say "oh really, but there's no listener on this element"
        // (yeah I spent way too much time to debug this)
        el._visibListener = listLevel;
        if (listenerNeeded && !oldListenerNeeded) {
            this.playerSystem.addPlayerVisListener(el.entity, el.isWall);
        }
        else if (!listenerNeeded && oldListenerNeeded) {
            this.playerSystem.removePlayerVisListener(el.entity);
        }
    }
    runMethods(par, el) {
        if (el._childrenReplace) {
            if (el.children) {
                for (let c of el.children) {
                    this.destroyElement(c, true);
                }
                el.children.length = 0;
            }
            el._childrenAdd = el._childrenReplace;
            el._childrenReplace = undefined;
        }
        if (el._childrenAdd) {
            if (el.children === undefined)
                el.children = [];
            el.children.push(...el._childrenAdd);
            el._childrenAdd = undefined;
        }
        if (el._childrenRemove) {
            if (el.children === undefined)
                return;
            for (let c of el._childrenRemove) {
                this.destroyElement(c, true);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_14__.arrayRemoveElem)(el.children, c);
            }
            el._childrenRemove = undefined;
        }
        if (el.children) {
            for (let c of el.children) {
                this.runMethods(par, c);
            }
        }
    }
    updateElement(par, desc, pos, trans, recursive) {
        if (desc._oldType !== desc.type) {
            this.createElement(par, desc);
        }
        let d = desc._pixi;
        if (desc.offset !== undefined) {
            d.position.set(pos.x + desc.offset.x, pos.y + desc.offset.y);
        }
        else {
            d.position.set(pos.x, pos.y);
        }
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let dim = d;
                let el = desc;
                if (el.visib == _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    dim.texture = this.masterVisibility ? el.texture : el._renTex;
                }
                else {
                    dim.texture = el.texture;
                }
                dim.anchor.copyFrom(el.anchor);
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = sx;
                if (el.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(dim.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE);
                    let gsize = dim.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                dim.rotation = (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0;
                dim.scale.set(sx, sy);
                dim.tint = par._selected ? 0x7986CB : 0xFFFFFF;
                if (el.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    if (el._oldTex !== el.texture) {
                        this.loadVisibility(el);
                    }
                }
                else if (el._renTex !== undefined) {
                    el._renTex.destroy(true);
                    el._renTex = undefined;
                }
                el._oldTex = el.texture;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let g = d;
                let el = desc;
                g.clear();
                g.moveTo(0, 0);
                g.lineStyle(5, el.color);
                g.lineTo(el.vec.x, el.vec.y);
                if (par._selected) {
                    g.lineStyle(0);
                    g.beginFill(0xe51010);
                    g.drawCircle(0, 0, 10);
                    g.endFill();
                    g.beginFill(el.color);
                    g.drawCircle(el.vec.x, el.vec.y, 10);
                    g.endFill();
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                let color = desc.color;
                if (par._selected) {
                    color = lerpColor(color, 0x7986CB, 0.3);
                }
                d.tint = color;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT: {
                let el = desc;
                let g = d;
                g.text = el.text;
                g.anchor.copyFrom(el.anchor);
                g.tint = el.color;
                break;
            }
        }
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.updateElement(par, el, pos, trans, true);
            }
        }
    }
    enable() {
        this.playerSystem = this.world.systems.get(_playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_TYPE);
        this.masterVisibility = this.world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_8__.LIGHT_TYPE).localLightSettings.visionType === 'dm';
        let g = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
        g.beginFill(0xFFFFFF);
        g.lineStyle(0);
        g.drawCircle(POINT_RADIUS, POINT_RADIUS, POINT_RADIUS);
        this.circleTex = this.pixiBoardSystem.renderer.generateTexture(g, _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.SCALE_MODES.LINEAR, 1);
        this.circleTex.defaultAnchor.set(0.5, 0.5);
    }
    destroy() {
        for (let elem of this.storage.allComponents()) {
            this.destroyElement(elem.display, true);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiLayerSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiLayerSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_LAYER_TYPE": () => (/* binding */ PIXI_LAYER_TYPE),
/* harmony export */   "PixiLayerSystem": () => (/* binding */ PixiLayerSystem)
/* harmony export */ });
/* harmony import */ var _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");




const PIXI_LAYER_TYPE = 'pixi_layer';
class PixiLayerSystem {
    constructor(world) {
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE, _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE, _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE];
        this.name = PIXI_LAYER_TYPE;
        this.world = world;
        this.pixiBoard = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
        this.pixiGraphic = this.world.systems.get(_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE);
        this.layerSys = this.world.systems.get(_layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edit', this.onResourceEdit, this);
    }
    getLayer(layer) {
        if (layer._pixiLayer === undefined) {
            const group = new PIXI.display.Group(layer.priority, false);
            layer._pixiLayer = new PIXI.display.Layer(group);
            this.pixiBoard.root.addChild(layer._pixiLayer);
        }
        return layer._pixiLayer;
    }
    updateLayer(layer) {
        const pixiLayer = this.getLayer(layer);
        pixiLayer.group.zIndex = layer.priority;
        return pixiLayer;
    }
    getParentLayer(layer) {
        let l = this.layerSys.getLayerById(layer === undefined ? -1 : layer.layer);
        return this.getLayer(l);
    }
    getEntityParentLayer(entity) {
        return this.getParentLayer(this.world.getComponent(entity, _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE));
    }
    applyParent(obj, parent) {
        var _a;
        if (obj.type !== _graphics__WEBPACK_IMPORTED_MODULE_3__.ElementType.TEXT) {
            if (obj._pixi !== undefined) {
                obj._pixi.parentGroup = parent;
            }
        }
        for (let ch of (_a = obj.children) !== null && _a !== void 0 ? _a : []) {
            this.applyParent(ch, parent);
        }
    }
    onComponentAdd(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            this.updateLayer(c);
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const c = cmp;
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            let parent = this.getParentLayer(c);
            this.applyParent(g.display, parent.group);
        }
        else if (cmp.type === _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE) {
            const c = cmp;
            const parent = this.getEntityParentLayer(cmp.entity);
            this.applyParent(c.display, parent.group);
            c._layer = parent.group;
        }
    }
    onComponentEdited(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const c = cmp;
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            let parent = this.getParentLayer(c);
            this.applyParent(g.display, parent.group);
            g._layer = parent.group;
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            this.updateLayer(c);
        }
    }
    onComponentRemove(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            if (c._pixiLayer !== undefined) {
                c._pixiLayer.destroy();
                c._pixiLayer = undefined;
            }
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            const layer = this.getParentLayer(undefined);
            this.applyParent(g.display, layer.group);
            g._layer = layer.group;
        }
    }
    onResourceEdit(res) {
        if (res.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE) {
            const r = res;
            this.updateLayer(r);
        }
    }
    enable() {
        this.updateLayer(this.layerSys.backgroundLayer);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiMeasureSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiMeasureSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_MEASURE_TYPE": () => (/* binding */ PIXI_MEASURE_TYPE),
/* harmony export */   "PixiMeasureSystem": () => (/* binding */ PixiMeasureSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





const PIXI_MEASURE_TYPE = "pixi_measure";
class PixiMeasureSystem {
    constructor(world) {
        this.name = PIXI_MEASURE_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.gridSize = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.size;
        this.boardScale = 1;
        this.world = world;
        const pixiBoard = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        this.display = new PIXI.Graphics();
        this.display.parentGroup = pixiBoard.toolForegroundGroup;
        this.text = new PIXI.Text("");
        this.text.anchor.set(0.5, 1);
        this.text.style.fill = 0xff0000;
        this.text.style.fontSize = 40;
        this.text.parentGroup = pixiBoard.toolForegroundGroup;
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    setEnabled(enabled) {
        this.display.visible = enabled;
        this.text.visible = enabled;
    }
    redraw(fromX, fromY, toX, toY) {
        this.setEnabled(true);
        this.display.clear();
        const midX = (fromX + toX) / 2;
        const midY = (fromY + toY) / 2;
        let distSq = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(fromX, fromY, toX, toY) / (Math.pow(this.gridSize, 2));
        const scale = 1 / this.boardScale;
        this.text.scale.set(scale);
        if (distSq < Math.pow(0.1, 2)) {
            this.display.beginFill(0xff0000);
            this.display.drawCircle(midX, midY, 10 * scale);
            this.display.endFill();
            this.text.rotation = 0;
            this.text.text = (midX / this.gridSize).toFixed(4) + ", " + (midY / this.gridSize).toFixed(4);
            this.text.position.set(midX, midY - 10);
        }
        else {
            this.display.beginFill(0xff0000);
            this.display.drawCircle(fromX, fromY, 10 * scale);
            this.display.endFill();
            this.display.beginFill(0xff0000);
            this.display.drawCircle(toX, toY, 10 * scale);
            this.display.endFill();
            this.display.lineStyle(3 * scale, 0xff0000);
            this.display.moveTo(fromX, fromY);
            this.display.lineTo(toX, toY);
            let rot = Math.atan2(toY - fromY, toX - fromX);
            if (rot < Math.PI / 2)
                rot += Math.PI;
            if (rot > Math.PI / 2)
                rot -= Math.PI;
            this.text.position.set(midX, midY);
            this.text.rotation = rot;
            this.text.text = '' + Math.sqrt(distSq).toFixed(4);
        }
    }
    redrawRes(res) {
        this.redraw(res.fromX, res.fromY, res.toX, res.toY);
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            let r = res;
            this.redrawRes(r);
        }
    }
    onResourceEdit(res) {
        let redraw = false;
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            this.redrawRes(res);
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_4__.GRID_TYPE) {
            this.gridSize = res.size;
            redraw = true;
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE) {
            this.boardScale = res.scaleX || 1;
            redraw = true;
        }
        if (redraw) {
            const r = this.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE);
            if (r !== undefined)
                this.redrawRes(r);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            this.setEnabled(false);
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE) {
            const r = res;
            this.boardScale = r.scaleX;
        }
    }
    enable() {
        var _a;
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        board.board.addChild(this.display);
        board.board.addChild(this.text);
        let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_4__.GRID_TYPE);
        if (grid !== undefined) {
            this.gridSize = grid.size;
        }
        this.boardScale = ((_a = this.world.getResource(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE)) === null || _a === void 0 ? void 0 : _a.scaleX) || 1;
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiRectSelectionSystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_RECTANGULAR_SELECTION_TYPE": () => (/* binding */ PIXI_RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "PixiRectSelectionSystem": () => (/* binding */ PixiRectSelectionSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");


const PIXI_RECTANGULAR_SELECTION_TYPE = "pixi_rect_selection";
class PixiRectSelectionSystem {
    constructor(world) {
        this.name = PIXI_RECTANGULAR_SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.world = world;
        this.display = new PIXI.Graphics();
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    redraw(box) {
        this.display.clear();
        this.display.beginFill(0x7986CB, 0.2);
        this.display.drawRect(box.minX, box.minY, box.maxX - box.minX, box.maxY - box.minY);
        this.display.endFill();
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceEdit(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            this.display.clear();
        }
    }
    enable() {
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        this.display.parentGroup = board.toolForegroundGroup;
        board.board.addChild(this.display);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/selectionSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/selectionSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECTION_UI_DATA_TYPE": () => (/* binding */ SELECTION_UI_DATA_TYPE),
/* harmony export */   "SELECTION_TYPE": () => (/* binding */ SELECTION_TYPE),
/* harmony export */   "SelectionSystem": () => (/* binding */ SelectionSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _doorSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _propSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_commandSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");













const MULTI_TYPES = ['name', 'note'];
const ELIMINABLE_TYPES = ['name', 'note', 'player', 'light', 'door', _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE];
const FULLSCREENABLE_TYPES = ['note'];
const SELECTION_UI_DATA_TYPE = 'selection_ui_data';
const SELECTION_TYPE = 'selection';
class SelectionSystem {
    constructor(ecs) {
        this.name = SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__.PIXI_BOARD_TYPE];
        this.selectedEntities = new Set();
        this.dataByType = new Map();
        this.translations = {};
        this.isTranslating = false;
        this.translateDirty = false;
        this.uiResDirty = true;
        this.ecs = ecs;
        this.boardSys = ecs.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__.PIXI_BOARD_TYPE);
        this.ecs.events.on('tool_move_begin', () => this.isTranslating = true);
        this.ecs.events.on('tool_move_end', () => {
            this.isTranslating = false;
            if (this.translateDirty) {
                this.translateDirty = false;
                this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_6__.EVENT_COMMAND_PARTIAL_END);
                this.update();
            }
        });
        this.ecs.events.on('component_add', this.onComponentAdd, this);
        this.ecs.events.on('component_edited', this.onComponentUpdate, this);
        this.ecs.events.on('component_removed', this.onComponentRemove, this);
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        if (ecs.isMaster) {
            this.ecs.events.on('command_post_execute', (c) => {
                // a spawn command has been executed
                if (c === undefined || c.kind !== 'despawn')
                    return;
                this.setOnlyEntities(c.entities);
            });
        }
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        this.boardSys.ticker.add(this.onRender, this, _PIXI__WEBPACK_IMPORTED_MODULE_12__.default.UPDATE_PRIORITY.LOW);
        this.setupTranslations();
        this.uiResDirty = true;
        this.onRender();
    }
    setupTranslations() {
        this.translations[_layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE] = 'foreground';
    }
    onRender() {
        if (!this.uiResDirty)
            return;
        this.uiResDirty = false;
        let hostHidden = this.dataByType.get(_component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
        this.ecs.addResource({
            type: SELECTION_UI_DATA_TYPE,
            selectedEntities: [...this.selectedEntities],
            components: this.getCommonComponents(),
            hidden: hostHidden !== undefined && hostHidden.entities.size === this.selectedEntities.size,
            addable: this.getAddableComponents(),
            _save: false,
            _sync: false,
        }, 'update');
    }
    updateUi() {
        this.uiResDirty = true;
    }
    canSelect(entity) {
        if (this.ecs.isMaster) {
            return true;
        }
        // Make walls not selectable unless a known door is present, this
        // prevents players from bruteforcing wall structures to find doors
        // TODO: other options: merge adiacent walls when possible
        let wallC = this.ecs.getComponent(entity, _wallSystem__WEBPACK_IMPORTED_MODULE_7__.WALL_TYPE);
        if (wallC !== undefined) {
            let door = this.ecs.getComponent(entity, _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE);
            return door !== undefined;
        }
        return true;
    }
    update() {
        if (this.isTranslating)
            this.translateDirty = true;
        else {
            this.updateUi();
            this.ecs.events.emit('selection_update', this);
        }
    }
    onComponentAdd(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.getOrCreateData(component.type).entities.add(component);
        this.update();
    }
    onComponentUpdate(component) {
        if (this.selectedEntities.has(component.entity)) {
            if (!this.canSelect(component.entity)) {
                this.removeEntities([component.entity]);
                return;
            }
            this.update();
        }
    }
    onComponentRemove(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        let data = this.dataByType.get(component.type);
        data.entities.delete(component);
        if (data.entities.size === 0)
            this.dataByType.delete(component.type);
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.update();
    }
    onEntityDespawn(entity) {
        if (!this.selectedEntities.has(entity))
            return;
        this.removeEntities([entity]);
    }
    clear(callListeners = true, update = true) {
        if (callListeners) {
            for (let id of this.selectedEntities) {
                this.ecs.events.emit('selection_end', id);
            }
        }
        this.selectedEntities.clear();
        this.dataByType.clear();
        if (update) {
            this.update();
        }
    }
    setOnlyEntity(id) {
        this.clear(true, false);
        this.addEntities([id]);
    }
    setOnlyEntities(ids) {
        let idSet = new Set(ids);
        let removeIds = new Array();
        for (let id of this.selectedEntities) {
            if (!idSet.has(id))
                removeIds.push(id);
        }
        this.removeEntities(removeIds, false);
        this.addEntities(ids, false);
        this.update();
    }
    toggleEntities(ids, update = true) {
        for (let id of ids) {
            if (this.selectedEntities.has(id)) {
                this.removeEntities([id], false);
            }
            else {
                this.addEntities([id], false);
            }
        }
        if (update)
            this.update();
    }
    addEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (id === undefined) {
                console.warn("Trying to add undefined entity");
                continue;
            }
            if (this.selectedEntities.has(id))
                continue;
            if (!this.canSelect(id)) {
                continue;
            }
            count++;
            this.selectedEntities.add(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                this.getOrCreateData(c.type).entities.add(c);
            }
            this.ecs.events.emit('selection_begin', id);
        }
        if (update && count !== 0)
            this.update();
    }
    removeEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (!this.selectedEntities.has(id))
                continue;
            count++;
            this.selectedEntities.delete(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                let data = this.dataByType.get(c.type);
                data.entities.delete(c);
                if (data.entities.size === 0)
                    this.dataByType.delete(c.type);
            }
            this.ecs.events.emit('selection_end', id);
        }
        if (update && count !== 0)
            this.update();
    }
    getSelectedByType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return [];
        return data.entities;
    }
    initialComponent(type) {
        return {
            _canDelete: ELIMINABLE_TYPES.indexOf(type) >= 0,
            _isFullscreen: FULLSCREENABLE_TYPES.indexOf(type) >= 0 ? false : undefined,
        };
    }
    addTranslations(cmps) {
        for (let cmp of cmps) {
            let trans = this.translations[cmp.type];
            if (trans === undefined) {
                trans = cmp.type;
            }
            cmp.typeName = trans;
        }
        return cmps;
    }
    storagePredicate(storage) {
        if (storage.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE)
            return false;
        return storage.save && storage.sync;
    }
    getSingleComponents() {
        let res = new Array();
        let entity = this.selectedEntities.values().next().value;
        for (let storage of this.ecs.storages.values()) {
            if (!this.storagePredicate(storage))
                continue;
            let comps = storage.getComponents(entity);
            for (let comp of comps) {
                let c = res.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_10__.componentClone)(removePrivate(this.initialComponent(storage.type), comp)));
            }
        }
        return this.addTranslations(res);
    }
    getCommonComponents() {
        if (this.selectedEntities.size === 0)
            return [];
        let selCount = this.selectedEntities.size;
        if (selCount === 1)
            return this.getSingleComponents();
        let commonTypes = new Array();
        for (let sto of this.ecs.storages.values()) {
            if (!this.storagePredicate(sto))
                continue;
            const type = sto.type;
            let data = this.dataByType.get(type);
            if (data != undefined && data.entities.size === selCount && MULTI_TYPES.indexOf(type) === -1) {
                commonTypes.push(sto);
            }
        }
        let res = new Array();
        for (let sto of commonTypes) {
            let component = undefined;
            for (let entity of this.selectedEntities) {
                let comps = sto.getComponents(entity);
                for (let comp of comps) {
                    if (component === undefined) {
                        component = removePrivate(this.initialComponent(sto.type), comp); // copy
                    }
                    else {
                        biFilterObj(component, comp);
                    }
                }
            }
            res.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_10__.componentClone)(component));
        }
        return this.addTranslations(res);
    }
    getAddableComponents() {
        let res = new Array();
        res.push({
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
            name: 'Name'
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
            name: 'Note'
        });
        if (!this.hasComponentType(_layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE)) {
            // TODO: layers
            res.push({
                type: _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE,
                name: 'Foreground'
            });
        }
        if (this.hasEveryoneType(_pinSystem__WEBPACK_IMPORTED_MODULE_8__.PIN_TYPE) && !(this.hasComponentType(_lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE) || this.hasComponentType(_playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE))) {
            res.push({
                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                name: 'Light'
            }, {
                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                name: 'Player',
            });
        }
        else if (this.hasEveryoneType(_wallSystem__WEBPACK_IMPORTED_MODULE_7__.WALL_TYPE) && !this.hasComponentType(_doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE)) {
            res.push({
                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                name: "Door"
            });
        }
        else if (this.hasEveryoneType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TYPE) && !this.hasComponentType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE)) {
            res.push({
                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                name: "Teleporter",
            });
        }
        return res;
    }
    setProperty(entities, type, propertyName, propertyValue, multiId) {
        if (type === '$') {
            // Special management
            switch (propertyName) {
                case 'hidden': {
                    let add = [];
                    let remove = [];
                    for (let entity of entities) {
                        let cmp = this.ecs.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
                        if (cmp !== undefined) {
                            remove.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                            this.ecs.removeComponent(cmp);
                        }
                        else {
                            add.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                        }
                    }
                    let cmd = {
                        kind: "cedit",
                        add, remove,
                        edit: [],
                    };
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'delete': {
                    let cmd = {
                        kind: 'despawn',
                        entities: [...entities],
                    };
                    this.clear();
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'addComponent': {
                    let comp;
                    switch (propertyValue) {
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
                                name: '',
                                clientVisible: true,
                                multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_10__.generateRandomId)(),
                            };
                            break;
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
                                note: '',
                                clientVisible: true,
                                multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_10__.generateRandomId)(),
                            };
                            break;
                        case _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE:
                            comp = {
                                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                                color: 0xFFFFFF,
                                range: 2,
                            };
                            break;
                        case _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE:
                            comp = {
                                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                                nightVision: false,
                                range: 50,
                            };
                            break;
                        case _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE:
                            comp = {
                                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                                doorType: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DoorType.NORMAL_LEFT,
                                locked: false,
                                open: false,
                                clientVisible: true,
                            };
                            break;
                        case _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE:
                            comp = {
                                type: _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE,
                                layer: (0,_layerSystem__WEBPACK_IMPORTED_MODULE_9__.findForeground)(this.ecs),
                            };
                            break;
                        case _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE:
                            comp = {
                                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                                targetProp: -1,
                            };
                            break;
                        default:
                            throw 'Cannot add unknown component: ' + propertyValue;
                    }
                    let add = [];
                    for (let entity of [...entities]) {
                        add.push(Object.assign({ entity }, comp));
                    }
                    this.ecs.events.emit("command_log", (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(add));
                    break;
                }
                case 'removeComponent':
                    let remove = [];
                    for (let entity of [...entities]) {
                        let comp = this.ecs.getComponent(entity, propertyValue, multiId);
                        if (comp === undefined)
                            continue;
                        remove.push({
                            type: comp.type,
                            entity: comp.entity,
                            multiId: multiId,
                        });
                    }
                    let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(undefined, undefined, remove);
                    this.ecs.events.emit("command_log", cmd);
                    break;
                default:
                    console.warn("Unknown special event: " + propertyName);
            }
            return;
        }
        else if (type === '@') {
            // Event call (yeah I know this is ugly) TODO please next me clean it up
            // TODO: command log
            this.ecs.events.emit(propertyName, propertyValue, multiId);
            return;
        }
        let edit = [];
        for (let entity of entities) {
            let changes = {};
            changes[propertyName] = propertyValue;
            edit.push({
                type,
                entity,
                multiId,
                changes
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        this.ecs.events.emit("command_log", cmd);
        this.update();
    }
    moveAll(diffX, diffY, entities) {
        let edit = [];
        let posSto = this.ecs.getStorage(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        for (let entity of entities) {
            let pos = posSto.getComponent(entity);
            if (pos === undefined)
                continue;
            edit.push({
                type: _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE,
                entity: entity,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                },
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        // partial = isTranslating (and ignore the results)
        this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_6__.EVENT_COMMAND_LOG, cmd, undefined, this.isTranslating);
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.update();
    }
    getOrCreateData(type) {
        let data = this.dataByType.get(type);
        if (data === undefined) {
            data = {
                entities: new Set(),
            };
            this.dataByType.set(type, data);
        }
        return data;
    }
    hasComponentType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size > 0;
    }
    hasEveryoneType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size === this.selectedEntities.size;
    }
    enable() {
    }
    destroy() {
    }
}
function removePrivate(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        target[name] = filter[name];
    }
    return target;
}
function biFilterObj(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        if (target[name] !== filter[name]) {
            target[name] = undefined;
        }
    }
    for (let name in target) {
        if (name[0] === '_')
            continue;
        if (filter[name] === undefined) {
            target[name] = undefined;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/textSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/textSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_TYPE": () => (/* binding */ TEXT_TYPE),
/* harmony export */   "TextSystem": () => (/* binding */ TextSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");




const TEXT_TYPE = 'text';
class TextSystem {
    constructor(world) {
        this.name = TEXT_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE];
        this.world = world;
        this.textLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Layer();
    }
    enable() {
        this.textLayer.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_3__.LayerOrder.TEXT;
        this.textLayer.interactive = false;
        this.textLayer.interactiveChildren = false;
        let boardSys = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
        boardSys.root.addChild(this.textLayer);
    }
    destroy() {
        this.textLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/toolSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/toolSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TOOL_TYPE": () => (/* binding */ TOOL_TYPE),
/* harmony export */   "ToolSystem": () => (/* binding */ ToolSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_inspect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/inspect */ "./src/app/ecs/tools/inspect.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/measure */ "./src/app/ecs/tools/measure.ts");





const TOOL_TYPE = 'tool';
class ToolSystem {
    constructor(world) {
        this.name = TOOL_TYPE;
        this.dependencies = [_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE];
        this.optionalDependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.standardTool = _tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.tools = new Map();
        this.world = world;
        world.addResource({
            type: TOOL_TYPE,
            _save: true,
            _sync: false,
            tool: undefined,
        });
        const events = world.events;
        events.on('resource_edited', this.onResourceEdited, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_UP, this.onPointerUp, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_RIGHT_DOWN, this.onPointerRightDown, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_RIGHT_UP, this.onPointerRightUp, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
        this.addTool(new _tools_measure__WEBPACK_IMPORTED_MODULE_4__.MeasureToolDriver(world));
        this.addTool(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.InspectToolDriver(world));
    }
    addTool(tool) {
        this.tools.set(tool.name, tool);
    }
    onResourceEdited(r, edited) {
        var _a;
        if (r.type === TOOL_TYPE) {
            let ct = r;
            let toolName = ct.tool || this.standardTool;
            let tool = this.tools.get(toolName);
            if (tool === undefined) {
                console.warn("Unregistered tool requested: " + ct.tool);
                tool = this.tools.get(this.standardTool);
            }
            if (tool === this.currentTool) {
                return;
            }
            console.log("Changing tool from " + (((_a = this.currentTool) === null || _a === void 0 ? void 0 : _a.name) || 'none') + " to " + tool.name);
            if (this.currentTool !== undefined && this.currentTool.onEnd !== undefined) {
                this.currentTool.onEnd();
            }
            this.currentTool = tool;
            if (tool.onStart !== undefined)
                tool.onStart();
        }
    }
    onPointerMove(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerMove !== undefined) {
            this.currentTool.onPointerMove(e);
        }
    }
    onPointerDown(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerDown !== undefined) {
            this.currentTool.onPointerDown(e);
        }
    }
    onPointerUp(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerUp !== undefined) {
            this.currentTool.onPointerUp(e);
        }
    }
    onPointerRightDown(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerRightDown !== undefined) {
            this.currentTool.onPointerRightDown(e);
        }
    }
    onPointerRightUp(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerRightUp !== undefined) {
            this.currentTool.onPointerRightUp(e);
        }
    }
    onPointerClick(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerClick !== undefined) {
            this.currentTool.onPointerClick(e);
        }
    }
    enable() {
        for (let tool of this.tools.values()) {
            if (tool.initialize !== undefined)
                tool.initialize();
        }
        if (this.currentTool === undefined) {
            this.world.editResource(TOOL_TYPE, {
                tool: this.standardTool,
            });
        }
    }
    destroy() {
        for (let tool of this.tools.values()) {
            if (tool.destroy !== undefined)
                tool.destroy();
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilityAwareSystem.ts":
/*!***********************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilityAwareSystem.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_AWARE_TYPE": () => (/* binding */ VISIBILITY_AWARE_TYPE),
/* harmony export */   "newVisibilityAwareComponent": () => (/* binding */ newVisibilityAwareComponent),
/* harmony export */   "VisibilityAwareSystem": () => (/* binding */ VisibilityAwareSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");









const VISIBILITY_AWARE_TYPE = 'visibility_aware';
function newVisibilityAwareComponent(isWall = false) {
    return {
        type: VISIBILITY_AWARE_TYPE,
        entity: -1,
        visibleBy: [],
        isWall,
    };
}
class VisibilityAwareSystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_AWARE_TYPE;
        this.dependencies = [_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_AWARE_TYPE, false, false);
        /**
         * Events:
         * aware_update(component, added, removed)
         *   Called when a VisibilityAware entity is updated
         *   why can't we do this with a normal component_edit event?
         *   It's easier not to build component diffs.
         *   If you want to track old values do it on your own.
         */
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__.default();
        this.world = world;
        this.visibilitySys = this.world.systems.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        this.interactionSys = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        world.addStorage(this.storage);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    visibilityChange(viewer, polygon, range) {
        range *= this.gridSize;
        if (polygon === undefined) {
            // Player visibility null
            let oldCanSee = viewer._canSee;
            viewer._canSee = [];
            for (let x of oldCanSee) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let oldCanSee = viewer._canSee;
        viewer._canSee = [];
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let interStorage = this.world.storages.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let viewerPos = posStorage.getComponent(viewer.entity);
        let viewerPoly = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(polygon);
        let viewerCircle = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(viewerPos, range);
        // Check if old awares can still be seen
        for (let i of oldCanSee) {
            let shape = interStorage.getComponent(i).shape;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerPoly, shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape)) {
                viewer._canSee.push(i);
            }
            else {
                let target = this.storage.getComponent(i);
                // No need to remove target.entity from player._canSee as it's already been removed
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
        }
        let iter = this.interactionSys.query(viewerPoly, c => {
            let target = this.storage.getComponent(c.entity);
            return target !== undefined && target.isWall !== true && oldCanSee.indexOf(c.entity) === -1;
        });
        for (let e of iter) {
            let shape = interStorage.getComponent(e.entity).shape;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape))
                continue;
            let target = this.storage.getComponent(e.entity);
            viewer._canSee.push(e.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    visibleElementMove(aware) {
        var _a;
        if (aware.isWall === true)
            return;
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        let pos = posStorage.getComponent(aware.entity);
        let shape = this.world.getComponent(aware.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let oldVisibleBy = aware.visibleBy;
        aware.visibleBy = [];
        let added = [];
        let removed = [];
        // Search for new players
        for (let p of this.visibilitySys.aabbTree.query(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos))) {
            let entity = p.tag.entity;
            let vis = visStorage.getComponent(entity);
            if (vis === undefined || oldVisibleBy.indexOf(entity) !== -1)
                continue;
            let ppos = posStorage.getComponent(entity);
            let pvis = visStorage.getComponent(entity);
            let range = pvis.range * this.gridSize;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) || !(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)((_a = p.tag) === null || _a === void 0 ? void 0 : _a.polygon)))
                continue;
            vis._canSee.push(aware.entity);
            aware.visibleBy.push(vis.entity);
            added.push(vis.entity);
        }
        // Check for old players
        for (let p of oldVisibleBy) {
            let vis = visStorage.getComponent(p);
            let ppos = posStorage.getComponent(p);
            let pvis = visStorage.getComponent(p);
            let range = pvis.range * this.gridSize;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(pvis.polygon))) {
                aware.visibleBy.push(p);
                continue;
            }
            // No need to remove e._visibleBy as it's already been cleared
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, aware.entity);
            removed.push(vis.entity);
        }
        if (added.length + removed.length > 0) {
            this.events.emit('aware_update', aware, added, removed);
        }
    }
    onViewBlockerEdited(viewer, newWalls, oldWalls) {
        oldWalls = oldWalls || [];
        if (newWalls.length === 0) {
            // Player visibility null
            for (let x of oldWalls) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let commonWalls = [];
        //console.log("WALL UPDATE, old: " + oldWalls + " new: " + newWalls);
        // Check if old awares can still be seen
        for (let i of oldWalls) {
            if (newWalls.indexOf(i) !== -1) {
                //console.log("| =" + i);
                commonWalls.push(i);
                continue;
            }
            let target = this.storage.getComponent(i);
            if (target === undefined) {
                //console.log("| %" + i);
                continue;
            }
            //console.log("| -" + target.entity);
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
            this.events.emit('aware_update', target, [], [viewer.entity]);
        }
        for (let e of newWalls) {
            if (commonWalls.indexOf(e) !== -1)
                continue;
            let target = this.storage.getComponent(e);
            if (target === undefined) {
                //console.log("| ^" + e);
                continue;
            }
            //console.log("| +" + target.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    onComponentAdd(comp) {
        if (comp.type === VISIBILITY_AWARE_TYPE) {
            this.visibleElementMove(comp);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            if ('polygon' in changed) {
                this.visibilityChange(vis, vis.polygon, vis.range);
            }
            if ('_canSeeWalls' in changed) {
                this.onViewBlockerEdited(vis, vis._canSeeWalls, changed.walls);
            }
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let visAware = this.storage.getComponent(comp.entity);
            if (visAware === undefined)
                return;
            this.visibleElementMove(visAware);
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            this.visibilityChange(vis, undefined, 0);
            this.onViewBlockerEdited(vis, [], vis._canSeeWalls);
        }
        else if (comp.type === VISIBILITY_AWARE_TYPE) {
            let va = comp;
            va.visibleBy;
            let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
            for (let p of va.visibleBy) {
                let vis = visStorage.getComponent(p);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, va.entity);
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilitySystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilitySystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_TYPE": () => (/* binding */ VISIBILITY_TYPE),
/* harmony export */   "VISIBILITY_BLOCKER_TYPE": () => (/* binding */ VISIBILITY_BLOCKER_TYPE),
/* harmony export */   "VisibilitySystem": () => (/* binding */ VisibilitySystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");








const VISIBILITY_TYPE = 'visibility';
const VISIBILITY_BLOCKER_TYPE = 'visibility_blocker';
/**
 * Please don't stick a visibility component to an entity with a wall component (or vice-versa),
 * they don't go along together too much, for a lot of reasons.
 *
 * This system queries every entity with a VisibilityComponent and keeps it updated, by that I mean:
 * - Recompute the visibility polygon when the range changes
 * - Recompute the visibility polygon when the walls change
 *
 * Little note on visibility polygon algorithms:
 * General polygons are a mess to deal with, but the visibility polygon is a bit easier than most.
 * Since there are no portals nor mirrors in the game (yet!) each point in the polygon is visible from the center.
 * How can this property help in any way? Let me make an example:
 * We can easily compute if a point is inside of this polygon by doing a binary search on the angles, so the algorithm
 * becomes of complexity O(log(n)) where n are the polygon points.
 * Another property that I'm using is that a visibility polygon is much easier to triangulate!
 * Cut off all those ear cutting algorithms, just make triangles starting from the center!
 */
class VisibilitySystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_TYPE;
        this.dependencies = [_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_TYPE, false, false);
        this.blockerStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_BLOCKER_TYPE, false, false);
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__.DynamicTree();
        this.world = world;
        this.interactionSystem = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS).size;
        world.addStorage(this.storage);
        world.addStorage(this.blockerStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    removeTreePolygon(c) {
        if (c._aabbTreeId !== undefined) {
            this.aabbTree.destroyProxy(c._aabbTreeId);
            c._aabbTreeId = undefined;
        }
    }
    updatePolygon(c) {
        // Ignore if it's hidden.
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        if (pos === undefined)
            return;
        // We will recreate it later (if necessary)
        this.removeTreePolygon(c);
        if (c.range <= 0) {
            this.world.editComponent(c.entity, c.type, {
                polygon: undefined,
                polygonAabb: undefined,
                aabb: undefined,
            });
            return;
        }
        let range = c.range * this.gridSize;
        let viewport = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x - range, pos.y - range, pos.x + range, pos.y + range);
        let lines = new Array();
        let blockerIds = new Array();
        let query = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeAabb)(viewport), c => {
            return this.blockerStorage.getComponent(c.entity) !== undefined;
        });
        for (let entry of query) {
            let s = entry.shape;
            if (s.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.ShapeType.LINE)
                throw 'Only line is supported as light blocker shape';
            let lineData = s.data;
            // TODO: check if entity is IN wall.
            lines.push(lineData);
            blockerIds.push(entry.entity);
        }
        let usedBlockers;
        if (c.trackWalls === true) {
            usedBlockers = new Array();
        }
        else {
            usedBlockers = undefined;
        }
        let polygon = (0,_geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__.computeViewport)(lines, viewport, pos, usedBlockers);
        // Recycle the unused viewport object
        viewport.wrapPolygon(polygon);
        if (usedBlockers !== undefined) {
            for (let i = 0; i < usedBlockers.length; i++) {
                usedBlockers[i] = blockerIds[usedBlockers[i]];
            }
        }
        this.world.editComponent(c.entity, c.type, {
            polygon,
            aabb: viewport,
            _canSeeWalls: usedBlockers,
        });
        c._aabbTreeId = this.aabbTree.createProxy(viewport, c);
    }
    recomputeArea(aabb) {
        for (let node of [...this.aabbTree.query(aabb)]) {
            this.updatePolygon(node.tag);
        }
    }
    onComponentAdd(c) {
        if (c.type === VISIBILITY_TYPE) {
            let v = c;
            v._canSee = [];
            this.updatePolygon(v);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
            if (cmp !== undefined) {
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(c.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Component hidden is like component missing, they won't be able to see a thing
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.removeVisibility(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                this.removeVisibilityBlocker(blo);
            }
        }
    }
    onComponentEdited(c, changes) {
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        if (c.type === VISIBILITY_TYPE) {
            if ('range' in changes) {
                this.updatePolygon(c);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blk = this.blockerStorage.getComponent(c.entity);
            if (blk !== undefined) {
                let inter = this.world.getComponent(blk.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(inter.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && 'shape' in changes && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
    }
    onComponentRemoved(c) {
        if (c.type === VISIBILITY_TYPE) {
            this.removeVisibility(c);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            this.removeVisibilityBlocker(c);
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Welcome to the visible!
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                if (cmp !== undefined) {
                    this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
                }
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // Update everything in the next tick so that everyone sees the changes first
            PIXI.Ticker.shared.addOnce(() => {
                for (let c of this.storage.allComponents()) {
                    this.updatePolygon(c);
                }
            });
        }
    }
    removeVisibility(c) {
        this.removeTreePolygon(c);
    }
    removeVisibilityBlocker(c) {
        let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        if (cmp !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/backgroundImageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/backgroundImageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BACKGROUND_IMAGE_TYPE": () => (/* binding */ BACKGROUND_IMAGE_TYPE),
/* harmony export */   "BackgroundImageSystem": () => (/* binding */ BackgroundImageSystem)
/* harmony export */ });
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





const BACKGROUND_IMAGE_TYPE = 'background_image';
class BackgroundImageSystem {
    constructor(world) {
        this.name = BACKGROUND_IMAGE_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE];
        this.world = world;
        this.bigStorage = world.systems.get(_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE);
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(BACKGROUND_IMAGE_TYPE, true, true);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, this.onRememberBBBUpdate, this);
    }
    onComponentAdd(c) {
        return __awaiter(this, void 0, void 0, function* () {
            if (c.type !== BACKGROUND_IMAGE_TYPE)
                return;
            let bkgImg = c;
            if (typeof bkgImg.image !== 'number') {
                if (Uint8Array.prototype.isPrototypeOf(bkgImg.image)) {
                    // previous versions did not have BigStorageSystem, let's fix that
                    console.info("Converting background to BigStorage...");
                    bkgImg.image = this.bigStorage.create({
                        image: bkgImg.image,
                        visibilityMap: bkgImg.visibilityMap,
                    }).multiId;
                    delete bkgImg['visibilityMap'];
                }
                else {
                    console.warn("Error, could not convert bkgImage! Resetting", bkgImg.image);
                    bkgImg.image = 0;
                    this.world.removeComponent(c);
                    return;
                }
            }
            let bdata = this.bigStorage.requestUse(bkgImg.image).data;
            if (bdata.image.byteOffset !== 0) {
                // Copy array to remove offset (TODO: fix)
                // https://github.com/peers/peerjs/issues/715
                bdata.image = new Uint8Array(bdata.image);
            }
            if (bdata.visibilityMap !== undefined) {
                let res = new Uint8Array(bdata.visibilityMap); // Copy buffer (adjusts alignment)
                bdata.visibilityMap = new Uint32Array(res.buffer);
            }
            let tex = yield (0,_util_pixi__WEBPACK_IMPORTED_MODULE_0__.loadTexture)(bdata.image, bkgImg.imageType);
            this.world.addComponent(c.entity, {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                interactive: true,
                entity: c.entity,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE,
                    ignore: false,
                    priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.BACKGROUND,
                    scale: _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.REAL,
                    visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT,
                    visMap: bdata.visibilityMap,
                    texture: tex,
                    anchor: { x: 0.5, y: 0.5 },
                    tint: 0xFFFFFF,
                },
            });
        });
    }
    onComponentRemove(c) {
        if (c.type !== BACKGROUND_IMAGE_TYPE)
            return;
        let bkgImg = c;
        this.bigStorage.dropUse(bkgImg.image);
    }
    onRememberBBBUpdate(entities) {
        var _a, _b, _c;
        let gstor = this.world.storages.get(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        for (let e of entities) {
            let c = this.storage.getComponent(e);
            if (c === undefined)
                continue;
            let bdata = (_a = this.bigStorage.request(c.image)) === null || _a === void 0 ? void 0 : _a.data;
            bdata.visibilityMap = (_c = (_b = gstor.getComponent(e)) === null || _b === void 0 ? void 0 : _b.display) === null || _c === void 0 ? void 0 : _c.visMap;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/command.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/command/command.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "executeAndLogCommand": () => (/* binding */ executeAndLogCommand),
/* harmony export */   "emitCommand": () => (/* binding */ emitCommand),
/* harmony export */   "commandRegisterPreConsequence": () => (/* binding */ commandRegisterPreConsequence),
/* harmony export */   "commandRegisterPostConsequence": () => (/* binding */ commandRegisterPostConsequence)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");

function executeAndLogCommand(world, command) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_LOG, command, res);
    return res.inverted;
}
function emitCommand(world, command, share = false) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, command, res, share);
    return res.inverted;
}
function commandRegisterPreConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_PRE_CONSEQUENCE, command);
}
function commandRegisterPostConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_POST_CONSEQUENCE, command);
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandHistorySystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/command/commandHistorySystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COMMAND_HISTORY_TYPE": () => (/* binding */ COMMAND_HISTORY_TYPE),
/* harmony export */   "CommandHistorySystem": () => (/* binding */ CommandHistorySystem)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");

const HISTORY_LIMIT = 128;
const COMMAND_HISTORY_TYPE = 'command_history';
class CommandHistorySystem {
    constructor(world) {
        this.name = COMMAND_HISTORY_TYPE;
        this.dependencies = [_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE];
        this.isLastPartial = false;
        this.index = 0;
        this.world = world;
        this.history = new Array();
        this.commandSys = this.world.systems.get(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE);
        this.commandSys.logger = this;
        this.world.events.on("command_undo", this.onUndo, this);
        this.world.events.on("command_redo", this.onRedo, this);
    }
    historyPush(cmd) {
        if (this.history.length !== this.index) {
            this.history.length = this.index;
        }
        this.history.push(cmd);
        this.index++;
        if (this.index > HISTORY_LIMIT) {
            this.index--;
            // TODO: use some kind of random-access splice-able deque?
            this.history.shift();
        }
    }
    historyReplacePrev(cmd) {
        this.history[this.index - 1] = cmd;
    }
    historyUndo(replace) {
        this.historyReplacePrev(replace);
        this.index--;
    }
    historyRedo(replace) {
        this.index++;
        this.historyReplacePrev(replace);
    }
    historyPeekPrev() {
        if (this.index <= 0)
            return undefined;
        return this.history[this.index - 1];
    }
    historyPeekNext() {
        if (this.index >= this.history.length)
            return undefined;
        return this.history[this.index];
    }
    notifyHistoryChange() {
        this.world.events.emit("command_history_change", this.canUndo(), this.canRedo());
    }
    closePartial() {
        this.isLastPartial = false;
    }
    processPartial(cmd, partial) {
        if (this.isLastPartial && !partial) {
            this.isLastPartial = false;
            // continue, this is the last partial round
        }
        else {
            // it's not partial (but also the last one was also not a partial)
            if (!partial)
                return false;
            // the last one was not partial but this one is,
            // add the command to the queue and wait for the next
            if (!this.isLastPartial && partial) {
                this.isLastPartial = true;
                return false;
            }
        }
        let lastCmd = this.historyPeekPrev();
        if (cmd.kind !== lastCmd.cmd.kind) {
            console.warn("Warning: processing a partial with a wrong last kind, did you forget to log the last partial command");
            return false;
        }
        let kind = this.commandSys.getKind(cmd.kind);
        kind.merge(cmd, lastCmd.cmd);
        this.historyReplacePrev({
            cmd,
        });
        return true;
    }
    logPrepare(partial) {
        // TODO
        /*this.prepared = {
            cmd: { kind: 'none'} as NoneCommand,
            post: [], pre: [],
        };*/
    }
    logCommit(cmd, partial) {
        //console.log("LOG", JSON.stringify(cmd));
        if (cmd === undefined) {
            if (!partial) {
                this.closePartial();
            }
            return;
        }
        if (this.processPartial(cmd, partial)) {
            return;
        }
        this.historyPush({ cmd });
        this.notifyHistoryChange();
    }
    executeEmit(cmd) {
        let res = {};
        this.world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, cmd, res);
        return res.inverted || { kind: 'none' };
    }
    onUndo() {
        let cmd = this.historyPeekPrev();
        if (cmd === undefined) {
            console.log("Nothing to undo");
            return;
        }
        this.historyUndo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    onRedo() {
        let cmd = this.historyPeekNext();
        if (cmd === undefined) {
            console.log("Nothing to redo");
            return;
        }
        this.historyRedo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    canRedo() {
        return this.history.length > this.index;
    }
    canUndo() {
        return this.index > 0;
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/commandSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_COMMAND_EMIT": () => (/* binding */ EVENT_COMMAND_EMIT),
/* harmony export */   "EVENT_COMMAND_LOG": () => (/* binding */ EVENT_COMMAND_LOG),
/* harmony export */   "EVENT_COMMAND_PARTIAL_END": () => (/* binding */ EVENT_COMMAND_PARTIAL_END),
/* harmony export */   "EVENT_COMMAND_ADD_PRE_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_PRE_CONSEQUENCE),
/* harmony export */   "EVENT_COMMAND_ADD_POST_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_POST_CONSEQUENCE),
/* harmony export */   "COMMAND_TYPE": () => (/* binding */ COMMAND_TYPE),
/* harmony export */   "CommandSystem": () => (/* binding */ CommandSystem)
/* harmony export */ });
/* harmony import */ var _spawnCommand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _despawnCommand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./despawnCommand */ "./src/app/ecs/systems/command/despawnCommand.ts");
/* harmony import */ var _componentEdit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resourceEditCommand */ "./src/app/ecs/systems/command/resourceEditCommand.ts");
/* harmony import */ var _eventCommand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./eventCommand */ "./src/app/ecs/systems/command/eventCommand.ts");
/* harmony import */ var _noneCommand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./noneCommand */ "./src/app/ecs/systems/command/noneCommand.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");







const EVENT_COMMAND_EMIT = 'command_emit';
const EVENT_COMMAND_LOG = 'command_log';
const EVENT_COMMAND_PARTIAL_END = 'command_partial_end';
const EVENT_COMMAND_ADD_PRE_CONSEQUENCE = 'command_add_precons';
const EVENT_COMMAND_ADD_POST_CONSEQUENCE = 'command_add_poscons';
const COMMAND_TYPE = 'command';
class CommandSystem {
    constructor(world) {
        this.name = COMMAND_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE];
        this.commands = new Map();
        this.world = world;
        this.registerDefaultCommands();
        this.world.events.on(EVENT_COMMAND_EMIT, this.onEmit, this);
        this.world.events.on(EVENT_COMMAND_LOG, this.onLog, this);
        this.world.events.on(EVENT_COMMAND_PARTIAL_END, this.onPartialEnd, this);
        this.networkSys = world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE);
    }
    registerCommandKind(kind) {
        this.commands.set(kind.kind, kind);
    }
    registerDefaultCommands() {
        this.registerCommandKind(new _spawnCommand__WEBPACK_IMPORTED_MODULE_0__.SpawnCommandKind(this.world));
        this.registerCommandKind(new _despawnCommand__WEBPACK_IMPORTED_MODULE_1__.DeSpawnCommandKind(this.world));
        this.registerCommandKind(new _componentEdit__WEBPACK_IMPORTED_MODULE_2__.ComponentEditCommandKind(this.world));
        this.registerCommandKind(new _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__.ResourceEditCommandKind(this.world));
        this.registerCommandKind(new _eventCommand__WEBPACK_IMPORTED_MODULE_4__.EventCommandKind(this.world));
        this.registerCommandKind(new _noneCommand__WEBPACK_IMPORTED_MODULE_5__.NoneCommandKind());
    }
    onEmit(command, res, share) {
        var _a;
        let kind = this.commands.get(command.kind);
        if (kind === undefined) {
            console.warn("Error executing command: unknown kind " + kind);
            return undefined;
        }
        if (kind.isNull(command))
            return;
        //console.log("EMIT", JSON.stringify(command));
        if (((_a = this.networkSys) === null || _a === void 0 ? void 0 : _a.isOnline()) === true && (this.world.isMaster || share)) {
            let stripped = kind.stripClient(command);
            if (stripped.length !== 0) {
                this.world.events.emit("command_share", stripped);
            }
        }
        this.world.events.emit('command_pre_execute');
        let inv;
        try {
            inv = kind.applyInvert(command);
        }
        catch (e) {
            console.warn("Cannot apply command", command, e);
            inv = undefined;
        }
        if (res !== undefined) {
            res.inverted = inv;
        }
        this.world.events.emit('command_post_execute', inv);
    }
    onLog(command, res, partial = false) {
        var _a, _b;
        let result = res || {};
        this.onEmit(command, result);
        if (result.inverted !== undefined) {
            let inv = result.inverted;
            let kind = this.commands.get(inv.kind);
            if (kind === undefined) {
                console.warn("Invalid inverted command! " + kind);
                return;
            }
            if (!kind.isNull(inv)) {
                (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(result.inverted, partial);
            }
            else {
                (_b = this.logger) === null || _b === void 0 ? void 0 : _b.logCommit(undefined, partial);
            }
        }
    }
    onPartialEnd() {
        var _a;
        (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(undefined, false);
    }
    getKind(kind) {
        return this.commands.get(kind);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/componentEdit.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/componentEdit.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "componentEditCommand": () => (/* binding */ componentEditCommand),
/* harmony export */   "singleEditCommand": () => (/* binding */ singleEditCommand),
/* harmony export */   "ComponentEditCommandKind": () => (/* binding */ ComponentEditCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");


function componentEditCommand(add, edit, remove, parallel) {
    return {
        kind: 'cedit',
        add,
        edit,
        remove,
        multi: parallel
    };
}
function singleEditCommand(edit) {
    return componentEditCommand(undefined, [edit]);
}
class ComponentEditCommandKind {
    constructor(world) {
        this.kind = 'cedit';
        this.world = world;
    }
    applyInvert(cmd) {
        var _a, _b, _c, _d, _e, _f;
        let inv = {
            kind: 'cedit',
        };
        for (let c of (_a = cmd.add) !== null && _a !== void 0 ? _a : []) {
            inv.remove = (_b = inv.remove) !== null && _b !== void 0 ? _b : [];
            inv.remove.push({
                entity: c.entity,
                type: c.type,
                multiId: c.multiId,
            });
            this.world.addComponent(c.entity, c);
        }
        if (!cmd.multi) {
            for (let c of (_c = cmd.edit) !== null && _c !== void 0 ? _c : []) {
                this.world.editComponent(c.entity, c.type, c.changes, c.multiId, false);
            }
        }
        else {
            let entityMap = new Map();
            for (let c of (_d = cmd.edit) !== null && _d !== void 0 ? _d : []) {
                let x = entityMap.get(c.entity);
                if (x === undefined) {
                    x = [];
                    entityMap.set(c.entity, x);
                }
                x.push({
                    type: c.type,
                    multiId: c.multiId,
                    changes: c.changes,
                });
            }
            for (let [key, val] of entityMap.entries()) {
                this.world.editComponentMultiple(key, val);
            }
        }
        inv.edit = cmd.edit;
        for (let c of (_e = cmd.remove) !== null && _e !== void 0 ? _e : []) {
            let component = this.world.getComponent(c.entity, c.type, c.multiId);
            if (component !== undefined) {
                this.world.removeComponent(component);
                inv.add = (_f = inv.add) !== null && _f !== void 0 ? _f : [];
                inv.add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(component));
            }
        }
        return inv;
    }
    stripClient(cmd) {
        var _a, _b, _c, _d, _e, _f, _g;
        let host_hidden = (_b = (_a = cmd.add) === null || _a === void 0 ? void 0 : _a.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _b !== void 0 ? _b : [];
        let non_host_hidden = (_d = (_c = cmd.remove) === null || _c === void 0 ? void 0 : _c.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _d !== void 0 ? _d : [];
        let predicate = (x) => {
            if (x.clientVisible === false)
                return false;
            if (host_hidden.indexOf(x.entity) > -1)
                return false;
            if (non_host_hidden.indexOf(x.entity) > -1)
                return true;
            return this.world.getComponent(x.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined;
        };
        let partialPredicate = (x) => {
            let real = this.world.getComponent(x.entity, x.type, x.multiId);
            if (real.clientVisible === false && !('clientVisible' in x))
                return false;
            return predicate(x);
        };
        let add = (_e = cmd.add) === null || _e === void 0 ? void 0 : _e.filter(predicate);
        let edit = (_f = cmd.edit) === null || _f === void 0 ? void 0 : _f.filter(partialPredicate);
        let remove = (_g = cmd.remove) === null || _g === void 0 ? void 0 : _g.filter(x => x.type !== _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE && partialPredicate(x));
        edit = edit === null || edit === void 0 ? void 0 : edit.filter(x => {
            if (!('clientVisible' in x.changes))
                return true;
            let orig = this.world.getComponent(x.entity, x.type, x.multiId);
            if (orig === undefined)
                return false;
            if (x.changes.clientVisible === false && orig.clientVisible !== false) {
                remove = remove !== null && remove !== void 0 ? remove : [];
                remove.push({
                    entity: x.entity,
                    type: x.type,
                    multiId: x.multiId,
                });
            }
            else if (x.changes.clientVisible !== false && orig.clientVisible === false) {
                add = add !== null && add !== void 0 ? add : [];
                add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(orig));
            }
            return false;
        });
        let res = new Array();
        if (host_hidden.length !== 0) {
            res.push({
                kind: 'despawn',
                entities: host_hidden,
            });
        }
        if (non_host_hidden.length !== 0) {
            res.push({
                kind: 'spawn',
                entities: non_host_hidden.map(x => this.createEntitySpawnPacket(x)),
            });
        }
        if (((add === null || add === void 0 ? void 0 : add.length) || 0) + ((edit === null || edit === void 0 ? void 0 : edit.length) || 0) + ((remove === null || remove === void 0 ? void 0 : remove.length) || 0) !== 0) {
            let cedit = {
                kind: 'cedit'
            };
            if (add !== undefined)
                cedit.add = add.map(clone);
            if (edit !== undefined) {
                cedit.edit = edit.map(clone);
                if (cmd.multi)
                    cedit.multi = true;
            }
            if (remove !== undefined)
                cedit.remove = remove.map(clone);
            res.push(cedit);
        }
        return res;
    }
    merge(to, from) {
        if (to.multi !== from.multi)
            return false;
        // TODO: from should remove entities added in to.
        //       handle entities edited in to but removed in from
        to.add = mergeNullableArrays(to.add, from.add);
        to.remove = mergeNullableArrays(to.remove, from.remove);
        if (from.edit !== undefined) {
            if (to.edit === undefined) {
                to.edit = from.edit;
            }
            else {
                for (let x of from.edit) {
                    let z = to.edit.find(y => x.entity === y.entity && x.type === y.type && x.multiId === y.multiId);
                    if (z === undefined) {
                        to.edit.push(x);
                    }
                    else {
                        Object.assign(z.changes, x.changes);
                    }
                }
            }
        }
        return true;
    }
    isNull(command) {
        var _a, _b, _c;
        if ((((_a = command.add) === null || _a === void 0 ? void 0 : _a.length) || 0) + (((_b = command.remove) === null || _b === void 0 ? void 0 : _b.length) || 0) !== 0)
            return false;
        for (let edit of (_c = command.edit) !== null && _c !== void 0 ? _c : []) {
            for (let c in edit.changes) {
                return false;
            }
        }
        return true;
    }
    createEntitySpawnPacket(entity) {
        this.world.events.emit('serialize_entity', entity);
        let components = this.world.getAllComponents(entity);
        let comps = [];
        for (let comp of components) {
            if (this.shouldIgnoreComponent0(comp))
                continue;
            comps.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponent)(comp));
        }
        return {
            id: entity,
            components: comps,
        };
    }
    shouldIgnoreComponent0(component) {
        var _a;
        return (component.clientVisible === false) || !((_a = this.world.storages.get(component.type)) === null || _a === void 0 ? void 0 : _a.sync);
    }
}
function mergeNullableArrays(a, b) {
    if (a === undefined)
        return b;
    if (b === undefined)
        return a;
    a.push(...b);
    return a;
}
// I hate JS
function clone(x) {
    return JSON.parse(JSON.stringify(x));
}


/***/ }),

/***/ "./src/app/ecs/systems/command/despawnCommand.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/command/despawnCommand.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DeSpawnCommandKind": () => (/* binding */ DeSpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");

class DeSpawnCommandKind {
    constructor(world) {
        this.kind = 'despawn';
        this.world = world;
    }
    applyInvert(cmd) {
        let saved = this.world.despawnEntitiesSave(cmd.entities);
        return {
            kind: 'spawn',
            entities: saved,
        };
    }
    stripClient(command) {
        let entities = command.entities.filter(x => this.world.getComponent(x, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined);
        if (entities.length === 0)
            return [];
        return [{
                kind: 'despawn',
                entities,
            }];
    }
    merge(to, from) {
        to.entities.push(...from.entities);
        return true;
    }
    isNull(command) {
        return command.entities.length === 0;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/eventCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/eventCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventCommandKind": () => (/* binding */ EventCommandKind)
/* harmony export */ });
class EventCommandKind {
    constructor(world) {
        this.kind = 'event';
        this.world = world;
    }
    applyInvert(cmd) {
        this.world.events.emit(cmd.do.name, ...cmd.do.args);
        return {
            kind: 'event',
            do: cmd.undo,
            undo: cmd.do,
        };
    }
    stripClient(command) {
        return [command];
    }
    merge(to, from) {
        return false;
    }
    isNull(command) {
        return false;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/noneCommand.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/command/noneCommand.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoneCommandKind": () => (/* binding */ NoneCommandKind)
/* harmony export */ });
class NoneCommandKind {
    constructor() {
        this.kind = 'none';
    }
    applyInvert(cmd) {
        return cmd;
    }
    stripClient(command) {
        return [];
    }
    merge(to, from) {
        return true;
    }
    isNull(command) {
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/resourceEditCommand.ts":
/*!************************************************************!*\
  !*** ./src/app/ecs/systems/command/resourceEditCommand.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResourceEditCommandKind": () => (/* binding */ ResourceEditCommandKind)
/* harmony export */ });
class ResourceEditCommandKind {
    constructor(world) {
        this.kind = 'redit';
        this.world = world;
    }
    applyInvert(cmd) {
        let inv = {
            kind: 'redit',
            add: [],
            edit: [],
            remove: [],
        };
        for (let c of cmd.add) {
            inv.remove.push(c.type);
            this.world.addResource(c);
        }
        for (let name in cmd.edit) {
            // Data gets swapped with the changes
            let data = cmd.edit[name];
            this.world.editResource(name, data);
        }
        inv.edit = cmd.edit;
        for (let c of cmd.remove) {
            let res = this.world.getResource(c);
            if (res === undefined)
                continue;
            inv.add.push(res);
            this.world.removeResource(c);
        }
        return inv;
    }
    stripClient(cmd) {
        var _a;
        let add = cmd.add.filter(x => x._sync);
        let edit = {};
        let editc = 0;
        for (let type in cmd.edit) {
            if ((_a = this.world.getResource(type)) === null || _a === void 0 ? void 0 : _a._sync) {
                editc += 1;
                edit[type] = cmd.edit[type];
            }
        }
        let remove = cmd.remove.filter(x => { var _a; return (_a = this.world.getResource(x)) === null || _a === void 0 ? void 0 : _a._sync; });
        if (add.length + editc + remove.length === 0) {
            return [];
        }
        return [{
                kind: 'redit',
                add, edit, remove,
            }];
    }
    merge(to, from) {
        to.add.push(...from.add);
        to.remove.push(...from.remove);
        for (let type in from.edit) {
            if (type in to.edit) {
                Object.assign(to.edit[type], from.edit[type]);
            }
            else {
                to.edit[type] = from.edit[type];
            }
        }
        return true;
    }
    isNull(command) {
        if (command.add.length + command.remove.length !== 0)
            return false;
        for (let type in command.edit) {
            for (let change in command.edit[type]) {
                return false;
            }
        }
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/spawnCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/spawnCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpawnCommandKind": () => (/* binding */ SpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");

class SpawnCommandKind {
    constructor(world) {
        this.kind = 'spawn';
        this.world = world;
    }
    applyInvert(cmd) {
        let entities = cmd.entities.map((x) => x.id);
        this.world.respawnEntities(cmd.entities);
        return {
            kind: 'despawn',
            entities: entities,
        };
    }
    stripClient(command) {
        let new_ents = command.entities.filter((x) => x.components.find((y) => y.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined);
        let map_ents = new_ents.map(x => {
            return {
                id: x.id,
                components: x.components.filter(x => x.clientVisible !== false),
            };
        });
        if (map_ents.length === 0) {
            return [];
        }
        return [{
                kind: 'spawn',
                entities: map_ents,
            }];
    }
    merge(to, from) {
        to.entities.push(...from.entities);
        return true;
    }
    isNull(command) {
        return command.entities.length === 0;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/doorSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/doorSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoorType": () => (/* binding */ DoorType),
/* harmony export */   "DOOR_TYPE": () => (/* binding */ DOOR_TYPE),
/* harmony export */   "DoorSystem": () => (/* binding */ DoorSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");













var DoorType;
(function (DoorType) {
    DoorType["NORMAL_LEFT"] = "normall";
    DoorType["NORMAL_RIGHT"] = "normalr";
    DoorType["ROTATE"] = "rotate";
})(DoorType || (DoorType = {}));
const DOOR_TYPE = 'door';
class DoorSystem {
    constructor(ecs) {
        this.name = DOOR_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(DOOR_TYPE, true, true);
        this.isMasterView = false;
        this.world = ecs;
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.DETAILS, false));
        this.displayContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        this.pixiBoardSys = ecs.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE);
        this.wallSys = ecs.systems.get(_wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        if (ecs.isMaster) {
            this.world.events.on('interact', this.onInteract, this);
        }
    }
    redrawComponent(door) {
        var _a;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let visible = this.isMasterView || this.world.getComponent(door.entity, _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__.REMEMBER_TYPE) !== undefined;
        if (!visible) {
            (_a = door._display) === null || _a === void 0 ? void 0 : _a.clear();
            return;
        }
        // TODO: use interaction shape? (might bug out on translations)
        let line = new _geometry_line__WEBPACK_IMPORTED_MODULE_4__.Line(pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]);
        this.drawLines(door, line);
    }
    drawLines(door, line) {
        let g = door._display;
        if (g === undefined)
            return;
        g.clear();
        g.lineStyle(2, 0, 0.5);
        switch (door.doorType) {
            case DoorType.NORMAL_LEFT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.toY - line.fromY, line.toX - line.fromX);
                if (door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.fromX, line.fromY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.fromY - line.toY, line.fromX - line.toX);
                if (!door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.toX, line.toY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.ROTATE: {
                let r = line.distance() / 2;
                let cx = (line.fromX + line.toX) / 2;
                let cy = (line.fromY + line.toY) / 2;
                g.drawCircle(cx, cy, r);
                break;
            }
            default:
                console.warn("Unknown door type: " + door.doorType);
        }
    }
    openDoor(door, doorType, open) {
        var _a, _b, _c, _d;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let newPos = undefined;
        let newVec = undefined;
        switch (doorType) {
            case DoorType.NORMAL_LEFT: {
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, Math.PI / 2 * (open ? -1 : 1), { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] }, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, angle, { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.ROTATE: {
                let hvx = wall.vec[0] / 2;
                let hvy = wall.vec[1] / 2;
                let origin = { x: pos.x + hvx, y: pos.y + hvy };
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] });
                newVec.x -= newPos.x;
                newVec.y -= newPos.y;
                break;
            }
            default:
                console.warn("Unknown door type: " + doorType);
        }
        let px = (_a = newPos === null || newPos === void 0 ? void 0 : newPos.x) !== null && _a !== void 0 ? _a : pos.x;
        let py = (_b = newPos === null || newPos === void 0 ? void 0 : newPos.y) !== null && _b !== void 0 ? _b : pos.y;
        let vx = (_c = newVec === null || newVec === void 0 ? void 0 : newVec.x) !== null && _c !== void 0 ? _c : wall.vec[0];
        let vy = (_d = newVec === null || newVec === void 0 ? void 0 : newVec.y) !== null && _d !== void 0 ? _d : wall.vec[1];
        let intersectWith = this.wallSys.queryIntersections(px, py, vx, vy);
        if (!(intersectWith.length === 0 || (intersectWith.length === 1 && intersectWith[0] === door.entity))) {
            console.log("Door stuck");
            // Collision, don't split the door pls.
            return false;
        }
        let changes = [];
        if (newPos !== undefined) {
            changes.push({
                entity: door.entity,
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                changes: {
                    x: newPos.x,
                    y: newPos.y,
                },
            });
        }
        if (newVec !== undefined) {
            changes.push({
                entity: door.entity,
                type: _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE,
                changes: {
                    vec: [newVec.x, newVec.y],
                },
            });
        }
        // Commit the edits at the same time to prevent the wall from being split (multi = true)
        // (if we commit position before rotation it might create an overlap situation that should
        // not be there).
        let cmd = {
            kind: 'cedit',
            edit: changes,
            multi: true,
        };
        // Why are we using share?
        // We're editing another synced component, but this (the door) might be hidden.
        // If the master opens a hidden door the "open" message will not be shared but the door should still open for
        // the roleplayers.
        // Addendum: what if the entity is hidden? Then the command will edit a hidden entity so it will be stripped away.
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.emitCommand)(this.world, cmd, !door.clientVisible);
        return true;
    }
    onComponentAdd(comp) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            d._display = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
            this.displayContainer.addChild(d._display);
            // Do NOT re-open the door, if it is open it means that it has been loaded from file and the wall is
            // already in the "door open" state. Bad snowy, wtf were you thinking
            this.redrawComponent(d);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            if (wall !== undefined)
                wall._dontMerge++;
        }
        else if (comp.type === _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__.REMEMBER_TYPE) {
            let door = this.storage.getComponent(comp.entity);
            if (door !== undefined) {
                this.redrawComponent(door);
            }
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            if ('open' in changed) {
                if (!this.openDoor(d, d.doorType, d.open)) {
                    // TODO: well, this does not work right with the GUI
                    d.open = !d.open;
                }
            }
            if ('doorType' in changed) {
                if (d.open) {
                    this.openDoor(d, changed['doorType'], false) && this.openDoor(d, d.doorType, true);
                }
            }
            this.redrawComponent(d);
        }
        else if (comp.type === 'wall') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
        else if (comp.type === 'position') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
    }
    onComponentRemove(comp) {
        var _a;
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            (_a = d._display) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            wall._dontMerge--;
        }
    }
    onResourceEdited(res, edited) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_8__.LOCAL_LIGHT_SETTINGS_TYPE && 'visionType' in edited) {
            this.isMasterView = res.visionType !== 'rp';
            for (let c of this.storage.allComponents()) {
                this.redrawComponent(c);
            }
        }
    }
    onInteract(entities) {
        for (let entity of entities) {
            let door = this.storage.getComponent(entity);
            if (door === undefined)
                continue;
            let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_10__.singleEditCommand)({
                entity,
                type: DOOR_TYPE,
                changes: {
                    open: !door.open,
                }
            });
            (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.world, cmd);
        }
    }
    enable() {
        var _a;
        this.layer.interactive = false;
        this.pixiBoardSys.root.addChild(this.layer);
        this.displayContainer.parentLayer = this.layer;
        this.displayContainer.interactive = false;
        this.displayContainer.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.displayContainer);
        this.isMasterView = ((_a = this.world.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_8__.LOCAL_LIGHT_SETTINGS_TYPE)) === null || _a === void 0 ? void 0 : _a.visionType) !== 'rp';
    }
    destroy() {
        this.displayContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
        this.layer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/gridSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/gridSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GRID_TYPE": () => (/* binding */ GRID_TYPE),
/* harmony export */   "GridSystem": () => (/* binding */ GridSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");










const SQRT3 = Math.sqrt(3);
const GRID_TYPE = 'grid';
class GridSystem {
    constructor(world) {
        this.name = GRID_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.PIXI_BOARD_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE];
        this.internalScale = 1;
        this.posX = 0;
        this.posY = 0;
        this.scaleX = 1;
        this.scaleY = 1;
        this.world = world;
        this.boardSys = world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.PIXI_BOARD_TYPE);
        let screen = this.boardSys.renderer.screen;
        this.sprite = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.TilingSprite(_PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture.EMPTY, screen.width, screen.height);
        this.sprite.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_9__.LayerOrder.GRID;
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
        toolSys.addTool((0,_tools_utils__WEBPACK_IMPORTED_MODULE_7__.createEmptyDriver)(_tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.GRID));
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('resource_remove', this.onResourceRemove, this);
        this.gridRes = Object.assign({
            type: GRID_TYPE,
            _save: true,
            _sync: true,
        }, _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS);
        world.addResource(this.gridRes);
        this.updateTex();
        this.updatePos();
    }
    onResourceEdited(res, changed) {
        if (res.type === GRID_TYPE) {
            // Redraw
            this.updateTex();
            this.updatePos();
        }
        else if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.BOARD_TRANSFORM_TYPE) {
            this.onBoardTransform(res);
        }
    }
    onResourceRemove(res) {
        if (res.type !== GRID_TYPE)
            return;
        throw 'Fool! Thou shall not remove thy grid!';
    }
    onBoardTransform(data) {
        this.posX = data.posX;
        this.posY = data.posY;
        this.scaleX = data.scaleX;
        this.scaleY = data.scaleY;
        this.updatePos();
    }
    onResize(width, height) {
        this.sprite.width = width;
        this.sprite.height = height;
    }
    updateTex() {
        this.sprite.texture.destroy(true);
        if (!this.gridRes.visible) {
            this.sprite.texture = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture.EMPTY;
            return;
        }
        let tex = drawGridTexture(512, this.gridRes.gridType, this.gridRes);
        this.internalScale = this.gridRes.size / 512;
        this.sprite.texture = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture(tex);
    }
    updatePos() {
        this.sprite.tileScale.set(this.scaleX * this.internalScale, this.scaleY * this.internalScale);
        this.sprite.tilePosition.set(this.posX + this.scaleX * this.gridRes.offX * this.gridRes.size, this.posY + this.scaleY * this.gridRes.offY * this.gridRes.size);
    }
    closestPoint(point) {
        if (this.gridRes === undefined)
            return undefined;
        let pnt = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(point[0], point[1]);
        this.sprite.worldTransform.apply(pnt, pnt);
        let pointX = pnt.x / this.gridRes.size - this.gridRes.offX;
        let pointY = pnt.y / this.gridRes.size - this.gridRes.offY;
        let resX;
        let resY;
        switch (this.gridRes.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.SQUARE:
                {
                    let fx = Math.floor(pointX);
                    let fy = Math.floor(pointY);
                    resX = fx;
                    resY = fy;
                    if (pointX > fx + 0.5) {
                        resX += 1;
                    }
                    if (pointY > fy + 0.5) {
                        resY += 1;
                    }
                    // Also check grid center
                    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(pointX, pointY, fx + 0.5, fy + 0.5) < (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(pointX, pointY, resX, resY)) {
                        resX = fx + 0.5;
                        resY = fy + 0.5;
                    }
                }
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.HEXAGON:
                {
                    // The algorithm here is quite complex and I couldn't find any of this online, so this is my own solution:
                    // (note: hexagon side = 1 because of the initial transformation).
                    // First we can notice that if we colour each point in a different colour depending on which vertex
                    // is closer to him (in a hexagonal grid) we find a grid of equilateral triangles of side 1.
                    // We then transform our grid by 2 / sqrt(3) on the horizontal side so that the height of the triangles
                    // will be the same as their base.
                    // With that done we can put a square grid on top of our triangle grid, each square will hold one
                    // triangle at its center and two halfes at the top and bottom.
                    // We can see which square the point belongs to by flooring the transformed x and y components, then
                    // we can check which triangle the points belongs to by chechinkg if the point is above or below
                    // the diagonal lines of equation: y < 0.5 - x/2 and y > x/2 + 0.5
                    // Note that each triangle column has half of a hexagon so the odd-ones will be flipped.
                    const s = 1 / SQRT3; // Hexagon Side = 1/sqrt(3)
                    let px = (pointX - s / 2) * 2 / SQRT3; // align the point with the triangle grid, and transform the grid
                    let py = pointY;
                    let sx = Math.floor(px);
                    let sy = Math.floor(py);
                    let gx = (px - sx);
                    let gy = (py - sy);
                    let rx = sx * SQRT3 / 2 + s / 2;
                    if (sx % 2 == 0) {
                        // Left side hexagon
                        if (gy < 0.5 - gx / 2) {
                            resY = sy;
                            resX = rx + s / 2;
                        }
                        else if (gy > gx / 2 + 0.5) {
                            resY = sy + 1;
                            resX = rx + s / 2;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s;
                        }
                    }
                    else {
                        // Flipped hexagon: right side hex.
                        if (gy > 1 - gx / 2) {
                            resY = sy + 1;
                            resX = rx + s;
                        }
                        else if (gy < gx / 2) {
                            resY = sy;
                            resX = rx + s;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s / 2;
                        }
                    }
                }
                break;
        }
        pnt.set((resX + this.gridRes.offX) * this.gridRes.size, (resY + this.gridRes.offY) * this.gridRes.size);
        this.sprite.worldTransform.applyInverse(pnt, pnt);
        return [pnt.x, pnt.y];
    }
    enable() {
        this.boardSys.renderer.on('resize', this.onResize, this);
        const layer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_9__.LayerOrder.GRID, false));
        this.sprite.parentLayer = layer;
        this.boardSys.root.addChild(layer, this.sprite);
        const screen = this.boardSys.renderer.screen;
        this.onResize(screen.width, screen.height);
    }
    destroy() {
        this.sprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}
// ----------------------------------------- DRAW -----------------------------------------
function drawGridTexture(size, type, options) {
    let canvas;
    switch (type) {
        case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.HEXAGON:
            canvas = drawHex(size, options);
            break;
        case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.SQUARE:
            canvas = drawSquare(size, options);
            break;
        default:
            throw 'Cannot draw unknown type: ' + type;
    }
    return _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.BaseTexture.fromBuffer(new Uint8Array(canvas.data.buffer), canvas.width, canvas.height);
}
function drawSquare(size, opt) {
    //let canvas = new OffscreenCanvas(size, size);
    let canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.strokeRect(0, 0, size + 1, size + 1);
    return ctx.getImageData(0, 0, size, size);
}
function drawHex(size, opt) {
    let s = size / SQRT3; // Side
    let width = Math.floor(3 * s);
    //let canvas = new OffscreenCanvas(width, size);
    let canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    let d = size;
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.moveTo(0, 0);
    ctx.lineTo(s, 0);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.lineTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, 0);
    ctx.moveTo(0, d);
    ctx.lineTo(s, d);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.moveTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, d);
    // Lines before the image:
    ctx.moveTo(0, 0);
    ctx.lineTo(-s / 2, d / 2);
    ctx.lineTo(0, d);
    ctx.stroke();
    return ctx.getImageData(0, 0, width, size);
}
function colorToHex(color, opacity) {
    return '#' + color.toString(16).padStart(6, '0')
        + ((255 * opacity) | 0).toString(16).padStart(2, '0');
}


/***/ }),

/***/ "./src/app/ecs/systems/lightSystem.ts":
/*!********************************************!*\
  !*** ./src/app/ecs/systems/lightSystem.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_BACKGROUND": () => (/* binding */ DEFAULT_BACKGROUND),
/* harmony export */   "DEFAULT_LIGHT_SETTINGS": () => (/* binding */ DEFAULT_LIGHT_SETTINGS),
/* harmony export */   "LIGHT_TYPE": () => (/* binding */ LIGHT_TYPE),
/* harmony export */   "LIGHT_SETTINGS_TYPE": () => (/* binding */ LIGHT_SETTINGS_TYPE),
/* harmony export */   "LOCAL_LIGHT_SETTINGS_TYPE": () => (/* binding */ LOCAL_LIGHT_SETTINGS_TYPE),
/* harmony export */   "LightSystem": () => (/* binding */ LightSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");








var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.utils.hex2rgb;






const DEFAULT_BACKGROUND = 0x6e472c;
const DEFAULT_LIGHT_SETTINGS = {
    ambientLight: 0x555555,
    background: DEFAULT_BACKGROUND,
    needsLight: true,
};
const LIGHT_TYPE = 'light';
const LIGHT_SETTINGS_TYPE = 'light_settings';
const LOCAL_LIGHT_SETTINGS_TYPE = 'local_light_settings';
/**
 * How is light rendered?
 * There are three logical passes on a separate framebuffer.
 * Then this framebuffer is pasted onto the real screen.
 * 1. Clear the RGBA channels with the ambient light.
 * 2. Draw only in the ALPHA channel every player mesh (achieved by setting the color to 0)
 * 3. Draw the light only where the ALPHA channel is 1 (using a custom blend mode)
 * 4. Draw the framebuffer on the screen ignoring the ALPHA channel (using a custom blend mode)
 *
 * Why is this usage of the alpha channel used?
 * We need to render light only where visible, so in the RP-view the players vision polygons should be used as a
 * mask for the light (you can't see a light that no player sees). So when the RP-view is enabled the framebuffer is
 * cleared with alpha=0 and the player's vision will fill in the alpha (they should be rendered BEFORE the lights).
 * When the DM-view is enabled the framebuffer is rendered with alpha=1 and the player's view is not drawn.
 *
 * Why isn't the visibility polygon rendering batched?
 * We need uniforms in the shaders to know the distance from the light center: remember that visibility mesh is not only
 * the visibility polygon, it also calculates the distance form the center of the light (to render a proper circle).
 * So yeah, no batched uniforms in WebGL it seems. (TODO: explore more possibilities)
 */
class LightSystem {
    constructor(world) {
        var _a;
        this.name = LIGHT_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE, _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(LIGHT_TYPE);
        this.world = world;
        this.boardSys = world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE);
        this.lightLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_13__.LayerOrder.LIGHT, false));
        this.playerContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        this.lightContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_8__.TOOL_TYPE);
        toolSys.addTool((0,_tools_utils__WEBPACK_IMPORTED_MODULE_9__.createEmptyDriver)(_tools_toolType__WEBPACK_IMPORTED_MODULE_10__.Tool.LIGHT));
        world.addStorage(this.storage);
        this.lightSettings = Object.assign({
            type: LIGHT_SETTINGS_TYPE,
            _save: true, _sync: true,
        }, DEFAULT_LIGHT_SETTINGS);
        world.addResource(this.lightSettings);
        this.localLightSettings = {
            type: LOCAL_LIGHT_SETTINGS_TYPE,
            visionType: this.world.isMaster ? 'dm' : 'rp',
            _save: true, _sync: false,
        };
        world.addResource(this.localLightSettings);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_11__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_12__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    createLightVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.createMesh();
        mesh.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1;
        this.lightContainer.addChild(mesh);
        return mesh;
    }
    createPlayerVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.createMesh('player');
        mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
        this.playerContainer.addChild(mesh);
        return mesh;
    }
    updateVisMesh(mesh, pos, poly) {
        mesh.visible = true;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.updateMeshPolygons(mesh, pos, poly);
    }
    updateVisUniforms(mesh, center, rangeSquared, color) {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.updateMeshUniforms(mesh, center, rangeSquared, color);
    }
    disableVisMesh(mesh) {
        mesh.visible = false;
    }
    updateVisPolygon(entity, target, color, pos, vis) {
        if (pos === undefined) {
            pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            if (pos === undefined)
                return;
        }
        if (vis === undefined) {
            vis = this.world.getComponent(entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis === undefined) {
                this.disableVisMesh(target);
                return;
            }
        }
        if (vis.polygon === undefined) {
            this.disableVisMesh(target);
        }
        else {
            let range = vis.range * this.gridSize;
            this.updateVisMesh(target, pos, vis.polygon);
            this.updateVisUniforms(target, pos, range * range, color);
        }
    }
    updateLightVisPolygon(light, pos, vis) {
        this.updateVisPolygon(light.entity, light._lightDisplay, light.color, pos, vis);
    }
    updatePlayerVisPolygon(player, pos, vis) {
        if (player._lightVisionDisplay === undefined) {
            player._lightVisionDisplay = this.createPlayerVisMesh();
        }
        this.updateVisPolygon(player.entity, player._lightVisionDisplay, 0, pos, vis);
    }
    onComponentAdd(comp) {
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            light._lightDisplay = this.createLightVisMesh();
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE,
                range: light.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
            this.updateLightVisPolygon(light, undefined, vis);
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE) {
            let player = comp;
            if (player._lightVisionDisplay === undefined) {
                player._lightVisionDisplay = this.createPlayerVisMesh();
            }
            let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis === undefined) {
                console.error("Player does not have a visibility type");
            }
            this.updatePlayerVisPolygon(player, undefined, vis);
        }
    }
    onComponentEdited(comp, changes) {
        if (comp.type === LIGHT_TYPE) {
            let c = comp;
            if ('range' in changes) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let range = vis.range * this.gridSize;
                    this.updateVisUniforms(c._lightDisplay, pos, range * range, c.color);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changes))
                return;
            let light = this.storage.getComponent(vis.entity);
            if (light !== undefined) {
                this.updateLightVisPolygon(light, undefined, vis);
            }
            else {
                let player = this.world.getComponent(vis.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE);
                if (player !== undefined) {
                    this.updatePlayerVisPolygon(player, undefined, vis);
                }
            }
        }
    }
    onResourceEdited(comp, changed) {
        if (comp.type === _gridSystem__WEBPACK_IMPORTED_MODULE_11__.GRID_TYPE) {
            if (!('size' in changed))
                return;
            let grid = comp;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
        else if (comp.type === LIGHT_SETTINGS_TYPE || comp.type === LOCAL_LIGHT_SETTINGS_TYPE) {
            let arr = [0.0, 0.0, 0.0, 0.0];
            if (this.localLightSettings.visionType === 'dm')
                arr[3] = 1.0;
            hex2rgb(this.lightSettings.ambientLight, arr);
            this.lightLayer.clearColor = arr;
            this.playerContainer.visible = this.localLightSettings.visionType !== 'dm';
            this.boardSys.renderer.backgroundColor = this.lightSettings.background;
        }
    }
    onComponentRemove(comp) {
        var _a, _b;
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            (_a = light._lightDisplay) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No light visibility found on removal");
            }
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE) {
            let player = comp;
            (_b = player._lightVisionDisplay) === null || _b === void 0 ? void 0 : _b.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.setup();
        this.lightLayer.useRenderTexture = true;
        this.lightLayer.interactive = false;
        this.lightLayer.interactiveChildren = false;
        this.playerContainer.interactive = false;
        this.playerContainer.interactiveChildren = false;
        let lightSystem = this.world.systems.get(LIGHT_TYPE);
        this.playerContainer.parentLayer = lightSystem.lightLayer;
        this.lightContainer.interactive = false;
        this.lightContainer.interactiveChildren = false;
        this.lightContainer.parentLayer = this.lightLayer;
        this.onResourceEdited(this.lightSettings, {}); // Update the clearColor
        let lightingSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(this.lightLayer.getRenderTexture());
        lightingSprite.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY;
        lightingSprite.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_13__.LayerOrder.LIGHT;
        lightingSprite.interactive = false;
        lightingSprite.interactiveChildren = false;
        let board = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE);
        board.board.addChild(this.playerContainer, this.lightContainer, this.lightLayer);
        this.boardSys.root.addChild(lightingSprite);
    }
    destroy() {
        this.lightContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.playerContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.lightLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/mouseTrailSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/mouseTrailSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MOUSE_TRAIL_TYPE": () => (/* binding */ MOUSE_TRAIL_TYPE),
/* harmony export */   "MouseTrailSystem": () => (/* binding */ MouseTrailSystem),
/* harmony export */   "MouseTrailToolDriver": () => (/* binding */ MouseTrailToolDriver)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* harmony import */ var Public_images_trail_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! Public/images/trail.png */ "./src/public/images/trail.png");









const MOUSE_TRAIL_TYPE = 'mouse_trail';
const ROPE_SIZE = 100;
const HISTORY_SIZE = 20;
const SEND_HISTORY_AFTER_MS = 100;
class MouseTrailSystem {
    constructor(world) {
        this.name = MOUSE_TRAIL_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE, _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE, _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(MOUSE_TRAIL_TYPE, false, false);
        this.boardScale = 1;
        this.toUpdate = [];
        // our "future" to send to others (yes it will have 100ms latency)
        this.selfFuture = [];
        // last time we sent a future
        this.futureLastSend = 0;
        this.world = world;
        this.pixiBoardSys = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE);
        this.networkSys = this.world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_TYPE);
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_7__.LayerOrder.TOOLS, false));
        this.container = new _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.Container();
        // Add system
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE);
        toolSys.addTool(new MouseTrailToolDriver(this));
        // Add listeners
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        // Paint texture
        this.tex = _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.Texture.from(Public_images_trail_png__WEBPACK_IMPORTED_MODULE_8__.default);
    }
    onSelfInput(x, y) {
        const netres = this.networkStatusResource;
        this.onFuture(netres.myId, [x, y]);
    }
    onFuture(senderNetId, moves) {
        const netres = this.networkStatusResource;
        const entityId = netres.entityIndex.get(senderNetId);
        if (entityId === undefined) {
            console.warn("Cannot find entity of network player " + senderNetId, netres.entityIndex);
            return;
        }
        let data = this.storage.getComponent(entityId);
        if (moves.length % 2 !== 0) {
            console.warn("Client " + senderNetId + " sent unaligned xy moves");
            moves.length = moves.length - 1;
        }
        data.futurexy.push(...moves);
        if (this.toUpdate.indexOf(entityId) < 0) {
            this.toUpdate.push(entityId);
        }
    }
    createSimpleRope() {
        const points = new Array(ROPE_SIZE);
        for (let i = 0; i < ROPE_SIZE; i++) {
            points[i] = new _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.Point();
        }
        const rope = new _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.SimpleRope(this.tex, points);
        rope.blendmode = _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.BLEND_MODES.ADD;
        this.container.addChild(rope);
        return rope;
    }
    updateRope(c, netwEntity = undefined) {
        const rope = c._g;
        const geom = rope.geometry;
        const ropePoints = geom.points;
        const historySize = c.historyx.length;
        const ropeSize = ropePoints.length;
        for (let i = 0; i < ropeSize; i++) {
            const p = ropePoints[i];
            const x = cubicInterpolation(c.historyx, i / ropeSize * historySize) * this.boardScale;
            const y = cubicInterpolation(c.historyy, i / ropeSize * historySize) * this.boardScale;
            p.x = x;
            p.y = y;
        }
        rope.scale.set(1 / this.boardScale);
        geom.updateVertices();
        if (netwEntity === undefined) {
            netwEntity = this.world.getComponent(c.entity, _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE);
        }
        rope.tint = netwEntity.color;
    }
    onSelfPosition(posx, posy) {
        this.selfFuture.push(posx, posy);
        const now = Date.now();
        if (this.futureLastSend + SEND_HISTORY_AFTER_MS < now) {
            const pkt = {
                type: 'mtrail',
                fut: this.selfFuture,
            };
            this.networkSys.channel.broadcast(pkt);
            this.selfFuture = [];
            this.futureLastSend = now;
        }
    }
    onTick() {
        if (this.toUpdate.length === 0)
            return;
        let netres = this.networkStatusResource;
        const myEntityId = netres.entityIndex.get(netres.myId);
        for (let i = this.toUpdate.length - 1; i >= 0; i--) {
            const entity = this.toUpdate[i];
            const trail = this.storage.getComponent(entity);
            let prevx = trail.historyx[HISTORY_SIZE - 1];
            let prevy = trail.historyy[HISTORY_SIZE - 1];
            let nextx = prevx;
            let nexty = prevy;
            let different = false;
            if (trail.futurexy.length !== 0) {
                nextx = trail.futurexy[0];
                nexty = trail.futurexy[1];
                trail.futurexy.splice(0, 2);
                different = Math.abs(nextx - prevx) + Math.abs(nexty - prevy) > Number.EPSILON;
            }
            if (entity === myEntityId && trail.lastinput < HISTORY_SIZE) {
                this.onSelfPosition(nextx, nexty);
            }
            trail.historyx.pop();
            trail.historyy.pop();
            trail.historyx.unshift(nextx);
            trail.historyy.unshift(nexty);
            if (different) {
                trail.lastinput = 0;
                trail._g.visible = true;
            }
            else {
                // If no update has been found in the last 20 frames remove the player from the update list
                // it will be re-added if we get another change
                trail.lastinput += 1;
                if (trail.lastinput > HISTORY_SIZE) {
                    this.toUpdate.splice(i, 1);
                    trail._g.visible = false;
                    continue;
                }
            }
            this.updateRope(trail);
        }
    }
    onComponentAdd(c) {
        if (c.type === _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE) {
            const _g = this.createSimpleRope();
            const com = {
                type: MOUSE_TRAIL_TYPE,
                entity: -1,
                color: 0xFFFFFF,
                historyx: new Array(HISTORY_SIZE).fill(0),
                historyy: new Array(HISTORY_SIZE).fill(0),
                futurexy: [],
                lastinput: HISTORY_SIZE,
                _g,
            };
            this.updateRope(com, c);
            this.world.addComponent(c.entity, com);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === MOUSE_TRAIL_TYPE) {
            let c = comp;
            this.updateRope(c);
        }
        else if (comp.type === _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE) {
            if ('color' in changed) {
                const mtc = this.storage.getComponent(comp.entity);
                if (mtc !== undefined) {
                    this.updateRope(mtc, comp);
                }
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === MOUSE_TRAIL_TYPE) {
            let c = comp;
            c._g.destroy();
        }
    }
    changeScales() {
        for (let c of this.storage.allComponents()) {
            this.updateRope(c);
        }
    }
    onResourceEdited(res) {
        if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.BOARD_TRANSFORM_TYPE) {
            this.boardScale = res.scaleX || 1;
            this.changeScales();
        }
    }
    onMouseTrailPacket(pkt, container) {
        this.onFuture(container.sender, pkt.fut);
    }
    enable() {
        this.layer.interactive = false;
        this.layer.interactiveChildren = false;
        this.pixiBoardSys.root.addChild(this.layer);
        this.pixiBoardSys.board.addChild(this.container);
        this.container.interactive = false;
        this.container.interactiveChildren = false;
        this.container.parentLayer = this.layer;
        this.networkStatusResource = this.world.getResource(_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_STATUS_TYPE);
        this.pixiBoardSys.ticker.add(this.onTick, this);
        this.networkSys.channel.eventEmitter.on('mtrail', this.onMouseTrailPacket, this);
    }
    destroy() {
        this.networkSys.channel.eventEmitter.off('mtrail', this.onMouseTrailPacket, this);
        this.pixiBoardSys.ticker.remove(this.onTick, this);
    }
}
class MouseTrailToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_4__.Tool.MOUSE_TRAIL;
        this.follower = -1;
        this.sys = sys;
    }
    initFollower() {
        this.killFollower();
        this.follower = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    killFollower() {
        if (this.follower > 0) {
            this.sys.world.despawnEntity(this.follower);
            this.follower = -1;
        }
    }
    onTick() {
        const pos = this.sys.world.getComponent(this.follower, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (!Number.isFinite(pos.x) || !Number.isFinite(pos.y))
            return;
        this.sys.onSelfInput(pos.x, pos.y);
    }
    onStart() {
        this.initFollower();
        this.sys.pixiBoardSys.ticker.add(this.onTick, this, _PIXI__WEBPACK_IMPORTED_MODULE_6__.default.UPDATE_PRIORITY.HIGH);
    }
    onEnd() {
        this.sys.pixiBoardSys.ticker.remove(this.onTick, this);
        this.killFollower();
    }
    onPointerClick(event) {
        // nothing for now
    }
}
/**
 * Cubic interpolation based on https://github.com/osuushi/Smooth.js
 */
function clipInput(k, arr) {
    if (k < 0)
        k = 0;
    if (k > arr.length - 1)
        k = arr.length - 1;
    return arr[k];
}
function getTangent(k, factor, array) {
    return factor * (clipInput(k + 1, array) - clipInput(k - 1, array)) / 2;
}
function cubicInterpolation(array, t, tangentFactor = 1) {
    const k = Math.floor(t);
    const m = [getTangent(k, tangentFactor, array), getTangent(k + 1, tangentFactor, array)];
    const p = [clipInput(k, array), clipInput(k + 1, array)];
    t -= k;
    const t2 = t * t;
    const t3 = t * t2;
    return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];
}


/***/ }),

/***/ "./src/app/ecs/systems/pinSystem.ts":
/*!******************************************!*\
  !*** ./src/app/ecs/systems/pinSystem.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIN_TYPE": () => (/* binding */ PIN_TYPE),
/* harmony export */   "PinSystem": () => (/* binding */ PinSystem),
/* harmony export */   "CreatePinToolDriver": () => (/* binding */ CreatePinToolDriver)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");










const PIN_TYPE = 'pin';
class PinSystem {
    constructor(world) {
        this.name = PIN_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PIN_TYPE, true, true);
        this.world = world;
        this.selectionSys = this.world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE);
        if (world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
            toolSys.addTool(new CreatePinToolDriver(this));
        }
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
    }
    onComponentAdd(c) {
        if (c.type !== PIN_TYPE)
            return;
        let pin = c;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (pos === undefined)
            return;
        let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        if (display === undefined) {
            display = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                entity: -1,
                interactive: true,
                display: this.createElement()
            };
            this.world.addComponent(c.entity, display);
        }
        this.redrawComponent(pin, display.display);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PIN_TYPE) {
            let pin = comp;
            let grapc = this.world.getComponent(comp.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
            let pinDisplay = grapc.display;
            this.redrawComponent(pin, pinDisplay);
        }
    }
    createElement() {
        return {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT,
            priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__.DisplayPrecedence.PINS,
            visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
            ignore: false,
            interactive: true,
            color: 0xFFFFFF,
            children: [],
        };
    }
    redrawComponent(pin, display) {
        display.color = pin.color;
        if (pin.label !== undefined) {
            if (display.children.length === 0) {
                display._childrenAdd = [{
                        type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT,
                        ignore: false,
                        interactive: false,
                        priority: 0,
                        visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
                        anchor: { x: 0.5, y: 1.0 },
                        offset: { x: 0, y: -_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__.POINT_RADIUS },
                        color: 0,
                        text: pin.label,
                    }];
            }
            else {
                display.children[0].text = pin.label;
            }
        }
        else {
            display._childrenReplace = [];
        }
        this.world.editComponent(pin.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePinToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.CREATE_PIN;
        // Entity of the pin to be created (or -1)
        this.createPin = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        let color = Math.floor(Math.random() * 0xFFFFFF);
        let display = this.sys.createElement();
        display.color = color;
        display.visib = _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE;
        this.createPin = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createPin !== -1) {
            this.sys.world.despawnEntity(this.createPin);
            this.createPin = -1;
        }
    }
    confirmCreation() {
        if (this.createPin === -1)
            return;
        const world = this.sys.world;
        let id = this.createPin;
        let g = world.getComponent(id, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        world.despawnEntity(id);
        let cmd = {
            kind: 'spawn',
            entities: [{
                    id: world.allocateId(),
                    components: [
                        {
                            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                            x: loc.x,
                            y: loc.y,
                        },
                        {
                            type: PIN_TYPE,
                            color: g.display.color,
                        },
                        {
                            type: _back_layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE,
                            layer: (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_9__.findForeground)(this.sys.world),
                        },
                    ]
                }]
        };
        this.createPin = -1;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.INSPECT,
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_8__.executeAndLogCommand)(world, cmd);
        //this.sys.selectionSys.setOnlyEntity(id);
    }
    onStart() {
        this.initCreation();
    }
    onEnd() {
        this.cancelCreation();
    }
    onPointerClick(event) {
        this.confirmCreation();
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerSystem.ts":
/*!*********************************************!*\
  !*** ./src/app/ecs/systems/playerSystem.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_TYPE": () => (/* binding */ PLAYER_TYPE),
/* harmony export */   "PLAYER_VISIBLE_TYPE": () => (/* binding */ PLAYER_VISIBLE_TYPE),
/* harmony export */   "EVENT_VISIBILITY_SPREAD": () => (/* binding */ EVENT_VISIBILITY_SPREAD),
/* harmony export */   "PlayerSystem": () => (/* binding */ PlayerSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");










const PLAYER_TYPE = 'player';
/**
 * Added to every object that might be visible by a player, it tracks how many players and how many lights
 * are seeing it.
 */
const PLAYER_VISIBLE_TYPE = 'player_visible';
const EVENT_VISIBILITY_SPREAD = 'visibility_spread';
class PlayerSystem {
    constructor(world) {
        var _a;
        this.name = PLAYER_TYPE;
        this.dependencies = [_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PIN_TYPE, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_TYPE, true, true);
        this.visibleStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_VISIBLE_TYPE, false, false);
        // If false a player can see a thing only if it's illuminated by artificial light
        this.ambientIlluminated = false;
        this.world = world;
        this.lightSystem = world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        this.visibilitySystem = world.systems.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_9__.STANDARD_GRID_OPTIONS).size;
        this.world.addStorage(this.storage);
        this.world.addStorage(this.visibleStorage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        let visAware = world.systems.get(_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
        visAware.events.on('aware_update', this.onVisibilityAwareUpdate, this);
    }
    onPlayerVisibleCountersUpdate(t) {
        let newVisible = t._playerNightVisionCount > 0 ||
            ((this.ambientIlluminated || t._lightCount > 0 || t.isWall) && t._playerCount > 0);
        if (newVisible !== t.visible) {
            this.world.editComponent(t.entity, t.type, {
                visible: newVisible,
            });
        }
    }
    onVisibilityAwareUpdate(target, added, removed) {
        let playerVisible = this.visibleStorage.getComponent(target.entity);
        if (playerVisible === undefined)
            return;
        for (let e of added) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount += 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount += 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount += 1;
            }
        }
        for (let e of removed) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount -= 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount -= 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount -= 1;
            }
        }
        this.onPlayerVisibleCountersUpdate(playerVisible);
    }
    onNightVisionUpdate(player) {
        let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let diff = player.nightVision ? +1 : -1;
        let fun = (t) => {
            let playerVisible = this.visibleStorage.getComponent(t);
            if (playerVisible === undefined)
                return;
            playerVisible._playerNightVisionCount += diff;
            this.onPlayerVisibleCountersUpdate(playerVisible);
        };
        for (let t of vis._canSee)
            fun(t);
        if (vis._canSeeWalls)
            for (let t of vis._canSeeWalls)
                fun(t);
    }
    createVisMeshFrom(pos, vis) {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(mesh, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(mesh, pos, r * r, 0xFFFFFF);
        return mesh;
    }
    spreadPlayerVisibility(player, pos, vis, nightVision) {
        if (this.world.getComponent(player, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE))
            return; // Ignore hidden players
        let playerVis = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(playerVis, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(playerVis, pos, r * r, 0xFFFFFF);
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let playerData = {
            mesh: playerVis,
            vis,
            pos,
        };
        let players = [];
        let nightVisPlayers = [];
        let lights = [];
        let aabb;
        if (!nightVision && !this.ambientIlluminated) {
            players.push(playerData);
            aabb = undefined;
            for (let c of this.visibilitySystem.aabbTree.query(vis.aabb)) {
                let visComponent = c.tag;
                let lightComponent = lightStorage.getComponent(visComponent.entity);
                if (lightComponent === undefined || visComponent.range <= 0)
                    continue;
                let pos = posStorage.getComponent(visComponent.entity);
                if (aabb === undefined)
                    aabb = visComponent.aabb.copy();
                else
                    aabb.combine(visComponent.aabb, aabb);
                let mesh = this.createVisMeshFrom(pos, visComponent);
                lights.push({
                    mesh,
                    pos,
                    vis: visComponent,
                });
            }
            if (lights.length === 0)
                return; // no night vision AND no lights = can't see a thing!
            aabb.intersect(vis.aabb, aabb);
        }
        else {
            nightVisPlayers.push(playerData);
            aabb = vis.aabb;
        }
        let data = {
            aabb,
            lights,
            players,
            nightVisPlayers,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        playerData.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let light of data.lights)
            light.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadLightVisibility(lightVis) {
        // Quite similar to spreadPlayerVisibility but follows a light instead of a player,
        // When a light visibility polygon is changed this will query each player in the polygon's reach and
        // spread the visibility (only with that light!)
        if (this.ambientIlluminated)
            return; // Who needs lights?
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let lightPos = posStorage.getComponent(lightVis.entity);
        let lightMesh = this.createVisMeshFrom(lightPos, lightVis);
        let lightData = [{
                mesh: lightMesh,
                pos: lightPos,
                vis: lightVis,
            }];
        let aabb = undefined;
        let players = [];
        for (let c of this.visibilitySystem.aabbTree.query(lightVis.aabb)) {
            let visComponent = c.tag;
            let player = this.storage.getComponent(visComponent.entity);
            if (player === undefined || visComponent.range <= 0 || player.nightVision)
                continue;
            if (aabb === undefined)
                aabb = visComponent.aabb.copy();
            else
                aabb.combine(visComponent.aabb, aabb);
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(player.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            players.push({
                mesh,
                pos,
                vis,
            });
        }
        if (players.length === 0)
            return;
        aabb.intersect(lightVis.aabb, aabb);
        let data = {
            aabb,
            lights: lightData,
            players,
            nightVisPlayers: [],
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        lightData[0].mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let player of players)
            player.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadAfterLightNotNeeded() {
        // Something changed, light is not needed anymore
        // this means that most of the things that were not visible anymore now are
        // but what? and where? this is the questions i will answer today
        let players = [];
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let aabb = undefined;
        for (let player of this.storage.allComponents()) {
            if (player.nightVision)
                continue;
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(vis.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            if (aabb === undefined)
                aabb = vis.aabb.copy();
            else
                aabb.combine(vis.aabb, aabb);
            let data = { mesh, pos, vis };
            players.push(data);
        }
        if (aabb === undefined)
            return; // Not enough players
        let data = {
            aabb,
            lights: [],
            players: [],
            nightVisPlayers: players,
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    getSpreadDataForAabb(aabb, cb) {
        let nightVisPlayers = [];
        let players = [];
        let lights = [];
        let lightsNeeded = !this.ambientIlluminated;
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        for (let c of this.visibilitySystem.aabbTree.query(aabb)) {
            let vis = c.tag;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                let pos = posStorage.getComponent(vis.entity);
                let mesh = this.createVisMeshFrom(pos, vis);
                let data = { mesh, pos, vis };
                if (player.nightVision || !lightsNeeded)
                    nightVisPlayers.push(data);
                else
                    players.push(data);
                continue;
            }
            if (lightsNeeded) {
                let light = lightStorage.getComponent(vis.entity);
                if (light !== undefined) {
                    let pos = posStorage.getComponent(vis.entity);
                    let mesh = this.createVisMeshFrom(pos, vis);
                    let data = { mesh, pos, vis };
                    lights.push(data);
                }
            }
        }
        let realPlayers = players;
        let realLights = lights;
        if (players.length === 0 || lights.length == 0) {
            realPlayers = [];
            realLights = [];
        }
        let data = {
            aabb,
            lights: realLights,
            players: realPlayers,
            nightVisPlayers,
        };
        cb(data);
        for (let x of lights)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of nightVisPlayers)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    onComponentAdd(comp) {
        if (comp.type === PLAYER_TYPE) {
            let player = comp;
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined) {
                console.error("Added player to pin without player visibility! " + comp.entity);
                return;
            }
            pv._playerNightVisionCount++; // A bit hackish, but it works ;)
            this.onPlayerVisibleCountersUpdate(pv);
            // We need a visibility component, create one if it does not already exist
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE,
                range: player.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            let c = comp;
            c._lightCount = 0;
            c._playerCount = 0;
            c._playerNightVisionCount = 0;
            this.world.addComponent(c.entity, (0,_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.newVisibilityAwareComponent)(c.isWall === true));
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PLAYER_TYPE) {
            let c = comp;
            if ('nightVision' in changed) {
                this.onNightVisionUpdate(c);
            }
            if ('range' in changed) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, c.nightVision);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changed))
                return;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, player.nightVision);
                }
                return;
            }
            let light = this.world.getComponent(vis.entity, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                this.spreadLightVisibility(vis);
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === PLAYER_TYPE) {
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No player visibility found on removal");
            }
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined)
                return;
            pv._playerNightVisionCount--; // Gotta undo those hacks
            this.onPlayerVisibleCountersUpdate(pv);
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_SETTINGS_TYPE && 'needsLight' in changed) {
            let light = res;
            this.ambientIlluminated = !light.needsLight;
            for (let comp of this.visibleStorage.allComponents()) {
                this.onPlayerVisibleCountersUpdate(comp);
            }
            if (!light.needsLight) {
                this.spreadAfterLightNotNeeded();
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
        }
    }
    // PUBLIC INTERFACE
    addPlayerVisListener(entity, isWall = false) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined) {
            c = {
                type: PLAYER_VISIBLE_TYPE,
                entity,
                visible: false,
                isWall,
                _refCount: 1,
                _lightCount: 0,
                _playerCount: 0,
                _playerNightVisionCount: 0,
            };
            this.world.addComponent(entity, c);
            return c;
        }
        else {
            c._refCount++;
        }
        return c;
    }
    removePlayerVisListener(entity) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined)
            return;
        c._refCount--;
        if (c._refCount === 0) {
            this.world.removeComponent(c);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.setup();
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/propSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/propSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PROP_TYPE": () => (/* binding */ PROP_TYPE),
/* harmony export */   "PROP_TELEPORT_TYPE": () => (/* binding */ PROP_TELEPORT_TYPE),
/* harmony export */   "PropSystem": () => (/* binding */ PropSystem),
/* harmony export */   "CreatePropToolDriver": () => (/* binding */ CreatePropToolDriver),
/* harmony export */   "PropTeleportLinkToolDriver": () => (/* binding */ PropTeleportLinkToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");













const PROP_TYPE = 'prop';
const PROP_TELEPORT_TYPE = 'prop_teleport';
class PropSystem {
    constructor(world) {
        this.name = PROP_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE, _back_layerSystem__WEBPACK_IMPORTED_MODULE_12__.LAYER_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TYPE, true, true);
        this.teleportStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TELEPORT_TYPE, true, true);
        this.defaultPropType = "ladder_down";
        this.world = world;
        if (world.isMaster) {
            const toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE);
            toolSys.addTool(new CreatePropToolDriver(this));
            toolSys.addTool(new PropTeleportLinkToolDriver(this));
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE);
        this.layerSys = world.systems.get(_back_layerSystem__WEBPACK_IMPORTED_MODULE_12__.LAYER_TYPE);
        this.propTypes = new Map();
        this.loadPropTypes();
        world.addStorage(this.storage);
        world.addStorage(this.teleportStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('prop_use', this.onPropUse, this);
    }
    registerPropType(propType) {
        this.propTypes.set(propType.id, propType);
    }
    loadPropTypes() {
        const atlas = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Loader.shared.resources.props.spritesheet;
        const props = [
            {
                id: 'ladder_up',
                name: 'Ladder Up',
                texture: atlas.textures['ladder_up.png'],
            },
            {
                id: 'ladder_down',
                name: 'Ladder Down',
                texture: atlas.textures['ladder_down.png'],
            },
        ];
        for (let prop of props)
            this.registerPropType(prop);
    }
    getPropType(p) {
        let pType = this.propTypes.get(p.propType);
        if (pType === undefined) {
            console.warn(`Cannot find prop type: ${p.propType}`);
            pType = this.propTypes.get(this.defaultPropType);
            if (pType === undefined) {
                throw "Default prop type is invalid!";
            }
        }
        return pType;
    }
    onComponentAdd(c) {
        if (c.type !== 'prop')
            return;
        let prop = c;
        let propType = this.getPropType(prop);
        this.world.addComponent(c.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: true,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.REMEMBER,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        });
    }
    onComponentEdited(c, changed) {
        if (c.type === PROP_TYPE) {
            let prop = c;
            let pType = this.getPropType(prop);
            let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE).display;
            display.texture = pType.texture;
            this.world.editComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, { display }, undefined, false);
        }
    }
    onComponentRemove(c) {
        if (c.type === 'prop') {
            let tp = this.teleportStorage.getComponent(c.entity);
            if (tp !== undefined)
                this.world.removeComponent(tp);
        }
    }
    onPropUse(entity) {
        let prop = this.storage.getComponent(entity);
        let teleport = this.teleportStorage.getComponent(entity);
        if (prop === undefined || teleport === undefined)
            return;
        let target = this.storage.getComponent(teleport.entity);
        if (target === undefined) {
            console.warn("Unlinked teleporter!");
            return;
        }
        let positions = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let posFrom = positions.getComponent(entity);
        let posTo = positions.getComponent(teleport.targetProp);
        let diffX = posTo.x - posFrom.x;
        let diffY = posTo.y - posFrom.y;
        let shape = this.world.getComponent(entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let pinStorage = this.world.storages.get('pin');
        let foreground = (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_12__.findForeground)(this.world);
        let query = this.interactionSys.query(shape, x => {
            return pinStorage.getComponent(x.entity) !== undefined &&
                this.layerSys.getEntityLayer(x.entity).entity == foreground;
        });
        let edit = [];
        for (let q of query) {
            let pos = positions.getComponent(q.entity);
            edit.push({
                entity: q.entity,
                type: pos.type,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                }
            });
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_11__.componentEditCommand)(undefined, edit);
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(this.world, cmd);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePropToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP;
        // Entity of the prop to be created
        this.createProp = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        this.createPropType = this.sys.defaultPropType;
        let propType = this.sys.propTypes.get(this.createPropType);
        if (propType === undefined)
            throw 'Illegal prop type: ' + this.createPropType;
        this.createProp = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_3__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
            rotation: 0,
            scale: 1,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.ALWAYS_VISIBLE,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createProp !== -1) {
            this.sys.world.despawnEntity(this.createProp);
            this.createProp = -1;
        }
    }
    confirmCreation() {
        if (this.createProp === undefined)
            return;
        const id = this.createProp;
        const world = this.sys.world;
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let tran = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE);
        world.despawnEntity(id);
        this.createProp = -1;
        let frozenEntity = {
            id: world.allocateId(),
            components: [
                {
                    type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
                    x: loc.x,
                    y: loc.y,
                },
                {
                    type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
                    scale: tran.scale,
                    rotation: tran.rotation,
                },
                {
                    type: PROP_TYPE,
                    propType: this.createPropType,
                },
            ]
        };
        let cmd = {
            kind: 'spawn',
            entities: [frozenEntity]
        };
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(world, cmd);
    }
    onStart() {
        this.initCreation();
    }
    onEnd() {
        this.cancelCreation();
    }
    onPointerClick(event) {
        this.confirmCreation();
    }
}
class PropTeleportLinkToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK;
        this.currentTarget = -1;
        this.sys = sys;
    }
    initialize() {
        this.sys.world.events.on('prop_teleport_link', this.onPropTeleportLink, this);
    }
    destroy() {
        this.sys.world.events.off('prop_teleport_link', this.onPropTeleportLink, this);
    }
    onPropTeleportLink(entity) {
        let tp = this.sys.teleportStorage.getComponent(entity);
        if (tp === undefined) {
            console.warn("Called teleport link on a non-teleport prop, ignoring");
            return;
        }
        this.currentTarget = entity;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK,
        });
    }
    linkTo(target) {
        if (this.sys.storage.getComponent(target) === undefined) {
            console.warn("Trying to link teleport to a non-prop, ignoring");
            return;
        }
        let tper = this.sys.teleportStorage.getComponent(this.currentTarget);
        if (tper === undefined) {
            console.warn("Teleporter has been destroyed");
            return;
        }
        // If the target is itself then delete the link
        let edit = [];
        edit.push({
            entity: tper.entity,
            type: tper.type,
            changes: {
                targetProp: target === this.currentTarget ? -1 : target
            }
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(this.sys.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_11__.componentEditCommand)(undefined, edit));
        this.currentTarget = -1;
    }
    linkCancel() {
        this.currentTarget = -1;
    }
    onStart() {
        document.body.style.cursor = 'crosshair';
    }
    onEnd() {
        this.linkCancel();
        document.body.style.cursor = 'auto';
    }
    onPointerClick(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_7__.getMapPointFromMouseInteraction)(this.sys.world, event);
        let interactionSystem = this.sys.world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let query = interactionSystem.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePoint)(point), x => {
            return this.sys.world.getComponent(x.entity, 'prop') !== undefined;
        });
        for (let found of query) {
            let oldTper = this.currentTarget;
            this.linkTo(found.entity);
            this.sys.selectionSys.setOnlyEntity(oldTper);
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
            return;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/wallSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/wallSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WALL_TYPE": () => (/* binding */ WALL_TYPE),
/* harmony export */   "WallSystem": () => (/* binding */ WallSystem),
/* harmony export */   "CreateWallToolDriver": () => (/* binding */ CreateWallToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");



















const WALL_TYPE = 'wall';
const SELECTION_COLOR = 0x7986CB;
class WallSystem {
    constructor(world) {
        this.name = WALL_TYPE;
        this.dependencies = [_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_15__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_3__.SingleEcsStorage(WALL_TYPE);
        this.isTranslating = false;
        this.world = world;
        // Only masters can create walls
        if (this.world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE);
            toolSys.addTool(new CreateWallToolDriver(this));
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_15__.SELECTION_TYPE);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
    }
    onComponentAdd(component) {
        if (component.type !== WALL_TYPE)
            return;
        let wall = component;
        let pos = this.world.getComponent(wall.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        if (pos === undefined) {
            console.warn("Found wall without position, please add first the position, then the wall");
            return;
        }
        wall._dontMerge = 0;
        this.world.addComponent(component.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE,
            entity: -1,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_11__.ElementType.LINE,
                ignore: false,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_11__.VisibilityType.REMEMBER,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL,
                vec: { x: wall.vec[0], y: wall.vec[1] },
            },
            interactive: true,
            isWall: true,
        });
        this.world.addComponent(component.entity, {
            type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE,
            entity: -1
        });
    }
    fixWallPreTranslation(walls) {
        for (let wall of walls) {
            let visBlock = this.world.getComponent(wall.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
            if (visBlock !== undefined)
                this.world.removeComponent(visBlock);
        }
        // what changes here? a little bittle thing:
        // we need to unfix the wall (remove the intersection breaks).
        let wall_index = new Map();
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        let insertInIndex = (index, wall) => {
            let list = wall_index.get(index);
            if (list === undefined) {
                list = [];
                wall_index.set(index, list);
            }
            list.push(wall);
        };
        for (let wall of walls) {
            if (wall._dontMerge !== 0)
                continue;
            let pos = posStorage.getComponent(wall.entity);
            let p1 = pos.x + "@" + pos.y;
            let p2 = (pos.x + wall.vec[0]) + "@" + (pos.y + wall.vec[1]);
            let tryMerge = (index) => {
                let mergeWithIndex = undefined;
                let walls = wall_index.get(index);
                if (walls === undefined)
                    return false;
                let wlen = walls.length;
                for (let i = 0; i < wlen; i++) {
                    let owall = walls[i];
                    if ((0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.lineSameSlope)(wall.vec[0], wall.vec[1], owall.vec[0], owall.vec[1])) {
                        mergeWithIndex = i;
                        break;
                    }
                }
                if (mergeWithIndex === undefined)
                    return false;
                let mwall = walls[mergeWithIndex];
                let mpos = posStorage.getComponent(mwall.entity);
                let minChanged = false;
                let x = pos.x;
                let y = pos.y;
                let dx = wall.vec[0];
                let dy = wall.vec[1];
                if (p2 === index) {
                    x += dx;
                    y += dy;
                    dx = -dx;
                    dy = -dy;
                }
                if (mpos.x === x && mpos.y === y) {
                    mpos.x += dx;
                    mpos.y += dy;
                    minChanged = true;
                }
                else {
                    mwall.vec[0] += wall.vec[0];
                    mwall.vec[1] += wall.vec[1];
                }
                walls.splice(mergeWithIndex, 1);
                let p;
                if (minChanged) {
                    p = mpos.x + "@" + mpos.y;
                }
                else {
                    p = (mpos.x + mwall.vec[0]) + "@" + (mpos.y + mwall.vec[1]);
                }
                insertInIndex(p, mwall);
                this.world.despawnEntity(wall.entity);
                this.redrawWall(mwall);
                return true;
            };
            if (tryMerge(p1) || tryMerge(p2))
                continue;
            insertInIndex(p1, wall);
            insertInIndex(p2, wall);
        }
    }
    fixWallPostTranslation(walls) {
        // Recompute intersections with other walls.
        // Why not all everything directly? we want to compute also the self-intersections
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        for (let wall of walls) {
            let pos = posStorage.getComponent(wall.entity);
            let points = [pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]];
            this.fixIntersections(points, 0);
            this.world.editComponent(pos.entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, {
                shape: (0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(points[0], points[1], points[2], points[3])),
            });
            if (points.length > 4) {
                pos.x = points[0];
                pos.y = points[1];
                wall.vec[0] = points[2] - pos.x;
                wall.vec[1] = points[3] - pos.y;
            }
            this.redrawWall(wall);
            let plen = points.length;
            let cIds = [];
            let entities = [];
            for (let i = 4; i < plen; i += 2) {
                let entity = this.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                cIds.push(entity.id);
                entities.push(entity);
            }
            this.world.respawnEntities(entities);
            if (cIds.length > 0) {
                this.selectionSys.addEntities(cIds);
                // TODO: optimization, update the selection only once!
            }
        }
        for (let wall of walls) {
            this.world.addComponent(wall.entity, {
                type: "visibility_blocker",
                entity: -1
            });
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type !== WALL_TYPE && comp.type !== _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE)
            return;
        let wall, position;
        if (comp.type === WALL_TYPE) {
            wall = comp;
            position = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        }
        else {
            wall = this.storage.getComponent(comp.entity);
            position = comp;
        }
        if (wall === undefined || position === undefined)
            return;
        if (!this.isTranslating) {
            this.fixWallPreTranslation([wall]);
            this.fixWallPostTranslation([wall]);
        }
        if (comp.type === WALL_TYPE && 'vec' in changed) {
            this.redrawWall(wall);
        }
    }
    redrawWall(wall) {
        let display = this.world.getComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE).display;
        display.vec = { x: wall.vec[0], y: wall.vec[1] };
        this.world.editComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    findLocationOnWall(point, radius) {
        let points = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(point.x - radius, point.y - radius, point.x + radius, point.y + radius)), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        let bestPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        let bestDist = Number.POSITIVE_INFINITY;
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        for (let node of points) {
            let line = node.shape.data;
            if (!line.projectPoint(point, tmpPoint)) {
                continue;
            }
            let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_5__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
            if (dist < bestDist && dist < radius) {
                bestPoint.copyFrom(tmpPoint);
                bestDist = dist;
            }
        }
        if (bestDist !== Number.POSITIVE_INFINITY) {
            return bestPoint;
        }
        else {
            return undefined;
        }
    }
    onComponentRemove(component) {
        if (component.type !== WALL_TYPE)
            return;
        let vblocker = this.world.getComponent(component.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
        if (vblocker !== undefined) {
            this.world.removeComponent(vblocker);
        }
    }
    onToolMoveBegin() {
        this.isTranslating = true;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPreTranslation(walls);
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPostTranslation(walls);
    }
    queryIntersections(posX, posY, vecX, vecY) {
        let strip = [posX, posY, posX + vecX, posY + vecY];
        let ids = new Array();
        this.fixIntersections(strip, 0, undefined, ids);
        return ids;
    }
    fixIntersections(strip, start, end, wallIds) {
        let aabb = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);
        end = end === undefined ? strip.length : end;
        for (let i = start; i < end; i += 2) {
            aabb.minX = Math.min(aabb.minX, strip[i]);
            aabb.minY = Math.min(aabb.minY, strip[i + 1]);
            aabb.maxX = Math.max(aabb.maxX, strip[i]);
            aabb.maxY = Math.max(aabb.maxY, strip[i + 1]);
        }
        let tmpLine = new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(0, 0, 0, 0);
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        let query = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(aabb), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        for (let wall of query) {
            //console.log("Checking wall: ", wall.tag);
            for (let i = start + 2; i < end; i += 2) {
                tmpLine.fromX = strip[i - 2];
                tmpLine.fromY = strip[i - 1];
                tmpLine.toX = strip[i];
                tmpLine.toY = strip[i + 1];
                let line = wall.shape.data;
                let res = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.intersectSegmentVsSegment)(tmpLine, line, tmpPoint);
                // Only continue if the intersection is inside of both lines (not on the edge)
                if (res !== _geometry_collision__WEBPACK_IMPORTED_MODULE_8__.SegmentVsSegmentRes.INTERN)
                    continue;
                // Insert the intersection point in the strip
                //console.log("FIXING AT: " + tmpPoint.x + ", " + tmpPoint.y);
                strip.splice(i, 0, tmpPoint.x, tmpPoint.y);
                i += 2; // Skip this point
                end += 2;
                wallIds === null || wallIds === void 0 ? void 0 : wallIds.push(wall.entity);
            }
        }
        return end;
    }
    createWall(minX, minY, maxX, maxY) {
        let components = [
            {
                entity: -1,
                x: minX,
                y: minY,
                type: _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE,
            },
            {
                type: WALL_TYPE,
                vec: [maxX - minX, maxY - minY],
            },
        ];
        return {
            id: this.world.allocateId(),
            components,
        };
    }
    enable() {
    }
    destroy() {
    }
}
class CreateWallToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_16__.Tool.CREATE_WALL;
        // Sprite of the pin to be created
        this.createdIds = [];
        this.isActive = false;
        this.mouseLastPos = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.sys = sys;
        this.createLastLineDisplay = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Graphics();
        this.pixiBoardSys = sys.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PIXI_BOARD_TYPE);
        sys.world.events.on('component_add', (c) => {
            if (this.isActive && c.type === 'wall') {
                this.createdIds.push(c.entity);
            }
        });
        sys.world.events.on('component_remove', (c) => {
            if (this.isActive && c.type === 'wall' && (0,_util_array__WEBPACK_IMPORTED_MODULE_18__.arrayRemoveElem)(this.createdIds, c.entity)) {
                this.recomputeCreatedLastPos();
            }
        });
    }
    initCreation() {
        this.endCreation();
    }
    endCreation() {
        this.createLastLineDisplay.clear();
        this.createdLastPos = undefined;
        if (this.createdIds.length === 0)
            return;
        this.sys.selectionSys.setOnlyEntities(this.createdIds);
        this.createdIds.length = 0;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_16__.Tool.INSPECT,
        });
    }
    redrawCreationLastLine(pos) {
        this.mouseLastPos = pos;
        let g = this.createLastLineDisplay;
        g.clear();
        if (this.createdLastPos !== undefined) {
            g.moveTo(this.createdLastPos[0], this.createdLastPos[1]);
            g.lineStyle(5, SELECTION_COLOR);
            g.lineTo(pos.x, pos.y);
        }
        g.lineStyle(0);
        if (this.createdIds.length === 0 && this.createdLastPos !== undefined) {
            g.beginFill(0xe51010);
            g.drawCircle(this.createdLastPos[0], this.createdLastPos[1], 10);
        }
        g.beginFill(0x405FFE);
        g.drawCircle(pos.x, pos.y, 10);
    }
    addVertex(point) {
        let lp = this.createdLastPos;
        if (lp === undefined) {
            this.createdLastPos = [point.x, point.y];
        }
        else if (point.x == lp[0] && point.y == lp[1]) {
            this.endCreation();
        }
        else {
            let points = [lp[0], lp[1], point.x, point.y];
            this.sys.fixIntersections(points, 0);
            let plen = points.length;
            for (let i = 2; i < plen; i += 2) {
                let entity = this.sys.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                let cmd = {
                    kind: 'spawn',
                    entities: [entity]
                };
                (0,_command_command__WEBPACK_IMPORTED_MODULE_17__.executeAndLogCommand)(this.sys.world, cmd);
            }
            this.createdLastPos = [point.x, point.y];
        }
    }
    undoVertex(point) {
        if (this.createdLastPos === undefined)
            return;
        this.mouseLastPos = point;
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let cmd = {
                kind: 'despawn',
                entities: [this.createdIds.pop()],
            };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_17__.executeAndLogCommand)(this.sys.world, cmd);
        }
        this.recomputeCreatedLastPos();
    }
    recomputeCreatedLastPos() {
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let id = this.createdIds[this.createdIds.length - 1];
            let wallPos = this.sys.world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            let wall = this.sys.storage.getComponent(id);
            this.createdLastPos = [
                wallPos.x + wall.vec[0],
                wallPos.y + wall.vec[1],
            ];
        }
        this.redrawCreationLastLine(this.mouseLastPos);
    }
    onStart() {
        this.isActive = true;
        this.initCreation();
    }
    onPointerMove(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.redrawCreationLastLine(point);
    }
    onPointerClick(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.addVertex(point);
    }
    onPointerRightDown(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.undoVertex(point);
    }
    onEnd() {
        this.endCreation();
        this.isActive = false;
    }
    initialize() {
        this.createLastLineDisplay.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL + 1;
        this.createLastLineDisplay.interactive = false;
        this.createLastLineDisplay.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.createLastLineDisplay);
        this.pixiBoardSys.board.sortChildren();
    }
    destroy() {
        this.createLastLineDisplay.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/inspect.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/inspect.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InspectToolDriver": () => (/* binding */ InspectToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _rectangularSelection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rectangularSelection */ "./src/app/ecs/tools/rectangularSelection.ts");
/* harmony import */ var _systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");







class InspectToolDriver {
    constructor(world) {
        this.name = _toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.justSelected = [];
        this.lastDownEntities = [];
        this.lastDownSelected = [];
        this.firstEntity = -1;
        this.isDown = false;
        this.canMoveSelected = false;
        this.isMoving = false;
        this.movingStart = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.lastMove = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.lastClick = 0;
        this.isPanning = false;
        this.world = world;
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE);
        this.layerSys = world.systems.get(_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_5__.LAYER_TYPE);
        this.rectSelection = new _rectangularSelection__WEBPACK_IMPORTED_MODULE_4__.RectangularSelection(world);
        this.rectSelection.predicate = id => !this.layerSys.getEntityLayer(id).locked;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_TYPE);
    }
    onPointerClick(event) {
        let now = Date.now();
        if (now - this.lastClick < 800) {
            // double click!
            this.lastClick = 0;
            this.world.events.emit("interact", [...this.lastDownSelected, ...this.lastDownEntities]);
            return;
        }
        this.lastClick = now;
        let ctrlPressed = !!event.data.originalEvent.ctrlKey;
        let entities = this.lastDownEntities.length + this.lastDownSelected.length;
        if (entities === 0 && !ctrlPressed) {
            this.selectionSys.clear();
            return;
        }
        if (ctrlPressed) {
            this.selectionSys.removeEntities(this.lastDownEntities);
            let toRemove = [];
            for (let entity of this.lastDownSelected) {
                if (this.justSelected.indexOf(entity) !== -1)
                    return;
                toRemove.push(entity);
            }
            this.selectionSys.removeEntities(toRemove);
        }
        else if (this.firstEntity !== -1) {
            if (this.selectionSys.selectedEntities.size === 1 && this.justSelected.length === 0) {
                // Clicked a previously clicked entity, remove it.
                this.selectionSys.clear();
            }
        }
    }
    onPointerDown(event) {
        this.isDown = true;
        this.justSelected.length = 0;
        let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getBoardPosFromOrigin)(this.world, event);
        let ctrlPressed = !!event.data.originalEvent.ctrlKey;
        let entities = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.findEntitiesAt)(this.world, point, true);
        this.lastDownEntities = [];
        this.lastDownSelected = [];
        this.firstEntity = entities.length === 0 ? -1 : entities[0];
        for (let entity of entities) {
            if (this.layerSys.getEntityLayer(entity).locked) {
                this.lastDownEntities.push(entity);
            }
            else {
                this.lastDownSelected.push(entity);
            }
        }
        this.isPanning = this.keyboard.pressedKeys.has(" "); // Check if the space key is pressed;
        if (this.lastDownSelected.length === 0) {
            if (!this.isPanning && this.world.isMaster) {
                this.rectSelection.begin(point);
                event.consumed = true;
            }
            else {
                return;
            }
        }
        // Clients can't move anything (TODO: this should be false)
        event.consumed || (event.consumed = this.world.isMaster);
        // event.consumed = true;
        if (ctrlPressed) {
            let selected = this.selectionSys.selectedEntities;
            for (let entity of this.lastDownSelected) {
                if (!selected.has(entity)) {
                    this.justSelected.push(entity);
                }
            }
            this.selectionSys.addEntities(this.justSelected);
        }
        else if (this.lastDownSelected.length > 0) {
            const entity = this.lastDownSelected[0];
            if (!this.selectionSys.selectedEntities.has(entity)) {
                this.justSelected.push(entity);
            }
            this.selectionSys.setOnlyEntity(entity);
        }
        // TODO: better move system
        this.canMoveSelected = this.world.isMaster;
        if (!this.canMoveSelected)
            return;
        let p = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, event);
        this.movingStart.copyFrom(p);
        this.lastMove.set(0, 0);
    }
    onPointerUp(event) {
        this.isDown = false;
        if (this.rectSelection.isActive) {
            this.rectSelection.done();
        }
        if (this.isMoving) {
            this.isMoving = false;
            this.world.events.emit('tool_move_end');
        }
    }
    onPointerMove(event) {
        if (!this.isDown || !this.canMoveSelected || event.canBecomeClick)
            return;
        let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, event);
        if (this.lastDownSelected.length === 0) {
            if (!this.rectSelection.isActive) {
                this.rectSelection.begin(this.movingStart);
            }
            this.rectSelection.moveEnd(point);
        }
        else {
            if (!this.isMoving) {
                this.isMoving = true;
                this.world.events.emit('tool_move_begin');
            }
            let diffX = point.x - this.movingStart.x;
            let diffY = point.y - this.movingStart.y;
            let moveX = diffX - this.lastMove.x;
            let moveY = diffY - this.lastMove.y;
            this.lastMove.set(diffX, diffY);
            this.selectionSys.moveAll(moveX, moveY, this.selectionSys.selectedEntities);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/measure.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/measure.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MeasureToolDriver": () => (/* binding */ MeasureToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _toolType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");





class MeasureToolDriver {
    constructor(world) {
        this.name = _toolType__WEBPACK_IMPORTED_MODULE_2__.Tool.MEASURE;
        this.startMeasure = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.lastMeasure = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.isDown = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_TYPE);
    }
    onPointerClick(event) {
    }
    pushRes() {
        this.world.addResource({
            type: _resource__WEBPACK_IMPORTED_MODULE_4__.MEASURE_TYPE,
            fromX: this.startMeasure.x,
            fromY: this.startMeasure.y,
            toX: this.lastMeasure.x,
            toY: this.lastMeasure.y,
            _save: false,
            _sync: false,
        }, 'update');
    }
    removeRes() {
        this.world.removeResource(_resource__WEBPACK_IMPORTED_MODULE_4__.MEASURE_TYPE, false);
    }
    onPointerDown(event) {
        event.consumed = true;
        this.isDown = true;
        this.startMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getMapPointFromMouseInteraction)(this.world, event);
        this.lastMeasure = this.startMeasure;
        this.pushRes();
    }
    onPointerUp(event) {
        this.isDown = false;
        this.lastMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getMapPointFromMouseInteraction)(this.world, event);
        this.pushRes();
    }
    onPointerMove(event) {
        if (!this.isDown)
            return;
        this.lastMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getMapPointFromMouseInteraction)(this.world, event);
        this.pushRes();
    }
    onEnd() {
        this.removeRes();
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/rectangularSelection.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/tools/rectangularSelection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RectangularSelection": () => (/* binding */ RectangularSelection)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");







class RectangularSelection {
    constructor(world) {
        this.isActive = false;
        this.startPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.endPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.predicate = _ => true;
        this.entitiesInside = new Set();
        this.entitiesSelected = new Set();
        this.isMultiple = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_TYPE);
        this.display = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__.SELECTION_TYPE);
    }
    begin(pos) {
        this.entitiesSelected.clear();
        this.isActive = true;
        this.world.addResource({
            type: _resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE,
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x, pos.y, pos.x, pos.y),
            _save: false,
            _sync: false,
        }, 'update');
        this.startPoint = pos;
        this.endPoint = pos;
        this.isMultiple = this.keyboard.ctrl;
        if (!this.isMultiple) {
            this.selectionSys.clear();
        }
    }
    moveEnd(pos) {
        let added = [];
        let removed = [];
        (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.aabbSameOriginDifference)(this.startPoint, this.endPoint, pos, added, removed);
        for (let x of added) {
            this.addRect(x);
        }
        for (let x of removed) {
            this.removeRect(x);
        }
        this.endPoint = pos;
        this.world.editResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE, {
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(this.startPoint.x, this.startPoint.y, pos.x, pos.y),
        });
    }
    done() {
        this.isActive = false;
        this.world.removeResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE);
        this.entitiesInside.clear();
        this.entitiesSelected.clear();
    }
    onEntityEnter(id) {
        if (this.selectionSys.selectedEntities.has(id)) {
            return;
        }
        this.entitiesSelected.add(id);
        this.selectionSys.addEntities([id]);
    }
    onEntityLeave(id) {
        if (this.entitiesSelected.delete(id)) {
            this.selectionSys.removeEntities([id]);
        }
    }
    addRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            if (this.entitiesInside.has(c.entity))
                return false;
            return this.predicate(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.add(c.entity);
            this.onEntityEnter(c.entity);
        }
    }
    removeRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            return this.entitiesInside.has(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.delete(c.entity);
            this.onEntityLeave(c.entity);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/toolType.ts":
/*!***************************************!*\
  !*** ./src/app/ecs/tools/toolType.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tool": () => (/* binding */ Tool)
/* harmony export */ });
var Tool;
(function (Tool) {
    Tool["INSPECT"] = "inspect";
    Tool["CREATE_WALL"] = "create_wall";
    Tool["CREATE_PIN"] = "create_pin";
    Tool["CREATE_PROP"] = "create_prop";
    Tool["GRID"] = "grid";
    Tool["LIGHT"] = "light";
    Tool["MEASURE"] = "measure";
    Tool["PROP_TELEPORT_LINK"] = "prop_teleport_link";
    Tool["MOUSE_TRAIL"] = "mouse_trail";
})(Tool || (Tool = {}));


/***/ }),

/***/ "./src/app/ecs/tools/utils.ts":
/*!************************************!*\
  !*** ./src/app/ecs/tools/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findEntitiesAt": () => (/* binding */ findEntitiesAt),
/* harmony export */   "getBoardPosFromOrigin": () => (/* binding */ getBoardPosFromOrigin),
/* harmony export */   "getMapPointFromMouseInteraction": () => (/* binding */ getMapPointFromMouseInteraction),
/* harmony export */   "createEmptyDriver": () => (/* binding */ createEmptyDriver)
/* harmony export */ });
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _systems_wallSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");




function findEntitiesAt(world, point, multi) {
    let event = _interaction__WEBPACK_IMPORTED_MODULE_0__.QueryHitEvent.queryPoint(point, multi);
    world.events.emit('query_hit', event);
    return event.getSorted();
}
function getBoardPosFromOrigin(world, event, orig) {
    let board = world.systems.get(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PIXI_BOARD_TYPE);
    return event.data.getLocalPosition(board.board, orig);
}
function getMapPointFromMouseInteraction(world, event, orig) {
    let point = getBoardPosFromOrigin(world, event, orig);
    const interSys = world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
    let nearest = interSys.snapDb.findNearest([point.x, point.y]);
    if (nearest !== undefined && nearest[1] < 100) {
        point.set(nearest[0][0], nearest[0][1]);
    }
    else {
        const wallSys = world.systems.get(_systems_wallSystem__WEBPACK_IMPORTED_MODULE_3__.WALL_TYPE);
        let onWallLoc = wallSys === null || wallSys === void 0 ? void 0 : wallSys.findLocationOnWall(point, 50);
        if (onWallLoc !== undefined) {
            point.copyFrom(onWallLoc);
        }
    }
    return point;
}
function createEmptyDriver(name) {
    return new EmptyToolDriver(name);
}
class EmptyToolDriver {
    constructor(name) {
        this.name = name;
    }
}


/***/ }),

/***/ "./src/app/ecs/world.ts":
/*!******************************!*\
  !*** ./src/app/ecs/world.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "World": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _systemGraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./systemGraph */ "./src/app/ecs/systemGraph.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");
// Welcome to this talk, I'll present to you: my stupid version of ECS.
// What am I trying to solve?
// Everything in the map will need to hold information, this might be a player holding inventory or maybe a monster
// holding to lifepoints and such.
// What's more? every entity might have multiple names and only some of them might be public
// so we also have something similar to a "multiple component".



class World {
    constructor(isMaster) {
        this.systems = new _systemGraph__WEBPACK_IMPORTED_MODULE_0__.SystemGraph();
        this.storages = new Map();
        this.storageList = new Array();
        this.entities = new Set();
        this.resources = new Map();
        this.systemsFinalized = false;
        this.isDeserializing = false;
        //      Event list:
        // entity_spawn(id)
        // entity_spawned(id) - After an entity is spawned
        // entity_despawn(id)
        // entity_despawned(id) - After an entity is despawned
        // component_add(component)
        // component_edit(changes, component) - Before the component is edited
        // component_edited(component, changes) - After the component is edited
        // component_remove(component)
        // component_removed(component)
        // resource_add(resource)
        // resource_added(resource)
        // resource_edit(oldRes, newRes)
        // resource_remove(resource)
        // resource_removed(resource)
        // clear()
        // cleared()
        // serialize()
        // serialized(res)
        // serialize_entity(entity)
        // deserialize(data)
        // deserialized()
        //      External events:
        // query_hit(event: QueryHitEvent)
        // selection_begin(entities)
        // selection_end(entities)
        // selection_update()
        // tool_move_begin()
        // tool_move_end()
        //      TODO
        // batch_update_begin()
        // batch_update_end()
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__.default();
        this.isMaster = isMaster;
    }
    getStorage(name) {
        let s = this.storages.get(name);
        if (s === undefined) {
            throw "Cannot find storage " + name;
        }
        return s;
    }
    allocateId() {
        let id = -1;
        do {
            id = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_2__.generateRandomId)();
        } while (this.entities.has(id));
        return id;
    }
    spawnEntity(...components) {
        let id = this.allocateId();
        this.spawnEntityManual(id, components);
        return id;
    }
    spawnEntityManual(id, components) {
        this.entities.add(id);
        this.events.emit('entity_spawn', id);
        for (let comp of components) {
            this.addComponent(id, comp);
        }
        this.events.emit('entity_spawned', id);
    }
    // TODO: deal with entity links
    respawnEntities(data) {
        for (let entity of data) {
            if (entity.id === -1) {
                entity.id = this.allocateId();
            }
            this.entities.add(entity.id);
            this.events.emit('entity_spawn', entity.id);
        }
        for (let entity of data) {
            for (let c of entity.components) {
                this.addComponent(entity.id, c);
            }
        }
        for (let entity of data) {
            this.events.emit('entity_spawned', entity.id);
        }
    }
    despawnEntitiesSave(entities) {
        let res = [];
        for (let entity of entities) {
            let comp = this.saveAllComponents(entity);
            res.push({
                id: entity,
                components: comp,
            });
        }
        for (let entity of entities) {
            this.despawnEntity(entity);
        }
        return res;
    }
    despawnEntity(entity) {
        this.events.emit('entity_despawn', entity);
        for (let i = this.storageList.length - 1; i >= 0; --i) {
            let storage = this.storageList[i];
            let comps = [...storage.getComponents(entity)];
            if (comps.length === 0)
                continue;
            for (let component of comps) {
                this.events.emit('component_remove', component);
            }
            storage.unregisterAllOf(entity);
            for (let component of comps) {
                this.events.emit('component_removed', component);
            }
        }
        this.entities.delete(entity);
        this.events.emit('entity_despawned', entity);
    }
    addSystem(system) {
        if (this.systemsFinalized)
            throw 'Too late to add a system';
        try {
            this.systems.register(system);
        }
        catch (e) {
            throw new Error("Error while mounting " + system.name + ": " + e);
        }
    }
    hasAllComponents(entity, ...types) {
        for (let t of types) {
            if (this.getComponent(entity, t) === undefined)
                return false;
        }
        return true;
    }
    addComponent(entity, cmp) {
        cmp.entity = entity;
        let storage = this.storages.get(cmp.type);
        if (storage === undefined) {
            throw new Error('Cannot register component of type ' + cmp.type + ', no storage found');
        }
        storage.register(cmp);
        this.events.emit('component_add', cmp);
    }
    removeComponent(cmp) {
        this.events.emit('component_remove', cmp);
        let storage = this.getStorage(cmp.type);
        storage.unregister(cmp);
        this.events.emit('component_removed', cmp);
    }
    removeComponentType(entity, type) {
        for (let c of this.getStorage(type).getComponents(entity)) {
            this.removeComponent(c);
        }
    }
    addStorage(storage) {
        this.storages.set(storage.type, storage);
        this.storageList.push(storage);
    }
    getComponent(entity, type, multiId) {
        let storage = this.getStorage(type);
        return storage.getFirstComponent(entity, multiId);
    }
    saveAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            if (!storage.save)
                continue;
            res.push(...storage.getComponents(entity));
        }
        return res.map(_ecsUtil__WEBPACK_IMPORTED_MODULE_2__.filterComponent);
    }
    getAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            res.push(...storage.getComponents(entity));
        }
        return res;
    }
    editComponent(entity, type, changes, multiId, clearCh = true) {
        let c = this.getComponent(entity, type, multiId);
        if (c === undefined) {
            throw 'Cannot find component ' + type + ' of entity: ' + entity;
        }
        if (clearCh && !clearChanges(c, changes))
            return; // No real changes
        this.events.emit('component_edit', c, changes);
        let changed = assignSwap(c, changes);
        this.events.emit('component_edited', c, changed);
    }
    editComponentMultiple(entity, changes) {
        if (changes.length === 0)
            return;
        if (changes.length === 1) {
            this.editComponent(entity, changes[0].type, changes[0].changes, changes[0].multiId, changes[0].clearChanges);
            return;
        }
        let chs = changes;
        for (let change of chs) {
            let c = this.getComponent(entity, change.type, change.multiId);
            if (c === undefined) {
                throw 'Cannot find component ' + change.type + ' of entity: ' + entity;
            }
            change._comp = c;
            if (change.clearChanges && !clearChanges(c, changes)) {
                change._skip = true;
            }
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edit', change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            assignSwap(change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edited', change._comp, change.changes);
        }
    }
    addResource(resource, ifPresent = 'fail') {
        if (this.resources.has(resource.type)) {
            switch (ifPresent) {
                case 'ignore': break;
                case 'update':
                    this.editResource(resource.type, resource);
                    break;
                default: throw 'Resource type already present';
            }
            return;
        }
        this.events.emit('resource_add', resource);
        if (this.resources.has(resource.type))
            throw '"resource_add" event has added a resource of the same type!';
        this.resources.set(resource.type, resource);
        this.events.emit('resource_added', resource);
    }
    getResource(type) {
        return this.resources.get(type);
    }
    editResource(type, changes) {
        let res = this.getResource(type);
        if (res === undefined) {
            throw 'Cannot find resource ' + type;
        }
        if (!clearChanges(res, changes))
            return; // No real changes
        this.events.emit('resource_edit', res, changes);
        assignSwap(res, changes); // changes now has old values
        this.events.emit('resource_edited', res, changes);
    }
    removeResource(type, failIfNotPresent = true) {
        let resource = this.resources.get(type);
        if (resource === undefined) {
            if (failIfNotPresent)
                throw 'Resource type not found';
            return;
        }
        this.events.emit('resource_remove', resource);
        this.resources.delete(type);
        this.events.emit('resource_removed', resource);
    }
    enable() {
        for (let system of this.systems) {
            system.enable();
        }
    }
    destroy() {
        for (let i = this.systems.size() - 1; i >= 0; i--) {
            let system = this.systems.getAt(i);
            system.destroy();
        }
    }
    serialize() {
        this.events.emit('serialize', 'save');
        let storages = {};
        for (let storage of this.storages.values()) {
            if (!storage.save)
                continue;
            storages[storage.type] = storage.serialize();
        }
        let resources = {};
        for (let resource of this.resources.values()) {
            if (resource._save === false)
                continue; // undefined is treated as true so that loaded resources get saved again
            let res = {};
            for (let name in resource) {
                if (name[0] === '_' || name === 'type')
                    continue;
                res[name] = resource[name];
            }
            resources[resource.type] = res;
        }
        let res = {
            entities: [...this.entities],
            storages,
            resources,
        };
        this.events.emit('serialized', res);
        return res;
    }
    serializeClient() {
        this.events.emit('serialize', 'client');
        let storages = {};
        let hostHidden = this.getStorage('host_hidden');
        for (let storage of this.storages.values()) {
            if (!storage.sync)
                continue;
            storages[storage.type] = storage.serializeClient((e) => hostHidden.getFirstComponent(e) !== undefined);
        }
        let resources = {};
        for (let resource of this.resources.values()) {
            if (resource._sync === false)
                continue;
            let res = {};
            for (let name in resource) {
                if (name[0] === '_' || name === 'type')
                    continue;
                res[name] = resource[name];
            }
            resources[resource.type] = res;
        }
        let res = {
            entities: [...this.entities].filter((e) => hostHidden.getFirstComponent(e) === undefined),
            storages,
            resources,
        };
        this.events.emit('serialized', res);
        return res;
    }
    deserialize(data) {
        this.clear();
        this.isDeserializing = true;
        this.events.emit('deserialize', data);
        for (let type in data.resources) {
            let res = data.resources[type];
            res.type = type;
            this.addResource(res, 'update');
        }
        for (let entity of data.entities) {
            this.entities.add(entity);
            this.events.emit('entity_spawn', entity);
        }
        for (let type in data.storages) {
            let storage = this.storages.get(type);
            if (storage === undefined) {
                console.error("Cannot deserialize storage type: " + type + ", ignoring");
                continue;
            }
            storage.deserialize(this, data.storages[type]);
        }
        for (let entity of data.entities) {
            this.events.emit('entity_spawned', entity);
        }
        this.isDeserializing = false;
        this.events.emit('deserialized');
    }
    populate() {
        this.events.emit('populate');
    }
    clear() {
        this.events.emit('clear');
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        // Round 2 (if some entity gets spawned on despawn)
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        if (this.entities.size !== 0)
            throw 'Entities spawned while clearing!';
        // TODO: also clear resources
        this.events.emit('cleared');
        this.populate();
    }
    /**
     * TODO: use Vue 3
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}
function assignSwap(obj, changes) {
    for (let name in changes) {
        let tmp = changes[name];
        changes[name] = obj[name];
        obj[name] = tmp;
    }
    return changes;
}
function clearChanges(from, changes) {
    let changec = 0;
    for (let change in changes) {
        if (from[change] === changes[change]) {
            delete changes[change];
        }
        else {
            changec++;
        }
    }
    return changec !== 0;
}


/***/ }),

/***/ "./src/app/game/grid.ts":
/*!******************************!*\
  !*** ./src/app/game/grid.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridType": () => (/* binding */ GridType),
/* harmony export */   "STANDARD_GRID_OPTIONS": () => (/* binding */ STANDARD_GRID_OPTIONS)
/* harmony export */ });
var GridType;
(function (GridType) {
    GridType[GridType["SQUARE"] = 0] = "SQUARE";
    GridType[GridType["HEXAGON"] = 1] = "HEXAGON";
})(GridType || (GridType = {}));
const STANDARD_GRID_OPTIONS = {
    visible: true,
    gridType: GridType.SQUARE,
    color: 0,
    thick: 10,
    opacity: 0.75,
    size: 128,
    offX: 0,
    offY: 0,
};


/***/ }),

/***/ "./src/app/game/pointDB.ts":
/*!*********************************!*\
  !*** ./src/app/game/pointDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointDB": () => (/* binding */ PointDB)
/* harmony export */ });
/* harmony import */ var _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/k2dTree */ "./src/app/util/k2dTree.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");


class PointDB {
    constructor(grid) {
        // In js we cannot create a Map with a custom object as key -_-
        this.counter = new Map();
        this.tree = new _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__.K2dTree();
        this.count = 0;
        this.grid = grid;
    }
    insert(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = this.counter.get(ptrStr) || 0;
        this.counter.set(ptrStr, p + 1);
        if (p == 0) {
            this.tree.insert(point);
        }
        this.count++;
    }
    remove(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = (this.counter.get(ptrStr) || 0) - 1;
        if (p == 0) {
            this.counter.delete(ptrStr);
            if (!this.tree.remove(point)) {
                console.error('Failed to remove node: ' + point);
            }
        }
        else if (p > 0) {
            this.counter.set(ptrStr, p);
        }
        else {
            return false;
        }
        this.count--;
        return true;
    }
    findNearest(point) {
        let treeNearest = this.tree.nearestPoint(point);
        let gridNearest = undefined;
        if (this.grid !== undefined) {
            gridNearest = this.grid.closestPoint(point);
        }
        if (gridNearest !== undefined) {
            let gridDist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(point[0], point[1], gridNearest[0], gridNearest[1]);
            if (treeNearest === undefined || gridDist < treeNearest[1]) {
                return [gridNearest, gridDist];
            }
        }
        return treeNearest;
    }
}


/***/ }),

/***/ "./src/app/game/pointLightRenderer.ts":
/*!********************************************!*\
  !*** ./src/app/game/pointLightRenderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setup": () => (/* binding */ setup),
/* harmony export */   "createMesh": () => (/* binding */ createMesh),
/* harmony export */   "updateMeshPolygons": () => (/* binding */ updateMeshPolygons),
/* harmony export */   "updateMeshUniforms": () => (/* binding */ updateMeshUniforms)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2rgb;
// Other methods: https://github.com/mattdesl/lwjgl-basics/wiki/2D-Pixel-Perfect-Shadows
const LIGHT_VERTEX_SHADER = `
    precision mediump float;
    attribute vec2 aVertexPosition;
    
    varying vec2 vecPos;

    uniform mat3 translationMatrix;
    uniform mat3 projectionMatrix;

    void main() {
        vecPos = aVertexPosition;
        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    }
`;
const LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - clamp(distSq / radSquared, 0., 1.);
        gl_FragColor = vec4(color, 1) * (intensity * intensity);// Pre multiplied alpha
    }
`;
const CONST_LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = float(distSq <= radSquared);
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
const PLAYER_VIS_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - smoothstep(0.9, 1.0, clamp(distSq / radSquared, 0., 1.));
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
let lightProgram = undefined;
let constLightProgram = undefined;
let playerVisProgram = undefined;
function setup() {
    if (lightProgram === undefined) {
        lightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, LIGHT_FRAGMENT_SHADER);
        constLightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, CONST_LIGHT_FRAGMENT_SHADER);
        playerVisProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, PLAYER_VIS_FRAGMENT_SHADER);
    }
}
function createMesh(lightType = 'normal') {
    let geometry = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Geometry();
    let buff = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Buffer(new Float32Array(1));
    geometry.addAttribute('aVertexPosition', buff, 2, false, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.TYPES.FLOAT);
    let program;
    switch (lightType) {
        case 'normal':
            program = lightProgram;
            break;
        case 'const':
            program = constLightProgram;
            break;
        case 'player':
            program = playerVisProgram;
            break;
    }
    // We'll change them all, in due time
    let shaders = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Shader(program, {
        'center': new Float32Array([0.5, 0.5]),
        'radSquared': 10,
        'color': new Float32Array([0, 0, 0]),
    });
    let mesh = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Mesh(geometry, shaders, undefined, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.DRAW_MODES.TRIANGLE_FAN);
    mesh.interactive = false;
    mesh.interactiveChildren = false;
    return mesh;
}
function updateMeshPolygons(mesh, pos, poly) {
    let buffer = mesh.geometry.getBuffer('aVertexPosition');
    let fBuffer = new Float32Array(poly.length + 4);
    fBuffer[0] = pos.x;
    fBuffer[1] = pos.y;
    fBuffer.set(poly, 2);
    fBuffer[poly.length + 2] = poly[0];
    fBuffer[poly.length + 3] = poly[1];
    buffer.update(fBuffer);
}
function updateMeshUniforms(mesh, center, rangeSquared, color) {
    let uni = mesh.shader.uniforms;
    let c = uni.center;
    c[0] = center.x;
    c[1] = center.y;
    uni.radSquared = rangeSquared;
    hex2rgb(color, uni.color);
}


/***/ }),

/***/ "./src/app/geometry/aabb.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/aabb.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Aabb": () => (/* binding */ Aabb)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

class Aabb {
    constructor(x1, y1, x2, y2) {
        if (x1 > x2)
            [x1, x2] = [x2, x1];
        if (y1 > y2)
            [y1, y2] = [y2, y1];
        this.minX = x1;
        this.minY = y1;
        this.maxX = x2;
        this.maxY = y2;
    }
    isValid() {
        return this.minX < this.maxX && this.minY < this.maxY;
    }
    getCenter() {
        return new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point((this.minX + this.maxX) / 2, (this.minY + this.maxY) / 2);
    }
    getPerimeter() {
        return (this.maxX - this.minX + this.maxY - this.minY) * 2;
    }
    translate(x, y, target) {
        target.minX = this.minX + x;
        target.minY = this.minY + y;
        target.maxX = this.maxX + x;
        target.maxY = this.maxY + y;
    }
    combine(other, target) {
        target.minX = Math.min(this.minX, other.minX);
        target.minY = Math.min(this.minY, other.minY);
        target.maxX = Math.max(this.maxX, other.maxX);
        target.maxY = Math.max(this.maxY, other.maxY);
    }
    intersect(other, target) {
        target.minX = Math.max(this.minX, other.minX);
        target.minY = Math.max(this.minY, other.minY);
        target.maxX = Math.min(this.maxX, other.maxX);
        target.maxY = Math.min(this.maxY, other.maxY);
    }
    extend(amount, target) {
        target.minX = this.minX - amount;
        target.minY = this.minY - amount;
        target.maxX = this.maxX - amount;
        target.maxY = this.maxY - amount;
    }
    scale(dx, dy, target) {
        let cx = (this.minX + this.maxX) / 2;
        let cy = (this.minY + this.maxY) / 2;
        let hw = (this.maxX - this.minX) / 2;
        let hh = (this.maxY - this.minY) / 2;
        target.minX = cx - hw * dx;
        target.minY = cy - hh * dy;
        target.maxX = cx + hw * dx;
        target.maxY = cy + hh * dy;
    }
    copyFrom(other) {
        this.minX = other.minX;
        this.minY = other.minY;
        this.maxX = other.maxX;
        this.maxY = other.maxY;
    }
    reset() {
        this.minX = 0;
        this.minY = 0;
        this.maxX = 0;
        this.maxY = 0;
    }
    wrapPolygon(polygon) {
        this.minX = Number.POSITIVE_INFINITY;
        this.minY = Number.POSITIVE_INFINITY;
        this.maxX = Number.NEGATIVE_INFINITY;
        this.maxY = Number.NEGATIVE_INFINITY;
        let len = polygon.length;
        for (let i = 0; i < len; i += 2) {
            this.minX = Math.min(this.minX, polygon[i]);
            this.minY = Math.min(this.minY, polygon[i + 1]);
            this.maxX = Math.max(this.maxX, polygon[i]);
            this.maxY = Math.max(this.maxY, polygon[i + 1]);
        }
    }
    copy() {
        let other = Aabb.zero();
        other.copyFrom(this);
        return other;
    }
    toString() {
        return "AABB(" + this.minX.toFixed(2) + ", " + this.minY.toFixed(2) + ", " + this.maxX.toFixed(2) + ", " + this.maxY.toFixed(2) + ")";
    }
    static zero() {
        return new Aabb(0, 0, 0, 0);
    }
    static fromBounds(b) {
        return new Aabb(b.left, b.top, b.right, b.bottom);
    }
    static fromPoint(p) {
        return new Aabb(p.x, p.y, p.x, p.y);
    }
    static fromPointAnchor(pos, size, anchor) {
        return new Aabb(pos.x - size.x * anchor.x, pos.y - size.y * anchor.y, pos.x + size.x * (1 - anchor.x), pos.y + size.y * (1 - anchor.y));
    }
}


/***/ }),

/***/ "./src/app/geometry/collision.ts":
/*!***************************************!*\
  !*** ./src/app/geometry/collision.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "overlapAabbVsAabb": () => (/* binding */ overlapAabbVsAabb),
/* harmony export */   "containsAabbVsAabb": () => (/* binding */ containsAabbVsAabb),
/* harmony export */   "overlapAabbVsPoint": () => (/* binding */ overlapAabbVsPoint),
/* harmony export */   "overlapAabbVsLine": () => (/* binding */ overlapAabbVsLine),
/* harmony export */   "overlapPointVsCircle": () => (/* binding */ overlapPointVsCircle),
/* harmony export */   "overlapCircleVsAabb": () => (/* binding */ overlapCircleVsAabb),
/* harmony export */   "overlapCircleVsCircle": () => (/* binding */ overlapCircleVsCircle),
/* harmony export */   "overlapCircleVsPolygon": () => (/* binding */ overlapCircleVsPolygon),
/* harmony export */   "overlapObbVsPolygon": () => (/* binding */ overlapObbVsPolygon),
/* harmony export */   "overlapLineVsPolygon": () => (/* binding */ overlapLineVsPolygon),
/* harmony export */   "rotatePointByOrig": () => (/* binding */ rotatePointByOrig),
/* harmony export */   "overlapRotatedRectVsPoint": () => (/* binding */ overlapRotatedRectVsPoint),
/* harmony export */   "overlapRotatedRectVsCircle": () => (/* binding */ overlapRotatedRectVsCircle),
/* harmony export */   "overlapRotatedRectVsLine": () => (/* binding */ overlapRotatedRectVsLine),
/* harmony export */   "computeObbPoints": () => (/* binding */ computeObbPoints),
/* harmony export */   "overlapRotatedRectVsAabb": () => (/* binding */ overlapRotatedRectVsAabb),
/* harmony export */   "overlapRotatedRectVsRotatedRect": () => (/* binding */ overlapRotatedRectVsRotatedRect),
/* harmony export */   "overlapLineVsCircle": () => (/* binding */ overlapLineVsCircle),
/* harmony export */   "SegmentVsSegmentRes": () => (/* binding */ SegmentVsSegmentRes),
/* harmony export */   "intersectSegmentVsSegment": () => (/* binding */ intersectSegmentVsSegment),
/* harmony export */   "triangleContainsPoint": () => (/* binding */ triangleContainsPoint),
/* harmony export */   "lineSameSlope": () => (/* binding */ lineSameSlope)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _obb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./obb */ "./src/app/geometry/obb.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





function overlapAabbVsAabb(a, b) {
    return a.minX <= b.maxX && a.maxX >= b.minX &&
        a.minY <= b.maxY && a.maxY >= b.minY;
}
function containsAabbVsAabb(a, b) {
    return a.minX <= b.minX && a.maxX >= b.maxX &&
        a.minY <= b.minY && a.maxY >= b.maxY;
}
function overlapAabbVsPoint(a, b) {
    return a.minX <= b.x && a.minY <= b.y &&
        a.maxX >= b.x && a.maxY >= b.y;
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function overlapAabbVsLine(a, b) {
    let fc = computeOutCode(a, b.fromX, b.fromY);
    let tc = computeOutCode(a, b.toX, b.toY);
    // Fast paths:
    // One of the points is inside
    if (fc === INSIDE || tc === INSIDE)
        return true;
    // bitwise AND is not 0: both points share an outside zone (LEFT, RIGHT, TOP,
    // or BOTTOM), so both must be outside window
    if ((fc & tc) !== 0)
        return false;
    // Both points are in directly opposite sites (left/right or top/bottom)
    if ((fc | tc) === (LEFT | RIGHT))
        return true;
    if ((fc | tc) === (TOP | BOTTOM))
        return true;
    return intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.minY, a.minX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.maxY, a.maxX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.maxY, a.maxX, a.minY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.minY, a.minX, a.minY), b) === SegmentVsSegmentRes.INTERN;
}
function overlapPointVsCircle(point, center, radius) {
    return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(point.x, point.y, center.x, center.y) < radius * radius;
}
function overlapCircleVsAabb(center, radius, aabb) {
    let distX = Math.abs(center.x - (aabb.minX + aabb.maxX) / 2);
    let distY = Math.abs(center.y - (aabb.minY + aabb.maxY) / 2);
    let halfW = (aabb.maxX - aabb.minX) / 2;
    let halfH = (aabb.maxY - aabb.minY) / 2;
    if (distX > halfW + radius)
        return false;
    if (distY > halfH + radius)
        return false;
    if (distX < halfW || distY < halfH)
        return true;
    let dx = distX - halfW;
    let dy = distY - halfH;
    return dx * dx + dy * dy <= radius * radius;
}
function overlapCircleVsCircle(ac, ar, bc, br) {
    let dx = ac.x - bc.x;
    let dy = ac.y - bc.y;
    let r = ar + br;
    return dx * dx + dy * dy < r * r;
}
function overlapCircleVsPolygon(ac, ar, poly) {
    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(ac, poly))
        return true;
    let tmpLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(0, 0, 0, 0);
    let tmpPoint = new PIXI.Point();
    let r2 = ar * ar;
    for (let i = 2; i < poly.length; i += 2) {
        tmpLine.fromX = poly[i - 2];
        tmpLine.fromY = poly[i - 1];
        tmpLine.toX = poly[i];
        tmpLine.toY = poly[i + 1];
        tmpLine.projectPoint(ac, tmpPoint, true);
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, ac.x, ac.y) <= r2) {
            return true;
        }
    }
    return false;
}
function overlapObbVsPolygon(obb, poly) {
    let polyAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    polyAabb.wrapPolygon(poly);
    // Fast path
    if (!overlapRotatedRectVsAabb(obb, polyAabb))
        return false;
    for (let i = 0; i < 8; i += 2) {
        let p = {
            x: obb.rotVertex[i],
            y: obb.rotVertex[i + 1],
        };
        // If a point of the OBB is inside the polygon then we're done
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(p, poly))
            return true;
    }
    for (let i = 0; i < poly.length; i += 2) {
        let p = {
            x: poly[i],
            y: poly[i + 1],
        };
        // If a point of the polygon is inside the OBB then we're done
        if (overlapRotatedRectVsPoint(obb, p))
            return true;
    }
    let obbLines = [
        [0, 2],
        [2, 4],
        [4, 6],
        [6, 0]
    ];
    // Check line intersections
    for (let line of obbLines) {
        let obbLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(obb.rotVertex[line[0]], obb.rotVertex[line[0] + 1], obb.rotVertex[line[1]], obb.rotVertex[line[1] + 1]);
        if (overlapLineVsPolygon(obbLine, poly))
            return true;
    }
    return false;
}
function overlapLineVsPolygon(line, poly) {
    let totLines = poly.length - 2;
    for (let i = 0; i < totLines; i += 2) {
        let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[i], poly[i + 1], poly[i + 2], poly[i + 3]);
        if (intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN)
            return true;
    }
    let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[0], poly[1], poly[poly.length - 2], poly[poly.length - 1]);
    return intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN;
}
function rotatePointByOrig(o, rot, p) {
    let s = Math.sin(-rot);
    let c = Math.cos(-rot);
    let transX = p.x - o.x;
    let transY = p.y - o.y;
    return new PIXI.Point((transX * c - transY * s) + o.x, (transX * s + transY * c) + o.y);
}
function overlapRotatedRectVsPoint(obb, p) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, p);
    return overlapAabbVsPoint(obb.unrotated, rotatedPoint);
}
function overlapRotatedRectVsCircle(obb, pos, rad) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, pos);
    return overlapCircleVsAabb(rotatedPoint, rad, obb.unrotated);
}
function overlapRotatedRectVsLine(obb, line) {
    let center = obb.unrotated.getCenter();
    let rotFrom = rotatePointByOrig(center, obb.rotation, { x: line.fromX, y: line.fromY });
    let rotTo = rotatePointByOrig(center, obb.rotation, { x: line.toX, y: line.toY });
    return overlapAabbVsLine(obb.unrotated, new _line__WEBPACK_IMPORTED_MODULE_1__.Line(rotFrom.x, rotFrom.y, rotTo.x, rotTo.y));
}
function computeObbPoints(aabb, rot, origin) {
    let res = new Array(8);
    let o = origin || {
        x: (aabb.minX + aabb.maxX) / 2,
        y: (aabb.minY + aabb.maxY) / 2,
    };
    for (let i = 0; i < 4; i++) {
        let minX = (i & 1);
        let minY = (i & 2) >>> 1;
        let p = rotatePointByOrig(o, rot, {
            x: minX ? aabb.minX : aabb.maxX,
            y: minY ? aabb.minY : aabb.maxY,
        });
        res[i * 2] = p.x;
        res[i * 2 + 1] = p.y;
    }
    return res;
}
function overlapRotatedRectVsAabb(obb, aabb) {
    // Separating Axis Theorem
    let otherAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    otherAabb.wrapPolygon(obb.rotVertex);
    if (overlapAabbVsAabb(aabb, otherAabb))
        return true;
    // Apply the inverse transform of the obb to the aabb
    let originalInv = computeObbPoints(aabb, obb.rotation, obb.unrotated.getCenter());
    otherAabb.reset();
    otherAabb.wrapPolygon(originalInv);
    return overlapAabbVsAabb(obb.unrotated, otherAabb);
}
function overlapRotatedRectVsRotatedRect(obb1, obb2) {
    let center = obb2.unrotated.getCenter();
    let res = obb2.unrotated.copy();
    res.translate(-center.x, -center.y, res);
    let obb3 = _obb__WEBPACK_IMPORTED_MODULE_4__.Obb.rotateAabb(res, obb2.rotation - obb1.rotation);
    return overlapRotatedRectVsAabb(obb3, obb1.unrotated);
}
function overlapLineVsCircle(line, point, radius) {
    let tmpPoint = new PIXI.Point();
    if (!line.projectPoint(point, tmpPoint, true)) {
        return false;
    }
    let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
    return dist < radius * radius;
}
var SegmentVsSegmentRes;
(function (SegmentVsSegmentRes) {
    SegmentVsSegmentRes[SegmentVsSegmentRes["NONE"] = 0] = "NONE";
    SegmentVsSegmentRes[SegmentVsSegmentRes["INTERN"] = 1] = "INTERN";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_A"] = 2] = "EDGE_A";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_B"] = 4] = "EDGE_B";
})(SegmentVsSegmentRes || (SegmentVsSegmentRes = {}));
function intersectSegmentVsSegment(a, b, target) {
    let den = (b.toY - b.fromY) * (a.toX - a.fromX) -
        (b.toX - b.fromX) * (a.toY - a.fromY);
    if (den === 0)
        return SegmentVsSegmentRes.NONE; // Parallel (or coincident)
    const s = ((b.toX - b.fromX) * (a.fromY - b.fromY) -
        (b.toY - b.fromY) * (a.fromX - b.fromX)) / den;
    if (s < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    const u = ((a.toX - a.fromX) * (a.fromY - b.fromY) -
        (a.toY - a.fromY) * (a.fromX - b.fromX)) / den;
    if (u < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    if (target !== undefined) {
        target.set(a.fromX + s * (a.toX - a.fromX), a.fromY + s * (a.toY - a.fromY));
    }
    let edge = 0;
    if (s < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_A;
    if (u < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_B;
    return edge === 0 ? SegmentVsSegmentRes.INTERN : edge;
}
function triangleContainsPoint(p, p0, p1, p2) {
    let A = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);
    let sign = A < 0 ? -1 : 1;
    let s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;
    let t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;
    return s - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && t - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && (s + t) < 2 * A * sign - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}
function lineSameSlope(ax, ay, bx, by) {
    // We need to remove divisions, (this is not real code)
    // ay / ax == by / bx  ==> ay * bx == by * ax
    return Math.abs(ay * bx - by * ax) < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}


/***/ }),

/***/ "./src/app/geometry/dynamicTree.ts":
/*!*****************************************!*\
  !*** ./src/app/geometry/dynamicTree.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DynamicTree": () => (/* binding */ DynamicTree)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
// A version highly inspired by plank.js (https://github.com/shakiba/planck.js/blob/f5777884f537db97608d8016bda960d251d42d4d/lib/collision/DynamicTree.js)


class TreeNode {
    constructor(id) {
        this.aabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
        this.height = -1;
        this.id = id;
    }
    toString() {
        return this.id + ": " + this.tag;
    }
    isLeaf() {
        return this.left === undefined;
    }
}
class DynamicTree {
    constructor(aabbExtension = 0.1, aabbMultiplier = 2) {
        this.nodes = new Map();
        this.lastProxyId = 0;
        this.aabbExtension = aabbExtension;
        this.aabbMultiplier = aabbMultiplier;
    }
    getTag(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.tag;
    }
    setTag(id, tag) {
        this.nodes.get(id).tag = tag;
    }
    getFatAabb(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.aabb;
    }
    allocateNode() {
        let node = new TreeNode(++this.lastProxyId);
        this.nodes.set(node.id, node);
        return node;
    }
    freeNode(node) {
        this.nodes.delete(node.id);
    }
    createProxy(aabb, tag) {
        let node = this.allocateNode();
        node.aabb.copyFrom(aabb);
        // Fatten the aabb
        node.aabb.extend(this.aabbExtension, node.aabb);
        node.tag = tag;
        node.height = 0;
        this.insertLeaf(node);
        return node.id;
    }
    destroyProxy(id) {
        let node = this.nodes.get(id);
        this.removeLeaf(node);
        this.freeNode(node);
    }
    moveProxy(id, aabb, d) {
        let node = this.nodes.get(id);
        if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.containsAabbVsAabb)(node.aabb, aabb)) {
            return false;
        }
        this.removeLeaf(node);
        node.aabb.copyFrom(aabb);
        // Fatten
        node.aabb.extend(this.aabbExtension, node.aabb);
        // Predict motion
        if (this.aabbMultiplier !== 1) {
            if (d.x < 0)
                aabb.minX += d.x * this.aabbMultiplier;
            else
                aabb.maxX += d.x * this.aabbMultiplier;
            if (d.y < 0)
                aabb.minY += d.y * this.aabbMultiplier;
            else
                aabb.maxY += d.y * this.aabbMultiplier;
        }
        this.insertLeaf(node);
        return true;
    }
    insertLeaf(leaf) {
        if (this.root === undefined) {
            this.root = leaf;
            this.root.parent = undefined;
            return;
        }
        let leafAabb = leaf.aabb;
        let index = this.root;
        while (!index.isLeaf()) {
            let left = index.left;
            let right = index.right;
            let per = index.aabb.getPerimeter();
            let combinedAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
            index.aabb.combine(leafAabb, combinedAabb);
            let combinedPer = combinedAabb.getPerimeter();
            let cost = combinedPer * 2;
            let inheritanceCost = (combinedPer - per) * 2;
            let costLeft;
            if (left.isLeaf()) {
                left.aabb.combine(leafAabb, combinedAabb);
                costLeft = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                left.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = left.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costLeft = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            let costRight;
            if (right.isLeaf()) {
                right.aabb.combine(leafAabb, combinedAabb);
                costRight = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                right.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = right.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costRight = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            if (cost < costLeft && cost < costRight) {
                break;
            }
            if (costLeft < costRight)
                index = left;
            else
                index = right;
        }
        let sibling = index;
        let oldParent = sibling.parent;
        let newParent = this.allocateNode();
        newParent.parent = oldParent;
        sibling.aabb.combine(leafAabb, newParent.aabb);
        newParent.height = sibling.height + 1;
        if (oldParent !== undefined) {
            // The sibling was not the root
            if (oldParent.left === sibling)
                oldParent.left = newParent;
            else
                oldParent.right = newParent;
        }
        else {
            // the sibling was the root
            this.root = newParent;
        }
        newParent.left = sibling;
        newParent.right = leaf;
        sibling.parent = newParent;
        leaf.parent = newParent;
        // Walk back up fixing heights and AABBs
        index = leaf.parent;
        while (index !== undefined) {
            index = this.balance(index);
            index.height = 1 + Math.max(index.left.height, index.right.height);
            index.left.aabb.combine(index.right.aabb, index.aabb);
            index = index.parent;
        }
    }
    removeLeaf(leaf) {
        if (leaf === this.root) {
            this.root = undefined;
            return;
        }
        let parent = leaf.parent;
        let grandParent = parent.parent;
        let sibling;
        if (parent.left === leaf)
            sibling = parent.right;
        else
            sibling = parent.left;
        if (grandParent !== undefined) {
            // Destroy parent and connect sibling to grandParent
            if (grandParent.left === parent)
                grandParent.left = sibling;
            else
                grandParent.right = sibling;
            sibling.parent = grandParent;
            this.freeNode(parent);
            // Adjust ancestor bounds
            let index = grandParent;
            while (index !== undefined) {
                index = this.balance(index);
                index.left.aabb.combine(index.right.aabb, index.aabb);
                index.height = 1 + Math.max(index.left.height, index.right.height);
                index = index.parent;
            }
        }
        else {
            this.root = sibling;
            sibling.parent = undefined;
            this.freeNode(parent);
        }
    }
    /**
     * Perform a rotation if current node is imbalanced, returns the new sub-tree root.
     * @param current
     * @private
     */
    balance(current) {
        let a = current;
        if (a.isLeaf() || a.height < 2)
            return a;
        let b = a.left;
        let c = a.right;
        let balance = c.height - b.height;
        // Rotate C up
        if (balance > 1) {
            let f = c.left;
            let g = c.right;
            // Swap a and c
            c.left = a;
            c.parent = a.parent;
            a.parent = c;
            // a parent should point to c
            if (c.parent !== undefined) {
                if (c.parent.left === a)
                    c.parent.left = c;
                else
                    c.parent.right = c;
            }
            else {
                this.root = c;
            }
            // Rotate
            if (f.height > g.height) {
                c.right = f;
                a.right = g;
                g.parent = a;
                b.aabb.combine(g.aabb, a.aabb);
                a.aabb.combine(f.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, g.height);
                c.height = 1 + Math.max(a.height, f.height);
            }
            else {
                c.right = g;
                a.right = f;
                f.parent = a;
                b.aabb.combine(f.aabb, a.aabb);
                a.aabb.combine(g.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, f.height);
                c.height = 1 + Math.max(a.height, g.height);
            }
            return c;
        }
        if (balance < -1) {
            let d = b.left;
            let e = b.right;
            // Swap a and b
            b.left = a;
            b.parent = a.parent;
            a.parent = b;
            // a parent should point to b
            if (b.parent !== undefined) {
                if (b.parent.left === a)
                    b.parent.left = b;
                else
                    b.parent.right = b;
            }
            else {
                this.root = b;
            }
            // Rotate
            if (d.height > e.height) {
                b.right = d;
                a.left = e;
                e.parent = a;
                c.aabb.combine(e.aabb, a.aabb);
                a.aabb.combine(d.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, e.height);
                b.height = 1 + Math.max(a.height, d.height);
            }
            else {
                b.right = e;
                a.left = d;
                d.parent = a;
                c.aabb.combine(d.aabb, a.aabb);
                a.aabb.combine(e.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, d.height);
                b.height = 1 + Math.max(a.height, e.height);
            }
            return b;
        }
        return a;
    }
    *query(aabb) {
        let stack = new Array();
        if (this.root === undefined)
            return;
        //console.log("Starting query: " + aabb.toString());
        stack.push(this.root);
        while (stack.length > 0) {
            let node = stack.pop();
            let overlap = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.overlapAabbVsAabb)(node.aabb, aabb);
            //console.log("Visit: " + node.id + " = " + overlap);
            if (!overlap)
                continue;
            if (node.isLeaf()) {
                yield node;
            }
            else {
                stack.push(node.left);
                stack.push(node.right);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/geometry/line.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/line.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Line": () => (/* binding */ Line)
/* harmony export */ });
class Line {
    constructor(fx, fy, tx, ty) {
        this.fromX = fx;
        this.fromY = fy;
        this.toX = tx;
        this.toY = ty;
    }
    distance() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    distanceSquared() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return dx * dx + dy * dy;
    }
    projectPoint(p, target, ignoreValid = false) {
        if (this.fromX === this.toX && this.fromY === this.toY)
            return false;
        let u = ((p.x - this.fromX) * (this.toX - this.fromX)) +
            ((p.y - this.fromY) * (this.toY - this.fromY));
        let udenom = this.distanceSquared();
        u /= udenom;
        let rx = this.fromX + u * (this.toX - this.fromX);
        let ry = this.fromY + u * (this.toY - this.fromY);
        if (ignoreValid) {
            target.set(rx, ry);
            return true;
        }
        let minx = this.fromX, maxx = this.toX;
        let miny = this.fromY, maxy = this.toY;
        if (minx > maxx)
            [minx, maxx] = [maxx, minx];
        if (miny > maxy)
            [miny, maxy] = [maxy, miny];
        let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
        if (isValid) {
            target.set(rx, ry);
            return true;
        }
        else {
            return false;
        }
    }
    copy() {
        return new Line(this.fromX, this.fromY, this.toX, this.toY);
    }
}


/***/ }),

/***/ "./src/app/geometry/obb.ts":
/*!*********************************!*\
  !*** ./src/app/geometry/obb.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Obb": () => (/* binding */ Obb)
/* harmony export */ });
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");

class Obb {
    constructor(unrotated, rotation, rotVertex) {
        this.unrotated = unrotated;
        this.rotation = rotation;
        this.rotVertex = rotVertex;
    }
    recompute() {
        this.rotVertex = (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(this.unrotated, this.rotation);
    }
    copy() {
        return new Obb(this.unrotated.copy(), this.rotation, [...this.rotVertex]);
    }
    static rotateAabb(aabb, rot) {
        if (rot === 0)
            return this.fromAabb(aabb);
        return new Obb(aabb, rot, (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(aabb, rot));
    }
    static fromAabb(aabb) {
        let points = [
            aabb.minX, aabb.minY,
            aabb.minX, aabb.maxY,
            aabb.maxX, aabb.maxY,
            aabb.maxX, aabb.minY
        ];
        return new Obb(aabb, 0, points);
    }
}


/***/ }),

/***/ "./src/app/geometry/visibilityPolygon.ts":
/*!***********************************************!*\
  !*** ./src/app/geometry/visibilityPolygon.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EPSILON": () => (/* binding */ EPSILON),
/* harmony export */   "compute": () => (/* binding */ compute),
/* harmony export */   "computeViewport": () => (/* binding */ computeViewport)
/* harmony export */ });
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/binaryHeap */ "./src/app/util/binaryHeap.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");





const EPSILON = 0.0000001;
class EndPoint extends _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point {
    constructor() {
        super(...arguments);
        this.angle = 0;
        this.dist = 0;
    }
}
class Segment {
    constructor(f, t) {
        this.from = f;
        this.to = t;
        this.used = false;
    }
}
// a < b
function segmentLt(a, b, o) {
    // *opens philosophy book*
    // But what does it mean for a segment to be less than another one? (relative to a point)
    // There are multiple algorithms for this, the one that makes most sense to me is what I call the
    // triangular intersection:
    // Given two segments a, b and a point o we define a < b == true only if there is at least one point in b that
    // is hidden by a.
    // For every segment then the property a < b => !(b < a) is maintained only if the segments do not intersect
    // (as the only way that two lines would hide each other is if they meet in a point).
    // On another note, the property a < b, b < c => a < c is not maintained!
    // How can this be computed, then?
    // a.from is inside the triangle formed by b and o, this means:
    // - a.to is also inside, then a < b
    // - a.to is outside, then a < b
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.from, b.from, b.to, o))
        return true;
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.to, b.from, b.to, o))
        return true;
    // If we arrive here we can be sure that neither points of a is inside the triangle,
    // A segment with both points outside of the triangle can intersect it only by intersecting two of the three
    // lines. We already assume that a and b cannot intersect so we can check either (b.from, o) or (b.to, o) and see
    // if it intersects with a
    let c1 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c1 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    let c2 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.to.x, b.to.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c2 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    // Edge case: one of the end points of the second line (the segment a) lies
    // in the line (b.from, o), this might mean two things:
    // 1: the line shares a point but does not block the second segment's view
    // 2: the line shares a point and the other point blocks the whole view (hitting the other triangle line)
    // we want to check the second case, so let's try the second segment intersect
    if ((c1 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c2 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    if ((c2 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c1 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    // Edge case n.2 (I'm kinda hating on grids)
    // The segment a could lay a point on the line between (b.from/to, o) and the other in b
    // Edge case of the edge case: If the segment is in any of the endpoints of b then it does not occlude the view
    if (((c1 | c2) & (_collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B | _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_A)) === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) {
        let c3 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, b.to.x, b.to.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
        if (c3 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE)
            return true;
    }
    // This means a >= b
    return false;
}
function initSegment(x1, y1, x2, y2, pos) {
    let a = new EndPoint(x1, y1);
    let b = new EndPoint(x2, y2);
    a.angle = Math.atan2(pos.y - a.y, pos.x - a.x);
    b.angle = Math.atan2(pos.y - b.y, pos.x - b.x);
    a.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, a.x, a.y);
    b.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, b.x, b.y);
    let s = new Segment(a, b);
    a.segment = s;
    b.segment = s;
    return s;
}
function compute0(pos, segments) {
    let points = new Array();
    for (let s of segments) {
        points.push(s.from, s.to);
    }
    // O(Nlog(N))
    points.sort((a, b) => {
        return a.angle - b.angle;
    });
    let segmentPriorityQueue = new _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__.BinaryHeap((a, b) => segmentLt(a, b, pos));
    // Populate the priority queue O(Nlog(N))
    // The priority queue should already have all the segment it collides with, but do not fear as
    // the math is quite simple and straightforward:
    // We should check that the segment collides with the line that starts at pos and has angle = -Math.PI.
    // To do that we can just check the angles of the two endpoints (draw it in a piece of paper, it's easier if shown).
    for (let segment of segments) {
        let fa = segment.from.angle;
        let ta = segment.to.angle;
        let isActive = false;
        isActive || (isActive = fa <= 0 && ta >= 0 && ta - fa > Math.PI);
        isActive || (isActive = ta <= 0 && fa >= 0 && fa - ta > Math.PI);
        if (isActive)
            segmentPriorityQueue.push(segment);
    }
    let polygon = new Array();
    for (let i = 0; i < points.length;) {
        // Extend signals that the first segment has ended
        // we should then extend the polygon to the new first visible segment.
        let extend = false;
        let orig = i; // The original point index
        let vertex = points[i];
        let oldSegment = segmentPriorityQueue.peek();
        do {
            let currSegment = points[i].segment;
            if (segmentPriorityQueue.hasElem(currSegment)) {
                if (currSegment === oldSegment) {
                    extend = true;
                    vertex = points[i];
                }
                segmentPriorityQueue.popElem(currSegment);
            }
            else {
                segmentPriorityQueue.push(currSegment);
            }
            i++;
            if (i === points.length)
                break;
        } while (points[i].angle < points[orig].angle + EPSILON);
        segmentPriorityQueue.peek().used = true;
        if (extend) {
            // Vertex is the first point of the old segment, we need to push this right away
            polygon.push(vertex.x, vertex.y);
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point();
            let firstSeg = segmentPriorityQueue.peek();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(firstSeg.from, firstSeg.to, pos, vertex, point);
            if (!(Math.abs(point.x - vertex.x) < EPSILON && Math.abs(point.y - vertex.y) < EPSILON)) {
                polygon.push(point.x, point.y);
            }
        }
        else if (segmentPriorityQueue.peek() != oldSegment) {
            // A new segment has hidden the old first segment.
            // First compute where the old segment has been hidden, and push that point to the polygon
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(oldSegment.from, oldSegment.to, pos, vertex, point);
            polygon.push(point.x, point.y);
            // Then compute where the new segment intersects
            let newClosest = segmentPriorityQueue.peek();
            let nPoint;
            if (Math.abs(newClosest.from.angle - points[orig].angle) < EPSILON) {
                nPoint = newClosest.from;
            }
            else {
                nPoint = newClosest.to;
            }
            if (!(Math.abs(point.x - nPoint.x) < EPSILON && Math.abs(point.y - nPoint.y) < EPSILON)) {
                polygon.push(nPoint.x, nPoint.y);
            }
        }
    }
    return polygon;
}
function compute(pos, inSegments) {
    let segments = new Array(inSegments.length);
    // O(N)
    for (let segment of inSegments) {
        let s = initSegment(segment.fromX, segment.fromY, segment.toX, segment.toY, pos);
        segments.push(s);
    }
    return compute0(pos, segments);
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function clipSegment(line, aabb, light) {
    // https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm
    let x0 = line.fromX;
    let y0 = line.fromY;
    let x1 = line.toX;
    let y1 = line.toY;
    let code0 = computeOutCode(aabb, x0, y0);
    let code1 = computeOutCode(aabb, x1, y1);
    while (true) {
        if ((code0 | code1) === 0) {
            // bitwise OR is 0: both points inside window; trivially accept and exit loop
            return initSegment(x0, y0, x1, y1, light);
        }
        else if ((code0 & code1) !== 0) {
            // failed both tests, so calculate the line segment to clip
            // from an outside point to an intersection with clip edge
            return undefined;
        }
        else {
            let x = 0, y = 0;
            // At least one endpoint is outside the clip rectangle; pick it.
            let codeOut = code1 > code0 ? code1 : code0;
            // Now find the intersection point;
            // use formulas:
            //   slope = (y1 - y0) / (x1 - x0)
            //   x = x0 + (1 / slope) * (ym - y0), where ym is ymin or ymax
            //   y = y0 + slope * (xm - x0), where xm is xmin or xmax
            // No need to worry about divide-by-zero because, in each case, the
            // outcode bit being tested guarantees the denominator is non-zero
            if ((codeOut & TOP) !== 0) { // point is above the clip window
                x = x0 + (x1 - x0) * (aabb.maxY - y0) / (y1 - y0);
                y = aabb.maxY;
            }
            else if ((codeOut & BOTTOM) !== 0) { // point is below the clip window
                x = x0 + (x1 - x0) * (aabb.minY - y0) / (y1 - y0);
                y = aabb.minY;
            }
            else if ((codeOut & RIGHT) !== 0) { // point is to the right of clip window
                y = y0 + (y1 - y0) * (aabb.maxX - x0) / (x1 - x0);
                x = aabb.maxX;
            }
            else if ((codeOut & LEFT) !== 0) { // point is to the left of clip window
                y = y0 + (y1 - y0) * (aabb.minX - x0) / (x1 - x0);
                x = aabb.minX;
            }
            // Now we move outside point to intersection point to clip
            // and get ready for next pass.
            let code = computeOutCode(aabb, x, y);
            if (codeOut === code0) {
                x0 = x;
                y0 = y;
                code0 = code;
            }
            else {
                x1 = x;
                y1 = y;
                code1 = code;
            }
        }
    }
}
function computeViewport(lines, aabb, light, usedLines) {
    //console.log("Lines: " + lines.length);
    let segments = new Array();
    let lineLen = lines.length;
    for (let i = 0; i < lineLen; i++) {
        let segment = clipSegment(lines[i], aabb, light);
        if (segment !== undefined) {
            segment.index = i;
            segments.push(segment);
        }
    }
    //console.log("Done");
    // Push viewport segments:
    segments.push(initSegment(aabb.minX, aabb.minY, aabb.minX, aabb.maxY, light), initSegment(aabb.minX, aabb.maxY, aabb.maxX, aabb.maxY, light), initSegment(aabb.maxX, aabb.maxY, aabb.maxX, aabb.minY, light), initSegment(aabb.maxX, aabb.minY, aabb.minX, aabb.minY, light));
    //console.log("SEGMENTS: ", segments);
    let poly = compute0(light, segments);
    if (usedLines !== undefined) {
        // Compute what lines have been used
        let segLen = segments.length - 4;
        for (let i = 0; i < segLen; i++) {
            let s = segments[i];
            if (s.used)
                usedLines.push(s.index);
        }
    }
    return poly;
}


/***/ }),

/***/ "./src/app/graphics.ts":
/*!*****************************!*\
  !*** ./src/app/graphics.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE": () => (/* binding */ EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE),
/* harmony export */   "GRAPHIC_TYPE": () => (/* binding */ GRAPHIC_TYPE),
/* harmony export */   "ElementType": () => (/* binding */ ElementType),
/* harmony export */   "VisibilityType": () => (/* binding */ VisibilityType),
/* harmony export */   "ImageScaleMode": () => (/* binding */ ImageScaleMode)
/* harmony export */ });
// Common info about the graphical systems, this should be a semi-abstraction.
// NONE OF THIS SHOULD BE SERIALIZED! THIS IS ALL RUNTIME DEPENDANT! DETAILS WILL CHANGE BETWEEN MINOR VERSIONS!
const EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE = 'remember_bit_by_bit_vis_update';
const GRAPHIC_TYPE = "graphic";
var ElementType;
(function (ElementType) {
    ElementType[ElementType["CONTAINER"] = 0] = "CONTAINER";
    ElementType[ElementType["IMAGE"] = 1] = "IMAGE";
    ElementType[ElementType["LINE"] = 2] = "LINE";
    ElementType[ElementType["POINT"] = 3] = "POINT";
    ElementType[ElementType["TEXT"] = 4] = "TEXT";
})(ElementType || (ElementType = {}));
var VisibilityType;
(function (VisibilityType) {
    // You only see one thing when you see it! seems stupid but you can also remember things
    VisibilityType[VisibilityType["NORMAL"] = 0] = "NORMAL";
    // A player can always see itself, even with no light, "I think therefore I am"
    VisibilityType[VisibilityType["ALWAYS_VISIBLE"] = 1] = "ALWAYS_VISIBLE";
    // You'll remember once you see it
    VisibilityType[VisibilityType["REMEMBER"] = 2] = "REMEMBER";
    // Used in images, you only remember what you see! (only support images for now)
    VisibilityType[VisibilityType["REMEMBER_BIT_BY_BIT"] = 3] = "REMEMBER_BIT_BY_BIT";
})(VisibilityType || (VisibilityType = {}));
var ImageScaleMode;
(function (ImageScaleMode) {
    // 1 pixel = 1*scale pixels
    ImageScaleMode[ImageScaleMode["REAL"] = 0] = "REAL";
    // 1 pixel = 1*gridSize*scale pixels
    ImageScaleMode[ImageScaleMode["GRID"] = 1] = "GRID";
})(ImageScaleMode || (ImageScaleMode = {}));


/***/ }),

/***/ "./src/app/index.ts":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "windowEventEmitter": () => (/* binding */ windowEventEmitter),
/* harmony export */   "stage": () => (/* binding */ stage)
/* harmony export */ });
/* harmony import */ var _phase_stage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase/stage */ "./src/app/phase/stage.ts");
/* harmony import */ var _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phase/homePhase */ "./src/app/phase/homePhase.ts");
/* harmony import */ var _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/eventEmitterWrapper */ "./src/app/util/eventEmitterWrapper.ts");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var bootstrap_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bootstrap-vue */ "./node_modules/bootstrap-vue/esm/index.js");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/fontawesome-free/css/all.css */ "./node_modules/@fortawesome/fontawesome-free/css/all.css");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/fontawesome-free/js/all.js */ "./node_modules/@fortawesome/fontawesome-free/js/all.js");
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! Public/style.css */ "./src/public/style.css");
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(Public_style_css__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./phase/editMap/clientEditMapPhase */ "./src/app/phase/editMap/clientEditMapPhase.ts");
/* harmony import */ var _assetsLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./assetsLoader */ "./src/app/assetsLoader.ts");
/* harmony import */ var _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./phase/loadingPhase */ "./src/app/phase/loadingPhase.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};







vue__WEBPACK_IMPORTED_MODULE_5__.default.use(bootstrap_vue__WEBPACK_IMPORTED_MODULE_6__.BootstrapVue);
// ================================================================================================ Public




const windowEventEmitter = new _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_2__.EventEmitterWrapper((event, emitter) => {
    window.addEventListener(event, data => {
        emitter.emit(event, data);
    });
});
// Main
const stage = new _phase_stage__WEBPACK_IMPORTED_MODULE_0__.Stage("main");
function onHashCahnge() {
    if (window.location.hash) {
        const roomId = window.location.hash.substr(1); // Remove #
        if (roomId.startsWith('p')) {
            console.log("Connecting with: peerj2");
            stage.setPhase(new _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_8__.ClientEditMapPhase(roomId.substr(1)));
        }
        else {
            console.log("Invalid hash");
            stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__.HomePhase());
        }
    }
    else {
        stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__.HomePhase());
    }
}
(function () {
    return __awaiter(this, void 0, void 0, function* () {
        console.log("Loading dndme: " + "bce74e6");
        stage.setPhase(new _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_10__.LoadingPhase());
        yield (0,_assetsLoader__WEBPACK_IMPORTED_MODULE_9__.loadAssets)();
        onHashCahnge();
        window.onhashchange = function (e) {
            console.log("Hash change" + e.newURL);
            onHashCahnge();
        };
    });
})();


/***/ }),

/***/ "./src/app/map/gameMap.ts":
/*!********************************!*\
  !*** ./src/app/map/gameMap.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GameMap": () => (/* binding */ GameMap)
/* harmony export */ });
/* harmony import */ var _mapLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/dist/jszip.min.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



class GameMap {
    constructor() {
        this.levels = new Map();
    }
    createDataJson() {
        let levels = {};
        for (let [id, level] of this.levels.entries()) {
            levels[id] = level.serialize();
        }
        let data = {
            version: GameMap.SER_VERSION,
            levels: levels,
        };
        return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(data);
    }
    saveToFile() {
        let data = this.createDataJson();
        let zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
        zip.file("data.msgpack", data);
        return zip.generateAsync({
            type: "blob",
            compression: 'DEFLATE',
            // Prevent the browser from renaming the extension
            mimeType: 'application/octet-stream',
        });
    }
    static loadFromFile(from) {
        return __awaiter(this, void 0, void 0, function* () {
            let zip = yield jszip__WEBPACK_IMPORTED_MODULE_1___default().loadAsync(from);
            // TODO: better error management
            let file = yield zip.file("data.msgpack").async('arraybuffer');
            let data = yield (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__.decode)(file);
            if (data['version'] !== this.SER_VERSION) {
                throw 'Version not supported';
            }
            let gameMap = new GameMap();
            let levelsData = data["levels"];
            for (let id in levelsData) {
                let level = levelsData[id];
                let res = yield _mapLevel__WEBPACK_IMPORTED_MODULE_0__.MapLevel.deserialize(parseInt(id), level);
                gameMap.levels.set(res.id, res);
            }
            return gameMap;
        });
    }
}
GameMap.SER_VERSION = '1.0';


/***/ }),

/***/ "./src/app/map/mapLevel.ts":
/*!*********************************!*\
  !*** ./src/app/map/mapLevel.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLevel": () => (/* binding */ MapLevel)
/* harmony export */ });
class MapLevel {
    constructor(id) {
        this.id = id;
    }
    loadInto(ecs) {
        ecs.clear();
        if (this.ecs !== undefined) {
            ecs.deserialize(this.ecs);
        }
    }
    saveFrom(ecs) {
        this.ecs = undefined;
        this.ecs = ecs.serialize();
    }
    serialize() {
        return {
            name: this.name,
            ecs: this.ecs
        };
    }
    static deserialize(id, data) {
        let res = new MapLevel(id);
        res.name = data['name'];
        res.ecs = data['ecs'];
        return res;
    }
}


/***/ }),

/***/ "./src/app/network/RtcStatsManager.ts":
/*!********************************************!*\
  !*** ./src/app/network/RtcStatsManager.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RtcStatsManager": () => (/* binding */ RtcStatsManager)
/* harmony export */ });
class RtcStatsManager {
    constructor(conn) {
        this.enabled = false;
        this.isPending = false;
        this.conn = conn;
    }
    process(report) {
        let usedPair = undefined;
        for (let x of report.values()) {
            const s = x;
            if (s.type !== 'candidate-pair')
                continue;
            let pair = s;
            if (pair.state === 'succeeded') {
                usedPair = pair;
                break;
            }
        }
        let summary = {
            local: 'unknown',
            remote: 'unknown',
        };
        if (usedPair === undefined) {
            return summary;
        }
        let remote = undefined;
        if (usedPair.remoteCandidateId !== undefined) {
            remote = report.get(usedPair.remoteCandidateId);
        }
        let local = undefined;
        if (usedPair.localCandidateId !== undefined) {
            local = report.get(usedPair.localCandidateId);
        }
        if (local !== undefined && local.candidateType !== undefined) {
            summary.local = local.candidateType;
            summary.localDetail = local;
        }
        if (remote !== undefined && remote.candidateType !== undefined) {
            summary.remote = remote.candidateType;
            summary.remoteDetail = remote;
        }
        return summary;
    }
    onRtcReport(report) {
        this.isPending = false;
        if (!this.enabled)
            return;
        let proc = this.process(report);
        this.lastSummary = proc;
        if (this.onSummary !== undefined) {
            this.onSummary(proc);
        }
        this.schedule(10000);
    }
    schedule(delay) {
        if (!this.enabled || this.isPending)
            return;
        this.isPending = true;
        setTimeout(() => {
            if (['disconnected', 'closed'].indexOf(this.conn.iceConnectionState) > -1) {
                this.isPending = false;
                this.stop();
                return;
            }
            console.log(this.conn.connectionState, this.conn.iceConnectionState);
            this.conn.getStats().then(this.onRtcReport.bind(this));
        }, delay);
    }
    start() {
        if (this.enabled)
            return;
        this.enabled = true;
        this.schedule(0);
    }
    stop() {
        this.enabled = false;
    }
}


/***/ }),

/***/ "./src/app/network/channel.ts":
/*!************************************!*\
  !*** ./src/app/network/channel.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Channel": () => (/* binding */ Channel)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class Channel {
    constructor(isHost) {
        this.connections = [];
        this.connectionsById = new Map();
        this.myId = -1;
        this.nextBroadcastPacketId = 0;
        this.eventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
        this.bufferingChannels = 0;
        this.isGatheringStats = false;
        this.isHost = isHost;
        if (this.isHost) {
            this.myId = 0;
        }
        // TODO: better visualization
        window.plsreport = () => {
            this.eventEmitter.on('report', console.log);
            this.startGatherStats();
        };
    }
    onMessage(raw, conn) {
        //console.log("onMessage", raw);
        let packet = raw; // Check for errors?
        if (this.isHost) {
            packet.sender = conn.channelId;
        }
        if (packet.payload.type.startsWith("_")) {
            console.error("Invalid payload type");
            return;
        }
        // TODO: think of a better packetid system, we have some problems with
        //       host forwarding as the id changes, we can not have replies.
        if (this.isHost && packet.receiver !== this.myId) {
            let originalId = packet.id;
            if (packet.receiver === undefined) {
                packet.id = this.nextBroadcastPacketId++;
                for (let c of this.connectionsById.values()) {
                    if (c !== conn) {
                        c.send(packet);
                    }
                }
            }
            else {
                let recv = this.connectionsById.get(packet.receiver);
                if (recv === undefined) {
                    this.send({
                        type: "error",
                        errorType: "unknown_receiver",
                        requestId: packet.id,
                    }, conn.channelId);
                    return;
                }
                packet.id = recv.nextPacketId++;
                recv.send(packet);
            }
            packet.id = originalId;
        }
        if (packet.receiver === undefined || packet.receiver === this.myId) {
            let packetType = packet.payload.type;
            if (false) {}
            this.eventEmitter.emit("any", packet.payload, packet);
            this.eventEmitter.emit(packetType, packet.payload, packet);
        }
    }
    broadcast(packet) {
        const wrapped = {
            id: this.nextBroadcastPacketId,
            payload: packet,
            sender: this.myId,
        };
        if (false) {}
        for (let conn of this.connectionsById.values()) {
            conn.send(wrapped);
        }
        this.nextBroadcastPacketId++;
    }
    send(packet, receiverId) {
        const wrapped = {
            id: 0,
            payload: packet,
            sender: this.myId,
        };
        if (this.isHost) {
            let conn = this.connectionsById.get(receiverId);
            if (conn === undefined) {
                throw "Unknown receiver";
            }
            wrapped.id = conn.nextPacketId++;
            conn.send(wrapped);
        }
        else {
            wrapped.id = this.nextBroadcastPacketId++;
            for (let conn of this.connectionsById.values()) {
                conn.send(wrapped);
            }
        }
        if (false) {}
    }
    onConnectionStatusUpdate(isBuffering) {
        if (isBuffering)
            this.bufferingChannels += 1;
        else
            this.bufferingChannels -= 1;
        this.eventEmitter.emit("_buffering_update", this.bufferingChannels);
    }
    registerNewConnection(conn) {
        this.connectionsById.set(conn.channelId, conn);
        this.connections.push(conn);
        conn.ondata = this.onMessage.bind(this);
        conn.nextPacketId = 0;
        conn.onBufferChange = this.onConnectionStatusUpdate.bind(this);
        this.eventEmitter.emit("_device_join", conn.channelId);
        if (this.isGatheringStats) {
            conn.getStatsReporter().start();
        }
    }
    removeConnection(conn) {
        this.connectionsById.delete(conn.channelId);
        const index = this.connections.indexOf(conn);
        if (index > -1) {
            this.connections.splice(index, 1);
        }
        this.eventEmitter.emit("_device_left", conn.channelId);
    }
    startGatherStats() {
        this.connections.forEach(x => x.getStatsReporter().start());
    }
    stopGatherStats() {
        this.connections.forEach(x => x.getStatsReporter().stop());
    }
}


/***/ }),

/***/ "./src/app/network/networkManager.ts":
/*!*******************************************!*\
  !*** ./src/app/network/networkManager.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NetworkManager": () => (/* binding */ NetworkManager),
/* harmony export */   "PeerJsConnection": () => (/* binding */ PeerJsConnection)
/* harmony export */ });
/* harmony import */ var peerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! peerjs */ "./node_modules/peerjs/dist/peerjs.min.js");
/* harmony import */ var peerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(peerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _channel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./channel */ "./src/app/network/channel.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _RtcStatsManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RtcStatsManager */ "./src/app/network/RtcStatsManager.ts");



var EventEmitter = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.EventEmitter;

class NetworkManager extends EventEmitter {
    constructor(isHost) {
        super();
        this.myId = -1;
        // Used if is host:
        this.connections = new Map();
        this.nextConnectionId = 1;
        this.isHost = isHost;
        this.channel = new _channel__WEBPACK_IMPORTED_MODULE_1__.Channel(isHost);
        this.peer = new (peerjs__WEBPACK_IMPORTED_MODULE_0___default())(undefined, {
            host: 'peerjs.92k.de',
            secure: true,
            debug: 2
        });
        if (this.isHost) {
            this.myId = 0;
        }
        this.peer.on('connection', this.onConnection.bind(this));
        this.peer.on('open', this.onPeerConnectionOpen.bind(this));
        this.peer.on('error', this.onPeerConnectionError.bind(this));
    }
    onConnection(conn) {
        let id = 0;
        if (this.isHost) {
            id = this.nextConnectionId++;
        }
        let c = new PeerJsConnection(this, id, conn);
        if (this.isHost) {
            this.connections.set(id, c);
        }
        else {
            this.hostConnection = c;
        }
    }
    onPeerConnectionOpen() {
        if (this.connectId !== undefined) {
            this.connectReady();
        }
        this.emit('ready');
    }
    onPeerConnectionError(err) {
        this.emit('error', err);
    }
    getId() {
        return this.peer.id;
    }
    connectTo(id) {
        if (this.isHost) {
            throw 'A host cannot open a connection, for now!';
        }
        if (this.connectId !== undefined) {
            throw 'Cannot connect to multiple hosts';
        }
        this.connectId = id;
        if (this.peer.id != null) {
            this.connectReady();
        }
    }
    disconnect() {
        this.connectId = undefined;
        this.peer.destroy();
    }
    connectReady() {
        if (this.connectId === undefined)
            return;
        let conn = this.peer.connect(this.connectId, {
            reliable: true,
        });
        this.hostConnection = new PeerJsConnection(this, undefined, conn);
    }
}
class PeerJsConnection {
    constructor(parent, chId, connection) {
        this.nextPacketId = -1;
        this.bootstrap = false;
        this.buffered = false;
        this.parent = parent;
        this.channelId = chId || 0;
        this.connection = connection;
        if (parent.isHost) {
            this.bootstrap = true;
        }
        connection.on('open', this.onOpen.bind(this));
        connection.on('data', this.onData.bind(this));
        connection.on('close', this.onClose.bind(this));
    }
    onOpen() {
        this.connection.dataChannel.onbufferedamountlow = this.updateBuffered.bind(this);
        this.statsManager = new _RtcStatsManager__WEBPACK_IMPORTED_MODULE_3__.RtcStatsManager(this.connection.peerConnection);
        this.statsManager.onSummary = summary => this.parent.channel.eventEmitter.emit('report', this, summary);
        //this.connection.peerConnection.addEventListener('iceconnectionstatechange', x => console.log("peer_conn_state_change", this.connection.peerConnection.connectionState));
        if (this.parent.isHost) {
            this.connection.send(this.channelId);
            this.parent.channel.registerNewConnection(this);
        }
    }
    onData(data) {
        if (!this.bootstrap) {
            this.parent.myId = data;
            this.parent.channel.myId = data;
            this.bootstrap = true;
            this.parent.channel.registerNewConnection(this);
            return;
        }
        else if (this.ondata !== undefined) {
            this.ondata(data, this);
        }
    }
    onClose() {
        this.parent.channel.removeConnection(this);
    }
    send(data) {
        this.connection.send(data);
        this.updateBuffered();
    }
    bufferedBytes() {
        return this.connection.dataChannel.bufferedAmount;
    }
    updateBuffered() {
        let oldBuffered = this.buffered;
        let bufferedAmount = this.connection.bufferSize;
        if (this.connection.dataChannel != null) {
            bufferedAmount += this.connection.dataChannel.bufferedAmount;
        }
        this.buffered = bufferedAmount !== 0;
        if (oldBuffered !== this.buffered && this.onBufferChange !== undefined) {
            this.onBufferChange(this.buffered);
        }
    }
    getHandle() {
        return this.connection.peerConnection;
    }
    getStatsReporter() {
        return this.statsManager;
    }
}


/***/ }),

/***/ "./src/app/phase/ecsPhase.ts":
/*!***********************************!*\
  !*** ./src/app/phase/ecsPhase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EcsPhase": () => (/* binding */ EcsPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ecs_world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ecs/world */ "./src/app/ecs/world.ts");
/* harmony import */ var _ecs_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ecs/component */ "./src/app/ecs/component.ts");



class EcsPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name, isMaster) {
        super(name);
        this.world = new _ecs_world__WEBPACK_IMPORTED_MODULE_1__.World(isMaster);
        this.ecsSetup();
    }
    ecsSetup() {
        (0,_ecs_component__WEBPACK_IMPORTED_MODULE_2__.registerCommonStorage)(this.world);
        this.registerSystems();
        this.world.populate();
    }
    registerSystems() {
    }
    enable() {
        super.enable();
        this.world.enable();
    }
    disable() {
        super.disable();
        this.world.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/clientEditMapPhase.ts":
/*!*****************************************************!*\
  !*** ./src/app/phase/editMap/clientEditMapPhase.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClientEditMapPhase": () => (/* binding */ ClientEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");

class ClientEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(id) {
        super('editClient', false);
        this.networkManager.connectTo(id);
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/displayPrecedence.ts":
/*!****************************************************!*\
  !*** ./src/app/phase/editMap/displayPrecedence.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayPrecedence": () => (/* binding */ DisplayPrecedence)
/* harmony export */ });
var DisplayPrecedence;
(function (DisplayPrecedence) {
    DisplayPrecedence[DisplayPrecedence["BACKGROUND"] = 0] = "BACKGROUND";
    DisplayPrecedence[DisplayPrecedence["GRID"] = 10] = "GRID";
    DisplayPrecedence[DisplayPrecedence["WALL"] = 210] = "WALL";
    DisplayPrecedence[DisplayPrecedence["PROP"] = 220] = "PROP";
    DisplayPrecedence[DisplayPrecedence["PINS"] = 230] = "PINS";
    DisplayPrecedence[DisplayPrecedence["WALL_CREATOR"] = 260] = "WALL_CREATOR";
})(DisplayPrecedence || (DisplayPrecedence = {}));


/***/ }),

/***/ "./src/app/phase/editMap/editMapPhase.ts":
/*!***********************************************!*\
  !*** ./src/app/phase/editMap/editMapPhase.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditMapPhase": () => (/* binding */ EditMapPhase)
/* harmony export */ });
/* harmony import */ var _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/edit/editMap.vue */ "./src/app/ui/edit/editMap.vue");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/backgroundImageSystem */ "./src/app/ecs/systems/backgroundImageSystem.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _network_networkManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../network/networkManager */ "./src/app/network/networkManager.ts");
/* harmony import */ var _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ecs/systems/pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ecs/systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ecs/systems/back/textSystem */ "./src/app/ecs/systems/back/textSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecs/systems/back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ecs/systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ecs/systems/playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ecs/systems/back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ecs/systems/propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ecs/systems/back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ecs/systems/gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _ecsPhase__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ecsPhase */ "./src/app/phase/ecsPhase.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../ecs/systems/command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../ecs/systems/command/commandHistorySystem */ "./src/app/ecs/systems/command/commandHistorySystem.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../ecs/systems/back/pixiRectSelectionSystem */ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts");
/* harmony import */ var _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../ecs/systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiMeasureSystem__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../ecs/systems/back/pixiMeasureSystem */ "./src/app/ecs/systems/back/pixiMeasureSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiLayerSystem__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../ecs/systems/back/pixiLayerSystem */ "./src/app/ecs/systems/back/pixiLayerSystem.ts");
/* harmony import */ var _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../ecs/systems/back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* harmony import */ var _ecs_systems_mouseTrailSystem__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../ecs/systems/mouseTrailSystem */ "./src/app/ecs/systems/mouseTrailSystem.ts");
































class EditMapPhase extends _ecsPhase__WEBPACK_IMPORTED_MODULE_20__.EcsPhase {
    constructor(name, isHost) {
        super(name, isHost);
    }
    ecsSetup() {
        this.setupNetworkManager();
        super.ecsSetup();
    }
    registerSystems() {
        super.registerSystems();
        let w = this.world;
        w.addSystem(new _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_27__.CommonNetworkSystem(w, this.networkManager.channel));
        w.addSystem(new _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_22__.CommandSystem(w));
        if (w.isMaster) {
            w.addSystem(new _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_23__.CommandHistorySystem(w));
        }
        w.addSystem(new _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_26__.WebKeyboardSystem(w));
        w.addSystem(new _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_30__.BigStorageSystem(w));
        w.addSystem(new _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_24__.LayerSystem(w));
        w.addSystem(new _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_21__.PixiBoardSystem(w));
        w.addSystem(new _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_3__.SelectionSystem(w));
        w.addSystem(new _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_25__.PixiRectSelectionSystem(w));
        w.addSystem(new _ecs_systems_back_pixiMeasureSystem__WEBPACK_IMPORTED_MODULE_28__.PixiMeasureSystem(w));
        w.addSystem(new _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_18__.ToolSystem(w));
        w.addSystem(new _ecs_systems_mouseTrailSystem__WEBPACK_IMPORTED_MODULE_31__.MouseTrailSystem(w));
        w.addSystem(new _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_19__.GridSystem(w));
        w.addSystem(new _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_12__.InteractionSystem(w));
        w.addSystem(new _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_10__.TextSystem(w));
        w.addSystem(new _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_17__.PixiGraphicSystem(w));
        w.addSystem(new _ecs_systems_back_pixiLayerSystem__WEBPACK_IMPORTED_MODULE_29__.PixiLayerSystem(w));
        w.addSystem(new _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_2__.BackgroundImageSystem(w));
        w.addSystem(new _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_8__.WallSystem(w));
        w.addSystem(new _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_15__.DoorSystem(w));
        w.addSystem(new _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_11__.VisibilitySystem(w));
        w.addSystem(new _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_14__.VisibilityAwareSystem(w));
        w.addSystem(new _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PinSystem(w));
        w.addSystem(new _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_16__.PropSystem(w));
        w.addSystem(new _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_13__.PlayerSystem(w));
        w.addSystem(new _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_9__.LightSystem(w));
    }
    setupNetworkManager() {
        this.networkManager = new _network_networkManager__WEBPACK_IMPORTED_MODULE_4__.NetworkManager(this.world.isMaster);
        this.networkManager.on("ready", this.onNetworkReady, this);
        this.networkManager.on("error", this.onNetworkError, this);
    }
    // overrides
    onNetworkReady() {
        console.log("Network is ready! side: " + (this.networkManager.isHost ? "master" : "player"));
        if (this.networkManager.isHost) {
            history.replaceState(null, "", '#p' + this.networkManager.peer.id);
        }
    }
    onNetworkError(err) {
        // TODO: open modal or something
        console.error("Error from peerjs: ", err.type);
        if (err.type === 'server-error') {
            alert("Error connecting to peerjs instance, you're offline now");
            if (!this.world.isMaster) {
                _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__.HostEditMapPhase(new _map_gameMap__WEBPACK_IMPORTED_MODULE_6__.GameMap()));
            }
        }
        else if (err.type === 'peer-unavailable') {
            console.log("Invalid invite link");
            alert("Invalid invite link");
            history.replaceState(null, "", ' ');
            if (!this.world.isMaster) {
                _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__.HostEditMapPhase(new _map_gameMap__WEBPACK_IMPORTED_MODULE_6__.GameMap()));
            }
        }
        else if (err.ty === 'network') {
            alert("Connection lost");
        }
        else {
            alert(err);
        }
    }
    ui() {
        return new _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__.default({
            propsData: {
                world: this.world,
            }
        });
    }
    disable() {
        super.disable();
        this.networkManager.disconnect();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/hostEditMapPhase.ts":
/*!***************************************************!*\
  !*** ./src/app/phase/editMap/hostEditMapPhase.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HostEditMapPhase": () => (/* binding */ HostEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _map_mapLevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../map/mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HostEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(map) {
        super('editHost', true);
        this.map = map;
        if (this.map.levels.size == 0) {
            this.map.levels.set(42, new _map_mapLevel__WEBPACK_IMPORTED_MODULE_1__.MapLevel(42));
        }
        this.currentLevel = this.map.levels.values().next().value;
        this.world.events.on('export_map', () => {
            void this.exportMap();
        });
    }
    onDrop(event) {
        return __awaiter(this, void 0, void 0, function* () {
            event.stopPropagation();
            event.preventDefault();
            let x = event.pageX;
            let y = event.pageY;
            if (event.dataTransfer.items) {
                let res = [];
                for (let f of event.dataTransfer.items) {
                    let file = f.getAsFile();
                    if (file != null) {
                        res.push(file);
                    }
                }
                yield this.onFileDrop(res, x, y);
            }
            else {
                yield this.onFileDrop(event.dataTransfer.files, x, y);
            }
        });
    }
    onDragOver(event) {
        event.stopPropagation();
        event.preventDefault();
        event.dataTransfer.dropEffect = "copy";
        return false;
    }
    onFileDrop(files, x, y) {
        return __awaiter(this, void 0, void 0, function* () {
            if (files.length == 0)
                return;
            let firstFile = files[0];
            // Sometimes this does not work but the problem is not the matrix calculation, it's the browser coords
            // so if you have firefox and linux (this seems to be the wrong stack) and have spare time, pls debug this.
            // Could be caused by: https://bugzilla.mozilla.org/show_bug.cgi?id=505521#c80
            let p = new PIXI.Point(x, y);
            let pixiBoard = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
            pixiBoard.board.updateTransform();
            pixiBoard.board.transform.worldTransform.applyInverse(p, p);
            if (firstFile.type.startsWith("image/")) {
                let data = new Uint8Array(yield firstFile.arrayBuffer());
                let bigStorage = this.world.systems.get(_ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE);
                let dataId = bigStorage.create({
                    image: data,
                }, true).multiId;
                let cmd = {
                    kind: 'spawn',
                    entities: [{
                            id: -1,
                            components: [
                                {
                                    type: 'name',
                                    name: firstFile.name,
                                    clientVisible: false,
                                },
                                {
                                    type: "position",
                                    x: p.x,
                                    y: p.y,
                                },
                                {
                                    type: "transform",
                                    rotation: 0,
                                    scale: 1,
                                },
                                {
                                    type: "background_image",
                                    entity: -1,
                                    image: dataId,
                                    imageType: firstFile.type,
                                },
                            ]
                        }]
                };
                (0,_ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_3__.executeAndLogCommand)(this.world, cmd);
                console.log("Image loaded");
            }
        });
    }
    exportMap() {
        return __awaiter(this, void 0, void 0, function* () {
            this.currentLevel.saveFrom(this.world);
            let blob = yield this.map.saveToFile();
            this.saveBlob(blob, "map.dndm");
        });
    }
    saveBlob(blob, fileName) {
        let a = document.getElementById("hidden-download-link");
        let url = window.URL.createObjectURL(blob);
        a.href = url;
        a.download = fileName;
        a.click();
        window.URL.revokeObjectURL(url);
    }
    enable() {
        super.enable();
        const canvas = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE).renderer.view;
        canvas.ondrop = this.onDrop.bind(this);
        canvas.ondragover = this.onDragOver.bind(this);
        this.beforeUnloadListener = (event) => {
            event.preventDefault();
            event.returnValue = 'pls';
        };
        window.addEventListener('beforeunload', this.beforeUnloadListener);
        this.currentLevel.loadInto(this.world);
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.on("_device_join", this.onDeviceJoin, this);
    }
    disable() {
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.off("_device_join", this.onDeviceJoin, this);
        window.removeEventListener('beforeunload', this.beforeUnloadListener);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/layerOrder.ts":
/*!*********************************************!*\
  !*** ./src/app/phase/editMap/layerOrder.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LayerOrder": () => (/* binding */ LayerOrder)
/* harmony export */ });
var LayerOrder;
(function (LayerOrder) {
    LayerOrder[LayerOrder["BACKGROUND"] = 0] = "BACKGROUND";
    LayerOrder[LayerOrder["GRID"] = 10] = "GRID";
    LayerOrder[LayerOrder["FOREGROUND"] = 100] = "FOREGROUND";
    LayerOrder[LayerOrder["DETAILS"] = 110] = "DETAILS";
    LayerOrder[LayerOrder["LIGHT"] = 200] = "LIGHT";
    LayerOrder[LayerOrder["TOOLS"] = 250] = "TOOLS";
    LayerOrder[LayerOrder["TEXT"] = 300] = "TEXT";
})(LayerOrder || (LayerOrder = {}));


/***/ }),

/***/ "./src/app/phase/homePhase.ts":
/*!************************************!*\
  !*** ./src/app/phase/homePhase.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HomePhase": () => (/* binding */ HomePhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");
/* harmony import */ var _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/home/home.vue */ "./src/app/ui/home/home.vue");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editMap/hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HomePhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("home");
    }
    ui() {
        return new _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__.default();
    }
    createMap() {
        let map = new _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap();
        _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
    }
    editMap(file) {
        return __awaiter(this, void 0, void 0, function* () {
            let map = yield _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap.loadFromFile(file);
            _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
        });
    }
    enable() {
        super.enable();
        this.uiEventEmitter.on('create_map', this.createMap, this);
        this.uiEventEmitter.on('edit', this.editMap, this);
    }
    disable() {
        this.uiEventEmitter.on('edit', this.editMap, this);
        this.uiEventEmitter.on('create_map', this.createMap, this);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/loadingPhase.ts":
/*!***************************************!*\
  !*** ./src/app/phase/loadingPhase.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadingPhase": () => (/* binding */ LoadingPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/loading/loading.vue */ "./src/app/ui/loading/loading.vue");


class LoadingPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("loading");
    }
    ui() {
        return new _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__.default();
    }
}


/***/ }),

/***/ "./src/app/phase/phase.ts":
/*!********************************!*\
  !*** ./src/app/phase/phase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Phase": () => (/* binding */ Phase)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);


class Phase {
    constructor(name) {
        this.name = name;
        // Create Vue instance that is responsible for handling the UI events of the current phase.
        // https://medium.com/vuejobs/create-a-global-event-bus-in-vue-js-838a5d9ab03a
        this.uiEventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
    }
    log(message) {
        console.log(`[${this.name}] ` + message);
    }
    ui() {
        return undefined;
    }
    enable() {
        this.log("Enabling");
        vue__WEBPACK_IMPORTED_MODULE_1__.default.prototype.eventEmitter = this.uiEventEmitter;
        this.vue = this.ui();
        if (this.vue) {
            this.vue.$mount();
            document.body.appendChild(this.vue.$el);
        }
        // Done ^^
    }
    disable() {
        console.log(`[${this.name}] Disabling`);
        if (this.vue) {
            document.body.removeChild(this.vue.$el);
        }
    }
    /**
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}


/***/ }),

/***/ "./src/app/phase/stage.ts":
/*!********************************!*\
  !*** ./src/app/phase/stage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stage": () => (/* binding */ Stage)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");

class Stage extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name) {
        super(name);
        this.phase = null;
    }
    setPhase(phase) {
        if (this.phase)
            this.phase.disable();
        this.phase = phase;
        if (this.phase)
            this.phase.enable();
    }
    disable() {
        super.disable();
        this.setPhase(null);
    }
}


/***/ }),

/***/ "./src/app/ui/vue.ts":
/*!***************************!*\
  !*** ./src/app/ui/vue.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Vue": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue),
/* harmony export */   "VComponent": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Component),
/* harmony export */   "VProp": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Prop),
/* harmony export */   "VWatch": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch),
/* harmony export */   "VRef": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Ref),
/* harmony export */   "VWatchImmediate": () => (/* binding */ VWatchImmediate)
/* harmony export */ });
/* harmony import */ var vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue-property-decorator */ "./node_modules/vue-property-decorator/lib/index.js");


function VWatchImmediate(name) {
    return (0,vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch)(name, { immediate: true });
}


/***/ }),

/***/ "./src/app/util/array.ts":
/*!*******************************!*\
  !*** ./src/app/util/array.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arrayRemoveElem": () => (/* binding */ arrayRemoveElem)
/* harmony export */ });
function arrayRemoveElem(arr, elem) {
    let index = arr.indexOf(elem);
    if (index !== -1)
        arr.splice(index, 1);
    return index !== -1;
}


/***/ }),

/***/ "./src/app/util/binaryHeap.ts":
/*!************************************!*\
  !*** ./src/app/util/binaryHeap.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinaryHeap": () => (/* binding */ BinaryHeap)
/* harmony export */ });
// Binary heap implementation from:
// http://eloquentjavascript.net/appendix2.html
class BinaryHeap {
    constructor(cmpLt) {
        this.content = new Array();
        this.elemMap = new Map();
        this.cmpLt = cmpLt;
    }
    push(element) {
        // Add the new element to the end of the array.
        this.elemMap.set(element, this.content.length);
        this.content.push(element);
        // Allow it to bubble up.
        this.bubbleUp(this.content.length - 1);
    }
    pop() {
        if (this.content.length === 0)
            return undefined;
        // Store the first element so we can return it later.
        let result = this.content[0];
        this.elemMap.delete(result);
        // Get the element at the end of the array.
        let end = this.content.pop();
        // If there are any elements left, put the end element at the
        // start, and let it sink down.
        if (this.content.length !== 0) {
            this.content[0] = end;
            this.elemMap.set(end, 0);
            this.sinkDown(0);
        }
        return result;
    }
    popElem(e) {
        let index = this.elemMap.get(e);
        if (index === undefined)
            return;
        this.elemMap.delete(e);
        let end = this.content.pop();
        if (index === this.content.length)
            return;
        this.content[index] = end;
        this.elemMap.set(end, index);
        this.sinkDown(index);
        this.bubbleUp(index); // Fix, some systems where a < b. b < c => a < c is not maintained
    }
    hasElem(e) {
        return this.elemMap.has(e);
    }
    peek() {
        return this.content[0];
    }
    size() {
        return this.content.length;
    }
    bubbleUp(n) {
        // Fetch the element that has to be moved.
        let element = this.content[n];
        // When at 0, an element can not go up any further.
        while (n > 0) {
            // Compute the parent element's index, and fetch it.
            let parentN = Math.floor((n + 1) / 2) - 1;
            let parent = this.content[parentN];
            // Swap the elements if the parent is greater.
            if (this.cmpLt(element, parent)) {
                this.content[parentN] = element;
                this.content[n] = parent;
                this.elemMap.set(element, parentN);
                this.elemMap.set(parent, n);
                // Update 'n' to continue at the new position.
                n = parentN;
            }
            // Found a parent that is less, no need to move it further.
            else {
                break;
            }
        }
    }
    sinkDown(n) {
        // Look up the target element and its score.
        let length = this.content.length;
        let element = this.content[n];
        while (true) {
            // Compute the indices of the child elements.
            let child2N = (n + 1) * 2, child1N = child2N - 1;
            // This is used to store the new position of the element,
            // if any.
            let swap = null;
            let child1 = undefined;
            // If the first child exists (is inside the array)...
            if (child1N < length) {
                // Look it up and compute its score.
                child1 = this.content[child1N];
                // If the score is less than our element's, we need to swap.
                if (this.cmpLt(child1, element))
                    swap = child1N;
            }
            // Do the same checks for the other child.
            if (child2N < length) {
                let child2 = this.content[child2N];
                if (this.cmpLt(child2, swap == null ? element : child1)) {
                    swap = child2N;
                }
            }
            // If the element needs to be moved, swap it, and continue.
            if (swap != null) {
                this.content[n] = this.content[swap];
                this.content[swap] = element;
                this.elemMap.set(this.content[n], n);
                this.elemMap.set(element, swap);
                n = swap;
            }
            // Otherwise, we are done.
            else {
                break;
            }
        }
    }
}


/***/ }),

/***/ "./src/app/util/bitSet.ts":
/*!********************************!*\
  !*** ./src/app/util/bitSet.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitSet": () => (/* binding */ BitSet)
/* harmony export */ });
/**
 * Basic BitSet
 */
class BitSet {
    constructor(data) {
        if (typeof data === 'number') {
            this.data = new Uint32Array(Math.ceil(length / 32));
        }
        else if (data.BYTES_PER_ELEMENT === 4) {
            this.data = data;
        }
        else {
            let len = Math.floor(data.byteLength / Uint32Array.BYTES_PER_ELEMENT);
            this.data = new Uint32Array(data.buffer, data.byteOffset, len);
        }
    }
    get size() {
        return this.data.length << 5;
    }
    get(i) {
        i |= 0;
        let wi = i >>> 5;
        if (wi >= this.data.length)
            return false;
        let b = this.data[wi];
        return !!((b >>> i) & 1);
    }
    ensureCapacity(wi) {
        let newLen = this.data.length;
        while (newLen < wi)
            newLen *= 2;
        if (newLen === this.data.length)
            return;
        let newData = new Uint32Array(newLen);
        newData.set(this.data);
        this.data = newData;
    }
    set(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] |= 1 << i;
    }
    reset(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] &= ~(1 << i);
    }
    isAll(target, until) {
        let t = 0;
        if (target) {
            t = 0xFFFFFFFF;
        }
        let loopLast = until === undefined ? this.data.length : (until >>> 5);
        for (let i = 0; i < loopLast; i++) {
            if (this.data[i] !== t)
                return false;
        }
        if (until === undefined)
            return true;
        let i = ((until - 1) >> 5) + 1;
        let il = until & 0x1F;
        let mask = (1 << il) - 1;
        let d = this.data[i];
        if (target) {
            d = ~d;
        }
        return (d & mask) === 0;
    }
}


/***/ }),

/***/ "./src/app/util/eventEmitterWrapper.ts":
/*!*********************************************!*\
  !*** ./src/app/util/eventEmitterWrapper.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventEmitterWrapper": () => (/* binding */ EventEmitterWrapper)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class EventEmitterWrapper extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__ {
    constructor(catcher) {
        super();
        this.caught = new Set();
        this.catcher = catcher;
    }
    catchEvent(event) {
        this.catcher(event, this);
        this.caught.add(event);
    }
    on(event, fn, context) {
        super.on(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
    addListener(event, fn, context) {
        super.addListener(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/util/geometry.ts":
/*!**********************************!*\
  !*** ./src/app/util/geometry.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "polygonPointIntersect": () => (/* binding */ polygonPointIntersect),
/* harmony export */   "aabbAabbIntersect": () => (/* binding */ aabbAabbIntersect),
/* harmony export */   "distSquared2d": () => (/* binding */ distSquared2d),
/* harmony export */   "projectPointOnSegment": () => (/* binding */ projectPointOnSegment),
/* harmony export */   "intersectLineVsLine": () => (/* binding */ intersectLineVsLine),
/* harmony export */   "aabbSameOriginDifference": () => (/* binding */ aabbSameOriginDifference)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

function polygonPointIntersect(point, polygon) {
    const x = point.x;
    const y = point.y;
    let inside = false;
    // use some raycasting to test hits
    // https://github.com/substack/point-in-polygon/blob/master/index.js
    const length = polygon.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
        const xi = polygon[i * 2];
        const yi = polygon[(i * 2) + 1];
        const xj = polygon[j * 2];
        const yj = polygon[(j * 2) + 1];
        const intersect = ((yi > y) !== (yj > y)) && (x < ((xj - xi) * ((y - yi) / (yj - yi))) + xi);
        if (intersect) {
            inside = !inside;
        }
    }
    return inside;
}
function aabbAabbIntersect(al, at, ar, ab, bl, bt, br, bb) {
    return al < br && ar > bl && at < bb && ab > bt;
}
function distSquared2d(x1, y1, x2, y2) {
    let x = x1 - x2;
    let y = y1 - y2;
    return x * x + y * y;
}
function projectPointOnSegment(ax, ay, bx, by, px, py) {
    if (ax == bx && ay == ay)
        ax -= 0.00001;
    let u = ((px - ax) * (bx - ax)) + ((py - ay) * (by - ay));
    let udenom = Math.pow(bx - ax, 2) + Math.pow(by - ay, 2);
    u /= udenom;
    let rx = ax + (u * (bx - ax));
    let ry = ay + (u * (by - ay));
    let minx, maxx, miny, maxy;
    minx = Math.min(ax, bx);
    maxx = Math.max(ax, bx);
    miny = Math.min(ay, by);
    maxy = Math.max(ay, by);
    let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
    return isValid ? [rx, ry] : undefined;
}
function intersectLineVsLine(a1, a2, b1, b2, target) {
    let dbx = b2.x - b1.x;
    let dby = b2.y - b1.y;
    let dax = a2.x - a1.x;
    let day = a2.y - a1.y;
    let u_b = dby * dax - dbx * day;
    if (u_b == 0) {
        return false;
    }
    let ua = (dbx * (a1.y - b1.y) - dby * (a1.x - b1.x)) / u_b;
    if (target !== undefined) {
        target.set(a1.x - ua * -dax, a1.y - ua * -day);
    }
    return true;
}
function aabbSameOriginDifference(orig, last, now, added, removed) {
    let xAct = 0;
    if (now.x != last.x) {
        let xBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(now.x, orig.y, last.x, last.y);
        let add = (now.x > last.x) == (orig.x < now.x);
        if (add) {
            xAct = 1;
            added.push(xBox);
        }
        else {
            xAct = -1;
            removed.push(xBox);
        }
    }
    let yAct = 0;
    if (now.y != last.y) {
        let yBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(orig.x, last.y, last.x, now.y);
        let add = (now.y > last.y) == (orig.y < last.y);
        if (add) {
            yAct = 1;
            added.push(yBox);
        }
        else {
            yAct = -1;
            removed.push(yBox);
        }
    }
    if (xAct == yAct) {
        let box = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(last.x, last.y, now.x, now.y);
        if (xAct > 0) {
            added.push(box);
        }
        else {
            removed.push(box);
        }
    }
}


/***/ }),

/***/ "./src/app/util/k2dTree.ts":
/*!*********************************!*\
  !*** ./src/app/util/k2dTree.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K2dTree": () => (/* binding */ K2dTree)
/* harmony export */ });
class Node {
    constructor(point, parent, dimension) {
        this.left = undefined;
        this.right = undefined;
        this.point = point;
        this.parent = parent;
        this.dimension = dimension;
    }
}
class K2dTree {
    constructor() {
        this.root = undefined;
    }
    distance(a, b) {
        let dx = a[0] - b[0];
        let dy = a[1] - b[1];
        return dx * dx + dy * dy;
    }
    lastSearch(point, node, parent) {
        while (node !== undefined) {
            parent = node;
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return parent;
    }
    nodeSearch(point) {
        let node = this.root;
        while (node !== undefined) {
            if (point[0] === node.point[0] && point[1] === node.point[1]) {
                return node;
            }
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return undefined;
    }
    insert(point) {
        let insertPosition = this.lastSearch(point, this.root, undefined);
        if (insertPosition === undefined) {
            this.root = new Node(point, undefined, 0);
            return;
        }
        let newNode = new Node(point, insertPosition, (insertPosition.dimension + 1) & 1);
        let dimension = insertPosition.dimension;
        if (point[dimension] < insertPosition.point[dimension]) {
            insertPosition.left = newNode;
        }
        else {
            insertPosition.right = newNode;
        }
    }
    findMin(node, dim) {
        if (node === undefined) {
            return undefined;
        }
        if (node.dimension === dim) {
            if (node.left !== undefined) {
                return this.findMin(node.left, dim);
            }
            return node;
        }
        let own = node.point[dim];
        let left = this.findMin(node.left, dim);
        let right = this.findMin(node.right, dim);
        let min = node;
        if (left !== undefined && left.point[dim] < own) {
            min = left;
        }
        if (right !== undefined && right.point[dim] < min.point[dim]) {
            min = right;
        }
        return min;
    }
    removeNode(node) {
        if (node.left === undefined && node.right === undefined) {
            if (node.parent === undefined) {
                this.root = undefined;
                return;
            }
            let dim = node.parent.dimension;
            if (node.point[dim] < node.parent.point[dim]) {
                node.parent.left = undefined;
            }
            else {
                node.parent.right = undefined;
            }
            return;
        }
        // If the right subtree is not empty, swap with the minimum element on the
        // node's dimension. If it is empty, we swap the left and right subtrees and
        // do the same.
        if (node.right !== undefined) {
            let nextNode = this.findMin(node.right, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.point = nextPoint;
        }
        else {
            let nextNode = this.findMin(node.left, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.right = node.left;
            node.left = undefined;
            node.point = nextPoint;
        }
    }
    remove(point) {
        let node = this.nodeSearch(point);
        if (node === undefined)
            return false;
        this.removeNode(node);
        return true;
    }
    nearestPoint(point, root) {
        root = root || this.root;
        if (root === undefined)
            return undefined;
        let ownDistance = this.distance(root.point, point);
        if (root.left === undefined && root.right === undefined) {
            return [root.point, ownDistance];
        }
        let bestChild;
        if (root.right === undefined) {
            bestChild = root.left;
        }
        else if (root.left === undefined) {
            bestChild = root.right;
        }
        else {
            if (point[root.dimension] < root.point[root.dimension]) {
                bestChild = root.left;
            }
            else {
                bestChild = root.right;
            }
        }
        let [bestChildNode, bestChildDist] = this.nearestPoint(point, bestChild);
        let bestNode;
        let bestDist;
        if (bestChildDist < ownDistance) {
            bestNode = bestChildNode;
            bestDist = bestChildDist;
        }
        else {
            bestNode = root.point;
            bestDist = ownDistance;
        }
        // Searched point projected to our axis
        let linearPoint = [point[0], point[1]];
        linearPoint[root.dimension] = root.point[root.dimension];
        let linearDist = this.distance(linearPoint, point);
        if (linearDist < bestDist) {
            let otherChild;
            if (bestChild === root.left) {
                otherChild = root.right;
            }
            else {
                otherChild = root.left;
            }
            if (otherChild !== undefined) {
                let [otherNode, otherDist] = this.nearestPoint(point, otherChild);
                if (otherDist < bestDist) {
                    bestNode = otherNode;
                    bestDist = otherDist;
                }
            }
        }
        return [bestNode, bestDist];
    }
}


/***/ }),

/***/ "./src/app/util/pixi.ts":
/*!******************************!*\
  !*** ./src/app/util/pixi.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DESTROY_ALL": () => (/* binding */ DESTROY_ALL),
/* harmony export */   "DESTROY_MIN": () => (/* binding */ DESTROY_MIN),
/* harmony export */   "loadTexture": () => (/* binding */ loadTexture),
/* harmony export */   "CUSTOM_BLEND_MODES": () => (/* binding */ CUSTOM_BLEND_MODES),
/* harmony export */   "addCustomBlendModes": () => (/* binding */ addCustomBlendModes)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

const DESTROY_ALL = {
    children: true,
    texture: true,
    baseTexture: true,
};
const DESTROY_MIN = {
    children: false,
    texture: false,
    baseTexture: false,
};
const ALLOWED_IMAGETYPES = ['jpeg', 'png', 'x-jg', 'bmp', 'x-icon', 'ief', 'pjpeg', 'x-portable-bitmap', 'x-rgb', 'tiff', 'x-tiff'];
function validateImageMimeType(type) {
    if (!type.startsWith('image/'))
        throw 'Invalid type: it should be an image';
    if (ALLOWED_IMAGETYPES.indexOf(type.substr('image/'.length)) < 0)
        throw 'Unsupported image type';
}
function loadTexture(data, dataType) {
    validateImageMimeType(dataType);
    let typedArray = new Uint8Array(data);
    let b64 = 'data:' + dataType + ';base64,' + btoa(typedArray.reduce((data, byte) => {
        return data + String.fromCharCode(byte);
    }, ''));
    return new Promise((resolve, reject) => {
        let image = new Image();
        image.onload = () => {
            const tex = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.BaseTexture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.resources.ImageResource(image)));
            resolve(tex);
        };
        image.onerror = reject;
        image.src = b64;
    });
}
var CUSTOM_BLEND_MODES;
(function (CUSTOM_BLEND_MODES) {
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["MULTIPLY_COLOR_ONLY"] = 30] = "MULTIPLY_COLOR_ONLY";
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["ADD_WHERE_ALPHA_1"] = 31] = "ADD_WHERE_ALPHA_1";
})(CUSTOM_BLEND_MODES || (CUSTOM_BLEND_MODES = {}));
function addCustomBlendModes(renderer) {
    let gl = renderer.gl;
    let array = renderer.state.blendModes;
    array[CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY] = [gl.DST_COLOR, gl.ZERO, gl.ONE, gl.ZERO];
    array[CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1] = [gl.DST_ALPHA, gl.ONE, gl.ZERO, gl.ONE];
}


/***/ }),

/***/ "./src/app/util/safeEventEmitter.ts":
/*!******************************************!*\
  !*** ./src/app/util/safeEventEmitter.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SafeEventEmitter)
/* harmony export */ });
class SafeEventEmitter {
    constructor() {
        this.events = {};
    }
    emit(event, ...args) {
        let listeners = this.events[event];
        if (listeners === undefined || listeners.length === 0)
            return false;
        let length = listeners.length;
        for (let i = 0; i < length;) {
            let listener = listeners[i];
            try {
                listener.cb.call(listener.self, ...args);
            }
            catch (b) {
                console.error("Error while calling event " + event);
                console.error(b);
            }
            if (listener.once) {
                listeners.splice(i, 1);
                length--;
            }
            else {
                i++;
            }
        }
        return true;
    }
    /**
     * Add a listener for a given event.
     */
    on(event, fn, context) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [];
            this.events[event] = listeners;
        }
        listeners.push({
            cb: fn,
            self: context,
            once: false,
        });
        return this;
    }
    /**
     * Add a one-time listener for a given event.
     */
    once(event, fn, context) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [];
            this.events[event] = listeners;
        }
        listeners.push({
            cb: fn,
            self: context,
            once: true,
        });
        return this;
    }
    /**
     * Remove the listeners of a given event.
     */
    off(event, fn, context, once) {
        let listeners = this.events[event];
        if (listeners === undefined)
            throw 'Cannot find event ' + event;
        let length = listeners.length;
        for (let i = 0; i < length; i++) {
            let listener = listeners[i];
            if (listener.cb === fn && listener.self === context) {
                listeners.splice(i, 1);
                return this;
            }
        }
        throw 'Cannot find event ' + event;
    }
    /**
     * Remove all listeners, or those of the specified event.
     */
    removeAllListeners(event) {
        if (event !== undefined) {
            this.events[event] = [];
        }
        else {
            this.events = {};
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=template&id=03d324d6& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&");
/* harmony import */ var _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
/* harmony import */ var _compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.render,
  _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/compWrapper.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=template&id=5efd7016& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&");
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsBackgroundImage.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=template&id=1862e8b5& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&");
/* harmony import */ var _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsDoor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue":
/*!*************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=template&id=724e011f& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&");
/* harmony import */ var _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsLight.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue?vue&type=template&id=3e768912& */ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&");
/* harmony import */ var _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsName.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsName.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=template&id=2effb2f9& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&");
/* harmony import */ var _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
/* harmony import */ var _ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsNote.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue":
/*!***********************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=template&id=26d88e5e& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&");
/* harmony import */ var _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPin.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue":
/*!**************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=template&id=636ceea8& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&");
/* harmony import */ var _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPlayer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=template&id=e81e4da0& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&");
/* harmony import */ var _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPosition.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=template&id=d4f0f42c& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&");
/* harmony import */ var _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsProp.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue":
/*!********************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");
/* harmony import */ var _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "08b2d1b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPropTeleport.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue":
/*!*****************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=template&id=4ee87bf5& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&");
/* harmony import */ var _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsTransform.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=template&id=37e22e5e& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&");
/* harmony import */ var _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsWall.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue":
/*!******************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=template&id=c407dbfa& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&");
/* harmony import */ var _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
/* harmony import */ var _entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.render,
  _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/entityInspect.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/editMap.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMap.vue?vue&type=template&id=53b46051& */ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&");
/* harmony import */ var _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editMap.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editMap.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.render,
  _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/editMap.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue":
/*!**************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=template&id=69e6e221& */ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");
/* harmony import */ var _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/gridEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lightSettingsEdit.vue?vue&type=template&id=52a50522& */ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&");
/* harmony import */ var _lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lightSettingsEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.render,
  _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/lightSettingsEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sideBar.vue?vue&type=template&id=075598ca& */ "./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&");
/* harmony import */ var _sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sideBar.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&");
/* harmony import */ var _sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sideBar.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.render,
  _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/sideBar.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolBar.vue?vue&type=template&id=fde8e78c& */ "./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&");
/* harmony import */ var _toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolBar.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&");
/* harmony import */ var _toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolBar.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.render,
  _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/toolBar.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/footer.vue":
/*!*******************************!*\
  !*** ./src/app/ui/footer.vue ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer.vue?vue&type=template&id=539f2bff& */ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&");
/* harmony import */ var _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./footer.vue?vue&type=script&lang=ts& */ "./src/app/ui/footer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./footer.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.render,
  _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/footer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/home.vue":
/*!**********************************!*\
  !*** ./src/app/ui/home/home.vue ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=d8550b4a& */ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");
/* harmony import */ var _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=ts& */ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
/* harmony import */ var _home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render,
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/home.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue":
/*!**************************************!*\
  !*** ./src/app/ui/home/mapInput.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapInput.vue?vue&type=template&id=7e9d406c& */ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&");
/* harmony import */ var _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue?vue&type=script&lang=js& */ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.render,
  _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/mapInput.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    name: "mapInput",
    data() {
        return {
            file: null,
        }
    },
    methods: {
        onDrop: function (event) {

        },
        hideModal: function (event) {
          this.$emit("close");
        }
    }
});


/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue":
/*!*********************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mouseTrailIcon.vue?vue&type=template&id=5673bb73& */ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&");
/* harmony import */ var _mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mouseTrailIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.render,
  _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/mouseTrailIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue":
/*!***************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wallIcon.vue?vue&type=template&id=15dccc9c& */ "./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&");
/* harmony import */ var _wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wallIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.render,
  _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/wallIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/loading/loading.vue":
/*!****************************************!*\
  !*** ./src/app/ui/loading/loading.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=b10af496& */ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");
/* harmony import */ var _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.vue?vue&type=script&lang=ts& */ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableColor.vue":
/*!*******************************************!*\
  !*** ./src/app/ui/util/editableColor.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableColor.vue?vue&type=template&id=b8ad6e14& */ "./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&");
/* harmony import */ var _editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableColor.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editableColor.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableColor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue":
/*!********************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableNumber.vue?vue&type=template&id=6fe10046& */ "./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&");
/* harmony import */ var _editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableNumber.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableNumber.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableText.vue":
/*!******************************************!*\
  !*** ./src/app/ui/util/editableText.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableText.vue?vue&type=template&id=c769652c& */ "./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&");
/* harmony import */ var _editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableText.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editableText.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableText.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lightSettingsEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!********************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!***********************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouseTrailIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&":
/*!****************************************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts& ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&":
/*!********************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableNumber.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=template&id=03d324d6& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=template&id=5efd7016& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=template&id=1862e8b5& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&":
/*!********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=template&id=724e011f& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=template&id=3e768912& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=template&id=2effb2f9& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=template&id=26d88e5e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=template&id=636ceea8& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=template&id=e81e4da0& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=template&id=d4f0f42c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!***************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=template&id=4ee87bf5& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=template&id=37e22e5e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&");


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=template&id=c407dbfa& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&");


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=template&id=53b46051& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&");


/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=template&id=69e6e221& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");


/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lightSettingsEdit.vue?vue&type=template&id=52a50522& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&");


/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=template&id=075598ca& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&");


/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=template&id=fde8e78c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&");


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&":
/*!**************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=template&id=539f2bff& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=template&id=539f2bff& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&");


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=template&id=d8550b4a& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");


/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=script&lang=js& */ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=template&id=7e9d406c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&");


/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouseTrailIcon.vue?vue&type=template&id=5673bb73& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&");


/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallIcon.vue?vue&type=template&id=15dccc9c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&");


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=b10af496& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");


/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&":
/*!**************************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=template&id=b8ad6e14& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&");


/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableNumber.vue?vue&type=template&id=6fe10046& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&");


/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=template&id=c769652c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&");


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", [
        _c(
          "div",
          { staticClass: "cwrapper_component-header" },
          [
            _c(
              "div",
              {
                on: {
                  click: function($event) {
                    _vm.visible = !_vm.visible
                  }
                }
              },
              [_vm._v(" " + _vm._s(_vm.component.typeName))]
            ),
            _vm._v(" "),
            _c("div", {
              staticClass: "cwrapper_component-arrow",
              class: { cwrapper_rotate: _vm.visible }
            }),
            _vm._v(" "),
            _c("div", { staticStyle: { width: "100%" } }),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component.clientVisible !== undefined,
                        expression: "component.clientVisible !== undefined"
                      }
                    ],
                    staticStyle: { display: "grid" },
                    attrs: {
                      squared: "",
                      size: "sm",
                      title: _vm.component.clientVisible
                        ? "Hide component"
                        : "Show component"
                    },
                    on: {
                      click: function($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          _vm.component.type,
                          "clientVisible",
                          !_vm.component.clientVisible
                        )
                      }
                    }
                  },
                  [
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: _vm.component.clientVisible,
                            expression: "component.clientVisible"
                          }
                        ],
                        staticClass: "g11"
                      },
                      [_c("i", { staticClass: "fas fa-eye" })]
                    ),
                    _vm._v(" "),
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: !_vm.component.clientVisible,
                            expression: "!component.clientVisible"
                          }
                        ],
                        staticClass: "g11"
                      },
                      [_c("i", { staticClass: "fas fa-eye-slash" })]
                    )
                  ]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._isFullscreen !== undefined,
                        expression: "component._isFullscreen !== undefined"
                      }
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "primary",
                      title: "Fullscreen"
                    },
                    on: {
                      click: function($event) {
                        _vm.component._isFullscreen = true
                      }
                    }
                  },
                  [_c("i", { staticClass: "fas fa-expand" })]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._canDelete,
                        expression: "component._canDelete"
                      }
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "danger",
                      title: "Delete"
                    },
                    on: {
                      click: function($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          "$",
                          "removeComponent",
                          _vm.component.type,
                          _vm.component.multiId
                        )
                      }
                    }
                  },
                  [_c("i", { staticClass: "fas fa-trash" })]
                )
              : _vm._e()
          ],
          1
        )
      ]),
      _vm._v(" "),
      _c(
        "b-collapse",
        {
          staticClass: "cwrapper_component-body",
          attrs: { visible: "" },
          model: {
            value: _vm.visible,
            callback: function($$v) {
              _vm.visible = $$v
            },
            expression: "visible"
          }
        },
        [
          _c(_vm.componentType, {
            tag: "component",
            attrs: { component: _vm.component, isAdmin: _vm.isAdmin },
            on: {
              "ecs-property-change": function($event) {
                return _vm.$emit(
                  "ecs-property-change",
                  arguments[0],
                  arguments[1],
                  arguments[2],
                  arguments[3]
                )
              }
            }
          })
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("span", [_vm._v("Your regular background image")])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Type:\n    "),
        !_vm.isAdmin
          ? _c("span", [
              _vm._v("\n      " + _vm._s(this.doorTypeName) + "\n    ")
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-form-select",
              {
                staticClass: "mb-3",
                model: {
                  value: _vm.doorType,
                  callback: function($$v) {
                    _vm.doorType = $$v
                  },
                  expression: "doorType"
                }
              },
              [
                _c("b-form-select-option", { attrs: { value: "normall" } }, [
                  _vm._v("Normal")
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "normalr" } }, [
                  _vm._v("Normal right")
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "rotate" } }, [
                  _vm._v("Rotating")
                ])
              ],
              1
            )
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        !_vm.isAdmin
          ? _c("span", [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))])
          : _vm._e(),
        _vm._v(" "),
        !_vm.isAdmin
          ? _c(
              "span",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: this.locked,
                    expression: "this.locked"
                  }
                ],
                staticStyle: { "margin-left": "0.5rem" }
              },
              [_c("i", { staticClass: "fas fa-lock" })]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.open },
                on: {
                  "update:pressed": function($event) {
                    _vm.open = $event
                  }
                }
              },
              [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.locked },
                on: {
                  "update:pressed": function($event) {
                    _vm.locked = $event
                  }
                }
              },
              [
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.locked,
                        expression: "locked"
                      }
                    ]
                  },
                  [_c("i", { staticClass: "fas fa-lock" })]
                ),
                _vm._v(" "),
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: !_vm.locked,
                        expression: "!locked"
                      }
                    ]
                  },
                  [_c("i", { staticClass: "fas fa-lock-open" })]
                )
              ]
            )
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Color:\n    "),
        _c("editable-color", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.color,
            callback: function($$v) {
              _vm.color = $$v
            },
            expression: "color"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range:\n    "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin, isNegative: "false" },
          on: { change: _vm.onChange },
          model: {
            value: _vm.range,
            callback: function($$v) {
              _vm.range = $$v
            },
            expression: "range"
          }
        })
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("editable-text", {
    attrs: { readonly: !_vm.isAdmin, placeholder: "Entity name" },
    on: { change: _vm.onChange },
    model: {
      value: _vm.component.name,
      callback: function($$v) {
        _vm.$set(_vm.component, "name", $$v)
      },
      expression: "component.name"
    }
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("b-textarea", {
        staticClass: "hprior ecs-note_textarea",
        attrs: {
          placeholder: "Write something here...",
          readonly: !_vm.isAdmin
        },
        on: { change: _vm.onChange },
        model: {
          value: _vm.note,
          callback: function($$v) {
            _vm.note = $$v
          },
          expression: "note"
        }
      }),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          attrs: {
            title: "Note",
            "hide-footer": "",
            "hide-header": "",
            "dialog-class": "modal-fullscreen modal-xxl",
            "content-class": "modal-content-dark"
          },
          scopedSlots: _vm._u([
            {
              key: "modal-footer",
              fn: function() {
                return undefined
              },
              proxy: true
            }
          ]),
          model: {
            value: _vm.component._isFullscreen,
            callback: function($$v) {
              _vm.$set(_vm.component, "_isFullscreen", $$v)
            },
            expression: "component._isFullscreen"
          }
        },
        [
          _c("b-textarea", {
            staticClass: "hprior ecs-note_textarea",
            staticStyle: { height: "100%", resize: "none" },
            attrs: {
              placeholder: "Write something here...",
              readonly: !_vm.isAdmin
            },
            on: { change: _vm.onChange },
            model: {
              value: _vm.note,
              callback: function($$v) {
                _vm.note = $$v
              },
              expression: "note"
            }
          })
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e& ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm.isAdmin
        ? [
            _c(
              "div",
              { staticClass: "d-flex align-items-center" },
              [
                _vm._v("\n      Color:\n      "),
                _c("editable-color", {
                  attrs: { readonly: !_vm.isAdmin },
                  on: { change: _vm.onChange },
                  model: {
                    value: _vm.color,
                    callback: function($$v) {
                      _vm.color = $$v
                    },
                    expression: "color"
                  }
                })
              ],
              1
            ),
            _vm._v(" "),
            _c(
              "div",
              { staticClass: "d-flex align-items-center" },
              [
                _vm._v("\n      Label:\n      "),
                _c("editable-text", {
                  attrs: { readonly: !_vm.isAdmin, placeholder: "Label" },
                  on: { change: _vm.onChange },
                  model: {
                    value: _vm.label,
                    callback: function($$v) {
                      _vm.label = $$v
                    },
                    expression: "label"
                  }
                })
              ],
              1
            )
          ]
        : _vm._e()
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Night vision:\n    "),
        _vm.isAdmin
          ? _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.nightVision,
                callback: function($$v) {
                  _vm.nightVision = $$v
                },
                expression: "nightVision"
              }
            })
          : _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.nightVision ? "yes" : "no"))
            ])
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range:\n    "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin, isNegative: "false" },
          on: { change: _vm.onChange },
          model: {
            value: _vm.range,
            callback: function($$v) {
              _vm.range = $$v
            },
            expression: "range"
          }
        })
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    X: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.x,
            callback: function($$v) {
              _vm.x = $$v
            },
            expression: "x"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Y: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.y,
            callback: function($$v) {
              _vm.y = $$v
            },
            expression: "y"
          }
        })
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div")
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", { staticStyle: { display: "flex", "align-items": "center" } }, [
        _vm._v("\n    Target: "),
        _c("span", { on: { click: _vm.focusTarget } }, [
          _vm._v(_vm._s(this.component.targetProp))
        ])
      ]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.link } }, [_vm._v("Link")]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.use } }, [_vm._v("Use")])
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5& ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Angle: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.rotation,
            callback: function($$v) {
              _vm.rotation = $$v
            },
            expression: "rotation"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Scale: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.scale,
            callback: function($$v) {
              _vm.scale = $$v
            },
            expression: "scale"
          }
        })
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    W: "),
        _c("editable-number", {
          attrs: { readonly: !this.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.w,
            callback: function($$v) {
              _vm.w = $$v
            },
            expression: "w"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    H: "),
        _c("editable-number", {
          attrs: { readonly: !this.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.h,
            callback: function($$v) {
              _vm.h = $$v
            },
            expression: "h"
          }
        })
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      directives: [
        {
          name: "show",
          rawName: "v-show",
          value: _vm.data.components.length > 0,
          expression: "data.components.length > 0"
        }
      ]
    },
    [
      _c(
        "div",
        { staticClass: "entity-inspect_component-btn-header" },
        [
          _vm.world.isMaster
            ? _c(
                "b-dropdown",
                {
                  attrs: { "toggle-class": "rounded-0", variant: "success" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "button-content",
                        fn: function() {
                          return [_c("i", { staticClass: "fas fa-plus" })]
                        },
                        proxy: true
                      }
                    ],
                    null,
                    false,
                    1774554641
                  )
                },
                [
                  _vm._v(" "),
                  _vm._l(_vm.data.addable, function(x) {
                    return _c(
                      "b-dropdown-item",
                      {
                        key: x.type,
                        on: {
                          click: function($event) {
                            return _vm.emitSpecial("addComponent", x.type)
                          }
                        }
                      },
                      [_vm._v("\n        " + _vm._s(x.name) + "\n      ")]
                    )
                  })
                ],
                2
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  staticStyle: { display: "grid" },
                  attrs: {
                    squared: "",
                    title: _vm.data.hidden ? "Show entity" : "Hide entity"
                  },
                  on: {
                    click: function($event) {
                      return _vm.emitSpecial("hidden", !_vm.data.hidden)
                    }
                  }
                },
                [
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.data.hidden ? "visible" : "hidden"
                      }
                    },
                    [_c("i", { staticClass: "fas fa-eye-slash" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.data.hidden ? "hidden" : "visible"
                      }
                    },
                    [_c("i", { staticClass: "fas fa-eye" })]
                  )
                ]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  attrs: {
                    variant: "danger",
                    title: "Delete entity",
                    squared: ""
                  },
                  on: {
                    click: function($event) {
                      return _vm.emitSpecial("delete")
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-trash" })]
              )
            : _vm._e()
        ],
        1
      ),
      _vm._v(" "),
      _vm._l(_vm.data.components, function(comp) {
        return _c("ecs-component-wrapper", {
          key: comp.type + (comp.multiId || ""),
          attrs: { component: comp, isAdmin: _vm.world.isMaster },
          on: {
            "ecs-property-change": function($event) {
              return _vm.onEcsPropertyChange(
                arguments[0],
                arguments[1],
                arguments[2],
                arguments[3]
              )
            }
          }
        })
      })
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "edit-map_game" },
    [
      _c("tool-bar", { attrs: { world: _vm.world } }),
      _vm._v(" "),
      _c("div", {
        staticStyle: {
          width: "100%",
          height: "calc(100vh - var(--topbar-height))"
        },
        attrs: { id: "canvas-container" }
      }),
      _vm._v(" "),
      _c("side-bar", { attrs: { world: _vm.world } }),
      _vm._v(" "),
      _c("a", {
        staticStyle: { display: "none" },
        attrs: { id: "hidden-download-link" }
      })
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm._v("\n  Type:\n  "),
      _c(
        "b-radio-group",
        {
          attrs: { id: "grid-type-radio", buttons: "" },
          model: {
            value: _vm.grid.type,
            callback: function($$v) {
              _vm.$set(_vm.grid, "type", $$v)
            },
            expression: "grid.type"
          }
        },
        [
          _c("b-radio", { attrs: { value: "none" } }, [
            _c("i", { staticClass: "fas fa-border-none" })
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "square" } }, [
            _c("i", { staticClass: "far fa-square" })
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "hex" } }, [
            _c(
              "svg",
              {
                staticClass: "svg-inline--fa fa-hexagon fa-w-18",
                attrs: {
                  role: "img",
                  xmlns: "http://www.w3.org/2000/svg",
                  viewBox: "0 0 576 512"
                }
              },
              [
                _c("path", {
                  attrs: {
                    fill: "currentColor",
                    d:
                      "M441.5 39.8C432.9 25.1 417.1 16 400 16H176c-17.1 0-32.9 9.1-41.5 23.8l-112 192c-8.7 14.9-8.7 33.4 0 48.4l112 192c8.6 14.7 24.4 23.8 41.5 23.8h224c17.1 0 32.9-9.1 41.5-23.8l112-192c8.7-14.9 8.7-33.4 0-48.4l-112-192zM400 448H176L64 256 176 64h224l112 192-112 192z"
                  }
                })
              ]
            )
          ])
        ],
        1
      ),
      _vm._v(" "),
      _vm.grid.type !== "none"
        ? _c(
            "div",
            [
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Size:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "10",
                        max: "512",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.size,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "size", $$v)
                        },
                        expression: "grid.size"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "10", max: "512" },
                model: {
                  value: _vm.grid.size,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "size", $$v)
                  },
                  expression: "grid.size"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Xoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.offX,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "offX", $$v)
                        },
                        expression: "grid.offX"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offX,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "offX", $$v)
                  },
                  expression: "grid.offX"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Yoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.offY,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "offY", $$v)
                        },
                        expression: "grid.offY"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offY,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "offY", $$v)
                  },
                  expression: "grid.offY"
                }
              }),
              _vm._v("\n\n    Color: " + _vm._s(_vm.grid.color) + "\n    "),
              _c("b-input", {
                attrs: { type: "color" },
                model: {
                  value: _vm.grid.color,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "color", $$v)
                  },
                  expression: "grid.color"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Opacity:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.opacity,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "opacity", $$v)
                        },
                        expression: "grid.opacity"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.opacity,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "opacity", $$v)
                  },
                  expression: "grid.opacity"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Thickness:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "1",
                        max: "200",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.thick,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "thick", $$v)
                        },
                        expression: "grid.thick"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "1", max: "200" },
                model: {
                  value: _vm.grid.thick,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "thick", $$v)
                  },
                  expression: "grid.thick"
                }
              })
            ],
            1
          )
        : _vm._e()
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "px-3 py-2" }, [
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Light:")]),
        _vm._v(" "),
        _c("b-input", {
          attrs: { type: "color", readonly: !_vm.world.isMaster },
          on: { change: _vm.onAmbientLightChange },
          model: {
            value: _vm.ambientLight,
            callback: function($$v) {
              _vm.ambientLight = $$v
            },
            expression: "ambientLight"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Needs light:")]),
        _vm._v(" "),
        _c("b-form-checkbox", {
          attrs: { readonly: !_vm.world.isMaster },
          on: { input: _vm.onAmbientLightChange },
          model: {
            value: _vm.needsLight,
            callback: function($$v) {
              _vm.needsLight = $$v
            },
            expression: "needsLight"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Vision type:")]),
        _vm._v(" "),
        _c(
          "b-button",
          {
            attrs: {
              pressed: _vm.roleplayVision,
              readonly: !_vm.world.isMaster
            },
            on: {
              "update:pressed": function($event) {
                _vm.roleplayVision = $event
              }
            }
          },
          [
            _vm._v(
              "\n      " +
                _vm._s(_vm.roleplayVision ? "Roleplayer" : "Master") +
                "\n    "
            )
          ]
        )
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Background:")]),
        _vm._v(" "),
        _c("b-input", {
          attrs: { type: "color", readonly: !_vm.world.isMaster },
          on: { change: _vm.onAmbientLightChange },
          model: {
            value: _vm.background,
            callback: function($$v) {
              _vm.background = $$v
            },
            expression: "background"
          }
        })
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      [
        _c("b-button", { on: { click: _vm.onLightSettingsReset } }, [
          _vm._v("Reset")
        ])
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-sidebar",
    {
      attrs: {
        id: "sidebar-right",
        title: "Sidebar",
        "bg-variant": "dark",
        "text-variant": "light",
        right: "",
        visible: "",
        "no-header": "",
        shadow: "",
        "sidebar-class": "under-navbar"
      },
      scopedSlots: _vm._u([
        {
          key: "footer",
          fn: function() {
            return [
              _c("div", { staticClass: "sidebar-footer" }, [
                _vm._v("\n      " + _vm._s(_vm.connectionCount) + "\n      "),
                _c(
                  "div",
                  {
                    class: { rotate: _vm.connectionBuffering },
                    staticStyle: { "margin-left": "0.2rem" }
                  },
                  [_c("i", { staticClass: "fas fa-sync-alt" })]
                )
              ])
            ]
          },
          proxy: true
        }
      ])
    },
    [
      _c("grid-edit", {
        directives: [
          {
            name: "show",
            rawName: "v-show",
            value: _vm.tool === "grid",
            expression: "tool === 'grid'"
          }
        ],
        staticClass: "px-3 py-2",
        attrs: { world: _vm.world }
      }),
      _vm._v(" "),
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.tool === "inspect",
              expression: "tool === 'inspect'"
            }
          ]
        },
        [_c("entity-inspect", { attrs: { world: _vm.world } })],
        1
      ),
      _vm._v(" "),
      _c("light-settings-edit", {
        directives: [
          {
            name: "show",
            rawName: "v-show",
            value: _vm.tool === "light",
            expression: "tool === 'light'"
          }
        ],
        attrs: { world: _vm.world }
      })
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-button-toolbar",
    {
      staticClass: "bg-dark",
      staticStyle: {
        width: "100%",
        height: "var(--topbar-height)",
        "z-index": "1000"
      },
      attrs: { type: "dark", variant: "info", justify: "" }
    },
    [
      _vm.world.isMaster
        ? _c(
            "b-button-group",
            { staticStyle: { "margin-right": "2rem" } },
            [
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn plz-prioritize undo-redo-btn",
                  attrs: {
                    title: "Undo",
                    squared: "",
                    disabled: !this.canUndo
                  },
                  on: {
                    click: function($event) {
                      return _vm.undo()
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-undo" })]
              ),
              _vm._v(" "),
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn plz-prioritize undo-redo-btn",
                  attrs: {
                    title: "Redo",
                    squared: "",
                    disabled: !this.canRedo
                  },
                  on: {
                    click: function($event) {
                      return _vm.redo()
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-redo" })]
              )
            ],
            1
          )
        : _vm._e(),
      _vm._v(" "),
      _c(
        "b-radio-group",
        {
          attrs: { buttons: "" },
          model: {
            value: _vm.tool,
            callback: function($$v) {
              _vm.tool = $$v
            },
            expression: "tool"
          }
        },
        [
          _c(
            "b-radio",
            {
              ref: "radioinspect",
              class: {
                "toolbar-btn": this.backgroundLocked,
                "btn-warning": !this.backgroundLocked
              },
              attrs: { title: "Inspect", value: "inspect", squared: "" }
            },
            [_c("i", { staticClass: "fas fa-hand-pointer" })]
          ),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Add wall",
                    value: "create_wall",
                    squared: ""
                  }
                },
                [_c("wall-icon")],
                1
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Add prop",
                    value: "create_prop",
                    squared: ""
                  }
                },
                [_c("i", { staticClass: "fas fa-couch" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Add pin", value: "create_pin", squared: "" }
                },
                [_c("i", { staticClass: "fas fa-thumbtack" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Edit grid", value: "grid", squared: "" }
                },
                [_c("i", { staticClass: "fas fa-border-all" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Light settings",
                    value: "light",
                    squared: ""
                  }
                },
                [_c("i", { staticClass: "fas fa-lightbulb" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Measure", value: "measure", squared: "" }
                },
                [_c("i", { staticClass: "fas fa-ruler" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _c(
            "b-radio",
            {
              staticClass: "toolbar-btn plz-prioritize",
              attrs: { title: "Mouse trail", value: "mouse_trail", squared: "" }
            },
            [_c("mouse-trail-icon")],
            1
          )
        ],
        1
      ),
      _vm._v(" "),
      _vm.world.isMaster
        ? _c(
            "b-button",
            {
              staticClass: "btn-xs",
              attrs: { title: "Export map", squared: "", variant: "success" },
              on: {
                click: function($event) {
                  return _vm.world.events.emit("export_map")
                }
              }
            },
            [_c("i", { staticClass: "fas fa-download" })]
          )
        : _vm._e(),
      _vm._v(" "),
      _c("div", { staticStyle: { flex: "1 1 0" } }),
      _vm._v(" "),
      _c(
        "b-button",
        {
          directives: [
            {
              name: "b-toggle",
              rawName: "v-b-toggle.sidebar-right",
              modifiers: { "sidebar-right": true }
            }
          ],
          staticClass: "btn-xs",
          attrs: { title: "Toggle sidebar", variant: "warning" }
        },
        [_c("i", { staticClass: "fas fa-angle-double-right" })]
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&":
/*!*****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff& ***!
  \*****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm._m(0)
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "footer" }, [
      _c("div", { staticClass: "footer_credits" }, [
        _c("div", { staticClass: "links" }, [
          _c("a", {
            staticClass: "footer_github",
            attrs: {
              href: "https://github.com/SnowyCoder/dndme",
              target: "_blank"
            }
          })
        ]),
        _vm._v(" "),
        _c("small", { staticStyle: { color: "lightgray" } }, [
          _vm._v("\n      Developed by "),
          _c(
            "a",
            {
              staticClass: "footer_profile",
              attrs: { href: "https://github.com/SnowyCoder", target: "_blank" }
            },
            [_vm._v("Rossi Lorenzo")]
          ),
          _vm._v(" /\n      Drawings by "),
          _c("span", { staticStyle: { color: "white" } }, [
            _vm._v("Giorgia Nizzoli")
          ])
        ])
      ])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      staticClass:
        "phase-container text-center flex-column align-items-center justify-content-center row",
      staticStyle: { height: "100vh", margin: "0" }
    },
    [
      _vm._m(0),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "warning", size: "lg" },
              on: { click: _vm.onCreateMap }
            },
            [_vm._v("Create Map")]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "info", size: "lg" },
              on: { click: _vm.onEditMap }
            },
            [_vm._v("Edit Map")]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          ref: "map-load-modal",
          attrs: { "hide-footer": "", title: "Gimme the map" }
        },
        [
          _c("b-form-file", {
            attrs: {
              state: Boolean(_vm.file),
              placeholder: "Choose a file or drop it here...",
              "drop-placeholder": "Drop file here...",
              accept: ".dndm"
            },
            model: {
              value: _vm.file,
              callback: function($$v) {
                _vm.file = $$v
              },
              expression: "file"
            }
          })
        ],
        1
      ),
      _vm._v(" "),
      _c("footer-component")
    ],
    1
  )
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "text-white" }, [
      _c(
        "p",
        {
          staticClass: "title",
          staticStyle: { "font-size": "3.5em", margin: "0" }
        },
        [_vm._v("DRAW&DICE")]
      ),
      _vm._v(" "),
      _c("p", { staticStyle: { "font-size": "2em" } }, [_vm._v("Dnd made ez!")])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    { ref: "my-modal", attrs: { "hide-footer": "", title: "Gimme the map" } },
    [
      _c("div", { staticClass: "d-block text-center" }, [
        _c("h3", [_vm._v("Insert map to load")])
      ]),
      _vm._v(" "),
      _c(
        "b-button",
        {
          staticClass: "mt-3",
          attrs: { variant: "outline-danger", block: "" },
          on: { click: _vm.hideModal }
        },
        [_vm._v("Cancel")]
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73& ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-w-16",
      attrs: {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 217.46 200.1"
      }
    },
    [
      _c("g", [
        _c("circle", {
          staticStyle: { fill: "#fff" },
          attrs: { cx: "37.78", cy: "38.23", r: "37.78" }
        }),
        _vm._v(" "),
        _c("path", {
          staticStyle: { fill: "#fff" },
          attrs: {
            d:
              "M236.41,291h2.24l2,0,3.91.09q3.88.11,7.71.27c5.12.22,10.2.5,15.29.85,10.17.69,20.33,1.62,30.55,2.88S318.6,297.92,329,300a258,258,0,0,1,31.7,8.25,155.6,155.6,0,0,1,16.5,6.55,101,101,0,0,1,17.24,10.1,72.14,72.14,0,0,1,8.76,7.59c1.44,1.48,2.85,3.07,4.22,4.79a56.73,56.73,0,0,1,3.88,5.58,50.71,50.71,0,0,1,5.69,13.3,49.09,49.09,0,0,1,1.57,14.24c0,1.14-.12,2.27-.24,3.37l-.08.82-.1.69-.21,1.35c-.25,1.76-.67,3.65-1.07,5.49a59.86,59.86,0,0,1-4.11,11.58,49.21,49.21,0,0,1-7.37,11.21,48.09,48.09,0,0,1-10,8.65,53.58,53.58,0,0,1-10.59,5.28,67.38,67.38,0,0,1-9.94,2.8,105.43,105.43,0,0,1-17.53,1.87c-10.87.3-20.64-.37-30-.78a243.31,243.31,0,0,0-26.81-.15c-8.45.58-16.36,2-23.14,5a44,44,0,0,0-4.87,2.53c-.78.47-1.53,1-2.28,1.49l-1.1.81c-.37.26-.78.61-1.17.91a40.18,40.18,0,0,0-7.73,7.78,17.34,17.34,0,0,0-2.11,3.79,9.67,9.67,0,0,0-.74,3.57c-.08,2.41,1.1,5.44,3.4,8.45a43.34,43.34,0,0,0,9,8.48,94,94,0,0,0,11.54,7.11,180.1,180.1,0,0,0,26,10.92,272.23,272.23,0,0,0,27.62,7.71A272.74,272.74,0,0,1,306,488.53a186.62,186.62,0,0,1-28.77-6.27A106.25,106.25,0,0,1,263,476.77a58.87,58.87,0,0,1-13.75-8.86,36.86,36.86,0,0,1-6.09-6.93,28.73,28.73,0,0,1-4.13-9.4,28.36,28.36,0,0,1-.46-10.69,36.66,36.66,0,0,1,2.79-9.65A60.59,60.59,0,0,1,251,416.37c.47-.53.89-1.06,1.41-1.59l1.55-1.61c1.06-1.05,2.16-2.07,3.29-3a67.75,67.75,0,0,1,7.11-5.35A81.08,81.08,0,0,1,279.84,397a118.09,118.09,0,0,1,15.78-4.74A268.45,268.45,0,0,1,326,387.52c9.7-1.09,19.1-2,27.28-3.57A62.06,62.06,0,0,0,364,381c2.94-1.16,4.92-2.55,5.57-3.51a1.86,1.86,0,0,0,.42-1.12c0-.29,0-.58,0-1.08l0-2.13c0-.53,0-1-.07-1.61l0-.44v-.2l0-.07a.85.85,0,0,0-.13-.22c-.2-.22-.4-.1-.53.09s-.25.39-.46.39c-.4,0-1.61-.8-3.76-1.75a57.31,57.31,0,0,0-8.31-2.89,103.35,103.35,0,0,0-10.79-2.29,203.75,203.75,0,0,0-24.7-2.28c-8.6-.32-17.43-.27-26.33.06s-17.88.91-26.84,1.72q-6.74.62-13.42,1.39l-6.64.82-3.25.45-1.58.23-.76.11c-.22,0-.52.08-.59.11Z",
            transform: "translate(-201.13 -290.98)"
          }
        })
      ])
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c& ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-w-16",
      attrs: {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 234.809 234.809",
        "xml:space": "preserve"
      }
    },
    [
      _c("path", {
        attrs: {
          fill: "currentColor",
          d:
            "M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n    c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n    c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n    c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n    c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n    H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n    c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n    c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n    c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n    c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n    H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n    c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n    c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z"
        }
      })
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c("div", { staticClass: "sloading-container" }, [
      _c("h1", { staticClass: "sloading-title" }, [_vm._v("DRAW&DICE")]),
      _vm._v(" "),
      _c("h2", [_vm._v(_vm._s(_vm.message))]),
      _vm._v(" "),
      _c("h5", [_vm._v("Loading")])
    ])
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("input", {
    staticClass: "util_ecolor",
    attrs: {
      type: "color",
      readonly: _vm.readonly,
      placeholder: _vm.placeholder
    },
    domProps: { value: _vm.value },
    on: {
      input: function($event) {
        return _vm.$emit("input", $event.target.value)
      },
      change: function($event) {
        return _vm.$emit("change")
      }
    }
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046& ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("editable-text", {
    attrs: {
      value: _vm.value,
      readonly: _vm.readonly,
      placeholder: _vm.placeholder,
      filter: _vm.filter
    },
    on: {
      change: function($event) {
        _vm.$emit("change", parseFloat($event))
      },
      input: function($event) {
        return _vm.$emit("input", $event)
      }
    }
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "util_editable-text_div" }, [
    _c("input", {
      staticClass: "form-control-plaintext hprior util_editable-text_input",
      attrs: {
        type: "text",
        readonly: _vm.readonly,
        placeholder: _vm.placeholder
      },
      domProps: { value: _vm.value },
      on: {
        input: function($event) {
          return _vm.onEvent("input", $event)
        },
        change: function($event) {
          return _vm.onEvent("change", $event)
        }
      }
    }),
    _vm._v(" "),
    _c("span", { staticClass: "util_editable-text_border" })
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("6a032da6", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("1c5d82b3", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("34a434f2", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("7a2423ac", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("14f2376c", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("0f7a11e8", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("349ead5c", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("3421859f", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("13877244", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("d6181bf8", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("ed5fdd00", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/style.css":
/*!******************************!*\
  !*** ./src/public/style.css ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("511f390e", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/spritesheets/props.json":
/*!********************************************!*\
  !*** ./src/public/spritesheets/props.json ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"frames":{"ladder_down.png":{"frame":{"x":0,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}},"ladder_up.png":{"frame":{"x":64,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}}},"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"1.0","image":"props.png","format":"RGBA8888","size":{"w":128,"h":64},"scale":"1","smartupdate":"$TexturePacker:SmartUpdate:e4f96f20e593ddd42c4cf1d50d2d8f26:7e60e2d391e00eeed0a16270f3c0f13d:f4c39b94f5b79b4c461da96ae5609d50$"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {};
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/app/index.ts","vendors-node_modules_fortawesome_fontawesome-free_js_all_js-node_modules_msgpack_msgpack_dist-1a4cc9"]
/******/ 		];
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkdrawndice"] = self["webpackChunkdrawndice"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// run startup
/******/ 	var __webpack_exports__ = __webpack_require__.x();
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/OTU1OSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZT9jZjI3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlPzNjMTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzFiYmUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlPzAyYTciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlPzQyNTMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlP2EzNDkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlPzA5YTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2M1Y2YiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzcwOTQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/YWQ3NiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL2ltYWdlcy9HaXRIdWItTWFyay1MaWdodC0zMnB4LnBuZyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL2ltYWdlcy9wcm9wcy5wbmciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9pbWFnZXMvdHJhaWwucG5nIiwid2VicGFjazovL2RyYXduZGljZS8uL25vZGVfbW9kdWxlcy9wZWVyanMvZGlzdHxzeW5jIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZT9hOTBhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/NWYxMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZT8wYjg3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZT9kZmFhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05hbWUudnVlPzc5MGUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/OWI1NiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlPzQ2N2MiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZT8yNTQzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZT81MGM5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlP2MyMDYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZT8wYjk4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWU/MmQ5ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZT8zMTI0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlP2U3YmIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlP2FiNmQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZT8yMWNiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9saWdodFNldHRpbmdzRWRpdC52dWU/NWRmYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvc2lkZUJhci52dWU/ZTAzOSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWU/NGM3YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/NjE3NSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/YzZhMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZT8xODdlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvd2FsbEljb24udnVlP2M0ODgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlPzFjMWYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzQ5Y2YiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZT9lY2NkIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlPzBmNjciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9QSVhJLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvYXNzZXRzTG9hZGVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9lY3NVdGlsLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2ludGVyYWN0aW9uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Jlc291cmNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtR3JhcGgudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9rZXlib2FyZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlCb2FyZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUdyYXBoaWNTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlMYXllclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aU1lYXN1cmVTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlSZWN0U2VsZWN0aW9uU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9zZWxlY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3RleHRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3Zpc2liaWxpdHlBd2FyZVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRJbWFnZVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZEhpc3RvcnlTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbXBvbmVudEVkaXQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2Rlc3Bhd25Db21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9ldmVudENvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL25vbmVDb21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9yZXNvdXJjZUVkaXRDb21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9zcGF3bkNvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9kb29yU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvZ3JpZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvbW91c2VUcmFpbFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3BpblN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3Byb3BTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy93YWxsU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL2luc3BlY3QudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvdG9vbHMvbWVhc3VyZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy9yZWN0YW5ndWxhclNlbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy90b29sVHlwZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy91dGlscy50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy93b3JsZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dhbWUvZ3JpZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dhbWUvcG9pbnREQi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dhbWUvcG9pbnRMaWdodFJlbmRlcmVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvYWFiYi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L2R5bmFtaWNUcmVlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvbGluZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L29iYi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L3Zpc2liaWxpdHlQb2x5Z29uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ3JhcGhpY3MudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9pbmRleC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL21hcC9nYW1lTWFwLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbWFwL21hcExldmVsLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbmV0d29yay9SdGNTdGF0c01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9uZXR3b3JrL2NoYW5uZWwudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9uZXR3b3JrL25ldHdvcmtNYW5hZ2VyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWNzUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2NsaWVudEVkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2VkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvaG9zdEVkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvbGF5ZXJPcmRlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2hvbWVQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2xvYWRpbmdQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL3BoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2Uvc3RhZ2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS92dWUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2FycmF5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9iaW5hcnlIZWFwLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9iaXRTZXQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2V2ZW50RW1pdHRlcldyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2dlb21ldHJ5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9rMmRUcmVlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9waXhpLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9zYWZlRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvbGlnaHRTZXR0aW5nc0VkaXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvbW91c2VUcmFpbEljb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvd2FsbEljb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/ZmFjMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzEzZDQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/NzI5MiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/MWI1YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT9kN2NjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlPzgwZTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT9lOTk5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MzA1MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/MzMxYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZT9mNTlhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWU/ZmRhYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlPzE0N2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWU/Mjc0MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT9mYmFhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT8wNmNiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWU/YTg3YiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvbGlnaHRTZXR0aW5nc0VkaXQudnVlP2RiY2QiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlPzVkMTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlP2M0ZmMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlPzI4MTUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlP2YzNGMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy9tb3VzZVRyYWlsSWNvbi52dWU/NTk5MSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL3dhbGxJY29uLnZ1ZT81ZjQwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9kMmMzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZUNvbG9yLnZ1ZT81MTM4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZU51bWJlci52dWU/ZWUyNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZT9kNjMwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWU/MjM4MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/OWU5YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzQyMjQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/MWMxYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/OTAwMCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT81ZTllIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlP2FkZDciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT8yYjg1Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/M2Y4OCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/ZGEyYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZT9kMWQ4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWU/Yzk0MSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlPzIwOTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWU/NTY0MiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT8wY2ExIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT8yZDhiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWU/ZDhiMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvbGlnaHRTZXR0aW5nc0VkaXQudnVlP2E5MTciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlP2M2NmIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlPzdmYjEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlP2E3YzEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlPzc3NzkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZT9kODI3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvbW91c2VUcmFpbEljb24udnVlP2QwMjkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy93YWxsSWNvbi52dWU/OTFiYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWU/ZjBkNiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWU/MTlmOCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlPzc3OTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/MDdhNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/NWYyNiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZT85MzljIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlPzFiZmUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzE3YWIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlPzBmZjQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlPzEwNmYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlP2I1ZGEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlP2RlMTQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2NlMjgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzA2OTAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/MDkyNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL3N0eWxlLmNzcz9iYjAzIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDK0g7QUFDN0I7QUFDbEcsOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRjtBQUNBLHdFQUF3RSxrQkFBa0Isd0JBQXdCLHFCQUFxQix1QkFBdUIsR0FBRyw2QkFBNkIsYUFBYSxjQUFjLHdDQUF3QywyQ0FBMkMsc0NBQXNDLHVCQUF1Qix3QkFBd0IscUJBQXFCLEdBQUcsZ0RBQWdELHVCQUF1QixHQUFHLDRCQUE0QixxQkFBcUIsbUNBQW1DLHNCQUFzQiw2QkFBNkIsdUJBQXVCLEdBQUcsb0JBQW9CLDhCQUE4QiwwQkFBMEIsR0FBRyxTQUFTLDZGQUE2RixNQUFNLFVBQVUsV0FBVyxXQUFXLFdBQVcsS0FBSyxLQUFLLFVBQVUsVUFBVSxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxLQUFLLEtBQUssV0FBVyxLQUFLLEtBQUssV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLEtBQUssS0FBSyxXQUFXLFdBQVcsd0pBQXdKLHNCQUFzQixrRUFBa0UseUJBQXlCLG9JQUFvSSwwZ0RBQTBnRCx3Q0FBd0MsZ0RBQWdELHdDQUF3Qyw4REFBOEQsc0NBQXNDLGtEQUFrRCwwQ0FBMEMsNENBQTRDLHdDQUF3Qyx3Q0FBd0Msd0RBQXdELFVBQVUsVUFBVSx1Q0FBdUMsdUJBQXVCLGlCQUFpQixpQkFBaUIsaUJBQWlCLHdKQUF3SixHQUFHLHlEQUF5RCxZQUFZLGVBQWUsMkJBQTJCLGNBQWMsZUFBZSx1QkFBdUIscUJBQXFCLG1DQUFtQyw0REFBNEQsS0FBSyxHQUFHLG9EQUFvRCxrQkFBa0Isd0JBQXdCLHFCQUFxQix1QkFBdUIsR0FBRywrQkFBK0IsYUFBYSxjQUFjLHdDQUF3QywyQ0FBMkMsc0NBQXNDLHVCQUF1Qix3QkFBd0IscUJBQXFCLEdBQUcsa0RBQWtELHVCQUF1QixHQUFHLDhCQUE4QixxQkFBcUIsbUNBQW1DLHNCQUFzQiw2QkFBNkIsdUJBQXVCLEdBQUcsc0JBQXNCLDhCQUE4QiwwQkFBMEIsR0FBRyw2QkFBNkI7QUFDOXVKO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUHZDO0FBQytIO0FBQzdCO0FBQ2xHLDhCQUE4QixtRkFBMkIsQ0FBQyx3R0FBcUM7QUFDL0Y7QUFDQSxpRUFBaUUseUNBQXlDLEdBQUcsNkJBQTZCLDRCQUE0Qiw2Q0FBNkMsa0JBQWtCLHFCQUFxQiw4QkFBOEIsR0FBRywwQ0FBMEMsbUJBQW1CLEdBQUcsV0FBVyx5RkFBeUYsTUFBTSxXQUFXLEtBQUssS0FBSyxXQUFXLFdBQVcsVUFBVSxXQUFXLFdBQVcsS0FBSyxLQUFLLFVBQVUsa2pCQUFrakIsY0FBYyx5S0FBeUssd0NBQXdDLGlCQUFpQixVQUFVLGNBQWMsOEJBQThCLDJEQUEyRCxZQUFZLGVBQWUsK0JBQStCLGNBQWMsZUFBZSx1QkFBdUIsd0JBQXdCLHlFQUF5RSxzQkFBc0IsS0FBSyxrQkFBa0IsMkZBQTJGLEtBQUssR0FBRywrQ0FBK0MseUNBQXlDLEdBQUcsK0JBQStCLDRCQUE0Qiw2Q0FBNkMsa0JBQWtCLHFCQUFxQiw4QkFBOEIsR0FBRyw0Q0FBNEMsbUJBQW1CLEdBQUcsK0JBQStCO0FBQ2xvRTtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0Esa0ZBQWtGLG1CQUFtQixrQkFBa0Isd0JBQXdCLDJCQUEyQixHQUFHLFNBQVMsK0ZBQStGLE1BQU0sVUFBVSxVQUFVLFdBQVcsV0FBVyxrZEFBa2QsVUFBVSx5UkFBeVIsK0NBQStDLCtFQUErRSwrQ0FBK0MsNnJCQUE2ckIsVUFBVSx1QkFBdUIsaUJBQWlCLFVBQVUsVUFBVSw4QkFBOEIsVUFBVSxNQUFNLDBCQUEwQixVQUFVLHdGQUF3RixpREFBaUQsVUFBVSxTQUFTLDZCQUE2QixVQUFVLGVBQWUsNEJBQTRCLGlCQUFpQixpQkFBaUIsK0JBQStCLEdBQUcsbURBQW1ELFlBQVksZUFBZSxtQkFBbUIsK0JBQStCLHFLQUFxSyx5RkFBeUYsbUZBQW1GLDJGQUEyRixLQUFLLCtDQUErQywrQ0FBK0MsS0FBSyx1Q0FBdUMsZ0RBQWdELDJEQUEyRCxPQUFPLEtBQUssaUJBQWlCLG9HQUFvRywyRUFBMkUsS0FBSyxtQkFBbUIsNEVBQTRFLEtBQUssR0FBRyw4REFBOEQsbUJBQW1CLGtCQUFrQix3QkFBd0IsMkJBQTJCLEdBQUcsNkJBQTZCO0FBQ2xvSDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EsNERBQTRELHNCQUFzQixHQUFHLFNBQVMsMEZBQTBGLE1BQU0sV0FBVyx1TEFBdUwsNENBQTRDLHNJQUFzSSw2RUFBNkUsd0NBQXdDLHdDQUF3QywrQkFBK0IsaUJBQWlCLGlCQUFpQix5QkFBeUIsRUFBRSx3Q0FBd0Msc0JBQXNCLEdBQUcsK0JBQStCO0FBQzM0QjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EsNkRBQTZELGtCQUFrQix3QkFBd0IsMkJBQTJCLEdBQUcsU0FBUywwRkFBMEYsTUFBTSxVQUFVLFdBQVcsV0FBVyw2NEJBQTY0QixtQkFBbUIsK0JBQStCLDhCQUE4Qiw4TEFBOEwsK0JBQStCLGlCQUFpQixVQUFVLFNBQVMsNkJBQTZCLFVBQVUsTUFBTSwwQkFBMEIsVUFBVSwrQ0FBK0MsNkNBQTZDLFVBQVUsd0JBQXdCLDRDQUE0QyxVQUFVLEtBQUssbUNBQW1DLDBDQUEwQyw0REFBNEQseURBQXlELFVBQVUsZ0JBQWdCLGlEQUFpRCxVQUFVLDBEQUEwRCx3Q0FBd0MsNENBQTRDLDRDQUE0QyxVQUFVLDJDQUEyQywrQ0FBK0MsaUJBQWlCLGlCQUFpQixzREFBc0QsR0FBRyw2Q0FBNkMsWUFBWSxpQkFBaUIsbUJBQW1CLHVCQUF1Qix3QkFBd0IsZ0NBQWdDLGlCQUFpQiwyRUFBMkUsS0FBSyxtQkFBbUIsNEVBQTRFLEtBQUssdUNBQXVDLG1DQUFtQyxnREFBZ0QsT0FBTyw2Q0FBNkMsNkNBQTZDLGlEQUFpRCxpREFBaUQsT0FBTyxLQUFLLEdBQUcsNkNBQTZDLGtCQUFrQix3QkFBd0IsMkJBQTJCLEdBQUcsNkJBQTZCO0FBQ3J0RztBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EseUVBQXlFLGdCQUFnQiw4QkFBOEIsMEJBQTBCLEdBQUcsa0ZBQWtGLDhCQUE4QiwwQkFBMEIscUJBQXFCLEdBQUcsU0FBUywwRkFBMEYsTUFBTSxVQUFVLFdBQVcsV0FBVyxLQUFLLEtBQUssV0FBVyxXQUFXLFdBQVcsbUpBQW1KLDhCQUE4QixlQUFlLHlwQkFBeXBCLDRFQUE0RSw4aURBQThpRCxxUUFBcVEsK0JBQStCLGlCQUFpQixVQUFVLFNBQVMsNkJBQTZCLFVBQVUsTUFBTSwwQkFBMEIsVUFBVSwrQ0FBK0MsNkNBQTZDLFVBQVUsd0JBQXdCLDRDQUE0QyxVQUFVLEtBQUssbUNBQW1DLCtEQUErRCxpREFBaUQsbUJBQW1CLGlCQUFpQix5QkFBeUIsR0FBRyw2Q0FBNkMsWUFBWSxpQkFBaUIsbUJBQW1CLHVCQUF1QixxQ0FBcUMsc0JBQXNCLG9CQUFvQixpQkFBaUIsMkVBQTJFLHdGQUF3RixpREFBaUQsOENBQThDLDREQUE0RCxzQ0FBc0MseUdBQXlHLDBEQUEwRCxrQkFBa0IsRUFBRSxTQUFTLE9BQU8sRUFBRSxLQUFLLG1CQUFtQiw0RUFBNEUseUZBQXlGLEtBQUssa0VBQWtFLDZCQUE2Qiw2QkFBNkIsS0FBSyx1Q0FBdUMsK0NBQStDLHdFQUF3RSxPQUFPLG1DQUFtQyxnREFBZ0QsT0FBTyxLQUFLLGlEQUFpRCx1Q0FBdUMsS0FBSyxFQUFFLEtBQUssY0FBYyw2Q0FBNkMsS0FBSyxjQUFjLDZDQUE2QyxLQUFLLEdBQUcsdURBQXVELGdCQUFnQiw4QkFBOEIsMEJBQTBCLEdBQUcsc0ZBQXNGLDhCQUE4QiwwQkFBMEIscUJBQXFCLEdBQUcsNkJBQTZCO0FBQ3RsTDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUM0SDtBQUM3QjtBQUNPO0FBQ1g7QUFDM0YsOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRix5Q0FBeUMsc0ZBQStCLENBQUMsOEVBQTZCO0FBQ3RHO0FBQ0EsNkRBQTZELHNCQUFzQixrQkFBa0IsR0FBRyxrQkFBa0IsMEJBQTBCLGdCQUFnQixpQkFBaUIsc0VBQXNFLEdBQUcsd0JBQXdCLGlCQUFpQixHQUFHLG1CQUFtQixpQkFBaUIsR0FBRyx5QkFBeUIsaUJBQWlCLEdBQUcsV0FBVyxvRkFBb0YsTUFBTSxXQUFXLFVBQVUsS0FBSyxLQUFLLFdBQVcsVUFBVSxVQUFVLFdBQVcsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsMmtCQUEya0IsZ0NBQWdDLEVBQUUseUNBQXlDLHNCQUFzQixrQkFBa0IsR0FBRyxvQkFBb0IsMEJBQTBCLGdCQUFnQixpQkFBaUIseUVBQXlFLEdBQUcsMEJBQTBCLGlCQUFpQixHQUFHLHFCQUFxQixpQkFBaUIsR0FBRywyQkFBMkIsaUJBQWlCLEdBQUcsaUNBQWlDO0FBQzNtRDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1Z2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EsK0RBQStELGlCQUFpQixHQUFHLGdCQUFnQixpQkFBaUIsR0FBRyxjQUFjLHdCQUF3QixHQUFHLFdBQVcsdUZBQXVGLE1BQU0sVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssV0FBVyxrS0FBa0ssV0FBVyx1RkFBdUYsV0FBVyw2REFBNkQsaXhCQUFpeEIsMENBQTBDLGNBQWMsd0NBQXdDLGlCQUFpQixnREFBZ0QsVUFBVSxPQUFPLHdCQUF3QixpQkFBaUIsaUJBQWlCLDRCQUE0QixHQUFHLHVFQUF1RSwyREFBMkQsdUJBQXVCLDZCQUE2QixnQ0FBZ0MscUJBQXFCLDZDQUE2QyxLQUFLLG1CQUFtQiw4QkFBOEIsK0JBQStCLDJDQUEyQyxLQUFLLHVCQUF1QiwrQkFBK0IsS0FBSyxrREFBa0QsOEJBQThCLGtFQUFrRSx3REFBd0QsdUJBQXVCLDJCQUEyQixLQUFLLEdBQUcsMkNBQTJDLGlCQUFpQixHQUFHLGtCQUFrQixpQkFBaUIsR0FBRyxnQkFBZ0Isd0JBQXdCLEdBQUcsaUNBQWlDO0FBQ2hqRjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EsaUVBQWlFLGlCQUFpQixrQkFBa0Isb0JBQW9CLHdCQUF3Qiw0QkFBNEIsMkJBQTJCLEdBQUcsbUJBQW1CLG1CQUFtQixHQUFHLFNBQVMsNkZBQTZGLE1BQU0sVUFBVSxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsS0FBSyxLQUFLLFVBQVUscUpBQXFKLFNBQVMsa0hBQWtILFVBQVUsV0FBVyxpQkFBaUIsK2VBQStlLG1HQUFtRywwQkFBMEIsaUVBQWlFLDhCQUE4QixHQUFHLDJEQUEyRCwwQkFBMEIsR0FBRyxpREFBaUQsbUJBQW1CLG9CQUFvQixzQkFBc0IsMEJBQTBCLDhCQUE4Qiw2QkFBNkIsS0FBSyxxQkFBcUIscUJBQXFCLEtBQUssK0JBQStCO0FBQ3J5RDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EsMERBQTBELDZDQUE2Qyw2QkFBNkIsNEJBQTRCLGlDQUFpQyxnQ0FBZ0Msd0NBQXdDLHVDQUF1Qyx1QkFBdUIsK0JBQStCLEdBQUcsbUhBQW1ILGNBQWMsZUFBZSxHQUFHLFNBQVMsZ0dBQWdHLE1BQU0sV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxZQUFZLFdBQVcsS0FBSyxLQUFLLFVBQVUsVUFBVSxrVEFBa1QsdUJBQXVCLGlCQUFpQixpRUFBaUUsWUFBWSxlQUFlLG9CQUFvQixjQUFjLGVBQWUsd0JBQXdCLGNBQWMsWUFBWSwwQkFBMEIsR0FBRyx3Q0FBd0MsNkNBQTZDLDZCQUE2Qiw0QkFBNEIsaUNBQWlDLGdDQUFnQyx3Q0FBd0MsdUNBQXVDLHVCQUF1QiwrQkFBK0IsR0FBRyxxSEFBcUgsY0FBYyxlQUFlLEdBQUcsaUNBQWlDO0FBQ2h6RDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUMrSDtBQUM3QjtBQUNsRyw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GO0FBQ0EscUVBQXFFLHVCQUF1QixnQkFBZ0IsZ0JBQWdCLEdBQUcsOEJBQThCLHVCQUF1QixjQUFjLFlBQVksYUFBYSxnQkFBZ0Isb0NBQW9DLDJDQUEyQyxHQUFHLGdFQUFnRSwwQkFBMEIsZ0JBQWdCLDJCQUEyQixHQUFHLG9DQUFvQyxpQkFBaUIsc0JBQXNCLGNBQWMscUNBQXFDLGtCQUFrQixHQUFHLFNBQVMsK0ZBQStGLE1BQU0sV0FBVyxVQUFVLFVBQVUsS0FBSyxLQUFLLFdBQVcsVUFBVSxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsS0FBSyxLQUFLLFdBQVcsVUFBVSxXQUFXLEtBQUssS0FBSyxVQUFVLFdBQVcsVUFBVSxXQUFXLFVBQVUsZ2RBQWdkLHVCQUF1QixpQkFBaUIsZ0VBQWdFLFlBQVksZUFBZSxvQkFBb0IsY0FBYyxlQUFlLHdCQUF3QixjQUFjLFlBQVksdUNBQXVDLG1CQUFtQix1Q0FBdUMsOENBQThDLHFDQUFxQyxzQ0FBc0MseUNBQXlDLE9BQU8sK0JBQStCLEtBQUssR0FBRyxtREFBbUQsdUJBQXVCLGdCQUFnQixnQkFBZ0IsR0FBRyxnQ0FBZ0MsdUJBQXVCLGNBQWMsWUFBWSxhQUFhLGdCQUFnQixvQ0FBb0MsMkNBQTJDLEdBQUcsa0VBQWtFLDBCQUEwQixnQkFBZ0IsMkJBQTJCLEdBQUcsc0NBQXNDLGlCQUFpQixzQkFBc0IsY0FBYyxxQ0FBcUMsa0JBQWtCLEdBQUcsaUNBQWlDO0FBQ3IvRTtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUHZDO0FBQ3lIO0FBQzdCO0FBQ29EO0FBQ0k7QUFDcEosOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRiwwSEFBMEg7QUFDMUgsMEJBQTBCLHVIQUFpQztBQUMzRCwwQkFBMEIsMkhBQWlDO0FBQzNEO0FBQ0EsaURBQWlELDRCQUE0QixHQUFHLE9BQU8sMkNBQTJDLEdBQUcsVUFBVSxtQkFBbUIsNkNBQTZDLHlLQUF5SywyQ0FBMkMsR0FBRyxzQkFBc0IsR0FBRyxhQUFhLHNCQUFzQixnQkFBZ0IsR0FBRyw2Q0FBNkMsZUFBZSwyQkFBMkIsT0FBTyxHQUFHLG1CQUFtQixrREFBa0QsR0FBRyxzQkFBc0Isa0RBQWtELEdBQUcsNkJBQTZCLGlEQUFpRCxHQUFHLDJCQUEyQixrQkFBa0IsNENBQTRDLEdBQUcsYUFBYSw0QkFBNEIseUJBQXlCLHNCQUFzQiwyQkFBMkIsR0FBRyx1QkFBdUIsa0JBQWtCLEdBQUcsb0NBQW9DLG1CQUFtQixHQUFHLGNBQWMsNEJBQTRCLGdDQUFnQyxHQUFHLDhCQUE4QiwwQkFBMEIsR0FBRyxVQUFVLHFCQUFxQixrQkFBa0IsR0FBRyxhQUFhLDZDQUE2QyxHQUFHLCtDQUErQyxZQUFZLGtDQUFrQyxPQUFPLFVBQVUsb0NBQW9DLE9BQU8sR0FBRyxhQUFhLHVGQUF1RixZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxXQUFXLFlBQVksYUFBYSxPQUFPLEtBQUssTUFBTSxLQUFLLFVBQVUsVUFBVSxPQUFPLEtBQUssS0FBSyxZQUFZLE1BQU0sTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLFdBQVcsWUFBWSxPQUFPLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksT0FBTyxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sMkdBQTJHLDhDQUE4QyxrREFBa0QsV0FBVyw0QkFBNEIsR0FBRyxPQUFPLDJDQUEyQyxHQUFHLFVBQVUsbUJBQW1CLDZDQUE2Qyx5S0FBeUssMkNBQTJDLEdBQUcsc0JBQXNCLEdBQUcsYUFBYSxzQkFBc0IsZ0JBQWdCLEdBQUcsNkNBQTZDLGVBQWUsMkJBQTJCLE9BQU8sR0FBRyxtQkFBbUIsa0RBQWtELEdBQUcsc0JBQXNCLGtEQUFrRCxHQUFHLDZCQUE2QixpREFBaUQsR0FBRywyQkFBMkIsa0JBQWtCLDRDQUE0QyxHQUFHLGFBQWEsNEJBQTRCLHlCQUF5QixzQkFBc0IsMkJBQTJCLEdBQUcsdUJBQXVCLGtCQUFrQixHQUFHLG9DQUFvQyxtQkFBbUIsR0FBRyxjQUFjLDRCQUE0QixnQ0FBZ0MsR0FBRyw4QkFBOEIsMEJBQTBCLEdBQUcsVUFBVSxxQkFBcUIsa0JBQWtCLEdBQUcsYUFBYSw2Q0FBNkMsR0FBRywrQ0FBK0MsWUFBWSxrQ0FBa0MsT0FBTyxVQUFVLG9DQUFvQyxPQUFPLEdBQUcseUJBQXlCO0FBQzUxSDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDWnZDLGlFQUFlLHFCQUF1Qix5Q0FBeUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQS9FLGlFQUFlLHFCQUF1Qix5Q0FBeUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQS9FLGlFQUFlLHFCQUF1Qix5Q0FBeUMsRTs7Ozs7Ozs7OztBQ0EvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMwQm9DO0FBQ0E7QUFDUTtBQUNSO0FBQ3NCO0FBQ3hCO0FBQ1k7QUFDUjtBQUNFO0FBQ0o7QUFDQTtBQUNnQjtBQUVOO0FBUTlDLElBQXFCLG1CQUFtQixHQUF4QyxNQUFxQixtQkFBb0IsU0FBUSxzQ0FBRztJQUFwRDs7UUFPRSxZQUFPLEdBQUcsSUFBSSxDQUFDO0lBS2pCLENBQUM7SUFIQyxJQUFJLGFBQWE7UUFDZixPQUFPLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3hELENBQUM7Q0FDRjtBQVZDO0lBREMsNENBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztzREFDRjtBQUd0QjtJQURDLDRDQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsS0FBSyxFQUFDLENBQUM7b0RBQ047QUFMQyxtQkFBbUI7SUFOdkMsaURBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRTtZQUNWLE9BQU8scURBQUUsT0FBTyxxREFBRSxXQUFXLHlEQUFFLE9BQU8scURBQUUsa0JBQWtCLGdFQUFFLE1BQU0sb0RBQUUsWUFBWSwwREFBRSxRQUFRLHNEQUFFLFNBQVMsdURBQUUsT0FBTztZQUM5RyxPQUFPLHNEQUFFLGVBQWU7U0FDekI7S0FDRixDQUFDO0dBQ21CLG1CQUFtQixDQVl2QztpRUFab0IsbUJBQW1COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xETTtBQUs5QyxJQUFxQixrQkFBa0IsR0FBdkMsTUFBcUIsa0JBQW1CLFNBQVEscUNBQUc7Q0FFbEQ7QUFEMEI7SUFBeEIsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztxREFBc0M7QUFEM0Msa0JBQWtCO0lBRHRDLDRDQUFVO0dBQ1Usa0JBQWtCLENBRXRDO2lFQUZvQixrQkFBa0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2lCOEI7QUFDRTtBQUd2RSxJQUFxQixPQUFPLEdBQTVCLE1BQXFCLE9BQVEsU0FBUSxxQ0FBRztJQUF4Qzs7UUFJRSxhQUFRLEdBQWEsMEVBQXFCLENBQUM7UUFDM0MsU0FBSSxHQUFZLEtBQUssQ0FBQztRQUN0QixXQUFNLEdBQVksS0FBSyxDQUFDO0lBd0QxQixDQUFDO0lBdERDLFFBQVE7UUFDTixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN0RTtRQUNELElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksRUFBRTtZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlEO1FBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDbEU7SUFDSCxDQUFDO0lBRUQsSUFBSSxZQUFZO1FBQ2QsUUFBUSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3JCLEtBQUsseUVBQW9CO2dCQUN2QixPQUFPLFFBQVEsQ0FBQztZQUNsQixLQUFLLDBFQUFxQjtnQkFDeEIsT0FBTyxjQUFjLENBQUM7WUFDeEIsS0FBSyxvRUFBZTtnQkFDbEIsT0FBTyxVQUFVLENBQUM7WUFDcEI7Z0JBQ0UsT0FBTyxXQUFXO1NBQ3JCO0lBQ0gsQ0FBQztJQUdELGtCQUFrQixDQUFDLEdBQWE7UUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFDdEIsQ0FBQztJQUdELGNBQWMsQ0FBQyxHQUFZO1FBQ3pCLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQ2xCLENBQUM7SUFHRCxnQkFBZ0IsQ0FBQyxHQUFZO1FBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLENBQUM7SUFHRCxpQkFBaUI7UUFDZixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUdELGFBQWE7UUFDWCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUdELGVBQWU7UUFDYixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDbEIsQ0FBQztDQUNGO0FBN0QwQjtJQUF4QiwyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOzBDQUEyQjtBQUMxQjtJQUF4QiwyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3dDQUFtQjtBQWdDM0M7SUFEQyxxREFBZSxDQUFDLG9CQUFvQixDQUFDO2lEQUdyQztBQUdEO0lBREMscURBQWUsQ0FBQyxnQkFBZ0IsQ0FBQzs2Q0FHakM7QUFHRDtJQURDLHFEQUFlLENBQUMsa0JBQWtCLENBQUM7K0NBR25DO0FBR0Q7SUFEQyw0Q0FBTSxDQUFDLFVBQVUsQ0FBQztnREFHbEI7QUFHRDtJQURDLDRDQUFNLENBQUMsTUFBTSxDQUFDOzRDQUdkO0FBR0Q7SUFEQyw0Q0FBTSxDQUFDLFFBQVEsQ0FBQzs4Q0FHaEI7QUE3RGtCLE9BQU87SUFEM0IsNENBQVU7R0FDVSxPQUFPLENBOEQzQjtpRUE5RG9CLE9BQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakJFO0FBQ2lDO0FBRS9ELElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBQzFDLElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBQ1k7QUFDRTtBQU94RCxJQUFxQixRQUFRLEdBQTdCLE1BQXFCLFFBQVMsU0FBUSxxQ0FBRztJQUF6Qzs7UUFPRSxVQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ25CLFVBQUssR0FBVyxFQUFFLENBQUM7SUFzQnJCLENBQUM7SUFwQkMsUUFBUTtRQUNOLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDbkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUUsRUFBRTtZQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDeEQ7SUFDSCxDQUFDO0lBR0QsZUFBZSxDQUFDLEdBQXVCO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUdELGVBQWUsQ0FBQyxHQUF1QjtRQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxhQUFILEdBQUcsY0FBSCxHQUFHLEdBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2hDLENBQUM7Q0FDRjtBQTVCQztJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7MkNBQ0c7QUFHM0I7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3lDQUNOO0FBaUJsQjtJQURDLHFEQUFlLENBQUMsaUJBQWlCLENBQUM7K0NBR2xDO0FBR0Q7SUFEQyxxREFBZSxDQUFDLGlCQUFpQixDQUFDOytDQUdsQztBQTdCa0IsUUFBUTtJQUw1QixnREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFO1lBQ1YsYUFBYSxnRUFBRSxjQUFjO1NBQzlCO0tBQ0YsQ0FBQztHQUNtQixRQUFRLENBOEI1QjtpRUE5Qm9CLFFBQVE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3RCa0M7QUFFWDtBQU9wRCxJQUFxQixPQUFPLEdBQTVCLE1BQXFCLE9BQVEsU0FBUSxxQ0FBRztJQUF4Qzs7UUFPRSxTQUFJLEdBQVcsRUFBRSxDQUFDO0lBVXBCLENBQUM7SUFQQyxjQUFjLENBQUMsR0FBdUI7UUFDcEMsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLGFBQUgsR0FBRyxjQUFILEdBQUcsR0FBSSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7Q0FDRjtBQWZDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzswQ0FDRTtBQUcxQjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7d0NBQ047QUFLbEI7SUFEQyxxREFBZSxDQUFDLGdCQUFnQixDQUFDOzZDQUdqQztBQVprQixPQUFPO0lBTDNCLGdEQUFVLENBQUM7UUFDVixVQUFVLEVBQUU7WUFDVixZQUFZO1NBQ2I7S0FDRixDQUFDO0dBQ21CLE9BQU8sQ0FpQjNCO2lFQWpCb0IsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNDbUM7QUFJL0QsSUFBcUIsT0FBTyxHQUE1QixNQUFxQixPQUFRLFNBQVEscUNBQUc7SUFBeEM7O1FBT0UsU0FBSSxHQUFXLEVBQUUsQ0FBQztJQVVwQixDQUFDO0lBUEMsY0FBYyxDQUFDLEdBQVc7UUFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFDbEIsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7Q0FDRjtBQWZDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzswQ0FDRTtBQUcxQjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7d0NBQ047QUFLbEI7SUFEQyxxREFBZSxDQUFDLGdCQUFnQixDQUFDOzZDQUdqQztBQVprQixPQUFPO0lBRDNCLDRDQUFVO0dBQ1UsT0FBTyxDQWlCM0I7aUVBakJvQixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hFO0FBRWlDO0FBRS9ELElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBQzFDLElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBRVU7QUFDRTtBQU90RCxJQUFxQixNQUFNLEdBQTNCLE1BQXFCLE1BQU8sU0FBUSxxQ0FBRztJQUF2Qzs7UUFPRSxVQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ25CLFVBQUssR0FBVyxFQUFFLENBQUM7SUF1QnJCLENBQUM7SUFyQkMsUUFBUTtRQUNOLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDbkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsSUFBSSxLQUFLLEdBQXVCLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDM0MsSUFBSSxDQUFDLEtBQUs7WUFBRSxLQUFLLEdBQUcsU0FBUyxDQUFDO1FBQzlCLElBQUksS0FBSyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztTQUMxRDtJQUNILENBQUM7SUFHRCxlQUFlLENBQUMsR0FBdUI7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBR0QsZUFBZSxDQUFDLEdBQXVCO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxhQUFILEdBQUcsY0FBSCxHQUFHLEdBQUksRUFBRSxDQUFDO0lBQ3pCLENBQUM7Q0FDRjtBQTdCQztJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7eUNBQ0M7QUFHekI7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3VDQUNOO0FBa0JsQjtJQURDLHFEQUFlLENBQUMsaUJBQWlCLENBQUM7NkNBR2xDO0FBR0Q7SUFEQyxxREFBZSxDQUFDLGlCQUFpQixDQUFDOzZDQUdsQztBQTlCa0IsTUFBTTtJQUwxQixnREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFO1lBQ1YsWUFBWSwrREFBRSxhQUFhO1NBQzVCO0tBQ0YsQ0FBQztHQUNtQixNQUFNLENBK0IxQjtpRUEvQm9CLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2ZvQztBQUVQO0FBT3hELElBQXFCLFNBQVMsR0FBOUIsTUFBcUIsU0FBVSxTQUFRLHFDQUFHO0lBQTFDOztRQU9FLGdCQUFXLEdBQVksS0FBSyxDQUFDO1FBQzdCLFVBQUssR0FBVyxFQUFFLENBQUM7SUFxQnJCLENBQUM7SUFuQkMsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzlFO1FBQ0QsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUUsRUFBRTtZQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDekQ7SUFDSCxDQUFDO0lBR0QscUJBQXFCLENBQUMsR0FBWTtRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztJQUN6QixDQUFDO0lBR0QsZUFBZSxDQUFDLEdBQVc7UUFDekIsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ3hCLENBQUM7Q0FDRjtBQTNCQztJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7NENBQ0k7QUFHNUI7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOzBDQUNOO0FBZ0JsQjtJQURDLHFEQUFlLENBQUMsdUJBQXVCLENBQUM7c0RBR3hDO0FBR0Q7SUFEQyxxREFBZSxDQUFDLGlCQUFpQixDQUFDO2dEQUdsQztBQTVCa0IsU0FBUztJQUw3QixnREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFO1lBQ1YsY0FBYztTQUNmO0tBQ0YsQ0FBQztHQUNtQixTQUFTLENBNkI3QjtpRUE3Qm9CLFNBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2JpQztBQUVQO0FBT3hELElBQXFCLFdBQVcsR0FBaEMsTUFBcUIsV0FBWSxTQUFRLHFDQUFHO0lBQTVDOztRQU9FLE1BQUMsR0FBVyxFQUFFLENBQUM7UUFDZixNQUFDLEdBQVcsRUFBRSxDQUFDO0lBc0JqQixDQUFDO0lBcEJDLFFBQVE7UUFDTixJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN2RDtRQUNELElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDM0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3ZEO0lBQ0gsQ0FBQztJQUdELFdBQVcsQ0FBQyxHQUF1QjtRQUNqQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxhQUFILEdBQUcsY0FBSCxHQUFHLEdBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFHRCxXQUFXLENBQUMsR0FBdUI7UUFDakMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsYUFBSCxHQUFHLGNBQUgsR0FBRyxHQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUM1QixDQUFDO0NBQ0Y7QUE1QkM7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOzhDQUNNO0FBRzlCO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs0Q0FDTjtBQWlCbEI7SUFEQyxxREFBZSxDQUFDLGFBQWEsQ0FBQzs4Q0FHOUI7QUFHRDtJQURDLHFEQUFlLENBQUMsYUFBYSxDQUFDOzhDQUc5QjtBQTdCa0IsV0FBVztJQUwvQixnREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFO1lBQ1YsY0FBYztTQUNmO0tBQ0YsQ0FBQztHQUNtQixXQUFXLENBOEIvQjtpRUE5Qm9CLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakJjO0FBSTlDLElBQXFCLGtCQUFrQixHQUF2QyxNQUFxQixrQkFBbUIsU0FBUSxxQ0FBRztDQUVsRDtBQUQwQjtJQUF4QiwyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3FEQUEyQjtBQURoQyxrQkFBa0I7SUFEdEMsNENBQVU7R0FDVSxrQkFBa0IsQ0FFdEM7aUVBRm9CLGtCQUFrQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNHTztBQUk5QyxJQUFxQixlQUFlLEdBQXBDLE1BQXFCLGVBQWdCLFNBQVEscUNBQUc7SUFPOUMsV0FBVztRQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDcEMsQ0FBQztJQUVELElBQUk7UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRSxvQkFBb0IsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RGLENBQUM7SUFFRCxHQUFHO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDNUUsQ0FBQztDQUNGO0FBaEJDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztrREFDQztBQUd6QjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7Z0RBQ047QUFMQyxlQUFlO0lBRG5DLDRDQUFVO0dBQ1UsZUFBZSxDQWtCbkM7aUVBbEJvQixlQUFlOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSFc7QUFFZ0I7QUFFUDtBQU94RCxJQUFxQixZQUFZLEdBQWpDLE1BQXFCLFlBQWEsU0FBUSxxQ0FBRztJQUE3Qzs7UUFPRSxhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLFVBQUssR0FBVyxFQUFFLENBQUM7SUEwQnJCLENBQUM7SUF4QkMsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxFQUFFLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtnQkFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUMsR0FBRywrQ0FBVSxDQUFDLENBQUM7YUFDNUU7U0FDRjtRQUNELElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDckIsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMvQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzVEO1NBQ0Y7SUFDSCxDQUFDO0lBR0Qsa0JBQWtCLENBQUMsR0FBdUI7UUFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEdBQUcsYUFBSCxHQUFHLGNBQUgsR0FBRyxHQUFJLENBQUMsQ0FBQyxHQUFHLCtDQUFVLEdBQUcsRUFBRSxDQUFDO0lBQy9DLENBQUM7SUFHRCxlQUFlLENBQUMsR0FBdUI7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsYUFBSCxHQUFHLGNBQUgsR0FBRyxHQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMvQixDQUFDO0NBQ0Y7QUFoQ0M7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOytDQUNPO0FBRy9CO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs2Q0FDTjtBQXFCbEI7SUFEQyxxREFBZSxDQUFDLG9CQUFvQixDQUFDO3NEQUdyQztBQUdEO0lBREMscURBQWUsQ0FBQyxpQkFBaUIsQ0FBQzttREFHbEM7QUFqQ2tCLFlBQVk7SUFMaEMsZ0RBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRTtZQUNWLGNBQWM7U0FDZjtLQUNGLENBQUM7R0FDbUIsWUFBWSxDQWtDaEM7aUVBbENvQixZQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNUOEI7QUFFUDtBQU94RCxJQUFxQixPQUFPLEdBQTVCLE1BQXFCLE9BQVEsU0FBUSxxQ0FBRztJQUF4Qzs7UUFPRSxNQUFDLEdBQVcsRUFBRSxDQUFDO1FBQ2YsTUFBQyxHQUFXLEVBQUUsQ0FBQztJQW9CakIsQ0FBQztJQWxCQyxRQUFRO1FBQ04sSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFO1lBQ3BHLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFEO0lBQ0gsQ0FBQztJQUdELFdBQVcsQ0FBQyxHQUFpQztRQUMzQyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDckIsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDWixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUNiO2FBQU07WUFDTCxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDckIsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQztDQUNGO0FBMUJDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzswQ0FDRTtBQUcxQjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7d0NBQ047QUFjbEI7SUFEQyxxREFBZSxDQUFDLGVBQWUsQ0FBQzswQ0FTaEM7QUEzQmtCLE9BQU87SUFMM0IsZ0RBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRTtZQUNWLGNBQWM7U0FDZjtLQUNGLENBQUM7R0FDbUIsT0FBTyxDQTRCM0I7aUVBNUJvQixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ013QjtBQUNOO0FBUUU7QUFFQztBQU9qRCxJQUFxQixhQUFhLEdBQWxDLE1BQXFCLGFBQWMsU0FBUSxxQ0FBRztJQUE5Qzs7UUFJRSxTQUFJLEdBQW9CO1lBQ3RCLElBQUksRUFBRSxxRkFBc0I7WUFDNUIsZ0JBQWdCLEVBQUUsRUFBRTtZQUNwQixNQUFNLEVBQUUsS0FBSztZQUNiLE9BQU8sRUFBRSxFQUFFO1lBQ1gsVUFBVSxFQUFFLEVBQUU7WUFDZCxLQUFLLEVBQUUsS0FBSztZQUNaLEtBQUssRUFBRSxLQUFLO1NBQ2IsQ0FBQztJQXlCSixDQUFDO0lBdkJDLG1CQUFtQixDQUFDLElBQVksRUFBRSxRQUFnQixFQUFFLEtBQVUsRUFBRSxPQUFnQjtRQUM5RSxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkVBQWMsQ0FBb0IsQ0FBQztRQUM3RSxZQUFZLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdkYsQ0FBQztJQUVELFdBQVcsQ0FBQyxJQUFZLEVBQUUsR0FBWTtRQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUM1QixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUsscUZBQXNCLEVBQUU7WUFDdkMsSUFBSSxDQUFDLElBQUksR0FBRyw0REFBYyxDQUFDLEdBQUcsQ0FBb0IsQ0FBQztTQUNwRDtJQUNILENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLElBQUksR0FBRyw0REFBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLHFGQUFzQixDQUFvQixDQUFDLENBQUM7UUFDOUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEUsQ0FBQztDQUNGO0FBbkNDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs0Q0FDVjtBQUZLLGFBQWE7SUFMakMsZ0RBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRTtZQUNWLG1CQUFtQjtTQUNwQjtLQUNGLENBQUM7R0FDbUIsYUFBYSxDQXFDakM7aUVBckNvQixhQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUJaO0FBQ2M7QUFDQTtBQUVwQyxpRUFBZSwrQ0FBVSxDQUFDO0lBQ3hCLFVBQVUsRUFBRSxFQUFDLE9BQU8scURBQUUsT0FBTyxxREFBQztJQUM5QixLQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUM7Q0FDakIsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMENtRDtBQUNiO0FBRXpDLElBQU8sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0FBRTFDLElBQU8sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0FBYzFDLElBQXFCLFFBQVEsR0FBN0IsTUFBcUIsUUFBUyxTQUFRLHFDQUFHO0lBQXpDOztRQUlFLFNBQUksR0FBbUI7WUFDckIsSUFBSSxFQUFFLE1BQU07WUFDWixJQUFJLEVBQUUsQ0FBQztZQUNQLElBQUksRUFBRSxDQUFDO1lBQ1AsSUFBSSxFQUFFLENBQUM7WUFDUCxLQUFLLEVBQUUsU0FBUztZQUNoQixPQUFPLEVBQUUsR0FBRztZQUNaLEtBQUssRUFBRSxDQUFDO1NBQ1QsQ0FBQztRQUNGLHFCQUFnQixHQUFZLEtBQUssQ0FBQztJQW9GcEMsQ0FBQztJQWxGQyxVQUFVO1FBQ1IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUU3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQWlCLENBQUM7UUFDMUQsUUFBUSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3JCLEtBQUssd0RBQWdCO2dCQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLO2dCQUN0QixNQUFNO1lBQ1IsS0FBSyx1REFBZTtnQkFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUTtnQkFDekIsTUFBTTtTQUNUO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1NBQ3pCO1FBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRTdCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7SUFDaEMsQ0FBQztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUVELGdCQUFnQixDQUFDLEdBQWE7UUFDNUIsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLE1BQU07WUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUdELFlBQVksQ0FBQyxPQUFZO1FBQ3ZCLElBQUksSUFBSSxDQUFDLGdCQUFnQjtZQUFFLE9BQU87UUFDbEMsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BELE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwRCxJQUFJLElBQUksQ0FBQztRQUNULFFBQVEsT0FBTyxDQUFDLElBQUksRUFBRTtZQUNwQixLQUFLLE1BQU07Z0JBQ1QsSUFBSSxHQUFHLFNBQVMsQ0FBQztnQkFDakIsTUFBTTtZQUNSLEtBQUssS0FBSztnQkFDUixJQUFJLEdBQUcsd0RBQWdCLENBQUM7Z0JBQ3hCLE1BQU07WUFDUixLQUFLLFFBQVE7Z0JBQ1gsSUFBSSxHQUFHLHVEQUFlLENBQUM7Z0JBQ3ZCLE1BQU07U0FDVDtRQUNELElBQUksR0FBRyxHQUFHO1lBQ1IsSUFBSSxFQUFFLE9BQU87WUFDYixHQUFHLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFO1lBQ25CLElBQUksRUFBRSxFQUFFO1NBQ2MsQ0FBQztRQUN6QixJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDdEIsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRztnQkFDakIsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO2dCQUNsQixJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7Z0JBQ2xCLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTtnQkFDbEIsS0FBSyxFQUFFLFVBQVUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUNoQyxPQUFPLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7Z0JBQ3BDLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSzthQUNMLENBQUM7U0FDbkI7YUFBTTtZQUNMLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7Z0JBQ2pCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQztTQUNIO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM3QyxDQUFDO0NBQ0Y7QUEvRkM7SUFEQywyQ0FBSyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDO3VDQUNaO0FBdURkO0lBREMsNENBQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7NENBd0M5QjtBQWhHa0IsUUFBUTtJQUQ1Qiw0Q0FBVTtHQUNVLFFBQVEsQ0FpRzVCO2lFQWpHb0IsUUFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3REeUI7QUFHa0Q7QUFDeEcsSUFBTyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFDMUMsSUFBTyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFHMUMsSUFBcUIsUUFBUSxHQUE3QixNQUFxQixRQUFTLFNBQVEscUNBQUc7SUFBekM7O1FBSUUsaUJBQVksR0FBRyxTQUFTLENBQUM7UUFDekIsZUFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixtQkFBYyxHQUFHLEtBQUssQ0FBQztRQUN2QixlQUFVLEdBQUcsU0FBUyxDQUFDO0lBZ0R6QixDQUFDO0lBOUNDLE9BQU87UUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUVELGdCQUFnQixDQUFDLEdBQWE7UUFDNUIsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGdCQUFnQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssc0JBQXNCLEVBQUU7WUFDeEUsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBa0IsQ0FBQztRQUN0RSxJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDO1FBQ25DLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMvQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBdUIsQ0FBQztRQUNsRixJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDO0lBQ25ELENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7WUFDckIsSUFBSSxFQUFFLGdCQUFnQjtZQUN0QixZQUFZLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDM0MsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVO1lBQzNCLFVBQVUsRUFBRSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztTQUN2QixFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNuQyxJQUFJLEVBQUUsZ0JBQWdCO1NBQ3ZCLEVBQUUsNEVBQXNCLENBQWtCLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFHRCxhQUFhO1FBQ1gsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFFbkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsc0JBQXNCLEVBQUUsRUFBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7Q0FDRjtBQXJEQztJQURDLDJDQUFLLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7dUNBQ1o7QUFnRGQ7SUFEQyw0Q0FBTSxDQUFDLGdCQUFnQixDQUFDOzZDQUt4QjtBQXREa0IsUUFBUTtJQUQ1Qiw0Q0FBVTtHQUNVLFFBQVEsQ0F1RDVCO2lFQXZEb0IsUUFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1p5QjtBQUlvQjtBQUVwQztBQUNrQjtBQUNIO0FBSzJDO0FBT2hHLElBQXFCLE9BQU8sR0FBNUIsTUFBcUIsT0FBUSxTQUFRLHFDQUFHO0lBQXhDOztRQUlFLFNBQUksR0FBRyxTQUFTLENBQUM7UUFDakIsb0JBQWUsR0FBRyxDQUFDLENBQUM7UUFDcEIsd0JBQW1CLEdBQUcsS0FBSyxDQUFDO0lBbUI5QixDQUFDO0lBakJDLE9BQU87UUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUM1QixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssbUVBQVMsRUFBRTtZQUMxQixJQUFJLENBQUMsSUFBSSxHQUFJLEdBQW9CLENBQUMsSUFBSyxDQUFDO1NBQ3pDO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGdGQUFtQixFQUFFO1lBQzNDLElBQUksQ0FBQyxHQUFHLEdBQTRCLENBQUM7WUFDckMsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDO1lBQ3pDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDO1NBQzFDO0lBQ0gsQ0FBQztDQUNGO0FBdkJDO0lBREMsMkNBQUssQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztzQ0FDWjtBQUZLLE9BQU87SUFMM0IsZ0RBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRTtZQUNWLFFBQVEsc0RBQUUsYUFBYSwrREFBRSxpQkFBaUI7U0FDM0M7S0FDRixDQUFDO0dBQ21CLE9BQU8sQ0F5QjNCO2lFQXpCb0IsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTTBCO0FBRzRDO0FBQ3hCO0FBR2pCO0FBQ1o7QUFNN0MsSUFBcUIsT0FBTyxHQUE1QixNQUFxQixPQUFRLFNBQVEscUNBQUc7SUFBeEM7O1FBSUUsU0FBSSxHQUFHLFNBQVMsQ0FBQztRQUNqQixxQkFBZ0IsR0FBWSxJQUFJLENBQUM7UUFFakMsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUNoQixZQUFPLEdBQUcsS0FBSyxDQUFDO0lBOENsQixDQUFDO0lBNUNDLE9BQU87UUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxJQUFJLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFbEYsSUFBSSxDQUFDLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFvQixDQUFDO1FBQ3pDLENBQUMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sWUFBWSxnQkFBZ0IsQ0FBQztnQkFBRSxPQUFPO1lBQ3BELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7Z0JBQzNCLElBQUksTUFBTSxHQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGdGQUFxQixDQUE2QixDQUFDLE1BQU0sQ0FBQztnQkFDL0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsZ0ZBQXFCLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO2FBQ3JFO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRixDQUFDO0lBRUQsc0JBQXNCLENBQUMsT0FBZ0IsRUFBRSxPQUFnQjtRQUN2RCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUN6QixDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUM1QixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssZ0ZBQXFCLEVBQUU7WUFDdEMsSUFBSSxDQUFDLGdCQUFnQixHQUFJLEdBQStCLENBQUMsTUFBTSxDQUFDO1NBQ2pFO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLG1FQUFTLEVBQUU7WUFDakMsSUFBSSxDQUFDLElBQUksR0FBSSxHQUFvQixDQUFDLElBQUssQ0FBQztTQUN6QztJQUNILENBQUM7SUFHRCxVQUFVLENBQUMsSUFBVTtRQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsRUFBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDRjtBQXBEQztJQURDLDJDQUFLLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7c0NBQ1o7QUF5Q2Q7SUFEQyw0Q0FBTSxDQUFDLE1BQU0sQ0FBQzt5Q0FHZDtBQTdDa0IsT0FBTztJQUgzQixnREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFLEVBQUMsY0FBYyxrRUFBRSxRQUFRLDREQUFDO0tBQ3ZDLENBQUM7R0FDbUIsT0FBTyxDQXNEM0I7aUVBdERvQixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BETjtBQUV0QixpRUFBZSwrQ0FBVSxDQUFDLEVBQUUsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWWM7QUFDTjtBQUd5QjtBQU8vRCxJQUFxQixhQUFhLEdBQWxDLE1BQXFCLGFBQWMsU0FBUSxxQ0FBRztJQUE5Qzs7UUFHRSxTQUFJLEdBQVEsSUFBSSxDQUFDO1FBQ2pCLGNBQVMsR0FBVyxFQUFFLENBQUM7SUEwQnpCLENBQUM7SUF2QkMsV0FBVztRQUNULElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUM7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsYUFBYTtRQUNYLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUdELGFBQWEsQ0FBQyxHQUFRO1FBQ3BCLElBQUksR0FBRyxJQUFJLElBQUk7WUFBRSxPQUFPO1FBRXhCLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDO0NBQ0Y7QUE3QnlCO0lBQXZCLDBDQUFJLENBQUMsZ0JBQWdCLENBQUM7bURBQWdDO0FBcUJ2RDtJQURDLDRDQUFNLENBQUMsTUFBTSxDQUFDO2tEQVFkO0FBN0JrQixhQUFhO0lBSGpDLGdEQUFVLENBQUM7UUFDVixVQUFVLEVBQUUsRUFBRSxRQUFRLHNEQUFFLGVBQWUsb0RBQUU7S0FDMUMsQ0FBQztHQUNtQixhQUFhLENBOEJqQztpRUE5Qm9CLGFBQWE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0JaO0FBRXRCLGlFQUFlLCtDQUFVLENBQUMsRUFBRSxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUVI7QUFFdEIsaUVBQWUsK0NBQVUsQ0FBQyxFQUFFLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWlI7QUFDWTtBQUVsQyxNQUFNLGVBQWUsR0FBRztJQUN0QixvQ0FBb0M7SUFDcEMsa0ZBQWtGO0lBQ2xGLDhGQUE4RjtJQUM5RiwyQkFBMkI7SUFDM0IsaUNBQWlDO0lBQ2pDLDBCQUEwQjtJQUMxQixnQ0FBZ0M7SUFDaEMsZ0ZBQWdGO0lBQ2hGLDJCQUEyQjtJQUMzQixrREFBa0Q7Q0FDbkQsQ0FBQztBQUVGLFNBQVMsU0FBUztJQUNoQixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0QsT0FBTyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUIsQ0FBQztBQUdELElBQXFCLE9BQU8sR0FBNUIsTUFBcUIsT0FBUSxTQUFRLHdDQUFHO0lBQXhDOztRQUNFLFlBQU8sR0FBRyxTQUFTLEVBQUUsQ0FBQztJQUN4QixDQUFDO0NBQUE7QUFGb0IsT0FBTztJQUQzQiw0Q0FBVTtHQUNVLE9BQU8sQ0FFM0I7aUVBRm9CLE9BQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekJrQjtBQUc5QyxJQUFxQixhQUFhLEdBQWxDLE1BQXFCLGFBQWMsU0FBUSxxQ0FBRztDQVM3QztBQVBDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs0Q0FDVDtBQUdmO0lBREMsMkNBQUssQ0FBQyxFQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUMsQ0FBQzsrQ0FDTDtBQUduQjtJQURDLDJDQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7a0RBQ0E7QUFSRixhQUFhO0lBRGpDLDRDQUFVO0dBQ1UsYUFBYSxDQVNqQztpRUFUb0IsYUFBYTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSFk7QUFDQTtBQU85QyxJQUFxQixjQUFjLEdBQW5DLE1BQXFCLGNBQWUsU0FBUSxxQ0FBRztJQUEvQzs7UUFhRSxXQUFNLEdBQUcsQ0FBQyxDQUFTLEVBQUUsRUFBRTtZQUNyQixJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUM7WUFDaEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUNoQixHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQkFDekIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDakI7WUFDRCxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzlCLE9BQU8sTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztpQkFDMUIsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7aUJBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixDQUFDO0lBRUgsQ0FBQztDQUFBO0FBdkJDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs2Q0FDVDtBQUdmO0lBREMsMkNBQUssQ0FBQyxFQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUMsQ0FBQztnREFDTDtBQUduQjtJQURDLDJDQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7bURBQ0E7QUFHckI7SUFEQywyQ0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDO3FEQUNDO0FBWEwsY0FBYztJQUxsQyxnREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFO1lBQ1YsWUFBWTtTQUNiO0tBQ0YsQ0FBQztHQUNtQixjQUFjLENBeUJsQztpRUF6Qm9CLGNBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTFc7QUFHOUMsSUFBcUIsWUFBWSxHQUFqQyxNQUFxQixZQUFhLFNBQVEscUNBQUc7SUFhM0MsT0FBTyxDQUFDLEVBQVUsRUFBRSxLQUFpQjtRQUNuQyxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBYSxDQUFDO1FBQy9CLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDN0IsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNsQztRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFsQkM7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOzJDQUNUO0FBR2Y7SUFEQywyQ0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFFLEtBQUssRUFBQyxDQUFDOzhDQUNMO0FBR25CO0lBREMsMkNBQUssQ0FBQyxFQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsQ0FBQztpREFDRDtBQUdwQjtJQURDLDJDQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsU0FBUyxFQUFDLENBQUM7NENBQ007QUFYZixZQUFZO0lBRGhDLDRDQUFVO0dBQ1UsWUFBWSxDQW9CaEM7aUVBcEJvQixZQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZEQ7QUFDWjtBQUVwQixpRUFBZSxvQ0FBSSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSFk7QUFFaUI7QUFDYTtBQUU5RCxJQUFPLFdBQVcsR0FBRyxnREFBZ0IsQ0FBQztBQUN0QyxJQUFPLGFBQWEsR0FBRyw0REFBNEIsQ0FBQztBQUVwRCxTQUFlLGVBQWUsQ0FBQyxNQUFtQixFQUFFLElBQVksRUFBRSxNQUFjLEVBQUUsSUFBUzs7UUFDdkYsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQyxDQUFDO1lBQzlDLE1BQU0sTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7WUFDakMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7Z0JBQ2pCLE1BQU0sR0FBRyxHQUFHLElBQUksNENBQVksQ0FBQyxJQUFJLFdBQVcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pFLE1BQU0sV0FBVyxHQUFHLElBQUksZ0RBQWdCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNwRCxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUssbURBQTJCLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNwRSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7Z0JBQ2pELFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO29CQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyxDQUFDO29CQUM3QyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3pCLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFDO1lBQ0YsTUFBTSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQywwRUFBMEU7UUFDbkcsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQUE7QUFFTSxTQUFlLFVBQVU7O1FBQzVCLE1BQU0sTUFBTSxHQUFHLGtEQUFrQixDQUFDO1FBQ2xDLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUNkLGVBQWUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLDREQUFVLEVBQUUsMkRBQWdCLENBQUM7U0FDakUsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9CMkU7QUFlckUsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDO0FBU2pDLE1BQU0sY0FBYyxHQUFHLFdBQVcsQ0FBQztBQVNuQyxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFTekIsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDO0FBUXpCLE1BQU0saUJBQWlCLEdBQUcsY0FBYyxDQUFDO0FBTXpDLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDO0FBTXZDLFNBQVMscUJBQXFCLENBQUMsR0FBVTtJQUM1QyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksc0RBQWdCLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUNwRCxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksc0RBQWdCLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUNyRCxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUkscURBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQy9DLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxxREFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDL0MsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLG9EQUFjLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDcEUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLG9EQUFjLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDdkUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25FTSxTQUFTLHlCQUF5QixDQUFDLElBQWU7SUFDckQsSUFBSSxHQUFHLEdBQUcsRUFBUyxDQUFDO0lBQ3BCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1FBQ25CLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssZUFBZTtZQUFFLFNBQVM7UUFDMUQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFJLElBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNuQztJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUVNLFNBQVMsZUFBZSxDQUFDLElBQWU7SUFDM0MsSUFBSSxHQUFHLEdBQUcsRUFBUyxDQUFDO0lBQ3BCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1FBQ25CLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssUUFBUSxJQUFJLElBQUksS0FBSyxlQUFlO1lBQUUsU0FBUztRQUMvRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUksSUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ25DO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDO0FBRU0sU0FBUyxnQkFBZ0I7SUFDNUIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUMvRCxDQUFDO0FBRU0sU0FBUyxjQUFjLENBQUMsR0FBUTtJQUNuQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzNDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNCcUM7QUFFdEMsSUFBWSxpQkFFWDtBQUZELFdBQVksaUJBQWlCO0lBQ3pCLDJEQUFLO0lBQUUseURBQUk7QUFDZixDQUFDLEVBRlcsaUJBQWlCLEtBQWpCLGlCQUFpQixRQUU1QjtBQUVNLE1BQU0sYUFBYTtJQVF0QixZQUFvQixJQUF1QixFQUFFLEtBQWMsRUFBRSxJQUFVLEVBQUUsSUFBc0I7UUFGL0YsU0FBSSxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO1FBRzdCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksQ0FBQztJQUM3QixDQUFDO0lBRUQsY0FBYztRQUNWLE9BQU8sSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFjLEVBQUUsUUFBZ0I7UUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFBRSxPQUFPO1FBQ25DLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDdkIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFFLENBQUM7WUFDdEMsSUFBSSxRQUFRLElBQUksUUFBUTtnQkFBRSxPQUFPO1NBQ3BDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxTQUFTO1FBQ0wsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBc0IsRUFBRSxLQUFjO1FBQ3BELE9BQU8sSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLGdEQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2xILENBQUM7SUFFRCxNQUFNLENBQUMsU0FBUyxDQUFDLElBQVUsRUFBRSxLQUFjO1FBQ3ZDLE9BQU8sSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekJNLE1BQU0sMEJBQTBCLEdBQUcsdUJBQXVCLENBQUM7QUFTM0QsTUFBTSxZQUFZLEdBQUcsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNCSztBQUdwQyxTQUFTLFlBQVksQ0FBQyxHQUFjO0lBQ3ZDLElBQUksR0FBRyxHQUFHLEVBQVMsQ0FBQztJQUNwQixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsRUFBRTtRQUNsQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxLQUFLLFFBQVEsSUFBSSxJQUFJLEtBQUssTUFBTTtZQUFFLFNBQVM7UUFDdEUsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFJLEdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQztJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQXdCTSxNQUFNLGVBQWU7SUFPeEIsWUFBWSxJQUFZLEVBQUUsT0FBZ0IsSUFBSSxFQUFFLE9BQWdCLElBQUk7UUFGNUQsU0FBSSxHQUFHLElBQUksR0FBRyxFQUFvQixDQUFDO1FBR3ZDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxNQUFjLEVBQUUsT0FBZ0I7UUFDOUMsSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsS0FBSyxTQUFTO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDdEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDaEIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUFjLEVBQUUsT0FBZTtRQUN4QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxJQUFJLElBQUksS0FBSyxTQUFTO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDekMsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFDbEIsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLE9BQU87Z0JBQUUsT0FBTyxHQUFHLENBQUM7U0FDM0M7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWU7UUFDekIsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3RDO2FBQU07WUFDSCxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUMvQjtJQUNMLENBQUM7SUFFRCxDQUFDLGFBQWE7UUFDVixLQUFLLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDbEMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7Z0JBQ3BCLE1BQU0sSUFBSSxDQUFDO2FBQ2Q7U0FDSjtJQUNMLENBQUM7SUFFRCxRQUFRLENBQUMsU0FBWTtRQUNqQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFMUMsSUFBSSxTQUFTLENBQUMsT0FBTyxJQUFJLENBQUMsRUFBRSxFQUFDLHdCQUF3QjtZQUNqRCxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2FBQ2hEO2lCQUFNO2dCQUNILEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFO29CQUNmLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxTQUFTLENBQUMsT0FBTzt3QkFBRSxNQUFNLDhCQUE4QixDQUFDO2lCQUM3RTtnQkFFRCxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ3ZCO1lBQ0QsT0FBTztTQUNWO1FBRUQsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO1lBQ25CLFNBQVMsQ0FBQyxPQUFPLEdBQUcsMERBQWdCLEVBQUUsQ0FBQztZQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUNoRDthQUFNO1lBQ0gsSUFBSSxFQUFFLENBQUM7WUFDUCxJQUFJLEtBQUssQ0FBQztZQUNWLEdBQUc7Z0JBQ0MsRUFBRSxHQUFHLDBEQUFnQixFQUFFLENBQUM7Z0JBQ3hCLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ2QsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUU7b0JBQ2YsSUFBSSxDQUFDLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTt3QkFDbEIsS0FBSyxHQUFHLElBQUksQ0FBQzt3QkFDYixNQUFNO3FCQUNUO2lCQUNKO2FBQ0osUUFBUSxLQUFLLEVBQUU7WUFDaEIsU0FBUyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7WUFDdkIsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFFRCxVQUFVLENBQUMsU0FBWTtRQUNuQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUMsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO1lBQ25CLE9BQU87U0FDVjtRQUNELElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUMxQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdEM7YUFBTTtZQUNILEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN6QztJQUNMLENBQUM7SUFFRCxlQUFlLENBQUMsTUFBYztRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsU0FBUztRQUNMLElBQUksR0FBRyxHQUE4QixFQUFFLENBQUM7UUFDeEMsS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDN0MsSUFBSSxTQUFTLEdBQUcsSUFBSSxLQUFLLEVBQU8sQ0FBQztZQUNqQyxLQUFLLElBQUksU0FBUyxJQUFJLEtBQUssRUFBRTtnQkFDekIsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQzthQUMzQztZQUNELEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxTQUFTLENBQUM7U0FDM0I7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxlQUFlLENBQUMsWUFBeUM7UUFDckQsSUFBSSxHQUFHLEdBQThCLEVBQUUsQ0FBQztRQUN4QyxLQUFLLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUM3QyxJQUFJLFlBQVksQ0FBQyxNQUFNLENBQUM7Z0JBQUUsU0FBUztZQUNuQyxJQUFJLFNBQVMsR0FBRyxJQUFJLEtBQUssRUFBTyxDQUFDO1lBQ2pDLEtBQUssSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFO2dCQUN6QixJQUFLLFNBQTRDLENBQUMsYUFBYSxLQUFLLEtBQUs7b0JBQUUsU0FBUztnQkFDcEYsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQzthQUMzQztZQUNELElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ3hCLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxTQUFTLENBQUM7YUFDM0I7U0FDSjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFVLEVBQUUsSUFBK0I7UUFDbkQsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7WUFDckIsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3pCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUMzQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUU7b0JBQzlCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtpQkFDbEIsQ0FBQyxDQUFDO2dCQUNILEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQzVCO1NBQ0o7SUFDTCxDQUFDO0NBQ0o7QUFFTSxNQUFNLGdCQUFnQjtJQU96QixZQUFZLElBQVksRUFBRSxPQUFnQixJQUFJLEVBQUUsT0FBZ0IsSUFBSTtRQUY1RCxTQUFJLEdBQUcsSUFBSSxHQUFHLEVBQWEsQ0FBQztRQUdoQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRUQsWUFBWSxDQUFDLE1BQWM7UUFDdkIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsaUJBQWlCLENBQUMsTUFBYztRQUM1QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxhQUFhLENBQUMsTUFBZTtRQUN6QixJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDdEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEMsSUFBSSxHQUFHLEtBQUssU0FBUztnQkFBRSxPQUFPLEVBQUUsQ0FBQzs7Z0JBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNyQjthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRUQsYUFBYTtRQUNULE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRUQsUUFBUSxDQUFDLFNBQVk7UUFDakIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQzlDO2FBQU07WUFDSCxNQUFNLDJDQUEyQyxDQUFDO1NBQ3JEO0lBQ0wsQ0FBQztJQUVELFVBQVUsQ0FBQyxTQUFZO1FBQ25CLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDakIsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN0QztJQUNMLENBQUM7SUFFRCxlQUFlLENBQUMsTUFBYztRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsU0FBUztRQUNMLElBQUksR0FBRyxHQUE0QixFQUFFLENBQUM7UUFDdEMsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ2pDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsZUFBZSxDQUFDLFlBQXlDO1FBQ3JELElBQUksR0FBRyxHQUE0QixFQUFFLENBQUM7UUFDdEMsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ2pDLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSyxJQUF1QyxDQUFDLGFBQWEsS0FBSyxLQUFLO2dCQUFFLFNBQVM7WUFDNUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDekM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBVSxFQUFFLElBQThCO1FBQ2xELEtBQUssSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO1lBQ3JCLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDdEMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO2FBQ2xCLENBQUM7WUFDRixHQUFHLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUMzQztJQUNMLENBQUM7Q0FDSjtBQUVNLE1BQU0sY0FBYztJQU92QixZQUFZLElBQVksRUFBRSxPQUFnQixJQUFJLEVBQUUsT0FBZ0IsSUFBSTtRQUY1RCxTQUFJLEdBQUcsSUFBSSxHQUFHLEVBQXFCLENBQUM7UUFHeEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUFjO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELGlCQUFpQixDQUFDLE1BQWM7UUFDNUIsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxhQUFhLENBQUMsTUFBZTtRQUN6QixJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDdEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwQyxJQUFJLEdBQUcsS0FBSyxTQUFTO2dCQUFFLE9BQU8sRUFBRSxDQUFDOztnQkFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3JCO2FBQU07WUFDSCxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUMvQjtJQUNMLENBQUM7SUFFRCxhQUFhO1FBQ1QsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFFRCxRQUFRLENBQUMsU0FBb0I7UUFDekIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1lBQUUsTUFBTSwyQ0FBMkMsQ0FBQztRQUN2RixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCxVQUFVLENBQUMsU0FBb0I7UUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxlQUFlLENBQUMsTUFBYztRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsU0FBUztRQUNMLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsZUFBZSxDQUFDLFlBQXlDO1FBQ3JELE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFVLEVBQUUsSUFBYztRQUNsQyxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksRUFBRTtZQUNyQixHQUFHLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRTtnQkFDckIsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO2dCQUNmLE1BQU0sRUFBRSxDQUFDLENBQUM7YUFDYixDQUFDLENBQUM7U0FDTjtJQUNMLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7OztBQ3BVTSxNQUFNLFdBQVc7SUFBeEI7UUFDWSxrQkFBYSxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO1FBQzFDLFlBQU8sR0FBRyxJQUFJLEtBQUssRUFBVSxDQUFDO1FBQzlCLG9CQUFlLEdBQUcsSUFBSSxHQUFHLEVBQVUsQ0FBQztJQTJEaEQsQ0FBQztJQXpERyxHQUFHLENBQUMsSUFBWTtRQUNaLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELFFBQVEsQ0FBQyxNQUFjO1FBQ25CLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXhELElBQUksQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7WUFDL0MsS0FBSyxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUM3QixPQUFPLEdBQUcsR0FBRyxDQUFDO2dCQUNkLFdBQVcsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxXQUFXO29CQUFFLE1BQU07YUFDMUI7U0FDSjtRQUNELElBQUksV0FBVyxFQUFFO1lBQ2IsTUFBTSwrQ0FBK0MsT0FBTyx1Q0FBdUMsQ0FBQztTQUN2RztRQUVELEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRTtZQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO2dCQUFFLE1BQU0sMEJBQTBCLEdBQUcsR0FBRyxDQUFDO1NBQzVFO1FBQ0QsSUFBSSxNQUFNLENBQUMsb0JBQW9CLEtBQUssU0FBUyxFQUFFO1lBQzNDLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLG9CQUFvQixFQUFFO2dCQUN6QyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztvQkFBRSxTQUFTO2dCQUMxQyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNqQztTQUNKO1FBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtZQUNiLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSTtnQkFBRSxNQUFNLHNCQUFzQixDQUFDO1lBQzNELE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxNQUFNLENBQUMsSUFBSSxzQ0FBc0MsR0FBRyxDQUFDLElBQUksY0FBYyxDQUFDLENBQUM7U0FDbkc7UUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFCLElBQUksTUFBTSxDQUFDLFFBQVEsRUFBRTtZQUNqQixLQUFLLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUU7Z0JBQzlCLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQzlCLE1BQU0sV0FBVyxJQUFJLDJCQUEyQixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUUsQ0FBQyxJQUFJLDBCQUEwQixNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQzdIO2dCQUNELElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzthQUN4QztTQUNKO0lBQ0wsQ0FBQztJQUVELENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNiLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRUQsS0FBSyxDQUFDLEtBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELElBQUk7UUFDQSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO0lBQy9CLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvRDZDO0FBSWdCO0FBRWY7QUF1QnhDLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDO0FBRXZDLE1BQU0sZ0JBQWdCO0lBZ0J6QixZQUFZLEtBQVk7UUFmZixTQUFJLEdBQUcsZ0JBQWdCLENBQUM7UUFDeEIsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFJM0IsWUFBTyxHQUFHLElBQUkscURBQWUsQ0FBb0IsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9FLFFBQUcsR0FBcUI7WUFDcEIsSUFBSSxFQUFFLGdCQUFnQjtZQUN0QixNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQ1YsS0FBSyxFQUFFLElBQUk7WUFDWCxLQUFLLEVBQUUsSUFBSTtTQUNkLENBQUM7UUFJRSxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsTUFBTSxDQUFJLElBQU8sRUFBRSxXQUFvQixJQUFJO1FBQ3ZDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3RCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDdEMsSUFBSSxHQUFHLEdBQUc7Z0JBQ04sSUFBSSxFQUFFLE9BQU87Z0JBQ2IsR0FBRyxFQUFFLEVBQUU7Z0JBQ1AsTUFBTSxFQUFFLEVBQUU7Z0JBQ1YsSUFBSSxFQUFFO29CQUNGLGdCQUFnQixFQUFFLEVBQUUsTUFBTSxFQUFFO2lCQUMvQjthQUNtQixDQUFDO1lBQ3pCLDZEQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7U0FDekQ7UUFFRCxJQUFJLENBQUMsR0FBRztZQUNKLE9BQU8sRUFBRSxDQUFDLENBQUM7WUFDWCxJQUFJLEVBQUUsZ0JBQWdCO1lBQ3RCLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU07WUFDdkIsSUFBSTtZQUNKLE1BQU0sRUFBRSxDQUFDO1lBQ1QsU0FBUyxFQUFFLFFBQVE7U0FDRCxDQUFDO1FBRXZCLDZEQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSw0RUFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVuRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFRCxPQUFPLENBQUksRUFBc0I7UUFDN0IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQsVUFBVSxDQUFJLEVBQXNCO1FBQ2hDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUksRUFBRSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssU0FBUztZQUFFLE9BQU8sU0FBUyxDQUFDO1FBRXRDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDckIsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQztTQUNyQztRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVELE9BQU8sQ0FBSSxFQUFzQixFQUFFLE9BQVU7UUFDekMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBSSxFQUFFLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsS0FBSyxTQUFTO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFFdEMsQ0FBQyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7UUFDakIsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsT0FBTyxDQUFJLEVBQXNCO1FBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBRWpDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssU0FBUztZQUFFLE9BQU87UUFDNUIsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqQyw4Q0FBOEM7UUFDOUM7O1dBRUc7SUFDUCxDQUFDO0lBRU8sY0FBYztRQUNsQixJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbEIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3ZELElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxTQUFTLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQ3pDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEI7U0FDSjtRQUNELElBQUksR0FBRyxHQUFHLDRFQUFvQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELE1BQU07SUFDTixDQUFDO0lBRUQsT0FBTztJQUNQLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25Ib0M7QUFDTztBQUNpQjtBQUNuQjtBQUVnQjtBQUNYO0FBR29CO0FBRXJCO0FBQ007QUFDYztBQUVsRSxJQUFZLFNBRVg7QUFGRCxXQUFZLFNBQVM7SUFDakIsMkNBQUs7SUFBRSx5Q0FBSTtJQUFFLDZDQUFNO0lBQUUseUNBQUk7SUFBRSwrQ0FBTztJQUFFLHVDQUFHO0FBQzNDLENBQUMsRUFGVyxTQUFTLEtBQVQsU0FBUyxRQUVwQjtBQXFDTSxTQUFTLFVBQVUsQ0FBQyxHQUFvQjtJQUMzQyxPQUFPO1FBQ0gsSUFBSSxFQUFFLFNBQVMsQ0FBQyxLQUFLO1FBQ3JCLEdBQUc7S0FDTixDQUFDO0FBQ04sQ0FBQztBQUVNLFNBQVMsU0FBUyxDQUFDLElBQVU7SUFDaEMsT0FBTztRQUNILElBQUksRUFBRSxTQUFTLENBQUMsSUFBSTtRQUNwQixJQUFJLEVBQUUsSUFBSTtLQUNiLENBQUM7QUFDTixDQUFDO0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBdUIsRUFBRSxNQUFjO0lBQy9ELE9BQU87UUFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDdEIsR0FBRyxFQUFFLE1BQU07UUFDWCxNQUFNLEVBQUUsTUFBTTtLQUNqQixDQUFDO0FBQ04sQ0FBQztBQUVNLFNBQVMsU0FBUyxDQUFDLElBQVU7SUFDaEMsT0FBTztRQUNILElBQUksRUFBRSxTQUFTLENBQUMsSUFBSTtRQUNwQixJQUFJLEVBQUUsSUFBSTtLQUNiLENBQUM7QUFDTixDQUFDO0FBRU0sU0FBUyxZQUFZLENBQUMsT0FBaUI7SUFDMUMsT0FBTztRQUNILElBQUksRUFBRSxTQUFTLENBQUMsT0FBTztRQUN2QixPQUFPO0tBQ1YsQ0FBQztBQUNOLENBQUM7QUFFTSxTQUFTLFFBQVEsQ0FBQyxHQUFRO0lBQzdCLE9BQU87UUFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLEdBQUc7UUFDbkIsSUFBSSxFQUFFLEdBQUc7S0FDWixDQUFDO0FBQ04sQ0FBQztBQUVNLFNBQVMsY0FBYyxDQUFDLE1BQWEsRUFBRSxNQUFhO0lBQ3ZELElBQUksTUFBTSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSTtRQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25FLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDdEIsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztJQUV0QiwyQkFBMkI7SUFDM0IsSUFBSSxHQUFHLEtBQUssU0FBUyxDQUFDLEtBQUssRUFBRTtRQUN6QixJQUFJLEVBQUUsR0FBRyxNQUFvQixDQUFDO1FBQzlCLFFBQVEsR0FBRyxFQUFFO1lBQ1QsS0FBSyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxLQUFLLENBQUM7WUFDbkMsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyx1RUFBa0IsQ0FBRSxNQUFvQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkYsS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyx5RUFBb0IsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFHLE1BQXNCLENBQUMsR0FBRyxFQUFHLE1BQXNCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEgsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxLQUFLLENBQUM7WUFDbEMsS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxxRUFBcUIsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFHLE1BQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDL0YsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyw4RUFBeUIsQ0FBRSxNQUFtQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDM0Y7S0FDSjtTQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDL0IsSUFBSSxFQUFFLEdBQUcsTUFBbUIsQ0FBQztRQUM3QixRQUFRLEdBQUcsRUFBRTtZQUNULEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sc0VBQWlCLENBQUUsTUFBb0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25GLEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sd0VBQW1CLENBQUUsTUFBc0IsQ0FBQyxHQUFHLEVBQUcsTUFBc0IsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hILEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sc0VBQWlCLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRyxNQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25GLEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sd0VBQW1CLENBQUMsdURBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUcsTUFBdUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM1RyxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLDZFQUF3QixDQUFFLE1BQW1CLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzRjtLQUNKO1NBQU0sSUFBSSxHQUFHLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBRTtRQUNqQyxJQUFJLEVBQUUsR0FBRyxNQUFxQixDQUFDO1FBQy9CLFFBQVEsR0FBRyxFQUFFO1lBQ1QsS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTywwRUFBcUIsQ0FBRSxNQUFzQixDQUFDLEdBQUcsRUFBRyxNQUFzQixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLHdFQUFtQixDQUFFLE1BQW9CLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9GLEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sMkVBQXNCLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFHLE1BQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDM0csS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTywrRUFBMEIsQ0FBRSxNQUFtQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN2RztLQUNKO1NBQU0sSUFBSSxHQUFHLEtBQUssU0FBUyxDQUFDLElBQUksRUFBRTtRQUMvQixJQUFJLEVBQUUsR0FBRyxNQUFtQixDQUFDO1FBQzdCLFFBQVEsR0FBRyxFQUFFO1lBQ1QsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyw4RUFBeUIsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFHLE1BQW9CLENBQUMsSUFBSSxDQUFDLElBQUksMkVBQTBCLENBQUM7WUFDekgsS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyx5RUFBb0IsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFHLE1BQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDL0YsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyw2RUFBd0IsQ0FBRSxNQUFtQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDM0Y7S0FDSjtTQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxPQUFPLEVBQUU7UUFDbEMsSUFBSSxFQUFFLEdBQUcsTUFBc0IsQ0FBQztRQUNoQyxRQUFRLEdBQUcsRUFBRTtZQUNULEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU07WUFDOUIsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyx3RUFBbUIsQ0FBRSxNQUFtQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDekY7S0FDSjtTQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDOUIsT0FBTyxvRkFBK0IsQ0FBRSxNQUFtQixDQUFDLElBQUksRUFBRyxNQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2hHO0lBQ0QscUJBQXFCO0lBQ3JCLE1BQU0seUJBQXlCLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDekQsQ0FBQztBQUVNLFNBQVMsV0FBVyxDQUFDLEtBQVk7SUFDcEMsUUFBUSxLQUFLLENBQUMsSUFBSSxFQUFFO1FBQ2hCLEtBQUssU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sMERBQWMsQ0FBRSxLQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZFLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQVEsS0FBbUIsQ0FBQyxJQUFJLENBQUM7UUFDdEQsS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLEdBQUcsS0FBb0IsQ0FBQztZQUM3QixPQUFPLElBQUksZ0RBQUksQ0FDWCxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQ3RDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FDekMsQ0FBQztTQUNMO1FBQ0QsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLEdBQUksS0FBbUIsQ0FBQyxJQUFJLENBQUM7WUFDbEMsT0FBTyxJQUFJLGdEQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ25EO1FBQ0QsS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDcEIsSUFBSSxJQUFJLEdBQUcscURBQVMsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUUsS0FBc0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNsRCxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEIsSUFBSSxJQUFJLEdBQUcscURBQVMsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUUsS0FBa0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDckQsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sQ0FBQyxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztLQUN0RDtBQUNMLENBQUM7QUFFRCxTQUFTLFlBQVksQ0FBQyxLQUFZO0lBQzlCLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRTtRQUNoQixLQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDckIsS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLEdBQUcsS0FBbUIsQ0FBQztZQUM1QixPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM3QjtRQUNELEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLElBQUksSUFBSSxHQUFJLEtBQW1CLENBQUMsSUFBSSxDQUFDO1lBQ3JDLE9BQU87Z0JBQ0gsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDcEIsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDcEIsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDcEIsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTthQUN2QjtTQUNKO1FBQ0QsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLEdBQUksS0FBbUIsQ0FBQyxJQUFJLENBQUM7WUFDbEMsT0FBTztnQkFDSCxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLO2dCQUNoQixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHO2FBQ2YsQ0FBQztTQUNMO1FBQ0QsS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDcEIsSUFBSSxHQUFHLEdBQUksS0FBc0IsQ0FBQyxPQUFPLENBQUM7WUFDMUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLEVBQVUsQ0FBQztZQUMvQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDakM7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEIsSUFBSSxHQUFHLEdBQUksS0FBa0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzdDLElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEI7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsT0FBTyxDQUFDLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0tBQ3REO0FBQ0wsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFDLEtBQVksRUFBRSxDQUFTLEVBQUUsQ0FBUztJQUN0RCxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUU7UUFDaEIsS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQ3RCLEtBQUssU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xCLElBQUksQ0FBQyxHQUFHLEtBQW1CLENBQUM7WUFDNUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2IsTUFBTTtTQUNUO1FBQ0QsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLEdBQUksS0FBbUIsQ0FBQyxJQUFJLENBQUM7WUFDbEMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLE1BQU07U0FDVDtRQUNELEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxHQUFJLEtBQW1CLENBQUMsSUFBSSxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQ2IsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7WUFDYixDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNYLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQ1gsTUFBTTtTQUNUO1FBQ0QsS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDcEIsSUFBSSxDQUFDLEdBQUcsS0FBcUIsQ0FBQztZQUM5QixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUM1QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzlCLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNsQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDekI7WUFDRCxNQUFNO1NBQ1Q7UUFDRCxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQixJQUFJLENBQUMsR0FBSSxLQUFrQixDQUFDLElBQUksQ0FBQztZQUNqQyxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN6QyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBQ3RCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDM0IsR0FBRyxDQUFDLENBQUMsQ0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDaEIsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDbkI7WUFDRCxNQUFNO1NBQ1Q7UUFDRCxPQUFPLENBQUMsQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7S0FDdEQ7QUFDTCxDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsS0FBWTtJQUM1QixRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUU7UUFDaEIsS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQ3RCLEtBQUssU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xCLElBQUksQ0FBQyxHQUFHLEtBQW1CLENBQUM7WUFDNUIsT0FBTztnQkFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLEtBQUs7Z0JBQ3JCLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDMUIsQ0FBQztTQUNuQjtRQUNELEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sU0FBUyxDQUFFLEtBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDeEUsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxTQUFTLENBQUUsS0FBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUN4RSxLQUFLLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLFlBQVksQ0FBQyxDQUFDLEdBQUksS0FBc0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ2xGLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sUUFBUSxDQUFFLEtBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3BFLE9BQU8sQ0FBQyxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztLQUN0RDtBQUNMLENBQUM7QUFFTSxNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQztBQWdCdkMsTUFBTSxpQkFBaUI7SUFhMUIsWUFBWSxLQUFZO1FBWGYsU0FBSSxHQUFHLGdCQUFnQixDQUFDO1FBQ3hCLGlCQUFZLEdBQUcsQ0FBQyxrREFBUyxFQUFFLDREQUFjLENBQUMsQ0FBQztRQUlwRCxZQUFPLEdBQUcsSUFBSSxzREFBZ0IsQ0FBdUIsYUFBYSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNsRixrQkFBYSxHQUFZLEtBQUssQ0FBQztRQUcvQixhQUFRLEdBQUcsSUFBSSw4REFBVyxFQUF3QixDQUFDO1FBRy9DLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDREQUFjLENBQW9CLENBQUM7UUFDOUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLGtEQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtEQUFTLENBQWUsQ0FBQyxDQUFDO1FBRTNFLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9CLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvRCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzRCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRU8sa0JBQWtCLENBQUMsS0FBZTtRQUN0QyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7SUFFTyxvQkFBb0IsQ0FBQyxLQUFlO1FBQ3hDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hEO0lBQ0wsQ0FBQztJQUVPLG1CQUFtQixDQUFDLElBQTBCO1FBQ2xELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7U0FDM0I7UUFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFO1lBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6QyxJQUFJLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFFTyxlQUFlLENBQUMsSUFBMEI7UUFDOUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9CLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxTQUFTO1lBQUUsT0FBTztRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEUsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3hDO0lBQ0wsQ0FBQztJQUVPLGNBQWMsQ0FBQyxJQUFlO1FBQ2xDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxnQkFBZ0I7WUFBRSxPQUFPO1FBQzNDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBNEIsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxJQUFlLEVBQUUsT0FBWTtRQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssZ0JBQWdCLEVBQUU7WUFDaEMsSUFBSSxDQUFDLEdBQUcsSUFBNEIsQ0FBQztZQUVyQyxJQUFJLE9BQU8sSUFBSSxPQUFPLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0I7U0FDSjthQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7WUFDakMsSUFBSSxHQUFHLEdBQUcsSUFBeUIsQ0FBQztZQUNwQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEQsSUFBSSxLQUFLLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxLQUFLLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQzdELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3ZELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3ZELElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQ3pCLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBRXpCLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO2dCQUM1QixvQ0FBb0M7Z0JBQ3BDLGNBQWMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDMUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRTtvQkFDN0UsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDL0I7YUFDSjtZQUVELE9BQU87U0FDVjthQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7WUFDbEMsSUFBSSxLQUFLLEdBQUcsSUFBMEIsQ0FBQztZQUN2QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEQsSUFBSSxLQUFLLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxLQUFLLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQzdELElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDeEIsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUFFLE9BQU87WUFDM0MsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxHQUFHLEtBQW9CLENBQUM7Z0JBQzdCLElBQUksT0FBTyxJQUFJLE9BQU8sRUFBRTtvQkFDcEIsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztvQkFDbEQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDL0I7YUFDSjtpQkFBTSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLEdBQUcsRUFBRTtnQkFDckMsSUFBSSxDQUFDLEdBQUcsS0FBaUIsQ0FBQztnQkFDMUIsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO29CQUNwQixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7b0JBQzVDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQ2xFO2dCQUNELENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7Z0JBQ2pDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDL0I7aUJBQU07Z0JBQ0gsT0FBTyxDQUFDLElBQUksQ0FBQyxxRUFBcUUsQ0FBQyxDQUFDO2dCQUNwRixPQUFPO2FBQ1Y7U0FDSjtJQUNMLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxJQUFlO1FBQ3JDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxnQkFBZ0I7WUFBRSxPQUFPO1FBQzNDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUE0QixDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVPLGVBQWU7UUFDbkIsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFDcEUsSUFBSSxDQUFDLEdBQUcsSUFBNEIsQ0FBQztZQUNyQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztJQUM5QixDQUFDO0lBRU8sYUFBYTtRQUNqQixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztRQUMzQixLQUFLLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUNwRSxJQUFJLENBQUMsR0FBRyxJQUE0QixDQUFDO1lBQ3JDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBR08sY0FBYyxDQUFDLEtBQVksRUFBRSxLQUFvQjtRQUNyRCxJQUFJLFNBQVMsR0FBVyxNQUFNLENBQUMsaUJBQWlCLENBQUM7UUFDakQsSUFBSSxJQUFJLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUFFdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQztRQUNoRixLQUFLLElBQUksSUFBSSxJQUFJLElBQUksRUFBRTtZQUNuQixJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNuQixTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUM7U0FDeEM7UUFFRCxJQUFJLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNiLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ2pDO0lBQ0wsQ0FBQztJQUVPLGFBQWEsQ0FBQyxLQUFZLEVBQUUsS0FBb0I7UUFDcEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLEtBQUssU0FBUyxDQUFDLENBQUM7UUFDM0UsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUU7WUFDbkIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRTtnQkFBRSxPQUFPO1NBQ3ZDO0lBQ0wsQ0FBQztJQUVPLFVBQVUsQ0FBQyxLQUFvQjtRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRTtZQUFFLE9BQU87UUFFcEMsSUFBSSxLQUFZLENBQUM7UUFDakIsUUFBUSxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ2hCLEtBQUssaUVBQXVCO2dCQUFFLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQXVCLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQUMsTUFBTTtZQUM1RixxSUFBcUk7WUFDckksS0FBSyxnRUFBc0I7Z0JBQUUsS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBWSxDQUFDLENBQUM7Z0JBQUMsTUFBTTtZQUMxRSxPQUFPLENBQUMsQ0FBQyxNQUFNLG9CQUFvQixDQUFDO1NBQ3ZDO1FBRUQsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO1lBQ2IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDcEM7YUFBTTtZQUNILElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3JDO0lBQ0wsQ0FBQztJQUdELFlBQVksQ0FBQyxLQUFZLEVBQUUsUUFBK0M7UUFDdEUsSUFBSSxTQUFTLEdBQXlELFNBQVMsQ0FBQztRQUNoRixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDdEIsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBNkMsQ0FBQztTQUNyRztRQUVELElBQUksU0FBUyxLQUFLLFNBQVM7WUFBRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDekIsSUFBSSxJQUFJLEdBQUcsU0FBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0MsSUFBSSxJQUFJLEtBQUssU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87Z0JBQUUsT0FBTyxLQUFLLENBQUM7WUFDdEQsT0FBTyxRQUFRLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RCxDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQsQ0FBQyxLQUFLLENBQUMsS0FBWSxFQUFFLFFBQStDO1FBQ2hFLElBQUksSUFBSSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3JDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFJLENBQUM7WUFDakIsSUFBSSxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO2dCQUFFLFNBQVM7WUFDekMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsS0FBTSxFQUFFLEtBQUssQ0FBQztnQkFBRSxTQUFTO1lBQ2pELElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUM7WUFDeEIsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUFFLFNBQVM7WUFDL0IsTUFBTSxHQUFHLENBQUM7U0FDYjtJQUNMLENBQUM7SUFFRCxNQUFNO0lBQ04sQ0FBQztJQUVELE9BQU87SUFDUCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbmhCTSxNQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQztBQUMxQyxNQUFNLGlCQUFpQixHQUFHLG1CQUFtQixDQUFDO0FBRTlDLE1BQU0sYUFBYSxHQUFHLFVBQVUsQ0FBQztBQVlqQyxNQUFNLGlCQUFpQixHQUFHLGNBQWMsQ0FBQztBQUV6QyxNQUFNLGlCQUFpQjtJQVkxQixZQUFZLEtBQVk7UUFYZixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQixTQUFJLEdBQUcsaUJBQWlCLENBQUM7UUFDekIsYUFBUSxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7UUFVaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNaLElBQUksRUFBRSxhQUFhO1lBQ25CLEtBQUssRUFBRSxLQUFLO1lBQ1osS0FBSyxFQUFFLEtBQUs7WUFFWixXQUFXLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFDdEIsS0FBSyxFQUFFLEtBQUs7WUFDWixJQUFJLEVBQUUsS0FBSztTQUNNLENBQUM7UUFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBb0I7UUFDMUIsSUFBSSxLQUFLLENBQUMsTUFBTSxZQUFZLGdCQUFnQixFQUFFO1lBQzFDLE9BQU87U0FDVjtRQUNELElBQUksSUFBSSxHQUFHO1lBQ1AsS0FBSyxFQUFFLEtBQUssQ0FBQyxRQUFRO1lBQ3JCLElBQUksRUFBRSxLQUFLLENBQUMsT0FBTztTQUN0QixDQUFDO1FBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdDLElBQUksS0FBSyxDQUFDLEdBQUcsRUFBRTtZQUNYLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVELE9BQU8sQ0FBQyxLQUFvQjtRQUN4QixJQUFJLElBQUksR0FBRztZQUNQLEtBQUssRUFBRSxLQUFLLENBQUMsUUFBUTtZQUNyQixJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU87U0FDdEIsQ0FBQztRQUNGLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3QyxJQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUU7WUFDWCxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxDQUFDO1NBQ2pEO0lBQ0wsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBRTNELElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELE9BQU87UUFDSCxRQUFRLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM5RCxRQUFRLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM5RCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZGOEM7QUFFa0I7QUFDSjtBQUd0RCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUM7QUFXM0IsTUFBTSxpQkFBaUIsR0FBRyxTQUFTLENBQUM7QUFZcEMsTUFBTSxxQkFBcUIsR0FBRyxXQUFXLENBQUM7QUFTMUMsTUFBTSxtQkFBbUIsR0FBRyxXQUFXLENBQUM7QUFPeEMsTUFBTSxXQUFXO0lBY3BCLHVCQUF1QjtJQUV2QixZQUFZLEtBQVk7UUFmZixTQUFJLEdBQUcsVUFBVSxDQUFDO1FBQ2xCLGlCQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLHlCQUFvQixHQUFHLEVBQUUsQ0FBQztRQUluQyxpQkFBWSxHQUFHLElBQUksc0RBQWdCLENBQWlCLFVBQVUsQ0FBQyxDQUFDO1FBQ2hFLGtCQUFhLEdBQUcsSUFBSSxzREFBZ0IsQ0FBdUIsaUJBQWlCLENBQUMsQ0FBQztRQUk5RSxnQkFBVyxHQUFHLElBQUksR0FBRyxFQUFpQixDQUFDO1FBS25DLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBRW5CLElBQUksQ0FBQyxlQUFlLEdBQUc7WUFDbkIsSUFBSSxFQUFFLHFCQUFxQjtZQUMzQixNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQ1YsSUFBSSxFQUFFLFlBQVk7WUFDbEIsUUFBUSxFQUFFLDRFQUFxQjtZQUMvQixNQUFNLEVBQUUsSUFBSTtZQUNaLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLElBQUk7U0FDYSxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLEdBQUc7WUFDakIsSUFBSSxFQUFFLG1CQUFtQjtZQUN6QixLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ2EsQ0FBQztRQUUzQixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNwQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNyQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN4QyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUV0QyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUVPLGFBQWEsQ0FBQyxDQUFRLEVBQUUsS0FBVTtRQUN0QyxJQUFJLE1BQU0sSUFBSSxLQUFLLEVBQUU7WUFDakIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztZQUN6QixJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ3BDO1lBQ0QsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDdEIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQzlCLE9BQU8sQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztvQkFDcEMsQ0FBQyxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7b0JBQ25CLE9BQU87aUJBQ1Y7Z0JBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNuQztTQUNKO0lBQ0wsQ0FBQztJQUVPLGNBQWMsQ0FBQyxDQUFZO1FBQy9CLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7WUFDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBbUIsQ0FBQztZQUM1QixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO2dCQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ25DO1NBQ0o7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBWSxFQUFFLE1BQVc7UUFDL0MsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFVBQVUsRUFBRTtZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLENBQW1CLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDbkQ7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBWTtRQUNsQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQW1CLENBQUM7WUFDNUIsSUFBSSxHQUFHLEdBQUc7Z0JBQ04sSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDRyxDQUFDO1lBQ3BCLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEVBQUUsRUFBRTtnQkFDbEQsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxNQUFNO29CQUFFLFNBQVM7Z0JBQ3ZDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNuQztZQUNELElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUMzQiwrRUFBNkIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQ2xEO1NBQ0o7SUFDTCxDQUFDO0lBRU8sZ0JBQWdCLENBQUMsQ0FBVyxFQUFFLE1BQVc7UUFDN0MsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLHFCQUFxQixFQUFFO1lBQ2xDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBNEIsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUM1RDtJQUNMLENBQUM7SUFFRCxjQUFjLENBQUMsTUFBYztRQUN6QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsRCxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO1NBQy9CO1FBRUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLDBCQUEwQixHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN6RSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7U0FDL0I7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsWUFBWSxDQUFDLEVBQVU7UUFDbkIsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBRTNDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQyxDQUFDO1lBQzNDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQztTQUMvQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxNQUFNO0lBRU4sQ0FBQztJQUVELE9BQU87SUFFUCxDQUFDO0NBQ0o7QUFFTSxTQUFTLGNBQWMsQ0FBQyxLQUFZO0lBQ3ZDLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDdkMsSUFBSSxHQUFHLEtBQUssU0FBUztRQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDakMsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsYUFBYSxFQUFFLEVBQUU7UUFDL0IsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLDZDQUE0QztLQUMvRDtJQUNELDJDQUEyQztJQUMzQyxPQUFPLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDckIsSUFBSSxFQUFFLFVBQVU7UUFDaEIsSUFBSSxFQUFFLFlBQVk7UUFDbEIsUUFBUSxFQUFFLDRFQUFxQjtRQUMvQixNQUFNLEVBQUUsS0FBSztLQUNFLENBQUMsQ0FBQztBQUN6QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9MdUQ7QUFHVDtBQUVBO0FBR3hDLE1BQU0sWUFBWSxHQUFHLFNBQVMsQ0FBQztBQVMvQixNQUFNLG1CQUFtQixHQUFHLGdCQUFnQixDQUFDO0FBUzdDLE1BQU0sbUJBQW1CLEdBQUcsZ0JBQWdCLENBQUM7QUFhN0MsTUFBTSxtQkFBbUI7SUFXNUIsWUFBWSxLQUFZLEVBQUUsT0FBZ0I7UUFWakMsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUNwQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQU8zQixZQUFPLEdBQUcsSUFBSSxzREFBZ0IsQ0FBeUIsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBR3JGLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBRW5CLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVwQyxJQUFJLENBQUMsR0FBRyxHQUFHO1lBQ1AsSUFBSSxFQUFFLG1CQUFtQjtZQUN6QixlQUFlLEVBQUUsQ0FBQztZQUNsQixXQUFXLEVBQUUsS0FBSztZQUNsQixXQUFXLEVBQUUsSUFBSSxHQUFHLEVBQWtCO1lBQ3RDLEtBQUssRUFBRSxLQUFLO1lBQ1osS0FBSyxFQUFFLEtBQUs7U0FDVSxDQUFDO1FBRTNCLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRTVCLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVuRCxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDaEIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQzFEO2FBQU07WUFDSCxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksbUJBQW1CLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDNUQ7SUFDTCxDQUFDO0lBRU8sY0FBYyxDQUFDLENBQVk7UUFDL0IsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLG1CQUFtQixFQUFFO1lBQ2hDLE1BQU0sSUFBSSxHQUFHLENBQTJCLENBQUM7WUFFekMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3pEO0lBQ0wsQ0FBQztJQUVPLGlCQUFpQixDQUFDLENBQVk7UUFDbEMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLG1CQUFtQixFQUFFO1lBQ2hDLE1BQU0sSUFBSSxHQUFHLENBQTJCLENBQUM7WUFFekMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMvQztJQUNMLENBQUM7SUFFTyxVQUFVO1FBQ2QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFFbEMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUNyQixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxQyxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO2dCQUNwQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ3ZDO1NBQ0o7SUFDTCxDQUFDO0lBRU8scUJBQXFCO1FBQ3pCLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztRQUN4RCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVPLGlCQUFpQixDQUFDLE1BQWM7UUFDcEMsTUFBTSxHQUFHLEdBQUc7WUFDUixJQUFJLEVBQUUsT0FBTztZQUNiLFFBQVEsRUFBRSxDQUFDO29CQUNQLEVBQUUsRUFBRSwwREFBZ0IsRUFBRTtvQkFDdEIsVUFBVSxFQUFFLENBQUM7NEJBQ1QsSUFBSSxFQUFFLG1CQUFtQjs0QkFDekIsU0FBUyxFQUFFLE1BQU07NEJBQ2pCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUM7eUJBQ3BCLENBQUM7aUJBQy9CLENBQUM7U0FDVyxDQUFDO1FBQ2xCLDZEQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsWUFBWSxDQUFDLE1BQWM7UUFDdkIsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDN0IsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUN0QixJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDakM7SUFDTCxDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWM7UUFDeEIsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDN0IsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUNyQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0MsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO2dCQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLEdBQUcsMkJBQTJCLENBQUMsQ0FBQztnQkFDL0QsT0FBTzthQUNWO1lBQ0QsTUFBTSxHQUFHLEdBQUc7Z0JBQ1IsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDO2FBQ0EsQ0FBQztZQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVELG9CQUFvQjtRQUNoQixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztRQUN6QyxRQUFRLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JELFFBQVEsQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsUUFBUSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELE9BQU87UUFDSCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztRQUN6QyxRQUFRLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RELFFBQVEsQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsUUFBUSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdkUsQ0FBQztDQUNKO0FBRU0sTUFBTSxpQkFBaUIsR0FBRyxjQUFjLENBQUM7QUFFekMsTUFBTSxpQkFBaUI7SUFPMUIsWUFBWSxLQUFZLEVBQUUsRUFBVztRQU41QixTQUFJLEdBQUcsaUJBQWlCLENBQUM7UUFDekIsaUJBQVksR0FBRyxFQUFjLENBQUM7UUFNbkMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCx3RkFBd0Y7SUFFaEYsWUFBWSxDQUFDLElBQVk7UUFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDZCxJQUFJLEVBQUUsZUFBZTtZQUNyQixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUU7U0FDckIsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU8sZUFBZSxDQUFDLEdBQW9CLEVBQUUsU0FBMEI7UUFDcEUsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxLQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEVBQUU7WUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQztnQkFBRSxTQUFTO1lBQzlDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3REO0lBQ0wsQ0FBQztJQUVPLFlBQVksQ0FBQyxNQUFjLEVBQUUsT0FBZ0I7UUFDakQsT0FBTyxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMzRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU8sY0FBYyxDQUFDLE9BQWtCO1FBQ3JDLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTztRQUNqQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQztZQUNuQixJQUFJLEVBQUUsS0FBSztZQUNYLElBQUksRUFBRSxPQUFPO1NBQ0csQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckUsQ0FBQztDQUNKO0FBRU0sTUFBTSxtQkFBbUIsR0FBRyxnQkFBZ0IsQ0FBQztBQUU3QyxNQUFNLG1CQUFtQjtJQU81QixZQUFZLEdBQVUsRUFBRSxPQUFnQjtRQU4vQixTQUFJLEdBQUcsbUJBQW1CLENBQUM7UUFDM0IsaUJBQVksR0FBRyxFQUFjLENBQUM7UUFNbkMsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDM0IsQ0FBQztJQUVPLGNBQWMsQ0FBQyxNQUF1QixFQUFFLFNBQTBCO1FBQ3RFLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTyxDQUFDLGFBQWE7UUFFakQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFTyxLQUFLLENBQUMsTUFBdUIsRUFBRSxTQUEwQjtRQUM3RCxLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7Z0JBQUUsU0FBUztZQUN4RCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVPLFlBQVksQ0FBQyxNQUFjLEVBQUUsT0FBZ0I7UUFDakQsSUFBSSxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxJQUFJLENBQUMsbUNBQW1DLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDM0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRCxPQUFPO1FBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMzRCxDQUFDO0NBRUo7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcFJnQztBQUlnQztBQUVDO0FBQ2tCO0FBQzdCO0FBQ0w7QUFDVztBQVM3RCxJQUFZLGFBT1g7QUFQRCxXQUFZLGFBQWE7SUFDckIsOENBQTZCO0lBQzdCLDhDQUE2QjtJQUM3QiwwQ0FBeUI7SUFDekIsMERBQXlDO0lBQ3pDLHNEQUFxQztJQUNyQyxnREFBK0I7QUFDbkMsQ0FBQyxFQVBXLGFBQWEsS0FBYixhQUFhLFFBT3hCO0FBc0JNLE1BQU0sb0JBQW9CLEdBQUcsaUJBQWlCLENBQUM7QUFhL0MsTUFBTSxlQUFlLEdBQUcsWUFBWSxDQUFDO0FBQ3JDLE1BQU0sZUFBZTtJQXNCeEIsWUFBWSxLQUFZO1FBckJ4QixTQUFJLEdBQUcsZUFBZSxDQUFDO1FBQ3ZCLGlCQUFZLEdBQUcsRUFBYyxDQUFDO1FBYzlCLGFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBdUIsQ0FBQztRQUMxQyxlQUFVLEdBQVcsQ0FBQyxDQUFDO1FBQ3ZCLGVBQVUsR0FBVyxDQUFDLENBQUM7UUFFdkIsb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFHN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsOERBQWlCLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU5RCxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FDbEI7WUFDSSxJQUFJLEVBQUUsb0JBQW9CO1lBQzFCLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLEtBQUs7WUFDWixJQUFJLEVBQUUsQ0FBQztZQUNQLElBQUksRUFBRSxDQUFDO1lBQ1AsTUFBTSxFQUFFLENBQUM7WUFDVCxNQUFNLEVBQUUsQ0FBQztTQUNjLENBQzlCLENBQUM7UUFFRiwrQkFBK0I7UUFDL0Isb0ZBQThDLEdBQUcsS0FBSyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxtREFBYSxDQUFDO1lBQzlCLGVBQWUsRUFBRSw0REFBa0I7U0FDdEMsQ0FBQyxDQUFDO1FBQ0gsK0RBQW1CLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQ3JELENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxpREFBVyxFQUFFLENBQUM7UUFFaEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLHdEQUFrQixFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFFbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHO1lBQ2hCLFFBQVEsQ0FBQyxDQUFTLEVBQUUsQ0FBUztnQkFDekIsT0FBTyxJQUFJLENBQUM7WUFDaEIsQ0FBQztTQUNRLENBQUM7UUFFZCxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUU7WUFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BDLENBQUMsRUFBRSw4REFBd0IsQ0FBQyxDQUFDO1FBRTdCLDJHQUEyRztRQUMzRyxpSEFBaUg7UUFDakgsNEdBQTRHO1FBQzVHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxvREFBYyxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFFbkMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksd0RBQWtCLENBQUMsdUVBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0UsTUFBTSxTQUFTLEdBQUcsSUFBSSx3REFBa0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNuRSxTQUFTLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUM5QixTQUFTLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRTlCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsU0FBUyxDQUFDLEdBQVc7UUFDakIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsMERBQWEsQ0FBaUMsQ0FBQztRQUNyRixJQUFJLFFBQVEsS0FBSyxTQUFTO1lBQUUsT0FBTztRQUVuQyxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDM0IsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBRWxCLElBQUksVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUMzQixRQUFRLEdBQUcsRUFBRTtZQUNULEtBQUssR0FBRztnQkFDSixJQUFJLEtBQUs7b0JBQUUsVUFBVSxHQUFHLGNBQWMsQ0FBQzs7b0JBQ2xDLFVBQVUsR0FBRyxjQUFjLENBQUM7Z0JBQ2pDLE1BQU07WUFDVixLQUFLLEdBQUc7Z0JBQUUsVUFBVSxHQUFHLGNBQWMsQ0FBQztnQkFBRSxNQUFNO1lBQzlDLEtBQUssR0FBRztnQkFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUFVLE1BQU07WUFDOUMsS0FBSyxHQUFHO2dCQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQVMsTUFBTTtTQUNqRDtRQUNELElBQUksVUFBVSxLQUFLLFNBQVMsRUFBRTtZQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDdEM7SUFDTCxDQUFDO0lBRUQsY0FBYyxDQUFDLEtBQWtCLEVBQUUsQ0FBYTtRQUM1QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFckIsSUFBSSxRQUFRLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGlCQUFpQixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRW5ELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDL0IsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztRQUV2RCxPQUFPLE9BQU8sR0FBRyxDQUFDLElBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQztJQUN6QyxDQUFDO0lBRUQsSUFBSSxDQUFDLE1BQWMsRUFBRSxPQUFlLEVBQUUsT0FBZTtRQUNqRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDdEIsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBRW5CLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLFFBQVEsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxRQUFRLElBQUksTUFBTSxHQUFHLENBQUM7WUFDMUYsT0FBTztRQUVYLHNDQUFzQztRQUN0QyxpRkFBaUY7UUFDakYsMEVBQTBFO1FBQzFFLG1GQUFtRjtRQUVuRixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBQzNDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUM7UUFFM0MsSUFBSSxJQUFJLE1BQU0sQ0FBQztRQUNmLElBQUksSUFBSSxNQUFNLENBQUM7UUFFZixNQUFNLFFBQVEsR0FBRyxJQUFJLGdEQUFVLENBQUMsSUFBSSxHQUFHLE9BQU8sRUFBRSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUM7UUFDaEUsTUFBTSxLQUFLLEdBQUcsSUFBSSxnREFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBRXZGLE9BQU87UUFDUDs7O1dBR0c7UUFFSCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsRUFBRTtZQUMxQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDaEIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2hCLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNmLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztTQUNRLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsWUFBWSxDQUFDLEtBQWlCO1FBQzFCLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQztRQUN6QixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsWUFBWSxDQUFDO1FBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxhQUFhLENBQUMsS0FBNEI7UUFDdEMsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQy9ELGVBQWU7WUFDZixJQUFJLElBQUksR0FBRyxLQUE4QixDQUFDO1lBQzFDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDL0QsT0FBTztTQUNWO1FBRUQsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDcEMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ2IsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ2IsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ1osS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ0EsQ0FBQyxDQUFDO1FBRWxCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFcEMsSUFBSSxDQUFDLEdBQUcsS0FBeUIsQ0FBQztRQUNsQyxDQUFDLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDbEUsb0VBQW9FO1lBQ3BFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQzdEO1FBRUQsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQ3pDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUE0QjtRQUNwQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxLQUFLLE9BQU8sSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0QsZUFBZTtZQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDakU7UUFFRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BELElBQUksS0FBSyxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRWhDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFM0MsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssU0FBUztZQUFFLE9BQU87UUFFakQsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7WUFFN0IsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUU1RCxJQUFJLEdBQUcsR0FBRyxLQUF1QixDQUFDO1lBQ2xDLEdBQUcsQ0FBQyxZQUFZLEdBQUc7Z0JBQ2YsQ0FBQyxFQUFFLEtBQUssQ0FBQyxLQUFLO2dCQUNkLENBQUMsRUFBRSxLQUFLLENBQUMsS0FBSzthQUNqQixDQUFDO1lBQ0YsR0FBRyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7WUFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDdEQsSUFBSSxPQUFPLEVBQUU7Z0JBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDOUQ7U0FDSjtJQUNMLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxLQUE0QjtRQUMzQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCw0REFBNEQ7SUFDNUQsYUFBYSxDQUFDLENBQXdCO1FBQ2xDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRXhCLDJCQUEyQjtRQUMzQixJQUFJLFFBQVEsR0FBRyw2RUFBK0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRWhELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUNsRCxJQUFJLEdBQUcsR0FBRyxDQUFxQixDQUFDO1lBQ2hDLEdBQUcsQ0FBQyxZQUFZLEdBQUc7Z0JBQ2YsQ0FBQyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxVQUFVO2FBQ3pDLENBQUM7WUFDRixHQUFHLENBQUMsY0FBYyxHQUFHLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDbkYsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDeEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMzQjtRQUVELElBQUksS0FBSyxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRWhDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLEVBQUMsT0FBTztZQUNsQyxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7Z0JBQ3RCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM5RCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFFOUQ7OzttQkFHRztnQkFFSCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsRUFBRTtvQkFDMUMsSUFBSSxFQUFFLE9BQU87b0JBQ2IsSUFBSSxFQUFFLE9BQU87aUJBQ1UsQ0FBQyxDQUFDO2FBQ2hDO1NBQ0o7UUFFRCxJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFFbEIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7WUFDMUIsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRXRDLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUM3QixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDN0IsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7U0FDNUM7UUFFRCxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEIsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRXBCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQzFCLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUV0QyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDN0IsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFFOUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxnREFBVSxDQUN2QixDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFDekIsQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQzVCLENBQUM7WUFDRixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNEO0lBQ0wsQ0FBQztJQUVPLGdCQUFnQixDQUFDLEdBQWEsRUFBRSxPQUFZO1FBQ2hELElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxvQkFBb0I7WUFBRSxPQUFPO1FBQzlDLElBQUksQ0FBQyxHQUFHLEdBQTZCLENBQUM7UUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsc0JBQXNCLENBQUMsS0FBc0I7UUFDekMsS0FBSyxJQUFJLENBQUMsSUFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMseURBQWlCLENBQW9CLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFDMUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxxREFBYSxFQUFFO2dCQUM5QyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ1YsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ2IsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsV0FBVztRQUNQLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDM0MsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztRQUU3QyxJQUFJLG1CQUFtQixHQUFHLGdCQUFnQixHQUFHLENBQUMsQ0FBQztRQUMvQyxJQUFJLG9CQUFvQixHQUFHLGlCQUFpQixHQUFHLENBQUMsQ0FBQztRQUVqRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRXBDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FDbkIsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsRUFDakQsb0JBQW9CLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FDdEQsQ0FBQztJQUNOLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxNQUF5QjtRQUN0QyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ3ZCLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1FBQ2pCLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBQzNDLElBQUksQ0FBQyxXQUFXLEdBQUcscUJBQXFCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRU8sUUFBUTtRQUNaLElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7U0FDaEM7UUFDRCxJQUFJLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsTUFBTTtRQUNGLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QixJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDdEQsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQ2QsTUFBTSw4QkFBOEIsQ0FBQztTQUN4QztRQUNELEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFeEIsT0FBTztRQUNQLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVoRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFdkQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFMUQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWpFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFcEUsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3RELEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6QyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqY3dCO0FBQ3NDO0FBZXBDO0FBRU07QUFDa0U7QUFDdkM7QUFDSDtBQVFoQztBQUNrRDtBQVc5QztBQUNlO0FBQ0E7QUFDRjtBQUNFO0FBQ1E7QUFDWjtBQUMyQjtBQUNoQjtBQThCNUMsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDO0FBTXhDLElBQUssa0JBSUo7QUFKRCxXQUFLLGtCQUFrQjtJQUNuQix1RUFBVTtJQUNWLG1FQUFRO0lBQ1IsdUVBQVU7QUFDZCxDQUFDLEVBSkksa0JBQWtCLEtBQWxCLGtCQUFrQixRQUl0QjtBQUVELFNBQVMsU0FBUyxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUztJQUM5QyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9ELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0QsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNuQyxDQUFDO0FBRU0sTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBRXhCLE1BQU0saUJBQWlCLEdBQUcsY0FBYyxDQUFDO0FBR2hEOzs7Ozs7Ozs7OztHQVdHO0FBQ0ksTUFBTSxpQkFBaUI7SUFtQjFCLFlBQVksS0FBWTtRQWxCZixTQUFJLEdBQUcsaUJBQWlCLENBQUM7UUFDekIsaUJBQVksR0FBRyxDQUFDLDhEQUFlLEVBQUUsZ0VBQWdCLENBQUMsQ0FBQztRQUNuRCxhQUFRLEdBQUcsQ0FBQyxtREFBWSxDQUFDLENBQUM7UUFHbkMsWUFBTyxHQUFHLElBQUksc0RBQWdCLENBQXVCLG1EQUFZLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2pGLG9CQUFlLEdBQUcsSUFBSSxvREFBYyxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFNaEUsc0JBQWlCLEdBQUcsSUFBSSxzREFBaUIsRUFBRSxDQUFDO1FBRzVDLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQUk5QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLG1EQUFTLENBQWUsQ0FBQztRQUM3RCxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDhEQUFlLENBQW9CLENBQUM7UUFDN0UsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdFQUFnQixDQUFzQixDQUFDO1FBRWxGLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3ZDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9CLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrRUFBdUIsRUFBRSxJQUFJLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0UsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFTyxjQUFjLENBQUMsQ0FBWTtRQUMvQixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBSSxHQUFHLEdBQXFDLFNBQVMsQ0FBQztRQUV0RCxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssbURBQVksRUFBRTtZQUN6QixHQUFHLEdBQUcsQ0FBeUIsQ0FBQztZQUNoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLHFEQUFhLENBQXNCLENBQUM7WUFDaEYsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxzREFBYyxDQUF1QixDQUFDO1lBQ3BGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN2RCxJQUFJLENBQUMsd0JBQXdCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFbkMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSw4REFBbUIsQ0FBdUMsQ0FBQztZQUN0RyxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxLQUFLLFNBQVMsQ0FBQztZQUNoRixJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFFLGFBQUYsRUFBRSx1QkFBRixFQUFFLENBQUUsT0FBTyxHQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ2hGLEdBQUcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JELFNBQVMsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO1NBQzdCO2FBQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLHNEQUFjLEVBQUU7WUFDbEMsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxJQUFJLEdBQUcsS0FBSyxTQUFTO2dCQUFFLE9BQU87WUFDOUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO1lBQ2hGLElBQUksS0FBSyxHQUFHLENBQXVCLENBQUM7WUFDcEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3ZELFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztTQUMvQjthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxhQUFhLEVBQUU7WUFDakMsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxJQUFJLEdBQUcsS0FBSyxTQUFTO2dCQUFFLE9BQU87WUFDOUIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDcEU7YUFBTSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssd0RBQWdCLEVBQUU7WUFDcEMsY0FBYztTQUNqQjtRQUVELElBQUksU0FBUyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDaEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVPLGlCQUFpQixDQUFDLENBQVksRUFBRSxPQUFZOztRQUNoRCxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBSSxHQUFHLEdBQXFDLFNBQVMsQ0FBQztRQUV0RCxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssbURBQVksRUFBRTtZQUN6QixHQUFHLEdBQUcsQ0FBeUIsQ0FBQztZQUNoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLHFEQUFhLENBQXNCLENBQUM7WUFDaEYsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxzREFBYyxDQUF1QixDQUFDO1lBQ3BGLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxtRUFBa0U7WUFDcEcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3ZELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsOERBQW1CLENBQXVDLENBQUM7WUFDdEcsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFNBQVMsQ0FBQztZQUMzRSxJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQUUsYUFBRixFQUFFLHVCQUFGLEVBQUUsQ0FBRSxPQUFPLG1DQUFJLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN0RixHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyRCxTQUFTLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQztZQUUxQixJQUFJLGFBQWEsSUFBSSxPQUFPLEVBQUU7Z0JBQzFCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQzNDO1NBQ0o7YUFBTSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUsscURBQWEsRUFBRTtZQUNqQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzFDLElBQUksR0FBRyxLQUFLLFNBQVM7Z0JBQUUsT0FBTztZQUM5QixJQUFJLEdBQUcsR0FBRyxDQUFzQixDQUFDO1lBQ2pDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsc0RBQWMsQ0FBdUIsQ0FBQztZQUNwRixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDdkQsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO1NBQy9CO2FBQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLHNEQUFjLEVBQUU7WUFDbEMsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxJQUFJLEdBQUcsS0FBSyxTQUFTO2dCQUFFLE9BQU87WUFDOUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO1lBQ2hGLElBQUksS0FBSyxHQUFHLENBQXVCLENBQUM7WUFDcEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3ZELFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztTQUMvQjthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyw4REFBbUIsRUFBRTtZQUN2QyxJQUFJLEVBQUUsR0FBRyxDQUEyQixDQUFDO1lBRXJDLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDM0MsSUFBSSxHQUFHLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBRTlCLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLEdBQUcsQ0FBQyxjQUFjLEtBQUssa0JBQWtCLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUU7Z0JBQ2xFLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQzlCLElBQUksRUFBRSxhQUFhO29CQUNuQixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07aUJBQ0UsQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsWUFBYSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDckQsVUFBVSxHQUFHLElBQUksQ0FBQzthQUNyQjtZQUVELElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQzthQUNoRjtTQUNKO1FBRUQsSUFBSSxTQUFTLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNoQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDaEM7SUFDTCxDQUFDO0lBRU8sa0JBQWtCLENBQUMsQ0FBWTtRQUNuQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssbURBQVksRUFBRTtZQUN6QixJQUFJLENBQUMsY0FBYyxDQUFFLENBQXNCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzlEO2FBQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLHNEQUFjLEVBQUU7WUFDbEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzlDLElBQUksR0FBRyxLQUFLLFNBQVM7Z0JBQUUsT0FBTztZQUM5QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLHFEQUFhLENBQXNCLENBQUM7WUFDaEYsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUcsQ0FBd0IsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUM5RTthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyx3REFBZ0IsRUFBRTtZQUNwQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUMsSUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVM7Z0JBQUUsT0FBTztZQUNoRCxnQ0FBZ0M7WUFDaEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVPLGdCQUFnQixDQUFDLEdBQWEsRUFBRSxPQUFZO1FBQ2hELElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxzQkFBc0IsRUFBRTtZQUNyQyxJQUFJLEdBQUcsR0FBRyxHQUF5QixDQUFDO1lBQ3BDLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxPQUFPLENBQUM7Z0JBQUUsT0FBTztZQUV2QyxJQUFJLEdBQUcsQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO2dCQUN6QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO2dCQUM3QixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUU7b0JBQ3hDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUNoRTthQUNKO2lCQUFNLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxJQUFJLEVBQUU7Z0JBQ2hDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Z0JBQzlCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRTtvQkFDeEMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBMkIsQ0FBQztvQkFDdkYsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUN0RCxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEVBQUUsYUFBRixFQUFFLHVCQUFGLEVBQUUsQ0FBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLFNBQVMsQ0FBQyxDQUFDO2lCQUNwRjthQUNKO2lCQUFNO2dCQUNILE1BQU0scUJBQXFCLENBQUM7YUFDL0I7U0FDSjthQUFNLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxtREFBUyxFQUFFO1lBQy9CLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUM7Z0JBQUUsT0FBTztZQUNsQyx1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7WUFDM0YsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHNEQUFjLENBQXlDLENBQUM7WUFFOUYsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFO2dCQUN4QyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQyxFQUFFO29CQUM1QixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssd0RBQWlCLElBQUssQ0FBa0IsQ0FBQyxLQUFLLEtBQUssMERBQW1CLEVBQUU7d0JBQ25GLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBRSxDQUFDO3dCQUN6QyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUUsQ0FBQzt3QkFDM0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsZ0VBQWdCLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFDLENBQUMsQ0FBQztxQkFDbEc7Z0JBQ0wsQ0FBQyxDQUFDLENBQUM7YUFDTjtTQUNKO0lBQ0wsQ0FBQztJQUVPLGdCQUFnQixDQUFDLE1BQWM7UUFDbkMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ2pCLENBQUMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ25CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO1lBQzlFLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxzREFBYyxDQUF1QixDQUFDO1lBQ2xGLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN0RDtJQUNMLENBQUM7SUFFTyxjQUFjLENBQUMsTUFBYztRQUNqQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDakIsQ0FBQyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDcEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLHFEQUFhLENBQXNCLENBQUM7WUFDOUUsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLHNEQUFjLENBQXVCLENBQUM7WUFDbEYsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3REO0lBQ0wsQ0FBQztJQUVPLHFCQUFxQixDQUFDLElBQTBCO1FBQ3BELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsNkRBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDOUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzlDLE9BQU8sR0FBRyxLQUFLLFNBQVMsSUFBSSxHQUFHLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUNILEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO1lBQ2hCLDBFQUEwRTtZQUMxRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFFLENBQUM7WUFDL0MsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMxRjtJQUNMLENBQUM7SUFFTyxXQUFXO1FBQ2YsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUMxQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVM7Z0JBQUUsU0FBUztZQUM3QixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDcEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsT0FBTyxLQUFQLE9BQU8sR0FBSyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQztZQUN0RixJQUFJLE9BQU87Z0JBQUUsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFJLFdBQVcsRUFBRTtZQUNiLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyw0RUFBcUMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUM5RTtJQUNMLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxNQUFjO1FBQ3BDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBQzVCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEtBQVAsT0FBTyxHQUFLLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO1FBRWxGLElBQUksT0FBTyxFQUFFO1lBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDRFQUFxQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztTQUMzRTtJQUNMLENBQUM7SUFDRCx1RUFBdUU7SUFFL0QsaUJBQWlCLENBQUMsSUFBMEIsRUFBRSxHQUFlLEVBQUUsS0FBcUM7UUFDeEcsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxnRUFBZ0IsQ0FBeUIsQ0FBQztRQUVwRyxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksY0FBYyxLQUFLLFNBQVMsRUFBRTtZQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNqQyxJQUFJLEVBQUUsZ0VBQWdCO2dCQUN0QixjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRO2dCQUNyQyxXQUFXLEVBQUUsSUFBSTtnQkFDakIsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDO2FBQzVCLENBQUMsQ0FBQztTQUM5QjthQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLGNBQWMsS0FBSyxTQUFTLEVBQUU7WUFDMUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLENBQUM7U0FDOUM7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDekIsNENBQTRDO1lBQzVDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEtBQUssd0RBQWlCLEVBQUU7Z0JBQ3pDLCtEQUErRDtnQkFDL0QsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQTJCLENBQUM7Z0JBQzFDLElBQUksRUFBRSxDQUFDLE9BQU8sS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFO29CQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLGdFQUFnQixFQUFFLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUM7aUJBQ3RHO2FBQ0o7U0FDSjtJQUNMLENBQUM7SUFFTyxXQUFXLENBQUMsSUFBd0IsRUFBRSxHQUFlLEVBQUUsS0FBcUM7UUFDaEcsUUFBUSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2YsS0FBSyw0REFBcUI7Z0JBQ3RCLHdFQUF3RTtnQkFDeEUsTUFBTSxtQ0FBbUMsQ0FBQztZQUM5QyxLQUFLLHVEQUFnQjtnQkFDakIsTUFBTSw4QkFBOEIsQ0FBQztZQUN6QyxLQUFLLHdEQUFpQixDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxHQUFHLElBQW9CLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztnQkFDekIsSUFBSSxJQUFJLENBQUM7Z0JBRVQsSUFBSSxFQUFFLEdBQUcsTUFBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLEtBQUssS0FBSSxDQUFDLENBQUM7Z0JBQzNCLElBQUksRUFBRSxHQUFHLE1BQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxLQUFLLEtBQUksQ0FBQyxDQUFDO2dCQUUzQixJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksMERBQW1CLEVBQUU7b0JBQ2hDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLG1EQUFTLENBQWlCLENBQUM7b0JBQzdELElBQUksS0FBSyxHQUFJLENBQUMsQ0FBQyxPQUF5QixDQUFDLFFBQVUsQ0FBQztvQkFDcEQsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7b0JBQzlCLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO2lCQUNqQztnQkFFRCxJQUFJLEdBQUcsaUVBQW9CLENBQUMsR0FBRyxFQUFFLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3pCLElBQUksR0FBRyxHQUFHLDBEQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLE1BQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxRQUFRLEtBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzVELE9BQU8sNERBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN4QjtZQUNELEtBQUssdURBQWdCLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEdBQUcsSUFBbUIsQ0FBQztnQkFDNUIsT0FBTyw2REFBUyxDQUFDLElBQUksaURBQUksQ0FDckIsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FDakQsQ0FBQyxDQUFDO2FBQ047WUFDRCxLQUFLLHdEQUFpQixDQUFDLENBQUM7Z0JBQ3BCLE9BQU8sOERBQVUsQ0FBQyxJQUFJLGdEQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNuRDtTQUNKO0lBQ0wsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNLLGlCQUFpQixDQUFDLENBQW1CO1FBQ3pDLElBQUksQ0FBQyxDQUFDLGNBQWMsS0FBSyxJQUFJO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFNUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFFckIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFDL0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUN0QixJQUFJLEdBQUcsS0FBSyxTQUFTO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFcEMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUV0QixRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxJQUFJLFdBQVcsR0FBRyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFN0QsTUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQztRQUN2QixFQUFFLENBQUMsVUFBVSxDQUNULEtBQUssQ0FBQyxDQUFDLEVBQ1AsS0FBSyxDQUFDLENBQUMsRUFDUCxLQUFLLENBQUMsS0FBSyxFQUNYLEtBQUssQ0FBQyxNQUFNLEVBQ1osRUFBRSxDQUFDLElBQUksRUFDUCxFQUFFLENBQUMsYUFBYSxFQUNoQixXQUFXLENBQ2QsQ0FBQztRQUVGLElBQUksT0FBTyxHQUFHLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEQsSUFBSSxNQUFNLEdBQUcsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM5QixJQUFJLEtBQUssR0FBRyxXQUFXLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUVuQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDdEIsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7YUFDekM7U0FDSjtRQUNELENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ2xCLENBQUMsQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTyxjQUFjLENBQUMsQ0FBbUI7UUFDdEMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDOUIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFFaEMsSUFBSSxDQUFDLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTtZQUN6QixDQUFDLENBQUMsT0FBTyxHQUFHLCtEQUF5QixDQUFDO2dCQUNsQyxLQUFLLEVBQUUsTUFBTTtnQkFDYixTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsU0FBUzthQUM3QyxDQUFDLENBQUM7WUFDSCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztZQUM5QixFQUFVLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDakQ7UUFFRCxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssU0FBUztZQUFFLE9BQU87UUFFbkMsSUFBSSxPQUFPLEdBQUc7WUFDVixLQUFLLEVBQUUsTUFBTTtZQUNiLE1BQU0sRUFBRSx1REFBaUI7U0FDNUIsQ0FBQztRQUVGLElBQUksT0FBTyxHQUFHLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFbEUsSUFBSSxHQUFHLEdBQUcsSUFBSSxpREFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUIsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsSUFBSSxRQUFRLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLElBQUksUUFBUSxHQUFHLElBQUksbUVBQTZCLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDOUUsSUFBSSxXQUFXLEdBQUcsSUFBSSxzREFBZ0IsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDO1FBRXpELElBQUksR0FBRyxHQUFHLElBQUksa0RBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4QyxJQUFJLFNBQVMsR0FBRyxJQUFJLGlEQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsU0FBUyxDQUFDLFNBQVMsR0FBRyw2REFBdUIsQ0FBQztRQUU5QyxJQUFJLFNBQVMsR0FBRyxJQUFJLGlEQUFXLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzNDLElBQUksR0FBRyxHQUFHLElBQUksb0RBQWMsRUFBRSxDQUFDO1FBQy9CLEdBQUcsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRW5DLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUzRCxTQUFTLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztRQUUvQixDQUFDLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBRU8sU0FBUyxDQUFDLEdBQXlCLEVBQUUsR0FBdUIsRUFBRSxDQUFvQztRQUN0RyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDUCxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDZCxLQUFLLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUM3QjtTQUNKO0lBQ0wsQ0FBQztJQUVPLFlBQVksQ0FBQyxHQUF5QixFQUFFLEdBQXVCLEVBQUUsQ0FBa0M7UUFDdkcsSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLHdEQUFpQixJQUFLLEdBQXdCLENBQUMsS0FBSyxLQUFLLHlFQUFrQyxFQUFFO1lBQ3pHLENBQUMsQ0FBQyxHQUF1QixDQUFDLENBQUM7U0FDOUI7UUFDRCxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDZCxLQUFLLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNoQztTQUNKO0lBQ0wsQ0FBQztJQUVPLGFBQWEsQ0FBQyxHQUF5QixFQUFFLEdBQXVCO1FBQ3BFLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSx3REFBaUIsSUFBSyxHQUF3QixDQUFDLEtBQUssS0FBSyx5RUFBa0MsRUFBRTtZQUN6RyxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO1lBQ2QsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO2dCQUN4QixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFBRSxPQUFPLElBQUksQ0FBQzthQUMvQztTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVPLGtCQUFrQixDQUFDLEdBQXlCO1FBQ2hELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsZ0VBQWdCLENBQXlCLENBQUM7UUFDMUYsSUFBSSxJQUFJLEdBQUcsK0RBQVcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFlBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDakQsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzRixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTyxtQkFBbUIsQ0FBQyxJQUEwQixFQUFFLEdBQXlCLEVBQUUsR0FBcUI7UUFDcEcscUJBQXFCO1FBQ3JCLHVEQUF1RDtRQUN2RCxtRkFBbUY7UUFDbkYsc0dBQXNHO1FBQ3RHLHlHQUF5RztRQUN6RyxtR0FBbUc7UUFDbkcsd0ZBQXdGO1FBQ3hGLG1HQUFtRztRQUVuRyxvQkFBb0I7UUFDcEIsMkdBQTJHO1FBQzNHLDhGQUE4RjtRQUM5Riw2R0FBNkc7UUFDN0csMEdBQTBHO1FBQzFHLCtHQUErRztRQUMvRyxxR0FBcUc7UUFDckcsK0VBQStFO1FBQy9FLGdIQUFnSDtRQUNoSCw2RUFBNkU7UUFDN0Usc0dBQXNHO1FBQ3RHLHVIQUF1SDtRQUV2SCw0Q0FBNEM7UUFDNUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLHdEQUFnQixDQUFDO1lBQUUsT0FBTztRQUVsRSxtQ0FBbUM7UUFFbkMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFFN0MsSUFBSSxRQUFRLEdBQUcsSUFBSSxvREFBYyxFQUFFLENBQUM7UUFDcEMsd0JBQXdCO1FBQ3hCLElBQUksQ0FBQyxHQUFHLElBQUksMkNBQU0sRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFNLENBQUM7UUFDdEIsQ0FBQyxDQUFDLFNBQVMsQ0FDUCxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUNoQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUNuQixDQUFDO1FBQ0YsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QixJQUFJLFFBQVEsR0FBRyxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDNUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0QsUUFBUSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxvREFBYyxFQUFFLENBQUM7UUFFcEMsbUdBQW1HO1FBQ25HLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxXQUFXLENBQUM7UUFDM0IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3ZELEdBQUcsR0FBSSxJQUFJLENBQUMsaUJBQXlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakYsSUFBSSxHQUFJLElBQUksQ0FBQyxpQkFBeUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVsRixLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQzdCLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2xDO1lBRUQsZ0RBQWdEO1lBQ2hELFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNyQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFMUIsS0FBSyxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUMzQixLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRywwREFBb0IsQ0FBQztnQkFDNUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDakM7WUFFRCxJQUFJLFlBQVksR0FBRyxJQUFJLGlEQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDeEMsWUFBWSxDQUFDLFNBQVMsR0FBRyx1REFBa0IsQ0FBQztZQUU1Qyw0R0FBNEc7WUFDNUcsV0FBVztZQUNYLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN0QyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDMUIsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRTFCLDZCQUE2QjtZQUM3QixXQUFXLEdBQUcsSUFBSSxpREFBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsMERBQW9CLENBQUM7WUFDN0MsUUFBUSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUNsQztRQUVELEtBQUssSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUNyQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsQztRQUVELElBQUksT0FBTyxHQUFHLElBQUksaURBQVcsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0MsT0FBTyxDQUFDLFNBQVMsR0FBRyw2REFBdUIsQ0FBQztRQUU1QyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUM7UUFFcEMsdUZBQXVGO1FBQ3ZGLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNuRSxHQUFHLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUUxQiwrRkFBK0Y7UUFDL0YsUUFBUSxDQUFDLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7UUFDOUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7UUFFN0IsSUFBSSxHQUFHLEtBQUssU0FBUztZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakUsSUFBSSxJQUFJLEtBQUssU0FBUztZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkUsSUFBSSxXQUFXLEtBQUssU0FBUztZQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO1FBRWhFLHNDQUFzQztJQUMxQyxDQUFDO0lBRU8seUJBQXlCLENBQUMsQ0FBaUI7UUFDL0MsSUFBSSxLQUFLLENBQUM7UUFDVixRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDYixLQUFLLDREQUFxQjtnQkFDdEIsc0RBQXNEO2dCQUN0RCxPQUFPLGtCQUFrQixDQUFDLFVBQVUsQ0FBQztZQUN6QyxLQUFLLG9FQUE2QixDQUFDO1lBQ25DLEtBQUsseUVBQWtDO2dCQUNuQyxLQUFLLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxDQUFDO2dCQUN0QyxNQUFNO1lBQ1YsS0FBSyw4REFBdUI7Z0JBQ3hCLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxRQUFRLENBQUM7Z0JBQ3BDLE1BQU07U0FDYjtRQUVELElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRTtZQUNaLEtBQUssSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDdkIsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM1RCxJQUFJLEtBQUssS0FBSyxrQkFBa0IsQ0FBQyxVQUFVO29CQUFFLE1BQU0sc0JBQXFCO2FBQzNFO1NBQ0o7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU8sY0FBYyxDQUFDLElBQXdCLEVBQUUsU0FBa0I7UUFDL0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUV0QixJQUFJLElBQUksS0FBSyxTQUFTO1lBQUUsT0FBTztRQUUvQixRQUFRLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsS0FBSyxTQUFTLENBQUM7WUFDZixLQUFLLDREQUFxQjtnQkFDdEIsTUFBTTtZQUNWLEtBQUssd0RBQWlCLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxFQUFFLEdBQUcsSUFBd0IsQ0FBQztnQkFDbEMsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUM7Z0JBQzFDLElBQW9CLENBQUMsT0FBTyxDQUFDO29CQUMxQixRQUFRLEVBQUUsS0FBSztvQkFDZixPQUFPLEVBQUUsVUFBVTtvQkFDbkIsV0FBVyxFQUFFLFVBQVU7aUJBQzFCLENBQUMsQ0FBQztnQkFDSCxJQUFJLEVBQUUsQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFO29CQUMxQixFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDNUI7Z0JBQ0QsTUFBTTthQUNUO1lBQ0QsS0FBSyx1REFBZ0I7Z0JBQ2hCLElBQXNCLENBQUMsT0FBTyxDQUFDO29CQUM1QixRQUFRLEVBQUUsS0FBSztvQkFDZixPQUFPLEVBQUUsSUFBSTtvQkFDYixXQUFXLEVBQUUsSUFBSTtpQkFDcEIsQ0FBQyxDQUFDO2dCQUNILE1BQU07WUFDVixLQUFLLHdEQUFpQjtnQkFDakIsSUFBb0IsQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO2dCQUMzQyxNQUFNO1lBQ1YsS0FBSyx1REFBZ0I7Z0JBQ2hCLElBQWtCLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztnQkFDekMsTUFBTTtTQUNiO1FBRUQsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7UUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUM7UUFFMUIsSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUM1QixLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQzFCLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ2pDO1NBQ0o7SUFDTCxDQUFDO0lBRU8sYUFBYSxDQUFDLEdBQXlCLEVBQUUsSUFBd0I7UUFDckUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFakMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUksR0FBRyxDQUFDO1FBQ1IsUUFBUSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2YsS0FBSyw0REFBcUI7Z0JBQ3RCLEdBQUcsR0FBRyxJQUFJLG9EQUFjLEVBQUUsQ0FBQztnQkFDM0IsTUFBTTtZQUNWLEtBQUssd0RBQWlCO2dCQUNsQixHQUFHLEdBQUcsSUFBSSxpREFBVyxFQUFFLENBQUM7Z0JBQ3hCLE1BQU07WUFDVixLQUFLLHVEQUFnQjtnQkFDakIsR0FBRyxHQUFHLElBQUksbURBQWEsRUFBRSxDQUFDO2dCQUMxQixNQUFNO1lBQ1YsS0FBSyx3REFBaUI7Z0JBQ2xCLEdBQUcsR0FBRyxJQUFJLGlEQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN0QyxNQUFNO1lBQ1YsS0FBSyx1REFBZ0I7Z0JBQ2pCLEdBQUcsR0FBRyxJQUFJLCtDQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ3hCLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUM7Z0JBQzVDLFFBQVEsR0FBRyxLQUFLLENBQUM7Z0JBQ2pCLE1BQU07U0FDYjtRQUNELElBQUksUUFBUSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3RDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztTQUNoQztRQUNELEdBQUcsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7UUFDaEMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDOUMsQ0FBQztJQUVPLHFCQUFxQixDQUFDLEdBQWtCO1FBQzVDLElBQUksS0FBSyxHQUFJLEdBQVcsQ0FBQyxTQUFTLENBQUM7UUFDbkMsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLFNBQVMsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsS0FBSyxLQUFLO1lBQUUsT0FBTztRQUUxRSxHQUFHLENBQUMsUUFBUSxHQUFHO1lBQ1gsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxrRUFBMEIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLO1lBQ2hFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsa0VBQTBCLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTTtZQUNsRSxRQUFRLEVBQUUsS0FBSztTQUNsQjtJQUNMLENBQUM7SUFFTyx1QkFBdUIsQ0FBQyxHQUF5QixFQUFFLElBQXdCLEVBQUUsU0FBa0IsRUFDdkUsZ0JBQXlCLEVBQUUsVUFBbUI7UUFDMUUsSUFBSSxTQUFTLENBQUM7UUFDZCxJQUFJLGdCQUFnQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUMzQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1NBQ3BCO2FBQU07WUFDSCxRQUFRLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ2hCLEtBQUssNERBQXFCO29CQUN0QixTQUFTLEdBQUcsZ0JBQWdCLENBQUM7b0JBQzdCLE1BQU07Z0JBQ1YsS0FBSyxvRUFBNkIsQ0FBQztnQkFDbkMsS0FBSyx5RUFBa0M7b0JBQ25DLFNBQVMsR0FBRyxJQUFJLENBQUM7b0JBQ2pCLE1BQU07Z0JBQ1YsS0FBSyw4REFBdUI7b0JBQ3hCLFNBQVMsR0FBRyxVQUFVLENBQUM7b0JBQ3ZCLE1BQU07YUFDYjtTQUNKO1FBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQU0sQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQztRQUV6QixJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUsseUVBQWtDLEVBQUU7WUFDbkQsSUFBSSxFQUFFLEdBQUksSUFBeUIsQ0FBQztZQUNwQyxFQUFFLENBQUMsS0FBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFRLENBQUM7U0FDeEU7UUFFRCxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQzVCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDekIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxDQUFDO2FBQzVFO1NBQ0o7SUFDTCxDQUFDO0lBRU8sd0JBQXdCLENBQUMsRUFBd0I7UUFDckQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzRCxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUMsY0FBYyxJQUFJLGtCQUFrQixDQUFDLFVBQVUsQ0FBQztRQUN0RSxJQUFJLFNBQVMsS0FBSyxZQUFZO1lBQUUsT0FBTyx3QkFBdUI7UUFFOUQsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRWhFLElBQUksY0FBYyxDQUFDO1FBQ25CLFFBQVEsU0FBUyxFQUFFO1lBQ2YsS0FBSyxrQkFBa0IsQ0FBQyxVQUFVO2dCQUFFLGNBQWMsR0FBRyxLQUFLLENBQUM7Z0JBQVMsTUFBTTtZQUMxRSxLQUFLLGtCQUFrQixDQUFDLFFBQVE7Z0JBQUksY0FBYyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUFDLE1BQU07WUFDMUUsS0FBSyxrQkFBa0IsQ0FBQyxVQUFVO2dCQUFFLGNBQWMsR0FBRyxJQUFJLENBQUM7Z0JBQVUsTUFBTTtTQUM3RTtRQUVELElBQUksaUJBQWlCLENBQUM7UUFDdEIsUUFBUSxZQUFZLEVBQUU7WUFDbEIsS0FBSyxrQkFBa0IsQ0FBQyxVQUFVO2dCQUFFLGlCQUFpQixHQUFHLEtBQUssQ0FBQztnQkFBUyxNQUFNO1lBQzdFLEtBQUssa0JBQWtCLENBQUMsUUFBUTtnQkFBSSxpQkFBaUIsR0FBRyxDQUFDLFlBQVksQ0FBQztnQkFBQyxNQUFNO1lBQzdFLEtBQUssa0JBQWtCLENBQUMsVUFBVTtnQkFBRSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7Z0JBQVUsTUFBTTtTQUNoRjtRQUVELDZCQUE2QjtRQUM3QixvR0FBb0c7UUFDcEcsd0dBQXdHO1FBQ3hHLDZHQUE2RztRQUM3RyxpREFBaUQ7UUFDakQsRUFBRSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7UUFDOUIsSUFBSSxjQUFjLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtZQUN0QyxJQUFJLENBQUMsWUFBYSxDQUFDLG9CQUFvQixDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2pFO2FBQU0sSUFBSSxDQUFDLGNBQWMsSUFBSSxpQkFBaUIsRUFBRTtZQUM3QyxJQUFJLENBQUMsWUFBYSxDQUFDLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN6RDtJQUNMLENBQUM7SUFFTyxVQUFVLENBQUMsR0FBeUIsRUFBRSxFQUFzQjtRQUNoRSxJQUFJLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRTtZQUNyQixJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Z0JBQ2IsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO29CQUN2QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFDaEM7Z0JBQ0QsRUFBRSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2FBQzFCO1lBQ0QsRUFBRSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsZ0JBQWdCLENBQUM7WUFDdEMsRUFBRSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztTQUNuQztRQUNELElBQUksRUFBRSxDQUFDLFlBQVksRUFBRTtZQUNqQixJQUFJLEVBQUUsQ0FBQyxRQUFRLEtBQUssU0FBUztnQkFBRSxFQUFFLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUNoRCxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNyQyxFQUFFLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztTQUMvQjtRQUNELElBQUksRUFBRSxDQUFDLGVBQWUsRUFBRTtZQUNwQixJQUFJLEVBQUUsQ0FBQyxRQUFRLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQ3RDLEtBQUssSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLGVBQWUsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzdCLDZEQUFlLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNuQztZQUVELEVBQUUsQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQ2IsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO2dCQUN2QixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUMzQjtTQUNKO0lBQ0wsQ0FBQztJQUVPLGFBQWEsQ0FBQyxHQUF5QixFQUFFLElBQXdCLEVBQUUsR0FBZSxFQUFFLEtBQXFDLEVBQUUsU0FBa0I7UUFDakosSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDN0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDakM7UUFFRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBTSxDQUFDO1FBRXBCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDM0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEU7YUFBTTtZQUNILENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hDO1FBRUQsUUFBUSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2YsS0FBSyw0REFBcUI7Z0JBQ3RCLE1BQU07WUFDVixLQUFLLHdEQUFpQixDQUFDLENBQUM7Z0JBQ3BCLElBQUksR0FBRyxHQUFJLENBQWlCLENBQUM7Z0JBQzdCLElBQUksRUFBRSxHQUFJLElBQXlCLENBQUM7Z0JBQ3BDLElBQUksRUFBRSxDQUFDLEtBQUssSUFBSSx5RUFBa0MsRUFBRTtvQkFDaEQsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFRLENBQUM7aUJBQ2xFO3FCQUFNO29CQUNILEdBQUcsQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQztpQkFDNUI7Z0JBQ0QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMvQixJQUFJLEVBQUUsR0FBRyxNQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsS0FBSyxLQUFJLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUNaLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSywwREFBbUIsRUFBRTtvQkFDbEMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDeEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsbURBQVMsQ0FBaUIsQ0FBQztvQkFDN0QsSUFBSSxLQUFLLEdBQUksR0FBRyxDQUFDLE9BQXlCLENBQUMsUUFBVSxDQUFDO29CQUN0RCxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztvQkFDOUIsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7aUJBQ2pDO2dCQUNELEdBQUcsQ0FBQyxRQUFRLEdBQUcsTUFBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLFFBQVEsS0FBSSxDQUFDLENBQUM7Z0JBQ3BDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDdEIsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFHL0MsSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLHlFQUFrQyxFQUFFO29CQUNqRCxJQUFJLEVBQUUsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRTt3QkFDM0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztxQkFDM0I7aUJBQ0o7cUJBQU0sSUFBSSxFQUFFLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTtvQkFDakMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ3pCLEVBQUUsQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDO2lCQUMxQjtnQkFDRCxFQUFFLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUM7Z0JBRXhCLE1BQU07YUFDVDtZQUNELEtBQUssdURBQWdCLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEdBQUksQ0FBbUIsQ0FBQztnQkFDN0IsSUFBSSxFQUFFLEdBQUksSUFBb0IsQ0FBQztnQkFFL0IsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUVWLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNmLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDekIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUU3QixJQUFJLEdBQUcsQ0FBQyxTQUFTLEVBQUU7b0JBQ2YsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFZixDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUN0QixDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ3ZCLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztvQkFFWixDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDdEIsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFDckMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO2lCQUNmO2dCQUVELE1BQU07YUFDVDtZQUNELEtBQUssd0RBQWlCLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxLQUFLLEdBQUksSUFBcUIsQ0FBQyxLQUFLLENBQUM7Z0JBQ3pDLElBQUksR0FBRyxDQUFDLFNBQVMsRUFBRTtvQkFDZixLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQzNDO2dCQUNBLENBQWlCLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztnQkFDaEMsTUFBTTthQUNUO1lBQ0QsS0FBSyx1REFBZ0IsQ0FBQyxDQUFDO2dCQUNuQixJQUFJLEVBQUUsR0FBSSxJQUFvQixDQUFDO2dCQUMvQixJQUFJLENBQUMsR0FBSSxDQUFlLENBQUM7Z0JBQ3pCLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztnQkFDakIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM3QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0JBQ2xCLE1BQU07YUFDVDtTQUNKO1FBRUQsSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUM1QixLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQzFCLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ2pEO1NBQ0o7SUFDTCxDQUFDO0lBR0QsTUFBTTtRQUNGLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLHNEQUFXLENBQWlCLENBQUM7UUFDeEUsSUFBSSxDQUFDLGdCQUFnQixHQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvREFBVSxDQUFpQixDQUFDLGtCQUFrQixDQUFDLFVBQVUsS0FBSyxJQUFJLENBQUM7UUFFbkgsSUFBSSxDQUFDLEdBQUcsSUFBSSxtREFBYSxFQUFFLENBQUM7UUFDNUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QixDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSw2REFBdUIsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM5RixJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCxPQUFPO1FBQ0gsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFO1lBQzNDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzQztJQUNMLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ24vQmtIO0FBVTVGO0FBRzRDO0FBRXJCO0FBTXZDLE1BQU0sZUFBZSxHQUFHLFlBQVksQ0FBQztBQUVyQyxNQUFNLGVBQWU7SUFTeEIsWUFBWSxLQUFZO1FBUmYsaUJBQVksR0FBRyxDQUFDLDZEQUFlLEVBQUUsaUVBQWlCLEVBQUUsb0RBQVUsQ0FBQyxDQUFDO1FBQ2hFLFNBQUksR0FBRyxlQUFlLENBQUM7UUFRNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkRBQWUsQ0FBb0IsQ0FBQztRQUM1RSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpRUFBaUIsQ0FBc0IsQ0FBQztRQUNsRixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvREFBVSxDQUFnQixDQUFDO1FBRWxFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVPLFFBQVEsQ0FBQyxLQUFrQjtRQUMvQixJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssU0FBUyxFQUFFO1lBQ2hDLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM1RCxLQUFLLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNsRDtRQUNELE9BQU8sS0FBSyxDQUFDLFVBQVUsQ0FBQztJQUM1QixDQUFDO0lBRU8sV0FBVyxDQUFDLEtBQWtCO1FBQ2xDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUN4QyxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBRU8sY0FBYyxDQUFDLEtBQXVDO1FBQzFELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFTyxvQkFBb0IsQ0FBQyxNQUFjO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsMkRBQWlCLENBQXFDLENBQUMsQ0FBQztJQUN2SCxDQUFDO0lBRU8sV0FBVyxDQUFDLEdBQXVCLEVBQUUsTUFBMEI7O1FBQ25FLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyx1REFBZ0IsRUFBRTtZQUMvQixJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssU0FBUyxFQUFFO2dCQUN6QixHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUM7YUFDbEM7U0FDSjtRQUNELEtBQUssSUFBSSxFQUFFLElBQUksU0FBRyxDQUFDLFFBQVEsbUNBQUksRUFBRSxFQUFFO1lBQy9CLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVPLGNBQWMsQ0FBQyxHQUFjO1FBQ2pDLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxvREFBVSxFQUFFO1lBQ3pCLE1BQU0sQ0FBQyxHQUFHLEdBQW9DLENBQUM7WUFDL0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2QjthQUFNLElBQUksR0FBRyxDQUFDLElBQUksS0FBSywyREFBaUIsRUFBRTtZQUN2QyxNQUFNLENBQUMsR0FBRyxHQUEyQixDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQzVCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsT0FBNkIsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbkU7YUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssaUVBQWlCLEVBQUU7WUFDdkMsTUFBTSxDQUFDLEdBQUcsR0FBMkIsQ0FBQztZQUN0QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3JELElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLE9BQTZCLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hFLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztTQUMzQjtJQUNMLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxHQUFjO1FBQ3BDLElBQUksR0FBRyxDQUFDLElBQUksS0FBSywyREFBaUIsRUFBRTtZQUNoQyxNQUFNLENBQUMsR0FBRyxHQUEyQixDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQzVCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsT0FBNkIsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDaEUsQ0FBQyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1NBQzNCO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLG9EQUFVLEVBQUU7WUFDaEMsTUFBTSxDQUFDLEdBQUcsR0FBb0MsQ0FBQztZQUMvQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVPLGlCQUFpQixDQUFDLEdBQWM7UUFDcEMsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLG9EQUFVLEVBQUU7WUFDekIsTUFBTSxDQUFDLEdBQUcsR0FBb0MsQ0FBQztZQUMvQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEtBQUssU0FBUyxFQUFFO2dCQUM1QixDQUFDLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUN2QixDQUFDLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQzthQUM1QjtTQUNKO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLDJEQUFpQixFQUFFO1lBQ3ZDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQzVCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN6QyxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBRU8sY0FBYyxDQUFDLEdBQWE7UUFDaEMsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLCtEQUFxQixFQUFFO1lBQ3BDLE1BQU0sQ0FBQyxHQUFHLEdBQTZDLENBQUM7WUFDeEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQThCLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRUQsT0FBTztJQUNQLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3SWdIO0FBRTVCO0FBQ2hDO0FBQ0k7QUFDakI7QUFHakMsTUFBTSxpQkFBaUIsR0FBRyxjQUFjLENBQUM7QUFFekMsTUFBTSxpQkFBaUI7SUFXMUIsWUFBWSxLQUFZO1FBVmYsU0FBSSxHQUFHLGlCQUFpQixDQUFDO1FBQ3pCLGlCQUFZLEdBQUcsQ0FBQyw2REFBZSxDQUFDLENBQUM7UUFNbEMsYUFBUSxHQUFXLGtFQUEwQixDQUFDO1FBQzlDLGVBQVUsR0FBVyxDQUFDLENBQUM7UUFHM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDZEQUFlLENBQW9CLENBQUM7UUFFN0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUMsbUJBQW1CLENBQUM7UUFDekQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDO1FBRXRELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxVQUFVLENBQUMsT0FBZ0I7UUFDdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWEsRUFBRSxLQUFhLEVBQUUsR0FBVyxFQUFFLEdBQVc7UUFDekQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRXJCLE1BQU0sSUFBSSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMvQixNQUFNLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDL0IsSUFBSSxNQUFNLEdBQUcsNkRBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQUksQ0FBQyxRQUFRLEVBQUksQ0FBQyxFQUFDLENBQUM7UUFFMUUsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTNCLElBQUksTUFBTSxHQUFHLFlBQUcsRUFBRSxDQUFDLEdBQUU7WUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5RixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQztTQUMzQzthQUFNO1lBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDbEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUV2QixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNqQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBRXZCLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxLQUFLLEVBQUUsUUFBUSxDQUFDO1lBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFFOUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsS0FBSyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUMvQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUM7Z0JBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDdEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDO2dCQUFFLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN0RDtJQUNMLENBQUM7SUFFRCxTQUFTLENBQUMsR0FBb0I7UUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELGFBQWEsQ0FBQyxHQUFhO1FBQ3ZCLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxtREFBWSxFQUFFO1lBQzNCLElBQUksQ0FBQyxHQUFHLEdBQXNCLENBQUM7WUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNyQjtJQUNMLENBQUM7SUFFRCxjQUFjLENBQUMsR0FBYTtRQUN4QixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLG1EQUFZLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFzQixDQUFDLENBQUM7U0FDMUM7YUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssa0RBQVMsRUFBRTtZQUMvQixJQUFJLENBQUMsUUFBUSxHQUFJLEdBQW9CLENBQUMsSUFBSSxDQUFDO1lBQzNDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDakI7YUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssa0VBQW9CLEVBQUU7WUFDMUMsSUFBSSxDQUFDLFVBQVUsR0FBSSxHQUE4QixDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7WUFDOUQsTUFBTSxHQUFHLElBQUksQ0FBQztTQUNqQjtRQUVELElBQUksTUFBTSxFQUFFO1lBQ1IsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsbURBQVksQ0FBZ0MsQ0FBQztZQUM5RSxJQUFJLENBQUMsS0FBSyxTQUFTO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUM7SUFDTCxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUMxQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssbURBQVksRUFBRTtZQUMzQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzFCO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGtFQUFvQixFQUFFO1lBQzFDLE1BQU0sQ0FBQyxHQUFHLEdBQTZCLENBQUM7WUFDeEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1NBQzlCO0lBQ0wsQ0FBQztJQUVELE1BQU07O1FBQ0YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDZEQUFlLENBQW9CLENBQUM7UUFDdkUsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVoQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxrREFBUyxDQUFDLENBQUM7UUFDN0MsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUksSUFBcUIsQ0FBQyxJQUFJLENBQUM7U0FDL0M7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLE9BQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsa0VBQW9CLENBQXdDLDBDQUFFLE1BQU0sS0FBSSxDQUFDLENBQUM7SUFDeEgsQ0FBQztJQUVELE9BQU87SUFDUCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdklrRTtBQUUrQjtBQUkzRixNQUFNLCtCQUErQixHQUFHLHFCQUFxQixDQUFDO0FBRTlELE1BQU0sdUJBQXVCO0lBT2hDLFlBQVksS0FBWTtRQU54QixTQUFJLEdBQUcsK0JBQStCLENBQUM7UUFDdkMsaUJBQVksR0FBRyxDQUFDLDZEQUFlLENBQUMsQ0FBQztRQU03QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ25DLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBUztRQUNaLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRUQsYUFBYSxDQUFDLEdBQWE7UUFDdkIsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGlFQUEwQixFQUFFO1lBQ3pDLElBQUksQ0FBQyxHQUFHLEdBQW1DLENBQUM7WUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQWE7UUFDeEIsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGlFQUEwQixFQUFFO1lBQ3pDLElBQUksQ0FBQyxHQUFHLEdBQW1DLENBQUM7WUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUMxQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssaUVBQTBCLEVBQUU7WUFDekMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDZEQUFlLENBQW9CLENBQUM7UUFDdkUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLG1CQUFtQixDQUFDO1FBQ3JELEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsT0FBTztJQUNQLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xEd0I7QUFDaUM7QUFDRztBQUNJO0FBQ1M7QUFFb0I7QUFHUjtBQUM5QztBQUVGO0FBQ2dEO0FBQ3ZCO0FBRUk7QUFDbEM7QUFFakMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDckMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsMkRBQWlCLENBQUMsQ0FBQztBQUN4RixNQUFNLG9CQUFvQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUF1Qi9CLE1BQU0sc0JBQXNCLEdBQUcsbUJBQW1CLENBQUM7QUFhbkQsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUFDO0FBRW5DLE1BQU0sZUFBZTtJQWV4QixZQUFZLEdBQVU7UUFiYixTQUFJLEdBQUcsY0FBYyxDQUFDO1FBQ3RCLGlCQUFZLEdBQUcsQ0FBQyw4REFBZSxDQUFhLENBQUM7UUFJdEQscUJBQWdCLEdBQUcsSUFBSSxHQUFHLEVBQVUsQ0FBQztRQUNyQyxlQUFVLEdBQUcsSUFBSSxHQUFHLEVBQW9CLENBQUM7UUFDekMsaUJBQVksR0FBNkIsRUFBRSxDQUFDO1FBRXBDLGtCQUFhLEdBQVksS0FBSyxDQUFDO1FBQy9CLG1CQUFjLEdBQVksS0FBSyxDQUFDO1FBQ2hDLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFHL0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFFZixJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDhEQUFlLENBQW9CLENBQUM7UUFFcEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7WUFDckMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7WUFDM0IsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUNyQixJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztnQkFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDZFQUF5QixDQUFDLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUNqQjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRSxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDZCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxDQUFzQixFQUFFLEVBQUU7Z0JBQ2xFLG9DQUFvQztnQkFDcEMsSUFBSSxDQUFDLEtBQUssU0FBUyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUztvQkFBRSxPQUFPO2dCQUNwRCxJQUFJLENBQUMsZUFBZSxDQUFFLENBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDekQsQ0FBQyxDQUFDLENBQUM7U0FDTjtRQUNELElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSwrREFBd0IsQ0FBQyxDQUFDO1FBRXhFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRXpCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUQsaUJBQWlCO1FBQ2IsSUFBSSxDQUFDLFlBQVksQ0FBQywyREFBaUIsQ0FBQyxHQUFHLFlBQVksQ0FBQztJQUN4RCxDQUFDO0lBRU8sUUFBUTtRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtZQUFFLE9BQU87UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFFeEIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsd0RBQWdCLENBQUMsQ0FBQztRQUV2RCxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztZQUNqQixJQUFJLEVBQUUsc0JBQXNCO1lBQzVCLGdCQUFnQixFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7WUFDNUMsVUFBVSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtZQUN0QyxNQUFNLEVBQUUsVUFBVSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSTtZQUMzRixPQUFPLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQ3BDLEtBQUssRUFBRSxLQUFLO1lBQ1osS0FBSyxFQUFFLEtBQUs7U0FDSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxRQUFRO1FBQ0osSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDM0IsQ0FBQztJQUVELFNBQVMsQ0FBQyxNQUFjO1FBQ3BCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDbkIsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUVELGlFQUFpRTtRQUNqRSxtRUFBbUU7UUFDbkUsMERBQTBEO1FBQzFELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxrREFBUyxDQUFDLENBQUM7UUFDckQsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1lBQ3JCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxrREFBUyxDQUFDLENBQUM7WUFDcEQsT0FBTyxJQUFJLEtBQUssU0FBUyxDQUFDO1NBQzdCO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLElBQUksQ0FBQyxhQUFhO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7YUFDOUM7WUFDRCxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ2xEO0lBQ0wsQ0FBQztJQUVELGNBQWMsQ0FBQyxTQUFvQjtRQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1lBQUUsT0FBTztRQUN6RCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbkMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxTQUFvQjtRQUNsQyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDbkMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxPQUFPO2FBQ1Y7WUFDRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDakI7SUFDTCxDQUFDO0lBRUQsaUJBQWlCLENBQUMsU0FBb0I7UUFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztZQUFFLE9BQU87UUFDekQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBRSxDQUFDO1FBQ2hELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQztZQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVyRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbkMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLE9BQU87U0FDVjtRQUVELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsZUFBZSxDQUFDLE1BQWM7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1lBQUUsT0FBTztRQUMvQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsS0FBSyxDQUFDLGdCQUF5QixJQUFJLEVBQUUsU0FBa0IsSUFBSTtRQUN2RCxJQUFJLGFBQWEsRUFBRTtZQUNmLEtBQUssSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2FBQzdDO1NBQ0o7UUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN4QixJQUFJLE1BQU0sRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNqQjtJQUNMLENBQUM7SUFFRCxhQUFhLENBQUMsRUFBVTtRQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsZUFBZSxDQUFDLEdBQWE7UUFDekIsSUFBSSxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFekIsSUFBSSxTQUFTLEdBQUcsSUFBSSxLQUFLLEVBQVUsQ0FBQztRQUNwQyxLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUMxQztRQUNELElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQWEsRUFBRSxTQUFnQixJQUFJO1FBQzlDLEtBQUssSUFBSSxFQUFFLElBQUksR0FBRyxFQUFFO1lBQ2hCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDL0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ3BDO2lCQUFNO2dCQUNILElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUNqQztTQUNKO1FBQ0QsSUFBSSxNQUFNO1lBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBYSxFQUFFLFNBQWdCLElBQUk7UUFDM0MsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxJQUFJLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFDaEIsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFO2dCQUNsQixPQUFPLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLENBQUM7Z0JBQy9DLFNBQVM7YUFDWjtZQUNELElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQUUsU0FBUztZQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDckIsU0FBUzthQUNaO1lBQ0QsS0FBSyxFQUFFLENBQUM7WUFDUixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRTlCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDMUMsS0FBSyxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEQ7WUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDL0M7UUFDRCxJQUFJLE1BQU0sSUFBSSxLQUFLLEtBQUssQ0FBQztZQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQWEsRUFBRSxTQUFnQixJQUFJO1FBQzlDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLEtBQUssSUFBSSxFQUFFLElBQUksR0FBRyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFBRSxTQUFTO1lBQzdDLEtBQUssRUFBRSxDQUFDO1lBQ1IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDaEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMxQyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRTtnQkFDakIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBRSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxDQUFDO29CQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNoRTtZQUNELElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFJLE1BQU0sSUFBSSxLQUFLLEtBQUssQ0FBQztZQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBRUQsaUJBQWlCLENBQUMsSUFBWTtRQUMxQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxJQUFJLElBQUksS0FBSyxTQUFTO1lBQUUsT0FBTyxFQUFFLENBQUM7UUFDbEMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxJQUFZO1FBQ2pDLE9BQU87WUFDSCxVQUFVLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDL0MsYUFBYSxFQUFFLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUztTQUM3RSxDQUFDO0lBQ04sQ0FBQztJQUVPLGVBQWUsQ0FBQyxJQUFpQjtRQUNyQyxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtZQUNsQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4QyxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7Z0JBQ3JCLEtBQUssR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO2FBQ3BCO1lBRUEsR0FBVyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7U0FDakM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8sZ0JBQWdCLENBQUMsT0FBOEI7UUFDbkQsSUFBSSxPQUFPLENBQUMsSUFBSSxLQUFLLHdEQUFnQjtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQ3BELE9BQU8sT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDO0lBQ3hDLENBQUM7SUFFTyxtQkFBbUI7UUFDdkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxLQUFLLEVBQWEsQ0FBQztRQUNqQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDO1FBRXpELEtBQUssSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUM7Z0JBQUUsU0FBUztZQUU5QyxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzFDLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxFQUFFO2dCQUNwQixJQUFJLENBQUMsR0FDTCxHQUFHLENBQUMsSUFBSSxDQUFDLHlEQUFjLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3RGO1NBQ0o7UUFFRCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELG1CQUFtQjtRQUNmLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksS0FBSyxDQUFDO1lBQUUsT0FBTyxFQUFFLENBQUM7UUFFaEQsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQztRQUUxQyxJQUFJLFFBQVEsS0FBSyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUN0RCxJQUFJLFdBQVcsR0FBRyxJQUFJLEtBQUssRUFBeUIsQ0FBQztRQUVyRCxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDO2dCQUFFLFNBQVM7WUFFMUMsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztZQUV0QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQyxJQUFJLElBQUksSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssUUFBUSxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQzFGLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDekI7U0FDSjtRQUVELElBQUksR0FBRyxHQUFHLElBQUksS0FBSyxFQUFhLENBQUM7UUFFakMsS0FBSyxJQUFJLEdBQUcsSUFBSSxXQUFXLEVBQUU7WUFDekIsSUFBSSxTQUFTLEdBQUcsU0FBUyxDQUFDO1lBQzFCLEtBQUssSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUN0QyxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN0QyxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtvQkFDcEIsSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO3dCQUN6QixTQUFTLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsUUFBTztxQkFDM0U7eUJBQU07d0JBQ0gsV0FBVyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztxQkFDaEM7aUJBQ0o7YUFDSjtZQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMseURBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQ3ZDO1FBRUQsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxvQkFBb0I7UUFDaEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxLQUFLLEVBQWdCLENBQUM7UUFFcEMsR0FBRyxDQUFDLElBQUksQ0FDSjtZQUNJLElBQUksRUFBRSxpREFBUztZQUNmLElBQUksRUFBRSxNQUFNO1NBQ2YsRUFBRTtZQUNBLElBQUksRUFBRSxpREFBUztZQUNmLElBQUksRUFBRSxNQUFNO1NBQ2QsQ0FDSixDQUFDO1FBRUYsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQywyREFBaUIsQ0FBQyxFQUFFO1lBQzNDLGVBQWU7WUFDZixHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUNMLElBQUksRUFBRSwyREFBaUI7Z0JBQ3ZCLElBQUksRUFBRSxZQUFZO2FBQ3JCLENBQUMsQ0FBQztTQUNOO1FBRUQsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLGdEQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG9EQUFVLENBQUMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsc0RBQVcsQ0FBQyxDQUFDLEVBQUU7WUFDOUcsR0FBRyxDQUFDLElBQUksQ0FBQztnQkFDTCxJQUFJLEVBQUUsb0RBQVU7Z0JBQ2hCLElBQUksRUFBRSxPQUFPO2FBQ2hCLEVBQUU7Z0JBQ0MsSUFBSSxFQUFFLHNEQUFXO2dCQUNqQixJQUFJLEVBQUUsUUFBUTthQUNqQixDQUFDLENBQUM7U0FDTjthQUFNLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxrREFBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0RBQVMsQ0FBQyxFQUFFO1lBQzdFLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGtEQUFTO2dCQUNmLElBQUksRUFBRSxNQUFNO2FBQ2YsQ0FBQyxDQUFDO1NBQ047YUFBTSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsa0RBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLDJEQUFrQixDQUFDLEVBQUU7WUFDdEYsR0FBRyxDQUFDLElBQUksQ0FBQztnQkFDTCxJQUFJLEVBQUUsMkRBQWtCO2dCQUN4QixJQUFJLEVBQUUsWUFBWTthQUNyQixDQUFDLENBQUM7U0FDTjtRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELFdBQVcsQ0FBQyxRQUFrQixFQUFFLElBQVksRUFBRSxZQUFvQixFQUFFLGFBQWtCLEVBQUUsT0FBZ0I7UUFDcEcsSUFBSSxJQUFJLEtBQUssR0FBRyxFQUFFO1lBQ2QscUJBQXFCO1lBQ3JCLFFBQVEsWUFBWSxFQUFFO2dCQUNsQixLQUFLLFFBQVEsQ0FBQyxDQUFDO29CQUNYLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztvQkFDYixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7b0JBQ2hCLEtBQUssSUFBSSxNQUFNLElBQUksUUFBUSxFQUFFO3dCQUN6QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsd0RBQWdCLENBQUMsQ0FBQzt3QkFFMUQsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFOzRCQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDO2dDQUNSLElBQUksRUFBRSx3REFBZ0I7Z0NBQ3RCLE1BQU0sRUFBRSxNQUFNOzZCQUNqQixDQUFDLENBQUM7NEJBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7eUJBQ2pDOzZCQUFNOzRCQUNILEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0NBQ0wsSUFBSSxFQUFFLHdEQUFnQjtnQ0FDdEIsTUFBTSxFQUFFLE1BQU07NkJBQ2pCLENBQUMsQ0FBQzt5QkFDTjtxQkFDSjtvQkFDRCxJQUFJLEdBQUcsR0FBRzt3QkFDTixJQUFJLEVBQUUsT0FBTzt3QkFDYixHQUFHLEVBQUUsTUFBTTt3QkFDWCxJQUFJLEVBQUUsRUFBRTtxQkFDYSxDQUFDO29CQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUN6QyxNQUFNO2lCQUNUO2dCQUNELEtBQUssUUFBUSxDQUFDLENBQUM7b0JBQ1gsSUFBSSxHQUFHLEdBQUc7d0JBQ04sSUFBSSxFQUFFLFNBQVM7d0JBQ2YsUUFBUSxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUM7cUJBQ1IsQ0FBQztvQkFDcEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUNiLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ3pDLE1BQU07aUJBQ1Q7Z0JBQ0QsS0FBSyxjQUFjLENBQUMsQ0FBQztvQkFDakIsSUFBSSxJQUFlLENBQUM7b0JBQ3BCLFFBQVEsYUFBYSxFQUFFO3dCQUNuQixLQUFLLGlEQUFTOzRCQUNWLElBQUksR0FBRztnQ0FDSCxJQUFJLEVBQUUsaURBQVM7Z0NBQ2YsSUFBSSxFQUFFLEVBQUU7Z0NBQ1IsYUFBYSxFQUFFLElBQUk7Z0NBQ25CLE9BQU8sRUFBRSwyREFBZ0IsRUFBRTs2QkFDYixDQUFDOzRCQUNuQixNQUFNO3dCQUNWLEtBQUssaURBQVM7NEJBQ1YsSUFBSSxHQUFHO2dDQUNILElBQUksRUFBRSxpREFBUztnQ0FDZixJQUFJLEVBQUUsRUFBRTtnQ0FDUixhQUFhLEVBQUUsSUFBSTtnQ0FDbkIsT0FBTyxFQUFFLDJEQUFnQixFQUFFOzZCQUNiLENBQUM7NEJBQ25CLE1BQU07d0JBQ1YsS0FBSyxvREFBVTs0QkFDWCxJQUFJLEdBQUc7Z0NBQ0gsSUFBSSxFQUFFLG9EQUFVO2dDQUNoQixLQUFLLEVBQUUsUUFBUTtnQ0FDZixLQUFLLEVBQUUsQ0FBQzs2QkFDTyxDQUFDOzRCQUNwQixNQUFNO3dCQUNWLEtBQUssc0RBQVc7NEJBQ1osSUFBSSxHQUFHO2dDQUNILElBQUksRUFBRSxzREFBVztnQ0FDakIsV0FBVyxFQUFFLEtBQUs7Z0NBQ2xCLEtBQUssRUFBRSxFQUFFOzZCQUNPLENBQUM7NEJBQ3JCLE1BQU07d0JBQ1YsS0FBSyxrREFBUzs0QkFDVixJQUFJLEdBQUc7Z0NBQ0gsSUFBSSxFQUFFLGtEQUFTO2dDQUNmLFFBQVEsRUFBRSw2REFBb0I7Z0NBQzlCLE1BQU0sRUFBRSxLQUFLO2dDQUNiLElBQUksRUFBRSxLQUFLO2dDQUNYLGFBQWEsRUFBRSxJQUFJOzZCQUNMLENBQUM7NEJBQ25CLE1BQU07d0JBQ1YsS0FBSywyREFBaUI7NEJBQ2xCLElBQUksR0FBRztnQ0FDSCxJQUFJLEVBQUUsMkRBQWlCO2dDQUN2QixLQUFLLEVBQUUsNERBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDOzZCQUNWLENBQUM7NEJBQzFCLE1BQU07d0JBQ1YsS0FBSywyREFBa0I7NEJBQ25CLElBQUksR0FBRztnQ0FDSCxJQUFJLEVBQUUsMkRBQWtCO2dDQUN4QixVQUFVLEVBQUUsQ0FBQyxDQUFDOzZCQUNELENBQUM7NEJBQ2xCLE1BQU07d0JBQ1Y7NEJBQ0ksTUFBTSxnQ0FBZ0MsR0FBRyxhQUFhLENBQUM7cUJBQzlEO29CQUNELElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztvQkFDYixLQUFLLElBQUksTUFBTSxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsRUFBRTt3QkFDOUIsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztxQkFDN0M7b0JBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSw0RUFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUMvRCxNQUFNO2lCQUNUO2dCQUNELEtBQUssaUJBQWlCO29CQUNsQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7b0JBQ2hCLEtBQUssSUFBSSxNQUFNLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxFQUFFO3dCQUM5QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO3dCQUNqRSxJQUFJLElBQUksS0FBSyxTQUFTOzRCQUFFLFNBQVM7d0JBQ2pDLE1BQU0sQ0FBQyxJQUFJLENBQUM7NEJBQ1IsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJOzRCQUNmLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTs0QkFDbkIsT0FBTyxFQUFFLE9BQU87eUJBQ0QsQ0FBQyxDQUFDO3FCQUN4QjtvQkFDRCxJQUFJLEdBQUcsR0FBRyw0RUFBb0IsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUM3RCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUN6QyxNQUFNO2dCQUNWO29CQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMseUJBQXlCLEdBQUcsWUFBWSxDQUFDLENBQUM7YUFDOUQ7WUFDRCxPQUFPO1NBQ1Y7YUFBTSxJQUFJLElBQUksS0FBSyxHQUFHLEVBQUU7WUFDckIsd0VBQXdFO1lBQ3hFLG9CQUFvQjtZQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUMzRCxPQUFPO1NBQ1Y7UUFFRCxJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZCxLQUFLLElBQUksTUFBTSxJQUFJLFFBQVEsRUFBRTtZQUN6QixJQUFJLE9BQU8sR0FBRyxFQUFTLENBQUM7WUFDeEIsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLGFBQWEsQ0FBQztZQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDO2dCQUNOLElBQUk7Z0JBQ0osTUFBTTtnQkFDTixPQUFPO2dCQUNQLE9BQU87YUFDVixDQUFDLENBQUM7U0FDTjtRQUNELElBQUksR0FBRyxHQUFHO1lBQ04sSUFBSSxFQUFFLE9BQU87WUFDYixJQUFJO1NBQ2lCLENBQUM7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELE9BQU8sQ0FBQyxLQUFhLEVBQUUsS0FBYSxFQUFFLFFBQTBCO1FBQzVELElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUVkLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFFdkYsS0FBSyxJQUFJLE1BQU0sSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0QyxJQUFJLEdBQUcsS0FBSyxTQUFTO2dCQUFFLFNBQVM7WUFFaEMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDTixJQUFJLEVBQUUscURBQWE7Z0JBQ25CLE1BQU0sRUFBRSxNQUFNO2dCQUNkLE9BQU8sRUFBRTtvQkFDTCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLO29CQUNoQixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLO2lCQUNuQjthQUNKLENBQUMsQ0FBQztTQUNOO1FBRUQsSUFBSSxHQUFHLEdBQUc7WUFDTixJQUFJLEVBQUUsT0FBTztZQUNiLElBQUk7U0FDaUIsQ0FBQztRQUMxQixtREFBbUQ7UUFDbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHFFQUFpQixFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzVFLElBQUksSUFBSSxDQUFDLGFBQWE7WUFBRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQzs7WUFDOUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFTyxlQUFlLENBQUMsSUFBWTtRQUNoQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDcEIsSUFBSSxHQUFHO2dCQUNILFFBQVEsRUFBRSxJQUFJLEdBQUcsRUFBYTthQUNyQixDQUFDO1lBQ2QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGdCQUFnQixDQUFDLElBQVk7UUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBSSxJQUFJLEtBQUssU0FBUztZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxlQUFlLENBQUMsSUFBWTtRQUN4QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxJQUFJLElBQUksS0FBSyxTQUFTO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDckMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDO0lBQzdELENBQUM7SUFHRCxNQUFNO0lBQ04sQ0FBQztJQUVELE9BQU87SUFDUCxDQUFDO0NBQ0o7QUFFRCxTQUFTLGFBQWEsQ0FBQyxNQUFXLEVBQUUsTUFBVztJQUMzQyxLQUFLLElBQUksSUFBSSxJQUFJLE1BQU0sRUFBRTtRQUNyQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO1lBQUUsU0FBUztRQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQy9CO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLE1BQVcsRUFBRSxNQUFXO0lBQ3pDLEtBQUssSUFBSSxJQUFJLElBQUksTUFBTSxFQUFFO1FBQ3JCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUc7WUFBRSxTQUFTO1FBQzlCLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDO1NBQzVCO0tBQ0o7SUFDRCxLQUFLLElBQUksSUFBSSxJQUFJLE1BQU0sRUFBRTtRQUNyQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO1lBQUUsU0FBUztRQUM5QixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDNUIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQztTQUM1QjtLQUNKO0FBQ0wsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcm9CZ0M7QUFDYztBQUNvQjtBQUVOO0FBRXRELE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUV6QixNQUFNLFVBQVU7SUFPbkIsWUFBWSxLQUFZO1FBTnhCLFNBQUksR0FBRyxTQUFTLENBQUM7UUFDakIsaUJBQVksR0FBRyxDQUFDLDZEQUFlLENBQWEsQ0FBQztRQU16QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksd0RBQWtCLEVBQUUsQ0FBQztJQUM5QyxDQUFDO0lBRUQsTUFBTTtRQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLHNFQUFlLENBQUM7UUFDeEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBRTNDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2REFBZSxDQUFvQixDQUFDO1FBQzFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztJQUN4QyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2QjBCO0FBRXNCO0FBRUs7QUFDWjtBQUNZO0FBMkIvQyxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFFekIsTUFBTSxVQUFVO0lBV25CLFlBQVksS0FBWTtRQVZmLFNBQUksR0FBRyxTQUFTLENBQUM7UUFDakIsaUJBQVksR0FBRyxDQUFDLDREQUFjLENBQUMsQ0FBQztRQUNoQyx5QkFBb0IsR0FBRyxDQUFDLDZEQUFlLENBQUMsQ0FBQztRQUlsRCxpQkFBWSxHQUFTLHlEQUFZLENBQUM7UUFDbEMsVUFBSyxHQUFHLElBQUksR0FBRyxFQUFzQixDQUFDO1FBSWxDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLEtBQUssQ0FBQyxXQUFXLENBQUM7WUFDZCxJQUFJLEVBQUUsU0FBUztZQUNmLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLEtBQUs7WUFFWixJQUFJLEVBQUUsU0FBUztTQUNGLENBQUMsQ0FBQztRQUVuQixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTFELE1BQU0sQ0FBQyxFQUFFLENBQUMsd0VBQTBCLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxNQUFNLENBQUMsRUFBRSxDQUFDLHdFQUEwQixFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxzRUFBd0IsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELE1BQU0sQ0FBQyxFQUFFLENBQUMsOEVBQWdDLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNFLE1BQU0sQ0FBQyxFQUFFLENBQUMsNEVBQThCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLE1BQU0sQ0FBQyxFQUFFLENBQUMseUVBQTJCLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVsRSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksNkRBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksNkRBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsT0FBTyxDQUFDLElBQWdCO1FBQ3BCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVPLGdCQUFnQixDQUFDLENBQVcsRUFBRSxNQUFXOztRQUM3QyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3RCLElBQUksRUFBRSxHQUFHLENBQWlCLENBQUM7WUFFM0IsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDO1lBRTVDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3BDLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDcEIsT0FBTyxDQUFDLElBQUksQ0FBQywrQkFBK0IsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hELElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFFLENBQUM7YUFDN0M7WUFFRCxJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUMzQixPQUFPO2FBQ1Y7WUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLENBQUMsV0FBSSxDQUFDLFdBQVcsMENBQUUsSUFBSSxLQUFJLE1BQU0sQ0FBQyxHQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFOUYsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssS0FBSyxTQUFTLEVBQUU7Z0JBQ3hFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDNUI7WUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUN4QixJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssU0FBUztnQkFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDbEQ7SUFDTCxDQUFDO0lBRU8sYUFBYSxDQUFDLENBQW1CO1FBQ3JDLElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEtBQUssU0FBUyxFQUFFO1lBQ2hGLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3JDO0lBQ0wsQ0FBQztJQUVPLGFBQWEsQ0FBQyxDQUFtQjtRQUNyQyxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTtZQUNoRixJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFTyxXQUFXLENBQUMsQ0FBaUI7UUFDakMsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDOUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBRU8sa0JBQWtCLENBQUMsQ0FBd0I7UUFDL0MsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixLQUFLLFNBQVMsRUFBRTtZQUNyRixJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVPLGdCQUFnQixDQUFDLENBQXNCO1FBQzNDLElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLEVBQUU7WUFDbkYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QztJQUNMLENBQUM7SUFFTyxjQUFjLENBQUMsQ0FBb0I7UUFDdkMsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsS0FBSyxTQUFTLEVBQUU7WUFDakYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEM7SUFDTCxDQUFDO0lBRUQsTUFBTTtRQUNGLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNsQyxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssU0FBUztnQkFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7U0FDeEQ7UUFFRCxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRTtnQkFDL0IsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZO2FBQzFCLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUVELE9BQU87UUFDSCxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDbEMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFNBQVM7Z0JBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2xEO0lBQ0wsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwSzJFO0FBR2M7QUFDM0M7QUFDSztBQVF2QjtBQUNlO0FBQ0o7QUFFaUI7QUFDSztBQUd2RCxNQUFNLHFCQUFxQixHQUFHLGtCQUFrQixDQUFDO0FBUWpELFNBQVMsMkJBQTJCLENBQUMsU0FBa0IsS0FBSztJQUMvRCxPQUFPO1FBQ0gsSUFBSSxFQUFFLHFCQUFxQjtRQUMzQixNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQ1YsU0FBUyxFQUFFLEVBQUU7UUFDYixNQUFNO0tBQ21CLENBQUM7QUFDbEMsQ0FBQztBQUdNLE1BQU0scUJBQXFCO0lBc0I5QixZQUFZLEtBQVk7O1FBckJmLFNBQUksR0FBRyxxQkFBcUIsQ0FBQztRQUM3QixpQkFBWSxHQUFHLENBQUMsOERBQWUsRUFBRSxnRUFBZ0IsQ0FBQyxDQUFDO1FBUTVELFlBQU8sR0FBRyxJQUFJLHNEQUFnQixDQUEyQixxQkFBcUIsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFOUY7Ozs7Ozs7V0FPRztRQUNILFdBQU0sR0FBRyxJQUFJLDJEQUFnQixFQUFFLENBQUM7UUFHNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsOERBQWUsQ0FBcUIsQ0FBQztRQUNqRixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnRUFBZ0IsQ0FBc0IsQ0FBQztRQUNwRixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUvQixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsVUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsa0RBQVMsQ0FBaUIsbUNBQUksNkRBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFFbEcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVPLGdCQUFnQixDQUFDLE1BQTJCLEVBQUUsT0FBNkIsRUFBRSxLQUFhO1FBQzlGLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtZQUN2Qix5QkFBeUI7WUFDekIsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQztZQUMvQixNQUFNLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUNwQixLQUFLLElBQUksQ0FBQyxJQUFJLFNBQVMsRUFBRTtnQkFDckIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFDLElBQUksTUFBTSxLQUFLLFNBQVM7b0JBQUUsU0FBUztnQkFDbkMsNERBQWUsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDakQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzthQUNqRTtZQUNELE9BQU87U0FDVjtRQUVELElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDL0IsTUFBTSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFDL0YsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGdFQUFnQixDQUEyQyxDQUFDO1FBQ3ZHLElBQUksU0FBUyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBRSxDQUFDO1FBRXhELElBQUksVUFBVSxHQUFHLGdFQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkMsSUFBSSxZQUFZLEdBQUcsK0RBQVcsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFakQsd0NBQXdDO1FBQ3hDLEtBQUssSUFBSSxDQUFDLElBQUksU0FBUyxFQUFFO1lBQ3JCLElBQUksS0FBSyxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFFLENBQUMsS0FBSyxDQUFDO1lBRWhELElBQUksa0VBQWMsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLElBQUksa0VBQWMsQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLEVBQUU7Z0JBQzFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzFCO2lCQUFNO2dCQUNILElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBRSxDQUFDO2dCQUMzQyxtRkFBbUY7Z0JBQ25GLDREQUFlLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDakU7U0FDSjtRQUVELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNqRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakQsT0FBUSxNQUFNLEtBQUssU0FBUyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssSUFBSSxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ2pHLENBQUMsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDaEIsSUFBSSxLQUFLLEdBQUcsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3ZELElBQUksQ0FBQyxrRUFBYyxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUM7Z0JBQUUsU0FBUztZQUVuRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFFLENBQUM7WUFDbEQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzlCLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ2pFO0lBQ0wsQ0FBQztJQUVPLGtCQUFrQixDQUFDLEtBQStCOztRQUN0RCxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssSUFBSTtZQUFFLE9BQU87UUFDbEMsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFDL0YsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLDhEQUFlLENBQTBDLENBQUM7UUFFbkcsSUFBSSxHQUFHLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFFLENBQUM7UUFDakQsSUFBSSxLQUFLLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxnRUFBZ0IsQ0FBMEIsQ0FBQyxLQUFLLENBQUM7UUFFcEcsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztRQUNuQyxLQUFLLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFakIseUJBQXlCO1FBQ3pCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLDBEQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtZQUNsRSxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBSSxDQUFDLE1BQU0sQ0FBQztZQUMzQixJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzFDLElBQUksR0FBRyxLQUFLLFNBQVMsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFBRSxTQUFTO1lBRXZFLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFFLENBQUM7WUFDNUMsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUU1QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDdkMsSUFBSSxDQUFDLGtFQUFjLENBQUMsK0RBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxrRUFBYyxDQUFDLEtBQUssRUFBRSxnRUFBWSxDQUFDLE9BQUMsQ0FBQyxHQUFHLDBDQUFFLE9BQVEsQ0FBQyxDQUFDO2dCQUFFLFNBQVM7WUFFeEgsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9CLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNqQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMxQjtRQUVELHdCQUF3QjtRQUN4QixLQUFLLElBQUksQ0FBQyxJQUFJLFlBQVksRUFBRTtZQUN4QixJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBRSxDQUFDO1lBQ3RDLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFFLENBQUM7WUFDdkMsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUUsQ0FBQztZQUV2QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDdkMsSUFBSSxrRUFBYyxDQUFDLCtEQUFXLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLGtFQUFjLENBQUMsS0FBSyxFQUFFLGdFQUFZLENBQUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3ZHLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixTQUFTO2FBQ1o7WUFFRCw4REFBOEQ7WUFDOUQsNERBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM1QjtRQUVELElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNuQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztTQUMzRDtJQUNMLENBQUM7SUFFTyxtQkFBbUIsQ0FBQyxNQUEyQixFQUFFLFFBQWtCLEVBQUUsUUFBbUI7UUFDNUYsUUFBUSxHQUFHLFFBQVEsSUFBSSxFQUFFLENBQUM7UUFDMUIsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2Qix5QkFBeUI7WUFDekIsS0FBSyxJQUFJLENBQUMsSUFBSSxRQUFRLEVBQUU7Z0JBQ3BCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQyxJQUFJLE1BQU0sS0FBSyxTQUFTO29CQUFFLFNBQVM7Z0JBQ25DLDREQUFlLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDakU7WUFDRCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDckIscUVBQXFFO1FBRXJFLHdDQUF3QztRQUN4QyxLQUFLLElBQUksQ0FBQyxJQUFJLFFBQVEsRUFBRTtZQUNwQixJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQzVCLHlCQUF5QjtnQkFDekIsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsU0FBUzthQUNaO1lBRUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO2dCQUN0Qix5QkFBeUI7Z0JBQ3pCLFNBQVM7YUFDWjtZQUNELHFDQUFxQztZQUVyQyw0REFBZSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7U0FDakU7UUFFRCxLQUFLLElBQUksQ0FBQyxJQUFJLFFBQVEsRUFBRTtZQUNwQixJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUFFLFNBQVM7WUFFNUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO2dCQUN0Qix5QkFBeUI7Z0JBQ3pCLFNBQVM7YUFDWjtZQUNELHFDQUFxQztZQUVyQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNqRTtJQUNMLENBQUM7SUFFTyxjQUFjLENBQUMsSUFBZTtRQUNsQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUsscUJBQXFCLEVBQUU7WUFDckMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQWdDLENBQUMsQ0FBQztTQUM3RDtJQUNMLENBQUM7SUFHTyxpQkFBaUIsQ0FBQyxJQUFlLEVBQUUsT0FBWTtRQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssOERBQWUsRUFBRTtZQUMvQixJQUFJLEdBQUcsR0FBRyxJQUEyQixDQUFDO1lBRXRDLElBQUksU0FBUyxJQUFJLE9BQU8sRUFBRTtnQkFDdEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN0RDtZQUNELElBQUksY0FBYyxJQUFJLE9BQU8sRUFBRTtnQkFDM0IsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsWUFBYSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUNuRTtTQUNKO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLHFEQUFhLEVBQUU7WUFDcEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RELElBQUksUUFBUSxLQUFLLFNBQVM7Z0JBQUUsT0FBTztZQUVuQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDckM7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsSUFBZTtRQUNyQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssOERBQWUsRUFBRTtZQUMvQixJQUFJLEdBQUcsR0FBRyxJQUEyQixDQUFDO1lBQ3RDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUN2RDthQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxxQkFBcUIsRUFBRTtZQUM1QyxJQUFJLEVBQUUsR0FBRyxJQUFnQyxDQUFDO1lBQzFDLEVBQUUsQ0FBQyxTQUFTO1lBQ1osSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLDhEQUFlLENBQTBDLENBQUM7WUFDbkcsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFO2dCQUN4QixJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBRSxDQUFDO2dCQUN0Qyw0REFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzNDO1NBQ0o7SUFDTCxDQUFDO0lBRU8sZ0JBQWdCLENBQUMsR0FBYSxFQUFFLE9BQVk7UUFDaEQsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGtEQUFTLElBQUksTUFBTSxJQUFJLE9BQU8sRUFBRTtZQUM3QyxJQUFJLElBQUksR0FBRyxHQUFtQixDQUFDO1lBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUUxQix5RUFBeUU7U0FDNUU7SUFDTCxDQUFDO0lBR0QsTUFBTTtJQUNOLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvUjZGO0FBQ2xEO0FBQ0c7QUFDVztBQUdVO0FBVXZDO0FBQzRCO0FBQ2pCO0FBSWpDLE1BQU0sZUFBZSxHQUFHLFlBQVksQ0FBQztBQWFyQyxNQUFNLHVCQUF1QixHQUFHLG9CQUFvQixDQUFDO0FBTzVEOzs7Ozs7Ozs7Ozs7Ozs7O0dBZ0JHO0FBQ0ksTUFBTSxnQkFBZ0I7SUFhekIsWUFBWSxLQUFZOztRQVpmLFNBQUksR0FBRyxlQUFlLENBQUM7UUFDdkIsaUJBQVksR0FBRyxDQUFDLGdFQUFnQixDQUFDLENBQUM7UUFJM0MsWUFBTyxHQUFHLElBQUksc0RBQWdCLENBQXNCLGVBQWUsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkYsbUJBQWMsR0FBRyxJQUFJLHNEQUFnQixDQUFvQix1QkFBdUIsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFJaEcsYUFBUSxHQUFHLElBQUksOERBQVcsRUFBdUIsQ0FBQztRQUc5QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdFQUFnQixDQUFzQixDQUFDO1FBRXZGLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxVQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxrREFBUyxDQUFpQixtQ0FBSSw2REFBcUIsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUVsRyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN0QyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBc0I7UUFDNUMsSUFBSSxDQUFDLENBQUMsV0FBVyxLQUFLLFNBQVMsRUFBRTtZQUM3QixJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDMUMsQ0FBQyxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBRUQsYUFBYSxDQUFDLENBQXNCO1FBQ2hDLHlCQUF5QjtRQUN6QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsd0RBQWdCLENBQUM7WUFBRSxPQUFPO1FBRWhFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUscURBQWEsQ0FBc0IsQ0FBQztRQUNoRixJQUFJLEdBQUcsS0FBSyxTQUFTO1lBQUUsT0FBTztRQUU5QiwyQ0FBMkM7UUFDM0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFCLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUU7WUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQ3ZDLE9BQU8sRUFBRSxTQUFTO2dCQUNsQixXQUFXLEVBQUUsU0FBUztnQkFDdEIsSUFBSSxFQUFFLFNBQVM7YUFDbEIsQ0FBQyxDQUFDO1lBQ0gsT0FBTztTQUNWO1FBRUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBRXBDLElBQUksUUFBUSxHQUFHLElBQUksZ0RBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO1FBRXBGLElBQUksS0FBSyxHQUFHLElBQUksS0FBSyxFQUFRLENBQUM7UUFDOUIsSUFBSSxVQUFVLEdBQUcsSUFBSSxLQUFLLEVBQVUsQ0FBQztRQUVyQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLDZEQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDOUQsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssU0FBUyxDQUFDO1FBQ3BFLENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLEVBQUU7WUFDckIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztZQUNwQixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssOERBQWM7Z0JBQUUsTUFBTSwrQ0FBK0M7WUFDcEYsSUFBSSxRQUFRLEdBQUksQ0FBZSxDQUFDLElBQUksQ0FBQztZQUNyQyxvQ0FBb0M7WUFFcEMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNyQixVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNqQztRQUNELElBQUksWUFBWSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxDQUFDLFVBQVUsS0FBSyxJQUFJLEVBQUU7WUFDdkIsWUFBWSxHQUFHLElBQUksS0FBSyxFQUFVLENBQUM7U0FDdEM7YUFBTTtZQUNILFlBQVksR0FBRyxTQUFTLENBQUM7U0FDNUI7UUFDRCxJQUFJLE9BQU8sR0FBRyw0RUFBZSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBRWxFLHFDQUFxQztRQUNyQyxRQUFRLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTlCLElBQUksWUFBWSxLQUFLLFNBQVMsRUFBRTtZQUM1QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDMUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNqRDtTQUNKO1FBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFO1lBQ3ZDLE9BQU87WUFDUCxJQUFJLEVBQUUsUUFBUTtZQUNkLFlBQVksRUFBRSxZQUFZO1NBQzdCLENBQUMsQ0FBQztRQUVILENBQUMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFTyxhQUFhLENBQUMsSUFBVTtRQUM1QixLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQzdDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUksQ0FBQyxDQUFDO1NBQ2pDO0lBQ0wsQ0FBQztJQUVPLGNBQWMsQ0FBQyxDQUFZO1FBQy9CLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxlQUFlLEVBQUU7WUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBd0IsQ0FBQztZQUNqQyxDQUFDLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUNmLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDekI7YUFBTSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssdUJBQXVCLEVBQUU7WUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxnRUFBZ0IsQ0FBeUIsQ0FBQztZQUN0RixJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxhQUFhLENBQUMsK0RBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzthQUM5QztTQUNKO2FBQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLGdFQUFnQixJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDaEcsSUFBSSxDQUFDLGFBQWEsQ0FBQywrREFBVyxDQUFFLENBQTBCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztTQUN0RTthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyx3REFBZ0IsRUFBRTtZQUNwQyxnRkFBZ0Y7WUFDaEYsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzlDLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzlCO1lBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3JELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3JDO1NBQ0o7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBWSxFQUFFLE9BQVk7UUFDaEQsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLHdEQUFnQixDQUFDO1lBQUUsT0FBTztRQUNoRSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssZUFBZSxFQUFFO1lBQzVCLElBQUksT0FBTyxJQUFJLE9BQU8sRUFBRTtnQkFDcEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUF3QixDQUFDLENBQUM7YUFDaEQ7U0FDSjthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxxREFBYSxFQUFFO1lBQ2pDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM5QyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDM0I7WUFDRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckQsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO2dCQUNuQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLGdFQUFnQixDQUF5QixDQUFDO2dCQUN6RixJQUFJLENBQUMsYUFBYSxDQUFDLCtEQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDaEQ7U0FDSjthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxnRUFBZ0IsSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDdEgsSUFBSSxDQUFDLEdBQUcsQ0FBeUIsQ0FBQztZQUVsQyxJQUFJLENBQUMsYUFBYSxDQUFDLCtEQUFXLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7U0FDNUM7SUFDTCxDQUFDO0lBRU8sa0JBQWtCLENBQUMsQ0FBWTtRQUNuQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssZUFBZSxFQUFFO1lBQzVCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUF3QixDQUFDLENBQUM7U0FDbkQ7YUFBTSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssdUJBQXVCLEVBQUU7WUFDM0MsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQXNCLENBQUMsQ0FBQztTQUN4RDthQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxnRUFBZ0IsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ2hHLElBQUksQ0FBQyxHQUFHLENBQXlCLENBQUM7WUFFbEMsSUFBSSxDQUFDLGFBQWEsQ0FBQywrREFBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQzVDO2FBQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLHdEQUFnQixFQUFFO1lBQ3BDLDBCQUEwQjtZQUMxQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUMsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO2dCQUNuQixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzNCO1lBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3JELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtnQkFDbkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxnRUFBZ0IsQ0FBeUIsQ0FBQztnQkFDdEYsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO29CQUNuQixJQUFJLENBQUMsYUFBYSxDQUFDLCtEQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7aUJBQzlDO2FBQ0o7U0FDSjtJQUNMLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxHQUFhLEVBQUUsT0FBWTtRQUNoRCxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssa0RBQVMsSUFBSSxNQUFNLElBQUksT0FBTyxFQUFFO1lBQzdDLElBQUksSUFBSSxHQUFHLEdBQW1CLENBQUM7WUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBRTFCLDZFQUE2RTtZQUM3RSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO2dCQUM1QixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUU7b0JBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3pCO1lBQ0wsQ0FBQyxDQUFDLENBQUM7U0FDTjtJQUNMLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxDQUFzQjtRQUMzQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVPLHVCQUF1QixDQUFDLENBQW9CO1FBQ2hELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsZ0VBQWdCLENBQXlCLENBQUM7UUFDdEYsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO1lBQ25CLElBQUksQ0FBQyxhQUFhLENBQUMsK0RBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztTQUM5QztJQUNMLENBQUM7SUFFRCxNQUFNO0lBQ04sQ0FBQztJQUVELE9BQU87SUFDUCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzUTJDO0FBRUE7QUFTcEI7QUFDZ0Q7QUFDb0I7QUFHckYsTUFBTSxxQkFBcUIsR0FBRyxrQkFBa0IsQ0FBQztBQWNqRCxNQUFNLHFCQUFxQjtJQVE5QixZQUFZLEtBQVk7UUFQZixTQUFJLEdBQUcscUJBQXFCLENBQUM7UUFDN0IsaUJBQVksR0FBRyxDQUFDLG1EQUFZLEVBQUUsb0VBQWdCLENBQUMsQ0FBQztRQU9yRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLG9FQUFnQixDQUFxQixDQUFDO1FBRTFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxzREFBZ0IsQ0FBMkIscUJBQXFCLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWpHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLDRFQUFxQyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNoRyxDQUFDO0lBRWEsY0FBYyxDQUFDLENBQVk7O1lBQ3JDLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxxQkFBcUI7Z0JBQUUsT0FBTztZQUM3QyxJQUFJLE1BQU0sR0FBRyxDQUE2QixDQUFDO1lBRTNDLElBQUksT0FBTyxNQUFNLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtnQkFDbEMsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQ2xELGtFQUFrRTtvQkFDbEUsT0FBTyxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO29CQUN2RCxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO3dCQUNsQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUs7d0JBQ25CLGFBQWEsRUFBRyxNQUFjLENBQUMsYUFBYTtxQkFDL0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQztvQkFDM0IsT0FBUSxNQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7aUJBQzNDO3FCQUFNO29CQUNILE9BQU8sQ0FBQyxJQUFJLENBQUMsOENBQThDLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUMzRSxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztvQkFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzlCLE9BQU87aUJBQ1Y7YUFDSjtZQUVELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFlLE1BQU0sQ0FBQyxLQUFLLENBQUcsQ0FBQyxJQUFJLENBQUM7WUFFMUUsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7Z0JBQzlCLDBDQUEwQztnQkFDMUMsNkNBQTZDO2dCQUM3QyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUM3QztZQUNELElBQUksS0FBSyxDQUFDLGFBQWEsS0FBSyxTQUFTLEVBQUU7Z0JBQ25DLElBQUksR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxtQ0FBa0M7Z0JBQ2hGLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3JEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSx1REFBVyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRTNELElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQzlCLElBQUksRUFBRSxtREFBWTtnQkFDbEIsV0FBVyxFQUFFLElBQUk7Z0JBQ2pCLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTTtnQkFDaEIsT0FBTyxFQUFFO29CQUNMLElBQUksRUFBRSx3REFBaUI7b0JBQ3ZCLE1BQU0sRUFBRSxLQUFLO29CQUNiLFFBQVEsRUFBRSwwRkFBNEI7b0JBQ3RDLEtBQUssRUFBRSwwREFBbUI7b0JBQzFCLEtBQUssRUFBRSx5RUFBa0M7b0JBQ3pDLE1BQU0sRUFBRSxLQUFLLENBQUMsYUFBYTtvQkFDM0IsT0FBTyxFQUFFLEdBQUc7b0JBQ1osTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO29CQUMxQixJQUFJLEVBQUUsUUFBUTtpQkFDRDthQUNBLENBQUMsQ0FBQztRQUMzQixDQUFDO0tBQUE7SUFFTyxpQkFBaUIsQ0FBQyxDQUFZO1FBQ2xDLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxxQkFBcUI7WUFBRSxPQUFPO1FBQzdDLElBQUksTUFBTSxHQUFHLENBQTZCLENBQUM7UUFFM0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFTyxtQkFBbUIsQ0FBQyxRQUFrQjs7UUFDMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLG1EQUFZLENBQXVDLENBQUM7UUFFeEYsS0FBSyxJQUFJLENBQUMsSUFBSSxRQUFRLEVBQUU7WUFDcEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEtBQUssU0FBUztnQkFBRSxTQUFTO1lBQzlCLElBQUksS0FBSyxHQUFHLFVBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFlLENBQUMsQ0FBQyxLQUFLLENBQUMsMENBQUUsSUFBTSxDQUFDO1lBQ25FLEtBQUssQ0FBQyxhQUFhLEdBQUcsTUFBQyxXQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxPQUF3QiwwQ0FBRSxNQUFNLENBQUM7U0FDbEY7SUFDTCxDQUFDO0lBRUQsTUFBTTtJQUNOLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hId0I7QUFzQmxCLFNBQVMsb0JBQW9CLENBQUMsS0FBWSxFQUFFLE9BQWdCO0lBQy9ELElBQUksR0FBRyxHQUFHLEVBQW1CLENBQUM7SUFDOUIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsNkRBQWlCLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ25ELE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQztBQUN4QixDQUFDO0FBRU0sU0FBUyxXQUFXLENBQUMsS0FBWSxFQUFFLE9BQWdCLEVBQUUsUUFBaUIsS0FBSztJQUM5RSxJQUFJLEdBQUcsR0FBRyxFQUFtQixDQUFDO0lBQzlCLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDhEQUFrQixFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDM0QsT0FBTyxHQUFHLENBQUMsUUFBUSxDQUFDO0FBQ3hCLENBQUM7QUFFTSxTQUFTLDZCQUE2QixDQUFDLEtBQVksRUFBRSxPQUFnQjtJQUN4RSxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyw2RUFBaUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBRU0sU0FBUyw4QkFBOEIsQ0FBQyxLQUFZLEVBQUUsT0FBZ0I7SUFDekUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsOEVBQWtDLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDbkUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUN1RztBQUd4RyxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUM7QUFTbkIsTUFBTSxvQkFBb0IsR0FBRyxpQkFBaUIsQ0FBQztBQUUvQyxNQUFNLG9CQUFvQjtJQVc3QixZQUFZLEtBQVk7UUFUZixTQUFJLEdBQUcsb0JBQW9CLENBQUM7UUFDNUIsaUJBQVksR0FBRyxDQUFDLHdEQUFZLENBQUMsQ0FBQztRQUt2QyxrQkFBYSxHQUFZLEtBQUssQ0FBQztRQUMvQixVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBR2QsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEtBQUssRUFBZ0IsQ0FBQztRQUV6QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3REFBWSxDQUFrQixDQUFDO1FBQ3hFLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUU5QixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFTyxXQUFXLENBQUMsR0FBaUI7UUFDakMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7U0FDcEM7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYixJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsYUFBYSxFQUFFO1lBQzVCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLDBEQUEwRDtZQUMxRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVPLGtCQUFrQixDQUFDLEdBQWlCO1FBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDdkMsQ0FBQztJQUVPLFdBQVcsQ0FBQyxPQUFxQjtRQUNyQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTyxXQUFXLENBQUMsT0FBcUI7UUFDckMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFTyxlQUFlO1FBQ25CLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDdEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVPLGVBQWU7UUFDbkIsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTTtZQUFFLE9BQU8sU0FBUyxDQUFDO1FBQ3hELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELG1CQUFtQjtRQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDckYsQ0FBQztJQUVELFlBQVk7UUFDUixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztJQUMvQixDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQVksRUFBRSxPQUFnQjtRQUN6QyxJQUFJLElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7WUFDM0IsMkNBQTJDO1NBQzlDO2FBQU07WUFDSCxrRUFBa0U7WUFDbEUsSUFBSSxDQUFDLE9BQU87Z0JBQUUsT0FBTyxLQUFLLENBQUM7WUFFM0IsZ0RBQWdEO1lBQ2hELHFEQUFxRDtZQUNyRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxPQUFPLEVBQUU7Z0JBQ2hDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO2dCQUMxQixPQUFPLEtBQUssQ0FBQzthQUNoQjtTQUNKO1FBQ0QsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRyxDQUFDO1FBQ3RDLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRTtZQUMvQixPQUFPLENBQUMsSUFBSSxDQUFDLHNHQUFzRyxDQUFDLENBQUM7WUFDckgsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFFRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztZQUNwQixHQUFHO1NBQ04sQ0FBQyxDQUFDO1FBRUgsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFVBQVUsQ0FBQyxPQUFnQjtRQUN2QixPQUFPO1FBQ1A7OztZQUdJO0lBQ1IsQ0FBQztJQUdELFNBQVMsQ0FBQyxHQUF3QixFQUFFLE9BQWdCO1FBQ2hELDBDQUEwQztRQUMxQyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDVixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDdkI7WUFDRCxPQUFPO1NBQ1Y7UUFFRCxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFO1lBQ25DLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFTyxXQUFXLENBQUMsR0FBWTtRQUM1QixJQUFJLEdBQUcsR0FBRyxFQUFtQixDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyw4REFBa0IsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDckQsT0FBTyxHQUFHLENBQUMsUUFBUSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFFTyxNQUFNO1FBQ1YsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBRWpDLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDL0IsT0FBTztTQUNWO1FBRUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVPLE1BQU07UUFDVixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDakMsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO1lBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMvQixPQUFPO1NBQ1Y7UUFFRCxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUM1QyxDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUVELE1BQU07SUFDTixDQUFDO0lBRUQsT0FBTztJQUNQLENBQUM7Q0FFSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwTCtDO0FBQ0k7QUFDSztBQUNLO0FBQ2Q7QUFDRjtBQUNvQjtBQU0zRCxNQUFNLGtCQUFrQixHQUFHLGNBQWMsQ0FBQztBQUMxQyxNQUFNLGlCQUFpQixHQUFHLGFBQWEsQ0FBQztBQUN4QyxNQUFNLHlCQUF5QixHQUFHLHFCQUFxQixDQUFDO0FBQ3hELE1BQU0saUNBQWlDLEdBQUcscUJBQXFCLENBQUM7QUFDaEUsTUFBTSxrQ0FBa0MsR0FBRyxxQkFBcUIsQ0FBQztBQVNqRSxNQUFNLFlBQVksR0FBRyxTQUFTLENBQUM7QUFFL0IsTUFBTSxhQUFhO0lBV3RCLFlBQW1CLEtBQVk7UUFUdEIsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUNwQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQix5QkFBb0IsR0FBRyxDQUFDLDZEQUFZLENBQUM7UUFJdEMsYUFBUSxHQUFHLElBQUksR0FBRyxFQUF1QixDQUFDO1FBSTlDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpFLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkRBQVksQ0FBOEIsQ0FBQztJQUNuRixDQUFDO0lBRUQsbUJBQW1CLENBQUMsSUFBaUI7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRU8sdUJBQXVCO1FBQzNCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLDJEQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLCtEQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLG9FQUF3QixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLHlFQUF1QixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLDJEQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLHlEQUFlLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxNQUFNLENBQUMsT0FBZ0IsRUFBRSxHQUFtQixFQUFFLEtBQWU7O1FBQ3pELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQyxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDcEIsT0FBTyxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUM5RCxPQUFPLFNBQVMsQ0FBQztTQUNwQjtRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7WUFBRSxPQUFPO1FBRWpDLCtDQUErQztRQUUvQyxJQUFJLFdBQUksQ0FBQyxVQUFVLDBDQUFFLFFBQVEsRUFBRSxNQUFLLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQ3hFLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDekMsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQzthQUNyRDtTQUNKO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDOUMsSUFBSSxHQUFHLENBQUM7UUFDUixJQUFJO1lBQ0EsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDbkM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLE9BQU8sQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2pELEdBQUcsR0FBRyxTQUFTLENBQUM7U0FDbkI7UUFDRCxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsR0FBRyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7U0FDdEI7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVPLEtBQUssQ0FBQyxPQUFnQixFQUFFLEdBQW1CLEVBQUUsVUFBbUIsS0FBSzs7UUFDekUsSUFBSSxNQUFNLEdBQUcsR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUU3QixJQUFJLE1BQU0sQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUFFO1lBQy9CLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDMUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3ZDLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDcEIsT0FBTyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsR0FBRyxJQUFJLENBQUMsQ0FBQztnQkFDbEQsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ25CLFVBQUksQ0FBQyxNQUFNLDBDQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQ3BEO2lCQUFNO2dCQUNILFVBQUksQ0FBQyxNQUFNLDBDQUFFLFNBQVMsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFDOUM7U0FDSjtJQUNMLENBQUM7SUFFTyxZQUFZOztRQUNoQixVQUFJLENBQUMsTUFBTSwwQ0FBRSxTQUFTLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxPQUFPLENBQUMsSUFBWTtRQUNoQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBRUQsTUFBTTtJQUNOLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlIOEY7QUFLdEI7QUFFbEUsU0FBUyxvQkFBb0IsQ0FDaEMsR0FBaUIsRUFDakIsSUFBaUIsRUFDakIsTUFBb0IsRUFDcEIsUUFBa0I7SUFFbEIsT0FBTztRQUNILElBQUksRUFBRSxPQUFPO1FBQ2IsR0FBRztRQUNILElBQUk7UUFDSixNQUFNO1FBQ04sS0FBSyxFQUFFLFFBQVE7S0FDbEIsQ0FBQztBQUNOLENBQUM7QUFFTSxTQUFTLGlCQUFpQixDQUFDLElBQWM7SUFDNUMsT0FBTyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFrQk0sTUFBTSx3QkFBd0I7SUFJakMsWUFBWSxLQUFZO1FBSGYsU0FBSSxHQUFHLE9BQU8sQ0FBQztRQUlwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsV0FBVyxDQUFDLEdBQXlCOztRQUNqQyxJQUFJLEdBQUcsR0FBRztZQUNOLElBQUksRUFBRSxPQUFPO1NBQ1EsQ0FBQztRQUMxQixLQUFLLElBQUksQ0FBQyxJQUFJLFNBQUcsQ0FBQyxHQUFHLG1DQUFJLEVBQUUsRUFBRTtZQUN6QixHQUFHLENBQUMsTUFBTSxHQUFHLFNBQUcsQ0FBQyxNQUFNLG1DQUFJLEVBQUUsQ0FBQztZQUM5QixHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztnQkFDWixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07Z0JBQ2hCLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSTtnQkFDWixPQUFPLEVBQUcsQ0FBb0IsQ0FBQyxPQUFPO2FBQ3ZCLENBQUMsQ0FBQztZQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3hDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUU7WUFDWixLQUFLLElBQUksQ0FBQyxJQUFJLFNBQUcsQ0FBQyxJQUFJLG1DQUFJLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQzthQUMzRTtTQUNKO2FBQU07WUFDSCxJQUFJLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBeUIsQ0FBQztZQUNqRCxLQUFLLElBQUksQ0FBQyxJQUFJLFNBQUcsQ0FBQyxJQUFJLG1DQUFJLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxLQUFLLFNBQVMsRUFBRTtvQkFDakIsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDUCxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7aUJBQzlCO2dCQUNELENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ0gsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJO29CQUNaLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTztvQkFDbEIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO2lCQUNyQixDQUFDLENBQUM7YUFDTjtZQUNELEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQzlDO1NBQ0o7UUFDRCxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDcEIsS0FBSyxJQUFJLENBQUMsSUFBSSxTQUFHLENBQUMsTUFBTSxtQ0FBSSxFQUFFLEVBQUU7WUFDNUIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFHLENBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDekYsSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO2dCQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDdEMsR0FBRyxDQUFDLEdBQUcsR0FBRyxTQUFHLENBQUMsR0FBRyxtQ0FBSSxFQUFFLENBQUM7Z0JBQ3hCLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLG1FQUF5QixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7YUFDdEQ7U0FDSjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUF5Qjs7UUFDakMsSUFBSSxXQUFXLEdBQUcsZUFBRyxDQUFDLEdBQUcsMENBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyx3REFBZ0IsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLG1DQUFJLEVBQUUsQ0FBQztRQUM3RixJQUFJLGVBQWUsR0FBRyxlQUFHLENBQUMsTUFBTSwwQ0FBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLHdEQUFnQixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsbUNBQUksRUFBRSxDQUFDO1FBRXBHLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBWSxFQUFFLEVBQUU7WUFDN0IsSUFBSyxDQUF1QixDQUFDLGFBQWEsS0FBSyxLQUFLO2dCQUFFLE9BQU8sS0FBSyxDQUFDO1lBQ25FLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLE9BQU8sS0FBSyxDQUFDO1lBQ3JELElBQUksZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLE9BQU8sSUFBSSxDQUFDO1lBQ3hELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSx3REFBZ0IsQ0FBQyxLQUFLLFNBQVMsQ0FBQztRQUM3RSxDQUFDLENBQUM7UUFDRixJQUFJLGdCQUFnQixHQUFHLENBQUMsQ0FBWSxFQUFFLEVBQUU7WUFDcEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFHLENBQW9CLENBQUMsT0FBTyxDQUFFLENBQUM7WUFDckYsSUFBSyxJQUEwQixDQUFDLGFBQWEsS0FBSyxLQUFLLElBQUksQ0FBQyxDQUFDLGVBQWUsSUFBSSxDQUFDLENBQUM7Z0JBQUUsT0FBTyxLQUFLLENBQUM7WUFDakcsT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsQ0FBQztRQUVELElBQUksR0FBRyxHQUFHLFNBQUcsQ0FBQyxHQUFHLDBDQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQyxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUM5QyxJQUFJLE1BQU0sR0FBRyxTQUFHLENBQUMsTUFBTSwwQ0FBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLHdEQUFnQixJQUFJLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFekYsSUFBSSxHQUFHLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDcEIsSUFBSSxDQUFDLENBQUMsZUFBZSxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUM7Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFDakQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQXNCLENBQUM7WUFDckYsSUFBSSxJQUFJLEtBQUssU0FBUztnQkFBRSxPQUFPLEtBQUssQ0FBQztZQUVyQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYSxLQUFLLEtBQUssSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLEtBQUssRUFBRTtnQkFDbkUsTUFBTSxHQUFHLE1BQU0sYUFBTixNQUFNLGNBQU4sTUFBTSxHQUFJLEVBQUUsQ0FBQztnQkFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQztvQkFDUixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07b0JBQ2hCLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSTtvQkFDWixPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU87aUJBQ0gsQ0FBQyxDQUFDO2FBQ3hCO2lCQUFNLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEtBQUssS0FBSyxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssS0FBSyxFQUFFO2dCQUMxRSxHQUFHLEdBQUcsR0FBRyxhQUFILEdBQUcsY0FBSCxHQUFHLEdBQUksRUFBRSxDQUFDO2dCQUNoQixHQUFHLENBQUMsSUFBSSxDQUFDLG1FQUF5QixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7YUFDN0M7WUFDRCxPQUFPLEtBQUssQ0FBQztRQUNqQixDQUFDLENBQUM7UUFFRixJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBVyxDQUFDO1FBQy9CLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDMUIsR0FBRyxDQUFDLElBQUksQ0FBQztnQkFDTCxJQUFJLEVBQUUsU0FBUztnQkFDZixRQUFRLEVBQUUsV0FBVzthQUNOLENBQUM7U0FDdkI7UUFDRCxJQUFJLGVBQWUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzlCLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLE9BQU87Z0JBQ2IsUUFBUSxFQUFFLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDdEQsQ0FBQyxDQUFDO1NBQ3RCO1FBQ0QsSUFBSSxDQUFDLElBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxNQUFNLEtBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsTUFBTSxLQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLE1BQU0sS0FBSSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDeEUsSUFBSSxLQUFLLEdBQUc7Z0JBQ1IsSUFBSSxFQUFFLE9BQU87YUFDUSxDQUFDO1lBQzFCLElBQUksR0FBRyxLQUFLLFNBQVM7Z0JBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xELElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDcEIsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM3QixJQUFJLEdBQUcsQ0FBQyxLQUFLO29CQUFFLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO2FBQ3JDO1lBQ0QsSUFBSSxNQUFNLEtBQUssU0FBUztnQkFBRSxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDM0QsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQjtRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELEtBQUssQ0FBQyxFQUF3QixFQUFFLElBQTBCO1FBQ3RELElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsS0FBSztZQUFFLE9BQU8sS0FBSyxDQUFDO1FBRTFDLGlEQUFpRDtRQUNqRCx5REFBeUQ7UUFDekQsRUFBRSxDQUFDLEdBQUcsR0FBRyxtQkFBbUIsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMvQyxFQUFFLENBQUMsTUFBTSxHQUFHLG1CQUFtQixDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXhELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDekIsSUFBSSxFQUFFLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDdkIsRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQ3ZCO2lCQUFNO2dCQUNILEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDckIsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNqRyxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7d0JBQ2pCLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztxQkFDbEI7eUJBQU07d0JBQ0gsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztxQkFDdkM7aUJBQ0o7YUFDSjtTQUNKO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUdELE1BQU0sQ0FBQyxPQUE2Qjs7UUFDaEMsSUFBSSxDQUFDLGNBQU8sQ0FBQyxHQUFHLDBDQUFFLE1BQU0sS0FBSSxDQUFDLENBQUMsR0FBRyxDQUFDLGNBQU8sQ0FBQyxNQUFNLDBDQUFFLE1BQU0sS0FBSSxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDbkYsS0FBSyxJQUFJLElBQUksSUFBSSxhQUFPLENBQUMsSUFBSSxtQ0FBSSxFQUFFLEVBQUU7WUFDakMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUN4QixPQUFPLEtBQUssQ0FBQzthQUNoQjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVPLHVCQUF1QixDQUFDLE1BQWM7UUFDMUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ25ELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckQsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBRWYsS0FBSyxJQUFJLElBQUksSUFBSSxVQUFVLEVBQUU7WUFDekIsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDO2dCQUFFLFNBQVM7WUFDaEQsS0FBSyxDQUFDLElBQUksQ0FBQyx5REFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDckM7UUFFRCxPQUFPO1lBQ0gsRUFBRSxFQUFFLE1BQU07WUFDVixVQUFVLEVBQUUsS0FBSztTQUNwQixDQUFDO0lBQ04sQ0FBQztJQUVPLHNCQUFzQixDQUFDLFNBQW9COztRQUMvQyxPQUFPLENBQUUsU0FBK0IsQ0FBQyxhQUFhLEtBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQywwQ0FBRSxJQUFJLEVBQUM7SUFDeEgsQ0FBQztDQUNKO0FBRUQsU0FBUyxtQkFBbUIsQ0FBSSxDQUFPLEVBQUUsQ0FBTztJQUM1QyxJQUFJLENBQUMsS0FBSyxTQUFTO1FBQUUsT0FBTyxDQUFDLENBQUM7SUFDOUIsSUFBSSxDQUFDLEtBQUssU0FBUztRQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNiLE9BQU8sQ0FBQyxDQUFDO0FBQ2IsQ0FBQztBQUVELFlBQVk7QUFDWixTQUFTLEtBQUssQ0FBSSxDQUFJO0lBQ2xCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6T2dEO0FBUzFDLE1BQU0sa0JBQWtCO0lBSTNCLFlBQVksS0FBWTtRQUhmLFNBQUksR0FBRyxTQUFTLENBQUM7UUFJdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFtQjtRQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV6RCxPQUFRO1lBQ0osSUFBSSxFQUFFLE9BQU87WUFDYixRQUFRLEVBQUUsS0FBSztTQUNGO0lBQ3JCLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBdUI7UUFDL0IsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsd0RBQWdCLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQztRQUN4RyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ3JDLE9BQU8sQ0FBQztnQkFDSixJQUFJLEVBQUUsU0FBUztnQkFDZixRQUFRO2FBQ08sQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxLQUFLLENBQUMsRUFBa0IsRUFBRSxJQUFvQjtRQUMxQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQXVCO1FBQzFCLE9BQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7OztBQzlCTSxNQUFNLGdCQUFnQjtJQUl6QixZQUFZLEtBQVk7UUFIZixTQUFJLEdBQUcsT0FBTyxDQUFDO1FBSXBCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBaUI7UUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwRCxPQUFPO1lBQ0gsSUFBSSxFQUFFLE9BQU87WUFDYixFQUFFLEVBQUUsR0FBRyxDQUFDLElBQUk7WUFDWixJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUU7U0FDQyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBcUI7UUFDN0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxLQUFLLENBQUMsRUFBZ0IsRUFBRSxJQUFrQjtRQUN0QyxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQXFCO1FBQ3hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7OztBQ3JDTSxNQUFNLGVBQWU7SUFBNUI7UUFDYSxTQUFJLEdBQUcsTUFBTSxDQUFDO0lBaUIzQixDQUFDO0lBZkcsV0FBVyxDQUFDLEdBQWdCO1FBQ3hCLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELFdBQVcsQ0FBQyxPQUFvQjtRQUM1QixPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLLENBQUMsRUFBZSxFQUFFLElBQWlCO1FBQ3BDLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBZ0I7UUFDbkIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7O0FDYk0sTUFBTSx1QkFBdUI7SUFJaEMsWUFBWSxLQUFZO1FBSGYsU0FBSSxHQUFHLE9BQU8sQ0FBQztRQUlwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsV0FBVyxDQUFDLEdBQXdCO1FBQ2hDLElBQUksR0FBRyxHQUFHO1lBQ04sSUFBSSxFQUFFLE9BQU87WUFDYixHQUFHLEVBQUUsRUFBRTtZQUNQLElBQUksRUFBRSxFQUFFO1lBQ1IsTUFBTSxFQUFFLEVBQUU7U0FDVSxDQUFDO1FBQ3pCLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtZQUNuQixHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDN0I7UUFDRCxLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEVBQUU7WUFDdkIscUNBQXFDO1lBQ3JDLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQ3BCLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRTtZQUN0QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxJQUFJLEdBQUcsS0FBSyxTQUFTO2dCQUFFLFNBQVM7WUFDaEMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBd0I7O1FBQ2hDLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLElBQUksSUFBSSxHQUFHLEVBQWdCLENBQUM7UUFFNUIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxFQUFFO1lBQ3ZCLElBQUksVUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLDBDQUFFLEtBQUssRUFBRTtnQkFDckMsS0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMvQjtTQUNKO1FBRUQsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBQyxpQkFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLDBDQUFFLEtBQUssSUFBQyxDQUFDO1FBRXRFLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDMUMsT0FBTyxFQUFFLENBQUM7U0FDYjtRQUNELE9BQU8sQ0FBQztnQkFDSixJQUFJLEVBQUUsT0FBTztnQkFDYixHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU07YUFDRyxDQUFDO0lBQzdCLENBQUM7SUFFRCxLQUFLLENBQUMsRUFBdUIsRUFBRSxJQUF5QjtRQUNwRCxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDeEIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzlCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUN4QixJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFO2dCQUNqQixNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2pEO2lCQUFNO2dCQUNILEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNuQztTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxPQUE0QjtRQUMvQixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUM7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNuRSxLQUFLLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7WUFDM0IsS0FBSyxJQUFJLE1BQU0sSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNuQyxPQUFPLEtBQUssQ0FBQzthQUNoQjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3pGbUU7QUFTN0QsTUFBTSxnQkFBZ0I7SUFJekIsWUFBWSxLQUFZO1FBSGYsU0FBSSxHQUFHLE9BQU8sQ0FBQztRQUlwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsV0FBVyxDQUFDLEdBQWlCO1FBQ3pCLElBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXpDLE9BQU87WUFDSCxJQUFJLEVBQUUsU0FBUztZQUNmLFFBQVEsRUFBRSxRQUFRO1NBQ0gsQ0FBQztJQUN4QixDQUFDO0lBRUQsV0FBVyxDQUFDLE9BQXFCO1FBQzdCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyx3REFBZ0IsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDO1FBQ25ILElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDNUIsT0FBTztnQkFDSCxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQ1IsVUFBVSxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBdUIsQ0FBQyxhQUFhLEtBQUssS0FBSyxDQUFDO2FBQ3pGO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3ZCLE9BQU8sRUFBRSxDQUFDO1NBQ2I7UUFDRCxPQUFPLENBQUM7Z0JBQ0osSUFBSSxFQUFFLE9BQU87Z0JBQ2IsUUFBUSxFQUFFLFFBQVE7YUFDTCxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVELEtBQUssQ0FBQyxFQUFnQixFQUFFLElBQWtCO1FBQ3RDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBcUI7UUFDeEIsT0FBTyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7SUFDekMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcEQyQztBQUNnRDtBQUNoRDtBQUNkO0FBQ1c7QUFDeUI7QUFDUDtBQUVKO0FBQ3FCO0FBQ0o7QUFFUTtBQUNaO0FBQ1Y7QUFHMUQsSUFBWSxRQUlYO0FBSkQsV0FBWSxRQUFRO0lBQ2hCLG1DQUF1QjtJQUN2QixvQ0FBd0I7SUFDeEIsNkJBQWlCO0FBQ3JCLENBQUMsRUFKVyxRQUFRLEtBQVIsUUFBUSxRQUluQjtBQUVNLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQWF6QixNQUFNLFVBQVU7SUFjbkIsWUFBWSxHQUFVO1FBWmIsU0FBSSxHQUFHLFNBQVMsQ0FBQztRQUNqQixpQkFBWSxHQUFHLENBQUMsa0VBQWUsRUFBRSxrREFBUyxDQUFDLENBQUM7UUFFckQsWUFBTyxHQUFHLElBQUksc0RBQWdCLENBQWdCLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFJckUsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFNMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7UUFFakIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLHdEQUFrQixDQUFDLElBQUksd0RBQWtCLENBQUMsMEVBQWtCLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN2RixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxvREFBYyxFQUFFLENBQUM7UUFFN0MsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrRUFBZSxDQUFvQixDQUFDO1FBQ3hFLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0RBQVMsQ0FBZSxDQUFDO1FBRXhELElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckUsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO1lBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNEO0lBQ0wsQ0FBQztJQUVELGVBQWUsQ0FBQyxJQUFtQjs7UUFDL0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxrREFBUyxDQUFrQixDQUFDO1FBQzVFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUscURBQWEsQ0FBc0IsQ0FBQztRQUVuRixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsa0VBQWEsQ0FBQyxLQUFLLFNBQVMsQ0FBQztRQUNyRyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1YsVUFBSSxDQUFDLFFBQVEsMENBQUUsS0FBSyxFQUFFLENBQUM7WUFDdkIsT0FBTztTQUNWO1FBRUQsK0RBQStEO1FBQy9ELElBQUksSUFBSSxHQUFHLElBQUksZ0RBQUksQ0FDZixHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQ1osR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDM0MsQ0FBQztRQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTyxTQUFTLENBQUMsSUFBbUIsRUFBRSxJQUFVO1FBQzdDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdEIsSUFBSSxDQUFDLEtBQUssU0FBUztZQUFFLE9BQU87UUFDNUIsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1YsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLFFBQVEsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNuQixLQUFLLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUN4QixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDMUUsSUFBSSxJQUFJLENBQUMsSUFBSTtvQkFBRSxVQUFVLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3pDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsVUFBVSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZFLE1BQU07YUFDVDtZQUNELEtBQUssUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3hCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUMxRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUk7b0JBQUUsVUFBVSxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUMxQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNuRSxNQUFNO2FBQ1Q7WUFDRCxLQUFLLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDNUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNyQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLE1BQU07YUFDVDtZQUNEO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzNEO0lBQ0wsQ0FBQztJQUVPLFFBQVEsQ0FBQyxJQUFtQixFQUFFLFFBQWtCLEVBQUUsSUFBYTs7UUFDbkUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxrREFBUyxDQUFrQixDQUFDO1FBQzVFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUscURBQWEsQ0FBc0IsQ0FBQztRQUVuRixJQUFJLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBRXZCLFFBQVEsUUFBUSxFQUFFO1lBQ2QsS0FBSyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3ZCLE1BQU0sR0FBRyxzRUFBaUIsQ0FDdEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFDZCxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUM3QixFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQ3JDLENBQUM7Z0JBRUYsTUFBTTthQUNUO1lBQ0QsS0FBSyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ3hCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFDLE1BQU0sR0FBRyxzRUFBaUIsQ0FDdEIsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFDbEQsS0FBSyxFQUNMLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FDekIsQ0FBQztnQkFFRixNQUFNLEdBQUcsc0VBQWlCLENBQ3RCLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQ2QsS0FBSyxFQUNMLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FDckM7Z0JBRUQsTUFBTTthQUNUO1lBQ0QsS0FBSyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2xCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUMxQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7Z0JBQ2hELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFDLE1BQU0sR0FBRyxzRUFBaUIsQ0FDdEIsTUFBTSxFQUFFLEtBQUssRUFDYixFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQ3pCLENBQUM7Z0JBQ0YsTUFBTSxHQUFHLHNFQUFpQixDQUN0QixNQUFNLEVBQUUsS0FBSyxFQUNiLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQ3JELENBQUM7Z0JBQ0YsTUFBTSxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBRXJCLE1BQU07YUFDVDtZQUNEO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsUUFBUSxDQUFDLENBQUM7U0FDdEQ7UUFDRCxJQUFJLEVBQUUsR0FBRyxZQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsQ0FBQyxtQ0FBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksRUFBRSxHQUFHLFlBQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxDQUFDLG1DQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxFQUFFLEdBQUcsWUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLENBQUMsbUNBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLEVBQUUsR0FBRyxZQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsQ0FBQyxtQ0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUU7WUFDbkcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMxQix1Q0FBdUM7WUFDdkMsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFFRCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFakIsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3RCLE9BQU8sQ0FBQyxJQUFJLENBQUM7Z0JBQ1QsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUNuQixJQUFJLEVBQUUscURBQWE7Z0JBQ25CLE9BQU8sRUFBRTtvQkFDTCxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7b0JBQ1gsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2lCQUNkO2FBQ0osQ0FBQyxDQUFDO1NBQ047UUFDRCxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQztnQkFDVCxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07Z0JBQ25CLElBQUksRUFBRSxrREFBUztnQkFDZixPQUFPLEVBQUU7b0JBQ0wsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO2lCQUM1QjthQUNKLENBQUMsQ0FBQztTQUNOO1FBRUQsd0ZBQXdGO1FBQ3hGLDBGQUEwRjtRQUMxRixpQkFBaUI7UUFDakIsSUFBSSxHQUFHLEdBQUc7WUFDTixJQUFJLEVBQUUsT0FBTztZQUNiLElBQUksRUFBRSxPQUFPO1lBQ2IsS0FBSyxFQUFFLElBQUk7U0FDVSxDQUFDO1FBQzFCLDBCQUEwQjtRQUMxQiwrRUFBK0U7UUFDL0UsNkdBQTZHO1FBQzdHLG1CQUFtQjtRQUNuQixrSEFBa0g7UUFDbEgsOERBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNsRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBR08sY0FBYyxDQUFDLElBQWU7UUFDbEMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN6QixJQUFJLENBQUMsR0FBRyxJQUFxQixDQUFDO1lBQzlCLENBQUMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxtREFBYSxFQUFFLENBQUM7WUFDakMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDM0Msb0dBQW9HO1lBQ3BHLHFFQUFxRTtZQUNyRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsa0RBQVMsQ0FBa0IsQ0FBQztZQUM1RSxJQUFJLElBQUksS0FBSyxTQUFTO2dCQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUM3QzthQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxrRUFBYSxFQUFFO1lBQ3BDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsRCxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDOUI7U0FDSjtJQUNMLENBQUM7SUFHTyxpQkFBaUIsQ0FBQyxJQUFlLEVBQUUsT0FBWTtRQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxHQUFHLElBQXFCLENBQUM7WUFDOUIsSUFBSSxNQUFNLElBQUksT0FBTyxFQUFFO2dCQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3ZDLG9EQUFvRDtvQkFDcEQsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7aUJBQ3BCO2FBQ0o7WUFDRCxJQUFJLFVBQVUsSUFBSSxPQUFPLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRTtvQkFDUixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFDdEY7YUFDSjtZQUNELElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0I7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQzdCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsS0FBSyxTQUFTO2dCQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEQ7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ2pDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsS0FBSyxTQUFTO2dCQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEQ7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsSUFBZTs7UUFDckMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN6QixJQUFJLENBQUMsR0FBRyxJQUFxQixDQUFDO1lBRTlCLE9BQUMsQ0FBQyxRQUFRLDBDQUFFLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7WUFFakMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxrREFBUyxDQUFrQixDQUFDO1lBQzVFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQjtJQUNMLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxHQUFhLEVBQUUsTUFBVztRQUMvQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssbUVBQXlCLElBQUksWUFBWSxJQUFJLE1BQU0sRUFBRTtZQUNsRSxJQUFJLENBQUMsWUFBWSxHQUFJLEdBQTBCLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQztZQUNwRSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0I7U0FDSjtJQUNMLENBQUM7SUFFTyxVQUFVLENBQUMsUUFBa0I7UUFDakMsS0FBSyxJQUFJLE1BQU0sSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0MsSUFBSSxJQUFJLEtBQUssU0FBUztnQkFBRSxTQUFTO1lBQ2pDLElBQUksR0FBRyxHQUFHLDBFQUFpQixDQUFDO2dCQUN4QixNQUFNO2dCQUNOLElBQUksRUFBRSxTQUFTO2dCQUNmLE9BQU8sRUFBRTtvQkFDTCxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSTtpQkFDbkI7YUFDSixDQUFDLENBQUM7WUFDSCx1RUFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3pDO0lBQ0wsQ0FBQztJQUdELE1BQU07O1FBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFNUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQy9DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQzFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7UUFDbEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBRXhELElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxtRUFBeUIsQ0FBd0IsMENBQUUsVUFBVSxNQUFLLElBQUksQ0FBQztJQUN2SCxDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztJQUNwQyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xVNkI7QUFDMkI7QUFDYjtBQUMwQztBQUtnQztBQUM5RDtBQUNGO0FBQ0w7QUFDVjtBQUNtQjtBQUcxRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRXBCLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUl6QixNQUFNLFVBQVU7SUFnQm5CLFlBQVksS0FBWTtRQWZmLFNBQUksR0FBRyxTQUFTLENBQUM7UUFDakIsaUJBQVksR0FBRyxDQUFDLGtFQUFlLEVBQUUsaUVBQWMsRUFBRSx1REFBUyxDQUFDLENBQUM7UUFPN0Qsa0JBQWEsR0FBVyxDQUFDLENBQUM7UUFFbEMsU0FBSSxHQUFXLENBQUMsQ0FBQztRQUNqQixTQUFJLEdBQVcsQ0FBQyxDQUFDO1FBQ2pCLFdBQU0sR0FBVyxDQUFDLENBQUM7UUFDbkIsV0FBTSxHQUFXLENBQUMsQ0FBQztRQUdmLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0VBQWUsQ0FBb0IsQ0FBQztRQUN0RSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7UUFFM0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHVEQUFpQixDQUFDLHdEQUFrQixFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JGLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLHNFQUFlLENBQUM7UUFFckMsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdURBQVMsQ0FBZSxDQUFDO1FBQ3pELE9BQU8sQ0FBQyxPQUFPLENBQUMsK0RBQWlCLENBQUMsc0RBQVMsQ0FBQyxDQUFDLENBQUM7UUFFOUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVoRSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDekIsSUFBSSxFQUFFLFNBQVM7WUFDZixLQUFLLEVBQUUsSUFBSTtZQUNYLEtBQUssRUFBRSxJQUFJO1NBQ2QsRUFBRSw2REFBcUIsQ0FBa0IsQ0FBQztRQUMzQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVoQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxHQUFhLEVBQUUsT0FBWTtRQUN4QyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3hCLFNBQVM7WUFDVCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ3BCO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLHVFQUFvQixFQUFFO1lBQzFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUE2QixDQUFDLENBQUM7U0FDeEQ7SUFDTCxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUMxQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssU0FBUztZQUFFLE9BQU87UUFDbkMsTUFBTSx1Q0FBdUM7SUFDakQsQ0FBQztJQUVELGdCQUFnQixDQUFDLElBQTRCO1FBQ3pDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMxQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELFFBQVEsQ0FBQyxLQUFhLEVBQUUsTUFBYztRQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ2hDLENBQUM7SUFFTyxTQUFTO1FBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWxDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyx3REFBa0IsQ0FBQztZQUN6QyxPQUFPO1NBQ1Y7UUFFRCxJQUFJLEdBQUcsR0FBRyxlQUFlLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUM3QyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLGtEQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzlGLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckssQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFZO1FBQ3JCLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxTQUFTO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDakQsSUFBSSxHQUFHLEdBQUcsSUFBSSxnREFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRTNDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDM0QsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUUzRCxJQUFJLElBQVksQ0FBQztRQUNqQixJQUFJLElBQVksQ0FBQztRQUNqQixRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFO1lBQzNCLEtBQUssdURBQWU7Z0JBQUU7b0JBQ2xCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQzVCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBRTVCLElBQUksR0FBRyxFQUFFLENBQUM7b0JBQ1YsSUFBSSxHQUFHLEVBQUUsQ0FBQztvQkFFVixJQUFJLE1BQU0sR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFO3dCQUNuQixJQUFJLElBQUksQ0FBQyxDQUFDO3FCQUNiO29CQUNELElBQUksTUFBTSxHQUFHLEVBQUUsR0FBRyxHQUFHLEVBQUU7d0JBQ25CLElBQUksSUFBSSxDQUFDLENBQUM7cUJBQ2I7b0JBRUQseUJBQXlCO29CQUN6QixJQUFJLDZEQUFhLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyw2REFBYSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFO3dCQUMvRixJQUFJLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQzt3QkFDaEIsSUFBSSxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7cUJBQ25CO2lCQUNKO2dCQUFDLE1BQU07WUFDUixLQUFLLHdEQUFnQjtnQkFBRTtvQkFDbkIsMEdBQTBHO29CQUMxRyxrRUFBa0U7b0JBQ2xFLG1HQUFtRztvQkFDbkcsNEZBQTRGO29CQUM1Rix1R0FBdUc7b0JBQ3ZHLGtDQUFrQztvQkFDbEMsaUdBQWlHO29CQUNqRywrREFBK0Q7b0JBQy9ELG9HQUFvRztvQkFDcEcsZ0dBQWdHO29CQUNoRyxrRUFBa0U7b0JBQ2xFLHdGQUF3RjtvQkFFeEYsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyw0QkFBMkI7b0JBQy9DLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLGtFQUFpRTtvQkFDdkcsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDO29CQUVoQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUN4QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUV4QixJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFDbkIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7b0JBRW5CLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ2hDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2Isb0JBQW9CO3dCQUNwQixJQUFJLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRTs0QkFDbkIsSUFBSSxHQUFHLEVBQUUsQ0FBQzs0QkFDVixJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7eUJBQ3JCOzZCQUFNLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxFQUFFOzRCQUMxQixJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzs0QkFDZCxJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7eUJBQ3JCOzZCQUFNOzRCQUNILElBQUksR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDOzRCQUNoQixJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzt5QkFDakI7cUJBQ0o7eUJBQU07d0JBQ0gsbUNBQW1DO3dCQUNuQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRTs0QkFDakIsSUFBSSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7NEJBQ2QsSUFBSSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7eUJBQ2pCOzZCQUFNLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7NEJBQ3BCLElBQUksR0FBRyxFQUFFLENBQUM7NEJBQ1YsSUFBSSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7eUJBQ2pCOzZCQUFNOzRCQUNILElBQUksR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDOzRCQUNoQixJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7eUJBQ3JCO3FCQUNKO2lCQUNKO2dCQUFDLE1BQU07U0FDWDtRQUNELEdBQUcsQ0FBQyxHQUFHLENBQ0gsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFDOUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FDakQsQ0FBQztRQUNGLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFbEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpELE1BQU0sS0FBSyxHQUFHLElBQUksd0RBQWtCLENBQUMsSUFBSSx3REFBa0IsQ0FBQyxzRUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2hELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztRQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCxPQUFPO1FBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FDSjtBQUVELDJGQUEyRjtBQUUzRixTQUFTLGVBQWUsQ0FBQyxJQUFZLEVBQUUsSUFBYyxFQUFFLE9BQTZCO0lBQ2hGLElBQUksTUFBaUIsQ0FBQztJQUN0QixRQUFRLElBQUksRUFBRTtRQUNWLEtBQUssd0RBQWdCO1lBQ2pCLE1BQU0sR0FBRyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2hDLE1BQU07UUFDVixLQUFLLHVEQUFlO1lBQ2hCLE1BQU0sR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ25DLE1BQU07UUFDVjtZQUNJLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0tBQ2pEO0lBRUQsT0FBTyxpRUFBMkIsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hHLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxJQUFZLEVBQUUsR0FBeUI7SUFDdkQsK0NBQStDO0lBQy9DLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDcEIsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDckIsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUUsQ0FBQztJQUVuQyxHQUFHLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDMUIsR0FBRyxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFckQsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM5QyxDQUFDO0FBRUQsU0FBUyxPQUFPLENBQUMsSUFBWSxFQUFFLEdBQXlCO0lBQ3BELElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxLQUFLLENBQUMsUUFBTztJQUU1QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM5QixnREFBZ0Q7SUFDaEQsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNyQixNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUNyQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBRSxDQUFDO0lBRW5DLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztJQUViLEdBQUcsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztJQUMxQixHQUFHLENBQUMsV0FBVyxHQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUd0RCxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM3QixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFckIsMEJBQTBCO0lBQzFCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMxQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVqQixHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFFYixPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQWEsRUFBRSxPQUFlO0lBQzlDLE9BQU8sR0FBRyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7VUFDMUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM5RCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hTd0U7QUFHVDtBQUNwQjtBQUlkO0FBQytDO0FBQ1g7QUFDTjtBQUVZO0FBQ3hFLElBQU8sT0FBTyxHQUFHLHdEQUFrQixDQUFDO0FBQ29CO0FBQ1A7QUFDVjtBQUNBO0FBQ2U7QUFDSTtBQUVuRCxNQUFNLGtCQUFrQixHQUFHLFFBQVEsQ0FBQztBQUVwQyxNQUFNLHNCQUFzQixHQUFHO0lBQ2xDLFlBQVksRUFBRSxRQUFRO0lBQ3RCLFVBQVUsRUFBRSxrQkFBa0I7SUFDOUIsVUFBVSxFQUFFLElBQUk7Q0FDbkIsQ0FBQztBQUVLLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQztBQWMzQixNQUFNLG1CQUFtQixHQUFHLGdCQUFnQixDQUFDO0FBYTdDLE1BQU0seUJBQXlCLEdBQUcsc0JBQXNCLENBQUM7QUFVaEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQkc7QUFDSSxNQUFNLFdBQVc7SUFrQnBCLFlBQVksS0FBWTs7UUFqQmYsU0FBSSxHQUFHLFVBQVUsQ0FBQztRQUNsQixpQkFBWSxHQUFHLENBQUMsa0VBQWUsRUFBRSxzREFBVyxDQUFDLENBQUM7UUFLdkQsWUFBTyxHQUFHLElBQUksc0RBQWdCLENBQWlCLFVBQVUsQ0FBQyxDQUFDO1FBWXZELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0VBQWUsQ0FBb0IsQ0FBQztRQUV0RSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksd0RBQWtCLENBQUMsSUFBSSx3REFBa0IsQ0FBQyx3RUFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzFGLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxvREFBYyxFQUFFLENBQUM7UUFDNUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLG9EQUFjLEVBQUUsQ0FBQztRQUUzQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1REFBUyxDQUFlLENBQUM7UUFDekQsT0FBTyxDQUFDLE9BQU8sQ0FBQywrREFBaUIsQ0FBQyx3REFBVSxDQUFDLENBQUMsQ0FBQztRQUUvQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDL0IsSUFBSSxFQUFFLG1CQUFtQjtZQUN6QixLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJO1NBQzNCLEVBQUUsc0JBQXNCLENBQWtCLENBQUM7UUFDNUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLGtCQUFrQixHQUFHO1lBQ3RCLElBQUksRUFBRSx5QkFBeUI7WUFDL0IsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUk7WUFDN0MsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSztTQUNOLENBQUM7UUFDeEIsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUUzQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsVUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsbURBQVMsQ0FBaUIsbUNBQUksOERBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFFbEcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELGtCQUFrQjtRQUNkLElBQUksSUFBSSxHQUFHLGdFQUEyQixFQUFFLENBQUM7UUFFekMsSUFBSSxDQUFDLFNBQVMsR0FBRyw0RUFBb0MsQ0FBQztRQUN0RCxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVuQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsbUJBQW1CO1FBQ2YsSUFBSSxJQUFJLEdBQUcsZ0VBQTJCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFakQsSUFBSSxDQUFDLFNBQVMsR0FBRywwREFBb0IsQ0FBQztRQUN0QyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsYUFBYSxDQUFDLElBQWUsRUFBRSxHQUFnQixFQUFFLElBQWM7UUFDM0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDcEIsd0VBQW1DLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsaUJBQWlCLENBQUMsSUFBZSxFQUFFLE1BQW1CLEVBQUUsWUFBb0IsRUFBRSxLQUFhO1FBQ3ZGLHdFQUFtQyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRCxjQUFjLENBQUMsSUFBZTtRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQsZ0JBQWdCLENBQUMsTUFBYyxFQUFFLE1BQVksRUFBRSxLQUFhLEVBQUUsR0FBdUIsRUFBRSxHQUF5QjtRQUM1RyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO1lBQzFFLElBQUksR0FBRyxLQUFLLFNBQVM7Z0JBQUUsT0FBTztTQUNqQztRQUVELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNuQixHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLG1FQUFlLENBQXdCLENBQUM7WUFDOUUsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO2dCQUNuQixJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM1QixPQUFPO2FBQ1Y7U0FDSjtRQUVELElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxTQUFTLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjthQUFNO1lBQ0gsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxHQUFHLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM3RDtJQUNMLENBQUM7SUFFRCxxQkFBcUIsQ0FBQyxLQUFxQixFQUFFLEdBQXVCLEVBQUUsR0FBeUI7UUFDM0YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLGFBQWMsRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNyRixDQUFDO0lBRUQsc0JBQXNCLENBQUMsTUFBNkIsRUFBRSxHQUF1QixFQUFFLEdBQXlCO1FBQ3BHLElBQUksTUFBTSxDQUFDLG1CQUFtQixLQUFLLFNBQVMsRUFBRTtZQUMxQyxNQUFNLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDM0Q7UUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNsRixDQUFDO0lBRU8sY0FBYyxDQUFDLElBQWU7UUFDbEMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFVBQVUsRUFBRTtZQUMxQixJQUFJLEtBQUssR0FBRyxJQUFzQixDQUFDO1lBQ25DLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFFaEQsSUFBSSxHQUFHLEdBQUc7Z0JBQ04sSUFBSSxFQUFFLG1FQUFlO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7Z0JBQ2xCLFVBQVUsRUFBRSxJQUFJO2FBQ0ksQ0FBQztZQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3JEO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLHNEQUFXLEVBQUU7WUFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBNkIsQ0FBQztZQUMzQyxJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsS0FBSyxTQUFTLEVBQUU7Z0JBQzFDLE1BQU0sQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQzthQUMzRDtZQUVELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsbUVBQWUsQ0FBd0IsQ0FBQztZQUN6RixJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7Z0JBQ25CLE9BQU8sQ0FBQyxLQUFLLENBQUMsd0NBQXdDLENBQUM7YUFDMUQ7WUFDRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN2RDtJQUNMLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxJQUFlLEVBQUUsT0FBWTtRQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQzFCLElBQUksQ0FBQyxHQUFHLElBQXNCLENBQUM7WUFDL0IsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO2dCQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLG1FQUFlLEVBQUU7b0JBQ2hELEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSztpQkFDakIsQ0FBQyxDQUFDO2FBQ047aUJBQU07Z0JBQ0gsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO2dCQUNoRixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLG1FQUFlLENBQXdCLENBQUM7Z0JBQ3BGLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxTQUFTLEVBQUU7b0JBQzNCLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztvQkFDdEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxhQUFjLEVBQUUsR0FBRyxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUN6RTthQUNKO1NBQ0o7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssbUVBQWUsRUFBRTtZQUN0QyxJQUFJLEdBQUcsR0FBRyxJQUEyQixDQUFDO1lBQ3RDLElBQUksQ0FBQyxDQUFDLFNBQVMsSUFBSSxPQUFPLENBQUM7Z0JBQUUsT0FBTztZQUNwQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEQsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFHO2dCQUN0QixJQUFJLENBQUMscUJBQXFCLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUNyRDtpQkFBTTtnQkFDSCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLHNEQUFXLENBQTBCLENBQUM7Z0JBQ3ZGLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtvQkFDdEIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQ3ZEO2FBQ0o7U0FDSjtJQUNMLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxJQUFjLEVBQUUsT0FBWTtRQUNqRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssbURBQVMsRUFBRTtZQUN6QixJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDO2dCQUFFLE9BQU87WUFDakMsSUFBSSxJQUFJLEdBQUcsSUFBb0IsQ0FBQztZQUNoQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7WUFFMUIseUVBQXlFO1NBQzVFO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLG1CQUFtQixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUsseUJBQXlCLEVBQUU7WUFDckYsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMvQixJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEtBQUssSUFBSTtnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQzlELE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7WUFFakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFVBQVUsS0FBSyxJQUFJLENBQUM7WUFFM0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDO1NBQzFFO0lBQ0wsQ0FBQztJQUdPLGlCQUFpQixDQUFDLElBQWU7O1FBQ3JDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7WUFDMUIsSUFBSSxLQUFLLEdBQUcsSUFBc0IsQ0FBQztZQUNuQyxXQUFLLENBQUMsYUFBYSwwQ0FBRSxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO1lBRTFDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsbUVBQWUsQ0FBQyxDQUFDO1lBQ2hFLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDbkM7aUJBQU07Z0JBQ0gsT0FBTyxDQUFDLElBQUksQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO2FBQ3hEO1NBQ0o7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssc0RBQVcsRUFBRTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUE2QixDQUFDO1lBQzNDLFlBQU0sQ0FBQyxtQkFBbUIsMENBQUUsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztTQUNwRDtJQUNMLENBQUM7SUFFRCxNQUFNO1FBQ0YsMkRBQXNCLEVBQUUsQ0FBQztRQUV6QixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUN4QyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7UUFFNUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxlQUFlLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ2pELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQWdCLENBQUM7UUFDcEUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLFVBQVUsQ0FBQztRQUUxRCxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDeEMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7UUFDaEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVU7UUFFakQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUMseUJBQXdCO1FBRXRFLElBQUksY0FBYyxHQUFHLElBQUksaURBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQztRQUN6RSxjQUFjLENBQUMsU0FBUyxHQUFHLDhFQUFzQyxDQUFDO1FBQ2xFLGNBQWMsQ0FBQyxNQUFNLEdBQUcsd0VBQWdCLENBQUM7UUFDekMsY0FBYyxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDbkMsY0FBYyxDQUFDLG1CQUFtQixHQUFHLEtBQUssQ0FBQztRQUUzQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0VBQWUsQ0FBb0IsQ0FBQztRQUV2RSxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pGLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeFUyQztBQVN0QjtBQUM4QztBQU9wQztBQUNPO0FBTVQ7QUFDQTtBQUM0QjtBQUVUO0FBSzFDLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDO0FBRzlDLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQztBQUN0QixNQUFNLFlBQVksR0FBRyxFQUFFLENBQUM7QUFDeEIsTUFBTSxxQkFBcUIsR0FBRyxHQUFHLENBQUM7QUFnQjNCLE1BQU0sZ0JBQWdCO0lBeUJ6QixZQUFZLEtBQVk7UUF4QmYsU0FBSSxHQUFHLGdCQUFnQixDQUFDO1FBQ3hCLGlCQUFZLEdBQUcsQ0FBQyx1REFBUyxFQUFFLGtFQUFlLEVBQUUsNkRBQVksQ0FBQyxDQUFDO1FBTTFELFlBQU8sR0FBRyxJQUFJLHNEQUFnQixDQUFzQixnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFRckYsZUFBVSxHQUFXLENBQUMsQ0FBQztRQUV2QixhQUFRLEdBQWEsRUFBRSxDQUFDO1FBRWhDLGtFQUFrRTtRQUMxRCxlQUFVLEdBQWEsRUFBRSxDQUFDO1FBQ2xDLDZCQUE2QjtRQUNyQixtQkFBYyxHQUFXLENBQUMsQ0FBQztRQUcvQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrRUFBZSxDQUFvQixDQUFDO1FBQy9FLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDZEQUFZLENBQWtCLENBQUM7UUFFeEUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLHdEQUFrQixDQUFDLElBQUksd0RBQWtCLENBQUMsdUVBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNyRixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksb0RBQWMsRUFBRSxDQUFDO1FBRXRDLGFBQWE7UUFDYixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1REFBUyxDQUFlLENBQUM7UUFDekQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFaEQsZ0JBQWdCO1FBQ2hCLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9CLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWhFLGdCQUFnQjtRQUNoQixJQUFJLENBQUMsR0FBRyxHQUFHLHVEQUFpQixDQUFDLDREQUFVLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsV0FBVyxDQUFDLENBQVMsRUFBRSxDQUFTO1FBQzVCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxxQkFBdUIsQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsUUFBUSxDQUFDLFdBQW1CLEVBQUUsS0FBZTtRQUN6QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXVCLENBQUM7UUFDNUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckQsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFO1lBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUNBQXVDLEdBQUcsV0FBVyxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN4RixPQUFNO1NBQ1Q7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUcsQ0FBQztRQUVqRCxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN4QixPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxXQUFXLEdBQUcsMEJBQTBCLENBQUMsQ0FBQztZQUNuRSxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1NBQ25DO1FBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUM3QixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNoQztJQUNMLENBQUM7SUFFTyxnQkFBZ0I7UUFDcEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQWEsU0FBUyxDQUFDLENBQUM7UUFDaEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxnREFBVSxFQUFFLENBQUM7U0FDaEM7UUFFRCxNQUFNLElBQUksR0FBRyxJQUFJLHFEQUFlLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNsRCxJQUFZLENBQUMsU0FBUyxHQUFHLDBEQUFvQixDQUFDO1FBRS9DLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTlCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFQSxVQUFVLENBQUMsQ0FBc0IsRUFBRSxhQUFpRCxTQUFTO1FBQzFGLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDbEIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQTZCLENBQUM7UUFDaEQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUUvQixNQUFNLFdBQVcsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztRQUN0QyxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDO1FBQ25DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDL0IsTUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhCLE1BQU0sQ0FBQyxHQUFHLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQ3ZGLE1BQU0sQ0FBQyxHQUFHLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBRXZGLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDWDtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFbEMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLElBQUksVUFBVSxLQUFLLFNBQVMsRUFBRTtZQUMxQixVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxvRUFBbUIsQ0FBMkIsQ0FBQztTQUNqRztRQUNELElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQztJQUNqQyxDQUFDO0lBR08sY0FBYyxDQUFDLElBQVksRUFBRSxJQUFZO1FBQzdDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsY0FBYyxHQUFHLHFCQUFxQixHQUFHLEdBQUcsRUFBRTtZQUNuRCxNQUFNLEdBQUcsR0FBRztnQkFDUixJQUFJLEVBQUUsUUFBUTtnQkFDZCxHQUFHLEVBQUUsSUFBSSxDQUFDLFVBQVU7YUFDRCxDQUFDO1lBQ3hCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQztTQUM3QjtJQUNMLENBQUM7SUFFTyxNQUFNO1FBQ1YsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTztRQUV2QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXVCLENBQUM7UUFDMUMsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZELEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDaEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUVqRCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUM3QyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUU3QyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbEIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ2xCLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQztZQUN0QixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDN0IsS0FBSyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLEtBQUssR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO2FBQ2xGO1lBQ0QsSUFBSSxNQUFNLEtBQUssVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEdBQUcsWUFBWSxFQUFFO2dCQUN6RCxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzthQUNyQztZQUVELEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDckIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNyQixLQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QixLQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUU5QixJQUFJLFNBQVMsRUFBRTtnQkFDWCxLQUFLLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztnQkFDcEIsS0FBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO2FBQzNCO2lCQUFNO2dCQUNILDJGQUEyRjtnQkFDM0YsK0NBQStDO2dCQUMvQyxLQUFLLENBQUMsU0FBUyxJQUFJLENBQUMsQ0FBQztnQkFDckIsSUFBSSxLQUFLLENBQUMsU0FBUyxHQUFHLFlBQVksRUFBRTtvQkFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUMzQixLQUFLLENBQUMsRUFBRSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7b0JBQ3pCLFNBQVE7aUJBQ1g7YUFDSjtZQUVELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBR08sY0FBYyxDQUFDLENBQVk7UUFDL0IsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLG9FQUFtQixFQUFFO1lBQ2hDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ25DLE1BQU0sR0FBRyxHQUFHO2dCQUNSLElBQUksRUFBRSxnQkFBZ0I7Z0JBQ3RCLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQ1YsS0FBSyxFQUFFLFFBQVE7Z0JBQ2YsUUFBUSxFQUFFLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ3pDLFFBQVEsRUFBRSxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN6QyxRQUFRLEVBQUUsRUFBRTtnQkFDWixTQUFTLEVBQUUsWUFBWTtnQkFDdkIsRUFBRTthQUNrQixDQUFDO1lBRXpCLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQTJCLENBQUMsQ0FBQztZQUVsRCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVPLGlCQUFpQixDQUFDLElBQWUsRUFBRSxPQUFZO1FBQ25ELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxnQkFBZ0IsRUFBRTtZQUNoQyxJQUFJLENBQUMsR0FBRyxJQUEyQixDQUFDO1lBRXBDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEI7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssb0VBQW1CLEVBQUU7WUFDMUMsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO2dCQUNwQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ25ELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtvQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsSUFBOEIsQ0FBQyxDQUFDO2lCQUN4RDthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsSUFBZTtRQUNyQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssZ0JBQWdCLEVBQUU7WUFDaEMsSUFBSSxDQUFDLEdBQUcsSUFBMkIsQ0FBQztZQUNwQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2xCO0lBQ0wsQ0FBQztJQUVPLFlBQVk7UUFDaEIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBRU8sZ0JBQWdCLENBQUMsR0FBYTtRQUNsQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssdUVBQW9CLEVBQUU7WUFDbkMsSUFBSSxDQUFDLFVBQVUsR0FBSSxHQUE4QixDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7WUFDOUQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVPLGtCQUFrQixDQUFDLEdBQXVCLEVBQUUsU0FBMEI7UUFDMUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsTUFBTTtRQUNGLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixHQUFHLEtBQUssQ0FBQztRQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTVDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFakQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQzNDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFeEMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLG9FQUFtQixDQUEwQixDQUFDO1FBR2xHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRixDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RCxDQUFDO0NBQ0o7QUFFTSxNQUFNLG9CQUFvQjtJQU03QixZQUFZLEdBQXFCO1FBTHhCLFNBQUksR0FBRyw2REFBZ0IsQ0FBQztRQUdqQyxhQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUFHbEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDbkIsQ0FBQztJQUVELFlBQVk7UUFDUixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQ3RDO1lBQ0ksSUFBSSxFQUFFLHdEQUFnQjtTQUNGLEVBQ3hCO1lBQ0ksSUFBSSxFQUFFLHFEQUFhO1lBQ25CLE1BQU0sRUFBRSxDQUFDLENBQUM7WUFDVixDQUFDLEVBQUUsTUFBTSxDQUFDLGlCQUFpQjtZQUMzQixDQUFDLEVBQUUsTUFBTSxDQUFDLGlCQUFpQjtTQUNULEVBQ3RCO1lBQ0ksSUFBSSxFQUFFLHlEQUFpQjtTQUNGLENBQzVCLENBQUM7SUFDTixDQUFDO0lBRUQsWUFBWTtRQUNSLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQUVPLE1BQU07UUFDVixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxxREFBYSxDQUFzQixDQUFDO1FBQzNGLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUFFLE9BQU87UUFDL0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUdELE9BQU87UUFDSCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSwrREFBeUIsQ0FBQyxDQUFDO0lBQ25GLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsY0FBYyxDQUFDLEtBQXdCO1FBQ25DLGtCQUFrQjtJQUN0QixDQUFDO0NBQ0o7QUFHRDs7R0FFRztBQUNILFNBQVMsU0FBUyxDQUFJLENBQVMsRUFBRSxHQUFRO0lBQ3JDLElBQUksQ0FBQyxHQUFHLENBQUM7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQztRQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMzQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQixDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsQ0FBUyxFQUFFLE1BQWMsRUFBRSxLQUFlO0lBQzFELE9BQU8sTUFBTSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUUsQ0FBQztBQUVELFNBQVMsa0JBQWtCLENBQUMsS0FBZSxFQUFFLENBQVMsRUFBRSxnQkFBd0IsQ0FBQztJQUM3RSxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hCLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDekYsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDekQsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNQLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNsQixPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMVkyQztBQVN0QjtBQUNnRztBQUNoRTtBQUNrQjtBQUNKO0FBRUc7QUFDaEM7QUFFZ0I7QUFDb0M7QUFFcEYsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDO0FBVXZCLE1BQU0sU0FBUztJQVNsQixZQUFZLEtBQVk7UUFSZixTQUFJLEdBQUcsUUFBUSxDQUFDO1FBQ2hCLGlCQUFZLEdBQUcsQ0FBQyx1REFBUyxFQUFFLG1EQUFZLEVBQUUsaUVBQWMsQ0FBQyxDQUFDO1FBS3pELFlBQU8sR0FBRyxJQUFJLHNEQUFnQixDQUFlLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFHeEUsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUVBQWMsQ0FBb0IsQ0FBQztRQUU5RSxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDaEIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdURBQVMsQ0FBZSxDQUFDO1lBQ3pELE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQ2xEO1FBRUQsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFTyxjQUFjLENBQUMsQ0FBWTtRQUMvQixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssUUFBUTtZQUFFLE9BQU87UUFDaEMsSUFBSSxHQUFHLEdBQUcsQ0FBaUIsQ0FBQztRQUM1QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLHFEQUFhLENBQXNCLENBQUM7UUFDaEYsSUFBSSxHQUFHLEtBQUssU0FBUztZQUFFLE9BQU87UUFFOUIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxtREFBWSxDQUFxQixDQUFDO1FBQ2xGLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtZQUN2QixPQUFPLEdBQUc7Z0JBQ04sSUFBSSxFQUFFLG1EQUFZO2dCQUNsQixNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUNWLFdBQVcsRUFBRSxJQUFJO2dCQUNqQixPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRTthQUNaLENBQUM7WUFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUM5QztRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxPQUF1QixDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVPLGlCQUFpQixDQUFDLElBQWUsRUFBRSxPQUFZO1FBQ25ELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7WUFDeEIsSUFBSSxHQUFHLEdBQUcsSUFBb0IsQ0FBQztZQUUvQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLG1EQUFZLENBQXFCLENBQUM7WUFDbkYsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLE9BQXVCLENBQUM7WUFDL0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUM7U0FDekM7SUFDTCxDQUFDO0lBRUQsYUFBYTtRQUNULE9BQU87WUFDSCxJQUFJLEVBQUUsd0RBQWlCO1lBQ3ZCLFFBQVEsRUFBRSxvRkFBc0I7WUFDaEMsS0FBSyxFQUFFLDREQUFxQjtZQUM1QixNQUFNLEVBQUUsS0FBSztZQUNiLFdBQVcsRUFBRSxJQUFJO1lBQ2pCLEtBQUssRUFBRSxRQUFRO1lBQ2YsUUFBUSxFQUFFLEVBQUU7U0FDQyxDQUFDO0lBQ3RCLENBQUM7SUFFTyxlQUFlLENBQUMsR0FBaUIsRUFBRSxPQUFxQjtRQUM1RCxPQUFPLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFFMUIsSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUN6QixJQUFJLE9BQU8sQ0FBQyxRQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxDQUFDLFlBQVksR0FBRyxDQUFDO3dCQUNwQixJQUFJLEVBQUUsdURBQWdCO3dCQUN0QixNQUFNLEVBQUUsS0FBSzt3QkFDYixXQUFXLEVBQUUsS0FBSzt3QkFDbEIsUUFBUSxFQUFFLENBQUM7d0JBQ1gsS0FBSyxFQUFFLDREQUFxQjt3QkFDNUIsTUFBTSxFQUFFLEVBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFDO3dCQUN4QixNQUFNLEVBQUUsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLGlFQUFZLEVBQUM7d0JBQ2hDLEtBQUssRUFBRSxDQUFDO3dCQUNSLElBQUksRUFBRSxHQUFHLENBQUMsS0FBSztxQkFDSCxDQUFDLENBQUM7YUFDckI7aUJBQU07Z0JBQ0YsT0FBTyxDQUFDLFFBQVMsQ0FBQyxDQUFDLENBQWlCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7YUFDMUQ7U0FDSjthQUFNO1lBQ0gsT0FBTyxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztTQUNqQztRQUVELElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsbURBQVksRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBRUQsTUFBTTtJQUNOLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUNKO0FBRU0sTUFBTSxtQkFBbUI7SUFPNUIsWUFBWSxHQUFjO1FBTmpCLFNBQUksR0FBRyw0REFBZSxDQUFDO1FBR2hDLDBDQUEwQztRQUMxQyxjQUFTLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUFHbkIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDbkIsQ0FBQztJQUVELFlBQVk7UUFDUixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUM7UUFFakQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QyxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUN0QixPQUFPLENBQUMsS0FBSyxHQUFHLG9FQUE2QixDQUFDO1FBRTlDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUN2QztZQUNJLElBQUksRUFBRSx3REFBZ0I7U0FDRixFQUN4QjtZQUNJLElBQUksRUFBRSxxREFBYTtZQUNuQixNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxpQkFBaUI7WUFDM0IsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxpQkFBaUI7U0FDVCxFQUN0QjtZQUNJLElBQUksRUFBRSxtREFBWTtZQUNsQixNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQ1YsV0FBVyxFQUFFLEtBQUs7WUFDbEIsT0FBTztTQUNVLEVBQ3JCO1lBQ0ksSUFBSSxFQUFFLHlEQUFpQjtTQUNGLENBQzVCLENBQUM7SUFDTixDQUFDO0lBRUQsY0FBYztRQUNWLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzdDLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsZUFBZTtRQUNYLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUM7WUFBRSxPQUFPO1FBRWxDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQzdCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsbURBQVksQ0FBcUIsQ0FBQztRQUNqRSxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxxREFBYSxDQUFzQixDQUFDO1FBQ3JFLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFeEIsSUFBSSxHQUFHLEdBQUc7WUFDTixJQUFJLEVBQUUsT0FBTztZQUNiLFFBQVEsRUFBRSxDQUFDO29CQUNQLEVBQUUsRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFO29CQUN0QixVQUFVLEVBQUU7d0JBQ1I7NEJBQ0ksSUFBSSxFQUFFLHFEQUFhOzRCQUNuQixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7NEJBQ1IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3lCQUNVO3dCQUN0Qjs0QkFDSSxJQUFJLEVBQUUsUUFBUTs0QkFDZCxLQUFLLEVBQUcsQ0FBQyxDQUFDLE9BQXdCLENBQUMsS0FBSzt5QkFDM0I7d0JBQ2pCOzRCQUNJLElBQUksRUFBRSxnRUFBaUI7NEJBQ3ZCLEtBQUssRUFBRSxpRUFBYyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO3lCQUNoQjtxQkFDNUI7aUJBQ0osQ0FBQztTQUNXLENBQUM7UUFFbEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsdURBQVMsRUFBRTtZQUNuQyxJQUFJLEVBQUUseURBQVk7U0FDckIsQ0FBQyxDQUFDO1FBQ0gsc0VBQW9CLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLDBDQUEwQztJQUM5QyxDQUFDO0lBR0QsT0FBTztRQUNILElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRUQsY0FBYyxDQUFDLEtBQXdCO1FBQ25DLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMzQixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcE8yQztBQUMrQztBQUNJO0FBQzdCO0FBQ3RCO0FBTU47QUFDb0U7QUFJckU7QUFDRTtBQUNlO0FBRS9DLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQztBQVFwQzs7O0dBR0c7QUFDSSxNQUFNLG1CQUFtQixHQUFHLGdCQUFnQixDQUFDO0FBMEI3QyxNQUFNLHVCQUF1QixHQUFHLG1CQUFtQixDQUFDO0FBR3BELE1BQU0sWUFBWTtJQWlCckIsWUFBWSxLQUFZOztRQWhCZixTQUFJLEdBQUcsV0FBVyxDQUFDO1FBQ25CLGlCQUFZLEdBQUcsQ0FBQyxnREFBUSxFQUFFLG1FQUFlLEVBQUUsOEVBQXFCLENBQUMsQ0FBQztRQU8zRSxZQUFPLEdBQUcsSUFBSSxzREFBZ0IsQ0FBa0IsV0FBVyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RSxtQkFBYyxHQUFHLElBQUksc0RBQWdCLENBQXlCLG1CQUFtQixFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUlqRyxpRkFBaUY7UUFDakYsdUJBQWtCLEdBQVksS0FBSyxDQUFDO1FBR2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBRW5CLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0RBQVUsQ0FBZ0IsQ0FBQztRQUNoRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUVBQWUsQ0FBcUIsQ0FBQztRQUUvRSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsVUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsa0RBQVMsQ0FBaUIsbUNBQUksNkRBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFFbEcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFckUsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEVBQXFCLENBQTBCLENBQUM7UUFDakYsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBRU8sNkJBQTZCLENBQUMsQ0FBeUI7UUFDM0QsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLHVCQUF1QixHQUFHLENBQUM7WUFDMUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxDQUFDLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2RixJQUFJLFVBQVUsS0FBSyxDQUFDLENBQUMsT0FBTyxFQUFFO1lBQzFCLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRTtnQkFDdkMsT0FBTyxFQUFFLFVBQVU7YUFDdEIsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0lBRU8sdUJBQXVCLENBQUMsTUFBZ0MsRUFBRSxLQUFlLEVBQUUsT0FBaUI7UUFDaEcsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BFLElBQUksYUFBYSxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRXhDLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFO1lBQ2pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtnQkFDdEIsYUFBYSxDQUFDLFlBQVksSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLElBQUksTUFBTSxDQUFDLFdBQVc7b0JBQUUsYUFBYSxDQUFDLHVCQUF1QixJQUFJLENBQUMsQ0FBQztnQkFDbkUsU0FBUTthQUNYO1lBQ0QsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLG9EQUFVLENBQW1CLENBQUM7WUFDckUsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO2dCQUNyQixhQUFhLENBQUMsV0FBVyxJQUFJLENBQUMsQ0FBQzthQUNsQztTQUNKO1FBRUQsS0FBSyxJQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7WUFDbkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO2dCQUN0QixhQUFhLENBQUMsWUFBWSxJQUFJLENBQUMsQ0FBQztnQkFDaEMsSUFBSSxNQUFNLENBQUMsV0FBVztvQkFBRSxhQUFhLENBQUMsdUJBQXVCLElBQUksQ0FBQyxDQUFDO2dCQUNuRSxTQUFRO2FBQ1g7WUFDRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsb0RBQVUsQ0FBbUIsQ0FBQztZQUNyRSxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7Z0JBQ3JCLGFBQWEsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDO2FBQ2xDO1NBQ0o7UUFFRCxJQUFJLENBQUMsNkJBQTZCLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVPLG1CQUFtQixDQUFDLE1BQXVCO1FBQy9DLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsbUVBQWUsQ0FBd0IsQ0FBQztRQUV6RixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFeEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFTLEVBQUUsRUFBRTtZQUNwQixJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RCxJQUFJLGFBQWEsS0FBSyxTQUFTO2dCQUFFLE9BQU87WUFDeEMsYUFBYSxDQUFDLHVCQUF1QixJQUFJLElBQUksQ0FBQztZQUM5QyxJQUFJLENBQUMsNkJBQTZCLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDO1FBQ0YsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsT0FBTztZQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLEdBQUcsQ0FBQyxZQUFZO1lBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsWUFBWTtnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVPLGlCQUFpQixDQUFDLEdBQW9CLEVBQUUsR0FBd0I7UUFDcEUsSUFBSSxJQUFJLEdBQUcsZ0VBQTJCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDaEQsd0VBQW1DLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsT0FBUSxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ2xDLHdFQUFtQyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM5RCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8sc0JBQXNCLENBQUMsTUFBYyxFQUFFLEdBQW9CLEVBQUUsR0FBd0IsRUFBRSxXQUFvQjtRQUMvRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSx3REFBZ0IsQ0FBQztZQUFFLE9BQU8seUJBQXdCO1FBQ3RGLElBQUksU0FBUyxHQUFHLGdFQUEyQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELHdFQUFtQyxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQVEsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNsQyx3RUFBbUMsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFckUsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLG9EQUFVLENBQXFDLENBQUM7UUFDM0YsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFFL0YsSUFBSSxVQUFVLEdBQUc7WUFDYixJQUFJLEVBQUUsU0FBUztZQUNmLEdBQUc7WUFDSCxHQUFHO1NBQ3VCLENBQUM7UUFHL0IsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUV6QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxJQUFJLENBQUM7UUFDVCxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFO1lBQzFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFekIsSUFBSSxHQUFHLFNBQVMsQ0FBQztZQUNqQixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFLLENBQUMsRUFBRTtnQkFDM0QsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDLEdBQUksQ0FBQztnQkFDMUIsSUFBSSxjQUFjLEdBQUcsWUFBWSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BFLElBQUksY0FBYyxLQUFLLFNBQVMsSUFBSSxZQUFZLENBQUMsS0FBSyxJQUFJLENBQUM7b0JBQUUsU0FBUztnQkFDdEUsSUFBSSxHQUFHLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFFLENBQUM7Z0JBRXhELElBQUksSUFBSSxLQUFLLFNBQVM7b0JBQUUsSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7O29CQUNwRCxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBRTdDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7Z0JBRXBELE1BQU0sQ0FBQyxJQUFJLENBQUM7b0JBQ1IsSUFBSTtvQkFDSixHQUFHO29CQUNILEdBQUcsRUFBRSxZQUFZO2lCQUNTLENBQUMsQ0FBQzthQUNuQztZQUNELElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDO2dCQUFFLE9BQU8sc0RBQXFEO1lBQ3JGLElBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUssRUFBRSxJQUFLLENBQUMsQ0FBQztTQUNyQzthQUFNO1lBQ0gsZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDaEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7U0FDbkI7UUFFRCxJQUFJLElBQUksR0FBRztZQUNQLElBQUk7WUFDSixNQUFNO1lBQ04sT0FBTztZQUNQLGVBQWU7U0FDTSxDQUFDO1FBRTFCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV0RCxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7UUFDckMsS0FBSyxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsTUFBTTtZQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU8scUJBQXFCLENBQUMsUUFBNkI7UUFDdkQsbUZBQW1GO1FBQ25GLG9HQUFvRztRQUNwRyxnREFBZ0Q7UUFFaEQsSUFBSSxJQUFJLENBQUMsa0JBQWtCO1lBQUUsT0FBTyxxQkFBb0I7UUFFeEQsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLG1FQUFlLENBQTBDLENBQUM7UUFDbkcsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFFL0YsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFFLENBQUM7UUFDekQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUUzRCxJQUFJLFNBQVMsR0FBRyxDQUFDO2dCQUNiLElBQUksRUFBRSxTQUFTO2dCQUNmLEdBQUcsRUFBRSxRQUFRO2dCQUNiLEdBQUcsRUFBRSxRQUFRO2FBQ2EsQ0FBQyxDQUFDO1FBRWhDLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQztRQUVyQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSyxDQUFDLEVBQUU7WUFDaEUsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDLEdBQUksQ0FBQztZQUMxQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDNUQsSUFBSSxNQUFNLEtBQUssU0FBUyxJQUFJLFlBQVksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxXQUFXO2dCQUFFLFNBQVM7WUFFcEYsSUFBSSxJQUFJLEtBQUssU0FBUztnQkFBRSxJQUFJLEdBQUcsWUFBWSxDQUFDLElBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7Z0JBQ3BELElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztZQUU1QyxJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUNsRCxJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUVsRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRTVDLE9BQU8sQ0FBQyxJQUFJLENBQUM7Z0JBQ1QsSUFBSTtnQkFDSixHQUFHO2dCQUNILEdBQUc7YUFDdUIsQ0FBQyxDQUFDO1NBQ25DO1FBRUQsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUM7WUFBRSxPQUFPO1FBRWpDLElBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUssRUFBRSxJQUFLLENBQUMsQ0FBQztRQUV2QyxJQUFJLElBQUksR0FBRztZQUNQLElBQUk7WUFDSixNQUFNLEVBQUUsU0FBUztZQUNqQixPQUFPO1lBQ1AsZUFBZSxFQUFFLEVBQUU7WUFDbkIsV0FBVyxFQUFFLEtBQUs7U0FDRyxDQUFDO1FBRTFCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7UUFDdkMsS0FBSyxJQUFJLE1BQU0sSUFBSSxPQUFPO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFTyx5QkFBeUI7UUFDN0IsaURBQWlEO1FBQ2pELDJFQUEyRTtRQUMzRSxpRUFBaUU7UUFDakUsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBRWpCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxtRUFBZSxDQUEwQyxDQUFDO1FBQ25HLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxxREFBYSxDQUF3QyxDQUFDO1FBRS9GLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQztRQUNyQixLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFDN0MsSUFBSSxNQUFNLENBQUMsV0FBVztnQkFBRSxTQUFTO1lBRWpDLElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBRSxDQUFDO1lBQ2xELElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFDO1lBQy9DLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFFNUMsSUFBSSxJQUFJLEtBQUssU0FBUztnQkFBRSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7Z0JBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztZQUVuQyxJQUFJLElBQUksR0FBRyxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUE4QixDQUFDO1lBQ3pELE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEI7UUFFRCxJQUFJLElBQUksS0FBSyxTQUFTO1lBQUUsT0FBTyxzQkFBcUI7UUFFcEQsSUFBSSxJQUFJLEdBQUc7WUFDUCxJQUFJO1lBQ0osTUFBTSxFQUFFLEVBQUU7WUFDVixPQUFPLEVBQUUsRUFBRTtZQUNYLGVBQWUsRUFBRSxPQUFPO1lBQ3hCLFdBQVcsRUFBRSxLQUFLO1NBQ0csQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFdEQsS0FBSyxJQUFJLENBQUMsSUFBSSxPQUFPO1lBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCxvQkFBb0IsQ0FBQyxJQUFVLEVBQUUsRUFBd0M7UUFDckUsSUFBSSxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNqQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFFaEIsSUFBSSxZQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDNUMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLG9EQUFVLENBQXFDLENBQUM7UUFDM0YsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFFL0YsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN0RCxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBSSxDQUFDO1lBRWpCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNuRCxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7Z0JBQ3RCLElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFDO2dCQUMvQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUU1QyxJQUFJLElBQUksR0FBRyxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUE4QixDQUFDO2dCQUN6RCxJQUFJLE1BQU0sQ0FBQyxXQUFXLElBQUksQ0FBQyxZQUFZO29CQUFFLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7O29CQUMvRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUV4QixTQUFTO2FBQ1o7WUFDRCxJQUFJLFlBQVksRUFBRTtnQkFDZCxJQUFJLEtBQUssR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDbEQsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO29CQUNyQixJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUUsQ0FBQztvQkFDL0MsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDNUMsSUFBSSxJQUFJLEdBQUcsRUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBOEIsQ0FBQztvQkFDekQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDckI7YUFDSjtTQUNKO1FBRUQsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDO1FBQzFCLElBQUksVUFBVSxHQUFHLE1BQU0sQ0FBQztRQUV4QixJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQzVDLFdBQVcsR0FBRyxFQUFFLENBQUM7WUFDakIsVUFBVSxHQUFHLEVBQUUsQ0FBQztTQUNuQjtRQUVELElBQUksSUFBSSxHQUFHO1lBQ1AsSUFBSTtZQUNKLE1BQU0sRUFBRSxVQUFVO1lBQ2xCLE9BQU8sRUFBRSxXQUFXO1lBQ3BCLGVBQWU7U0FDTSxDQUFDO1FBQzFCLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVULEtBQUssSUFBSSxDQUFDLElBQUksTUFBTTtZQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUMsQ0FBQztRQUNsRCxLQUFLLElBQUksQ0FBQyxJQUFJLE9BQU87WUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtREFBVyxDQUFDLENBQUM7UUFDbkQsS0FBSyxJQUFJLENBQUMsSUFBSSxlQUFlO1lBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsbURBQVcsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFHTyxjQUFjLENBQUMsSUFBZTtRQUNsQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFO1lBQzNCLElBQUksTUFBTSxHQUFHLElBQXVCLENBQUM7WUFDckMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZELElBQUksRUFBRSxLQUFLLFNBQVMsRUFBRTtnQkFDbEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxpREFBaUQsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQy9FLE9BQU87YUFDVjtZQUNELEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLGtDQUFpQztZQUM5RCxJQUFJLENBQUMsNkJBQTZCLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFdkMsMEVBQTBFO1lBQzFFLElBQUksR0FBRyxHQUFHO2dCQUNOLElBQUksRUFBRSxtRUFBZTtnQkFDckIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO2dCQUNuQixVQUFVLEVBQUUsSUFBSTthQUNJLENBQUM7WUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM3QzthQUFNLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxtQkFBbUIsRUFBRTtZQUMxQyxJQUFJLENBQUMsR0FBRyxJQUE4QixDQUFDO1lBQ3ZDLENBQUMsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLENBQUMsQ0FBQyx1QkFBdUIsR0FBRyxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSx3RkFBMkIsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDckY7SUFDTCxDQUFDO0lBR08saUJBQWlCLENBQUMsSUFBZSxFQUFFLE9BQVk7UUFDbkQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFdBQVcsRUFBRTtZQUMzQixJQUFJLENBQUMsR0FBRyxJQUF1QjtZQUUvQixJQUFJLGFBQWEsSUFBSSxPQUFPLEVBQUU7Z0JBQzFCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMvQjtZQUVELElBQUksT0FBTyxJQUFJLE9BQU8sRUFBRTtnQkFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxtRUFBZSxFQUFFO29CQUNoRCxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUs7aUJBQ2pCLENBQUMsQ0FBQzthQUNOO2lCQUFNO2dCQUNILElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsbUVBQWUsQ0FBd0IsQ0FBQztnQkFDcEYsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTtvQkFDM0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO29CQUNuRixJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQztpQkFDckU7YUFDSjtTQUNKO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLG1FQUFlLEVBQUU7WUFDdEMsSUFBSSxHQUFHLEdBQUcsSUFBMkIsQ0FBQztZQUN0QyxJQUFJLENBQUMsQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDO2dCQUFFLE9BQU87WUFDcEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ25ELElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtnQkFDdEIsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTtvQkFDM0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO29CQUNuRixJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztpQkFDMUU7Z0JBQ0QsT0FBTzthQUNWO1lBQ0QsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxvREFBVSxDQUFDLENBQUM7WUFDNUQsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO2dCQUNyQixJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDbkM7U0FDSjtJQUNMLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxJQUFlO1FBQ3JDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7WUFDM0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxtRUFBZSxDQUFDLENBQUM7WUFDaEUsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO2dCQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNuQztpQkFBTTtnQkFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLHVDQUF1QyxDQUFDLENBQUM7YUFDekQ7WUFDRCxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdkQsSUFBSSxFQUFFLEtBQUssU0FBUztnQkFBRSxPQUFPO1lBQzdCLEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLDBCQUF5QjtZQUN0RCxJQUFJLENBQUMsNkJBQTZCLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDMUM7SUFDTCxDQUFDO0lBRU8sZ0JBQWdCLENBQUMsR0FBYSxFQUFFLE9BQVk7UUFDaEQsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLDZEQUFtQixJQUFJLFlBQVksSUFBSSxPQUFPLEVBQUU7WUFDN0QsSUFBSSxLQUFLLEdBQUcsR0FBb0IsQ0FBQztZQUNqQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQzVDLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzVDO1lBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO2FBQ3BDO1NBQ0o7YUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssa0RBQVMsSUFBSSxNQUFNLElBQUksT0FBTyxFQUFFO1lBQ3BELElBQUksSUFBSSxHQUFHLEdBQW1CLENBQUM7WUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQzdCO0lBQ0wsQ0FBQztJQUVELG1CQUFtQjtJQUNuQixvQkFBb0IsQ0FBQyxNQUFjLEVBQUUsU0FBa0IsS0FBSztRQUN4RCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDakIsQ0FBQyxHQUFHO2dCQUNBLElBQUksRUFBRSxtQkFBbUI7Z0JBQ3pCLE1BQU07Z0JBQ04sT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsTUFBTTtnQkFDTixTQUFTLEVBQUUsQ0FBQztnQkFDWixXQUFXLEVBQUUsQ0FBQztnQkFDZCxZQUFZLEVBQUUsQ0FBQztnQkFDZix1QkFBdUIsRUFBRSxDQUFDO2FBQ0gsQ0FBQztZQUM1QixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbkMsT0FBTyxDQUFDLENBQUM7U0FDWjthQUFNO1lBQ0gsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsdUJBQXVCLENBQUMsTUFBYztRQUNsQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsS0FBSyxTQUFTO1lBQUUsT0FBTztRQUM1QixDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDZCxJQUFJLENBQUMsQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ25CLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2pDO0lBQ0wsQ0FBQztJQUdELE1BQU07UUFDRiwyREFBc0IsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUdKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyZ0I2QjtBQUcwQztBQUM1QjtBQVd0QjtBQUN5RjtBQVV2RjtBQUM0QztBQUVMO0FBQ1E7QUFDaEM7QUFFZ0I7QUFDZ0I7QUFDSTtBQUdwRSxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFhekIsTUFBTSxrQkFBa0IsR0FBRyxlQUFlLENBQUM7QUFPM0MsTUFBTSxVQUFVO0lBZ0JuQixZQUFZLEtBQVk7UUFmZixTQUFJLEdBQUcsU0FBUyxDQUFDO1FBQ2pCLGlCQUFZLEdBQUcsQ0FBQyxtREFBWSxFQUFFLHFFQUFnQixFQUFFLGlFQUFjLEVBQUUsMERBQVUsQ0FBQyxDQUFDO1FBTzVFLFlBQU8sR0FBRyxJQUFJLHNEQUFnQixDQUFnQixTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JFLG9CQUFlLEdBQUcsSUFBSSxzREFBZ0IsQ0FBZSxrQkFBa0IsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFHOUYsb0JBQWUsR0FBVyxhQUFhLENBQUM7UUFJcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ2hCLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLHVEQUFTLENBQWUsQ0FBQztZQUMzRCxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNoRCxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksMEJBQTBCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUN6RDtRQUVELElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUVBQWdCLENBQXNCLENBQUM7UUFDL0UsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpRUFBYyxDQUFvQixDQUFDO1FBQ3pFLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMERBQVUsQ0FBZ0IsQ0FBQztRQUU3RCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxFQUFvQixDQUFDO1FBRTdDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUVyQixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN2QyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxRQUFrQjtRQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxhQUFhO1FBQ1QsTUFBTSxLQUFLLEdBQUcsb0ZBQWtELENBQUM7UUFDakUsTUFBTSxLQUFLLEdBQUc7WUFDVjtnQkFDSSxFQUFFLEVBQUUsV0FBVztnQkFDZixJQUFJLEVBQUUsV0FBVztnQkFDakIsT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDO2FBQy9CO1lBQ2I7Z0JBQ0ksRUFBRSxFQUFFLGFBQWE7Z0JBQ2pCLElBQUksRUFBRSxhQUFhO2dCQUNuQixPQUFPLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQzthQUNqQztTQUNoQixDQUFDO1FBQ0YsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFTyxXQUFXLENBQUMsQ0FBZ0I7UUFDaEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNDLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztZQUNyRCxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBRWpELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtnQkFDckIsTUFBTSwrQkFBK0IsQ0FBQzthQUN6QztTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVPLGNBQWMsQ0FBQyxDQUFZO1FBQy9CLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxNQUFNO1lBQUUsT0FBTztRQUM5QixJQUFJLElBQUksR0FBRyxDQUFrQixDQUFDO1FBQzlCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtZQUM5QixJQUFJLEVBQUUsbURBQVk7WUFDbEIsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUNWLFdBQVcsRUFBRSxJQUFJO1lBQ2pCLE9BQU8sRUFBRTtnQkFDTCxJQUFJLEVBQUUsd0RBQWlCO2dCQUN2QixNQUFNLEVBQUUsS0FBSztnQkFDYixRQUFRLEVBQUUsb0ZBQXNCO2dCQUNoQyxLQUFLLEVBQUUsMERBQW1CO2dCQUMxQixLQUFLLEVBQUUsOERBQXVCO2dCQUM5QixPQUFPLEVBQUUsUUFBUSxDQUFDLE9BQU87Z0JBQ3pCLGFBQWEsRUFBRSxJQUFJO2dCQUNuQixNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUU7Z0JBQzFCLElBQUksRUFBRSxRQUFRO2FBQ0Q7U0FDQSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVPLGlCQUFpQixDQUFDLENBQVksRUFBRSxPQUFZO1FBQ2hELElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDdEIsSUFBSSxJQUFJLEdBQUcsQ0FBa0IsQ0FBQztZQUU5QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLElBQUksT0FBTyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsbURBQVksQ0FBc0IsQ0FBQyxPQUF1QixDQUFDO1lBQzVHLE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztZQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLG1EQUFZLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDbkY7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBWTtRQUNsQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQ25CLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyRCxJQUFJLEVBQUUsS0FBSyxTQUFTO2dCQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQUVPLFNBQVMsQ0FBQyxNQUFjO1FBQzVCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pELElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxRQUFRLEtBQUssU0FBUztZQUFFLE9BQU87UUFDekQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hELElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtZQUN0QixPQUFPLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDckMsT0FBTztTQUNWO1FBRUQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLHFEQUFhLENBQXdDLENBQUM7UUFDOUYsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUUsQ0FBQztRQUM5QyxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUUsQ0FBQztRQUN6RCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDaEMsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBRWhDLElBQUksS0FBSyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxxRUFBZ0IsQ0FBMEIsQ0FBQyxLQUFLLENBQUM7UUFDOUYsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBbUMsQ0FBQztRQUVsRixJQUFJLFVBQVUsR0FBRyxrRUFBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDN0MsT0FBTyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTO2dCQUNsRCxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxJQUFJLFVBQVUsQ0FBQztRQUNwRSxDQUFDLENBQUMsQ0FBQztRQUdILElBQUksSUFBSSxHQUFHLEVBQWdCLENBQUM7UUFDNUIsS0FBSyxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUU7WUFDakIsSUFBSSxHQUFHLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFFLENBQUM7WUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDTixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07Z0JBQ2hCLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSTtnQkFDZCxPQUFPLEVBQUU7b0JBQ0wsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSztvQkFDaEIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSztpQkFDbkI7YUFDSixDQUFDLENBQUM7U0FDTjtRQUNELElBQUksR0FBRyxHQUFHLDZFQUFvQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCx1RUFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxNQUFNO0lBQ04sQ0FBQztJQUVELE9BQU87SUFDUCxDQUFDO0NBQ0o7QUFHTSxNQUFNLG9CQUFvQjtJQVE3QixZQUFZLEdBQWU7UUFQbEIsU0FBSSxHQUFHLDZEQUFnQixDQUFDO1FBR2pDLG1DQUFtQztRQUNuQyxlQUFVLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUFJcEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDbkIsQ0FBQztJQUVELFlBQVk7UUFDUixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQztRQUMvQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzNELElBQUksUUFBUSxLQUFLLFNBQVM7WUFBRSxNQUFNLHFCQUFxQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFFOUUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQ3hDO1lBQ0ksSUFBSSxFQUFFLHdEQUFnQjtTQUNGLEVBQ3hCO1lBQ0ksSUFBSSxFQUFFLHFEQUFhO1lBQ25CLENBQUMsRUFBRSxNQUFNLENBQUMsaUJBQWlCO1lBQzNCLENBQUMsRUFBRSxNQUFNLENBQUMsaUJBQWlCO1NBQ1QsRUFDdEI7WUFDSSxJQUFJLEVBQUUsc0RBQWM7WUFDcEIsUUFBUSxFQUFFLENBQUM7WUFDWCxLQUFLLEVBQUUsQ0FBQztTQUNXLEVBQ3ZCO1lBQ0ksSUFBSSxFQUFFLG1EQUFZO1lBQ2xCLE1BQU0sRUFBRSxDQUFDLENBQUM7WUFDVixXQUFXLEVBQUUsS0FBSztZQUNsQixPQUFPLEVBQUU7Z0JBQ0wsSUFBSSxFQUFFLHdEQUFpQjtnQkFDdkIsTUFBTSxFQUFFLEtBQUs7Z0JBQ2IsUUFBUSxFQUFFLG9GQUFzQjtnQkFDaEMsS0FBSyxFQUFFLDBEQUFtQjtnQkFDMUIsS0FBSyxFQUFFLG9FQUE2QjtnQkFDcEMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPO2dCQUN6QixhQUFhLEVBQUUsSUFBSTtnQkFDbkIsTUFBTSxFQUFFLEVBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFDO2dCQUN4QixJQUFJLEVBQUUsUUFBUTthQUNEO1NBQ0EsRUFDckI7WUFDSSxJQUFJLEVBQUUseURBQWlCO1NBQ0YsQ0FDNUIsQ0FBQztJQUNOLENBQUM7SUFFRCxjQUFjO1FBQ1YsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFFRCxlQUFlO1FBQ1gsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRTFDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDM0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDN0IsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUscURBQWEsQ0FBc0IsQ0FBQztRQUNyRSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxzREFBYyxDQUF1QixDQUFDO1FBQ3hFLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVyQixJQUFJLFlBQVksR0FBRztZQUNmLEVBQUUsRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3RCLFVBQVUsRUFBRTtnQkFDUjtvQkFDSSxJQUFJLEVBQUUscURBQWE7b0JBQ25CLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDUixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQ1U7Z0JBQ3RCO29CQUNJLElBQUksRUFBRSxzREFBYztvQkFDcEIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO29CQUNqQixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7aUJBQ0o7Z0JBQ3ZCO29CQUNJLElBQUksRUFBRSxTQUFTO29CQUNmLFFBQVEsRUFBRSxJQUFJLENBQUMsY0FBYztpQkFDZjthQUNyQjtTQUNZLENBQUM7UUFDbEIsSUFBSSxHQUFHLEdBQUc7WUFDTixJQUFJLEVBQUUsT0FBTztZQUNiLFFBQVEsRUFBRSxDQUFDLFlBQVksQ0FBQztTQUNYLENBQUM7UUFFbEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLHVEQUFTLEVBQUU7WUFDbkMsSUFBSSxFQUFFLHlEQUFZO1NBQ3JCLENBQUMsQ0FBQztRQUNILHVFQUFvQixDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBR0QsT0FBTztRQUNILElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRUQsY0FBYyxDQUFDLEtBQXdCO1FBQ25DLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMzQixDQUFDO0NBQ0o7QUFFTSxNQUFNLDBCQUEwQjtJQU1uQyxZQUFZLEdBQWU7UUFMbEIsU0FBSSxHQUFHLG9FQUF1QixDQUFDO1FBR3hDLGtCQUFhLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUFHdkIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDbkIsQ0FBQztJQUVELFVBQVU7UUFDTixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRixDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25GLENBQUM7SUFFTyxrQkFBa0IsQ0FBQyxNQUFjO1FBQ3JDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2RCxJQUFJLEVBQUUsS0FBSyxTQUFTLEVBQUU7WUFDbEIsT0FBTyxDQUFDLElBQUksQ0FBQyx1REFBdUQsQ0FBQyxDQUFDO1lBQ3RFLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDO1FBRTVCLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyx1REFBUyxFQUFFO1lBQ25DLElBQUksRUFBRSxvRUFBdUI7U0FDaEMsQ0FBQztJQUNOLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBYztRQUNqQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDckQsT0FBTyxDQUFDLElBQUksQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1lBQ2hFLE9BQU87U0FDVjtRQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDckUsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxJQUFJLENBQUMsK0JBQStCLENBQUMsQ0FBQztZQUM5QyxPQUFPO1NBQ1Y7UUFDRCwrQ0FBK0M7UUFDL0MsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNOLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNuQixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7WUFDZixPQUFPLEVBQUU7Z0JBQ0wsVUFBVSxFQUFFLE1BQU0sS0FBSyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTTthQUMxRDtTQUNKLENBQUMsQ0FBQztRQUNILHVFQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLDZFQUFvQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELFVBQVU7UUFDTixJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxPQUFPO1FBQ0gsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztJQUM3QyxDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3hDLENBQUM7SUFFRCxjQUFjLENBQUMsS0FBd0I7UUFDbkMsSUFBSSxLQUFLLEdBQUcsNkVBQStCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFbkUsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLHFFQUFnQixDQUFzQixDQUFDO1FBQzFGLElBQUksS0FBSyxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxtRUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3ZELE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEtBQUssU0FBUyxDQUFDO1FBQ3ZFLENBQUMsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLEVBQUU7WUFDckIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLHVEQUFTLEVBQUU7Z0JBQ25DLElBQUksRUFBRSx5REFBWTthQUNyQixDQUFDO1lBQ0YsT0FBTztTQUNWO0lBQ0wsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeGE2QjtBQUdjO0FBQzRCO0FBQzVCO0FBQzZCO0FBQ2hCO0FBQ2hCO0FBQ0E7QUFDOEQ7QUFDTztBQUMzQjtBQUNxQjtBQUNwQztBQU9wQztBQUMrQjtBQUNRO0FBQ2hDO0FBQ2dCO0FBRU47QUFHMUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDO0FBUWhDLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQztBQUUxQixNQUFNLFVBQVU7SUFZbkIsWUFBWSxLQUFZO1FBWGYsU0FBSSxHQUFHLFNBQVMsQ0FBQztRQUNqQixpQkFBWSxHQUFHLENBQUMscUVBQWdCLEVBQUUsb0RBQVksRUFBRSx3REFBUyxFQUFFLGtFQUFjLENBQUMsQ0FBQztRQU0zRSxZQUFPLEdBQUcsSUFBSSxzREFBZ0IsQ0FBZ0IsU0FBUyxDQUFDLENBQUM7UUFFbEUsa0JBQWEsR0FBWSxLQUFLLENBQUM7UUFHM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsZ0NBQWdDO1FBQ2hDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDckIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0RBQVMsQ0FBZSxDQUFDO1lBQ3pELE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQ25EO1FBRUQsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxRUFBZ0IsQ0FBc0IsQ0FBQztRQUMvRSxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtFQUFjLENBQW9CLENBQUM7UUFFekUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFTyxjQUFjLENBQUMsU0FBb0I7UUFDdkMsSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBQ3pDLElBQUksSUFBSSxHQUFHLFNBQTBCLENBQUM7UUFDdEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxxREFBYSxDQUFzQixDQUFDO1FBQ25GLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLDJFQUEyRSxDQUFDLENBQUM7WUFDMUYsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFFcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRTtZQUN0QyxJQUFJLEVBQUUsb0RBQVk7WUFDbEIsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUNWLE9BQU8sRUFBRTtnQkFDTCxJQUFJLEVBQUUsd0RBQWdCO2dCQUN0QixNQUFNLEVBQUUsS0FBSztnQkFDYixLQUFLLEVBQUUsK0RBQXVCO2dCQUM5QixRQUFRLEVBQUUsb0ZBQXNCO2dCQUNoQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRTthQUMzQjtZQUNoQixXQUFXLEVBQUUsSUFBSTtZQUNqQixNQUFNLEVBQUUsSUFBSTtTQUNLLENBQUMsQ0FBQztRQUV2QixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFO1lBQ3RDLElBQUksRUFBRSw0RUFBdUI7WUFDN0IsTUFBTSxFQUFFLENBQUMsQ0FBQztTQUNRLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQscUJBQXFCLENBQUMsS0FBc0I7UUFDeEMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7WUFDcEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSw0RUFBdUIsQ0FBQyxDQUFDO1lBQzdFLElBQUksUUFBUSxLQUFLLFNBQVM7Z0JBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDcEU7UUFFRCw0Q0FBNEM7UUFDNUMsOERBQThEO1FBRTlELElBQUksVUFBVSxHQUFHLElBQUksR0FBRyxFQUEyQixDQUFDO1FBQ3BELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxxREFBYSxDQUF3QyxDQUFDO1FBRS9GLElBQUksYUFBYSxHQUFHLENBQUMsS0FBYSxFQUFFLElBQW1CLEVBQUUsRUFBRTtZQUN2RCxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pDLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDcEIsSUFBSSxHQUFHLEVBQUUsQ0FBQztnQkFDVixVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQzthQUMvQjtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBRUYsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7WUFDcEIsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUM7Z0JBQUUsU0FBUztZQUNwQyxJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUVoRCxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFN0QsSUFBSSxRQUFRLEdBQUcsQ0FBQyxLQUFhLEVBQVcsRUFBRTtnQkFDdEMsSUFBSSxjQUFjLEdBQUcsU0FBUyxDQUFDO2dCQUUvQixJQUFJLEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUVsQyxJQUFJLEtBQUssS0FBSyxTQUFTO29CQUFFLE9BQU8sS0FBSyxDQUFDO2dCQUV0QyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO2dCQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUMzQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLElBQUksa0VBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ3JFLGNBQWMsR0FBRyxDQUFDLENBQUM7d0JBQ25CLE1BQU07cUJBQ1Q7aUJBQ0o7Z0JBRUQsSUFBSSxjQUFjLEtBQUssU0FBUztvQkFBRSxPQUFPLEtBQUssQ0FBQztnQkFFL0MsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUUsQ0FBQztnQkFDbEQsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNkLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFckIsSUFBSSxFQUFFLEtBQUssS0FBSyxFQUFFO29CQUNkLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQ1IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDUixFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ1QsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDO2lCQUNaO2dCQUVELElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQzlCLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO29CQUNiLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO29CQUNiLFVBQVUsR0FBRyxJQUFJLENBQUM7aUJBQ3JCO3FCQUFNO29CQUNILEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDNUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUMvQjtnQkFFRCxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDaEMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sSUFBSSxVQUFVLEVBQUU7b0JBQ1osQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7aUJBQzdCO3FCQUFNO29CQUNILENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUMvRDtnQkFDRCxhQUFhLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRXZCLE9BQU8sSUFBSSxDQUFDO1lBQ2hCLENBQUMsQ0FBQztZQUVGLElBQUksUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUM7Z0JBQUUsU0FBUztZQUUzQyxhQUFhLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3hCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBRUQsc0JBQXNCLENBQUMsS0FBc0I7UUFDekMsNENBQTRDO1FBQzVDLGtGQUFrRjtRQUVsRixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMscURBQWEsQ0FBd0MsQ0FBQztRQUUvRixLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtZQUNwQixJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUNoRCxJQUFJLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUVqQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLHFFQUFnQixFQUFFO2dCQUNuRCxLQUFLLEVBQUUsa0VBQVMsQ0FBQyxJQUFJLGdEQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDekUsQ0FBQyxDQUFDO1lBRUgsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDbkIsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ25DO1lBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUV0QixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3pCLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNkLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUNsQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzlCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQ3hCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQzNCO2dCQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNyQixRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3pCO1lBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckMsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDakIsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BDLHNEQUFzRDthQUN6RDtTQUNKO1FBQ0QsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7WUFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDakMsSUFBSSxFQUFFLG9CQUFvQjtnQkFDMUIsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNRLENBQUMsQ0FBQztTQUMzQjtJQUNMLENBQUM7SUFHTyxpQkFBaUIsQ0FBQyxJQUFlLEVBQUUsT0FBWTtRQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUsscURBQWE7WUFBRSxPQUFPO1FBRW5FLElBQUksSUFBSSxFQUFFLFFBQVEsQ0FBQztRQUNuQixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3pCLElBQUksR0FBRyxJQUFxQixDQUFDO1lBQzdCLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLHFEQUFhLENBQXNCLENBQUM7U0FDdkY7YUFBTTtZQUNILElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUMsUUFBUSxHQUFHLElBQXlCLENBQUM7U0FDeEM7UUFFRCxJQUFJLElBQUksS0FBSyxTQUFTLElBQUksUUFBUSxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRXpELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUN2QztRQUVELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLElBQUksS0FBSyxJQUFJLE9BQU8sRUFBRTtZQUM3QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQUVPLFVBQVUsQ0FBQyxJQUFtQjtRQUNsQyxJQUFJLE9BQU8sR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLG9EQUFZLENBQXNCLENBQUMsT0FBc0IsQ0FBQztRQUM5RyxPQUFPLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNqRCxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLG9EQUFZLEVBQUUsRUFBQyxPQUFPLEVBQUMsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDckYsQ0FBQztJQUVELGtCQUFrQixDQUFDLEtBQWlCLEVBQUUsTUFBYztRQUNoRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxrRUFBUyxDQUFDLElBQUksZ0RBQUksQ0FDckQsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLEVBQ2xDLEtBQUssQ0FBQyxDQUFDLEdBQUcsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUNyQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDSixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLFNBQVMsR0FBRyxJQUFJLGdEQUFVLEVBQUUsQ0FBQztRQUNqQyxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUM7UUFFeEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxnREFBVSxFQUFFLENBQUM7UUFDaEMsS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7WUFDckIsSUFBSSxJQUFJLEdBQUksSUFBSSxDQUFDLEtBQW1CLENBQUMsSUFBSSxDQUFDO1lBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBRTtnQkFDckMsU0FBUzthQUNaO1lBQ0QsSUFBSSxJQUFJLEdBQUcsNkRBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFbkUsSUFBSSxJQUFJLEdBQUcsUUFBUSxJQUFJLElBQUksR0FBRyxNQUFNLEVBQUU7Z0JBQ2xDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzdCLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDbkI7U0FDSjtRQUVELElBQUksUUFBUSxLQUFLLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRTtZQUN2QyxPQUFPLFNBQVMsQ0FBQztTQUNwQjthQUFNO1lBQ0gsT0FBTyxTQUFTLENBQUM7U0FDcEI7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsU0FBb0I7UUFDMUMsSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRXpDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsNEVBQXVCLENBQUMsQ0FBQztRQUNsRixJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDeEM7SUFDTCxDQUFDO0lBRU8sZUFBZTtRQUNuQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLEtBQUssR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBb0IsQ0FBQztRQUNuRixJQUFJLENBQUMscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVPLGFBQWE7UUFDakIsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDM0IsSUFBSSxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLENBQW9CLENBQUM7UUFDbkYsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFTSxrQkFBa0IsQ0FBQyxJQUFZLEVBQUUsSUFBWSxFQUFFLElBQVksRUFBRSxJQUFZO1FBQzVFLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNuRCxJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBVSxDQUFDO1FBQzlCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNoRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxLQUFlLEVBQUUsS0FBYSxFQUFFLEdBQVksRUFBRSxPQUFrQjtRQUM3RSxJQUFJLElBQUksR0FBRyxJQUFJLGdEQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxNQUFNLENBQUMsaUJBQWlCLEVBQUUsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFFNUgsR0FBRyxHQUFHLEdBQUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUU3QyxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqRDtRQUVELElBQUksT0FBTyxHQUFHLElBQUksZ0RBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuQyxJQUFJLFFBQVEsR0FBRyxJQUFJLGdEQUFVLEVBQUUsQ0FBQztRQUNoQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxrRUFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3ZELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFNBQVMsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQztRQUVILEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3BCLDJDQUEyQztZQUMzQyxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNyQyxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLE9BQU8sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDN0IsT0FBTyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZCLE9BQU8sQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxJQUFJLEdBQUksSUFBSSxDQUFDLEtBQW1CLENBQUMsSUFBSSxDQUFDO2dCQUMxQyxJQUFJLEdBQUcsR0FBRyw4RUFBeUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUM3RCw4RUFBOEU7Z0JBQzlFLElBQUksR0FBRyxLQUFLLDJFQUEwQjtvQkFBRSxTQUFTO2dCQUNqRCw2Q0FBNkM7Z0JBQzdDLDhEQUE4RDtnQkFDOUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMzQyxDQUFDLElBQUksQ0FBQyxDQUFDLG1CQUFrQjtnQkFDekIsR0FBRyxJQUFJLENBQUMsQ0FBQztnQkFDVCxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUM5QjtTQUNKO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsVUFBVSxDQUFDLElBQVksRUFBRSxJQUFZLEVBQUUsSUFBWSxFQUFFLElBQVk7UUFDN0QsSUFBSSxVQUFVLEdBQUc7WUFDYjtnQkFDSSxNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUNWLENBQUMsRUFBRSxJQUFJO2dCQUNQLENBQUMsRUFBRSxJQUFJO2dCQUNQLElBQUksRUFBRSxxREFBYTthQUNEO1lBQ3RCO2dCQUNJLElBQUksRUFBRSxTQUFTO2dCQUNmLEdBQUcsRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQzthQUNqQjtTQUNyQixDQUFDO1FBQ0YsT0FBTztZQUNILEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRTtZQUMzQixVQUFVO1NBQ2IsQ0FBQztJQUNOLENBQUM7SUFFRCxNQUFNO0lBQ04sQ0FBQztJQUVELE9BQU87SUFDUCxDQUFDO0NBQ0o7QUFFTSxNQUFNLG9CQUFvQjtJQWM3QixZQUFZLEdBQWU7UUFibEIsU0FBSSxHQUFHLDhEQUFnQixDQUFDO1FBS2pDLGtDQUFrQztRQUNsQyxlQUFVLEdBQWEsRUFBRSxDQUFDO1FBSTFCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsaUJBQVksR0FBZSxJQUFJLGdEQUFVLEVBQUUsQ0FBQztRQUd4QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLG1EQUFhLEVBQUUsQ0FBQztRQUNqRCxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtRUFBZSxDQUFvQixDQUFDO1FBQzlFLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFZLEVBQUUsRUFBRTtZQUNsRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxNQUFNLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNsQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBWSxFQUFFLEVBQUU7WUFDckQsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssTUFBTSxJQUFJLDZEQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ2xGLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO2FBQ2xDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsWUFBWTtRQUNSLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsV0FBVztRQUNQLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQztRQUVoQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUM7WUFBRSxPQUFPO1FBRXpDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyx3REFBUyxFQUFFO1lBQ25DLElBQUksRUFBRSwwREFBWTtTQUNyQixDQUFDO0lBQ04sQ0FBQztJQUVELHNCQUFzQixDQUFDLEdBQWU7UUFDbEMsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDO1FBQ25DLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUVWLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxTQUFTLEVBQUU7WUFDbkMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RCxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxlQUFlLENBQUMsQ0FBQztZQUNoQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFCO1FBQ0QsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNmLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLEtBQUssU0FBUyxFQUFFO1lBQ25FLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdEIsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDcEU7UUFDRCxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBaUI7UUFDdkIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUU3QixJQUFJLEVBQUUsS0FBSyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO2FBQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM3QyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDdEI7YUFBTTtZQUNILElBQUksTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBRXpCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQzVCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQy9CLENBQUM7Z0JBQ0YsSUFBSSxHQUFHLEdBQUc7b0JBQ04sSUFBSSxFQUFFLE9BQU87b0JBQ2IsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDO2lCQUNMLENBQUM7Z0JBQ2xCLHVFQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQzdDO1lBQ0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO0lBQ0wsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFpQjtRQUN4QixJQUFJLElBQUksQ0FBQyxjQUFjLEtBQUssU0FBUztZQUFFLE9BQU87UUFDOUMsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFFMUIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7U0FDbkM7YUFBTTtZQUNILElBQUksR0FBRyxHQUFHO2dCQUNOLElBQUksRUFBRSxTQUFTO2dCQUNmLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUM7YUFDbEIsQ0FBQztZQUNwQix1RUFBb0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM3QztRQUNELElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRCx1QkFBdUI7UUFDbkIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7U0FDbkM7YUFBTTtZQUNILElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxxREFBYSxDQUF1QixDQUFDO1lBQ25GLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUUsQ0FBQztZQUU5QyxJQUFJLENBQUMsY0FBYyxHQUFHO2dCQUNsQixPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzFCLENBQUM7U0FDTDtRQUVELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVELE9BQU87UUFDSCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELGFBQWEsQ0FBQyxLQUF1QjtRQUNqQyxJQUFJLEtBQUssR0FBRyw4RUFBK0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELGNBQWMsQ0FBQyxLQUF3QjtRQUNuQyxJQUFJLEtBQUssR0FBRyw4RUFBK0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxLQUE0QjtRQUMzQyxJQUFJLEtBQUssR0FBRyw4RUFBK0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7SUFFRCxVQUFVO1FBQ04sSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sR0FBRyxvRkFBc0IsR0FBRyxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDL0MsSUFBSSxDQUFDLHFCQUFxQixDQUFDLG1CQUFtQixHQUFHLEtBQUssQ0FBQztRQUN2RCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDM0MsQ0FBQztJQUVELE9BQU87UUFDSCxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLG1EQUFXLENBQUM7SUFDbkQsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9pQjZCO0FBQ2tEO0FBR2U7QUFDL0Q7QUFDNEI7QUFDUTtBQUNXO0FBR3hFLE1BQU0saUJBQWlCO0lBc0IxQixZQUFZLEtBQVk7UUFyQmYsU0FBSSxHQUFHLG1EQUFZLENBQUM7UUFNckIsaUJBQVksR0FBYSxFQUFFLENBQUM7UUFDNUIscUJBQWdCLEdBQWEsRUFBRSxDQUFDO1FBQ2hDLHFCQUFnQixHQUFhLEVBQUUsQ0FBQztRQUNoQyxnQkFBVyxHQUFXLENBQUMsQ0FBQyxDQUFDO1FBRXpCLFdBQU0sR0FBWSxLQUFLLENBQUM7UUFDeEIsb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFDakMsYUFBUSxHQUFZLEtBQUssQ0FBQztRQUMxQixnQkFBVyxHQUFHLElBQUksZ0RBQVUsRUFBRSxDQUFDO1FBQy9CLGFBQVEsR0FBRyxJQUFJLGdEQUFVLEVBQUUsQ0FBQztRQUU1QixjQUFTLEdBQVcsQ0FBQyxDQUFDO1FBQ3RCLGNBQVMsR0FBWSxLQUFLLENBQUM7UUFJL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5RUFBYyxDQUFvQixDQUFDO1FBQ3pFLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUVBQVUsQ0FBZ0IsQ0FBQztRQUM3RCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksdUVBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUM5RSxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsdUVBQWEsQ0FBc0IsQ0FBQztJQUMxRSxDQUFDO0lBRUQsY0FBYyxDQUFDLEtBQXdCO1FBQ25DLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsRUFBRTtZQUM1QixnQkFBZ0I7WUFDaEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFFbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUN6RixPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztRQUVyQixJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1FBRXJELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQztRQUUzRSxJQUFJLFFBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUMxQixPQUFPO1NBQ1Y7UUFFRCxJQUFJLFdBQVcsRUFBRTtZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3hELElBQUksUUFBUSxHQUFHLEVBQUU7WUFDakIsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3RDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUFFLE9BQU87Z0JBQ3JELFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDekI7WUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM5QzthQUFNLElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNoQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ2pGLGtEQUFrRDtnQkFDbEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUM3QjtTQUNKO0lBQ0wsQ0FBQztJQUVELGFBQWEsQ0FBQyxLQUF1QjtRQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDN0IsSUFBSSxLQUFLLEdBQUcsNkRBQXFCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNyRCxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1FBRXJELElBQUksUUFBUSxHQUFHLHNEQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFdkQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBRTNCLElBQUksQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUQsS0FBSyxJQUFJLE1BQU0sSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQzdDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDdEM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUN0QztTQUNKO1FBRUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsc0NBQXFDO1FBRXpGLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNoQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzthQUN6QjtpQkFBTTtnQkFDSCxPQUFPO2FBQ1Y7U0FDSjtRQUVELDJEQUEyRDtRQUMzRCxLQUFLLENBQUMsUUFBUSxLQUFkLEtBQUssQ0FBQyxRQUFRLEdBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUM7UUFDdkMseUJBQXlCO1FBRXpCLElBQUksV0FBVyxFQUFFO1lBQ2IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQztZQUNsRCxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDdEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQ3ZCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUNsQzthQUNKO1lBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ3BEO2FBQU0sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNqRCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNsQztZQUVELElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzNDO1FBRUQsMkJBQTJCO1FBQzNCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlO1lBQUUsT0FBTztRQUVsQyxJQUFJLENBQUMsR0FBRyx1RUFBK0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQXFCO1FBQzdCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXBCLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUU7WUFDN0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUM3QjtRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNmLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUMzQztJQUNMLENBQUM7SUFFRCxhQUFhLENBQUMsS0FBdUI7UUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxJQUFJLEtBQUssQ0FBQyxjQUFjO1lBQUUsT0FBTztRQUUxRSxJQUFJLEtBQUssR0FBRyx1RUFBK0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRS9ELElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFFO2dCQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDOUM7WUFFRCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7U0FDcEM7YUFBTTtZQUNILElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDckIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7YUFDN0M7WUFFRCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFFekMsSUFBSSxLQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksS0FBSyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNwQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDL0U7SUFDTCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JMNkI7QUFHMEI7QUFDeEI7QUFDK0M7QUFDckI7QUFHbkQsTUFBTSxpQkFBaUI7SUFTMUIsWUFBWSxLQUFZO1FBUmYsU0FBSSxHQUFHLG1EQUFZLENBQUM7UUFJckIsaUJBQVksR0FBZ0IsSUFBSSxnREFBVSxFQUFFLENBQUM7UUFDN0MsZ0JBQVcsR0FBZ0IsSUFBSSxnREFBVSxFQUFFLENBQUM7UUFDNUMsV0FBTSxHQUFZLEtBQUssQ0FBQztRQUc1QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsdUVBQWEsQ0FBc0IsQ0FBQztJQUMxRSxDQUFDO0lBRUQsY0FBYyxDQUFDLEtBQXdCO0lBQ3ZDLENBQUM7SUFFRCxPQUFPO1FBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7WUFDbkIsSUFBSSxFQUFFLG1EQUFZO1lBQ2xCLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDMUIsS0FBSyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMxQixHQUFHLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3ZCLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDdkIsS0FBSyxFQUFFLEtBQUs7WUFDWixLQUFLLEVBQUUsS0FBSztTQUNJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxtREFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxhQUFhLENBQUMsS0FBdUI7UUFDakMsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFFdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksR0FBRyx1RUFBK0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUVyQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFxQjtRQUM3QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVwQixJQUFJLENBQUMsV0FBVyxHQUFHLHVFQUErQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFdEUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFFRCxhQUFhLENBQUMsS0FBdUI7UUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNO1lBQUUsT0FBTztRQUV6QixJQUFJLENBQUMsV0FBVyxHQUFHLHVFQUErQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFdEUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RStCO0FBQ1M7QUFFd0Q7QUFDcEM7QUFDd0I7QUFDTDtBQUNEO0FBSXhFLE1BQU0sb0JBQW9CO0lBZ0I3QixZQUFZLEtBQVk7UUFYeEIsYUFBUSxHQUFZLEtBQUssQ0FBQztRQUMxQixlQUFVLEdBQVcsSUFBSSwwQ0FBVSxFQUFFLENBQUM7UUFDdEMsYUFBUSxHQUFXLElBQUksMENBQVUsRUFBRSxDQUFDO1FBRXBDLGNBQVMsR0FBNEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDL0MsbUJBQWMsR0FBRyxJQUFJLEdBQUcsRUFBVSxDQUFDO1FBQ25DLHFCQUFnQixHQUFHLElBQUksR0FBRyxFQUFVLENBQUM7UUFDckMsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUt4QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsdUVBQWEsQ0FBcUIsQ0FBQztRQUNyRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksNkNBQWEsRUFBRSxDQUFDO1FBRW5DLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMseUVBQWMsQ0FBb0IsQ0FBQztJQUM3RSxDQUFDO0lBRUQsS0FBSyxDQUFDLEdBQVc7UUFDYixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7WUFDbkIsSUFBSSxFQUFFLGlFQUEwQjtZQUNoQyxJQUFJLEVBQUUsSUFBSSxnREFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDMUMsS0FBSyxFQUFFLEtBQUs7WUFDWixLQUFLLEVBQUUsS0FBSztTQUNpQixFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBRXBCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUM3QjtJQUNMLENBQUM7SUFHRCxPQUFPLENBQUMsR0FBVztRQUNmLElBQUksS0FBSyxHQUFHLEVBQVksQ0FBQztRQUN6QixJQUFJLE9BQU8sR0FBRyxFQUFZLENBQUM7UUFDM0Isd0VBQXdCLENBQUMsSUFBSSxDQUFDLFVBQVcsRUFBRSxJQUFJLENBQUMsUUFBUyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFaEYsS0FBSyxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUU7WUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQjtRQUNELEtBQUssSUFBSSxDQUFDLElBQUksT0FBTyxFQUFFO1lBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEI7UUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQztRQUVwQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxpRUFBMEIsRUFBRTtZQUNoRCxJQUFJLEVBQUUsSUFBSSxnREFBSSxDQUFDLElBQUksQ0FBQyxVQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxVQUFXLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUN2RSxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsSUFBSTtRQUNBLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLGlFQUEwQixDQUFDLENBQUM7UUFFdEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVPLGFBQWEsQ0FBQyxFQUFVO1FBQzVCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDNUMsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVPLGFBQWEsQ0FBQyxFQUFVO1FBQzVCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUNsQyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDMUM7SUFDTCxDQUFDO0lBR0QsT0FBTyxDQUFDLElBQVU7UUFDZCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkVBQWdCLENBQXNCLENBQUM7UUFDeEUsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQywwRUFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQzdDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztnQkFBRSxPQUFPLEtBQUssQ0FBQztZQUNwRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFVO1FBQ2pCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2RUFBZ0IsQ0FBc0IsQ0FBQztRQUN4RSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDLDBFQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDN0MsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7UUFDSCxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDaEM7SUFDTCxDQUFDO0NBR0o7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2SEQsSUFBWSxJQVVYO0FBVkQsV0FBWSxJQUFJO0lBQ1osMkJBQWtCO0lBQ2xCLG1DQUEyQjtJQUMzQixpQ0FBeUI7SUFDekIsbUNBQTJCO0lBQzNCLHFCQUFhO0lBQ2IsdUJBQWU7SUFDZiwyQkFBa0I7SUFDbEIsaURBQXlDO0lBQ3pDLG1DQUEyQjtBQUMvQixDQUFDLEVBVlcsSUFBSSxLQUFKLElBQUksUUFVZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNUNEM7QUFFb0M7QUFDSztBQUMxQjtBQUdyRCxTQUFTLGNBQWMsQ0FBQyxLQUFZLEVBQUUsS0FBaUIsRUFBRSxLQUFjO0lBQzFFLElBQUksS0FBSyxHQUFHLGtFQUF3QixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztJQUVuRCxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsT0FBTyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDN0IsQ0FBQztBQUVNLFNBQVMscUJBQXFCLENBQUMsS0FBWSxFQUFFLEtBQTRCLEVBQUUsSUFBaUI7SUFDL0YsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEVBQWUsQ0FBb0IsQ0FBQztJQUNsRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMxRCxDQUFDO0FBRU0sU0FBUywrQkFBK0IsQ0FBQyxLQUFZLEVBQUUsS0FBNEIsRUFBRSxJQUFpQjtJQUN6RyxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBRXRELE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLDZFQUFnQixDQUFzQixDQUFDO0lBQzFFLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RCxJQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRTtRQUMzQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUMzQztTQUFNO1FBQ0gsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMERBQVMsQ0FBZSxDQUFDO1FBQzNELElBQUksU0FBUyxHQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDdkQsSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO1lBQ3pCLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDN0I7S0FDSjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUFFTSxTQUFTLGlCQUFpQixDQUFDLElBQVk7SUFDMUMsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQyxDQUFDO0FBRUQsTUFBTSxlQUFlO0lBR2pCLFlBQVksSUFBWTtRQUNwQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvQ0QsdUVBQXVFO0FBQ3ZFLDZCQUE2QjtBQUM3QixtSEFBbUg7QUFDbkgsa0NBQWtDO0FBQ2xDLDRGQUE0RjtBQUM1RiwrREFBK0Q7QUFLckI7QUFFYztBQUNJO0FBbUNyRCxNQUFNLEtBQUs7SUE2Q2QsWUFBWSxRQUFpQjtRQTVDN0IsWUFBTyxHQUFHLElBQUkscURBQVcsRUFBRSxDQUFDO1FBQzVCLGFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBMkIsQ0FBQztRQUM5QyxnQkFBVyxHQUFHLElBQUksS0FBSyxFQUFtQixDQUFDO1FBQzNDLGFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBVSxDQUFDO1FBQzdCLGNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBb0IsQ0FBQztRQUVoQyxxQkFBZ0IsR0FBWSxLQUFLLENBQUM7UUFDMUMsb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFHakMsbUJBQW1CO1FBQ25CLG1CQUFtQjtRQUNuQixrREFBa0Q7UUFDbEQscUJBQXFCO1FBQ3JCLHNEQUFzRDtRQUN0RCwyQkFBMkI7UUFDM0Isc0VBQXNFO1FBQ3RFLHVFQUF1RTtRQUN2RSw4QkFBOEI7UUFDOUIsK0JBQStCO1FBQy9CLHlCQUF5QjtRQUN6QiwyQkFBMkI7UUFDM0IsZ0NBQWdDO1FBQ2hDLDRCQUE0QjtRQUM1Qiw2QkFBNkI7UUFDN0IsVUFBVTtRQUNWLFlBQVk7UUFDWixjQUFjO1FBQ2Qsa0JBQWtCO1FBQ2xCLDJCQUEyQjtRQUMzQixvQkFBb0I7UUFDcEIsaUJBQWlCO1FBQ2pCLHdCQUF3QjtRQUN4QixrQ0FBa0M7UUFDbEMsNEJBQTRCO1FBQzVCLDBCQUEwQjtRQUMxQixxQkFBcUI7UUFDckIsb0JBQW9CO1FBQ3BCLGtCQUFrQjtRQUNsQixZQUFZO1FBQ1osdUJBQXVCO1FBQ3ZCLHFCQUFxQjtRQUNyQixXQUFNLEdBQUcsSUFBSSwyREFBZ0IsRUFBRSxDQUFDO1FBRzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7SUFFRCxVQUFVLENBQUMsSUFBWTtRQUNuQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDakIsTUFBTSxzQkFBc0IsR0FBRyxJQUFJLENBQUM7U0FDdkM7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFRCxVQUFVO1FBQ04sSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFWixHQUFHO1lBQ0MsRUFBRSxHQUFHLDBEQUFnQixFQUFFLENBQUM7U0FDM0IsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBQztRQUUvQixPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBRyxVQUE0QjtRQUN2QyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUV2QyxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxFQUFVLEVBQUUsVUFBNEI7UUFDdEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXJDLEtBQUssSUFBSSxJQUFJLElBQUksVUFBVSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELCtCQUErQjtJQUMvQixlQUFlLENBQUMsSUFBb0I7UUFDaEMsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7WUFDckIsSUFBSSxNQUFNLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUNsQixNQUFNLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzthQUNqQztZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUU3QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQy9DO1FBRUQsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7WUFDckIsS0FBSyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFO2dCQUM3QixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBYyxDQUFDLENBQUM7YUFDaEQ7U0FDSjtRQUVELEtBQUssSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNqRDtJQUNMLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxRQUFrQjtRQUNsQyxJQUFJLEdBQUcsR0FBRyxFQUFvQixDQUFDO1FBRS9CLEtBQUssSUFBSSxNQUFNLElBQUksUUFBUSxFQUFFO1lBQ3pCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUUxQyxHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUNMLEVBQUUsRUFBRSxNQUFNO2dCQUNWLFVBQVUsRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNOO1FBQ0QsS0FBSyxJQUFJLE1BQU0sSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM5QjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELGFBQWEsQ0FBQyxNQUFjO1FBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDbkQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLEtBQUssR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM5QyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQztnQkFBRSxTQUFTO1lBQ2pDLEtBQUssSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFO2dCQUN6QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsQ0FBQzthQUNuRDtZQUNELE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEMsS0FBSyxJQUFJLFNBQVMsSUFBSSxLQUFLLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxDQUFDO2FBQ3BEO1NBQ0o7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsU0FBUyxDQUFDLE1BQWM7UUFDcEIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCO1lBQUUsTUFBTSwwQkFBMEIsQ0FBQztRQUM1RCxJQUFJO1lBQ0EsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDakM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLEdBQUcsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDckU7SUFDTCxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsTUFBYyxFQUFFLEdBQUcsS0FBZTtRQUMvQyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRTtZQUNqQixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxLQUFLLFNBQVM7Z0JBQUUsT0FBTyxLQUFLLENBQUM7U0FDaEU7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsWUFBWSxDQUFDLE1BQWMsRUFBRSxHQUFjO1FBQ3ZDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3BCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUU7WUFDdkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQ0FBb0MsR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLG9CQUFvQixDQUFDLENBQUM7U0FDM0Y7UUFDRCxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsZUFBZSxDQUFDLEdBQWM7UUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsbUJBQW1CLENBQUMsTUFBYyxFQUFFLElBQVk7UUFDNUMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUN2RCxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUVELFVBQVUsQ0FBQyxPQUF3QjtRQUMvQixJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxZQUFZLENBQUMsTUFBYyxFQUFFLElBQVksRUFBRSxPQUFnQjtRQUN2RCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sT0FBTyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRUQsaUJBQWlCLENBQUMsTUFBYztRQUM1QixJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBYSxDQUFDO1FBRWpDLEtBQUssSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUN4QyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUk7Z0JBQUUsU0FBUztZQUM1QixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQzlDO1FBRUQsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLHFEQUFlLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsTUFBYztRQUMzQixJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBYSxDQUFDO1FBRWpDLEtBQUssSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQzlDO1FBRUQsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWMsRUFBRSxJQUFZLEVBQUUsT0FBbUIsRUFBRSxPQUFnQixFQUFFLFVBQW1CLElBQUk7UUFDdEcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUNqQixNQUFNLHdCQUF3QixHQUFHLElBQUksR0FBRyxjQUFjLEdBQUcsTUFBTSxDQUFDO1NBQ25FO1FBRUQsSUFBSSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQztZQUFFLE9BQU8sbUJBQWtCO1FBQ25FLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUUvQyxJQUFJLE9BQU8sR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBRXJDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQscUJBQXFCLENBQUMsTUFBYyxFQUFFLE9BQXNCO1FBQ3hELElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTztRQUNqQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM3RyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLEdBQUcsR0FBRyxPQUE0QixDQUFDO1FBQ3ZDLEtBQUssSUFBSSxNQUFNLElBQUksR0FBRyxFQUFFO1lBQ3BCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxLQUFLLFNBQVMsRUFBRTtnQkFDakIsTUFBTSx3QkFBd0IsR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLGNBQWMsR0FBRyxNQUFNLENBQUM7YUFDMUU7WUFDRCxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUVqQixJQUFJLE1BQU0sQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxFQUFFO2dCQUNsRCxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzthQUN2QjtTQUNKO1FBQ0QsS0FBSyxJQUFJLE1BQU0sSUFBSSxHQUFHLEVBQUU7WUFDcEIsSUFBSSxNQUFNLENBQUMsS0FBSztnQkFBRSxTQUFTO1lBRTNCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxLQUFNLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3JFO1FBRUQsS0FBSyxJQUFJLE1BQU0sSUFBSSxHQUFHLEVBQUU7WUFDcEIsSUFBSSxNQUFNLENBQUMsS0FBSztnQkFBRSxTQUFTO1lBQzNCLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBTSxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM3QztRQUNELEtBQUssSUFBSSxNQUFNLElBQUksR0FBRyxFQUFFO1lBQ3BCLElBQUksTUFBTSxDQUFDLEtBQUs7Z0JBQUUsU0FBUztZQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLENBQUMsS0FBTSxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUN2RTtJQUNMLENBQUM7SUFFRCxXQUFXLENBQUMsUUFBa0IsRUFBRSxZQUFvQyxNQUFNO1FBQ3RFLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ25DLFFBQVEsU0FBUyxFQUFFO2dCQUNmLEtBQUssUUFBUSxDQUFDLENBQUMsTUFBTTtnQkFDckIsS0FBSyxRQUFRO29CQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFBQyxNQUFNO2dCQUNqRSxPQUFPLENBQUMsQ0FBQyxNQUFNLCtCQUErQixDQUFDO2FBQ2xEO1lBQ0QsT0FBTTtTQUNUO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzNDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztZQUFFLE1BQU0sNkRBQTZELENBQUM7UUFFM0csSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsV0FBVyxDQUFDLElBQVk7UUFDcEIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQsWUFBWSxDQUFDLElBQVksRUFBRSxPQUFtQjtRQUMxQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pDLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNuQixNQUFNLHVCQUF1QixHQUFHLElBQUksQ0FBQztTQUN4QztRQUVELElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQztZQUFFLE9BQU8sbUJBQWtCO1FBQzFELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEQsVUFBVSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQyw4QkFBNkI7UUFDdEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCxjQUFjLENBQUMsSUFBWSxFQUFFLG1CQUE0QixJQUFJO1FBQ3pELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtZQUN4QixJQUFJLGdCQUFnQjtnQkFBRSxNQUFNLHlCQUF5QixDQUFDO1lBQ3RELE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBRTlDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxNQUFNO1FBQ0YsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQzdCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNuQjtJQUNMLENBQUM7SUFFRCxPQUFPO1FBQ0gsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQy9DLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNwQjtJQUNMLENBQUM7SUFFRCxTQUFTO1FBQ0wsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRXRDLElBQUksUUFBUSxHQUEwQixFQUFFLENBQUM7UUFFekMsS0FBSyxJQUFJLE9BQU8sSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSTtnQkFBRSxTQUFTO1lBQzVCLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ2hEO1FBRUQsSUFBSSxTQUFTLEdBQTBCLEVBQUUsQ0FBQztRQUUxQyxLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDMUMsSUFBSSxRQUFRLENBQUMsS0FBSyxLQUFLLEtBQUs7Z0JBQUUsU0FBUyx5RUFBd0U7WUFDL0csSUFBSSxHQUFHLEdBQUcsRUFBUyxDQUFDO1lBQ3BCLEtBQUssSUFBSSxJQUFJLElBQUksUUFBUSxFQUFFO2dCQUN2QixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxLQUFLLE1BQU07b0JBQUUsU0FBUztnQkFDakQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFJLFFBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdkM7WUFDRCxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUNsQztRQUVELElBQUksR0FBRyxHQUFHO1lBQ04sUUFBUSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQzVCLFFBQVE7WUFDUixTQUFTO1NBQ08sQ0FBQztRQUVyQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFcEMsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsZUFBZTtRQUNYLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUV4QyxJQUFJLFFBQVEsR0FBMEIsRUFBRSxDQUFDO1FBRXpDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFaEQsS0FBSyxJQUFJLE9BQU8sSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSTtnQkFBRSxTQUFTO1lBQzVCLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDO1NBQzFHO1FBRUQsSUFBSSxTQUFTLEdBQTBCLEVBQUUsQ0FBQztRQUUxQyxLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDMUMsSUFBSSxRQUFRLENBQUMsS0FBSyxLQUFLLEtBQUs7Z0JBQUUsU0FBUztZQUN2QyxJQUFJLEdBQUcsR0FBRyxFQUFTLENBQUM7WUFDcEIsS0FBSyxJQUFJLElBQUksSUFBSSxRQUFRLEVBQUU7Z0JBQ3ZCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssTUFBTTtvQkFBRSxTQUFTO2dCQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUksUUFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUN2QztZQUNELFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ2xDO1FBRUQsSUFBSSxHQUFHLEdBQUc7WUFDTixRQUFRLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLENBQUM7WUFDekYsUUFBUTtZQUNSLFNBQVM7U0FDTyxDQUFDO1FBR3JCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUVwQyxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxXQUFXLENBQUMsSUFBcUI7UUFDN0IsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXRDLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUM3QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9CLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQ25DO1FBR0QsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRTFCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUM1QztRQUVELEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUM1QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QyxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUU7Z0JBQ3ZCLE9BQU8sQ0FBQyxLQUFLLENBQUMsbUNBQW1DLEdBQUcsSUFBSSxHQUFHLFlBQVksQ0FBQyxDQUFDO2dCQUN6RSxTQUFTO2FBQ1o7WUFDRCxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDOUM7UUFFRCxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsUUFBUTtRQUNKLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDMUIsS0FBSyxJQUFJLE1BQU0sSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ25DLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDOUI7UUFDRCxtREFBbUQ7UUFDbkQsS0FBSyxJQUFJLE1BQU0sSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ25DLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDOUI7UUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUM7WUFBRSxNQUFNLGtDQUFrQyxDQUFDO1FBQ3ZFLDZCQUE2QjtRQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNILElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQ3BCLDJEQUEyRDtRQUMzRCxPQUFPLGlCQUFpQixDQUFDO0lBQzdCLENBQUM7Q0FDSjtBQUVELFNBQVMsVUFBVSxDQUFDLEdBQVEsRUFBRSxPQUFZO0lBQ3RDLEtBQUssSUFBSSxJQUFJLElBQUksT0FBTyxFQUFFO1FBQ3RCLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7S0FDbkI7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDO0FBRUQsU0FBUyxZQUFZLENBQUMsSUFBZ0IsRUFBRSxPQUFtQjtJQUN2RCxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7SUFDaEIsS0FBSyxJQUFJLE1BQU0sSUFBSSxPQUFPLEVBQUU7UUFDeEIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2xDLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzFCO2FBQU07WUFDSCxPQUFPLEVBQUUsQ0FBQztTQUNiO0tBQ0o7SUFDRCxPQUFPLE9BQU8sS0FBSyxDQUFDLENBQUM7QUFDekIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxZ0JELElBQVksUUFHWDtBQUhELFdBQVksUUFBUTtJQUNoQiwyQ0FBTTtJQUNOLDZDQUFPO0FBQ1gsQ0FBQyxFQUhXLFFBQVEsS0FBUixRQUFRLFFBR25CO0FBa0JNLE1BQU0scUJBQXFCLEdBQUc7SUFDakMsT0FBTyxFQUFFLElBQUk7SUFDYixRQUFRLEVBQUUsUUFBUSxDQUFDLE1BQU07SUFDekIsS0FBSyxFQUFFLENBQUM7SUFDUixLQUFLLEVBQUUsRUFBRTtJQUNULE9BQU8sRUFBRSxJQUFJO0lBQ2IsSUFBSSxFQUFFLEdBQUc7SUFDVCxJQUFJLEVBQUUsQ0FBQztJQUNQLElBQUksRUFBRSxDQUFDO0NBQ0ssQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUJ1QjtBQUNjO0FBSS9DLE1BQU0sT0FBTztJQU9oQixZQUFZLElBQWlCO1FBTjdCLCtEQUErRDtRQUN2RCxZQUFPLEdBQUcsSUFBSSxHQUFHLEVBQWtCLENBQUM7UUFDcEMsU0FBSSxHQUFHLElBQUksa0RBQU8sRUFBRSxDQUFDO1FBRXJCLFVBQUssR0FBRyxDQUFDLENBQUM7UUFHZCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0lBR0QsTUFBTSxDQUFDLEtBQVk7UUFDZixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7UUFDRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFZO1FBQ2YsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUMxQixPQUFPLENBQUMsS0FBSyxDQUFDLHlCQUF5QixHQUFHLEtBQUssQ0FBQyxDQUFDO2FBQ3BEO1NBQ0o7YUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDL0I7YUFBTTtZQUNILE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFZO1FBQ3BCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRWhELElBQUksV0FBVyxHQUFzQixTQUFTLENBQUM7UUFDL0MsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN6QixXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDL0M7UUFFRCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDM0IsSUFBSSxRQUFRLEdBQUcsNkRBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqRixJQUFJLFdBQVcsS0FBSyxTQUFTLElBQUksUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDeEQsT0FBTyxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQzthQUNsQztTQUNKO1FBRUQsT0FBTyxXQUFXLENBQUM7SUFDdkIsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlEMEI7QUFDM0IsSUFBTyxPQUFPLEdBQUcsd0RBQWtCLENBQUM7QUFFcEMsd0ZBQXdGO0FBQ3hGLE1BQU0sbUJBQW1CLEdBQUc7Ozs7Ozs7Ozs7Ozs7Q0FhM0IsQ0FBQztBQUVGLE1BQU0scUJBQXFCLEdBQUc7Ozs7Ozs7Ozs7Ozs7OztDQWU3QixDQUFDO0FBRUYsTUFBTSwyQkFBMkIsR0FBRzs7Ozs7Ozs7Ozs7Ozs7O0NBZW5DLENBQUM7QUFFRixNQUFNLDBCQUEwQixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Q0FlbEMsQ0FBQztBQUVGLElBQUksWUFBWSxHQUE2QixTQUFTLENBQUM7QUFDdkQsSUFBSSxpQkFBaUIsR0FBNkIsU0FBUyxDQUFDO0FBQzVELElBQUksZ0JBQWdCLEdBQTZCLFNBQVMsQ0FBQztBQUlwRCxTQUFTLEtBQUs7SUFDakIsSUFBSSxZQUFZLEtBQUssU0FBUyxFQUFFO1FBQzVCLFlBQVksR0FBRyx1REFBaUIsQ0FBQyxtQkFBbUIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQzdFLGlCQUFpQixHQUFHLHVEQUFpQixDQUFDLG1CQUFtQixFQUFFLDJCQUEyQixDQUFDLENBQUM7UUFDeEYsZ0JBQWdCLEdBQUcsdURBQWlCLENBQUMsbUJBQW1CLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztLQUN6RjtBQUNMLENBQUM7QUFFTSxTQUFTLFVBQVUsQ0FBQyxZQUE4QixRQUFRO0lBQzdELElBQUksUUFBUSxHQUFHLElBQUksbURBQWEsRUFBRSxDQUFDO0lBQ25DLElBQUksSUFBSSxHQUFHLElBQUksaURBQVcsQ0FBQyxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hELFFBQVEsQ0FBQyxZQUFZLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsc0RBQWdCLENBQUMsQ0FBQztJQUUzRSxJQUFJLE9BQU8sQ0FBQztJQUNaLFFBQVEsU0FBUyxFQUFFO1FBQ2YsS0FBSyxRQUFRO1lBQUUsT0FBTyxHQUFHLFlBQVksQ0FBQztZQUFDLE1BQU07UUFDN0MsS0FBSyxPQUFPO1lBQUUsT0FBTyxHQUFHLGlCQUFpQixDQUFDO1lBQUMsTUFBTTtRQUNqRCxLQUFLLFFBQVE7WUFBRSxPQUFPLEdBQUcsZ0JBQWdCLENBQUM7WUFBQyxNQUFNO0tBQ3BEO0lBQ0QscUNBQXFDO0lBQ3JDLElBQUksT0FBTyxHQUFHLElBQUksaURBQVcsQ0FBQyxPQUFPLEVBQUU7UUFDbkMsUUFBUSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLFlBQVksRUFBRSxFQUFFO1FBQ2hCLE9BQU8sRUFBRSxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDdkMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxJQUFJLEdBQUcsSUFBSSwrQ0FBUyxDQUFDLFFBQVEsRUFBRSxPQUE0QixFQUFFLFNBQVMsRUFBRSxrRUFBNEIsQ0FBQyxDQUFDO0lBQzFHLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7SUFFakMsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQUVNLFNBQVMsa0JBQWtCLENBQUMsSUFBZSxFQUFFLEdBQW9CLEVBQUUsSUFBYztJQUNwRixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRXhELElBQUksT0FBTyxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDaEQsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDbkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25DLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFFTSxTQUFTLGtCQUFrQixDQUFDLElBQWUsRUFBRSxNQUF1QixFQUFFLFlBQW9CLEVBQUUsS0FBYTtJQUM1RyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUMvQixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQ25CLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2hCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2hCLEdBQUcsQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFDO0lBQzlCLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0gwQjtBQUVwQixNQUFNLElBQUk7SUFNYixZQUFZLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDdEQsSUFBSSxFQUFFLEdBQUcsRUFBRTtZQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2pDLElBQUksRUFBRSxHQUFHLEVBQUU7WUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVqQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMxRCxDQUFDO0lBRUQsU0FBUztRQUNMLE9BQU8sSUFBSSxnREFBVSxDQUNqQixDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDM0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQzlCLENBQUM7SUFDTixDQUFDO0lBRUQsWUFBWTtRQUNSLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxTQUFTLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxNQUFZO1FBQ3hDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDNUIsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUM1QixNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVELE9BQU8sQ0FBQyxLQUFXLEVBQUUsTUFBWTtRQUM3QixNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFXLEVBQUUsTUFBWTtRQUMvQixNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFjLEVBQUUsTUFBWTtRQUMvQixNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7UUFDakMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxLQUFLLENBQUMsRUFBVSxFQUFFLEVBQVUsRUFBRSxNQUFZO1FBQ3RDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDM0IsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVELFFBQVEsQ0FBQyxLQUFXO1FBQ2hCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUMzQixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFRCxXQUFX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QUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQzFDLEdBQUcsR0FBRyxDQUFDO0lBRVIsSUFBSSxDQUFDLEdBQUcsQ0FBQyx1REFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsdURBQU87UUFBRSxPQUFPLG1CQUFtQixDQUFDLElBQUksQ0FBQztJQUVyRSxNQUFNLENBQUMsR0FBRyxDQUNOLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUMxQyxHQUFHLEdBQUcsQ0FBQztJQUVSLElBQUksQ0FBQyxHQUFHLENBQUMsdURBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLHVEQUFPO1FBQUUsT0FBTyxtQkFBbUIsQ0FBQyxJQUFJLENBQUM7SUFFckUsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1FBQ3RCLE1BQU0sQ0FBQyxHQUFHLENBQ04sQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDL0IsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDbEMsQ0FBQztLQUNMO0lBRUQsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBQ2IsSUFBSSxDQUFDLEdBQUcsdURBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLHVEQUFPO1FBQUUsSUFBSSxJQUFJLG1CQUFtQixDQUFDLE1BQU0sQ0FBQztJQUN2RSxJQUFJLENBQUMsR0FBRyx1REFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsdURBQU87UUFBRSxJQUFJLElBQUksbUJBQW1CLENBQUMsTUFBTSxDQUFDO0lBQ3ZFLE9BQU8sSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDMUQsQ0FBQztBQUVNLFNBQVMscUJBQXFCLENBQUMsQ0FBYyxFQUFFLEVBQWUsRUFBRSxFQUFlLEVBQUUsRUFBZTtJQUNuRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFGLElBQUksSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDdkYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7SUFFdkYsT0FBTyxDQUFDLEdBQUcsdURBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLHVEQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLHVEQUFPLENBQUM7QUFDbEYsQ0FBQztBQUVNLFNBQVMsYUFBYSxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7SUFDeEUsdURBQXVEO0lBQ3ZELDZDQUE2QztJQUM3QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsdURBQU8sQ0FBQztBQUNqRCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoVEQsMEpBQTBKO0FBRTlIO0FBQ3NDO0FBR2xFLE1BQU0sUUFBUTtJQVdWLFlBQVksRUFBVTtRQVR0QixTQUFJLEdBQUcsNENBQVMsRUFBRSxDQUFDO1FBT25CLFdBQU0sR0FBVyxDQUFDLENBQUMsQ0FBQztRQUdoQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNyQyxDQUFDO0lBRUQsTUFBTTtRQUNGLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUM7SUFDbkMsQ0FBQztDQUNKO0FBR00sTUFBTSxXQUFXO0lBUXBCLFlBQVksZ0JBQXdCLEdBQUcsRUFBRSxpQkFBeUIsQ0FBQztRQU5uRSxVQUFLLEdBQUcsSUFBSSxHQUFHLEVBQXVCLENBQUM7UUFDdkMsZ0JBQVcsR0FBVyxDQUFDLENBQUM7UUFNcEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDekMsQ0FBQztJQUVELE1BQU0sQ0FBQyxFQUFVOztRQUNiLE9BQU8sVUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLDBDQUFFLEdBQUcsQ0FBQztJQUNuQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEVBQVUsRUFBRSxHQUFNO1FBQ3JCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDbEMsQ0FBQztJQUVELFVBQVUsQ0FBQyxFQUFVOztRQUNqQixPQUFPLFVBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQywwQ0FBRSxJQUFJLENBQUM7SUFDcEMsQ0FBQztJQUVPLFlBQVk7UUFDaEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxRQUFRLENBQUksRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8sUUFBUSxDQUFDLElBQWlCO1FBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsV0FBVyxDQUFDLElBQVUsRUFBRSxHQUFNO1FBQzFCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUUvQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV6QixrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFaEQsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUVoQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQsWUFBWSxDQUFDLEVBQVU7UUFDbkIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFLENBQUM7UUFFL0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxTQUFTLENBQUMsRUFBVSxFQUFFLElBQVUsRUFBRSxDQUFRO1FBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBRSxDQUFDO1FBRS9CLElBQUksOERBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNyQyxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFekIsU0FBUztRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWhELGlCQUFpQjtRQUNqQixJQUFJLElBQUksQ0FBQyxjQUFjLEtBQUssQ0FBQyxFQUFFO1lBQzNCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO2dCQUFFLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDOztnQkFDL0MsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7WUFFNUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7Z0JBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7O2dCQUMvQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztTQUMvQztRQUVELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdEIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVPLFVBQVUsQ0FBQyxJQUFpQjtRQUNoQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztZQUM3QixPQUFPO1NBQ1Y7UUFFRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFdEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNwQixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSyxDQUFDO1lBQ3ZCLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFNLENBQUM7WUFFekIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUdwQyxJQUFJLFlBQVksR0FBRyw0Q0FBUyxFQUFFLENBQUM7WUFDL0IsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzNDLElBQUksV0FBVyxHQUFHLFlBQVksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUU5QyxJQUFJLElBQUksR0FBRyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1lBRTNCLElBQUksZUFBZSxHQUFHLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUU5QyxJQUFJLFFBQVEsQ0FBQztZQUNiLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztnQkFDMUMsUUFBUSxHQUFHLFlBQVksQ0FBQyxZQUFZLEVBQUUsR0FBRyxlQUFlLENBQUM7YUFDNUQ7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO2dCQUMxQyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUM1QyxJQUFJLFlBQVksR0FBRyxZQUFZLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQy9DLFFBQVEsR0FBRyxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUMsR0FBRyxlQUFlLENBQUM7YUFDOUQ7WUFFRCxJQUFJLFNBQVMsQ0FBQztZQUNkLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7Z0JBQzNDLFNBQVMsR0FBRyxZQUFZLENBQUMsWUFBWSxFQUFFLEdBQUcsZUFBZSxDQUFDO2FBQzdEO2lCQUFNO2dCQUNILEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztnQkFDM0MsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDN0MsSUFBSSxZQUFZLEdBQUcsWUFBWSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUMvQyxTQUFTLEdBQUcsQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDLEdBQUcsZUFBZSxDQUFDO2FBQy9EO1lBRUQsSUFBSSxJQUFJLEdBQUcsUUFBUSxJQUFJLElBQUksR0FBRyxTQUFTLEVBQUU7Z0JBQ3JDLE1BQU07YUFDVDtZQUVELElBQUksUUFBUSxHQUFHLFNBQVM7Z0JBQUUsS0FBSyxHQUFHLElBQUksQ0FBQzs7Z0JBQ2xDLEtBQUssR0FBRyxLQUFLLENBQUM7U0FDdEI7UUFFRCxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFcEMsU0FBUyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQyxTQUFTLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRXRDLElBQUksU0FBUyxLQUFLLFNBQVMsRUFBRTtZQUN6QiwrQkFBK0I7WUFDL0IsSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLE9BQU87Z0JBQUUsU0FBUyxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7O2dCQUMzQixTQUFTLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztTQUMvRDthQUFNO1lBQ0gsMkJBQTJCO1lBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDO1NBQ3pCO1FBQ0QsU0FBUyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7UUFDekIsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDdkIsT0FBTyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFFeEIsd0NBQXdDO1FBQ3hDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3BCLE9BQU8sS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUN4QixLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUU1QixLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckUsS0FBSyxDQUFDLElBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUV4RCxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU8sQ0FBQztTQUN6QjtJQUNMLENBQUM7SUFFTyxVQUFVLENBQUMsSUFBaUI7UUFDaEMsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksRUFBRTtZQUNwQixJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQztZQUN0QixPQUFPO1NBQ1Y7UUFFRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTyxDQUFDO1FBQzFCLElBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDaEMsSUFBSSxPQUFPLENBQUM7UUFDWixJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssSUFBSTtZQUFFLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBTSxDQUFDOztZQUN4QixPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUssQ0FBQztRQUVqRCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDM0Isb0RBQW9EO1lBQ3BELElBQUksV0FBVyxDQUFDLElBQUksS0FBSyxNQUFNO2dCQUFFLFdBQVcsQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDOztnQkFDM0IsV0FBVyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7WUFFN0QsT0FBTyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7WUFDN0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUV0Qix5QkFBeUI7WUFDekIsSUFBSSxLQUFLLEdBQUcsV0FBVyxDQUFDO1lBQ3hCLE9BQU8sS0FBSyxLQUFLLFNBQVMsRUFBRTtnQkFDeEIsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRTVCLEtBQUssQ0FBQyxJQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hELEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFFckUsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFPLENBQUM7YUFDekI7U0FDSjthQUFNO1lBQ0gsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7WUFDcEIsT0FBTyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7WUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN6QjtJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ssT0FBTyxDQUFDLE9BQW9CO1FBQ2hDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUVoQixJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUM7WUFBRSxPQUFPLENBQUMsQ0FBQztRQUV6QyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFNLENBQUM7UUFFakIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBRWxDLGNBQWM7UUFDZCxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7WUFDYixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSyxDQUFDO1lBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFNLENBQUM7WUFFakIsZUFBZTtZQUNmLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ1gsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ3BCLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBRWIsNkJBQTZCO1lBQzdCLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQztvQkFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7O29CQUNsQixDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7YUFDL0M7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7YUFDakI7WUFFRCxTQUFTO1lBQ1QsSUFBSSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNaLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNaLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUNiLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvQixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFFL0IsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDNUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUMvQztpQkFBTTtnQkFDSCxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztnQkFDWixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztnQkFDWixDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztnQkFDYixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBRS9CLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDL0M7WUFFRCxPQUFPLENBQUMsQ0FBQztTQUNaO1FBRUQsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDZCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSyxDQUFDO1lBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFNLENBQUM7WUFFakIsZUFBZTtZQUNmLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ1gsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ3BCLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBRWIsNkJBQTZCO1lBQzdCLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQztvQkFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7O29CQUNsQixDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7YUFDL0M7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7YUFDakI7WUFFRCxTQUFTO1lBQ1QsSUFBSSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNaLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUViLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvQixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFFL0IsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDNUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUMvQztpQkFBTTtnQkFDSCxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztnQkFDWixDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztnQkFFYixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBRS9CLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDL0M7WUFFRCxPQUFPLENBQUMsQ0FBQztTQUNaO1FBRUQsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsQ0FBQyxLQUFLLENBQUMsSUFBVTtRQUNiLElBQUksS0FBSyxHQUFHLElBQUksS0FBSyxFQUFlLENBQUM7UUFFckMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRXBDLG9EQUFvRDtRQUVwRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixPQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3JCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUcsQ0FBQztZQUV4QixJQUFJLE9BQU8sR0FBRyw2REFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ2pELHFEQUFxRDtZQUNyRCxJQUFJLENBQUMsT0FBTztnQkFBRSxTQUFTO1lBRXZCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUNmLE1BQU0sSUFBSSxDQUFDO2FBQ2Q7aUJBQU07Z0JBQ0gsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSyxDQUFDLENBQUM7Z0JBQ3ZCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQU0sQ0FBQyxDQUFDO2FBQzNCO1NBQ0o7SUFDTCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3V00sTUFBTSxJQUFJO0lBTWIsWUFBWSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVUsRUFBRSxFQUFVO1FBQ3RELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELFFBQVE7UUFDSixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDL0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQy9CLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsZUFBZTtRQUNYLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUMvQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDL0IsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFrQixFQUFFLE1BQWEsRUFBRSxjQUF1QixLQUFLO1FBQ3hFLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEdBQUc7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNyRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRXZELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUVwQyxDQUFDLElBQUksTUFBTSxDQUFDO1FBRVosSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsRCxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRWxELElBQUksV0FBVyxFQUFFO1lBQ2IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbkIsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUVELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUV2QyxJQUFJLElBQUksR0FBRyxJQUFJO1lBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0MsSUFBSSxJQUFJLEdBQUcsSUFBSTtZQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdD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Ozs7Ozs7Ozs7Ozs7QUNBOUIsQ0FBQyxpRUFBZSw0TEFBRyxFQUFDLEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBcEIsQ0FBQyxpRUFBZSw0TEFBRyxFQUFDLEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBM0IsQ0FBQyxpRUFBZSwyTEFBRyxFQUFDLEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBaEIsQ0FBQyxpRUFBZSx5TEFBRyxFQUFDLEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBVixDQUFDLGlFQUFlLG1NQUFHLEVBQUMsQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ExQixDQUFDLGlFQUFlLDZMQUFHLEVBQUMsQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0FyQixDQUFDLGlFQUFlLDRMQUFHLEVBQUMsQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0FkLENBQUMsaUVBQWUsa01BQUcsRUFBQyxDOzs7Ozs7Ozs7Ozs7Ozs7O0FDQW5CLENBQUMsaUVBQWUsbU1BQUcsRUFBQyxDOzs7Ozs7Ozs7Ozs7Ozs7O0FDQXRCLENBQUMsaUVBQWUsaU1BQUcsRUFBQyxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQWpHLENBQUMsaUVBQWUsbUlBQUcsRUFBQyxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUVBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTs7V0FFQTs7V0FFQTs7V0FFQTs7V0FFQTs7V0FFQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxNQUFNLG9CQUFvQjtXQUMxQjtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBOztXQUVBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBLGVBQWUsNEJBQTRCO1dBQzNDO1dBQ0E7V0FDQSxnQkFBZ0IsMkJBQTJCO1dBQzNDO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSw0Q0FBNEM7V0FDNUM7V0FDQSxFOzs7OztVQ3BGQTtVQUNBIiwiZmlsZSI6Im1haW4uZjcxNTQzNzM1ZTJlNmRlODgxMWYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5jd3JhcHBlcl9jb21wb25lbnQtaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuLmN3cmFwcGVyX2NvbXBvbmVudC1hcnJvdyB7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci10b3A6IDAuM2VtIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogMC4zZW0gc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDAuM2VtIHNvbGlkICNlZWVlZWU7XFxuICBtYXJnaW4tbGVmdDogMC4zZW07XFxuICBtYXJnaW4tdG9wOiAwLjE3NWVtO1xcbiAgdHJhbnNpdGlvbjogMC4zcztcXG59XFxuLmN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXIgYnV0dG9uOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG4uY3dyYXBwZXJfY29tcG9uZW50LWJvZHkge1xcbiAgbWFyZ2luLWxlZnQ6IDZweDtcXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzU0NWI2MjtcXG4gIHBhZGRpbmctbGVmdDogNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDAgNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG4uY3dyYXBwZXJfcm90YXRlIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XFxuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBdUVBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNBO0FBRUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLG1DQUFBO0VBQ0Esc0NBQUE7RUFDQSxpQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUNBO0FBRUE7RUFDQSxrQkFBQTtBQUNBO0FBRUE7RUFDQSxnQkFBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7RUFDQSx3QkFBQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXJcXFwiPlxcbiAgICAgICAgPGRpdiBAY2xpY2s9XFxcInZpc2libGUgPSAhdmlzaWJsZVxcXCI+IHt7IGNvbXBvbmVudC50eXBlTmFtZSB9fTwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY3dyYXBwZXJfY29tcG9uZW50LWFycm93XFxcIiA6Y2xhc3M9XFxcIntjd3JhcHBlcl9yb3RhdGU6IHZpc2libGV9XFxcIiA+PC9kaXY+XFxuICAgICAgICA8ZGl2IHN0eWxlPVxcXCJ3aWR0aDogMTAwJVxcXCI+PC9kaXY+XFxuICAgICAgICA8Yi1idXR0b24gdi1pZj1cXFwiaXNBZG1pblxcXCIgc3F1YXJlZCBzaXplPVxcXCJzbVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGdyaWQ7XFxcIlxcbiAgICAgICAgICAgICAgICAgIDp0aXRsZT1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGUgPyAnSGlkZSBjb21wb25lbnQnIDogJ1Nob3cgY29tcG9uZW50J1xcXCJcXG4gICAgICAgICAgICAgICAgICB2LXNob3c9XFxcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWRcXFwiXFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGNvbXBvbmVudC50eXBlLCAnY2xpZW50VmlzaWJsZScsICFjb21wb25lbnQuY2xpZW50VmlzaWJsZSlcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIHYtc2hvdz1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGVcXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllXFxcIi8+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgdi1zaG93PVxcXCIhY29tcG9uZW50LmNsaWVudFZpc2libGVcXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllLXNsYXNoXFxcIi8+PC9kaXY+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgICAgPGItYnV0dG9uIHYtaWY9XFxcImlzQWRtaW5cXFwiIHNxdWFyZWQgc2l6ZT1cXFwic21cXFwiIHZhcmlhbnQ9XFxcInByaW1hcnlcXFwiIHRpdGxlPVxcXCJGdWxsc2NyZWVuXFxcIlxcbiAgICAgICAgICAgICAgICAgIHYtc2hvdz1cXFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4gIT09IHVuZGVmaW5lZFxcXCIgQGNsaWNrPVxcXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiA9IHRydWVcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWV4cGFuZFxcXCIvPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiBzcXVhcmVkIHNpemU9XFxcInNtXFxcIiB2YXJpYW50PVxcXCJkYW5nZXJcXFwiIHRpdGxlPVxcXCJEZWxldGVcXFwiIHYtc2hvdz1cXFwiY29tcG9uZW50Ll9jYW5EZWxldGVcXFwiXFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICckJywgJ3JlbW92ZUNvbXBvbmVudCcsIGNvbXBvbmVudC50eXBlLCBjb21wb25lbnQubXVsdGlJZClcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRyYXNoXFxcIi8+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGItY29sbGFwc2Ugdi1tb2RlbD1cXFwidmlzaWJsZVxcXCIgY2xhc3M9XFxcImN3cmFwcGVyX2NvbXBvbmVudC1ib2R5XFxcIiB2aXNpYmxlPlxcbiAgICAgIDxjb21wb25lbnQgdi1iaW5kOmlzPVxcXCJjb21wb25lbnRUeXBlXFxcIiB2LWJpbmQ6Y29tcG9uZW50PVxcXCJjb21wb25lbnRcXFwiIHYtYmluZDppc0FkbWluPVxcXCJpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgdi1vbjplY3MtcHJvcGVydHktY2hhbmdlPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSlcXFwiPlxcblxcbiAgICAgIDwvY29tcG9uZW50PlxcbiAgICA8L2ItY29sbGFwc2U+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBlY3NOYW1lIGZyb20gXFxcIi4vZWNzTmFtZS52dWVcXFwiO1xcbmltcG9ydCBlY3NOb3RlIGZyb20gXFxcIi4vZWNzTm90ZS52dWVcXFwiO1xcbmltcG9ydCBlY3NQb3NpdGlvbiBmcm9tIFxcXCIuL2Vjc1Bvc2l0aW9uLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1dhbGwgZnJvbSBcXFwiLi9lY3NXYWxsLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0JhY2tncm91bmRJbWFnZSBmcm9tIFxcXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWVcXFwiO1xcbmltcG9ydCBlY3NQaW4gZnJvbSBcXFwiLi9lY3NQaW4udnVlXFxcIjtcXG5pbXBvcnQgZWNzVHJhbnNmb3JtIGZyb20gXFxcIi4vZWNzVHJhbnNmb3JtLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0xpZ2h0IGZyb20gXFxcIi4vZWNzTGlnaHQudnVlXFxcIjtcXG5pbXBvcnQgZWNzUGxheWVyIGZyb20gXFxcIi4vZWNzUGxheWVyLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0Rvb3IgZnJvbSBcXFwiLi9lY3NEb29yLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1Byb3AgZnJvbSBcXFwiLi9lY3NQcm9wLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1Byb3BUZWxlcG9ydCBmcm9tIFxcXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWVcXFwiO1xcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFxcXCIuLi8uLi9lY3MvY29tcG9uZW50XFxcIlxcbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7XFxuICAgIGVjc05hbWUsIGVjc05vdGUsIGVjc1Bvc2l0aW9uLCBlY3NXYWxsLCBlY3NCYWNrZ3JvdW5kSW1hZ2UsIGVjc1BpbiwgZWNzVHJhbnNmb3JtLCBlY3NMaWdodCwgZWNzUGxheWVyLCBlY3NEb29yLFxcbiAgICBlY3NQcm9wLCBlY3NQcm9wVGVsZXBvcnRcXG4gIH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0NvbXBvbmVudFdyYXBwZXIgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBjb21wb25lbnQhOiBDb21wb25lbnQ7XFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcXG4gIGlzQWRtaW4hOiBib29sZWFuO1xcblxcbiAgdmlzaWJsZSA9IHRydWU7XFxuXFxuICBnZXQgY29tcG9uZW50VHlwZSgpOiBzdHJpbmcge1xcbiAgICByZXR1cm4gJ2Vjcy0nICsgdGhpcy5jb21wb25lbnQudHlwZS5yZXBsYWNlKCdfJywgJy0nKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5jd3JhcHBlcl9jb21wb25lbnQtaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuXFxuLmN3cmFwcGVyX2NvbXBvbmVudC1hcnJvdyB7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci10b3A6IDAuM2VtIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogMC4zZW0gc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDAuM2VtIHNvbGlkICNlZWVlZWU7XFxuICBtYXJnaW4tbGVmdDogMC4zZW07XFxuICBtYXJnaW4tdG9wOiAwLjE3NWVtO1xcbiAgdHJhbnNpdGlvbjogMC4zcztcXG59XFxuXFxuLmN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXIgYnV0dG9uOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG4uY3dyYXBwZXJfY29tcG9uZW50LWJvZHkge1xcbiAgbWFyZ2luLWxlZnQ6IDZweDtcXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzU0NWI2MjtcXG4gIHBhZGRpbmctbGVmdDogNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDAgNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG5cXG4uY3dyYXBwZXJfcm90YXRlIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XFxuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XFxufVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLm1vZGFsLWNvbnRlbnQtZGFyayB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTQ1YjYyICFpbXBvcnRhbnQ7XFxufVxcbi5ocHJpb3IuZWNzLW5vdGVfdGV4dGFyZWEge1xcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG4uaHByaW9yLmVjcy1ub3RlX3RleHRhcmVhOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2VlZWVlZTtcXG59XFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQXlDQTtFQUNBLG9DQUFBO0FBQ0E7QUFFQTtFQUNBLHVCQUFBO0VBQ0Esd0NBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtBQUNBO0FBRUE7RUFDQSxjQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdj5cXG4gICAgPGItdGV4dGFyZWEgcGxhY2Vob2xkZXI9XFxcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXFxcIiB2LW1vZGVsPVxcXCJub3RlXFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIiBjbGFzcz1cXFwiaHByaW9yIGVjcy1ub3RlX3RleHRhcmVhXFxcIlxcbiAgICAgICAgICAgICAgICBAY2hhbmdlPVxcXCJvbkNoYW5nZVxcXCIvPlxcbiAgICA8Yi1tb2RhbCB0aXRsZT1cXFwiTm90ZVxcXCIgdi1tb2RlbD1cXFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW5cXFwiIGhpZGUtZm9vdGVyIGhpZGUtaGVhZGVyXFxuICAgICAgICAgICAgIGRpYWxvZy1jbGFzcz1cXFwibW9kYWwtZnVsbHNjcmVlbiBtb2RhbC14eGxcXFwiIGNvbnRlbnQtY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnQtZGFya1xcXCI+XFxuICAgICAgPGItdGV4dGFyZWEgcGxhY2Vob2xkZXI9XFxcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXFxcIiB2LW1vZGVsPVxcXCJub3RlXFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XFxcIm9uQ2hhbmdlXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAxMDAlOyByZXNpemU6IG5vbmU7XFxcIiBjbGFzcz1cXFwiaHByaW9yIGVjcy1ub3RlX3RleHRhcmVhXFxcIi8+XFxuICAgICAgPHRlbXBsYXRlIHYtc2xvdDptb2RhbC1mb290ZXI+XFxuICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgPC9iLW1vZGFsPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5pbXBvcnQge05vdGVDb21wb25lbnR9IGZyb20gXFxcIi4uLy4uL2Vjcy9jb21wb25lbnRcXFwiO1xcblxcbkBWQ29tcG9uZW50XFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTm90ZSBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIGNvbXBvbmVudCE6IE5vdGVDb21wb25lbnQ7XFxuXFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIGlzQWRtaW4hOiBib29sZWFuO1xcblxcbiAgbm90ZTogc3RyaW5nID0gJyc7XFxuXFxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubm90ZScpXFxuICBvbkNOb3RlQ2hhbmdlZCh2YWw6IHN0cmluZykge1xcbiAgICB0aGlzLm5vdGUgPSB2YWw7XFxuICB9XFxuXFxuICBvbkNoYW5nZSgpIHtcXG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdub3RlJywgJ25vdGUnLCB0aGlzLm5vdGUsIHRoaXMuY29tcG9uZW50Lm11bHRpSWQpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuXFxuLm1vZGFsLWNvbnRlbnQtZGFyayB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTQ1YjYyICFpbXBvcnRhbnQ7XFxufVxcblxcbi5ocHJpb3IuZWNzLW5vdGVfdGV4dGFyZWEge1xcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4uaHByaW9yLmVjcy1ub3RlX3RleHRhcmVhOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2VlZWVlZTtcXG59XFxuXFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uZW50aXR5LWluc3BlY3RfY29tcG9uZW50LWJ0bi1oZWFkZXIge1xcbiAgbWFyZ2luOiAwLjVyZW07XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF3RkE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IHYtc2hvdz1cXFwiZGF0YS5jb21wb25lbnRzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJlbnRpdHktaW5zcGVjdF9jb21wb25lbnQtYnRuLWhlYWRlclxcXCI+XFxuICAgICAgPGItZHJvcGRvd24gdG9nZ2xlLWNsYXNzPVxcXCJyb3VuZGVkLTBcXFwiIHZhcmlhbnQ9XFxcInN1Y2Nlc3NcXFwiIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIj5cXG4gICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6YnV0dG9uLWNvbnRlbnQ+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtcGx1c1xcXCI+PC9pPlxcbiAgICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICAgIDxiLWRyb3Bkb3duLWl0ZW0gdi1mb3I9XFxcInggaW4gZGF0YS5hZGRhYmxlXFxcIiA6a2V5PVxcXCJ4LnR5cGVcXFwiIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2FkZENvbXBvbmVudCcsIHgudHlwZSlcXFwiPlxcbiAgICAgICAgICB7eyB4Lm5hbWUgfX1cXG4gICAgICAgIDwvYi1kcm9wZG93bi1pdGVtPlxcbiAgICAgIDwvYi1kcm9wZG93bj5cXG4gICAgICA8Yi1idXR0b24gc3F1YXJlZCA6dGl0bGU9XFxcImRhdGEuaGlkZGVuID8gJ1Nob3cgZW50aXR5JyA6ICdIaWRlIGVudGl0eSdcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBncmlkXFxcIiB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCJcXG4gICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJlbWl0U3BlY2lhbCgnaGlkZGVuJywgIWRhdGEuaGlkZGVuKVxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIDpzdHlsZT1cXFwie3Zpc2liaWxpdHk6IGRhdGEuaGlkZGVuID8gJ3Zpc2libGUnIDogJ2hpZGRlbid9XFxcIj48aSBjbGFzcz1cXFwiZmFzIGZhLWV5ZS1zbGFzaFxcXCIvPjwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZzExXFxcIiA6c3R5bGU9XFxcInt2aXNpYmlsaXR5OiBkYXRhLmhpZGRlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnfVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWVcXFwiLz48L2Rpdj5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdmFyaWFudD1cXFwiZGFuZ2VyXFxcIiB0aXRsZT1cXFwiRGVsZXRlIGVudGl0eVxcXCIgc3F1YXJlZFxcbiAgICAgICAgICAgICAgICBAY2xpY2s9XFxcImVtaXRTcGVjaWFsKCdkZWxldGUnKVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRyYXNoXFxcIj48L2k+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxlY3MtY29tcG9uZW50LXdyYXBwZXIgdi1mb3I9XFxcImNvbXAgb2YgZGF0YS5jb21wb25lbnRzXFxcIiB2LWJpbmQ6a2V5PVxcXCJjb21wLnR5cGUgKyAoY29tcC5tdWx0aUlkIHx8ICcnKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2LWJpbmQ6Y29tcG9uZW50PVxcXCJjb21wXFxcIiB2LWJpbmQ6aXNBZG1pbj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQGVjcy1wcm9wZXJ0eS1jaGFuZ2U9XFxcIm9uRWNzUHJvcGVydHlDaGFuZ2UoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKVxcXCIvPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgRWNzQ29tcG9uZW50V3JhcHBlciBmcm9tIFxcXCIuL2NvbXBXcmFwcGVyLnZ1ZVxcXCI7XFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFxcXCIuLi8uLi9lY3MvY29tcG9uZW50XFxcIjtcXG5pbXBvcnQge1dvcmxkfSBmcm9tIFxcXCIuLi8uLi9lY3Mvd29ybGRcXFwiO1xcbmltcG9ydCB7XFxuICBTRUxFQ1RJT05fVFlQRSxcXG4gIFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXFxuICBTZWxlY3Rpb25TeXN0ZW0sXFxuICBTZWxlY3Rpb25VaURhdGFcXG59IGZyb20gXFxcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXFxcIjtcXG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3MvcmVzb3VyY2VcXFwiO1xcbmltcG9ydCB7Y29tcG9uZW50Q2xvbmV9IGZyb20gXFxcIi4uLy4uL2Vjcy9lY3NVdGlsXFxcIjtcXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7XFxuICAgIEVjc0NvbXBvbmVudFdyYXBwZXIsXFxuICB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHlJbnNwZWN0IGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxcbiAgd29ybGQhOiBXb3JsZDtcXG5cXG4gIGRhdGE6IFNlbGVjdGlvblVpRGF0YSA9IHtcXG4gICAgdHlwZTogU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSxcXG4gICAgc2VsZWN0ZWRFbnRpdGllczogW10sXFxuICAgIGhpZGRlbjogZmFsc2UsXFxuICAgIGFkZGFibGU6IFtdLFxcbiAgICBjb21wb25lbnRzOiBbXSxcXG4gICAgX3NhdmU6IGZhbHNlLFxcbiAgICBfc3luYzogZmFsc2UsXFxuICB9O1xcblxcbiAgb25FY3NQcm9wZXJ0eUNoYW5nZSh0eXBlOiBzdHJpbmcsIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBhbnksIG11bHRpSWQ/OiBudW1iZXIpIHtcXG4gICAgbGV0IHNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcXG4gICAgc2VsZWN0aW9uU3lzLnNldFByb3BlcnR5KHRoaXMuZGF0YS5zZWxlY3RlZEVudGl0aWVzLCB0eXBlLCBwcm9wZXJ0eSwgdmFsdWUsIG11bHRpSWQpO1xcbiAgfVxcblxcbiAgZW1pdFNwZWNpYWwobmFtZTogc3RyaW5nLCBwYXI6IHVua25vd24pIHtcXG4gICAgdGhpcy5vbkVjc1Byb3BlcnR5Q2hhbmdlKCckJywgbmFtZSwgcGFyKTtcXG4gIH1cXG5cXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xcbiAgICBpZiAocmVzLnR5cGUgPT09IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUpIHtcXG4gICAgICB0aGlzLmRhdGEgPSBjb21wb25lbnRDbG9uZShyZXMpIGFzIFNlbGVjdGlvblVpRGF0YTtcXG4gICAgfVxcbiAgfVxcblxcbiAgbW91bnRlZCgpIHtcXG4gICAgdGhpcy5kYXRhID0gY29tcG9uZW50Q2xvbmUodGhpcy53b3JsZC5nZXRSZXNvdXJjZShTRUxFQ1RJT05fVUlfREFUQV9UWVBFKSBhcyBTZWxlY3Rpb25VaURhdGEpO1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gIH1cXG5cXG4gIHVubW91bnRlZCgpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuLmVudGl0eS1pbnNwZWN0X2NvbXBvbmVudC1idG4taGVhZGVyIHtcXG4gIG1hcmdpbjogMC41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5lZGl0LW1hcF9nYW1lIHtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQTRCQTtFQUNBLGlCQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiZWRpdC1tYXBfZ2FtZVxcXCI+XFxuXFxuICAgIDx0b29sLWJhciB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIj5cXG4gICAgPC90b29sLWJhcj5cXG5cXG4gICAgPGRpdiBpZD1cXFwiY2FudmFzLWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSk7XFxcIj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxzaWRlLWJhciB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIj5cXG4gICAgPC9zaWRlLWJhcj5cXG5cXG4gICAgPGEgaWQ9XFxcImhpZGRlbi1kb3dubG9hZC1saW5rXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiLz5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IFZ1ZSBmcm9tIFxcXCJ2dWVcXFwiO1xcbmltcG9ydCBUb29sQmFyIGZyb20gXFxcIi4vdG9vbEJhci52dWVcXFwiO1xcbmltcG9ydCBTaWRlQmFyIGZyb20gXFxcIi4vc2lkZUJhci52dWVcXFwiO1xcblxcbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe1xcbiAgY29tcG9uZW50czoge1Rvb2xCYXIsIFNpZGVCYXJ9LFxcbiAgcHJvcHM6IFsnd29ybGQnXSxcXG59KTtcXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuLmVkaXQtbWFwX2dhbWUge1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcbjwvc3R5bGU+XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLnNpZGViYXItZm9vdGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUE4RUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxiLXNpZGViYXIgaWQ9XFxcInNpZGViYXItcmlnaHRcXFwiIHRpdGxlPVxcXCJTaWRlYmFyXFxcIlxcbiAgICAgICAgICAgICBiZy12YXJpYW50PVxcXCJkYXJrXFxcIiB0ZXh0LXZhcmlhbnQ9XFxcImxpZ2h0XFxcIiByaWdodCB2aXNpYmxlIG5vLWhlYWRlciBzaGFkb3dcXG4gICAgICAgICAgICAgc2lkZWJhci1jbGFzcz1cXFwidW5kZXItbmF2YmFyXFxcIj5cXG4gICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgR1JJRCBDT05UUk9MICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cXG4gICAgPGdyaWQtZWRpdCBjbGFzcz1cXFwicHgtMyBweS0yXFxcIiB2LXNob3c9XFxcInRvb2wgPT09ICdncmlkJ1xcXCIgdi1iaW5kOndvcmxkPVxcXCJ3b3JsZFxcXCIvPlxcbiAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBFTlRJVFkgSU5TUEVDVE9SICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cXG4gICAgPGRpdiB2LXNob3c9XFxcInRvb2wgPT09ICdpbnNwZWN0J1xcXCI+XFxuICAgICAgPGVudGl0eS1pbnNwZWN0IHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiLz5cXG4gICAgPC9kaXY+XFxuICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgIExJR0hUIFNFVFRJTkdTICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cXG4gICAgPGxpZ2h0LXNldHRpbmdzLWVkaXQgIHYtc2hvdz1cXFwidG9vbCA9PT0gJ2xpZ2h0J1xcXCIgdi1iaW5kOndvcmxkPVxcXCJ3b3JsZFxcXCI+XFxuICAgIDwvbGlnaHQtc2V0dGluZ3MtZWRpdD5cXG5cXG4gICAgPHRlbXBsYXRlIHYtc2xvdDpmb290ZXI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwic2lkZWJhci1mb290ZXJcXFwiPlxcbiAgICAgICAge3sgY29ubmVjdGlvbkNvdW50IH19XFxuICAgICAgICA8ZGl2IHYtYmluZDpjbGFzcz1cXFwieyByb3RhdGU6IGNvbm5lY3Rpb25CdWZmZXJpbmcgfVxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OiAwLjJyZW1cXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXN5bmMtYWx0XFxcIj48L2k+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC90ZW1wbGF0ZT5cXG4gIDwvYi1zaWRlYmFyPlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuXFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3Jlc291cmNlXFxcIjtcXG5pbXBvcnQge1dvcmxkfSBmcm9tIFxcXCIuLi8uLi9lY3Mvd29ybGRcXFwiO1xcbmltcG9ydCB7QkFDS0dST1VORF9MQVlFUl9UWVBFLCBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbVxcXCI7XFxuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXFxcIjtcXG5pbXBvcnQge1Rvb2x9IGZyb20gXFxcIi4uLy4uL2Vjcy90b29scy90b29sVHlwZVxcXCI7XFxuaW1wb3J0IEdyaWRFZGl0IGZyb20gXFxcIi4vZ3JpZEVkaXQudnVlXFxcIjtcXG5pbXBvcnQgTGlnaHRTZXR0aW5nc0VkaXQgZnJvbSBcXFwiLi9saWdodFNldHRpbmdzRWRpdC52dWVcXFwiO1xcbmltcG9ydCBFbnRpdHlJbnNwZWN0IGZyb20gXFxcIi4uL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVxcXCI7XFxuaW1wb3J0IHtTZWxlY3Rpb25TeXN0ZW19IGZyb20gXFxcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXFxcIjtcXG5pbXBvcnQge0RFRkFVTFRfTElHSFRfU0VUVElOR1MsIExpZ2h0U2V0dGluZ3MsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cXFwiO1xcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xcbmltcG9ydCB7TkVUV09SS19TVEFUVVNfVFlQRSwgTmV0d29ya1N0YXR1c1Jlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHtcXG4gICAgR3JpZEVkaXQsIEVudGl0eUluc3BlY3QsIExpZ2h0U2V0dGluZ3NFZGl0LFxcbiAgfVxcbn0pXFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbEJhciBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxcbiAgd29ybGQhOiBXb3JsZDtcXG5cXG4gIHRvb2wgPSAnaW5zcGVjdCc7XFxuICBjb25uZWN0aW9uQ291bnQgPSAwO1xcbiAgY29ubmVjdGlvbkJ1ZmZlcmluZyA9IGZhbHNlO1xcblxcbiAgbW91bnRlZCgpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XFxuICB9XFxuXFxuICB1bm1vdW50ZWQoKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gIH1cXG5cXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xcbiAgICBpZiAocmVzLnR5cGUgPT09IFRPT0xfVFlQRSkge1xcbiAgICAgIHRoaXMudG9vbCA9IChyZXMgYXMgVG9vbFJlc291cmNlKS50b29sITtcXG4gICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gTkVUV09SS19TVEFUVVNfVFlQRSkge1xcbiAgICAgIGxldCByID0gcmVzIGFzIE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcXG4gICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudCA9IHIuY29ubmVjdGlvbkNvdW50O1xcbiAgICAgIHRoaXMuY29ubmVjdGlvbkJ1ZmZlcmluZyA9IHIuaXNCdWZmZXJpbmc7XFxuICAgIH1cXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuXFxuPHN0eWxlPlxcblxcbi5zaWRlYmFyLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLnRvb2xiYXItYnRuLnBsei1wcmlvcml0aXplIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcXG4gIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcXG59XFxuLnBsei1wcmlvcml0aXplLnVuZG8tcmVkby1idG4uZGlzYWJsZWQsIC5wbHotcHJpb3JpdGl6ZS51bmRvLXJlZG8tYnRuOmRpc2FibGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzNDNhNDA7XFxuICBib3JkZXItY29sb3I6ICMzNDNhNDA7XFxuICBib3gtc2hhZG93OiBub25lO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQThIQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FBQ0E7QUFHQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxiLWJ1dHRvbi10b29sYmFyIHR5cGU9XFxcImRhcmtcXFwiIHZhcmlhbnQ9XFxcImluZm9cXFwiIGNsYXNzPVxcXCJiZy1kYXJrXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IHZhcigtLXRvcGJhci1oZWlnaHQpOyB6LWluZGV4OiAxMDAwO1xcXCIganVzdGlmeT5cXG4gICAgPGItYnV0dG9uLWdyb3VwIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiBzdHlsZT1cXFwibWFyZ2luLXJpZ2h0OiAycmVtXFxcIj5cXG4gICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIlVuZG9cXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplIHVuZG8tcmVkby1idG5cXFwiIDpkaXNhYmxlZD1cXFwiIXRoaXMuY2FuVW5kb1xcXCIgdi1vbjpjbGljaz1cXFwidW5kbygpXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtdW5kb1xcXCI+PC9pPlxcbiAgICAgIDwvYi1idXR0b24+XFxuICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJSZWRvXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZSB1bmRvLXJlZG8tYnRuXFxcIiA6ZGlzYWJsZWQ9XFxcIiF0aGlzLmNhblJlZG9cXFwiIHYtb246Y2xpY2s9XFxcInJlZG8oKVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXJlZG9cXFwiPjwvaT5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICA8L2ItYnV0dG9uLWdyb3VwPlxcblxcbiAgICA8Yi1yYWRpby1ncm91cCBidXR0b25zIHYtbW9kZWw9XFxcInRvb2xcXFwiPlxcbiAgICAgIDxiLXJhZGlvIHJlZj1cXFwicmFkaW9pbnNwZWN0XFxcIiB0aXRsZT1cXFwiSW5zcGVjdFxcXCIgdmFsdWU9XFxcImluc3BlY3RcXFwiIHNxdWFyZWRcXG4gICAgICAgICAgICAgICA6Y2xhc3M9XFxcInsndG9vbGJhci1idG4nOiB0aGlzLmJhY2tncm91bmRMb2NrZWQsICdidG4td2FybmluZyc6ICF0aGlzLmJhY2tncm91bmRMb2NrZWR9XFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtaGFuZC1wb2ludGVyXFxcIj48L2k+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB0aXRsZT1cXFwiQWRkIHdhbGxcXFwiIHZhbHVlPVxcXCJjcmVhdGVfd2FsbFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPHdhbGwtaWNvbi8+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB0aXRsZT1cXFwiQWRkIHByb3BcXFwiIHZhbHVlPVxcXCJjcmVhdGVfcHJvcFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1jb3VjaFxcXCI+PC9pPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdGl0bGU9XFxcIkFkZCBwaW5cXFwiIHZhbHVlPVxcXCJjcmVhdGVfcGluXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRodW1idGFja1xcXCI+PC9pPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdGl0bGU9XFxcIkVkaXQgZ3JpZFxcXCIgdmFsdWU9XFxcImdyaWRcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYm9yZGVyLWFsbFxcXCIvPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdGl0bGU9XFxcIkxpZ2h0IHNldHRpbmdzXFxcIiB2YWx1ZT1cXFwibGlnaHRcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtbGlnaHRidWxiXFxcIi8+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIiB0aXRsZT1cXFwiTWVhc3VyZVxcXCIgdmFsdWU9XFxcIm1lYXN1cmVcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtcnVsZXJcXFwiLz5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdGl0bGU9XFxcIk1vdXNlIHRyYWlsXFxcIiB2YWx1ZT1cXFwibW91c2VfdHJhaWxcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDxtb3VzZS10cmFpbC1pY29uLz5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgIDwvYi1yYWRpby1ncm91cD5cXG4gICAgPGItYnV0dG9uIHRpdGxlPVxcXCJFeHBvcnQgbWFwXFxcIiBzcXVhcmVkIHZhcmlhbnQ9XFxcInN1Y2Nlc3NcXFwiIGNsYXNzPVxcXCJidG4teHNcXFwiXFxuICAgICAgICAgICAgICB2LW9uOmNsaWNrPVxcXCJ3b3JsZC5ldmVudHMuZW1pdCgnZXhwb3J0X21hcCcpXFxcIiB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCI+XFxuICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1kb3dubG9hZFxcXCIvPlxcbiAgICA8L2ItYnV0dG9uPlxcblxcbiAgICA8ZGl2IHN0eWxlPVxcXCJmbGV4OiAxIDEgMDtcXFwiLz4gPCEtLSBTcGFjaW5nIC0tPlxcbiAgICA8Yi1idXR0b24gdGl0bGU9XFxcIlRvZ2dsZSBzaWRlYmFyXFxcIiB2YXJpYW50PVxcXCJ3YXJuaW5nXFxcIiBjbGFzcz1cXFwiYnRuLXhzXFxcIiB2LWItdG9nZ2xlLnNpZGViYXItcmlnaHQ+XFxuICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1hbmdsZS1kb3VibGUtcmlnaHRcXFwiLz5cXG4gICAgPC9iLWJ1dHRvbj5cXG4gIDwvYi1idXR0b24tdG9vbGJhcj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcblxcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9yZXNvdXJjZVxcXCI7XFxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcXFwiLi4vLi4vZWNzL3dvcmxkXFxcIjtcXG5pbXBvcnQge0JBQ0tHUk9VTkRfTEFZRVJfVFlQRSwgQmFja2dyb3VuZExheWVyUmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW1cXFwiO1xcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVxcXCI7XFxuaW1wb3J0IHtUb29sfSBmcm9tIFxcXCIuLi8uLi9lY3MvdG9vbHMvdG9vbFR5cGVcXFwiO1xcblxcbmltcG9ydCBNb3VzZVRyYWlsSWNvbiBmcm9tIFxcXCIuLi9pY29ucy9tb3VzZVRyYWlsSWNvbi52dWVcXFwiO1xcbmltcG9ydCBXYWxsSWNvbiBmcm9tIFxcXCIuLi9pY29ucy93YWxsSWNvbi52dWVcXFwiO1xcblxcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHtNb3VzZVRyYWlsSWNvbiwgV2FsbEljb259XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sQmFyIGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXFxuICB3b3JsZCE6IFdvcmxkO1xcblxcbiAgdG9vbCA9ICdpbnNwZWN0JztcXG4gIGJhY2tncm91bmRMb2NrZWQ6IGJvb2xlYW4gPSB0cnVlO1xcblxcbiAgY2FuVW5kbyA9IGZhbHNlO1xcbiAgY2FuUmVkbyA9IGZhbHNlO1xcblxcbiAgbW91bnRlZCgpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21tYW5kX2hpc3RvcnlfY2hhbmdlJywgdGhpcy5vbkNvbW1hbmRIaXN0b3J5Q2hhbmdlLCB0aGlzKTtcXG5cXG4gICAgbGV0IHggPSAodGhpcy4kcmVmcy5yYWRpb2luc3BlY3QgYXMgVnVlKTtcXG4gICAgeC4kZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xcbiAgICAgIGlmICghKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcXG4gICAgICBpZiAodGhpcy50b29sID09PSAnaW5zcGVjdCcpIHtcXG4gICAgICAgIGxldCBsb2NrZWQgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIGFzIEJhY2tncm91bmRMYXllclJlc291cmNlKS5sb2NrZWQ7XFxuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCQUNLR1JPVU5EX0xBWUVSX1RZUEUsIHsgbG9ja2VkOiAhbG9ja2VkIH0pO1xcbiAgICAgIH1cXG4gICAgfSk7XFxuICB9XFxuXFxuICB1bm1vdW50ZWQoKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdjb21tYW5kX2hpc3RvcnlfY2hhbmdlJywgdGhpcy5vbkNvbW1hbmRIaXN0b3J5Q2hhbmdlLCB0aGlzKTtcXG4gIH1cXG5cXG4gIG9uQ29tbWFuZEhpc3RvcnlDaGFuZ2UoY2FuVW5kbzogYm9vbGVhbiwgY2FuUmVkbzogYm9vbGVhbikge1xcbiAgICB0aGlzLmNhblVuZG8gPSBjYW5VbmRvO1xcbiAgICB0aGlzLmNhblJlZG8gPSBjYW5SZWRvO1xcbiAgfVxcblxcbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XFxuICAgIGlmIChyZXMudHlwZSA9PT0gQkFDS0dST1VORF9MQVlFUl9UWVBFKSB7XFxuICAgICAgdGhpcy5iYWNrZ3JvdW5kTG9ja2VkID0gKHJlcyBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSkubG9ja2VkO1xcbiAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBUT09MX1RZUEUpIHtcXG4gICAgICB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XFxuICAgIH1cXG4gIH1cXG5cXG4gIEBWV2F0Y2goJ3Rvb2wnKVxcbiAgb25Ub29sRWRpdCh0b29sOiBUb29sKSB7XFxuICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKCd0b29sJywge3Rvb2x9KTtcXG4gIH1cXG5cXG4gIHVuZG8oKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfdW5kbycpO1xcbiAgfVxcblxcbiAgcmVkbygpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9yZWRvJyk7XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG5cXG4udG9vbGJhci1idG4ucGx6LXByaW9yaXRpemUge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xcbiAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xcbn1cXG5cXG5cXG4ucGx6LXByaW9yaXRpemUudW5kby1yZWRvLWJ0bi5kaXNhYmxlZCwgLnBsei1wcmlvcml0aXplLnVuZG8tcmVkby1idG46ZGlzYWJsZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0M2E0MDtcXG4gIGJvcmRlci1jb2xvcjogIzM0M2E0MDtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxufVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyBmcm9tIFwiLi4vLi4vcHVibGljL2ltYWdlcy9HaXRIdWItTWFyay1MaWdodC0zMnB4LnBuZ1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5mb290ZXJfY3JlZGl0cyB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcbi5mb290ZXJfZ2l0aHViIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzMnB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyArIFwiKTtcXG59XFxuLmZvb3Rlcl9naXRodWI6aG92ZXIge1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG4uZm9vdGVyX3Byb2ZpbGUge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4uZm9vdGVyX3Byb2ZpbGU6aG92ZXIge1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQXFCQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQUNBO0FBRUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EseURBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJmb290ZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb290ZXJfY3JlZGl0c1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibGlua3NcXFwiPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1Nub3d5Q29kZXIvZG5kbWVcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiZm9vdGVyX2dpdGh1YlxcXCI+PC9hPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxzbWFsbCBzdHlsZT1cXFwiY29sb3I6IGxpZ2h0Z3JheVxcXCI+XFxuICAgICAgICBEZXZlbG9wZWQgYnkgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1Nub3d5Q29kZXJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiZm9vdGVyX3Byb2ZpbGVcXFwiPlJvc3NpIExvcmVuem88L2E+IC9cXG4gICAgICAgIERyYXdpbmdzIGJ5IDxzcGFuIHN0eWxlPVxcXCJjb2xvcjogd2hpdGVcXFwiPkdpb3JnaWEgTml6em9saTwvc3Bhbj5cXG4gICAgICA8L3NtYWxsPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IFZ1ZSBmcm9tIFxcXCJ2dWVcXFwiO1xcblxcbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4uZm9vdGVyX2NyZWRpdHMge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICBwYWRkaW5nOiAyMHB4O1xcbn1cXG5cXG4uZm9vdGVyX2dpdGh1YiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiflB1YmxpYy9pbWFnZXMvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmdcXFwiKTtcXG59XFxuXFxuLmZvb3Rlcl9naXRodWI6aG92ZXIge1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG4uZm9vdGVyX3Byb2ZpbGUge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4uZm9vdGVyX3Byb2ZpbGU6aG92ZXIge1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5zLWhvbWUtY29udGFpbmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuLnMtaG9tZS10ZXh0IHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuLmJ0bi1lbnRyeSB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQTBFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxtQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcInBoYXNlLWNvbnRhaW5lciB0ZXh0LWNlbnRlciBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciByb3dcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDEwMHZoOyBtYXJnaW46IDA7XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGV4dC13aGl0ZVxcXCI+XFxuICAgICAgPHAgY2xhc3M9XFxcInRpdGxlXFxcIiBzdHlsZT1cXFwiZm9udC1zaXplOiAzLjVlbTsgbWFyZ2luOiAwO1xcXCI+RFJBVyZESUNFPC9wPlxcbiAgICAgIDxwIGNsYXNzPVxcXCJcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDJlbTtcXFwiPkRuZCBtYWRlIGV6ITwvcD5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXY+XFxuICAgICAgPGItYnV0dG9uIHZhcmlhbnQ9XFxcIndhcm5pbmdcXFwiIHNpemU9XFxcImxnXFxcIiBjbGFzcz1cXFwiYnRuLWVudHJ5XFxcIiB2LW9uOmNsaWNrPVxcXCJvbkNyZWF0ZU1hcFxcXCI+Q3JlYXRlIE1hcDwvYi1idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxiLWJ1dHRvbiB2YXJpYW50PVxcXCJpbmZvXFxcIiBzaXplPVxcXCJsZ1xcXCIgY2xhc3M9XFxcImJ0bi1lbnRyeVxcXCIgdi1vbjpjbGljaz1cXFwib25FZGl0TWFwXFxcIj5FZGl0IE1hcDwvYi1idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8Yi1tb2RhbCByZWY9XFxcIm1hcC1sb2FkLW1vZGFsXFxcIiBoaWRlLWZvb3RlciB0aXRsZT1cXFwiR2ltbWUgdGhlIG1hcFxcXCI+XFxuICAgICAgPGItZm9ybS1maWxlXFxuICAgICAgICAgIHYtbW9kZWw9XFxcImZpbGVcXFwiXFxuICAgICAgICAgIDpzdGF0ZT1cXFwiQm9vbGVhbihmaWxlKVxcXCJcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIkNob29zZSBhIGZpbGUgb3IgZHJvcCBpdCBoZXJlLi4uXFxcIlxcbiAgICAgICAgICBkcm9wLXBsYWNlaG9sZGVyPVxcXCJEcm9wIGZpbGUgaGVyZS4uLlxcXCJcXG4gICAgICAgICAgYWNjZXB0PVxcXCIuZG5kbVxcXCJcXG4gICAgICA+PC9iLWZvcm0tZmlsZT5cXG4gICAgPC9iLW1vZGFsPlxcblxcbiAgICA8Zm9vdGVyLWNvbXBvbmVudD48L2Zvb3Rlci1jb21wb25lbnQ+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBGb290ZXJDb21wb25lbnQgZnJvbSBcXFwiLi4vZm9vdGVyLnZ1ZVxcXCI7XFxuaW1wb3J0IE1hcElucHV0IGZyb20gXFxcIi4vbWFwSW5wdXQudnVlXFxcIjtcXG5cXG5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZ1ZSwgUGhhc2VWdWUsIFZXYXRjaCwgVlJlZn0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XFxuaW1wb3J0IHtCTW9kYWx9IGZyb20gXFxcImJvb3RzdHJhcC12dWVcXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHsgTWFwSW5wdXQsIEZvb3RlckNvbXBvbmVudCB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lQ29tcG9uZW50IGV4dGVuZHMgVnVlIGltcGxlbWVudHMgUGhhc2VWdWUge1xcbiAgQFZSZWYoJ21hcC1sb2FkLW1vZGFsJykgcmVhZG9ubHkgbWFwTG9hZE1vZGFsITogQk1vZGFsO1xcblxcbiAgZmlsZTogYW55ID0gbnVsbDtcXG4gIHBlbmRpbmdPcDogc3RyaW5nID0gXFxcIlxcXCI7XFxuICBldmVudEVtaXR0ZXIhOiBFdmVudEVtaXR0ZXI7XFxuXFxuICBvbkNyZWF0ZU1hcCgpIHtcXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcXFwiY3JlYXRlX21hcFxcXCIpO1xcbiAgfVxcblxcbiAgb25FZGl0TWFwKCkge1xcbiAgICB0aGlzLnBlbmRpbmdPcCA9ICdlZGl0JztcXG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuc2hvdygpO1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFxcXCJlZGl0X21hcFxcXCIpO1xcbiAgfVxcblxcbiAgbWFwTG9hZENhbmNlbCgpIHtcXG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuaGlkZSgpO1xcbiAgfVxcblxcbiAgQFZXYXRjaCgnZmlsZScpXFxuICBvbkZpbGVDaGFuZ2VkKHZhbDogYW55KSB7XFxuICAgIGlmICh2YWwgPT0gbnVsbCkgcmV0dXJuO1xcblxcbiAgICBjb25zb2xlLmxvZyhcXFwiRmlsZSBkcm9wcGVkLCBsb2FkaW5nOiBcXFwiICsgdGhpcy5wZW5kaW5nT3ApO1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHRoaXMucGVuZGluZ09wLCB0aGlzLmZpbGUpO1xcbiAgICB0aGlzLmZpbGUgPSBudWxsO1xcbiAgICB0aGlzLm1hcExvYWRDYW5jZWwoKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5zLWhvbWUtY29udGFpbmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLnMtaG9tZS10ZXh0IHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmJ0bi1lbnRyeSB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5zbG9hZGluZy1jb250YWluZXIge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG5cXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG4uc2xvYWRpbmctdGl0bGUge1xcbiAgZm9udC1zaXplOiA1ZW07XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBd0NBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7O0VBRUEsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtBQUNBO0FBQ0E7RUFDQSxjQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic2xvYWRpbmctY29udGFpbmVyXFxcIj5cXG4gICAgICA8aDEgY2xhc3M9XFxcInNsb2FkaW5nLXRpdGxlXFxcIj5EUkFXJkRJQ0U8L2gxPlxcbiAgICAgIDxoMj57e21lc3NhZ2V9fTwvaDI+XFxuICAgICAgPGg1PkxvYWRpbmc8L2g1PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IFZ1ZSBmcm9tIFxcXCJ2dWVcXFwiO1xcbmltcG9ydCB7VkNvbXBvbmVudH0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5jb25zdCBMT0FESU5HX1BIUkFTRVMgPSBbXFxuICBcXFwiUGVyc3VhZGluZyBkcmFnb25zIHRvIGNvb3BlcmF0ZS4uLlxcXCIsXFxuICBcXFwiQSBEd2FyZiwgYW4gRWxmIGFuZCBhIERyYWdvbmJvcmQgZW50ZXIgYSB0YXZlcm4uLi4gXFxcXFxcXCJXZSdyZSBsb29raW5nIGZvciBhIHF1ZXN0XFxcXFxcXCJcXFwiLFxcbiAgXFxcIkFuIGFuY2llbnQgbGVnZW5kIHRlbGxzIHRoYXQgaWYgeW91IGluc3VsdCBhIGRyYWdvbiB0byBleGhhdXN0aW9uLi4uIHRoZXknbGwgZWF0IHlvdSBhbnl3YXlzXFxcIixcXG4gIFxcXCJSZWNoYXJnaW5nIHNwZWxsIHNsb3RzLi4uXFxcIixcXG4gIFxcXCJSb2xsIGEgQ2hhcmlzbWEgc2F2aW5nIHRocm93Li4uXFxcIixcXG4gIFxcXCJMb25nIHJlc3QgaW4gcHJvZ3Jlc3MuLi5cXFwiLFxcbiAgXFxcIkZpdHRpbmcgb3V0IHRoZSBnb2JsaW4gYXJteS4uLlxcXCIsXFxuICBcXFwiVGhlIGxhc3QgYm9zcyB5b3Uga2lsbGVkIG1ldCBhIDIwdGggbGV2ZWwgY2hpZXJpYy4uLiBUaGUgcmVzdCBpcyB1cCB0byB5b3UhIDspXFxcIixcXG4gIFxcXCJUaGlzIG1hcCBvbmx5IGNvc3RzIDI1Z3AhXFxcIixcXG4gIFxcXCJTb3JyeSwgeW91J2QgYmV0dGVyIGNyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgc2hlZXRcXFwiLFxcbl07XFxuXFxuZnVuY3Rpb24gcmFuZG9tTWV4KCkge1xcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExPQURJTkdfUEhSQVNFUy5sZW5ndGgpO1xcbiAgcmV0dXJuIExPQURJTkdfUEhSQVNFU1tpXTtcXG59XFxuXFxuQFZDb21wb25lbnRcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nIGV4dGVuZHMgVnVlIHtcXG4gIG1lc3NhZ2UgPSByYW5kb21NZXgoKTtcXG59XFxuXFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbiAgLnNsb2FkaW5nLWNvbnRhaW5lciB7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXG5cXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB9XFxuICAuc2xvYWRpbmctdGl0bGUge1xcbiAgICBmb250LXNpemU6IDVlbTtcXG4gIH1cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi51dGlsX2Vjb2xvciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XFxuICBwYWRkaW5nOiAwLjEyNXJlbSAhaW1wb3J0YW50O1xcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xcbiAgaGVpZ2h0OiBjYWxjKDEuNWVtICsgMC43NXJlbSArIDJweCk7XFxuICB3aWR0aDogY2FsYygxLjVlbSArIDAuNzVyZW0gKyAycHgpO1xcbiAgbWFyZ2luLWxlZnQ6IDAuNWVtO1xcblxcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG4udXRpbF9lY29sb3I6Oi1tb3otY29sb3Itc3dhdGNoLCAudXRpbF9lY29sb3I6Oi13ZWJraXQtY29sb3Itc3dhdGNoLCAudXRpbF9lY29sb3I6Oi13ZWJraXQtY29sb3Itc3dhdGNoLXdyYXBwZXIge1xcbiAgYm9yZGVyOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF5QkE7RUFDQSx3Q0FBQTtFQUNBLHdCQUFBO0VBQ0EsdUJBQUE7RUFDQSw0QkFBQTtFQUNBLDJCQUFBO0VBQ0EsbUNBQUE7RUFDQSxrQ0FBQTtFQUNBLGtCQUFBOztFQUVBLHdCQUFBO0FBQ0E7QUFFQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGlucHV0IHR5cGU9XFxcImNvbG9yXFxcIiB2LWJpbmQ6dmFsdWU9XFxcInZhbHVlXFxcIiB2LW9uOmlucHV0PVxcXCIkZW1pdCgnaW5wdXQnLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxcXCJcXG4gICAgICAgICA6cmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIiA6cGxhY2Vob2xkZXI9XFxcInBsYWNlaG9sZGVyXFxcIiBAY2hhbmdlPVxcXCIkZW1pdCgnY2hhbmdlJylcXFwiXFxuICAgICAgICAgY2xhc3M9XFxcInV0aWxfZWNvbG9yXFxcIj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcblxcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5AVkNvbXBvbmVudFxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRhYmxlQ29sb3IgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICB2YWx1ZSE6IHN0cmluZztcXG5cXG4gIEBWUHJvcCh7ZGVmYXVsdDogZmFsc2V9KVxcbiAgcmVhZG9ubHkhOiBib29sZWFuO1xcblxcbiAgQFZQcm9wKHtkZWZhdWx0OiAnJ30pXFxuICBwbGFjZWhvbGRlciE6IHN0cmluZztcXG59XFxuXFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi51dGlsX2Vjb2xvciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XFxuICBwYWRkaW5nOiAwLjEyNXJlbSAhaW1wb3J0YW50O1xcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xcbiAgaGVpZ2h0OiBjYWxjKDEuNWVtICsgMC43NXJlbSArIDJweCk7XFxuICB3aWR0aDogY2FsYygxLjVlbSArIDAuNzVyZW0gKyAycHgpO1xcbiAgbWFyZ2luLWxlZnQ6IDAuNWVtO1xcblxcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG5cXG4udXRpbF9lY29sb3I6Oi1tb3otY29sb3Itc3dhdGNoLCAudXRpbF9lY29sb3I6Oi13ZWJraXQtY29sb3Itc3dhdGNoLCAudXRpbF9lY29sb3I6Oi13ZWJraXQtY29sb3Itc3dhdGNoLXdyYXBwZXIge1xcbiAgYm9yZGVyOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuPC9zdHlsZT5cXG5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4udXRpbF9lZGl0YWJsZS10ZXh0X2RpdiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW46IDVweDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4udXRpbF9lZGl0YWJsZS10ZXh0X2JvcmRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDFweDtcXG5cXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgdHJhbnNpdGlvbjogd2lkdGggMC4ycywgYm9yZGVyIDBzIDAuMnM7XFxufVxcbi51dGlsX2VkaXRhYmxlLXRleHRfaW5wdXQ6Zm9jdXMgfiAudXRpbF9lZGl0YWJsZS10ZXh0X2JvcmRlciB7XFxuICBib3JkZXItY29sb3I6ICM0Mjg1RjQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XFxufVxcbi5ocHJpb3IudXRpbF9lZGl0YWJsZS10ZXh0X2lucHV0IHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDNweCAxMHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNlZWVlZWU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBdUNBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQUNBO0FBRUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7O0VBRUEsNkJBQUE7RUFDQSxzQ0FBQTtBQUNBO0FBRUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxTQUFBO0VBQ0EsZ0NBQUE7RUFDQSxhQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwidXRpbF9lZGl0YWJsZS10ZXh0X2RpdlxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB2LWJpbmQ6dmFsdWU9XFxcInZhbHVlXFxcIiB2LW9uOmlucHV0PVxcXCJvbkV2ZW50KCdpbnB1dCcsICRldmVudClcXFwiXFxuICAgICAgICAgICAgIDpyZWFkb25seT1cXFwicmVhZG9ubHlcXFwiIDpwbGFjZWhvbGRlcj1cXFwicGxhY2Vob2xkZXJcXFwiIEBjaGFuZ2U9XFxcIm9uRXZlbnQoJ2NoYW5nZScsICRldmVudClcXFwiXFxuICAgICAgICAgICAgIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wtcGxhaW50ZXh0IGhwcmlvciB1dGlsX2VkaXRhYmxlLXRleHRfaW5wdXRcXFwiPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwidXRpbF9lZGl0YWJsZS10ZXh0X2JvcmRlclxcXCI+PC9zcGFuPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuXFxuQFZDb21wb25lbnRcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0YWJsZVRleHQgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICB2YWx1ZSE6IHN0cmluZztcXG5cXG4gIEBWUHJvcCh7ZGVmYXVsdDogZmFsc2V9KVxcbiAgcmVhZG9ubHkhOiBib29sZWFuO1xcblxcbiAgQFZQcm9wKHtkZWZhdWx0OiAnJ30pXFxuICBwbGFjZWhvbGRlciE6IHN0cmluZ1xcblxcbiAgQFZQcm9wKHtkZWZhdWx0OiB1bmRlZmluZWR9KVxcbiAgZmlsdGVyPzogKHRleHQ6IHN0cmluZykgPT4gc3RyaW5nO1xcblxcbiAgb25FdmVudChldjogc3RyaW5nLCBldmVudDogSW5wdXRFdmVudCkge1xcbiAgICBjb25zdCBldCA9IGV2ZW50LnRhcmdldCBhcyBhbnk7XFxuICAgIGlmICh0aGlzLmZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XFxuICAgICAgZXQudmFsdWUgPSB0aGlzLmZpbHRlcihldC52YWx1ZSk7XFxuICAgIH1cXG4gICAgdGhpcy4kZW1pdChldiwgZXQudmFsdWUpO1xcbiAgfVxcbn1cXG5cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuLnV0aWxfZWRpdGFibGUtdGV4dF9kaXYge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgbWFyZ2luOiA1cHg7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLnV0aWxfZWRpdGFibGUtdGV4dF9ib3JkZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAxcHg7XFxuXFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHRyYW5zaXRpb246IHdpZHRoIDAuMnMsIGJvcmRlciAwcyAwLjJzO1xcbn1cXG5cXG4udXRpbF9lZGl0YWJsZS10ZXh0X2lucHV0OmZvY3VzIH4gLnV0aWxfZWRpdGFibGUtdGV4dF9ib3JkZXIge1xcbiAgYm9yZGVyLWNvbG9yOiAjNDI4NUY0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xcbn1cXG5cXG4uaHByaW9yLnV0aWxfZWRpdGFibGUtdGV4dF9pbnB1dCB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBwYWRkaW5nOiAzcHggMTBweDtcXG4gIG1hcmdpbjogMDtcXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjZWVlZWVlO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuPC9zdHlsZT5cXG5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9ib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLmNzc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMV9fXyBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwLXZ1ZS9kaXN0L2Jvb3RzdHJhcC12dWUuY3NzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NZXJpZW5kYStPbmUmZGlzcGxheT1zd2FwKTtcIl0pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18uaShfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzBfX18pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18uaShfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzFfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3Qge1xcbiAgICAtLXRvcGJhci1oZWlnaHQ6IDQwcHg7XFxufVxcblxcbioge1xcbiAgICBmb250LWZhbWlseTogJ01lcmllbmRhIE9uZScsIGN1cnNpdmU7XFxufVxcblxcbmJvZHkge1xcbiAgICBjb2xvcjogd2hpdGU7XFxuXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFnQUFBQUlDQVlBQUFERUQ3NkxBQUFBUGtsRVFWUW9VMk5rWUdBd1ptQmdPTXNBQVNEMmN3WUdobWN3UGlPVUljWEF3Q0NKcEJET2h5bkEwQWt6Q2FRQTJRb01rMEFLUUlKd08rbnZCbU1BazJZV3ZEaFlCUm9BQUFBQVNVVk9SSzVDWUlJPSk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTQ3MmMgIWltcG9ydGFudDtcXG59XFxuXFxuLnBoYXNlLWNvbnRhaW5lciB7XFxufVxcblxcbi5mb290ZXIge1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIGJvdHRvbTogMDtcXG59XFxuXFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6IDYwMHB4KSB7XFxuICAgIC5mb290ZXIge1xcbiAgICAgICAgcG9zaXRpb246IHN0YXRpYztcXG4gICAgfVxcbn1cXG5cXG4udW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuZGl2LnVuZGVyLW5hdmJhciB7XFxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvcGJhci1oZWlnaHQpICFpbXBvcnRhbnQ7XFxufVxcblxcbi5iLXNpZGViYXIudW5kZXItbmF2YmFyIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpO1xcbn1cXG5cXG4uZm9vdGVyLCAuZ2FtZS1mb290ZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxuLmJ0bi14cyB7XFxuICAgIHBhZGRpbmc6IC4yNXJlbSAuNHJlbTtcXG4gICAgZm9udC1zaXplOiAuODc1cmVtO1xcbiAgICBsaW5lLWhlaWdodDogLjU7XFxuICAgIGJvcmRlci1yYWRpdXM6IC4ycmVtO1xcbn1cXG5cXG4ubW9kYWwtZnVsbHNjcmVlbiB7XFxuICAgIGhlaWdodDogOTIlO1xcbn1cXG4ubW9kYWwtZnVsbHNjcmVlbiAubW9kYWwtY29udGVudCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuLm1vZGFsLXh4bCB7XFxuICAgIHdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG4gICAgbWF4LXdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG59XFxuXFxuI2NhbnZhcy1jb250YWluZXIgY2FudmFzIHtcXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcXG59XFxuXFxuLmcxMSB7XFxuICAgIGdyaWQtY29sdW1uOiAxO1xcbiAgICBncmlkLXJvdzogMTtcXG59XFxuXFxuLnJvdGF0ZSB7XFxuICAgIGFuaW1hdGlvbjogcm90YXRpb24gMXMgaW5maW5pdGUgbGluZWFyO1xcbn1cXG5cXG4vKiogQU5JTUFUSU9OUyAqKi9cXG5cXG5Aa2V5ZnJhbWVzIHJvdGF0aW9uIHtcXG4gICAgZnJvbSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgfVxcbiAgICB0byB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xcbiAgICB9XFxufVxcblxcblxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9wdWJsaWMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUlBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksb0NBQW9DO0FBQ3hDOztBQUVBO0lBQ0ksWUFBWTs7SUFFWiw2TUFBNk07SUFDN00sb0NBQW9DO0FBQ3hDOztBQUVBO0FBQ0E7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsU0FBUztBQUNiOzs7QUFHQTtJQUNJO1FBQ0ksZ0JBQWdCO0lBQ3BCO0FBQ0o7O0FBRUE7SUFDSSwyQ0FBMkM7QUFDL0M7O0FBRUE7SUFDSSwyQ0FBMkM7QUFDL0M7O0FBRUE7SUFDSSwwQ0FBMEM7QUFDOUM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gscUNBQXFDO0FBQ3pDOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksV0FBVztBQUNmO0FBQ0E7SUFDSSxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksY0FBYztJQUNkLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHNDQUFzQztBQUMxQzs7QUFFQSxpQkFBaUI7O0FBRWpCO0lBQ0k7UUFDSSx1QkFBdUI7SUFDM0I7SUFDQTtRQUNJLHlCQUF5QjtJQUM3QjtBQUNKXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU1lcmllbmRhK09uZSZkaXNwbGF5PXN3YXAnKTtcXG5AaW1wb3J0ICd+Ym9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3MnO1xcbkBpbXBvcnQgJ35ib290c3RyYXAtdnVlL2Rpc3QvYm9vdHN0cmFwLXZ1ZS5jc3MnO1xcblxcbjpyb290IHtcXG4gICAgLS10b3BiYXItaGVpZ2h0OiA0MHB4O1xcbn1cXG5cXG4qIHtcXG4gICAgZm9udC1mYW1pbHk6ICdNZXJpZW5kYSBPbmUnLCBjdXJzaXZlO1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgY29sb3I6IHdoaXRlO1xcblxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBZ0FBQUFJQ0FZQUFBREVENzZMQUFBQVBrbEVRVlFvVTJOa1lHQXdabUJnT01zQUFTRDJjd1lHaG1jd1BpT1VJY1hBd0NDSnBCRE9oeW5BMEFrekNhUUEyUW9NazBBS1FJSndPK252Qm1NQWsyWVd2RGhZQlJvQUFBQUFTVVZPUks1Q1lJST0pO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU0NzJjICFpbXBvcnRhbnQ7XFxufVxcblxcbi5waGFzZS1jb250YWluZXIge1xcbn1cXG5cXG4uZm9vdGVyIHtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICBib3R0b206IDA7XFxufVxcblxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA2MDBweCkge1xcbiAgICAuZm9vdGVyIHtcXG4gICAgICAgIHBvc2l0aW9uOiBzdGF0aWM7XFxuICAgIH1cXG59XFxuXFxuLnVuZGVyLW5hdmJhciB7XFxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvcGJhci1oZWlnaHQpICFpbXBvcnRhbnQ7XFxufVxcblxcbmRpdi51bmRlci1uYXZiYXIge1xcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS10b3BiYXItaGVpZ2h0KSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYi1zaWRlYmFyLnVuZGVyLW5hdmJhciB7XFxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIHZhcigtLXRvcGJhci1oZWlnaHQpKTtcXG59XFxuXFxuLmZvb3RlciwgLmdhbWUtZm9vdGVyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5idG4teHMge1xcbiAgICBwYWRkaW5nOiAuMjVyZW0gLjRyZW07XFxuICAgIGZvbnQtc2l6ZTogLjg3NXJlbTtcXG4gICAgbGluZS1oZWlnaHQ6IC41O1xcbiAgICBib3JkZXItcmFkaXVzOiAuMnJlbTtcXG59XFxuXFxuLm1vZGFsLWZ1bGxzY3JlZW4ge1xcbiAgICBoZWlnaHQ6IDkyJTtcXG59XFxuLm1vZGFsLWZ1bGxzY3JlZW4gLm1vZGFsLWNvbnRlbnQge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5tb2RhbC14eGwge1xcbiAgICB3aWR0aDogOTIlICFpbXBvcnRhbnQ7XFxuICAgIG1heC13aWR0aDogOTIlICFpbXBvcnRhbnQ7XFxufVxcblxcbiNjYW52YXMtY29udGFpbmVyIGNhbnZhcyB7XFxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxufVxcblxcbi5nMTEge1xcbiAgICBncmlkLWNvbHVtbjogMTtcXG4gICAgZ3JpZC1yb3c6IDE7XFxufVxcblxcbi5yb3RhdGUge1xcbiAgICBhbmltYXRpb246IHJvdGF0aW9uIDFzIGluZmluaXRlIGxpbmVhcjtcXG59XFxuXFxuLyoqIEFOSU1BVElPTlMgKiovXFxuXFxuQGtleWZyYW1lcyByb3RhdGlvbiB7XFxuICAgIGZyb20ge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICAgIH1cXG4gICAgdG8ge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzU5ZGVnKTtcXG4gICAgfVxcbn1cXG5cXG5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI2NmNhNjMxNzdiY2E2ZjMzMGE3NGU4M2ZkYzYzMTc4LnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0NjFmMzU3OTI5ZjlmOGQ2M2RhMjBiODFlNzQzYTA5OS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZGExNjc5OGY0NmM2NjcyMzIzZjk1NjNjYzhjODM4YjkucG5nXCI7IiwiZnVuY3Rpb24gd2VicGFja0VtcHR5Q29udGV4dChyZXEpIHtcblx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdHRocm93IGU7XG59XG53ZWJwYWNrRW1wdHlDb250ZXh0LmtleXMgPSAoKSA9PiAoW10pO1xud2VicGFja0VtcHR5Q29udGV4dC5yZXNvbHZlID0gd2VicGFja0VtcHR5Q29udGV4dDtcbndlYnBhY2tFbXB0eUNvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0IHN5bmMgcmVjdXJzaXZlXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7IiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgZWNzTmFtZSBmcm9tIFwiLi9lY3NOYW1lLnZ1ZVwiO1xuaW1wb3J0IGVjc05vdGUgZnJvbSBcIi4vZWNzTm90ZS52dWVcIjtcbmltcG9ydCBlY3NQb3NpdGlvbiBmcm9tIFwiLi9lY3NQb3NpdGlvbi52dWVcIjtcbmltcG9ydCBlY3NXYWxsIGZyb20gXCIuL2Vjc1dhbGwudnVlXCI7XG5pbXBvcnQgZWNzQmFja2dyb3VuZEltYWdlIGZyb20gXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWVcIjtcbmltcG9ydCBlY3NQaW4gZnJvbSBcIi4vZWNzUGluLnZ1ZVwiO1xuaW1wb3J0IGVjc1RyYW5zZm9ybSBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlXCI7XG5pbXBvcnQgZWNzTGlnaHQgZnJvbSBcIi4vZWNzTGlnaHQudnVlXCI7XG5pbXBvcnQgZWNzUGxheWVyIGZyb20gXCIuL2Vjc1BsYXllci52dWVcIjtcbmltcG9ydCBlY3NEb29yIGZyb20gXCIuL2Vjc0Rvb3IudnVlXCI7XG5pbXBvcnQgZWNzUHJvcCBmcm9tIFwiLi9lY3NQcm9wLnZ1ZVwiO1xuaW1wb3J0IGVjc1Byb3BUZWxlcG9ydCBmcm9tIFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIlxuaW1wb3J0IHtWdWUsIFZDb21wb25lbnQsIFZQcm9wfSBmcm9tIFwiLi4vdnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIGVjc05hbWUsIGVjc05vdGUsIGVjc1Bvc2l0aW9uLCBlY3NXYWxsLCBlY3NCYWNrZ3JvdW5kSW1hZ2UsIGVjc1BpbiwgZWNzVHJhbnNmb3JtLCBlY3NMaWdodCwgZWNzUGxheWVyLCBlY3NEb29yLFxuICAgIGVjc1Byb3AsIGVjc1Byb3BUZWxlcG9ydFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzQ29tcG9uZW50V3JhcHBlciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIHZpc2libGUgPSB0cnVlO1xuXG4gIGdldCBjb21wb25lbnRUeXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdlY3MtJyArIHRoaXMuY29tcG9uZW50LnR5cGUucmVwbGFjZSgnXycsICctJyk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5pbXBvcnQge1Z1ZSwgVkNvbXBvbmVudCwgVlByb3B9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrZ3JvdW5kSW1hZ2VTeXN0ZW1cIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0JhY2tncm91bmRJbWFnZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBjb21wb25lbnQhOiBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ7XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge0Rvb3JDb21wb25lbnQsIERvb3JUeXBlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvZG9vclN5c3RlbVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzRG9vciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBjb21wb25lbnQhOiBEb29yQ29tcG9uZW50O1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgZG9vclR5cGU6IERvb3JUeXBlID0gRG9vclR5cGUuTk9STUFMX1JJR0hUO1xuICBvcGVuOiBib29sZWFuID0gZmFsc2U7XG4gIGxvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5kb29yVHlwZSAhPT0gdGhpcy5kb29yVHlwZSkge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdkb29yJywgJ2Rvb3JUeXBlJywgdGhpcy5kb29yVHlwZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbXBvbmVudC5vcGVuICE9PSB0aGlzLm9wZW4pIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnZG9vcicsICdvcGVuJywgdGhpcy5vcGVuKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LmxvY2tlZCAhPT0gdGhpcy5sb2NrZWQpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnZG9vcicsICdsb2NrZWQnLCB0aGlzLmxvY2tlZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGRvb3JUeXBlTmFtZSgpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcy5kb29yVHlwZSkge1xuICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfTEVGVDpcbiAgICAgICAgcmV0dXJuIFwiTm9ybWFsXCI7XG4gICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9SSUdIVDpcbiAgICAgICAgcmV0dXJuIFwiTm9ybWFsIHJpZ2h0XCI7XG4gICAgICBjYXNlIERvb3JUeXBlLlJPVEFURTpcbiAgICAgICAgcmV0dXJuIFwiUm90YXRpbmdcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIlVua25vd24/P1wiXG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmRvb3JUeXBlJylcbiAgb25DRG9vclR5cGVDaGFuZ2VkKHZhbDogRG9vclR5cGUpIHtcbiAgICB0aGlzLmRvb3JUeXBlID0gdmFsO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm9wZW4nKVxuICBvbkNPcGVuQ2hhbmdlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wZW4gPSB2YWw7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubG9ja2VkJylcbiAgb25DTG9ja2VkQ2hhbmdlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmxvY2tlZCA9IHZhbDtcbiAgfVxuXG4gIEBWV2F0Y2goJ2Rvb3JUeXBlJylcbiAgb25Eb29yVHlwZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG5cbiAgQFZXYXRjaCgnb3BlbicpXG4gIG9uT3BlbkNoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG5cbiAgQFZXYXRjaCgnbG9ja2VkJylcbiAgb25Mb2NrZWRDaGFuZ2VkKCkge1xuICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtMaWdodENvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQgaGV4MnN0cmluZyA9IFBJWEkudXRpbHMuaGV4MnN0cmluZztcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuaW1wb3J0IEVkaXRhYmxlQ29sb3IgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVDb2xvci52dWVcIjtcbmltcG9ydCBFZGl0YWJsZU51bWJlciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVDb2xvciwgRWRpdGFibGVOdW1iZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NMaWdodCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBMaWdodENvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgY29sb3I6IHN0cmluZyA9ICcnO1xuICByYW5nZTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IGMgPSBzdHJpbmcyaGV4KHRoaXMuY29sb3IpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5jb2xvciAhPT0gYyAmJiB0aGlzLmNvbG9yICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdsaWdodCcsICdjb2xvcicsIGMpO1xuICAgIH1cbiAgICBsZXQgciA9IHBhcnNlRmxvYXQodGhpcy5yYW5nZSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LnJhbmdlICE9PSByICYmIHRoaXMucmFuZ2UgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2xpZ2h0JywgJ3JhbmdlJywgcik7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmNvbG9yJylcbiAgb25DQ29sb3JDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5jb2xvciA9IHZhbCA9PT0gdW5kZWZpbmVkID8gJycgOiBoZXgyc3RyaW5nKHZhbCk7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQucmFuZ2UnKVxuICBvbkNSYW5nZUNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnJhbmdlID0gKHZhbCA/PyAnJykgKyAnJztcbiAgfVxufVxuIiwiXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge05hbWVDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQgRWRpdGFibGVUZXh0IGZyb20gXCIuLi91dGlsL2VkaXRhYmxlVGV4dC52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVUZXh0XG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NOYW1lIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IE5hbWVDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIG5hbWU6IHN0cmluZyA9ICcnO1xuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5uYW1lJylcbiAgb25DTmFtZUNoYW5nZWQodmFsOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLm5hbWUgPSB2YWwgPz8gJyc7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ25hbWUnLCAnbmFtZScsIHRoaXMubmFtZSwgdGhpcy5jb21wb25lbnQubXVsdGlJZCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge05vdGVDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NOb3RlIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IE5vdGVDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIG5vdGU6IHN0cmluZyA9ICcnO1xuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5ub3RlJylcbiAgb25DTm90ZUNoYW5nZWQodmFsOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5vdGUgPSB2YWw7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ25vdGUnLCAnbm90ZScsIHRoaXMubm90ZSwgdGhpcy5jb21wb25lbnQubXVsdGlJZCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UGluQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGluU3lzdGVtXCI7XG5pbXBvcnQgaGV4MnN0cmluZyA9IFBJWEkudXRpbHMuaGV4MnN0cmluZztcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuXG5pbXBvcnQgRWRpdGFibGVUZXh0IGZyb20gXCIuLi91dGlsL2VkaXRhYmxlVGV4dC52dWVcIjtcbmltcG9ydCBFZGl0YWJsZUNvbG9yIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlQ29sb3IudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlVGV4dCwgRWRpdGFibGVDb2xvclxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUGluIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBpbkNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgY29sb3I6IHN0cmluZyA9ICcnO1xuICBsYWJlbDogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IGMgPSBzdHJpbmcyaGV4KHRoaXMuY29sb3IpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5jb2xvciAhPT0gYyAmJiB0aGlzLmNvbG9yICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwaW4nLCAnY29sb3InLCBjKTtcbiAgICB9XG4gICAgbGV0IGxhYmVsOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmxhYmVsO1xuICAgIGlmICghbGFiZWwpIGxhYmVsID0gdW5kZWZpbmVkO1xuICAgIGlmIChsYWJlbCAhPT0gdGhpcy5jb21wb25lbnQubGFiZWwpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGluJywgJ2xhYmVsJywgbGFiZWwpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5jb2xvcicpXG4gIG9uQ0NvbG9yQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuY29sb3IgPSB2YWwgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBoZXgyc3RyaW5nKHZhbCk7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubGFiZWwnKVxuICBvbkNMYWJlbENoYW5nZWQodmFsOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmxhYmVsID0gdmFsID8/IFwiXCI7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UGxheWVyQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQgRWRpdGFibGVOdW1iZXIgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlTnVtYmVyXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NQbGF5ZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogUGxheWVyQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBuaWdodFZpc2lvbjogYm9vbGVhbiA9IGZhbHNlO1xuICByYW5nZTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Lm5pZ2h0VmlzaW9uICE9PSB0aGlzLm5pZ2h0VmlzaW9uKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3BsYXllcicsICduaWdodFZpc2lvbicsIHRoaXMubmlnaHRWaXNpb24pO1xuICAgIH1cbiAgICBsZXQgYyA9IHBhcnNlRmxvYXQodGhpcy5yYW5nZSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LnJhbmdlICE9PSBjICYmIHRoaXMucmFuZ2UgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3BsYXllcicsICdyYW5nZScsIGMpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5uaWdodFZpc2lvbicpXG4gIG9uQ05pZ2h0VmlzaW9uQ2hhbmdlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm5pZ2h0VmlzaW9uID0gdmFsO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnJhbmdlJylcbiAgb25DUmFuZ2VDaGFuZ2VkKHZhbDogbnVtYmVyKSB7XG4gICAgdGhpcy5yYW5nZSA9IHZhbCArICcnO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCBFZGl0YWJsZU51bWJlciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVOdW1iZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NQb3NpdGlvbiBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBQb3NpdGlvbkNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgeDogc3RyaW5nID0gJyc7XG4gIHk6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCB4ID0gcGFyc2VGbG9hdCh0aGlzLngpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC54ICE9PSB4ICYmIHRoaXMueCAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncG9zaXRpb24nLCAneCcsIHgpO1xuICAgIH1cbiAgICBsZXQgeSA9IHBhcnNlRmxvYXQodGhpcy55KTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQueSAhPT0geSAmJiB0aGlzLnkgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3Bvc2l0aW9uJywgJ3knLCB5KTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQueCcpXG4gIG9uQ3hDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy54ID0gKHZhbCA/PyAnJykgKyAnJztcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC55JylcbiAgb25DeUNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnkgPSAodmFsID8/ICcnKSArICcnO1xuICB9XG59XG4iLCJcblxuXG5cbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQcm9wQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcHJvcFN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzQmFja2dyb3VuZEltYWdlIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IFByb3BDb21wb25lbnQ7XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Byb3BUZWxlcG9ydH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3Byb3BTeXN0ZW1cIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1Byb3BUZWxlcG9ydCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBQcm9wVGVsZXBvcnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIGZvY3VzVGFyZ2V0KCkge1xuICAgIGNvbnNvbGUud2FybihcIlRPRE86IGZvY3VzIHRhcmdldFwiKVxuICB9XG5cbiAgbGluaygpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ0AnLCAncHJvcF90ZWxlcG9ydF9saW5rJywgdGhpcy5jb21wb25lbnQuZW50aXR5KTtcbiAgfVxuXG4gIHVzZSgpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ0AnLCAncHJvcF91c2UnLCB0aGlzLmNvbXBvbmVudC5lbnRpdHkpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge0RFR19UT19SQUQsIFJBRF9UT19ERUd9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1RyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCBFZGl0YWJsZU51bWJlciBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVOdW1iZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NUcmFuc2Zvcm0gZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogVHJhbnNmb3JtQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICByb3RhdGlvbjogc3RyaW5nID0gJyc7XG4gIHNjYWxlOiBzdHJpbmcgPSAnJztcblxuICBvbkNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5yb3RhdGlvbiAhPT0gJycpIHtcbiAgICAgIGxldCByID0gKCgocGFyc2VGbG9hdCh0aGlzLnJvdGF0aW9uKSAlIDM2MCkgKyAzNjApICUgMzYwKTtcbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5yb3RhdGlvbiAhPT0gcikge1xuICAgICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3RyYW5zZm9ybScsICdyb3RhdGlvbicsIHIgKiBERUdfVE9fUkFEKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc2NhbGUgIT09ICcnKSB7XG4gICAgICBsZXQgcyA9IHBhcnNlRmxvYXQodGhpcy5zY2FsZSk7XG4gICAgICBpZiAodGhpcy5jb21wb25lbnQuc2NhbGUgIT09IHMpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICd0cmFuc2Zvcm0nLCAnc2NhbGUnLCBzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQucm90YXRpb24nKVxuICBvbkNSb3RhdGlvbkNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnJvdGF0aW9uID0gKHZhbCA/PyAwKSAqIFJBRF9UT19ERUcgKyAnJztcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5zY2FsZScpXG4gIG9uQ1NjYWxlQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2NhbGUgPSAodmFsID8/IDApICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtXYWxsQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvd2FsbFN5c3RlbVwiO1xuaW1wb3J0IEVkaXRhYmxlTnVtYmVyIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZU51bWJlcixcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1dhbGwgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogV2FsbENvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgdzogc3RyaW5nID0gJyc7XG4gIGg6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCB3ID0gcGFyc2VGbG9hdCh0aGlzLncpO1xuICAgIGxldCBoID0gcGFyc2VGbG9hdCh0aGlzLmgpO1xuICAgIGlmICgodGhpcy5jb21wb25lbnQudmVjWzBdICE9PSB3ICYmIHRoaXMudyAhPT0gJycpIHx8ICh0aGlzLmNvbXBvbmVudC52ZWNbMV0gIT09IGggJiYgdGhpcy5oICE9PSAnJykpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnd2FsbCcsICd2ZWMnLCBbdywgaF0pO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC52ZWMnKVxuICBvbkN4Q2hhbmdlZCh2ZWM6IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQpIHtcbiAgICBpZiAodmVjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudyA9ICcnO1xuICAgICAgdGhpcy5oID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudyA9IHZlY1swXSArICcnO1xuICAgICAgdGhpcy5oID0gdmVjWzFdICsgJyc7XG4gICAgfVxuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IEVjc0NvbXBvbmVudFdyYXBwZXIgZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlXCI7XG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtcbiAgU0VMRUNUSU9OX1RZUEUsXG4gIFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXG4gIFNlbGVjdGlvblN5c3RlbSxcbiAgU2VsZWN0aW9uVWlEYXRhXG59IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9yZXNvdXJjZVwiO1xuaW1wb3J0IHtjb21wb25lbnRDbG9uZX0gZnJvbSBcIi4uLy4uL2Vjcy9lY3NVdGlsXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVjc0NvbXBvbmVudFdyYXBwZXIsXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHlJbnNwZWN0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgZGF0YTogU2VsZWN0aW9uVWlEYXRhID0ge1xuICAgIHR5cGU6IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXG4gICAgc2VsZWN0ZWRFbnRpdGllczogW10sXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBhZGRhYmxlOiBbXSxcbiAgICBjb21wb25lbnRzOiBbXSxcbiAgICBfc2F2ZTogZmFsc2UsXG4gICAgX3N5bmM6IGZhbHNlLFxuICB9O1xuXG4gIG9uRWNzUHJvcGVydHlDaGFuZ2UodHlwZTogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogYW55LCBtdWx0aUlkPzogbnVtYmVyKSB7XG4gICAgbGV0IHNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICBzZWxlY3Rpb25TeXMuc2V0UHJvcGVydHkodGhpcy5kYXRhLnNlbGVjdGVkRW50aXRpZXMsIHR5cGUsIHByb3BlcnR5LCB2YWx1ZSwgbXVsdGlJZCk7XG4gIH1cblxuICBlbWl0U3BlY2lhbChuYW1lOiBzdHJpbmcsIHBhcjogdW5rbm93bikge1xuICAgIHRoaXMub25FY3NQcm9wZXJ0eUNoYW5nZSgnJCcsIG5hbWUsIHBhcik7XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGNvbXBvbmVudENsb25lKHJlcykgYXMgU2VsZWN0aW9uVWlEYXRhO1xuICAgIH1cbiAgfVxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5kYXRhID0gY29tcG9uZW50Q2xvbmUodGhpcy53b3JsZC5nZXRSZXNvdXJjZShTRUxFQ1RJT05fVUlfREFUQV9UWVBFKSBhcyBTZWxlY3Rpb25VaURhdGEpO1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IFRvb2xCYXIgZnJvbSBcIi4vdG9vbEJhci52dWVcIjtcbmltcG9ydCBTaWRlQmFyIGZyb20gXCIuL3NpZGVCYXIudnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe1xuICBjb21wb25lbnRzOiB7VG9vbEJhciwgU2lkZUJhcn0sXG4gIHByb3BzOiBbJ3dvcmxkJ10sXG59KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0dyaWRUeXBlfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQge1Jlc291cmNlRWRpdENvbW1hbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL3Jlc291cmNlRWRpdENvbW1hbmRcIjtcblxudHlwZSBSZW5kZXJHcmlkT3B0cyA9IHtcbiAgdHlwZTogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG4gIG9mZlg6IG51bWJlcjtcbiAgb2ZmWTogbnVtYmVyO1xuICBjb2xvcjogc3RyaW5nO1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIHRoaWNrOiBudW1iZXI7XG59XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkRWRpdCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgZ3JpZDogUmVuZGVyR3JpZE9wdHMgPSB7XG4gICAgdHlwZTogXCJub25lXCIsXG4gICAgc2l6ZTogMSxcbiAgICBvZmZYOiAwLFxuICAgIG9mZlk6IDAsXG4gICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgdGhpY2s6IDIsXG4gIH07XG4gIGRpc2FibGVXYXRjaFNhdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICByZWxvYWRHcmlkKCkge1xuICAgIHRoaXMuZGlzYWJsZVdhdGNoU2F2ZSA9IHRydWU7XG5cbiAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2dyaWQnKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgc3dpdGNoIChncmlkLmdyaWRUeXBlKSB7XG4gICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046XG4gICAgICAgIHRoaXMuZ3JpZC50eXBlID0gJ2hleCdcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdyaWRUeXBlLlNRVUFSRTpcbiAgICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnc3F1YXJlJ1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoIWdyaWQudmlzaWJsZSkge1xuICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnbm9uZSc7XG4gICAgfVxuICAgIGxldCBvcHRzID0gZ3JpZDtcbiAgICB0aGlzLmdyaWQuc2l6ZSA9IG9wdHMuc2l6ZTtcbiAgICB0aGlzLmdyaWQub2ZmWCA9IG9wdHMub2ZmWDtcbiAgICB0aGlzLmdyaWQub2ZmWSA9IG9wdHMub2ZmWTtcbiAgICB0aGlzLmdyaWQuY29sb3IgPSBoZXgyc3RyaW5nKG9wdHMuY29sb3IpO1xuICAgIHRoaXMuZ3JpZC5vcGFjaXR5ID0gb3B0cy5vcGFjaXR5O1xuICAgIHRoaXMuZ3JpZC50aGljayA9IG9wdHMudGhpY2s7XG5cbiAgICB0aGlzLmRpc2FibGVXYXRjaFNhdmUgPSBmYWxzZTtcbiAgfVxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5yZWxvYWRHcmlkKCk7XG5cbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIHVubW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09ICdncmlkJykgdGhpcy5yZWxvYWRHcmlkKCk7XG4gIH1cblxuICBAVldhdGNoKCdncmlkJywgeyBkZWVwOiB0cnVlIH0pXG4gIG9uR3JpZENoYW5nZShuZXdHcmlkOiBhbnkpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlV2F0Y2hTYXZlKSByZXR1cm47XG4gICAgbmV3R3JpZC5vZmZYID0gTWF0aC5taW4obmV3R3JpZC5vZmZYLCBuZXdHcmlkLnNpemUpO1xuICAgIG5ld0dyaWQub2ZmWSA9IE1hdGgubWluKG5ld0dyaWQub2ZmWSwgbmV3R3JpZC5zaXplKTtcblxuICAgIGxldCB0eXBlO1xuICAgIHN3aXRjaCAobmV3R3JpZC50eXBlKSB7XG4gICAgICBjYXNlICdub25lJzpcbiAgICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICB0eXBlID0gR3JpZFR5cGUuSEVYQUdPTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzcXVhcmUnOlxuICAgICAgICB0eXBlID0gR3JpZFR5cGUuU1FVQVJFO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IGNtZCA9IHtcbiAgICAgIGtpbmQ6ICdyZWRpdCcsXG4gICAgICBhZGQ6IFtdLCByZW1vdmU6IFtdLFxuICAgICAgZWRpdDoge30sXG4gICAgfSBhcyBSZXNvdXJjZUVkaXRDb21tYW5kO1xuICAgIGlmICh0eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNtZC5lZGl0WydncmlkJ10gPSB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGdyaWRUeXBlOiB0eXBlLFxuICAgICAgICBzaXplOiBuZXdHcmlkLnNpemUsXG4gICAgICAgIG9mZlg6IG5ld0dyaWQub2ZmWCxcbiAgICAgICAgb2ZmWTogbmV3R3JpZC5vZmZZLFxuICAgICAgICBjb2xvcjogc3RyaW5nMmhleChuZXdHcmlkLmNvbG9yKSxcbiAgICAgICAgb3BhY2l0eTogcGFyc2VGbG9hdChuZXdHcmlkLm9wYWNpdHkpLFxuICAgICAgICB0aGljazogbmV3R3JpZC50aGljayxcbiAgICAgIH0gYXMgR3JpZFJlc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbWQuZWRpdFsnZ3JpZCddID0ge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfbG9nJywgY21kKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9yZXNvdXJjZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtERUZBVUxUX0xJR0hUX1NFVFRJTkdTLCBMaWdodFNldHRpbmdzLCBMb2NhbExpZ2h0U2V0dGluZ3N9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XG5pbXBvcnQgaGV4MnN0cmluZyA9IFBJWEkudXRpbHMuaGV4MnN0cmluZztcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRFZGl0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcbiAgd29ybGQhOiBXb3JsZDtcblxuICBhbWJpZW50TGlnaHQgPSAnIzAwMDAwMCc7XG4gIG5lZWRzTGlnaHQgPSB0cnVlO1xuICByb2xlcGxheVZpc2lvbiA9IGZhbHNlO1xuICBiYWNrZ3JvdW5kID0gJyMwMDAwMDAnO1xuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgdGhpcy5yZWxvYWRMaWdodCgpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gJ2xpZ2h0X3NldHRpbmdzJyB8fCByZXMudHlwZSA9PT0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykge1xuICAgICAgdGhpcy5yZWxvYWRMaWdodCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbG9hZExpZ2h0KCkge1xuICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2xpZ2h0X3NldHRpbmdzJykgYXMgTGlnaHRTZXR0aW5ncztcbiAgICB0aGlzLmFtYmllbnRMaWdodCA9IGhleDJzdHJpbmcobGlnaHQuYW1iaWVudExpZ2h0KTtcbiAgICB0aGlzLm5lZWRzTGlnaHQgPSBsaWdodC5uZWVkc0xpZ2h0O1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IGhleDJzdHJpbmcobGlnaHQuYmFja2dyb3VuZCk7XG4gICAgbGV0IGxsaWdodCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykgYXMgTG9jYWxMaWdodFNldHRpbmdzO1xuICAgIHRoaXMucm9sZXBsYXlWaXNpb24gPSBsbGlnaHQudmlzaW9uVHlwZSA9PT0gJ3JwJztcbiAgfVxuXG4gIG9uQW1iaWVudExpZ2h0Q2hhbmdlKCkge1xuICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgdHlwZTogJ2xpZ2h0X3NldHRpbmdzJyxcbiAgICAgIGFtYmllbnRMaWdodDogc3RyaW5nMmhleCh0aGlzLmFtYmllbnRMaWdodCksXG4gICAgICBuZWVkc0xpZ2h0OiB0aGlzLm5lZWRzTGlnaHQsXG4gICAgICBiYWNrZ3JvdW5kOiBzdHJpbmcyaGV4KHRoaXMuYmFja2dyb3VuZCksXG4gICAgfSBhcyBMaWdodFNldHRpbmdzLCAndXBkYXRlJyk7XG4gIH1cblxuICBvbkxpZ2h0U2V0dGluZ3NSZXNldCgpIHtcbiAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgdHlwZTogJ2xpZ2h0X3NldHRpbmdzJyxcbiAgICB9LCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTKSBhcyBMaWdodFNldHRpbmdzLCAndXBkYXRlJyk7XG4gICAgdGhpcy5yZWxvYWRMaWdodCgpO1xuICB9XG5cbiAgQFZXYXRjaCgncm9sZXBsYXlWaXNpb24nKVxuICBvblJQVmlzQ2hhbmdlKCkge1xuICAgIGxldCB2aXNpb25UeXBlID0gdGhpcy5yb2xlcGxheVZpc2lvbiA/ICdycCcgOiAnZG0nO1xuXG4gICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJywge3Zpc2lvblR5cGV9KTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9lY3Mvd29ybGRcIjtcbmltcG9ydCB7QkFDS0dST1VORF9MQVlFUl9UWVBFLCBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uLy4uL2Vjcy90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IEdyaWRFZGl0IGZyb20gXCIuL2dyaWRFZGl0LnZ1ZVwiO1xuaW1wb3J0IExpZ2h0U2V0dGluZ3NFZGl0IGZyb20gXCIuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZVwiO1xuaW1wb3J0IEVudGl0eUluc3BlY3QgZnJvbSBcIi4uL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiO1xuaW1wb3J0IHtTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtERUZBVUxUX0xJR0hUX1NFVFRJTkdTLCBMaWdodFNldHRpbmdzLCBMb2NhbExpZ2h0U2V0dGluZ3N9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcbmltcG9ydCB7TkVUV09SS19TVEFUVVNfVFlQRSwgTmV0d29ya1N0YXR1c1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9uZXR3b3JrU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEdyaWRFZGl0LCBFbnRpdHlJbnNwZWN0LCBMaWdodFNldHRpbmdzRWRpdCxcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xCYXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuXG4gIHRvb2wgPSAnaW5zcGVjdCc7XG4gIGNvbm5lY3Rpb25Db3VudCA9IDA7XG4gIGNvbm5lY3Rpb25CdWZmZXJpbmcgPSBmYWxzZTtcblxuICBtb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gVE9PTF9UWVBFKSB7XG4gICAgICB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XG4gICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gTkVUV09SS19TVEFUVVNfVFlQRSkge1xuICAgICAgbGV0IHIgPSByZXMgYXMgTmV0d29ya1N0YXR1c1Jlc291cmNlO1xuICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnQgPSByLmNvbm5lY3Rpb25Db3VudDtcbiAgICAgIHRoaXMuY29ubmVjdGlvbkJ1ZmZlcmluZyA9IHIuaXNCdWZmZXJpbmc7XG4gICAgfVxuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9lY3Mvd29ybGRcIjtcbmltcG9ydCB7QkFDS0dST1VORF9MQVlFUl9UWVBFLCBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uLy4uL2Vjcy90b29scy90b29sVHlwZVwiO1xuXG5pbXBvcnQgTW91c2VUcmFpbEljb24gZnJvbSBcIi4uL2ljb25zL21vdXNlVHJhaWxJY29uLnZ1ZVwiO1xuaW1wb3J0IFdhbGxJY29uIGZyb20gXCIuLi9pY29ucy93YWxsSWNvbi52dWVcIjtcblxuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtNb3VzZVRyYWlsSWNvbiwgV2FsbEljb259XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbEJhciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgdG9vbCA9ICdpbnNwZWN0JztcbiAgYmFja2dyb3VuZExvY2tlZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgY2FuVW5kbyA9IGZhbHNlO1xuICBjYW5SZWRvID0gZmFsc2U7XG5cbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tbWFuZF9oaXN0b3J5X2NoYW5nZScsIHRoaXMub25Db21tYW5kSGlzdG9yeUNoYW5nZSwgdGhpcyk7XG5cbiAgICBsZXQgeCA9ICh0aGlzLiRyZWZzLnJhZGlvaW5zcGVjdCBhcyBWdWUpO1xuICAgIHguJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmICghKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnRvb2wgPT09ICdpbnNwZWN0Jykge1xuICAgICAgICBsZXQgbG9ja2VkID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQkFDS0dST1VORF9MQVlFUl9UWVBFKSBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSkubG9ja2VkO1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCQUNLR1JPVU5EX0xBWUVSX1RZUEUsIHsgbG9ja2VkOiAhbG9ja2VkIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ2NvbW1hbmRfaGlzdG9yeV9jaGFuZ2UnLCB0aGlzLm9uQ29tbWFuZEhpc3RvcnlDaGFuZ2UsIHRoaXMpO1xuICB9XG5cbiAgb25Db21tYW5kSGlzdG9yeUNoYW5nZShjYW5VbmRvOiBib29sZWFuLCBjYW5SZWRvOiBib29sZWFuKSB7XG4gICAgdGhpcy5jYW5VbmRvID0gY2FuVW5kbztcbiAgICB0aGlzLmNhblJlZG8gPSBjYW5SZWRvO1xuICB9XG5cbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XG4gICAgaWYgKHJlcy50eXBlID09PSBCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIHtcbiAgICAgIHRoaXMuYmFja2dyb3VuZExvY2tlZCA9IChyZXMgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UpLmxvY2tlZDtcbiAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBUT09MX1RZUEUpIHtcbiAgICAgIHRoaXMudG9vbCA9IChyZXMgYXMgVG9vbFJlc291cmNlKS50b29sITtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoKCd0b29sJylcbiAgb25Ub29sRWRpdCh0b29sOiBUb29sKSB7XG4gICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoJ3Rvb2wnLCB7dG9vbH0pO1xuICB9XG5cbiAgdW5kbygpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3VuZG8nKTtcbiAgfVxuXG4gIHJlZG8oKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9yZWRvJyk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgRm9vdGVyQ29tcG9uZW50IGZyb20gXCIuLi9mb290ZXIudnVlXCI7XG5pbXBvcnQgTWFwSW5wdXQgZnJvbSBcIi4vbWFwSW5wdXQudnVlXCI7XG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWdWUsIFBoYXNlVnVlLCBWV2F0Y2gsIFZSZWZ9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCBFdmVudEVtaXR0ZXIgPSBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlcjtcbmltcG9ydCB7Qk1vZGFsfSBmcm9tIFwiYm9vdHN0cmFwLXZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHsgTWFwSW5wdXQsIEZvb3RlckNvbXBvbmVudCB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZUNvbXBvbmVudCBleHRlbmRzIFZ1ZSBpbXBsZW1lbnRzIFBoYXNlVnVlIHtcbiAgQFZSZWYoJ21hcC1sb2FkLW1vZGFsJykgcmVhZG9ubHkgbWFwTG9hZE1vZGFsITogQk1vZGFsO1xuXG4gIGZpbGU6IGFueSA9IG51bGw7XG4gIHBlbmRpbmdPcDogc3RyaW5nID0gXCJcIjtcbiAgZXZlbnRFbWl0dGVyITogRXZlbnRFbWl0dGVyO1xuXG4gIG9uQ3JlYXRlTWFwKCkge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJjcmVhdGVfbWFwXCIpO1xuICB9XG5cbiAgb25FZGl0TWFwKCkge1xuICAgIHRoaXMucGVuZGluZ09wID0gJ2VkaXQnO1xuICAgIHRoaXMubWFwTG9hZE1vZGFsLnNob3coKTtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiZWRpdF9tYXBcIik7XG4gIH1cblxuICBtYXBMb2FkQ2FuY2VsKCkge1xuICAgIHRoaXMubWFwTG9hZE1vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIEBWV2F0Y2goJ2ZpbGUnKVxuICBvbkZpbGVDaGFuZ2VkKHZhbDogYW55KSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm47XG5cbiAgICBjb25zb2xlLmxvZyhcIkZpbGUgZHJvcHBlZCwgbG9hZGluZzogXCIgKyB0aGlzLnBlbmRpbmdPcCk7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCh0aGlzLnBlbmRpbmdPcCwgdGhpcy5maWxlKTtcbiAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgIHRoaXMubWFwTG9hZENhbmNlbCgpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50fSBmcm9tIFwiLi4vdnVlXCI7XG5cbmNvbnN0IExPQURJTkdfUEhSQVNFUyA9IFtcbiAgXCJQZXJzdWFkaW5nIGRyYWdvbnMgdG8gY29vcGVyYXRlLi4uXCIsXG4gIFwiQSBEd2FyZiwgYW4gRWxmIGFuZCBhIERyYWdvbmJvcmQgZW50ZXIgYSB0YXZlcm4uLi4gXFxcIldlJ3JlIGxvb2tpbmcgZm9yIGEgcXVlc3RcXFwiXCIsXG4gIFwiQW4gYW5jaWVudCBsZWdlbmQgdGVsbHMgdGhhdCBpZiB5b3UgaW5zdWx0IGEgZHJhZ29uIHRvIGV4aGF1c3Rpb24uLi4gdGhleSdsbCBlYXQgeW91IGFueXdheXNcIixcbiAgXCJSZWNoYXJnaW5nIHNwZWxsIHNsb3RzLi4uXCIsXG4gIFwiUm9sbCBhIENoYXJpc21hIHNhdmluZyB0aHJvdy4uLlwiLFxuICBcIkxvbmcgcmVzdCBpbiBwcm9ncmVzcy4uLlwiLFxuICBcIkZpdHRpbmcgb3V0IHRoZSBnb2JsaW4gYXJteS4uLlwiLFxuICBcIlRoZSBsYXN0IGJvc3MgeW91IGtpbGxlZCBtZXQgYSAyMHRoIGxldmVsIGNoaWVyaWMuLi4gVGhlIHJlc3QgaXMgdXAgdG8geW91ISA7KVwiLFxuICBcIlRoaXMgbWFwIG9ubHkgY29zdHMgMjVncCFcIixcbiAgXCJTb3JyeSwgeW91J2QgYmV0dGVyIGNyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgc2hlZXRcIixcbl07XG5cbmZ1bmN0aW9uIHJhbmRvbU1leCgpIHtcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExPQURJTkdfUEhSQVNFUy5sZW5ndGgpO1xuICByZXR1cm4gTE9BRElOR19QSFJBU0VTW2ldO1xufVxuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZyBleHRlbmRzIFZ1ZSB7XG4gIG1lc3NhZ2UgPSByYW5kb21NZXgoKTtcbn1cblxuIiwiXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVDb2xvciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICB2YWx1ZSE6IHN0cmluZztcblxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcbiAgcmVhZG9ubHkhOiBib29sZWFuO1xuXG4gIEBWUHJvcCh7ZGVmYXVsdDogJyd9KVxuICBwbGFjZWhvbGRlciE6IHN0cmluZztcbn1cblxuIiwiXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IEVkaXRhYmxlVGV4dCBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlVGV4dFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVOdW1iZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgdmFsdWUhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcblxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiB0cnVlfSlcbiAgY2FuQmVOZWdhdGl2ZSE6IGJvb2xlYW47XG5cbiAgZmlsdGVyID0gKHM6IHN0cmluZykgPT4ge1xuICAgIGxldCBuZWcgPSBmYWxzZTtcbiAgICBpZiAoc1swXSA9PT0gJy0nKSB7XG4gICAgICBuZWcgPSB0aGlzLmNhbkJlTmVnYXRpdmU7XG4gICAgICBzID0gcy5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeCA9IG5lZyA/ICctJyA6ICcnO1xuICAgIHJldHVybiBwcmVmaXggKyBzLnNwbGl0KCcuJywgMilcbiAgICAgICAgLm1hcCh4ID0+IHgucmVwbGFjZSgvW14wLTldKi9nLCAnJykpXG4gICAgICAgIC5qb2luKCcuJyk7XG4gIH1cblxufVxuXG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0YWJsZVRleHQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgdmFsdWUhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcblxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmdcblxuICBAVlByb3Aoe2RlZmF1bHQ6IHVuZGVmaW5lZH0pXG4gIGZpbHRlcj86ICh0ZXh0OiBzdHJpbmcpID0+IHN0cmluZztcblxuICBvbkV2ZW50KGV2OiBzdHJpbmcsIGV2ZW50OiBJbnB1dEV2ZW50KSB7XG4gICAgY29uc3QgZXQgPSBldmVudC50YXJnZXQgYXMgYW55O1xuICAgIGlmICh0aGlzLmZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBldC52YWx1ZSA9IHRoaXMuZmlsdGVyKGV0LnZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy4kZW1pdChldiwgZXQudmFsdWUpO1xuICB9XG59XG5cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgJ3BpeGktbGF5ZXJzJ1xuXG5leHBvcnQgZGVmYXVsdCBQSVhJOyIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcblxuaW1wb3J0IFByb3BzSW1hZ2UgZnJvbSBcIlB1YmxpYy9pbWFnZXMvcHJvcHMucG5nXCI7XG5pbXBvcnQgUHJvcHNTcHJpdGVzaGVldCBmcm9tIFwiUHVibGljL3Nwcml0ZXNoZWV0cy9wcm9wcy5qc29uXCI7XG5cbmltcG9ydCBCYXNlVGV4dHVyZSA9IFBJWEkuQmFzZVRleHR1cmU7XG5pbXBvcnQgSW1hZ2VSZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2U7XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTcHJpdGVzaGVldChsb2FkZXI6IFBJWEkuTG9hZGVyLCBuYW1lOiBzdHJpbmcsIGltZ1VybDogc3RyaW5nLCBkYXRhOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltTcHJpdGVzaGVldF0gTG9hZGluZzogXCIgKyBuYW1lKTtcbiAgICAgICAgY29uc3QgaW1nRWxtID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZ0VsbS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICBpbWdFbG0ub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IEltYWdlUmVzb3VyY2UoaW1nRWxtKSkpO1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlc2hlZXQgPSBuZXcgUElYSS5TcHJpdGVzaGVldCh0ZXgsIGRhdGEpO1xuICAgICAgICAgICAgbG9hZGVyLnJlc291cmNlc1tuYW1lXSA9IG5ldyAoUElYSS5Mb2FkZXJSZXNvdXJjZSBhcyBhbnkpKG5hbWUsIFwiXCIpO1xuICAgICAgICAgICAgbG9hZGVyLnJlc291cmNlc1tuYW1lXS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1Nwcml0ZXNoZWV0XSBMb2FkZWQ6IFwiICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzcHJpdGVzaGVldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nRWxtLnNyYyA9IGltZ1VybDsgLy8gV2hlbiB0aGUgbGlzdGVuZXJzIGFyZSBzZXQsIHdlIGNhbiBmaW5hbGx5IHN0YXJ0IGRvd25sb2FkaW5nIHRoZSBpbWFnZS5cbiAgICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRBc3NldHMoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgbG9hZFNwcml0ZXNoZWV0KGxvYWRlciwgXCJwcm9wc1wiLCBQcm9wc0ltYWdlLCBQcm9wc1Nwcml0ZXNoZWV0KSxcbiAgICBdKTtcbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi93b3JsZFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZSwgTXVsdGlFY3NTdG9yYWdlLCBTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZW50aXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXVsdGlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIG11bHRpSWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaWRlYWJsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY2xpZW50VmlzaWJsZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OX1RZUEUgPSBcInBvc2l0aW9uXCI7XG5leHBvcnQgdHlwZSBQT1NJVElPTl9UWVBFID0gdHlwZW9mIFBPU0lUSU9OX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQT1NJVElPTl9UWVBFO1xuXG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFRSQU5TRk9STV9UWVBFID0gXCJ0cmFuc2Zvcm1cIjtcbmV4cG9ydCB0eXBlIFRSQU5TRk9STV9UWVBFID0gdHlwZW9mIFRSQU5TRk9STV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2Zvcm1Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFO1xuXG4gICAgc2NhbGU6IG51bWJlcjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgTkFNRV9UWVBFID0gXCJuYW1lXCI7XG5leHBvcnQgdHlwZSBOQU1FX1RZUEUgPSB0eXBlb2YgTkFNRV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBOYW1lQ29tcG9uZW50IGV4dGVuZHMgSGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50IHtcbiAgICB0eXBlOiBOQU1FX1RZUEU7XG5cbiAgICBuYW1lOiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IGNvbnN0IE5PVEVfVFlQRSA9IFwibm90ZVwiO1xuZXhwb3J0IHR5cGUgTk9URV9UWVBFID0gdHlwZW9mIE5PVEVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZUNvbXBvbmVudCBleHRlbmRzIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudCB7XG4gICAgdHlwZTogTk9URV9UWVBFO1xuXG4gICAgbm90ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgRk9MTE9XX01PVVNFX1RZUEUgPSBcImZvbGxvd19tb3VzZVwiO1xuZXhwb3J0IHR5cGUgRk9MTE9XX01PVVNFX1RZUEUgPSB0eXBlb2YgRk9MTE9XX01PVVNFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEZvbGxvd01vdXNlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRTtcbn1cblxuZXhwb3J0IGNvbnN0IEhPU1RfSElEREVOX1RZUEUgPSBcImhvc3RfaGlkZGVuXCI7XG5leHBvcnQgdHlwZSBIT1NUX0hJRERFTl9UWVBFID0gdHlwZW9mIEhPU1RfSElEREVOX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIaWRkZW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckNvbW1vblN0b3JhZ2UoZWNzOiBXb3JsZCkge1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBTaW5nbGVFY3NTdG9yYWdlKFBPU0lUSU9OX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgU2luZ2xlRWNzU3RvcmFnZShUUkFOU0ZPUk1fVFlQRSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBNdWx0aUVjc1N0b3JhZ2UoTkFNRV9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IE11bHRpRWNzU3RvcmFnZShOT1RFX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgRmxhZ0Vjc1N0b3JhZ2UoRk9MTE9XX01PVVNFX1RZUEUsIGZhbHNlLCBmYWxzZSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBGbGFnRWNzU3RvcmFnZShIT1NUX0hJRERFTl9UWVBFLCBmYWxzZSwgZmFsc2UpKTtcbn1cbiIsImltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudChjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2VudGl0eScgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50Q2xvbmUob2JqOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufSIsImltcG9ydCB7QWFiYn0gZnJvbSBcIi4uL2dlb21ldHJ5L2FhYmJcIjtcblxuZXhwb3J0IGVudW0gR2VvbWVydHlRdWVyeVR5cGUge1xuICAgIFBPSU5ULCBBQUJCLFxufVxuXG5leHBvcnQgY2xhc3MgUXVlcnlIaXRFdmVudCB7XG4gICAgcmVhZG9ubHkgdHlwZTogR2VvbWVydHlRdWVyeVR5cGU7XG4gICAgcmVhZG9ubHkgbXVsdGk6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgYWFiYjogQWFiYjsvLyBJZiBpdCdzIGEgcG9pbnQgbWluWCA9IG1heFggJiYgbWluWSA9IG1heFlcbiAgICByZWFkb25seSBkYXRhOiBQSVhJLklQb2ludERhdGEgfCBBYWJiO1xuXG4gICAgaGl0cyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHR5cGU6IEdlb21lcnR5UXVlcnlUeXBlLCBtdWx0aTogYm9vbGVhbiwgYWFiYjogQWFiYiwgZGF0YT86IFBJWEkuSVBvaW50RGF0YSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLm11bHRpID0gbXVsdGk7XG4gICAgICAgIHRoaXMuYWFiYiA9IGFhYmI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgYWFiYjtcbiAgICB9XG5cbiAgICBzaG91bGRDb250aW51ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGkgfHwgdGhpcy5oaXRzLnNpemUgPT09IDA7XG4gICAgfVxuXG4gICAgYWRkSGl0KGVudGl0eTogbnVtYmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRDb250aW51ZSgpKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmhpdHMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIGxldCBvbGRQcmlvciA9IHRoaXMuaGl0cy5nZXQoZW50aXR5KSE7XG4gICAgICAgICAgICBpZiAob2xkUHJpb3IgPj0gcHJpb3JpdHkpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpdHMuc2V0KGVudGl0eSwgcHJpb3JpdHkpO1xuICAgIH1cblxuICAgIGdldFNvcnRlZCgpOiBBcnJheTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmhpdHMuZW50cmllcygpXS5zb3J0KHggPT4gLXhbMV0pLm1hcCh4ID0+IHhbMF0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVyeVBvaW50KHBvaW50OiBQSVhJLklQb2ludERhdGEsIG11bHRpOiBib29sZWFuKTogUXVlcnlIaXRFdmVudCB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlIaXRFdmVudChHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVCwgbXVsdGksIG5ldyBBYWJiKHBvaW50LngsIHBvaW50LnksIHBvaW50LngsIHBvaW50LnkpLCBwb2ludCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHF1ZXJ5QWFiYihhYWJiOiBBYWJiLCBtdWx0aTogYm9vbGVhbik6IFF1ZXJ5SGl0RXZlbnQge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SGl0RXZlbnQoR2VvbWVydHlRdWVyeVR5cGUuQUFCQiwgbXVsdGksIGFhYmIpO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtHcmlkT3B0aW9uc30gZnJvbSBcIi4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuL3N5c3RlbXMvZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtIaWRlYWJsZUNvbXBvbmVudCwgTXVsdGlDb21wb25lbnR9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vZ2VvbWV0cnkvYWFiYlwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgX3NhdmU6IGJvb2xlYW47XG4gICAgX3N5bmM6IGJvb2xlYW47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSwgR3JpZE9wdGlvbnMge1xuICAgIHR5cGU6IEdSSURfVFlQRTtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogdHJ1ZTtcbn1cblxuXG5cbmV4cG9ydCBjb25zdCBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IFwicmVjdGFuZ3VsYXJfc2VsZWN0aW9uXCI7XG5leHBvcnQgdHlwZSBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IHR5cGVvZiBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRTtcbiAgICBhYWJiOiBBYWJiO1xuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG59XG5cbmV4cG9ydCBjb25zdCBNRUFTVVJFX1RZUEUgPSBcIm1lYXN1cmVcIjtcbmV4cG9ydCB0eXBlIE1FQVNVUkVfVFlQRSA9IHR5cGVvZiBNRUFTVVJFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIE1lYXN1cmVSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBNRUFTVVJFX1RZUEU7XG4gICAgZnJvbVg6IG51bWJlcjtcbiAgICBmcm9tWTogbnVtYmVyO1xuICAgIHRvWDogbnVtYmVyO1xuICAgIHRvWTogbnVtYmVyO1xuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgSGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuL3dvcmxkXCI7XG5pbXBvcnQge2dlbmVyYXRlUmFuZG9tSWR9IGZyb20gXCIuL2Vjc1V0aWxcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplT2JqKG9iajogQ29tcG9uZW50KTogYW55IHtcbiAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgIGZvciAobGV0IG5hbWUgaW4gb2JqKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2VudGl0eScgfHwgbmFtZSA9PT0gJ3R5cGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKG9iaiBhcyBhbnkpW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVjc1N0b3JhZ2U8QyBleHRlbmRzIENvbXBvbmVudD4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgbXVsdGlJZD86IG51bWJlcik6IEMgfCB1bmRlZmluZWQ7XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPEM+XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkO1xuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkO1xuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKTogdm9pZDtcblxuICAgIHNlcmlhbGl6ZSgpOiBhbnk7XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiBhbnk7XG5cbiAgICBkZXNlcmlhbGl6ZShlY3M6IFdvcmxkLCByYXc6IGFueSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUVjc1N0b3JhZ2U8QyBleHRlbmRzIE11bHRpQ29tcG9uZW50PiBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Qz4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGRhdGEgPSBuZXcgTWFwPG51bWJlciwgQXJyYXk8Qz4+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIHN5bmM6IGJvb2xlYW4gPSB0cnVlLCBzYXZlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN5bmMgPSBzeW5jO1xuICAgICAgICB0aGlzLnNhdmUgPSBzYXZlO1xuICAgIH1cblxuICAgIGdldEZpcnN0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBtdWx0aUlkPzogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChtdWx0aUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudChlbnRpdHksIG11bHRpSWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gZVswXTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIG11bHRpSWQ6IG51bWJlcik6IEMgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgY21wcyA9IHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKGNtcHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChsZXQgY21wIG9mIGNtcHMpIHtcbiAgICAgICAgICAgIGlmIChjbXAubXVsdGlJZCA9PT0gbXVsdGlJZCkgcmV0dXJuIGNtcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Qz4ge1xuICAgICAgICBpZiAoZW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSkgfHwgW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxDb21wb25lbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAqYWxsQ29tcG9uZW50cygpOiBHZW5lcmF0b3I8Qz4ge1xuICAgICAgICBmb3IgKGxldCBjb21wcyBvZiB0aGlzLmRhdGEudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjb21wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQubXVsdGlJZCA+PSAwKSB7Ly8gUHJlLWFzc2lnbmVkIG11bHRpLWlkXG4gICAgICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIFtjb21wb25lbnRdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMubXVsdGlJZCA9PT0gY29tcG9uZW50Lm11bHRpSWQpIHRocm93ICdJbnZhbGlkIHByZS1hc3NpZ25lZCBtdWx0aUlkJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhcnIucHVzaChjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wb25lbnQubXVsdGlJZCA9IGdlbmVyYXRlUmFuZG9tSWQoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgW2NvbXBvbmVudF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlkO1xuICAgICAgICAgICAgbGV0IGZvdW5kO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlkID0gZ2VuZXJhdGVSYW5kb21JZCgpO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgubXVsdGlJZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZm91bmQpO1xuICAgICAgICAgICAgY29tcG9uZW50Lm11bHRpSWQgPSBpZDtcbiAgICAgICAgICAgIGFyci5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQge1xuICAgICAgICBsZXQgYXJyID0gdGhpcy5kYXRhLmdldChjb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgaWYgKGFyciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDEgJiYgYXJyWzBdID09PSBjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5kZWxldGUoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKGFyci5pbmRleE9mKGNvbXBvbmVudCksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKToge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfSB7XG4gICAgICAgIGxldCByZXM6IHtbZW50aXR5OiBudW1iZXJdOiBhbnlbXX0gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgW2VudGl0eSwgY29tcHNdIG9mIHRoaXMuZGF0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHlSZXMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5UmVzLnB1c2goc2VyaWFsaXplT2JqKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzW2VudGl0eV0gPSBlbnRpdHlSZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiB7W2VudGl0eTogbnVtYmVyXTogYW55W119IHtcbiAgICAgICAgbGV0IHJlczoge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBbZW50aXR5LCBjb21wc10gb2YgdGhpcy5kYXRhLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHNob3VsZElnbm9yZShlbnRpdHkpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBlbnRpdHlSZXMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgaWYgKChjb21wb25lbnQgYXMgQ29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgZW50aXR5UmVzLnB1c2goc2VyaWFsaXplT2JqKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudGl0eVJlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNbZW50aXR5XSA9IGVudGl0eVJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRhdGE6IHtbZW50aXR5OiBudW1iZXJdOiBhbnlbXX0pOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGxldCBlID0gcGFyc2VJbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgZGF0YVtlbnRpdHldKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGNvbXAsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChlLCBvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2luZ2xlRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Qz4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGRhdGEgPSBuZXcgTWFwPG51bWJlciwgQz4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPEM+IHtcbiAgICAgICAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgICAgICBlbHNlIHJldHVybiBbcmVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbENvbXBvbmVudHMoKTogSXRlcmFibGVJdGVyYXRvcjxDPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsdWVzKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICdDb21wb25lbnQgb2Ygc2FtZSB0eXBlIGFscmVhZHkgcmVnaXN0ZXJlZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKToge1tlbnRpdHk6IG51bWJlcl06IGFueX0ge1xuICAgICAgICBsZXQgcmVzOiB7W2VudGl0eTogbnVtYmVyXTogYW55fSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcmVzW2NvbXAuZW50aXR5XSA9IHNlcmlhbGl6ZU9iaihjb21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZUNsaWVudChzaG91bGRJZ25vcmU6IChlbnRpdHk6IG51bWJlcikgPT4gYm9vbGVhbik6IHtbZW50aXR5OiBudW1iZXJdOiBhbnl9IHtcbiAgICAgICAgbGV0IHJlczoge1tlbnRpdHk6IG51bWJlcl06IGFueX0gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLmRhdGEudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRJZ25vcmUoY29tcC5lbnRpdHkpIHx8IChjb21wIGFzIENvbXBvbmVudCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmVzW2NvbXAuZW50aXR5XSA9IHNlcmlhbGl6ZU9iaihjb21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRhdGE6IHsgW2VudGl0eTogbnVtYmVyXTogYW55fSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgaW4gZGF0YSkge1xuICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGFbZW50aXR5XSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGVjcy5hZGRDb21wb25lbnQocGFyc2VJbnQoZW50aXR5KSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsYWdFY3NTdG9yYWdlIGltcGxlbWVudHMgRWNzU3RvcmFnZTxDb21wb25lbnQ+IHtcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc3luYzogYm9vbGVhbjtcbiAgICByZWFkb25seSBzYXZlOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBkYXRhID0gbmV3IE1hcDxudW1iZXIsIENvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQ29tcG9uZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Q29tcG9uZW50PiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsQ29tcG9uZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsQ29tcG9uZW50cygpOiBJdGVyYWJsZUl0ZXJhdG9yPENvbXBvbmVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnZhbHVlcygpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSB0aHJvdyAnQ29tcG9uZW50IG9mIHNhbWUgdHlwZSBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIGNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXJBbGxPZihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmRhdGEua2V5cygpXTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5kYXRhLmtleXMoKV0uZmlsdGVyKChlKSA9PiAhc2hvdWxkSWdub3JlKGUpKTtcbiAgICB9XG5cbiAgICBkZXNlcmlhbGl6ZShlY3M6IFdvcmxkLCBkYXRhOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YSkge1xuICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChlbnRpdHksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbUdyYXBoIHtcbiAgICBwcml2YXRlIHN5c3RlbXNCeU5hbWUgPSBuZXcgTWFwPHN0cmluZywgU3lzdGVtPigpO1xuICAgIHByaXZhdGUgc3lzdGVtcyA9IG5ldyBBcnJheTxTeXN0ZW0+KCk7XG4gICAgcHJpdmF0ZSB1bmZ1bGZpbGxlZERlcHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgIGdldChuYW1lOiBzdHJpbmcpOiBTeXN0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChuYW1lKTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihzeXN0ZW06IFN5c3RlbSk6IHZvaWQge1xuICAgICAgICBsZXQgZGVwTmFtZSA9IHN5c3RlbS5uYW1lO1xuICAgICAgICBsZXQgdW5mdWxmaWxsZWQgPSB0aGlzLnVuZnVsZmlsbGVkRGVwcy5oYXMoc3lzdGVtLm5hbWUpO1xuXG4gICAgICAgIGlmICghdW5mdWxmaWxsZWQgJiYgc3lzdGVtLnByb3ZpZGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgICAgICBkZXBOYW1lID0gZGVwO1xuICAgICAgICAgICAgICAgIHVuZnVsZmlsbGVkID0gdGhpcy51bmZ1bGZpbGxlZERlcHMuaGFzKGRlcCk7XG4gICAgICAgICAgICAgICAgaWYgKHVuZnVsZmlsbGVkKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodW5mdWxmaWxsZWQpIHtcbiAgICAgICAgICAgIHRocm93IGBTb21lIHByZXZpb3VzIHN5c3RlbSBvcHRpb25hbGx5IGRlcGVuZGVkIG9uICR7ZGVwTmFtZX0sIHBsZWFzZSBvcmRlciB5b3VyIHN5c3RlbXMgY29ycmVjdGx5YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0uZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgdGhyb3cgJ1VuZnVsZmlsbGVkIGRlcGVuZGVuY3k6ICcgKyBkZXA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN5c3RlbS5vcHRpb25hbERlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkZXAgb2Ygc3lzdGVtLm9wdGlvbmFsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy51bmZ1bGZpbGxlZERlcHMuYWRkKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3lzID0gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChzeXN0ZW0ubmFtZSk7XG4gICAgICAgIGlmIChzeXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHN5cy5uYW1lID09PSBzeXN0ZW0ubmFtZSkgdGhyb3cgJ1N5c3RlbSBuYW1lIGNvbmZsaWN0JztcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU3lzdGVtICR7c3lzdGVtLm5hbWV9IGhhcyBiZWVuIGFscmVhZHkgcmVnaXN0ZXJlZCB1bmRlciAke3N5cy5uYW1lfSwgb3ZlcnJpZGluZ2ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3lzdGVtc0J5TmFtZS5zZXQoc3lzdGVtLm5hbWUsIHN5c3RlbSk7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgICAgIGlmIChzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3Ygb2Ygc3lzdGVtLnByb3ZpZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMocHJvdikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgYFNlcnZpY2UgJHtwcm92fSBpcyBhbHJlYWR5IHByb3ZpZGVkIGJ5ICR7dGhpcy5zeXN0ZW1zQnlOYW1lLmdldChwcm92KSEubmFtZX0sIGNhbm5vdCBvdmVycmlkZSB3aXRoICR7c3lzdGVtLm5hbWV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zQnlOYW1lLnNldChwcm92LCBzeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxTeXN0ZW0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfVxuXG4gICAgZ2V0QXQoaW5kZXg6IG51bWJlcik6IFN5c3RlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbXNbaW5kZXhdO1xuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtcy5sZW5ndGg7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7TXVsdGlFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7Y29tcG9uZW50RWRpdENvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7UmVzb3VyY2VFZGl0Q29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvcmVzb3VyY2VFZGl0Q29tbWFuZFwiO1xuaW1wb3J0IHtlbWl0Q29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJpZ0VudHJ5PFg+IHtcbiAgICBtdWx0aUlkOiBCaWdTdG9yYWdlSW5kZXg8WD47XG4gICAgZGF0YTogWDtcbiAgICBfdXNlcnM/OiBudW1iZXI7XG4gICAgX3JlYWRvbmx5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWdFbnRyeUNvbXBvbmVudCBleHRlbmRzIE11bHRpQ29tcG9uZW50LCBCaWdFbnRyeTxhbnk+IHtcbiAgICB0eXBlOiBCSUdfU1RPUkFHRV9UWVBFO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpZ0VudHJ5UmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogQklHX1NUT1JBR0VfVFlQRTtcbiAgICBlbnRpdHk6IG51bWJlcjtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogdHJ1ZTtcblxufVxuXG5leHBvcnQgdHlwZSBCaWdTdG9yYWdlSW5kZXg8WD4gPSBudW1iZXI7XG5cbmV4cG9ydCBjb25zdCBCSUdfU1RPUkFHRV9UWVBFID0gJ2JpZ19zdG9yYWdlJztcbmV4cG9ydCB0eXBlIEJJR19TVE9SQUdFX1RZUEUgPSB0eXBlb2YgQklHX1NUT1JBR0VfVFlQRTtcbmV4cG9ydCBjbGFzcyBCaWdTdG9yYWdlU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gQklHX1NUT1JBR0VfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIHN0b3JhZ2UgPSBuZXcgTXVsdGlFY3NTdG9yYWdlPEJpZ0VudHJ5Q29tcG9uZW50PihCSUdfU1RPUkFHRV9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgIHJlczogQmlnRW50cnlSZXNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogQklHX1NUT1JBR0VfVFlQRSxcbiAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgIF9zeW5jOiB0cnVlXG4gICAgfTtcblxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMucmVzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdkZXNlcmlhbGl6ZWQnLCB0aGlzLm9uRGVzZXJpYWxpemVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGU8WD4oZGF0YTogWCwgcmVhZG9ubHk6IGJvb2xlYW4gPSB0cnVlKTogQmlnRW50cnk8WD4ge1xuICAgICAgICBpZiAodGhpcy5yZXMuZW50aXR5IDw9IDApIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLndvcmxkLnNwYXduRW50aXR5KCk7XG4gICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdyZWRpdCcsXG4gICAgICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgICAgICByZW1vdmU6IFtdLFxuICAgICAgICAgICAgICAgIGVkaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgQklHX1NUT1JBR0VfVFlQRTogeyBlbnRpdHkgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgUmVzb3VyY2VFZGl0Q29tbWFuZDtcbiAgICAgICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCSUdfU1RPUkFHRV9UWVBFLCB7IGVudGl0eSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB4ID0ge1xuICAgICAgICAgICAgbXVsdGlJZDogLTEsXG4gICAgICAgICAgICB0eXBlOiBCSUdfU1RPUkFHRV9UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLnJlcy5lbnRpdHksXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgX3VzZXJzOiAwLFxuICAgICAgICAgICAgX3JlYWRvbmx5OiByZWFkb25seSxcbiAgICAgICAgfSBhcyBCaWdFbnRyeUNvbXBvbmVudDtcblxuICAgICAgICBlbWl0Q29tbWFuZCh0aGlzLndvcmxkLCBjb21wb25lbnRFZGl0Q29tbWFuZChbeF0pKTtcblxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICByZXF1ZXN0PFg+KGlkOiBCaWdTdG9yYWdlSW5kZXg8WD4pOiBCaWdFbnRyeTxYPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRoaXMucmVzLmVudGl0eSwgaWQpO1xuICAgIH1cblxuICAgIHJlcXVlc3RVc2U8WD4oaWQ6IEJpZ1N0b3JhZ2VJbmRleDxYPik6IEJpZ0VudHJ5PFg+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucmVxdWVzdDxYPihpZCk7XG4gICAgICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHIuX3VzZXJzID0gKChyLl91c2VycyB8fCAwKSAgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICByZXBsYWNlPFg+KGlkOiBCaWdTdG9yYWdlSW5kZXg8WD4sIG5ld0RhdGE6IFgpOiBCaWdFbnRyeTxYPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJlcXVlc3Q8WD4oaWQpO1xuICAgICAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIHIuZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGRyb3BVc2U8WD4oaWQ6IEJpZ1N0b3JhZ2VJbmRleDxYPikge1xuICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCByID0gdGhpcy5yZXF1ZXN0KGlkKTtcbiAgICAgICAgaWYgKHIgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICByLl91c2VycyA9ICgoci5fdXNlcnMgfHwgMCkgLSAxKTtcbiAgICAgICAgLy8gRG9uJ3QsIHRoaXMgbWlnaHQgYmUgcmV1c2VkIGJ5IHRoZSBjb21tYW5kc1xuICAgICAgICAvKmlmIChyLl91c2VycyA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UudW5yZWdpc3RlcihyIGFzIEJpZ0VudHJ5Q29tcG9uZW50KTtcbiAgICAgICAgfSovXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkRlc2VyaWFsaXplZCgpIHtcbiAgICAgICAgbGV0IHRvUmVtb3ZlID0gW107XG4gICAgICAgIGZvciAobGV0IHIgb2YgdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudHModGhpcy5yZXMuZW50aXR5KSkge1xuICAgICAgICAgICAgaWYgKHIuX3VzZXJzID09PSB1bmRlZmluZWQgfHwgci5fdXNlcnMgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRvUmVtb3ZlLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNtZCA9IGNvbXBvbmVudEVkaXRDb21tYW5kKFtdLCBbXSwgdG9SZW1vdmUpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbXBvbmVudCwgUG9zaXRpb25Db21wb25lbnQsIFRyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtcbiAgICBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50LFxuICAgIG92ZXJsYXBBYWJiVnNBYWJiLFxuICAgIG92ZXJsYXBBYWJiVnNMaW5lLFxuICAgIG92ZXJsYXBBYWJiVnNQb2ludCxcbiAgICBvdmVybGFwQ2lyY2xlVnNBYWJiLFxuICAgIG92ZXJsYXBDaXJjbGVWc0NpcmNsZSxcbiAgICBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uLFxuICAgIG92ZXJsYXBMaW5lVnNDaXJjbGUsXG4gICAgb3ZlcmxhcExpbmVWc1BvbHlnb24sXG4gICAgb3ZlcmxhcE9iYlZzUG9seWdvbixcbiAgICBvdmVybGFwUG9pbnRWc0NpcmNsZSxcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNDaXJjbGUsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNMaW5lLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNSb3RhdGVkUmVjdCxcbiAgICBTZWdtZW50VnNTZWdtZW50UmVzXG59IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9jb2xsaXNpb25cIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7cG9seWdvblBvaW50SW50ZXJzZWN0fSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtPYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9vYmJcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtEeW5hbWljVHJlZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2R5bmFtaWNUcmVlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvbGluZVwiO1xuaW1wb3J0IHtHZW9tZXJ0eVF1ZXJ5VHlwZSwgUXVlcnlIaXRFdmVudH0gZnJvbSBcIi4uLy4uL2ludGVyYWN0aW9uXCI7XG5pbXBvcnQge1BsYXllclZpc2libGVDb21wb25lbnR9IGZyb20gXCIuLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7UG9pbnREQn0gZnJvbSBcIi4uLy4uLy4uL2dhbWUvcG9pbnREQlwiO1xuaW1wb3J0IHtHUklEX1RZUEUsIEdyaWRTeXN0ZW19IGZyb20gXCIuLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL3NlbGVjdGlvblN5c3RlbVwiO1xuXG5leHBvcnQgZW51bSBTaGFwZVR5cGUge1xuICAgIFBPSU5ULCBBQUJCLCBDSVJDTEUsIExJTkUsIFBPTFlHT04sIE9CQixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50U2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLlBPSU5UO1xuICAgIHBvczogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFhYmJTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuQUFCQjtcbiAgICBkYXRhOiBBYWJiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENpcmNsZVNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5DSVJDTEU7XG4gICAgcG9zOiBQSVhJLklQb2ludERhdGE7XG4gICAgcmFkaXVzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGluZVNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5MSU5FO1xuICAgIGRhdGE6IExpbmU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9seWdvblNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5QT0xZR09OO1xuICAgIHBvbHlnb246IG51bWJlcltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9iYlNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5PQkI7XG4gICAgZGF0YTogT2JiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVQb2ludChwb3M6IFBJWEkuSVBvaW50RGF0YSk6IFBvaW50U2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5QT0lOVCxcbiAgICAgICAgcG9zLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUFhYmIoYWFiYjogQWFiYik6IEFhYmJTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkFBQkIsXG4gICAgICAgIGRhdGE6IGFhYmIsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlQ2lyY2xlKGNlbnRlcjogUElYSS5JUG9pbnREYXRhLCByYWRpdXM6IG51bWJlcik6IENpcmNsZVNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuQ0lSQ0xFLFxuICAgICAgICBwb3M6IGNlbnRlcixcbiAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlTGluZShsaW5lOiBMaW5lKTogTGluZVNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuTElORSxcbiAgICAgICAgZGF0YTogbGluZSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVQb2x5Z29uKHBvbHlnb246IG51bWJlcltdKTogUG9seWdvblNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuUE9MWUdPTixcbiAgICAgICAgcG9seWdvbixcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVPYmIob2JiOiBPYmIpOiBPYmJTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLk9CQixcbiAgICAgICAgZGF0YTogb2JiLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUludGVyc2VjdChzaGFwZTE6IFNoYXBlLCBzaGFwZTI6IFNoYXBlKTogYm9vbGVhbiB7XG4gICAgaWYgKHNoYXBlMi50eXBlIDwgc2hhcGUxLnR5cGUpIFtzaGFwZTIsIHNoYXBlMV0gPSBbc2hhcGUxLCBzaGFwZTJdO1xuICAgIGxldCBzMXQgPSBzaGFwZTEudHlwZTtcbiAgICBsZXQgczJ0ID0gc2hhcGUyLnR5cGU7XG5cbiAgICAvLyBUT0RPOiBwb2x5Z29uIHZzIHBvbHlnb25cbiAgICBpZiAoczF0ID09PSBTaGFwZVR5cGUuUE9JTlQpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIFBvaW50U2hhcGU7XG4gICAgICAgIHN3aXRjaCAoczJ0KSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIG92ZXJsYXBBYWJiVnNQb2ludCgoc2hhcGUyIGFzIEFhYmJTaGFwZSkuZGF0YSwgczEucG9zKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTogcmV0dXJuIG92ZXJsYXBQb2ludFZzQ2lyY2xlKHMxLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucG9zLCAoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5yYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjogcmV0dXJuIHBvbHlnb25Qb2ludEludGVyc2VjdChzMS5wb3MsIChzaGFwZTIgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQoKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEucG9zKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuQUFCQikge1xuICAgICAgICBsZXQgczEgPSBzaGFwZTEgYXMgQWFiYlNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIG92ZXJsYXBBYWJiVnNBYWJiKChzaGFwZTIgYXMgQWFiYlNoYXBlKS5kYXRhLCBzMS5kYXRhKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTogcmV0dXJuIG92ZXJsYXBDaXJjbGVWc0FhYmIoKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucG9zLCAoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5yYWRpdXMsIHMxLmRhdGEpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIG92ZXJsYXBBYWJiVnNMaW5lKHMxLmRhdGEsIChzaGFwZTIgYXMgTGluZVNoYXBlKS5kYXRhKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwT2JiVnNQb2x5Z29uKE9iYi5mcm9tQWFiYihzMS5kYXRhKSwgKHNoYXBlMiBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb24pO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLmRhdGEpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzMXQgPT09IFNoYXBlVHlwZS5DSVJDTEUpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIENpcmNsZVNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOiByZXR1cm4gb3ZlcmxhcENpcmNsZVZzQ2lyY2xlKChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzLCBzMS5wb3MsIHMxLnJhZGl1cyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiByZXR1cm4gb3ZlcmxhcExpbmVWc0NpcmNsZSgoc2hhcGUyIGFzIExpbmVTaGFwZSkuZGF0YSwgczEucG9zLCBzMS5yYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjogcmV0dXJuIG92ZXJsYXBDaXJjbGVWc1BvbHlnb24oczEucG9zLCBzMS5yYWRpdXMsIChzaGFwZTIgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzQ2lyY2xlKChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLnBvcywgczEucmFkaXVzKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuTElORSkge1xuICAgICAgICBsZXQgczEgPSBzaGFwZTEgYXMgTGluZVNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoczEuZGF0YSwgKHNoYXBlMiBhcyBMaW5lU2hhcGUpLmRhdGEpID09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjogcmV0dXJuIG92ZXJsYXBMaW5lVnNQb2x5Z29uKHMxLmRhdGEsIChzaGFwZTIgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzTGluZSgoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuUE9MWUdPTikge1xuICAgICAgICBsZXQgczEgPSBzaGFwZTEgYXMgUG9seWdvblNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjogYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwT2JiVnNQb2x5Z29uKChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLnBvbHlnb24pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzMXQgPT09IFNoYXBlVHlwZS5PQkIpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzUm90YXRlZFJlY3QoKHNoYXBlMSBhcyBPYmJTaGFwZSkuZGF0YSwgKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSk7XG4gICAgfVxuICAgIC8vIFBvbHlnb24gdnMgUG9seWdvblxuICAgIHRocm93ICdRdWVyeSBub3QgaW1wbGVtZW50ZWQ6ICcgKyBzMXQgKyAnIHZzICcgKyBzMnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZVRvQWFiYihzaGFwZTogU2hhcGUpOiBBYWJiIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHJldHVybiBBYWJiLmZyb21Qb2ludCgoc2hhcGUgYXMgUG9pbnRTaGFwZSkucG9zKTtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIChzaGFwZSBhcyBBYWJiU2hhcGUpLmRhdGE7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRToge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBDaXJjbGVTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWFiYihcbiAgICAgICAgICAgICAgICBzLnBvcy54IC0gcy5yYWRpdXMsIHMucG9zLnkgLSBzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBzLnBvcy54ICsgcy5yYWRpdXMsIHMucG9zLnkgKyBzLnJhZGl1c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFhYmIocy5mcm9tWCwgcy5mcm9tWSwgcy50b1gsIHMudG9ZKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBsZXQgYWFiYiA9IEFhYmIuemVybygpO1xuICAgICAgICAgICAgYWFiYi53cmFwUG9seWdvbigoc2hhcGUgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIHJldHVybiBhYWJiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGFhYmIud3JhcFBvbHlnb24oKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhLnJvdFZlcnRleCk7XG4gICAgICAgICAgICByZXR1cm4gYWFiYjtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyAnVW5rbm93biBzaGFwZSB0eXBlOiAnICsgc2hhcGUudHlwZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNoYXBlVG9TbmFwcyhzaGFwZTogU2hhcGUpOiBudW1iZXJbXSB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHtcbiAgICAgICAgICAgIGxldCBwID0gc2hhcGUgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiBbcC5wb3MueCwgcC5wb3MueV07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWluWSxcbiAgICAgICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgICAgICBhYWJiLm1heFgsIGFhYmIubWluWSxcbiAgICAgICAgICAgICAgICBhYWJiLm1heFgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHMuZnJvbVgsIHMuZnJvbVksXG4gICAgICAgICAgICAgICAgcy50b1gsIHMudG9ZLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBsZXQgcG9sID0gKHNoYXBlIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbjtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9sLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHBvbFtpXSwgcG9sW2kgKyAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBwb2wgPSAoc2hhcGUgYXMgT2JiU2hhcGUpLmRhdGEucm90VmVydGV4O1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgQXJyYXk8bnVtYmVyPig4KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IHBvbFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93ICdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVUcmFuc2xhdGUoc2hhcGU6IFNoYXBlLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIHN3aXRjaCAoc2hhcGUudHlwZSkge1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOiB7XG4gICAgICAgICAgICBsZXQgcyA9IHNoYXBlIGFzIFBvaW50U2hhcGU7XG4gICAgICAgICAgICBzLnBvcy54ICs9IHg7XG4gICAgICAgICAgICBzLnBvcy55ICs9IHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5BQUJCOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBBYWJiU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICBzLnRyYW5zbGF0ZSh4LCB5LCBzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHtcbiAgICAgICAgICAgIGxldCBzID0gKHNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIHMuZnJvbVggKz0geDtcbiAgICAgICAgICAgIHMuZnJvbVkgKz0geTtcbiAgICAgICAgICAgIHMudG9YICs9IHg7XG4gICAgICAgICAgICBzLnRvWSArPSB5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBQb2x5Z29uU2hhcGU7XG4gICAgICAgICAgICBsZXQgc2xlbiA9IHMucG9seWdvbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIHMucG9seWdvbltpXSArPSB4O1xuICAgICAgICAgICAgICAgIHMucG9seWdvbltpICsgMV0gKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjoge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgT2JiU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICBzLnVucm90YXRlZC50cmFuc2xhdGUoeCwgeSwgcy51bnJvdGF0ZWQpO1xuICAgICAgICAgICAgbGV0IHBvbCA9IHMucm90VmVydGV4O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBwb2xbaSAgICBdICs9IHg7XG4gICAgICAgICAgICAgICAgcG9sW2kgKyAxXSArPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgJ1Vua25vd24gc2hhcGUgdHlwZTogJyArIHNoYXBlLnR5cGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFwZUNsb25lKHNoYXBlOiBTaGFwZSk6IFNoYXBlIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBQb2ludFNoYXBlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTaGFwZVR5cGUuUE9JTlQsXG4gICAgICAgICAgICAgICAgcG9zOiBuZXcgUElYSS5Qb2ludChzLnBvcy54LCBzLnBvcy55KSxcbiAgICAgICAgICAgIH0gYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5BQUJCOiByZXR1cm4gc2hhcGVBYWJiKChzaGFwZSBhcyBBYWJiU2hhcGUpLmRhdGEuY29weSgpKTtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIHNoYXBlTGluZSgoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhLmNvcHkoKSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBzaGFwZVBvbHlnb24oWy4uLihzaGFwZSBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb25dKTtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gc2hhcGVPYmIoKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhLmNvcHkoKSlcbiAgICAgICAgZGVmYXVsdDogdGhyb3cgJ1Vua25vd24gc2hhcGUgdHlwZTogJyArIHNoYXBlLnR5cGU7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSU5URVJBQ1RJT05fVFlQRSA9ICdpbnRlcmFjdGlvbic7XG5leHBvcnQgdHlwZSBJTlRFUkFDVElPTl9UWVBFID0gJ2ludGVyYWN0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogSU5URVJBQ1RJT05fVFlQRTtcblxuICAgIHNlbGVjdFByaW9yaXR5OiBudW1iZXI7Ly8gSWYgdHJ1ZSB0aGVuIHRoZSBpdGVtIGlzIHNlbGVjdGFibGVcbiAgICBzbmFwRW5hYmxlZDogYm9vbGVhbjsvLyBpZiB0cnVlIHRoZW4gdGhlIHNuYXBEYiByZWdpc3RyYXRpb24gaXMgYXZhaWxhYmxlLlxuICAgIHNoYXBlOiBTaGFwZTtcbiAgICAvLyBBZGRpdGlvbmFsIGNoZWNrcyAobm90IHJlcXVpcmVkKVxuICAgIHF1ZXJ5Q2hlY2s/OiAoc2hhcGU6IFNoYXBlKSA9PiBib29sZWFuO1xuXG4gICAgX3RyZWVJZD86IG51bWJlcjtcbiAgICBfc25hcHM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgbmFtZSA9IElOVEVSQUNUSU9OX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0dSSURfVFlQRSwgU0VMRUNUSU9OX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxJbnRlcmFjdGlvbkNvbXBvbmVudD4oJ2ludGVyYWN0aW9uJywgZmFsc2UsIGZhbHNlKTtcbiAgICBpc1RyYW5zbGF0aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBzbmFwRGI6IFBvaW50REI7XG4gICAgYWFiYlRyZWUgPSBuZXcgRHluYW1pY1RyZWU8SW50ZXJhY3Rpb25Db21wb25lbnQ+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5zbmFwRGIgPSBuZXcgUG9pbnREQih0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KEdSSURfVFlQRSkgYXMgR3JpZFN5c3RlbSk7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Rvb2xfbW92ZV9iZWdpbicsIHRoaXMub25Ub29sTW92ZUJlZ2luLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfZW5kJywgdGhpcy5vblRvb2xNb3ZlRW5kLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdxdWVyeV9oaXQnLCB0aGlzLm9uUXVlcnlIaXQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJTbmFwUG9pbnRzKHNuYXBzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgc2xlbiA9IHNuYXBzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHRoaXMuc25hcERiLmluc2VydChbc25hcHNbaV0sIHNuYXBzW2kgKyAxXV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bnJlZ2lzdGVyU25hcFBvaW50cyhzbmFwczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IHNsZW4gPSBzbmFwcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBEYi5yZW1vdmUoW3NuYXBzW2ldLCBzbmFwc1tpICsgMV1dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdW5yZWdpc3RlckNvbXBvbmVudChjb21wOiBJbnRlcmFjdGlvbkNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC5fc25hcHMpIHtcbiAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlclNuYXBQb2ludHMoY29tcC5fc25hcHMpO1xuICAgICAgICAgICAgY29tcC5fc25hcHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAuX3RyZWVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFhYmJUcmVlLmRlc3Ryb3lQcm94eShjb21wLl90cmVlSWQpO1xuICAgICAgICAgICAgY29tcC5fdHJlZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDb21wb25lbnQoY29tcDogSW50ZXJhY3Rpb25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ29tcG9uZW50KGNvbXApO1xuICAgICAgICBpZiAoY29tcC5zaGFwZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGNvbXAuX3RyZWVJZCA9IHRoaXMuYWFiYlRyZWUuY3JlYXRlUHJveHkoc2hhcGVUb0FhYmIoY29tcC5zaGFwZSksIGNvbXApO1xuICAgICAgICBpZiAoY29tcC5zbmFwRW5hYmxlZCkge1xuICAgICAgICAgICAgY29tcC5fc25hcHMgPSBzaGFwZVRvU25hcHMoY29tcC5zaGFwZSk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyU25hcFBvaW50cyhjb21wLl9zbmFwcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlICE9PSBJTlRFUkFDVElPTl9UWVBFKSByZXR1cm47XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBpZiAoJ3NoYXBlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gY29tcCBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBpbnRlciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQocG9zLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoaW50ZXIgPT09IHVuZGVmaW5lZCB8fCBpbnRlci5zaGFwZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgb2xkWCA9IGNoYW5nZWQueCAhPT0gdW5kZWZpbmVkID8gY2hhbmdlZC54IDogcG9zLng7XG4gICAgICAgICAgICBsZXQgb2xkWSA9IGNoYW5nZWQueSAhPT0gdW5kZWZpbmVkID8gY2hhbmdlZC55IDogcG9zLnk7XG4gICAgICAgICAgICBsZXQgZGlmZlggPSBwb3MueCAtIG9sZFg7XG4gICAgICAgICAgICBsZXQgZGlmZlkgPSBwb3MueSAtIG9sZFk7XG5cbiAgICAgICAgICAgIGlmIChkaWZmWCAhPT0gMCB8fCBkaWZmWSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHRyaWdnZXIgY29tcG9uZW50IGNoYW5nZSg/KVxuICAgICAgICAgICAgICAgIHNoYXBlVHJhbnNsYXRlKGludGVyLnNoYXBlLCBkaWZmWCwgZGlmZlkpO1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuaXNUcmFuc2xhdGluZyAmJiB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzLmhhcyhwb3MuZW50aXR5KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoaW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IGNvbXAgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IGludGVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh0cmFucy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGludGVyID09PSB1bmRlZmluZWQgfHwgaW50ZXIuc2hhcGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gaW50ZXIuc2hhcGU7XG4gICAgICAgICAgICBpZiAoc2hhcGUudHlwZSA9PT0gU2hhcGVUeXBlLlBPSU5UKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoc2hhcGUudHlwZSA9PT0gU2hhcGVUeXBlLkNJUkNMRSkge1xuICAgICAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgQ2lyY2xlU2hhcGU7XG4gICAgICAgICAgICAgICAgaWYgKCdzY2FsZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBzLnJhZGl1cyA9IHMucmFkaXVzICogdHJhbnMuc2NhbGUgLyBjaGFuZ2VkLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChpbnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZS50eXBlID09PSBTaGFwZVR5cGUuT0JCKSB7XG4gICAgICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBPYmJTaGFwZTtcbiAgICAgICAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaWZmU2NhbGUgPSB0cmFucy5zY2FsZSAvIGNoYW5nZWQuc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHMuZGF0YS51bnJvdGF0ZWQuc2NhbGUoZGlmZlNjYWxlLCBkaWZmU2NhbGUsIHMuZGF0YS51bnJvdGF0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLmRhdGEucm90YXRpb24gPSB0cmFucy5yb3RhdGlvbjtcbiAgICAgICAgICAgICAgICBzLmRhdGEucmVjb21wdXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoaW50ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gYXV0by1yb3RhdGUgb3RoZXIgc2hhcGVzIHRoYW4gT0JCLCB3YXRjaCB5b3VyIGNvbXBvbmVudHMhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgIT09IElOVEVSQUNUSU9OX1RZUEUpIHJldHVybjtcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ29tcG9uZW50KGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUJlZ2luKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKElOVEVSQUNUSU9OX1RZUEUpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG9vbE1vdmVFbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKElOVEVSQUNUSU9OX1RZUEUpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChjKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBzaW5nbGVIaXRRdWVyeShzaGFwZTogU2hhcGUsIGV2ZW50OiBRdWVyeUhpdEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBiZXN0UHJpb3I6IG51bWJlciA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgbGV0IGJlc3Q6IG51bWJlciA9IC0xO1xuXG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5xdWVyeVZpc2libGUoc2hhcGUsIChjKSA9PiAoYy5zZWxlY3RQcmlvcml0eSB8fCAwKSA+IGJlc3RQcmlvcik7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcikge1xuICAgICAgICAgICAgYmVzdCA9IGl0ZW0uZW50aXR5O1xuICAgICAgICAgICAgYmVzdFByaW9yID0gaXRlbS5zZWxlY3RQcmlvcml0eSB8fCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlc3QgIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudC5hZGRIaXQoYmVzdCwgYmVzdFByaW9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbXVsdGlIaXRRdWVyeShzaGFwZTogU2hhcGUsIGV2ZW50OiBRdWVyeUhpdEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5xdWVyeVZpc2libGUoc2hhcGUsIChjKSA9PiBjLnNlbGVjdFByaW9yaXR5ICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGV2ZW50LmFkZEhpdChpdGVtLmVudGl0eSwgaXRlbS5zZWxlY3RQcmlvcml0eSk7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LnNob3VsZENvbnRpbnVlKCkpIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25RdWVyeUhpdChldmVudDogUXVlcnlIaXRFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIWV2ZW50LnNob3VsZENvbnRpbnVlKCkpIHJldHVybjtcblxuICAgICAgICBsZXQgc2hhcGU6IFNoYXBlO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgR2VvbWVydHlRdWVyeVR5cGUuUE9JTlQ6IHNoYXBlID0gc2hhcGVDaXJjbGUoZXZlbnQuZGF0YSBhcyBQSVhJLklQb2ludERhdGEsIDIwKTsgYnJlYWs7XG4gICAgICAgICAgICAvL2Nhc2UgR2VvbWVydHlRdWVyeVR5cGUuUE9JTlQ6IHNoYXBlID0gc2hhcGVQb2ludChldmVudC5kYXRhIGFzIFBJWEkuSVBvaW50RGF0YSk7IGJyZWFrOyAvLyBFTkFCTEUgVEhJUyBGT1IgUE9JTlQtUFJFQ0lTSU9OIENMSUNLSU5HXG4gICAgICAgICAgICBjYXNlIEdlb21lcnR5UXVlcnlUeXBlLkFBQkI6IHNoYXBlID0gc2hhcGVBYWJiKGV2ZW50LmRhdGEgYXMgQWFiYik7IGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgJ1Vua25vd24gcXVlcnkgdHlwZSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQubXVsdGkpIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlIaXRRdWVyeShzaGFwZSwgZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVIaXRRdWVyeShzaGFwZSwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBxdWVyeVZpc2libGUoc2hhcGU6IFNoYXBlLCBwcmVDaGVjaz86IChjOiBJbnRlcmFjdGlvbkNvbXBvbmVudCkgPT4gYm9vbGVhbik6IEdlbmVyYXRvcjxJbnRlcmFjdGlvbkNvbXBvbmVudD4ge1xuICAgICAgICBsZXQgcGxheWVyVmlzOiBTaW5nbGVFY3NTdG9yYWdlPFBsYXllclZpc2libGVDb21wb25lbnQ+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHBsYXllclZpcyA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KCdwbGF5ZXJfdmlzaWJsZScpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UGxheWVyVmlzaWJsZUNvbXBvbmVudD47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyVmlzID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLnF1ZXJ5KHNoYXBlLCBwcmVDaGVjayk7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KHNoYXBlLCBjID0+IHtcbiAgICAgICAgICAgIGxldCB2aXNDID0gcGxheWVyVmlzIS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpc0MgIT09IHVuZGVmaW5lZCAmJiAhdmlzQy52aXNpYmxlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gcHJlQ2hlY2sgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBwcmVDaGVjayhjKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAqcXVlcnkoc2hhcGU6IFNoYXBlLCBwcmVDaGVjaz86IChjOiBJbnRlcmFjdGlvbkNvbXBvbmVudCkgPT4gYm9vbGVhbik6IEdlbmVyYXRvcjxJbnRlcmFjdGlvbkNvbXBvbmVudD4ge1xuICAgICAgICBsZXQgYWFiYiA9IHNoYXBlVG9BYWJiKHNoYXBlKTtcblxuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuYWFiYlRyZWUucXVlcnkoYWFiYikpIHtcbiAgICAgICAgICAgIGxldCB0YWcgPSBjLnRhZyE7XG4gICAgICAgICAgICBpZiAocHJlQ2hlY2sgJiYgIXByZUNoZWNrKHRhZykpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFzaGFwZUludGVyc2VjdCh0YWcuc2hhcGUhLCBzaGFwZSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IHFjID0gdGFnLnF1ZXJ5Q2hlY2s7XG4gICAgICAgICAgICBpZiAocWMgJiYgIXFjKHNoYXBlKSkgY29udGludWU7XG4gICAgICAgICAgICB5aWVsZCB0YWc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5cblxuZXhwb3J0IGNvbnN0IEtFWUJPQVJEX0tFWV9VUCA9ICdrZXlib2FyZF9rZXlfdXAnO1xuZXhwb3J0IGNvbnN0IEtFWUJPQVJEX0tFWV9ET1dOID0gJ2tleWJvYXJkX2tleV9kb3duJztcblxuZXhwb3J0IGNvbnN0IEtFWUJPQVJEX1RZUEUgPSAna2V5Ym9hcmQnO1xuZXhwb3J0IHR5cGUgS0VZQk9BUkRfVFlQRSA9IHR5cGVvZiBLRVlCT0FSRF9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBLZXlib2FyZFJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IEtFWUJPQVJEX1RZUEU7XG4gICAgX3NhdmU6IGZhbHNlO1xuICAgIF9zeW5jOiBmYWxzZTtcblxuICAgIHByZXNzZWRLZXlzOiBTZXQ8c3RyaW5nPjtcbiAgICBzaGlmdDogYm9vbGVhbjtcbiAgICBjdHJsOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgV0VCX0tFWUJPQVJEX1RZUEUgPSAnd2ViX2tleWJvYXJkJztcbmV4cG9ydCB0eXBlIFdFQl9LRVlCT0FSRF9UWVBFID0gdHlwZW9mIFdFQl9LRVlCT0FSRF9UWVBFO1xuZXhwb3J0IGNsYXNzIFdlYktleWJvYXJkU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZWFkb25seSBuYW1lID0gV0VCX0tFWUJPQVJEX1RZUEU7XG4gICAgcmVhZG9ubHkgcHJvdmlkZXMgPSBbS0VZQk9BUkRfVFlQRV07XG5cbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUga2V5RG93bkxpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSBrZXlVcExpc3RlbmVyOiBhbnk7XG5cbiAgICBwcml2YXRlIGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmtleWJvYXJkID0ge1xuICAgICAgICAgICAgdHlwZTogS0VZQk9BUkRfVFlQRSxcbiAgICAgICAgICAgIF9zYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcblxuICAgICAgICAgICAgcHJlc3NlZEtleXM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHNoaWZ0OiBmYWxzZSxcbiAgICAgICAgICAgIGN0cmw6IGZhbHNlLFxuICAgICAgICB9IGFzIEtleWJvYXJkUmVzb3VyY2U7XG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UodGhpcy5rZXlib2FyZCk7XG4gICAgfVxuXG4gICAgb25LZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVkaXQgPSB7XG4gICAgICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICBjdHJsOiBldmVudC5jdHJsS2V5LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFLCBlZGl0KTtcbiAgICAgICAgaWYgKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgbGV0IGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5wcmVzc2VkS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoS0VZQk9BUkRfS0VZX1VQLCBrZXkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbktleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGxldCBlZGl0ID0ge1xuICAgICAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgY3RybDogZXZlbnQuY3RybEtleSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSwgZWRpdCk7XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgbGV0IGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5wcmVzc2VkS2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoS0VZQk9BUkRfS0VZX0RPV04sIGtleSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5rZXlEb3duTGlzdGVuZXIgPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlEb3duTGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMua2V5VXBMaXN0ZW5lciA9IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5VXBMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5RG93bkxpc3RlbmVyKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVVwTGlzdGVuZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2NvbW1hbmRSZWdpc3RlclByZUNvbnNlcXVlbmNlfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuXG5leHBvcnQgY29uc3QgTEFZRVJfVFlQRSA9IFwibGF5ZXJcIjtcbmV4cG9ydCB0eXBlIExBWUVSX1RZUEUgPSB0eXBlb2YgTEFZRVJfVFlQRTtcblxuZXhwb3J0IGludGVyZmFjZSBMYXllciB7XG4gICAgZW50aXR5OiBudW1iZXI7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIGxvY2tlZDogYm9vbGVhbjtcbn1cblxuXG5leHBvcnQgY29uc3QgUEFSRU5UX0xBWUVSX1RZUEUgPSBcImxheWVyX3BcIjtcbmV4cG9ydCB0eXBlIFBBUkVOVF9MQVlFUl9UWVBFID0gdHlwZW9mIFBBUkVOVF9MQVlFUl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBQYXJlbnRMYXllckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEU7XG4gICAgbGF5ZXI6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXllckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCwgTGF5ZXIge1xuICAgIHR5cGU6IExBWUVSX1RZUEUsXG59XG5cblxuZXhwb3J0IGNvbnN0IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSA9IFwibGF5ZXJfYmtnXCI7XG5leHBvcnQgdHlwZSBCQUNLR1JPVU5EX0xBWUVSX1RZUEUgPSB0eXBlb2YgQkFDS0dST1VORF9MQVlFUl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlLCBMYXllciB7XG4gICAgdHlwZTogQkFDS0dST1VORF9MQVlFUl9UWVBFO1xuXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IHRydWUsXG59XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RFRF9MQVlFUl9UWVBFID0gXCJsYXllcl9zZWxcIjtcbmV4cG9ydCB0eXBlIFNFTEVDVEVEX0xBWUVSX1RZUEUgPSB0eXBlb2YgU0VMRUNURURfTEFZRVJfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0ZWRMYXllclJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIGxheWVyPzogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBMYXllclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IExBWUVSX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmVhZG9ubHkgb3B0aW9uYWxEZXBlbmRlbmNpZXMgPSBbXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgbGF5ZXJTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8TGF5ZXJDb21wb25lbnQ+KExBWUVSX1RZUEUpO1xuICAgIHBhcmVudFN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQYXJlbnRMYXllckNvbXBvbmVudD4oUEFSRU5UX0xBWUVSX1RZUEUpO1xuXG4gICAgYmFja2dyb3VuZExheWVyOiBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZTtcbiAgICBzZWxlY3RlZExheWVyOiBTZWxlY3RlZExheWVyUmVzb3VyY2U7XG4gICAgbGF5ZXJCeU5hbWUgPSBuZXcgTWFwPHN0cmluZywgTGF5ZXI+KCk7XG5cbiAgICAvLyBUT0RPOiBvcHRpbWl6ZSBjbGVhclxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRMYXllciA9IHtcbiAgICAgICAgICAgIHR5cGU6IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICBuYW1lOiBcIkJhY2tncm91bmRcIixcbiAgICAgICAgICAgIHByaW9yaXR5OiBMYXllck9yZGVyLkJBQ0tHUk9VTkQsXG4gICAgICAgICAgICBsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiB0cnVlLFxuICAgICAgICB9IGFzIEJhY2tncm91bmRMYXllclJlc291cmNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkTGF5ZXIgPSB7XG4gICAgICAgICAgICB0eXBlOiBTRUxFQ1RFRF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgbGF5ZXI6IC0xLFxuICAgICAgICB9IGFzIFNlbGVjdGVkTGF5ZXJSZXNvdXJjZTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMubGF5ZXJTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnBhcmVudFN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmJhY2tncm91bmRMYXllcik7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMuc2VsZWN0ZWRMYXllcik7XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gd29ybGQuZXZlbnRzO1xuICAgICAgICBldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxheWVyRWRpdGVkKGw6IExheWVyLCBlZGl0czogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICgnbmFtZScgaW4gZWRpdHMpIHtcbiAgICAgICAgICAgIGxldCBvbGROYW1lID0gZWRpdHMubmFtZTtcbiAgICAgICAgICAgIGlmIChvbGROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnlOYW1lLmRlbGV0ZShvbGROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxheWVyQnlOYW1lLmhhcyhsLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkxheWVyIG5hbWUgY29uZmxpY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIGwubmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnlOYW1lLnNldChsLm5hbWUsIGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGwgPSBjIGFzIExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGwubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllckJ5TmFtZS5zZXQobC5uYW1lLCBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBlZGl0ZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGF5ZXJFZGl0ZWQoYyBhcyBMYXllckNvbXBvbmVudCwgZWRpdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsID0gYyBhcyBMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbXSxcbiAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLnBhcmVudFN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmxheWVyICE9PSBsLmVudGl0eSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY21kLmVudGl0aWVzLnB1c2goY2hpbGQuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbWQuZW50aXRpZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZFJlZ2lzdGVyUHJlQ29uc2VxdWVuY2UodGhpcy53b3JsZCwgY21kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHIudHlwZSA9PT0gQkFDS0dST1VORF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGF5ZXJFZGl0ZWQociBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSwgZWRpdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEVudGl0eUxheWVyKGVudGl0eTogbnVtYmVyKTogTGF5ZXIge1xuICAgICAgICBsZXQgY21wID0gdGhpcy5wYXJlbnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoY21wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXllciA9IHRoaXMubGF5ZXJTdG9yYWdlLmdldENvbXBvbmVudChjbXAubGF5ZXIpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBwYXJlbnQgbGF5ZXIgb2YgXCIgKyBjbXAuZW50aXR5ICsgXCI6IFwiICsgY21wLmxheWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgfVxuXG4gICAgZ2V0TGF5ZXJCeUlkKGlkOiBudW1iZXIpOiBMYXllciB7XG4gICAgICAgIGlmIChpZCA9PT0gLTEpIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcblxuICAgICAgICBsZXQgbGF5ZXIgPSB0aGlzLmxheWVyU3RvcmFnZS5nZXRDb21wb25lbnQoaWQpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBsYXllciBpZDogXCIgKyBsYXllcik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcblxuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRm9yZWdyb3VuZCh3b3JsZDogV29ybGQpOiBudW1iZXIge1xuICAgIGxldCBzdG8gPSB3b3JsZC5nZXRTdG9yYWdlKExBWUVSX1RZUEUpO1xuICAgIGlmIChzdG8gPT09IHVuZGVmaW5lZCkgcmV0dXJuIC0xO1xuICAgIGZvciAobGV0IHggb2Ygc3RvLmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICByZXR1cm4geC5lbnRpdHk7Ly8gVGhlcmUncyBvbmx5IDEgbGF5ZXIgZm9yIG5vdyAoZm9yZWdyb3VuZClcbiAgICB9XG4gICAgLy8gSWYgaXQncyBub3QgcHJlc2VudCB3ZSBuZWVkIHRvIGNyZWF0ZSBpdFxuICAgIHJldHVybiB3b3JsZC5zcGF3bkVudGl0eSh7XG4gICAgICAgIHR5cGU6IExBWUVSX1RZUEUsXG4gICAgICAgIG5hbWU6ICdGb3JlZ3JvdW5kJyxcbiAgICAgICAgcHJpb3JpdHk6IExheWVyT3JkZXIuRk9SRUdST1VORCxcbiAgICAgICAgbG9ja2VkOiBmYWxzZSxcbiAgICB9IGFzIExheWVyQ29tcG9uZW50KTtcbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q2hhbm5lbH0gZnJvbSBcIi4uLy4uLy4uL25ldHdvcmsvY2hhbm5lbFwiO1xuaW1wb3J0ICogYXMgUCBmcm9tIFwiLi4vLi4vLi4vcHJvdG9jb2wvZ2FtZVwiO1xuaW1wb3J0IHtQYWNrZXRDb250YWluZXJ9IGZyb20gXCIuLi8uLi8uLi9wcm90b2NvbC9wYWNrZXRcIjtcbmltcG9ydCB7Q29tbWFuZCwgZW1pdENvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7Z2VuZXJhdGVSYW5kb21JZH0gZnJvbSBcIi4uLy4uL2Vjc1V0aWxcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5cbmV4cG9ydCBjb25zdCBORVRXT1JLX1RZUEUgPSAnbmV0d29yayc7XG5leHBvcnQgdHlwZSBORVRXT1JLX1RZUEUgPSB0eXBlb2YgTkVUV09SS19UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5ldHdvcmtTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW17XG4gICAgaXNPbmxpbmUoKTogYm9vbGVhbjtcblxuICAgIHJlYWRvbmx5IGNoYW5uZWw6IENoYW5uZWw7XG59XG5cbmV4cG9ydCBjb25zdCBORVRXT1JLX0VOVElUWV9UWVBFID0gJ25ldHdvcmtfZW50aXR5JztcbmV4cG9ydCB0eXBlIE5FVFdPUktfRU5USVRZX1RZUEUgPSB0eXBlb2YgTkVUV09SS19FTlRJVFlfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya0VudGl0eUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogTkVUV09SS19FTlRJVFlfVFlQRTtcbiAgICBuZXR3b3JrSWQ6IG51bWJlcjtcbiAgICBjb2xvcjogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjb25zdCBORVRXT1JLX1NUQVRVU19UWVBFID0gJ25ldHdvcmtfc3RhdHVzJztcbmV4cG9ydCB0eXBlIE5FVFdPUktfU1RBVFVTX1RZUEUgPSB0eXBlb2YgTkVUV09SS19TVEFUVVNfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya1N0YXR1c1Jlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IE5FVFdPUktfU1RBVFVTX1RZUEU7XG4gICAgY29ubmVjdGlvbkNvdW50OiBudW1iZXI7XG4gICAgaXNCdWZmZXJpbmc6IGJvb2xlYW47XG4gICAgbXlJZDogbnVtYmVyO1xuICAgIGVudGl0eUluZGV4OiBNYXA8bnVtYmVyLCBudW1iZXI+O1xuXG4gICAgX3NhdmU6IGZhbHNlO1xuICAgIF9zeW5jOiBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbW1vbk5ldHdvcmtTeXN0ZW0gaW1wbGVtZW50cyBOZXR3b3JrU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gTkVUV09SS19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgcmVhZG9ubHkgY2hhbm5lbDogQ2hhbm5lbDtcbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUgcmVzOiBOZXR3b3JrU3RhdHVzUmVzb3VyY2U7XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8TmV0d29ya0VudGl0eUNvbXBvbmVudD4oTkVUV09SS19FTlRJVFlfVFlQRSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkLCBjaGFubmVsOiBDaGFubmVsKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcblxuICAgICAgICB0aGlzLnJlcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IE5FVFdPUktfU1RBVFVTX1RZUEUsXG4gICAgICAgICAgICBjb25uZWN0aW9uQ291bnQ6IDAsXG4gICAgICAgICAgICBpc0J1ZmZlcmluZzogZmFsc2UsXG4gICAgICAgICAgICBlbnRpdHlJbmRleDogbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKSxcbiAgICAgICAgICAgIF9zYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgfSBhcyBOZXR3b3JrU3RhdHVzUmVzb3VyY2U7XG5cbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5yZXMpO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdwb3B1bGF0ZScsIHRoaXMub25Qb3B1bGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHdvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB3b3JsZC5hZGRTeXN0ZW0obmV3IEhvc3ROZXR3b3JrU3lzdGVtKHdvcmxkLCBjaGFubmVsKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3b3JsZC5hZGRTeXN0ZW0obmV3IENsaWVudE5ldHdvcmtTeXN0ZW0od29ybGQsIGNoYW5uZWwpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5FVFdPUktfRU5USVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSBjIGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVzLmVudGl0eUluZGV4LnNldChjb21wLm5ldHdvcmtJZCwgY29tcC5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTkVUV09SS19FTlRJVFlfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IGMgYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy5yZXMuZW50aXR5SW5kZXguZGVsZXRlKGNvbXAubmV0d29ya0lkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb3B1bGF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZXMubXlJZCA9IHRoaXMuY2hhbm5lbC5teUlkO1xuXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNwYXduRGV2aWNlRW50aXR5KHRoaXMuY2hhbm5lbC5teUlkKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGF3bkRldmljZUVudGl0eShjLmNoYW5uZWxJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNvbm5lY3Rpb25Db3VudCgpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbkNvdW50ID0gdGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zLmxlbmd0aDtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoTkVUV09SS19TVEFUVVNfVFlQRSwgeyBjb25uZWN0aW9uQ291bnQgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcGF3bkRldmljZUVudGl0eShjb25uSWQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgZW50aXRpZXM6IFt7XG4gICAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlUmFuZG9tSWQoKSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBORVRXT1JLX0VOVElUWV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrSWQ6IGNvbm5JZCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGKSxcbiAgICAgICAgICAgICAgICB9IGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnRdLFxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmQ7XG4gICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgfVxuXG4gICAgb25EZXZpY2VKb2luKGNvbm5JZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkNvdW50KCk7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgIHRoaXMuc3Bhd25EZXZpY2VFbnRpdHkoY29ubklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGV2aWNlTGVhdmUoY29ubklkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uQ291bnQoKTtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVpZCA9IHRoaXMucmVzLmVudGl0eUluZGV4LmdldChjb25uSWQpO1xuICAgICAgICAgICAgaWYgKGVpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGV2aWNlIFwiICsgY29ubklkICsgXCIgaGFkIG5vIGFzc29jaWF0ZWQgZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtlaWRdLFxuICAgICAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfZW1pdCcsIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRldmljZUJ1ZmZlclVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3QgaXNCdWZmZXJpbmcgPSB0aGlzLmNoYW5uZWwuYnVmZmVyaW5nQ2hhbm5lbHMgPiAwO1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShORVRXT1JLX1NUQVRVU19UWVBFLCB7IGlzQnVmZmVyaW5nIH0pO1xuICAgIH1cblxuICAgIGlzT25saW5lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zLmxlbmd0aCAhPT0gMDtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGxldCBjaEV2ZW50cyA9IHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXI7XG4gICAgICAgIGNoRXZlbnRzLm9uKCdfZGV2aWNlX2pvaW4nLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgICAgIGNoRXZlbnRzLm9uKCdfZGV2aWNlX2xlZnQnLCB0aGlzLm9uRGV2aWNlTGVhdmUsIHRoaXMpO1xuICAgICAgICBjaEV2ZW50cy5vbignX2J1ZmZlcmluZ191cGRhdGUnLCB0aGlzLm9uRGV2aWNlQnVmZmVyVXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBsZXQgY2hFdmVudHMgPSB0aGlzLmNoYW5uZWwuZXZlbnRFbWl0dGVyO1xuICAgICAgICBjaEV2ZW50cy5vZmYoJ19kZXZpY2Vfam9pbicsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICAgICAgY2hFdmVudHMub2ZmKCdfZGV2aWNlX2xlZnQnLCB0aGlzLm9uRGV2aWNlTGVhdmUsIHRoaXMpO1xuICAgICAgICBjaEV2ZW50cy5vZmYoJ19idWZmZXJpbmdfdXBkYXRlJywgdGhpcy5vbkRldmljZUJ1ZmZlclVwZGF0ZSwgdGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSE9TVF9ORVRXT1JLX1RZUEUgPSAnaG9zdF9uZXR3b3JrJztcbmV4cG9ydCB0eXBlIEhPU1RfTkVUV09SS19UWVBFID0gdHlwZW9mIEhPU1RfTkVUV09SS19UWVBFO1xuZXhwb3J0IGNsYXNzIEhvc3ROZXR3b3JrU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gSE9TVF9ORVRXT1JLX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW10gYXMgc3RyaW5nW107XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBjaGFubmVsOiBDaGFubmVsO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkLCBjaDogQ2hhbm5lbCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21tYW5kX3NoYXJlJywgdGhpcy5vbkNvbW1hbmRTaGFyZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFVkVOVCBMSVNURU5FUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcHJpdmF0ZSBvbkRldmljZUpvaW4oY2hJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZWNzX2Jvb3RzdHJhcFwiLFxuICAgICAgICAgICAgcGF5bG9hZDogdGhpcy53b3JsZC5zZXJpYWxpemVDbGllbnQoKSxcbiAgICAgICAgfSBhcyBQLkVjc0Jvb3Ryc3RyYXAsIGNoSWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21tYW5kUGFja2V0KHBrdDogUC5Db21tYW5kUGFja2V0LCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBzZW5kZXIgPSBjb250YWluZXIuc2VuZGVyO1xuICAgICAgICBmb3IgKGxldCBjbWQgb2YgcGt0LmRhdGEpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0NvbW1hbmQoc2VuZGVyLCBjbWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2VtaXRcIiwgY21kLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQ29tbWFuZChzZW5kZXI6IG51bWJlciwgY29tbWFuZDogQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJSZWNlaXZlZCBjb21tYW5kIGZyb20gbm9uLWFkbWluOiBcIiwgY29tbWFuZCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tbWFuZFNoYXJlKGNvbW1hbmQ6IENvbW1hbmRbXSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tbWFuZC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5jaGFubmVsLmJyb2FkY2FzdCh7XG4gICAgICAgICAgICB0eXBlOiAnY21kJyxcbiAgICAgICAgICAgIGRhdGE6IGNvbW1hbmQsXG4gICAgICAgIH0gYXMgUC5Db21tYW5kUGFja2V0KTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub24oJ19kZXZpY2Vfam9pbicsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jaGFubmVsLmV2ZW50RW1pdHRlci5vbignY21kJywgdGhpcy5vbkNvbW1hbmRQYWNrZXQsIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub2ZmKCdfZGV2aWNlX2pvaW4nLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub2ZmKCdjbWQnLCB0aGlzLm9uQ29tbWFuZFBhY2tldCwgdGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgQ0xJRU5UX05FVFdPUktfVFlQRSA9ICdjbGllbnRfbmV0d29yayc7XG5leHBvcnQgdHlwZSBDTElFTlRfTkVUV09SS19UWVBFID0gdHlwZW9mIENMSUVOVF9ORVRXT1JLX1RZUEU7XG5leHBvcnQgY2xhc3MgQ2xpZW50TmV0d29ya1N5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IENMSUVOVF9ORVRXT1JLX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW10gYXMgc3RyaW5nW107XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBjaGFubmVsOiBDaGFubmVsO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCwgY2hhbm5lbDogQ2hhbm5lbCkge1xuICAgICAgICB0aGlzLndvcmxkID0gZWNzO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25FY3NCb290c3RyYXAocGFja2V0OiBQLkVjc0Jvb3Ryc3RyYXAsIGNvbnRhaW5lcjogUGFja2V0Q29udGFpbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChjb250YWluZXIuc2VuZGVyICE9PSAwKSByZXR1cm47IC8vIE9ubHkgYWRtaW5cblxuICAgICAgICB0aGlzLndvcmxkLmRlc2VyaWFsaXplKHBhY2tldC5wYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ21kKHBhY2tldDogUC5Db21tYW5kUGFja2V0LCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBjbWQgb2YgcGFja2V0LmRhdGEpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0NvbW1hbmQoY29udGFpbmVyLnNlbmRlciwgY21kKSkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9lbWl0XCIsIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQ29tbWFuZChzZW5kZXI6IG51bWJlciwgY29tbWFuZDogQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoc2VuZGVyID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiUmVjZWl2ZWQgY29tbWFuZCBmcm9tIG5vbi1hZG1pbjogXCIsIGNvbW1hbmQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdlY3NfYm9vdHN0cmFwJywgdGhpcy5vbkVjc0Jvb3RzdHJhcCwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub24oJ2NtZCcsIHRoaXMub25DbWQsIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub2ZmKCdlY3NfYm9vdHN0cmFwJywgdGhpcy5vbkVjc0Jvb3RzdHJhcCwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub2ZmKCdjbWQnLCB0aGlzLm9uQ21kLCB0aGlzKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uLy4uL1BJWElcIjtcbmltcG9ydCB7SUhpdEFyZWEsIElQb2ludERhdGF9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtGT0xMT1dfTU9VU0VfVFlQRSwgUE9TSVRJT05fVFlQRX0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Z2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbn0gZnJvbSBcIi4uLy4uL3Rvb2xzL3V0aWxzXCI7XG5pbXBvcnQge0tFWUJPQVJEX0tFWV9ET1dOLCBLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi9rZXlib2FyZFN5c3RlbVwiO1xuaW1wb3J0IHthZGRDdXN0b21CbGVuZE1vZGVzfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge0RFRkFVTFRfQkFDS0dST1VORH0gZnJvbSBcIi4uL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuaW50ZXJmYWNlIFBvaW50ZXJEYXRhIHtcbiAgICBmaXJzdFg6IG51bWJlcixcbiAgICBmaXJzdFk6IG51bWJlcixcbiAgICBsYXN0WDogbnVtYmVyLFxuICAgIGxhc3RZOiBudW1iZXIsXG59XG5cbmV4cG9ydCBlbnVtIFBvaW50ZXJFdmVudHMge1xuICAgIFBPSU5URVJfTU9WRSA9ICdwb2ludGVyX21vdmUnLFxuICAgIFBPSU5URVJfRE9XTiA9ICdwb2ludGVyX2Rvd24nLFxuICAgIFBPSU5URVJfVVAgPSAncG9pbnRlcl91cCcsXG4gICAgUE9JTlRFUl9SSUdIVF9ET1dOID0gJ3BvaW50ZXJfcmlnaHRfZG93bicsXG4gICAgUE9JTlRFUl9SSUdIVF9VUCA9ICdwb2ludGVyX3JpZ2h0X3VwJyxcbiAgICBQT0lOVEVSX0NMSUNLID0gJ3BvaW50ZXJfY2xpY2snLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnN1bWFibGVFdmVudCB7XG4gICAgY29uc3VtZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzTGFzdFBvc2l0aW9uIHtcbiAgICBsYXN0UG9zaXRpb246IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IHR5cGUgUG9pbnRlckRvd25FdmVudCA9IFBJWEkuSW50ZXJhY3Rpb25FdmVudCAmIENvbnN1bWFibGVFdmVudDtcbmV4cG9ydCB0eXBlIFBvaW50ZXJVcEV2ZW50ID0gUElYSS5JbnRlcmFjdGlvbkV2ZW50ICYgSGFzTGFzdFBvc2l0aW9uICYge1xuICAgIGlzQ2xpY2s6IGJvb2xlYW47XG59O1xuZXhwb3J0IHR5cGUgUG9pbnRlck1vdmVFdmVudCA9IFBJWEkuSW50ZXJhY3Rpb25FdmVudCAmIEhhc0xhc3RQb3NpdGlvbiAmIHtcbiAgICBjYW5CZWNvbWVDbGljazogYm9vbGVhbjtcbn07XG5leHBvcnQgdHlwZSBQb2ludGVyUmlnaHREb3duRXZlbnQgPSBQSVhJLkludGVyYWN0aW9uRXZlbnQgJiBDb25zdW1hYmxlRXZlbnQ7XG5leHBvcnQgdHlwZSBQb2ludGVyUmlnaHRVcEV2ZW50ID0gUElYSS5JbnRlcmFjdGlvbkV2ZW50O1xuZXhwb3J0IHR5cGUgUG9pbnRlckNsaWNrRXZlbnQgPSBQSVhJLkludGVyYWN0aW9uRXZlbnQ7XG5cbmV4cG9ydCB0eXBlIEJPQVJEX1RSQU5TRk9STV9UWVBFID0gJ2JvYXJkX3RyYW5zZm9ybSc7XG5leHBvcnQgY29uc3QgQk9BUkRfVFJBTlNGT1JNX1RZUEUgPSAnYm9hcmRfdHJhbnNmb3JtJztcbmV4cG9ydCBpbnRlcmZhY2UgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBCT0FSRF9UUkFOU0ZPUk1fVFlQRTtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogZmFsc2U7XG5cbiAgICBwb3NYOiBudW1iZXI7XG4gICAgcG9zWTogbnVtYmVyO1xuICAgIHNjYWxlWDogbnVtYmVyO1xuICAgIHNjYWxlWTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBQSVhJX0JPQVJEX1RZUEUgPSAncGl4aV9ib2FyZCc7XG5leHBvcnQgY29uc3QgUElYSV9CT0FSRF9UWVBFID0gJ3BpeGlfYm9hcmQnO1xuZXhwb3J0IGNsYXNzIFBpeGlCb2FyZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgbmFtZSA9IFBJWElfQk9BUkRfVFlQRTtcbiAgICBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcblxuICAgIHJlbmRlcmVyOiBQSVhJLlJlbmRlcmVyO1xuICAgIHRpY2tlcjogUElYSS5UaWNrZXI7XG4gICAgcHJpdmF0ZSByZXNpemVSZXFJZD86IG51bWJlcjtcblxuICAgIHJvb3Q6IFBJWEkuZGlzcGxheS5TdGFnZTtcbiAgICBib2FyZDogUElYSS5Db250YWluZXI7XG4gICAgdG9vbEZvcmVncm91bmRHcm91cDogUElYSS5kaXNwbGF5Lkdyb3VwO1xuXG4gICAgcHJpdmF0ZSB3aGVlbExpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSByZXNpemVMaXN0ZW5lcjogYW55O1xuICAgIHBvaW50ZXJzID0gbmV3IE1hcDxudW1iZXIsIFBvaW50ZXJEYXRhPigpO1xuICAgIG1vdXNlTGFzdFg6IG51bWJlciA9IDA7XG4gICAgbW91c2VMYXN0WTogbnVtYmVyID0gMDtcbiAgICBsYXN0TW91c2VEb3duVGltZT86IG51bWJlcjtcbiAgICBpc0RyYWdnaW5nQm9hcmQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3JlcV9ib2FyZF9jZW50ZXInLCB0aGlzLmNlbnRlckJvYXJkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEtFWUJPQVJEX0tFWV9ET1dOLCB0aGlzLm9uS2V5RG93biwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBCT0FSRF9UUkFOU0ZPUk1fVFlQRSxcbiAgICAgICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcG9zWDogMCxcbiAgICAgICAgICAgICAgICBwb3NZOiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlWDogMSxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXG4gICAgICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2VcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBXZSBjYW5ub3Qgd29yayB3aXRob3V0IHdlYmdsXG4gICAgICAgIFBJWEkuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBQSVhJLlJlbmRlcmVyKHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgICAgICB9KTtcbiAgICAgICAgYWRkQ3VzdG9tQmxlbmRNb2Rlcyh0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGlja2VyID0gbmV3IFBJWEkuVGlja2VyKCk7XG5cbiAgICAgICAgdGhpcy5yb290ID0gbmV3IFBJWEkuZGlzcGxheS5TdGFnZSgpO1xuICAgICAgICB0aGlzLnJvb3QuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yb290LmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yb290LnNvcnRhYmxlQ2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLnJvb3QuZ3JvdXAuZW5hYmxlU29ydCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5yb290LmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yb290LmhpdEFyZWEgPSB7XG4gICAgICAgICAgICBjb250YWlucyh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGFzIElIaXRBcmVhO1xuXG4gICAgICAgIHRoaXMudGlja2VyLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnJvb3QpO1xuICAgICAgICB9LCBQSVhJLlVQREFURV9QUklPUklUWS5MT1cpO1xuXG4gICAgICAgIC8vIFRPRE86IHdlIHNob3VsZCBjcmVhdGUgcmVuZGVyIHBoYXNlcywgb25lIGZvciB0aGUgd29ybGQgKHVzaW5nIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCB0byBtb3ZlIHRoZSBjYW1lcmEpXG4gICAgICAgIC8vICAgICAgIGFuZCB0aGUgb3RoZXIgZm9yIHRoZSBHVUkgKG9yIG90aGVyIHRoaW5ncyB0aGF0IGRvIG5vdCBkZXBlbmQgb24gY2FtZXJhIHBvc2l0aW9uLCBhcyB0aGUgR3JpZFN5c3RlbSg/KSkuXG4gICAgICAgIC8vICAgICAgIHRvIGNyZWF0ZSBhIGN1c3RvbSBnYW1lIGxvb3A6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUN1c3RvbS1BcHBsaWNhdGlvbi1HYW1lTG9vcFxuICAgICAgICB0aGlzLmJvYXJkID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuYm9hcmQuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ib2FyZC5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KDAsIDApO1xuICAgICAgICB0aGlzLmJvYXJkLnNvcnRhYmxlQ2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudG9vbEZvcmVncm91bmRHcm91cCA9IG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAoTGF5ZXJPcmRlci5UT09MUywgZmFsc2UpO1xuICAgICAgICBjb25zdCB0b29sTGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKHRoaXMudG9vbEZvcmVncm91bmRHcm91cCk7XG4gICAgICAgIHRvb2xMYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0b29sTGF5ZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvb3QuYWRkQ2hpbGQodG9vbExheWVyKTtcblxuICAgICAgICB0aGlzLnJvb3QuYWRkQ2hpbGQodGhpcy5ib2FyZCk7XG4gICAgfVxuXG4gICAgb25LZXlEb3duKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBrZXlib2FyZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSkgYXMgS2V5Ym9hcmRSZXNvdXJjZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGtleWJvYXJkID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgY3RybCA9IGtleWJvYXJkLmN0cmw7XG4gICAgICAgIGxldCBzaGlmdCA9IGtleWJvYXJkLnNoaWZ0O1xuICAgICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgICBsZXQgZXZlbnRfbmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgICAgICAgIGlmIChzaGlmdCkgZXZlbnRfbmFtZSA9ICdjb21tYW5kX3JlZG8nO1xuICAgICAgICAgICAgICAgIGVsc2UgZXZlbnRfbmFtZSA9ICdjb21tYW5kX3VuZG8nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneSc6IGV2ZW50X25hbWUgPSAnY29tbWFuZF9yZWRvJzsgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYyc6IGNvbnNvbGUubG9nKFwiY29weVwiKTsgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd2JzogY29uc29sZS5sb2coXCJwYXN0ZVwiKTsgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRfbmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KGV2ZW50X25hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuQmVjb21lQ2xpY2socGRhdGE6IFBvaW50ZXJEYXRhLCBwOiBJUG9pbnREYXRhKSB7XG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGxldCB0aW1lRGlmZiA9IG5vdyAtICh0aGlzLmxhc3RNb3VzZURvd25UaW1lIHx8IDApO1xuXG4gICAgICAgIGxldCBkaWZmWCA9IHAueCAtIHBkYXRhLmZpcnN0WDtcbiAgICAgICAgbGV0IGRpZmZZID0gcC55IC0gcGRhdGEuZmlyc3RZO1xuICAgICAgICBsZXQgZGlmZlBvcyA9IE1hdGguc3FydChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSk7XG5cbiAgICAgICAgcmV0dXJuIGRpZmZQb3MgPCA1ICYmIHRpbWVEaWZmIDwgNTAwO1xuICAgIH1cblxuICAgIHpvb20oZFNjYWxlOiBudW1iZXIsIGNlbnRlclg6IG51bWJlciwgY2VudGVyWTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IG1pblNjYWxlID0gMC4wNTtcbiAgICAgICAgY29uc3QgbWF4U2NhbGUgPSAzO1xuXG4gICAgICAgIGlmICh0aGlzLmJvYXJkLnNjYWxlLnggPCBtaW5TY2FsZSAmJiBkU2NhbGUgPCAxIHx8IHRoaXMuYm9hcmQuc2NhbGUueCA+IG1heFNjYWxlICYmIGRTY2FsZSA+IDEpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gQmVmb3JlIHNjYWxpbmcgYWRqdXN0IHRoZSBwb3NpdGlvbjpcbiAgICAgICAgLy8gVGFrZXMgdGhlIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgYm9hcmQgcG9zaXRpb24gKHVwcGVyLWxlZnQpIHRvIHRoZSBjdXJzb3IuXG4gICAgICAgIC8vIEFwcGx5IHRoZSBkU2NhbGUgZmFjdG9yIHRvIHRoYXQgdmVjdG9yIGFuZCBmaW5kIHRoZSBuZXcgYm9hcmQgcG9zaXRpb24uXG4gICAgICAgIC8vIEZpbmFsbHksIHRoZSBjdXJzb3IgcG9zaXRpb24gcGx1cyB0aGUgdmVjdG9yIG9idGFpbmVkIGlzIHRoZSBuZXcgYm9hcmQgcG9zaXRpb24uXG5cbiAgICAgICAgbGV0IHBhZFggPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnggLSBjZW50ZXJYO1xuICAgICAgICBsZXQgcGFkWSA9IHRoaXMuYm9hcmQucG9zaXRpb24ueSAtIGNlbnRlclk7XG5cbiAgICAgICAgcGFkWCAqPSBkU2NhbGU7XG4gICAgICAgIHBhZFkgKj0gZFNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQocGFkWCArIGNlbnRlclgsIHBhZFkgKyBjZW50ZXJZKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBuZXcgUElYSS5Qb2ludCh0aGlzLmJvYXJkLnNjYWxlLnggKiBkU2NhbGUsIHRoaXMuYm9hcmQuc2NhbGUueSAqIGRTY2FsZSk7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvKmlmICh0aGlzLmJvYXJkLmlzQm9hcmRMb3N0KHBvc2l0aW9uLCBzY2FsZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiWW91IGNhbid0IG5vIG1vcmUgc2NhbGUgaW4gdGhpcyBkaXJlY3Rpb24sIHlvdSdyZSBsb29zaW5nIHRoZSBib2FyZCFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0qL1xuXG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFLCB7XG4gICAgICAgICAgICBwb3NYOiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgcG9zWTogcG9zaXRpb24ueSxcbiAgICAgICAgICAgIHNjYWxlWDogc2NhbGUueCxcbiAgICAgICAgICAgIHNjYWxlWTogc2NhbGUueSxcbiAgICAgICAgfSBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgbW91c2Ugc2Nyb2xscy5cbiAgICAgKiBUaGUgbWFwIGlzIHpvb21lZCBpbiBhbmQgb3V0IGJhc2VkIG9uIHRoZSBzY3JvbGwgZGlyZWN0aW9uLlxuICAgICAqL1xuICAgIG9uTW91c2VXaGVlbChldmVudDogV2hlZWxFdmVudCkge1xuICAgICAgICBjb25zdCBzY2FsaW5nU3BlZWQgPSAwLjE7XG4gICAgICAgIGNvbnN0IGRTY2FsZSA9IDEgLSBNYXRoLnNpZ24oZXZlbnQuZGVsdGFZKSAqIHNjYWxpbmdTcGVlZDtcbiAgICAgICAgdGhpcy56b29tKGRTY2FsZSwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyRG93bihldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgICAvLyBSaWdodCBidXR0b25cbiAgICAgICAgICAgIGxldCBwcmRlID0gZXZlbnQgYXMgUG9pbnRlclJpZ2h0RG93bkV2ZW50O1xuICAgICAgICAgICAgcHJkZS5jb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfUklHSFRfRE9XTiwgcHJkZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9zID0gZXZlbnQuZGF0YS5nbG9iYWw7XG4gICAgICAgIHRoaXMucG9pbnRlcnMuc2V0KGV2ZW50LmRhdGEucG9pbnRlcklkLCB7XG4gICAgICAgICAgICBmaXJzdFg6IHBvcy54LFxuICAgICAgICAgICAgZmlyc3RZOiBwb3MueSxcbiAgICAgICAgICAgIGxhc3RYOiBwb3MueCxcbiAgICAgICAgICAgIGxhc3RZOiBwb3MueSxcbiAgICAgICAgfSBhcyBQb2ludGVyRGF0YSk7XG5cbiAgICAgICAgdGhpcy5sYXN0TW91c2VEb3duVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgbGV0IGUgPSBldmVudCBhcyBQb2ludGVyRG93bkV2ZW50O1xuICAgICAgICBlLmNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgIGlmICghKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZXZlbnQuZGF0YS5idXR0b24gPT09IDEpKSB7XG4gICAgICAgICAgICAvLyBJZiBtaWRkbGUgYnV0dG9uIGlzIHByZXNzZWQgaWdub3JlLCB3ZSBmb3JjZSBpdCB0byBkcmFnIHRoZSBib2FyZFxuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlLmNvbnN1bWVkICYmIHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nQm9hcmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXAoZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5kYXRhLmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgLy8gUmlnaHQgYnV0dG9uXG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9VUCwgZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBkYXRhID0gdGhpcy5wb2ludGVycy5nZXQoZXZlbnQuZGF0YS5wb2ludGVySWQpO1xuICAgICAgICBpZiAocGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMucG9pbnRlcnMuZGVsZXRlKGV2ZW50LmRhdGEucG9pbnRlcklkKTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0TW91c2VEb3duVGltZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nQm9hcmQgPSBmYWxzZTtcblxuICAgICAgICAgICAgbGV0IGlzQ2xpY2sgPSB0aGlzLmNhbkJlY29tZUNsaWNrKHBkYXRhLCBldmVudC5kYXRhLmdsb2JhbCk7XG5cbiAgICAgICAgICAgIGxldCBwdWUgPSBldmVudCBhcyBQb2ludGVyVXBFdmVudDtcbiAgICAgICAgICAgIHB1ZS5sYXN0UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeDogcGRhdGEubGFzdFgsXG4gICAgICAgICAgICAgICAgeTogcGRhdGEubGFzdFlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwdWUuaXNDbGljayA9IGlzQ2xpY2s7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9VUCwgcHVlKTtcbiAgICAgICAgICAgIGlmIChpc0NsaWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfQ0xJQ0ssIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlclVwT3V0c2lkZShldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50KSB7XG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAoZXZlbnQpO1xuICAgIH1cblxuICAgIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIGFyb3VuZCB0aGUgbWFwLiAqL1xuICAgIG9uUG9pbnRlck1vdmUoZTogUElYSS5JbnRlcmFjdGlvbkV2ZW50KSB7XG4gICAgICAgIGxldCBwb3MgPSBlLmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRPRE86IG1hZ25ldCBzbmFwIHN5c3RlbVxuICAgICAgICBsZXQgbG9jYWxQb3MgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMud29ybGQsIGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ZXJGb2xsb3dlcnMobG9jYWxQb3MpO1xuXG4gICAgICAgIGxldCBwZGF0YSA9IHRoaXMucG9pbnRlcnMuZ2V0KGUuZGF0YS5wb2ludGVySWQpO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPD0gMSAmJiAhdGhpcy5pc0RyYWdnaW5nQm9hcmQpIHtcbiAgICAgICAgICAgIGxldCBwbWUgPSBlIGFzIFBvaW50ZXJNb3ZlRXZlbnQ7XG4gICAgICAgICAgICBwbWUubGFzdFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubW91c2VMYXN0WCwgeTogdGhpcy5tb3VzZUxhc3RZLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBtZS5jYW5CZWNvbWVDbGljayA9IHBkYXRhID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRoaXMuY2FuQmVjb21lQ2xpY2socGRhdGEsIHBvcyk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9NT1ZFLCBwbWUpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZUxhc3RYID0gcG9zLng7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTGFzdFkgPSBwb3MueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMSkgey8vIE1vdmVcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmdCb2FyZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bvc1ggPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnggKyAocG9zLnggLSBwZGF0YS5sYXN0WCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UG9zWSA9IHRoaXMuYm9hcmQucG9zaXRpb24ueSArIChwb3MueSAtIHBkYXRhLmxhc3RZKTtcblxuICAgICAgICAgICAgICAgIC8qaWYgKHRoaXMuYm9hcmQuaXNCb2FyZExvc3QobmV3IFBJWEkuUG9pbnQobmV3UG9zWCwgbmV3UG9zWSksIHRoaXMuc2NhbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJZb3UgY2FuJ3QgZ28gZnVydGhlciB0aGFuIHRoaXMsIHlvdSdsbCBsb29zZSB0aGUgYm9hcmQhXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSwge1xuICAgICAgICAgICAgICAgICAgICBwb3NYOiBuZXdQb3NYLFxuICAgICAgICAgICAgICAgICAgICBwb3NZOiBuZXdQb3NZLFxuICAgICAgICAgICAgICAgIH0gYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmlyc3REaXN0ID0gMDtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplID09PSAyKSB7XG4gICAgICAgICAgICBsZXQgW3BhLCBwYl0gPSB0aGlzLnBvaW50ZXJzLnZhbHVlcygpO1xuXG4gICAgICAgICAgICBsZXQgZHggPSBwYS5sYXN0WCAtIHBiLmxhc3RYO1xuICAgICAgICAgICAgbGV0IGR5ID0gcGEubGFzdFkgLSBwYi5sYXN0WTtcbiAgICAgICAgICAgIGZpcnN0RGlzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIH1cblxuICAgICAgICBwZGF0YS5sYXN0WCA9IHBvcy54O1xuICAgICAgICBwZGF0YS5sYXN0WSA9IHBvcy55O1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDIpIHtcbiAgICAgICAgICAgIGxldCBbcGEsIHBiXSA9IHRoaXMucG9pbnRlcnMudmFsdWVzKCk7XG5cbiAgICAgICAgICAgIGxldCBkeCA9IHBhLmxhc3RYIC0gcGIubGFzdFg7XG4gICAgICAgICAgICBsZXQgZHkgPSBwYS5sYXN0WSAtIHBiLmxhc3RZO1xuICAgICAgICAgICAgbGV0IHNlY29uZERpc3QgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgICAgICAgICBsZXQgY2VudGVyID0gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICAgICAgICAgKHBhLmxhc3RYICsgcGIubGFzdFgpIC8gMixcbiAgICAgICAgICAgICAgICAocGEubGFzdFkgKyBwYi5sYXN0WSkgLyAyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuem9vbSgoc2Vjb25kRGlzdCAvIGZpcnN0RGlzdCksIGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMudHlwZSAhPT0gQk9BUkRfVFJBTlNGT1JNX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IHQgPSByZXMgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZTtcbiAgICAgICAgdGhpcy5ib2FyZC5wb3NpdGlvbi5zZXQodC5wb3NYLCB0LnBvc1kpO1xuICAgICAgICB0aGlzLmJvYXJkLnNjYWxlLnNldCh0LnNjYWxlWCwgdC5zY2FsZVkpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBvaW50ZXJGb2xsb3dlcnMocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSkge1xuICAgICAgICBmb3IgKGxldCBjIG9mICh0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChGT0xMT1dfTU9VU0VfVFlQRSkgYXMgRmxhZ0Vjc1N0b3JhZ2UpLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFLCB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHRoZSBib2FyZCdzIGNlbnRlciBhbmQgdGhlIHdpbmRvdydzIGNlbnRlciBvdmVybGFwLlxuICAgICAqIFRoaXMgd2F5IHRoZSBpbml0aWFsIGJvYXJkIHBvc2l0aW9uIGlzIGNlbnRlcmVkIHRvIHRoZSByb290IGNhcmQuXG4gICAgICovXG4gICAgY2VudGVyQm9hcmQoKSB7XG4gICAgICAgIGxldCBib2FyZFNjcmVlbldpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgbGV0IGJvYXJkU2NyZWVuSGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IHNjcmVlbk1pZFBvaW50V2lkdGggPSBib2FyZFNjcmVlbldpZHRoIC8gMjtcbiAgICAgICAgbGV0IHNjcmVlbk1pZFBvaW50SGVpZ2h0ID0gYm9hcmRTY3JlZW5IZWlnaHQgLyAyO1xuXG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLmJvYXJkLmdldEJvdW5kcygpO1xuXG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KFxuICAgICAgICAgICAgc2NyZWVuTWlkUG9pbnRXaWR0aCAtIGJvdW5kcy54IC0gYm91bmRzLndpZHRoIC8gMixcbiAgICAgICAgICAgIHNjcmVlbk1pZFBvaW50SGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFwcGx5Q2FudmFzU3R5bGUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzID0gY2FudmFzLnN0eWxlO1xuICAgICAgICBzLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHMuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgfVxuXG4gICAgcmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemVSZXFJZCAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHRoaXMucmVzaXplUmVxSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kb1Jlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRvUmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemVSZXFJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVJlcUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUoY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIHRoaXMuYXBwbHlDYW52YXNTdHlsZShjYW52YXMpO1xuICAgICAgICBsZXQgY250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICAgICAgaWYgKGNudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBjYW52YXMgY29udGFpbmVyXCI7XG4gICAgICAgIH1cbiAgICAgICAgY250LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICAgICAgLy8gUElYSVxuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vbihcInBvaW50ZXJ1cG91dHNpZGVcIiwgdGhpcy5vblBvaW50ZXJVcE91dHNpZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMud2hlZWxMaXN0ZW5lciA9IHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy53aGVlbExpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5yZXNpemVMaXN0ZW5lciA9IHRoaXMucmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplTGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMudGlja2VyLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50aWNrZXIuc3RvcCgpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLnJvb3Qub2ZmKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5yb290Lm9mZihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vZmYoXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vZmYoXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMub25Qb2ludGVyVXBPdXRzaWRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLndoZWVsTGlzdGVuZXIpO1xuXG4gICAgICAgIGxldCBjbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgICAgICBjbnQ/LnJlbW92ZUNoaWxkKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfVxufSIsImltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEhPU1RfSElEREVOX1RZUEUsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBUUkFOU0ZPUk1fVFlQRSxcbiAgICBUcmFuc2Zvcm1Db21wb25lbnRcbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgRGlzcGxheUVsZW1lbnQsXG4gICAgRWxlbWVudFR5cGUsXG4gICAgRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSxcbiAgICBHUkFQSElDX1RZUEUsXG4gICAgR3JhcGhpY0NvbXBvbmVudCxcbiAgICBJbWFnZUVsZW1lbnQsXG4gICAgSW1hZ2VTY2FsZU1vZGUsXG4gICAgTGluZUVsZW1lbnQsXG4gICAgUG9pbnRFbGVtZW50LFxuICAgIFRleHRFbGVtZW50LFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQge0JMRU5EX01PREVTLCBJUG9pbnREYXRhLCBNYXRyaXgsIFJlbmRlclRleHR1cmUsIFJlbmRlclRleHR1cmVQb29sLCBUZXh0dXJlfSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTCwgREVTVFJPWV9NSU59IGZyb20gXCIuLi8uLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge1xuICAgIEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELFxuICAgIFBMQVlFUl9UWVBFLFxuICAgIFBMQVlFUl9WSVNJQkxFX1RZUEUsXG4gICAgUGxheWVyU3lzdGVtLFxuICAgIFBsYXllclZpc2libGVDb21wb25lbnQsXG4gICAgVmlzaWJpbGl0eVNwcmVhZERhdGFcbn0gZnJvbSBcIi4uL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtMSUdIVF9UWVBFLCBMaWdodFN5c3RlbSwgTG9jYWxMaWdodFNldHRpbmdzfSBmcm9tIFwiLi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgSU5URVJBQ1RJT05fVFlQRSxcbiAgICBJbnRlcmFjdGlvbkNvbXBvbmVudCxcbiAgICBJbnRlcmFjdGlvblN5c3RlbSxcbiAgICBTaGFwZSxcbiAgICBzaGFwZUFhYmIsXG4gICAgc2hhcGVMaW5lLFxuICAgIHNoYXBlT2JiLFxuICAgIHNoYXBlUG9pbnQsXG4gICAgc2hhcGVUb0FhYmJcbn0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7Qml0U2V0fSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9iaXRTZXRcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7T2JifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvb2JiXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge2FycmF5UmVtb3ZlRWxlbX0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvYXJyYXlcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1RFWFRfVFlQRSwgVGV4dFN5c3RlbX0gZnJvbSBcIi4vdGV4dFN5c3RlbVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBpeGlHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgR3JhcGhpY0NvbXBvbmVudCB7XG4gICAgX3NlbGVjdGVkOiBib29sZWFuO1xuICAgIF92aXNpYkxpc3RlbmVyPzogVmlzaWJMaXN0ZW5lckxldmVsOy8vIERlZmF1bHQ6IE5PVF9ORUVERURcbiAgICBfYml0QnlCaXQ/OiBib29sZWFuO1xuICAgIF9sYXllcj86IFBJWEkuZGlzcGxheS5Hcm91cDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaXhpRGlzcGxheUVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCB7XG4gICAgX29sZFR5cGU/OiBFbGVtZW50VHlwZTtcbiAgICBfcGl4aT86IFBJWEkuRGlzcGxheU9iamVjdDtcbn1cblxuaW50ZXJmYWNlIFBpeGlJbWFnZUVsZW1lbnQgZXh0ZW5kcyBJbWFnZUVsZW1lbnQsIFBpeGlEaXNwbGF5RWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0U7Ly8gaW50ZXJmZXJlbmNlIGJldHdlZW4gaW50ZXJmYWNlcyAoZ29vZC1vbGQgZGlhbW9uZCBwcm9ibGVtPylcbiAgICBfb2xkVGV4PzogVGV4dHVyZSxcbiAgICBfcmVuVGV4PzogUmVuZGVyVGV4dHVyZTtcbiAgICBfdmlzTWFwQ2hhbmdlZD86IGJvb2xlYW47XG4gICAgX3BpeGk/OiBQSVhJLlNwcml0ZTtcbn1cblxuaW50ZXJmYWNlIEN1c3RvbVRleHR1cmUgZXh0ZW5kcyBQSVhJLlRleHR1cmUge1xuICAgIGdyaWRTaXplPzoge1xuICAgICAgICB4OiBudW1iZXI7XG4gICAgICAgIHk6IG51bWJlcjtcbiAgICAgICAgdXBkYXRlSWQ6IG51bWJlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSRU1FTUJFUl9UWVBFID0gJ3JlbWVtYmVyJztcbmV4cG9ydCB0eXBlIFJFTUVNQkVSX1RZUEUgPSAncmVtZW1iZXInO1xuZXhwb3J0IGludGVyZmFjZSBSZW1lbWJlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUkVNRU1CRVJfVFlQRSxcbn1cblxuZW51bSBWaXNpYkxpc3RlbmVyTGV2ZWwge1xuICAgIE5PVF9ORUVERUQsXG4gICAgUkVNRU1CRVIsXG4gICAgUEVSU0lTVEVOVCxcbn1cblxuZnVuY3Rpb24gbGVycENvbG9yKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB0ciA9ICgoYSA+PiAxNikgJiAweEZGKSAqICgxIC0gdCkgKyAoKGIgPj4gMTYpICYgMHhGRikgKiB0O1xuICAgIGxldCB0ZyA9ICgoYSA+PiA4KSAmIDB4RkYpICogKDEgLSB0KSArICgoYiA+PiA4KSAmIDB4RkYpICogdDtcbiAgICBsZXQgdGIgPSAoYSAmIDB4RkYpICogKDEgLSB0KSArIChiICYgMHhGRikgKiB0O1xuICAgIHJldHVybiB0ciA8PCAxNiB8IHRnIDw8IDggfCB0Yjtcbn1cblxuZXhwb3J0IGNvbnN0IFBPSU5UX1JBRElVUyA9IDEyO1xuXG5leHBvcnQgY29uc3QgUElYSV9HUkFQSElDX1RZUEUgPSAncGl4aV9ncmFwaGljJztcbmV4cG9ydCB0eXBlIFBJWElfR1JBUEhJQ19UWVBFID0gdHlwZW9mIFBJWElfR1JBUEhJQ19UWVBFO1xuXG4vKipcbiAqIE1hbmFnZXM6XG4gKiAtIERyYXdpbmcgZWxlbWVudHNcbiAqIC0gU2VsZWN0aW9uIGhpZ2hsaWdodGluZ1xuICogLSBFbGVtZW50IHZpc2liaWxpdHkvcmVtZW1iZXJpbmdcbiAqIC0gTGF5ZXIgb3JkZXJpbmdcbiAqIC0gUG9zaXRpb24vVHJhbnNsYXRpb24gdXBkYXRlc1xuICogLSBCaXQtYnktYml0IHJlbWVtYmVyaW5nIChiYWNrZ3JvdW5kIGRpc2NvdmVyeSlcbiAqIC0gSW50ZXJhY3Rpb24gc2V0dXBcbiAqXG4gKiBUT0RPOiB3ZSBjb3VsZCB1c2UgYSBQYXJ0aWNsZVN5c3RlbSBpbiBzb21lIGluc3RhbmNlc1xuICovXG5leHBvcnQgY2xhc3MgUGl4aUdyYXBoaWNTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQSVhJX0dSQVBISUNfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBJTlRFUkFDVElPTl9UWVBFXTtcbiAgICByZWFkb25seSBwcm92aWRlcyA9IFtHUkFQSElDX1RZUEVdO1xuXG4gICAgd29ybGQ6IFdvcmxkO1xuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQaXhpR3JhcGhpY0NvbXBvbmVudD4oR1JBUEhJQ19UWVBFLCBmYWxzZSwgZmFsc2UpO1xuICAgIHJlbWVtYmVyU3RvcmFnZSA9IG5ldyBGbGFnRWNzU3RvcmFnZShSRU1FTUJFUl9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgIHRleHRTeXN0ZW06IFRleHRTeXN0ZW07XG4gICAgcGl4aUJvYXJkU3lzdGVtOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgaW50ZXJhY3Rpb25TeXN0ZW06IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIHBsYXllclN5c3RlbT86IFBsYXllclN5c3RlbTtcbiAgICByZW5kZXJUZXh0dXJlUG9vbCA9IG5ldyBSZW5kZXJUZXh0dXJlUG9vbCgpO1xuICAgIGNpcmNsZVRleD86IFBJWEkuVGV4dHVyZTtcblxuICAgIG1hc3RlclZpc2liaWxpdHk6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnRleHRTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChURVhUX1RZUEUpIGFzIFRleHRTeXN0ZW07XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtID0gd29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMucmVtZW1iZXJTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZWQnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZWxlY3Rpb25fYmVnaW4nLCB0aGlzLm9uU2VsZWN0aW9uQmVnaW4sIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3NlbGVjdGlvbl9lbmQnLCB0aGlzLm9uU2VsZWN0aW9uRW5kLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELCB0aGlzLm9uQkJCVmlzaWJpbGl0eVNwcmVhZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignc2VyaWFsaXplJywgdGhpcy5vblNlcmlhbGl6ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignc2VyaWFsaXplX2VudGl0eScsIHRoaXMub25TZXJpYWxpemVFbnRpdHksIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBzcHJlYWRWaXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGMudHlwZSA9PT0gR1JBUEhJQ19UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSBjIGFzIFBpeGlHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcmFjdGl2ZShjb20sIHBvcywgdHJhbnMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5TGlzdGVuZXIoY29tKTtcblxuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBMQVlFUl9WSVNJQkxFX1RZUEUpIGFzIFBsYXllclZpc2libGVDb21wb25lbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgcmVtZW1iZXJlZCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBSRU1FTUJFUl9UWVBFKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCAhIXB2Py52aXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIGNvbS5fYml0QnlCaXQgPSB0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSBjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBSRU1FTUJFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGhlcmU/XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ByZWFkVmlzICYmIGNvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgc3ByZWFkVmlzID0gZmFsc2U7XG4gICAgICAgIGxldCBjb206IFBpeGlHcmFwaGljQ29tcG9uZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgY29tID0gYyBhcyBQaXhpR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMucnVuTWV0aG9kcyhjb20sIGNvbS5kaXNwbGF5KTsvLyBydW4gZGVsYXllZCBtZXRob2RzIChsaWtlIF9jaGlsZHJlbkFkZCwgX2NoaWxkcmVuUmVwbGFjZSAmIGNvKS5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3RpdmUoY29tLCBwb3MsIHRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQTEFZRVJfVklTSUJMRV9UWVBFKSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IHJlbWVtYmVyZWQgPSB0aGlzLnJlbWVtYmVyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGNvbSwgY29tLmRpc3BsYXksIHRydWUsIHB2Py52aXNpYmxlID8/IHRydWUsIHJlbWVtYmVyZWQpO1xuICAgICAgICAgICAgY29tLl9iaXRCeUJpdCA9IHRoaXMubmVlZHNCaXRCeUJpdChjb20sIGNvbS5kaXNwbGF5KTtcbiAgICAgICAgICAgIHNwcmVhZFZpcyA9IGNvbS5fYml0QnlCaXQ7XG5cbiAgICAgICAgICAgIGlmICgnaW50ZXJhY3RpdmUnIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aXZlKGNvbSwgcG9zLCB0cmFucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBQT1NJVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvcyA9IGMgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIHNwcmVhZFZpcyA9ICEhY29tLl9iaXRCeUJpdDtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFRSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IGMgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgc3ByZWFkVmlzID0gISFjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUExBWUVSX1ZJU0lCTEVfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHB2ID0gYyBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHB2LmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAgICAgbGV0IHJlbWVtYmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb20uX3Zpc2liTGlzdGVuZXIgPT09IFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUiAmJiBwdi52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUkVNRU1CRVJfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBjLmVudGl0eSxcbiAgICAgICAgICAgICAgICB9IGFzIFJlbWVtYmVyQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEucmVtb3ZlUGxheWVyVmlzTGlzdGVuZXIoYy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJlbWVtYmVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMubWFzdGVyVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tLCBjb20uZGlzcGxheSwgdHJ1ZSwgcHYudmlzaWJsZSwgcmVtZW1iZXJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ByZWFkVmlzICYmIGNvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZWQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudCgoYyBhcyBHcmFwaGljQ29tcG9uZW50KS5kaXNwbGF5LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFRSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCAoYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQpLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCB8fCAhY29tLl9iaXRCeUJpdCkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gTm93IHlvdSdyZSB2aXNpYmxlISBzYXkgaGVsbG9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlQkJCVmlzQXJvdW5kKGNvbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykge1xuICAgICAgICAgICAgbGV0IHNldCA9IHJlcyBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XG4gICAgICAgICAgICBpZiAoISgndmlzaW9uVHlwZScgaW4gY2hhbmdlcykpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKHNldC52aXNpb25UeXBlID09PSAnZG0nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXN0ZXJWaXNpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjLCBjLmRpc3BsYXksIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0LnZpc2lvblR5cGUgPT09ICdycCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc3RlclZpc2liaWxpdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksICdwbGF5ZXJfdmlzaWJsZScpIGFzIFBsYXllclZpc2libGVDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZW0gPSB0aGlzLnJlbWVtYmVyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGMsIGMuZGlzcGxheSwgdHJ1ZSwgcHY/LnZpc2libGUsIHJlbSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93ICdVbmtub3duIHZpc2lvbiB0eXBlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoISgnd2lkdGgnIGluIGNoYW5nZXMpKSByZXR1cm47XG4gICAgICAgICAgICAvLyBZb3UgYXJlIGxpdGVyYWxseSBzYXRhbiwgSSBoYXRlIHlvdS5cblxuICAgICAgICAgICAgbGV0IHBvc1N0byA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICAgICAgbGV0IHRyYW5TdG8gPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChUUkFOU0ZPUk1fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxUcmFuc2Zvcm1Db21wb25lbnQ+O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvckVhY2hFbChjLCBjLmRpc3BsYXksZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVsZW1lbnRUeXBlLklNQUdFICYmIChlIGFzIEltYWdlRWxlbWVudCkuc2NhbGUgPT09IEltYWdlU2NhbGVNb2RlLkdSSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG8uZ2V0Q29tcG9uZW50KGMuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJhbiA9IHRyYW5TdG8uZ2V0Q29tcG9uZW50KGMuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYywgZSwgcG9zLCB0cmFuLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUsIHsgc2hhcGU6IHRoaXMuY3JlYXRlU2hhcGUoZSwgcG9zLCB0cmFuKX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2VsZWN0aW9uQmVnaW4oZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX3NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMsIGMuZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2VsZWN0aW9uRW5kKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjLl9zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYywgYy5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25CQkJWaXNpYmlsaXR5U3ByZWFkKGRhdGE6IFZpc2liaWxpdHlTcHJlYWREYXRhKTogdm9pZCB7XG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5pbnRlcmFjdGlvblN5c3RlbS5xdWVyeShzaGFwZUFhYmIoZGF0YS5hYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICBsZXQgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gY29tICE9PSB1bmRlZmluZWQgJiYgY29tLl9iaXRCeUJpdCA9PT0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGMgb2YgaXRlcikge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGhlcmUgdGhlbiB0aGUgY29tcG9uZW50IGV4aXN0cywgd2UgY2hlY2tlZCBpdCBpbiB0aGUgaXRlcmF0b3JcbiAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSE7XG4gICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjbXAsIGNtcC5kaXNwbGF5LCAoaW1nKSA9PiB0aGlzLnVwZGF0ZUJCQlZpc2liaWxpdHkoZGF0YSwgY21wLCBpbWcpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZXJpYWxpemUoKTogdm9pZCB7XG4gICAgICAgIGxldCBjaGFuZ2VkTGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBjb20gb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgaWYgKCFjb20uX2JpdEJ5Qml0KSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjb20sIGNvbS5kaXNwbGF5LCAoaW1nKSA9PiBjaGFuZ2VkIHx8PSB0aGlzLmV4dHJhY3RWaXNpYmlsaXR5KGltZykpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWQpIGNoYW5nZWRMaXN0LnB1c2goY29tLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWRMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsIGNoYW5nZWRMaXN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZXJpYWxpemVFbnRpdHkoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoYywgYy5kaXNwbGF5LCAoaW1nKSA9PiBjaGFuZ2VkIHx8PSB0aGlzLmV4dHJhY3RWaXNpYmlsaXR5KGltZykpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsIFtlbnRpdHldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBMSVNURU5FUlMgRE9ORSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVJbnRlcmFjdGl2ZShjb21wOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgcG9zOiBJUG9pbnREYXRhLCB0cmFuczogVHJhbnNmb3JtQ29tcG9uZW50IHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBpbnRlcmFjdGl2ZUNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBpZiAoY29tcC5pbnRlcmFjdGl2ZSAmJiBpbnRlcmFjdGl2ZUNtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wLmVudGl0eSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IElOVEVSQUNUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgc2VsZWN0UHJpb3JpdHk6IGNvbXAuZGlzcGxheS5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICBzbmFwRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGFwZTogdGhpcy5jcmVhdGVTaGFwZShjb21wLmRpc3BsYXksIHBvcywgdHJhbnMpLFxuICAgICAgICAgICAgfSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNvbXAuaW50ZXJhY3RpdmUgJiYgaW50ZXJhY3RpdmVDbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoaW50ZXJhY3RpdmVDbXApO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb21wb25lbnQgY2hhbmdlcyBpbiBpbnRlcmFjdG9yXG4gICAgICAgICAgICBpZiAoY29tcC5kaXNwbGF5LnR5cGUgPT09IEVsZW1lbnRUeXBlLklNQUdFKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRleHR1cmUgaGFzIGNoYW5nZWQgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGludGVyYWN0b3IuXG4gICAgICAgICAgICAgICAgbGV0IGVsID0gY29tcC5kaXNwbGF5IGFzIFBpeGlJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnRleHR1cmUgIT09IGVsLl9vbGRUZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFLCB7c2hhcGU6IHRoaXMuY3JlYXRlU2hhcGUoZWwsIHBvcywgdHJhbnMpfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaGFwZShjb21wOiBQaXhpRGlzcGxheUVsZW1lbnQsIHBvczogSVBvaW50RGF0YSwgdHJhbnM6IFRyYW5zZm9ybUNvbXBvbmVudCB8IHVuZGVmaW5lZCk6IFNoYXBlIHtcbiAgICAgICAgc3dpdGNoIChjb21wLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIC8vIE9ubHkgdGhlIHJvb3QgZWxlbWVudCBjYW4gYmUgbWFkZSBpbnRlcmFjdGl2ZSwgdGhlIG90aGVycyBhcmUgaWdub3JlZFxuICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgbWFrZSBpbnRlcmFjdGl2ZSBjb250YWluZXInO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgbWFrZSBpbnRlcmFjdGl2ZSB0ZXh0JztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuSU1BR0U6IHtcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgSW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCB3ID0gYy50ZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBoID0gYy50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgICAgICBsZXQgYWFiYjtcblxuICAgICAgICAgICAgICAgIGxldCBzeCA9IHRyYW5zPy5zY2FsZSB8fCAxO1xuICAgICAgICAgICAgICAgIGxldCBzeSA9IHRyYW5zPy5zY2FsZSB8fCAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKGMuc2NhbGUgPT0gSW1hZ2VTY2FsZU1vZGUuR1JJRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVHcmlkU2l6ZShjLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBnc2l6ZSA9IChjLnRleHR1cmUgYXMgQ3VzdG9tVGV4dHVyZSkuZ3JpZFNpemUhITtcbiAgICAgICAgICAgICAgICAgICAgc3ggPSBnc2l6ZS54ICogZ3JpZC5zaXplICogc3g7XG4gICAgICAgICAgICAgICAgICAgIHN5ID0gZ3NpemUueSAqIGdyaWQuc2l6ZSAqIHN5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFhYmIgPSBBYWJiLmZyb21Qb2ludEFuY2hvcihwb3MsIHt4OiB3LCB5OiBofSwgYy5hbmNob3IpO1xuICAgICAgICAgICAgICAgIGFhYmIuc2NhbGUoc3gsIHN5LCBhYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2JiID0gT2JiLnJvdGF0ZUFhYmIoYWFiYi5jb3B5KCksIHRyYW5zPy5yb3RhdGlvbiB8fCAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGVPYmIob2JiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuTElORToge1xuICAgICAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBMaW5lRWxlbWVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGVMaW5lKG5ldyBMaW5lKFxuICAgICAgICAgICAgICAgICAgICBwb3MueCwgcG9zLnksIHBvcy54ICsgYy52ZWMueCwgcG9zLnkgKyBjLnZlYy55XG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlUG9pbnQobmV3IFBJWEkuUG9pbnQocG9zLngsIHBvcy55KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB2aXNpYmlsaXR5IGZyb20gdGhlIHJlbmRlcnRleHR1cmUgb2YgdGhlIGltYWdlIChtdXN0IGJlIFZJU0JMRV9CSVRfQllfQklUKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjIHRoZSBpbWFnZSBmcm9tIHdoaWNoIHRoZSB2aXNpYmlsaXR5IG1hcCB3aWxsIGJlIGV4dHJhY3RlZC5cbiAgICAgKiBAcmV0dXJuIHRydWUgb25seSBpZiB0aGUgdmlzaWJpbGl0eSBtYXAgaGFzIGJlZW4gbW9kaWZpZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGV4dHJhY3RWaXNpYmlsaXR5KGM6IFBpeGlJbWFnZUVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGMuX3Zpc01hcENoYW5nZWQgIT09IHRydWUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjLnZpc01hcCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucGl4aUJvYXJkU3lzdGVtLnJlbmRlcmVyO1xuICAgICAgICBjb25zdCB0ZXggPSBjLl9yZW5UZXg7XG4gICAgICAgIGlmICh0ZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBmcmFtZSA9IHRleC5mcmFtZTtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQodGV4KTtcbiAgICAgICAgbGV0IHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkodGV4LndpZHRoICogdGV4LmhlaWdodCAqIDQpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgICAgICBmcmFtZS54LFxuICAgICAgICAgICAgZnJhbWUueSxcbiAgICAgICAgICAgIGZyYW1lLndpZHRoLFxuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0LFxuICAgICAgICAgICAgZ2wuUkdCQSxcbiAgICAgICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICB3ZWJnbFBpeGVsc1xuICAgICAgICApO1xuXG4gICAgICAgIGxldCBmdWNrTGVuID0gd2ViZ2xQaXhlbHMubGVuZ3RoIC8gNDtcbiAgICAgICAgbGV0IG5ld0xlbiA9ICgod2ViZ2xQaXhlbHMubGVuZ3RoIC8gNCAtIDEpID4+PiA1KSArIDE7XG4gICAgICAgIGxldCB0YXJnZXQgPSBuZXcgVWludDMyQXJyYXkobmV3TGVuKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdWNrTGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwaXhlbCA9IHdlYmdsUGl4ZWxzW2kgKiA0ICsgM107XG5cbiAgICAgICAgICAgIGlmICgocGl4ZWwgJiAweDgwKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtpID4+PiA1XSB8PSAxIDw8IChpICYgMGIxMTExMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYy52aXNNYXAgPSB0YXJnZXQ7XG4gICAgICAgIGMuX3Zpc01hcENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkVmlzaWJpbGl0eShjOiBQaXhpSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYy50ZXh0dXJlLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBjLnRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChjLl9yZW5UZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fcmVuVGV4ID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBidCA9IGMuX3JlblRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIChidCBhcyBhbnkpLmNsZWFyQ29sb3IgPSBbMC4wLCAwLjAsIDAuMCwgMC4wXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjLnZpc01hcCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHRleE9wdHMgPSB7XG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgZm9ybWF0OiBQSVhJLkZPUk1BVFMuUkdCQSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdGV4RGF0YSA9IG5ldyBVaW50MzJBcnJheShjLnRleHR1cmUud2lkdGggKiBjLnRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICBsZXQgc2V0ID0gbmV3IEJpdFNldChjLnZpc01hcCk7XG4gICAgICAgIGxldCBsZW4gPSB0ZXhEYXRhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGV4RGF0YVtpXSA9IHNldC5nZXQoaSkgPyAweEZGRkZGRkZGIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBieXRlRGF0YSA9IG5ldyBVaW50OEFycmF5KHRleERhdGEuYnVmZmVyKTtcbiAgICAgICAgbGV0IHJlc291cmNlID0gbmV3IFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlKGJ5dGVEYXRhLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICAgIGxldCBiYXNlVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VUZXh0dXJlKHJlc291cmNlLCB0ZXhPcHRzKVxuXG4gICAgICAgIGxldCB0ZXggPSBuZXcgUElYSS5UZXh0dXJlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgbGV0IGx1bVNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgpO1xuICAgICAgICBsdW1TcHJpdGUuYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgbGV0IG1hcFNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShjLnRleHR1cmUpO1xuICAgICAgICBsZXQgY250ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIGNudC5hZGRDaGlsZChtYXBTcHJpdGUsIGx1bVNwcml0ZSk7XG5cbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0ucmVuZGVyZXIucmVuZGVyKGNudCwgYy5fcmVuVGV4LCB0cnVlKTtcblxuICAgICAgICBsdW1TcHJpdGUuZGVzdHJveShERVNUUk9ZX0FMTCk7XG5cbiAgICAgICAgYy5fdmlzTWFwQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm9yRWFjaEVsKGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQsIGltZzogUGl4aURpc3BsYXlFbGVtZW50LCBmOiAoaW1nOiBQaXhpRGlzcGxheUVsZW1lbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgZihpbWcpO1xuICAgICAgICBpZiAoaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9yRWFjaEVsKGNvbSwgYywgZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRvT25CaXRCeUJpdChjb206IFBpeGlHcmFwaGljQ29tcG9uZW50LCBpbWc6IFBpeGlEaXNwbGF5RWxlbWVudCwgZjogKGltZzogUGl4aUltYWdlRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBpZiAoaW1nLnR5cGUgPT0gRWxlbWVudFR5cGUuSU1BR0UgJiYgKGltZyBhcyBQaXhpSW1hZ2VFbGVtZW50KS52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgZihpbWcgYXMgUGl4aUltYWdlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjb20sIGMsIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBuZWVkc0JpdEJ5Qml0KGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQsIGltZzogUGl4aURpc3BsYXlFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChpbWcudHlwZSA9PSBFbGVtZW50VHlwZS5JTUFHRSAmJiAoaW1nIGFzIFBpeGlJbWFnZUVsZW1lbnQpLnZpc2liID09PSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQkJCVmlzQXJvdW5kKGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IGludGVyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgIGxldCBhYWJiID0gc2hhcGVUb0FhYmIoaW50ZXIuc2hhcGUpO1xuICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEuZ2V0U3ByZWFkRGF0YUZvckFhYmIoYWFiYiwgZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjb20sIGNvbS5kaXNwbGF5LCAoaW1nKSA9PiB0aGlzLnVwZGF0ZUJCQlZpc2liaWxpdHkoZGF0YSwgY29tLCBpbWcpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVCQkJWaXNpYmlsaXR5KGRhdGE6IFZpc2liaWxpdHlTcHJlYWREYXRhLCBjb206IFBpeGlHcmFwaGljQ29tcG9uZW50LCBpbWc6IFBpeGlJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgLy8gICAgICBQYXJ0IDEuIFdoYXQ/XG4gICAgICAgIC8vIFNvLCB3aGF0IGRvZXMgdGhpcyBzcGFnaGV0dGkgbWVzcyBkbz8gR29vZCBxdWVzdGlvbiFcbiAgICAgICAgLy8gV2UgaGF2ZSBwbGF5ZXJzIGFuZCBsaWdodHMsIHNvbWUgcGxheWVycyBjYW4gc2VlIHdpdGhvdXQgbGlnaHRzIGFuZCBvdGhlcnMgY2FuJ3RcbiAgICAgICAgLy8gVGhlIHRhc2sgaXMgdG8gdXBkYXRlIHRoZSByZW5kZXJ0ZXh0dXJlIG9mIHRoZSBiYWNrZ3JvdW5kIGNvbXBvbmVudCBhZGRpbmcgdGhlIHZpc2libGUgc3BvdHMgdG8gaXQuXG4gICAgICAgIC8vIFRoZSB2aXNpYmxlIHNwb3RzIGFyZTogVGhlIG1lc2hlcyBvZiB0aGUgcGxheWVycyB3aXRoIG5pZ2h0IHZpc2lvbiBlbmFibGVkIGFuZCB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZVxuICAgICAgICAvLyB1bmlvbiBvZiB0aGUgdmlzaW9uIG1lc2ggb2YgdGhlIG5vcm1hbCBwbGF5ZXJzIHdpdGggdGhlIHVuaW9uIG9mIHRoZSB2aXNvbiBtZXNoZXMgb2YgdGhlIGxpZ2h0cy5cbiAgICAgICAgLy8gQ29tbW9uIGNhc2U6IDEgTlYgcGxheWVyIDAgbGlnaHRzLCAxIHBsYXllciBtdWx0aXBsZSBsaWdodHMsIG11bHRpcGxlIHBsYXllcnMgMSBsaWdodFxuICAgICAgICAvLyBQb3NzaWJsZSAoYnV0IHVuY29tbW9uKSBjYXNlczogeCBOViBwbGF5ZXJzLCB5IG5vcm1hbCBwbGF5ZXJzLCB6IGxpZ2h0cyAod2l0aCB4LCB5LCB6IG5hdHVyYWxzKS5cblxuICAgICAgICAvLyAgICAgIFBhcnQgMi4gSG93P1xuICAgICAgICAvLyBUaGUgaW5pdGlhbCBpZGVhIGlzIHNpbXBsZSwgcmVuZGVyIGFueXRoaW5nIG9uIHRoZSBia2cuX3JlblRleCBhbmQgdGhlbiByZW5kZXIgdGhlIG9yaWdpbmFsIHRleHR1cmUgd2l0aFxuICAgICAgICAvLyBibGVuZE1vZGUgPSBTUkNfSU4sIGFueSBzcG90IHdpdGggYWxwaGEgPSAxIHdpbGwgdGhlbiBiZSByZXBsYWNlZCB3aXRoIHRoZSBjb3JyZWN0IHRleHR1cmUuXG4gICAgICAgIC8vIFRoZSBuaWdodCB2aXNpb24gcGxheWVycyByZW5kZXJpbmcgaXMgcXVpdGUgc2ltcGxlLCBqdXN0IHJlbmRlciB0aGUgbWVzaGVzIGJlZm9yZSB0aGUgZmluYWwgdGV4dHVyZSByZW5kZXJcbiAgICAgICAgLy8gVGhlIG5vcm1hbCBwbGF5ZXJzIHdpbGwgYmUgYSBiaXQgZGlmZmVyZW50IHNpbmNlIHdlIG5lZWQgdG8gaW50ZXJzZWN0IHRoZWlyIG1lc2hlcyB3aXRoIHRoZSBsaWdodCBtZXNoLlxuICAgICAgICAvLyBUbyBkbyB0aGF0IHdlIGNhbiByZW5kZXIgYWxsIHRoZSBwbGF5ZXJzIG1lc2hlcyBpbiBhIGZyYW1lYnVmZmVyIEEsIHRoZW4gcmVuZGVyIGFsbCBvZiB0aGUgbGlnaHRzIGluIGFub3RoZXJcbiAgICAgICAgLy8gZnJhbWUgYnVmZmVyIEIsIHRoZW4gcmVuZGVyIEEgb250byBCIHdpdGggYmxlbmRNb2RlID0gU1JDX0lOIHRvIGNyZWF0ZSBhIHNvcnQgb2YgdW5pb24gb2YgdGhlIHR3by5cbiAgICAgICAgLy8gT25jZSB0aGF0IGlzIGRvbmUgd2UgY2FuIHJlbmRlciBCIGludG8gdGhlIGJrZy5fcmVuVGV4IGFuZCBwcm9jZWVkIG5vcm1hbGx5LlxuICAgICAgICAvLyBBbm90aGVyIHdheSB0byBkbyB0aGlzIHVzaW5nIG9ubHkgYSBzaW5nbGUgcmVuZGVydGV4dHVyZSBpcyB0byB1c2UgdGhlIHN0ZW5jaWwgYnVmZmVyLCBidXQgaXQgd2lsbCBkb3VibGUgdGhlXG4gICAgICAgIC8vIG1lc2ggcmVuZGVyIGNhbGxzIChhbmQgc2luY2UgdGhleSBhcmUgbm90IGJ1ZmZlcmVkLCBpdCdzIGEgc2xvdyBvcGVyYXRpb24pXG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgdGhhdCB0aGVyZSBpcyBhbm90aGVyIHdheSB0byBwZXJmb3JtIHRoaXMgaW4gdGhlIGdlbmVyYWwgY2FzZSwgcGxlYXNlIHByb3ZlIG1lIHdyb25nLlxuICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBjYW4gb3B0aW1pemUgdGhpcyB3aGVuIG9ubHkgMSBwbGF5ZXIgYW5kIDEgbGlnaHQgaXMgcHJlc2VudCAobGlrZSwgYXZvaWRpbmcgMSBvZiB0aGUgMiBmcmFtZWJ1ZmZlcnMpLlxuXG4gICAgICAgIC8vIFNraXAgRVZFUllUSElORyBpZiB0aGlzIGVudGl0eSBpcyBoaWRkZW4uXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjb20uZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vY29uc29sZS50aW1lKCd1cGRhdGVWaXNpYmlsaXR5Jyk7XG5cbiAgICAgICAgbGV0IHJlbmRlcmVyID0gdGhpcy5waXhpQm9hcmRTeXN0ZW0ucmVuZGVyZXI7XG5cbiAgICAgICAgbGV0IGxvY2FsQ250ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIC8vIFNldHVwIGxvY2FsIHRyYW5zZm9ybVxuICAgICAgICBsZXQgbSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbGV0IHBpeGkgPSBpbWcuX3BpeGkhO1xuICAgICAgICBtLnRyYW5zbGF0ZShcbiAgICAgICAgICAgIC1waXhpLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAtcGl4aS5wb3NpdGlvbi55XG4gICAgICAgICk7XG4gICAgICAgIG0ucm90YXRlKC1waXhpLnJvdGF0aW9uKTtcbiAgICAgICAgbGV0IGludlNjYWxlID0gMS9waXhpLnNjYWxlLng7XG4gICAgICAgIG0uc2NhbGUoaW52U2NhbGUsIGludlNjYWxlKTtcbiAgICAgICAgbS50cmFuc2xhdGUoaW1nLnRleHR1cmUud2lkdGggLyAyLCBpbWcudGV4dHVyZS5oZWlnaHQgLyAyKTtcbiAgICAgICAgbG9jYWxDbnQudHJhbnNmb3JtLnNldEZyb21NYXRyaXgobSk7XG5cbiAgICAgICAgbGV0IHdvcmxkQ250ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBwbGF5ZXJzIHdpdGhvdXQgbmlnaHQgdmlzaW9uIChhbmQgdGhlcmUgYXJlIGxpZ2h0cykgcmVuZGVyIHRoZW0gKFRISVMgSVMgU0xPVyEpXG4gICAgICAgIGxldCB0ZXgsIHRleDIsIG5pZ2h0U3ByaXRlO1xuICAgICAgICBpZiAoZGF0YS5wbGF5ZXJzLmxlbmd0aCAhPT0gMCAmJiBkYXRhLmxpZ2h0cy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRleCA9ICh0aGlzLnJlbmRlclRleHR1cmVQb29sIGFzIGFueSkuZ2V0T3B0aW1hbFRleHR1cmUocGl4aS53aWR0aCwgcGl4aS5oZWlnaHQpO1xuICAgICAgICAgICAgdGV4MiA9ICh0aGlzLnJlbmRlclRleHR1cmVQb29sIGFzIGFueSkuZ2V0T3B0aW1hbFRleHR1cmUocGl4aS53aWR0aCwgcGl4aS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgZGF0YS5wbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQocGxheWVyLm1lc2gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW5kZXIgdGhlIHBsYXllcnMgdmlzaWJpbGl0eSBtZXNoZXMgb250byB0ZXhcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihsb2NhbENudCwgdGV4LCB0cnVlKTtcbiAgICAgICAgICAgIGxvY2FsQ250LnJlbW92ZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGxpZ2h0IG9mIGRhdGEubGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgbGlnaHQubWVzaC5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgICAgICAgICBsb2NhbENudC5hZGRDaGlsZChsaWdodC5tZXNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHBsYXllclNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLlNSQ19JTjtcblxuICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBsaWdodHMgb250byB0ZXgyLCB0aGVuIHJlbmRlciB0ZXggYXMgQkxFTkRfTU9ERS5TUkNfSU4gdG8gZmlsdGVyIG91dCB3aGVyZSB0aGUgbGlnaHRzIHdlcmUgbm90XG4gICAgICAgICAgICAvLyBwcmVzZW50LlxuICAgICAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobG9jYWxDbnQsIHBsYXllclNwcml0ZSk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIod29ybGRDbnQsIHRleDIsIHRydWUpO1xuICAgICAgICAgICAgd29ybGRDbnQucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIGxvY2FsQ250LnJlbW92ZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIC8vIEFkZCB0ZXgyIHRvIHRoZSBtYWluIHBoYXNlXG4gICAgICAgICAgICBuaWdodFNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgyKTtcbiAgICAgICAgICAgIG5pZ2h0U3ByaXRlLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuICAgICAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobmlnaHRTcHJpdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIGRhdGEubmlnaHRWaXNQbGF5ZXJzKSB7XG4gICAgICAgICAgICBsb2NhbENudC5hZGRDaGlsZChwbGF5ZXIubWVzaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3JpZ1RleCA9IG5ldyBQSVhJLlNwcml0ZShpbWcudGV4dHVyZSk7XG4gICAgICAgIG9yaWdUZXguYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobG9jYWxDbnQsIG9yaWdUZXgpXG5cbiAgICAgICAgLy8gUmVuZGVyIGV2ZXJ5dGhpbmcgdG8gYmtnLl9yZW5UZXggYW5kIHRoZW4gcmVkcmF3IHRoZSBvcmlnaW5hbCBvbmx5IHdoZXJlIGlzIGFscGhhPTEuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLnJlbmRlcmVyLnJlbmRlcih3b3JsZENudCwgaW1nLl9yZW5UZXgsIGZhbHNlKTtcbiAgICAgICAgaW1nLl92aXNNYXBDaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICAvLyBDbGVhbnVwIHRpbWUgKGRvbid0IHdvcnJ5LCBJJ20gcmVjeWNsaW5nIGFuZCB0aGVyZSdzIGEgZ2FyYmFnZSBjbGVhbmVyLCB3ZSdyZSBlY28gZnJpZW5kbHkhKVxuICAgICAgICB3b3JsZENudC5kZXN0cm95KERFU1RST1lfTUlOKTtcbiAgICAgICAgb3JpZ1RleC5kZXN0cm95KERFU1RST1lfTUlOKTtcblxuICAgICAgICBpZiAodGV4ICE9PSB1bmRlZmluZWQpIHRoaXMucmVuZGVyVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZSh0ZXgpO1xuICAgICAgICBpZiAodGV4MiAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlbmRlclRleHR1cmVQb29sLnJldHVyblRleHR1cmUodGV4Mik7XG4gICAgICAgIGlmIChuaWdodFNwcml0ZSAhPT0gdW5kZWZpbmVkKSBuaWdodFNwcml0ZS5kZXN0cm95KERFU1RST1lfTUlOKTtcblxuICAgICAgICAvL2NvbnNvbGUudGltZUVuZCgndXBkYXRlVmlzaWJpbGl0eScpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZVZpc2liaWxpdHlMaXN0ZW5lcihjOiBEaXNwbGF5RWxlbWVudCk6IFZpc2liTGlzdGVuZXJMZXZlbCB7XG4gICAgICAgIGxldCBsZXZlbDtcbiAgICAgICAgc3dpdGNoIChjLnZpc2liKSB7XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAvLyBBbHJlYWR5IG1heGltdW0gbGV2ZWwsIG5vIG5lZWQgZm9yIGZ1cnRoZXIgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gVmlzaWJMaXN0ZW5lckxldmVsLlBFUlNJU1RFTlQ7XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFOlxuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUOlxuICAgICAgICAgICAgICAgIGxldmVsID0gVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSOlxuICAgICAgICAgICAgICAgIGxldmVsID0gVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNoIG9mIGMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBsZXZlbCA9IE1hdGgubWF4KGxldmVsLCB0aGlzLmNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoY2gpKTtcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UKSBicmVhazsvLyBBbHJlYWR5IG1heGVkIG91dC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlc3Ryb3lFbGVtZW50KGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCwgcmVjdXJzaXZlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGxldCBlbGVtID0gZGVzYy5fcGl4aTtcblxuICAgICAgICBpZiAoZWxlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgc3dpdGNoIChkZXNjLl9vbGRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBpbSA9IGRlc2MgYXMgUGl4aUltYWdlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgZGVzdHJveVRleCA9IGltLnNoYXJlZFRleHR1cmUgIT09IHRydWU7XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5TcHJpdGUpLmRlc3Ryb3koe1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IGRlc3Ryb3lUZXgsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlOiBkZXN0cm95VGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbS5fcmVuVGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW0uX3JlblRleC5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuTElORTpcbiAgICAgICAgICAgICAgICAoZWxlbSBhcyBQSVhJLkdyYXBoaWNzKS5kZXN0cm95KHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5TcHJpdGUpLmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIChlbGVtIGFzIFBJWEkuVGV4dCkuZGVzdHJveShERVNUUk9ZX01JTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjLl9waXhpID0gdW5kZWZpbmVkO1xuICAgICAgICBkZXNjLl9vbGRUeXBlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChyZWN1cnNpdmUgJiYgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoZWwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50KGNtcDogUGl4aUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGRlc2MsIGZhbHNlKTtcblxuICAgICAgICBsZXQgZGVmTGF5ZXIgPSB0cnVlO1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICBzd2l0Y2ggKGRlc2MudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLmNpcmNsZVRleCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuVGV4dChcIlwiKTtcbiAgICAgICAgICAgICAgICByZXMucGFyZW50TGF5ZXIgPSB0aGlzLnRleHRTeXN0ZW0udGV4dExheWVyO1xuICAgICAgICAgICAgICAgIGRlZkxheWVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZkxheWVyICYmIGNtcC5fbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzLnBhcmVudEdyb3VwID0gY21wLl9sYXllcjtcbiAgICAgICAgfVxuICAgICAgICByZXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgcmVzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgcmVzLnpJbmRleCA9IGRlc2MucHJpb3JpdHk7XG4gICAgICAgIGRlc2MuX3BpeGkgPSByZXM7XG4gICAgICAgIGRlc2MuX29sZFR5cGUgPSBkZXNjLnR5cGU7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLmJvYXJkLmFkZENoaWxkKHJlcyk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLmJvYXJkLnNvcnRDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGV4dHVyZVVwZGF0ZUdyaWRTaXplKHRleDogQ3VzdG9tVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBsZXQgdGV4SWQgPSAodGV4IGFzIGFueSkuX3VwZGF0ZUlEO1xuICAgICAgICBpZiAodGV4LmdyaWRTaXplICE9PSB1bmRlZmluZWQgJiYgdGV4LmdyaWRTaXplLnVwZGF0ZUlkICE9PSB0ZXhJZCkgcmV0dXJuO1xuXG4gICAgICAgIHRleC5ncmlkU2l6ZSA9IHtcbiAgICAgICAgICAgIHg6IE1hdGguY2VpbCh0ZXgud2lkdGggLyBTVEFOREFSRF9HUklEX09QVElPTlMuc2l6ZSkgLyB0ZXgud2lkdGgsXG4gICAgICAgICAgICB5OiBNYXRoLmNlaWwodGV4LmhlaWdodCAvIFNUQU5EQVJEX0dSSURfT1BUSU9OUy5zaXplKSAvIHRleC5oZWlnaHQsXG4gICAgICAgICAgICB1cGRhdGVJZDogdGV4SWQsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KHBhcjogUGl4aUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCwgcmVjdXJzaXZlOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5VmlzaWJsZTogYm9vbGVhbiwgcmVtZW1iZXJlZDogYm9vbGVhbikge1xuICAgICAgICBsZXQgaXNWaXNpYmxlO1xuICAgICAgICBpZiAoY3VycmVudGx5VmlzaWJsZSB8fCB0aGlzLm1hc3RlclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGRlc2MudmlzaWIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gY3VycmVudGx5VmlzaWJsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRTpcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQ6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVI6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHJlbWVtYmVyZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBwaXhpID0gZGVzYy5fcGl4aSE7XG4gICAgICAgIHBpeGkudmlzaWJsZSA9IGlzVmlzaWJsZTtcblxuICAgICAgICBpZiAoZGVzYy52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgbGV0IGltID0gKGRlc2MgYXMgUGl4aUltYWdlRWxlbWVudCk7XG4gICAgICAgICAgICBpbS5fcGl4aSEudGV4dHVyZSA9IHRoaXMubWFzdGVyVmlzaWJpbGl0eSA/IGltLnRleHR1cmUgOiBpbS5fcmVuVGV4ITtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWN1cnNpdmUgJiYgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShwYXIsIGMsIHRydWUsIGN1cnJlbnRseVZpc2libGUsIHJlbWVtYmVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVWaXNpYmlsaXR5TGlzdGVuZXIoZWw6IFBpeGlHcmFwaGljQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBsaXN0TGV2ZWwgPSB0aGlzLmNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoZWwuZGlzcGxheSk7XG4gICAgICAgIGxldCBvbGRMaXN0TGV2ZWwgPSBlbC5fdmlzaWJMaXN0ZW5lciB8fCBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDtcbiAgICAgICAgaWYgKGxpc3RMZXZlbCA9PT0gb2xkTGlzdExldmVsKSByZXR1cm47Ly8gTm8gY2hhbmdlcyByZXBvcnRlZC5cblxuICAgICAgICBsZXQgaXNSZW1lbWJlcmVkID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVsLmVudGl0eSk7XG5cbiAgICAgICAgbGV0IGxpc3RlbmVyTmVlZGVkO1xuICAgICAgICBzd2l0Y2ggKGxpc3RMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDogbGlzdGVuZXJOZWVkZWQgPSBmYWxzZTsgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSOiAgIGxpc3RlbmVyTmVlZGVkID0gIWlzUmVtZW1iZXJlZDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UOiBsaXN0ZW5lck5lZWRlZCA9IHRydWU7ICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZExpc3RlbmVyTmVlZGVkO1xuICAgICAgICBzd2l0Y2ggKG9sZExpc3RMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDogb2xkTGlzdGVuZXJOZWVkZWQgPSBmYWxzZTsgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSOiAgIG9sZExpc3RlbmVyTmVlZGVkID0gIWlzUmVtZW1iZXJlZDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UOiBvbGRMaXN0ZW5lck5lZWRlZCA9IHRydWU7ICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2h5IGJlZm9yZT8gZ29vZCBxdWVzdGlvbiFcbiAgICAgICAgLy8gd2hlbiB3ZSBhZGQgdGhlIGxpc3RlbmVyIHdlIGNvdWxkIGRpc2NvdmVyIGluc3RhbnRseSB0aGF0IHRoZSB2aXNpYmlsaXR5IGlzIHByZXNlbnQsIHRodXMgY2FsbGluZ1xuICAgICAgICAvLyBhIGNhbGxiYWNrIHRvIHRoaXMgc3lzdGVtIHNheWluZyBcImhpLCB0aGlzIGVsZW1lbnQgaW4gd2hpY2ggdGhlcmUncyBhIHZpc2liaWxpdHkgbGlzdGVuZXIgaXMgdmlzaWJsZVwiXG4gICAgICAgIC8vIGlmIHdlIHNldCB0aGUgbGlzdGVuZXIgYWZ0ZXIgdGhpcyB0aGUgc3lzdGVtIHdpbGwgc2F5IFwib2ggcmVhbGx5LCBidXQgdGhlcmUncyBubyBsaXN0ZW5lciBvbiB0aGlzIGVsZW1lbnRcIlxuICAgICAgICAvLyAoeWVhaCBJIHNwZW50IHdheSB0b28gbXVjaCB0aW1lIHRvIGRlYnVnIHRoaXMpXG4gICAgICAgIGVsLl92aXNpYkxpc3RlbmVyID0gbGlzdExldmVsO1xuICAgICAgICBpZiAobGlzdGVuZXJOZWVkZWQgJiYgIW9sZExpc3RlbmVyTmVlZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEuYWRkUGxheWVyVmlzTGlzdGVuZXIoZWwuZW50aXR5LCBlbC5pc1dhbGwpO1xuICAgICAgICB9IGVsc2UgaWYgKCFsaXN0ZW5lck5lZWRlZCAmJiBvbGRMaXN0ZW5lck5lZWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLnJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGVsLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJ1bk1ldGhvZHMocGFyOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgZWw6IFBpeGlEaXNwbGF5RWxlbWVudCkge1xuICAgICAgICBpZiAoZWwuX2NoaWxkcmVuUmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGMsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbC5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwuX2NoaWxkcmVuQWRkID0gZWwuX2NoaWxkcmVuUmVwbGFjZTtcbiAgICAgICAgICAgIGVsLl9jaGlsZHJlblJlcGxhY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlbkFkZCkge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuID09PSB1bmRlZmluZWQpIGVsLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICBlbC5jaGlsZHJlbi5wdXNoKC4uLmVsLl9jaGlsZHJlbkFkZCk7XG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5BZGQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlblJlbW92ZSkge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZWwuX2NoaWxkcmVuUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0oZWwuY2hpbGRyZW4sIGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5SZW1vdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5NZXRob2RzKHBhciwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUVsZW1lbnQocGFyOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgZGVzYzogUGl4aURpc3BsYXlFbGVtZW50LCBwb3M6IElQb2ludERhdGEsIHRyYW5zOiBUcmFuc2Zvcm1Db21wb25lbnQgfCB1bmRlZmluZWQsIHJlY3Vyc2l2ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAoZGVzYy5fb2xkVHlwZSAhPT0gZGVzYy50eXBlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQocGFyLCBkZXNjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkID0gZGVzYy5fcGl4aSE7XG5cbiAgICAgICAgaWYgKGRlc2Mub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGQucG9zaXRpb24uc2V0KHBvcy54ICsgZGVzYy5vZmZzZXQueCwgcG9zLnkgKyBkZXNjLm9mZnNldC55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGQucG9zaXRpb24uc2V0KHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGRlc2MudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGRpbSA9IChkIGFzIFBJWEkuU3ByaXRlKTtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBQaXhpSW1hZ2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZWwudmlzaWIgPT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgICAgICAgICBkaW0udGV4dHVyZSA9IHRoaXMubWFzdGVyVmlzaWJpbGl0eSA/IGVsLnRleHR1cmUgOiBlbC5fcmVuVGV4ITtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaW0udGV4dHVyZSA9IGVsLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpbS5hbmNob3IuY29weUZyb20oZWwuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgc3ggPSB0cmFucz8uc2NhbGUgfHwgMTtcbiAgICAgICAgICAgICAgICBsZXQgc3kgPSBzeDtcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2NhbGUgPT09IEltYWdlU2NhbGVNb2RlLkdSSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlR3JpZFNpemUoZGltLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBnc2l6ZSA9IChkaW0udGV4dHVyZSBhcyBDdXN0b21UZXh0dXJlKS5ncmlkU2l6ZSEhO1xuICAgICAgICAgICAgICAgICAgICBzeCA9IGdzaXplLnggKiBncmlkLnNpemUgKiBzeDtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSBnc2l6ZS55ICogZ3JpZC5zaXplICogc3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpbS5yb3RhdGlvbiA9IHRyYW5zPy5yb3RhdGlvbiB8fCAwO1xuICAgICAgICAgICAgICAgIGRpbS5zY2FsZS5zZXQoc3gsIHN5KTtcbiAgICAgICAgICAgICAgICBkaW0udGludCA9IHBhci5fc2VsZWN0ZWQgPyAweDc5ODZDQiA6IDB4RkZGRkZGO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZWwudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLl9vbGRUZXggIT09IGVsLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFZpc2liaWxpdHkoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5fcmVuVGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuX3JlblRleC5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBlbC5fcmVuVGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbC5fb2xkVGV4ID0gZWwudGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOiB7XG4gICAgICAgICAgICAgICAgbGV0IGcgPSAoZCBhcyBQSVhJLkdyYXBoaWNzKTtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBMaW5lRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBnLmNsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICBnLm1vdmVUbygwLCAwKTtcbiAgICAgICAgICAgICAgICBnLmxpbmVTdHlsZSg1LCBlbC5jb2xvcik7XG4gICAgICAgICAgICAgICAgZy5saW5lVG8oZWwudmVjLngsIGVsLnZlYy55KTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXIuX3NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGcubGluZVN0eWxlKDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGcuYmVnaW5GaWxsKDB4ZTUxMDEwKTtcbiAgICAgICAgICAgICAgICAgICAgZy5kcmF3Q2lyY2xlKDAsIDAsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgZy5lbmRGaWxsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZy5iZWdpbkZpbGwoZWwuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBnLmRyYXdDaXJjbGUoZWwudmVjLngsIGVsLnZlYy55LCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGcuZW5kRmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IChkZXNjIGFzIFBvaW50RWxlbWVudCkuY29sb3I7XG4gICAgICAgICAgICAgICAgaWYgKHBhci5fc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBsZXJwQ29sb3IoY29sb3IsIDB4Nzk4NkNCLCAwLjMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoZCBhcyBQSVhJLlNwcml0ZSkudGludCA9IGNvbG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOiB7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gKGRlc2MgYXMgVGV4dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGxldCBnID0gKGQgYXMgUElYSS5UZXh0KTtcbiAgICAgICAgICAgICAgICBnLnRleHQgPSBlbC50ZXh0O1xuICAgICAgICAgICAgICAgIGcuYW5jaG9yLmNvcHlGcm9tKGVsLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgZy50aW50ID0gZWwuY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVsIG9mIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQocGFyLCBlbCwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0gPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBMQVlFUl9UWVBFKSBhcyBQbGF5ZXJTeXN0ZW07XG4gICAgICAgIHRoaXMubWFzdGVyVmlzaWJpbGl0eSA9ICh0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KExJR0hUX1RZUEUpIGFzIExpZ2h0U3lzdGVtKS5sb2NhbExpZ2h0U2V0dGluZ3MudmlzaW9uVHlwZSA9PT0gJ2RtJztcblxuICAgICAgICBsZXQgZyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIGcuYmVnaW5GaWxsKDB4RkZGRkZGKTtcbiAgICAgICAgZy5saW5lU3R5bGUoMCk7XG4gICAgICAgIGcuZHJhd0NpcmNsZShQT0lOVF9SQURJVVMsIFBPSU5UX1JBRElVUywgUE9JTlRfUkFESVVTKTtcbiAgICAgICAgdGhpcy5jaXJjbGVUZXggPSB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUoZywgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVIsIDEpO1xuICAgICAgICB0aGlzLmNpcmNsZVRleC5kZWZhdWx0QW5jaG9yLnNldCgwLjUsIDAuNSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGVsZW0uZGlzcGxheSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtQSVhJX0dSQVBISUNfVFlQRSwgUGl4aURpc3BsYXlFbGVtZW50LCBQaXhpR3JhcGhpY0NvbXBvbmVudCwgUGl4aUdyYXBoaWNTeXN0ZW19IGZyb20gXCIuL3BpeGlHcmFwaGljU3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSxcbiAgICBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSxcbiAgICBMYXllcixcbiAgICBMQVlFUl9UWVBFLFxuICAgIExheWVyQ29tcG9uZW50LFxuICAgIExheWVyU3lzdGVtLFxuICAgIFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgIFBhcmVudExheWVyQ29tcG9uZW50XG59IGZyb20gXCIuL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZX0gZnJvbSBcIi4uLy4uLy4uL2dyYXBoaWNzXCI7XG5cbmV4cG9ydCB0eXBlIEN1c3RvbUxheWVyID0gTGF5ZXIgJiB7XG4gICAgX3BpeGlMYXllcj86IFBJWEkuZGlzcGxheS5MYXllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBQSVhJX0xBWUVSX1RZUEUgPSAncGl4aV9sYXllcic7XG5leHBvcnQgdHlwZSBQSVhJX0xBWUVSX1RZUEUgPSAncGl4aV9sYXllcic7XG5leHBvcnQgY2xhc3MgUGl4aUxheWVyU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBQSVhJX0dSQVBISUNfVFlQRSwgTEFZRVJfVFlQRV07XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJWElfTEFZRVJfVFlQRTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGl4aUJvYXJkOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBwaXhpR3JhcGhpYzogUGl4aUdyYXBoaWNTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBsYXllclN5czogTGF5ZXJTeXN0ZW07XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5waXhpR3JhcGhpYyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9HUkFQSElDX1RZUEUpIGFzIFBpeGlHcmFwaGljU3lzdGVtO1xuICAgICAgICB0aGlzLmxheWVyU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChMQVlFUl9UWVBFKSBhcyBMYXllclN5c3RlbTtcblxuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldExheWVyKGxheWVyOiBDdXN0b21MYXllcik6IFBJWEkuZGlzcGxheS5MYXllciB7XG4gICAgICAgIGlmIChsYXllci5fcGl4aUxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFBJWEkuZGlzcGxheS5Hcm91cChsYXllci5wcmlvcml0eSwgZmFsc2UpO1xuICAgICAgICAgICAgbGF5ZXIuX3BpeGlMYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIoZ3JvdXApO1xuICAgICAgICAgICAgdGhpcy5waXhpQm9hcmQucm9vdC5hZGRDaGlsZChsYXllci5fcGl4aUxheWVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGF5ZXIuX3BpeGlMYXllcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUxheWVyKGxheWVyOiBDdXN0b21MYXllcik6IFBJWEkuZGlzcGxheS5MYXllciB7XG4gICAgICAgIGNvbnN0IHBpeGlMYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXIpO1xuICAgICAgICBwaXhpTGF5ZXIuZ3JvdXAuekluZGV4ID0gbGF5ZXIucHJpb3JpdHk7XG4gICAgICAgIHJldHVybiBwaXhpTGF5ZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQYXJlbnRMYXllcihsYXllcjogUGFyZW50TGF5ZXJDb21wb25lbnQgfCB1bmRlZmluZWQpOiBQSVhJLmRpc3BsYXkuTGF5ZXIge1xuICAgICAgICBsZXQgbCA9IHRoaXMubGF5ZXJTeXMuZ2V0TGF5ZXJCeUlkKGxheWVyID09PSB1bmRlZmluZWQgPyAtMSA6IGxheWVyLmxheWVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIobCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRFbnRpdHlQYXJlbnRMYXllcihlbnRpdHk6IG51bWJlcik6IFBJWEkuZGlzcGxheS5MYXllciB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudExheWVyKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUEFSRU5UX0xBWUVSX1RZUEUpIGFzIFBhcmVudExheWVyQ29tcG9uZW50IHwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5UGFyZW50KG9iajogUGl4aURpc3BsYXlFbGVtZW50LCBwYXJlbnQ6IFBJWEkuZGlzcGxheS5Hcm91cCkge1xuICAgICAgICBpZiAob2JqLnR5cGUgIT09IEVsZW1lbnRUeXBlLlRFWFQpIHtcbiAgICAgICAgICAgIGlmIChvYmouX3BpeGkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9iai5fcGl4aS5wYXJlbnRHcm91cCA9IHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaCBvZiBvYmouY2hpbGRyZW4gPz8gW10pIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQYXJlbnQoY2gsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjbXAudHlwZSA9PT0gTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IGNtcCBhcyBMYXllckNvbXBvbmVudCBhcyBDdXN0b21MYXllcjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5ZXIoYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY21wLnR5cGUgPT09IFBBUkVOVF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY21wIGFzIFBhcmVudExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgY29uc3QgZyA9IHRoaXMucGl4aUdyYXBoaWMuc3RvcmFnZS5nZXRDb21wb25lbnQoY21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRMYXllcihjKTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQYXJlbnQoZy5kaXNwbGF5IGFzIFBpeGlEaXNwbGF5RWxlbWVudCwgcGFyZW50Lmdyb3VwKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAudHlwZSA9PT0gUElYSV9HUkFQSElDX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgUGl4aUdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldEVudGl0eVBhcmVudExheWVyKGNtcC5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5hcHBseVBhcmVudChjLmRpc3BsYXkgYXMgUGl4aURpc3BsYXlFbGVtZW50LCBwYXJlbnQuZ3JvdXApO1xuICAgICAgICAgICAgYy5fbGF5ZXIgPSBwYXJlbnQuZ3JvdXA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjbXAudHlwZSA9PT0gUEFSRU5UX0xBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgUGFyZW50TGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBjb25zdCBnID0gdGhpcy5waXhpR3JhcGhpYy5zdG9yYWdlLmdldENvbXBvbmVudChjbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudExheWVyKGMpO1xuICAgICAgICAgICAgdGhpcy5hcHBseVBhcmVudChnLmRpc3BsYXkgYXMgUGl4aURpc3BsYXlFbGVtZW50LCBwYXJlbnQuZ3JvdXApO1xuICAgICAgICAgICAgZy5fbGF5ZXIgPSBwYXJlbnQuZ3JvdXA7XG4gICAgICAgIH0gZWxzZSBpZiAoY21wLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgTGF5ZXJDb21wb25lbnQgYXMgQ3VzdG9tTGF5ZXI7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheWVyKGMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjbXA6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoY21wLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgTGF5ZXJDb21wb25lbnQgYXMgQ3VzdG9tTGF5ZXI7XG4gICAgICAgICAgICBpZiAoYy5fcGl4aUxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjLl9waXhpTGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGMuX3BpeGlMYXllciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjbXAudHlwZSA9PT0gUEFSRU5UX0xBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGcgPSB0aGlzLnBpeGlHcmFwaGljLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNtcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGcgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldFBhcmVudExheWVyKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB0aGlzLmFwcGx5UGFyZW50KGcuZGlzcGxheSwgbGF5ZXIuZ3JvdXApO1xuICAgICAgICAgICAgZy5fbGF5ZXIgPSBsYXllci5ncm91cDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgciA9IHJlcyBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSBhcyBDdXN0b21MYXllcjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5ZXIocik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5ZXIodGhpcy5sYXllclN5cy5iYWNrZ3JvdW5kTGF5ZXIgYXMgQ3VzdG9tTGF5ZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtCT0FSRF9UUkFOU0ZPUk1fVFlQRSwgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSwgUElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBNRUFTVVJFX1RZUEUsIE1lYXN1cmVSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi8uLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuXG5cbmV4cG9ydCBjb25zdCBQSVhJX01FQVNVUkVfVFlQRSA9IFwicGl4aV9tZWFzdXJlXCI7XG5leHBvcnQgdHlwZSBQSVhJX01FQVNVUkVfVFlQRSA9IHR5cGVvZiBQSVhJX01FQVNVUkVfVFlQRTtcbmV4cG9ydCBjbGFzcyBQaXhpTWVhc3VyZVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJWElfTUVBU1VSRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBkaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuICAgIHByaXZhdGUgdGV4dDogUElYSS5UZXh0O1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyID0gU1RBTkRBUkRfR1JJRF9PUFRJT05TLnNpemU7XG4gICAgcHJpdmF0ZSBib2FyZFNjYWxlOiBudW1iZXIgPSAxO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgY29uc3QgcGl4aUJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcblxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICB0aGlzLmRpc3BsYXkucGFyZW50R3JvdXAgPSBwaXhpQm9hcmQudG9vbEZvcmVncm91bmRHcm91cDtcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IFBJWEkuVGV4dChcIlwiKTtcbiAgICAgICAgdGhpcy50ZXh0LmFuY2hvci5zZXQoMC41LCAxKTtcbiAgICAgICAgdGhpcy50ZXh0LnN0eWxlLmZpbGwgPSAweGZmMDAwMDtcbiAgICAgICAgdGhpcy50ZXh0LnN0eWxlLmZvbnRTaXplID0gNDA7XG4gICAgICAgIHRoaXMudGV4dC5wYXJlbnRHcm91cCA9IHBpeGlCb2FyZC50b29sRm9yZWdyb3VuZEdyb3VwO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfYWRkJywgdGhpcy5vblJlc291cmNlQWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0LCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9yZW1vdmVkJywgdGhpcy5vblJlc291cmNlUmVtb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5LnZpc2libGUgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLnRleHQudmlzaWJsZSA9IGVuYWJsZWQ7XG4gICAgfVxuXG4gICAgcmVkcmF3KGZyb21YOiBudW1iZXIsIGZyb21ZOiBudW1iZXIsIHRvWDogbnVtYmVyLCB0b1k6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgIHRoaXMuZGlzcGxheS5jbGVhcigpO1xuXG4gICAgICAgIGNvbnN0IG1pZFggPSAoZnJvbVggKyB0b1gpIC8gMjtcbiAgICAgICAgY29uc3QgbWlkWSA9IChmcm9tWSArIHRvWSkgLyAyO1xuICAgICAgICBsZXQgZGlzdFNxID0gZGlzdFNxdWFyZWQyZChmcm9tWCwgZnJvbVksIHRvWCwgdG9ZKSAvICh0aGlzLmdyaWRTaXplICoqIDIpO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gMS90aGlzLmJvYXJkU2NhbGU7XG4gICAgICAgIHRoaXMudGV4dC5zY2FsZS5zZXQoc2NhbGUpO1xuXG4gICAgICAgIGlmIChkaXN0U3EgPCAwLjEqKjIpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5iZWdpbkZpbGwoMHhmZjAwMDApO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmRyYXdDaXJjbGUobWlkWCwgbWlkWSwgMTAgKiBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZW5kRmlsbCgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHRoaXMudGV4dC50ZXh0ID0gKG1pZFggLyB0aGlzLmdyaWRTaXplKS50b0ZpeGVkKDQpICsgXCIsIFwiICsgKG1pZFkgLyB0aGlzLmdyaWRTaXplKS50b0ZpeGVkKDQpO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnBvc2l0aW9uLnNldChtaWRYLCBtaWRZIC0gMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweGZmMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZHJhd0NpcmNsZShmcm9tWCwgZnJvbVksIDEwICogc2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmVuZEZpbGwoKTtcblxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweGZmMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZHJhd0NpcmNsZSh0b1gsIHRvWSwgMTAgKiBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZW5kRmlsbCgpO1xuXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkubGluZVN0eWxlKDMgKiBzY2FsZSwgMHhmZjAwMDApXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkubW92ZVRvKGZyb21YLCBmcm9tWSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkubGluZVRvKHRvWCwgdG9ZKTtcblxuICAgICAgICAgICAgbGV0IHJvdCA9IE1hdGguYXRhbjIodG9ZIC0gZnJvbVksIHRvWCAtIGZyb21YKTtcbiAgICAgICAgICAgIGlmIChyb3QgPCBNYXRoLlBJIC8gMikgcm90ICs9IE1hdGguUEk7XG4gICAgICAgICAgICBpZiAocm90ID4gTWF0aC5QSSAvIDIpIHJvdCAtPSBNYXRoLlBJO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnBvc2l0aW9uLnNldChtaWRYLCBtaWRZKTtcbiAgICAgICAgICAgIHRoaXMudGV4dC5yb3RhdGlvbiA9IHJvdDtcbiAgICAgICAgICAgIHRoaXMudGV4dC50ZXh0ID0gJycgKyBNYXRoLnNxcnQoZGlzdFNxKS50b0ZpeGVkKDQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVkcmF3UmVzKHJlczogTWVhc3VyZVJlc291cmNlKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KHJlcy5mcm9tWCwgcmVzLmZyb21ZLCByZXMudG9YLCByZXMudG9ZKTtcbiAgICB9XG5cbiAgICBvblJlc291cmNlQWRkKHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBNRUFTVVJFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCByID0gcmVzIGFzIE1lYXN1cmVSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3UmVzKHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBsZXQgcmVkcmF3ID0gZmFsc2U7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gTUVBU1VSRV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd1JlcyhyZXMgYXMgTWVhc3VyZVJlc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gKHJlcyBhcyBHcmlkUmVzb3VyY2UpLnNpemU7XG4gICAgICAgICAgICByZWRyYXcgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBCT0FSRF9UUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZFNjYWxlID0gKHJlcyBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlKS5zY2FsZVggfHwgMTtcbiAgICAgICAgICAgIHJlZHJhdyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVkcmF3KSB7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShNRUFTVVJFX1RZUEUpIGFzIE1lYXN1cmVSZXNvdXJjZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHRoaXMucmVkcmF3UmVzKHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZVJlbW92ZShyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gTUVBU1VSRV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBCT0FSRF9UUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgciA9IHJlcyBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ib2FyZFNjYWxlID0gci5zY2FsZVg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGxldCBib2FyZCA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIGJvYXJkLmJvYXJkLmFkZENoaWxkKHRoaXMuZGlzcGxheSk7XG4gICAgICAgIGJvYXJkLmJvYXJkLmFkZENoaWxkKHRoaXMudGV4dCk7XG5cbiAgICAgICAgbGV0IGdyaWQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSk7XG4gICAgICAgIGlmIChncmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSAoZ3JpZCBhcyBHcmlkUmVzb3VyY2UpLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib2FyZFNjYWxlID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQk9BUkRfVFJBTlNGT1JNX1RZUEUpIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UgfCB1bmRlZmluZWQpPy5zY2FsZVggfHwgMTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7UkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcblxuXG5leHBvcnQgY29uc3QgUElYSV9SRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IFwicGl4aV9yZWN0X3NlbGVjdGlvblwiO1xuZXhwb3J0IHR5cGUgUElYSV9SRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IHR5cGVvZiBQSVhJX1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFO1xuZXhwb3J0IGNsYXNzIFBpeGlSZWN0U2VsZWN0aW9uU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICBuYW1lID0gUElYSV9SRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRTtcbiAgICBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcbiAgICBkaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9hZGQnLCB0aGlzLm9uUmVzb3VyY2VBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX3JlbW92ZWQnLCB0aGlzLm9uUmVzb3VyY2VSZW1vdmUsIHRoaXMpO1xuICAgIH1cblxuICAgIHJlZHJhdyhib3g6IEFhYmIpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGlzcGxheS5iZWdpbkZpbGwoMHg3OTg2Q0IsIDAuMik7XG4gICAgICAgIHRoaXMuZGlzcGxheS5kcmF3UmVjdChib3gubWluWCwgYm94Lm1pblksIGJveC5tYXhYIC0gYm94Lm1pblgsIGJveC5tYXhZIC0gYm94Lm1pblkpO1xuICAgICAgICB0aGlzLmRpc3BsYXkuZW5kRmlsbCgpO1xuICAgIH1cblxuICAgIG9uUmVzb3VyY2VBZGQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IFJFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgciA9IHJlcyBhcyBSZWN0YW5ndWxhclNlbGVjdGlvblJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXcoci5hYWJiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVzb3VyY2VFZGl0KHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHIgPSByZXMgYXMgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3KHIuYWFiYik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlc291cmNlUmVtb3ZlKHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGxldCBib2FyZCA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHRoaXMuZGlzcGxheS5wYXJlbnRHcm91cCA9IGJvYXJkLnRvb2xGb3JlZ3JvdW5kR3JvdXA7XG4gICAgICAgIGJvYXJkLmJvYXJkLmFkZENoaWxkKHRoaXMuZGlzcGxheSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCwgSE9TVF9ISURERU5fVFlQRSwgTXVsdGlDb21wb25lbnQsXG4gICAgTkFNRV9UWVBFLFxuICAgIE5hbWVDb21wb25lbnQsXG4gICAgTk9URV9UWVBFLFxuICAgIE5vdGVDb21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudFxufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0xJR0hUX1RZUEUsIExpZ2h0Q29tcG9uZW50fSBmcm9tIFwiLi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7UExBWUVSX1RZUEUsIFBsYXllckNvbXBvbmVudH0gZnJvbSBcIi4uL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtET09SX1RZUEUsIERvb3JDb21wb25lbnQsIERvb3JUeXBlfSBmcm9tIFwiLi4vZG9vclN5c3RlbVwiO1xuaW1wb3J0IHtQUk9QX1RFTEVQT1JUX1RZUEUsIFBST1BfVFlQRSwgUHJvcFRlbGVwb3J0fSBmcm9tIFwiLi4vcHJvcFN5c3RlbVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7Y29tcG9uZW50RWRpdENvbW1hbmQsIENvbXBvbmVudEVkaXRDb21tYW5kLCBFZGl0VHlwZX0gZnJvbSBcIi4uL2NvbW1hbmQvY29tcG9uZW50RWRpdFwiO1xuaW1wb3J0IHtEZVNwYXduQ29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7Q29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtFVkVOVF9DT01NQU5EX0xPRywgRVZFTlRfQ09NTUFORF9QQVJUSUFMX0VORH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFN5c3RlbVwiO1xuaW1wb3J0IHtXQUxMX1RZUEV9IGZyb20gXCIuLi93YWxsU3lzdGVtXCI7XG5pbXBvcnQge0Vjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge1BJTl9UWVBFfSBmcm9tIFwiLi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge2ZpbmRGb3JlZ3JvdW5kLCBQQVJFTlRfTEFZRVJfVFlQRSwgUGFyZW50TGF5ZXJDb21wb25lbnR9IGZyb20gXCIuL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge2NvbXBvbmVudENsb25lLCBnZW5lcmF0ZVJhbmRvbUlkfSBmcm9tIFwiLi4vLi4vZWNzVXRpbFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5cbmNvbnN0IE1VTFRJX1RZUEVTID0gWyduYW1lJywgJ25vdGUnXTtcbmNvbnN0IEVMSU1JTkFCTEVfVFlQRVMgPSBbJ25hbWUnLCAnbm90ZScsICdwbGF5ZXInLCAnbGlnaHQnLCAnZG9vcicsIFBBUkVOVF9MQVlFUl9UWVBFXTtcbmNvbnN0IEZVTExTQ1JFRU5BQkxFX1RZUEVTID0gWydub3RlJ107XG5cbi8vIG5hbWVcbi8vIG5vdGUgLT4gbm90ZSwgcG9zaXRpb25cbi8vIHBvc2l0aW9uXG4vLyByb29tIC0+IHJvb20sIHBvc2l0aW9uXG4vLyBia2dfaW1nID0+IGJrZ19pbWcsIHBvc2l0aW9uXG5cbi8vIFBvc3NpYmxlIGNvbmZpZ3VyYXRpb25zOiAoPyA9IDAvMSwgKiA9IDArLCBsaWtlIHJlZ2V4KVxuLy8gKGJrZ19pbWcsIHBvcywgdHJhbnNmb3JtLCBuYW1lKiwgbm90ZXMqKVxuLy8gKHBpbiwgcG9zLCBsaWdodHxwbGF5ZXIsIG5hbWUqLCBub3RlcyopXG4vLyAocHJvcCwgcG9zLCB0cmFuc2Zvcm0sIHRlbGVwb3J0PywgbmFtZSosIG5vdGVzKilcbi8vICh3YWxsLCBwb3MsIGRvb3I/KVxuXG5pbnRlcmZhY2UgVHlwZURhdGEge1xuICAgIGVudGl0aWVzOiBTZXQ8Q29tcG9uZW50Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRDb21wb25lbnQge1xuICAgIHR5cGU6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG59XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RJT05fVUlfREFUQV9UWVBFID0gJ3NlbGVjdGlvbl91aV9kYXRhJztcbmV4cG9ydCB0eXBlIFNFTEVDVElPTl9VSV9EQVRBX1RZUEUgPSB0eXBlb2YgU0VMRUNUSU9OX1VJX0RBVEFfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0aW9uVWlEYXRhIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IFNFTEVDVElPTl9VSV9EQVRBX1RZUEU7XG4gICAgc2VsZWN0ZWRFbnRpdGllczogQXJyYXk8bnVtYmVyPjtcbiAgICBjb21wb25lbnRzOiBDb21wb25lbnRbXTtcbiAgICBoaWRkZW46IGJvb2xlYW47XG4gICAgYWRkYWJsZTogQXJyYXk8QWRkQ29tcG9uZW50PjtcblxuICAgIF9zYXZlOiBmYWxzZSxcbiAgICBfc3luYzogZmFsc2U7XG59XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RJT05fVFlQRSA9ICdzZWxlY3Rpb24nO1xuZXhwb3J0IHR5cGUgU0VMRUNUSU9OX1RZUEUgPSB0eXBlb2YgU0VMRUNUSU9OX1RZUEU7XG5leHBvcnQgY2xhc3MgU2VsZWN0aW9uU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVjczogV29ybGQ7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFNFTEVDVElPTl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdIGFzIHN0cmluZ1tdO1xuXG4gICAgcHJpdmF0ZSBib2FyZFN5czogUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgc2VsZWN0ZWRFbnRpdGllcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIGRhdGFCeVR5cGUgPSBuZXcgTWFwPHN0cmluZywgVHlwZURhdGE+KCk7XG4gICAgdHJhbnNsYXRpb25zOiB7W3R5cGU6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICAgIHByaXZhdGUgaXNUcmFuc2xhdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgdHJhbnNsYXRlRGlydHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHVpUmVzRGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCkge1xuICAgICAgICB0aGlzLmVjcyA9IGVjcztcblxuICAgICAgICB0aGlzLmJvYXJkU3lzID0gZWNzLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbigndG9vbF9tb3ZlX2JlZ2luJywgKCkgPT4gdGhpcy5pc1RyYW5zbGF0aW5nID0gdHJ1ZSk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbigndG9vbF9tb3ZlX2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNsYXRlRGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9QQVJUSUFMX0VORCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50VXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlZCcsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2VudGl0eV9kZXNwYXduJywgdGhpcy5vbkVudGl0eURlc3Bhd24sIHRoaXMpO1xuICAgICAgICBpZiAoZWNzLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2NvbW1hbmRfcG9zdF9leGVjdXRlJywgKGM6IENvbW1hbmQgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhIHNwYXduIGNvbW1hbmQgaGFzIGJlZW4gZXhlY3V0ZWRcbiAgICAgICAgICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkIHx8IGMua2luZCAhPT0gJ2Rlc3Bhd24nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPbmx5RW50aXRpZXMoKGMgYXMgRGVTcGF3bkNvbW1hbmQpLmVudGl0aWVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignZW50aXR5X2Rlc3Bhd24nLCB0aGlzLm9uRW50aXR5RGVzcGF3biwgdGhpcyk7XG4gICAgICAgIHRoaXMuYm9hcmRTeXMudGlja2VyLmFkZCh0aGlzLm9uUmVuZGVyLCB0aGlzLCBQSVhJLlVQREFURV9QUklPUklUWS5MT1cpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBUcmFuc2xhdGlvbnMoKTtcblxuICAgICAgICB0aGlzLnVpUmVzRGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uUmVuZGVyKCk7XG4gICAgfVxuXG4gICAgc2V0dXBUcmFuc2xhdGlvbnMoKSB7XG4gICAgICAgIHRoaXMudHJhbnNsYXRpb25zW1BBUkVOVF9MQVlFUl9UWVBFXSA9ICdmb3JlZ3JvdW5kJztcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMudWlSZXNEaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnVpUmVzRGlydHkgPSBmYWxzZTtcblxuICAgICAgICBsZXQgaG9zdEhpZGRlbiA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQoSE9TVF9ISURERU5fVFlQRSk7XG5cbiAgICAgICAgdGhpcy5lY3MuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSxcbiAgICAgICAgICAgIHNlbGVjdGVkRW50aXRpZXM6IFsuLi50aGlzLnNlbGVjdGVkRW50aXRpZXNdLFxuICAgICAgICAgICAgY29tcG9uZW50czogdGhpcy5nZXRDb21tb25Db21wb25lbnRzKCksXG4gICAgICAgICAgICBoaWRkZW46IGhvc3RIaWRkZW4gIT09IHVuZGVmaW5lZCAmJiBob3N0SGlkZGVuLmVudGl0aWVzLnNpemUgPT09IHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5zaXplLFxuICAgICAgICAgICAgYWRkYWJsZTogdGhpcy5nZXRBZGRhYmxlQ29tcG9uZW50cygpLFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIFNlbGVjdGlvblVpRGF0YSwgJ3VwZGF0ZScpO1xuICAgIH1cblxuICAgIHVwZGF0ZVVpKCkge1xuICAgICAgICB0aGlzLnVpUmVzRGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIGNhblNlbGVjdChlbnRpdHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5lY3MuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSB3YWxscyBub3Qgc2VsZWN0YWJsZSB1bmxlc3MgYSBrbm93biBkb29yIGlzIHByZXNlbnQsIHRoaXNcbiAgICAgICAgLy8gcHJldmVudHMgcGxheWVycyBmcm9tIGJydXRlZm9yY2luZyB3YWxsIHN0cnVjdHVyZXMgdG8gZmluZCBkb29yc1xuICAgICAgICAvLyBUT0RPOiBvdGhlciBvcHRpb25zOiBtZXJnZSBhZGlhY2VudCB3YWxscyB3aGVuIHBvc3NpYmxlXG4gICAgICAgIGxldCB3YWxsQyA9IHRoaXMuZWNzLmdldENvbXBvbmVudChlbnRpdHksIFdBTExfVFlQRSk7XG4gICAgICAgIGlmICh3YWxsQyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IHRoaXMuZWNzLmdldENvbXBvbmVudChlbnRpdHksIERPT1JfVFlQRSk7XG4gICAgICAgICAgICByZXR1cm4gZG9vciAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc1RyYW5zbGF0aW5nKSB0aGlzLnRyYW5zbGF0ZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVpKClcbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fdXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNvbXBvbmVudEFkZChjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoY29tcG9uZW50LmVudGl0eSkpIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdChjb21wb25lbnQuZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbY29tcG9uZW50LmVudGl0eV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGVEYXRhKGNvbXBvbmVudC50eXBlKS5lbnRpdGllcy5hZGQoY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkNvbXBvbmVudFVwZGF0ZShjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhjb21wb25lbnQuZW50aXR5KSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdChjb21wb25lbnQuZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2NvbXBvbmVudC5lbnRpdHldKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Db21wb25lbnRSZW1vdmUoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSByZXR1cm47XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldChjb21wb25lbnQudHlwZSkhO1xuICAgICAgICBkYXRhLmVudGl0aWVzLmRlbGV0ZShjb21wb25lbnQpO1xuICAgICAgICBpZiAoZGF0YS5lbnRpdGllcy5zaXplID09PSAwKSB0aGlzLmRhdGFCeVR5cGUuZGVsZXRlKGNvbXBvbmVudC50eXBlKTtcblxuICAgICAgICBpZiAoIXRoaXMuY2FuU2VsZWN0KGNvbXBvbmVudC5lbnRpdHkpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtjb21wb25lbnQuZW50aXR5XSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG9uRW50aXR5RGVzcGF3bihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtlbnRpdHldKTtcbiAgICB9XG5cbiAgICBjbGVhcihjYWxsTGlzdGVuZXJzOiBib29sZWFuID0gdHJ1ZSwgdXBkYXRlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoY2FsbExpc3RlbmVycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaWQgb2YgdGhpcy5zZWxlY3RlZEVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoJ3NlbGVjdGlvbl9lbmQnLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZEVudGl0aWVzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGF0YUJ5VHlwZS5jbGVhcigpO1xuICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0T25seUVudGl0eShpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xlYXIodHJ1ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmFkZEVudGl0aWVzKFtpZF0pO1xuICAgIH1cblxuICAgIHNldE9ubHlFbnRpdGllcyhpZHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBpZFNldCA9IG5ldyBTZXQoaWRzKTtcblxuICAgICAgICBsZXQgcmVtb3ZlSWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgdGhpcy5zZWxlY3RlZEVudGl0aWVzKSB7XG4gICAgICAgICAgICBpZiAoIWlkU2V0LmhhcyhpZCkpIHJlbW92ZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKHJlbW92ZUlkcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmFkZEVudGl0aWVzKGlkcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHRvZ2dsZUVudGl0aWVzKGlkczogbnVtYmVyW10sIHVwZGF0ZTogYm9vbGVhbj10cnVlKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbaWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRW50aXRpZXMoW2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUpIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgYWRkRW50aXRpZXMoaWRzOiBudW1iZXJbXSwgdXBkYXRlOiBib29sZWFuPXRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRyeWluZyB0byBhZGQgdW5kZWZpbmVkIGVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FuU2VsZWN0KGlkKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5hZGQoaWQpO1xuXG4gICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5nZXRBbGxDb21wb25lbnRzKGlkKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldE9yQ3JlYXRlRGF0YShjLnR5cGUpLmVudGl0aWVzLmFkZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fYmVnaW4nLCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZSAmJiBjb3VudCAhPT0gMCkgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICByZW1vdmVFbnRpdGllcyhpZHM6IG51bWJlcltdLCB1cGRhdGU6IGJvb2xlYW49dHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhpZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5kZWxldGUoaWQpXG4gICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5nZXRBbGxDb21wb25lbnRzKGlkKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQoYy50eXBlKSE7XG4gICAgICAgICAgICAgICAgZGF0YS5lbnRpdGllcy5kZWxldGUoYyk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gMCkgdGhpcy5kYXRhQnlUeXBlLmRlbGV0ZShjLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoJ3NlbGVjdGlvbl9lbmQnLCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZSAmJiBjb3VudCAhPT0gMCkgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZEJ5VHlwZSh0eXBlOiBzdHJpbmcpOiBJdGVyYWJsZTxDb21wb25lbnQ+IHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBkYXRhLmVudGl0aWVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbENvbXBvbmVudCh0eXBlOiBzdHJpbmcpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2NhbkRlbGV0ZTogRUxJTUlOQUJMRV9UWVBFUy5pbmRleE9mKHR5cGUpID49IDAsXG4gICAgICAgICAgICBfaXNGdWxsc2NyZWVuOiBGVUxMU0NSRUVOQUJMRV9UWVBFUy5pbmRleE9mKHR5cGUpID49IDAgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFRyYW5zbGF0aW9ucyhjbXBzOiBDb21wb25lbnRbXSk6IENvbXBvbmVudFtdIHtcbiAgICAgICAgZm9yIChsZXQgY21wIG9mIGNtcHMpIHtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMudHJhbnNsYXRpb25zW2NtcC50eXBlXTtcbiAgICAgICAgICAgIGlmICh0cmFucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdHJhbnMgPSBjbXAudHlwZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgKGNtcCBhcyBhbnkpLnR5cGVOYW1lID0gdHJhbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNtcHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdG9yYWdlUHJlZGljYXRlKHN0b3JhZ2U6IEVjc1N0b3JhZ2U8Q29tcG9uZW50Pik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoc3RvcmFnZS50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdG9yYWdlLnNhdmUgJiYgc3RvcmFnZS5zeW5jO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U2luZ2xlQ29tcG9uZW50cygpOiBDb21wb25lbnRbXSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8Q29tcG9uZW50PigpO1xuICAgICAgICBsZXQgZW50aXR5ID0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcblxuICAgICAgICBmb3IgKGxldCBzdG9yYWdlIG9mIHRoaXMuZWNzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RvcmFnZVByZWRpY2F0ZShzdG9yYWdlKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCBjb21wcyA9IHN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIGxldCBjID1cbiAgICAgICAgICAgICAgICByZXMucHVzaChjb21wb25lbnRDbG9uZShyZW1vdmVQcml2YXRlKHRoaXMuaW5pdGlhbENvbXBvbmVudChzdG9yYWdlLnR5cGUpLCBjb21wKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkVHJhbnNsYXRpb25zKHJlcyk7XG4gICAgfVxuXG4gICAgZ2V0Q29tbW9uQ29tcG9uZW50cygpOiBDb21wb25lbnRbXSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZSA9PT0gMCkgcmV0dXJuIFtdO1xuXG4gICAgICAgIGxldCBzZWxDb3VudCA9IHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5zaXplO1xuXG4gICAgICAgIGlmIChzZWxDb3VudCA9PT0gMSkgcmV0dXJuIHRoaXMuZ2V0U2luZ2xlQ29tcG9uZW50cygpO1xuICAgICAgICBsZXQgY29tbW9uVHlwZXMgPSBuZXcgQXJyYXk8RWNzU3RvcmFnZTxDb21wb25lbnQ+PigpO1xuXG4gICAgICAgIGZvciAobGV0IHN0byBvZiB0aGlzLmVjcy5zdG9yYWdlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3JhZ2VQcmVkaWNhdGUoc3RvKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzdG8udHlwZTtcblxuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKGRhdGEgIT0gdW5kZWZpbmVkICYmIGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gc2VsQ291bnQgJiYgTVVMVElfVFlQRVMuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb21tb25UeXBlcy5wdXNoKHN0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PENvbXBvbmVudD4oKTtcblxuICAgICAgICBmb3IgKGxldCBzdG8gb2YgY29tbW9uVHlwZXMpIHtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5zZWxlY3RlZEVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBzID0gc3RvLmdldENvbXBvbmVudHMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gcmVtb3ZlUHJpdmF0ZSh0aGlzLmluaXRpYWxDb21wb25lbnQoc3RvLnR5cGUpLCBjb21wKTsvLyBjb3B5XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaUZpbHRlck9iaihjb21wb25lbnQsIGNvbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnB1c2goY29tcG9uZW50Q2xvbmUoY29tcG9uZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRUcmFuc2xhdGlvbnMocmVzKTtcbiAgICB9XG5cbiAgICBnZXRBZGRhYmxlQ29tcG9uZW50cygpOiBBcnJheTxBZGRDb21wb25lbnQ+IHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxBZGRDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgcmVzLnB1c2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogTkFNRV9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdOYW1lJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgdHlwZTogTk9URV9UWVBFLFxuICAgICAgICAgICAgICAgbmFtZTogJ05vdGUnXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0NvbXBvbmVudFR5cGUoUEFSRU5UX0xBWUVSX1RZUEUpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBsYXllcnNcbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQQVJFTlRfTEFZRVJfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnRm9yZWdyb3VuZCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzRXZlcnlvbmVUeXBlKFBJTl9UWVBFKSAmJiAhKHRoaXMuaGFzQ29tcG9uZW50VHlwZShMSUdIVF9UWVBFKSB8fCB0aGlzLmhhc0NvbXBvbmVudFR5cGUoUExBWUVSX1RZUEUpKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IExJR0hUX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0xpZ2h0J1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBMQVlFUl9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdQbGF5ZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNFdmVyeW9uZVR5cGUoV0FMTF9UWVBFKSAmJiAhdGhpcy5oYXNDb21wb25lbnRUeXBlKERPT1JfVFlQRSkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBET09SX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJEb29yXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzRXZlcnlvbmVUeXBlKFBST1BfVFlQRSkgJiYgIXRoaXMuaGFzQ29tcG9uZW50VHlwZShQUk9QX1RFTEVQT1JUX1RZUEUpKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUFJPUF9URUxFUE9SVF9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiVGVsZXBvcnRlclwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHNldFByb3BlcnR5KGVudGl0aWVzOiBudW1iZXJbXSwgdHlwZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgcHJvcGVydHlWYWx1ZTogYW55LCBtdWx0aUlkPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlID09PSAnJCcpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgbWFuYWdlbWVudFxuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdoaWRkZW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZGQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5yZW1vdmVDb21wb25lbnQoY21wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogXCJjZWRpdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkLCByZW1vdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjbWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzoge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXRpZXM6IFsuLi5lbnRpdGllc10sXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjbWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnYWRkQ29tcG9uZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29tcDogQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTkFNRV9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE5BTUVfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IGdlbmVyYXRlUmFuZG9tSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIE5hbWVDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5PVEVfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBOT1RFX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aUlkOiBnZW5lcmF0ZVJhbmRvbUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBOb3RlQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMSUdIVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExJR0hUX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUExBWUVSX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUExBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pZ2h0VmlzaW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBET09SX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb29yVHlwZTogRG9vclR5cGUuTk9STUFMX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2tlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUEFSRU5UX0xBWUVSX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBmaW5kRm9yZWdyb3VuZCh0aGlzLmVjcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBQYXJlbnRMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUFJPUF9URUxFUE9SVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBST1BfVEVMRVBPUlRfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UHJvcDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBQcm9wVGVsZXBvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgYWRkIHVua25vd24gY29tcG9uZW50OiAnICsgcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4uZW50aXRpZXNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQucHVzaChPYmplY3QuYXNzaWduKHsgZW50aXR5IH0sIGNvbXApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNvbXBvbmVudEVkaXRDb21tYW5kKGFkZCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlQ29tcG9uZW50JzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLmVudGl0aWVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBwcm9wZXJ0eVZhbHVlLCBtdWx0aUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbXAudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGNvbXAuZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IG11bHRpSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIE11bHRpQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0gY29tcG9uZW50RWRpdENvbW1hbmQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHJlbW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9sb2dcIiwgY21kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBzcGVjaWFsIGV2ZW50OiBcIiArIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAvLyBFdmVudCBjYWxsICh5ZWFoIEkga25vdyB0aGlzIGlzIHVnbHkpIFRPRE8gcGxlYXNlIG5leHQgbWUgY2xlYW4gaXQgdXBcbiAgICAgICAgICAgIC8vIFRPRE86IGNvbW1hbmQgbG9nXG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUsIG11bHRpSWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVkaXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgY2hhbmdlcyA9IHt9IGFzIGFueTtcbiAgICAgICAgICAgIGNoYW5nZXNbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIG11bHRpSWQsXG4gICAgICAgICAgICAgICAgY2hhbmdlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0LFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNtZCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbW92ZUFsbChkaWZmWDogbnVtYmVyLCBkaWZmWTogbnVtYmVyLCBlbnRpdGllczogSXRlcmFibGU8bnVtYmVyPikge1xuICAgICAgICBsZXQgZWRpdCA9IFtdO1xuXG4gICAgICAgIGxldCBwb3NTdG8gPSB0aGlzLmVjcy5nZXRTdG9yYWdlKFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0by5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGVkaXQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgZGlmZlgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgZGlmZlksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0LFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAvLyBwYXJ0aWFsID0gaXNUcmFuc2xhdGluZyAoYW5kIGlnbm9yZSB0aGUgcmVzdWx0cylcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9MT0csIGNtZCwgdW5kZWZpbmVkLCB0aGlzLmlzVHJhbnNsYXRpbmcpO1xuICAgICAgICBpZiAodGhpcy5pc1RyYW5zbGF0aW5nKSB0aGlzLnRyYW5zbGF0ZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0T3JDcmVhdGVEYXRhKHR5cGU6IHN0cmluZyk6IFR5cGVEYXRhIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBuZXcgU2V0PENvbXBvbmVudD4oKSxcbiAgICAgICAgICAgIH0gYXMgVHlwZURhdGE7XG4gICAgICAgICAgICB0aGlzLmRhdGFCeVR5cGUuc2V0KHR5cGUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGhhc0NvbXBvbmVudFR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcy5zaXplID4gMDtcbiAgICB9XG5cbiAgICBoYXNFdmVyeW9uZVR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcy5zaXplID09PSB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZTtcbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZSh0YXJnZXQ6IGFueSwgZmlsdGVyOiBhbnkpOiBhbnkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBmaWx0ZXJbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGJpRmlsdGVyT2JqKHRhcmdldDogYW55LCBmaWx0ZXI6IGFueSk6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAodGFyZ2V0W25hbWVdICE9PSBmaWx0ZXJbbmFtZV0pIHtcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBuYW1lIGluIHRhcmdldCkge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGZpbHRlcltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBURVhUX1RZUEUgPSAndGV4dCc7XG5leHBvcnQgdHlwZSBURVhUX1RZUEUgPSB0eXBlb2YgVEVYVF9UWVBFO1xuZXhwb3J0IGNsYXNzIFRleHRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIG5hbWUgPSBURVhUX1RZUEU7XG4gICAgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRV0gYXMgc3RyaW5nW107XG5cbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcbiAgICB0ZXh0TGF5ZXI6IFBJWEkuZGlzcGxheS5MYXllcjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMudGV4dExheWVyID0gbmV3IFBJWEkuZGlzcGxheS5MYXllcigpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuekluZGV4ID0gTGF5ZXJPcmRlci5URVhUO1xuICAgICAgICB0aGlzLnRleHRMYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRleHRMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGJvYXJkU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgYm9hcmRTeXMucm9vdC5hZGRDaGlsZCh0aGlzLnRleHRMYXllcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIFBJWElfQk9BUkRfVFlQRSxcbiAgICBQb2ludGVyQ2xpY2tFdmVudCxcbiAgICBQb2ludGVyRG93bkV2ZW50LFxuICAgIFBvaW50ZXJFdmVudHMsXG4gICAgUG9pbnRlck1vdmVFdmVudCxcbiAgICBQb2ludGVyUmlnaHREb3duRXZlbnQsXG4gICAgUG9pbnRlclJpZ2h0VXBFdmVudCxcbiAgICBQb2ludGVyVXBFdmVudFxufSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRX0gZnJvbSBcIi4vc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7SW5zcGVjdFRvb2xEcml2ZXJ9IGZyb20gXCIuLi8uLi90b29scy9pbnNwZWN0XCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi8uLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtNZWFzdXJlVG9vbERyaXZlcn0gZnJvbSBcIi4uLy4uL3Rvb2xzL21lYXN1cmVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgICBpbml0aWFsaXplPygpOiB2b2lkO1xuICAgIGRlc3Ryb3k/KCk6IHZvaWQ7XG5cbiAgICBvblN0YXJ0PygpOiB2b2lkO1xuICAgIG9uRW5kPygpOiB2b2lkO1xuXG4gICAgb25Qb2ludGVyTW92ZT8oZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkO1xuICAgIG9uUG9pbnRlckRvd24/KGV2ZW50OiBQb2ludGVyRG93bkV2ZW50KTogdm9pZDtcbiAgICBvblBvaW50ZXJVcD8oZXZlbnQ6IFBvaW50ZXJVcEV2ZW50KTogdm9pZDtcbiAgICBvblBvaW50ZXJSaWdodERvd24/KGV2ZW50OiBQb2ludGVyUmlnaHREb3duRXZlbnQpOiB2b2lkO1xuICAgIG9uUG9pbnRlclJpZ2h0VXA/KGV2ZW50OiBQb2ludGVyUmlnaHRVcEV2ZW50KTogdm9pZDtcbiAgICBvblBvaW50ZXJDbGljaz8oZXZlbnQ6IFBvaW50ZXJDbGlja0V2ZW50KTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogVE9PTF9UWVBFO1xuICAgIF9zYXZlOiB0cnVlO1xuICAgIF9zeW5jOiBmYWxzZTtcblxuICAgIHRvb2w/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBUT09MX1RZUEUgPSAndG9vbCc7XG5leHBvcnQgdHlwZSBUT09MX1RZUEUgPSB0eXBlb2YgVE9PTF9UWVBFO1xuZXhwb3J0IGNsYXNzIFRvb2xTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUT09MX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1NFTEVDVElPTl9UWVBFXTtcbiAgICByZWFkb25seSBvcHRpb25hbERlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBzdGFuZGFyZFRvb2w6IFRvb2wgPSBUb29sLklOU1BFQ1Q7XG4gICAgdG9vbHMgPSBuZXcgTWFwPHN0cmluZywgVG9vbERyaXZlcj4oKTtcbiAgICBjdXJyZW50VG9vbD86IFRvb2xEcml2ZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBUT09MX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcblxuICAgICAgICAgICAgdG9vbDogdW5kZWZpbmVkLFxuICAgICAgICB9IGFzIFRvb2xSZXNvdXJjZSk7XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gd29ybGQuZXZlbnRzO1xuICAgICAgICBldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG5cbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9NT1ZFLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX0RPV04sIHRoaXMub25Qb2ludGVyRG93biwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX1JJR0hUX0RPV04sIHRoaXMub25Qb2ludGVyUmlnaHREb3duLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9VUCwgdGhpcy5vblBvaW50ZXJSaWdodFVwLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9DTElDSywgdGhpcy5vblBvaW50ZXJDbGljaywgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5hZGRUb29sKG5ldyBNZWFzdXJlVG9vbERyaXZlcih3b3JsZCkpO1xuICAgICAgICB0aGlzLmFkZFRvb2wobmV3IEluc3BlY3RUb29sRHJpdmVyKHdvcmxkKSk7XG4gICAgfVxuXG4gICAgYWRkVG9vbCh0b29sOiBUb29sRHJpdmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMudG9vbHMuc2V0KHRvb2wubmFtZSwgdG9vbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHI6IFJlc291cmNlLCBlZGl0ZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoci50eXBlID09PSBUT09MX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjdCA9IHIgYXMgVG9vbFJlc291cmNlO1xuXG4gICAgICAgICAgICBsZXQgdG9vbE5hbWUgPSBjdC50b29sIHx8IHRoaXMuc3RhbmRhcmRUb29sO1xuXG4gICAgICAgICAgICBsZXQgdG9vbCA9IHRoaXMudG9vbHMuZ2V0KHRvb2xOYW1lKTtcbiAgICAgICAgICAgIGlmICh0b29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnJlZ2lzdGVyZWQgdG9vbCByZXF1ZXN0ZWQ6IFwiICsgY3QudG9vbCk7XG4gICAgICAgICAgICAgICAgdG9vbCA9IHRoaXMudG9vbHMuZ2V0KHRoaXMuc3RhbmRhcmRUb29sKSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b29sID09PSB0aGlzLmN1cnJlbnRUb29sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoYW5naW5nIHRvb2wgZnJvbSBcIiArICh0aGlzLmN1cnJlbnRUb29sPy5uYW1lIHx8ICdub25lJykgICsgXCIgdG8gXCIgKyB0b29sLm5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25FbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wub25FbmQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbCA9IHRvb2w7XG4gICAgICAgICAgICBpZiAodG9vbC5vblN0YXJ0ICE9PSB1bmRlZmluZWQpIHRvb2wub25TdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJNb3ZlKGU6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlck1vdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJNb3ZlKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJEb3duKGU6IFBvaW50ZXJEb3duRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlckRvd24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJEb3duKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJVcChlOiBQb2ludGVyVXBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyVXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJVcChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb2ludGVyUmlnaHREb3duKGU6IFBvaW50ZXJSaWdodERvd25FdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyUmlnaHREb3duICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyUmlnaHREb3duKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJSaWdodFVwKGU6IFBvaW50ZXJSaWdodFVwRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlclJpZ2h0VXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJSaWdodFVwKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJDbGljayhlOiBQb2ludGVyQ2xpY2tFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyQ2xpY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJDbGljayhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgdG9vbCBvZiB0aGlzLnRvb2xzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAodG9vbC5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHRvb2wuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICAgICAgdG9vbDogdGhpcy5zdGFuZGFyZFRvb2wsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IHRvb2wgb2YgdGhpcy50b29scy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHRvb2wuZGVzdHJveSAhPT0gdW5kZWZpbmVkKSB0b29sLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnQsIFZpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7YXJyYXlSZW1vdmVFbGVtfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9hcnJheVwiO1xuaW1wb3J0IHtcbiAgICBJTlRFUkFDVElPTl9UWVBFLFxuICAgIEludGVyYWN0aW9uQ29tcG9uZW50LFxuICAgIEludGVyYWN0aW9uU3lzdGVtLFxuICAgIHNoYXBlQ2lyY2xlLFxuICAgIHNoYXBlSW50ZXJzZWN0LFxuICAgIHNoYXBlUG9seWdvblxufSBmcm9tIFwiLi9pbnRlcmFjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi8uLi9nYW1lL2dyaWRcIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcblxuXG5leHBvcnQgY29uc3QgVklTSUJJTElUWV9BV0FSRV9UWVBFID0gJ3Zpc2liaWxpdHlfYXdhcmUnO1xuZXhwb3J0IHR5cGUgVklTSUJJTElUWV9BV0FSRV9UWVBFID0gJ3Zpc2liaWxpdHlfYXdhcmUnO1xuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFZJU0lCSUxJVFlfQVdBUkVfVFlQRTtcbiAgICB2aXNpYmxlQnk6IG51bWJlcltdO1xuICAgIGlzV2FsbDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld1Zpc2liaWxpdHlBd2FyZUNvbXBvbmVudChpc1dhbGw6IGJvb2xlYW4gPSBmYWxzZSk6IFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogVklTSUJJTElUWV9BV0FSRV9UWVBFLFxuICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICB2aXNpYmxlQnk6IFtdLFxuICAgICAgICBpc1dhbGwsXG4gICAgfSBhcyBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQ7XG59XG5cblxuZXhwb3J0IGNsYXNzIFZpc2liaWxpdHlBd2FyZVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFZJU0lCSUxJVFlfQVdBUkVfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbVklTSUJJTElUWV9UWVBFLCBJTlRFUkFDVElPTl9UWVBFXTtcblxuICAgIHByaXZhdGUgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgdmlzaWJpbGl0eVN5czogVmlzaWJpbGl0eVN5c3RlbTtcbiAgICBwcml2YXRlIGludGVyYWN0aW9uU3lzOiBJbnRlcmFjdGlvblN5c3RlbTtcblxuICAgIHByaXZhdGUgZ3JpZFNpemU6IG51bWJlcjtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQ+KFZJU0lCSUxJVFlfQVdBUkVfVFlQRSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIC8qKlxuICAgICAqIEV2ZW50czpcbiAgICAgKiBhd2FyZV91cGRhdGUoY29tcG9uZW50LCBhZGRlZCwgcmVtb3ZlZClcbiAgICAgKiAgIENhbGxlZCB3aGVuIGEgVmlzaWJpbGl0eUF3YXJlIGVudGl0eSBpcyB1cGRhdGVkXG4gICAgICogICB3aHkgY2FuJ3Qgd2UgZG8gdGhpcyB3aXRoIGEgbm9ybWFsIGNvbXBvbmVudF9lZGl0IGV2ZW50P1xuICAgICAqICAgSXQncyBlYXNpZXIgbm90IHRvIGJ1aWxkIGNvbXBvbmVudCBkaWZmcy5cbiAgICAgKiAgIElmIHlvdSB3YW50IHRvIHRyYWNrIG9sZCB2YWx1ZXMgZG8gaXQgb24geW91ciBvd24uXG4gICAgICovXG4gICAgZXZlbnRzID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy52aXNpYmlsaXR5U3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlTeXN0ZW07XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG5cbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlID8/IFNUQU5EQVJEX0dSSURfT1BUSU9OUykuc2l6ZTtcblxuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2aXNpYmlsaXR5Q2hhbmdlKHZpZXdlcjogVmlzaWJpbGl0eUNvbXBvbmVudCwgcG9seWdvbjogbnVtYmVyW10gfCB1bmRlZmluZWQsIHJhbmdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgcmFuZ2UgKj0gdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgaWYgKHBvbHlnb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gUGxheWVyIHZpc2liaWxpdHkgbnVsbFxuICAgICAgICAgICAgbGV0IG9sZENhblNlZSA9IHZpZXdlci5fY2FuU2VlO1xuICAgICAgICAgICAgdmlld2VyLl9jYW5TZWUgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHggb2Ygb2xkQ2FuU2VlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoeCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0odGFyZ2V0LnZpc2libGVCeSwgdmlld2VyLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbXSwgW3ZpZXdlci5lbnRpdHldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvbGRDYW5TZWUgPSB2aWV3ZXIuX2NhblNlZTtcbiAgICAgICAgdmlld2VyLl9jYW5TZWUgPSBbXTtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgbGV0IGludGVyU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8SW50ZXJhY3Rpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgdmlld2VyUG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlld2VyLmVudGl0eSkhO1xuXG4gICAgICAgIGxldCB2aWV3ZXJQb2x5ID0gc2hhcGVQb2x5Z29uKHBvbHlnb24pO1xuICAgICAgICBsZXQgdmlld2VyQ2lyY2xlID0gc2hhcGVDaXJjbGUodmlld2VyUG9zLCByYW5nZSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgb2xkIGF3YXJlcyBjYW4gc3RpbGwgYmUgc2VlblxuICAgICAgICBmb3IgKGxldCBpIG9mIG9sZENhblNlZSkge1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gaW50ZXJTdG9yYWdlLmdldENvbXBvbmVudChpKSEuc2hhcGU7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZUludGVyc2VjdCh2aWV3ZXJQb2x5LCBzaGFwZSkgJiYgc2hhcGVJbnRlcnNlY3Qodmlld2VyQ2lyY2xlLCBzaGFwZSkpIHtcbiAgICAgICAgICAgICAgICB2aWV3ZXIuX2NhblNlZS5wdXNoKGkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChpKSE7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byByZW1vdmUgdGFyZ2V0LmVudGl0eSBmcm9tIHBsYXllci5fY2FuU2VlIGFzIGl0J3MgYWxyZWFkeSBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0odGFyZ2V0LnZpc2libGVCeSwgdmlld2VyLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbXSwgW3ZpZXdlci5lbnRpdHldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5pbnRlcmFjdGlvblN5cy5xdWVyeSh2aWV3ZXJQb2x5LCBjID0+IHtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiAgdGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LmlzV2FsbCAhPT0gdHJ1ZSAmJiBvbGRDYW5TZWUuaW5kZXhPZihjLmVudGl0eSkgPT09IC0xO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgZSBvZiBpdGVyKSB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBpbnRlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUuZW50aXR5KSEuc2hhcGU7XG4gICAgICAgICAgICBpZiAoIXNoYXBlSW50ZXJzZWN0KHZpZXdlckNpcmNsZSwgc2hhcGUpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZS5lbnRpdHkpITtcbiAgICAgICAgICAgIHZpZXdlci5fY2FuU2VlLnB1c2goZS5lbnRpdHkpO1xuICAgICAgICAgICAgdGFyZ2V0LnZpc2libGVCeS5wdXNoKHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbdmlld2VyLmVudGl0eV0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdmlzaWJsZUVsZW1lbnRNb3ZlKGF3YXJlOiBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGF3YXJlLmlzV2FsbCA9PT0gdHJ1ZSkgcmV0dXJuO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgdmlzU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5Q29tcG9uZW50PjtcblxuICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQoYXdhcmUuZW50aXR5KSE7XG4gICAgICAgIGxldCBzaGFwZSA9ICh0aGlzLndvcmxkLmdldENvbXBvbmVudChhd2FyZS5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KS5zaGFwZTtcblxuICAgICAgICBsZXQgb2xkVmlzaWJsZUJ5ID0gYXdhcmUudmlzaWJsZUJ5O1xuICAgICAgICBhd2FyZS52aXNpYmxlQnkgPSBbXTtcblxuICAgICAgICBsZXQgYWRkZWQgPSBbXTtcbiAgICAgICAgbGV0IHJlbW92ZWQgPSBbXTtcblxuICAgICAgICAvLyBTZWFyY2ggZm9yIG5ldyBwbGF5ZXJzXG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy52aXNpYmlsaXR5U3lzLmFhYmJUcmVlLnF1ZXJ5KEFhYmIuZnJvbVBvaW50KHBvcykpKSB7XG4gICAgICAgICAgICBsZXQgZW50aXR5ID0gcC50YWchLmVudGl0eTtcbiAgICAgICAgICAgIGxldCB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpcyA9PT0gdW5kZWZpbmVkIHx8IG9sZFZpc2libGVCeS5pbmRleE9mKGVudGl0eSkgIT09IC0xKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IHBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBwdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KSE7XG5cbiAgICAgICAgICAgIGxldCByYW5nZSA9IHB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICAgICAgaWYgKCFzaGFwZUludGVyc2VjdChzaGFwZUNpcmNsZShwcG9zLCByYW5nZSksIHNoYXBlKSB8fCAhc2hhcGVJbnRlcnNlY3Qoc2hhcGUsIHNoYXBlUG9seWdvbihwLnRhZz8ucG9seWdvbiEpKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIHZpcy5fY2FuU2VlLnB1c2goYXdhcmUuZW50aXR5KTtcbiAgICAgICAgICAgIGF3YXJlLnZpc2libGVCeS5wdXNoKHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgYWRkZWQucHVzaCh2aXMuZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBvbGQgcGxheWVyc1xuICAgICAgICBmb3IgKGxldCBwIG9mIG9sZFZpc2libGVCeSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHApITtcbiAgICAgICAgICAgIGxldCBwcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgbGV0IHB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChwKSE7XG5cbiAgICAgICAgICAgIGxldCByYW5nZSA9IHB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICAgICAgaWYgKHNoYXBlSW50ZXJzZWN0KHNoYXBlQ2lyY2xlKHBwb3MsIHJhbmdlKSwgc2hhcGUpICYmIHNoYXBlSW50ZXJzZWN0KHNoYXBlLCBzaGFwZVBvbHlnb24ocHZpcy5wb2x5Z29uISkpKSB7XG4gICAgICAgICAgICAgICAgYXdhcmUudmlzaWJsZUJ5LnB1c2gocCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gcmVtb3ZlIGUuX3Zpc2libGVCeSBhcyBpdCdzIGFscmVhZHkgYmVlbiBjbGVhcmVkXG4gICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0odmlzLl9jYW5TZWUsIGF3YXJlLmVudGl0eSk7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2godmlzLmVudGl0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkZWQubGVuZ3RoICsgcmVtb3ZlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCBhd2FyZSwgYWRkZWQsIHJlbW92ZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblZpZXdCbG9ja2VyRWRpdGVkKHZpZXdlcjogVmlzaWJpbGl0eUNvbXBvbmVudCwgbmV3V2FsbHM6IG51bWJlcltdLCBvbGRXYWxscz86IG51bWJlcltdKSB7XG4gICAgICAgIG9sZFdhbGxzID0gb2xkV2FsbHMgfHwgW107XG4gICAgICAgIGlmIChuZXdXYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIFBsYXllciB2aXNpYmlsaXR5IG51bGxcbiAgICAgICAgICAgIGZvciAobGV0IHggb2Ygb2xkV2FsbHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh4KTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb21tb25XYWxscyA9IFtdO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiV0FMTCBVUERBVEUsIG9sZDogXCIgKyBvbGRXYWxscyArIFwiIG5ldzogXCIgKyBuZXdXYWxscyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgb2xkIGF3YXJlcyBjYW4gc3RpbGwgYmUgc2VlblxuICAgICAgICBmb3IgKGxldCBpIG9mIG9sZFdhbGxzKSB7XG4gICAgICAgICAgICBpZiAobmV3V2FsbHMuaW5kZXhPZihpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCA9XCIgKyBpKTtcbiAgICAgICAgICAgICAgICBjb21tb25XYWxscy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChpKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8ICVcIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgLVwiICsgdGFyZ2V0LmVudGl0eSk7XG5cbiAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlIG9mIG5ld1dhbGxzKSB7XG4gICAgICAgICAgICBpZiAoY29tbW9uV2FsbHMuaW5kZXhPZihlKSAhPT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8IF5cIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgK1wiICsgdGFyZ2V0LmVudGl0eSk7XG5cbiAgICAgICAgICAgIHRhcmdldC52aXNpYmxlQnkucHVzaCh2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW3ZpZXdlci5lbnRpdHldLCBbXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX0FXQVJFX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRNb3ZlKGNvbXAgYXMgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjb21wIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIGlmICgncG9seWdvbicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZSh2aXMsIHZpcy5wb2x5Z29uLCB2aXMucmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdfY2FuU2VlV2FsbHMnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmlld0Jsb2NrZXJFZGl0ZWQodmlzLCB2aXMuX2NhblNlZVdhbGxzISwgY2hhbmdlZC53YWxscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQT1NJVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzQXdhcmUgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXNBd2FyZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRNb3ZlKHZpc0F3YXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZSh2aXMsIHVuZGVmaW5lZCwgMCk7XG4gICAgICAgICAgICB0aGlzLm9uVmlld0Jsb2NrZXJFZGl0ZWQodmlzLCBbXSwgdmlzLl9jYW5TZWVXYWxscyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX0FXQVJFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2YSA9IGNvbXAgYXMgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50O1xuICAgICAgICAgICAgdmEudmlzaWJsZUJ5XG4gICAgICAgICAgICBsZXQgdmlzU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5Q29tcG9uZW50PjtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgdmEudmlzaWJsZUJ5KSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHApITtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0odmlzLl9jYW5TZWUsIHZhLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlZDogYW55KSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFICYmICdzaXplJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IHJlcyBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZC5zaXplO1xuXG4gICAgICAgICAgICAvLyBXZSBkb24ndCByZWFsbHkgY2FyZSwgdGhlIHZpc2liaWxpdHkgcG9seWdvbnMgd2lsbCBjaGFuZ2Ugb24gdGhlaXIgb3duXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbXBvbmVudCwgSE9TVF9ISURERU5fVFlQRSwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7RHluYW1pY1RyZWV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9keW5hbWljVHJlZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge2NvbXB1dGVWaWV3cG9ydH0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L3Zpc2liaWxpdHlQb2x5Z29uXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtcbiAgICBJTlRFUkFDVElPTl9UWVBFLFxuICAgIEludGVyYWN0aW9uQ29tcG9uZW50LFxuICAgIEludGVyYWN0aW9uU3lzdGVtLFxuICAgIExpbmVTaGFwZSxcbiAgICBzaGFwZUFhYmIsXG4gICAgc2hhcGVUb0FhYmIsXG4gICAgU2hhcGVUeXBlXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuXG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX1RZUEUgPSAndmlzaWJpbGl0eSc7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX1RZUEUgPSAndmlzaWJpbGl0eSc7XG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFZJU0lCSUxJVFlfVFlQRTtcbiAgICByYW5nZTogbnVtYmVyOy8vIEluIGdyaWRzIChieSBkZWZhdWx0IDEgZ3JpZCA9IDEyOCBwaXhlbHMpXG4gICAgdHJhY2tXYWxsczogYm9vbGVhbjtcbiAgICBwb2x5Z29uPzogbnVtYmVyW107XG4gICAgYWFiYj86IEFhYmI7XG4gICAgX2FhYmJUcmVlSWQ/OiBudW1iZXI7XG4gICAgX2NhblNlZTogbnVtYmVyW107Ly8gVmlzaWJpbGl0eSBhd2FyZSBjb21wb25lbnRzXG4gICAgX2NhblNlZVdhbGxzPzogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSA9ICd2aXNpYmlsaXR5X2Jsb2NrZXInO1xuZXhwb3J0IHR5cGUgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUgPSAndmlzaWJpbGl0eV9ibG9ja2VyJztcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eUJsb2NrZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFO1xufVxuXG5cbi8qKlxuICogUGxlYXNlIGRvbid0IHN0aWNrIGEgdmlzaWJpbGl0eSBjb21wb25lbnQgdG8gYW4gZW50aXR5IHdpdGggYSB3YWxsIGNvbXBvbmVudCAob3IgdmljZS12ZXJzYSksXG4gKiB0aGV5IGRvbid0IGdvIGFsb25nIHRvZ2V0aGVyIHRvbyBtdWNoLCBmb3IgYSBsb3Qgb2YgcmVhc29ucy5cbiAqXG4gKiBUaGlzIHN5c3RlbSBxdWVyaWVzIGV2ZXJ5IGVudGl0eSB3aXRoIGEgVmlzaWJpbGl0eUNvbXBvbmVudCBhbmQga2VlcHMgaXQgdXBkYXRlZCwgYnkgdGhhdCBJIG1lYW46XG4gKiAtIFJlY29tcHV0ZSB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIHdoZW4gdGhlIHJhbmdlIGNoYW5nZXNcbiAqIC0gUmVjb21wdXRlIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gd2hlbiB0aGUgd2FsbHMgY2hhbmdlXG4gKlxuICogTGl0dGxlIG5vdGUgb24gdmlzaWJpbGl0eSBwb2x5Z29uIGFsZ29yaXRobXM6XG4gKiBHZW5lcmFsIHBvbHlnb25zIGFyZSBhIG1lc3MgdG8gZGVhbCB3aXRoLCBidXQgdGhlIHZpc2liaWxpdHkgcG9seWdvbiBpcyBhIGJpdCBlYXNpZXIgdGhhbiBtb3N0LlxuICogU2luY2UgdGhlcmUgYXJlIG5vIHBvcnRhbHMgbm9yIG1pcnJvcnMgaW4gdGhlIGdhbWUgKHlldCEpIGVhY2ggcG9pbnQgaW4gdGhlIHBvbHlnb24gaXMgdmlzaWJsZSBmcm9tIHRoZSBjZW50ZXIuXG4gKiBIb3cgY2FuIHRoaXMgcHJvcGVydHkgaGVscCBpbiBhbnkgd2F5PyBMZXQgbWUgbWFrZSBhbiBleGFtcGxlOlxuICogV2UgY2FuIGVhc2lseSBjb21wdXRlIGlmIGEgcG9pbnQgaXMgaW5zaWRlIG9mIHRoaXMgcG9seWdvbiBieSBkb2luZyBhIGJpbmFyeSBzZWFyY2ggb24gdGhlIGFuZ2xlcywgc28gdGhlIGFsZ29yaXRobVxuICogYmVjb21lcyBvZiBjb21wbGV4aXR5IE8obG9nKG4pKSB3aGVyZSBuIGFyZSB0aGUgcG9seWdvbiBwb2ludHMuXG4gKiBBbm90aGVyIHByb3BlcnR5IHRoYXQgSSdtIHVzaW5nIGlzIHRoYXQgYSB2aXNpYmlsaXR5IHBvbHlnb24gaXMgbXVjaCBlYXNpZXIgdG8gdHJpYW5ndWxhdGUhXG4gKiBDdXQgb2ZmIGFsbCB0aG9zZSBlYXIgY3V0dGluZyBhbGdvcml0aG1zLCBqdXN0IG1ha2UgdHJpYW5nbGVzIHN0YXJ0aW5nIGZyb20gdGhlIGNlbnRlciFcbiAqL1xuZXhwb3J0IGNsYXNzIFZpc2liaWxpdHlTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBWSVNJQklMSVRZX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0lOVEVSQUNUSU9OX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+KFZJU0lCSUxJVFlfVFlQRSwgZmFsc2UsIGZhbHNlKTtcbiAgICBibG9ja2VyU3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlCbG9ja2VyPihWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIGludGVyYWN0aW9uU3lzdGVtOiBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICBncmlkU2l6ZTogbnVtYmVyO1xuICAgIGFhYmJUcmVlID0gbmV3IER5bmFtaWNUcmVlPFZpc2liaWxpdHlDb21wb25lbnQ+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uU3lzdGVtID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLmJsb2NrZXJTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmVkJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVUcmVlUG9seWdvbihjOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLl9hYWJiVHJlZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWFiYlRyZWUuZGVzdHJveVByb3h5KGMuX2FhYmJUcmVlSWQpO1xuICAgICAgICAgICAgYy5fYWFiYlRyZWVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVBvbHlnb24oYzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICAvLyBJZ25vcmUgaWYgaXQncyBoaWRkZW4uXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkpIHJldHVybjtcblxuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAvLyBXZSB3aWxsIHJlY3JlYXRlIGl0IGxhdGVyIChpZiBuZWNlc3NhcnkpXG4gICAgICAgIHRoaXMucmVtb3ZlVHJlZVBvbHlnb24oYyk7XG5cbiAgICAgICAgaWYgKGMucmFuZ2UgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcG9seWdvbkFhYmI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBhYWJiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByYW5nZSA9IGMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuXG4gICAgICAgIGxldCB2aWV3cG9ydCA9IG5ldyBBYWJiKHBvcy54IC0gcmFuZ2UsIHBvcy55IC0gcmFuZ2UsIHBvcy54ICsgcmFuZ2UsIHBvcy55ICsgcmFuZ2UpO1xuXG4gICAgICAgIGxldCBsaW5lcyA9IG5ldyBBcnJheTxMaW5lPigpO1xuICAgICAgICBsZXQgYmxvY2tlcklkcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5pbnRlcmFjdGlvblN5c3RlbS5xdWVyeShzaGFwZUFhYmIodmlld3BvcnQpLCBjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBzID0gZW50cnkuc2hhcGU7XG4gICAgICAgICAgICBpZiAocy50eXBlICE9PSBTaGFwZVR5cGUuTElORSkgdGhyb3cgJ09ubHkgbGluZSBpcyBzdXBwb3J0ZWQgYXMgbGlnaHQgYmxvY2tlciBzaGFwZSdcbiAgICAgICAgICAgIGxldCBsaW5lRGF0YSA9IChzIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIC8vIFRPRE86IGNoZWNrIGlmIGVudGl0eSBpcyBJTiB3YWxsLlxuXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmVEYXRhKTtcbiAgICAgICAgICAgIGJsb2NrZXJJZHMucHVzaChlbnRyeS5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB1c2VkQmxvY2tlcnM7XG4gICAgICAgIGlmIChjLnRyYWNrV2FsbHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVzZWRCbG9ja2VycyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1c2VkQmxvY2tlcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBvbHlnb24gPSBjb21wdXRlVmlld3BvcnQobGluZXMsIHZpZXdwb3J0LCBwb3MsIHVzZWRCbG9ja2Vycyk7XG5cbiAgICAgICAgLy8gUmVjeWNsZSB0aGUgdW51c2VkIHZpZXdwb3J0IG9iamVjdFxuICAgICAgICB2aWV3cG9ydC53cmFwUG9seWdvbihwb2x5Z29uKTtcblxuICAgICAgICBpZiAodXNlZEJsb2NrZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlZEJsb2NrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdXNlZEJsb2NrZXJzW2ldID0gYmxvY2tlcklkc1t1c2VkQmxvY2tlcnNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIHtcbiAgICAgICAgICAgIHBvbHlnb24sXG4gICAgICAgICAgICBhYWJiOiB2aWV3cG9ydCxcbiAgICAgICAgICAgIF9jYW5TZWVXYWxsczogdXNlZEJsb2NrZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBjLl9hYWJiVHJlZUlkID0gdGhpcy5hYWJiVHJlZS5jcmVhdGVQcm94eSh2aWV3cG9ydCwgYyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWNvbXB1dGVBcmVhKGFhYmI6IEFhYmIpIHtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBbLi4udGhpcy5hYWJiVHJlZS5xdWVyeShhYWJiKV0pIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihub2RlLnRhZyEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdiA9IGMgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIHYuX2NhblNlZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKHYpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoY21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoY21wLnNoYXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBJTlRFUkFDVElPTl9UWVBFICYmIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoKGMgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpLnNoYXBlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICAvLyBDb21wb25lbnQgaGlkZGVuIGlzIGxpa2UgY29tcG9uZW50IG1pc3NpbmcsIHRoZXkgd29uJ3QgYmUgYWJsZSB0byBzZWUgYSB0aGluZ1xuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWaXNpYmlsaXR5KHZpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBibG8gPSB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHlCbG9ja2VyKGJsbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGM6IENvbXBvbmVudCwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkpIHJldHVybjtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoJ3JhbmdlJyBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKGMgYXMgVmlzaWJpbGl0eUNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBQT1NJVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24odmlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBibGsgPSB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChibGsuZW50aXR5LElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihpbnRlci5zaGFwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSAmJiAnc2hhcGUnIGluIGNoYW5nZXMgJiYgdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpID0gYyBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGkuc2hhcGUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmVkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eShjIGFzIFZpc2liaWxpdHlDb21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eUJsb2NrZXIoYyBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBJTlRFUkFDVElPTl9UWVBFICYmIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgaSA9IGMgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihpLnNoYXBlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICAvLyBXZWxjb21lIHRvIHRoZSB2aXNpYmxlIVxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKHZpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBibG8gPSB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY21wID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmIChjbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoY21wLnNoYXBlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSAmJiAnc2l6ZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgbGV0IGdyaWQgPSByZXMgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGV2ZXJ5dGhpbmcgaW4gdGhlIG5leHQgdGljayBzbyB0aGF0IGV2ZXJ5b25lIHNlZXMgdGhlIGNoYW5nZXMgZmlyc3RcbiAgICAgICAgICAgIFBJWEkuVGlja2VyLnNoYXJlZC5hZGRPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVWaXNpYmlsaXR5KGM6IFZpc2liaWxpdHlDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVUcmVlUG9seWdvbihjKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVZpc2liaWxpdHlCbG9ja2VyKGM6IFZpc2liaWxpdHlCbG9ja2VyKSB7XG4gICAgICAgIGxldCBjbXAgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgIGlmIChjbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGNtcC5zaGFwZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7bG9hZFRleHR1cmV9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIEVsZW1lbnRUeXBlLFxuICAgIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsXG4gICAgR1JBUEhJQ19UWVBFLFxuICAgIEdyYXBoaWNDb21wb25lbnQsXG4gICAgSW1hZ2VFbGVtZW50LFxuICAgIEltYWdlU2NhbGVNb2RlLFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7QklHX1NUT1JBR0VfVFlQRSwgQmlnU3RvcmFnZUluZGV4LCBCaWdTdG9yYWdlU3lzdGVtfSBmcm9tIFwiLi9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW1cIjtcblxuZXhwb3J0IHR5cGUgQkFDS0dST1VORF9UWVBFID0gJ2JhY2tncm91bmRfaW1hZ2UnO1xuZXhwb3J0IGNvbnN0IEJBQ0tHUk9VTkRfSU1BR0VfVFlQRSA9ICdiYWNrZ3JvdW5kX2ltYWdlJztcblxuaW50ZXJmYWNlIEJTSW1hZ2VFbnRyeSB7XG4gICAgaW1hZ2U6IFVpbnQ4QXJyYXk7XG4gICAgdmlzaWJpbGl0eU1hcD86IFVpbnQzMkFycmF5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogQkFDS0dST1VORF9UWVBFO1xuICAgIGltYWdlOiBCaWdTdG9yYWdlSW5kZXg8QlNJbWFnZUVudHJ5PjtcbiAgICBpbWFnZVR5cGU6IHN0cmluZztcbn1cblxuXG5leHBvcnQgY2xhc3MgQmFja2dyb3VuZEltYWdlU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gQkFDS0dST1VORF9JTUFHRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtHUkFQSElDX1RZUEUsIEJJR19TVE9SQUdFX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IHN0b3JhZ2U6IFNpbmdsZUVjc1N0b3JhZ2U8QmFja2dyb3VuZEltYWdlQ29tcG9uZW50PjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGJpZ1N0b3JhZ2U6IEJpZ1N0b3JhZ2VTeXN0ZW07XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmJpZ1N0b3JhZ2UgPSB3b3JsZC5zeXN0ZW1zLmdldChCSUdfU1RPUkFHRV9UWVBFKSBhcyBCaWdTdG9yYWdlU3lzdGVtO1xuXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPEJhY2tncm91bmRJbWFnZUNvbXBvbmVudD4oQkFDS0dST1VORF9JTUFHRV9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSwgdGhpcy5vblJlbWVtYmVyQkJCVXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoYy50eXBlICE9PSBCQUNLR1JPVU5EX0lNQUdFX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IGJrZ0ltZyA9IGMgYXMgQmFja2dyb3VuZEltYWdlQ29tcG9uZW50O1xuXG4gICAgICAgIGlmICh0eXBlb2YgYmtnSW1nLmltYWdlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKFVpbnQ4QXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYmtnSW1nLmltYWdlKSkge1xuICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIHZlcnNpb25zIGRpZCBub3QgaGF2ZSBCaWdTdG9yYWdlU3lzdGVtLCBsZXQncyBmaXggdGhhdFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIkNvbnZlcnRpbmcgYmFja2dyb3VuZCB0byBCaWdTdG9yYWdlLi4uXCIpO1xuICAgICAgICAgICAgICAgIGJrZ0ltZy5pbWFnZSA9IHRoaXMuYmlnU3RvcmFnZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICBpbWFnZTogYmtnSW1nLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5TWFwOiAoYmtnSW1nIGFzIGFueSkudmlzaWJpbGl0eU1hcCxcbiAgICAgICAgICAgICAgICB9IGFzIEJTSW1hZ2VFbnRyeSkubXVsdGlJZDtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGJrZ0ltZyBhcyBhbnkpWyd2aXNpYmlsaXR5TWFwJ107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yLCBjb3VsZCBub3QgY29udmVydCBia2dJbWFnZSEgUmVzZXR0aW5nXCIsIGJrZ0ltZy5pbWFnZSk7XG4gICAgICAgICAgICAgICAgYmtnSW1nLmltYWdlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYmRhdGEgPSB0aGlzLmJpZ1N0b3JhZ2UucmVxdWVzdFVzZTxCU0ltYWdlRW50cnk+KGJrZ0ltZy5pbWFnZSkhIS5kYXRhO1xuXG4gICAgICAgIGlmIChiZGF0YS5pbWFnZS5ieXRlT2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBDb3B5IGFycmF5IHRvIHJlbW92ZSBvZmZzZXQgKFRPRE86IGZpeClcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wZWVycy9wZWVyanMvaXNzdWVzLzcxNVxuICAgICAgICAgICAgYmRhdGEuaW1hZ2UgPSBuZXcgVWludDhBcnJheShiZGF0YS5pbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJkYXRhLnZpc2liaWxpdHlNYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IG5ldyBVaW50OEFycmF5KGJkYXRhLnZpc2liaWxpdHlNYXApOy8vIENvcHkgYnVmZmVyIChhZGp1c3RzIGFsaWdubWVudClcbiAgICAgICAgICAgIGJkYXRhLnZpc2liaWxpdHlNYXAgPSBuZXcgVWludDMyQXJyYXkocmVzLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGV4ID0gYXdhaXQgbG9hZFRleHR1cmUoYmRhdGEuaW1hZ2UsIGJrZ0ltZy5pbWFnZVR5cGUpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudGl0eTogYy5lbnRpdHksXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuQkFDS0dST1VORCxcbiAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuUkVBTCxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCxcbiAgICAgICAgICAgICAgICB2aXNNYXA6IGJkYXRhLnZpc2liaWxpdHlNYXAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogdGV4LFxuICAgICAgICAgICAgICAgIGFuY2hvcjogeyB4OiAwLjUsIHk6IDAuNSB9LFxuICAgICAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgfSBhcyBJbWFnZUVsZW1lbnQsXG4gICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gQkFDS0dST1VORF9JTUFHRV9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCBia2dJbWcgPSBjIGFzIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudDtcblxuICAgICAgICB0aGlzLmJpZ1N0b3JhZ2UuZHJvcFVzZShia2dJbWcuaW1hZ2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZW1lbWJlckJCQlVwZGF0ZShlbnRpdGllczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IGdzdG9yID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoR1JBUEhJQ19UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPEdyYXBoaWNDb21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGUgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGJkYXRhID0gdGhpcy5iaWdTdG9yYWdlLnJlcXVlc3Q8QlNJbWFnZUVudHJ5PihjLmltYWdlKT8uZGF0YSEhO1xuICAgICAgICAgICAgYmRhdGEudmlzaWJpbGl0eU1hcCA9IChnc3Rvci5nZXRDb21wb25lbnQoZSk/LmRpc3BsYXkgYXMgSW1hZ2VFbGVtZW50KT8udmlzTWFwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtcbiAgICBDb21tYW5kUmVzdWx0LFxuICAgIEVWRU5UX0NPTU1BTkRfQUREX1BPU1RfQ09OU0VRVUVOQ0UsXG4gICAgRVZFTlRfQ09NTUFORF9BRERfUFJFX0NPTlNFUVVFTkNFLFxuICAgIEVWRU5UX0NPTU1BTkRfRU1JVCxcbiAgICBFVkVOVF9DT01NQU5EX0xPR1xufSBmcm9tIFwiLi9jb21tYW5kU3lzdGVtXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZCB7XG4gICAga2luZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBDQUxMSU5HIFRISVMgQ09OU1VNRVMgVEhFIEFSR1VNRU5UIVxuICAgICAqL1xuICAgIGFwcGx5SW52ZXJ0KGNvbW1hbmQ6IENvbW1hbmQpOiBDb21tYW5kO1xuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogQ29tbWFuZCk6IENvbW1hbmRbXTtcblxuICAgIG1lcmdlKHRvOiBDb21tYW5kLCBmcm9tOiBDb21tYW5kKTogYm9vbGVhbjtcblxuICAgIGlzTnVsbChjb21tYW5kOiBDb21tYW5kKTogYm9vbGVhbjtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUFuZExvZ0NvbW1hbmQod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kKTogQ29tbWFuZCB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IHJlcyA9IHt9IGFzIENvbW1hbmRSZXN1bHQ7XG4gICAgd29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9MT0csIGNvbW1hbmQsIHJlcyk7XG4gICAgcmV0dXJuIHJlcy5pbnZlcnRlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRDb21tYW5kKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCwgc2hhcmU6IGJvb2xlYW4gPSBmYWxzZSk6IENvbW1hbmQgfCB1bmRlZmluZWQge1xuICAgIGxldCByZXMgPSB7fSBhcyBDb21tYW5kUmVzdWx0O1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfRU1JVCwgY29tbWFuZCwgcmVzLCBzaGFyZSk7XG4gICAgcmV0dXJuIHJlcy5pbnZlcnRlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmRSZWdpc3RlclByZUNvbnNlcXVlbmNlKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCk6IHZvaWQge1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfQUREX1BSRV9DT05TRVFVRU5DRSwgY29tbWFuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kUmVnaXN0ZXJQb3N0Q29uc2VxdWVuY2Uod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kKTogdm9pZCB7XG4gICAgd29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9BRERfUE9TVF9DT05TRVFVRU5DRSwgY29tbWFuZCk7XG59XG5cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuaW1wb3J0IHtDT01NQU5EX1RZUEUsIENvbW1hbmRSZXN1bHQsIENvbW1hbmRTeXN0ZW0sIEVWRU5UX0NPTU1BTkRfRU1JVCwgTG9nSG9va30gZnJvbSBcIi4vY29tbWFuZFN5c3RlbVwiO1xuaW1wb3J0IHtOb25lQ29tbWFuZH0gZnJvbSBcIi4vbm9uZUNvbW1hbmRcIjtcblxuY29uc3QgSElTVE9SWV9MSU1JVCA9IDEyODtcblxuaW50ZXJmYWNlIEhpc3RvcnlFbnRyeSB7XG4gICAgY21kOiBDb21tYW5kLFxuICAgIC8vIE1hbmFnZXMgZGVwZW5kZW5jaWVzIGFuZCByZWxhdGlvbnNcbiAgICAvL3ByZTogQ29tbWFuZFtdLFxuICAgIC8vcG9zdDogQ29tbWFuZFtdLFxufVxuXG5leHBvcnQgY29uc3QgQ09NTUFORF9ISVNUT1JZX1RZUEUgPSAnY29tbWFuZF9oaXN0b3J5JztcbmV4cG9ydCB0eXBlIENPTU1BTkRfSElTVE9SWV9UWVBFID0gdHlwZW9mIENPTU1BTkRfSElTVE9SWV9UWVBFO1xuZXhwb3J0IGNsYXNzIENvbW1hbmRIaXN0b3J5U3lzdGVtIGltcGxlbWVudHMgU3lzdGVtLCBMb2dIb29rIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgbmFtZSA9IENPTU1BTkRfSElTVE9SWV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtDT01NQU5EX1RZUEVdO1xuXG4gICAgLy9wcml2YXRlIHByZXBhcmVkPzogSGlzdG9yeUVudHJ5O1xuICAgIGNvbW1hbmRTeXM6IENvbW1hbmRTeXN0ZW07XG4gICAgaGlzdG9yeTogQXJyYXk8SGlzdG9yeUVudHJ5PjtcbiAgICBpc0xhc3RQYXJ0aWFsOiBib29sZWFuID0gZmFsc2U7XG4gICAgaW5kZXg6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IG5ldyBBcnJheTxIaXN0b3J5RW50cnk+KCk7XG5cbiAgICAgICAgdGhpcy5jb21tYW5kU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChDT01NQU5EX1RZUEUpIGFzIENvbW1hbmRTeXN0ZW07XG4gICAgICAgIHRoaXMuY29tbWFuZFN5cy5sb2dnZXIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKFwiY29tbWFuZF91bmRvXCIsIHRoaXMub25VbmRvLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oXCJjb21tYW5kX3JlZG9cIiwgdGhpcy5vblJlZG8sIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVB1c2goY21kOiBIaXN0b3J5RW50cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGlzdG9yeS5sZW5ndGggIT09IHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5sZW5ndGggPSB0aGlzLmluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKGNtZCk7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPiBISVNUT1JZX0xJTUlUKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4LS07XG4gICAgICAgICAgICAvLyBUT0RPOiB1c2Ugc29tZSBraW5kIG9mIHJhbmRvbS1hY2Nlc3Mgc3BsaWNlLWFibGUgZGVxdWU/XG4gICAgICAgICAgICB0aGlzLmhpc3Rvcnkuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVJlcGxhY2VQcmV2KGNtZDogSGlzdG9yeUVudHJ5KSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4IC0gMV0gPSBjbWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5VW5kbyhyZXBsYWNlOiBIaXN0b3J5RW50cnkpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5UmVwbGFjZVByZXYocmVwbGFjZSk7XG4gICAgICAgIHRoaXMuaW5kZXgtLTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlSZWRvKHJlcGxhY2U6IEhpc3RvcnlFbnRyeSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRoaXMuaGlzdG9yeVJlcGxhY2VQcmV2KHJlcGxhY2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVBlZWtQcmV2KCk6IEhpc3RvcnlFbnRyeSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4IDw9IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnlbdGhpcy5pbmRleCAtIDFdO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVBlZWtOZXh0KCk6IEhpc3RvcnlFbnRyeSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID49IHRoaXMuaGlzdG9yeS5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnlbdGhpcy5pbmRleF07XG4gICAgfVxuXG4gICAgbm90aWZ5SGlzdG9yeUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImNvbW1hbmRfaGlzdG9yeV9jaGFuZ2VcIiwgdGhpcy5jYW5VbmRvKCksIHRoaXMuY2FuUmVkbygpKTtcbiAgICB9XG5cbiAgICBjbG9zZVBhcnRpYWwoKSB7XG4gICAgICAgIHRoaXMuaXNMYXN0UGFydGlhbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByb2Nlc3NQYXJ0aWFsKGNtZDogQ29tbWFuZCwgcGFydGlhbDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc0xhc3RQYXJ0aWFsICYmICFwYXJ0aWFsKSB7XG4gICAgICAgICAgICB0aGlzLmlzTGFzdFBhcnRpYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNvbnRpbnVlLCB0aGlzIGlzIHRoZSBsYXN0IHBhcnRpYWwgcm91bmRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGl0J3Mgbm90IHBhcnRpYWwgKGJ1dCBhbHNvIHRoZSBsYXN0IG9uZSB3YXMgYWxzbyBub3QgYSBwYXJ0aWFsKVxuICAgICAgICAgICAgaWYgKCFwYXJ0aWFsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IG9uZSB3YXMgbm90IHBhcnRpYWwgYnV0IHRoaXMgb25lIGlzLFxuICAgICAgICAgICAgLy8gYWRkIHRoZSBjb21tYW5kIHRvIHRoZSBxdWV1ZSBhbmQgd2FpdCBmb3IgdGhlIG5leHRcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0xhc3RQYXJ0aWFsICYmIHBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTGFzdFBhcnRpYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFzdENtZCA9IHRoaXMuaGlzdG9yeVBlZWtQcmV2KCkhO1xuICAgICAgICBpZiAoY21kLmtpbmQgIT09IGxhc3RDbWQuY21kLmtpbmQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IHByb2Nlc3NpbmcgYSBwYXJ0aWFsIHdpdGggYSB3cm9uZyBsYXN0IGtpbmQsIGRpZCB5b3UgZm9yZ2V0IHRvIGxvZyB0aGUgbGFzdCBwYXJ0aWFsIGNvbW1hbmRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2luZCA9IHRoaXMuY29tbWFuZFN5cy5nZXRLaW5kKGNtZC5raW5kKSE7XG4gICAgICAgIGtpbmQubWVyZ2UoY21kLCBsYXN0Q21kLmNtZCk7XG4gICAgICAgIHRoaXMuaGlzdG9yeVJlcGxhY2VQcmV2KHtcbiAgICAgICAgICAgIGNtZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbG9nUHJlcGFyZShwYXJ0aWFsOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLyp0aGlzLnByZXBhcmVkID0ge1xuICAgICAgICAgICAgY21kOiB7IGtpbmQ6ICdub25lJ30gYXMgTm9uZUNvbW1hbmQsXG4gICAgICAgICAgICBwb3N0OiBbXSwgcHJlOiBbXSxcbiAgICAgICAgfTsqL1xuICAgIH1cblxuXG4gICAgbG9nQ29tbWl0KGNtZDogQ29tbWFuZCB8IHVuZGVmaW5lZCwgcGFydGlhbDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiTE9HXCIsIEpTT04uc3RyaW5naWZ5KGNtZCkpO1xuICAgICAgICBpZiAoY21kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghcGFydGlhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQYXJ0aWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzUGFydGlhbChjbWQsIHBhcnRpYWwpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXN0b3J5UHVzaCh7IGNtZCB9KTtcbiAgICAgICAgdGhpcy5ub3RpZnlIaXN0b3J5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGVjdXRlRW1pdChjbWQ6IENvbW1hbmQpOiBDb21tYW5kIHtcbiAgICAgICAgbGV0IHJlcyA9IHt9IGFzIENvbW1hbmRSZXN1bHQ7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9FTUlULCBjbWQsIHJlcyk7XG4gICAgICAgIHJldHVybiByZXMuaW52ZXJ0ZWQgfHwgeyBraW5kOiAnbm9uZScgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVW5kbygpIHtcbiAgICAgICAgbGV0IGNtZCA9IHRoaXMuaGlzdG9yeVBlZWtQcmV2KCk7XG5cbiAgICAgICAgaWYgKGNtZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vdGhpbmcgdG8gdW5kb1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGlzdG9yeVVuZG8oeyBjbWQ6IHRoaXMuZXhlY3V0ZUVtaXQoY21kLmNtZCl9KTtcbiAgICAgICAgdGhpcy5ub3RpZnlIaXN0b3J5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlZG8oKSB7XG4gICAgICAgIGxldCBjbWQgPSB0aGlzLmhpc3RvcnlQZWVrTmV4dCgpO1xuICAgICAgICBpZiAoY21kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90aGluZyB0byByZWRvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oaXN0b3J5UmVkbyh7IGNtZDogdGhpcy5leGVjdXRlRW1pdChjbWQuY21kKSB9KTtcbiAgICAgICAgdGhpcy5ub3RpZnlIaXN0b3J5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgY2FuUmVkbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5sZW5ndGggPiB0aGlzLmluZGV4O1xuICAgIH1cblxuICAgIGNhblVuZG8oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4ID4gMDtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kS2luZH0gZnJvbSBcIi4vc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kS2luZH0gZnJvbSBcIi4vZGVzcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7Q29tcG9uZW50RWRpdENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21wb25lbnRFZGl0XCI7XG5pbXBvcnQge1Jlc291cmNlRWRpdENvbW1hbmRLaW5kfSBmcm9tIFwiLi9yZXNvdXJjZUVkaXRDb21tYW5kXCI7XG5pbXBvcnQge0V2ZW50Q29tbWFuZEtpbmR9IGZyb20gXCIuL2V2ZW50Q29tbWFuZFwiO1xuaW1wb3J0IHtOb25lQ29tbWFuZEtpbmR9IGZyb20gXCIuL25vbmVDb21tYW5kXCI7XG5pbXBvcnQge05FVFdPUktfVFlQRSwgTmV0d29ya1N5c3RlbX0gZnJvbSBcIi4uL2JhY2svbmV0d29ya1N5c3RlbVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmRSZXN1bHQge1xuICAgIGludmVydGVkPzogQ29tbWFuZDtcbn1cblxuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfRU1JVCA9ICdjb21tYW5kX2VtaXQnO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfTE9HID0gJ2NvbW1hbmRfbG9nJztcbmV4cG9ydCBjb25zdCBFVkVOVF9DT01NQU5EX1BBUlRJQUxfRU5EID0gJ2NvbW1hbmRfcGFydGlhbF9lbmQnO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfQUREX1BSRV9DT05TRVFVRU5DRSA9ICdjb21tYW5kX2FkZF9wcmVjb25zJztcbmV4cG9ydCBjb25zdCBFVkVOVF9DT01NQU5EX0FERF9QT1NUX0NPTlNFUVVFTkNFID0gJ2NvbW1hbmRfYWRkX3Bvc2NvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ0hvb2sge1xuICAgIGxvZ1ByZXBhcmUocGFydGlhbDogYm9vbGVhbik6IHZvaWQ7XG5cbiAgICBsb2dDb21taXQoY21kOiBDb21tYW5kIHwgdW5kZWZpbmVkLCBwYXJ0aWFsOiBib29sZWFuKTogdm9pZDtcbn1cblxuXG5leHBvcnQgY29uc3QgQ09NTUFORF9UWVBFID0gJ2NvbW1hbmQnO1xuZXhwb3J0IHR5cGUgQ09NTUFORF9UWVBFID0gdHlwZW9mIENPTU1BTkRfVFlQRTtcbmV4cG9ydCBjbGFzcyBDb21tYW5kU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgbmFtZSA9IENPTU1BTkRfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZWFkb25seSBvcHRpb25hbERlcGVuZGVuY2llcyA9IFtORVRXT1JLX1RZUEVdXG5cbiAgICBsb2dnZXI/OiBMb2dIb29rO1xuXG4gICAgcHJpdmF0ZSBjb21tYW5kcyA9IG5ldyBNYXA8c3RyaW5nLCBDb21tYW5kS2luZD4oKTtcbiAgICBwcml2YXRlIG5ldHdvcmtTeXM6IE5ldHdvcmtTeXN0ZW0gfCB1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5yZWdpc3RlckRlZmF1bHRDb21tYW5kcygpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihFVkVOVF9DT01NQU5EX0VNSVQsIHRoaXMub25FbWl0LCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oRVZFTlRfQ09NTUFORF9MT0csIHRoaXMub25Mb2csIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihFVkVOVF9DT01NQU5EX1BBUlRJQUxfRU5ELCB0aGlzLm9uUGFydGlhbEVuZCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5uZXR3b3JrU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoTkVUV09SS19UWVBFKSBhcyBOZXR3b3JrU3lzdGVtIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyQ29tbWFuZEtpbmQoa2luZDogQ29tbWFuZEtpbmQpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5zZXQoa2luZC5raW5kLCBraW5kKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyRGVmYXVsdENvbW1hbmRzKCkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IFNwYXduQ29tbWFuZEtpbmQodGhpcy53b3JsZCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IERlU3Bhd25Db21tYW5kS2luZCh0aGlzLndvcmxkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgQ29tcG9uZW50RWRpdENvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBSZXNvdXJjZUVkaXRDb21tYW5kS2luZCh0aGlzLndvcmxkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgRXZlbnRDb21tYW5kS2luZCh0aGlzLndvcmxkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgTm9uZUNvbW1hbmRLaW5kKCkpO1xuICAgIH1cblxuICAgIG9uRW1pdChjb21tYW5kOiBDb21tYW5kLCByZXM/OiBDb21tYW5kUmVzdWx0LCBzaGFyZT86IGJvb2xlYW4pIHtcbiAgICAgICAgbGV0IGtpbmQgPSB0aGlzLmNvbW1hbmRzLmdldChjb21tYW5kLmtpbmQpO1xuICAgICAgICBpZiAoa2luZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBleGVjdXRpbmcgY29tbWFuZDogdW5rbm93biBraW5kIFwiICsga2luZCk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChraW5kLmlzTnVsbChjb21tYW5kKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJFTUlUXCIsIEpTT04uc3RyaW5naWZ5KGNvbW1hbmQpKTtcblxuICAgICAgICBpZiAodGhpcy5uZXR3b3JrU3lzPy5pc09ubGluZSgpID09PSB0cnVlICYmICh0aGlzLndvcmxkLmlzTWFzdGVyIHx8IHNoYXJlKSkge1xuICAgICAgICAgICAgbGV0IHN0cmlwcGVkID0ga2luZC5zdHJpcENsaWVudChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChzdHJpcHBlZC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9zaGFyZVwiLCBzdHJpcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9wcmVfZXhlY3V0ZScpO1xuICAgICAgICBsZXQgaW52O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW52ID0ga2luZC5hcHBseUludmVydChjb21tYW5kKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IGFwcGx5IGNvbW1hbmRcIiwgY29tbWFuZCwgZSk7XG4gICAgICAgICAgICBpbnYgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMuaW52ZXJ0ZWQgPSBpbnY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9wb3N0X2V4ZWN1dGUnLCBpbnYpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Mb2coY29tbWFuZDogQ29tbWFuZCwgcmVzPzogQ29tbWFuZFJlc3VsdCwgcGFydGlhbDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXMgfHwge307XG4gICAgICAgIHRoaXMub25FbWl0KGNvbW1hbmQsIHJlc3VsdCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5pbnZlcnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgaW52ID0gcmVzdWx0LmludmVydGVkO1xuICAgICAgICAgICAgbGV0IGtpbmQgPSB0aGlzLmNvbW1hbmRzLmdldChpbnYua2luZCk7XG4gICAgICAgICAgICBpZiAoa2luZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBpbnZlcnRlZCBjb21tYW5kISBcIiArIGtpbmQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgha2luZC5pc051bGwoaW52KSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyPy5sb2dDb21taXQocmVzdWx0LmludmVydGVkLCBwYXJ0aWFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmxvZ0NvbW1pdCh1bmRlZmluZWQsIHBhcnRpYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBhcnRpYWxFbmQoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyPy5sb2dDb21taXQodW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZ2V0S2luZChraW5kOiBzdHJpbmcpOiBDb21tYW5kS2luZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLmdldChraW5kKVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtBbnlNYXBUeXBlLCBGcm96ZW5FbnRpdHksIE11bHRpRWRpdFR5cGUsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZH0gZnJvbSBcIi4vc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2ZpbHRlckNvbXBvbmVudCwgZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eX0gZnJvbSBcIi4uLy4uL2Vjc1V0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudEVkaXRDb21tYW5kKFxuICAgIGFkZD86IENvbXBvbmVudFtdLFxuICAgIGVkaXQ/OiBFZGl0VHlwZVtdLFxuICAgIHJlbW92ZT86IENvbXBvbmVudFtdLFxuICAgIHBhcmFsbGVsPzogYm9vbGVhbixcbik6IENvbXBvbmVudEVkaXRDb21tYW5kIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICBhZGQsXG4gICAgICAgIGVkaXQsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgbXVsdGk6IHBhcmFsbGVsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZUVkaXRDb21tYW5kKGVkaXQ6IEVkaXRUeXBlKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudEVkaXRDb21tYW5kKHVuZGVmaW5lZCwgW2VkaXRdKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0VHlwZSB7XG4gICAgZW50aXR5OiBudW1iZXI7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG11bHRpSWQ/OiBudW1iZXI7XG4gICAgY2hhbmdlczogQW55TWFwVHlwZSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRFZGl0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdjZWRpdCc7XG4gICAgYWRkPzogQ29tcG9uZW50W107XG4gICAgbXVsdGk/OiBib29sZWFuO1xuICAgIGVkaXQ/OiBFZGl0VHlwZVtdO1xuICAgIHBlZGl0Pzoge1tpZDogbnVtYmVyXTogTXVsdGlFZGl0VHlwZX07XG4gICAgcmVtb3ZlPzogQ29tcG9uZW50W107XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnRFZGl0Q29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdjZWRpdCc7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBDb21wb25lbnRFZGl0Q29tbWFuZCB7XG4gICAgICAgIGxldCBpbnYgPSB7XG4gICAgICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5hZGQgPz8gW10pIHtcbiAgICAgICAgICAgIGludi5yZW1vdmUgPSBpbnYucmVtb3ZlID8/IFtdO1xuICAgICAgICAgICAgaW52LnJlbW92ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGMuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IGMudHlwZSxcbiAgICAgICAgICAgICAgICBtdWx0aUlkOiAoYyBhcyBNdWx0aUNvbXBvbmVudCkubXVsdGlJZCxcbiAgICAgICAgICAgIH0gYXMgTXVsdGlDb21wb25lbnQpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIGMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY21kLm11bHRpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5lZGl0ID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIGMuY2hhbmdlcywgYy5tdWx0aUlkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZW50aXR5TWFwID0gbmV3IE1hcDxudW1iZXIsIE11bHRpRWRpdFR5cGU+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5lZGl0ID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBlbnRpdHlNYXAuZ2V0KGMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5TWFwLnNldChjLmVudGl0eSwgeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHgucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlJZDogYy5tdWx0aUlkLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzOiBjLmNoYW5nZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudGl0eU1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnRNdWx0aXBsZShrZXksIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW52LmVkaXQgPSBjbWQuZWRpdDtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQucmVtb3ZlID8/IFtdKSB7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwgKGMgYXMgTXVsdGlDb21wb25lbnQpLm11bHRpSWQpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBpbnYuYWRkID0gaW52LmFkZCA/PyBbXTtcbiAgICAgICAgICAgICAgICBpbnYuYWRkLnB1c2goZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShjb21wb25lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52O1xuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNtZDogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICBsZXQgaG9zdF9oaWRkZW4gPSBjbWQuYWRkPy5maWx0ZXIoeCA9PiB4LnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpLm1hcCh4ID0+IHguZW50aXR5KSA/PyBbXTtcbiAgICAgICAgbGV0IG5vbl9ob3N0X2hpZGRlbiA9IGNtZC5yZW1vdmU/LmZpbHRlcih4ID0+IHgudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkubWFwKHggPT4geC5lbnRpdHkpID8/IFtdO1xuXG4gICAgICAgIGxldCBwcmVkaWNhdGUgPSAoeDogQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoKHggYXMgSGlkZWFibGVDb21wb25lbnQpLmNsaWVudFZpc2libGUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaG9zdF9oaWRkZW4uaW5kZXhPZih4LmVudGl0eSkgPiAtMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5vbl9ob3N0X2hpZGRlbi5pbmRleE9mKHguZW50aXR5KSA+IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndvcmxkLmdldENvbXBvbmVudCh4LmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBhcnRpYWxQcmVkaWNhdGUgPSAoeDogQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVhbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHguZW50aXR5LCB4LnR5cGUsICh4IGFzIE11bHRpQ29tcG9uZW50KS5tdWx0aUlkKSE7XG4gICAgICAgICAgICBpZiAoKHJlYWwgYXMgSGlkZWFibGVDb21wb25lbnQpLmNsaWVudFZpc2libGUgPT09IGZhbHNlICYmICEoJ2NsaWVudFZpc2libGUnIGluIHgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlKHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFkZCA9IGNtZC5hZGQ/LmZpbHRlcihwcmVkaWNhdGUpO1xuICAgICAgICBsZXQgZWRpdCA9IGNtZC5lZGl0Py5maWx0ZXIocGFydGlhbFByZWRpY2F0ZSk7XG4gICAgICAgIGxldCByZW1vdmUgPSBjbWQucmVtb3ZlPy5maWx0ZXIoeCA9PiB4LnR5cGUgIT09IEhPU1RfSElEREVOX1RZUEUgJiYgcGFydGlhbFByZWRpY2F0ZSh4KSk7XG5cbiAgICAgICAgZWRpdCA9IGVkaXQ/LmZpbHRlcih4ID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjbGllbnRWaXNpYmxlJyBpbiB4LmNoYW5nZXMpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBvcmlnID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoeC5lbnRpdHksIHgudHlwZSwgeC5tdWx0aUlkKSBhcyBIaWRlYWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChvcmlnID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHguY2hhbmdlcy5jbGllbnRWaXNpYmxlID09PSBmYWxzZSAmJiBvcmlnLmNsaWVudFZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlID0gcmVtb3ZlID8/IFtdO1xuICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5OiB4LmVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogeC50eXBlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aUlkOiB4Lm11bHRpSWQsXG4gICAgICAgICAgICAgICAgfSBhcyBNdWx0aUNvbXBvbmVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHguY2hhbmdlcy5jbGllbnRWaXNpYmxlICE9PSBmYWxzZSAmJiBvcmlnLmNsaWVudFZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYWRkID0gYWRkID8/IFtdO1xuICAgICAgICAgICAgICAgIGFkZC5wdXNoKGZpbHRlckNvbXBvbmVudEtlZXBFbnRpdHkob3JpZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KVxuXG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8Q29tbWFuZD4oKTtcbiAgICAgICAgaWYgKGhvc3RfaGlkZGVuLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogaG9zdF9oaWRkZW4sXG4gICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kKVxuICAgICAgICB9XG4gICAgICAgIGlmIChub25faG9zdF9oaWRkZW4ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogbm9uX2hvc3RfaGlkZGVuLm1hcCh4ID0+IHRoaXMuY3JlYXRlRW50aXR5U3Bhd25QYWNrZXQoeCkpLFxuICAgICAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoYWRkPy5sZW5ndGggfHwgMCkgKyAoZWRpdD8ubGVuZ3RoIHx8IDApICsgKHJlbW92ZT8ubGVuZ3RoIHx8IDApICE9PSAwKSB7XG4gICAgICAgICAgICBsZXQgY2VkaXQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ2NlZGl0J1xuICAgICAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgICAgIGlmIChhZGQgIT09IHVuZGVmaW5lZCkgY2VkaXQuYWRkID0gYWRkLm1hcChjbG9uZSk7XG4gICAgICAgICAgICBpZiAoZWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2VkaXQuZWRpdCA9IGVkaXQubWFwKGNsb25lKTtcbiAgICAgICAgICAgICAgICBpZiAoY21kLm11bHRpKSBjZWRpdC5tdWx0aSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtb3ZlICE9PSB1bmRlZmluZWQpIGNlZGl0LnJlbW92ZSA9IHJlbW92ZS5tYXAoY2xvbmUpO1xuICAgICAgICAgICAgcmVzLnB1c2goY2VkaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogQ29tcG9uZW50RWRpdENvbW1hbmQsIGZyb206IENvbXBvbmVudEVkaXRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0by5tdWx0aSAhPT0gZnJvbS5tdWx0aSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIFRPRE86IGZyb20gc2hvdWxkIHJlbW92ZSBlbnRpdGllcyBhZGRlZCBpbiB0by5cbiAgICAgICAgLy8gICAgICAgaGFuZGxlIGVudGl0aWVzIGVkaXRlZCBpbiB0byBidXQgcmVtb3ZlZCBpbiBmcm9tXG4gICAgICAgIHRvLmFkZCA9IG1lcmdlTnVsbGFibGVBcnJheXModG8uYWRkLCBmcm9tLmFkZCk7XG4gICAgICAgIHRvLnJlbW92ZSA9IG1lcmdlTnVsbGFibGVBcnJheXModG8ucmVtb3ZlLCBmcm9tLnJlbW92ZSk7XG5cbiAgICAgICAgaWYgKGZyb20uZWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodG8uZWRpdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG8uZWRpdCA9IGZyb20uZWRpdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBmcm9tLmVkaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHogPSB0by5lZGl0LmZpbmQoeSA9PiB4LmVudGl0eSA9PT0geS5lbnRpdHkgJiYgeC50eXBlID09PSB5LnR5cGUgJiYgeC5tdWx0aUlkID09PSB5Lm11bHRpSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5lZGl0LnB1c2goeClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oei5jaGFuZ2VzLCB4LmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG5cbiAgICBpc051bGwoY29tbWFuZDogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKChjb21tYW5kLmFkZD8ubGVuZ3RoIHx8IDApICsgKGNvbW1hbmQucmVtb3ZlPy5sZW5ndGggfHwgMCkgIT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgZWRpdCBvZiBjb21tYW5kLmVkaXQgPz8gW10pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgaW4gZWRpdC5jaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRW50aXR5U3Bhd25QYWNrZXQoZW50aXR5OiBudW1iZXIpOiBGcm96ZW5FbnRpdHkgIHtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnc2VyaWFsaXplX2VudGl0eScsIGVudGl0eSk7XG4gICAgICAgIGxldCBjb21wb25lbnRzID0gdGhpcy53b3JsZC5nZXRBbGxDb21wb25lbnRzKGVudGl0eSk7XG5cbiAgICAgICAgbGV0IGNvbXBzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wb25lbnRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRJZ25vcmVDb21wb25lbnQwKGNvbXApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbXBzLnB1c2goZmlsdGVyQ29tcG9uZW50KGNvbXApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZW50aXR5LFxuICAgICAgICAgICAgY29tcG9uZW50czogY29tcHMsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG91bGRJZ25vcmVDb21wb25lbnQwKGNvbXBvbmVudDogQ29tcG9uZW50KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoKGNvbXBvbmVudCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIHx8ICF0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChjb21wb25lbnQudHlwZSk/LnN5bmM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZU51bGxhYmxlQXJyYXlzPFQ+KGE/OiBUW10sIGI/OiBUW10pOiBUW10gfCB1bmRlZmluZWQge1xuICAgIGlmIChhID09PSB1bmRlZmluZWQpIHJldHVybiBiO1xuICAgIGlmIChiID09PSB1bmRlZmluZWQpIHJldHVybiBhO1xuICAgIGEucHVzaCguLi5iKTtcbiAgICByZXR1cm4gYTtcbn1cblxuLy8gSSBoYXRlIEpTXG5mdW5jdGlvbiBjbG9uZTxUPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoeCkpO1xufSIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtIT1NUX0hJRERFTl9UWVBFfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZH0gZnJvbSBcIi4vc3Bhd25Db21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVTcGF3bkNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBraW5kOiAnZGVzcGF3bic7XG4gICAgZW50aXRpZXM6IG51bWJlcltdO1xufVxuXG5leHBvcnQgY2xhc3MgRGVTcGF3bkNvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnZGVzcGF3bic7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogRGVTcGF3bkNvbW1hbmQpOiBTcGF3bkNvbW1hbmQge1xuICAgICAgICBsZXQgc2F2ZWQgPSB0aGlzLndvcmxkLmRlc3Bhd25FbnRpdGllc1NhdmUoY21kLmVudGl0aWVzKTtcblxuICAgICAgICByZXR1cm4gIHtcbiAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllczogc2F2ZWQsXG4gICAgICAgIH0gYXMgU3Bhd25Db21tYW5kXG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogRGVTcGF3bkNvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICBsZXQgZW50aXRpZXMgPSBjb21tYW5kLmVudGl0aWVzLmZpbHRlcih4ID0+IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHgsIEhPU1RfSElEREVOX1RZUEUpID09PSB1bmRlZmluZWQpO1xuICAgICAgICBpZiAoZW50aXRpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgZW50aXRpZXMsXG4gICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmRdO1xuICAgIH1cblxuICAgIG1lcmdlKHRvOiBEZVNwYXduQ29tbWFuZCwgZnJvbTogRGVTcGF3bkNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgdG8uZW50aXRpZXMucHVzaCguLi5mcm9tLmVudGl0aWVzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IERlU3Bhd25Db21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb21tYW5kLmVudGl0aWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFdmVudENhbGwge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhcmdzOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBraW5kOiAnZXZlbnQnO1xuICAgIGRvOiBFdmVudENhbGw7XG4gICAgdW5kbzogRXZlbnRDYWxsO1xufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRDb21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ2V2ZW50JztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBFdmVudENvbW1hbmQpOiBFdmVudENvbW1hbmQge1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KGNtZC5kby5uYW1lLCAuLi5jbWQuZG8uYXJncyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6ICdldmVudCcsXG4gICAgICAgICAgICBkbzogY21kLnVuZG8sXG4gICAgICAgICAgICB1bmRvOiBjbWQuZG8sXG4gICAgICAgIH0gYXMgRXZlbnRDb21tYW5kO1xuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNvbW1hbmQ6IEV2ZW50Q29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIHJldHVybiBbY29tbWFuZF07XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IEV2ZW50Q29tbWFuZCwgZnJvbTogRXZlbnRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogRXZlbnRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9uZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBraW5kOiAnbm9uZSc7XG59XG5cbmV4cG9ydCBjbGFzcyBOb25lQ29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdub25lJztcblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogTm9uZUNvbW1hbmQpOiBOb25lQ29tbWFuZCB7XG4gICAgICAgIHJldHVybiBjbWQ7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogTm9uZUNvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IE5vbmVDb21tYW5kLCBmcm9tOiBOb25lQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7QW55TWFwVHlwZSwgV29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlRWRpdENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBraW5kOiAncmVkaXQnO1xuICAgIGFkZDogUmVzb3VyY2VbXTtcbiAgICBlZGl0OiB7W3R5cGU6IHN0cmluZ106IGFueX07XG4gICAgcmVtb3ZlOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlc291cmNlRWRpdENvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAncmVkaXQnO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBhcHBseUludmVydChjbWQ6IFJlc291cmNlRWRpdENvbW1hbmQpOiBSZXNvdXJjZUVkaXRDb21tYW5kIHtcbiAgICAgICAgbGV0IGludiA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdyZWRpdCcsXG4gICAgICAgICAgICBhZGQ6IFtdLFxuICAgICAgICAgICAgZWRpdDogW10sXG4gICAgICAgICAgICByZW1vdmU6IFtdLFxuICAgICAgICB9IGFzIFJlc291cmNlRWRpdENvbW1hbmQ7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY21kLmFkZCkge1xuICAgICAgICAgICAgaW52LnJlbW92ZS5wdXNoKGMudHlwZSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKGMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gY21kLmVkaXQpIHtcbiAgICAgICAgICAgIC8vIERhdGEgZ2V0cyBzd2FwcGVkIHdpdGggdGhlIGNoYW5nZXNcbiAgICAgICAgICAgIGxldCBkYXRhID0gY21kLmVkaXRbbmFtZV07XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShuYW1lLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpbnYuZWRpdCA9IGNtZC5lZGl0O1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5yZW1vdmUpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKGMpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGludi5hZGQucHVzaChyZXMpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVSZXNvdXJjZShjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52O1xuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNtZDogUmVzb3VyY2VFZGl0Q29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIGxldCBhZGQgPSBjbWQuYWRkLmZpbHRlcih4ID0+IHguX3N5bmMpO1xuICAgICAgICBsZXQgZWRpdCA9IHt9IGFzIEFueU1hcFR5cGU7XG5cbiAgICAgICAgbGV0IGVkaXRjID0gMDtcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBjbWQuZWRpdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UodHlwZSk/Ll9zeW5jKSB7XG4gICAgICAgICAgICAgICAgZWRpdGMgKz0gMTtcbiAgICAgICAgICAgICAgICBlZGl0W3R5cGVdID0gY21kLmVkaXRbdHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVtb3ZlID0gY21kLnJlbW92ZS5maWx0ZXIoeCA9PiB0aGlzLndvcmxkLmdldFJlc291cmNlKHgpPy5fc3luYyk7XG5cbiAgICAgICAgaWYgKGFkZC5sZW5ndGggKyBlZGl0YyArIHJlbW92ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgIGtpbmQ6ICdyZWRpdCcsXG4gICAgICAgICAgICBhZGQsIGVkaXQsIHJlbW92ZSxcbiAgICAgICAgfSBhcyBSZXNvdXJjZUVkaXRDb21tYW5kXVxuICAgIH1cblxuICAgIG1lcmdlKHRvOiBSZXNvdXJjZUVkaXRDb21tYW5kLCBmcm9tOiBSZXNvdXJjZUVkaXRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHRvLmFkZC5wdXNoKC4uLmZyb20uYWRkKVxuICAgICAgICB0by5yZW1vdmUucHVzaCguLi5mcm9tLnJlbW92ZSlcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBmcm9tLmVkaXQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlIGluIHRvLmVkaXQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRvLmVkaXRbdHlwZV0sIGZyb20uZWRpdFt0eXBlXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvLmVkaXRbdHlwZV0gPSBmcm9tLmVkaXRbdHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IFJlc291cmNlRWRpdENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGNvbW1hbmQuYWRkLmxlbmd0aCArIGNvbW1hbmQucmVtb3ZlLmxlbmd0aCAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGNvbW1hbmQuZWRpdCkge1xuICAgICAgICAgICAgZm9yIChsZXQgY2hhbmdlIGluIGNvbW1hbmQuZWRpdFt0eXBlXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0Zyb3plbkVudGl0aWVzLCBXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0hpZGVhYmxlQ29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi9kZXNwYXduQ29tbWFuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNwYXduQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdzcGF3bic7XG4gICAgZW50aXRpZXM6IEZyb3plbkVudGl0aWVzO1xufVxuXG5leHBvcnQgY2xhc3MgU3Bhd25Db21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ3NwYXduJztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBTcGF3bkNvbW1hbmQpOiBEZVNwYXduQ29tbWFuZCB7XG4gICAgICAgIGxldCBlbnRpdGllcyA9IGNtZC5lbnRpdGllcy5tYXAoKHgpID0+IHguaWQpO1xuICAgICAgICB0aGlzLndvcmxkLnJlc3Bhd25FbnRpdGllcyhjbWQuZW50aXRpZXMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllczogZW50aXRpZXMsXG4gICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogU3Bhd25Db21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgbGV0IG5ld19lbnRzID0gY29tbWFuZC5lbnRpdGllcy5maWx0ZXIoKHgpID0+IHguY29tcG9uZW50cy5maW5kKCh5KSA9PiB5LnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpID09PSB1bmRlZmluZWQpO1xuICAgICAgICBsZXQgbWFwX2VudHMgPSBuZXdfZW50cy5tYXAoeCA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiB4LmlkLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IHguY29tcG9uZW50cy5maWx0ZXIoeCA9PiAoeCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSAhPT0gZmFsc2UpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWFwX2VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgZW50aXRpZXM6IG1hcF9lbnRzLFxuICAgICAgICB9IGFzIFNwYXduQ29tbWFuZF07XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IFNwYXduQ29tbWFuZCwgZnJvbTogU3Bhd25Db21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHRvLmVudGl0aWVzLnB1c2goLi4uZnJvbS5lbnRpdGllcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBTcGF3bkNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbW1hbmQuZW50aXRpZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBIaWRlYWJsZUNvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge1dBTExfVFlQRSwgV2FsbENvbXBvbmVudCwgV2FsbFN5c3RlbX0gZnJvbSBcIi4vd2FsbFN5c3RlbVwiO1xuaW1wb3J0IHtyb3RhdGVQb2ludEJ5T3JpZ30gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2NvbGxpc2lvblwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7UkVNRU1CRVJfVFlQRX0gZnJvbSBcIi4vYmFjay9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFLCBMb2NhbExpZ2h0U2V0dGluZ3N9IGZyb20gXCIuL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0NvbXBvbmVudEVkaXRDb21tYW5kLCBzaW5nbGVFZGl0Q29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21wb25lbnRFZGl0XCI7XG5pbXBvcnQge2VtaXRDb21tYW5kLCBleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuXG5leHBvcnQgZW51bSBEb29yVHlwZSB7XG4gICAgTk9STUFMX0xFRlQgPSBcIm5vcm1hbGxcIixcbiAgICBOT1JNQUxfUklHSFQgPSBcIm5vcm1hbHJcIixcbiAgICBST1RBVEUgPSBcInJvdGF0ZVwiLFxufVxuXG5leHBvcnQgY29uc3QgRE9PUl9UWVBFID0gJ2Rvb3InO1xuZXhwb3J0IHR5cGUgRE9PUl9UWVBFID0gdHlwZW9mIERPT1JfVFlQRTtcblxuZXhwb3J0IGludGVyZmFjZSBEb29yQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50LCBIaWRlYWJsZUNvbXBvbmVudCB7XG4gICAgdHlwZTogRE9PUl9UWVBFO1xuICAgIGRvb3JUeXBlOiBEb29yVHlwZTtcbiAgICBsb2NrZWQ6IGJvb2xlYW47XG4gICAgb3BlbjogYm9vbGVhbjtcbiAgICBjbGllbnRWaXNpYmxlOiBib29sZWFuO1xuICAgIF9kaXNwbGF5PzogUElYSS5HcmFwaGljcztcbn1cblxuXG5leHBvcnQgY2xhc3MgRG9vclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBET09SX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgV0FMTF9UWVBFXTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxEb29yQ29tcG9uZW50PihET09SX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgcGl4aUJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgd2FsbFN5czogV2FsbFN5c3RlbTtcbiAgICBpc01hc3RlclZpZXc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGxheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG4gICAgZGlzcGxheUNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlY3M6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSBlY3M7XG5cbiAgICAgICAgdGhpcy5sYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIobmV3IFBJWEkuZGlzcGxheS5Hcm91cChMYXllck9yZGVyLkRFVEFJTFMsIGZhbHNlKSk7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzID0gZWNzLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICB0aGlzLndhbGxTeXMgPSBlY3Muc3lzdGVtcy5nZXQoV0FMTF9UWVBFKSBhcyBXYWxsU3lzdGVtO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICAgICAgaWYgKGVjcy5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2ludGVyYWN0JywgdGhpcy5vbkludGVyYWN0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZHJhd0NvbXBvbmVudChkb29yOiBEb29yQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBsZXQgdmlzaWJsZSA9IHRoaXMuaXNNYXN0ZXJWaWV3IHx8IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBSRU1FTUJFUl9UWVBFKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIGRvb3IuX2Rpc3BsYXk/LmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiB1c2UgaW50ZXJhY3Rpb24gc2hhcGU/IChtaWdodCBidWcgb3V0IG9uIHRyYW5zbGF0aW9ucylcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIHBvcy54LCBwb3MueSxcbiAgICAgICAgICAgIHBvcy54ICsgd2FsbC52ZWNbMF0sIHBvcy55ICsgd2FsbC52ZWNbMV1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMoZG9vciwgbGluZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3TGluZXMoZG9vcjogRG9vckNvbXBvbmVudCwgbGluZTogTGluZSk6IHZvaWQge1xuICAgICAgICBsZXQgZyA9IGRvb3IuX2Rpc3BsYXk7XG4gICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgZy5jbGVhcigpO1xuICAgICAgICBnLmxpbmVTdHlsZSgyLCAwLCAwLjUpO1xuICAgICAgICBzd2l0Y2ggKGRvb3IuZG9vclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGxpbmUuZGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIobGluZS50b1kgLSBsaW5lLmZyb21ZLCBsaW5lLnRvWCAtIGxpbmUuZnJvbVgpO1xuICAgICAgICAgICAgICAgIGlmIChkb29yLm9wZW4pIHN0YXJ0QW5nbGUgLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgZy5hcmMobGluZS5mcm9tWCwgbGluZS5mcm9tWSwgciwgc3RhcnRBbmdsZSwgc3RhcnRBbmdsZSArIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX1JJR0hUOiB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBsaW5lLmRpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKGxpbmUuZnJvbVkgLSBsaW5lLnRvWSwgbGluZS5mcm9tWCAtIGxpbmUudG9YKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvb3Iub3Blbikgc3RhcnRBbmdsZSAtPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgICAgICBnLmFyYyhsaW5lLnRvWCwgbGluZS50b1ksIHIsIHN0YXJ0QW5nbGUsIHN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLlJPVEFURToge1xuICAgICAgICAgICAgICAgIGxldCByID0gbGluZS5kaXN0YW5jZSgpIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgY3ggPSAobGluZS5mcm9tWCArIGxpbmUudG9YKSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IGN5ID0gKGxpbmUuZnJvbVkgKyBsaW5lLnRvWSkgLyAyO1xuICAgICAgICAgICAgICAgIGcuZHJhd0NpcmNsZShjeCwgY3ksIHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIGRvb3IgdHlwZTogXCIgKyBkb29yLmRvb3JUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkRvb3IoZG9vcjogRG9vckNvbXBvbmVudCwgZG9vclR5cGU6IERvb3JUeXBlLCBvcGVuOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBsZXQgbmV3UG9zID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbmV3VmVjID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHN3aXRjaCAoZG9vclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6IHtcbiAgICAgICAgICAgICAgICBuZXdWZWMgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguUEkgLyAyICogKG9wZW4gPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfUklHSFQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLlBJIC8gMiAqIChvcGVuID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICBuZXdQb3MgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiBwb3MueCArIHdhbGwudmVjWzBdLCB5OiBwb3MueSArIHdhbGwudmVjWzFdIH0sXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54LCB5OiBwb3MueSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG5ld1ZlYyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogd2FsbC52ZWNbMF0sIHk6IHdhbGwudmVjWzFdIH1cbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuUk9UQVRFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGh2eCA9IHdhbGwudmVjWzBdIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgaHZ5ID0gd2FsbC52ZWNbMV0gLyAyO1xuICAgICAgICAgICAgICAgIGxldCBvcmlnaW4gPSB7IHg6IHBvcy54ICsgaHZ4LCB5OiBwb3MueSArIGh2eSB9O1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IE1hdGguUEkgLyAyICogKG9wZW4gPyAxIDogLTEpO1xuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4sIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54LCB5OiBwb3MueSB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbmV3VmVjID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbiwgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogcG9zLnggKyB3YWxsLnZlY1swXSwgeTogcG9zLnkgKyB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBuZXdWZWMueCAtPSBuZXdQb3MueDtcbiAgICAgICAgICAgICAgICBuZXdWZWMueSAtPSBuZXdQb3MueTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIGRvb3IgdHlwZTogXCIgKyBkb29yVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHB4ID0gbmV3UG9zPy54ID8/IHBvcy54O1xuICAgICAgICBsZXQgcHkgPSBuZXdQb3M/LnkgPz8gcG9zLnk7XG4gICAgICAgIGxldCB2eCA9IG5ld1ZlYz8ueCA/PyB3YWxsLnZlY1swXTtcbiAgICAgICAgbGV0IHZ5ID0gbmV3VmVjPy55ID8/IHdhbGwudmVjWzFdO1xuICAgICAgICBsZXQgaW50ZXJzZWN0V2l0aCA9IHRoaXMud2FsbFN5cy5xdWVyeUludGVyc2VjdGlvbnMocHgsIHB5LCB2eCwgdnkpO1xuICAgICAgICBpZiAoIShpbnRlcnNlY3RXaXRoLmxlbmd0aCA9PT0gMCB8fCAoaW50ZXJzZWN0V2l0aC5sZW5ndGggPT09IDEgJiYgaW50ZXJzZWN0V2l0aFswXSA9PT0gZG9vci5lbnRpdHkpKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb29yIHN0dWNrXCIpO1xuICAgICAgICAgICAgLy8gQ29sbGlzaW9uLCBkb24ndCBzcGxpdCB0aGUgZG9vciBwbHMuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuXG4gICAgICAgIGlmIChuZXdQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGRvb3IuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBuZXdQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgeTogbmV3UG9zLnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdWZWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGRvb3IuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFdBTExfVFlQRSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHZlYzogW25ld1ZlYy54LCBuZXdWZWMueV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tbWl0IHRoZSBlZGl0cyBhdCB0aGUgc2FtZSB0aW1lIHRvIHByZXZlbnQgdGhlIHdhbGwgZnJvbSBiZWluZyBzcGxpdCAobXVsdGkgPSB0cnVlKVxuICAgICAgICAvLyAoaWYgd2UgY29tbWl0IHBvc2l0aW9uIGJlZm9yZSByb3RhdGlvbiBpdCBtaWdodCBjcmVhdGUgYW4gb3ZlcmxhcCBzaXR1YXRpb24gdGhhdCBzaG91bGRcbiAgICAgICAgLy8gbm90IGJlIHRoZXJlKS5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0OiBjaGFuZ2VzLFxuICAgICAgICAgICAgbXVsdGk6IHRydWUsXG4gICAgICAgIH0gYXMgQ29tcG9uZW50RWRpdENvbW1hbmQ7XG4gICAgICAgIC8vIFdoeSBhcmUgd2UgdXNpbmcgc2hhcmU/XG4gICAgICAgIC8vIFdlJ3JlIGVkaXRpbmcgYW5vdGhlciBzeW5jZWQgY29tcG9uZW50LCBidXQgdGhpcyAodGhlIGRvb3IpIG1pZ2h0IGJlIGhpZGRlbi5cbiAgICAgICAgLy8gSWYgdGhlIG1hc3RlciBvcGVucyBhIGhpZGRlbiBkb29yIHRoZSBcIm9wZW5cIiBtZXNzYWdlIHdpbGwgbm90IGJlIHNoYXJlZCBidXQgdGhlIGRvb3Igc2hvdWxkIHN0aWxsIG9wZW4gZm9yXG4gICAgICAgIC8vIHRoZSByb2xlcGxheWVycy5cbiAgICAgICAgLy8gQWRkZW5kdW06IHdoYXQgaWYgdGhlIGVudGl0eSBpcyBoaWRkZW4/IFRoZW4gdGhlIGNvbW1hbmQgd2lsbCBlZGl0IGEgaGlkZGVuIGVudGl0eSBzbyBpdCB3aWxsIGJlIHN0cmlwcGVkIGF3YXkuXG4gICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNtZCwgIWRvb3IuY2xpZW50VmlzaWJsZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGQuX2Rpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmFkZENoaWxkKGQuX2Rpc3BsYXkpO1xuICAgICAgICAgICAgLy8gRG8gTk9UIHJlLW9wZW4gdGhlIGRvb3IsIGlmIGl0IGlzIG9wZW4gaXQgbWVhbnMgdGhhdCBpdCBoYXMgYmVlbiBsb2FkZWQgZnJvbSBmaWxlIGFuZCB0aGUgd2FsbCBpc1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiB0aGUgXCJkb29yIG9wZW5cIiBzdGF0ZS4gQmFkIHNub3d5LCB3dGYgd2VyZSB5b3UgdGhpbmtpbmdcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuXG4gICAgICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAod2FsbCAhPT0gdW5kZWZpbmVkKSB3YWxsLl9kb250TWVyZ2UrKztcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFJFTUVNQkVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkb29yID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZG9vciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQoZG9vcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICgnb3BlbicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuRG9vcihkLCBkLmRvb3JUeXBlLCBkLm9wZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHdlbGwsIHRoaXMgZG9lcyBub3Qgd29yayByaWdodCB3aXRoIHRoZSBHVUlcbiAgICAgICAgICAgICAgICAgICAgZC5vcGVuID0gIWQub3BlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2Rvb3JUeXBlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Eb29yKGQsIGNoYW5nZWRbJ2Rvb3JUeXBlJ10sIGZhbHNlKSAmJiB0aGlzLm9wZW5Eb29yKGQsIGQuZG9vclR5cGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3dhbGwnKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBET09SX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkID0gY29tcCBhcyBEb29yQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBkLl9kaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgV0FMTF9UWVBFKSBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgd2FsbC5fZG9udE1lcmdlLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFICYmICd2aXNpb25UeXBlJyBpbiBlZGl0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNYXN0ZXJWaWV3ID0gKHJlcyBhcyBMb2NhbExpZ2h0U2V0dGluZ3MpLnZpc2lvblR5cGUgIT09ICdycCc7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25JbnRlcmFjdChlbnRpdGllczogbnVtYmVyW10pIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChkb29yID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGNtZCA9IHNpbmdsZUVkaXRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogIWRvb3Iub3BlbixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5yb290LmFkZENoaWxkKHRoaXMubGF5ZXIpO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5wYXJlbnRMYXllciA9IHRoaXMubGF5ZXI7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5hZGRDaGlsZCh0aGlzLmRpc3BsYXlDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuaXNNYXN0ZXJWaWV3ID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSkgYXMgTG9jYWxMaWdodFNldHRpbmdzKT8udmlzaW9uVHlwZSAhPT0gJ3JwJztcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIHRoaXMubGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufSIsImltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge2Rpc3RTcXVhcmVkMmQsIFBvaW50fSBmcm9tIFwiLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtHcmlkR3JhcGhpY2FsT3B0aW9ucywgR3JpZFR5cGUsIFNUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge0JPQVJEX1RSQU5TRk9STV9UWVBFLCBCb2FyZFRyYW5zZm9ybVJlc291cmNlLCBQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEV9IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge2NyZWF0ZUVtcHR5RHJpdmVyfSBmcm9tIFwiLi4vdG9vbHMvdXRpbHNcIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuXG5jb25zdCBTUVJUMyA9IE1hdGguc3FydCgzKTtcblxuZXhwb3J0IGNvbnN0IEdSSURfVFlQRSA9ICdncmlkJztcbmV4cG9ydCB0eXBlIEdSSURfVFlQRSA9ICdncmlkJztcblxuXG5leHBvcnQgY2xhc3MgR3JpZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEdSSURfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBTRUxFQ1RJT05fVFlQRSwgVE9PTF9UWVBFXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIGJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgc3ByaXRlOiBQSVhJLlRpbGluZ1Nwcml0ZTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ3JpZFJlczogR3JpZFJlc291cmNlO1xuICAgIHByaXZhdGUgaW50ZXJuYWxTY2FsZTogbnVtYmVyID0gMTtcblxuICAgIHBvc1g6IG51bWJlciA9IDA7XG4gICAgcG9zWTogbnVtYmVyID0gMDtcbiAgICBzY2FsZVg6IG51bWJlciA9IDE7XG4gICAgc2NhbGVZOiBudW1iZXIgPSAxO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5ib2FyZFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBsZXQgc2NyZWVuID0gdGhpcy5ib2FyZFN5cy5yZW5kZXJlci5zY3JlZW47XG5cbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUoUElYSS5UZXh0dXJlLkVNUFRZLCBzY3JlZW4ud2lkdGgsIHNjcmVlbi5oZWlnaHQpO1xuICAgICAgICB0aGlzLnNwcml0ZS56SW5kZXggPSBMYXllck9yZGVyLkdSSUQ7XG5cbiAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgIHRvb2xTeXMuYWRkVG9vbChjcmVhdGVFbXB0eURyaXZlcihUb29sLkdSSUQpKTtcblxuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfcmVtb3ZlJywgdGhpcy5vblJlc291cmNlUmVtb3ZlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmdyaWRSZXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHR5cGU6IEdSSURfVFlQRSxcbiAgICAgICAgICAgIF9zYXZlOiB0cnVlLFxuICAgICAgICAgICAgX3N5bmM6IHRydWUsXG4gICAgICAgIH0sIFNUQU5EQVJEX0dSSURfT1BUSU9OUykgIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5ncmlkUmVzKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVRleCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvcygpO1xuICAgIH1cblxuICAgIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlZDogYW55KSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFKSB7XG4gICAgICAgICAgICAvLyBSZWRyYXdcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvcygpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBCT0FSRF9UUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5vbkJvYXJkVHJhbnNmb3JtKHJlcyBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVzb3VyY2VSZW1vdmUocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgIT09IEdSSURfVFlQRSkgcmV0dXJuO1xuICAgICAgICB0aHJvdyAnRm9vbCEgVGhvdSBzaGFsbCBub3QgcmVtb3ZlIHRoeSBncmlkISdcbiAgICB9XG5cbiAgICBvbkJvYXJkVHJhbnNmb3JtKGRhdGE6IEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5wb3NYID0gZGF0YS5wb3NYO1xuICAgICAgICB0aGlzLnBvc1kgPSBkYXRhLnBvc1k7XG4gICAgICAgIHRoaXMuc2NhbGVYID0gZGF0YS5zY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGVZID0gZGF0YS5zY2FsZVk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgfVxuXG4gICAgb25SZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5zcHJpdGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVGV4KCkge1xuICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmdyaWRSZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zcHJpdGUudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZXggPSBkcmF3R3JpZFRleHR1cmUoNTEyLCB0aGlzLmdyaWRSZXMuZ3JpZFR5cGUsIHRoaXMuZ3JpZFJlcyk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTY2FsZSA9IHRoaXMuZ3JpZFJlcy5zaXplIC8gNTEyO1xuICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlID0gbmV3IFBJWEkuVGV4dHVyZSh0ZXgpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBvcygpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUudGlsZVNjYWxlLnNldCh0aGlzLnNjYWxlWCAqIHRoaXMuaW50ZXJuYWxTY2FsZSwgdGhpcy5zY2FsZVkgKiB0aGlzLmludGVybmFsU2NhbGUpO1xuICAgICAgICB0aGlzLnNwcml0ZS50aWxlUG9zaXRpb24uc2V0KHRoaXMucG9zWCArIHRoaXMuc2NhbGVYICogdGhpcy5ncmlkUmVzLm9mZlggICogdGhpcy5ncmlkUmVzLnNpemUgLCB0aGlzLnBvc1kgKyB0aGlzLnNjYWxlWSAqIHRoaXMuZ3JpZFJlcy5vZmZZICogdGhpcy5ncmlkUmVzLnNpemUpO1xuICAgIH1cblxuICAgIGNsb3Nlc3RQb2ludChwb2ludDogUG9pbnQpOiBQb2ludCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmdyaWRSZXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHBudCA9IG5ldyBQSVhJLlBvaW50KHBvaW50WzBdLCBwb2ludFsxXSk7XG4gICAgICAgIHRoaXMuc3ByaXRlLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBudCwgcG50KTtcblxuICAgICAgICBsZXQgcG9pbnRYID0gcG50LnggLyB0aGlzLmdyaWRSZXMuc2l6ZSAtIHRoaXMuZ3JpZFJlcy5vZmZYO1xuICAgICAgICBsZXQgcG9pbnRZID0gcG50LnkgLyB0aGlzLmdyaWRSZXMuc2l6ZSAtIHRoaXMuZ3JpZFJlcy5vZmZZO1xuXG4gICAgICAgIGxldCByZXNYOiBudW1iZXI7XG4gICAgICAgIGxldCByZXNZOiBudW1iZXI7XG4gICAgICAgIHN3aXRjaCAodGhpcy5ncmlkUmVzLmdyaWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIEdyaWRUeXBlLlNRVUFSRToge1xuICAgICAgICAgICAgICAgIGxldCBmeCA9IE1hdGguZmxvb3IocG9pbnRYKTtcbiAgICAgICAgICAgICAgICBsZXQgZnkgPSBNYXRoLmZsb29yKHBvaW50WSk7XG5cbiAgICAgICAgICAgICAgICByZXNYID0gZng7XG4gICAgICAgICAgICAgICAgcmVzWSA9IGZ5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50WCA+IGZ4ICsgMC41KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1ggKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50WSA+IGZ5ICsgMC41KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1kgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBbHNvIGNoZWNrIGdyaWQgY2VudGVyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RTcXVhcmVkMmQocG9pbnRYLCBwb2ludFksIGZ4ICsgMC41LCBmeSArIDAuNSkgPCBkaXN0U3F1YXJlZDJkKHBvaW50WCwgcG9pbnRZLCByZXNYLCByZXNZKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNYID0gZnggKyAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHJlc1kgPSBmeSArIDAuNTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHcmlkVHlwZS5IRVhBR09OOiB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGFsZ29yaXRobSBoZXJlIGlzIHF1aXRlIGNvbXBsZXggYW5kIEkgY291bGRuJ3QgZmluZCBhbnkgb2YgdGhpcyBvbmxpbmUsIHNvIHRoaXMgaXMgbXkgb3duIHNvbHV0aW9uOlxuICAgICAgICAgICAgICAgIC8vIChub3RlOiBoZXhhZ29uIHNpZGUgPSAxIGJlY2F1c2Ugb2YgdGhlIGluaXRpYWwgdHJhbnNmb3JtYXRpb24pLlxuICAgICAgICAgICAgICAgIC8vIEZpcnN0IHdlIGNhbiBub3RpY2UgdGhhdCBpZiB3ZSBjb2xvdXIgZWFjaCBwb2ludCBpbiBhIGRpZmZlcmVudCBjb2xvdXIgZGVwZW5kaW5nIG9uIHdoaWNoIHZlcnRleFxuICAgICAgICAgICAgICAgIC8vIGlzIGNsb3NlciB0byBoaW0gKGluIGEgaGV4YWdvbmFsIGdyaWQpIHdlIGZpbmQgYSBncmlkIG9mIGVxdWlsYXRlcmFsIHRyaWFuZ2xlcyBvZiBzaWRlIDEuXG4gICAgICAgICAgICAgICAgLy8gV2UgdGhlbiB0cmFuc2Zvcm0gb3VyIGdyaWQgYnkgMiAvIHNxcnQoMykgb24gdGhlIGhvcml6b250YWwgc2lkZSBzbyB0aGF0IHRoZSBoZWlnaHQgb2YgdGhlIHRyaWFuZ2xlc1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlaXIgYmFzZS5cbiAgICAgICAgICAgICAgICAvLyBXaXRoIHRoYXQgZG9uZSB3ZSBjYW4gcHV0IGEgc3F1YXJlIGdyaWQgb24gdG9wIG9mIG91ciB0cmlhbmdsZSBncmlkLCBlYWNoIHNxdWFyZSB3aWxsIGhvbGQgb25lXG4gICAgICAgICAgICAgICAgLy8gdHJpYW5nbGUgYXQgaXRzIGNlbnRlciBhbmQgdHdvIGhhbGZlcyBhdCB0aGUgdG9wIGFuZCBib3R0b20uXG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIHNlZSB3aGljaCBzcXVhcmUgdGhlIHBvaW50IGJlbG9uZ3MgdG8gYnkgZmxvb3JpbmcgdGhlIHRyYW5zZm9ybWVkIHggYW5kIHkgY29tcG9uZW50cywgdGhlblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBjaGVjayB3aGljaCB0cmlhbmdsZSB0aGUgcG9pbnRzIGJlbG9uZ3MgdG8gYnkgY2hlY2hpbmtnIGlmIHRoZSBwb2ludCBpcyBhYm92ZSBvciBiZWxvd1xuICAgICAgICAgICAgICAgIC8vIHRoZSBkaWFnb25hbCBsaW5lcyBvZiBlcXVhdGlvbjogeSA8IDAuNSAtIHgvMiBhbmQgeSA+IHgvMiArIDAuNVxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBlYWNoIHRyaWFuZ2xlIGNvbHVtbiBoYXMgaGFsZiBvZiBhIGhleGFnb24gc28gdGhlIG9kZC1vbmVzIHdpbGwgYmUgZmxpcHBlZC5cblxuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSAxIC8gU1FSVDM7Ly8gSGV4YWdvbiBTaWRlID0gMS9zcXJ0KDMpXG4gICAgICAgICAgICAgICAgbGV0IHB4ID0gKHBvaW50WCAtIHMgLyAyKSAqIDIgLyBTUVJUMzsvLyBhbGlnbiB0aGUgcG9pbnQgd2l0aCB0aGUgdHJpYW5nbGUgZ3JpZCwgYW5kIHRyYW5zZm9ybSB0aGUgZ3JpZFxuICAgICAgICAgICAgICAgIGxldCBweSA9IHBvaW50WTtcblxuICAgICAgICAgICAgICAgIGxldCBzeCA9IE1hdGguZmxvb3IocHgpO1xuICAgICAgICAgICAgICAgIGxldCBzeSA9IE1hdGguZmxvb3IocHkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGd4ID0gKHB4IC0gc3gpO1xuICAgICAgICAgICAgICAgIGxldCBneSA9IChweSAtIHN5KTtcblxuICAgICAgICAgICAgICAgIGxldCByeCA9IHN4ICogU1FSVDMgLyAyICsgcyAvIDI7XG4gICAgICAgICAgICAgICAgaWYgKHN4ICUgMiA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExlZnQgc2lkZSBoZXhhZ29uXG4gICAgICAgICAgICAgICAgICAgIGlmIChneSA8IDAuNSAtIGd4IC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcyAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3kgPiBneCAvIDIgKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeSArIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGbGlwcGVkIGhleGFnb246IHJpZ2h0IHNpZGUgaGV4LlxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3kgPiAxIC0gZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3kgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChneSA8IGd4IC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeSArIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHMgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwbnQuc2V0KFxuICAgICAgICAgICAgKHJlc1ggKyB0aGlzLmdyaWRSZXMub2ZmWCkgKiB0aGlzLmdyaWRSZXMuc2l6ZSxcbiAgICAgICAgICAgIChyZXNZICsgdGhpcy5ncmlkUmVzLm9mZlkpICogdGhpcy5ncmlkUmVzLnNpemVcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5zcHJpdGUud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBudCwgcG50KTtcblxuICAgICAgICByZXR1cm4gW3BudC54LCBwbnQueV07XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmJvYXJkU3lzLnJlbmRlcmVyLm9uKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLCB0aGlzKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIobmV3IFBJWEkuZGlzcGxheS5Hcm91cChMYXllck9yZGVyLkdSSUQsIGZhbHNlKSk7XG4gICAgICAgIHRoaXMuc3ByaXRlLnBhcmVudExheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuYm9hcmRTeXMucm9vdC5hZGRDaGlsZChsYXllciwgdGhpcy5zcHJpdGUpO1xuICAgICAgICBjb25zdCBzY3JlZW4gPSB0aGlzLmJvYXJkU3lzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgdGhpcy5vblJlc2l6ZShzY3JlZW4ud2lkdGgsIHNjcmVlbi5oZWlnaHQpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRFJBVyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBkcmF3R3JpZFRleHR1cmUoc2l6ZTogbnVtYmVyLCB0eXBlOiBHcmlkVHlwZSwgb3B0aW9uczogR3JpZEdyYXBoaWNhbE9wdGlvbnMpOiBQSVhJLkJhc2VUZXh0dXJlIHtcbiAgICBsZXQgY2FudmFzOiBJbWFnZURhdGE7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgR3JpZFR5cGUuSEVYQUdPTjpcbiAgICAgICAgICAgIGNhbnZhcyA9IGRyYXdIZXgoc2l6ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHcmlkVHlwZS5TUVVBUkU6XG4gICAgICAgICAgICBjYW52YXMgPSBkcmF3U3F1YXJlKHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGRyYXcgdW5rbm93biB0eXBlOiAnICsgdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gUElYSS5CYXNlVGV4dHVyZS5mcm9tQnVmZmVyKG5ldyBVaW50OEFycmF5KGNhbnZhcy5kYXRhLmJ1ZmZlciksIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdTcXVhcmUoc2l6ZTogbnVtYmVyLCBvcHQ6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogSW1hZ2VEYXRhIHtcbiAgICAvL2xldCBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHNpemUsIHNpemUpO1xuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBzaXplO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplO1xuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgIGN0eC5saW5lV2lkdGggPSBvcHQudGhpY2s7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3JUb0hleChvcHQuY29sb3IsIG9wdC5vcGFjaXR5KTtcblxuICAgIGN0eC5zdHJva2VSZWN0KDAsIDAsIHNpemUgKyAxLCBzaXplICsgMSk7XG4gICAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdIZXgoc2l6ZTogbnVtYmVyLCBvcHQ6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogSW1hZ2VEYXRhIHtcbiAgICBsZXQgcyA9IHNpemUgLyBTUVJUMzsvLyBTaWRlXG5cbiAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKDMgKiBzKTtcbiAgICAvL2xldCBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBzaXplKTtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHNpemU7XG4gICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuXG4gICAgbGV0IGQgPSBzaXplO1xuXG4gICAgY3R4LmxpbmVXaWR0aCA9IG9wdC50aGljaztcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAgY29sb3JUb0hleChvcHQuY29sb3IsIG9wdC5vcGFjaXR5KTtcblxuXG4gICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICBjdHgubGluZVRvKHMsIDApO1xuICAgIGN0eC5saW5lVG8ocyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygyICogcyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygzICogcywgMCk7XG4gICAgY3R4Lm1vdmVUbygwLCBkKTtcbiAgICBjdHgubGluZVRvKHMsIGQpO1xuICAgIGN0eC5saW5lVG8ocyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4Lm1vdmVUbygyICogcyArIHMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygzICogcywgZCk7XG5cbiAgICAvLyBMaW5lcyBiZWZvcmUgdGhlIGltYWdlOlxuICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgY3R4LmxpbmVUbygtcyAvIDIsIGQgLyAyKTtcbiAgICBjdHgubGluZVRvKDAsIGQpO1xuXG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIHNpemUpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvSGV4KGNvbG9yOiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuICcjJyArIGNvbG9yLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpXG4gICAgICAgICsgKCgyNTUgKiBvcGFjaXR5KSB8IDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIFBPU0lUSU9OX1RZUEUsIFBvc2l0aW9uQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge0NVU1RPTV9CTEVORF9NT0RFUywgREVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1N0dXBpZFBvaW50fSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcG9pbnRcIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnR9IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0ICogYXMgUG9pbnRMaWdodFJlbmRlciBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXJcIjtcbmltcG9ydCB7UExBWUVSX1RZUEUsIFBsYXllckNvbXBvbmVudH0gZnJvbSBcIi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge01lc2h9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1BpeGlCb2FyZFN5c3RlbSwgUElYSV9CT0FSRF9UWVBFfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IGhleDJyZ2IgPSBQSVhJLnV0aWxzLmhleDJyZ2I7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFN5c3RlbX0gZnJvbSBcIi4vYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge2NyZWF0ZUVtcHR5RHJpdmVyfSBmcm9tIFwiLi4vdG9vbHMvdXRpbHNcIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7TGF5ZXJPcmRlcn0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvbGF5ZXJPcmRlclwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CQUNLR1JPVU5EID0gMHg2ZTQ3MmM7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTID0ge1xuICAgIGFtYmllbnRMaWdodDogMHg1NTU1NTUsXG4gICAgYmFja2dyb3VuZDogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgIG5lZWRzTGlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgTElHSFRfVFlQRSA9ICdsaWdodCc7XG5leHBvcnQgdHlwZSBMSUdIVF9UWVBFID0gJ2xpZ2h0JztcbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IExJR0hUX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbiAgICByYW5nZTogbnVtYmVyO1xuXG4gICAgX2xpZ2h0RGlzcGxheT86IFBJWEkuTWVzaDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21QbGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBQbGF5ZXJDb21wb25lbnQge1xuICAgIF9saWdodFZpc2lvbkRpc3BsYXk/OiBQSVhJLk1lc2g7XG59XG5cbmV4cG9ydCBjb25zdCBMSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCB0eXBlIExJR0hUX1NFVFRJTkdTX1RZUEUgPSAnbGlnaHRfc2V0dGluZ3MnO1xuZXhwb3J0IGludGVyZmFjZSBMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgYW1iaWVudExpZ2h0OiBudW1iZXIsXG4gICAgbmVlZHNMaWdodDogYm9vbGVhbixcbiAgICBiYWNrZ3JvdW5kOiBudW1iZXIsXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IHRydWUsXG59XG5cbnR5cGUgVmlzaW9uVHlwZSA9ICdkbScgfCAncnAnO1xuXG5leHBvcnQgY29uc3QgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSA9ICdsb2NhbF9saWdodF9zZXR0aW5ncyc7XG5leHBvcnQgdHlwZSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgdmlzaW9uVHlwZTogVmlzaW9uVHlwZSxcbiAgICBfc2F2ZTogdHJ1ZSxcbiAgICBfc3luYzogZmFsc2UsXG59XG5cblxuLyoqXG4gKiBIb3cgaXMgbGlnaHQgcmVuZGVyZWQ/XG4gKiBUaGVyZSBhcmUgdGhyZWUgbG9naWNhbCBwYXNzZXMgb24gYSBzZXBhcmF0ZSBmcmFtZWJ1ZmZlci5cbiAqIFRoZW4gdGhpcyBmcmFtZWJ1ZmZlciBpcyBwYXN0ZWQgb250byB0aGUgcmVhbCBzY3JlZW4uXG4gKiAxLiBDbGVhciB0aGUgUkdCQSBjaGFubmVscyB3aXRoIHRoZSBhbWJpZW50IGxpZ2h0LlxuICogMi4gRHJhdyBvbmx5IGluIHRoZSBBTFBIQSBjaGFubmVsIGV2ZXJ5IHBsYXllciBtZXNoIChhY2hpZXZlZCBieSBzZXR0aW5nIHRoZSBjb2xvciB0byAwKVxuICogMy4gRHJhdyB0aGUgbGlnaHQgb25seSB3aGVyZSB0aGUgQUxQSEEgY2hhbm5lbCBpcyAxICh1c2luZyBhIGN1c3RvbSBibGVuZCBtb2RlKVxuICogNC4gRHJhdyB0aGUgZnJhbWVidWZmZXIgb24gdGhlIHNjcmVlbiBpZ25vcmluZyB0aGUgQUxQSEEgY2hhbm5lbCAodXNpbmcgYSBjdXN0b20gYmxlbmQgbW9kZSlcbiAqXG4gKiBXaHkgaXMgdGhpcyB1c2FnZSBvZiB0aGUgYWxwaGEgY2hhbm5lbCB1c2VkP1xuICogV2UgbmVlZCB0byByZW5kZXIgbGlnaHQgb25seSB3aGVyZSB2aXNpYmxlLCBzbyBpbiB0aGUgUlAtdmlldyB0aGUgcGxheWVycyB2aXNpb24gcG9seWdvbnMgc2hvdWxkIGJlIHVzZWQgYXMgYVxuICogbWFzayBmb3IgdGhlIGxpZ2h0ICh5b3UgY2FuJ3Qgc2VlIGEgbGlnaHQgdGhhdCBubyBwbGF5ZXIgc2VlcykuIFNvIHdoZW4gdGhlIFJQLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXNcbiAqIGNsZWFyZWQgd2l0aCBhbHBoYT0wIGFuZCB0aGUgcGxheWVyJ3MgdmlzaW9uIHdpbGwgZmlsbCBpbiB0aGUgYWxwaGEgKHRoZXkgc2hvdWxkIGJlIHJlbmRlcmVkIEJFRk9SRSB0aGUgbGlnaHRzKS5cbiAqIFdoZW4gdGhlIERNLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXMgcmVuZGVyZWQgd2l0aCBhbHBoYT0xIGFuZCB0aGUgcGxheWVyJ3MgdmlldyBpcyBub3QgZHJhd24uXG4gKlxuICogV2h5IGlzbid0IHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gcmVuZGVyaW5nIGJhdGNoZWQ/XG4gKiBXZSBuZWVkIHVuaWZvcm1zIGluIHRoZSBzaGFkZXJzIHRvIGtub3cgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGxpZ2h0IGNlbnRlcjogcmVtZW1iZXIgdGhhdCB2aXNpYmlsaXR5IG1lc2ggaXMgbm90IG9ubHlcbiAqIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24sIGl0IGFsc28gY2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgZm9ybSB0aGUgY2VudGVyIG9mIHRoZSBsaWdodCAodG8gcmVuZGVyIGEgcHJvcGVyIGNpcmNsZSkuXG4gKiBTbyB5ZWFoLCBubyBiYXRjaGVkIHVuaWZvcm1zIGluIFdlYkdMIGl0IHNlZW1zLiAoVE9ETzogZXhwbG9yZSBtb3JlIHBvc3NpYmlsaXRpZXMpXG4gKi9cbmV4cG9ydCBjbGFzcyBMaWdodFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IExJR0hUX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgUExBWUVSX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgYm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxMaWdodENvbXBvbmVudD4oTElHSFRfVFlQRSk7XG5cbiAgICBsaWdodExheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG4gICAgcGxheWVyQ29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcbiAgICBsaWdodENvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cbiAgICBsaWdodFNldHRpbmdzOiBMaWdodFNldHRpbmdzO1xuICAgIGxvY2FsTGlnaHRTZXR0aW5nczogTG9jYWxMaWdodFNldHRpbmdzO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5ib2FyZFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIHRoaXMubGlnaHRMYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIobmV3IFBJWEkuZGlzcGxheS5Hcm91cChMYXllck9yZGVyLkxJR0hULCBmYWxzZSkpO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgIHRvb2xTeXMuYWRkVG9vbChjcmVhdGVFbXB0eURyaXZlcihUb29sLkxJR0hUKSk7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLmxpZ2h0U2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHR5cGU6IExJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSwgX3N5bmM6IHRydWUsXG4gICAgICAgIH0sIERFRkFVTFRfTElHSFRfU0VUVElOR1MpIGFzIExpZ2h0U2V0dGluZ3M7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMubGlnaHRTZXR0aW5ncyk7XG4gICAgICAgIHRoaXMubG9jYWxMaWdodFNldHRpbmdzID0ge1xuICAgICAgICAgICAgdHlwZTogTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSxcbiAgICAgICAgICAgIHZpc2lvblR5cGU6IHRoaXMud29ybGQuaXNNYXN0ZXIgPyAnZG0nIDogJ3JwJyxcbiAgICAgICAgICAgIF9zYXZlOiB0cnVlLCBfc3luYzogZmFsc2UsXG4gICAgICAgIH0gYXMgTG9jYWxMaWdodFNldHRpbmdzO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncyk7XG5cbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlID8/IFNUQU5EQVJEX0dSSURfT1BUSU9OUykuc2l6ZTtcblxuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGlnaHRWaXNNZXNoKCk6IFBJWEkuTWVzaCB7XG4gICAgICAgIGxldCBtZXNoID0gUG9pbnRMaWdodFJlbmRlci5jcmVhdGVNZXNoKCk7XG5cbiAgICAgICAgbWVzaC5ibGVuZE1vZGUgPSBDVVNUT01fQkxFTkRfTU9ERVMuQUREX1dIRVJFX0FMUEhBXzE7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuYWRkQ2hpbGQobWVzaCk7XG5cbiAgICAgICAgcmV0dXJuIG1lc2g7XG4gICAgfVxuXG4gICAgY3JlYXRlUGxheWVyVmlzTWVzaCgpOiBQSVhJLk1lc2gge1xuICAgICAgICBsZXQgbWVzaCA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgncGxheWVyJyk7XG5cbiAgICAgICAgbWVzaC5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuYWRkQ2hpbGQobWVzaCk7XG5cbiAgICAgICAgcmV0dXJuIG1lc2g7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlzTWVzaChtZXNoOiBQSVhJLk1lc2gsIHBvczogU3R1cGlkUG9pbnQsIHBvbHk6IG51bWJlcltdKSB7XG4gICAgICAgIG1lc2gudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFBvbHlnb25zKG1lc2gsIHBvcywgcG9seSk7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlzVW5pZm9ybXMobWVzaDogUElYSS5NZXNoLCBjZW50ZXI6IFN0dXBpZFBvaW50LCByYW5nZVNxdWFyZWQ6IG51bWJlciwgY29sb3I6IG51bWJlcikge1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hVbmlmb3JtcyhtZXNoLCBjZW50ZXIsIHJhbmdlU3F1YXJlZCwgY29sb3IpO1xuICAgIH1cblxuICAgIGRpc2FibGVWaXNNZXNoKG1lc2g6IFBJWEkuTWVzaCkge1xuICAgICAgICBtZXNoLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNQb2x5Z29uKGVudGl0eTogbnVtYmVyLCB0YXJnZXQ6IE1lc2gsIGNvbG9yOiBudW1iZXIsIHBvcz86IFBvc2l0aW9uQ29tcG9uZW50LCB2aXM/OiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZpcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVZpc01lc2godGFyZ2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlzLnBvbHlnb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlVmlzTWVzaCh0YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzTWVzaCh0YXJnZXQsIHBvcywgdmlzLnBvbHlnb24pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNVbmlmb3Jtcyh0YXJnZXQsIHBvcywgcmFuZ2UgKiByYW5nZSwgY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlTGlnaHRWaXNQb2x5Z29uKGxpZ2h0OiBMaWdodENvbXBvbmVudCwgcG9zPzogUG9zaXRpb25Db21wb25lbnQsIHZpcz86IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51cGRhdGVWaXNQb2x5Z29uKGxpZ2h0LmVudGl0eSwgbGlnaHQuX2xpZ2h0RGlzcGxheSEsIGxpZ2h0LmNvbG9yLCBwb3MsIHZpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlUGxheWVyVmlzUG9seWdvbihwbGF5ZXI6IEN1c3RvbVBsYXllckNvbXBvbmVudCwgcG9zPzogUG9zaXRpb25Db21wb25lbnQsIHZpcz86IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5ID0gdGhpcy5jcmVhdGVQbGF5ZXJWaXNNZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVWaXNQb2x5Z29uKHBsYXllci5lbnRpdHksIHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5LCAwLCBwb3MsIHZpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gTElHSFRfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gY29tcCBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGxpZ2h0Ll9saWdodERpc3BsYXkgPSB0aGlzLmNyZWF0ZUxpZ2h0VmlzTWVzaCgpO1xuXG4gICAgICAgICAgICBsZXQgdmlzID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFZJU0lCSUxJVFlfVFlQRSxcbiAgICAgICAgICAgICAgICByYW5nZTogbGlnaHQucmFuZ2UsXG4gICAgICAgICAgICAgICAgdHJhY2tXYWxsczogdHJ1ZSxcbiAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGNvbXAuZW50aXR5LCB2aXMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMaWdodFZpc1BvbHlnb24obGlnaHQsIHVuZGVmaW5lZCwgdmlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gY29tcCBhcyBDdXN0b21QbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAocGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5ID0gdGhpcy5jcmVhdGVQbGF5ZXJWaXNNZXNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGxheWVyIGRvZXMgbm90IGhhdmUgYSB2aXNpYmlsaXR5IHR5cGVcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVyVmlzUG9seWdvbihwbGF5ZXIsIHVuZGVmaW5lZCwgdmlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gTElHSFRfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCdyYW5nZScgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgVklTSUJJTElUWV9UWVBFLCB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjLnJhbmdlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHZpcy5wb2x5Z29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNVbmlmb3JtcyhjLl9saWdodERpc3BsYXkhLCBwb3MsIHJhbmdlICogcmFuZ2UsIGMuY29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICghKCdwb2x5Z29uJyBpbiBjaGFuZ2VzKSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSAge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGlnaHRWaXNQb2x5Z29uKGxpZ2h0LCB1bmRlZmluZWQsIHZpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh2aXMuZW50aXR5LCBQTEFZRVJfVFlQRSkgYXMgQ3VzdG9tUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllclZpc1BvbHlnb24ocGxheWVyLCB1bmRlZmluZWQsIHZpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKGNvbXA6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gR1JJRF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoISgnc2l6ZScgaW4gY2hhbmdlZCkpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBncmlkID0gY29tcCBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZC5zaXplO1xuXG4gICAgICAgICAgICAvLyBXZSBkb24ndCByZWFsbHkgY2FyZSwgdGhlIHZpc2liaWxpdHkgcG9seWdvbnMgd2lsbCBjaGFuZ2Ugb24gdGhlaXIgb3duXG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBMSUdIVF9TRVRUSU5HU19UWVBFIHx8IGNvbXAudHlwZSA9PT0gTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGFyciA9IFswLjAsIDAuMCwgMC4wLCAwLjBdO1xuICAgICAgICAgICAgaWYgKHRoaXMubG9jYWxMaWdodFNldHRpbmdzLnZpc2lvblR5cGUgPT09ICdkbScpIGFyclszXSA9IDEuMDtcbiAgICAgICAgICAgIGhleDJyZ2IodGhpcy5saWdodFNldHRpbmdzLmFtYmllbnRMaWdodCwgYXJyKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRMYXllci5jbGVhckNvbG9yID0gYXJyO1xuXG4gICAgICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci52aXNpYmxlID0gdGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MudmlzaW9uVHlwZSAhPT0gJ2RtJztcblxuICAgICAgICAgICAgdGhpcy5ib2FyZFN5cy5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmxpZ2h0U2V0dGluZ3MuYmFja2dyb3VuZDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gTElHSFRfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gY29tcCBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGxpZ2h0Ll9saWdodERpc3BsYXk/LmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuXG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudCh2aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBsaWdodCB2aXNpYmlsaXR5IGZvdW5kIG9uIHJlbW92YWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IGNvbXAgYXMgQ3VzdG9tUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXk/LmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnNldHVwKCk7XG5cbiAgICAgICAgdGhpcy5saWdodExheWVyLnVzZVJlbmRlclRleHR1cmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodExheWVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIGxldCBsaWdodFN5c3RlbSA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoTElHSFRfVFlQRSkgYXMgTGlnaHRTeXN0ZW07XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLnBhcmVudExheWVyID0gbGlnaHRTeXN0ZW0ubGlnaHRMYXllcjtcblxuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyLnBhcmVudExheWVyID0gdGhpcy5saWdodExheWVyXG5cbiAgICAgICAgdGhpcy5vblJlc291cmNlRWRpdGVkKHRoaXMubGlnaHRTZXR0aW5ncywge30pOy8vIFVwZGF0ZSB0aGUgY2xlYXJDb2xvclxuXG4gICAgICAgIGxldCBsaWdodGluZ1Nwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLmxpZ2h0TGF5ZXIuZ2V0UmVuZGVyVGV4dHVyZSgpKTtcbiAgICAgICAgbGlnaHRpbmdTcHJpdGUuYmxlbmRNb2RlID0gQ1VTVE9NX0JMRU5EX01PREVTLk1VTFRJUExZX0NPTE9SX09OTFk7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLnpJbmRleCA9IExheWVyT3JkZXIuTElHSFQ7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICBsZXQgYm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIGJvYXJkLmJvYXJkLmFkZENoaWxkKHRoaXMucGxheWVyQ29udGFpbmVyLCB0aGlzLmxpZ2h0Q29udGFpbmVyLCB0aGlzLmxpZ2h0TGF5ZXIpO1xuICAgICAgICB0aGlzLmJvYXJkU3lzLnJvb3QuYWRkQ2hpbGQobGlnaHRpbmdTcHJpdGUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEZPTExPV19NT1VTRV9UWVBFLFxuICAgIEZvbGxvd01vdXNlQ29tcG9uZW50LFxuICAgIEhPU1RfSElEREVOX1RZUEUsXG4gICAgSG9zdEhpZGRlbkNvbXBvbmVudCxcbiAgICBQT1NJVElPTl9UWVBFLFxuICAgIFBvc2l0aW9uQ29tcG9uZW50XG59IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sRHJpdmVyLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgQk9BUkRfVFJBTlNGT1JNX1RZUEUsXG4gICAgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSxcbiAgICBQSVhJX0JPQVJEX1RZUEUsXG4gICAgUGl4aUJvYXJkU3lzdGVtLFxuICAgIFBvaW50ZXJDbGlja0V2ZW50XG59IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtcbiAgICBORVRXT1JLX0VOVElUWV9UWVBFLFxuICAgIE5FVFdPUktfU1RBVFVTX1RZUEUsXG4gICAgTkVUV09SS19UWVBFLCBOZXR3b3JrRW50aXR5Q29tcG9uZW50LFxuICAgIE5ldHdvcmtTdGF0dXNSZXNvdXJjZSwgTmV0d29ya1N5c3RlbSxcbn0gZnJvbSBcIi4vYmFjay9uZXR3b3JrU3lzdGVtXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cbmltcG9ydCBUcmFpbEltYWdlIGZyb20gXCJQdWJsaWMvaW1hZ2VzL3RyYWlsLnBuZ1wiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgKiBhcyBQIGZyb20gXCIuLi8uLi9wcm90b2NvbC9nYW1lXCI7XG5pbXBvcnQge1BhY2tldENvbnRhaW5lcn0gZnJvbSBcIi4uLy4uL3Byb3RvY29sL3BhY2tldFwiO1xuXG5leHBvcnQgY29uc3QgTU9VU0VfVFJBSUxfVFlQRSA9ICdtb3VzZV90cmFpbCc7XG5leHBvcnQgdHlwZSBNT1VTRV9UUkFJTF9UWVBFID0gdHlwZW9mIE1PVVNFX1RSQUlMX1RZUEU7XG5cbmNvbnN0IFJPUEVfU0laRSA9IDEwMDtcbmNvbnN0IEhJU1RPUllfU0laRSA9IDIwO1xuY29uc3QgU0VORF9ISVNUT1JZX0FGVEVSX01TID0gMTAwO1xuXG4vLyBUT0RPOiBkb24ndCB1c2UgdGlja2VyLCB1c2UgcmVhbCB3b3JsZCBjbG9ja1xuLy8gVE9ETzogYmV0dGVyIGludGVycG9sYXRpb24gc3lzdGVtLCBpdCBzaG91bGQgdGFrZSB0aW1lIGludG8gYWNjb3VudCAocmlnaHQ/KVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdXNlVHJhaWxDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IE1PVVNFX1RSQUlMX1RZUEU7XG5cbiAgICBmdXR1cmV4eTogbnVtYmVyW10sLy8gaW50ZXJsZWF2ZWQgW3gxLCB5MSwgeDIsIHkyXVxuICAgIGhpc3Rvcnl4OiBudW1iZXJbXTtcbiAgICBoaXN0b3J5eTogbnVtYmVyW107XG4gICAgbGFzdGlucHV0OiBudW1iZXIsLy8gaG93IG1hbnkgZnJhbWVzIGhhdmUgcGFzc2VkIHNpbmNlIGFuIGlucHV0XG4gICAgX2c6IFBJWEkuU2ltcGxlUm9wZTtcbn1cblxuXG5leHBvcnQgY2xhc3MgTW91c2VUcmFpbFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IE1PVVNFX1RSQUlMX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1RPT0xfVFlQRSwgUElYSV9CT0FSRF9UWVBFLCBORVRXT1JLX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IHBpeGlCb2FyZFN5czogUGl4aUJvYXJkU3lzdGVtO1xuICAgIHJlYWRvbmx5IG5ldHdvcmtTeXM6IE5ldHdvcmtTeXN0ZW07XG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8TW91c2VUcmFpbENvbXBvbmVudD4oTU9VU0VfVFJBSUxfVFlQRSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIG5ldHdvcmtTdGF0dXNSZXNvdXJjZT86IE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcblxuICAgIGxheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG4gICAgY29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcblxuICAgIHByaXZhdGUgdGV4OiBQSVhJLlRleHR1cmU7XG4gICAgcHJpdmF0ZSBib2FyZFNjYWxlOiBudW1iZXIgPSAxO1xuXG4gICAgcHJpdmF0ZSB0b1VwZGF0ZTogbnVtYmVyW10gPSBbXTtcblxuICAgIC8vIG91ciBcImZ1dHVyZVwiIHRvIHNlbmQgdG8gb3RoZXJzICh5ZXMgaXQgd2lsbCBoYXZlIDEwMG1zIGxhdGVuY3kpXG4gICAgcHJpdmF0ZSBzZWxmRnV0dXJlOiBudW1iZXJbXSA9IFtdO1xuICAgIC8vIGxhc3QgdGltZSB3ZSBzZW50IGEgZnV0dXJlXG4gICAgcHJpdmF0ZSBmdXR1cmVMYXN0U2VuZDogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICB0aGlzLm5ldHdvcmtTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KE5FVFdPUktfVFlQRSkgYXMgTmV0d29ya1N5c3RlbTtcblxuICAgICAgICB0aGlzLmxheWVyID0gbmV3IFBJWEkuZGlzcGxheS5MYXllcihuZXcgUElYSS5kaXNwbGF5Lkdyb3VwKExheWVyT3JkZXIuVE9PTFMsIGZhbHNlKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLy8gQWRkIHN5c3RlbVxuICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgdG9vbFN5cy5hZGRUb29sKG5ldyBNb3VzZVRyYWlsVG9vbERyaXZlcih0aGlzKSk7XG5cbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcblxuICAgICAgICAvLyBQYWludCB0ZXh0dXJlXG4gICAgICAgIHRoaXMudGV4ID0gUElYSS5UZXh0dXJlLmZyb20oVHJhaWxJbWFnZSk7XG4gICAgfVxuXG4gICAgb25TZWxmSW5wdXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbmV0cmVzID0gdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UhITtcbiAgICAgICAgdGhpcy5vbkZ1dHVyZShuZXRyZXMubXlJZCwgW3gsIHldKTtcbiAgICB9XG5cbiAgICBvbkZ1dHVyZShzZW5kZXJOZXRJZDogbnVtYmVyLCBtb3ZlczogbnVtYmVyW10pIHtcbiAgICAgICAgY29uc3QgbmV0cmVzID0gdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UhITtcbiAgICAgICAgY29uc3QgZW50aXR5SWQgPSBuZXRyZXMuZW50aXR5SW5kZXguZ2V0KHNlbmRlck5ldElkKTtcbiAgICAgICAgaWYgKGVudGl0eUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCBmaW5kIGVudGl0eSBvZiBuZXR3b3JrIHBsYXllciBcIiArIHNlbmRlck5ldElkLCBuZXRyZXMuZW50aXR5SW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eUlkKSEhO1xuXG4gICAgICAgIGlmIChtb3Zlcy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDbGllbnQgXCIgKyBzZW5kZXJOZXRJZCArIFwiIHNlbnQgdW5hbGlnbmVkIHh5IG1vdmVzXCIpO1xuICAgICAgICAgICAgbW92ZXMubGVuZ3RoID0gbW92ZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZnV0dXJleHkucHVzaCguLi5tb3Zlcyk7XG4gICAgICAgIGlmICh0aGlzLnRvVXBkYXRlLmluZGV4T2YoZW50aXR5SWQpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy50b1VwZGF0ZS5wdXNoKGVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU2ltcGxlUm9wZSgpOiBQSVhJLlNpbXBsZVJvcGUge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBuZXcgQXJyYXk8UElYSS5Qb2ludD4oUk9QRV9TSVpFKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBST1BFX1NJWkU7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRzW2ldID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5TaW1wbGVSb3BlKHRoaXMudGV4LCBwb2ludHMpO1xuICAgICAgICAocm9wZSBhcyBhbnkpLmJsZW5kbW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHJvcGUpO1xuXG4gICAgICAgIHJldHVybiByb3BlO1xuICAgIH1cblxuICAgICB1cGRhdGVSb3BlKGM6IE1vdXNlVHJhaWxDb21wb25lbnQsIG5ldHdFbnRpdHk6IE5ldHdvcmtFbnRpdHlDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgcm9wZSA9IGMuX2c7XG4gICAgICAgIGNvbnN0IGdlb20gPSByb3BlLmdlb21ldHJ5IGFzIFBJWEkuUm9wZUdlb21ldHJ5O1xuICAgICAgICBjb25zdCByb3BlUG9pbnRzID0gZ2VvbS5wb2ludHM7XG5cbiAgICAgICAgY29uc3QgaGlzdG9yeVNpemUgPSBjLmhpc3Rvcnl4Lmxlbmd0aDtcbiAgICAgICAgY29uc3Qgcm9wZVNpemUgPSByb3BlUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3BlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gcm9wZVBvaW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgeCA9IGN1YmljSW50ZXJwb2xhdGlvbihjLmhpc3Rvcnl4LCBpIC8gcm9wZVNpemUgKiBoaXN0b3J5U2l6ZSkgKiB0aGlzLmJvYXJkU2NhbGU7XG4gICAgICAgICAgICBjb25zdCB5ID0gY3ViaWNJbnRlcnBvbGF0aW9uKGMuaGlzdG9yeXksIGkgLyByb3BlU2l6ZSAqIGhpc3RvcnlTaXplKSAqIHRoaXMuYm9hcmRTY2FsZTtcblxuICAgICAgICAgICAgcC54ID0geDtcbiAgICAgICAgICAgIHAueSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgcm9wZS5zY2FsZS5zZXQoMS90aGlzLmJvYXJkU2NhbGUpO1xuXG4gICAgICAgIGdlb20udXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgaWYgKG5ldHdFbnRpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV0d0VudGl0eSA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBORVRXT1JLX0VOVElUWV9UWVBFKSBhcyBOZXR3b3JrRW50aXR5Q29tcG9uZW50O1xuICAgICAgICB9XG4gICAgICAgIHJvcGUudGludCA9IG5ldHdFbnRpdHkuY29sb3I7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uU2VsZlBvc2l0aW9uKHBvc3g6IG51bWJlciwgcG9zeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2VsZkZ1dHVyZS5wdXNoKHBvc3gsIHBvc3kpO1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5mdXR1cmVMYXN0U2VuZCArIFNFTkRfSElTVE9SWV9BRlRFUl9NUyA8IG5vdykge1xuICAgICAgICAgICAgY29uc3QgcGt0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtdHJhaWwnLFxuICAgICAgICAgICAgICAgIGZ1dDogdGhpcy5zZWxmRnV0dXJlLFxuICAgICAgICAgICAgfSBhcyBQLk1vdXNlVHJhaWxQYWNrZXQ7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtTeXMuY2hhbm5lbC5icm9hZGNhc3QocGt0KTtcbiAgICAgICAgICAgIHRoaXMuc2VsZkZ1dHVyZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mdXR1cmVMYXN0U2VuZCA9IG5vdztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25UaWNrKCkge1xuICAgICAgICBpZiAodGhpcy50b1VwZGF0ZS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBsZXQgbmV0cmVzID0gdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UhITtcbiAgICAgICAgY29uc3QgbXlFbnRpdHlJZCA9IG5ldHJlcy5lbnRpdHlJbmRleC5nZXQobmV0cmVzLm15SWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b1VwZGF0ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy50b1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHRyYWlsID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHByZXZ4ID0gdHJhaWwuaGlzdG9yeXhbSElTVE9SWV9TSVpFIC0gMV07XG4gICAgICAgICAgICBsZXQgcHJldnkgPSB0cmFpbC5oaXN0b3J5eVtISVNUT1JZX1NJWkUgLSAxXTtcblxuICAgICAgICAgICAgbGV0IG5leHR4ID0gcHJldng7XG4gICAgICAgICAgICBsZXQgbmV4dHkgPSBwcmV2eTtcbiAgICAgICAgICAgIGxldCBkaWZmZXJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0cmFpbC5mdXR1cmV4eS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBuZXh0eCA9IHRyYWlsLmZ1dHVyZXh5WzBdO1xuICAgICAgICAgICAgICAgIG5leHR5ID0gdHJhaWwuZnV0dXJleHlbMV07XG4gICAgICAgICAgICAgICAgdHJhaWwuZnV0dXJleHkuc3BsaWNlKDAsIDIpO1xuICAgICAgICAgICAgICAgIGRpZmZlcmVudCA9IE1hdGguYWJzKG5leHR4IC0gcHJldngpICsgTWF0aC5hYnMobmV4dHkgLSBwcmV2eSkgPiBOdW1iZXIuRVBTSUxPTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRpdHkgPT09IG15RW50aXR5SWQgJiYgdHJhaWwubGFzdGlucHV0IDwgSElTVE9SWV9TSVpFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNlbGZQb3NpdGlvbihuZXh0eCwgbmV4dHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFpbC5oaXN0b3J5eC5wb3AoKTtcbiAgICAgICAgICAgIHRyYWlsLmhpc3Rvcnl5LnBvcCgpO1xuICAgICAgICAgICAgdHJhaWwuaGlzdG9yeXgudW5zaGlmdChuZXh0eCk7XG4gICAgICAgICAgICB0cmFpbC5oaXN0b3J5eS51bnNoaWZ0KG5leHR5KTtcblxuICAgICAgICAgICAgaWYgKGRpZmZlcmVudCkge1xuICAgICAgICAgICAgICAgIHRyYWlsLmxhc3RpbnB1dCA9IDA7XG4gICAgICAgICAgICAgICAgdHJhaWwuX2cudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIHVwZGF0ZSBoYXMgYmVlbiBmb3VuZCBpbiB0aGUgbGFzdCAyMCBmcmFtZXMgcmVtb3ZlIHRoZSBwbGF5ZXIgZnJvbSB0aGUgdXBkYXRlIGxpc3RcbiAgICAgICAgICAgICAgICAvLyBpdCB3aWxsIGJlIHJlLWFkZGVkIGlmIHdlIGdldCBhbm90aGVyIGNoYW5nZVxuICAgICAgICAgICAgICAgIHRyYWlsLmxhc3RpbnB1dCArPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0cmFpbC5sYXN0aW5wdXQgPiBISVNUT1JZX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b1VwZGF0ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWlsLl9nLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUm9wZSh0cmFpbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5FVFdPUktfRU5USVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IF9nID0gdGhpcy5jcmVhdGVTaW1wbGVSb3BlKCk7XG4gICAgICAgICAgICBjb25zdCBjb20gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTU9VU0VfVFJBSUxfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgICAgICBoaXN0b3J5eDogbmV3IEFycmF5KEhJU1RPUllfU0laRSkuZmlsbCgwKSxcbiAgICAgICAgICAgICAgICBoaXN0b3J5eTogbmV3IEFycmF5KEhJU1RPUllfU0laRSkuZmlsbCgwKSxcbiAgICAgICAgICAgICAgICBmdXR1cmV4eTogW10sXG4gICAgICAgICAgICAgICAgbGFzdGlucHV0OiBISVNUT1JZX1NJWkUsXG4gICAgICAgICAgICAgICAgX2csXG4gICAgICAgICAgICB9IGFzIE1vdXNlVHJhaWxDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUm9wZShjb20sIGMgYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBNT1VTRV9UUkFJTF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgTW91c2VUcmFpbENvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVSb3BlKGMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gTkVUV09SS19FTlRJVFlfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCdjb2xvcicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG10YyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChtdGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJvcGUobXRjLCBjb21wIGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IE1PVVNFX1RSQUlMX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBNb3VzZVRyYWlsQ29tcG9uZW50O1xuICAgICAgICAgICAgYy5fZy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYW5nZVNjYWxlcygpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJvcGUoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkU2NhbGUgPSAocmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpLnNjYWxlWCB8fCAxO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTY2FsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZVRyYWlsUGFja2V0KHBrdDogUC5Nb3VzZVRyYWlsUGFja2V0LCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICB0aGlzLm9uRnV0dXJlKGNvbnRhaW5lci5zZW5kZXIsIHBrdC5mdXQpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxheWVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMucm9vdC5hZGRDaGlsZCh0aGlzLmxheWVyKTtcblxuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5hZGRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5wYXJlbnRMYXllciA9IHRoaXMubGF5ZXI7XG5cbiAgICAgICAgdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKE5FVFdPUktfU1RBVFVTX1RZUEUpIGFzIE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcblxuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLnRpY2tlci5hZGQodGhpcy5vblRpY2ssIHRoaXMpO1xuICAgICAgICB0aGlzLm5ldHdvcmtTeXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub24oJ210cmFpbCcsIHRoaXMub25Nb3VzZVRyYWlsUGFja2V0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLm5ldHdvcmtTeXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub2ZmKCdtdHJhaWwnLCB0aGlzLm9uTW91c2VUcmFpbFBhY2tldCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLnRpY2tlci5yZW1vdmUodGhpcy5vblRpY2ssIHRoaXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlVHJhaWxUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuTU9VU0VfVFJBSUw7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IE1vdXNlVHJhaWxTeXN0ZW07XG5cbiAgICBmb2xsb3dlcjogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IE1vdXNlVHJhaWxTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdEZvbGxvd2VyKCkge1xuICAgICAgICB0aGlzLmtpbGxGb2xsb3dlcigpO1xuXG4gICAgICAgIHRoaXMuZm9sbG93ZXIgPSB0aGlzLnN5cy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAga2lsbEZvbGxvd2VyKCkge1xuICAgICAgICBpZiAodGhpcy5mb2xsb3dlciA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5mb2xsb3dlcik7XG4gICAgICAgICAgICB0aGlzLmZvbGxvd2VyID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVGljaygpIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5zeXMud29ybGQuZ2V0Q29tcG9uZW50KHRoaXMuZm9sbG93ZXIsIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShwb3MueCkgfHwgIU51bWJlci5pc0Zpbml0ZShwb3MueSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5zeXMub25TZWxmSW5wdXQocG9zLngsIHBvcy55KTtcbiAgICB9XG5cblxuICAgIG9uU3RhcnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5pdEZvbGxvd2VyKCk7XG4gICAgICAgIHRoaXMuc3lzLnBpeGlCb2FyZFN5cy50aWNrZXIuYWRkKHRoaXMub25UaWNrLCB0aGlzLCBQSVhJLlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICB9XG5cbiAgICBvbkVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zeXMucGl4aUJvYXJkU3lzLnRpY2tlci5yZW1vdmUodGhpcy5vblRpY2ssIHRoaXMpO1xuICAgICAgICB0aGlzLmtpbGxGb2xsb3dlcigpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICAvLyBub3RoaW5nIGZvciBub3dcbiAgICB9XG59XG5cblxuLyoqXG4gKiBDdWJpYyBpbnRlcnBvbGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9vc3V1c2hpL1Ntb290aC5qc1xuICovXG5mdW5jdGlvbiBjbGlwSW5wdXQ8WD4oazogbnVtYmVyLCBhcnI6IFhbXSk6IFgge1xuICAgIGlmIChrIDwgMCkgayA9IDA7XG4gICAgaWYgKGsgPiBhcnIubGVuZ3RoIC0gMSkgayA9IGFyci5sZW5ndGggLSAxO1xuICAgIHJldHVybiBhcnJba107XG59XG5cbmZ1bmN0aW9uIGdldFRhbmdlbnQoazogbnVtYmVyLCBmYWN0b3I6IG51bWJlciwgYXJyYXk6IG51bWJlcltdKSB7XG4gICAgcmV0dXJuIGZhY3RvciAqIChjbGlwSW5wdXQoayArIDEsIGFycmF5KSAtIGNsaXBJbnB1dChrIC0gMSwgYXJyYXkpKSAvIDI7XG59XG5cbmZ1bmN0aW9uIGN1YmljSW50ZXJwb2xhdGlvbihhcnJheTogbnVtYmVyW10sIHQ6IG51bWJlciwgdGFuZ2VudEZhY3RvcjogbnVtYmVyID0gMSkge1xuICAgIGNvbnN0IGsgPSBNYXRoLmZsb29yKHQpO1xuICAgIGNvbnN0IG0gPSBbZ2V0VGFuZ2VudChrLCB0YW5nZW50RmFjdG9yLCBhcnJheSksIGdldFRhbmdlbnQoayArIDEsIHRhbmdlbnRGYWN0b3IsIGFycmF5KV07XG4gICAgY29uc3QgcCA9IFtjbGlwSW5wdXQoaywgYXJyYXkpLCBjbGlwSW5wdXQoayArIDEsIGFycmF5KV07XG4gICAgdCAtPSBrO1xuICAgIGNvbnN0IHQyID0gdCAqIHQ7XG4gICAgY29uc3QgdDMgPSB0ICogdDI7XG4gICAgcmV0dXJuICgyICogdDMgLSAzICogdDIgKyAxKSAqIHBbMF0gKyAodDMgLSAyICogdDIgKyB0KSAqIG1bMF0gKyAoLTIgKiB0MyArIDMgKiB0MikgKiBwWzFdICsgKHQzIC0gdDIpICogbVsxXTtcbn1cblxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgSE9TVF9ISURERU5fVFlQRSxcbiAgICBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZSwgR1JBUEhJQ19UWVBFLCBHcmFwaGljQ29tcG9uZW50LCBQb2ludEVsZW1lbnQsIFRleHRFbGVtZW50LCBWaXNpYmlsaXR5VHlwZX0gZnJvbSBcIi4uLy4uL2dyYXBoaWNzXCI7XG5pbXBvcnQge1BPSU5UX1JBRElVU30gZnJvbSBcIi4vYmFjay9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sRHJpdmVyLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7UG9pbnRlckNsaWNrRXZlbnR9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2V4ZWN1dGVBbmRMb2dDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7ZmluZEZvcmVncm91bmQsIFBBUkVOVF9MQVlFUl9UWVBFLCBQYXJlbnRMYXllckNvbXBvbmVudH0gZnJvbSBcIi4vYmFjay9sYXllclN5c3RlbVwiO1xuXG5leHBvcnQgY29uc3QgUElOX1RZUEUgPSAncGluJztcbmV4cG9ydCB0eXBlIFBJTl9UWVBFID0gdHlwZW9mIFBJTl9UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBpbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUElOX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbiAgICBsYWJlbD86IHN0cmluZztcbn1cblxuXG5leHBvcnQgY2xhc3MgUGluU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gUElOX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1RPT0xfVFlQRSwgR1JBUEhJQ19UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGluQ29tcG9uZW50PihQSU5fVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIGlmICh3b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2wobmV3IENyZWF0ZVBpblRvb2xEcml2ZXIodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gUElOX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IHBpbiA9IGMgYXMgUGluQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgZGlzcGxheSA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgIGlmIChkaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRpc3BsYXkgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5jcmVhdGVFbGVtZW50KClcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBkaXNwbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChwaW4sIGRpc3BsYXkuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUElOX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwaW4gPSBjb21wIGFzIFBpbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgbGV0IGdyYXBjID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwaW5EaXNwbGF5ID0gZ3JhcGMuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChwaW4sIHBpbkRpc3BsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpOiBQb2ludEVsZW1lbnQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuUE9JTlQsXG4gICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuUElOUyxcbiAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5OT1JNQUwsXG4gICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIH0gYXMgUG9pbnRFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVkcmF3Q29tcG9uZW50KHBpbjogUGluQ29tcG9uZW50LCBkaXNwbGF5OiBQb2ludEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgZGlzcGxheS5jb2xvciA9IHBpbi5jb2xvcjtcblxuICAgICAgICBpZiAocGluLmxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5LmNoaWxkcmVuIS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5Ll9jaGlsZHJlbkFkZCA9IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLlRFWFQsXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5OT1JNQUwsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcjoge3g6IDAuNSwgeTogMS4wfSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7eDogMCwgeTogLVBPSU5UX1JBRElVU30sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAwLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwaW4ubGFiZWwsXG4gICAgICAgICAgICAgICAgfSBhcyBUZXh0RWxlbWVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIChkaXNwbGF5LmNoaWxkcmVuIVswXSBhcyBUZXh0RWxlbWVudCkudGV4dCA9IHBpbi5sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BsYXkuX2NoaWxkcmVuUmVwbGFjZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHBpbi5lbnRpdHksIEdSQVBISUNfVFlQRSwgeyBkaXNwbGF5IH0sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVBpblRvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5DUkVBVEVfUElOO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQaW5TeXN0ZW07XG5cbiAgICAvLyBFbnRpdHkgb2YgdGhlIHBpbiB0byBiZSBjcmVhdGVkIChvciAtMSlcbiAgICBjcmVhdGVQaW46IG51bWJlciA9IC0xO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBQaW5TeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdENyZWF0aW9uKCkge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgICAgIGxldCBjb2xvciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGKTtcblxuICAgICAgICBsZXQgZGlzcGxheSA9IHRoaXMuc3lzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICAgICAgZGlzcGxheS5jb2xvciA9IGNvbG9yO1xuICAgICAgICBkaXNwbGF5LnZpc2liID0gVmlzaWJpbGl0eVR5cGUuQUxXQVlTX1ZJU0lCTEU7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSB0aGlzLnN5cy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2FuY2VsQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVBpbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5jcmVhdGVQaW4pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbmZpcm1DcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUGluID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5zeXMud29ybGQ7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuY3JlYXRlUGluO1xuICAgICAgICBsZXQgZyA9IHdvcmxkLmdldENvbXBvbmVudChpZCwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICBsZXQgbG9jID0gd29ybGQuZ2V0Q29tcG9uZW50KGlkLCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgd29ybGQuZGVzcGF3bkVudGl0eShpZCk7XG5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllczogW3tcbiAgICAgICAgICAgICAgICBpZDogd29ybGQuYWxsb2NhdGVJZCgpLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGxvYy54LFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogbG9jLnksXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBJTl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IChnLmRpc3BsYXkgYXMgUG9pbnRFbGVtZW50KS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBQaW5Db21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IGZpbmRGb3JlZ3JvdW5kKHRoaXMuc3lzLndvcmxkKSxcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBQYXJlbnRMYXllckNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XVxuICAgICAgICB9IGFzIFNwYXduQ29tbWFuZDtcblxuICAgICAgICB0aGlzLmNyZWF0ZVBpbiA9IC0xO1xuICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgIH0pO1xuICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh3b3JsZCwgY21kKTtcbiAgICAgICAgLy90aGlzLnN5cy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eShpZCk7XG4gICAgfVxuXG5cbiAgICBvblN0YXJ0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyQ2xpY2soZXZlbnQ6IFBvaW50ZXJDbGlja0V2ZW50KSB7XG4gICAgICAgIHRoaXMuY29uZmlybUNyZWF0aW9uKCk7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnQsIFZpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0ICogYXMgUG9pbnRMaWdodFJlbmRlciBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXJcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7XG4gICAgbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LFxuICAgIFZJU0lCSUxJVFlfQVdBUkVfVFlQRSxcbiAgICBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQsXG4gICAgVmlzaWJpbGl0eUF3YXJlU3lzdGVtXG59IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eUF3YXJlU3lzdGVtXCI7XG5pbXBvcnQge0xJR0hUX1NFVFRJTkdTX1RZUEUsIExJR0hUX1RZUEUsIExpZ2h0Q29tcG9uZW50LCBMaWdodFNldHRpbmdzLCBMaWdodFN5c3RlbX0gZnJvbSBcIi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtQSU5fVFlQRX0gZnJvbSBcIi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi9nYW1lL2dyaWRcIjtcblxuZXhwb3J0IGNvbnN0IFBMQVlFUl9UWVBFID0gJ3BsYXllcic7XG5leHBvcnQgdHlwZSBQTEFZRVJfVFlQRSA9IHR5cGVvZiBQTEFZRVJfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQTEFZRVJfVFlQRTtcbiAgICBuaWdodFZpc2lvbjogYm9vbGVhbjtcbiAgICByYW5nZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEFkZGVkIHRvIGV2ZXJ5IG9iamVjdCB0aGF0IG1pZ2h0IGJlIHZpc2libGUgYnkgYSBwbGF5ZXIsIGl0IHRyYWNrcyBob3cgbWFueSBwbGF5ZXJzIGFuZCBob3cgbWFueSBsaWdodHNcbiAqIGFyZSBzZWVpbmcgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCBQTEFZRVJfVklTSUJMRV9UWVBFID0gJ3BsYXllcl92aXNpYmxlJztcbmV4cG9ydCB0eXBlIFBMQVlFUl9WSVNJQkxFX1RZUEUgPSB0eXBlb2YgUExBWUVSX1ZJU0lCTEVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyVmlzaWJsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUExBWUVSX1ZJU0lCTEVfVFlQRTtcbiAgICB2aXNpYmxlOiBib29sZWFuO1xuICAgIGlzV2FsbD86IGJvb2xlYW47Ly8gTm9uIG1vZGlmaWFibGVcbiAgICBfcmVmQ291bnQ6IG51bWJlcjtcbiAgICBfbGlnaHRDb3VudDogbnVtYmVyO1xuICAgIF9wbGF5ZXJDb3VudDogbnVtYmVyO1xuICAgIF9wbGF5ZXJOaWdodFZpc2lvbkNvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eVNwcmVhZERhdGEge1xuICAgIG5pZ2h0VmlzaW9uOiBib29sZWFuO1xuICAgIGFhYmI6IEFhYmIsXG4gICAgbGlnaHRzOiBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhW107XG4gICAgcGxheWVyczogVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YVtdO1xuICAgIG5pZ2h0VmlzUGxheWVyczogVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGEge1xuICAgIG1lc2g6IFBJWEkuTWVzaDtcbiAgICBwb3M6IFBJWEkuSVBvaW50RGF0YTtcbiAgICB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQsXG59XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCA9ICd2aXNpYmlsaXR5X3NwcmVhZCc7XG5leHBvcnQgdHlwZSBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCA9IHR5cGVvZiBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRDtcblxuZXhwb3J0IGNsYXNzIFBsYXllclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBMQVlFUl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSU5fVFlQRSwgVklTSUJJTElUWV9UWVBFLCBWSVNJQklMSVRZX0FXQVJFX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBsaWdodFN5c3RlbTogTGlnaHRTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSB2aXNpYmlsaXR5U3lzdGVtOiBWaXNpYmlsaXR5U3lzdGVtO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllckNvbXBvbmVudD4oUExBWUVSX1RZUEUsIHRydWUsIHRydWUpO1xuICAgIHZpc2libGVTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGxheWVyVmlzaWJsZUNvbXBvbmVudD4oUExBWUVSX1ZJU0lCTEVfVFlQRSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIHByaXZhdGUgZ3JpZFNpemU6IG51bWJlcjtcblxuICAgIC8vIElmIGZhbHNlIGEgcGxheWVyIGNhbiBzZWUgYSB0aGluZyBvbmx5IGlmIGl0J3MgaWxsdW1pbmF0ZWQgYnkgYXJ0aWZpY2lhbCBsaWdodFxuICAgIGFtYmllbnRJbGx1bWluYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmxpZ2h0U3lzdGVtID0gd29ybGQuc3lzdGVtcy5nZXQoTElHSFRfVFlQRSkgYXMgTGlnaHRTeXN0ZW07XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eVN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eVN5c3RlbTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy52aXNpYmxlU3RvcmFnZSk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuXG4gICAgICAgIGxldCB2aXNBd2FyZSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkgYXMgVmlzaWJpbGl0eUF3YXJlU3lzdGVtO1xuICAgICAgICB2aXNBd2FyZS5ldmVudHMub24oJ2F3YXJlX3VwZGF0ZScsIHRoaXMub25WaXNpYmlsaXR5QXdhcmVVcGRhdGUsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUodDogUGxheWVyVmlzaWJsZUNvbXBvbmVudCkge1xuICAgICAgICBsZXQgbmV3VmlzaWJsZSA9IHQuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQgPiAwIHx8XG4gICAgICAgICAgICAoKHRoaXMuYW1iaWVudElsbHVtaW5hdGVkIHx8IHQuX2xpZ2h0Q291bnQgPiAwIHx8IHQuaXNXYWxsKSAmJiB0Ll9wbGF5ZXJDb3VudCA+IDApO1xuICAgICAgICBpZiAobmV3VmlzaWJsZSAhPT0gdC52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQodC5lbnRpdHksIHQudHlwZSwge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IG5ld1Zpc2libGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25WaXNpYmlsaXR5QXdhcmVVcGRhdGUodGFyZ2V0OiBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQsIGFkZGVkOiBudW1iZXJbXSwgcmVtb3ZlZDogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IHBsYXllclZpc2libGUgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudCh0YXJnZXQuZW50aXR5KTtcbiAgICAgICAgaWYgKHBsYXllclZpc2libGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAobGV0IGUgb2YgYWRkZWQpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUpO1xuICAgICAgICAgICAgaWYgKHBsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fcGxheWVyQ291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLm5pZ2h0VmlzaW9uKSBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGUsIExJR0hUX1RZUEUpIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9saWdodENvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlIG9mIHJlbW92ZWQpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUpO1xuICAgICAgICAgICAgaWYgKHBsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fcGxheWVyQ291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLm5pZ2h0VmlzaW9uKSBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50IC09IDE7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGUsIExJR0hUX1RZUEUpIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9saWdodENvdW50IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHBsYXllclZpc2libGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25OaWdodFZpc2lvblVwZGF0ZShwbGF5ZXI6IFBsYXllckNvbXBvbmVudCkge1xuICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQocGxheWVyLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuXG4gICAgICAgIGxldCBkaWZmID0gcGxheWVyLm5pZ2h0VmlzaW9uID8gKzEgOiAtMTtcblxuICAgICAgICBsZXQgZnVuID0gKHQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgbGV0IHBsYXllclZpc2libGUgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudCh0KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJWaXNpYmxlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQgKz0gZGlmZjtcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocGxheWVyVmlzaWJsZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IHQgb2YgdmlzLl9jYW5TZWUpIGZ1bih0KTtcbiAgICAgICAgaWYgKHZpcy5fY2FuU2VlV2FsbHMpIGZvciAobGV0IHQgb2YgdmlzLl9jYW5TZWVXYWxscykgZnVuKHQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVmlzTWVzaEZyb20ocG9zOiBQSVhJLklQb2ludERhdGEsIHZpczogVmlzaWJpbGl0eUNvbXBvbmVudCk6IFBJWEkuTWVzaCB7XG4gICAgICAgIGxldCBtZXNoID0gUG9pbnRMaWdodFJlbmRlci5jcmVhdGVNZXNoKCdjb25zdCcpO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hQb2x5Z29ucyhtZXNoLCBwb3MsIHZpcy5wb2x5Z29uISk7XG4gICAgICAgIGxldCByID0gdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoVW5pZm9ybXMobWVzaCwgcG9zLCByKnIsIDB4RkZGRkZGKTtcbiAgICAgICAgcmV0dXJuIG1lc2g7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcHJlYWRQbGF5ZXJWaXNpYmlsaXR5KHBsYXllcjogbnVtYmVyLCBwb3M6IFBJWEkuSVBvaW50RGF0YSwgdmlzOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBuaWdodFZpc2lvbjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRDb21wb25lbnQocGxheWVyLCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuOy8vIElnbm9yZSBoaWRkZW4gcGxheWVyc1xuICAgICAgICBsZXQgcGxheWVyVmlzID0gUG9pbnRMaWdodFJlbmRlci5jcmVhdGVNZXNoKCdjb25zdCcpO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hQb2x5Z29ucyhwbGF5ZXJWaXMsIHBvcywgdmlzLnBvbHlnb24hKTtcbiAgICAgICAgbGV0IHIgPSB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hVbmlmb3JtcyhwbGF5ZXJWaXMsIHBvcywgciAqIHIsIDB4RkZGRkZGKTtcblxuICAgICAgICBsZXQgbGlnaHRTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoTElHSFRfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxMaWdodENvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IHBsYXllckRhdGEgPSB7XG4gICAgICAgICAgICBtZXNoOiBwbGF5ZXJWaXMsXG4gICAgICAgICAgICB2aXMsXG4gICAgICAgICAgICBwb3MsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcblxuXG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG4gICAgICAgIGxldCBuaWdodFZpc1BsYXllcnMgPSBbXTtcblxuICAgICAgICBsZXQgbGlnaHRzID0gW107XG4gICAgICAgIGxldCBhYWJiO1xuICAgICAgICBpZiAoIW5pZ2h0VmlzaW9uICYmICF0aGlzLmFtYmllbnRJbGx1bWluYXRlZCkge1xuICAgICAgICAgICAgcGxheWVycy5wdXNoKHBsYXllckRhdGEpO1xuXG4gICAgICAgICAgICBhYWJiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnZpc2liaWxpdHlTeXN0ZW0uYWFiYlRyZWUucXVlcnkodmlzLmFhYmIhKSkge1xuICAgICAgICAgICAgICAgIGxldCB2aXNDb21wb25lbnQgPSBjLnRhZyE7XG4gICAgICAgICAgICAgICAgbGV0IGxpZ2h0Q29tcG9uZW50ID0gbGlnaHRTdG9yYWdlLmdldENvbXBvbmVudCh2aXNDb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRDb21wb25lbnQgPT09IHVuZGVmaW5lZCB8fCB2aXNDb21wb25lbnQucmFuZ2UgPD0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpc0NvbXBvbmVudC5lbnRpdHkpITtcblxuICAgICAgICAgICAgICAgIGlmIChhYWJiID09PSB1bmRlZmluZWQpIGFhYmIgPSB2aXNDb21wb25lbnQuYWFiYiEuY29weSgpO1xuICAgICAgICAgICAgICAgIGVsc2UgYWFiYi5jb21iaW5lKHZpc0NvbXBvbmVudC5hYWJiISwgYWFiYik7XG5cbiAgICAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpc0NvbXBvbmVudCk7XG5cbiAgICAgICAgICAgICAgICBsaWdodHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc2gsXG4gICAgICAgICAgICAgICAgICAgIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgdmlzOiB2aXNDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaWdodHMubGVuZ3RoID09PSAwKSByZXR1cm47Ly8gbm8gbmlnaHQgdmlzaW9uIEFORCBubyBsaWdodHMgPSBjYW4ndCBzZWUgYSB0aGluZyFcbiAgICAgICAgICAgIGFhYmIhLmludGVyc2VjdCh2aXMuYWFiYiEsIGFhYmIhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVycy5wdXNoKHBsYXllckRhdGEpXG4gICAgICAgICAgICBhYWJiID0gdmlzLmFhYmI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGFhYmIsXG4gICAgICAgICAgICBsaWdodHMsXG4gICAgICAgICAgICBwbGF5ZXJzLFxuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWREYXRhO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIGRhdGEpO1xuXG4gICAgICAgIHBsYXllckRhdGEubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgZm9yIChsZXQgbGlnaHQgb2YgZGF0YS5saWdodHMpIGxpZ2h0Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcHJlYWRMaWdodFZpc2liaWxpdHkobGlnaHRWaXM6IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgLy8gUXVpdGUgc2ltaWxhciB0byBzcHJlYWRQbGF5ZXJWaXNpYmlsaXR5IGJ1dCBmb2xsb3dzIGEgbGlnaHQgaW5zdGVhZCBvZiBhIHBsYXllcixcbiAgICAgICAgLy8gV2hlbiBhIGxpZ2h0IHZpc2liaWxpdHkgcG9seWdvbiBpcyBjaGFuZ2VkIHRoaXMgd2lsbCBxdWVyeSBlYWNoIHBsYXllciBpbiB0aGUgcG9seWdvbidzIHJlYWNoIGFuZFxuICAgICAgICAvLyBzcHJlYWQgdGhlIHZpc2liaWxpdHkgKG9ubHkgd2l0aCB0aGF0IGxpZ2h0ISlcblxuICAgICAgICBpZiAodGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQpIHJldHVybjsvLyBXaG8gbmVlZHMgbGlnaHRzP1xuXG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBsaWdodFBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGxpZ2h0VmlzLmVudGl0eSkhO1xuICAgICAgICBsZXQgbGlnaHRNZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShsaWdodFBvcywgbGlnaHRWaXMpO1xuXG4gICAgICAgIGxldCBsaWdodERhdGEgPSBbe1xuICAgICAgICAgICAgbWVzaDogbGlnaHRNZXNoLFxuICAgICAgICAgICAgcG9zOiBsaWdodFBvcyxcbiAgICAgICAgICAgIHZpczogbGlnaHRWaXMsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YV07XG5cbiAgICAgICAgbGV0IGFhYmIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgbGV0IHBsYXllcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnZpc2liaWxpdHlTeXN0ZW0uYWFiYlRyZWUucXVlcnkobGlnaHRWaXMuYWFiYiEpKSB7XG4gICAgICAgICAgICBsZXQgdmlzQ29tcG9uZW50ID0gYy50YWchO1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzQ29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocGxheWVyID09PSB1bmRlZmluZWQgfHwgdmlzQ29tcG9uZW50LnJhbmdlIDw9IDAgfHwgcGxheWVyLm5pZ2h0VmlzaW9uKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgYWFiYiA9IHZpc0NvbXBvbmVudC5hYWJiIS5jb3B5KCk7XG4gICAgICAgICAgICBlbHNlIGFhYmIuY29tYmluZSh2aXNDb21wb25lbnQuYWFiYiEsIGFhYmIpO1xuXG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocGxheWVyLmVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcblxuICAgICAgICAgICAgcGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNoLFxuICAgICAgICAgICAgICAgIHBvcyxcbiAgICAgICAgICAgICAgICB2aXMsXG4gICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgYWFiYiEuaW50ZXJzZWN0KGxpZ2h0VmlzLmFhYmIhLCBhYWJiISk7XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzOiBsaWdodERhdGEsXG4gICAgICAgICAgICBwbGF5ZXJzLFxuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgIG5pZ2h0VmlzaW9uOiBmYWxzZSxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELCBkYXRhKTtcbiAgICAgICAgbGlnaHREYXRhWzBdLm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJzKSBwbGF5ZXIubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwcmVhZEFmdGVyTGlnaHROb3ROZWVkZWQoKTogdm9pZCB7XG4gICAgICAgIC8vIFNvbWV0aGluZyBjaGFuZ2VkLCBsaWdodCBpcyBub3QgbmVlZGVkIGFueW1vcmVcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IG1vc3Qgb2YgdGhlIHRoaW5ncyB0aGF0IHdlcmUgbm90IHZpc2libGUgYW55bW9yZSBub3cgYXJlXG4gICAgICAgIC8vIGJ1dCB3aGF0PyBhbmQgd2hlcmU/IHRoaXMgaXMgdGhlIHF1ZXN0aW9ucyBpIHdpbGwgYW5zd2VyIHRvZGF5XG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG5cbiAgICAgICAgbGV0IHZpc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IGFhYmIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICBpZiAocGxheWVyLm5pZ2h0VmlzaW9uKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXMpO1xuXG4gICAgICAgICAgICBpZiAoYWFiYiA9PT0gdW5kZWZpbmVkKSBhYWJiID0gdmlzLmFhYmIhLmNvcHkoKTtcbiAgICAgICAgICAgIGVsc2UgYWFiYi5jb21iaW5lKHZpcy5hYWJiISwgYWFiYik7XG5cbiAgICAgICAgICAgIGxldCBkYXRhID0ge21lc2gsIHBvcywgdmlzfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuICAgICAgICAgICAgcGxheWVycy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgcmV0dXJuOy8vIE5vdCBlbm91Z2ggcGxheWVyc1xuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0czogW10sXG4gICAgICAgICAgICBwbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVyczogcGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzaW9uOiBmYWxzZSxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgZGF0YSk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBwbGF5ZXJzKSB4Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxuXG4gICAgZ2V0U3ByZWFkRGF0YUZvckFhYmIoYWFiYjogQWFiYiwgY2I6IChkYXRhOiBWaXNpYmlsaXR5U3ByZWFkRGF0YSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBsZXQgbmlnaHRWaXNQbGF5ZXJzID0gW107XG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG4gICAgICAgIGxldCBsaWdodHMgPSBbXTtcblxuICAgICAgICBsZXQgbGlnaHRzTmVlZGVkID0gIXRoaXMuYW1iaWVudElsbHVtaW5hdGVkO1xuICAgICAgICBsZXQgbGlnaHRTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoTElHSFRfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxMaWdodENvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnZpc2liaWxpdHlTeXN0ZW0uYWFiYlRyZWUucXVlcnkoYWFiYikpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjLnRhZyE7XG5cbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHBsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXMpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7bWVzaCwgcG9zLCB2aXN9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbiB8fCAhbGlnaHRzTmVlZGVkKSBuaWdodFZpc1BsYXllcnMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICBlbHNlIHBsYXllcnMucHVzaChkYXRhKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpZ2h0c05lZWRlZCkge1xuICAgICAgICAgICAgICAgIGxldCBsaWdodCA9IGxpZ2h0U3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7bWVzaCwgcG9zLCB2aXN9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGE7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0cy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZWFsUGxheWVycyA9IHBsYXllcnM7XG4gICAgICAgIGxldCByZWFsTGlnaHRzID0gbGlnaHRzO1xuXG4gICAgICAgIGlmIChwbGF5ZXJzLmxlbmd0aCA9PT0gMCB8fCBsaWdodHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJlYWxQbGF5ZXJzID0gW107XG4gICAgICAgICAgICByZWFsTGlnaHRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGFhYmIsXG4gICAgICAgICAgICBsaWdodHM6IHJlYWxMaWdodHMsXG4gICAgICAgICAgICBwbGF5ZXJzOiByZWFsUGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVycyxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcbiAgICAgICAgY2IoZGF0YSk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBsaWdodHMpIHgubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgZm9yIChsZXQgeCBvZiBwbGF5ZXJzKSB4Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IHggb2YgbmlnaHRWaXNQbGF5ZXJzKSB4Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IGNvbXAgYXMgUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHB2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQWRkZWQgcGxheWVyIHRvIHBpbiB3aXRob3V0IHBsYXllciB2aXNpYmlsaXR5ISBcIiArIGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwdi5fcGxheWVyTmlnaHRWaXNpb25Db3VudCsrOy8vIEEgYml0IGhhY2tpc2gsIGJ1dCBpdCB3b3JrcyA7KVxuICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwdik7XG5cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgYSB2aXNpYmlsaXR5IGNvbXBvbmVudCwgY3JlYXRlIG9uZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0XG4gICAgICAgICAgICBsZXQgdmlzID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFZJU0lCSUxJVFlfVFlQRSxcbiAgICAgICAgICAgICAgICByYW5nZTogcGxheWVyLnJhbmdlLFxuICAgICAgICAgICAgICAgIHRyYWNrV2FsbHM6IHRydWUsXG4gICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wLmVudGl0eSwgdmlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9WSVNJQkxFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgYy5fbGlnaHRDb3VudCA9IDA7XG4gICAgICAgICAgICBjLl9wbGF5ZXJDb3VudCA9IDA7XG4gICAgICAgICAgICBjLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBuZXdWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQoYy5pc1dhbGwgPT09IHRydWUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIFBsYXllckNvbXBvbmVudFxuXG4gICAgICAgICAgICBpZiAoJ25pZ2h0VmlzaW9uJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk5pZ2h0VmlzaW9uVXBkYXRlKGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJ3JhbmdlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGMucmFuZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHZpcy5wb2x5Z29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRQbGF5ZXJWaXNpYmlsaXR5KGNvbXAuZW50aXR5LCBwb3MsIHZpcywgYy5uaWdodFZpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCEoJ3BvbHlnb24nIGluIGNoYW5nZWQpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh2aXMucG9seWdvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByZWFkUGxheWVyVmlzaWJpbGl0eShjb21wLmVudGl0eSwgcG9zLCB2aXMsIHBsYXllci5uaWdodFZpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHksIExJR0hUX1RZUEUpO1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZExpZ2h0VmlzaWJpbGl0eSh2aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIHBsYXllciB2aXNpYmlsaXR5IGZvdW5kIG9uIHJlbW92YWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgcHYuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQtLTsvLyBHb3R0YSB1bmRvIHRob3NlIGhhY2tzXG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHB2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBMSUdIVF9TRVRUSU5HU19UWVBFICYmICduZWVkc0xpZ2h0JyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSByZXMgYXMgTGlnaHRTZXR0aW5ncztcbiAgICAgICAgICAgIHRoaXMuYW1iaWVudElsbHVtaW5hdGVkID0gIWxpZ2h0Lm5lZWRzTGlnaHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMudmlzaWJsZVN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShjb21wKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsaWdodC5uZWVkc0xpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRBZnRlckxpZ2h0Tm90TmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSAmJiAnc2l6ZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgbGV0IGdyaWQgPSByZXMgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBVQkxJQyBJTlRFUkZBQ0VcbiAgICBhZGRQbGF5ZXJWaXNMaXN0ZW5lcihlbnRpdHk6IG51bWJlciwgaXNXYWxsOiBib29sZWFuID0gZmFsc2UpOiBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBMQVlFUl9WSVNJQkxFX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzV2FsbCxcbiAgICAgICAgICAgICAgICBfcmVmQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgX2xpZ2h0Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgX3BsYXllckNvdW50OiAwLFxuICAgICAgICAgICAgICAgIF9wbGF5ZXJOaWdodFZpc2lvbkNvdW50OiAwLFxuICAgICAgICAgICAgfSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoZW50aXR5LCBjKTtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5fcmVmQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG5cbiAgICByZW1vdmVQbGF5ZXJWaXNMaXN0ZW5lcihlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgYy5fcmVmQ291bnQtLTtcbiAgICAgICAgaWYgKGMuX3JlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnNldHVwKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cblxufSIsImltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtGcm96ZW5FbnRpdHksIFdvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBUUkFOU0ZPUk1fVFlQRSxcbiAgICBUcmFuc2Zvcm1Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvbkNvbXBvbmVudCwgSW50ZXJhY3Rpb25TeXN0ZW0sIHNoYXBlUG9pbnR9IGZyb20gXCIuL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VGV4dHVyZX0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7UGluQ29tcG9uZW50fSBmcm9tIFwiLi9waW5TeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgRWxlbWVudFR5cGUsXG4gICAgR1JBUEhJQ19UWVBFLFxuICAgIEdyYXBoaWNDb21wb25lbnQsXG4gICAgSW1hZ2VFbGVtZW50LFxuICAgIEltYWdlU2NhbGVNb2RlLFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xEcml2ZXIsIFRvb2xTeXN0ZW19IGZyb20gXCIuL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtQb2ludGVyQ2xpY2tFdmVudH0gZnJvbSBcIi4vYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7Z2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbn0gZnJvbSBcIi4uL3Rvb2xzL3V0aWxzXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2V4ZWN1dGVBbmRMb2dDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7Y29tcG9uZW50RWRpdENvbW1hbmQsIEVkaXRUeXBlfSBmcm9tIFwiLi9jb21tYW5kL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7ZmluZEZvcmVncm91bmQsIExBWUVSX1RZUEUsIExheWVyU3lzdGVtfSBmcm9tIFwiLi9iYWNrL2xheWVyU3lzdGVtXCI7XG5cblxuZXhwb3J0IGNvbnN0IFBST1BfVFlQRSA9ICdwcm9wJztcbmV4cG9ydCB0eXBlIFBST1BfVFlQRSA9IHR5cGVvZiBQUk9QX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFByb3BDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBST1BfVFlQRTtcbiAgICBwcm9wVHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BUeXBlIHtcbiAgICBpZDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB0ZXh0dXJlOiBUZXh0dXJlLFxufVxuXG5leHBvcnQgY29uc3QgUFJPUF9URUxFUE9SVF9UWVBFID0gJ3Byb3BfdGVsZXBvcnQnO1xuZXhwb3J0IHR5cGUgUFJPUF9URUxFUE9SVF9UWVBFID0gdHlwZW9mIFBST1BfVEVMRVBPUlRfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUHJvcFRlbGVwb3J0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEU7XG4gICAgdGFyZ2V0UHJvcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvcFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBST1BfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JBUEhJQ19UWVBFLCBJTlRFUkFDVElPTl9UWVBFLCBTRUxFQ1RJT05fVFlQRSwgTEFZRVJfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuICAgIHJlYWRvbmx5IGxheWVyU3lzOiBMYXllclN5c3RlbTtcblxuICAgIHJlYWRvbmx5IHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQcm9wQ29tcG9uZW50PihQUk9QX1RZUEUsIHRydWUsIHRydWUpO1xuICAgIHJlYWRvbmx5IHRlbGVwb3J0U3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFByb3BUZWxlcG9ydD4oUFJPUF9URUxFUE9SVF9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgIHByb3BUeXBlczogTWFwPHN0cmluZywgUHJvcFR5cGU+O1xuICAgIGRlZmF1bHRQcm9wVHlwZTogc3RyaW5nID0gXCJsYWRkZXJfZG93blwiO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIGlmICh3b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgY29uc3QgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChuZXcgQ3JlYXRlUHJvcFRvb2xEcml2ZXIodGhpcykpO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sKG5ldyBQcm9wVGVsZXBvcnRMaW5rVG9vbERyaXZlcih0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5sYXllclN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KExBWUVSX1RZUEUpIGFzIExheWVyU3lzdGVtO1xuXG4gICAgICAgIHRoaXMucHJvcFR5cGVzID0gbmV3IE1hcDxzdHJpbmcsIFByb3BUeXBlPigpO1xuXG4gICAgICAgIHRoaXMubG9hZFByb3BUeXBlcygpO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnRlbGVwb3J0U3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncHJvcF91c2UnLCB0aGlzLm9uUHJvcFVzZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJQcm9wVHlwZShwcm9wVHlwZTogUHJvcFR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wcm9wVHlwZXMuc2V0KHByb3BUeXBlLmlkLCBwcm9wVHlwZSk7XG4gICAgfVxuXG4gICAgbG9hZFByb3BUeXBlcygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYXRsYXMgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wicHJvcHNcIl0uc3ByaXRlc2hlZXQhO1xuICAgICAgICBjb25zdCBwcm9wcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2xhZGRlcl91cCcsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0xhZGRlciBVcCcsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogYXRsYXMudGV4dHVyZXNbJ2xhZGRlcl91cC5wbmcnXSxcbiAgICAgICAgICAgIH0gYXMgUHJvcFR5cGUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdsYWRkZXJfZG93bicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0xhZGRlciBEb3duJyxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBhdGxhcy50ZXh0dXJlc1snbGFkZGVyX2Rvd24ucG5nJ10sXG4gICAgICAgICAgICB9IGFzIFByb3BUeXBlLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGxldCBwcm9wIG9mIHByb3BzKSB0aGlzLnJlZ2lzdGVyUHJvcFR5cGUocHJvcCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQcm9wVHlwZShwOiBQcm9wQ29tcG9uZW50KTogUHJvcFR5cGUge1xuICAgICAgICBsZXQgcFR5cGUgPSB0aGlzLnByb3BUeXBlcy5nZXQocC5wcm9wVHlwZSk7XG4gICAgICAgIGlmIChwVHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBmaW5kIHByb3AgdHlwZTogJHtwLnByb3BUeXBlfWApO1xuICAgICAgICAgICAgcFR5cGUgPSB0aGlzLnByb3BUeXBlcy5nZXQodGhpcy5kZWZhdWx0UHJvcFR5cGUpO1xuXG4gICAgICAgICAgICBpZiAocFR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IFwiRGVmYXVsdCBwcm9wIHR5cGUgaXMgaW52YWxpZCFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcFR5cGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gJ3Byb3AnKSByZXR1cm47XG4gICAgICAgIGxldCBwcm9wID0gYyBhcyBQcm9wQ29tcG9uZW50O1xuICAgICAgICBsZXQgcHJvcFR5cGUgPSB0aGlzLmdldFByb3BUeXBlKHByb3ApO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuUFJPUCxcbiAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuR1JJRCxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVIsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogcHJvcFR5cGUudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBzaGFyZWRUZXh0dXJlOiB0cnVlLC8vIERPTlQgREVMRVRFIE1ZIFRFWFRVUkVcbiAgICAgICAgICAgICAgICBhbmNob3I6IHsgeDogMC41LCB5OiAwLjUgfSxcbiAgICAgICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIH0gYXMgSW1hZ2VFbGVtZW50LFxuICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gUFJPUF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IGMgYXMgUHJvcENvbXBvbmVudDtcblxuICAgICAgICAgICAgbGV0IHBUeXBlID0gdGhpcy5nZXRQcm9wVHlwZShwcm9wKTtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQpLmRpc3BsYXkgYXMgSW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgZGlzcGxheS50ZXh0dXJlID0gcFR5cGUudGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgR1JBUEhJQ19UWVBFLCB7IGRpc3BsYXkgfSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSAncHJvcCcpIHtcbiAgICAgICAgICAgIGxldCB0cCA9IHRoaXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodHAgIT09IHVuZGVmaW5lZCkgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodHApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblByb3BVc2UoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IHByb3AgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGxldCB0ZWxlcG9ydCA9IHRoaXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkIHx8IHRlbGVwb3J0ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodGVsZXBvcnQuZW50aXR5KTtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmxpbmtlZCB0ZWxlcG9ydGVyIVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3NpdGlvbnMgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc0Zyb20gPSBwb3NpdGlvbnMuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuICAgICAgICBsZXQgcG9zVG8gPSBwb3NpdGlvbnMuZ2V0Q29tcG9uZW50KHRlbGVwb3J0LnRhcmdldFByb3ApITtcbiAgICAgICAgbGV0IGRpZmZYID0gcG9zVG8ueCAtIHBvc0Zyb20ueDtcbiAgICAgICAgbGV0IGRpZmZZID0gcG9zVG8ueSAtIHBvc0Zyb20ueTtcblxuICAgICAgICBsZXQgc2hhcGUgPSAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCkuc2hhcGU7XG4gICAgICAgIGxldCBwaW5TdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoJ3BpbicpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UGluQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgZm9yZWdyb3VuZCA9IGZpbmRGb3JlZ3JvdW5kKHRoaXMud29ybGQpO1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlLCB4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwaW5TdG9yYWdlLmdldENvbXBvbmVudCh4LmVudGl0eSkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJTeXMuZ2V0RW50aXR5TGF5ZXIoeC5lbnRpdHkpLmVudGl0eSA9PSBmb3JlZ3JvdW5kO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGxldCBlZGl0ID0gW10gYXMgRWRpdFR5cGVbXTtcbiAgICAgICAgZm9yIChsZXQgcSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc2l0aW9ucy5nZXRDb21wb25lbnQocS5lbnRpdHkpITtcbiAgICAgICAgICAgIGVkaXQucHVzaCh7XG4gICAgICAgICAgICAgICAgZW50aXR5OiBxLmVudGl0eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBwb3MudHlwZSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgZGlmZlgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgZGlmZlksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNtZCA9IGNvbXBvbmVudEVkaXRDb21tYW5kKHVuZGVmaW5lZCwgZWRpdCk7XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQcm9wVG9vbERyaXZlciBpbXBsZW1lbnRzIFRvb2xEcml2ZXIge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLkNSRUFURV9QUk9QO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQcm9wU3lzdGVtO1xuXG4gICAgLy8gRW50aXR5IG9mIHRoZSBwcm9wIHRvIGJlIGNyZWF0ZWRcbiAgICBjcmVhdGVQcm9wOiBudW1iZXIgPSAtMTtcbiAgICBjcmVhdGVQcm9wVHlwZT86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHN5czogUHJvcFN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICB9XG5cbiAgICBpbml0Q3JlYXRpb24oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ3JlYXRpb24oKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVByb3BUeXBlID0gdGhpcy5zeXMuZGVmYXVsdFByb3BUeXBlO1xuICAgICAgICBsZXQgcHJvcFR5cGUgPSB0aGlzLnN5cy5wcm9wVHlwZXMuZ2V0KHRoaXMuY3JlYXRlUHJvcFR5cGUpO1xuICAgICAgICBpZiAocHJvcFR5cGUgPT09IHVuZGVmaW5lZCkgdGhyb3cgJ0lsbGVnYWwgcHJvcCB0eXBlOiAnICsgdGhpcy5jcmVhdGVQcm9wVHlwZTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVByb3AgPSB0aGlzLnN5cy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgeDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgICAgIHk6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogVFJBTlNGT1JNX1RZUEUsXG4gICAgICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICB9IGFzIFRyYW5zZm9ybUNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLlBST1AsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBJbWFnZVNjYWxlTW9kZS5HUklELFxuICAgICAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuQUxXQVlTX1ZJU0lCTEUsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IHByb3BUeXBlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlZFRleHR1cmU6IHRydWUsLy8gRE9OVCBERUxFVEUgTVkgVEVYVFVSRVxuICAgICAgICAgICAgICAgICAgICBhbmNob3I6IHt4OiAwLjUsIHk6IDAuNX0sXG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgICAgIH0gYXMgSW1hZ2VFbGVtZW50LFxuICAgICAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEZPTExPV19NT1VTRV9UWVBFLFxuICAgICAgICAgICAgfSBhcyBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjYW5jZWxDcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUHJvcCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5jcmVhdGVQcm9wKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcCA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlybUNyZWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVQcm9wID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuY3JlYXRlUHJvcDtcbiAgICAgICAgY29uc3Qgd29ybGQgPSB0aGlzLnN5cy53b3JsZDtcbiAgICAgICAgbGV0IGxvYyA9IHdvcmxkLmdldENvbXBvbmVudChpZCwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIGxldCB0cmFuID0gd29ybGQuZ2V0Q29tcG9uZW50KGlkLCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICB3b3JsZC5kZXNwYXduRW50aXR5KGlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wID0gLTE7XG5cbiAgICAgICAgbGV0IGZyb3plbkVudGl0eSA9IHtcbiAgICAgICAgICAgIGlkOiB3b3JsZC5hbGxvY2F0ZUlkKCksXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICB4OiBsb2MueCxcbiAgICAgICAgICAgICAgICAgICAgeTogbG9jLnksXG4gICAgICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogdHJhbi5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHRyYW4ucm90YXRpb24sXG4gICAgICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1Db21wb25lbnQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBQUk9QX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BUeXBlOiB0aGlzLmNyZWF0ZVByb3BUeXBlLFxuICAgICAgICAgICAgICAgIH0gYXMgUHJvcENvbXBvbmVudCxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSBhcyBGcm96ZW5FbnRpdHk7XG4gICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgZW50aXRpZXM6IFtmcm96ZW5FbnRpdHldXG4gICAgICAgIH0gYXMgU3Bhd25Db21tYW5kO1xuXG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgIHRvb2w6IFRvb2wuSU5TUEVDVCxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHdvcmxkLCBjbWQpO1xuICAgIH1cblxuXG4gICAgb25TdGFydCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0Q3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBvbkVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW5jZWxDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICB0aGlzLmNvbmZpcm1DcmVhdGlvbigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BUZWxlcG9ydExpbmtUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuUFJPUF9URUxFUE9SVF9MSU5LO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQcm9wU3lzdGVtO1xuXG4gICAgY3VycmVudFRhcmdldDogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IFByb3BTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zeXMud29ybGQuZXZlbnRzLm9uKCdwcm9wX3RlbGVwb3J0X2xpbmsnLCB0aGlzLm9uUHJvcFRlbGVwb3J0TGluaywgdGhpcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zeXMud29ybGQuZXZlbnRzLm9mZigncHJvcF90ZWxlcG9ydF9saW5rJywgdGhpcy5vblByb3BUZWxlcG9ydExpbmssIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Qcm9wVGVsZXBvcnRMaW5rKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCB0cCA9IHRoaXMuc3lzLnRlbGVwb3J0U3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKHRwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbGxlZCB0ZWxlcG9ydCBsaW5rIG9uIGEgbm9uLXRlbGVwb3J0IHByb3AsIGlnbm9yaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGVudGl0eTtcblxuICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICB0b29sOiBUb29sLlBST1BfVEVMRVBPUlRfTElOSyxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBsaW5rVG8odGFyZ2V0OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3lzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRhcmdldCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVHJ5aW5nIHRvIGxpbmsgdGVsZXBvcnQgdG8gYSBub24tcHJvcCwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRwZXIgPSB0aGlzLnN5cy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRoaXMuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGlmICh0cGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRlbGVwb3J0ZXIgaGFzIGJlZW4gZGVzdHJveWVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSB0YXJnZXQgaXMgaXRzZWxmIHRoZW4gZGVsZXRlIHRoZSBsaW5rXG4gICAgICAgIGxldCBlZGl0ID0gW107XG4gICAgICAgIGVkaXQucHVzaCh7XG4gICAgICAgICAgICBlbnRpdHk6IHRwZXIuZW50aXR5LFxuICAgICAgICAgICAgdHlwZTogdHBlci50eXBlLFxuICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgIHRhcmdldFByb3A6IHRhcmdldCA9PT0gdGhpcy5jdXJyZW50VGFyZ2V0ID8gLTEgOiB0YXJnZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMuc3lzLndvcmxkLCBjb21wb25lbnRFZGl0Q29tbWFuZCh1bmRlZmluZWQsIGVkaXQpKTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gLTE7XG4gICAgfVxuXG4gICAgbGlua0NhbmNlbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gLTE7XG4gICAgfVxuXG4gICAgb25TdGFydCgpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJztcbiAgICB9XG5cbiAgICBvbkVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saW5rQ2FuY2VsKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMuc3lzLndvcmxkLCBldmVudCk7XG5cbiAgICAgICAgbGV0IGludGVyYWN0aW9uU3lzdGVtID0gdGhpcy5zeXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIGxldCBxdWVyeSA9IGludGVyYWN0aW9uU3lzdGVtLnF1ZXJ5KHNoYXBlUG9pbnQocG9pbnQpLCB4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN5cy53b3JsZC5nZXRDb21wb25lbnQoeC5lbnRpdHksICdwcm9wJykgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGZvdW5kIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBsZXQgb2xkVHBlciA9IHRoaXMuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMubGlua1RvKGZvdW5kLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLnN5cy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eShvbGRUcGVyKTtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge0Zyb3plbkVudGl0eSwgV29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBQb2ludH0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7aW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCwgbGluZVNhbWVTbG9wZSwgU2VnbWVudFZzU2VnbWVudFJlc30gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2NvbGxpc2lvblwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbSwgTGluZVNoYXBlLCBzaGFwZUFhYmIsIHNoYXBlTGluZX0gZnJvbSBcIi4vYmFjay9pbnRlcmFjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSwgVmlzaWJpbGl0eUJsb2NrZXJ9IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZSwgR1JBUEhJQ19UWVBFLCBHcmFwaGljQ29tcG9uZW50LCBMaW5lRWxlbWVudCwgVmlzaWJpbGl0eVR5cGV9IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xEcml2ZXIsIFRvb2xTeXN0ZW19IGZyb20gXCIuL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtcbiAgICBQSVhJX0JPQVJEX1RZUEUsXG4gICAgUGl4aUJvYXJkU3lzdGVtLFxuICAgIFBvaW50ZXJDbGlja0V2ZW50LFxuICAgIFBvaW50ZXJNb3ZlRXZlbnQsXG4gICAgUG9pbnRlclJpZ2h0RG93bkV2ZW50XG59IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge2dldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb259IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7ZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2FycmF5UmVtb3ZlRWxlbX0gZnJvbSBcIi4uLy4uL3V0aWwvYXJyYXlcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmRcIjtcblxuZXhwb3J0IGNvbnN0IFdBTExfVFlQRSA9ICd3YWxsJztcbmV4cG9ydCB0eXBlIFdBTExfVFlQRSA9ICd3YWxsJztcbmV4cG9ydCBpbnRlcmZhY2UgV2FsbENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogV0FMTF9UWVBFO1xuICAgIHZlYzogUG9pbnQ7XG4gICAgX2RvbnRNZXJnZTogbnVtYmVyO1xufVxuXG5jb25zdCBTRUxFQ1RJT05fQ09MT1IgPSAweDc5ODZDQjtcblxuZXhwb3J0IGNsYXNzIFdhbGxTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBXQUxMX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0lOVEVSQUNUSU9OX1RZUEUsIEdSQVBISUNfVFlQRSwgVE9PTF9UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFdhbGxDb21wb25lbnQ+KFdBTExfVFlQRSk7XG5cbiAgICBpc1RyYW5zbGF0aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIC8vIE9ubHkgbWFzdGVycyBjYW4gY3JlYXRlIHdhbGxzXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChuZXcgQ3JlYXRlV2FsbFRvb2xEcml2ZXIodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Rvb2xfbW92ZV9iZWdpbicsIHRoaXMub25Ub29sTW92ZUJlZ2luLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfZW5kJywgdGhpcy5vblRvb2xNb3ZlRW5kLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wb25lbnQudHlwZSAhPT0gV0FMTF9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCB3YWxsID0gY29tcG9uZW50IGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRm91bmQgd2FsbCB3aXRob3V0IHBvc2l0aW9uLCBwbGVhc2UgYWRkIGZpcnN0IHRoZSBwb3NpdGlvbiwgdGhlbiB0aGUgd2FsbFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YWxsLl9kb250TWVyZ2UgPSAwO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGNvbXBvbmVudC5lbnRpdHksIHtcbiAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuTElORSxcbiAgICAgICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUixcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuV0FMTCxcbiAgICAgICAgICAgICAgICB2ZWM6IHsgeDogd2FsbC52ZWNbMF0sIHk6IHdhbGwudmVjWzFdIH0sXG4gICAgICAgICAgICB9IGFzIExpbmVFbGVtZW50LFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBpc1dhbGw6IHRydWUsXG4gICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcG9uZW50LmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogVklTSUJJTElUWV9CTE9DS0VSX1RZUEUsXG4gICAgICAgICAgICBlbnRpdHk6IC0xXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eUJsb2NrZXIpO1xuICAgIH1cblxuICAgIGZpeFdhbGxQcmVUcmFuc2xhdGlvbih3YWxsczogV2FsbENvbXBvbmVudFtdKSB7XG4gICAgICAgIGZvciAobGV0IHdhbGwgb2Ygd2FsbHMpIHtcbiAgICAgICAgICAgIGxldCB2aXNCbG9jayA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSk7XG4gICAgICAgICAgICBpZiAodmlzQmxvY2sgIT09IHVuZGVmaW5lZCkgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodmlzQmxvY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hhdCBjaGFuZ2VzIGhlcmU/IGEgbGl0dGxlIGJpdHRsZSB0aGluZzpcbiAgICAgICAgLy8gd2UgbmVlZCB0byB1bmZpeCB0aGUgd2FsbCAocmVtb3ZlIHRoZSBpbnRlcnNlY3Rpb24gYnJlYWtzKS5cblxuICAgICAgICBsZXQgd2FsbF9pbmRleCA9IG5ldyBNYXA8c3RyaW5nLCBXYWxsQ29tcG9uZW50W10+KCk7XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IGluc2VydEluSW5kZXggPSAoaW5kZXg6IHN0cmluZywgd2FsbDogV2FsbENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IGxpc3QgPSB3YWxsX2luZGV4LmdldChpbmRleCk7XG4gICAgICAgICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgIHdhbGxfaW5kZXguc2V0KGluZGV4LCBsaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3QucHVzaCh3YWxsKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICBpZiAod2FsbC5fZG9udE1lcmdlICE9PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSkhO1xuXG4gICAgICAgICAgICBsZXQgcDEgPSBwb3MueCArIFwiQFwiICsgcG9zLnk7XG4gICAgICAgICAgICBsZXQgcDIgPSAocG9zLnggKyB3YWxsLnZlY1swXSkgKyBcIkBcIiArIChwb3MueSArIHdhbGwudmVjWzFdKTtcblxuICAgICAgICAgICAgbGV0IHRyeU1lcmdlID0gKGluZGV4OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbWVyZ2VXaXRoSW5kZXggPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBsZXQgd2FsbHMgPSB3YWxsX2luZGV4LmdldChpbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAod2FsbHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbGV0IHdsZW4gPSB3YWxscy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3bGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG93YWxsID0gd2FsbHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lU2FtZVNsb3BlKHdhbGwudmVjWzBdLCB3YWxsLnZlY1sxXSwgb3dhbGwudmVjWzBdLCBvd2FsbC52ZWNbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZVdpdGhJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChtZXJnZVdpdGhJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBsZXQgbXdhbGwgPSB3YWxsc1ttZXJnZVdpdGhJbmRleF07XG4gICAgICAgICAgICAgICAgbGV0IG1wb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChtd2FsbC5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICBsZXQgbWluQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCB4ID0gcG9zLng7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBwb3MueTtcbiAgICAgICAgICAgICAgICBsZXQgZHggPSB3YWxsLnZlY1swXTtcbiAgICAgICAgICAgICAgICBsZXQgZHkgPSB3YWxsLnZlY1sxXTtcblxuICAgICAgICAgICAgICAgIGlmIChwMiA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgeCArPSBkeDtcbiAgICAgICAgICAgICAgICAgICAgeSArPSBkeTtcbiAgICAgICAgICAgICAgICAgICAgZHggPSAtZHg7XG4gICAgICAgICAgICAgICAgICAgIGR5ID0gLWR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChtcG9zLnggPT09IHggJiYgbXBvcy55ID09PSB5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1wb3MueCArPSBkeDtcbiAgICAgICAgICAgICAgICAgICAgbXBvcy55ICs9IGR5O1xuICAgICAgICAgICAgICAgICAgICBtaW5DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtd2FsbC52ZWNbMF0gKz0gd2FsbC52ZWNbMF07XG4gICAgICAgICAgICAgICAgICAgIG13YWxsLnZlY1sxXSArPSB3YWxsLnZlY1sxXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3YWxscy5zcGxpY2UobWVyZ2VXaXRoSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGxldCBwO1xuICAgICAgICAgICAgICAgIGlmIChtaW5DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBtcG9zLnggKyBcIkBcIiArIG1wb3MueTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwID0gKG1wb3MueCArIG13YWxsLnZlY1swXSkgKyBcIkBcIiArIChtcG9zLnkgKyBtd2FsbC52ZWNbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnNlcnRJbkluZGV4KHAsIG13YWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmRlc3Bhd25FbnRpdHkod2FsbC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3V2FsbChtd2FsbCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0cnlNZXJnZShwMSkgfHwgdHJ5TWVyZ2UocDIpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwMSwgd2FsbCk7XG4gICAgICAgICAgICBpbnNlcnRJbkluZGV4KHAyLCB3YWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpeFdhbGxQb3N0VHJhbnNsYXRpb24od2FsbHM6IFdhbGxDb21wb25lbnRbXSkge1xuICAgICAgICAvLyBSZWNvbXB1dGUgaW50ZXJzZWN0aW9ucyB3aXRoIG90aGVyIHdhbGxzLlxuICAgICAgICAvLyBXaHkgbm90IGFsbCBldmVyeXRoaW5nIGRpcmVjdGx5PyB3ZSB3YW50IHRvIGNvbXB1dGUgYWxzbyB0aGUgc2VsZi1pbnRlcnNlY3Rpb25zXG5cbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQod2FsbC5lbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBwb2ludHMgPSBbcG9zLngsIHBvcy55LCBwb3MueCArIHdhbGwudmVjWzBdLCBwb3MueSArIHdhbGwudmVjWzFdXTtcbiAgICAgICAgICAgIHRoaXMuZml4SW50ZXJzZWN0aW9ucyhwb2ludHMsIDApO1xuXG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQocG9zLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSwge1xuICAgICAgICAgICAgICAgIHNoYXBlOiBzaGFwZUxpbmUobmV3IExpbmUocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdKSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAgICAgcG9zLnggPSBwb2ludHNbMF07XG4gICAgICAgICAgICAgICAgcG9zLnkgPSBwb2ludHNbMV07XG4gICAgICAgICAgICAgICAgd2FsbC52ZWNbMF0gPSBwb2ludHNbMl0gLSBwb3MueDtcbiAgICAgICAgICAgICAgICB3YWxsLnZlY1sxXSA9IHBvaW50c1szXSAtIHBvcy55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlZHJhd1dhbGwod2FsbCk7XG5cbiAgICAgICAgICAgIGxldCBwbGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBjSWRzID0gW107XG4gICAgICAgICAgICBsZXQgZW50aXRpZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSA0OyBpIDwgcGxlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMuY3JlYXRlV2FsbChcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2kgLSAyXSwgcG9pbnRzW2kgLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2ldLCBwb2ludHNbaSArIDFdXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGNJZHMucHVzaChlbnRpdHkuaWQpO1xuICAgICAgICAgICAgICAgIGVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMud29ybGQucmVzcGF3bkVudGl0aWVzKGVudGl0aWVzKTtcbiAgICAgICAgICAgIGlmIChjSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyhjSWRzKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBvcHRpbWl6YXRpb24sIHVwZGF0ZSB0aGUgc2VsZWN0aW9uIG9ubHkgb25jZSFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudCh3YWxsLmVudGl0eSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidmlzaWJpbGl0eV9ibG9ja2VyXCIsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSAhPT0gV0FMTF9UWVBFICYmIGNvbXAudHlwZSAhPT0gUE9TSVRJT05fVFlQRSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB3YWxsLCBwb3NpdGlvbjtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gV0FMTF9UWVBFKSB7XG4gICAgICAgICAgICB3YWxsID0gY29tcCBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YWxsID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGNvbXAgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FsbCA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuaXNUcmFuc2xhdGluZykge1xuICAgICAgICAgICAgdGhpcy5maXhXYWxsUHJlVHJhbnNsYXRpb24oW3dhbGxdKTtcbiAgICAgICAgICAgIHRoaXMuZml4V2FsbFBvc3RUcmFuc2xhdGlvbihbd2FsbF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gV0FMTF9UWVBFICYmICd2ZWMnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3V2FsbCh3YWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVkcmF3V2FsbCh3YWxsOiBXYWxsQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBkaXNwbGF5ID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQpLmRpc3BsYXkgYXMgTGluZUVsZW1lbnQ7XG4gICAgICAgIGRpc3BsYXkudmVjID0geyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBHUkFQSElDX1RZUEUsIHtkaXNwbGF5fSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZmluZExvY2F0aW9uT25XYWxsKHBvaW50OiBQSVhJLlBvaW50LCByYWRpdXM6IG51bWJlcik6IFBJWEkuUG9pbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcG9pbnRzID0gdGhpcy5pbnRlcmFjdGlvblN5cy5xdWVyeShzaGFwZUFhYmIobmV3IEFhYmIoXG4gICAgICAgICAgICBwb2ludC54IC0gcmFkaXVzLCBwb2ludC55IC0gcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnQueCArIHJhZGl1cywgcG9pbnQueSArIHJhZGl1c1xuICAgICAgICApKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBiZXN0UG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBsZXQgYmVzdERpc3QgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgbGV0IHRtcFBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gKG5vZGUuc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFsaW5lLnByb2plY3RQb2ludChwb2ludCwgdG1wUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGlzdCA9IGRpc3RTcXVhcmVkMmQodG1wUG9pbnQueCwgdG1wUG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0IDwgYmVzdERpc3QgJiYgZGlzdCA8IHJhZGl1cykge1xuICAgICAgICAgICAgICAgIGJlc3RQb2ludC5jb3B5RnJvbSh0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgYmVzdERpc3QgPSBkaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlc3REaXN0ICE9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXN0UG9pbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgIT09IFdBTExfVFlQRSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB2YmxvY2tlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXBvbmVudC5lbnRpdHksIFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKTtcbiAgICAgICAgaWYgKHZibG9ja2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZibG9ja2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUJlZ2luKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSB0cnVlO1xuICAgICAgICBsZXQgd2FsbHMgPSBbLi4udGhpcy5zZWxlY3Rpb25TeXMuZ2V0U2VsZWN0ZWRCeVR5cGUoV0FMTF9UWVBFKV0gYXMgV2FsbENvbXBvbmVudFtdO1xuICAgICAgICB0aGlzLmZpeFdhbGxQcmVUcmFuc2xhdGlvbih3YWxscyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IHdhbGxzID0gWy4uLnRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKFdBTExfVFlQRSldIGFzIFdhbGxDb21wb25lbnRbXTtcbiAgICAgICAgdGhpcy5maXhXYWxsUG9zdFRyYW5zbGF0aW9uKHdhbGxzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcXVlcnlJbnRlcnNlY3Rpb25zKHBvc1g6IG51bWJlciwgcG9zWTogbnVtYmVyLCB2ZWNYOiBudW1iZXIsIHZlY1k6IG51bWJlcik6IG51bWJlcltdIHtcbiAgICAgICAgbGV0IHN0cmlwID0gW3Bvc1gsIHBvc1ksIHBvc1ggKyB2ZWNYLCBwb3NZICsgdmVjWV07XG4gICAgICAgIGxldCBpZHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICB0aGlzLmZpeEludGVyc2VjdGlvbnMoc3RyaXAsIDAsIHVuZGVmaW5lZCwgaWRzKTtcbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICB9XG5cbiAgICBmaXhJbnRlcnNlY3Rpb25zKHN0cmlwOiBudW1iZXJbXSwgc3RhcnQ6IG51bWJlciwgZW5kPzogbnVtYmVyLCB3YWxsSWRzPzogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICBsZXQgYWFiYiA9IG5ldyBBYWJiKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG5cbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBzdHJpcC5sZW5ndGggOiBlbmQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGFhYmIubWluWCA9IE1hdGgubWluKGFhYmIubWluWCwgc3RyaXBbaV0pO1xuICAgICAgICAgICAgYWFiYi5taW5ZID0gTWF0aC5taW4oYWFiYi5taW5ZLCBzdHJpcFtpICsgMV0pO1xuICAgICAgICAgICAgYWFiYi5tYXhYID0gTWF0aC5tYXgoYWFiYi5tYXhYLCBzdHJpcFtpXSk7XG4gICAgICAgICAgICBhYWJiLm1heFkgPSBNYXRoLm1heChhYWJiLm1heFksIHN0cmlwW2kgKyAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG1wTGluZSA9IG5ldyBMaW5lKDAsIDAsIDAsIDApO1xuICAgICAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiBxdWVyeSkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNoZWNraW5nIHdhbGw6IFwiLCB3YWxsLnRhZyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAyOyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLmZyb21YID0gc3RyaXBbaSAtIDJdO1xuICAgICAgICAgICAgICAgIHRtcExpbmUuZnJvbVkgPSBzdHJpcFtpIC0gMV07XG4gICAgICAgICAgICAgICAgdG1wTGluZS50b1ggPSBzdHJpcFtpXTtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLnRvWSA9IHN0cmlwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9ICh3YWxsLnNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCh0bXBMaW5lLCBsaW5lLCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb250aW51ZSBpZiB0aGUgaW50ZXJzZWN0aW9uIGlzIGluc2lkZSBvZiBib3RoIGxpbmVzIChub3Qgb24gdGhlIGVkZ2UpXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGluIHRoZSBzdHJpcFxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJGSVhJTkcgQVQ6IFwiICsgdG1wUG9pbnQueCArIFwiLCBcIiArIHRtcFBvaW50LnkpO1xuICAgICAgICAgICAgICAgIHN0cmlwLnNwbGljZShpLCAwLCB0bXBQb2ludC54LCB0bXBQb2ludC55KTtcbiAgICAgICAgICAgICAgICBpICs9IDI7Ly8gU2tpcCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgZW5kICs9IDI7XG4gICAgICAgICAgICAgICAgd2FsbElkcz8ucHVzaCh3YWxsLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9XG5cbiAgICBjcmVhdGVXYWxsKG1pblg6IG51bWJlciwgbWluWTogbnVtYmVyLCBtYXhYOiBudW1iZXIsIG1heFk6IG51bWJlcik6IEZyb3plbkVudGl0eSB7XG4gICAgICAgIGxldCBjb21wb25lbnRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgeDogbWluWCxcbiAgICAgICAgICAgICAgICB5OiBtaW5ZLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFdBTExfVFlQRSxcbiAgICAgICAgICAgICAgICB2ZWM6IFttYXhYIC0gbWluWCwgbWF4WSAtIG1pblldLFxuICAgICAgICAgICAgfSBhcyBXYWxsQ29tcG9uZW50LFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHRoaXMud29ybGQuYWxsb2NhdGVJZCgpLFxuICAgICAgICAgICAgY29tcG9uZW50cyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVXYWxsVG9vbERyaXZlciBpbXBsZW1lbnRzIFRvb2xEcml2ZXIge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLkNSRUFURV9XQUxMO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFdhbGxTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBwaXhpQm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcblxuICAgIC8vIFNwcml0ZSBvZiB0aGUgcGluIHRvIGJlIGNyZWF0ZWRcbiAgICBjcmVhdGVkSWRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGNyZWF0ZWRMYXN0UG9zPzogUG9pbnQ7XG4gICAgY3JlYXRlTGFzdExpbmVEaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICBtb3VzZUxhc3RQb3M6IFBJWEkuUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBXYWxsU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuc3lzID0gc3lzO1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzID0gc3lzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBzeXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgKGM6IENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUgJiYgYy50eXBlID09PSAnd2FsbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZWRJZHMucHVzaChjLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzeXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgKGM6IENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUgJiYgYy50eXBlID09PSAnd2FsbCcgJiYgYXJyYXlSZW1vdmVFbGVtKHRoaXMuY3JlYXRlZElkcywgYy5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVDcmVhdGVkTGFzdFBvcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0Q3JlYXRpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW5kQ3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBlbmRDcmVhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuc3lzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXRpZXModGhpcy5jcmVhdGVkSWRzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgIHRvb2w6IFRvb2wuSU5TUEVDVCxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZWRyYXdDcmVhdGlvbkxhc3RMaW5lKHBvczogUElYSS5Qb2ludCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1vdXNlTGFzdFBvcyA9IHBvcztcbiAgICAgICAgbGV0IGcgPSB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheTtcbiAgICAgICAgZy5jbGVhcigpO1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRMYXN0UG9zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGcubW92ZVRvKHRoaXMuY3JlYXRlZExhc3RQb3NbMF0sIHRoaXMuY3JlYXRlZExhc3RQb3NbMV0pO1xuICAgICAgICAgICAgZy5saW5lU3R5bGUoNSwgU0VMRUNUSU9OX0NPTE9SKTtcbiAgICAgICAgICAgIGcubGluZVRvKHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cbiAgICAgICAgZy5saW5lU3R5bGUoMCk7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAwICYmIHRoaXMuY3JlYXRlZExhc3RQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZy5iZWdpbkZpbGwoMHhlNTEwMTApO1xuICAgICAgICAgICAgZy5kcmF3Q2lyY2xlKHRoaXMuY3JlYXRlZExhc3RQb3NbMF0sIHRoaXMuY3JlYXRlZExhc3RQb3NbMV0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBnLmJlZ2luRmlsbCgweDQwNUZGRSk7XG4gICAgICAgIGcuZHJhd0NpcmNsZShwb3MueCwgcG9zLnksIDEwKTtcbiAgICB9XG5cbiAgICBhZGRWZXJ0ZXgocG9pbnQ6IFBJWEkuUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGxwID0gdGhpcy5jcmVhdGVkTGFzdFBvcztcblxuICAgICAgICBpZiAobHAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgfSBlbHNlIGlmIChwb2ludC54ID09IGxwWzBdICYmIHBvaW50LnkgPT0gbHBbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb2ludHMgPSBbbHBbMF0sIGxwWzFdLCBwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgICAgIHRoaXMuc3lzLmZpeEludGVyc2VjdGlvbnMocG9pbnRzLCAwKTtcbiAgICAgICAgICAgIGxldCBwbGVuID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBwbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW50aXR5ID0gdGhpcy5zeXMuY3JlYXRlV2FsbChcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2kgLSAyXSwgcG9pbnRzW2kgLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW2kgICAgXSwgcG9pbnRzW2kgKyAxXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgICAgICAgICAgZW50aXRpZXM6IFtlbnRpdHldXG4gICAgICAgICAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy5zeXMud29ybGQsIGNtZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5kb1ZlcnRleChwb2ludDogUElYSS5Qb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVkTGFzdFBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHRoaXMubW91c2VMYXN0UG9zID0gcG9pbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogW3RoaXMuY3JlYXRlZElkcy5wb3AoKV0sXG4gICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy5zeXMud29ybGQsIGNtZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvbXB1dGVDcmVhdGVkTGFzdFBvcygpO1xuICAgIH1cblxuICAgIHJlY29tcHV0ZUNyZWF0ZWRMYXN0UG9zKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpZCA9IHRoaXMuY3JlYXRlZElkc1t0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgd2FsbFBvcyA9IHRoaXMuc3lzLndvcmxkLmdldENvbXBvbmVudChpZCwgUE9TSVRJT05fVFlQRSkhIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLnN5cy5zdG9yYWdlLmdldENvbXBvbmVudChpZCkhO1xuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gW1xuICAgICAgICAgICAgICAgIHdhbGxQb3MueCArIHdhbGwudmVjWzBdLFxuICAgICAgICAgICAgICAgIHdhbGxQb3MueSArIHdhbGwudmVjWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVkcmF3Q3JlYXRpb25MYXN0TGluZSh0aGlzLm1vdXNlTGFzdFBvcyk7XG4gICAgfVxuXG4gICAgb25TdGFydCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlck1vdmVFdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMuc3lzLndvcmxkLCBldmVudCk7XG4gICAgICAgIHRoaXMucmVkcmF3Q3JlYXRpb25MYXN0TGluZShwb2ludCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyQ2xpY2soZXZlbnQ6IFBvaW50ZXJDbGlja0V2ZW50KSB7XG4gICAgICAgIGxldCBwb2ludCA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy5zeXMud29ybGQsIGV2ZW50KTtcbiAgICAgICAgdGhpcy5hZGRWZXJ0ZXgocG9pbnQpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlclJpZ2h0RG93bihldmVudDogUG9pbnRlclJpZ2h0RG93bkV2ZW50KSB7XG4gICAgICAgIGxldCBwb2ludCA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy5zeXMud29ybGQsIGV2ZW50KTtcbiAgICAgICAgdGhpcy51bmRvVmVydGV4KHBvaW50KTtcbiAgICB9XG5cbiAgICBvbkVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbmRDcmVhdGlvbigpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuV0FMTCArIDE7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMuYm9hcmQuYWRkQ2hpbGQodGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkpO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5zb3J0Q2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS5kZXN0cm95KERFU1RST1lfQUxMKVxuICAgIH1cbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50LCBQb2ludGVyRG93bkV2ZW50LCBQb2ludGVyTW92ZUV2ZW50LCBQb2ludGVyVXBFdmVudH0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbERyaXZlcn0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge2ZpbmRFbnRpdGllc0F0LCBnZXRCb2FyZFBvc0Zyb21PcmlnaW4sIGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb259IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuL3Rvb2xUeXBlXCI7XG5pbXBvcnQge1JlY3Rhbmd1bGFyU2VsZWN0aW9ufSBmcm9tIFwiLi9yZWN0YW5ndWxhclNlbGVjdGlvblwiO1xuaW1wb3J0IHtMQVlFUl9UWVBFLCBMYXllclN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbVwiO1xuaW1wb3J0IHtLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5cblxuZXhwb3J0IGNsYXNzIEluc3BlY3RUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuSU5TUEVDVDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGF5ZXJTeXM6IExheWVyU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkga2V5Ym9hcmQ6IEtleWJvYXJkUmVzb3VyY2U7XG5cbiAgICBwcml2YXRlIGp1c3RTZWxlY3RlZDogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIGxhc3REb3duRW50aXRpZXM6IG51bWJlcltdID0gW107XG4gICAgcHJpdmF0ZSBsYXN0RG93blNlbGVjdGVkOiBudW1iZXJbXSA9IFtdO1xuICAgIHByaXZhdGUgZmlyc3RFbnRpdHk6IG51bWJlciA9IC0xO1xuXG4gICAgcHJpdmF0ZSBpc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGNhbk1vdmVTZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgaXNNb3Zpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIG1vdmluZ1N0YXJ0ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICBwcml2YXRlIGxhc3RNb3ZlID0gbmV3IFBJWEkuUG9pbnQoKTtcblxuICAgIHByaXZhdGUgbGFzdENsaWNrOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgaXNQYW5uaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSByZWN0U2VsZWN0aW9uOiBSZWN0YW5ndWxhclNlbGVjdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5sYXllclN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KExBWUVSX1RZUEUpIGFzIExheWVyU3lzdGVtO1xuICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24gPSBuZXcgUmVjdGFuZ3VsYXJTZWxlY3Rpb24od29ybGQpO1xuICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24ucHJlZGljYXRlID0gaWQgPT4gIXRoaXMubGF5ZXJTeXMuZ2V0RW50aXR5TGF5ZXIoaWQpLmxvY2tlZDtcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHdvcmxkLmdldFJlc291cmNlKEtFWUJPQVJEX1RZUEUpISBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBpZiAobm93IC0gdGhpcy5sYXN0Q2xpY2sgPCA4MDApIHtcbiAgICAgICAgICAgIC8vIGRvdWJsZSBjbGljayFcbiAgICAgICAgICAgIHRoaXMubGFzdENsaWNrID0gMDtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImludGVyYWN0XCIsIFsuLi50aGlzLmxhc3REb3duU2VsZWN0ZWQsIC4uLnRoaXMubGFzdERvd25FbnRpdGllc10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdENsaWNrID0gbm93O1xuXG4gICAgICAgIGxldCBjdHJsUHJlc3NlZCA9ICEhZXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50LmN0cmxLZXk7XG5cbiAgICAgICAgbGV0IGVudGl0aWVzID0gdGhpcy5sYXN0RG93bkVudGl0aWVzLmxlbmd0aCArIHRoaXMubGFzdERvd25TZWxlY3RlZC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGVudGl0aWVzID09PSAwICYmICFjdHJsUHJlc3NlZCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuY2xlYXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdHJsUHJlc3NlZCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMucmVtb3ZlRW50aXRpZXModGhpcy5sYXN0RG93bkVudGl0aWVzKTtcbiAgICAgICAgICAgIGxldCB0b1JlbW92ZSA9IFtdXG4gICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5sYXN0RG93blNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuanVzdFNlbGVjdGVkLmluZGV4T2YoZW50aXR5KSAhPT0gLTEpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZS5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5yZW1vdmVFbnRpdGllcyh0b1JlbW92ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maXJzdEVudGl0eSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzLnNpemUgPT09IDEgJiYgdGhpcy5qdXN0U2VsZWN0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xpY2tlZCBhIHByZXZpb3VzbHkgY2xpY2tlZCBlbnRpdHksIHJlbW92ZSBpdC5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyRG93bihldmVudDogUG9pbnRlckRvd25FdmVudCkge1xuICAgICAgICB0aGlzLmlzRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMuanVzdFNlbGVjdGVkLmxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBwb2ludCA9IGdldEJvYXJkUG9zRnJvbU9yaWdpbih0aGlzLndvcmxkLCBldmVudCk7XG4gICAgICAgIGxldCBjdHJsUHJlc3NlZCA9ICEhZXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50LmN0cmxLZXk7XG5cbiAgICAgICAgbGV0IGVudGl0aWVzID0gZmluZEVudGl0aWVzQXQodGhpcy53b3JsZCwgcG9pbnQsIHRydWUpO1xuXG4gICAgICAgIHRoaXMubGFzdERvd25FbnRpdGllcyA9IFtdO1xuICAgICAgICB0aGlzLmxhc3REb3duU2VsZWN0ZWQgPSBbXTtcblxuICAgICAgICB0aGlzLmZpcnN0RW50aXR5ID0gZW50aXRpZXMubGVuZ3RoID09PSAwID8gLTEgOiBlbnRpdGllc1swXTtcblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxheWVyU3lzLmdldEVudGl0eUxheWVyKGVudGl0eSkubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RG93bkVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RG93blNlbGVjdGVkLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNQYW5uaW5nID0gdGhpcy5rZXlib2FyZC5wcmVzc2VkS2V5cy5oYXMoXCIgXCIpOy8vIENoZWNrIGlmIHRoZSBzcGFjZSBrZXkgaXMgcHJlc3NlZDtcblxuICAgICAgICBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUGFubmluZyAmJiB0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0U2VsZWN0aW9uLmJlZ2luKHBvaW50KTtcbiAgICAgICAgICAgICAgICBldmVudC5jb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsaWVudHMgY2FuJ3QgbW92ZSBhbnl0aGluZyAoVE9ETzogdGhpcyBzaG91bGQgYmUgZmFsc2UpXG4gICAgICAgIGV2ZW50LmNvbnN1bWVkIHx8PSB0aGlzLndvcmxkLmlzTWFzdGVyO1xuICAgICAgICAvLyBldmVudC5jb25zdW1lZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGN0cmxQcmVzc2VkKSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzO1xuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIHRoaXMubGFzdERvd25TZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qdXN0U2VsZWN0ZWQucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmFkZEVudGl0aWVzKHRoaXMuanVzdFNlbGVjdGVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxhc3REb3duU2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5sYXN0RG93blNlbGVjdGVkWzBdO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmp1c3RTZWxlY3RlZC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnNldE9ubHlFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGJldHRlciBtb3ZlIHN5c3RlbVxuICAgICAgICB0aGlzLmNhbk1vdmVTZWxlY3RlZCA9IHRoaXMud29ybGQuaXNNYXN0ZXI7XG4gICAgICAgIGlmICghdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgcCA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy53b3JsZCwgZXZlbnQpO1xuICAgICAgICB0aGlzLm1vdmluZ1N0YXJ0LmNvcHlGcm9tKHApO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlLnNldCgwLCAwKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5yZWN0U2VsZWN0aW9uLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uZG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ3Rvb2xfbW92ZV9lbmQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93biB8fCAhdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQgfHwgZXZlbnQuY2FuQmVjb21lQ2xpY2spIHJldHVybjtcblxuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMud29ybGQsIGV2ZW50KTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY3RTZWxlY3Rpb24uaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uYmVnaW4odGhpcy5tb3ZpbmdTdGFydCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5tb3ZlRW5kKHBvaW50KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgndG9vbF9tb3ZlX2JlZ2luJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaWZmWCA9IHBvaW50LnggLSB0aGlzLm1vdmluZ1N0YXJ0Lng7XG4gICAgICAgICAgICBsZXQgZGlmZlkgPSBwb2ludC55IC0gdGhpcy5tb3ZpbmdTdGFydC55O1xuXG4gICAgICAgICAgICBsZXQgbW92ZVggPSBkaWZmWCAtIHRoaXMubGFzdE1vdmUueDtcbiAgICAgICAgICAgIGxldCBtb3ZlWSA9IGRpZmZZIC0gdGhpcy5sYXN0TW92ZS55O1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZS5zZXQoZGlmZlgsIGRpZmZZKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLm1vdmVBbGwobW92ZVgsIG1vdmVZLCB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7UG9pbnRlckNsaWNrRXZlbnQsIFBvaW50ZXJEb3duRXZlbnQsIFBvaW50ZXJNb3ZlRXZlbnQsIFBvaW50ZXJVcEV2ZW50fSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtUb29sRHJpdmVyfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7Z2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbn0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4vdG9vbFR5cGVcIjtcbmltcG9ydCB7S0VZQk9BUkRfVFlQRSwgS2V5Ym9hcmRSZXNvdXJjZX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9rZXlib2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtNRUFTVVJFX1RZUEUsIE1lYXN1cmVSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5cblxuZXhwb3J0IGNsYXNzIE1lYXN1cmVUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuTUVBU1VSRTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgcHJpdmF0ZSBzdGFydE1lYXN1cmU6IFBJWEkuSVBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICBwcml2YXRlIGxhc3RNZWFzdXJlOiBQSVhJLklQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgcHJpdmF0ZSBpc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSB3b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSEgYXMgS2V5Ym9hcmRSZXNvdXJjZTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICB9XG5cbiAgICBwdXNoUmVzKCkge1xuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHtcbiAgICAgICAgICAgIHR5cGU6IE1FQVNVUkVfVFlQRSxcbiAgICAgICAgICAgIGZyb21YOiB0aGlzLnN0YXJ0TWVhc3VyZS54LFxuICAgICAgICAgICAgZnJvbVk6IHRoaXMuc3RhcnRNZWFzdXJlLnksXG4gICAgICAgICAgICB0b1g6IHRoaXMubGFzdE1lYXN1cmUueCxcbiAgICAgICAgICAgIHRvWTogdGhpcy5sYXN0TWVhc3VyZS55LFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIE1lYXN1cmVSZXNvdXJjZSwgJ3VwZGF0ZScpO1xuICAgIH1cblxuICAgIHJlbW92ZVJlcygpIHtcbiAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVSZXNvdXJjZShNRUFTVVJFX1RZUEUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRG93bkV2ZW50KSB7XG4gICAgICAgIGV2ZW50LmNvbnN1bWVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmlzRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRNZWFzdXJlID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLndvcmxkLCBldmVudCk7XG4gICAgICAgIHRoaXMubGFzdE1lYXN1cmUgPSB0aGlzLnN0YXJ0TWVhc3VyZTtcblxuICAgICAgICB0aGlzLnB1c2hSZXMoKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmxhc3RNZWFzdXJlID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLndvcmxkLCBldmVudCk7XG5cbiAgICAgICAgdGhpcy5wdXNoUmVzKCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlck1vdmVFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNEb3duKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5sYXN0TWVhc3VyZSA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy53b3JsZCwgZXZlbnQpO1xuXG4gICAgICAgIHRoaXMucHVzaFJlcygpO1xuICAgIH1cblxuICAgIG9uRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbW92ZVJlcygpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbSwgc2hhcGVBYWJifSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge2FhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZX0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7UkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5cbnR5cGUgSVBvaW50ID0gUElYSS5JUG9pbnQ7XG5cbmV4cG9ydCBjbGFzcyBSZWN0YW5ndWxhclNlbGVjdGlvbiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzdGFydFBvaW50OiBJUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIGVuZFBvaW50OiBJUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgcHJlZGljYXRlOiAoaWQ6IG51bWJlcikgPT4gYm9vbGVhbiA9IF8gPT4gdHJ1ZTtcbiAgICBlbnRpdGllc0luc2lkZSA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIGVudGl0aWVzU2VsZWN0ZWQgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBpc011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBkaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHdvcmxkLmdldFJlc291cmNlKEtFWUJPQVJEX1RZUEUpIGFzIEtleWJvYXJkUmVzb3VyY2U7XG4gICAgICAgIHRoaXMuZGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgIH1cblxuICAgIGJlZ2luKHBvczogSVBvaW50KSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXNTZWxlY3RlZC5jbGVhcigpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSxcbiAgICAgICAgICAgIGFhYmI6IG5ldyBBYWJiKHBvcy54LCBwb3MueSwgcG9zLngsIHBvcy55KSxcbiAgICAgICAgICAgIF9zYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgfSBhcyBSZWN0YW5ndWxhclNlbGVjdGlvblJlc291cmNlLCAndXBkYXRlJyk7XG4gICAgICAgIHRoaXMuc3RhcnRQb2ludCA9IHBvcztcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IHBvcztcblxuICAgICAgICB0aGlzLmlzTXVsdGlwbGUgPSB0aGlzLmtleWJvYXJkLmN0cmw7XG4gICAgICAgIGlmICghdGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBtb3ZlRW5kKHBvczogSVBvaW50KSB7XG4gICAgICAgIGxldCBhZGRlZCA9IFtdIGFzIEFhYmJbXTtcbiAgICAgICAgbGV0IHJlbW92ZWQgPSBbXSBhcyBBYWJiW107XG4gICAgICAgIGFhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZSh0aGlzLnN0YXJ0UG9pbnQhLCB0aGlzLmVuZFBvaW50ISwgcG9zLCBhZGRlZCwgcmVtb3ZlZCk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBhZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHggb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBwb3M7XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgIGFhYmI6IG5ldyBBYWJiKHRoaXMuc3RhcnRQb2ludCEueCwgdGhpcy5zdGFydFBvaW50IS55LCBwb3MueCwgcG9zLnkpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkb25lKCkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMud29ybGQucmVtb3ZlUmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpO1xuXG4gICAgICAgIHRoaXMuZW50aXRpZXNJbnNpZGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5lbnRpdGllc1NlbGVjdGVkLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVudGl0eUVudGVyKGlkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW50aXRpZXNTZWxlY3RlZC5hZGQoaWQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyhbaWRdKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5TGVhdmUoaWQ6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5lbnRpdGllc1NlbGVjdGVkLmRlbGV0ZShpZCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnJlbW92ZUVudGl0aWVzKFtpZF0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhZGRSZWN0KGFhYmI6IEFhYmIpIHtcbiAgICAgICAgbGV0IHN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIGxldCBlbnRzID0gc3lzLnF1ZXJ5VmlzaWJsZShzaGFwZUFhYmIoYWFiYiksIGMgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXRpZXNJbnNpZGUuaGFzKGMuZW50aXR5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGljYXRlKGMuZW50aXR5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGMgb2YgZW50cykge1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllc0luc2lkZS5hZGQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5vbkVudGl0eUVudGVyKGMuZW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVJlY3QoYWFiYjogQWFiYikge1xuICAgICAgICBsZXQgc3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgbGV0IGVudHMgPSBzeXMucXVlcnlWaXNpYmxlKHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllc0luc2lkZS5oYXMoYy5lbnRpdHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzSW5zaWRlLmRlbGV0ZShjLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLm9uRW50aXR5TGVhdmUoYy5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn0iLCJleHBvcnQgZW51bSBUb29sIHtcbiAgICBJTlNQRUNUPSAnaW5zcGVjdCcsXG4gICAgQ1JFQVRFX1dBTEwgPSAnY3JlYXRlX3dhbGwnLFxuICAgIENSRUFURV9QSU4gPSAnY3JlYXRlX3BpbicsXG4gICAgQ1JFQVRFX1BST1AgPSAnY3JlYXRlX3Byb3AnLFxuICAgIEdSSUQgPSAnZ3JpZCcsXG4gICAgTElHSFQgPSAnbGlnaHQnLFxuICAgIE1FQVNVUkU9ICdtZWFzdXJlJyxcbiAgICBQUk9QX1RFTEVQT1JUX0xJTksgPSAncHJvcF90ZWxlcG9ydF9saW5rJyxcbiAgICBNT1VTRV9UUkFJTCA9ICdtb3VzZV90cmFpbCcsXG59XG4iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtRdWVyeUhpdEV2ZW50fSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25TeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7V0FMTF9UWVBFLCBXYWxsU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy93YWxsU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2xEcml2ZXJ9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZEVudGl0aWVzQXQod29ybGQ6IFdvcmxkLCBwb2ludDogUElYSS5Qb2ludCwgbXVsdGk6IGJvb2xlYW4pOiBudW1iZXJbXSB7XG4gICAgbGV0IGV2ZW50ID0gUXVlcnlIaXRFdmVudC5xdWVyeVBvaW50KHBvaW50LCBtdWx0aSk7XG5cbiAgICB3b3JsZC5ldmVudHMuZW1pdCgncXVlcnlfaGl0JywgZXZlbnQpO1xuICAgIHJldHVybiBldmVudC5nZXRTb3J0ZWQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvYXJkUG9zRnJvbU9yaWdpbih3b3JsZDogV29ybGQsIGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQsIG9yaWc/OiBQSVhJLlBvaW50KTogUElYSS5Qb2ludCB7XG4gICAgbGV0IGJvYXJkID0gd29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgcmV0dXJuIGV2ZW50LmRhdGEuZ2V0TG9jYWxQb3NpdGlvbihib2FyZC5ib2FyZCwgb3JpZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHdvcmxkOiBXb3JsZCwgZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCwgb3JpZz86IFBJWEkuUG9pbnQpOiBQSVhJLlBvaW50IHtcbiAgICBsZXQgcG9pbnQgPSBnZXRCb2FyZFBvc0Zyb21PcmlnaW4od29ybGQsIGV2ZW50LCBvcmlnKTtcblxuICAgIGNvbnN0IGludGVyU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgbGV0IG5lYXJlc3QgPSBpbnRlclN5cy5zbmFwRGIuZmluZE5lYXJlc3QoW3BvaW50LngsIHBvaW50LnldKTtcbiAgICBpZiAobmVhcmVzdCAhPT0gdW5kZWZpbmVkICYmIG5lYXJlc3RbMV0gPCAxMDApIHtcbiAgICAgICAgcG9pbnQuc2V0KG5lYXJlc3RbMF1bMF0sIG5lYXJlc3RbMF1bMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHdhbGxTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChXQUxMX1RZUEUpIGFzIFdhbGxTeXN0ZW07XG4gICAgICAgIGxldCBvbldhbGxMb2MgPSB3YWxsU3lzPy5maW5kTG9jYXRpb25PbldhbGwocG9pbnQsIDUwKTtcbiAgICAgICAgaWYgKG9uV2FsbExvYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb2ludC5jb3B5RnJvbShvbldhbGxMb2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5RHJpdmVyKG5hbWU6IHN0cmluZyk6IFRvb2xEcml2ZXIge1xuICAgIHJldHVybiBuZXcgRW1wdHlUb29sRHJpdmVyKG5hbWUpO1xufVxuXG5jbGFzcyBFbXB0eVRvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG59XG4iLCIvLyBXZWxjb21lIHRvIHRoaXMgdGFsaywgSSdsbCBwcmVzZW50IHRvIHlvdTogbXkgc3R1cGlkIHZlcnNpb24gb2YgRUNTLlxuLy8gV2hhdCBhbSBJIHRyeWluZyB0byBzb2x2ZT9cbi8vIEV2ZXJ5dGhpbmcgaW4gdGhlIG1hcCB3aWxsIG5lZWQgdG8gaG9sZCBpbmZvcm1hdGlvbiwgdGhpcyBtaWdodCBiZSBhIHBsYXllciBob2xkaW5nIGludmVudG9yeSBvciBtYXliZSBhIG1vbnN0ZXJcbi8vIGhvbGRpbmcgdG8gbGlmZXBvaW50cyBhbmQgc3VjaC5cbi8vIFdoYXQncyBtb3JlPyBldmVyeSBlbnRpdHkgbWlnaHQgaGF2ZSBtdWx0aXBsZSBuYW1lcyBhbmQgb25seSBzb21lIG9mIHRoZW0gbWlnaHQgYmUgcHVibGljXG4vLyBzbyB3ZSBhbHNvIGhhdmUgc29tZXRoaW5nIHNpbWlsYXIgdG8gYSBcIm11bHRpcGxlIGNvbXBvbmVudFwiLlxuXG5pbXBvcnQge0Vjc1N0b3JhZ2V9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuL3Jlc291cmNlXCI7XG5pbXBvcnQge1N5c3RlbUdyYXBofSBmcm9tIFwiLi9zeXN0ZW1HcmFwaFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuL3N5c3RlbVwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHtmaWx0ZXJDb21wb25lbnQsIGdlbmVyYXRlUmFuZG9tSWR9IGZyb20gXCIuL2Vjc1V0aWxcIjtcblxuXG5leHBvcnQgdHlwZSBTZXJpYWxpemVkV29ybGQgPSB7XG4gICAgZW50aXRpZXM6IG51bWJlcltdO1xuICAgIHN0b3JhZ2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX07XG4gICAgcmVzb3VyY2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEVjc0VudGl0eUxpbmtlZCB7XG4gICAgX2Vjc19lbnRpdHk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIEFueU1hcFR5cGUgPSB7W2tleTogc3RyaW5nXTogYW55fTtcbmV4cG9ydCB0eXBlIE11bHRpRWRpdFR5cGUgPSBBcnJheTx7XG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGNoYW5nZXM6IEFueU1hcFR5cGUsXG4gICAgbXVsdGlJZD86IG51bWJlcixcbiAgICBjbGVhckNoYW5nZXM/OiBib29sZWFuLFxufT47XG50eXBlIE11bHRpRWRpdFR5cGVXb3JrID0gTXVsdGlFZGl0VHlwZSAmIEFycmF5PHtcbiAgICBfc2tpcD86IHRydWU7XG4gICAgX2NvbXA/OiBDb21wb25lbnQ7XG59PjtcblxuZXhwb3J0IHR5cGUgRnJvemVuRW50aXR5ID0ge1xuICAgIGlkOiBudW1iZXIsXG4gICAgY29tcG9uZW50czogQXJyYXk8eyB0eXBlOiBzdHJpbmc7IH0+LFxufTtcblxuZXhwb3J0IHR5cGUgRnJvemVuRW50aXRpZXMgPSBBcnJheTxGcm96ZW5FbnRpdHk+O1xuXG5leHBvcnQgdHlwZSBSZXNvdXJjZUFkZFByZXNlbnRUeXBlID0gJ2ZhaWwnIHwgJ2lnbm9yZScgfCAndXBkYXRlJztcblxuXG5leHBvcnQgY2xhc3MgV29ybGQge1xuICAgIHN5c3RlbXMgPSBuZXcgU3lzdGVtR3JhcGgoKTtcbiAgICBzdG9yYWdlcyA9IG5ldyBNYXA8c3RyaW5nLCBFY3NTdG9yYWdlPGFueT4+KCk7XG4gICAgc3RvcmFnZUxpc3QgPSBuZXcgQXJyYXk8RWNzU3RvcmFnZTxhbnk+PigpO1xuICAgIGVudGl0aWVzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgcmVzb3VyY2VzID0gbmV3IE1hcDxzdHJpbmcsIFJlc291cmNlPigpO1xuXG4gICAgcHJpdmF0ZSBzeXN0ZW1zRmluYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNEZXNlcmlhbGl6aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNNYXN0ZXI6IGJvb2xlYW47XG5cbiAgICAvLyAgICAgIEV2ZW50IGxpc3Q6XG4gICAgLy8gZW50aXR5X3NwYXduKGlkKVxuICAgIC8vIGVudGl0eV9zcGF3bmVkKGlkKSAtIEFmdGVyIGFuIGVudGl0eSBpcyBzcGF3bmVkXG4gICAgLy8gZW50aXR5X2Rlc3Bhd24oaWQpXG4gICAgLy8gZW50aXR5X2Rlc3Bhd25lZChpZCkgLSBBZnRlciBhbiBlbnRpdHkgaXMgZGVzcGF3bmVkXG4gICAgLy8gY29tcG9uZW50X2FkZChjb21wb25lbnQpXG4gICAgLy8gY29tcG9uZW50X2VkaXQoY2hhbmdlcywgY29tcG9uZW50KSAtIEJlZm9yZSB0aGUgY29tcG9uZW50IGlzIGVkaXRlZFxuICAgIC8vIGNvbXBvbmVudF9lZGl0ZWQoY29tcG9uZW50LCBjaGFuZ2VzKSAtIEFmdGVyIHRoZSBjb21wb25lbnQgaXMgZWRpdGVkXG4gICAgLy8gY29tcG9uZW50X3JlbW92ZShjb21wb25lbnQpXG4gICAgLy8gY29tcG9uZW50X3JlbW92ZWQoY29tcG9uZW50KVxuICAgIC8vIHJlc291cmNlX2FkZChyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9hZGRlZChyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9lZGl0KG9sZFJlcywgbmV3UmVzKVxuICAgIC8vIHJlc291cmNlX3JlbW92ZShyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9yZW1vdmVkKHJlc291cmNlKVxuICAgIC8vIGNsZWFyKClcbiAgICAvLyBjbGVhcmVkKClcbiAgICAvLyBzZXJpYWxpemUoKVxuICAgIC8vIHNlcmlhbGl6ZWQocmVzKVxuICAgIC8vIHNlcmlhbGl6ZV9lbnRpdHkoZW50aXR5KVxuICAgIC8vIGRlc2VyaWFsaXplKGRhdGEpXG4gICAgLy8gZGVzZXJpYWxpemVkKClcbiAgICAvLyAgICAgIEV4dGVybmFsIGV2ZW50czpcbiAgICAvLyBxdWVyeV9oaXQoZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpXG4gICAgLy8gc2VsZWN0aW9uX2JlZ2luKGVudGl0aWVzKVxuICAgIC8vIHNlbGVjdGlvbl9lbmQoZW50aXRpZXMpXG4gICAgLy8gc2VsZWN0aW9uX3VwZGF0ZSgpXG4gICAgLy8gdG9vbF9tb3ZlX2JlZ2luKClcbiAgICAvLyB0b29sX21vdmVfZW5kKClcbiAgICAvLyAgICAgIFRPRE9cbiAgICAvLyBiYXRjaF91cGRhdGVfYmVnaW4oKVxuICAgIC8vIGJhdGNoX3VwZGF0ZV9lbmQoKVxuICAgIGV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihpc01hc3RlcjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTWFzdGVyID0gaXNNYXN0ZXI7XG4gICAgfVxuXG4gICAgZ2V0U3RvcmFnZShuYW1lOiBzdHJpbmcpOiBFY3NTdG9yYWdlPENvbXBvbmVudD4ge1xuICAgICAgICBsZXQgcyA9IHRoaXMuc3RvcmFnZXMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIHN0b3JhZ2UgXCIgKyBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGFsbG9jYXRlSWQoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGlkID0gLTE7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWQgPSBnZW5lcmF0ZVJhbmRvbUlkKCk7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuZW50aXRpZXMuaGFzKGlkKSlcblxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgc3Bhd25FbnRpdHkoLi4uY29tcG9uZW50czogQXJyYXk8Q29tcG9uZW50Pik6IG51bWJlciB7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuYWxsb2NhdGVJZCgpO1xuXG4gICAgICAgIHRoaXMuc3Bhd25FbnRpdHlNYW51YWwoaWQsIGNvbXBvbmVudHMpO1xuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBzcGF3bkVudGl0eU1hbnVhbChpZDogbnVtYmVyLCBjb21wb25lbnRzOiBBcnJheTxDb21wb25lbnQ+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMuYWRkKGlkKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd24nLCBpZCk7XG5cbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wb25lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChpZCwgY29tcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd25lZCcsIGlkKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBkZWFsIHdpdGggZW50aXR5IGxpbmtzXG4gICAgcmVzcGF3bkVudGl0aWVzKGRhdGE6IEZyb3plbkVudGl0aWVzKSB7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZW50aXR5LmlkID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGVudGl0eS5pZCA9IHRoaXMuYWxsb2NhdGVJZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5hZGQoZW50aXR5LmlkKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduJywgZW50aXR5LmlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZW50aXR5LmlkLCBjIGFzIENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduZWQnLCBlbnRpdHkuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzcGF3bkVudGl0aWVzU2F2ZShlbnRpdGllczogbnVtYmVyW10pOiBGcm96ZW5FbnRpdGllcyB7XG4gICAgICAgIGxldCByZXMgPSBbXSBhcyBGcm96ZW5FbnRpdGllcztcblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5zYXZlQWxsQ29tcG9uZW50cyhlbnRpdHkpO1xuXG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBjb21wLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc3Bhd25FbnRpdHkoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X2Rlc3Bhd24nLCBlbnRpdHkpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdG9yYWdlTGlzdC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2VMaXN0W2ldO1xuICAgICAgICAgICAgbGV0IGNvbXBzID0gWy4uLnN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpXVxuICAgICAgICAgICAgaWYgKGNvbXBzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlJywgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlckFsbE9mKGVudGl0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnRpdGllcy5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X2Rlc3Bhd25lZCcsIGVudGl0eSk7XG4gICAgfVxuXG4gICAgYWRkU3lzdGVtKHN5c3RlbTogU3lzdGVtKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN5c3RlbXNGaW5hbGl6ZWQpIHRocm93ICdUb28gbGF0ZSB0byBhZGQgYSBzeXN0ZW0nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnJlZ2lzdGVyKHN5c3RlbSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIHdoaWxlIG1vdW50aW5nIFwiICsgc3lzdGVtLm5hbWUgKyBcIjogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc0FsbENvbXBvbmVudHMoZW50aXR5OiBudW1iZXIsIC4uLnR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGxldCB0IG9mIHR5cGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCB0KSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYWRkQ29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBjbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBjbXAuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZXMuZ2V0KGNtcC50eXBlKTtcbiAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVnaXN0ZXIgY29tcG9uZW50IG9mIHR5cGUgJyArIGNtcC50eXBlICsgJywgbm8gc3RvcmFnZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JhZ2UucmVnaXN0ZXIoY21wKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2FkZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmUnLCBjbXApO1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZShjbXAudHlwZSk7XG4gICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlcihjbXApO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50VHlwZShlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5nZXRTdG9yYWdlKHR5cGUpLmdldENvbXBvbmVudHMoZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRTdG9yYWdlKHN0b3JhZ2U6IEVjc1N0b3JhZ2U8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JhZ2VzLnNldChzdG9yYWdlLnR5cGUsIHN0b3JhZ2UpO1xuICAgICAgICB0aGlzLnN0b3JhZ2VMaXN0LnB1c2goc3RvcmFnZSk7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIG11bHRpSWQ/OiBudW1iZXIpOiBDb21wb25lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2UuZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5LCBtdWx0aUlkKTtcbiAgICB9XG5cbiAgICBzYXZlQWxsQ29tcG9uZW50cyhlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudFtdIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc2F2ZSkgY29udGludWU7XG4gICAgICAgICAgICByZXMucHVzaCguLi5zdG9yYWdlLmdldENvbXBvbmVudHMoZW50aXR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLm1hcChmaWx0ZXJDb21wb25lbnQpO1xuICAgIH1cblxuICAgIGdldEFsbENvbXBvbmVudHMoZW50aXR5OiBudW1iZXIpOiBDb21wb25lbnRbXSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8Q29tcG9uZW50PigpO1xuXG4gICAgICAgIGZvciAobGV0IHN0b3JhZ2Ugb2YgdGhpcy5zdG9yYWdlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uc3RvcmFnZS5nZXRDb21wb25lbnRzKGVudGl0eSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBlZGl0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIGNoYW5nZXM6IEFueU1hcFR5cGUsIG11bHRpSWQ/OiBudW1iZXIsIGNsZWFyQ2g6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCB0eXBlLCBtdWx0aUlkKTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBmaW5kIGNvbXBvbmVudCAnICsgdHlwZSArICcgb2YgZW50aXR5OiAnICsgZW50aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsZWFyQ2ggJiYgIWNsZWFyQ2hhbmdlcyhjLCBjaGFuZ2VzKSkgcmV0dXJuOy8vIE5vIHJlYWwgY2hhbmdlc1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdCcsIGMsIGNoYW5nZXMpO1xuXG4gICAgICAgIGxldCBjaGFuZ2VkID0gYXNzaWduU3dhcChjLCBjaGFuZ2VzKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdGVkJywgYywgY2hhbmdlZCk7XG4gICAgfVxuXG4gICAgZWRpdENvbXBvbmVudE11bHRpcGxlKGVudGl0eTogbnVtYmVyLCBjaGFuZ2VzOiBNdWx0aUVkaXRUeXBlKTogdm9pZCB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbXBvbmVudChlbnRpdHksIGNoYW5nZXNbMF0udHlwZSwgY2hhbmdlc1swXS5jaGFuZ2VzLCBjaGFuZ2VzWzBdLm11bHRpSWQsIGNoYW5nZXNbMF0uY2xlYXJDaGFuZ2VzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hzID0gY2hhbmdlcyBhcyBNdWx0aUVkaXRUeXBlV29yaztcbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmdldENvbXBvbmVudChlbnRpdHksIGNoYW5nZS50eXBlLCBjaGFuZ2UubXVsdGlJZCk7XG4gICAgICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBmaW5kIGNvbXBvbmVudCAnICsgY2hhbmdlLnR5cGUgKyAnIG9mIGVudGl0eTogJyArIGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZS5fY29tcCA9IGM7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UuY2xlYXJDaGFuZ2VzICYmICFjbGVhckNoYW5nZXMoYywgY2hhbmdlcykpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2UuX3NraXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdCcsIGNoYW5nZS5fY29tcCEsIGNoYW5nZS5jaGFuZ2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuICAgICAgICAgICAgYXNzaWduU3dhcChjaGFuZ2UuX2NvbXAhLCBjaGFuZ2UuY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5fc2tpcCkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdGVkJywgY2hhbmdlLl9jb21wISwgY2hhbmdlLmNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUmVzb3VyY2UocmVzb3VyY2U6IFJlc291cmNlLCBpZlByZXNlbnQ6IFJlc291cmNlQWRkUHJlc2VudFR5cGUgPSAnZmFpbCcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzLmhhcyhyZXNvdXJjZS50eXBlKSkge1xuICAgICAgICAgICAgc3dpdGNoIChpZlByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpZ25vcmUnOiBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1cGRhdGUnOiB0aGlzLmVkaXRSZXNvdXJjZShyZXNvdXJjZS50eXBlLCByZXNvdXJjZSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93ICdSZXNvdXJjZSB0eXBlIGFscmVhZHkgcHJlc2VudCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9hZGQnLCByZXNvdXJjZSk7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlcy5oYXMocmVzb3VyY2UudHlwZSkpIHRocm93ICdcInJlc291cmNlX2FkZFwiIGV2ZW50IGhhcyBhZGRlZCBhIHJlc291cmNlIG9mIHRoZSBzYW1lIHR5cGUhJztcblxuICAgICAgICB0aGlzLnJlc291cmNlcy5zZXQocmVzb3VyY2UudHlwZSwgcmVzb3VyY2UpO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9hZGRlZCcsIHJlc291cmNlKTtcbiAgICB9XG5cbiAgICBnZXRSZXNvdXJjZSh0eXBlOiBzdHJpbmcpOiBSZXNvdXJjZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5nZXQodHlwZSk7XG4gICAgfVxuXG4gICAgZWRpdFJlc291cmNlKHR5cGU6IHN0cmluZywgY2hhbmdlczogQW55TWFwVHlwZSk6IHZvaWQge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5nZXRSZXNvdXJjZSh0eXBlKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGZpbmQgcmVzb3VyY2UgJyArIHR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNsZWFyQ2hhbmdlcyhyZXMsIGNoYW5nZXMpKSByZXR1cm47Ly8gTm8gcmVhbCBjaGFuZ2VzXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX2VkaXQnLCByZXMsIGNoYW5nZXMpO1xuICAgICAgICBhc3NpZ25Td2FwKHJlcywgY2hhbmdlcyk7Ly8gY2hhbmdlcyBub3cgaGFzIG9sZCB2YWx1ZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfZWRpdGVkJywgcmVzLCBjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICByZW1vdmVSZXNvdXJjZSh0eXBlOiBzdHJpbmcsIGZhaWxJZk5vdFByZXNlbnQ6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKHJlc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChmYWlsSWZOb3RQcmVzZW50KSB0aHJvdyAnUmVzb3VyY2UgdHlwZSBub3QgZm91bmQnO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX3JlbW92ZScsIHJlc291cmNlKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlcy5kZWxldGUodHlwZSk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX3JlbW92ZWQnLCByZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBmb3IgKGxldCBzeXN0ZW0gb2YgdGhpcy5zeXN0ZW1zKSB7XG4gICAgICAgICAgICBzeXN0ZW0uZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zeXN0ZW1zLnNpemUoKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgc3lzdGVtID0gdGhpcy5zeXN0ZW1zLmdldEF0KGkpO1xuICAgICAgICAgICAgc3lzdGVtLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBTZXJpYWxpemVkV29ybGQge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzZXJpYWxpemUnLCAnc2F2ZScpO1xuXG4gICAgICAgIGxldCBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc2F2ZSkgY29udGludWU7XG4gICAgICAgICAgICBzdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0gc3RvcmFnZS5zZXJpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvdXJjZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IHJlc291cmNlIG9mIHRoaXMucmVzb3VyY2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuX3NhdmUgPT09IGZhbHNlKSBjb250aW51ZTsvLyB1bmRlZmluZWQgaXMgdHJlYXRlZCBhcyB0cnVlIHNvIHRoYXQgbG9hZGVkIHJlc291cmNlcyBnZXQgc2F2ZWQgYWdhaW5cbiAgICAgICAgICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAndHlwZScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJlc1tuYW1lXSA9IChyZXNvdXJjZSBhcyBhbnkpW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb3VyY2VzW3Jlc291cmNlLnR5cGVdID0gcmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IHtcbiAgICAgICAgICAgIGVudGl0aWVzOiBbLi4udGhpcy5lbnRpdGllc10sXG4gICAgICAgICAgICBzdG9yYWdlcyxcbiAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgfSBhcyBTZXJpYWxpemVkV29ybGQ7XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplZCcsIHJlcyk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoKTogU2VyaWFsaXplZFdvcmxkIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplJywgJ2NsaWVudCcpO1xuXG4gICAgICAgIGxldCBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICAgICAgbGV0IGhvc3RIaWRkZW4gPSB0aGlzLmdldFN0b3JhZ2UoJ2hvc3RfaGlkZGVuJyk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc3luYykgY29udGludWU7XG4gICAgICAgICAgICBzdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0gc3RvcmFnZS5zZXJpYWxpemVDbGllbnQoKGUpID0+IGhvc3RIaWRkZW4uZ2V0Rmlyc3RDb21wb25lbnQoZSkgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzb3VyY2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX0gPSB7fTtcblxuICAgICAgICBmb3IgKGxldCByZXNvdXJjZSBvZiB0aGlzLnJlc291cmNlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlLl9zeW5jID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiByZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ3R5cGUnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXNbbmFtZV0gPSAocmVzb3VyY2UgYXMgYW55KVtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc291cmNlc1tyZXNvdXJjZS50eXBlXSA9IHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXMgPSB7XG4gICAgICAgICAgICBlbnRpdGllczogWy4uLnRoaXMuZW50aXRpZXNdLmZpbHRlcigoZSkgPT4gaG9zdEhpZGRlbi5nZXRGaXJzdENvbXBvbmVudChlKSA9PT0gdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIHN0b3JhZ2VzLFxuICAgICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICB9IGFzIFNlcmlhbGl6ZWRXb3JsZDtcblxuXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3NlcmlhbGl6ZWQnLCByZXMpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemUoZGF0YTogU2VyaWFsaXplZFdvcmxkKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pc0Rlc2VyaWFsaXppbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdkZXNlcmlhbGl6ZScsIGRhdGEpO1xuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gZGF0YS5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSBkYXRhLnJlc291cmNlc1t0eXBlXTtcbiAgICAgICAgICAgIHJlcy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2UocmVzLCAndXBkYXRlJyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhLmVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzLmFkZChlbnRpdHkpO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd24nLCBlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBkYXRhLnN0b3JhZ2VzKSB7XG4gICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZXMuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZGVzZXJpYWxpemUgc3RvcmFnZSB0eXBlOiBcIiArIHR5cGUgKyBcIiwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yYWdlLmRlc2VyaWFsaXplKHRoaXMsIGRhdGEuc3RvcmFnZXNbdHlwZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bmVkJywgZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNEZXNlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Rlc2VyaWFsaXplZCcpO1xuICAgIH1cblxuICAgIHBvcHVsYXRlKCkge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwb3B1bGF0ZScpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjbGVhcicpO1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLnRoaXMuZW50aXRpZXNdKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSb3VuZCAyIChpZiBzb21lIGVudGl0eSBnZXRzIHNwYXduZWQgb24gZGVzcGF3bilcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIFsuLi50aGlzLmVudGl0aWVzXSkge1xuICAgICAgICAgICAgdGhpcy5kZXNwYXduRW50aXR5KGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW50aXRpZXMuc2l6ZSAhPT0gMCkgdGhyb3cgJ0VudGl0aWVzIHNwYXduZWQgd2hpbGUgY2xlYXJpbmchJztcbiAgICAgICAgLy8gVE9ETzogYWxzbyBjbGVhciByZXNvdXJjZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY2xlYXJlZCcpO1xuICAgICAgICB0aGlzLnBvcHVsYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogdXNlIFZ1ZSAzXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iailgIHJlc3VsdC5cbiAgICAgKiBUaGlzIGlzIGRvbmUgdG8gaGlkZSB0aGlzIG9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gb2JzZXJ2ZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMjYzNylcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIHR5cGUgbmFtZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N5bWJvbC90b1N0cmluZ1RhZ31cbiAgICAgKi9cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGNhbiBnbyBoZXJlIHJlYWxseSBhcyBsb25nIGFzIGl0J3Mgbm90ICdPYmplY3QnXG4gICAgICAgIHJldHVybiAnT2JqZWN0Tm9PYnNlcnZlJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzc2lnblN3YXAob2JqOiBhbnksIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gY2hhbmdlcykge1xuICAgICAgICBsZXQgdG1wID0gY2hhbmdlc1tuYW1lXTtcbiAgICAgICAgY2hhbmdlc1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgICAgb2JqW25hbWVdID0gdG1wO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlcztcbn1cblxuZnVuY3Rpb24gY2xlYXJDaGFuZ2VzKGZyb206IEFueU1hcFR5cGUsIGNoYW5nZXM6IEFueU1hcFR5cGUpOiBib29sZWFuIHtcbiAgICBsZXQgY2hhbmdlYyA9IDA7XG4gICAgZm9yIChsZXQgY2hhbmdlIGluIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGZyb21bY2hhbmdlXSA9PT0gY2hhbmdlc1tjaGFuZ2VdKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbmdlc1tjaGFuZ2VdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlYysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VjICE9PSAwO1xufVxuXG4iLCJleHBvcnQgZW51bSBHcmlkVHlwZSB7XG4gICAgU1FVQVJFLFxuICAgIEhFWEFHT04sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZEdyYXBoaWNhbE9wdGlvbnMge1xuICAgIHZpc2libGU6IGJvb2xlYW47XG4gICAgZ3JpZFR5cGU6IEdyaWRUeXBlLFxuICAgIGNvbG9yOiBudW1iZXI7XG4gICAgdGhpY2s6IG51bWJlcjtcbiAgICBvcGFjaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFBsYWNlbWVudE9wdGlvbnMge1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBvZmZYOiBudW1iZXI7XG4gICAgb2ZmWTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zIGV4dGVuZHMgR3JpZEdyYXBoaWNhbE9wdGlvbnMsIEdyaWRQbGFjZW1lbnRPcHRpb25zIHt9XG5cbmV4cG9ydCBjb25zdCBTVEFOREFSRF9HUklEX09QVElPTlMgPSB7XG4gICAgdmlzaWJsZTogdHJ1ZSxcbiAgICBncmlkVHlwZTogR3JpZFR5cGUuU1FVQVJFLFxuICAgIGNvbG9yOiAwLFxuICAgIHRoaWNrOiAxMCxcbiAgICBvcGFjaXR5OiAwLjc1LFxuICAgIHNpemU6IDEyOCxcbiAgICBvZmZYOiAwLFxuICAgIG9mZlk6IDAsXG59IGFzIEdyaWRPcHRpb25zO1xuIiwiaW1wb3J0IHtLMmRUcmVlfSBmcm9tIFwiLi4vdXRpbC9rMmRUcmVlXCI7XG5pbXBvcnQge2Rpc3RTcXVhcmVkMmQsIFBvaW50fSBmcm9tIFwiLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtHcmlkU3lzdGVtfSBmcm9tIFwiLi4vZWNzL3N5c3RlbXMvZ3JpZFN5c3RlbVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBQb2ludERCIHtcbiAgICAvLyBJbiBqcyB3ZSBjYW5ub3QgY3JlYXRlIGEgTWFwIHdpdGggYSBjdXN0b20gb2JqZWN0IGFzIGtleSAtXy1cbiAgICBwcml2YXRlIGNvdW50ZXIgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIHByaXZhdGUgdHJlZSA9IG5ldyBLMmRUcmVlKCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkPzogR3JpZFN5c3RlbTtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGdyaWQ/OiBHcmlkU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgfVxuXG5cbiAgICBpbnNlcnQocG9pbnQ6IFBvaW50KTogdm9pZCB7XG4gICAgICAgIGxldCBwdHJTdHIgPSBwb2ludFswXSArICd8JyArIHBvaW50WzFdO1xuICAgICAgICBsZXQgcCA9IHRoaXMuY291bnRlci5nZXQocHRyU3RyKSB8fCAwXG4gICAgICAgIHRoaXMuY291bnRlci5zZXQocHRyU3RyLCBwICsgMSk7XG4gICAgICAgIGlmIChwID09IDApIHtcbiAgICAgICAgICAgIHRoaXMudHJlZS5pbnNlcnQocG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICB9XG5cbiAgICByZW1vdmUocG9pbnQ6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBwdHJTdHIgPSBwb2ludFswXSArICd8JyArIHBvaW50WzFdO1xuICAgICAgICBsZXQgcCA9ICh0aGlzLmNvdW50ZXIuZ2V0KHB0clN0cikgfHwgMCkgLSAxO1xuICAgICAgICBpZiAocCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXIuZGVsZXRlKHB0clN0cik7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJlZS5yZW1vdmUocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlbW92ZSBub2RlOiAnICsgcG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHAgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXIuc2V0KHB0clN0ciwgcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50LS07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZpbmROZWFyZXN0KHBvaW50OiBQb2ludCk6IFtQb2ludCwgbnVtYmVyXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCB0cmVlTmVhcmVzdCA9IHRoaXMudHJlZS5uZWFyZXN0UG9pbnQocG9pbnQpO1xuXG4gICAgICAgIGxldCBncmlkTmVhcmVzdDogUG9pbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmdyaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ3JpZE5lYXJlc3QgPSB0aGlzLmdyaWQuY2xvc2VzdFBvaW50KHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncmlkTmVhcmVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZERpc3QgPSBkaXN0U3F1YXJlZDJkKHBvaW50WzBdLCBwb2ludFsxXSwgZ3JpZE5lYXJlc3RbMF0sIGdyaWROZWFyZXN0WzFdKTtcbiAgICAgICAgICAgIGlmICh0cmVlTmVhcmVzdCA9PT0gdW5kZWZpbmVkIHx8IGdyaWREaXN0IDwgdHJlZU5lYXJlc3RbMV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2dyaWROZWFyZXN0LCBncmlkRGlzdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJlZU5lYXJlc3Q7XG4gICAgfVxufSIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQgaGV4MnJnYiA9IFBJWEkudXRpbHMuaGV4MnJnYjtcblxuLy8gT3RoZXIgbWV0aG9kczogaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL2x3amdsLWJhc2ljcy93aWtpLzJELVBpeGVsLVBlcmZlY3QtU2hhZG93c1xuY29uc3QgTElHSFRfVkVSVEVYX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG4gICAgXG4gICAgdmFyeWluZyB2ZWMyIHZlY1BvcztcblxuICAgIHVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjUG9zID0gYVZlcnRleFBvc2l0aW9uO1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgIH1cbmA7XG5cbmNvbnN0IExJR0hUX0ZSQUdNRU5UX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG4gICAgXG4gICAgdW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiAgICB1bmlmb3JtIGZsb2F0IHJhZFNxdWFyZWQ7XG4gICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWMyIGRpZmYgPSBjZW50ZXIgLSB2ZWNQb3M7XG4gICAgICAgIGZsb2F0IGRpc3RTcSA9IGRpZmYueCAqIGRpZmYueCArIGRpZmYueSAqIGRpZmYueTtcbiAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gMS4wIC0gY2xhbXAoZGlzdFNxIC8gcmFkU3F1YXJlZCwgMC4sIDEuKTtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMSkgKiAoaW50ZW5zaXR5ICogaW50ZW5zaXR5KTsvLyBQcmUgbXVsdGlwbGllZCBhbHBoYVxuICAgIH1cbmA7XG5cbmNvbnN0IENPTlNUX0xJR0hUX0ZSQUdNRU5UX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG4gICAgXG4gICAgdW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiAgICB1bmlmb3JtIGZsb2F0IHJhZFNxdWFyZWQ7XG4gICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWMyIGRpZmYgPSBjZW50ZXIgLSB2ZWNQb3M7XG4gICAgICAgIGZsb2F0IGRpc3RTcSA9IGRpZmYueCAqIGRpZmYueCArIGRpZmYueSAqIGRpZmYueTtcbiAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gZmxvYXQoZGlzdFNxIDw9IHJhZFNxdWFyZWQpO1xuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxKSAqIGludGVuc2l0eTsvLyBQcmUgbXVsdGlwbGllZCBhbHBoYVxuICAgIH1cbmA7XG5cbmNvbnN0IFBMQVlFUl9WSVNfRlJBR01FTlRfU0hBREVSID0gYFxuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgdmFyeWluZyB2ZWMyIHZlY1BvcztcbiAgICBcbiAgICB1bmlmb3JtIHZlYzIgY2VudGVyO1xuICAgIHVuaWZvcm0gZmxvYXQgcmFkU3F1YXJlZDtcbiAgICB1bmlmb3JtIHZlYzMgY29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgIHZlYzIgZGlmZiA9IGNlbnRlciAtIHZlY1BvcztcbiAgICAgICAgZmxvYXQgZGlzdFNxID0gZGlmZi54ICogZGlmZi54ICsgZGlmZi55ICogZGlmZi55O1xuICAgICAgICBmbG9hdCBpbnRlbnNpdHkgPSAxLjAgLSBzbW9vdGhzdGVwKDAuOSwgMS4wLCBjbGFtcChkaXN0U3EgLyByYWRTcXVhcmVkLCAwLiwgMS4pKTtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMSkgKiBpbnRlbnNpdHk7Ly8gUHJlIG11bHRpcGxpZWQgYWxwaGFcbiAgICB9XG5gO1xuXG5sZXQgbGlnaHRQcm9ncmFtOiBQSVhJLlByb2dyYW0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5sZXQgY29uc3RMaWdodFByb2dyYW06IFBJWEkuUHJvZ3JhbSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmxldCBwbGF5ZXJWaXNQcm9ncmFtOiBQSVhJLlByb2dyYW0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbnR5cGUgTGlnaHRQcm9ncmFtVHlwZSA9ICdub3JtYWwnIHwgJ2NvbnN0JyB8ICdwbGF5ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgaWYgKGxpZ2h0UHJvZ3JhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpZ2h0UHJvZ3JhbSA9IFBJWEkuUHJvZ3JhbS5mcm9tKExJR0hUX1ZFUlRFWF9TSEFERVIsIExJR0hUX0ZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGNvbnN0TGlnaHRQcm9ncmFtID0gUElYSS5Qcm9ncmFtLmZyb20oTElHSFRfVkVSVEVYX1NIQURFUiwgQ09OU1RfTElHSFRfRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgcGxheWVyVmlzUHJvZ3JhbSA9IFBJWEkuUHJvZ3JhbS5mcm9tKExJR0hUX1ZFUlRFWF9TSEFERVIsIFBMQVlFUl9WSVNfRlJBR01FTlRfU0hBREVSKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZXNoKGxpZ2h0VHlwZTogTGlnaHRQcm9ncmFtVHlwZSA9ICdub3JtYWwnKTogUElYSS5NZXNoIHtcbiAgICBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICAgIGxldCBidWZmID0gbmV3IFBJWEkuQnVmZmVyKG5ldyBGbG9hdDMyQXJyYXkoMSkpO1xuICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgYnVmZiwgMiwgZmFsc2UsIFBJWEkuVFlQRVMuRkxPQVQpO1xuXG4gICAgbGV0IHByb2dyYW07XG4gICAgc3dpdGNoIChsaWdodFR5cGUpIHtcbiAgICAgICAgY2FzZSAnbm9ybWFsJzogcHJvZ3JhbSA9IGxpZ2h0UHJvZ3JhbTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NvbnN0JzogcHJvZ3JhbSA9IGNvbnN0TGlnaHRQcm9ncmFtOyBicmVhaztcbiAgICAgICAgY2FzZSAncGxheWVyJzogcHJvZ3JhbSA9IHBsYXllclZpc1Byb2dyYW07IGJyZWFrO1xuICAgIH1cbiAgICAvLyBXZSdsbCBjaGFuZ2UgdGhlbSBhbGwsIGluIGR1ZSB0aW1lXG4gICAgbGV0IHNoYWRlcnMgPSBuZXcgUElYSS5TaGFkZXIocHJvZ3JhbSwge1xuICAgICAgICAnY2VudGVyJzogbmV3IEZsb2F0MzJBcnJheShbMC41LCAwLjVdKSxcbiAgICAgICAgJ3JhZFNxdWFyZWQnOiAxMCxcbiAgICAgICAgJ2NvbG9yJzogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMF0pLFxuICAgIH0pO1xuXG4gICAgbGV0IG1lc2ggPSBuZXcgUElYSS5NZXNoKGdlb21ldHJ5LCBzaGFkZXJzIGFzIFBJWEkuTWVzaE1hdGVyaWFsLCB1bmRlZmluZWQsIFBJWEkuRFJBV19NT0RFUy5UUklBTkdMRV9GQU4pO1xuICAgIG1lc2guaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICBtZXNoLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgIHJldHVybiBtZXNoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWVzaFBvbHlnb25zKG1lc2g6IFBJWEkuTWVzaCwgcG9zOiBQSVhJLklQb2ludERhdGEsIHBvbHk6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IGJ1ZmZlciA9IG1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcblxuICAgIGxldCBmQnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShwb2x5Lmxlbmd0aCArIDQpO1xuICAgIGZCdWZmZXJbMF0gPSBwb3MueDtcbiAgICBmQnVmZmVyWzFdID0gcG9zLnk7XG4gICAgZkJ1ZmZlci5zZXQocG9seSwgMik7XG4gICAgZkJ1ZmZlcltwb2x5Lmxlbmd0aCArIDJdID0gcG9seVswXTtcbiAgICBmQnVmZmVyW3BvbHkubGVuZ3RoICsgM10gPSBwb2x5WzFdO1xuICAgIGJ1ZmZlci51cGRhdGUoZkJ1ZmZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNZXNoVW5pZm9ybXMobWVzaDogUElYSS5NZXNoLCBjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFuZ2VTcXVhcmVkOiBudW1iZXIsIGNvbG9yOiBudW1iZXIpIHtcbiAgICBsZXQgdW5pID0gbWVzaC5zaGFkZXIudW5pZm9ybXM7XG4gICAgbGV0IGMgPSB1bmkuY2VudGVyO1xuICAgIGNbMF0gPSBjZW50ZXIueDtcbiAgICBjWzFdID0gY2VudGVyLnk7XG4gICAgdW5pLnJhZFNxdWFyZWQgPSByYW5nZVNxdWFyZWQ7XG4gICAgaGV4MnJnYihjb2xvciwgdW5pLmNvbG9yKTtcbn0iLCJpbXBvcnQge1BvaW50fSBmcm9tIFwiLi9wb2ludFwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcblxuZXhwb3J0IGNsYXNzIEFhYmIge1xuICAgIG1pblg6IG51bWJlcjtcbiAgICBtaW5ZOiBudW1iZXI7XG4gICAgbWF4WDogbnVtYmVyO1xuICAgIG1heFk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHgxID4geDIpIFt4MSwgeDJdID0gW3gyLCB4MV07XG4gICAgICAgIGlmICh5MSA+IHkyKSBbeTEsIHkyXSA9IFt5MiwgeTFdO1xuXG4gICAgICAgIHRoaXMubWluWCA9IHgxO1xuICAgICAgICB0aGlzLm1pblkgPSB5MTtcbiAgICAgICAgdGhpcy5tYXhYID0geDI7XG4gICAgICAgIHRoaXMubWF4WSA9IHkyO1xuICAgIH1cblxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPCB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDwgdGhpcy5tYXhZO1xuICAgIH1cblxuICAgIGdldENlbnRlcigpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5Qb2ludChcbiAgICAgICAgICAgICh0aGlzLm1pblggKyB0aGlzLm1heFgpIC8gMixcbiAgICAgICAgICAgICh0aGlzLm1pblkgKyB0aGlzLm1heFkpIC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFBlcmltZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKHRoaXMubWF4WCAtIHRoaXMubWluWCArIHRoaXMubWF4WSAtIHRoaXMubWluWSkgKiAyO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIHRhcmdldC5taW5YID0gdGhpcy5taW5YICsgeDtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSB0aGlzLm1pblkgKyB5O1xuICAgICAgICB0YXJnZXQubWF4WCA9IHRoaXMubWF4WCArIHg7XG4gICAgICAgIHRhcmdldC5tYXhZID0gdGhpcy5tYXhZICsgeTtcbiAgICB9XG5cbiAgICBjb21iaW5lKG90aGVyOiBBYWJiLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIG90aGVyLm1pblgpO1xuICAgICAgICB0YXJnZXQubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgb3RoZXIubWluWSk7XG4gICAgICAgIHRhcmdldC5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBvdGhlci5tYXhYKTtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIG90aGVyLm1heFkpO1xuICAgIH1cblxuICAgIGludGVyc2VjdChvdGhlcjogQWFiYiwgdGFyZ2V0OiBBYWJiKSB7XG4gICAgICAgIHRhcmdldC5taW5YID0gTWF0aC5tYXgodGhpcy5taW5YLCBvdGhlci5taW5YKTtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSBNYXRoLm1heCh0aGlzLm1pblksIG90aGVyLm1pblkpO1xuICAgICAgICB0YXJnZXQubWF4WCA9IE1hdGgubWluKHRoaXMubWF4WCwgb3RoZXIubWF4WCk7XG4gICAgICAgIHRhcmdldC5tYXhZID0gTWF0aC5taW4odGhpcy5tYXhZLCBvdGhlci5tYXhZKTtcbiAgICB9XG5cbiAgICBleHRlbmQoYW1vdW50OiBudW1iZXIsIHRhcmdldDogQWFiYik6IHZvaWQge1xuICAgICAgICB0YXJnZXQubWluWCA9IHRoaXMubWluWCAtIGFtb3VudDtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSB0aGlzLm1pblkgLSBhbW91bnQ7XG4gICAgICAgIHRhcmdldC5tYXhYID0gdGhpcy5tYXhYIC0gYW1vdW50O1xuICAgICAgICB0YXJnZXQubWF4WSA9IHRoaXMubWF4WSAtIGFtb3VudDtcbiAgICB9XG5cbiAgICBzY2FsZShkeDogbnVtYmVyLCBkeTogbnVtYmVyLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGN4ID0gKHRoaXMubWluWCArIHRoaXMubWF4WCkgLyAyO1xuICAgICAgICBsZXQgY3kgPSAodGhpcy5taW5ZICsgdGhpcy5tYXhZKSAvIDI7XG4gICAgICAgIGxldCBodyA9ICh0aGlzLm1heFggLSB0aGlzLm1pblgpIC8gMjtcbiAgICAgICAgbGV0IGhoID0gKHRoaXMubWF4WSAtIHRoaXMubWluWSkgLyAyO1xuICAgICAgICB0YXJnZXQubWluWCA9IGN4IC0gaHcgKiBkeDtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSBjeSAtIGhoICogZHk7XG4gICAgICAgIHRhcmdldC5tYXhYID0gY3ggKyBodyAqIGR4O1xuICAgICAgICB0YXJnZXQubWF4WSA9IGN5ICsgaGggKiBkeTtcbiAgICB9XG5cbiAgICBjb3B5RnJvbShvdGhlcjogQWFiYik6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblggPSBvdGhlci5taW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBvdGhlci5taW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBvdGhlci5tYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBvdGhlci5tYXhZO1xuICAgIH1cblxuICAgIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblggPSAwO1xuICAgICAgICB0aGlzLm1pblkgPSAwO1xuICAgICAgICB0aGlzLm1heFggPSAwO1xuICAgICAgICB0aGlzLm1heFkgPSAwO1xuICAgIH1cblxuICAgIHdyYXBQb2x5Z29uKHBvbHlnb246IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWluWCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5taW5ZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLm1heFggPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHRoaXMubWF4WSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcblxuICAgICAgICBsZXQgbGVuID0gcG9seWdvbi5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9seWdvbltpXSk7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvbHlnb25baSArIDFdKTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9seWdvbltpXSk7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvbHlnb25baSArIDFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHkoKTogQWFiYiB7XG4gICAgICAgIGxldCBvdGhlciA9IEFhYmIuemVybygpO1xuICAgICAgICBvdGhlci5jb3B5RnJvbSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkFBQkIoXCIgKyB0aGlzLm1pblgudG9GaXhlZCgyKSArIFwiLCBcIiArIHRoaXMubWluWS50b0ZpeGVkKDIpICsgXCIsIFwiICsgdGhpcy5tYXhYLnRvRml4ZWQoMikgKyBcIiwgXCIgKyB0aGlzLm1heFkudG9GaXhlZCgyKSArIFwiKVwiO1xuICAgIH1cblxuICAgIHN0YXRpYyB6ZXJvKCk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIoMCwgMCwgMCwgMCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Cb3VuZHMoYjogUElYSS5SZWN0YW5nbGUpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKGIubGVmdCwgYi50b3AsIGIucmlnaHQsIGIuYm90dG9tKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50KHA6IFBJWEkuSVBvaW50RGF0YSk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIocC54LCBwLnksIHAueCwgcC55KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50QW5jaG9yKHBvczogUElYSS5JUG9pbnREYXRhLCBzaXplOiBQSVhJLklQb2ludERhdGEsIGFuY2hvcjogUElYSS5JUG9pbnREYXRhKTogQWFiYiB7XG4gICAgICAgIHJldHVybiBuZXcgQWFiYihcbiAgICAgICAgICAgIHBvcy54IC0gc2l6ZS54ICogYW5jaG9yLngsXG4gICAgICAgICAgICBwb3MueSAtIHNpemUueSAqIGFuY2hvci55LFxuICAgICAgICAgICAgcG9zLnggKyBzaXplLnggKiAoMSAtIGFuY2hvci54KSxcbiAgICAgICAgICAgIHBvcy55ICsgc2l6ZS55ICogKDEgLSBhbmNob3IueSlcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge1BvaW50LCBTdHVwaWRQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4vbGluZVwiO1xuaW1wb3J0IHtFUFNJTE9OfSBmcm9tIFwiLi92aXNpYmlsaXR5UG9seWdvblwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBwb2x5Z29uUG9pbnRJbnRlcnNlY3R9IGZyb20gXCIuLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4vb2JiXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBBYWJiVnNBYWJiKGE6IEFhYmIsIGI6IEFhYmIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYS5taW5YIDw9IGIubWF4WCAmJiBhLm1heFggPj0gYi5taW5YICYmXG4gICAgICAgICAgIGEubWluWSA8PSBiLm1heFkgJiYgYS5tYXhZID49IGIubWluWTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQWFiYlZzQWFiYihhOiBBYWJiLCBiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLm1pblggJiYgYS5tYXhYID49IGIubWF4WCAmJlxuICAgICAgICAgICBhLm1pblkgPD0gYi5taW5ZICYmIGEubWF4WSA+PSBiLm1heFk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQWFiYlZzUG9pbnQoYTogQWFiYiwgYjogUElYSS5JUG9pbnREYXRhKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLnggJiYgYS5taW5ZIDw9IGIueSAmJlxuICAgICAgICAgICBhLm1heFggPj0gYi54ICYmIGEubWF4WSA+PSBiLnk7XG59XG5cbmNvbnN0IElOU0lERSA9IDA7XG5jb25zdCBMRUZUID0gMTtcbmNvbnN0IFJJR0hUID0gMjtcbmNvbnN0IEJPVFRPTSA9IDQ7XG5jb25zdCBUT1AgPSA4O1xuXG5mdW5jdGlvbiBjb21wdXRlT3V0Q29kZShib3g6IEFhYmIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgY29kZSA9IElOU0lERTtcblxuICAgIGlmICAgICAgKHggPCBib3gubWluWCkgY29kZSB8PSBMRUZUO1xuICAgIGVsc2UgaWYgKHggPiBib3gubWF4WCkgY29kZSB8PSBSSUdIVDtcblxuICAgIGlmICAgICAgKHkgPCBib3gubWluWSkgY29kZSB8PSBCT1RUT007XG4gICAgZWxzZSBpZiAoeSA+IGJveC5tYXhZKSBjb2RlIHw9IFRPUDtcblxuICAgIHJldHVybiBjb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcEFhYmJWc0xpbmUoYTogQWFiYiwgYjogTGluZSk6IGJvb2xlYW4ge1xuICAgIGxldCBmYyA9IGNvbXB1dGVPdXRDb2RlKGEsIGIuZnJvbVgsIGIuZnJvbVkpO1xuICAgIGxldCB0YyA9IGNvbXB1dGVPdXRDb2RlKGEsIGIudG9YLCBiLnRvWSk7XG5cbiAgICAvLyBGYXN0IHBhdGhzOlxuICAgIC8vIE9uZSBvZiB0aGUgcG9pbnRzIGlzIGluc2lkZVxuICAgIGlmIChmYyA9PT0gSU5TSURFIHx8IHRjID09PSBJTlNJREUpIHJldHVybiB0cnVlO1xuICAgIC8vIGJpdHdpc2UgQU5EIGlzIG5vdCAwOiBib3RoIHBvaW50cyBzaGFyZSBhbiBvdXRzaWRlIHpvbmUgKExFRlQsIFJJR0hULCBUT1AsXG4gICAgLy8gb3IgQk9UVE9NKSwgc28gYm90aCBtdXN0IGJlIG91dHNpZGUgd2luZG93XG4gICAgaWYgKChmYyAmIHRjKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIEJvdGggcG9pbnRzIGFyZSBpbiBkaXJlY3RseSBvcHBvc2l0ZSBzaXRlcyAobGVmdC9yaWdodCBvciB0b3AvYm90dG9tKVxuICAgIGlmICgoZmMgfCB0YykgPT09IChMRUZUIHwgUklHSFQpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoKGZjIHwgdGMpID09PSAoVE9QIHwgQk9UVE9NKSkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1pblgsIGEubWluWSwgYS5taW5YLCBhLm1heFkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1pblgsIGEubWF4WSwgYS5tYXhYLCBhLm1heFkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1heFgsIGEubWF4WSwgYS5tYXhYLCBhLm1pblkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1heFgsIGEubWluWSwgYS5taW5YLCBhLm1pblkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUG9pbnRWc0NpcmNsZShwb2ludDogUElYSS5JUG9pbnREYXRhLCBjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGlzdFNxdWFyZWQyZChwb2ludC54LCBwb2ludC55LCBjZW50ZXIueCwgY2VudGVyLnkpIDwgcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcENpcmNsZVZzQWFiYihjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIsIGFhYmI6IEFhYmIpOiBib29sZWFuIHtcbiAgICBsZXQgZGlzdFggPSBNYXRoLmFicyhjZW50ZXIueCAtIChhYWJiLm1pblggKyBhYWJiLm1heFgpIC8gMik7XG4gICAgbGV0IGRpc3RZID0gTWF0aC5hYnMoY2VudGVyLnkgLSAoYWFiYi5taW5ZICsgYWFiYi5tYXhZKSAvIDIpO1xuXG4gICAgbGV0IGhhbGZXID0gKGFhYmIubWF4WCAtIGFhYmIubWluWCkgLyAyO1xuICAgIGxldCBoYWxmSCA9IChhYWJiLm1heFkgLSBhYWJiLm1pblkpIC8gMjtcblxuICAgIGlmIChkaXN0WCA+IGhhbGZXICsgcmFkaXVzKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGRpc3RZID4gaGFsZkggKyByYWRpdXMpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChkaXN0WCA8IGhhbGZXIHx8IGRpc3RZIDwgaGFsZkgpIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IGR4ID0gZGlzdFggLSBoYWxmVztcbiAgICBsZXQgZHkgPSBkaXN0WSAtIGhhbGZIO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMgKiByYWRpdXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQ2lyY2xlVnNDaXJjbGUoYWM6IFBJWEkuSVBvaW50RGF0YSwgYXI6IG51bWJlciwgYmM6IFBJWEkuSVBvaW50RGF0YSwgYnI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCBkeCA9IGFjLnggLSBiYy54O1xuICAgIGxldCBkeSA9IGFjLnkgLSBiYy55O1xuICAgIGxldCByID0gYXIgKyBicjtcblxuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8ICByICogcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBDaXJjbGVWc1BvbHlnb24oYWM6IFBJWEkuSVBvaW50RGF0YSwgYXI6IG51bWJlciwgcG9seTogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBpZiAocG9seWdvblBvaW50SW50ZXJzZWN0KGFjLCBwb2x5KSkgcmV0dXJuIHRydWU7XG5cbiAgICBsZXQgdG1wTGluZSA9IG5ldyBMaW5lKDAsIDAsIDAsIDApO1xuICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgbGV0IHIyID0gYXIgKiBhcjtcblxuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcG9seS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICB0bXBMaW5lLmZyb21YID0gcG9seVtpIC0gMl07XG4gICAgICAgIHRtcExpbmUuZnJvbVkgPSBwb2x5W2kgLSAxXTtcbiAgICAgICAgdG1wTGluZS50b1ggPSBwb2x5W2ldO1xuICAgICAgICB0bXBMaW5lLnRvWSA9IHBvbHlbaSArIDFdO1xuXG4gICAgICAgIHRtcExpbmUucHJvamVjdFBvaW50KGFjLCB0bXBQb2ludCwgdHJ1ZSk7XG4gICAgICAgIGlmIChkaXN0U3F1YXJlZDJkKHRtcFBvaW50LngsIHRtcFBvaW50LnksIGFjLngsIGFjLnkpIDw9IHIyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBPYmJWc1BvbHlnb24ob2JiOiBPYmIsIHBvbHk6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgbGV0IHBvbHlBYWJiID0gQWFiYi56ZXJvKCk7XG4gICAgcG9seUFhYmIud3JhcFBvbHlnb24ocG9seSk7XG4gICAgLy8gRmFzdCBwYXRoXG4gICAgaWYgKCFvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIob2JiLCBwb2x5QWFiYikpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgICAgIGxldCBwID0ge1xuICAgICAgICAgICAgeDogb2JiLnJvdFZlcnRleFtpXSxcbiAgICAgICAgICAgIHk6IG9iYi5yb3RWZXJ0ZXhbaSArIDFdLFxuICAgICAgICB9O1xuICAgICAgICAvLyBJZiBhIHBvaW50IG9mIHRoZSBPQkIgaXMgaW5zaWRlIHRoZSBwb2x5Z29uIHRoZW4gd2UncmUgZG9uZVxuICAgICAgICBpZiAocG9seWdvblBvaW50SW50ZXJzZWN0KHAsIHBvbHkpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbHkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHAgPSB7XG4gICAgICAgICAgICB4OiBwb2x5W2ldLFxuICAgICAgICAgICAgeTogcG9seVtpICsgMV0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgYSBwb2ludCBvZiB0aGUgcG9seWdvbiBpcyBpbnNpZGUgdGhlIE9CQiB0aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgaWYgKG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQob2JiLCBwKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBvYmJMaW5lcyA9IFtcbiAgICAgICAgWzAsIDJdLFxuICAgICAgICBbMiwgNF0sXG4gICAgICAgIFs0LCA2XSxcbiAgICAgICAgWzYsIDBdXG4gICAgXTtcblxuICAgIC8vIENoZWNrIGxpbmUgaW50ZXJzZWN0aW9uc1xuICAgIGZvciAobGV0IGxpbmUgb2Ygb2JiTGluZXMpIHtcbiAgICAgICAgbGV0IG9iYkxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIG9iYi5yb3RWZXJ0ZXhbbGluZVswXV0sIG9iYi5yb3RWZXJ0ZXhbbGluZVswXSArIDFdLFxuICAgICAgICAgICAgb2JiLnJvdFZlcnRleFtsaW5lWzFdXSwgb2JiLnJvdFZlcnRleFtsaW5lWzFdICsgMV1cbiAgICAgICAgKVxuICAgICAgICBpZiAob3ZlcmxhcExpbmVWc1BvbHlnb24ob2JiTGluZSwgcG9seSkpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBMaW5lVnNQb2x5Z29uKGxpbmU6IExpbmUsIHBvbHk6IG51bWJlcltdKSB7XG4gICAgbGV0IHRvdExpbmVzID0gcG9seS5sZW5ndGggLSAyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90TGluZXM7IGkgKz0gMikge1xuICAgICAgICBsZXQgcG9sTGluZSA9IG5ldyBMaW5lKHBvbHlbaV0sIHBvbHlbaSsxXSwgcG9seVtpKzJdLCBwb2x5W2krM10pO1xuICAgICAgICBpZiAoaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChsaW5lLCBwb2xMaW5lKSA9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBwb2xMaW5lID0gbmV3IExpbmUocG9seVswXSwgcG9seVsxXSwgcG9seVtwb2x5Lmxlbmd0aC0yXSwgcG9seVtwb2x5Lmxlbmd0aC0xXSk7XG4gICAgcmV0dXJuIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobGluZSwgcG9sTGluZSkgPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVQb2ludEJ5T3JpZyhvOiBQSVhJLklQb2ludERhdGEsIHJvdDogbnVtYmVyLCBwOiBQSVhJLklQb2ludERhdGEpOiBQSVhJLlBvaW50IHtcbiAgICBsZXQgcyA9IE1hdGguc2luKC1yb3QpO1xuICAgIGxldCBjID0gTWF0aC5jb3MoLXJvdCk7XG5cbiAgICBsZXQgdHJhbnNYID0gcC54IC0gby54O1xuICAgIGxldCB0cmFuc1kgPSBwLnkgLSBvLnk7XG5cbiAgICByZXR1cm4gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICh0cmFuc1ggKiBjIC0gdHJhbnNZICogcykgKyBvLngsXG4gICAgICAgICh0cmFuc1ggKiBzICsgdHJhbnNZICogYykgKyBvLnlcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNQb2ludChvYmI6IE9iYiwgcDogUElYSS5JUG9pbnREYXRhKSB7XG4gICAgbGV0IHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50QnlPcmlnKG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCksIG9iYi5yb3RhdGlvbiwgcCk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc1BvaW50KG9iYi51bnJvdGF0ZWQsIHJvdGF0ZWRQb2ludCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZShvYmI6IE9iYiwgcG9zOiBQSVhJLklQb2ludERhdGEsIHJhZDogbnVtYmVyKSB7XG4gICAgbGV0IHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50QnlPcmlnKG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCksIG9iYi5yb3RhdGlvbiwgcG9zKTtcblxuICAgIHJldHVybiBvdmVybGFwQ2lyY2xlVnNBYWJiKHJvdGF0ZWRQb2ludCwgcmFkLCBvYmIudW5yb3RhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzTGluZShvYmI6IE9iYiwgbGluZTogTGluZSkge1xuICAgIGxldCBjZW50ZXIgPSBvYmIudW5yb3RhdGVkLmdldENlbnRlcigpO1xuICAgIGxldCByb3RGcm9tID0gcm90YXRlUG9pbnRCeU9yaWcoY2VudGVyLCBvYmIucm90YXRpb24sIHt4OiBsaW5lLmZyb21YLCB5OiBsaW5lLmZyb21ZfSk7XG4gICAgbGV0IHJvdFRvID0gcm90YXRlUG9pbnRCeU9yaWcoY2VudGVyLCBvYmIucm90YXRpb24sIHt4OiBsaW5lLnRvWCwgeTogbGluZS50b1l9KTtcblxuICAgIHJldHVybiBvdmVybGFwQWFiYlZzTGluZShvYmIudW5yb3RhdGVkLCBuZXcgTGluZShyb3RGcm9tLngsIHJvdEZyb20ueSwgcm90VG8ueCwgcm90VG8ueSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU9iYlBvaW50cyhhYWJiOiBBYWJiLCByb3Q6IG51bWJlciwgb3JpZ2luPzogUElYSS5JUG9pbnREYXRhKTogbnVtYmVyW10ge1xuICAgIGxldCByZXMgPSBuZXcgQXJyYXk8bnVtYmVyPig4KTtcblxuICAgIGxldCBvID0gb3JpZ2luIHx8IHtcbiAgICAgICAgeDogKGFhYmIubWluWCArIGFhYmIubWF4WCkgLyAyLFxuICAgICAgICB5OiAoYWFiYi5taW5ZICsgYWFiYi5tYXhZKSAvIDIsXG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGxldCBtaW5YID0gKGkgJiAxKTtcbiAgICAgICAgbGV0IG1pblkgPSAoaSAmIDIpID4+PiAxO1xuXG4gICAgICAgIGxldCBwID0gcm90YXRlUG9pbnRCeU9yaWcobywgcm90LCB7XG4gICAgICAgICAgICB4OiBtaW5YID8gYWFiYi5taW5YIDogYWFiYi5tYXhYLFxuICAgICAgICAgICAgeTogbWluWSA/IGFhYmIubWluWSA6IGFhYmIubWF4WSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc1tpICogMiAgICBdID0gcC54O1xuICAgICAgICByZXNbaSAqIDIgKyAxXSA9IHAueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYjogT2JiLCBhYWJiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgLy8gU2VwYXJhdGluZyBBeGlzIFRoZW9yZW1cbiAgICBsZXQgb3RoZXJBYWJiID0gQWFiYi56ZXJvKCk7XG5cbiAgICBvdGhlckFhYmIud3JhcFBvbHlnb24ob2JiLnJvdFZlcnRleCk7XG4gICAgaWYgKG92ZXJsYXBBYWJiVnNBYWJiKGFhYmIsIG90aGVyQWFiYikpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gQXBwbHkgdGhlIGludmVyc2UgdHJhbnNmb3JtIG9mIHRoZSBvYmIgdG8gdGhlIGFhYmJcbiAgICBsZXQgb3JpZ2luYWxJbnYgPSBjb21wdXRlT2JiUG9pbnRzKGFhYmIsIG9iYi5yb3RhdGlvbiwgb2JiLnVucm90YXRlZC5nZXRDZW50ZXIoKSk7XG5cbiAgICBvdGhlckFhYmIucmVzZXQoKTtcbiAgICBvdGhlckFhYmIud3JhcFBvbHlnb24ob3JpZ2luYWxJbnYpO1xuICAgIHJldHVybiBvdmVybGFwQWFiYlZzQWFiYihvYmIudW5yb3RhdGVkLCBvdGhlckFhYmIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNSb3RhdGVkUmVjdChvYmIxOiBPYmIsIG9iYjI6IE9iYik6IGJvb2xlYW4ge1xuICAgIGxldCBjZW50ZXIgPSBvYmIyLnVucm90YXRlZC5nZXRDZW50ZXIoKTtcbiAgICBsZXQgcmVzID0gb2JiMi51bnJvdGF0ZWQuY29weSgpO1xuICAgIHJlcy50cmFuc2xhdGUoLWNlbnRlci54LCAtY2VudGVyLnksIHJlcyk7XG5cbiAgICBsZXQgb2JiMyA9IE9iYi5yb3RhdGVBYWJiKHJlcywgb2JiMi5yb3RhdGlvbiAtIG9iYjEucm90YXRpb24pO1xuICAgIHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIob2JiMywgb2JiMS51bnJvdGF0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcExpbmVWc0NpcmNsZShsaW5lOiBMaW5lLCBwb2ludDogUElYSS5JUG9pbnREYXRhLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG5cbiAgICBpZiAoIWxpbmUucHJvamVjdFBvaW50KHBvaW50LCB0bXBQb2ludCwgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgZGlzdCA9IGRpc3RTcXVhcmVkMmQodG1wUG9pbnQueCwgdG1wUG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG4gICAgcmV0dXJuIGRpc3QgPCByYWRpdXMgKiByYWRpdXM7XG59XG5cbmV4cG9ydCBlbnVtIFNlZ21lbnRWc1NlZ21lbnRSZXMge1xuICAgIE5PTkUsIElOVEVSTiwgRURHRV9BLCBFREdFX0IgPSA0LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChhOiBMaW5lLCBiOiBMaW5lLCB0YXJnZXQ/OiBQb2ludCk6IFNlZ21lbnRWc1NlZ21lbnRSZXMge1xuICAgIGxldCBkZW4gPSAoYi50b1kgLSBiLmZyb21ZKSAqIChhLnRvWCAtIGEuZnJvbVgpIC1cbiAgICAgICAgICAgICAgKGIudG9YIC0gYi5mcm9tWCkgKiAoYS50b1kgLSBhLmZyb21ZKTtcblxuICAgIGlmIChkZW4gPT09IDApIHJldHVybiBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkU7IC8vIFBhcmFsbGVsIChvciBjb2luY2lkZW50KVxuXG4gICAgY29uc3QgcyA9IChcbiAgICAgICAgKGIudG9YIC0gYi5mcm9tWCkgKiAoYS5mcm9tWSAtIGIuZnJvbVkpIC1cbiAgICAgICAgKGIudG9ZIC0gYi5mcm9tWSkgKiAoYS5mcm9tWCAtIGIuZnJvbVgpXG4gICAgKSAvIGRlbjtcblxuICAgIGlmIChzIDwgLUVQU0lMT04gfHwgcyA+IDEgKyBFUFNJTE9OKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FO1xuXG4gICAgY29uc3QgdSA9IChcbiAgICAgICAgKGEudG9YIC0gYS5mcm9tWCkgKiAoYS5mcm9tWSAtIGIuZnJvbVkpIC1cbiAgICAgICAgKGEudG9ZIC0gYS5mcm9tWSkgKiAoYS5mcm9tWCAtIGIuZnJvbVgpXG4gICAgKSAvIGRlbjtcblxuICAgIGlmICh1IDwgLUVQU0lMT04gfHwgdSA+IDEgKyBFUFNJTE9OKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FO1xuXG4gICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldC5zZXQoXG4gICAgICAgICAgICBhLmZyb21YICsgcyAqIChhLnRvWCAtIGEuZnJvbVgpLFxuICAgICAgICAgICAgYS5mcm9tWSArIHMgKiAoYS50b1kgLSBhLmZyb21ZKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgZWRnZSA9IDA7XG4gICAgaWYgKHMgPCBFUFNJTE9OIHx8IHMgPiAxIC0gRVBTSUxPTikgZWRnZSB8PSBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQTtcbiAgICBpZiAodSA8IEVQU0lMT04gfHwgdSA+IDEgLSBFUFNJTE9OKSBlZGdlIHw9IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CO1xuICAgIHJldHVybiBlZGdlID09PSAwID8gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gOiBlZGdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJpYW5nbGVDb250YWluc1BvaW50KHA6IFN0dXBpZFBvaW50LCBwMDogU3R1cGlkUG9pbnQsIHAxOiBTdHVwaWRQb2ludCwgcDI6IFN0dXBpZFBvaW50KSB7XG4gICAgbGV0IEEgPSAxLzIgKiAoLXAxLnkgKiBwMi54ICsgcDAueSAqICgtcDEueCArIHAyLngpICsgcDAueCAqIChwMS55IC0gcDIueSkgKyBwMS54ICogcDIueSk7XG4gICAgbGV0IHNpZ24gPSBBIDwgMCA/IC0xIDogMTtcbiAgICBsZXQgcyA9IChwMC55ICogcDIueCAtIHAwLnggKiBwMi55ICsgKHAyLnkgLSBwMC55KSAqIHAueCArIChwMC54IC0gcDIueCkgKiBwLnkpICogc2lnbjtcbiAgICBsZXQgdCA9IChwMC54ICogcDEueSAtIHAwLnkgKiBwMS54ICsgKHAwLnkgLSBwMS55KSAqIHAueCArIChwMS54IC0gcDAueCkgKiBwLnkpICogc2lnbjtcblxuICAgIHJldHVybiBzIC0gRVBTSUxPTiA+IDAgJiYgdCAtIEVQU0lMT04gPiAwICYmIChzICsgdCkgPCAyICogQSAqIHNpZ24gLSBFUFNJTE9OO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGluZVNhbWVTbG9wZShheDogbnVtYmVyLCBheTogbnVtYmVyLCBieDogbnVtYmVyLCBieTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgLy8gV2UgbmVlZCB0byByZW1vdmUgZGl2aXNpb25zLCAodGhpcyBpcyBub3QgcmVhbCBjb2RlKVxuICAgIC8vIGF5IC8gYXggPT0gYnkgLyBieCAgPT0+IGF5ICogYnggPT0gYnkgKiBheFxuICAgIHJldHVybiBNYXRoLmFicyhheSAqIGJ4IC0gYnkgKiBheCkgPCBFUFNJTE9OO1xufVxuXG4iLCJcbi8vIEEgdmVyc2lvbiBoaWdobHkgaW5zcGlyZWQgYnkgcGxhbmsuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9zaGFraWJhL3BsYW5jay5qcy9ibG9iL2Y1Nzc3ODg0ZjUzN2RiOTc2MDhkODAxNmJkYTk2MGQyNTFkNDJkNGQvbGliL2NvbGxpc2lvbi9EeW5hbWljVHJlZS5qcylcblxuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge2NvbnRhaW5zQWFiYlZzQWFiYiwgb3ZlcmxhcEFhYmJWc0FhYmJ9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xuaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuY2xhc3MgVHJlZU5vZGU8VD4ge1xuICAgIGlkOiBudW1iZXI7XG4gICAgYWFiYiA9IEFhYmIuemVybygpO1xuICAgIHRhZz86IFQ7XG5cbiAgICBwYXJlbnQ/OiBUcmVlTm9kZTxUPjtcbiAgICBsZWZ0PzogVHJlZU5vZGU8VD47XG4gICAgcmlnaHQ/OiBUcmVlTm9kZTxUPjtcblxuICAgIGhlaWdodDogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZCArIFwiOiBcIiArIHRoaXMudGFnO1xuICAgIH1cblxuICAgIGlzTGVhZigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgRHluYW1pY1RyZWU8VD4ge1xuICAgIHJvb3Q/OiBUcmVlTm9kZTxUPjtcbiAgICBub2RlcyA9IG5ldyBNYXA8bnVtYmVyLCBUcmVlTm9kZTxUPj4oKTtcbiAgICBsYXN0UHJveHlJZDogbnVtYmVyID0gMDtcblxuICAgIGFhYmJFeHRlbnNpb246IG51bWJlcjtcbiAgICBhYWJiTXVsdGlwbGllcjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYWFiYkV4dGVuc2lvbjogbnVtYmVyID0gMC4xLCBhYWJiTXVsdGlwbGllcjogbnVtYmVyID0gMikge1xuICAgICAgICB0aGlzLmFhYmJFeHRlbnNpb24gPSBhYWJiRXh0ZW5zaW9uO1xuICAgICAgICB0aGlzLmFhYmJNdWx0aXBsaWVyID0gYWFiYk11bHRpcGxpZXI7XG4gICAgfVxuXG4gICAgZ2V0VGFnKGlkOiBudW1iZXIpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuZ2V0KGlkKT8udGFnO1xuICAgIH1cblxuICAgIHNldFRhZyhpZDogbnVtYmVyLCB0YWc6IFQpIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5nZXQoaWQpIS50YWcgPSB0YWc7XG4gICAgfVxuXG4gICAgZ2V0RmF0QWFiYihpZDogbnVtYmVyKTogQWFiYiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmdldChpZCk/LmFhYmI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhbGxvY2F0ZU5vZGUoKTogVHJlZU5vZGU8VD4ge1xuICAgICAgICBsZXQgbm9kZSA9IG5ldyBUcmVlTm9kZTxUPigrK3RoaXMubGFzdFByb3h5SWQpO1xuICAgICAgICB0aGlzLm5vZGVzLnNldChub2RlLmlkLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmcmVlTm9kZShub2RlOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLm5vZGVzLmRlbGV0ZShub2RlLmlkKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQcm94eShhYWJiOiBBYWJiLCB0YWc6IFQpOiBudW1iZXIge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuYWxsb2NhdGVOb2RlKCk7XG5cbiAgICAgICAgbm9kZS5hYWJiLmNvcHlGcm9tKGFhYmIpO1xuXG4gICAgICAgIC8vIEZhdHRlbiB0aGUgYWFiYlxuICAgICAgICBub2RlLmFhYmIuZXh0ZW5kKHRoaXMuYWFiYkV4dGVuc2lvbiwgbm9kZS5hYWJiKTtcblxuICAgICAgICBub2RlLnRhZyA9IHRhZztcbiAgICAgICAgbm9kZS5oZWlnaHQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0TGVhZihub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaWQ7XG4gICAgfVxuXG4gICAgZGVzdHJveVByb3h5KGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzLmdldChpZCkhO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlTGVhZihub2RlKTtcbiAgICAgICAgdGhpcy5mcmVlTm9kZShub2RlKTtcbiAgICB9XG5cbiAgICBtb3ZlUHJveHkoaWQ6IG51bWJlciwgYWFiYjogQWFiYiwgZDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzLmdldChpZCkhO1xuXG4gICAgICAgIGlmIChjb250YWluc0FhYmJWc0FhYmIobm9kZS5hYWJiLCBhYWJiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW1vdmVMZWFmKG5vZGUpO1xuICAgICAgICBub2RlLmFhYmIuY29weUZyb20oYWFiYik7XG5cbiAgICAgICAgLy8gRmF0dGVuXG4gICAgICAgIG5vZGUuYWFiYi5leHRlbmQodGhpcy5hYWJiRXh0ZW5zaW9uLCBub2RlLmFhYmIpO1xuXG4gICAgICAgIC8vIFByZWRpY3QgbW90aW9uXG4gICAgICAgIGlmICh0aGlzLmFhYmJNdWx0aXBsaWVyICE9PSAxKSB7XG4gICAgICAgICAgICBpZiAoZC54IDwgMCkgYWFiYi5taW5YICs9IGQueCAqIHRoaXMuYWFiYk11bHRpcGxpZXI7XG4gICAgICAgICAgICBlbHNlIGFhYmIubWF4WCArPSBkLnggKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICBpZiAoZC55IDwgMCkgYWFiYi5taW5ZICs9IGQueSAqIHRoaXMuYWFiYk11bHRpcGxpZXI7XG4gICAgICAgICAgICBlbHNlIGFhYmIubWF4WSArPSBkLnkgKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnNlcnRMZWFmKG5vZGUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0TGVhZihsZWFmOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGxlYWY7XG4gICAgICAgICAgICB0aGlzLnJvb3QucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlYWZBYWJiID0gbGVhZi5hYWJiO1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnJvb3Q7XG5cbiAgICAgICAgd2hpbGUgKCFpbmRleC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBpbmRleC5sZWZ0ITtcbiAgICAgICAgICAgIGxldCByaWdodCA9IGluZGV4LnJpZ2h0ITtcblxuICAgICAgICAgICAgbGV0IHBlciA9IGluZGV4LmFhYmIuZ2V0UGVyaW1ldGVyKCk7XG5cblxuICAgICAgICAgICAgbGV0IGNvbWJpbmVkQWFiYiA9IEFhYmIuemVybygpO1xuICAgICAgICAgICAgaW5kZXguYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBjb21iaW5lZEFhYmIpO1xuICAgICAgICAgICAgbGV0IGNvbWJpbmVkUGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuXG4gICAgICAgICAgICBsZXQgY29zdCA9IGNvbWJpbmVkUGVyICogMjtcblxuICAgICAgICAgICAgbGV0IGluaGVyaXRhbmNlQ29zdCA9IChjb21iaW5lZFBlciAtIHBlcikgKiAyO1xuXG4gICAgICAgICAgICBsZXQgY29zdExlZnQ7XG4gICAgICAgICAgICBpZiAobGVmdC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIGxlZnQuYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBjb21iaW5lZEFhYmIpO1xuICAgICAgICAgICAgICAgIGNvc3RMZWZ0ID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWZ0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkUGVyaW1ldGVyID0gbGVmdC5hYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdQZXJpbWV0ZXIgPSBjb21iaW5lZEFhYmIuZ2V0UGVyaW1ldGVyKCk7XG4gICAgICAgICAgICAgICAgY29zdExlZnQgPSAobmV3UGVyaW1ldGVyIC0gb2xkUGVyaW1ldGVyKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNvc3RSaWdodDtcbiAgICAgICAgICAgIGlmIChyaWdodC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBjb3N0UmlnaHQgPSBjb21iaW5lZEFhYmIuZ2V0UGVyaW1ldGVyKCkgKyBpbmhlcml0YW5jZUNvc3Q7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJpZ2h0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkUGVyaW1ldGVyID0gcmlnaHQuYWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyaW1ldGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGNvc3RSaWdodCA9IChuZXdQZXJpbWV0ZXIgLSBvbGRQZXJpbWV0ZXIpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29zdCA8IGNvc3RMZWZ0ICYmIGNvc3QgPCBjb3N0UmlnaHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvc3RMZWZ0IDwgY29zdFJpZ2h0KSBpbmRleCA9IGxlZnQ7XG4gICAgICAgICAgICBlbHNlIGluZGV4ID0gcmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2libGluZyA9IGluZGV4O1xuICAgICAgICBsZXQgb2xkUGFyZW50ID0gc2libGluZy5wYXJlbnQ7XG4gICAgICAgIGxldCBuZXdQYXJlbnQgPSB0aGlzLmFsbG9jYXRlTm9kZSgpO1xuXG4gICAgICAgIG5ld1BhcmVudC5wYXJlbnQgPSBvbGRQYXJlbnQ7XG4gICAgICAgIHNpYmxpbmcuYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBuZXdQYXJlbnQuYWFiYik7XG4gICAgICAgIG5ld1BhcmVudC5oZWlnaHQgPSBzaWJsaW5nLmhlaWdodCArIDE7XG5cbiAgICAgICAgaWYgKG9sZFBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGUgc2libGluZyB3YXMgbm90IHRoZSByb290XG4gICAgICAgICAgICBpZiAob2xkUGFyZW50LmxlZnQgPT09IHNpYmxpbmcpIG9sZFBhcmVudC5sZWZ0ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRQYXJlbnQucmlnaHQgPSBuZXdQYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGUgc2libGluZyB3YXMgdGhlIHJvb3RcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5ld1BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBuZXdQYXJlbnQubGVmdCA9IHNpYmxpbmc7XG4gICAgICAgIG5ld1BhcmVudC5yaWdodCA9IGxlYWY7XG4gICAgICAgIHNpYmxpbmcucGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICBsZWFmLnBhcmVudCA9IG5ld1BhcmVudDtcblxuICAgICAgICAvLyBXYWxrIGJhY2sgdXAgZml4aW5nIGhlaWdodHMgYW5kIEFBQkJzXG4gICAgICAgIGluZGV4ID0gbGVhZi5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYmFsYW5jZShpbmRleCk7XG5cbiAgICAgICAgICAgIGluZGV4LmhlaWdodCA9IDEgKyBNYXRoLm1heChpbmRleC5sZWZ0IS5oZWlnaHQsIGluZGV4LnJpZ2h0IS5oZWlnaHQpO1xuICAgICAgICAgICAgaW5kZXgubGVmdCEuYWFiYi5jb21iaW5lKGluZGV4LnJpZ2h0IS5hYWJiLCBpbmRleC5hYWJiKTtcblxuICAgICAgICAgICAgaW5kZXggPSBpbmRleC5wYXJlbnQhO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVMZWFmKGxlYWY6IFRyZWVOb2RlPFQ+KTogdm9pZCB7XG4gICAgICAgIGlmIChsZWFmID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJlbnQgPSBsZWFmLnBhcmVudCE7XG4gICAgICAgIGxldCBncmFuZFBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIGxldCBzaWJsaW5nO1xuICAgICAgICBpZiAocGFyZW50LmxlZnQgPT09IGxlYWYpIHNpYmxpbmcgPSBwYXJlbnQucmlnaHQhO1xuICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQubGVmdCE7XG5cbiAgICAgICAgaWYgKGdyYW5kUGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIERlc3Ryb3kgcGFyZW50IGFuZCBjb25uZWN0IHNpYmxpbmcgdG8gZ3JhbmRQYXJlbnRcbiAgICAgICAgICAgIGlmIChncmFuZFBhcmVudC5sZWZ0ID09PSBwYXJlbnQpIGdyYW5kUGFyZW50LmxlZnQgPSBzaWJsaW5nO1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbmRQYXJlbnQucmlnaHQgPSBzaWJsaW5nO1xuXG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IGdyYW5kUGFyZW50O1xuICAgICAgICAgICAgdGhpcy5mcmVlTm9kZShwYXJlbnQpO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgYW5jZXN0b3IgYm91bmRzXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBncmFuZFBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJhbGFuY2UoaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaW5kZXgubGVmdCEuYWFiYi5jb21iaW5lKGluZGV4LnJpZ2h0IS5hYWJiLCBpbmRleC5hYWJiKTtcbiAgICAgICAgICAgICAgICBpbmRleC5oZWlnaHQgPSAxICsgTWF0aC5tYXgoaW5kZXgubGVmdCEuaGVpZ2h0LCBpbmRleC5yaWdodCEuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXgucGFyZW50ITtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZnJlZU5vZGUocGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYSByb3RhdGlvbiBpZiBjdXJyZW50IG5vZGUgaXMgaW1iYWxhbmNlZCwgcmV0dXJucyB0aGUgbmV3IHN1Yi10cmVlIHJvb3QuXG4gICAgICogQHBhcmFtIGN1cnJlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgYmFsYW5jZShjdXJyZW50OiBUcmVlTm9kZTxUPik6IFRyZWVOb2RlPFQ+IHtcbiAgICAgICAgbGV0IGEgPSBjdXJyZW50O1xuXG4gICAgICAgIGlmIChhLmlzTGVhZigpIHx8IGEuaGVpZ2h0IDwgMikgcmV0dXJuIGE7XG5cbiAgICAgICAgbGV0IGIgPSBhLmxlZnQhO1xuICAgICAgICBsZXQgYyA9IGEucmlnaHQhO1xuXG4gICAgICAgIGxldCBiYWxhbmNlID0gYy5oZWlnaHQgLSBiLmhlaWdodDtcblxuICAgICAgICAvLyBSb3RhdGUgQyB1cFxuICAgICAgICBpZiAoYmFsYW5jZSA+IDEpIHtcbiAgICAgICAgICAgIGxldCBmID0gYy5sZWZ0ITtcbiAgICAgICAgICAgIGxldCBnID0gYy5yaWdodCE7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgYSBhbmQgY1xuICAgICAgICAgICAgYy5sZWZ0ID0gYTtcbiAgICAgICAgICAgIGMucGFyZW50ID0gYS5wYXJlbnQ7XG4gICAgICAgICAgICBhLnBhcmVudCA9IGM7XG5cbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHNob3VsZCBwb2ludCB0byBjXG4gICAgICAgICAgICBpZiAoYy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChjLnBhcmVudC5sZWZ0ID09PSBhKSBjLnBhcmVudC5sZWZ0ID0gYztcbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgYy5wYXJlbnQucmlnaHQgPSBjO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBjO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSb3RhdGVcbiAgICAgICAgICAgIGlmIChmLmhlaWdodCA+IGcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYy5yaWdodCA9IGY7XG4gICAgICAgICAgICAgICAgYS5yaWdodCA9IGc7XG4gICAgICAgICAgICAgICAgZy5wYXJlbnQgPSBhO1xuICAgICAgICAgICAgICAgIGIuYWFiYi5jb21iaW5lKGcuYWFiYiwgYS5hYWJiKTtcbiAgICAgICAgICAgICAgICBhLmFhYmIuY29tYmluZShmLmFhYmIsIGMuYWFiYik7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChiLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGYucGFyZW50ID0gYTtcbiAgICAgICAgICAgICAgICBiLmFhYmIuY29tYmluZShmLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZy5hYWJiLCBjLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYi5oZWlnaHQsIGYuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYWxhbmNlIDwgLTEpIHtcbiAgICAgICAgICAgIGxldCBkID0gYi5sZWZ0ITtcbiAgICAgICAgICAgIGxldCBlID0gYi5yaWdodCE7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgYSBhbmQgYlxuICAgICAgICAgICAgYi5sZWZ0ID0gYTtcbiAgICAgICAgICAgIGIucGFyZW50ID0gYS5wYXJlbnQ7XG4gICAgICAgICAgICBhLnBhcmVudCA9IGI7XG5cbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHNob3VsZCBwb2ludCB0byBiXG4gICAgICAgICAgICBpZiAoYi5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChiLnBhcmVudC5sZWZ0ID09PSBhKSBiLnBhcmVudC5sZWZ0ID0gYjtcbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgYi5wYXJlbnQucmlnaHQgPSBiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSb3RhdGVcbiAgICAgICAgICAgIGlmIChkLmhlaWdodCA+IGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYi5yaWdodCA9IGQ7XG4gICAgICAgICAgICAgICAgYS5sZWZ0ID0gZTtcbiAgICAgICAgICAgICAgICBlLnBhcmVudCA9IGE7XG5cbiAgICAgICAgICAgICAgICBjLmFhYmIuY29tYmluZShlLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZC5hYWJiLCBiLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYy5oZWlnaHQsIGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBiLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZC5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiLnJpZ2h0ID0gZTtcbiAgICAgICAgICAgICAgICBhLmxlZnQgPSBkO1xuICAgICAgICAgICAgICAgIGQucGFyZW50ID0gYTtcblxuICAgICAgICAgICAgICAgIGMuYWFiYi5jb21iaW5lKGQuYWFiYiwgYS5hYWJiKTtcbiAgICAgICAgICAgICAgICBhLmFhYmIuY29tYmluZShlLmFhYmIsIGIuYWFiYik7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChjLmhlaWdodCwgZC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGIuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBlLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgKnF1ZXJ5KGFhYmI6IEFhYmIpOiBHZW5lcmF0b3I8VHJlZU5vZGU8VD4+IHtcbiAgICAgICAgbGV0IHN0YWNrID0gbmV3IEFycmF5PFRyZWVOb2RlPFQ+PigpO1xuXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTdGFydGluZyBxdWVyeTogXCIgKyBhYWJiLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIHN0YWNrLnB1c2godGhpcy5yb290KTtcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gc3RhY2sucG9wKCkhO1xuXG4gICAgICAgICAgICBsZXQgb3ZlcmxhcCA9IG92ZXJsYXBBYWJiVnNBYWJiKG5vZGUuYWFiYiwgYWFiYik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiVmlzaXQ6IFwiICsgbm9kZS5pZCArIFwiID0gXCIgKyBvdmVybGFwKTtcbiAgICAgICAgICAgIGlmICghb3ZlcmxhcCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlzTGVhZigpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLmxlZnQhKTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucmlnaHQhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIExpbmUge1xuICAgIGZyb21YOiBudW1iZXI7XG4gICAgZnJvbVk6IG51bWJlcjtcbiAgICB0b1g6IG51bWJlcjtcbiAgICB0b1k6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5mcm9tWCA9IGZ4O1xuICAgICAgICB0aGlzLmZyb21ZID0gZnk7XG4gICAgICAgIHRoaXMudG9YID0gdHg7XG4gICAgICAgIHRoaXMudG9ZID0gdHk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2UoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy50b1ggLSB0aGlzLmZyb21YO1xuICAgICAgICBsZXQgZHkgPSB0aGlzLnRvWSAtIHRoaXMuZnJvbVk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cblxuICAgIGRpc3RhbmNlU3F1YXJlZCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZHggPSB0aGlzLnRvWCAtIHRoaXMuZnJvbVg7XG4gICAgICAgIGxldCBkeSA9IHRoaXMudG9ZIC0gdGhpcy5mcm9tWTtcbiAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuICAgIH1cblxuICAgIHByb2plY3RQb2ludChwOiBQSVhJLklQb2ludERhdGEsIHRhcmdldDogUG9pbnQsIGlnbm9yZVZhbGlkOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZnJvbVggPT09IHRoaXMudG9YICYmIHRoaXMuZnJvbVkgPT09IHRoaXMudG9ZKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB1ID0gKChwLnggLSB0aGlzLmZyb21YKSAqICh0aGlzLnRvWCAtIHRoaXMuZnJvbVgpKSArXG4gICAgICAgICAgICAgICAgKChwLnkgLSB0aGlzLmZyb21ZKSAqICh0aGlzLnRvWSAtIHRoaXMuZnJvbVkpKTtcblxuICAgICAgICBsZXQgdWRlbm9tID0gdGhpcy5kaXN0YW5jZVNxdWFyZWQoKTtcblxuICAgICAgICB1IC89IHVkZW5vbTtcblxuICAgICAgICBsZXQgcnggPSB0aGlzLmZyb21YICsgdSAqICh0aGlzLnRvWCAtIHRoaXMuZnJvbVgpO1xuICAgICAgICBsZXQgcnkgPSB0aGlzLmZyb21ZICsgdSAqICh0aGlzLnRvWSAtIHRoaXMuZnJvbVkpO1xuXG4gICAgICAgIGlmIChpZ25vcmVWYWxpZCkge1xuICAgICAgICAgICAgdGFyZ2V0LnNldChyeCwgcnkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWlueCA9IHRoaXMuZnJvbVgsIG1heHggPSB0aGlzLnRvWDtcbiAgICAgICAgbGV0IG1pbnkgPSB0aGlzLmZyb21ZLCBtYXh5ID0gdGhpcy50b1k7XG5cbiAgICAgICAgaWYgKG1pbnggPiBtYXh4KSBbbWlueCwgbWF4eF0gPSBbbWF4eCwgbWlueF07XG4gICAgICAgIGlmIChtaW55ID4gbWF4eSkgW21pbnksIG1heHldID0gW21heHksIG1pbnldO1xuXG4gICAgICAgIGxldCBpc1ZhbGlkID0gKHJ4ID49IG1pbnggJiYgcnggPD0gbWF4eCkgJiYgKHJ5ID49IG1pbnkgJiYgcnkgPD0gbWF4eSk7XG5cbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRhcmdldC5zZXQocngsIHJ5KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29weSgpOiBMaW5lIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lKFxuICAgICAgICAgICAgdGhpcy5mcm9tWCwgdGhpcy5mcm9tWSxcbiAgICAgICAgICAgIHRoaXMudG9YLCB0aGlzLnRvWVxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQge0FhYmJ9IGZyb20gXCIuL2FhYmJcIjtcbmltcG9ydCB7Y29tcHV0ZU9iYlBvaW50c30gZnJvbSBcIi4vY29sbGlzaW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBPYmIge1xuICAgIHVucm90YXRlZDogQWFiYjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xuICAgIHJvdFZlcnRleDogQXJyYXk8bnVtYmVyPjtcblxuICAgIGNvbnN0cnVjdG9yKHVucm90YXRlZDogQWFiYiwgcm90YXRpb246IG51bWJlciwgcm90VmVydGV4OiBBcnJheTxudW1iZXI+KSB7XG4gICAgICAgIHRoaXMudW5yb3RhdGVkID0gdW5yb3RhdGVkO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMucm90VmVydGV4ID0gcm90VmVydGV4O1xuICAgIH1cblxuICAgIHJlY29tcHV0ZSgpIHtcbiAgICAgICAgdGhpcy5yb3RWZXJ0ZXggPSBjb21wdXRlT2JiUG9pbnRzKHRoaXMudW5yb3RhdGVkLCB0aGlzLnJvdGF0aW9uKTtcbiAgICB9XG5cbiAgICBjb3B5KCk6IE9iYiB7XG4gICAgICAgIHJldHVybiBuZXcgT2JiKHRoaXMudW5yb3RhdGVkLmNvcHkoKSwgdGhpcy5yb3RhdGlvbiwgWy4uLnRoaXMucm90VmVydGV4XSk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcm90YXRlQWFiYihhYWJiOiBBYWJiLCByb3Q6IG51bWJlcik6IE9iYiB7XG4gICAgICAgIGlmIChyb3QgPT09IDApIHJldHVybiB0aGlzLmZyb21BYWJiKGFhYmIpO1xuICAgICAgICByZXR1cm4gbmV3IE9iYihhYWJiLCByb3QsIGNvbXB1dGVPYmJQb2ludHMoYWFiYiwgcm90KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21BYWJiKGFhYmI6IEFhYmIpOiBPYmIge1xuICAgICAgICBsZXQgcG9pbnRzID0gW1xuICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1pblksXG4gICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5tYXhZLFxuICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1pbllcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmIoYWFiYiwgMCwgcG9pbnRzKTtcbiAgICB9XG59IiwiaW1wb3J0IHtQb2ludCwgU3R1cGlkUG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7aW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCwgU2VnbWVudFZzU2VnbWVudFJlcywgdHJpYW5nbGVDb250YWluc1BvaW50fSBmcm9tIFwiLi9jb2xsaXNpb25cIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgaW50ZXJzZWN0TGluZVZzTGluZX0gZnJvbSBcIi4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7QmluYXJ5SGVhcH0gZnJvbSBcIi4uL3V0aWwvYmluYXJ5SGVhcFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuXG5leHBvcnQgY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAwMTtcblxuY2xhc3MgRW5kUG9pbnQgZXh0ZW5kcyBQSVhJLlBvaW50IHtcbiAgICBhbmdsZTogbnVtYmVyID0gMDtcbiAgICBkaXN0OiBudW1iZXIgPSAwO1xuICAgIHNlZ21lbnQ/OiBTZWdtZW50O1xufVxuXG5jbGFzcyBTZWdtZW50IHtcbiAgICBmcm9tOiBFbmRQb2ludDtcbiAgICB0bzogRW5kUG9pbnQ7XG4gICAgdXNlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGY6IEVuZFBvaW50LCB0OiBFbmRQb2ludCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmO1xuICAgICAgICB0aGlzLnRvID0gdDtcbiAgICAgICAgdGhpcy51c2VkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBhIDwgYlxuZnVuY3Rpb24gc2VnbWVudEx0KGE6IFNlZ21lbnQsIGI6IFNlZ21lbnQsIG86IFN0dXBpZFBvaW50KTogYm9vbGVhbiB7XG4gICAgLy8gKm9wZW5zIHBoaWxvc29waHkgYm9vaypcbiAgICAvLyBCdXQgd2hhdCBkb2VzIGl0IG1lYW4gZm9yIGEgc2VnbWVudCB0byBiZSBsZXNzIHRoYW4gYW5vdGhlciBvbmU/IChyZWxhdGl2ZSB0byBhIHBvaW50KVxuICAgIC8vIFRoZXJlIGFyZSBtdWx0aXBsZSBhbGdvcml0aG1zIGZvciB0aGlzLCB0aGUgb25lIHRoYXQgbWFrZXMgbW9zdCBzZW5zZSB0byBtZSBpcyB3aGF0IEkgY2FsbCB0aGVcbiAgICAvLyB0cmlhbmd1bGFyIGludGVyc2VjdGlvbjpcbiAgICAvLyBHaXZlbiB0d28gc2VnbWVudHMgYSwgYiBhbmQgYSBwb2ludCBvIHdlIGRlZmluZSBhIDwgYiA9PSB0cnVlIG9ubHkgaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHBvaW50IGluIGIgdGhhdFxuICAgIC8vIGlzIGhpZGRlbiBieSBhLlxuICAgIC8vIEZvciBldmVyeSBzZWdtZW50IHRoZW4gdGhlIHByb3BlcnR5IGEgPCBiID0+ICEoYiA8IGEpIGlzIG1haW50YWluZWQgb25seSBpZiB0aGUgc2VnbWVudHMgZG8gbm90IGludGVyc2VjdFxuICAgIC8vIChhcyB0aGUgb25seSB3YXkgdGhhdCB0d28gbGluZXMgd291bGQgaGlkZSBlYWNoIG90aGVyIGlzIGlmIHRoZXkgbWVldCBpbiBhIHBvaW50KS5cbiAgICAvLyBPbiBhbm90aGVyIG5vdGUsIHRoZSBwcm9wZXJ0eSBhIDwgYiwgYiA8IGMgPT4gYSA8IGMgaXMgbm90IG1haW50YWluZWQhXG4gICAgLy8gSG93IGNhbiB0aGlzIGJlIGNvbXB1dGVkLCB0aGVuP1xuXG4gICAgLy8gYS5mcm9tIGlzIGluc2lkZSB0aGUgdHJpYW5nbGUgZm9ybWVkIGJ5IGIgYW5kIG8sIHRoaXMgbWVhbnM6XG4gICAgLy8gLSBhLnRvIGlzIGFsc28gaW5zaWRlLCB0aGVuIGEgPCBiXG4gICAgLy8gLSBhLnRvIGlzIG91dHNpZGUsIHRoZW4gYSA8IGJcbiAgICBpZiAodHJpYW5nbGVDb250YWluc1BvaW50KGEuZnJvbSwgYi5mcm9tLCBiLnRvLCBvKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHRyaWFuZ2xlQ29udGFpbnNQb2ludChhLnRvLCBiLmZyb20sIGIudG8sIG8pKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIElmIHdlIGFycml2ZSBoZXJlIHdlIGNhbiBiZSBzdXJlIHRoYXQgbmVpdGhlciBwb2ludHMgb2YgYSBpcyBpbnNpZGUgdGhlIHRyaWFuZ2xlLFxuICAgIC8vIEEgc2VnbWVudCB3aXRoIGJvdGggcG9pbnRzIG91dHNpZGUgb2YgdGhlIHRyaWFuZ2xlIGNhbiBpbnRlcnNlY3QgaXQgb25seSBieSBpbnRlcnNlY3RpbmcgdHdvIG9mIHRoZSB0aHJlZVxuICAgIC8vIGxpbmVzLiBXZSBhbHJlYWR5IGFzc3VtZSB0aGF0IGEgYW5kIGIgY2Fubm90IGludGVyc2VjdCBzbyB3ZSBjYW4gY2hlY2sgZWl0aGVyIChiLmZyb20sIG8pIG9yIChiLnRvLCBvKSBhbmQgc2VlXG4gICAgLy8gaWYgaXQgaW50ZXJzZWN0cyB3aXRoIGFcblxuICAgIGxldCBjMSA9IGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoXG4gICAgICAgIG5ldyBMaW5lKGIuZnJvbS54LCBiLmZyb20ueSwgby54LCBvLnkpLFxuICAgICAgICBuZXcgTGluZShhLmZyb20ueCwgYS5mcm9tLnksIGEudG8ueCwgYS50by55KVxuICAgICk7XG4gICAgaWYgKGMxID09PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG5cbiAgICBsZXQgYzIgPSBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KFxuICAgICAgICBuZXcgTGluZShiLnRvLngsIGIudG8ueSwgby54LCBvLnkpLFxuICAgICAgICBuZXcgTGluZShhLmZyb20ueCwgYS5mcm9tLnksIGEudG8ueCwgYS50by55KVxuICAgICk7XG4gICAgaWYgKGMyID09PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG5cblxuICAgIC8vIEVkZ2UgY2FzZTogb25lIG9mIHRoZSBlbmQgcG9pbnRzIG9mIHRoZSBzZWNvbmQgbGluZSAodGhlIHNlZ21lbnQgYSkgbGllc1xuICAgIC8vIGluIHRoZSBsaW5lIChiLmZyb20sIG8pLCB0aGlzIG1pZ2h0IG1lYW4gdHdvIHRoaW5nczpcbiAgICAvLyAxOiB0aGUgbGluZSBzaGFyZXMgYSBwb2ludCBidXQgZG9lcyBub3QgYmxvY2sgdGhlIHNlY29uZCBzZWdtZW50J3Mgdmlld1xuICAgIC8vIDI6IHRoZSBsaW5lIHNoYXJlcyBhIHBvaW50IGFuZCB0aGUgb3RoZXIgcG9pbnQgYmxvY2tzIHRoZSB3aG9sZSB2aWV3IChoaXR0aW5nIHRoZSBvdGhlciB0cmlhbmdsZSBsaW5lKVxuICAgIC8vIHdlIHdhbnQgdG8gY2hlY2sgdGhlIHNlY29uZCBjYXNlLCBzbyBsZXQncyB0cnkgdGhlIHNlY29uZCBzZWdtZW50IGludGVyc2VjdFxuICAgIGlmICgoYzEgJiBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQikgIT09IDAgJiYgYzIgIT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKChjMiAmIFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CKSAhPT0gMCAmJiBjMSAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEVkZ2UgY2FzZSBuLjIgKEknbSBraW5kYSBoYXRpbmcgb24gZ3JpZHMpXG4gICAgLy8gVGhlIHNlZ21lbnQgYSBjb3VsZCBsYXkgYSBwb2ludCBvbiB0aGUgbGluZSBiZXR3ZWVuIChiLmZyb20vdG8sIG8pIGFuZCB0aGUgb3RoZXIgaW4gYlxuICAgIC8vIEVkZ2UgY2FzZSBvZiB0aGUgZWRnZSBjYXNlOiBJZiB0aGUgc2VnbWVudCBpcyBpbiBhbnkgb2YgdGhlIGVuZHBvaW50cyBvZiBiIHRoZW4gaXQgZG9lcyBub3Qgb2NjbHVkZSB0aGUgdmlld1xuICAgIGlmICgoKGMxIHwgYzIpICYgKFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CIHwgU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0EpKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0IpIHtcbiAgICAgICAgbGV0IGMzID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChcbiAgICAgICAgICAgIG5ldyBMaW5lKGIuZnJvbS54LCBiLmZyb20ueSwgYi50by54LCBiLnRvLnkpLFxuICAgICAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGMzICE9PSBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkUpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbWVhbnMgYSA+PSBiXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbml0U2VnbWVudCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwb3M6IFN0dXBpZFBvaW50KTogU2VnbWVudCB7XG4gICAgbGV0IGEgPSBuZXcgRW5kUG9pbnQoeDEsIHkxKTtcbiAgICBsZXQgYiA9IG5ldyBFbmRQb2ludCh4MiwgeTIpO1xuXG4gICAgYS5hbmdsZSA9IE1hdGguYXRhbjIocG9zLnkgLSBhLnksIHBvcy54IC0gYS54KTtcbiAgICBiLmFuZ2xlID0gTWF0aC5hdGFuMihwb3MueSAtIGIueSwgcG9zLnggLSBiLngpO1xuICAgIGEuZGlzdCA9IGRpc3RTcXVhcmVkMmQocG9zLngsIHBvcy55LCBhLngsIGEueSk7XG4gICAgYi5kaXN0ID0gZGlzdFNxdWFyZWQyZChwb3MueCwgcG9zLnksIGIueCwgYi55KTtcblxuICAgIGxldCBzID0gbmV3IFNlZ21lbnQoYSwgYik7XG4gICAgYS5zZWdtZW50ID0gcztcbiAgICBiLnNlZ21lbnQgPSBzO1xuXG4gICAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGUwKHBvczogU3R1cGlkUG9pbnQsIHNlZ21lbnRzOiBTZWdtZW50W10pOiBBcnJheTxudW1iZXI+IHtcbiAgICBsZXQgcG9pbnRzID0gbmV3IEFycmF5PEVuZFBvaW50PigpO1xuICAgIGZvciAobGV0IHMgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgcG9pbnRzLnB1c2gocy5mcm9tLCBzLnRvKTtcbiAgICB9XG5cbiAgICAvLyBPKE5sb2coTikpXG4gICAgcG9pbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGEuYW5nbGUgLSBiLmFuZ2xlO1xuICAgIH0pO1xuXG4gICAgbGV0IHNlZ21lbnRQcmlvcml0eVF1ZXVlID0gbmV3IEJpbmFyeUhlYXA8U2VnbWVudD4oKGEsIGIpID0+IHNlZ21lbnRMdChhLCBiLCBwb3MpKTtcblxuICAgIC8vIFBvcHVsYXRlIHRoZSBwcmlvcml0eSBxdWV1ZSBPKE5sb2coTikpXG4gICAgLy8gVGhlIHByaW9yaXR5IHF1ZXVlIHNob3VsZCBhbHJlYWR5IGhhdmUgYWxsIHRoZSBzZWdtZW50IGl0IGNvbGxpZGVzIHdpdGgsIGJ1dCBkbyBub3QgZmVhciBhc1xuICAgIC8vIHRoZSBtYXRoIGlzIHF1aXRlIHNpbXBsZSBhbmQgc3RyYWlnaHRmb3J3YXJkOlxuICAgIC8vIFdlIHNob3VsZCBjaGVjayB0aGF0IHRoZSBzZWdtZW50IGNvbGxpZGVzIHdpdGggdGhlIGxpbmUgdGhhdCBzdGFydHMgYXQgcG9zIGFuZCBoYXMgYW5nbGUgPSAtTWF0aC5QSS5cbiAgICAvLyBUbyBkbyB0aGF0IHdlIGNhbiBqdXN0IGNoZWNrIHRoZSBhbmdsZXMgb2YgdGhlIHR3byBlbmRwb2ludHMgKGRyYXcgaXQgaW4gYSBwaWVjZSBvZiBwYXBlciwgaXQncyBlYXNpZXIgaWYgc2hvd24pLlxuICAgIGZvciAobGV0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgbGV0IGZhID0gc2VnbWVudC5mcm9tLmFuZ2xlO1xuICAgICAgICBsZXQgdGEgPSBzZWdtZW50LnRvLmFuZ2xlO1xuXG4gICAgICAgIGxldCBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpc0FjdGl2ZSB8fD0gZmEgPD0gMCAmJiB0YSA+PSAwICYmIHRhIC0gZmEgPiBNYXRoLlBJO1xuICAgICAgICBpc0FjdGl2ZSB8fD0gdGEgPD0gMCAmJiBmYSA+PSAwICYmIGZhIC0gdGEgPiBNYXRoLlBJO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgbGV0IHBvbHlnb24gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOykge1xuICAgICAgICAvLyBFeHRlbmQgc2lnbmFscyB0aGF0IHRoZSBmaXJzdCBzZWdtZW50IGhhcyBlbmRlZFxuICAgICAgICAvLyB3ZSBzaG91bGQgdGhlbiBleHRlbmQgdGhlIHBvbHlnb24gdG8gdGhlIG5ldyBmaXJzdCB2aXNpYmxlIHNlZ21lbnQuXG4gICAgICAgIGxldCBleHRlbmQgPSBmYWxzZTtcblxuICAgICAgICBsZXQgb3JpZyA9IGk7Ly8gVGhlIG9yaWdpbmFsIHBvaW50IGluZGV4XG4gICAgICAgIGxldCB2ZXJ0ZXggPSBwb2ludHNbaV07XG4gICAgICAgIGxldCBvbGRTZWdtZW50ID0gc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpITtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZXQgY3VyclNlZ21lbnQgPSBwb2ludHNbaV0uc2VnbWVudCFcbiAgICAgICAgICAgIGlmIChzZWdtZW50UHJpb3JpdHlRdWV1ZS5oYXNFbGVtKGN1cnJTZWdtZW50KSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyU2VnbWVudCA9PT0gb2xkU2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXggPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBvcEVsZW0oY3VyclNlZ21lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wdXNoKGN1cnJTZWdtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPT09IHBvaW50cy5sZW5ndGgpIGJyZWFrO1xuICAgICAgICB9IHdoaWxlIChwb2ludHNbaV0uYW5nbGUgPCBwb2ludHNbb3JpZ10uYW5nbGUgKyBFUFNJTE9OKTtcblxuICAgICAgICBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wZWVrKCkhLnVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoZXh0ZW5kKSB7XG4gICAgICAgICAgICAvLyBWZXJ0ZXggaXMgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBvbGQgc2VnbWVudCwgd2UgbmVlZCB0byBwdXNoIHRoaXMgcmlnaHQgYXdheVxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHZlcnRleC54LCB2ZXJ0ZXgueSk7XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICAgICAgbGV0IGZpcnN0U2VnID0gc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpITtcbiAgICAgICAgICAgIGludGVyc2VjdExpbmVWc0xpbmUoZmlyc3RTZWcuZnJvbSwgZmlyc3RTZWcudG8sIHBvcywgdmVydGV4LCBwb2ludCk7XG4gICAgICAgICAgICBpZiAoIShNYXRoLmFicyhwb2ludC54IC0gdmVydGV4LngpIDwgRVBTSUxPTiAmJiBNYXRoLmFicyhwb2ludC55IC0gdmVydGV4LnkpIDwgRVBTSUxPTikpIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uLnB1c2gocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpICE9IG9sZFNlZ21lbnQpIHtcbiAgICAgICAgICAgIC8vIEEgbmV3IHNlZ21lbnQgaGFzIGhpZGRlbiB0aGUgb2xkIGZpcnN0IHNlZ21lbnQuXG4gICAgICAgICAgICAvLyBGaXJzdCBjb21wdXRlIHdoZXJlIHRoZSBvbGQgc2VnbWVudCBoYXMgYmVlbiBoaWRkZW4sIGFuZCBwdXNoIHRoYXQgcG9pbnQgdG8gdGhlIHBvbHlnb25cbiAgICAgICAgICAgIGxldCBwb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgICAgICAgICBpbnRlcnNlY3RMaW5lVnNMaW5lKG9sZFNlZ21lbnQuZnJvbSwgb2xkU2VnbWVudC50bywgcG9zLCB2ZXJ0ZXgsIHBvaW50KTtcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChwb2ludC54LCBwb2ludC55KTtcblxuICAgICAgICAgICAgLy8gVGhlbiBjb21wdXRlIHdoZXJlIHRoZSBuZXcgc2VnbWVudCBpbnRlcnNlY3RzXG4gICAgICAgICAgICBsZXQgbmV3Q2xvc2VzdCA9IHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSE7XG4gICAgICAgICAgICBsZXQgblBvaW50O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5ld0Nsb3Nlc3QuZnJvbS5hbmdsZSAtIHBvaW50c1tvcmlnXS5hbmdsZSkgPCBFUFNJTE9OKSB7XG4gICAgICAgICAgICAgICAgblBvaW50ID0gbmV3Q2xvc2VzdC5mcm9tO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuUG9pbnQgPSBuZXdDbG9zZXN0LnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoTWF0aC5hYnMocG9pbnQueCAtIG5Qb2ludC54KSA8IEVQU0lMT04gJiYgTWF0aC5hYnMocG9pbnQueSAtIG5Qb2ludC55KSA8IEVQU0lMT04pKSB7XG4gICAgICAgICAgICAgICAgcG9seWdvbi5wdXNoKG5Qb2ludC54LCBuUG9pbnQueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvbHlnb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlKHBvczogUG9pbnQsIGluU2VnbWVudHM6IExpbmVbXSk6IEFycmF5PG51bWJlcj4ge1xuICAgIGxldCBzZWdtZW50cyA9IG5ldyBBcnJheTxTZWdtZW50PihpblNlZ21lbnRzLmxlbmd0aCk7XG5cbiAgICAvLyBPKE4pXG4gICAgZm9yIChsZXQgc2VnbWVudCBvZiBpblNlZ21lbnRzKSB7XG4gICAgICAgIGxldCBzID0gaW5pdFNlZ21lbnQoc2VnbWVudC5mcm9tWCwgc2VnbWVudC5mcm9tWSwgc2VnbWVudC50b1gsIHNlZ21lbnQudG9ZLCBwb3MpO1xuXG4gICAgICAgIHNlZ21lbnRzLnB1c2gocyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXB1dGUwKHBvcywgc2VnbWVudHMpO1xufVxuXG5jb25zdCBJTlNJREUgPSAwO1xuY29uc3QgTEVGVCA9IDE7XG5jb25zdCBSSUdIVCA9IDI7XG5jb25zdCBCT1RUT00gPSA0O1xuY29uc3QgVE9QID0gODtcblxuZnVuY3Rpb24gY29tcHV0ZU91dENvZGUoYm94OiBBYWJiLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IGNvZGUgPSBJTlNJREU7XG5cbiAgICBpZiAgICAgICh4IDwgYm94Lm1pblgpIGNvZGUgfD0gTEVGVDtcbiAgICBlbHNlIGlmICh4ID4gYm94Lm1heFgpIGNvZGUgfD0gUklHSFQ7XG5cbiAgICBpZiAgICAgICh5IDwgYm94Lm1pblkpIGNvZGUgfD0gQk9UVE9NO1xuICAgIGVsc2UgaWYgKHkgPiBib3gubWF4WSkgY29kZSB8PSBUT1A7XG5cbiAgICByZXR1cm4gY29kZTtcbn1cblxuZnVuY3Rpb24gY2xpcFNlZ21lbnQobGluZTogTGluZSwgYWFiYjogQWFiYiwgbGlnaHQ6IFN0dXBpZFBvaW50KTogU2VnbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29oZW4lRTIlODAlOTNTdXRoZXJsYW5kX2FsZ29yaXRobVxuICAgIGxldCB4MCA9IGxpbmUuZnJvbVg7XG4gICAgbGV0IHkwID0gbGluZS5mcm9tWTtcbiAgICBsZXQgeDEgPSBsaW5lLnRvWDtcbiAgICBsZXQgeTEgPSBsaW5lLnRvWTtcblxuICAgIGxldCBjb2RlMCA9IGNvbXB1dGVPdXRDb2RlKGFhYmIsIHgwLCB5MCk7XG4gICAgbGV0IGNvZGUxID0gY29tcHV0ZU91dENvZGUoYWFiYiwgeDEsIHkxKTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICgoY29kZTAgfCBjb2RlMSkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGJpdHdpc2UgT1IgaXMgMDogYm90aCBwb2ludHMgaW5zaWRlIHdpbmRvdzsgdHJpdmlhbGx5IGFjY2VwdCBhbmQgZXhpdCBsb29wXG4gICAgICAgICAgICByZXR1cm4gaW5pdFNlZ21lbnQoeDAsIHkwLCB4MSwgeTEsIGxpZ2h0KTtcbiAgICAgICAgfSBlbHNlIGlmICgoY29kZTAgJiBjb2RlMSkgIT09IDApIHtcbiAgICAgICAgICAgIC8vIGZhaWxlZCBib3RoIHRlc3RzLCBzbyBjYWxjdWxhdGUgdGhlIGxpbmUgc2VnbWVudCB0byBjbGlwXG4gICAgICAgICAgICAvLyBmcm9tIGFuIG91dHNpZGUgcG9pbnQgdG8gYW4gaW50ZXJzZWN0aW9uIHdpdGggY2xpcCBlZGdlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHggPSAwLCB5ID0gMDtcblxuICAgICAgICAgICAgLy8gQXQgbGVhc3Qgb25lIGVuZHBvaW50IGlzIG91dHNpZGUgdGhlIGNsaXAgcmVjdGFuZ2xlOyBwaWNrIGl0LlxuICAgICAgICAgICAgbGV0IGNvZGVPdXQgPSBjb2RlMSA+IGNvZGUwID8gY29kZTEgOiBjb2RlMDtcblxuICAgICAgICAgICAgLy8gTm93IGZpbmQgdGhlIGludGVyc2VjdGlvbiBwb2ludDtcbiAgICAgICAgICAgIC8vIHVzZSBmb3JtdWxhczpcbiAgICAgICAgICAgIC8vICAgc2xvcGUgPSAoeTEgLSB5MCkgLyAoeDEgLSB4MClcbiAgICAgICAgICAgIC8vICAgeCA9IHgwICsgKDEgLyBzbG9wZSkgKiAoeW0gLSB5MCksIHdoZXJlIHltIGlzIHltaW4gb3IgeW1heFxuICAgICAgICAgICAgLy8gICB5ID0geTAgKyBzbG9wZSAqICh4bSAtIHgwKSwgd2hlcmUgeG0gaXMgeG1pbiBvciB4bWF4XG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIHdvcnJ5IGFib3V0IGRpdmlkZS1ieS16ZXJvIGJlY2F1c2UsIGluIGVhY2ggY2FzZSwgdGhlXG4gICAgICAgICAgICAvLyBvdXRjb2RlIGJpdCBiZWluZyB0ZXN0ZWQgZ3VhcmFudGVlcyB0aGUgZGVub21pbmF0b3IgaXMgbm9uLXplcm9cblxuICAgICAgICAgICAgaWYgKChjb2RlT3V0ICYgVE9QKSAhPT0gMCkgeyAgICAgICAgICAgLy8gcG9pbnQgaXMgYWJvdmUgdGhlIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeCA9IHgwICsgKHgxIC0geDApICogKGFhYmIubWF4WSAtIHkwKSAvICh5MSAtIHkwKTtcbiAgICAgICAgICAgICAgICB5ID0gYWFiYi5tYXhZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoY29kZU91dCAmIEJPVFRPTSkgIT09IDApIHsgLy8gcG9pbnQgaXMgYmVsb3cgdGhlIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeCA9IHgwICsgKHgxIC0geDApICogKGFhYmIubWluWSAtIHkwKSAvICh5MSAtIHkwKTtcbiAgICAgICAgICAgICAgICB5ID0gYWFiYi5taW5ZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoY29kZU91dCAmIFJJR0hUKSAhPT0gMCkgeyAgLy8gcG9pbnQgaXMgdG8gdGhlIHJpZ2h0IG9mIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeSA9IHkwICsgKHkxIC0geTApICogKGFhYmIubWF4WCAtIHgwKSAvICh4MSAtIHgwKTtcbiAgICAgICAgICAgICAgICB4ID0gYWFiYi5tYXhYO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoY29kZU91dCAmIExFRlQpICE9PSAwKSB7ICAgLy8gcG9pbnQgaXMgdG8gdGhlIGxlZnQgb2YgY2xpcCB3aW5kb3dcbiAgICAgICAgICAgICAgICB5ID0geTAgKyAoeTEgLSB5MCkgKiAoYWFiYi5taW5YIC0geDApIC8gKHgxIC0geDApO1xuICAgICAgICAgICAgICAgIHggPSBhYWJiLm1pblg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdyB3ZSBtb3ZlIG91dHNpZGUgcG9pbnQgdG8gaW50ZXJzZWN0aW9uIHBvaW50IHRvIGNsaXBcbiAgICAgICAgICAgIC8vIGFuZCBnZXQgcmVhZHkgZm9yIG5leHQgcGFzcy5cbiAgICAgICAgICAgIGxldCBjb2RlID0gY29tcHV0ZU91dENvZGUoYWFiYiwgeCwgeSk7XG4gICAgICAgICAgICBpZiAoY29kZU91dCA9PT0gY29kZTApIHtcbiAgICAgICAgICAgICAgICB4MCA9IHg7XG4gICAgICAgICAgICAgICAgeTAgPSB5O1xuICAgICAgICAgICAgICAgIGNvZGUwID0gY29kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeDEgPSB4O1xuICAgICAgICAgICAgICAgIHkxID0geTtcbiAgICAgICAgICAgICAgICBjb2RlMSA9IGNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVmlld3BvcnQobGluZXM6IExpbmVbXSwgYWFiYjogQWFiYiwgbGlnaHQ6IFN0dXBpZFBvaW50LCB1c2VkTGluZXM/OiBudW1iZXJbXSk6IEFycmF5PG51bWJlcj4ge1xuICAgIC8vY29uc29sZS5sb2coXCJMaW5lczogXCIgKyBsaW5lcy5sZW5ndGgpO1xuICAgIGxldCBzZWdtZW50cyA9IG5ldyBBcnJheTxTZWdtZW50PigpO1xuXG4gICAgbGV0IGxpbmVMZW4gPSBsaW5lcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lTGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHNlZ21lbnQgPSBjbGlwU2VnbWVudChsaW5lc1tpXSwgYWFiYiwgbGlnaHQpO1xuICAgICAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoc2VnbWVudCBhcyBhbnkpLmluZGV4ID0gaTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyhcIkRvbmVcIik7XG4gICAgLy8gUHVzaCB2aWV3cG9ydCBzZWdtZW50czpcbiAgICBzZWdtZW50cy5wdXNoKFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1pblgsIGFhYmIubWluWSwgYWFiYi5taW5YLCBhYWJiLm1heFksIGxpZ2h0KSxcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5taW5YLCBhYWJiLm1heFksIGFhYmIubWF4WCwgYWFiYi5tYXhZLCBsaWdodCksXG4gICAgICAgIGluaXRTZWdtZW50KGFhYmIubWF4WCwgYWFiYi5tYXhZLCBhYWJiLm1heFgsIGFhYmIubWluWSwgbGlnaHQpLFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1heFgsIGFhYmIubWluWSwgYWFiYi5taW5YLCBhYWJiLm1pblksIGxpZ2h0KSxcbiAgICApO1xuXG4gICAgLy9jb25zb2xlLmxvZyhcIlNFR01FTlRTOiBcIiwgc2VnbWVudHMpO1xuXG4gICAgbGV0IHBvbHkgPSBjb21wdXRlMChsaWdodCwgc2VnbWVudHMpO1xuXG4gICAgaWYgKHVzZWRMaW5lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIENvbXB1dGUgd2hhdCBsaW5lcyBoYXZlIGJlZW4gdXNlZFxuICAgICAgICBsZXQgc2VnTGVuID0gc2VnbWVudHMubGVuZ3RoIC0gNDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdMZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IHMgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChzLnVzZWQpIHVzZWRMaW5lcy5wdXNoKChzIGFzIGFueSkuaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHk7XG59XG4iLCIvLyBDb21tb24gaW5mbyBhYm91dCB0aGUgZ3JhcGhpY2FsIHN5c3RlbXMsIHRoaXMgc2hvdWxkIGJlIGEgc2VtaS1hYnN0cmFjdGlvbi5cbi8vIE5PTkUgT0YgVEhJUyBTSE9VTEQgQkUgU0VSSUFMSVpFRCEgVEhJUyBJUyBBTEwgUlVOVElNRSBERVBFTkRBTlQhIERFVEFJTFMgV0lMTCBDSEFOR0UgQkVUV0VFTiBNSU5PUiBWRVJTSU9OUyFcblxuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuL2Vjcy9jb21wb25lbnRcIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUgPSAncmVtZW1iZXJfYml0X2J5X2JpdF92aXNfdXBkYXRlJztcblxuZXhwb3J0IHR5cGUgR1JBUEhJQ19UWVBFID0gXCJncmFwaGljXCI7XG5leHBvcnQgY29uc3QgR1JBUEhJQ19UWVBFID0gXCJncmFwaGljXCI7XG5leHBvcnQgaW50ZXJmYWNlIEdyYXBoaWNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICBkaXNwbGF5OiBEaXNwbGF5RWxlbWVudDtcbiAgICAvLyBXaHkgZG9lcyB0aGlzIGZsYWcgZXhpc3Q/IGdvb2QgdGhpbmcgeW91IGFza2VkISBXYWxscyBoYXZlIGEgc3BlY2lhbCBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBkb2VzXG4gICAgLy8gbm90IHVzZSBpbXByZWNpc2UgY29sbGlzaW9uIGRldGVjdGlvbiwgdGhleSB1c2UgZGF0YSBleHRyYWN0ZWQgZnJvbSB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIGFsZ29yaXRobS5cbiAgICAvLyBJZiB5b3UgdGhpbmsgYWJvdXQgaXQgYSBiaXQgaXQncyBub3QgdGhhdCBmYXItZmV0Y2hlZCwgdGhlIGFsZ29yaXRobSBjb21wdXRlcyBhbGwgb2YgdGhlIHZpc2liaWxpdHkgcGF0aHMsIGl0XG4gICAgLy8gc2hvdWxkIGFsc28ga25vdyB3aGF0IHdhbGxzIGFyZSBiZWluZyB1c2VkIChhbmQgd2UgZ2V0IHRoYXQgaW5mbyBmb3IgZnJlZSEpLlxuICAgIGlzV2FsbD86IHRydWU7XG4gICAgaW50ZXJhY3RpdmU6IGJvb2xlYW47Ly8gV2hlbiB0cnVlIHRoaXMgZWxlbWVudCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBJbnRlcmFjdGlvbiBzeXN0ZW1cbn1cblxuZXhwb3J0IGVudW0gRWxlbWVudFR5cGUge1xuICAgIENPTlRBSU5FUixcbiAgICBJTUFHRSxcbiAgICBMSU5FLFxuICAgIFBPSU5ULFxuICAgIFRFWFQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzcGxheUVsZW1lbnQgZXh0ZW5kcyBWaXNpYmlsaXR5T3B0aW9ucyB7XG4gICAgdHlwZTogRWxlbWVudFR5cGU7XG4gICAgaWdub3JlOiBib29sZWFuO1xuICAgIHByaW9yaXR5OiBudW1iZXI7Ly8gKGlnbm9yZWQgaWYgdGV4dCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucylcbiAgICBvZmZzZXQ/OiBQSVhJLklQb2ludERhdGE7XG4gICAgY2hpbGRyZW4/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIC8vIFRoZXNlIGFyZSBha2luIHRvIGZ1bmN0aW9uIGNhbGxzLCB1cG9uIHVwZGF0aW5nIHRoZSBzeXN0ZW0gaW4gY2hhcmdlIG9mXG4gICAgLy8gR1VJIGVkaXRpbmcgd2lsbCBhZGQvcmVtb3ZlL3JlcGxhY2UgdGhlIGNoaWxkcmVucyBjb250YWluZWRcbiAgICBfY2hpbGRyZW5BZGQ/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIF9jaGlsZHJlblJlbW92ZT86IERpc3BsYXlFbGVtZW50W107XG4gICAgX2NoaWxkcmVuUmVwbGFjZT86IERpc3BsYXlFbGVtZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5jaG9yYWJsZUVsZW1lbnQge1xuICAgIGFuY2hvcjogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIGNvbG9yOiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIFZpc2liaWxpdHlUeXBlIHtcbiAgICAvLyBZb3Ugb25seSBzZWUgb25lIHRoaW5nIHdoZW4geW91IHNlZSBpdCEgc2VlbXMgc3R1cGlkIGJ1dCB5b3UgY2FuIGFsc28gcmVtZW1iZXIgdGhpbmdzXG4gICAgTk9STUFMLFxuICAgIC8vIEEgcGxheWVyIGNhbiBhbHdheXMgc2VlIGl0c2VsZiwgZXZlbiB3aXRoIG5vIGxpZ2h0LCBcIkkgdGhpbmsgdGhlcmVmb3JlIEkgYW1cIlxuICAgIEFMV0FZU19WSVNJQkxFLFxuICAgIC8vIFlvdSdsbCByZW1lbWJlciBvbmNlIHlvdSBzZWUgaXRcbiAgICBSRU1FTUJFUixcbiAgICAvLyBVc2VkIGluIGltYWdlcywgeW91IG9ubHkgcmVtZW1iZXIgd2hhdCB5b3Ugc2VlISAob25seSBzdXBwb3J0IGltYWdlcyBmb3Igbm93KVxuICAgIFJFTUVNQkVSX0JJVF9CWV9CSVQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eU9wdGlvbnMge1xuICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZTtcbn1cblxuLy8gUmVhbCBjb21wb25lbnRzXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5DT05UQUlORVI7XG59XG5cbmV4cG9ydCBlbnVtIEltYWdlU2NhbGVNb2RlIHtcbiAgICAvLyAxIHBpeGVsID0gMSpzY2FsZSBwaXhlbHNcbiAgICBSRUFMLFxuICAgIC8vIDEgcGl4ZWwgPSAxKmdyaWRTaXplKnNjYWxlIHBpeGVsc1xuICAgIEdSSUQsXG59XG5cbi8vIFRPRE86IGNyZWF0ZSBhIHNoYXJlZCByZXNvdXJjZXMgcmVzb3VyY2UgYW5kIHB1dCB0ZXh0dXJlcyBpbiB0aGVtICh0aGVuIHB1dCBiYWNrZ3JvdW5kcyBpbiBpdCEpLlxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCwgQW5jaG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFO1xuICAgIHNjYWxlOiBJbWFnZVNjYWxlTW9kZTtcbiAgICB0ZXh0dXJlOiBQSVhJLlRleHR1cmU7XG4gICAgc2hhcmVkVGV4dHVyZT86IHRydWU7Ly8gSWYgdGhpcyBmaWVsZCBpcyBwcmVzZW50IHRoZSB0ZXh0dXJlIHdvbid0IGJlIGRlc3Ryb3llZFxuICAgIHRpbnQ6IG51bWJlcjtcbiAgICAvLyBPdXRwdXQgb2YgdGhlIHZpc2libGUgaW1hZ2UsIG9ubHkgYXZhaWxhYmxlIGlmIHZpc2liPVJFTUVNQkVSX0JJVF9CWV9CSVQgYW5kIGl0J3MgYW4gaW1hZ2VcbiAgICAvLyB1cGRhdGVkIHdoZW4gdGhlIGVudGl0eSBpcyBzZXJpYWxpemVkLCB3aGVuIGl0IGlzIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUgaXMgZmlyZWQgd2l0aCBhIGxpc3RcbiAgICAvLyBvZiB1cGRhdGVkIGVudGl0aWVzLlxuICAgIHZpc01hcD86IFVpbnQzMkFycmF5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLkxJTkU7XG4gICAgdmVjOiBQSVhJLklQb2ludERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLlBPSU5UO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIEFuY2hvcmFibGVFbGVtZW50LCBDb2xvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5URVhUO1xuICAgIHRleHQ6IHN0cmluZztcbn1cbiIsImltcG9ydCB7U3RhZ2V9IGZyb20gXCIuL3BoYXNlL3N0YWdlXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi9QSVhJXCI7XG5cbmltcG9ydCB7SG9tZVBoYXNlfSBmcm9tIFwiLi9waGFzZS9ob21lUGhhc2VcIjtcblxuaW1wb3J0IHtFdmVudEVtaXR0ZXJXcmFwcGVyfSBmcm9tIFwiLi91dGlsL2V2ZW50RW1pdHRlcldyYXBwZXJcIjtcblxuaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgeyBCb290c3RyYXBWdWUgfSBmcm9tICdib290c3RyYXAtdnVlJ1xuXG5pbXBvcnQgJ0Bmb3J0YXdlc29tZS9mb250YXdlc29tZS1mcmVlL2Nzcy9hbGwuY3NzJ1xuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9qcy9hbGwuanMnXG5cblZ1ZS51c2UoQm9vdHN0cmFwVnVlKVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHVibGljXG5cbmltcG9ydCBcIlB1YmxpYy9zdHlsZS5jc3NcIjtcbmltcG9ydCB7Q2xpZW50RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9waGFzZS9lZGl0TWFwL2NsaWVudEVkaXRNYXBQaGFzZVwiO1xuaW1wb3J0IHthZGRDdXN0b21CbGVuZE1vZGVzfSBmcm9tIFwiLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7bG9hZEFzc2V0c30gZnJvbSBcIi4vYXNzZXRzTG9hZGVyXCI7XG5pbXBvcnQge0xvYWRpbmdQaGFzZX0gZnJvbSBcIi4vcGhhc2UvbG9hZGluZ1BoYXNlXCI7XG5pbXBvcnQge0RFRkFVTFRfQkFDS0dST1VORH0gZnJvbSBcIi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cIjtcblxuZXhwb3J0IGNvbnN0IHdpbmRvd0V2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXJXcmFwcGVyKChldmVudCwgZW1pdHRlcikgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBkYXRhID0+IHtcbiAgICAgICAgZW1pdHRlci5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBNYWluXG5leHBvcnQgY29uc3Qgc3RhZ2UgPSBuZXcgU3RhZ2UoXCJtYWluXCIpO1xuXG5mdW5jdGlvbiBvbkhhc2hDYWhuZ2UoKSB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgIGNvbnN0IHJvb21JZCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKTsvLyBSZW1vdmUgI1xuICAgICAgICBpZiAocm9vbUlkLnN0YXJ0c1dpdGgoJ3AnKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHdpdGg6IHBlZXJqMlwiKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBDbGllbnRFZGl0TWFwUGhhc2Uocm9vbUlkLnN1YnN0cigxKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIGhhc2hcIilcbiAgICAgICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBIb21lUGhhc2UoKSk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBIb21lUGhhc2UoKSk7XG4gICAgfVxufVxuXG4oYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBkbmRtZTogXCIgKyBfX0NPTU1JVF9IQVNIX18pO1xuXG4gICAgc3RhZ2Uuc2V0UGhhc2UobmV3IExvYWRpbmdQaGFzZSgpKTtcblxuICAgIGF3YWl0IGxvYWRBc3NldHMoKTtcblxuICAgIG9uSGFzaENhaG5nZSgpO1xuXG4gICAgd2luZG93Lm9uaGFzaGNoYW5nZSA9IGZ1bmN0aW9uIChlOiBIYXNoQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJIYXNoIGNoYW5nZVwiICsgZS5uZXdVUkwpO1xuICAgICAgICBvbkhhc2hDYWhuZ2UoKTtcbiAgICB9XG59KSgpO1xuIiwiaW1wb3J0IHtNYXBMZXZlbH0gZnJvbSBcIi4vbWFwTGV2ZWxcIjtcblxuaW1wb3J0IHtkZWNvZGUsIGVuY29kZX0gZnJvbSBcIkBtc2dwYWNrL21zZ3BhY2tcIjtcbmltcG9ydCBKU1ppcCBmcm9tIFwianN6aXBcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXAge1xuICAgIHN0YXRpYyBTRVJfVkVSU0lPTiA9ICcxLjAnO1xuXG4gICAgbGV2ZWxzID0gbmV3IE1hcDxudW1iZXIsIE1hcExldmVsPigpO1xuXG5cbiAgICBwcml2YXRlIGNyZWF0ZURhdGFKc29uKCk6IFVpbnQ4QXJyYXkge1xuICAgICAgICBsZXQgbGV2ZWxzOiB7IFtpZDogc3RyaW5nXTogYW55IH0gPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBbaWQsIGxldmVsXSBvZiB0aGlzLmxldmVscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGxldmVsc1tpZF0gPSBsZXZlbC5zZXJpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogR2FtZU1hcC5TRVJfVkVSU0lPTixcbiAgICAgICAgICAgIGxldmVsczogbGV2ZWxzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZW5jb2RlKGRhdGEpO1xuICAgIH1cblxuICAgIHNhdmVUb0ZpbGUoKTogUHJvbWlzZTxCbG9iPiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVEYXRhSnNvbigpO1xuICAgICAgICBsZXQgemlwID0gbmV3IEpTWmlwKCk7XG4gICAgICAgIHppcC5maWxlKFwiZGF0YS5tc2dwYWNrXCIsIGRhdGEpO1xuICAgICAgICByZXR1cm4gemlwLmdlbmVyYXRlQXN5bmMoe1xuICAgICAgICAgICAgdHlwZTogXCJibG9iXCIsXG4gICAgICAgICAgICBjb21wcmVzc2lvbjogJ0RFRkxBVEUnLFxuICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgYnJvd3NlciBmcm9tIHJlbmFtaW5nIHRoZSBleHRlbnNpb25cbiAgICAgICAgICAgIG1pbWVUeXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgbG9hZEZyb21GaWxlKGZyb206IEZpbGUpOiBQcm9taXNlPEdhbWVNYXA+IHtcbiAgICAgICAgbGV0IHppcCA9IGF3YWl0IEpTWmlwLmxvYWRBc3luYyhmcm9tKTtcbiAgICAgICAgLy8gVE9ETzogYmV0dGVyIGVycm9yIG1hbmFnZW1lbnRcbiAgICAgICAgbGV0IGZpbGUgPSBhd2FpdCB6aXAuZmlsZShcImRhdGEubXNncGFja1wiKSEuYXN5bmMoJ2FycmF5YnVmZmVyJyk7XG4gICAgICAgIGxldCBkYXRhID0gYXdhaXQgZGVjb2RlKGZpbGUpIGFzIGFueTtcblxuICAgICAgICBpZiAoZGF0YVsndmVyc2lvbiddICE9PSB0aGlzLlNFUl9WRVJTSU9OKSB7XG4gICAgICAgICAgICB0aHJvdyAnVmVyc2lvbiBub3Qgc3VwcG9ydGVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBnYW1lTWFwID0gbmV3IEdhbWVNYXAoKTtcblxuICAgICAgICBsZXQgbGV2ZWxzRGF0YSA9IGRhdGFbXCJsZXZlbHNcIl07XG4gICAgICAgIGZvciAobGV0IGlkIGluIGxldmVsc0RhdGEpIHtcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IGxldmVsc0RhdGFbaWRdO1xuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IE1hcExldmVsLmRlc2VyaWFsaXplKHBhcnNlSW50KGlkKSwgbGV2ZWwpO1xuICAgICAgICAgICAgZ2FtZU1hcC5sZXZlbHMuc2V0KHJlcy5pZCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZU1hcDtcbiAgICB9XG59IiwiaW1wb3J0IHtTZXJpYWxpemVkV29ybGQsIFdvcmxkfSBmcm9tIFwiLi4vZWNzL3dvcmxkXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXBMZXZlbCB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGVjcz86IFNlcmlhbGl6ZWRXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cblxuICAgIGxvYWRJbnRvKGVjczogV29ybGQpOiB2b2lkIHtcbiAgICAgICAgZWNzLmNsZWFyKCk7XG4gICAgICAgIGlmICh0aGlzLmVjcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlY3MuZGVzZXJpYWxpemUodGhpcy5lY3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2F2ZUZyb20oZWNzOiBXb3JsZCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVjcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lY3MgPSBlY3Muc2VyaWFsaXplKCk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBlY3M6IHRoaXMuZWNzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoaWQ6IG51bWJlciwgZGF0YTogYW55KTogTWFwTGV2ZWwge1xuICAgICAgICBsZXQgcmVzID0gbmV3IE1hcExldmVsKGlkKTtcbiAgICAgICAgcmVzLm5hbWUgPSBkYXRhWyduYW1lJ107XG4gICAgICAgIHJlcy5lY3MgPSBkYXRhWydlY3MnXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59IiwiZXhwb3J0IHR5cGUgQ29ubmVjdGlvblN0YXRzU3VtbWFyeSA9IHtcbiAgICBsb2NhbDogc3RyaW5nO1xuICAgIHJlbW90ZTogc3RyaW5nO1xufTtcblxuXG5leHBvcnQgY2xhc3MgUnRjU3RhdHNNYW5hZ2VyIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbm46IFJUQ1BlZXJDb25uZWN0aW9uO1xuICAgIG9uU3VtbWFyeT86IChzdGF0czogQ29ubmVjdGlvblN0YXRzU3VtbWFyeSkgPT4gdm9pZDtcblxuICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICBsYXN0U3VtbWFyeT86IENvbm5lY3Rpb25TdGF0c1N1bW1hcnk7XG4gICAgcHJpdmF0ZSBpc1BlbmRpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbm46IFJUQ1BlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY29ubiA9IGNvbm47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzKHJlcG9ydDogUlRDU3RhdHNSZXBvcnQpOiBDb25uZWN0aW9uU3RhdHNTdW1tYXJ5IHtcbiAgICAgICAgbGV0IHVzZWRQYWlyID0gdW5kZWZpbmVkIGFzIFJUQ0ljZUNhbmRpZGF0ZVBhaXJTdGF0cyB8IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChsZXQgeCBvZiByZXBvcnQudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB4IGFzIFJUQ1N0YXRzO1xuICAgICAgICAgICAgaWYgKHMudHlwZSAhPT0gJ2NhbmRpZGF0ZS1wYWlyJykgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcGFpciA9IHMgYXMgUlRDSWNlQ2FuZGlkYXRlUGFpclN0YXRzO1xuICAgICAgICAgICAgaWYgKHBhaXIuc3RhdGUgPT09ICdzdWNjZWVkZWQnKSB7XG4gICAgICAgICAgICAgICAgdXNlZFBhaXIgPSBwYWlyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN1bW1hcnkgPSB7XG4gICAgICAgICAgICBsb2NhbDogJ3Vua25vd24nLFxuICAgICAgICAgICAgcmVtb3RlOiAndW5rbm93bicsXG4gICAgICAgIH0gYXMgQ29ubmVjdGlvblN0YXRzU3VtbWFyeTtcblxuICAgICAgICBpZiAodXNlZFBhaXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1bW1hcnk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVtb3RlID0gdW5kZWZpbmVkIGFzIFJUQ0ljZUNhbmRpZGF0ZUF0dHJpYnV0ZXMgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh1c2VkUGFpci5yZW1vdGVDYW5kaWRhdGVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW1vdGUgPSByZXBvcnQuZ2V0KHVzZWRQYWlyLnJlbW90ZUNhbmRpZGF0ZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb2NhbCA9IHVuZGVmaW5lZCBhcyBSVENJY2VDYW5kaWRhdGVBdHRyaWJ1dGVzIHwgIHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHVzZWRQYWlyLmxvY2FsQ2FuZGlkYXRlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYWwgPSByZXBvcnQuZ2V0KHVzZWRQYWlyLmxvY2FsQ2FuZGlkYXRlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvY2FsICE9PSB1bmRlZmluZWQgJiYgbG9jYWwuY2FuZGlkYXRlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdW1tYXJ5LmxvY2FsID0gbG9jYWwuY2FuZGlkYXRlVHlwZTtcbiAgICAgICAgICAgIChzdW1tYXJ5IGFzIGFueSkubG9jYWxEZXRhaWwgPSBsb2NhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW1vdGUgIT09IHVuZGVmaW5lZCAmJiByZW1vdGUuY2FuZGlkYXRlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdW1tYXJ5LnJlbW90ZSA9IHJlbW90ZS5jYW5kaWRhdGVUeXBlO1xuICAgICAgICAgICAgKHN1bW1hcnkgYXMgYW55KS5yZW1vdGVEZXRhaWwgPSByZW1vdGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VtbWFyeTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUnRjUmVwb3J0KHJlcG9ydDogUlRDU3RhdHNSZXBvcnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgcHJvYyA9IHRoaXMucHJvY2VzcyhyZXBvcnQpO1xuICAgICAgICB0aGlzLmxhc3RTdW1tYXJ5ID0gcHJvYztcbiAgICAgICAgaWYgKHRoaXMub25TdW1tYXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25TdW1tYXJ5KHByb2MpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY2hlZHVsZSgxMDAwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzY2hlZHVsZShkZWxheTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHRoaXMuaXNQZW5kaW5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5pc1BlbmRpbmcgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChbJ2Rpc2Nvbm5lY3RlZCcsICdjbG9zZWQnXS5pbmRleE9mKHRoaXMuY29ubi5pY2VDb25uZWN0aW9uU3RhdGUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29ubi5jb25uZWN0aW9uU3RhdGUsIHRoaXMuY29ubi5pY2VDb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5jb25uLmdldFN0YXRzKCkudGhlbih0aGlzLm9uUnRjUmVwb3J0LmJpbmQodGhpcykpXG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9XG5cbiAgICBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoMCk7XG4gICAgfVxuXG4gICAgc3RvcCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgKiBhcyBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50ZW1pdHRlcjNcIlxuaW1wb3J0IHtQMnBDb25uZWN0aW9ufSBmcm9tIFwiLi9wMnBDb25uZWN0aW9uXCI7XG5pbXBvcnQge0Vycm9yUGFja2V0LCBQYWNrZXQsIFBhY2tldENvbnRhaW5lcn0gZnJvbSBcIi4uL3Byb3RvY29sL3BhY2tldFwiO1xuXG5leHBvcnQgY2xhc3MgQ2hhbm5lbCB7XG4gICAgY29ubmVjdGlvbnM6IFAycENvbm5lY3Rpb25bXSA9IFtdO1xuICAgIGNvbm5lY3Rpb25zQnlJZCA9IG5ldyBNYXA8bnVtYmVyLCBQMnBDb25uZWN0aW9uPigpO1xuXG4gICAgaXNIb3N0OiBib29sZWFuO1xuICAgIG15SWQ6IG51bWJlciA9IC0xO1xuXG4gICAgbmV4dEJyb2FkY2FzdFBhY2tldElkOiBudW1iZXIgPSAwO1xuXG4gICAgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgYnVmZmVyaW5nQ2hhbm5lbHM6IG51bWJlciA9IDA7XG4gICAgaXNHYXRoZXJpbmdTdGF0czogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoaXNIb3N0OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gaXNIb3N0O1xuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIHRoaXMubXlJZCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogYmV0dGVyIHZpc3VhbGl6YXRpb25cbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnBsc3JlcG9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKCdyZXBvcnQnLCBjb25zb2xlLmxvZyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0R2F0aGVyU3RhdHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTWVzc2FnZShyYXc6IGFueSwgY29ubjogUDJwQ29ubmVjdGlvbikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwib25NZXNzYWdlXCIsIHJhdyk7XG4gICAgICAgIGxldCBwYWNrZXQgPSByYXcgYXMgUGFja2V0Q29udGFpbmVyOy8vIENoZWNrIGZvciBlcnJvcnM/XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICBwYWNrZXQuc2VuZGVyID0gY29ubi5jaGFubmVsSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhY2tldC5wYXlsb2FkLnR5cGUuc3RhcnRzV2l0aChcIl9cIikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgdHlwZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IHRoaW5rIG9mIGEgYmV0dGVyIHBhY2tldGlkIHN5c3RlbSwgd2UgaGF2ZSBzb21lIHByb2JsZW1zIHdpdGhcbiAgICAgICAgLy8gICAgICAgaG9zdCBmb3J3YXJkaW5nIGFzIHRoZSBpZCBjaGFuZ2VzLCB3ZSBjYW4gbm90IGhhdmUgcmVwbGllcy5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0ICYmIHBhY2tldC5yZWNlaXZlciAhPT0gdGhpcy5teUlkKSB7XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxJZCA9IHBhY2tldC5pZDtcbiAgICAgICAgICAgIGlmIChwYWNrZXQucmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhY2tldC5pZCA9IHRoaXMubmV4dEJyb2FkY2FzdFBhY2tldElkKys7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLmNvbm5lY3Rpb25zQnlJZC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0gY29ubikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5zZW5kKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZWN2ID0gdGhpcy5jb25uZWN0aW9uc0J5SWQuZ2V0KHBhY2tldC5yZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3YgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JUeXBlOiBcInVua25vd25fcmVjZWl2ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcGFja2V0LmlkLFxuICAgICAgICAgICAgICAgICAgICB9IGFzIEVycm9yUGFja2V0LCBjb25uLmNoYW5uZWxJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYWNrZXQuaWQgPSByZWN2Lm5leHRQYWNrZXRJZCsrO1xuICAgICAgICAgICAgICAgIHJlY3Yuc2VuZChwYWNrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFja2V0LmlkID0gb3JpZ2luYWxJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWNrZXQucmVjZWl2ZXIgPT09IHVuZGVmaW5lZCB8fCBwYWNrZXQucmVjZWl2ZXIgPT09IHRoaXMubXlJZCkge1xuICAgICAgICAgICAgbGV0IHBhY2tldFR5cGUgPSBwYWNrZXQucGF5bG9hZC50eXBlO1xuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVkVSQk9TRV9DSEFOTkVMID09PSBcIjFcIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVhZFwiLCBPYmplY3QuYXNzaWduKHt9LCBwYWNrZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJhbnlcIiwgcGFja2V0LnBheWxvYWQsIHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHBhY2tldFR5cGUsIHBhY2tldC5wYXlsb2FkLCBwYWNrZXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYnJvYWRjYXN0KHBhY2tldDogUGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5uZXh0QnJvYWRjYXN0UGFja2V0SWQsXG4gICAgICAgICAgICBwYXlsb2FkOiBwYWNrZXQsXG4gICAgICAgICAgICBzZW5kZXI6IHRoaXMubXlJZCxcbiAgICAgICAgfSBhcyBQYWNrZXRDb250YWluZXI7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52LlZFUkJPU0VfQ0hBTk5FTCA9PT0gXCIxXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VudFwiLCBPYmplY3QuYXNzaWduKHt9LCB3cmFwcGVkKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBjb25uIG9mIHRoaXMuY29ubmVjdGlvbnNCeUlkLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBjb25uLnNlbmQod3JhcHBlZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5leHRCcm9hZGNhc3RQYWNrZXRJZCsrO1xuICAgIH1cblxuICAgIHNlbmQocGFja2V0OiBQYWNrZXQsIHJlY2VpdmVySWQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCB3cmFwcGVkID0ge1xuICAgICAgICAgICAgaWQ6IDAsXG4gICAgICAgICAgICBwYXlsb2FkOiBwYWNrZXQsXG4gICAgICAgICAgICBzZW5kZXI6IHRoaXMubXlJZCxcbiAgICAgICAgfSBhcyBQYWNrZXRDb250YWluZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICBsZXQgY29ubiA9IHRoaXMuY29ubmVjdGlvbnNCeUlkLmdldChyZWNlaXZlcklkKTtcbiAgICAgICAgICAgIGlmIChjb25uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVua25vd24gcmVjZWl2ZXJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JhcHBlZC5pZCA9IGNvbm4ubmV4dFBhY2tldElkKys7XG4gICAgICAgICAgICBjb25uLnNlbmQod3JhcHBlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVkLmlkID0gdGhpcy5uZXh0QnJvYWRjYXN0UGFja2V0SWQrKztcbiAgICAgICAgICAgIGZvciAobGV0IGNvbm4gb2YgdGhpcy5jb25uZWN0aW9uc0J5SWQudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25uLnNlbmQod3JhcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVkVSQk9TRV9DSEFOTkVMID09PSBcIjFcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW50XCIsIHdyYXBwZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbm5lY3Rpb25TdGF0dXNVcGRhdGUoaXNCdWZmZXJpbmc6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKGlzQnVmZmVyaW5nKSB0aGlzLmJ1ZmZlcmluZ0NoYW5uZWxzICs9IDE7XG4gICAgICAgIGVsc2UgdGhpcy5idWZmZXJpbmdDaGFubmVscyAtPSAxO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiX2J1ZmZlcmluZ191cGRhdGVcIiwgdGhpcy5idWZmZXJpbmdDaGFubmVscyk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJOZXdDb25uZWN0aW9uKGNvbm46IFAycENvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uc0J5SWQuc2V0KGNvbm4uY2hhbm5lbElkLCBjb25uKTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGNvbm4pO1xuXG4gICAgICAgIGNvbm4ub25kYXRhID0gdGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgY29ubi5uZXh0UGFja2V0SWQgPSAwO1xuICAgICAgICBjb25uLm9uQnVmZmVyQ2hhbmdlID0gdGhpcy5vbkNvbm5lY3Rpb25TdGF0dXNVcGRhdGUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiX2RldmljZV9qb2luXCIsIGNvbm4uY2hhbm5lbElkKTtcblxuICAgICAgICBpZiAodGhpcy5pc0dhdGhlcmluZ1N0YXRzKSB7XG4gICAgICAgICAgICBjb25uLmdldFN0YXRzUmVwb3J0ZXIoKSEuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNvbm5lY3Rpb24oY29ubjogUDJwQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zQnlJZC5kZWxldGUoY29ubi5jaGFubmVsSWQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY29ubmVjdGlvbnMuaW5kZXhPZihjb25uKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiX2RldmljZV9sZWZ0XCIsIGNvbm4uY2hhbm5lbElkKTtcbiAgICB9XG5cbiAgICBzdGFydEdhdGhlclN0YXRzKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLmZvckVhY2goeCA9PiB4LmdldFN0YXRzUmVwb3J0ZXIoKSEuc3RhcnQoKSk7XG4gICAgfVxuXG4gICAgc3RvcEdhdGhlclN0YXRzKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLmZvckVhY2goeCA9PiB4LmdldFN0YXRzUmVwb3J0ZXIoKSEuc3RvcCgpKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCBQZWVyIGZyb20gXCJwZWVyanNcIjtcbmltcG9ydCB7UDJwQ29ubmVjdGlvbn0gZnJvbSBcIi4vcDJwQ29ubmVjdGlvblwiO1xuaW1wb3J0IHtDaGFubmVsfSBmcm9tIFwiLi9jaGFubmVsXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xuaW1wb3J0IHtSdGNTdGF0c01hbmFnZXJ9IGZyb20gXCIuL1J0Y1N0YXRzTWFuYWdlclwiO1xuXG5leHBvcnQgY2xhc3MgTmV0d29ya01hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHBlZXI6IFBlZXI7XG4gICAgaXNIb3N0OiBib29sZWFuO1xuICAgIG15SWQ6IG51bWJlciA9IC0xO1xuXG4gICAgY2hhbm5lbDogQ2hhbm5lbDtcblxuICAgIC8vIFVzZWQgaWYgaXMgaG9zdDpcbiAgICBjb25uZWN0aW9ucyA9IG5ldyBNYXA8bnVtYmVyLCBQZWVySnNDb25uZWN0aW9uPigpO1xuICAgIG5leHRDb25uZWN0aW9uSWQ6IG51bWJlciA9IDE7XG5cbiAgICAvLyBJZiBjbGllbnQ6XG4gICAgaG9zdENvbm5lY3Rpb24/OiBQZWVySnNDb25uZWN0aW9uO1xuICAgIGNvbm5lY3RJZD86IHN0cmluZztcblxuXG4gICAgY29uc3RydWN0b3IoaXNIb3N0OiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gaXNIb3N0O1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBuZXcgQ2hhbm5lbChpc0hvc3QpO1xuICAgICAgICB0aGlzLnBlZXIgPSBuZXcgUGVlcih1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIGhvc3Q6ICdwZWVyanMuOTJrLmRlJyxcbiAgICAgICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgICAgIGRlYnVnOiAyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5teUlkID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGVlci5vbignY29ubmVjdGlvbicsIHRoaXMub25Db25uZWN0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBlZXIub24oJ29wZW4nLCB0aGlzLm9uUGVlckNvbm5lY3Rpb25PcGVuLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBlZXIub24oJ2Vycm9yJywgdGhpcy5vblBlZXJDb25uZWN0aW9uRXJyb3IuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBvbkNvbm5lY3Rpb24oY29ubjogUGVlci5EYXRhQ29ubmVjdGlvbikge1xuICAgICAgICBsZXQgaWQgPSAwO1xuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIGlkID0gdGhpcy5uZXh0Q29ubmVjdGlvbklkKys7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGMgPSBuZXcgUGVlckpzQ29ubmVjdGlvbih0aGlzLCBpZCwgY29ubik7XG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5zZXQoaWQsIGMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ob3N0Q29ubmVjdGlvbiA9IGM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBlZXJDb25uZWN0aW9uT3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFJlYWR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3JlYWR5Jyk7XG4gICAgfVxuXG4gICAgb25QZWVyQ29ubmVjdGlvbkVycm9yKGVycjogYW55KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cblxuICAgIGdldElkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlZXIuaWQ7XG4gICAgfVxuXG4gICAgY29ubmVjdFRvKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aHJvdyAnQSBob3N0IGNhbm5vdCBvcGVuIGEgY29ubmVjdGlvbiwgZm9yIG5vdyEnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGNvbm5lY3QgdG8gbXVsdGlwbGUgaG9zdHMnXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0SWQgPSBpZDtcbiAgICAgICAgaWYgKHRoaXMucGVlci5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RSZWFkeSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25uZWN0SWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucGVlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25uZWN0UmVhZHkoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RJZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGxldCBjb25uID0gdGhpcy5wZWVyLmNvbm5lY3QodGhpcy5jb25uZWN0SWQsIHtcbiAgICAgICAgICAgIHJlbGlhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmhvc3RDb25uZWN0aW9uID0gbmV3IFBlZXJKc0Nvbm5lY3Rpb24odGhpcywgdW5kZWZpbmVkLCBjb25uKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQZWVySnNDb25uZWN0aW9uIGltcGxlbWVudHMgUDJwQ29ubmVjdGlvbiB7XG4gICAgcGFyZW50OiBOZXR3b3JrTWFuYWdlcjtcbiAgICBjb25uZWN0aW9uOiBQZWVyLkRhdGFDb25uZWN0aW9uO1xuXG4gICAgb25kYXRhPzogKGRhdGE6IGFueSwgY29ubjogUDJwQ29ubmVjdGlvbikgPT4gdm9pZDtcbiAgICBjaGFubmVsSWQ6IG51bWJlcjtcbiAgICBuZXh0UGFja2V0SWQ6IG51bWJlciA9IC0xO1xuXG4gICAgYm9vdHN0cmFwOiBib29sZWFuID0gZmFsc2U7XG4gICAgYnVmZmVyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBvbkJ1ZmZlckNoYW5nZT86IChidWZmZXJlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICAgIHN0YXRzTWFuYWdlcj86IFJ0Y1N0YXRzTWFuYWdlcjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogTmV0d29ya01hbmFnZXIsIGNoSWQ6IG51bWJlciB8IHVuZGVmaW5lZCwgY29ubmVjdGlvbjogUGVlci5EYXRhQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5jaGFubmVsSWQgPSBjaElkIHx8IDA7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgICAgIGlmIChwYXJlbnQuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLmJvb3RzdHJhcCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25uZWN0aW9uLm9uKCdvcGVuJywgdGhpcy5vbk9wZW4uYmluZCh0aGlzKSk7XG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2RhdGEnLCB0aGlzLm9uRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29ubmVjdGlvbi5vbignY2xvc2UnLCB0aGlzLm9uQ2xvc2UuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZGF0YUNoYW5uZWwub25idWZmZXJlZGFtb3VudGxvdyA9IHRoaXMudXBkYXRlQnVmZmVyZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGF0c01hbmFnZXIgPSBuZXcgUnRjU3RhdHNNYW5hZ2VyKHRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvbik7XG4gICAgICAgIHRoaXMuc3RhdHNNYW5hZ2VyLm9uU3VtbWFyeSA9IHN1bW1hcnkgPT4gdGhpcy5wYXJlbnQuY2hhbm5lbC5ldmVudEVtaXR0ZXIuZW1pdCgncmVwb3J0JywgdGhpcywgc3VtbWFyeSk7XG4gICAgICAgIC8vdGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIHggPT4gY29uc29sZS5sb2coXCJwZWVyX2Nvbm5fc3RhdGVfY2hhbmdlXCIsIHRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpKTtcblxuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZCh0aGlzLmNoYW5uZWxJZCk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsLnJlZ2lzdGVyTmV3Q29ubmVjdGlvbih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGF0YShkYXRhOiBhbnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvb3RzdHJhcCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubXlJZCA9IGRhdGEgYXMgbnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbC5teUlkID0gZGF0YSBhcyBudW1iZXI7XG4gICAgICAgICAgICB0aGlzLmJvb3RzdHJhcCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsLnJlZ2lzdGVyTmV3Q29ubmVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9uZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uZGF0YShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWwucmVtb3ZlQ29ubmVjdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICBzZW5kKGRhdGE6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZChkYXRhKTtcbiAgICAgICAgdGhpcy51cGRhdGVCdWZmZXJlZCgpO1xuICAgIH1cblxuICAgIGJ1ZmZlcmVkQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uZGF0YUNoYW5uZWwuYnVmZmVyZWRBbW91bnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVCdWZmZXJlZCgpIHtcbiAgICAgICAgbGV0IG9sZEJ1ZmZlcmVkID0gdGhpcy5idWZmZXJlZDtcbiAgICAgICAgbGV0IGJ1ZmZlcmVkQW1vdW50ID0gdGhpcy5jb25uZWN0aW9uLmJ1ZmZlclNpemU7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24uZGF0YUNoYW5uZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgYnVmZmVyZWRBbW91bnQgKz0gdGhpcy5jb25uZWN0aW9uLmRhdGFDaGFubmVsLmJ1ZmZlcmVkQW1vdW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyZWQgPSBidWZmZXJlZEFtb3VudCAhPT0gMDtcbiAgICAgICAgaWYgKG9sZEJ1ZmZlcmVkICE9PSB0aGlzLmJ1ZmZlcmVkICYmIHRoaXMub25CdWZmZXJDaGFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vbkJ1ZmZlckNoYW5nZSh0aGlzLmJ1ZmZlcmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEhhbmRsZSgpOiBSVENQZWVyQ29ubmVjdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb247XG4gICAgfVxuXG4gICAgZ2V0U3RhdHNSZXBvcnRlcigpOiBSdGNTdGF0c01hbmFnZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0c01hbmFnZXI7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQge1BoYXNlfSBmcm9tIFwiLi9waGFzZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IHtyZWdpc3RlckNvbW1vblN0b3JhZ2V9IGZyb20gXCIuLi9lY3MvY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBFY3NQaGFzZSBleHRlbmRzIFBoYXNlIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGlzTWFzdGVyOiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLndvcmxkID0gbmV3IFdvcmxkKGlzTWFzdGVyKTtcblxuICAgICAgICB0aGlzLmVjc1NldHVwKCk7XG4gICAgfVxuXG4gICAgZWNzU2V0dXAoKTogdm9pZCB7XG4gICAgICAgIHJlZ2lzdGVyQ29tbW9uU3RvcmFnZSh0aGlzLndvcmxkKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclN5c3RlbXMoKTtcbiAgICAgICAgdGhpcy53b3JsZC5wb3B1bGF0ZSgpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyU3lzdGVtcygpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLndvcmxkLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy53b3JsZC5kZXN0cm95KCk7XG4gICAgfVxufSIsImltcG9ydCB7RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwUGhhc2VcIjtcblxuZXhwb3J0IGNsYXNzIENsaWVudEVkaXRNYXBQaGFzZSBleHRlbmRzIEVkaXRNYXBQaGFzZSB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZykge1xuICAgICAgICBzdXBlcignZWRpdENsaWVudCcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNvbm5lY3RUbyhpZCk7XG4gICAgfVxufSIsIlxuZXhwb3J0IGVudW0gRGlzcGxheVByZWNlZGVuY2Uge1xuICAgIEJBQ0tHUk9VTkQgPSAwLFxuICAgIEdSSUQgPSAxMCxcbiAgICBXQUxMID0gMjEwLFxuICAgIFBST1AgPSAyMjAsXG4gICAgUElOUyA9IDIzMCxcbiAgICBXQUxMX0NSRUFUT1IgPSAyNjAsXG59XG5cbiIsImltcG9ydCBFZGl0TWFwQ29tcG9uZW50IGZyb20gXCIuLi8uLi91aS9lZGl0L2VkaXRNYXAudnVlXCI7XG5pbXBvcnQge3N0YWdlfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcbmltcG9ydCB7QmFja2dyb3VuZEltYWdlU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFja2dyb3VuZEltYWdlU3lzdGVtXCI7XG5pbXBvcnQge1NlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge05ldHdvcmtNYW5hZ2VyfSBmcm9tIFwiLi4vLi4vbmV0d29yay9uZXR3b3JrTWFuYWdlclwiO1xuaW1wb3J0IHtIb3N0RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9ob3N0RWRpdE1hcFBoYXNlXCI7XG5pbXBvcnQge0dhbWVNYXB9IGZyb20gXCIuLi8uLi9tYXAvZ2FtZU1hcFwiO1xuaW1wb3J0IHtQaW5TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9waW5TeXN0ZW1cIjtcbmltcG9ydCB7V2FsbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3dhbGxTeXN0ZW1cIjtcbmltcG9ydCB7TGlnaHRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHtUZXh0U3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90ZXh0U3lzdGVtXCI7XG5pbXBvcnQge1Zpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7SW50ZXJhY3Rpb25TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1BsYXllclN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtWaXNpYmlsaXR5QXdhcmVTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Zpc2liaWxpdHlBd2FyZVN5c3RlbVwiO1xuaW1wb3J0IHtEb29yU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvZG9vclN5c3RlbVwiO1xuaW1wb3J0IHtQcm9wU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcHJvcFN5c3RlbVwiO1xuaW1wb3J0IHtQaXhpR3JhcGhpY1N5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUdyYXBoaWNTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtHcmlkU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtFY3NQaGFzZX0gZnJvbSBcIi4uL2Vjc1BoYXNlXCI7XG5pbXBvcnQge1BpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge0NvbW1hbmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRTeXN0ZW1cIjtcbmltcG9ydCB7Q29tbWFuZEhpc3RvcnlTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRIaXN0b3J5U3lzdGVtXCI7XG5pbXBvcnQge0xheWVyU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbVwiO1xuaW1wb3J0IHtQaXhpUmVjdFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aVJlY3RTZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7V2ViS2V5Ym9hcmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge0NvbW1vbk5ldHdvcmtTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcbmltcG9ydCB7UGl4aU1lYXN1cmVTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlNZWFzdXJlU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlMYXllclN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUxheWVyU3lzdGVtXCI7XG5pbXBvcnQge0JpZ1N0b3JhZ2VTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW1cIjtcbmltcG9ydCB7TW91c2VUcmFpbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL21vdXNlVHJhaWxTeXN0ZW1cIjtcblxuXG5leHBvcnQgY2xhc3MgRWRpdE1hcFBoYXNlIGV4dGVuZHMgRWNzUGhhc2Uge1xuICAgIG5ldHdvcmtNYW5hZ2VyITogTmV0d29ya01hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGlzSG9zdDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihuYW1lLCBpc0hvc3QpO1xuICAgIH1cblxuICAgIGVjc1NldHVwKCkge1xuICAgICAgICB0aGlzLnNldHVwTmV0d29ya01hbmFnZXIoKTtcblxuICAgICAgICBzdXBlci5lY3NTZXR1cCgpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyU3lzdGVtcygpIHtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJTeXN0ZW1zKCk7XG4gICAgICAgIGxldCB3ID0gdGhpcy53b3JsZDtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvbW1vbk5ldHdvcmtTeXN0ZW0odywgdGhpcy5uZXR3b3JrTWFuYWdlci5jaGFubmVsKSk7XG5cbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvbW1hbmRTeXN0ZW0odykpO1xuICAgICAgICBpZiAody5pc01hc3Rlcikge1xuICAgICAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvbW1hbmRIaXN0b3J5U3lzdGVtKHcpKTtcbiAgICAgICAgfVxuICAgICAgICB3LmFkZFN5c3RlbShuZXcgV2ViS2V5Ym9hcmRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQmlnU3RvcmFnZVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBMYXllclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaXhpQm9hcmRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgU2VsZWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlSZWN0U2VsZWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlNZWFzdXJlU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFRvb2xTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgTW91c2VUcmFpbFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBHcmlkU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IEludGVyYWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFRleHRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGl4aUdyYXBoaWNTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGl4aUxheWVyU3lzdGVtKHcpKTtcblxuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQmFja2dyb3VuZEltYWdlU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFdhbGxTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgRG9vclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBWaXNpYmlsaXR5U3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFZpc2liaWxpdHlBd2FyZVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaW5TeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUHJvcFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQbGF5ZXJTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgTGlnaHRTeXN0ZW0odykpO1xuICAgIH1cblxuICAgIHNldHVwTmV0d29ya01hbmFnZXIoKSB7XG4gICAgICAgIHRoaXMubmV0d29ya01hbmFnZXIgPSBuZXcgTmV0d29ya01hbmFnZXIodGhpcy53b3JsZC5pc01hc3Rlcik7XG4gICAgICAgIHRoaXMubmV0d29ya01hbmFnZXIub24oXCJyZWFkeVwiLCB0aGlzLm9uTmV0d29ya1JlYWR5LCB0aGlzKTtcbiAgICAgICAgdGhpcy5uZXR3b3JrTWFuYWdlci5vbihcImVycm9yXCIsIHRoaXMub25OZXR3b3JrRXJyb3IsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIG92ZXJyaWRlc1xuXG4gICAgcHJpdmF0ZSBvbk5ldHdvcmtSZWFkeSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJOZXR3b3JrIGlzIHJlYWR5ISBzaWRlOiBcIiArICh0aGlzLm5ldHdvcmtNYW5hZ2VyLmlzSG9zdCA/IFwibWFzdGVyXCIgOiBcInBsYXllclwiKSk7XG4gICAgICAgIGlmICh0aGlzLm5ldHdvcmtNYW5hZ2VyLmlzSG9zdCkge1xuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgJyNwJyArIHRoaXMubmV0d29ya01hbmFnZXIucGVlci5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTmV0d29ya0Vycm9yKGVycjogYW55KSB7XG4gICAgICAgIC8vIFRPRE86IG9wZW4gbW9kYWwgb3Igc29tZXRoaW5nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmcm9tIHBlZXJqczogXCIsIGVyci50eXBlKTtcbiAgICAgICAgaWYgKGVyci50eXBlID09PSAnc2VydmVyLWVycm9yJykge1xuICAgICAgICAgICAgYWxlcnQoXCJFcnJvciBjb25uZWN0aW5nIHRvIHBlZXJqcyBpbnN0YW5jZSwgeW91J3JlIG9mZmxpbmUgbm93XCIpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9zdEVkaXRNYXBQaGFzZShuZXcgR2FtZU1hcCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLnR5cGUgPT09ICdwZWVyLXVuYXZhaWxhYmxlJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIGludml0ZSBsaW5rXCIpO1xuXG4gICAgICAgICAgICBhbGVydChcIkludmFsaWQgaW52aXRlIGxpbmtcIik7XG5cbiAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsICcgJyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9zdEVkaXRNYXBQaGFzZShuZXcgR2FtZU1hcCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLnR5ID09PSAnbmV0d29yaycpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiQ29ubmVjdGlvbiBsb3N0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgdWkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdE1hcENvbXBvbmVudCh7XG4gICAgICAgICAgICBwcm9wc0RhdGE6IHtcbiAgICAgICAgICAgICAgICB3b3JsZDogdGhpcy53b3JsZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuXG4gICAgICAgIHRoaXMubmV0d29ya01hbmFnZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cbn1cblxuXG4iLCJpbXBvcnQge0VkaXRNYXBQaGFzZX0gZnJvbSBcIi4vZWRpdE1hcFBoYXNlXCI7XG5pbXBvcnQge05hbWVDb21wb25lbnQsIFBvc2l0aW9uQ29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQge0JhY2tncm91bmRJbWFnZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRJbWFnZVN5c3RlbVwiO1xuaW1wb3J0IHtHYW1lTWFwfSBmcm9tIFwiLi4vLi4vbWFwL2dhbWVNYXBcIjtcbmltcG9ydCB7TWFwTGV2ZWx9IGZyb20gXCIuLi8uLi9tYXAvbWFwTGV2ZWxcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtCSUdfU1RPUkFHRV9UWVBFLCBCaWdTdG9yYWdlU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9iaWdTdG9yYWdlU3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBIb3N0RWRpdE1hcFBoYXNlIGV4dGVuZHMgRWRpdE1hcFBoYXNlIHtcbiAgICBtYXA6IEdhbWVNYXA7XG4gICAgY3VycmVudExldmVsOiBNYXBMZXZlbDtcblxuICAgIHByaXZhdGUgYmVmb3JlVW5sb2FkTGlzdGVuZXI6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogR2FtZU1hcCkge1xuICAgICAgICBzdXBlcignZWRpdEhvc3QnLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMubWFwLmxldmVscy5zaXplID09IDApIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmxldmVscy5zZXQoNDIsIG5ldyBNYXBMZXZlbCg0MikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gdGhpcy5tYXAubGV2ZWxzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignZXhwb3J0X21hcCcsICgpID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5leHBvcnRNYXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25Ecm9wKGV2ZW50OiBEcmFnRXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgbGV0IHggPSBldmVudC5wYWdlWDtcbiAgICAgICAgbGV0IHkgPSBldmVudC5wYWdlWTtcblxuICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyIS5pdGVtcykge1xuICAgICAgICAgICAgbGV0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZiBvZiBldmVudC5kYXRhVHJhbnNmZXIhLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBmLmdldEFzRmlsZSgpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9uRmlsZURyb3AocmVzLCB4LCB5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub25GaWxlRHJvcChldmVudC5kYXRhVHJhbnNmZXIhLmZpbGVzLCB4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRHJhZ092ZXIoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyIS5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkZpbGVEcm9wKGZpbGVzOiBBYnNGaWxlTGlzdCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICAgIGxldCBmaXJzdEZpbGUgPSBmaWxlc1swXTtcblxuICAgICAgICAvLyBTb21ldGltZXMgdGhpcyBkb2VzIG5vdCB3b3JrIGJ1dCB0aGUgcHJvYmxlbSBpcyBub3QgdGhlIG1hdHJpeCBjYWxjdWxhdGlvbiwgaXQncyB0aGUgYnJvd3NlciBjb29yZHNcbiAgICAgICAgLy8gc28gaWYgeW91IGhhdmUgZmlyZWZveCBhbmQgbGludXggKHRoaXMgc2VlbXMgdG8gYmUgdGhlIHdyb25nIHN0YWNrKSBhbmQgaGF2ZSBzcGFyZSB0aW1lLCBwbHMgZGVidWcgdGhpcy5cbiAgICAgICAgLy8gQ291bGQgYmUgY2F1c2VkIGJ5OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjEjYzgwXG4gICAgICAgIGxldCBwID0gbmV3IFBJWEkuUG9pbnQoeCwgeSk7XG4gICAgICAgIGxldCBwaXhpQm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBwaXhpQm9hcmQuYm9hcmQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHBpeGlCb2FyZC5ib2FyZC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHAsIHApO1xuXG4gICAgICAgIGlmIChmaXJzdEZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGF3YWl0IGZpcnN0RmlsZS5hcnJheUJ1ZmZlcigpKTtcbiAgICAgICAgICAgIGxldCBiaWdTdG9yYWdlID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChCSUdfU1RPUkFHRV9UWVBFKSBhcyBCaWdTdG9yYWdlU3lzdGVtO1xuICAgICAgICAgICAgbGV0IGRhdGFJZCA9IGJpZ1N0b3JhZ2UuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBpbWFnZTogZGF0YSxcbiAgICAgICAgICAgIH0sIHRydWUpLm11bHRpSWQ7XG4gICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaXJzdEZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTmFtZUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvc2l0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHAueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFja2dyb3VuZF9pbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGRhdGFJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVR5cGU6IGZpcnN0RmlsZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLndvcmxkLCBjbWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbWFnZSBsb2FkZWRcIilcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgYXN5bmMgZXhwb3J0TWFwKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbC5zYXZlRnJvbSh0aGlzLndvcmxkKTtcbiAgICAgICAgbGV0IGJsb2IgPSBhd2FpdCB0aGlzLm1hcC5zYXZlVG9GaWxlKCk7XG4gICAgICAgIHRoaXMuc2F2ZUJsb2IoYmxvYiwgXCJtYXAuZG5kbVwiKTtcbiAgICB9XG5cbiAgICBzYXZlQmxvYihibG9iOiBCbG9iLCBmaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWRkZW4tZG93bmxvYWQtbGlua1wiKSBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgc3VwZXIuZW5hYmxlKCk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gKHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW0pLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIGNhbnZhcy5vbmRyb3AgPSB0aGlzLm9uRHJvcC5iaW5kKHRoaXMpO1xuICAgICAgICBjYW52YXMub25kcmFnb3ZlciA9IHRoaXMub25EcmFnT3Zlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYmVmb3JlVW5sb2FkTGlzdGVuZXIgPSAoZXZlbnQ6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSAncGxzJztcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuYmVmb3JlVW5sb2FkTGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudExldmVsLmxvYWRJbnRvKHRoaXMud29ybGQpO1xuICAgICAgICAvL2xldCBjaCA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5ldmVudEVtaXR0ZXI7XG4gICAgICAgIC8vY2gub24oXCJfZGV2aWNlX2pvaW5cIiwgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIC8vbGV0IGNoID0gdGhpcy5uZXR3b3JrTWFuYWdlci5jaGFubmVsLmV2ZW50RW1pdHRlcjtcbiAgICAgICAgLy9jaC5vZmYoXCJfZGV2aWNlX2pvaW5cIiwgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5iZWZvcmVVbmxvYWRMaXN0ZW5lcik7XG5cbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgIH1cblxufVxuXG5cbmludGVyZmFjZSBBYnNGaWxlTGlzdCB7XG4gICAgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgW2luZGV4OiBudW1iZXJdOiBGaWxlO1xufVxuIiwiXG5leHBvcnQgZW51bSBMYXllck9yZGVyIHtcbiAgICBCQUNLR1JPVU5EID0gMCxcbiAgICBHUklEID0gMTAsXG4gICAgRk9SRUdST1VORCA9IDEwMCxcbiAgICBERVRBSUxTID0gMTEwLFxuICAgIExJR0hUID0gMjAwLFxuICAgIFRPT0xTID0gMjUwLFxuICAgIFRFWFQgPSAzMDAsXG59XG5cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5pbXBvcnQge3N0YWdlfSBmcm9tIFwiLi4vaW5kZXhcIlxuXG5pbXBvcnQgSG9tZUNvbXBvbmVudCBmcm9tIFwiLi4vdWkvaG9tZS9ob21lLnZ1ZVwiO1xuaW1wb3J0IHtHYW1lTWFwfSBmcm9tIFwiLi4vbWFwL2dhbWVNYXBcIjtcbmltcG9ydCB7SG9zdEVkaXRNYXBQaGFzZX0gZnJvbSBcIi4vZWRpdE1hcC9ob3N0RWRpdE1hcFBoYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBIb21lUGhhc2UgZXh0ZW5kcyBQaGFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJob21lXCIpO1xuICAgIH1cblxuICAgIHVpKCk6IFZ1ZSB7XG4gICAgICAgIHJldHVybiBuZXcgSG9tZUNvbXBvbmVudCgpIGFzIHVua25vd24gYXMgVnVlO1xuICAgIH1cblxuICAgIGNyZWF0ZU1hcCgpIHtcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBHYW1lTWFwKCk7XG4gICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBIb3N0RWRpdE1hcFBoYXNlKG1hcCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGVkaXRNYXAoZmlsZTogRmlsZSkge1xuICAgICAgICBsZXQgbWFwID0gYXdhaXQgR2FtZU1hcC5sb2FkRnJvbUZpbGUoZmlsZSk7XG4gICAgICAgIHN0YWdlLnNldFBoYXNlKG5ldyBIb3N0RWRpdE1hcFBoYXNlKG1hcCkpO1xuICAgIH1cblxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBzdXBlci5lbmFibGUoKTtcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlci5vbignY3JlYXRlX21hcCcsIHRoaXMuY3JlYXRlTWFwLCB0aGlzKTtcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlci5vbignZWRpdCcsIHRoaXMuZWRpdE1hcCwgdGhpcyk7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlci5vbignZWRpdCcsIHRoaXMuZWRpdE1hcCwgdGhpcyk7XG4gICAgICAgIHRoaXMudWlFdmVudEVtaXR0ZXIub24oJ2NyZWF0ZV9tYXAnLCB0aGlzLmNyZWF0ZU1hcCwgdGhpcyk7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1BoYXNlfSBmcm9tIFwiLi9waGFzZVwiO1xuaW1wb3J0IExvYWRpbmdDb21wb25lbnQgZnJvbSBcIi4uL3VpL2xvYWRpbmcvbG9hZGluZy52dWVcIjtcblxuZXhwb3J0IGNsYXNzIExvYWRpbmdQaGFzZSBleHRlbmRzIFBoYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJsb2FkaW5nXCIpO1xuICAgIH1cblxuICAgIHVpKCkge1xuICAgICAgICByZXR1cm4gbmV3IExvYWRpbmdDb21wb25lbnQoKTtcbiAgICB9XG59IiwiaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgKiBhcyBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50ZW1pdHRlcjNcIjtcblxuZXhwb3J0IGNsYXNzIFBoYXNlIHtcbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICB2dWU6IGFueTtcbiAgICB1aUV2ZW50RW1pdHRlcjogYW55O1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLy8gQ3JlYXRlIFZ1ZSBpbnN0YW5jZSB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBoYW5kbGluZyB0aGUgVUkgZXZlbnRzIG9mIHRoZSBjdXJyZW50IHBoYXNlLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vdnVlam9icy9jcmVhdGUtYS1nbG9iYWwtZXZlbnQtYnVzLWluLXZ1ZS1qcy04MzhhNWQ5YWIwM2FcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG5cbiAgICBsb2cobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XSBgICsgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdWkoKTogVnVlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMubG9nKFwiRW5hYmxpbmdcIik7XG5cbiAgICAgICAgKFZ1ZS5wcm90b3R5cGUgYXMgYW55KS5ldmVudEVtaXR0ZXIgPSB0aGlzLnVpRXZlbnRFbWl0dGVyO1xuXG4gICAgICAgIHRoaXMudnVlID0gdGhpcy51aSgpO1xuICAgICAgICBpZiAodGhpcy52dWUpIHtcbiAgICAgICAgICAgIHRoaXMudnVlLiRtb3VudCgpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnZ1ZS4kZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uZSBeXlxuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XSBEaXNhYmxpbmdgKTtcbiAgICAgICAgaWYgKHRoaXMudnVlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMudnVlLiRlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iailgIHJlc3VsdC5cbiAgICAgKiBUaGlzIGlzIGRvbmUgdG8gaGlkZSB0aGlzIG9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gb2JzZXJ2ZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMjYzNylcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIHR5cGUgbmFtZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N5bWJvbC90b1N0cmluZ1RhZ31cbiAgICAgKi9cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGNhbiBnbyBoZXJlIHJlYWxseSBhcyBsb25nIGFzIGl0J3Mgbm90ICdPYmplY3QnXG4gICAgICAgIHJldHVybiAnT2JqZWN0Tm9PYnNlcnZlJztcbiAgICB9XG59XG4iLCJpbXBvcnQge1BoYXNlfSBmcm9tIFwiLi9waGFzZVwiO1xuXG5leHBvcnQgY2xhc3MgU3RhZ2UgZXh0ZW5kcyBQaGFzZSB7XG4gICAgcGhhc2U6IFBoYXNlIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgfVxuXG4gICAgc2V0UGhhc2UocGhhc2U6IFBoYXNlIHwgbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5waGFzZSlcbiAgICAgICAgICAgIHRoaXMucGhhc2UuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLnBoYXNlID0gcGhhc2U7XG4gICAgICAgIGlmICh0aGlzLnBoYXNlKVxuICAgICAgICAgICAgdGhpcy5waGFzZS5lbmFibGUoKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuc2V0UGhhc2UobnVsbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtWdWUsIFdhdGNofSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xuaW1wb3J0IHtWdWVEZWNvcmF0b3J9IGZyb20gXCJ2dWUtY2xhc3MtY29tcG9uZW50XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGhhc2VWdWUge1xuICAgIGV2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyO1xufVxuXG5leHBvcnQge1xuICAgIFZ1ZSxcbiAgICBDb21wb25lbnQgYXMgVkNvbXBvbmVudCxcbiAgICBQcm9wIGFzIFZQcm9wLFxuICAgIFdhdGNoIGFzIFZXYXRjaCxcbiAgICBSZWYgYXMgVlJlZixcbn0gZnJvbSBcInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3JcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gVldhdGNoSW1tZWRpYXRlKG5hbWU6IHN0cmluZyk6IFZ1ZURlY29yYXRvciB7XG4gICAgcmV0dXJuIFdhdGNoKG5hbWUsIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xufVxuXG4iLCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5UmVtb3ZlRWxlbTxUPihhcnI6IFRbXSwgZWxlbTogVCk6IGJvb2xlYW4ge1xuICAgIGxldCBpbmRleCA9IGFyci5pbmRleE9mKGVsZW0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiBpbmRleCAhPT0gLTE7XG59IiwiXG4vLyBCaW5hcnkgaGVhcCBpbXBsZW1lbnRhdGlvbiBmcm9tOlxuLy8gaHR0cDovL2Vsb3F1ZW50amF2YXNjcmlwdC5uZXQvYXBwZW5kaXgyLmh0bWxcblxuZXhwb3J0IGNsYXNzIEJpbmFyeUhlYXA8VD4ge1xuICAgIGNvbnRlbnQgPSBuZXcgQXJyYXk8VD4oKTtcbiAgICBlbGVtTWFwID0gbmV3IE1hcDxULCBudW1iZXI+KCk7XG4gICAgY21wTHQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY21wTHQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY21wTHQgPSBjbXBMdDtcbiAgICB9XG5cbiAgICBwdXNoKGVsZW1lbnQ6IFQpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgZWxlbWVudCB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbGVtZW50LCB0aGlzLmNvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2goZWxlbWVudCk7XG4gICAgICAgIC8vIEFsbG93IGl0IHRvIGJ1YmJsZSB1cC5cbiAgICAgICAgdGhpcy5idWJibGVVcCh0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgcG9wKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGZpcnN0IGVsZW1lbnQgc28gd2UgY2FuIHJldHVybiBpdCBsYXRlci5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29udGVudFswXTtcbiAgICAgICAgdGhpcy5lbGVtTWFwLmRlbGV0ZShyZXN1bHQpO1xuICAgICAgICAvLyBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCkhO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IGVsZW1lbnRzIGxlZnQsIHB1dCB0aGUgZW5kIGVsZW1lbnQgYXQgdGhlXG4gICAgICAgIC8vIHN0YXJ0LCBhbmQgbGV0IGl0IHNpbmsgZG93bi5cbiAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFswXSA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZW5kLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc2lua0Rvd24oMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwb3BFbGVtKGU6IFQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5lbGVtTWFwLmdldChlKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmVsZW1NYXAuZGVsZXRlKGUpO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5jb250ZW50LnBvcCgpITtcbiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmNvbnRlbnQubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jb250ZW50W2luZGV4XSA9IGVuZDtcbiAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5zaW5rRG93bihpbmRleCk7XG4gICAgICAgIHRoaXMuYnViYmxlVXAoaW5kZXgpOy8vIEZpeCwgc29tZSBzeXN0ZW1zIHdoZXJlIGEgPCBiLiBiIDwgYyA9PiBhIDwgYyBpcyBub3QgbWFpbnRhaW5lZFxuICAgIH1cblxuICAgIGhhc0VsZW0oZTogVCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtTWFwLmhhcyhlKTtcbiAgICB9XG5cbiAgICBwZWVrKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50WzBdO1xuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg7XG4gICAgfVxuXG4gICAgYnViYmxlVXAobjogbnVtYmVyKSB7XG4gICAgICAgIC8vIEZldGNoIHRoZSBlbGVtZW50IHRoYXQgaGFzIHRvIGJlIG1vdmVkLlxuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXTtcbiAgICAgICAgLy8gV2hlbiBhdCAwLCBhbiBlbGVtZW50IGNhbiBub3QgZ28gdXAgYW55IGZ1cnRoZXIuXG4gICAgICAgIHdoaWxlIChuID4gMCkge1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcGFyZW50IGVsZW1lbnQncyBpbmRleCwgYW5kIGZldGNoIGl0LlxuICAgICAgICAgICAgbGV0IHBhcmVudE4gPSBNYXRoLmZsb29yKChuICsgMSkgLyAyKSAtIDE7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5jb250ZW50W3BhcmVudE5dO1xuICAgICAgICAgICAgLy8gU3dhcCB0aGUgZWxlbWVudHMgaWYgdGhlIHBhcmVudCBpcyBncmVhdGVyLlxuICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoZWxlbWVudCwgcGFyZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtwYXJlbnROXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZWxlbWVudCwgcGFyZW50Tik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChwYXJlbnQsIG4pO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSAnbicgdG8gY29udGludWUgYXQgdGhlIG5ldyBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBuID0gcGFyZW50TjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvdW5kIGEgcGFyZW50IHRoYXQgaXMgbGVzcywgbm8gbmVlZCB0byBtb3ZlIGl0IGZ1cnRoZXIuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpbmtEb3duKG46IG51bWJlcikge1xuICAgICAgICAvLyBMb29rIHVwIHRoZSB0YXJnZXQgZWxlbWVudCBhbmQgaXRzIHNjb3JlLlxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmNvbnRlbnRbbl07XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIGluZGljZXMgb2YgdGhlIGNoaWxkIGVsZW1lbnRzLlxuICAgICAgICAgICAgbGV0IGNoaWxkMk4gPSAobiArIDEpICogMiwgY2hpbGQxTiA9IGNoaWxkMk4gLSAxO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAgICAvLyBpZiBhbnkuXG4gICAgICAgICAgICBsZXQgc3dhcCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY2hpbGQxOiBUIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpcnN0IGNoaWxkIGV4aXN0cyAoaXMgaW5zaWRlIHRoZSBhcnJheSkuLi5cbiAgICAgICAgICAgIGlmIChjaGlsZDFOIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9vayBpdCB1cCBhbmQgY29tcHV0ZSBpdHMgc2NvcmUuXG4gICAgICAgICAgICAgICAgY2hpbGQxID0gdGhpcy5jb250ZW50W2NoaWxkMU5dO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzY29yZSBpcyBsZXNzIHRoYW4gb3VyIGVsZW1lbnQncywgd2UgbmVlZCB0byBzd2FwLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNtcEx0KGNoaWxkMSwgZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgIHN3YXAgPSBjaGlsZDFOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdGhlIHNhbWUgY2hlY2tzIGZvciB0aGUgb3RoZXIgY2hpbGQuXG4gICAgICAgICAgICBpZiAoY2hpbGQyTiA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZDIgPSB0aGlzLmNvbnRlbnRbY2hpbGQyTl07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoY2hpbGQyLCBzd2FwID09IG51bGwgPyBlbGVtZW50IDogY2hpbGQxISkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IGNoaWxkMk47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBuZWVkcyB0byBiZSBtb3ZlZCwgc3dhcCBpdCwgYW5kIGNvbnRpbnVlLlxuICAgICAgICAgICAgaWYgKHN3YXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtuXSA9IHRoaXMuY29udGVudFtzd2FwXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbc3dhcF0gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQodGhpcy5jb250ZW50W25dLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVsZW1lbnQsIHN3YXApO1xuICAgICAgICAgICAgICAgIG4gPSBzd2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIi8qKlxuICogQmFzaWMgQml0U2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBCaXRTZXQge1xuICAgIGRhdGE6IFVpbnQzMkFycmF5O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YTogbnVtYmVyIHwgVWludDMyQXJyYXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KE1hdGguY2VpbChsZW5ndGggLyAzMikpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5mbG9vcihkYXRhLmJ5dGVMZW5ndGggLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgbGVuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoIDw8IDU7XG4gICAgfVxuXG4gICAgZ2V0KGk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpIHw9IDA7XG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIGlmICh3aSA+PSB0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBiID0gdGhpcy5kYXRhW3dpXTtcbiAgICAgICAgcmV0dXJuICEhKChiID4+PiBpKSAmIDEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZW5zdXJlQ2FwYWNpdHkod2k6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgbmV3TGVuID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKG5ld0xlbiA8IHdpKSBuZXdMZW4gKj0gMjtcbiAgICAgICAgaWYgKG5ld0xlbiA9PT0gdGhpcy5kYXRhLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBsZXQgbmV3RGF0YSA9IG5ldyBVaW50MzJBcnJheShuZXdMZW4pO1xuICAgICAgICBuZXdEYXRhLnNldCh0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXdEYXRhO1xuICAgIH1cblxuICAgIHNldChpOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaSB8PSAwO1xuXG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkod2kpO1xuICAgICAgICB0aGlzLmRhdGFbd2ldIHw9IDEgPDwgaTtcbiAgICB9XG5cbiAgICByZXNldChpOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaSB8PSAwO1xuXG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkod2kpO1xuICAgICAgICB0aGlzLmRhdGFbd2ldICY9IH4oMSA8PCBpKTtcbiAgICB9XG5cbiAgICBpc0FsbCh0YXJnZXQ6IGJvb2xlYW4sIHVudGlsPzogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgdCA9IDB4RkZGRkZGRkY7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbG9vcExhc3QgPSB1bnRpbCA9PT0gdW5kZWZpbmVkID8gdGhpcy5kYXRhLmxlbmd0aCA6ICh1bnRpbCA+Pj4gNSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb29wTGFzdDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhW2ldICE9PSB0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW50aWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgbGV0IGkgPSAoKHVudGlsIC0gMSkgPj4gNSkgKyAxO1xuICAgICAgICBsZXQgaWwgPSB1bnRpbCAmIDB4MUY7XG4gICAgICAgIGxldCBtYXNrID0gKDEgPDwgaWwpIC0gMTtcblxuICAgICAgICBsZXQgZCA9IHRoaXMuZGF0YVtpXTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZCA9IH5kO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChkICYgbWFzaykgPT09IDA7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG4vKipcbiAqIFRoZSB0YXNrIG9mIHRoaXMgZnVuY3Rpb24gaXMgdG8gYnJpbmcgdGhlIGV2ZW50IGZyb20gYSB0aGlyZC1wYXJ0eVxuICogRXZlbnRNYW5hZ2VyICh0aGF0IGNvdWxkIGJlIHRoZSBET00sIFZ1ZSBvciB3aGF0ZXZlcikgdG8gRXZlbnRFbWl0dGVyMy5cbiAqL1xudHlwZSBDYXRjaEV2ZW50Rm9yRW1pdHRlciA9IChldmVudDogYW55LCBlbWl0dGVyOiBFdmVudEVtaXR0ZXIpID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBFdmVudEVtaXR0ZXJXcmFwcGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICByZWFkb25seSBjYXRjaGVyOiBDYXRjaEV2ZW50Rm9yRW1pdHRlcjtcbiAgICBwcml2YXRlIGNhdWdodDogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cblxuICAgIGNvbnN0cnVjdG9yKGNhdGNoZXI6IENhdGNoRXZlbnRGb3JFbWl0dGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2F0Y2hlciA9IGNhdGNoZXI7XG4gICAgfVxuXG4gICAgY2F0Y2hFdmVudChldmVudDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2F0Y2hlcihldmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2F1Z2h0LmFkZChldmVudCk7XG4gICAgfVxuXG4gICAgb24oZXZlbnQ6IHN0cmluZywgZm46IEV2ZW50RW1pdHRlci5MaXN0ZW5lckZuLCBjb250ZXh0PzogYW55KTogdGhpcyB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBmbiwgY29udGV4dCk7XG4gICAgICAgIGlmICghdGhpcy5jYXVnaHQuaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBmbjogRXZlbnRFbWl0dGVyLkxpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgc3VwZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCF0aGlzLmNhdWdodC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQge1N0dXBpZFBvaW50fSBmcm9tIFwiLi4vZ2VvbWV0cnkvcG9pbnRcIjtcbmltcG9ydCB7SVBvaW50fSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vZ2VvbWV0cnkvYWFiYlwiO1xuXG50eXBlIFBQb2ludCA9IFBJWEkuUG9pbnQ7XG5leHBvcnQgdHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2x5Z29uUG9pbnRJbnRlcnNlY3QocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSwgcG9seWdvbjogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBjb25zdCB4ID0gcG9pbnQueDtcbiAgICBjb25zdCB5ID0gcG9pbnQueTtcbiAgICBsZXQgaW5zaWRlID0gZmFsc2U7XG4gICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvbHlnb24ubGVuZ3RoIC8gMjtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgY29uc3QgeGkgPSBwb2x5Z29uW2kgKiAyXTtcbiAgICAgICAgY29uc3QgeWkgPSBwb2x5Z29uWyhpICogMikgKyAxXTtcbiAgICAgICAgY29uc3QgeGogPSBwb2x5Z29uW2ogKiAyXTtcbiAgICAgICAgY29uc3QgeWogPSBwb2x5Z29uWyhqICogMikgKyAxXTtcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFhYmJBYWJiSW50ZXJzZWN0KGFsOiBudW1iZXIsIGF0OiBudW1iZXIsIGFyOiBudW1iZXIsIGFiOiBudW1iZXIsXG4gICAgYmw6IG51bWJlciwgYnQ6IG51bWJlciwgYnI6IG51bWJlciwgYmI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhbCA8IGJyICYmIGFyID4gYmwgJiYgYXQgPCBiYiAmJiBhYiA+IGJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdFNxdWFyZWQyZCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgeCA9IHgxIC0geDI7XG4gICAgbGV0IHkgPSB5MSAtIHkyO1xuICAgIHJldHVybiB4ICogeCArIHkgKiB5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0UG9pbnRPblNlZ21lbnQoYXg6IG51bWJlciwgYXk6IG51bWJlciwgYng6IG51bWJlciwgYnk6IG51bWJlciwgcHg6IG51bWJlciwgcHk6IG51bWJlcik6IFBvaW50IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoYXggPT0gYnggJiYgYXkgPT0gYXkpIGF4IC09IDAuMDAwMDE7XG5cbiAgICBsZXQgdSA9ICgocHggLSBheCkgKiAoYnggLSBheCkpICsgKChweSAtIGF5KSAqIChieSAtIGF5KSk7XG5cbiAgICBsZXQgdWRlbm9tID0gTWF0aC5wb3coYnggLSBheCwgMikgKyBNYXRoLnBvdyhieSAtIGF5LCAyKTtcblxuICAgIHUgLz0gdWRlbm9tO1xuXG4gICAgbGV0IHJ4ID0gYXggKyAodSAqIChieCAtIGF4KSk7XG4gICAgbGV0IHJ5ID0gYXkgKyAodSAqIChieSAtIGF5KSk7XG5cbiAgICBsZXQgbWlueCwgbWF4eCwgbWlueSwgbWF4eTtcblxuICAgIG1pbnggPSBNYXRoLm1pbihheCwgYngpO1xuICAgIG1heHggPSBNYXRoLm1heChheCwgYngpO1xuXG4gICAgbWlueSA9IE1hdGgubWluKGF5LCBieSk7XG4gICAgbWF4eSA9IE1hdGgubWF4KGF5LCBieSk7XG5cbiAgICBsZXQgaXNWYWxpZCA9IChyeCA+PSBtaW54ICYmIHJ4IDw9IG1heHgpICYmIChyeSA+PSBtaW55ICYmIHJ5IDw9IG1heHkpO1xuXG4gICAgcmV0dXJuIGlzVmFsaWQgPyBbcngsIHJ5XSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdExpbmVWc0xpbmUoYTE6IFN0dXBpZFBvaW50LCBhMjogU3R1cGlkUG9pbnQsIGIxOiBTdHVwaWRQb2ludCwgYjI6IFN0dXBpZFBvaW50LCB0YXJnZXQ/OiBQUG9pbnQpOiBib29sZWFuIHtcbiAgICBsZXQgZGJ4ID0gYjIueCAtIGIxLng7XG4gICAgbGV0IGRieSA9IGIyLnkgLSBiMS55O1xuICAgIGxldCBkYXggPSBhMi54IC0gYTEueDtcbiAgICBsZXQgZGF5ID0gYTIueSAtIGExLnk7XG5cbiAgICBsZXQgdV9iID0gZGJ5ICogZGF4IC0gZGJ4ICogZGF5O1xuICAgIGlmICh1X2IgPT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB1YSA9IChkYnggKiAoYTEueSAtIGIxLnkpIC0gZGJ5ICogKGExLnggLSBiMS54KSkgLyB1X2I7XG5cbiAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGFyZ2V0LnNldChhMS54IC0gdWEgKiAtZGF4LCBhMS55IC0gdWEgKiAtZGF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYWJiU2FtZU9yaWdpbkRpZmZlcmVuY2Uob3JpZzogSVBvaW50LCBsYXN0OiBJUG9pbnQsIG5vdzogSVBvaW50LCBhZGRlZDogQWFiYltdLCByZW1vdmVkOiBBYWJiW10pOiB2b2lkIHtcbiAgICBsZXQgeEFjdCA9IDA7XG4gICAgaWYgKG5vdy54ICE9IGxhc3QueCkge1xuICAgICAgICBsZXQgeEJveCA9IG5ldyBBYWJiKFxuICAgICAgICAgICAgbm93LngsIG9yaWcueSxcbiAgICAgICAgICAgIGxhc3QueCwgbGFzdC55LFxuICAgICAgICApO1xuICAgICAgICBsZXQgYWRkID0gKG5vdy54ID4gbGFzdC54KSA9PSAob3JpZy54IDwgbm93LngpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICB4QWN0ID0gMTtcbiAgICAgICAgICAgIGFkZGVkLnB1c2goeEJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4QWN0ID0gLTE7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2goeEJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgeUFjdCA9IDA7XG4gICAgaWYgKG5vdy55ICE9IGxhc3QueSkge1xuICAgICAgICBsZXQgeUJveCA9IG5ldyBBYWJiKFxuICAgICAgICAgICAgb3JpZy54LCBsYXN0LnksXG4gICAgICAgICAgICBsYXN0LngsIG5vdy55LFxuICAgICAgICApO1xuICAgICAgICBsZXQgYWRkID0gKG5vdy55ID4gbGFzdC55KSA9PSAob3JpZy55IDwgbGFzdC55KTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgeUFjdCA9IDE7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHlCb3gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeUFjdCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKHlCb3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHhBY3QgPT0geUFjdCkge1xuICAgICAgICBsZXQgYm94ID0gbmV3IEFhYmIoXG4gICAgICAgICAgICBsYXN0LngsIGxhc3QueSxcbiAgICAgICAgICAgIG5vdy54LCBub3cueVxuICAgICAgICApO1xuICAgICAgICBpZiAoeEFjdCA+IDApIHtcbiAgICAgICAgICAgIGFkZGVkLnB1c2goYm94KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaChib3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG50eXBlIFBvaW50ID0gW251bWJlciwgbnVtYmVyXTtcblxuY2xhc3MgTm9kZSB7XG4gICAgcG9pbnQ6IFBvaW50O1xuICAgIGxlZnQ/OiBOb2RlID0gdW5kZWZpbmVkO1xuICAgIHJpZ2h0PzogTm9kZSA9IHVuZGVmaW5lZDtcbiAgICBwYXJlbnQ/OiBOb2RlO1xuICAgIGRpbWVuc2lvbjogbnVtYmVyOy8vIDA6IFgsIDE6IFlcblxuICAgIGNvbnN0cnVjdG9yKHBvaW50OiBQb2ludCwgcGFyZW50OiBOb2RlIHwgdW5kZWZpbmVkLCBkaW1lbnNpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRpbWVuc2lvbiA9IGRpbWVuc2lvbjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBLMmRUcmVlIHtcbiAgICByb290PzogTm9kZSA9IHVuZGVmaW5lZDtcblxuICAgIHByaXZhdGUgZGlzdGFuY2UoYTogUG9pbnQsIGI6IFBvaW50KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gYVswXSAtIGJbMF07XG4gICAgICAgIGxldCBkeSA9IGFbMV0gLSBiWzFdO1xuICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0U2VhcmNoKHBvaW50OiBQb2ludCwgbm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgcGFyZW50OiBOb2RlIHwgdW5kZWZpbmVkKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmVudCA9IG5vZGU7XG4gICAgICAgICAgICBpZiAocG9pbnRbbm9kZS5kaW1lbnNpb25dIDwgbm9kZS5wb2ludFtub2RlLmRpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9kZVNlYXJjaChwb2ludDogUG9pbnQpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChwb2ludFswXSA9PT0gbm9kZS5wb2ludFswXSAmJiBwb2ludFsxXSA9PT0gbm9kZS5wb2ludFsxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvaW50W25vZGUuZGltZW5zaW9uXSA8IG5vZGUucG9pbnRbbm9kZS5kaW1lbnNpb25dKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpbnNlcnQocG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGxldCBpbnNlcnRQb3NpdGlvbiA9IHRoaXMubGFzdFNlYXJjaChwb2ludCwgdGhpcy5yb290LCB1bmRlZmluZWQpO1xuXG4gICAgICAgIGlmIChpbnNlcnRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgTm9kZShwb2ludCwgdW5kZWZpbmVkLCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdOb2RlID0gbmV3IE5vZGUocG9pbnQsIGluc2VydFBvc2l0aW9uLCAoaW5zZXJ0UG9zaXRpb24uZGltZW5zaW9uICsgMSkgJiAxKTtcbiAgICAgICAgbGV0IGRpbWVuc2lvbiA9IGluc2VydFBvc2l0aW9uLmRpbWVuc2lvbjtcblxuICAgICAgICBpZiAocG9pbnRbZGltZW5zaW9uXSA8IGluc2VydFBvc2l0aW9uLnBvaW50W2RpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgIGluc2VydFBvc2l0aW9uLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24ucmlnaHQgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGZpbmRNaW4obm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgZGltOiBudW1iZXIpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmRpbWVuc2lvbiA9PT0gZGltKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kTWluKG5vZGUubGVmdCwgZGltKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG93biA9IG5vZGUucG9pbnRbZGltXTtcbiAgICAgICAgbGV0IGxlZnQgPSB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBkaW0pO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLmZpbmRNaW4obm9kZS5yaWdodCwgZGltKTtcbiAgICAgICAgbGV0IG1pbiA9IG5vZGU7XG5cbiAgICAgICAgaWYgKGxlZnQgIT09IHVuZGVmaW5lZCAmJiBsZWZ0LnBvaW50W2RpbV0gPCBvd24pIHtcbiAgICAgICAgICAgIG1pbiA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgcmlnaHQucG9pbnRbZGltXSA8IG1pbi5wb2ludFtkaW1dKSB7XG4gICAgICAgICAgICBtaW4gPSByaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVOb2RlKG5vZGU6IE5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRpbSA9IG5vZGUucGFyZW50LmRpbWVuc2lvbjtcbiAgICAgICAgICAgIGlmIChub2RlLnBvaW50W2RpbV0gPCBub2RlLnBhcmVudC5wb2ludFtkaW1dKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQubGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQucmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcmlnaHQgc3VidHJlZSBpcyBub3QgZW1wdHksIHN3YXAgd2l0aCB0aGUgbWluaW11bSBlbGVtZW50IG9uIHRoZVxuICAgICAgICAvLyBub2RlJ3MgZGltZW5zaW9uLiBJZiBpdCBpcyBlbXB0eSwgd2Ugc3dhcCB0aGUgbGVmdCBhbmQgcmlnaHQgc3VidHJlZXMgYW5kXG4gICAgICAgIC8vIGRvIHRoZSBzYW1lLlxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgbmV4dE5vZGUgPSB0aGlzLmZpbmRNaW4obm9kZS5yaWdodCwgbm9kZS5kaW1lbnNpb24pITtcbiAgICAgICAgICAgIGxldCBuZXh0UG9pbnQgPSBuZXh0Tm9kZS5wb2ludDtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZShuZXh0Tm9kZSk7XG4gICAgICAgICAgICBub2RlLnBvaW50ID0gbmV4dFBvaW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5leHROb2RlID0gdGhpcy5maW5kTWluKG5vZGUubGVmdCwgbm9kZS5kaW1lbnNpb24pITtcbiAgICAgICAgICAgIGxldCBuZXh0UG9pbnQgPSBuZXh0Tm9kZS5wb2ludDtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZShuZXh0Tm9kZSk7XG4gICAgICAgICAgICBub2RlLnJpZ2h0ID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbm9kZS5wb2ludCA9IG5leHRQb2ludDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZShwb2ludDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVTZWFyY2gocG9pbnQpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBuZWFyZXN0UG9pbnQocG9pbnQ6IFBvaW50LCByb290PzogTm9kZSk6IFtQb2ludCwgbnVtYmVyXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJvb3QgPSByb290IHx8IHRoaXMucm9vdDtcbiAgICAgICAgaWYgKHJvb3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgb3duRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHJvb3QucG9pbnQsIHBvaW50KTtcbiAgICAgICAgaWYgKHJvb3QubGVmdCA9PT0gdW5kZWZpbmVkICYmIHJvb3QucmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtyb290LnBvaW50LCBvd25EaXN0YW5jZV07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYmVzdENoaWxkO1xuXG4gICAgICAgIGlmIChyb290LnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJlc3RDaGlsZCA9IHJvb3QubGVmdDtcbiAgICAgICAgfSBlbHNlIGlmIChyb290LmxlZnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5yaWdodFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvaW50W3Jvb3QuZGltZW5zaW9uXSA8IHJvb3QucG9pbnRbcm9vdC5kaW1lbnNpb25dKSB7XG4gICAgICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFtiZXN0Q2hpbGROb2RlLCBiZXN0Q2hpbGREaXN0XSA9IHRoaXMubmVhcmVzdFBvaW50KHBvaW50LCBiZXN0Q2hpbGQpITtcblxuICAgICAgICBsZXQgYmVzdE5vZGU7XG4gICAgICAgIGxldCBiZXN0RGlzdDtcbiAgICAgICAgaWYgKGJlc3RDaGlsZERpc3QgPCBvd25EaXN0YW5jZSkge1xuICAgICAgICAgICAgYmVzdE5vZGUgPSBiZXN0Q2hpbGROb2RlO1xuICAgICAgICAgICAgYmVzdERpc3QgPSBiZXN0Q2hpbGREaXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmVzdE5vZGUgPSByb290LnBvaW50O1xuICAgICAgICAgICAgYmVzdERpc3QgPSBvd25EaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlYXJjaGVkIHBvaW50IHByb2plY3RlZCB0byBvdXIgYXhpc1xuICAgICAgICBsZXQgbGluZWFyUG9pbnQ6IFBvaW50ID0gW3BvaW50WzBdLCBwb2ludFsxXV07XG4gICAgICAgIGxpbmVhclBvaW50W3Jvb3QuZGltZW5zaW9uXSA9IHJvb3QucG9pbnRbcm9vdC5kaW1lbnNpb25dO1xuXG4gICAgICAgIGxldCBsaW5lYXJEaXN0ID0gdGhpcy5kaXN0YW5jZShsaW5lYXJQb2ludCwgcG9pbnQpO1xuICAgICAgICBpZiAobGluZWFyRGlzdCA8IGJlc3REaXN0KSB7XG4gICAgICAgICAgICBsZXQgb3RoZXJDaGlsZDtcbiAgICAgICAgICAgIGlmIChiZXN0Q2hpbGQgPT09IHJvb3QubGVmdCkge1xuICAgICAgICAgICAgICAgIG90aGVyQ2hpbGQgPSByb290LnJpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdGhlckNoaWxkID0gcm9vdC5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG90aGVyQ2hpbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBbb3RoZXJOb2RlLCBvdGhlckRpc3RdID0gdGhpcy5uZWFyZXN0UG9pbnQocG9pbnQsIG90aGVyQ2hpbGQpITtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJEaXN0IDwgYmVzdERpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdE5vZGUgPSBvdGhlck5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGJlc3REaXN0ID0gb3RoZXJEaXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2Jlc3ROb2RlLCBiZXN0RGlzdF1cbiAgICB9XG59XG5cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5cbmV4cG9ydCBjb25zdCBERVNUUk9ZX0FMTCA9IHtcbiAgICBjaGlsZHJlbjogdHJ1ZSxcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IERFU1RST1lfTUlOID0ge1xuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICB0ZXh0dXJlOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogZmFsc2UsXG59O1xuXG5jb25zdCBBTExPV0VEX0lNQUdFVFlQRVMgPSBbJ2pwZWcnLCAncG5nJywgJ3gtamcnLCAnYm1wJywgJ3gtaWNvbicsICdpZWYnLCAncGpwZWcnLCAneC1wb3J0YWJsZS1iaXRtYXAnLCAneC1yZ2InLCAndGlmZicsICd4LXRpZmYnXVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUltYWdlTWltZVR5cGUodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB0aHJvdyAnSW52YWxpZCB0eXBlOiBpdCBzaG91bGQgYmUgYW4gaW1hZ2UnO1xuICAgIGlmIChBTExPV0VEX0lNQUdFVFlQRVMuaW5kZXhPZih0eXBlLnN1YnN0cignaW1hZ2UvJy5sZW5ndGgpKSA8IDApIHRocm93ICdVbnN1cHBvcnRlZCBpbWFnZSB0eXBlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUZXh0dXJlKGRhdGE6IEFycmF5QnVmZmVyLCBkYXRhVHlwZTogc3RyaW5nKTogUHJvbWlzZTxQSVhJLlRleHR1cmU+IHtcbiAgICB2YWxpZGF0ZUltYWdlTWltZVR5cGUoZGF0YVR5cGUpO1xuICAgIGxldCB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgbGV0IGI2NCA9ICdkYXRhOicgKyBkYXRhVHlwZSArICc7YmFzZTY0LCcgKyBidG9hKHR5cGVkQXJyYXkucmVkdWNlKChkYXRhLCBieXRlKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhICsgU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTtcbiAgICB9LCAnJykpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFBJWEkuVGV4dHVyZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShuZXcgUElYSS5CYXNlVGV4dHVyZShuZXcgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZShpbWFnZSkpKTtcbiAgICAgICAgICAgIHJlc29sdmUodGV4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgaW1hZ2Uuc3JjID0gYjY0O1xuICAgIH0pO1xufVxuXG5leHBvcnQgZW51bSBDVVNUT01fQkxFTkRfTU9ERVMge1xuICAgIE1VTFRJUExZX0NPTE9SX09OTFkgPSAzMCxcbiAgICBBRERfV0hFUkVfQUxQSEFfMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEN1c3RvbUJsZW5kTW9kZXMocmVuZGVyZXI6IFBJWEkuUmVuZGVyZXIpIHtcbiAgICBsZXQgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBsZXQgYXJyYXkgPSAocmVuZGVyZXIuc3RhdGUgYXMgYW55KS5ibGVuZE1vZGVzO1xuICAgIGFycmF5W0NVU1RPTV9CTEVORF9NT0RFUy5NVUxUSVBMWV9DT0xPUl9PTkxZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLlpFUk8sIGdsLk9ORSwgZ2wuWkVST107XG4gICAgYXJyYXlbQ1VTVE9NX0JMRU5EX01PREVTLkFERF9XSEVSRV9BTFBIQV8xXSA9IFtnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuWkVSTywgZ2wuT05FXTtcbn0iLCJcbnR5cGUgTGlzdGVuZXJGbiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEV2ZW50SGFuZGxlciB7XG4gICAgY2I6IExpc3RlbmVyRm47XG4gICAgc2VsZjogYW55O1xuICAgIG9uY2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhZmVFdmVudEVtaXR0ZXIge1xuICAgIGV2ZW50czoge1tuYW1lOiBzdHJpbmddOiBFdmVudEhhbmRsZXJbXX0gPSB7fTtcblxuICAgIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4uYXJnczogQXJyYXk8YW55Pik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCB8fCBsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYi5jYWxsKGxpc3RlbmVyLnNlbGYsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoYikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBjYWxsaW5nIGV2ZW50IFwiICsgZXZlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICAgICAqL1xuICAgIG9uKGV2ZW50OiBzdHJpbmcsIGZuOiBMaXN0ZW5lckZuLCBjb250ZXh0PzogYW55KTogdGhpcyB7XG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF07XG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBsaXN0ZW5lcnM7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAgY2I6IGZuLFxuICAgICAgICAgICAgc2VsZjogY29udGV4dCxcbiAgICAgICAgICAgIG9uY2U6IGZhbHNlLFxuICAgICAgICB9IGFzIEV2ZW50SGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICAgICAqL1xuICAgIG9uY2UoZXZlbnQ6IHN0cmluZywgZm46IExpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGxpc3RlbmVycztcbiAgICAgICAgfVxuICAgICAgICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICBjYjogZm4sXG4gICAgICAgICAgICBzZWxmOiBjb250ZXh0LFxuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgfSBhcyBFdmVudEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICAgICAqL1xuICAgIG9mZihldmVudDogc3RyaW5nLCBmbjogTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSwgb25jZT86IGJvb2xlYW4pOiB0aGlzIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB0aHJvdyAnQ2Fubm90IGZpbmQgZXZlbnQgJyArIGV2ZW50O1xuICAgICAgICBsZXQgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLmNiID09PSBmbiAmJiBsaXN0ZW5lci5zZWxmID09PSBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyAnQ2Fubm90IGZpbmQgZXZlbnQgJyArIGV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqL1xuICAgIHJlbW92ZUFsbExpc3RlbmVycyhldmVudD86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICBpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAzZDMyNGQ2JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzAzZDMyNGQ2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzAzZDMyNGQ2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzAzZDMyNGQ2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDNkMzI0ZDYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDNkMzI0ZDYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZWZkNzAxNiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzVlZmQ3MDE2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVlZmQ3MDE2JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzVlZmQ3MDE2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xODYyZThiNSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzRG9vci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMTg2MmU4YjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMTg2MmU4YjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMTg2MmU4YjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc0Rvb3IudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE4NjJlOGI1JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzE4NjJlOGI1Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcyNGUwMTFmJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzcyNGUwMTFmJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzcyNGUwMTFmJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzcyNGUwMTFmJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzI0ZTAxMWYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNzI0ZTAxMWYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzTmFtZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9M2U3Njg5MTImXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzNlNzY4OTEyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zZTc2ODkxMiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczZTc2ODkxMicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJlZmZiMmY5JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzJlZmZiMmY5JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yZWZmYjJmOSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcyZWZmYjJmOScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjZkODhlNWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcyNmQ4OGU1ZScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcyNmQ4OGU1ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcyNmQ4OGU1ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yNmQ4OGU1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcyNmQ4OGU1ZScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02MzZjZWVhOCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzYzNmNlZWE4JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzYzNmNlZWE4JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzYzNmNlZWE4JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTYzNmNlZWE4JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzYzNmNlZWE4Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NQbGF5ZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZTgxZTRkYTAmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZTgxZTRkYTAnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lODFlNGRhMCZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdlODFlNGRhMCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kNGYwZjQyYyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZDRmMGY0MmMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZDRmMGY0MmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZDRmMGY0MmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Byb3AudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ0ZjBmNDJjJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2Q0ZjBmNDJjJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wOGIyZDFiNSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIwOGIyZDFiNVwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMDhiMmQxYjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMDhiMmQxYjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMDhiMmQxYjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDhiMmQxYjUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDhiMmQxYjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGVlODdiZjUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc0ZWU4N2JmNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc0ZWU4N2JmNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc0ZWU4N2JmNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZWU4N2JmNSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc0ZWU4N2JmNScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzV2FsbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzdlMjJlNWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzV2FsbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzM3ZTIyZTVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzM3ZTIyZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzM3ZTIyZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zN2UyMmU1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczN2UyMmU1ZScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0MDdkYmZhJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2M0MDdkYmZhJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2M0MDdkYmZhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2M0MDdkYmZhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jNDA3ZGJmYSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdjNDA3ZGJmYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUzYjQ2MDUxJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzUzYjQ2MDUxJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzUzYjQ2MDUxJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzUzYjQ2MDUxJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01M2I0NjA1MSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1M2I0NjA1MScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjllNmUyMjEmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNjllNmUyMjEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNjllNmUyMjEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNjllNmUyMjEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02OWU2ZTIyMSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc2OWU2ZTIyMScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUyYTUwNTIyJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzUyYTUwNTIyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzUyYTUwNTIyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzUyYTUwNTIyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9saWdodFNldHRpbmdzRWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTJhNTA1MjImXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTJhNTA1MjInLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9saWdodFNldHRpbmdzRWRpdC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA3NTU5OGNhJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzA3NTU5OGNhJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzA3NTU5OGNhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzA3NTU5OGNhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wNzU1OThjYSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwNzU1OThjYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi90b29sQmFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mZGU4ZTc4YyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdmZGU4ZTc4YycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdmZGU4ZTc4YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdmZGU4ZTc4YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZmRlOGU3OGMmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZmRlOGU3OGMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC90b29sQmFyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MzlmMmJmZiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1MzlmMmJmZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MzlmMmJmZiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1MzlmMmJmZicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9mb290ZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kODU1MGI0YSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdkODU1MGI0YScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdkODU1MGI0YScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdkODU1MGI0YScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vaG9tZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDg1NTBiNGEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZDg1NTBiNGEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdlOWQ0MDZjJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzdlOWQ0MDZjJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzdlOWQ0MDZjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzdlOWQ0MDZjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9N2U5ZDQwNmMmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignN2U5ZDQwNmMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCI8dGVtcGxhdGU+XG4gICAgPCEtLXRyYW5zaXRpb24gbmFtZT1cIm1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1tYXNrXCJcbiAgICAgICAgICAgICBvbmRyYWdlbnRlcj1cImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiXG4gICAgICAgICAgICAgb25kcmFnb3Zlcj1cImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiXG4gICAgICAgICAgICAgdi1vbjpvbmRyb3A9XCJldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsgb25Ecm9wKGV2ZW50KVwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnNlcnQgbWFwIHRvIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFwIGxvYWRpbmcgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgZm9vdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWRlZmF1bHQtYnV0dG9uXCIgQGNsaWNrPVwiJGVtaXQoJ2NhbmNlbCcpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L3RyYW5zaXRpb24tLT5cbiAgICA8Yi1tb2RhbCByZWY9XCJteS1tb2RhbFwiIGhpZGUtZm9vdGVyIHRpdGxlPVwiR2ltbWUgdGhlIG1hcFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1ibG9jayB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGgzPkluc2VydCBtYXAgdG8gbG9hZDwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Yi1idXR0b24gY2xhc3M9XCJtdC0zXCIgdmFyaWFudD1cIm91dGxpbmUtZGFuZ2VyXCIgYmxvY2sgQGNsaWNrPVwiaGlkZU1vZGFsXCI+Q2FuY2VsPC9iLWJ1dHRvbj5cbiAgICA8L2ItbW9kYWw+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuICAgIGV4cG9ydCBkZWZhdWx0IHtcbiAgICAgICAgbmFtZTogXCJtYXBJbnB1dFwiLFxuICAgICAgICBkYXRhKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxlOiBudWxsLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgICBvbkRyb3A6IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGlkZU1vZGFsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgdGhpcy4kZW1pdChcImNsb3NlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbjwvc3R5bGU+IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9tb3VzZVRyYWlsSWNvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTY3M2JiNzMmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9tb3VzZVRyYWlsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNTY3M2JiNzMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNTY3M2JiNzMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNTY3M2JiNzMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL21vdXNlVHJhaWxJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01NjczYmI3MyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1NjczYmI3MycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9pY29ucy9tb3VzZVRyYWlsSWNvbi52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xNWRjY2M5YyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi93YWxsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcxNWRjY2M5YycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcxNWRjY2M5YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcxNWRjY2M5YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE1ZGNjYzljJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzE1ZGNjYzljJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2ljb25zL3dhbGxJY29uLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjEwYWY0OTYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnYjEwYWY0OTYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnYjEwYWY0OTYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnYjEwYWY0OTYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWIxMGFmNDk2JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2IxMGFmNDk2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWI4YWQ2ZTE0JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2I4YWQ2ZTE0JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2I4YWQ2ZTE0JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2I4YWQ2ZTE0JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iOGFkNmUxNCZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdiOGFkNmUxNCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NmZlMTAwNDYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWRpdGFibGVOdW1iZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNmZlMTAwNDYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNmZlMTAwNDYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNmZlMTAwNDYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VkaXRhYmxlTnVtYmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02ZmUxMDA0NiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc2ZmUxMDA0NicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jNzY5NjUyYyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdjNzY5NjUyYycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdjNzY5NjUyYycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdjNzY5NjUyYycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jNzY5NjUyYyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdjNzY5NjUyYycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzRG9vci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzRG9vci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Byb3AudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Byb3AudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzV2FsbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzV2FsbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tb3VzZVRyYWlsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi93YWxsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlTnVtYmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiY3dyYXBwZXJfY29tcG9uZW50LWhlYWRlclwiIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdm0udmlzaWJsZSA9ICFfdm0udmlzaWJsZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW192bS5fdihcIiBcIiArIF92bS5fcyhfdm0uY29tcG9uZW50LnR5cGVOYW1lKSldXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF9jKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiY3dyYXBwZXJfY29tcG9uZW50LWFycm93XCIsXG4gICAgICAgICAgICAgIGNsYXNzOiB7IGN3cmFwcGVyX3JvdGF0ZTogX3ZtLnZpc2libGUgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNTdHlsZTogeyB3aWR0aDogXCIxMDAlXCIgfSB9KSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZSAhPT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZ3JpZFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkhpZGUgY29tcG9uZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTaG93IGNvbXBvbmVudFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGllbnRWaXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiY29tcG9uZW50LmNsaWVudFZpc2libGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllXCIgfSldXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIV92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIiFjb21wb25lbnQuY2xpZW50VmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWUtc2xhc2hcIiB9KV1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRnVsbHNjcmVlblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC5faXNGdWxsc2NyZWVuID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXhwYW5kXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5fY2FuRGVsZXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2NhbkRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IFwiZGFuZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVtb3ZlQ29tcG9uZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC5tdWx0aUlkXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS10cmFzaFwiIH0pXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLWNvbGxhcHNlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJjd3JhcHBlcl9jb21wb25lbnQtYm9keVwiLFxuICAgICAgICAgIGF0dHJzOiB7IHZpc2libGU6IFwiXCIgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS52aXNpYmxlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICBfdm0udmlzaWJsZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwidmlzaWJsZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoX3ZtLmNvbXBvbmVudFR5cGUsIHtcbiAgICAgICAgICAgIHRhZzogXCJjb21wb25lbnRcIixcbiAgICAgICAgICAgIGF0dHJzOiB7IGNvbXBvbmVudDogX3ZtLmNvbXBvbmVudCwgaXNBZG1pbjogX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbM11cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwic3BhblwiLCBbX3ZtLl92KFwiWW91ciByZWd1bGFyIGJhY2tncm91bmQgaW1hZ2VcIildKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFR5cGU6XFxuICAgIFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgW1xuICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBcIiArIF92bS5fcyh0aGlzLmRvb3JUeXBlTmFtZSkgKyBcIlxcbiAgICBcIilcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItZm9ybS1zZWxlY3RcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm1iLTNcIixcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5kb29yVHlwZSxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLmRvb3JUeXBlID0gJCR2XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJkb29yVHlwZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vcm1hbGxcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIk5vcm1hbFwiKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vcm1hbHJcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIk5vcm1hbCByaWdodFwiKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcInJvdGF0ZVwiIH0gfSwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiUm90YXRpbmdcIilcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoX3ZtLm9wZW4gPyBcIk9wZW5cIiA6IFwiQ2xvc2VkXCIpKV0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidGhpcy5sb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1sb2NrXCIgfSldXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyBwcmVzc2VkOiBfdm0ub3BlbiB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBcInVwZGF0ZTpwcmVzc2VkXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdm0ub3BlbiA9ICRldmVudFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoX3ZtLm9wZW4gPyBcIk9wZW5cIiA6IFwiQ2xvc2VkXCIpKV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHByZXNzZWQ6IF92bS5sb2NrZWQgfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLmxvY2tlZCA9ICRldmVudFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJsb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9ja1wiIH0pXVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIV92bS5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIiFsb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9jay1vcGVuXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgQ29sb3I6XFxuICAgIFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1jb2xvclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uY29sb3IsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5jb2xvciA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiY29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBWaXNpYmlsaXR5IFJhbmdlOlxcbiAgICBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluLCBpc05lZ2F0aXZlOiBcImZhbHNlXCIgfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnJhbmdlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICBfdm0ucmFuZ2UgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInJhbmdlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBdLFxuICAgICAgMVxuICAgIClcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZWRpdGFibGUtdGV4dFwiLCB7XG4gICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiwgcGxhY2Vob2xkZXI6IFwiRW50aXR5IG5hbWVcIiB9LFxuICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgbW9kZWw6IHtcbiAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50Lm5hbWUsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgIF92bS4kc2V0KF92bS5jb21wb25lbnQsIFwibmFtZVwiLCAkJHYpXG4gICAgICB9LFxuICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQubmFtZVwiXG4gICAgfVxuICB9KVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfYyhcImItdGV4dGFyZWFcIiwge1xuICAgICAgICBzdGF0aWNDbGFzczogXCJocHJpb3IgZWNzLW5vdGVfdGV4dGFyZWFcIixcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJXcml0ZSBzb21ldGhpbmcgaGVyZS4uLlwiLFxuICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW5cbiAgICAgICAgfSxcbiAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICB2YWx1ZTogX3ZtLm5vdGUsXG4gICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgX3ZtLm5vdGUgPSAkJHZcbiAgICAgICAgICB9LFxuICAgICAgICAgIGV4cHJlc3Npb246IFwibm90ZVwiXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItbW9kYWxcIixcbiAgICAgICAge1xuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0aXRsZTogXCJOb3RlXCIsXG4gICAgICAgICAgICBcImhpZGUtZm9vdGVyXCI6IFwiXCIsXG4gICAgICAgICAgICBcImhpZGUtaGVhZGVyXCI6IFwiXCIsXG4gICAgICAgICAgICBcImRpYWxvZy1jbGFzc1wiOiBcIm1vZGFsLWZ1bGxzY3JlZW4gbW9kYWwteHhsXCIsXG4gICAgICAgICAgICBcImNvbnRlbnQtY2xhc3NcIjogXCJtb2RhbC1jb250ZW50LWRhcmtcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogXCJtb2RhbC1mb290ZXJcIixcbiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcHJveHk6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdKSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuX2lzRnVsbHNjcmVlbixcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmNvbXBvbmVudCwgXCJfaXNGdWxsc2NyZWVuXCIsICQkdilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImItdGV4dGFyZWFcIiwge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaHByaW9yIGVjcy1ub3RlX3RleHRhcmVhXCIsXG4gICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBoZWlnaHQ6IFwiMTAwJVwiLCByZXNpemU6IFwibm9uZVwiIH0sXG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJXcml0ZSBzb21ldGhpbmcgaGVyZS4uLlwiLFxuICAgICAgICAgICAgICByZWFkb25seTogIV92bS5pc0FkbWluXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0ubm90ZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgIF92bS5ub3RlID0gJCR2XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibm90ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF92bS5pc0FkbWluXG4gICAgICAgID8gW1xuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBDb2xvcjpcXG4gICAgICBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJlZGl0YWJsZS1jb2xvclwiLCB7XG4gICAgICAgICAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5jb2xvciA9ICQkdlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbG9yXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgTGFiZWw6XFxuICAgICAgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFwiZWRpdGFibGUtdGV4dFwiLCB7XG4gICAgICAgICAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluLCBwbGFjZWhvbGRlcjogXCJMYWJlbFwiIH0sXG4gICAgICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5sYWJlbCA9ICQkdlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImxhYmVsXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApXG4gICAgICAgICAgXVxuICAgICAgICA6IF92bS5fZSgpXG4gICAgXSxcbiAgICAyXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgTmlnaHQgdmlzaW9uOlxcbiAgICBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItZm9ybS1jaGVja2JveFwiLCB7XG4gICAgICAgICAgICAgIG9uOiB7IGlucHV0OiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm5pZ2h0VmlzaW9uLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5uaWdodFZpc2lvbiA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJuaWdodFZpc2lvblwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLm5pZ2h0VmlzaW9uID8gXCJ5ZXNcIiA6IFwibm9cIikpXG4gICAgICAgICAgICBdKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFZpc2liaWxpdHkgUmFuZ2U6XFxuICAgIFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sIGlzTmVnYXRpdmU6IFwiZmFsc2VcIiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ucmFuZ2UsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5yYW5nZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwicmFuZ2VcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBYOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS54LFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICBfdm0ueCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwieFwiXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFk6IFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnksXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS55ID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ5XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBdLFxuICAgICAgMVxuICAgIClcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIpXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFRhcmdldDogXCIpLFxuICAgICAgICBfYyhcInNwYW5cIiwgeyBvbjogeyBjbGljazogX3ZtLmZvY3VzVGFyZ2V0IH0gfSwgW1xuICAgICAgICAgIF92bS5fdihfdm0uX3ModGhpcy5jb21wb25lbnQudGFyZ2V0UHJvcCkpXG4gICAgICAgIF0pXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS5saW5rIH0gfSwgW192bS5fdihcIkxpbmtcIildKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS51c2UgfSB9LCBbX3ZtLl92KFwiVXNlXCIpXSlcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBBbmdsZTogXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ucm90YXRpb24sXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5yb3RhdGlvbiA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwicm90YXRpb25cIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBTY2FsZTogXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uc2NhbGUsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5zY2FsZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwic2NhbGVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBXOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIXRoaXMuaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0udyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLncgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcIndcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBIOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIXRoaXMuaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uaCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLmggPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImhcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgIHZhbHVlOiBfdm0uZGF0YS5jb21wb25lbnRzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgZXhwcmVzc2lvbjogXCJkYXRhLmNvbXBvbmVudHMubGVuZ3RoID4gMFwiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImVudGl0eS1pbnNwZWN0X2NvbXBvbmVudC1idG4taGVhZGVyXCIgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczogeyBcInRvZ2dsZS1jbGFzc1wiOiBcInJvdW5kZWQtMFwiLCB2YXJpYW50OiBcInN1Y2Nlc3NcIiB9LFxuICAgICAgICAgICAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJidXR0b24tY29udGVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1wbHVzXCIgfSldXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAxNzc0NTU0NjQxXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5kYXRhLmFkZGFibGUsIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB4LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImFkZENvbXBvbmVudFwiLCB4LnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJcXG4gICAgICAgIFwiICsgX3ZtLl9zKHgubmFtZSkgKyBcIlxcbiAgICAgIFwiKV1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJncmlkXCIgfSxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uZGF0YS5oaWRkZW4gPyBcIlNob3cgZW50aXR5XCIgOiBcIkhpZGUgZW50aXR5XCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImhpZGRlblwiLCAhX3ZtLmRhdGEuaGlkZGVuKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImcxMVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBfdm0uZGF0YS5oaWRkZW4gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllLXNsYXNoXCIgfSldXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IF92bS5kYXRhLmhpZGRlbiA/IFwiaGlkZGVuXCIgOiBcInZpc2libGVcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWVcIiB9KV1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IFwiZGFuZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRlbGV0ZSBlbnRpdHlcIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTcGVjaWFsKFwiZGVsZXRlXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdHJhc2hcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF92bS5fbChfdm0uZGF0YS5jb21wb25lbnRzLCBmdW5jdGlvbihjb21wKSB7XG4gICAgICAgIHJldHVybiBfYyhcImVjcy1jb21wb25lbnQtd3JhcHBlclwiLCB7XG4gICAgICAgICAga2V5OiBjb21wLnR5cGUgKyAoY29tcC5tdWx0aUlkIHx8IFwiXCIpLFxuICAgICAgICAgIGF0dHJzOiB7IGNvbXBvbmVudDogY29tcCwgaXNBZG1pbjogX3ZtLndvcmxkLmlzTWFzdGVyIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkVjc1Byb3BlcnR5Q2hhbmdlKFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1szXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICBdLFxuICAgIDJcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IHN0YXRpY0NsYXNzOiBcImVkaXQtbWFwX2dhbWVcIiB9LFxuICAgIFtcbiAgICAgIF9jKFwidG9vbC1iYXJcIiwgeyBhdHRyczogeyB3b3JsZDogX3ZtLndvcmxkIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICBzdGF0aWNTdHlsZToge1xuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxMDB2aCAtIHZhcigtLXRvcGJhci1oZWlnaHQpKVwiXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7IGlkOiBcImNhbnZhcy1jb250YWluZXJcIiB9XG4gICAgICB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcInNpZGUtYmFyXCIsIHsgYXR0cnM6IHsgd29ybGQ6IF92bS53b3JsZCB9IH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYVwiLCB7XG4gICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0sXG4gICAgICAgIGF0dHJzOiB7IGlkOiBcImhpZGRlbi1kb3dubG9hZC1saW5rXCIgfVxuICAgICAgfSlcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfdm0uX3YoXCJcXG4gIFR5cGU6XFxuICBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLXJhZGlvLWdyb3VwXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBhdHRyczogeyBpZDogXCJncmlkLXR5cGUtcmFkaW9cIiwgYnV0dG9uczogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQudHlwZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwidHlwZVwiLCAkJHYpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnR5cGVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiYi1yYWRpb1wiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vbmVcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1ib3JkZXItbm9uZVwiIH0pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImItcmFkaW9cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJzcXVhcmVcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhciBmYS1zcXVhcmVcIiB9KVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJiLXJhZGlvXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwiaGV4XCIgfSB9LCBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJzdmdcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLWhleGFnb24gZmEtdy0xOFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICByb2xlOiBcImltZ1wiLFxuICAgICAgICAgICAgICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU3NiA1MTJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFwicGF0aFwiLCB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgICAgICAgICBkOlxuICAgICAgICAgICAgICAgICAgICAgIFwiTTQ0MS41IDM5LjhDNDMyLjkgMjUuMSA0MTcuMSAxNiA0MDAgMTZIMTc2Yy0xNy4xIDAtMzIuOSA5LjEtNDEuNSAyMy44bC0xMTIgMTkyYy04LjcgMTQuOS04LjcgMzMuNCAwIDQ4LjRsMTEyIDE5MmM4LjYgMTQuNyAyNC40IDIzLjggNDEuNSAyMy44aDIyNGMxNy4xIDAgMzIuOS05LjEgNDEuNS0yMy44bDExMi0xOTJjOC43LTE0LjkgOC43LTMzLjQgMC00OC40bC0xMTItMTkyek00MDAgNDQ4SDE3Nkw2NCAyNTYgMTc2IDY0aDIyNGwxMTIgMTkyLTExMiAxOTJ6XCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSlcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfdm0uZ3JpZC50eXBlICE9PSBcIm5vbmVcIlxuICAgICAgICA/IF9jKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiU2l6ZTpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIxMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjUxMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInNpemVcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5zaXplXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMTBcIiwgbWF4OiBcIjUxMlwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5zaXplLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJzaXplXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQuc2l6ZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIFtfdm0uX3YoXCJYb2Zmc2V0OlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiBcIjAuMDAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZlhcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIwXCIsIG1heDogXCIxXCIsIHN0ZXA6IFwiMC4wMDFcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWCxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZlhcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIllvZmZzZXQ6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IFwiMC4wMDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZZLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZZXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWVwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwicmFuZ2VcIiwgbWluOiBcIjBcIiwgbWF4OiBcIjFcIiwgc3RlcDogXCIwLjAwMVwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZZLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZZXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuXFxuICAgIENvbG9yOiBcIiArIF92bS5fcyhfdm0uZ3JpZC5jb2xvcikgKyBcIlxcbiAgICBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5jb2xvcixcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwiY29sb3JcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5jb2xvclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiT3BhY2l0eTpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogXCIwLjAwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9wYWNpdHlcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vcGFjaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMFwiLCBtYXg6IFwiMVwiLCBzdGVwOiBcIjAuMDAxXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9wYWNpdHlcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vcGFjaXR5XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJUaGlja25lc3M6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjIwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnRoaWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ0aGlja1wiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnRoaWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMVwiLCBtYXg6IFwiMjAwXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnRoaWNrLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ0aGlja1wiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnRoaWNrXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInB4LTMgcHktMlwiIH0sIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIkxpZ2h0OlwiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiY29sb3JcIiwgcmVhZG9ubHk6ICFfdm0ud29ybGQuaXNNYXN0ZXIgfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkFtYmllbnRMaWdodENoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmFtYmllbnRMaWdodCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLmFtYmllbnRMaWdodCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiYW1iaWVudExpZ2h0XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIk5lZWRzIGxpZ2h0OlwiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImItZm9ybS1jaGVja2JveFwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0ud29ybGQuaXNNYXN0ZXIgfSxcbiAgICAgICAgICBvbjogeyBpbnB1dDogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ubmVlZHNMaWdodCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLm5lZWRzTGlnaHQgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcIm5lZWRzTGlnaHRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiVmlzaW9uIHR5cGU6XCIpXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICBwcmVzc2VkOiBfdm0ucm9sZXBsYXlWaXNpb24sXG4gICAgICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdm0ucm9sZXBsYXlWaXNpb24gPSAkZXZlbnRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICBcIlxcbiAgICAgIFwiICtcbiAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLnJvbGVwbGF5VmlzaW9uID8gXCJSb2xlcGxheWVyXCIgOiBcIk1hc3RlclwiKSArXG4gICAgICAgICAgICAgICAgXCJcXG4gICAgXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICBdXG4gICAgICAgIClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiQmFja2dyb3VuZDpcIildKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIsIHJlYWRvbmx5OiAhX3ZtLndvcmxkLmlzTWFzdGVyIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25BbWJpZW50TGlnaHRDaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICBfdm0uYmFja2dyb3VuZCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiYmFja2dyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgW1xuICAgICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS5vbkxpZ2h0U2V0dGluZ3NSZXNldCB9IH0sIFtcbiAgICAgICAgICBfdm0uX3YoXCJSZXNldFwiKVxuICAgICAgICBdKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImItc2lkZWJhclwiLFxuICAgIHtcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGlkOiBcInNpZGViYXItcmlnaHRcIixcbiAgICAgICAgdGl0bGU6IFwiU2lkZWJhclwiLFxuICAgICAgICBcImJnLXZhcmlhbnRcIjogXCJkYXJrXCIsXG4gICAgICAgIFwidGV4dC12YXJpYW50XCI6IFwibGlnaHRcIixcbiAgICAgICAgcmlnaHQ6IFwiXCIsXG4gICAgICAgIHZpc2libGU6IFwiXCIsXG4gICAgICAgIFwibm8taGVhZGVyXCI6IFwiXCIsXG4gICAgICAgIHNoYWRvdzogXCJcIixcbiAgICAgICAgXCJzaWRlYmFyLWNsYXNzXCI6IFwidW5kZXItbmF2YmFyXCJcbiAgICAgIH0sXG4gICAgICBzY29wZWRTbG90czogX3ZtLl91KFtcbiAgICAgICAge1xuICAgICAgICAgIGtleTogXCJmb290ZXJcIixcbiAgICAgICAgICBmbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInNpZGViYXItZm9vdGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgIFwiICsgX3ZtLl9zKF92bS5jb25uZWN0aW9uQ291bnQpICsgXCJcXG4gICAgICBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGFzczogeyByb3RhdGU6IF92bS5jb25uZWN0aW9uQnVmZmVyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjJyZW1cIiB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1zeW5jLWFsdFwiIH0pXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3h5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0pXG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcImdyaWQtZWRpdFwiLCB7XG4gICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wgPT09IFwiZ3JpZFwiLFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnZ3JpZCdcIlxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgc3RhdGljQ2xhc3M6IFwicHgtMyBweS0yXCIsXG4gICAgICAgIGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfVxuICAgICAgfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wgPT09IFwiaW5zcGVjdFwiLFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInRvb2wgPT09ICdpbnNwZWN0J1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBbX2MoXCJlbnRpdHktaW5zcGVjdFwiLCB7IGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfSB9KV0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJsaWdodC1zZXR0aW5ncy1lZGl0XCIsIHtcbiAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgIHZhbHVlOiBfdm0udG9vbCA9PT0gXCJsaWdodFwiLFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnbGlnaHQnXCJcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfVxuICAgICAgfSlcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJiLWJ1dHRvbi10b29sYmFyXCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiYmctZGFya1wiLFxuICAgICAgc3RhdGljU3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwidmFyKC0tdG9wYmFyLWhlaWdodClcIixcbiAgICAgICAgXCJ6LWluZGV4XCI6IFwiMTAwMFwiXG4gICAgICB9LFxuICAgICAgYXR0cnM6IHsgdHlwZTogXCJkYXJrXCIsIHZhcmlhbnQ6IFwiaW5mb1wiLCBqdXN0aWZ5OiBcIlwiIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICA/IF9jKFxuICAgICAgICAgICAgXCJiLWJ1dHRvbi1ncm91cFwiLFxuICAgICAgICAgICAgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1yaWdodFwiOiBcIjJyZW1cIiB9IH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZSB1bmRvLXJlZG8tYnRuXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJVbmRvXCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5jYW5VbmRvXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0udW5kbygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdW5kb1wiIH0pXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemUgdW5kby1yZWRvLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUmVkb1wiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMuY2FuUmVkb1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlZG8oKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXJlZG9cIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1yYWRpby1ncm91cFwiLFxuICAgICAgICB7XG4gICAgICAgICAgYXR0cnM6IHsgYnV0dG9uczogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS50b29sID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByZWY6IFwicmFkaW9pbnNwZWN0XCIsXG4gICAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgXCJ0b29sYmFyLWJ0blwiOiB0aGlzLmJhY2tncm91bmRMb2NrZWQsXG4gICAgICAgICAgICAgICAgXCJidG4td2FybmluZ1wiOiAhdGhpcy5iYWNrZ3JvdW5kTG9ja2VkXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkluc3BlY3RcIiwgdmFsdWU6IFwiaW5zcGVjdFwiLCBzcXVhcmVkOiBcIlwiIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWhhbmQtcG9pbnRlclwiIH0pXVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFkZCB3YWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImNyZWF0ZV93YWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcIndhbGwtaWNvblwiKV0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJBZGQgcHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJjcmVhdGVfcHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWNvdWNoXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkFkZCBwaW5cIiwgdmFsdWU6IFwiY3JlYXRlX3BpblwiLCBzcXVhcmVkOiBcIlwiIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdGh1bWJ0YWNrXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkVkaXQgZ3JpZFwiLCB2YWx1ZTogXCJncmlkXCIsIHNxdWFyZWQ6IFwiXCIgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1ib3JkZXItYWxsXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkxpZ2h0IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImxpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbGlnaHRidWxiXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIk1lYXN1cmVcIiwgdmFsdWU6IFwibWVhc3VyZVwiLCBzcXVhcmVkOiBcIlwiIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtcnVsZXJcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIk1vdXNlIHRyYWlsXCIsIHZhbHVlOiBcIm1vdXNlX3RyYWlsXCIsIHNxdWFyZWQ6IFwiXCIgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfYyhcIm1vdXNlLXRyYWlsLWljb25cIildLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgPyBfYyhcbiAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuLXhzXCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkV4cG9ydCBtYXBcIiwgc3F1YXJlZDogXCJcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIgfSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLndvcmxkLmV2ZW50cy5lbWl0KFwiZXhwb3J0X21hcFwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZG93bmxvYWRcIiB9KV1cbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNTdHlsZTogeyBmbGV4OiBcIjEgMSAwXCIgfSB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICB7XG4gICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcImItdG9nZ2xlXCIsXG4gICAgICAgICAgICAgIHJhd05hbWU6IFwidi1iLXRvZ2dsZS5zaWRlYmFyLXJpZ2h0XCIsXG4gICAgICAgICAgICAgIG1vZGlmaWVyczogeyBcInNpZGViYXItcmlnaHRcIjogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4teHNcIixcbiAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJUb2dnbGUgc2lkZWJhclwiLCB2YXJpYW50OiBcIndhcm5pbmdcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtYW5nbGUtZG91YmxlLXJpZ2h0XCIgfSldXG4gICAgICApXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF92bS5fbSgwKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJmb290ZXJcIiB9LCBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImZvb3Rlcl9jcmVkaXRzXCIgfSwgW1xuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxpbmtzXCIgfSwgW1xuICAgICAgICAgIF9jKFwiYVwiLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb290ZXJfZ2l0aHViXCIsXG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICBocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Tbm93eUNvZGVyL2RuZG1lXCIsXG4gICAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIF0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcInNtYWxsXCIsIHsgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwibGlnaHRncmF5XCIgfSB9LCBbXG4gICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgRGV2ZWxvcGVkIGJ5IFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb290ZXJfcHJvZmlsZVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyBocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Tbm93eUNvZGVyXCIsIHRhcmdldDogXCJfYmxhbmtcIiB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW192bS5fdihcIlJvc3NpIExvcmVuem9cIildXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgL1xcbiAgICAgIERyYXdpbmdzIGJ5IFwiKSxcbiAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBjb2xvcjogXCJ3aGl0ZVwiIH0gfSwgW1xuICAgICAgICAgICAgX3ZtLl92KFwiR2lvcmdpYSBOaXp6b2xpXCIpXG4gICAgICAgICAgXSlcbiAgICAgICAgXSlcbiAgICAgIF0pXG4gICAgXSlcbiAgfVxuXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgIFwicGhhc2UtY29udGFpbmVyIHRleHQtY2VudGVyIGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHJvd1wiLFxuICAgICAgc3RhdGljU3R5bGU6IHsgaGVpZ2h0OiBcIjEwMHZoXCIsIG1hcmdpbjogXCIwXCIgfVxuICAgIH0sXG4gICAgW1xuICAgICAgX3ZtLl9tKDApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1lbnRyeVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcIndhcm5pbmdcIiwgc2l6ZTogXCJsZ1wiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ub25DcmVhdGVNYXAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfdm0uX3YoXCJDcmVhdGUgTWFwXCIpXVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4tZW50cnlcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdmFyaWFudDogXCJpbmZvXCIsIHNpemU6IFwibGdcIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLm9uRWRpdE1hcCB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW192bS5fdihcIkVkaXQgTWFwXCIpXVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLW1vZGFsXCIsXG4gICAgICAgIHtcbiAgICAgICAgICByZWY6IFwibWFwLWxvYWQtbW9kYWxcIixcbiAgICAgICAgICBhdHRyczogeyBcImhpZGUtZm9vdGVyXCI6IFwiXCIsIHRpdGxlOiBcIkdpbW1lIHRoZSBtYXBcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImItZm9ybS1maWxlXCIsIHtcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHN0YXRlOiBCb29sZWFuKF92bS5maWxlKSxcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiQ2hvb3NlIGEgZmlsZSBvciBkcm9wIGl0IGhlcmUuLi5cIixcbiAgICAgICAgICAgICAgXCJkcm9wLXBsYWNlaG9sZGVyXCI6IFwiRHJvcCBmaWxlIGhlcmUuLi5cIixcbiAgICAgICAgICAgICAgYWNjZXB0OiBcIi5kbmRtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZpbGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICBfdm0uZmlsZSA9ICQkdlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZpbGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJmb290ZXItY29tcG9uZW50XCIpXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidGV4dC13aGl0ZVwiIH0sIFtcbiAgICAgIF9jKFxuICAgICAgICBcInBcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRpdGxlXCIsXG4gICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJmb250LXNpemVcIjogXCIzLjVlbVwiLCBtYXJnaW46IFwiMFwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgW192bS5fdihcIkRSQVcmRElDRVwiKV1cbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJwXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJmb250LXNpemVcIjogXCIyZW1cIiB9IH0sIFtfdm0uX3YoXCJEbmQgbWFkZSBleiFcIildKVxuICAgIF0pXG4gIH1cbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImItbW9kYWxcIixcbiAgICB7IHJlZjogXCJteS1tb2RhbFwiLCBhdHRyczogeyBcImhpZGUtZm9vdGVyXCI6IFwiXCIsIHRpdGxlOiBcIkdpbW1lIHRoZSBtYXBcIiB9IH0sXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWJsb2NrIHRleHQtY2VudGVyXCIgfSwgW1xuICAgICAgICBfYyhcImgzXCIsIFtfdm0uX3YoXCJJbnNlcnQgbWFwIHRvIGxvYWRcIildKVxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm10LTNcIixcbiAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcIm91dGxpbmUtZGFuZ2VyXCIsIGJsb2NrOiBcIlwiIH0sXG4gICAgICAgICAgb246IHsgY2xpY2s6IF92bS5oaWRlTW9kYWwgfVxuICAgICAgICB9LFxuICAgICAgICBbX3ZtLl92KFwiQ2FuY2VsXCIpXVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLXctMTZcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDIxNy40NiAyMDAuMVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcImdcIiwgW1xuICAgICAgICBfYyhcImNpcmNsZVwiLCB7XG4gICAgICAgICAgc3RhdGljU3R5bGU6IHsgZmlsbDogXCIjZmZmXCIgfSxcbiAgICAgICAgICBhdHRyczogeyBjeDogXCIzNy43OFwiLCBjeTogXCIzOC4yM1wiLCByOiBcIjM3Ljc4XCIgfVxuICAgICAgICB9KSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJwYXRoXCIsIHtcbiAgICAgICAgICBzdGF0aWNTdHlsZTogeyBmaWxsOiBcIiNmZmZcIiB9LFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBkOlxuICAgICAgICAgICAgICBcIk0yMzYuNDEsMjkxaDIuMjRsMiwwLDMuOTEuMDlxMy44OC4xMSw3LjcxLjI3YzUuMTIuMjIsMTAuMi41LDE1LjI5Ljg1LDEwLjE3LjY5LDIwLjMzLDEuNjIsMzAuNTUsMi44OFMzMTguNiwyOTcuOTIsMzI5LDMwMGEyNTgsMjU4LDAsMCwxLDMxLjcsOC4yNSwxNTUuNiwxNTUuNiwwLDAsMSwxNi41LDYuNTUsMTAxLDEwMSwwLDAsMSwxNy4yNCwxMC4xLDcyLjE0LDcyLjE0LDAsMCwxLDguNzYsNy41OWMxLjQ0LDEuNDgsMi44NSwzLjA3LDQuMjIsNC43OWE1Ni43Myw1Ni43MywwLDAsMSwzLjg4LDUuNTgsNTAuNzEsNTAuNzEsMCwwLDEsNS42OSwxMy4zLDQ5LjA5LDQ5LjA5LDAsMCwxLDEuNTcsMTQuMjRjMCwxLjE0LS4xMiwyLjI3LS4yNCwzLjM3bC0uMDguODItLjEuNjktLjIxLDEuMzVjLS4yNSwxLjc2LS42NywzLjY1LTEuMDcsNS40OWE1OS44Niw1OS44NiwwLDAsMS00LjExLDExLjU4LDQ5LjIxLDQ5LjIxLDAsMCwxLTcuMzcsMTEuMjEsNDguMDksNDguMDksMCwwLDEtMTAsOC42NSw1My41OCw1My41OCwwLDAsMS0xMC41OSw1LjI4LDY3LjM4LDY3LjM4LDAsMCwxLTkuOTQsMi44LDEwNS40MywxMDUuNDMsMCwwLDEtMTcuNTMsMS44N2MtMTAuODcuMy0yMC42NC0uMzctMzAtLjc4YTI0My4zMSwyNDMuMzEsMCwwLDAtMjYuODEtLjE1Yy04LjQ1LjU4LTE2LjM2LDItMjMuMTQsNWE0NCw0NCwwLDAsMC00Ljg3LDIuNTNjLS43OC40Ny0xLjUzLDEtMi4yOCwxLjQ5bC0xLjEuODFjLS4zNy4yNi0uNzguNjEtMS4xNy45MWE0MC4xOCw0MC4xOCwwLDAsMC03LjczLDcuNzgsMTcuMzQsMTcuMzQsMCwwLDAtMi4xMSwzLjc5LDkuNjcsOS42NywwLDAsMC0uNzQsMy41N2MtLjA4LDIuNDEsMS4xLDUuNDQsMy40LDguNDVhNDMuMzQsNDMuMzQsMCwwLDAsOSw4LjQ4LDk0LDk0LDAsMCwwLDExLjU0LDcuMTEsMTgwLjEsMTgwLjEsMCwwLDAsMjYsMTAuOTIsMjcyLjIzLDI3Mi4yMywwLDAsMCwyNy42Miw3LjcxQTI3Mi43NCwyNzIuNzQsMCwwLDEsMzA2LDQ4OC41M2ExODYuNjIsMTg2LjYyLDAsMCwxLTI4Ljc3LTYuMjdBMTA2LjI1LDEwNi4yNSwwLDAsMSwyNjMsNDc2Ljc3YTU4Ljg3LDU4Ljg3LDAsMCwxLTEzLjc1LTguODYsMzYuODYsMzYuODYsMCwwLDEtNi4wOS02LjkzLDI4LjczLDI4LjczLDAsMCwxLTQuMTMtOS40LDI4LjM2LDI4LjM2LDAsMCwxLS40Ni0xMC42OSwzNi42NiwzNi42NiwwLDAsMSwyLjc5LTkuNjVBNjAuNTksNjAuNTksMCwwLDEsMjUxLDQxNi4zN2MuNDctLjUzLjg5LTEuMDYsMS40MS0xLjU5bDEuNTUtMS42MWMxLjA2LTEuMDUsMi4xNi0yLjA3LDMuMjktM2E2Ny43NSw2Ny43NSwwLDAsMSw3LjExLTUuMzVBODEuMDgsODEuMDgsMCwwLDEsMjc5Ljg0LDM5N2ExMTguMDksMTE4LjA5LDAsMCwxLDE1Ljc4LTQuNzRBMjY4LjQ1LDI2OC40NSwwLDAsMSwzMjYsMzg3LjUyYzkuNy0xLjA5LDE5LjEtMiwyNy4yOC0zLjU3QTYyLjA2LDYyLjA2LDAsMCwwLDM2NCwzODFjMi45NC0xLjE2LDQuOTItMi41NSw1LjU3LTMuNTFhMS44NiwxLjg2LDAsMCwwLC40Mi0xLjEyYzAtLjI5LDAtLjU4LDAtMS4wOGwwLTIuMTNjMC0uNTMsMC0xLS4wNy0xLjYxbDAtLjQ0di0uMmwwLS4wN2EuODUuODUsMCwwLDAtLjEzLS4yMmMtLjItLjIyLS40LS4xLS41My4wOXMtLjI1LjM5LS40Ni4zOWMtLjQsMC0xLjYxLS44LTMuNzYtMS43NWE1Ny4zMSw1Ny4zMSwwLDAsMC04LjMxLTIuODksMTAzLjM1LDEwMy4zNSwwLDAsMC0xMC43OS0yLjI5LDIwMy43NSwyMDMuNzUsMCwwLDAtMjQuNy0yLjI4Yy04LjYtLjMyLTE3LjQzLS4yNy0yNi4zMy4wNnMtMTcuODguOTEtMjYuODQsMS43MnEtNi43NC42Mi0xMy40MiwxLjM5bC02LjY0LjgyLTMuMjUuNDUtMS41OC4yMy0uNzYuMTFjLS4yMiwwLS41Mi4wOC0uNTkuMTFaXCIsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0yMDEuMTMgLTI5MC45OClcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0pXG4gICAgXVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLXctMTZcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDIzNC44MDkgMjM0LjgwOVwiLFxuICAgICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFwicGF0aFwiLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBkOlxuICAgICAgICAgICAgXCJNNy41LDUzLjk4OGMtNC4xMzUsMC03LjUtMy4zNjQtNy41LTcuNVYyMC41NzFjMC00LjEzNiwzLjM2NS03LjUsNy41LTcuNWg5NC45MDRjNC4xMzUsMCw3LjUsMy4zNjQsNy41LDcuNXYyNS45MTdcXG4gICAgYzAsNC4xMzYtMy4zNjUsNy41LTcuNSw3LjVINy41eiBNMjI3LjMwOSw1My45ODhjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNVYyMC41NzFjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0XFxuICAgIGMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgyMjcuMzA5eiBNMTY0Ljg1NiwxMDkuOTA0YzQuMTM1LDAsNy41LTMuMzY1LDcuNS03LjVWNzYuNDg4XFxuICAgIGMwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNSwzLjM2NSw3LjUsNy41LDcuNUgxNjQuODU2eiBNMzkuOTUyLDEwOS45MDRcXG4gICAgYzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjVWNzYuNDg4YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVIOC4wNDhjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVcXG4gICAgSDM5Ljk1MnogTTIyNi43NjEsMTA5LjkwNGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41aC0zMS45MDRjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3XFxuICAgIGMwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6IE0xMDIuNDA0LDE2NS44MjFjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzUtMy4zNjUtNy41LTcuNS03LjVINy41XFxuICAgIGMtNC4xMzUsMC03LjUsMy4zNjUtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgxMDIuNDA0eiBNMjI3LjMwOSwxNjUuODIxYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN1xcbiAgICBjMC00LjEzNS0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0Yy00LjEzNSwwLTcuNSwzLjM2NS03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDIyNy4zMDl6IE0xNjQuODU2LDIyMS43MzhcXG4gICAgYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNVxcbiAgICBIMTY0Ljg1NnogTTM5Ljk1MiwyMjEuNzM4YzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41SDguMDQ4Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN1xcbiAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgzOS45NTJ6IE0yMjYuNzYxLDIyMS43MzhjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVoLTMxLjkwNFxcbiAgICBjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVIMjI2Ljc2MXpcIlxuICAgICAgICB9XG4gICAgICB9KVxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwic2xvYWRpbmctY29udGFpbmVyXCIgfSwgW1xuICAgICAgX2MoXCJoMVwiLCB7IHN0YXRpY0NsYXNzOiBcInNsb2FkaW5nLXRpdGxlXCIgfSwgW192bS5fdihcIkRSQVcmRElDRVwiKV0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiaDJcIiwgW192bS5fdihfdm0uX3MoX3ZtLm1lc3NhZ2UpKV0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiaDVcIiwgW192bS5fdihcIkxvYWRpbmdcIildKVxuICAgIF0pXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImlucHV0XCIsIHtcbiAgICBzdGF0aWNDbGFzczogXCJ1dGlsX2Vjb2xvclwiLFxuICAgIGF0dHJzOiB7XG4gICAgICB0eXBlOiBcImNvbG9yXCIsXG4gICAgICByZWFkb25seTogX3ZtLnJlYWRvbmx5LFxuICAgICAgcGxhY2Vob2xkZXI6IF92bS5wbGFjZWhvbGRlclxuICAgIH0sXG4gICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS52YWx1ZSB9LFxuICAgIG9uOiB7XG4gICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJpbnB1dFwiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgfSxcbiAgICAgIGNoYW5nZTogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJjaGFuZ2VcIilcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImVkaXRhYmxlLXRleHRcIiwge1xuICAgIGF0dHJzOiB7XG4gICAgICB2YWx1ZTogX3ZtLnZhbHVlLFxuICAgICAgcmVhZG9ubHk6IF92bS5yZWFkb25seSxcbiAgICAgIHBsYWNlaG9sZGVyOiBfdm0ucGxhY2Vob2xkZXIsXG4gICAgICBmaWx0ZXI6IF92bS5maWx0ZXJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBjaGFuZ2U6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBfdm0uJGVtaXQoXCJjaGFuZ2VcIiwgcGFyc2VGbG9hdCgkZXZlbnQpKVxuICAgICAgfSxcbiAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcImlucHV0XCIsICRldmVudClcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInV0aWxfZWRpdGFibGUtdGV4dF9kaXZcIiB9LCBbXG4gICAgX2MoXCJpbnB1dFwiLCB7XG4gICAgICBzdGF0aWNDbGFzczogXCJmb3JtLWNvbnRyb2wtcGxhaW50ZXh0IGhwcmlvciB1dGlsX2VkaXRhYmxlLXRleHRfaW5wdXRcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICByZWFkb25seTogX3ZtLnJlYWRvbmx5LFxuICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLnBsYWNlaG9sZGVyXG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS52YWx1ZSB9LFxuICAgICAgb246IHtcbiAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdm0ub25FdmVudChcImlucHV0XCIsICRldmVudClcbiAgICAgICAgfSxcbiAgICAgICAgY2hhbmdlOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3ZtLm9uRXZlbnQoXCJjaGFuZ2VcIiwgJGV2ZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ1dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyXCIgfSlcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjZhMDMyZGE2XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIxYzVkODJiM1wiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTm90ZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTm90ZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjM0YTQzNGYyXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiN2EyNDIzYWNcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIxNGYyMzc2Y1wiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2lkZUJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjBmN2ExMWU4XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIzNDllYWQ1Y1wiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIzNDIxODU5ZlwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjEzODc3MjQ0XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiZDYxODFiZjhcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcImVkNWZkZDAwXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjUxMWYzOTBlXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIHRoZSBzdGFydHVwIGZ1bmN0aW9uXG4vLyBJdCdzIGVtcHR5IGFzIHNvbWUgcnVudGltZSBtb2R1bGUgaGFuZGxlcyB0aGUgZGVmYXVsdCBiZWhhdmlvclxuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0geCA9PiB7fTtcbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0XCJtYWluXCI6IDBcbn07XG5cbnZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXG5cdFtcIi4vc3JjL2FwcC9pbmRleC50c1wiLFwidmVuZG9ycy1ub2RlX21vZHVsZXNfZm9ydGF3ZXNvbWVfZm9udGF3ZXNvbWUtZnJlZV9qc19hbGxfanMtbm9kZV9tb2R1bGVzX21zZ3BhY2tfbXNncGFja19kaXN0LTFhNGNjOVwiXVxuXTtcbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbnZhciBjaGVja0RlZmVycmVkTW9kdWxlcyA9IHggPT4ge307XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lLCBleGVjdXRlTW9kdWxlc10gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuXHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcblx0fVxuXG5cdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3Rcblx0aWYoZXhlY3V0ZU1vZHVsZXMpIGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMpO1xuXG5cdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtkcmF3bmRpY2VcIl0gPSBzZWxmW1wid2VicGFja0NodW5rZHJhd25kaWNlXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTtcblxuZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsKCkge1xuXHR2YXIgcmVzdWx0O1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuXHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG5cdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcblx0XHR9XG5cdH1cblx0aWYoZGVmZXJyZWRNb2R1bGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18ueCgpO1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18ueCA9IHggPT4ge307XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbnZhciBzdGFydHVwID0gX193ZWJwYWNrX3JlcXVpcmVfXy54O1xuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0gKCkgPT4ge1xuXHQvLyByZXNldCBzdGFydHVwIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBjYWxsZWQgYWdhaW4gd2hlbiBtb3JlIHN0YXJ0dXAgY29kZSBpcyBhZGRlZFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnggPSBzdGFydHVwIHx8ICh4ID0+IHt9KTtcblx0cmV0dXJuIChjaGVja0RlZmVycmVkTW9kdWxlcyA9IGNoZWNrRGVmZXJyZWRNb2R1bGVzSW1wbCkoKTtcbn07IiwiLy8gcnVuIHN0YXJ0dXBcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9