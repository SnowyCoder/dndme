/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.component-header[data-v-03d324d6] {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n.component-header button[data-v-03d324d6]:last-child {\n  margin-right: 10px;\n}\n.component-body[data-v-03d324d6] {\n  margin-left: 12px;\n  margin-right: 12px;\n}\n.g11[data-v-03d324d6] {\n  grid-row: 1;\n  grid-column: 1;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/compWrapper.vue"],"names":[],"mappings":";AAmEA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,iBAAA;EACA,kBAAA;AACA;AAEA;EACA,WAAA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"component-header\">\n        <div @click=\"visible = !visible\" style=\"width: 100%\"> {{ component.typeName }}</div>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" style=\"display: grid;\"\n                  :title=\"component.clientVisible ? 'Hide component' : 'Show component'\"\n                  v-show=\"component.clientVisible !== undefined\"\n                  @click=\"$emit('ecs-property-change', component.type, 'clientVisible', !component.clientVisible)\">\n          <div class=\"g11\" v-show=\"component.clientVisible\"><i class=\"fas fa-eye\"/></div>\n          <div class=\"g11\" v-show=\"!component.clientVisible\"><i class=\"fas fa-eye-slash\"/></div>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"primary\" title=\"Fullscreen\"\n                  v-show=\"component._isFullscreen !== undefined\" @click=\"component._isFullscreen = true\">\n          <i class=\"fas fa-expand\"/>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"danger\" title=\"Delete\" v-show=\"component._canDelete\"\n                  @click=\"$emit('ecs-property-change', '$', 'removeComponent', component.type, component.multiId)\">\n          <i class=\"fas fa-trash\"/>\n        </b-button>\n      </div>\n    </div>\n    <b-collapse v-model=\"visible\" class=\"component-body\" visible>\n      <component v-bind:is=\"componentType\" v-bind:component=\"component\" v-bind:isAdmin=\"isAdmin\"\n                 v-bind:allComps=\"allComps\"\n                 v-on:ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\">\n\n      </component>\n    </b-collapse>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport ecsName from \"./ecsName.vue\";\nimport ecsNote from \"./ecsNote.vue\";\nimport ecsPosition from \"./ecsPosition.vue\";\nimport ecsWall from \"./ecsWall.vue\";\nimport ecsBackgroundImage from \"./ecsBackgroundImage.vue\";\nimport ecsPin from \"./ecsPin.vue\";\nimport ecsTransform from \"./ecsTransform.vue\";\nimport ecsLight from \"./ecsLight.vue\";\nimport ecsPlayer from \"./ecsPlayer.vue\";\nimport ecsDoor from \"./ecsDoor.vue\";\nimport ecsProp from \"./ecsProp.vue\";\nimport ecsPropTeleport from \"./ecsPropTeleport.vue\";\nimport {Component} from \"../../ecs/component\"\nimport {Vue, VComponent, VProp} from \"../vue\";\n\n@VComponent({\n  components: {\n    ecsName, ecsNote, ecsPosition, ecsWall, ecsBackgroundImage, ecsPin, ecsTransform, ecsLight, ecsPlayer, ecsDoor,\n    ecsProp, ecsPropTeleport\n  }\n})\nexport default class EcsComponentWrapper extends Vue {\n  @VProp({required: true}) component!: Component;\n  @VProp({default: false}) isAdmin!: boolean;\n  @VProp() allComps?: Array<Component>;\n  visible = true;\n\n  get componentType(): string {\n    return 'ecs-' + this.component.type.replace('_', '-');\n  }\n}\n</script>\n\n<style scoped>\n.component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n\n.component-header button:last-child {\n  margin-right: 10px;\n}\n\n.component-body {\n  margin-left: 12px;\n  margin-right: 12px;\n}\n\n.g11 {\n  grid-row: 1;\n  grid-column: 1;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.component-btn-header[data-v-c407dbfa] {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n.g11[data-v-c407dbfa] {\n  grid-column: 1;\n  grid-row: 1;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/entityInspect.vue"],"names":[],"mappings":";AAyEA;EACA,cAAA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA;AAEA;EACA,cAAA;EACA,WAAA;AACA","sourcesContent":["<template>\n  <div v-show=\"components.length > 0\">\n    <div class=\"component-btn-header\">\n      <b-dropdown toggle-class=\"rounded-0\" variant=\"success\" v-if=\"isAdmin\">\n        <template v-slot:button-content>\n          <i class=\"fas fa-plus\"></i>\n        </template>\n        <b-dropdown-item v-for=\"x in selectedAddable\" :key=\"x.type\" @click=\"emitSpecial('addComponent', x.type)\">\n          {{ x.name }}\n        </b-dropdown-item>\n      </b-dropdown>\n      <b-button squared :title=\"entity.hidden ? 'Show entity' : 'Hide entity'\" style=\"display: grid\" v-if=\"isAdmin\"\n                @click=\"emitSpecial('hidden', !entity.hidden)\">\n        <div class=\"g11\" :style=\"{visibility: entity.hidden ? 'visible' : 'hidden'}\"><i class=\"fas fa-eye-slash\"/></div>\n        <div class=\"g11\" :style=\"{visibility: entity.hidden ? 'hidden' : 'visible'}\"><i class=\"fas fa-eye\"/></div>\n      </b-button>\n      <b-button v-if=\"isAdmin\" variant=\"danger\" title=\"Delete entity\" squared\n                @click=\"emitSpecial('delete')\">\n        <i class=\"fas fa-trash\"></i>\n      </b-button>\n    </div>\n\n    <ecs-component-wrapper v-for=\"comp of renderedComponents\" v-bind:key=\"comp.type + (comp.multiId || '')\"\n                           v-bind:component=\"comp\" v-bind:isAdmin=\"isAdmin\" v-bind:allComps=\"allComponents\"\n                           @ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport EcsComponentWrapper from \"./compWrapper.vue\";\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Component, TransformComponent} from \"../../ecs/component\";\n\n@VComponent({\n  components: {\n    EcsComponentWrapper,\n  }\n})\nexport default class EntityInspect extends Vue {\n  @VProp({required: true})\n  entity!: {\n    hidden: boolean,\n    ids: Array<number>\n  };\n\n  @VProp({required: true})\n  components!: Array<Component>;\n\n  @VProp({required: true})\n  isAdmin!: boolean;\n\n  @VProp({required: true})\n  selectedAddable!: Array<{name: string}>;\n\n  get renderedComponents(): Array<Component> {\n    return this.components.filter((c: any) => c._save && c._sync);\n  }\n\n  get allComponents(): {[key: string]: Component} {\n    let m = {} as any;\n    for (let c of this.components) {\n      m[c.type] = c;\n    }\n    return m;\n  }\n\n  emitSpecial(name: string, par: unknown) {\n    this.$emit('ecs-property-change', '$', name, par);\n  }\n}\n</script>\n\n<style scoped>\n.component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n\n.g11 {\n  grid-column: 1;\n  grid-row: 1;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.game[data-v-53b46051] {\n  user-select: none;\n}\n.toolbar-btn[data-v-53b46051] {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n.sidebar-footer[data-v-53b46051] {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n.undo-redo-btn.disabled[data-v-53b46051], .undo-redo-btn[data-v-53b46051]:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/editMap.vue"],"names":[],"mappings":";AA4OA;EACA,iBAAA;AACA;AAEA;EACA,WAAA;EACA,yBAAA;EACA,qBAAA;AACA;AAEA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA;AAEA;EACA,yBAAA;EACA,qBAAA;EACA,gBAAA;AACA","sourcesContent":["<template>\n  <div class=\"game\">\n\n    <b-button-toolbar type=\"dark\" variant=\"info\" class=\"bg-dark\"\n                      style=\"width: 100%; height: var(--topbar-height); z-index: 1000;\" justify>\n      <b-button-group v-if=\"isAdmin\" style=\"margin-right: 2rem\">\n        <b-button title=\"Undo\" squared class=\"toolbar-btn undo-redo-btn\" :disabled=\"!this.canUndo\" v-on:click=\"undo()\">\n          <i class=\"fas fa-undo\"></i>\n        </b-button>\n        <b-button title=\"Redo\" squared class=\"toolbar-btn undo-redo-btn\" :disabled=\"!this.canRedo\" v-on:click=\"redo()\">\n          <i class=\"fas fa-redo\"></i>\n        </b-button>\n      </b-button-group>\n\n      <b-radio-group buttons v-model=\"tool\">\n        <b-radio ref=\"radioinspect\" title=\"Inspect\" value=\"inspect\" squared\n                 :class=\"{'toolbar-btn': this.backgroundLocked, 'btn-warning': !this.backgroundLocked}\"\n                 v-on:click=\"inspectClick()\">\n          <i class=\"fas fa-hand-pointer\"></i>\n        </b-radio>\n        <b-radio v-if=\"isAdmin\" title=\"Add wall\" value=\"create_wall\" squared class=\"toolbar-btn\">\n          <svg class=\"svg-inline--fa fa-w-16\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 234.809 234.809\"\n               xml:space=\"preserve\">\n                    <path fill=\"currentColor\" d=\"M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n                      c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n                      c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n                      c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n                      c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n                      H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                      c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n                      c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n                      c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n                      c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n                      H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                      c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n                      c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z\"/>\n          </svg>\n        </b-radio>\n        <b-radio v-if=\"isAdmin\" title=\"Add prop\" value=\"create_prop\" squared class=\"toolbar-btn\">\n          <i class=\"fas fa-couch\"></i>\n        </b-radio>\n        <b-radio v-if=\"isAdmin\" title=\"Add pin\" value=\"create_pin\" squared class=\"toolbar-btn\">\n          <i class=\"fas fa-thumbtack\"></i>\n        </b-radio>\n        <b-radio v-if=\"isAdmin\" title=\"Edit grid\" value=\"grid\" squared class=\"toolbar-btn\">\n          <i class=\"fas fa-border-all\"/>\n        </b-radio>\n        <b-radio v-if=\"isAdmin\" title=\"Light settings\" value=\"light\" squared class=\"toolbar-btn\">\n          <i class=\"fas fa-lightbulb\"/>\n        </b-radio>\n      </b-radio-group>\n      <b-button title=\"Export map\" squared variant=\"success\" class=\"btn-xs\" v-on:click=\"phase.exportMap()\"\n                v-if=\"isAdmin\">\n        <i class=\"fas fa-download\"/>\n      </b-button>\n\n      <div style=\"flex: 1 1 0;\"/> <!-- Spacing -->\n      <b-button title=\"Toggle sidebar\" variant=\"warning\" class=\"btn-xs\" v-b-toggle.sidebar-right>\n        <i class=\"fas fa-angle-double-right\"/>\n      </b-button>\n    </b-button-toolbar>\n\n\n    <div id=\"canvas-container\" style=\"width: 100%; height: calc(100vh - var(--topbar-height));\">\n\n    </div>\n\n    <!----------------------------------------------------------------------------------------      SIDEBAR      -->\n\n    <b-sidebar id=\"sidebar-right\" title=\"Sidebar\"\n               bg-variant=\"dark\" text-variant=\"light\" right visible no-header shadow\n               sidebar-class=\"under-navbar\">\n      <!----------------------------------      GRID CONTROL      ---------------------------------->\n      <grid-edit class=\"px-3 py-2\" v-show=\"tool === 'grid'\" v-bind:world=\"world\"/>\n      <!----------------------------------      ENTITY INSPECTOR      ---------------------------------->\n      <div v-show=\"tool === 'inspect'\">\n        <entity-inspect\n            v-bind:components=\"this.selectedComponents\"\n            v-bind:entity=\"this.selectedEntityOpts\"\n            v-bind:isAdmin=\"isAdmin\"\n            v-bind:selectedAddable=\"selectedAddable\"\n            @ecs-property-change=\"onEcsPropertyChange\"/>\n      </div>\n      <!----------------------------------      LIGHT SETTINGS      ---------------------------------->\n      <div class=\"px-3 py-2\" v-show=\"tool === 'light'\">\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Light:</div>\n          <b-input type=\"color\" v-model=\"light.ambientLight\" :readonly=\"!isAdmin\"\n                   @change=\"onAmbientLightChange\"></b-input>\n        </div>\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Needs light:</div>\n          <b-form-checkbox v-model=\"light.needsLight\" @input=\"onAmbientLightChange\"\n                           :readonly=\"!isAdmin\"></b-form-checkbox>\n        </div>\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Vision type:</div>\n          <b-button :pressed.sync=\"light.roleplayVision\" :readonly=\"!isAdmin\">\n            {{ light.roleplayVision ? \"Roleplayer\" : \"Master\" }}\n          </b-button>\n        </div>\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Background:</div>\n          <b-input type=\"color\" v-model=\"light.background\" :readonly=\"!isAdmin\"\n                   @change=\"onAmbientLightChange\"></b-input>\n        </div>\n        <div>\n          <b-button @click=\"onLightSettingsReset\">Reset</b-button>\n        </div>\n      </div>\n\n      <template v-slot:footer>\n        <div class=\"sidebar-footer\">\n          {{ connectionCount }}\n          <div v-bind:class=\"{ rotate: connectionBuffering }\" style=\"margin-left: 0.2rem\">\n            <i class=\"fas fa-sync-alt\"></i>\n          </div>\n        </div>\n      </template>\n    </b-sidebar>\n\n    <a id=\"hidden-download-link\" style=\"display: none;\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nimport EntityInspect from \"../ecs/entityInspect.vue\";\nimport {Component} from \"../../ecs/component\";\nimport {Resource} from \"../../ecs/resource\";\nimport {AddComponent} from \"../../ecs/systems/back/selectionSystem\";\nimport {DEFAULT_LIGHT_SETTINGS, LightSettings, LocalLightSettings} from \"../../ecs/systems/lightSystem\";\nimport {SelectionSystem} from \"../../ecs/systems/back/selectionSystem\";\nimport PIXI from \"../../PIXI\";\nimport hex2string = PIXI.utils.hex2string;\nimport string2hex = PIXI.utils.string2hex;\nimport {Tool} from \"../../ecs/tools/toolType\";\nimport {ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport GridEdit from \"./gridEdit.vue\";\nimport {BACKGROUND_LAYER_TYPE, BackgroundLayerResource} from \"../../ecs/systems/back/layerSystem\";\n\nexport default Vue.extend({\n  components: {GridEdit, EntityInspect},\n  props: ['phase', 'world', 'isAdmin'],\n  data() {\n    return {\n      tool: 'inspect',\n      connectionCount: 0,\n      connectionBuffering: false,\n      light: {\n        ambientLight: '#000000',\n        needsLight: true,\n        roleplayVision: false,\n        background: '#000000'\n      },\n      selectedComponents: new Array<Component>(),\n      selectedEntityOpts: {},\n      selectedAddable: new Array<AddComponent>(),\n      backgroundLocked: true,\n      canUndo: false,\n      canRedo: false,\n    };\n  },\n  methods: {\n    onEcsPropertyChange(type: string, property: string, value: any, multiId: number) {\n      let selectionSys = this.phase.world.systems.get('selection') as SelectionSystem;\n      selectionSys.setProperty(type, property, value, multiId);\n    },\n\n    onAmbientLightChange() {\n      this.phase.world.addResource({\n        type: 'light_settings',\n        ambientLight: string2hex(this.light.ambientLight),\n        needsLight: this.light.needsLight,\n        background: string2hex(this.light.background),\n      } as LightSettings, 'update');\n    },\n    onLightSettingsReset() {\n      this.phase.world.addResource(Object.assign({\n        type: 'light_settings',\n      }, DEFAULT_LIGHT_SETTINGS) as LightSettings, 'update');\n      this.reloadLight();\n    },\n    reloadLight() {\n      let light = this.phase.world.getResource('light_settings') as LightSettings;\n      this.light.ambientLight = hex2string(light.ambientLight);\n      this.light.needsLight = light.needsLight;\n      this.light.background = hex2string(light.background);\n      let llight = this.phase.world.getResource('local_light_settings') as LocalLightSettings;\n      this.light.roleplayVision = llight.visionType === 'rp';\n    },\n    onResourceEdited(res: Resource) {\n      if (res.type === 'light_settings' || res.type === 'local_light_settings') this.reloadLight();\n      else if (res.type === 'tool') this.tool = (res as ToolResource).tool!;\n      if (res.type === BACKGROUND_LAYER_TYPE) {\n        this.backgroundLocked = (res as BackgroundLayerResource).locked;\n      }\n    },\n    undo() {\n      this.phase.world.events.emit('command_undo');\n    },\n    redo() {\n      this.phase.world.events.emit('command_redo');\n    }\n  },\n  watch: {\n    'light.roleplayVision': function () {\n      let visionType = this.light.roleplayVision ? 'rp' : 'dm';\n\n      this.phase.world.editResource('local_light_settings', {visionType});\n    },\n    tool: function (tool: Tool) {\n      this.phase.world.editResource('tool', {tool});\n    }\n  },\n  mounted() {\n    //this.world = this.phase.world;\n    this.reloadLight();\n\n    this.phase.world.events.on('resource_edited', this.onResourceEdited);\n    let x = (this.$refs.radioinspect as Vue);\n    x.$el.addEventListener('click', (e) => {\n      if (!(e.target instanceof HTMLInputElement)) return;\n      if (this.tool === 'inspect') {\n        this.world.events.emit('layer_lock_toggle');\n      }\n    });\n  },\n  /*unmounted() {// TODO: vue3\n    this.phase.world.events.off('resource_edited', this.onResourceEdited);\n  },*/\n});\n</script>\n\n<style scoped>\n.game {\n  user-select: none;\n}\n\n.toolbar-btn {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n\n.undo-redo-btn.disabled, .undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../public/images/GitHub-Mark-Light-32px.png */ "./src/public/images/GitHub-Mark-Light-32px.png");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__.default);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.credits[data-v-539f2bff] {\n  text-align: right;\n  padding: 20px;\n}\n.github[data-v-539f2bff] {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n}\n.github[data-v-539f2bff]:hover {\n  opacity: 0.5;\n}\n.profile[data-v-539f2bff] {\n  color: white;\n}\n.profile[data-v-539f2bff]:hover {\n  opacity: 0.5;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/footer.vue"],"names":[],"mappings":";AAqBA;EACA,iBAAA;EACA,aAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,yDAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA","sourcesContent":["<template>\n  <div class=\"footer\">\n    <div class=\"credits\">\n      <div class=\"links\">\n        <a href=\"https://github.com/SnowyCoder/dndme\" target=\"_blank\" class=\"github\"></a>\n      </div>\n      <small style=\"color: lightgray\">\n        Developed by <a href=\"https://github.com/SnowyCoder\" target=\"_blank\" class=\"profile\">Rossi Lorenzo</a> /\n        Drawings by <span style=\"color: white\">Giorgia Nizzoli</span>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style scoped>\n.credits {\n  text-align: right;\n  padding: 20px;\n}\n\n.github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(\"~Public/images/GitHub-Mark-Light-32px.png\");\n}\n\n.github:hover {\n  opacity: 0.5;\n}\n\n.profile {\n  color: white;\n}\n\n.profile:hover {\n  opacity: 0.5;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.s-home-container {\n  color: white;\n}\n.s-home-text {\n  color: white;\n}\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/home/home.vue"],"names":[],"mappings":";AA0EA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,mBAAA;AACA","sourcesContent":["<template>\n  <div class=\"phase-container text-center flex-column align-items-center justify-content-center row\" style=\"height: 100vh; margin: 0;\">\n    <div class=\"text-white\">\n      <p class=\"title\" style=\"font-size: 3.5em; margin: 0;\">DRAW&DICE</p>\n      <p class=\"\" style=\"font-size: 2em;\">Dnd made ez!</p>\n    </div>\n\n    <div>\n      <b-button variant=\"warning\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onCreateMap\">Create Map</b-button>\n    </div>\n    <div>\n      <b-button variant=\"info\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onEditMap\">Edit Map</b-button>\n    </div>\n\n    <b-modal ref=\"map-load-modal\" hide-footer title=\"Gimme the map\">\n      <b-form-file\n          v-model=\"file\"\n          :state=\"Boolean(file)\"\n          placeholder=\"Choose a file or drop it here...\"\n          drop-placeholder=\"Drop file here...\"\n          accept=\".dndm\"\n      ></b-form-file>\n    </b-modal>\n\n    <footer-component></footer-component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport FooterComponent from \"../footer.vue\";\nimport MapInput from \"./mapInput.vue\";\n\n\nimport {VComponent, Vue, PhaseVue, VWatch, VRef} from \"../vue\";\nimport EventEmitter = PIXI.utils.EventEmitter;\nimport {BModal} from \"bootstrap-vue\";\n\n@VComponent({\n  components: { MapInput, FooterComponent }\n})\nexport default class HomeComponent extends Vue implements PhaseVue {\n  @VRef('map-load-modal') readonly mapLoadModal!: BModal;\n\n  file: any = null;\n  pendingOp: string = \"\";\n  eventEmitter!: EventEmitter;\n\n  onCreateMap() {\n    this.eventEmitter.emit(\"create_map\");\n  }\n\n  onEditMap() {\n    this.pendingOp = 'edit';\n    this.mapLoadModal.show();\n    this.eventEmitter.emit(\"edit_map\");\n  }\n\n  mapLoadCancel() {\n    this.mapLoadModal.hide();\n  }\n\n  @VWatch('file')\n  onFileChanged(val: any) {\n    if (val == null) return;\n\n    console.log(\"File dropped, loading: \" + this.pendingOp);\n    this.eventEmitter.emit(this.pendingOp, this.file);\n    this.file = null;\n    this.mapLoadCancel();\n  }\n}\n</script>\n\n<style>\n.s-home-container {\n  color: white;\n}\n\n.s-home-text {\n  color: white;\n}\n\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sloading-container {\n  color: white;\n  height: 100vh;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.sloading-title {\n  font-size: 5em;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/loading/loading.vue"],"names":[],"mappings":";AAwCA;EACA,YAAA;EACA,aAAA;;EAEA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,sBAAA;AACA;AACA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div class=\"sloading-container\">\n      <h1 class=\"sloading-title\">DRAW&DICE</h1>\n      <h2>{{message}}</h2>\n      <h5>Loading</h5>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport {VComponent} from \"../vue\";\n\nconst LOADING_PHRASES = [\n  \"Persuading dragons to cooperate...\",\n  \"A Dwarf, an Elf and a Dragonbord enter a tavern... \\\"We're looking for a quest\\\"\",\n  \"An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways\",\n  \"Recharging spell slots...\",\n  \"Roll a Charisma saving throw...\",\n  \"Long rest in progress...\",\n  \"Fitting out the goblin army...\",\n  \"The last boss you killed met a 20th level chieric... The rest is up to you! ;)\",\n  \"This map only costs 25gp!\",\n  \"Sorry, you'd better create a new character sheet\",\n];\n\nfunction randomMex() {\n  const i = Math.floor(Math.random() * LOADING_PHRASES.length);\n  return LOADING_PHRASES[i];\n}\n\n@VComponent\nexport default class Loading extends Vue {\n  message = randomMex();\n}\n\n</script>\n\n<style>\n  .sloading-container {\n    color: white;\n    height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n  .sloading-title {\n    font-size: 5em;\n  }\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/public/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap/dist/css/bootstrap.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap/dist/css/bootstrap.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap-vue/dist/bootstrap-vue.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap-vue/dist/bootstrap-vue.css");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Merienda+One&display=swap);"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__.default);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__.default);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n", "",{"version":3,"sources":["webpack://./src/public/style.css"],"names":[],"mappings":"AAIA;IACI,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,YAAY;;IAEZ,6MAA6M;IAC7M,oCAAoC;AACxC;;AAEA;AACA;;AAEA;IACI,eAAe;IACf,SAAS;AACb;;;AAGA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,WAAW;IACX,qCAAqC;AACzC;;AAEA;IACI,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,oBAAoB;AACxB;;AAEA;IACI,WAAW;AACf;AACA;IACI,YAAY;AAChB;AACA;IACI,qBAAqB;IACrB,yBAAyB;AAC7B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,sCAAsC;AAC1C;;AAEA,iBAAiB;;AAEjB;IACI;QACI,uBAAuB;IAC3B;IACA;QACI,yBAAyB;IAC7B;AACJ","sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Merienda+One&display=swap');\n@import '~bootstrap/dist/css/bootstrap.css';\n@import '~bootstrap-vue/dist/bootstrap-vue.css';\n\n:root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/public/images/GitHub-Mark-Light-32px.png":
/*!******************************************************!*\
  !*** ./src/public/images/GitHub-Mark-Light-32px.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "266ca63177bca6f330a74e83fdc63178.png");

/***/ }),

/***/ "./src/public/images/props.png":
/*!*************************************!*\
  !*** ./src/public/images/props.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "461f357929f9f8d63da20b81e743a099.png");

/***/ }),

/***/ "./node_modules/peerjs/dist sync recursive":
/*!****************************************!*\
  !*** ./node_modules/peerjs/dist/ sync ***!
  \****************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/peerjs/dist sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue */ "./src/app/ui/ecs/ecsName.vue");
/* harmony import */ var _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue */ "./src/app/ui/ecs/ecsNote.vue");
/* harmony import */ var _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsPosition.vue */ "./src/app/ui/ecs/ecsPosition.vue");
/* harmony import */ var _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ecsWall.vue */ "./src/app/ui/ecs/ecsWall.vue");
/* harmony import */ var _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ecsBackgroundImage.vue */ "./src/app/ui/ecs/ecsBackgroundImage.vue");
/* harmony import */ var _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ecsPin.vue */ "./src/app/ui/ecs/ecsPin.vue");
/* harmony import */ var _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ecsTransform.vue */ "./src/app/ui/ecs/ecsTransform.vue");
/* harmony import */ var _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ecsLight.vue */ "./src/app/ui/ecs/ecsLight.vue");
/* harmony import */ var _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ecsPlayer.vue */ "./src/app/ui/ecs/ecsPlayer.vue");
/* harmony import */ var _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ecsDoor.vue */ "./src/app/ui/ecs/ecsDoor.vue");
/* harmony import */ var _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ecsProp.vue */ "./src/app/ui/ecs/ecsProp.vue");
/* harmony import */ var _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ecsPropTeleport.vue */ "./src/app/ui/ecs/ecsPropTeleport.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













let EcsComponentWrapper = class EcsComponentWrapper extends _vue__WEBPACK_IMPORTED_MODULE_12__.Vue {
    constructor() {
        super(...arguments);
        this.visible = true;
    }
    get componentType() {
        return 'ecs-' + this.component.type.replace('_', '-');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ required: true })
], EcsComponentWrapper.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ default: false })
], EcsComponentWrapper.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)()
], EcsComponentWrapper.prototype, "allComps", void 0);
EcsComponentWrapper = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VComponent)({
        components: {
            ecsName: _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__.default, ecsNote: _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__.default, ecsPosition: _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__.default, ecsWall: _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__.default, ecsBackgroundImage: _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__.default, ecsPin: _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__.default, ecsTransform: _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__.default, ecsLight: _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__.default, ecsPlayer: _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__.default, ecsDoor: _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__.default,
            ecsProp: _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__.default, ecsPropTeleport: _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__.default
        }
    })
], EcsComponentWrapper);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsComponentWrapper);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsDoor = class EcsDoor extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.doorType = _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT;
        this.open = false;
        this.locked = false;
    }
    onChange() {
        if (this.component.doorType !== this.doorType) {
            this.$emit('ecs-property-change', 'door', 'doorType', this.doorType);
        }
        if (this.component.open !== this.open) {
            this.$emit('ecs-property-change', 'door', 'open', this.open);
        }
        if (this.component.locked !== this.locked) {
            this.$emit('ecs-property-change', 'door', 'locked', this.locked);
        }
    }
    get doorTypeName() {
        switch (this.doorType) {
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_LEFT:
                return "Normal";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT:
                return "Normal right";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.ROTATE:
                return "Rotating";
            default:
                return "Unknown??";
        }
    }
    onCDoorTypeChanged(val) {
        this.doorType = val;
    }
    onCOpenChanged(val) {
        this.open = val;
    }
    onCLockedChanged(val) {
        this.locked = val;
    }
    onDoorTypeChanged() {
        this.onChange();
    }
    onOpenChanged() {
        this.onChange();
    }
    onLockedChanged() {
        this.onChange();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.doorType')
], EcsDoor.prototype, "onCDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.open')
], EcsDoor.prototype, "onCOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.locked')
], EcsDoor.prototype, "onCLockedChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('doorType')
], EcsDoor.prototype, "onDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('open')
], EcsDoor.prototype, "onOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('locked')
], EcsDoor.prototype, "onLockedChanged", null);
EcsDoor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsDoor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsDoor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.string2hex;
let EcsLight = class EcsLight extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.range = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'light', 'color', c);
        }
        let r = parseInt(this.range);
        if (this.component.range !== r && this.range !== '') {
            this.$emit('ecs-property-change', 'light', 'range', r);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? '' : hex2string(val);
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsLight.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.range')
], EcsLight.prototype, "onCRangeChanged", null);
EcsLight = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsLight);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsLight);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsName = class EcsName extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.name = '';
    }
    onCNameChanged(val) {
        this.name = val !== null && val !== void 0 ? val : '';
    }
    onChange() {
        this.$emit('ecs-property-change', 'name', 'name', this.name, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.name')
], EcsName.prototype, "onCNameChanged", null);
EcsName = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsName);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsName);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsNote = class EcsNote extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.note = '';
    }
    onCNoteChanged(val) {
        this.note = val;
    }
    onChange() {
        this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.note')
], EcsNote.prototype, "onCNoteChanged", null);
EcsNote = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsNote);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsNote);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.string2hex;
let EcsPin = class EcsPin extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.label = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'pin', 'color', c);
        }
        let label = this.label;
        if (!label)
            label = undefined;
        if (label !== this.component.label) {
            this.$emit('ecs-property-change', 'pin', 'label', label);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? "" : hex2string(val);
    }
    onCLabelChanged(val) {
        this.label = val !== null && val !== void 0 ? val : "";
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsPin.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.label')
], EcsPin.prototype, "onCLabelChanged", null);
EcsPin = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsPin);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPin);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPlayer = class EcsPlayer extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.nightVision = false;
        this.range = '';
    }
    onChange() {
        if (this.component.nightVision !== this.nightVision) {
            this.$emit('ecs-property-change', 'player', 'nightVision', this.nightVision);
        }
        let c = parseInt(this.range);
        if (this.component.range !== c && this.range !== '') {
            this.$emit('ecs-property-change', 'player', 'range', c);
        }
    }
    onCNightVisionChanged(val) {
        this.nightVision = val;
    }
    onCRangeChanged(val) {
        this.range = val + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.nightVision')
], EcsPlayer.prototype, "onCNightVisionChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.range')
], EcsPlayer.prototype, "onCRangeChanged", null);
EcsPlayer = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPlayer);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPlayer);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPosition = class EcsPosition extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.x = '';
        this.y = '';
    }
    onChange() {
        let x = parseFloat(this.x);
        if (this.component.x !== x && this.x !== '') {
            this.$emit('ecs-property-change', 'position', 'x', x);
        }
        let y = parseFloat(this.y);
        if (this.component.y !== y && this.y !== '') {
            this.$emit('ecs-property-change', 'position', 'y', y);
        }
    }
    onCxChanged(val) {
        this.x = (val !== null && val !== void 0 ? val : '') + '';
    }
    onCyChanged(val) {
        this.y = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.x')
], EcsPosition.prototype, "onCxChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.y')
], EcsPosition.prototype, "onCyChanged", null);
EcsPosition = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPosition);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPosition);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPropTeleport = class EcsPropTeleport extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    focusTarget() {
        console.warn("TODO: focus target");
    }
    link() {
        this.$emit('ecs-property-change', '@', 'prop_teleport_link', this.component.entity);
    }
    use() {
        this.$emit('ecs-property-change', '@', 'prop_use', this.component.entity);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "isAdmin", void 0);
EcsPropTeleport = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPropTeleport);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPropTeleport);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsTransform = class EcsTransform extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.rotation = '';
        this.scale = '';
    }
    onChange() {
        if (this.rotation !== '') {
            let r = Math.min(Math.max(parseFloat(this.rotation), 0), 360);
            if (this.component.rotation !== r) {
                this.$emit('ecs-property-change', 'transform', 'rotation', r * pixi_js__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD);
            }
        }
        if (this.scale !== '') {
            let s = parseFloat(this.scale);
            if (this.component.scale !== s) {
                this.$emit('ecs-property-change', 'transform', 'scale', s);
            }
        }
    }
    onCRotationChanged(val) {
        this.rotation = (val !== null && val !== void 0 ? val : 0) * pixi_js__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG + '';
    }
    onCScaleChanged(val) {
        this.scale = (val !== null && val !== void 0 ? val : 0) + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.rotation')
], EcsTransform.prototype, "onCRotationChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.scale')
], EcsTransform.prototype, "onCScaleChanged", null);
EcsTransform = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsTransform);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsTransform);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsWall = class EcsWall extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.w = '';
        this.h = '';
    }
    onChange() {
        let w = parseFloat(this.w);
        let h = parseFloat(this.h);
        if ((this.component.vec[0] !== w && this.w !== '') || (this.component.vec[1] !== h && this.h !== '')) {
            this.$emit('ecs-property-change', 'wall', 'vec', [w, h]);
        }
    }
    onCxChanged(vec) {
        if (vec === undefined) {
            this.w = '';
            this.h = '';
        }
        else {
            this.w = vec[0] + '';
            this.h = vec[1] + '';
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.vec')
], EcsWall.prototype, "onCxChanged", null);
EcsWall = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsWall);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsWall);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue */ "./src/app/ui/ecs/compWrapper.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EntityInspect = class EntityInspect extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    get renderedComponents() {
        return this.components.filter((c) => c._save && c._sync);
    }
    get allComponents() {
        let m = {};
        for (let c of this.components) {
            m[c.type] = c;
        }
        return m;
    }
    emitSpecial(name, par) {
        this.$emit('ecs-property-change', '$', name, par);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "entity", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "components", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "selectedAddable", void 0);
EntityInspect = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EcsComponentWrapper: _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__.default,
        }
    })
], EntityInspect);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EntityInspect);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ecs/entityInspect.vue */ "./src/app/ui/ecs/entityInspect.vue");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _gridEdit_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gridEdit.vue */ "./src/app/ui/edit/gridEdit.vue");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");




var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.string2hex;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_5__.default.extend({
    components: { GridEdit: _gridEdit_vue__WEBPACK_IMPORTED_MODULE_3__.default, EntityInspect: _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_0__.default },
    props: ['phase', 'world', 'isAdmin'],
    data() {
        return {
            tool: 'inspect',
            connectionCount: 0,
            connectionBuffering: false,
            light: {
                ambientLight: '#000000',
                needsLight: true,
                roleplayVision: false,
                background: '#000000'
            },
            selectedComponents: new Array(),
            selectedEntityOpts: {},
            selectedAddable: new Array(),
            backgroundLocked: true,
            canUndo: false,
            canRedo: false,
        };
    },
    methods: {
        onEcsPropertyChange(type, property, value, multiId) {
            let selectionSys = this.phase.world.systems.get('selection');
            selectionSys.setProperty(type, property, value, multiId);
        },
        onAmbientLightChange() {
            this.phase.world.addResource({
                type: 'light_settings',
                ambientLight: string2hex(this.light.ambientLight),
                needsLight: this.light.needsLight,
                background: string2hex(this.light.background),
            }, 'update');
        },
        onLightSettingsReset() {
            this.phase.world.addResource(Object.assign({
                type: 'light_settings',
            }, _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LIGHT_SETTINGS), 'update');
            this.reloadLight();
        },
        reloadLight() {
            let light = this.phase.world.getResource('light_settings');
            this.light.ambientLight = hex2string(light.ambientLight);
            this.light.needsLight = light.needsLight;
            this.light.background = hex2string(light.background);
            let llight = this.phase.world.getResource('local_light_settings');
            this.light.roleplayVision = llight.visionType === 'rp';
        },
        onResourceEdited(res) {
            if (res.type === 'light_settings' || res.type === 'local_light_settings')
                this.reloadLight();
            else if (res.type === 'tool')
                this.tool = res.tool;
            if (res.type === _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_4__.BACKGROUND_LAYER_TYPE) {
                this.backgroundLocked = res.locked;
            }
        },
        undo() {
            this.phase.world.events.emit('command_undo');
        },
        redo() {
            this.phase.world.events.emit('command_redo');
        }
    },
    watch: {
        'light.roleplayVision': function () {
            let visionType = this.light.roleplayVision ? 'rp' : 'dm';
            this.phase.world.editResource('local_light_settings', { visionType });
        },
        tool: function (tool) {
            this.phase.world.editResource('tool', { tool });
        }
    },
    mounted() {
        //this.world = this.phase.world;
        this.reloadLight();
        this.phase.world.events.on('resource_edited', this.onResourceEdited);
        let x = this.$refs.radioinspect;
        x.$el.addEventListener('click', (e) => {
            if (!(e.target instanceof HTMLInputElement))
                return;
            if (this.tool === 'inspect') {
                this.world.events.emit('layer_lock_toggle');
            }
        });
    },
    /*unmounted() {// TODO: vue3
      this.phase.world.events.off('resource_edited', this.onResourceEdited);
    },*/
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.grid = {
            type: "none",
            size: 1,
            offX: 0,
            offY: 0,
            color: '#000000',
            opacity: 0.5,
            thick: 2,
        };
        this.disableWatchSave = false;
    }
    reloadGrid() {
        this.disableWatchSave = true;
        let grid = this.world.getResource('grid');
        switch (grid.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.HEXAGON:
                this.grid.type = 'hex';
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.SQUARE:
                this.grid.type = 'square';
                break;
        }
        if (!grid.visible) {
            this.grid.type = 'none';
        }
        let opts = grid;
        this.grid.size = opts.size;
        this.grid.offX = opts.offX;
        this.grid.offY = opts.offY;
        this.grid.color = hex2string(opts.color);
        this.grid.opacity = opts.opacity;
        this.grid.thick = opts.thick;
        this.disableWatchSave = false;
    }
    mounted() {
        this.reloadGrid();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'grid')
            this.reloadGrid();
    }
    onGridChange(newGrid) {
        if (this.disableWatchSave)
            return;
        newGrid.offX = Math.min(newGrid.offX, newGrid.size);
        newGrid.offY = Math.min(newGrid.offY, newGrid.size);
        let type;
        switch (newGrid.type) {
            case 'none':
                type = undefined;
                break;
            case 'hex':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.HEXAGON;
                break;
            case 'square':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.SQUARE;
                break;
        }
        let cmd = {
            kind: 'redit',
            add: [], remove: [],
            edit: {},
        };
        if (type !== undefined) {
            cmd.edit['grid'] = {
                visible: true,
                gridType: type,
                size: newGrid.size,
                offX: newGrid.offX,
                offY: newGrid.offY,
                color: string2hex(newGrid.color),
                opacity: parseFloat(newGrid.opacity),
                thick: newGrid.thick,
            };
        }
        else {
            cmd.edit['grid'] = {
                visible: false,
            };
        }
        this.world.events.emit('command_log', cmd);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('grid', { deep: true })
], GridEdit.prototype, "onGridChange", null);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../footer.vue */ "./src/app/ui/footer.vue");
/* harmony import */ var _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue */ "./src/app/ui/home/mapInput.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let HomeComponent = class HomeComponent extends _vue__WEBPACK_IMPORTED_MODULE_2__.Vue {
    constructor() {
        super(...arguments);
        this.file = null;
        this.pendingOp = "";
    }
    onCreateMap() {
        this.eventEmitter.emit("create_map");
    }
    onEditMap() {
        this.pendingOp = 'edit';
        this.mapLoadModal.show();
        this.eventEmitter.emit("edit_map");
    }
    mapLoadCancel() {
        this.mapLoadModal.hide();
    }
    onFileChanged(val) {
        if (val == null)
            return;
        console.log("File dropped, loading: " + this.pendingOp);
        this.eventEmitter.emit(this.pendingOp, this.file);
        this.file = null;
        this.mapLoadCancel();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VRef)('map-load-modal')
], HomeComponent.prototype, "mapLoadModal", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VWatch)('file')
], HomeComponent.prototype, "onFileChanged", null);
HomeComponent = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VComponent)({
        components: { MapInput: _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__.default, FooterComponent: _footer_vue__WEBPACK_IMPORTED_MODULE_0__.default }
    })
], HomeComponent);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HomeComponent);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


const LOADING_PHRASES = [
    "Persuading dragons to cooperate...",
    "A Dwarf, an Elf and a Dragonbord enter a tavern... \"We're looking for a quest\"",
    "An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways",
    "Recharging spell slots...",
    "Roll a Charisma saving throw...",
    "Long rest in progress...",
    "Fitting out the goblin army...",
    "The last boss you killed met a 20th level chieric... The rest is up to you! ;)",
    "This map only costs 25gp!",
    "Sorry, you'd better create a new character sheet",
];
function randomMex() {
    const i = Math.floor(Math.random() * LOADING_PHRASES.length);
    return LOADING_PHRASES[i];
}
let Loading = class Loading extends vue__WEBPACK_IMPORTED_MODULE_1__.default {
    constructor() {
        super(...arguments);
        this.message = randomMex();
    }
};
Loading = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], Loading);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ "./src/app/PIXI.ts":
/*!*************************!*\
  !*** ./src/app/PIXI.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi-layers */ "./node_modules/pixi-layers/dist/pixi-layers.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_layers__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pixi_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./src/app/assetsLoader.ts":
/*!*********************************!*\
  !*** ./src/app/assetsLoader.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAssets": () => (/* binding */ loadAssets)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Public/images/props.png */ "./src/public/images/props.png");
/* harmony import */ var Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Public/spritesheets/props.json */ "./src/public/spritesheets/props.json");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



var BaseTexture = pixi_js__WEBPACK_IMPORTED_MODULE_0__.BaseTexture;
var ImageResource = pixi_js__WEBPACK_IMPORTED_MODULE_0__.resources.ImageResource;
function loadSpritesheet(loader, name, imgUrl, data) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            console.log("[Spritesheet] Loading: " + name);
            const imgElm = new Image();
            imgElm.crossOrigin = 'anonymous';
            imgElm.onload = () => {
                const tex = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Texture(new BaseTexture(new ImageResource(imgElm)));
                const spritesheet = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Spritesheet(tex, data);
                loader.resources[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.LoaderResource(name, "");
                loader.resources[name].spritesheet = spritesheet;
                spritesheet.parse(() => {
                    console.log("[Spritesheet] Loaded: " + name);
                    resolve(spritesheet);
                });
            };
            imgElm.src = imgUrl; // When the listeners are set, we can finally start downloading the image.
        });
    });
}
function loadAssets() {
    return __awaiter(this, void 0, void 0, function* () {
        const loader = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Loader.shared;
        yield Promise.all([
            loadSpritesheet(loader, "props", Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__.default, Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__),
        ]);
    });
}


/***/ }),

/***/ "./src/app/ecs/component.ts":
/*!**********************************!*\
  !*** ./src/app/ecs/component.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "POSITION_TYPE": () => (/* binding */ POSITION_TYPE),
/* harmony export */   "TRANSFORM_TYPE": () => (/* binding */ TRANSFORM_TYPE),
/* harmony export */   "NAME_TYPE": () => (/* binding */ NAME_TYPE),
/* harmony export */   "NOTE_TYPE": () => (/* binding */ NOTE_TYPE),
/* harmony export */   "FOLLOW_MOUSE_TYPE": () => (/* binding */ FOLLOW_MOUSE_TYPE),
/* harmony export */   "HOST_HIDDEN_TYPE": () => (/* binding */ HOST_HIDDEN_TYPE),
/* harmony export */   "registerCommonStorage": () => (/* binding */ registerCommonStorage)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/app/ecs/storage.ts");

const POSITION_TYPE = "position";
const TRANSFORM_TYPE = "transform";
const NAME_TYPE = "name";
const NOTE_TYPE = "note";
const FOLLOW_MOUSE_TYPE = "follow_mouse";
const HOST_HIDDEN_TYPE = "host_hidden";
function registerCommonStorage(ecs) {
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(POSITION_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(TRANSFORM_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NAME_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NOTE_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(FOLLOW_MOUSE_TYPE, false, false));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(HOST_HIDDEN_TYPE, false, false));
}


/***/ }),

/***/ "./src/app/ecs/ecsUtil.ts":
/*!********************************!*\
  !*** ./src/app/ecs/ecsUtil.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterComponentKeepEntity": () => (/* binding */ filterComponentKeepEntity),
/* harmony export */   "filterComponent": () => (/* binding */ filterComponent)
/* harmony export */ });
function filterComponentKeepEntity(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function filterComponent(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'entity' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}


/***/ }),

/***/ "./src/app/ecs/interaction.ts":
/*!************************************!*\
  !*** ./src/app/ecs/interaction.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeomertyQueryType": () => (/* binding */ GeomertyQueryType),
/* harmony export */   "QueryHitEvent": () => (/* binding */ QueryHitEvent)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

var GeomertyQueryType;
(function (GeomertyQueryType) {
    GeomertyQueryType[GeomertyQueryType["POINT"] = 0] = "POINT";
    GeomertyQueryType[GeomertyQueryType["AABB"] = 1] = "AABB";
})(GeomertyQueryType || (GeomertyQueryType = {}));
class QueryHitEvent {
    constructor(type, multi, aabb, data) {
        this.hits = new Map();
        this.type = type;
        this.multi = multi;
        this.aabb = aabb;
        this.data = data || aabb;
    }
    shouldContinue() {
        return this.multi || this.hits.size === 0;
    }
    addHit(entity, priority) {
        if (!this.shouldContinue())
            return;
        if (this.hits.has(entity)) {
            let oldPrior = this.hits.get(entity);
            if (oldPrior >= priority)
                return;
        }
        this.hits.set(entity, priority);
    }
    getSorted() {
        return [...this.hits.entries()].sort(x => -x[1]).map(x => x[0]);
    }
    static queryPoint(point, multi) {
        return new QueryHitEvent(GeomertyQueryType.POINT, multi, new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(point.x, point.y, point.x, point.y), point);
    }
    static queryAabb(aabb, multi) {
        return new QueryHitEvent(GeomertyQueryType.AABB, multi, aabb);
    }
}


/***/ }),

/***/ "./src/app/ecs/resource.ts":
/*!*********************************!*\
  !*** ./src/app/ecs/resource.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RECTANGULAR_SELECTION_TYPE": () => (/* binding */ RECTANGULAR_SELECTION_TYPE)
/* harmony export */ });
const RECTANGULAR_SELECTION_TYPE = "rectangular_selection";


/***/ }),

/***/ "./src/app/ecs/storage.ts":
/*!********************************!*\
  !*** ./src/app/ecs/storage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "serializeObj": () => (/* binding */ serializeObj),
/* harmony export */   "MultiEcsStorage": () => (/* binding */ MultiEcsStorage),
/* harmony export */   "SingleEcsStorage": () => (/* binding */ SingleEcsStorage),
/* harmony export */   "FlagEcsStorage": () => (/* binding */ FlagEcsStorage)
/* harmony export */ });
function serializeObj(obj) {
    let res = {};
    for (let name in obj) {
        if (name[0] === '_' || name === 'entity' || name === 'type')
            continue;
        res[name] = obj[name];
    }
    return res;
}
class MultiEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getFirstComponent(entity, multiId) {
        if (multiId !== undefined) {
            return this.getComponent(entity, multiId);
        }
        let e = this.data.get(entity);
        if (e === undefined)
            return undefined;
        return e[0];
    }
    getComponent(entity, multiId) {
        let cmps = this.data.get(entity);
        if (cmps === undefined)
            return undefined;
        for (let cmp of cmps) {
            if (cmp.multiId === multiId)
                return cmp;
        }
        return undefined;
    }
    getComponents(entity) {
        if (entity !== undefined) {
            return this.data.get(entity) || [];
        }
        else {
            return this.allComponents();
        }
    }
    *allComponents() {
        for (let comps of this.data.values()) {
            for (let comp of comps) {
                yield comp;
            }
        }
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (component.multiId >= 0) { // Pre-assigned multi-id
            if (arr === undefined) {
                this.data.set(component.entity, [component]);
            }
            else {
                for (let c of arr) {
                    if (c.multiId === component.multiId)
                        throw 'Invalid pre-assigned multiId';
                }
                arr.push(component);
            }
            return;
        }
        if (arr === undefined) {
            component.multiId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
            this.data.set(component.entity, [component]);
        }
        else {
            let id;
            let found;
            do {
                id = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
                found = false;
                for (let x of arr) {
                    if (x.multiId === id) {
                        found = true;
                        break;
                    }
                }
            } while (found);
            component.multiId = id;
            arr.push(component);
        }
    }
    unregister(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            return;
        }
        if (arr.length === 1 && arr[0] === component) {
            this.data.delete(component.entity);
        }
        else {
            arr.splice(arr.indexOf(component), 1);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        let res = {};
        for (let [entity, comps] of this.data.entries()) {
            let entityRes = new Array();
            for (let component of comps) {
                entityRes.push(serializeObj(component));
            }
            res[entity] = entityRes;
        }
        return res;
    }
    serializeClient(shouldIgnore) {
        let res = {};
        for (let [entity, comps] of this.data.entries()) {
            if (shouldIgnore(entity))
                continue;
            let entityRes = new Array();
            for (let component of comps) {
                if (component.clientVisible === false)
                    continue;
                entityRes.push(serializeObj(component));
            }
            if (entityRes.length !== 0) {
                res[entity] = entityRes;
            }
        }
        return res;
    }
    deserialize(ecs, data) {
        for (let entity in data) {
            let e = parseInt(entity);
            for (let comp of data[entity]) {
                let obj = Object.assign({}, comp, {
                    type: this.type
                });
                ecs.addComponent(e, obj);
            }
        }
    }
}
class SingleEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.data.get(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.data.get(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            this.data.set(component.entity, component);
        }
        else {
            throw 'Component of same type already registered';
        }
    }
    unregister(component) {
        let c = this.data.get(component.entity);
        if (c === undefined) {
            return;
        }
        if (c === component) {
            this.data.delete(component.entity);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        let res = {};
        for (let comp of this.data.values()) {
            res[comp.entity] = serializeObj(comp);
        }
        return res;
    }
    serializeClient(shouldIgnore) {
        let res = {};
        for (let comp of this.data.values()) {
            if (shouldIgnore(comp.entity) || comp.clientVisible === false)
                continue;
            res[comp.entity] = serializeObj(comp);
        }
        return res;
    }
    deserialize(ecs, data) {
        for (let entity in data) {
            let obj = Object.assign({}, data[entity], {
                type: this.type
            });
            ecs.addComponent(parseInt(entity), obj);
        }
    }
}
class FlagEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.getComponent(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.getComponent(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        if (this.data.has(component.entity))
            throw 'Component of same type already registered';
        this.data.set(component.entity, component);
    }
    unregister(component) {
        this.data.delete(component.entity);
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        return [...this.data.keys()];
    }
    serializeClient(shouldIgnore) {
        return [...this.data.keys()].filter((e) => !shouldIgnore(e));
    }
    deserialize(ecs, data) {
        for (let entity of data) {
            ecs.addComponent(entity, {
                type: this.type,
                entity: -1
            });
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systemGraph.ts":
/*!************************************!*\
  !*** ./src/app/ecs/systemGraph.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SystemGraph": () => (/* binding */ SystemGraph)
/* harmony export */ });
class SystemGraph {
    constructor() {
        this.systemsByName = new Map();
        this.systems = new Array();
        this.unfulfilledDeps = new Set();
    }
    get(name) {
        return this.systemsByName.get(name);
    }
    register(system) {
        let depName = system.name;
        let unfulfilled = this.unfulfilledDeps.has(system.name);
        if (!unfulfilled && system.provides !== undefined) {
            for (let dep of system.provides) {
                depName = dep;
                unfulfilled = this.unfulfilledDeps.has(dep);
                if (unfulfilled)
                    break;
            }
        }
        if (unfulfilled) {
            throw `Some previous system optionally depended on ${depName}, please order your systems correctly`;
        }
        for (let dep of system.dependencies) {
            if (!this.systemsByName.has(dep))
                throw 'Unfulfilled dependency: ' + dep;
        }
        if (system.optionalDependencies !== undefined) {
            for (let dep of system.optionalDependencies) {
                if (this.systemsByName.has(dep))
                    continue;
                this.unfulfilledDeps.add(dep);
            }
        }
        let sys = this.systemsByName.get(system.name);
        if (sys != null) {
            if (sys.name === system.name)
                throw 'System name conflict';
            console.warn(`System ${system.name} has been already registered under ${sys.name}, overriding`);
        }
        this.systemsByName.set(system.name, system);
        this.systems.push(system);
        if (system.provides) {
            for (let prov of system.provides) {
                if (this.systemsByName.has(prov)) {
                    throw `Service ${prov} is already provided by ${this.systemsByName.get(prov).name}, cannot override with ${system.name}`;
                }
                this.systemsByName.set(prov, system);
            }
        }
    }
    [Symbol.iterator]() {
        return this.systems[Symbol.iterator]();
    }
    getAt(index) {
        return this.systems[index];
    }
    size() {
        return this.systems.length;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/interactionSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/interactionSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShapeType": () => (/* binding */ ShapeType),
/* harmony export */   "shapePoint": () => (/* binding */ shapePoint),
/* harmony export */   "shapeAabb": () => (/* binding */ shapeAabb),
/* harmony export */   "shapeCircle": () => (/* binding */ shapeCircle),
/* harmony export */   "shapeLine": () => (/* binding */ shapeLine),
/* harmony export */   "shapePolygon": () => (/* binding */ shapePolygon),
/* harmony export */   "shapeObb": () => (/* binding */ shapeObb),
/* harmony export */   "shapeIntersect": () => (/* binding */ shapeIntersect),
/* harmony export */   "shapeToAabb": () => (/* binding */ shapeToAabb),
/* harmony export */   "INTERACTION_TYPE": () => (/* binding */ INTERACTION_TYPE),
/* harmony export */   "InteractionSystem": () => (/* binding */ InteractionSystem)
/* harmony export */ });
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _game_pointDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/pointDB */ "./src/app/game/pointDB.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");










var ShapeType;
(function (ShapeType) {
    ShapeType[ShapeType["POINT"] = 0] = "POINT";
    ShapeType[ShapeType["AABB"] = 1] = "AABB";
    ShapeType[ShapeType["CIRCLE"] = 2] = "CIRCLE";
    ShapeType[ShapeType["LINE"] = 3] = "LINE";
    ShapeType[ShapeType["POLYGON"] = 4] = "POLYGON";
    ShapeType[ShapeType["OBB"] = 5] = "OBB";
})(ShapeType || (ShapeType = {}));
function shapePoint(pos) {
    return {
        type: ShapeType.POINT,
        pos,
    };
}
function shapeAabb(aabb) {
    return {
        type: ShapeType.AABB,
        data: aabb,
    };
}
function shapeCircle(center, radius) {
    return {
        type: ShapeType.CIRCLE,
        pos: center,
        radius: radius,
    };
}
function shapeLine(line) {
    return {
        type: ShapeType.LINE,
        data: line,
    };
}
function shapePolygon(polygon) {
    return {
        type: ShapeType.POLYGON,
        polygon,
    };
}
function shapeObb(obb) {
    return {
        type: ShapeType.OBB,
        data: obb,
    };
}
function shapeIntersect(shape1, shape2) {
    if (shape2.type < shape1.type)
        [shape2, shape1] = [shape1, shape2];
    let s1t = shape1.type;
    let s2t = shape2.type;
    // TODO: polygon vs polygon
    if (s1t === ShapeType.POINT) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POINT: return false;
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsPoint)(shape2.data, s1.pos);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapPointVsCircle)(s1.pos, shape2.pos, shape2.radius);
            case ShapeType.LINE: return false;
            case ShapeType.POLYGON: return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.polygonPointIntersect)(s1.pos, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsPoint)(shape2.data, s1.pos);
        }
    }
    else if (s1t === ShapeType.AABB) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsAabb)(shape2.data, s1.data);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsAabb)(shape2.pos, shape2.radius, s1.data);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsLine)(s1.data, shape2.data);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(_geometry_obb__WEBPACK_IMPORTED_MODULE_3__.Obb.fromAabb(s1.data), shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsAabb)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.CIRCLE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsCircle)(shape2.pos, shape2.radius, s1.pos, s1.radius);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsCircle)(shape2.data, s1.pos, s1.radius);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsPolygon)(s1.pos, s1.radius, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsCircle)(shape2.data, s1.pos, s1.radius);
        }
    }
    else if (s1t === ShapeType.LINE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.intersectSegmentVsSegment)(s1.data, shape2.data) == _geometry_collision__WEBPACK_IMPORTED_MODULE_0__.SegmentVsSegmentRes.INTERN;
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsPolygon)(s1.data, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsLine)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.POLYGON) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POLYGON: break;
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(shape2.data, s1.polygon);
        }
    }
    else if (s1t === ShapeType.OBB) {
        return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsRotatedRect)(shape1.data, shape2.data);
    }
    // Polygon vs Polygon
    throw 'Query not implemented: ' + s1t + ' vs ' + s2t;
}
function shapeToAabb(shape) {
    switch (shape.type) {
        case ShapeType.POINT: return _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.fromPoint(shape.pos);
        case ShapeType.AABB: return shape.data;
        case ShapeType.CIRCLE: {
            let s = shape;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.pos.x - s.radius, s.pos.y - s.radius, s.pos.x + s.radius, s.pos.y + s.radius);
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.fromX, s.fromY, s.toX, s.toY);
        }
        case ShapeType.POLYGON: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.polygon);
            return aabb;
        }
        case ShapeType.OBB: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.data.rotVertex);
            return aabb;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeToSnaps(shape) {
    switch (shape.type) {
        case ShapeType.POINT:
        case ShapeType.CIRCLE: {
            let p = shape;
            return [p.pos.x, p.pos.y];
        }
        case ShapeType.AABB: {
            let aabb = shape.data;
            return [
                aabb.minX, aabb.minY,
                aabb.minX, aabb.maxY,
                aabb.maxX, aabb.minY,
                aabb.maxX, aabb.maxY,
            ];
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return [
                s.fromX, s.fromY,
                s.toX, s.toY,
            ];
        }
        case ShapeType.POLYGON: {
            let pol = shape.polygon;
            let data = new Array();
            for (let i = 0; i < pol.length; i += 2) {
                data.push(pol[i], pol[i + 1]);
            }
            return data;
        }
        case ShapeType.OBB: {
            let pol = shape.data.rotVertex;
            let data = new Array(8);
            for (let i = 0; i < 8; i++) {
                data[i] = pol[i];
            }
            return data;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeTranslate(shape, x, y) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            s.pos.x += x;
            s.pos.y += y;
            break;
        }
        case ShapeType.AABB: {
            let s = shape.data;
            s.translate(x, y, s);
            break;
        }
        case ShapeType.LINE: {
            let s = shape.data;
            s.fromX += x;
            s.fromY += y;
            s.toX += x;
            s.toY += y;
            break;
        }
        case ShapeType.POLYGON: {
            let s = shape;
            let slen = s.polygon.length;
            for (let i = 0; i < slen; i += 2) {
                s.polygon[i] += x;
                s.polygon[i + 1] += y;
            }
            break;
        }
        case ShapeType.OBB: {
            let s = shape.data;
            s.unrotated.translate(x, y, s.unrotated);
            let pol = s.rotVertex;
            for (let i = 0; i < 8; i += 2) {
                pol[i] += x;
                pol[i + 1] += y;
            }
            break;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeClone(shape) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            return {
                type: ShapeType.POINT,
                pos: new PIXI.Point(s.pos.x, s.pos.y),
            };
        }
        case ShapeType.AABB: return shapeAabb(shape.data.copy());
        case ShapeType.LINE: return shapeLine(shape.data.copy());
        case ShapeType.POLYGON: return shapePolygon([...shape.polygon]);
        case ShapeType.OBB: return shapeObb(shape.data.copy());
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
const INTERACTION_TYPE = 'interaction';
class InteractionSystem {
    constructor(world) {
        this.name = INTERACTION_TYPE;
        this.dependencies = [_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_5__.SingleEcsStorage('interaction', false, false);
        this.isTranslating = false;
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        this.world = world;
        this.selectionSys = this.world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE);
        this.snapDb = new _game_pointDB__WEBPACK_IMPORTED_MODULE_7__.PointDB(this.world.systems.get(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE));
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
        world.events.on('query_hit', this.onQueryHit, this);
    }
    registerSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.insert([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.remove([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterComponent(comp) {
        if (comp._snaps) {
            this.unregisterSnapPoints(comp._snaps);
            comp._snaps = undefined;
        }
        if (comp._treeId !== undefined) {
            this.aabbTree.destroyProxy(comp._treeId);
            comp._treeId = undefined;
        }
    }
    updateComponent(comp) {
        this.unregisterComponent(comp);
        if (comp.shape === undefined)
            return;
        comp._treeId = this.aabbTree.createProxy(shapeToAabb(comp.shape), comp);
        if (comp.snapEnabled) {
            comp._snaps = shapeToSnaps(comp.shape);
            this.registerSnapPoints(comp._snaps);
        }
    }
    onComponentAdd(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.updateComponent(comp);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === INTERACTION_TYPE) {
            let c = comp;
            if ('shape' in changed) {
                this.updateComponent(c);
            }
        }
        else if (comp.type === 'position') {
            let pos = comp;
            let inter = this.storage.getComponent(pos.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let oldX = changed.x !== undefined ? changed.x : pos.x;
            let oldY = changed.y !== undefined ? changed.y : pos.y;
            let diffX = pos.x - oldX;
            let diffY = pos.y - oldY;
            if (diffX !== 0 || diffY !== 0) {
                // TODO: trigger component change(?)
                shapeTranslate(inter.shape, diffX, diffY);
                if (!(this.isTranslating && this.selectionSys.selectedEntities.has(pos.entity))) {
                    this.updateComponent(inter);
                }
            }
            return;
        }
        else if (comp.type === 'transform') {
            let trans = comp;
            let inter = this.storage.getComponent(trans.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let shape = inter.shape;
            if (shape.type === ShapeType.POINT)
                return;
            if (shape.type === ShapeType.CIRCLE) {
                let s = shape;
                if ('scale' in changed) {
                    s.radius = s.radius * trans.scale / changed.scale;
                    this.updateComponent(inter);
                }
            }
            else if (shape.type === ShapeType.OBB) {
                let s = shape;
                if ('scale' in changed) {
                    let diffScale = trans.scale / changed.scale;
                    s.data.unrotated.scale(diffScale, diffScale, s.data.unrotated);
                }
                s.data.rotation = trans.rotation;
                s.data.recompute();
                this.updateComponent(inter);
            }
            else {
                console.warn("Unable to auto-rotate other shapes than OBB, watch your components!");
                return;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.unregisterComponent(comp);
    }
    onToolMoveBegin() {
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.unregisterComponent(c);
        }
        this.isTranslating = true;
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.updateComponent(c);
        }
    }
    singleHitQuery(shape, event) {
        let bestPrior = Number.NEGATIVE_INFINITY;
        let best = -1;
        let iter = this.queryVisible(shape, (c) => (c.selectPriority || 0) > bestPrior);
        for (let item of iter) {
            best = item.entity;
            bestPrior = item.selectPriority || 0;
        }
        if (best !== -1) {
            event.addHit(best, bestPrior);
        }
    }
    multiHitQuery(shape, event) {
        let iter = this.queryVisible(shape, (c) => c.selectPriority !== undefined);
        for (let item of iter) {
            event.addHit(item.entity, item.selectPriority);
            if (!event.shouldContinue())
                return;
        }
    }
    onQueryHit(event) {
        if (!event.shouldContinue())
            return;
        let shape;
        switch (event.type) {
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.POINT:
                shape = shapeCircle(event.data, 20);
                break;
            //case GeomertyQueryType.POINT: shape = shapePoint(event.data as PIXI.IPointData); break; // ENABLE THIS FOR POINT-PRECISION CLICKING
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.AABB:
                shape = shapeAabb(event.data);
                break;
            default: throw 'Unknown query type';
        }
        if (event.multi) {
            this.multiHitQuery(shape, event);
        }
        else {
            this.singleHitQuery(shape, event);
        }
    }
    queryVisible(shape, preCheck) {
        let playerVis = undefined;
        if (!this.world.isMaster) {
            playerVis = this.world.storages.get('player_visible');
        }
        if (playerVis === undefined)
            return this.query(shape, preCheck);
        return this.query(shape, c => {
            let visC = playerVis.getComponent(c.entity);
            if (visC !== undefined && !visC.visible)
                return false;
            return preCheck === undefined ? true : preCheck(c);
        });
    }
    *query(shape, preCheck) {
        let aabb = shapeToAabb(shape);
        for (let c of this.aabbTree.query(aabb)) {
            let tag = c.tag;
            if (preCheck && !preCheck(tag))
                continue;
            if (!shapeIntersect(tag.shape, shape))
                continue;
            let qc = tag.queryCheck;
            if (qc && !qc(shape))
                continue;
            yield tag;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/keyboardSystem.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/back/keyboardSystem.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KEYBOARD_KEY_UP": () => (/* binding */ KEYBOARD_KEY_UP),
/* harmony export */   "KEYBOARD_KEY_DOWN": () => (/* binding */ KEYBOARD_KEY_DOWN),
/* harmony export */   "KEYBOARD_TYPE": () => (/* binding */ KEYBOARD_TYPE),
/* harmony export */   "WEB_KEYBOARD_TYPE": () => (/* binding */ WEB_KEYBOARD_TYPE),
/* harmony export */   "WebKeyboardSystem": () => (/* binding */ WebKeyboardSystem)
/* harmony export */ });
const KEYBOARD_KEY_UP = 'keyboard_key_up';
const KEYBOARD_KEY_DOWN = 'keyboard_key_down';
const KEYBOARD_TYPE = 'keyboard';
const WEB_KEYBOARD_TYPE = 'web_keyboard';
class WebKeyboardSystem {
    constructor(world) {
        this.dependencies = [];
        this.name = WEB_KEYBOARD_TYPE;
        this.provides = [KEYBOARD_TYPE];
        this.world = world;
        this.keyboard = {
            type: KEYBOARD_TYPE,
            _save: false,
            _sync: false,
            pressedKeys: new Set(),
            shift: false,
            ctrl: false,
        };
        this.world.addResource(this.keyboard);
    }
    onKeyDown(event) {
        if (event.target instanceof HTMLInputElement) {
            return;
        }
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            this.keyboard.pressedKeys.add(key);
            this.world.events.emit(KEYBOARD_KEY_UP, key);
        }
    }
    onKeyUp(event) {
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            this.keyboard.pressedKeys.delete(key);
            this.world.events.emit(KEYBOARD_KEY_DOWN, key);
        }
    }
    enable() {
        this.keyDownListener = this.onKeyDown.bind(this);
        document.addEventListener('keydown', this.keyDownListener);
        this.keyUpListener = this.onKeyUp.bind(this);
        document.addEventListener('keyup', this.keyUpListener);
    }
    destroy() {
        document.removeEventListener('keydown', this.keyDownListener);
        document.removeEventListener('keyup', this.keyUpListener);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/layerSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/back/layerSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LAYER_TYPE": () => (/* binding */ LAYER_TYPE),
/* harmony export */   "PARENT_LAYER_TYPE": () => (/* binding */ PARENT_LAYER_TYPE),
/* harmony export */   "BACKGROUND_LAYER_TYPE": () => (/* binding */ BACKGROUND_LAYER_TYPE),
/* harmony export */   "SELECTED_LAYER_TYPE": () => (/* binding */ SELECTED_LAYER_TYPE),
/* harmony export */   "LayerSystem": () => (/* binding */ LayerSystem),
/* harmony export */   "findForeground": () => (/* binding */ findForeground)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");


const LAYER_TYPE = "layer";
const PARENT_LAYER_TYPE = "layer_p";
const BACKGROUND_LAYER_TYPE = "layer_bkg";
const SELECTED_LAYER_TYPE = "layer_sel";
class LayerSystem {
    // TODO: optimize clear
    constructor(world) {
        this.name = LAYER_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [];
        this.layerStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(LAYER_TYPE);
        this.parentStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PARENT_LAYER_TYPE);
        this.layerByName = new Map();
        this.world = world;
        this.backgroundLayer = {
            type: BACKGROUND_LAYER_TYPE,
            entity: -1,
            name: "Background",
            priority: -100,
            locked: true,
            _save: true,
            _sync: true,
        };
        this.selectedLayer = {
            type: SELECTED_LAYER_TYPE,
            layer: -1,
        };
        world.addStorage(this.layerStorage);
        world.addStorage(this.parentStorage);
        world.addResource(this.backgroundLayer);
        world.addResource(this.selectedLayer);
        const events = world.events;
        events.on('component_add', this.onComponentAdd, this);
        events.on('component_edited', this.onComponentEdited, this);
        events.on('component_remove', this.onComponentRemove, this);
        events.on('resource_edited', this.onResourceEdited, this);
    }
    onLayerEdited(l, edits) {
        if ('name' in edits) {
            let oldName = edits.name;
            if (oldName !== undefined) {
                this.layerByName.delete(oldName);
            }
            if (l.name !== undefined) {
                if (this.layerByName.has(l.name)) {
                    console.warn("Layer name conflict");
                    l.name = undefined;
                    return;
                }
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentAdd(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            if (l.name !== undefined) {
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentEdited(c, edited) {
        if (c.type === LAYER_TYPE) {
            this.onLayerEdited(c, edited);
        }
    }
    onComponentRemove(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            let cmd = {
                kind: 'despawn',
                entities: [],
            };
            for (let child of this.parentStorage.allComponents()) {
                if (child.layer !== l.entity)
                    continue;
                cmd.entities.push(child.entity);
            }
            if (cmd.entities.length !== 0) {
                (0,_command_command__WEBPACK_IMPORTED_MODULE_1__.commandRegisterPreConsequence)(this.world, cmd);
            }
        }
    }
    onResourceEdited(r, edited) {
        if (r.type === BACKGROUND_LAYER_TYPE) {
            this.onLayerEdited(r, edited);
        }
    }
    getEntityLayer(entity) {
        let cmp = this.parentStorage.getComponent(entity);
        if (cmp === undefined) {
            return this.backgroundLayer;
        }
        let layer = this.layerStorage.getComponent(cmp.layer);
        if (layer === undefined) {
            console.warn("Invalid parent layer of " + cmp.entity + ": " + cmp.layer);
            return this.backgroundLayer;
        }
        return layer;
    }
    getLayerById(id) {
        if (id === -1)
            return this.backgroundLayer;
        let layer = this.layerStorage.getComponent(id);
        if (layer === undefined) {
            console.warn("Invalid layer id: " + layer);
            return this.backgroundLayer;
        }
        return layer;
    }
    enable() {
    }
    destroy() {
    }
}
function findForeground(world) {
    let sto = world.getStorage(LAYER_TYPE);
    if (sto === undefined)
        return -1;
    for (let x of sto.getComponents()) {
        return x.entity; // There's only 1 layer for now (foreground
    }
    // If it's not present we need to create it
    return world.spawnEntity({
        type: LAYER_TYPE,
        name: 'Foreground',
        priority: 100,
        locked: false,
    });
}


/***/ }),

/***/ "./src/app/ecs/systems/back/networkSystem.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/systems/back/networkSystem.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NETWORK_TYPE": () => (/* binding */ NETWORK_TYPE),
/* harmony export */   "HOST_NETWORK_TYPE": () => (/* binding */ HOST_NETWORK_TYPE),
/* harmony export */   "HostNetworkSystem": () => (/* binding */ HostNetworkSystem),
/* harmony export */   "CLIENT_NETWORK_TYPE": () => (/* binding */ CLIENT_NETWORK_TYPE),
/* harmony export */   "ClientNetworkSystem": () => (/* binding */ ClientNetworkSystem)
/* harmony export */ });
const NETWORK_TYPE = 'network';
const HOST_NETWORK_TYPE = 'host_network';
class HostNetworkSystem {
    constructor(world, ch) {
        this.name = HOST_NETWORK_TYPE;
        this.dependencies = [];
        this.provides = [NETWORK_TYPE];
        this.connectedClients = 0;
        this.isEnabled = false;
        this.world = world;
        this.channel = ch;
        this.channel.eventEmitter.on('_device_join', this.onDeviceJoin, this);
        this.channel.eventEmitter.on('_device_left', this.onDeviceLeft, this);
        this.channel.eventEmitter.on('cmd', this.onCommandPacket, this);
        this.world.events.on('command_share', this.onCommandShare, this);
    }
    // ---------------------------------- EVENT LISTENERS ----------------------------------
    onDeviceJoin(chId) {
        this.connectedClients++;
        this.isEnabled = true;
        this.channel.send({
            type: "ecs_bootstrap",
            payload: this.world.serializeClient(),
        }, chId);
    }
    onDeviceLeft(chId) {
        this.connectedClients--;
        this.isEnabled = this.connectedClients !== 0;
    }
    onCommandPacket(pkt, container) {
        const sender = container.sender;
        for (let cmd of pkt.data) {
            if (!this.checkCommand(sender, cmd))
                continue;
            this.world.events.emit("command_emit", cmd, false);
        }
    }
    checkCommand(sender, command) {
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    onCommandShare(command) {
        if (command.length === 0)
            return;
        this.channel.broadcast({
            type: 'cmd',
            data: command,
        });
    }
    isOnline() {
        return this.channel.connections.length !== 0;
    }
    enable() {
    }
    destroy() {
    }
}
const CLIENT_NETWORK_TYPE = 'client_network';
class ClientNetworkSystem {
    constructor(ecs, channel) {
        this.name = CLIENT_NETWORK_TYPE;
        this.dependencies = [];
        this.provides = [NETWORK_TYPE];
        this.world = ecs;
        this.channel = channel;
        channel.eventEmitter.on('ecs_bootstrap', this.onEcsBootstrap, this);
        channel.eventEmitter.on('cmd', this.onCmd, this);
    }
    onEcsBootstrap(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.world.deserialize(packet.payload);
    }
    onCmd(packet, container) {
        for (let cmd of packet.data) {
            if (!this.checkCommand(container.sender, cmd))
                continue;
            this.world.events.emit("command_emit", cmd);
        }
    }
    checkCommand(sender, command) {
        if (sender === 0)
            return true;
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    isOnline() {
        return this.channel.connections.length !== 0;
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiBoardSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiBoardSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointerEvents": () => (/* binding */ PointerEvents),
/* harmony export */   "BOARD_TRANSFORM_TYPE": () => (/* binding */ BOARD_TRANSFORM_TYPE),
/* harmony export */   "PIXI_BOARD_TYPE": () => (/* binding */ PIXI_BOARD_TYPE),
/* harmony export */   "PixiBoardSystem": () => (/* binding */ PixiBoardSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../index */ "./src/app/index.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _keyboardSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");





var PointerEvents;
(function (PointerEvents) {
    PointerEvents["POINTER_MOVE"] = "pointer_move";
    PointerEvents["POINTER_DOWN"] = "pointer_down";
    PointerEvents["POINTER_UP"] = "pointer_up";
    PointerEvents["POINTER_RIGHT_DOWN"] = "pointer_right_down";
    PointerEvents["POINTER_RIGHT_UP"] = "pointer_right_up";
    PointerEvents["POINTER_CLICK"] = "pointer_click";
})(PointerEvents || (PointerEvents = {}));
const BOARD_TRANSFORM_TYPE = 'board_transform';
const PIXI_BOARD_TYPE = 'pixi_board';
class PixiBoardSystem {
    constructor(world) {
        this.name = PIXI_BOARD_TYPE;
        this.dependencies = [];
        this.pointers = new Map();
        this.mouseLastX = 0;
        this.mouseLastY = 0;
        this.isDraggingBoard = false;
        this.world = world;
        this.world.events.on('req_board_center', this.centerBoard, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on('key_down', this.onKeyDown, this);
        this.world.addResource({
            type: BOARD_TRANSFORM_TYPE,
            _save: true,
            _sync: false,
            posX: 0,
            posY: 0,
            scaleX: 1,
            scaleY: 1,
        });
        // TODO: we should create render phases, one for the world (using the projection matrix to move the camera)
        //       and the other for the GUI (or other things that do not depend on camera position, as the GridSystem(?)).
        //       to create a custom game loop: https://github.com/pixijs/pixi.js/wiki/v5-Custom-Application-GameLoop
        this.board = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Container();
        this.board.interactive = false;
        this.board.interactiveChildren = false;
        this.board.position.set(0, 0);
        this.board.sortableChildren = true;
    }
    onKeyDown(key) {
        let keyboard = this.world.getResource(_keyboardSystem__WEBPACK_IMPORTED_MODULE_4__.KEYBOARD_TYPE);
        if (keyboard === undefined)
            return;
        let ctrl = keyboard.ctrl;
        let shift = keyboard.shift;
        if (!ctrl)
            return;
        let event_name = undefined;
        switch (key) {
            case 'z':
                if (shift)
                    event_name = 'command_redo';
                else
                    event_name = 'command_undo';
                break;
            case 'y':
                event_name = 'command_redo';
                break;
            case 'c':
                console.log("copy");
                break;
            case 'v':
                console.log("paste");
                break;
        }
        if (event_name !== undefined) {
            this.world.events.emit(event_name);
        }
    }
    canBecomeClick(pdata, p) {
        let now = Date.now();
        let timeDiff = now - (this.lastMouseDownTime || 0);
        let diffX = p.x - pdata.firstX;
        let diffY = p.y - pdata.firstY;
        let diffPos = Math.sqrt(diffX * diffX + diffY * diffY);
        return diffPos < 5 && timeDiff < 500;
    }
    zoom(dScale, centerX, centerY) {
        const minScale = 0.05;
        const maxScale = 3;
        if (this.board.scale.x < minScale && dScale < 1 || this.board.scale.x > maxScale && dScale > 1)
            return;
        // Before scaling adjust the position:
        // Takes the vector that goes from the board position (upper-left) to the cursor.
        // Apply the dScale factor to that vector and find the new board position.
        // Finally, the cursor position plus the vector obtained is the new board position.
        let padX = this.board.position.x - centerX;
        let padY = this.board.position.y - centerY;
        padX *= dScale;
        padY *= dScale;
        const position = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(padX + centerX, padY + centerY);
        const scale = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(this.board.scale.x * dScale, this.board.scale.y * dScale);
        // TODO
        /*if (this.board.isBoardLost(position, scale)) {
            console.log("You can't no more scale in this direction, you're loosing the board!");
            return;
        }*/
        this.world.editResource(BOARD_TRANSFORM_TYPE, {
            posX: position.x,
            posY: position.y,
            scaleX: scale.x,
            scaleY: scale.y,
        });
    }
    /**
     * Function called when the mouse scrolls.
     * The map is zoomed in and out based on the scroll direction.
     */
    onMouseWheel(event) {
        const scalingSpeed = 0.1;
        const dScale = 1 - Math.sign(event.deltaY) * scalingSpeed;
        this.zoom(dScale, event.clientX, event.clientY);
    }
    onPointerDown(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            let prde = event;
            prde.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_RIGHT_DOWN, prde);
            return;
        }
        let pos = event.data.global;
        this.pointers.set(event.data.pointerId, {
            firstX: pos.x,
            firstY: pos.y,
            lastX: pos.x,
            lastY: pos.y,
        });
        this.lastMouseDownTime = Date.now();
        let e = event;
        e.consumed = false;
        if (!(event.data.pointerType === 'mouse' && event.data.button === 1)) {
            // If middle button is pressed ignore, we force it to drag the board
            this.world.events.emit(PointerEvents.POINTER_DOWN, event);
        }
        if (!e.consumed && this.pointers.size === 1) {
            this.isDraggingBoard = true;
        }
    }
    onPointerUp(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            this.world.events.emit(PointerEvents.POINTER_RIGHT_UP, event);
        }
        let pdata = this.pointers.get(event.data.pointerId);
        if (pdata === undefined)
            return;
        this.pointers.delete(event.data.pointerId);
        if (this.lastMouseDownTime === undefined)
            return;
        if (this.pointers.size === 0) {
            this.isDraggingBoard = false;
            let isClick = this.canBecomeClick(pdata, event.data.global);
            let pue = event;
            pue.lastPosition = {
                x: pdata.lastX,
                y: pdata.lastY
            };
            pue.isClick = isClick;
            this.world.events.emit(PointerEvents.POINTER_UP, pue);
            if (isClick) {
                this.world.events.emit(PointerEvents.POINTER_CLICK, event);
            }
        }
    }
    onPointerUpOutside(event) {
        this.onPointerUp(event);
    }
    /** Function called when the cursor moves around the map. */
    onPointerMove(e) {
        let pos = e.data.global;
        // TODO: magnet snap system
        let localPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_3__.getMapPointFromMouseInteraction)(this.world, e);
        this.updatePointerFollowers(localPos);
        let pdata = this.pointers.get(e.data.pointerId);
        if (this.pointers.size <= 1 && !this.isDraggingBoard) {
            let pme = e;
            pme.lastPosition = {
                x: this.mouseLastX, y: this.mouseLastY,
            };
            pme.canBecomeClick = pdata === undefined ? false : this.canBecomeClick(pdata, pos);
            this.world.events.emit(PointerEvents.POINTER_MOVE, pme);
            this.mouseLastX = pos.x;
            this.mouseLastY = pos.y;
        }
        if (pdata === undefined)
            return;
        if (this.pointers.size === 1) { // Move
            if (this.isDraggingBoard) {
                const newPosX = this.board.position.x + (pos.x - pdata.lastX);
                const newPosY = this.board.position.y + (pos.y - pdata.lastY);
                /*if (this.board.isBoardLost(new PIXI.Point(newPosX, newPosY), this.scale)) {
                    //console.log("You can't go further than this, you'll loose the board!");
                    return;
                }*/
                this.world.editResource(BOARD_TRANSFORM_TYPE, {
                    posX: newPosX,
                    posY: newPosY,
                });
            }
        }
        let firstDist = 0;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            firstDist = Math.sqrt(dx * dx + dy * dy);
        }
        pdata.lastX = pos.x;
        pdata.lastY = pos.y;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            let secondDist = Math.sqrt(dx * dx + dy * dy);
            let center = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point((pa.lastX + pb.lastX) / 2, (pa.lastY + pb.lastY) / 2);
            this.zoom((secondDist / firstDist), center.x, center.y);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type !== BOARD_TRANSFORM_TYPE)
            return;
        let t = res;
        this.board.position.set(t.posX, t.posY);
        this.board.scale.set(t.scaleX, t.scaleY);
    }
    updatePointerFollowers(point) {
        for (let c of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_2__.FOLLOW_MOUSE_TYPE).allComponents()) {
            this.world.editComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_2__.POSITION_TYPE, {
                x: point.x,
                y: point.y,
            });
        }
    }
    /**
     * Make the board's center and the window's center overlap.
     * This way the initial board position is centered to the root card.
     */
    centerBoard() {
        let boardScreenWidth = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.width;
        let boardScreenHeight = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.height;
        let screenMidPointWidth = boardScreenWidth / 2;
        let screenMidPointHeight = boardScreenHeight / 2;
        let bounds = this.board.getBounds();
        this.board.position.set(screenMidPointWidth - bounds.x - bounds.width / 2, screenMidPointHeight - bounds.y - bounds.height / 2);
    }
    applyCanvasStyle(canvas) {
        const s = canvas.style;
        s.width = "100%";
        s.height = "100%";
    }
    enable() {
        const canvas = _index__WEBPACK_IMPORTED_MODULE_1__.app.view;
        this.applyCanvasStyle(canvas);
        let cnt = document.getElementById('canvas-container');
        if (cnt === null) {
            throw "Cannot find canvas container";
        }
        _index__WEBPACK_IMPORTED_MODULE_1__.app.resizeTo = cnt;
        cnt.appendChild(canvas);
        //app.renderer.backgroundColor = 0x3e2723; // dark brown
        // PIXI
        let stage = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Stage();
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage = stage;
        stage.sortableChildren = true;
        stage.group.enableSort = true;
        stage.addChild(this.board);
        stage.interactive = true;
        stage.hitArea = {
            contains(x, y) {
                return true;
            }
        };
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointermove", this.onPointerMove, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointerdown", this.onPointerDown, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointerup", this.onPointerUp, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointerupoutside", this.onPointerUpOutside, this);
        this.wheelListener = this.onMouseWheel.bind(this);
        canvas.addEventListener("wheel", this.wheelListener);
    }
    destroy() {
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointermove", this.onPointerMove, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointerdown", this.onPointerDown, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointerup", this.onPointerUp, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointerupoutside", this.onPointerUpOutside, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.removeEventListener('wheel', this.wheelListener);
        let cnt = document.getElementById('canvas-container');
        cnt === null || cnt === void 0 ? void 0 : cnt.removeChild(_index__WEBPACK_IMPORTED_MODULE_1__.app.view);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.resizeTo = window;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiGraphicSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiGraphicSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REMEMBER_TYPE": () => (/* binding */ REMEMBER_TYPE),
/* harmony export */   "POINT_RADIUS": () => (/* binding */ POINT_RADIUS),
/* harmony export */   "PIXI_GRAPHIC_TYPE": () => (/* binding */ PIXI_GRAPHIC_TYPE),
/* harmony export */   "PixiGraphicSystem": () => (/* binding */ PixiGraphicSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../index */ "./src/app/index.ts");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_bitSet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/bitSet */ "./src/app/util/bitSet.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _textSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./textSystem */ "./src/app/ecs/systems/back/textSystem.ts");



















const REMEMBER_TYPE = 'remember';
var VisibListenerLevel;
(function (VisibListenerLevel) {
    VisibListenerLevel[VisibListenerLevel["NOT_NEEDED"] = 0] = "NOT_NEEDED";
    VisibListenerLevel[VisibListenerLevel["REMEMBER"] = 1] = "REMEMBER";
    VisibListenerLevel[VisibListenerLevel["PERSISTENT"] = 2] = "PERSISTENT";
})(VisibListenerLevel || (VisibListenerLevel = {}));
function lerpColor(a, b, t) {
    let tr = ((a >> 16) & 0xFF) * (1 - t) + ((b >> 16) & 0xFF) * t;
    let tg = ((a >> 8) & 0xFF) * (1 - t) + ((b >> 8) & 0xFF) * t;
    let tb = (a & 0xFF) * (1 - t) + (b & 0xFF) * t;
    return tr << 16 | tg << 8 | tb;
}
const POINT_RADIUS = 12;
const PIXI_GRAPHIC_TYPE = 'pixi_graphic';
/**
 * Manages:
 * - Drawing elements
 * - Selection highlighting
 * - Element visibility/remembering
 * - Layer ordering
 * - Position/Translation updates
 * - Bit-by-bit remembering (background discovery)
 * - Interaction setup
 *
 * TODO: we could use a ParticleSystem in some instances
 */
class PixiGraphicSystem {
    constructor(world) {
        this.name = PIXI_GRAPHIC_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__.PIXI_BOARD_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE];
        this.provides = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, false, false);
        this.rememberStorage = new _storage__WEBPACK_IMPORTED_MODULE_1__.FlagEcsStorage(REMEMBER_TYPE, true, true);
        this.renderTexturePool = new pixi_js__WEBPACK_IMPORTED_MODULE_5__.RenderTexturePool();
        this.masterVisibility = false;
        this.world = world;
        this.textSystem = world.systems.get(_textSystem__WEBPACK_IMPORTED_MODULE_18__.TEXT_TYPE);
        this.pixiBoardSystem = world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__.PIXI_BOARD_TYPE);
        this.interactionSystem = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE);
        world.addStorage(this.rememberStorage);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('selection_begin', this.onSelectionBegin, this);
        world.events.on('selection_end', this.onSelectionEnd, this);
        world.events.on(_playerSystem__WEBPACK_IMPORTED_MODULE_8__.EVENT_VISIBILITY_SPREAD, this.onBBBVisibilitySpread, this);
        world.events.on('serialize', this.onSerialize, this);
        world.events.on('serialize_entity', this.onSerializeEntity, this);
    }
    onComponentAdd(c) {
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            this.updateVisibilityListener(com);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_VISIBLE_TYPE);
            let remembered = this.world.getComponent(c.entity, REMEMBER_TYPE) !== undefined;
            this.updateElementVisibility(com, com.display, true, !!(pv === null || pv === void 0 ? void 0 : pv.visible), remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === REMEMBER_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            this.updateElementVisibility(com, com.display, true, true, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // TODO: here?
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentEdited(c, changes) {
        var _a;
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.runMethods(com, com.display); // run delayed methods (like _childrenAdd, _childrenReplace & co).
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_VISIBLE_TYPE);
            let remembered = this.rememberStorage.getComponent(c.entity) !== undefined;
            this.updateElementVisibility(com, com.display, true, (_a = pv === null || pv === void 0 ? void 0 : pv.visible) !== null && _a !== void 0 ? _a : true, remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
            if ('interactive' in changes) {
                this.updateInteractive(com, pos, trans);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = c;
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_VISIBLE_TYPE) {
            let pv = c;
            com = this.storage.getComponent(pv.entity);
            if (com === undefined)
                return;
            let remembered = false;
            if (com._visibListener === VisibListenerLevel.REMEMBER && pv.visible) {
                this.world.addComponent(c.entity, {
                    type: REMEMBER_TYPE,
                    entity: c.entity,
                });
                this.playerSystem.removePlayerVisListener(c.entity);
                remembered = true;
            }
            if (!this.masterVisibility) {
                this.updateElementVisibility(com, com.display, true, pv.visible, remembered);
            }
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentRemoved(c) {
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            this.destroyElement(c.display, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            this.updateElement(com, com.display, pos, c, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined || !com._bitByBit)
                return;
            // Now you're visible! say hello
            this.updateBBBVisAround(com);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type === 'local_light_settings') {
            let set = res;
            if (!('visionType' in changes))
                return;
            if (set.visionType === 'dm') {
                this.masterVisibility = true;
                for (let c of this.storage.allComponents()) {
                    this.updateElementVisibility(c, c.display, true, true, true);
                }
            }
            else if (set.visionType === 'rp') {
                this.masterVisibility = false;
                for (let c of this.storage.allComponents()) {
                    let pv = this.world.getComponent(c.entity, 'player_visible');
                    let rem = this.rememberStorage.getComponent(c.entity);
                    this.updateElementVisibility(c, c.display, true, pv === null || pv === void 0 ? void 0 : pv.visible, rem !== undefined);
                }
            }
            else {
                throw 'Unknown vision type';
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_16__.GRID_TYPE) {
            if (!('width' in changes))
                return;
            // You are literally satan, I hate you.
            let posSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let tranSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            for (let c of this.storage.allComponents()) {
                this.forEachEl(c, c.display, e => {
                    if (e.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && e.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                        let pos = posSto.getComponent(c.entity);
                        let tran = tranSto.getComponent(c.entity);
                        this.updateElement(c, e, pos, tran, false);
                        this.world.editComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE, { shape: this.createShape(e, pos, tran) });
                    }
                });
            }
        }
    }
    onSelectionBegin(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = true;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onSelectionEnd(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = false;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onBBBVisibilitySpread(data) {
        let iter = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeAabb)(data.aabb), c => {
            let com = this.storage.getComponent(c.entity);
            return com !== undefined && com._bitByBit === true;
        });
        for (let c of iter) {
            // If we are here then the component exists, we checked it in the iterator
            let cmp = this.storage.getComponent(c.entity);
            this.doOnBitByBit(cmp, cmp.display, (img) => this.updateBBBVisibility(data, cmp, img));
        }
    }
    onSerialize() {
        let changedList = [];
        for (let com of this.storage.allComponents()) {
            if (!com._bitByBit)
                continue;
            let changed = false;
            this.doOnBitByBit(com, com.display, (img) => changed || (changed = this.extractVisibility(img)));
            if (changed)
                changedList.push(com.entity);
        }
        if (changedList) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, changedList);
        }
    }
    onSerializeEntity(entity) {
        let c = this.storage.getComponent(entity);
        if (c === undefined)
            return;
        let changed = false;
        this.doOnBitByBit(c, c.display, (img) => changed || (changed = this.extractVisibility(img)));
        if (changed) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, [entity]);
        }
    }
    // -------------------------- LISTENERS DONE --------------------------
    updateInteractive(comp, pos, trans) {
        let interactiveCmp = this.world.getComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE);
        if (comp.interactive && interactiveCmp === undefined) {
            this.world.addComponent(comp.entity, {
                type: _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE,
                selectPriority: comp.display.priority,
                snapEnabled: true,
                shape: this.createShape(comp.display, pos, trans),
            });
        }
        else if (!comp.interactive && interactiveCmp !== undefined) {
            this.world.removeComponent(interactiveCmp);
        }
        else if (comp.interactive) {
            // Check for component changes in interactor
            if (comp.display.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE) {
                // If the texture has changed we need to update the interactor.
                let el = comp.display;
                if (el.texture !== el._oldTex) {
                    this.world.editComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE, { shape: this.createShape(el, pos, trans) });
                }
            }
        }
    }
    createShape(comp, pos, trans) {
        switch (comp.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                // Only the root element can be made interactive, the others are ignored
                throw 'Cannot make interactive container';
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                throw 'Cannot make interactive text';
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let c = comp;
                let w = c.texture.width;
                let h = c.texture.height;
                let aabb;
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                if (c.scale == _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(c.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_16__.GRID_TYPE);
                    let gsize = c.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_12__.Aabb.fromPointAnchor(pos, { x: w, y: h }, c.anchor);
                aabb.scale(sx, sy, aabb);
                let obb = _geometry_obb__WEBPACK_IMPORTED_MODULE_13__.Obb.rotateAabb(aabb.copy(), (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0);
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeObb)(obb);
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let c = comp;
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_14__.Line(pos.x, pos.y, pos.x + c.vec.x, pos.y + c.vec.y));
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapePoint)(new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Point(pos.x, pos.y));
            }
        }
    }
    /**
     * Extracts visibility from the rendertexture of the image (must be VISBLE_BIT_BY_BIT).
     *
     * @param c the image from which the visibility map will be extracted.
     * @return true only if the visibility map has been modified.
     * @private
     */
    extractVisibility(c) {
        if (c._visMapChanged !== true)
            return false;
        c.visMap = undefined;
        const renderer = _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer;
        const tex = c._renTex;
        if (tex === undefined)
            return false;
        let frame = tex.frame;
        renderer.renderTexture.bind(tex);
        let webglPixels = new Uint8Array(tex.width * tex.height * 4);
        const gl = renderer.gl;
        gl.readPixels(frame.x, frame.y, frame.width, frame.height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
        let fuckLen = webglPixels.length / 4;
        let newLen = ((webglPixels.length / 4 - 1) >>> 5) + 1;
        let target = new Uint32Array(newLen);
        for (let i = 0; i < fuckLen; i++) {
            let pixel = webglPixels[i * 4 + 3];
            if ((pixel & 0x80) !== 0) {
                target[i >>> 5] |= 1 << (i & 0b11111);
            }
        }
        c.visMap = target;
        c._visMapChanged = false;
        return true;
    }
    loadVisibility(c) {
        const width = c.texture.width;
        const height = c.texture.height;
        if (c._renTex === undefined) {
            c._renTex = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.RenderTexture.create({
                width, height,
                scaleMode: c.texture.baseTexture.scaleMode,
            });
            let bt = c._renTex.baseTexture;
            bt.clearColor = [0.0, 0.0, 0.0, 0.0];
        }
        if (c.visMap === undefined)
            return;
        let texOpts = {
            width, height,
            format: _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.FORMATS.RGBA,
        };
        let texData = new Uint32Array(c.texture.width * c.texture.height);
        let set = new _util_bitSet__WEBPACK_IMPORTED_MODULE_11__.BitSet(c.visMap);
        let len = texData.length;
        for (let i = 0; i < len; i++) {
            texData[i] = set.get(i) ? 0xFFFFFFFF : 0;
        }
        let byteData = new Uint8Array(texData.buffer);
        let resource = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.resources.BufferResource(byteData, { width, height });
        let baseTexture = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BaseTexture(resource, texOpts);
        let tex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Texture(baseTexture);
        let lumSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex);
        lumSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.SRC_IN;
        let mapSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(c.texture);
        let cnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        cnt.addChild(mapSprite, lumSprite);
        _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer.render(cnt, c._renTex, true);
        lumSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_ALL);
        c._visMapChanged = false;
    }
    forEachEl(com, img, f) {
        f(img);
        if (img.children) {
            for (let c of img.children) {
                this.forEachEl(com, c, f);
            }
        }
    }
    doOnBitByBit(com, img, f) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            f(img);
        }
        if (img.children) {
            for (let c of img.children) {
                this.doOnBitByBit(com, c, f);
            }
        }
    }
    needsBitByBit(com, img) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            return true;
        }
        if (img.children) {
            for (let c of img.children) {
                if (this.needsBitByBit(com, c))
                    return true;
            }
        }
        return false;
    }
    updateBBBVisAround(com) {
        let inter = this.world.getComponent(com.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE);
        let aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeToAabb)(inter.shape);
        this.playerSystem.getSpreadDataForAabb(aabb, data => {
            this.doOnBitByBit(com, com.display, (img) => this.updateBBBVisibility(data, com, img));
        });
    }
    updateBBBVisibility(data, com, img) {
        //      Part 1. What?
        // So, what does this spaghetti mess do? Good question!
        // We have players and lights, some players can see without lights and others can't
        // The task is to update the rendertexture of the background component adding the visible spots to it.
        // The visible spots are: The meshes of the players with night vision enabled and the intersection of the
        // union of the vision mesh of the normal players with the union of the vison meshes of the lights.
        // Common case: 1 NV player 0 lights, 1 player multiple lights, multiple players 1 light
        // Possible (but uncommon) cases: x NV players, y normal players, z lights (with x, y, z naturals).
        //      Part 2. How?
        // The initial idea is simple, render anything on the bkg._renTex and then render the original texture with
        // blendMode = SRC_IN, any spot with alpha = 1 will then be replaced with the correct texture.
        // The night vision players rendering is quite simple, just render the meshes before the final texture render
        // The normal players will be a bit different since we need to intersect their meshes with the light mesh.
        // To do that we can render all the players meshes in a framebuffer A, then render all of the lights in another
        // frame buffer B, then render A onto B with blendMode = SRC_IN to create a sort of union of the two.
        // Once that is done we can render B into the bkg._renTex and proceed normally.
        // Another way to do this using only a single rendertexture is to use the stencil buffer, but it will double the
        // mesh render calls (and since they are not buffered, it's a slow operation)
        // I don't think that there is another way to perform this in the general case, please prove me wrong.
        // TODO: maybe we can optimize this when only 1 player and 1 light is present (like, avoiding 1 of the 2 framebuffers).
        // Skip EVERYTHING if this entity is hidden.
        if (this.world.getComponent(com.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        //console.time('updateVisibility');
        let renderer = _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer;
        let localCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        // Setup local transform
        let m = new pixi_js__WEBPACK_IMPORTED_MODULE_5__.Matrix();
        let pixi = img._pixi;
        m.translate(-pixi.position.x, -pixi.position.y);
        m.rotate(-pixi.rotation);
        let invScale = 1 / pixi.scale.x;
        m.scale(invScale, invScale);
        m.translate(img.texture.width / 2, img.texture.height / 2);
        localCnt.transform.setFromMatrix(m);
        let worldCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        // If there are any players without night vision (and there are lights) render them (THIS IS SLOW!)
        let tex, tex2, nightSprite;
        if (data.players.length !== 0 && data.lights.length !== 0) {
            tex = this.renderTexturePool.getOptimalTexture(pixi.width, pixi.height);
            tex2 = this.renderTexturePool.getOptimalTexture(pixi.width, pixi.height);
            for (let player of data.players) {
                localCnt.addChild(player.mesh);
            }
            // Render the players visibility meshes onto tex
            renderer.render(localCnt, tex, true);
            localCnt.removeChildren();
            for (let light of data.lights) {
                light.mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
                localCnt.addChild(light.mesh);
            }
            let playerSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex);
            playerSprite.blendMode = pixi_js__WEBPACK_IMPORTED_MODULE_5__.BLEND_MODES.SRC_IN;
            // Render the lights onto tex2, then render tex as BLEND_MODE.SRC_IN to filter out where the lights were not
            // present.
            worldCnt.addChild(localCnt, playerSprite);
            renderer.render(worldCnt, tex2, true);
            worldCnt.removeChildren();
            localCnt.removeChildren();
            // Add tex2 to the main phase
            nightSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex2);
            nightSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
            worldCnt.addChild(nightSprite);
        }
        for (let player of data.nightVisPlayers) {
            localCnt.addChild(player.mesh);
        }
        let origTex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(img.texture);
        origTex.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.SRC_IN;
        worldCnt.addChild(localCnt, origTex);
        // Render everything to bkg._renTex and then redraw the original only where is alpha=1.
        _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer.render(worldCnt, img._renTex, false);
        img._visMapChanged = true;
        // Cleanup time (don't worry, I'm recycling and there's a garbage cleaner, we're eco friendly!)
        worldCnt.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
        origTex.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
        if (tex !== undefined)
            this.renderTexturePool.returnTexture(tex);
        if (tex2 !== undefined)
            this.renderTexturePool.returnTexture(tex2);
        if (nightSprite !== undefined)
            nightSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
        //console.timeEnd('updateVisibility');
    }
    computeVisibilityListener(c) {
        let level;
        switch (c.visib) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                // Already maximum level, no need for further checking
                return VisibListenerLevel.PERSISTENT;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                level = VisibListenerLevel.NOT_NEEDED;
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                level = VisibListenerLevel.REMEMBER;
                break;
        }
        if (c.children) {
            for (let ch of c.children) {
                level = Math.max(level, this.computeVisibilityListener(ch));
                if (level === VisibListenerLevel.PERSISTENT)
                    break; // Already maxed out.
            }
        }
        return level;
    }
    destroyElement(desc, recursive) {
        let elem = desc._pixi;
        if (elem === undefined)
            return;
        switch (desc._oldType) {
            case undefined:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let im = desc;
                let destroyTex = im.sharedTexture !== true;
                elem.destroy({
                    children: false,
                    texture: destroyTex,
                    baseTexture: destroyTex,
                });
                if (im._renTex !== undefined) {
                    im._renTex.destroy(true);
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                elem.destroy({
                    children: false,
                    texture: true,
                    baseTexture: true,
                });
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
                break;
        }
        desc._pixi = undefined;
        desc._oldType = undefined;
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.destroyElement(el, true);
            }
        }
    }
    createElement(desc) {
        this.destroyElement(desc, false);
        let res;
        // TODO: Layers
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(this.circleTex);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Text("");
                res.parentLayer = this.textSystem.textLayer;
                break;
        }
        res.interactive = false;
        res.interactiveChildren = false;
        res.zIndex = desc.priority;
        desc._pixi = res;
        desc._oldType = desc.type;
        this.pixiBoardSystem.board.addChild(res);
        this.pixiBoardSystem.board.sortChildren();
    }
    textureUpdateGridSize(tex) {
        let texId = tex._updateID;
        if (tex.gridSize !== undefined && tex.gridSize.updateId !== texId)
            return;
        tex.gridSize = {
            x: Math.ceil(tex.width / _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS.size) / tex.width,
            y: Math.ceil(tex.height / _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS.size) / tex.height,
            updateId: texId,
        };
    }
    updateElementVisibility(par, desc, recursive, currentlyVisible, remembered) {
        let isVisible;
        if (currentlyVisible || this.masterVisibility) {
            isVisible = true;
        }
        else {
            switch (desc.visib) {
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                    isVisible = currentlyVisible;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                    isVisible = true;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                    isVisible = remembered;
                    break;
            }
        }
        let pixi = desc._pixi;
        pixi.visible = isVisible;
        if (desc.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            let im = desc;
            im._pixi.texture = this.masterVisibility ? im.texture : im._renTex;
        }
        if (recursive && desc.children) {
            for (let c of desc.children) {
                this.updateElementVisibility(par, c, true, currentlyVisible, remembered);
            }
        }
    }
    updateVisibilityListener(el) {
        let listLevel = this.computeVisibilityListener(el.display);
        let oldListLevel = el._visibListener || VisibListenerLevel.NOT_NEEDED;
        if (listLevel === oldListLevel)
            return; // No changes reported.
        let isRemembered = this.rememberStorage.getComponent(el.entity);
        let listenerNeeded;
        switch (listLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                listenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                listenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                listenerNeeded = true;
                break;
        }
        let oldListenerNeeded;
        switch (oldListLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                oldListenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                oldListenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                oldListenerNeeded = true;
                break;
        }
        // Why before? good question!
        // when we add the listener we could discover instantly that the visibility is present, thus calling
        // a callback to this system saying "hi, this element in which there's a visibility listener is visible"
        // if we set the listener after this the system will say "oh really, but there's no listener on this element"
        // (yeah I spent way too much time to debug this)
        el._visibListener = listLevel;
        if (listenerNeeded && !oldListenerNeeded) {
            this.playerSystem.addPlayerVisListener(el.entity, el.isWall);
        }
        else if (!listenerNeeded && oldListenerNeeded) {
            this.playerSystem.removePlayerVisListener(el.entity);
        }
    }
    runMethods(par, el) {
        if (el._childrenReplace) {
            if (el.children) {
                for (let c of el.children) {
                    this.destroyElement(c, true);
                }
                el.children.length = 0;
            }
            el._childrenAdd = el._childrenReplace;
            el._childrenReplace = undefined;
        }
        if (el._childrenAdd) {
            if (el.children === undefined)
                el.children = [];
            el.children.push(...el._childrenAdd);
            el._childrenAdd = undefined;
        }
        if (el._childrenRemove) {
            if (el.children === undefined)
                return;
            for (let c of el._childrenRemove) {
                this.destroyElement(c, true);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_15__.arrayRemoveElem)(el.children, c);
            }
            el._childrenRemove = undefined;
        }
        if (el.children) {
            for (let c of el.children) {
                this.runMethods(par, c);
            }
        }
    }
    updateElement(par, desc, pos, trans, recursive) {
        if (desc._oldType !== desc.type) {
            this.createElement(desc);
        }
        let d = desc._pixi;
        if (desc.offset !== undefined) {
            d.position.set(pos.x + desc.offset.x, pos.y + desc.offset.y);
        }
        else {
            d.position.set(pos.x, pos.y);
        }
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let dim = d;
                let el = desc;
                if (el.visib == _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    dim.texture = this.masterVisibility ? el.texture : el._renTex;
                }
                else {
                    dim.texture = el.texture;
                }
                dim.anchor.copyFrom(el.anchor);
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = sx;
                if (el.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(dim.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_16__.GRID_TYPE);
                    let gsize = dim.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                dim.rotation = (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0;
                dim.scale.set(sx, sy);
                dim.tint = par._selected ? 0x7986CB : 0xFFFFFF;
                if (el.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    if (el._oldTex !== el.texture) {
                        this.loadVisibility(el);
                    }
                }
                else if (el._renTex !== undefined) {
                    el._renTex.destroy(true);
                    el._renTex = undefined;
                }
                el._oldTex = el.texture;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let g = d;
                let el = desc;
                g.clear();
                g.moveTo(0, 0);
                g.lineStyle(5, el.color);
                g.lineTo(el.vec.x, el.vec.y);
                if (par._selected) {
                    g.lineStyle(0);
                    g.beginFill(0xe51010);
                    g.drawCircle(0, 0, 10);
                    g.endFill();
                    g.beginFill(el.color);
                    g.drawCircle(el.vec.x, el.vec.y, 10);
                    g.endFill();
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                let color = desc.color;
                if (par._selected) {
                    color = lerpColor(color, 0x7986CB, 0.3);
                }
                d.tint = color;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT: {
                let el = desc;
                let g = d;
                g.text = el.text;
                g.anchor.copyFrom(el.anchor);
                g.tint = el.color;
                break;
            }
        }
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.updateElement(par, el, pos, trans, true);
            }
        }
    }
    enable() {
        this.playerSystem = this.world.systems.get(_playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE);
        this.masterVisibility = this.world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_9__.LIGHT_TYPE).localLightSettings.visionType === 'dm';
        let g = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
        g.beginFill(0xFFFFFF);
        g.lineStyle(0);
        g.drawCircle(POINT_RADIUS, POINT_RADIUS, POINT_RADIUS);
        this.circleTex = _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer.generateTexture(g, _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.SCALE_MODES.LINEAR, 1);
        this.circleTex.defaultAnchor.set(0.5, 0.5);
    }
    destroy() {
        for (let elem of this.storage.allComponents()) {
            this.destroyElement(elem.display, true);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiRectSelectionSystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_RECTANGULAR_SELECTION_TYPE": () => (/* binding */ PIXI_RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "PixiRectSelectionSystem": () => (/* binding */ PixiRectSelectionSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");


const PIXI_RECTANGULAR_SELECTION_TYPE = "pixi_rect_selection";
class PixiRectSelectionSystem {
    constructor(world) {
        this.name = PIXI_RECTANGULAR_SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.world = world;
        this.display = new PIXI.Graphics();
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    redraw(box) {
        this.display.clear();
        this.display.beginFill(0x7986CB, 0.2);
        this.display.drawRect(box.minX, box.minY, box.maxX - box.minX, box.maxY - box.minY);
        this.display.endFill();
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceEdit(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            this.display.clear();
        }
    }
    enable() {
        this.display.zIndex = 100000;
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        board.board.addChild(this.display);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/selectionSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/selectionSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECTION_TYPE": () => (/* binding */ SELECTION_TYPE),
/* harmony export */   "SelectionSystem": () => (/* binding */ SelectionSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _doorSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _propSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_commandSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");










const MULTI_TYPES = ['name', 'note'];
const ELIMINABLE_TYPES = ['name', 'note', 'player', 'light', 'door', _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE];
const FULLSCREENABLE_TYPES = ['note'];
const SELECTION_TYPE = 'selection';
class SelectionSystem {
    constructor(ecs) {
        this.name = SELECTION_TYPE;
        this.dependencies = [];
        this.selectedEntities = new Set();
        this.dataByType = new Map();
        this.translations = {};
        this.isTranslating = false;
        this.translateDirty = false;
        this.ecs = ecs;
        this.ecs.events.on('tool_move_begin', () => this.isTranslating = true);
        this.ecs.events.on('tool_move_end', () => {
            this.isTranslating = false;
            if (this.translateDirty) {
                this.translateDirty = false;
                this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_6__.EVENT_COMMAND_PARTIAL_END);
                this.update();
            }
        });
        this.ecs.events.on('component_add', this.onComponentAdd, this);
        this.ecs.events.on('component_edited', this.onComponentUpdate, this);
        this.ecs.events.on('component_removed', this.onComponentRemove, this);
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        if (ecs.isMaster) {
            this.ecs.events.on('command_post_execute', (c) => {
                // a spawn command has been executed
                if (c === undefined || c.kind !== 'despawn')
                    return;
                this.setOnlyEntities(c.entities);
            });
        }
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        this.setupTranslations();
    }
    setupTranslations() {
        this.translations[_layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE] = 'foreground';
    }
    logSelectionTypes() {
        console.log("--- SELECTION ---");
        for (let entity of this.selectedEntities) {
            let comps = this.ecs.getAllComponents(entity);
            console.log(entity + ": " + comps.map(x => x.type).join(', '));
        }
    }
    canSelect(entity) {
        if (this.ecs.isMaster) {
            return true;
        }
        // Make walls not selectable unless a known door is present, this
        // prevents players from bruteforcing wall structures to find doors
        // TODO: other options: merge adiacent walls when possible
        let wallC = this.ecs.getComponent(entity, _wallSystem__WEBPACK_IMPORTED_MODULE_7__.WALL_TYPE);
        if (wallC !== undefined) {
            let door = this.ecs.getComponent(entity, _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE);
            return door !== undefined;
        }
        return true;
    }
    update() {
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.ecs.events.emit('selection_update', this);
    }
    onComponentAdd(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.getOrCreateData(component.type).entities.add(component);
        this.update();
    }
    onComponentUpdate(component) {
        if (this.selectedEntities.has(component.entity)) {
            if (!this.canSelect(component.entity)) {
                this.removeEntities([component.entity]);
                return;
            }
            this.update();
        }
    }
    onComponentRemove(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        let data = this.dataByType.get(component.type);
        data.entities.delete(component);
        if (data.entities.size === 0)
            this.dataByType.delete(component.type);
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.update();
    }
    onEntityDespawn(entity) {
        if (!this.selectedEntities.has(entity))
            return;
        this.removeEntities([entity]);
    }
    clear(callListeners = true, update = true) {
        if (callListeners) {
            for (let id of this.selectedEntities) {
                this.ecs.events.emit('selection_end', id);
            }
        }
        this.selectedEntities.clear();
        this.dataByType.clear();
        if (update) {
            this.update();
        }
    }
    setOnlyEntity(id) {
        this.clear(true, false);
        this.addEntities([id]);
    }
    setOnlyEntities(ids) {
        let idSet = new Set(ids);
        let removeIds = new Array();
        for (let id of this.selectedEntities) {
            if (!idSet.has(id))
                removeIds.push(id);
        }
        this.removeEntities(removeIds, false);
        this.addEntities(ids, false);
        this.update();
    }
    toggleEntities(ids, update = true) {
        for (let id of ids) {
            if (this.selectedEntities.has(id)) {
                this.removeEntities([id], false);
            }
            else {
                this.addEntities([id], false);
            }
        }
        if (update)
            this.update();
    }
    addEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (id === undefined) {
                console.warn("Trying to add undefined entity");
                continue;
            }
            if (this.selectedEntities.has(id))
                continue;
            if (!this.canSelect(id)) {
                continue;
            }
            count++;
            this.selectedEntities.add(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                this.getOrCreateData(c.type).entities.add(c);
            }
            this.ecs.events.emit('selection_begin', id);
        }
        if (update && count !== 0)
            this.update();
    }
    removeEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (!this.selectedEntities.has(id))
                continue;
            count++;
            this.selectedEntities.delete(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                let data = this.dataByType.get(c.type);
                data.entities.delete(c);
                if (data.entities.size === 0)
                    this.dataByType.delete(c.type);
            }
            this.ecs.events.emit('selection_end', id);
        }
        if (update && count !== 0)
            this.update();
    }
    getSelectedByType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return [];
        return data.entities;
    }
    initialComponent(type) {
        let storage = this.ecs.storages.get(type);
        return {
            _canDelete: ELIMINABLE_TYPES.indexOf(type) >= 0,
            _isFullscreen: FULLSCREENABLE_TYPES.indexOf(type) >= 0 ? false : undefined,
            _sync: storage.sync,
            _save: storage.save,
        };
    }
    addTranslations(cmps) {
        for (let cmp of cmps) {
            let trans = this.translations[cmp.type];
            if (trans === undefined) {
                trans = cmp.type;
            }
            cmp.typeName = trans;
        }
        return cmps;
    }
    getSingleComponents() {
        let res = new Array();
        let entity = this.selectedEntities.values().next().value;
        for (let [type, storage] of this.ecs.storages.entries()) {
            if (type.startsWith('host_'))
                continue;
            let comps = storage.getComponents(entity);
            for (let comp of comps) {
                res.push(removePrivate(this.initialComponent(type), comp));
            }
        }
        return this.addTranslations(res);
    }
    getCommonComponents() {
        if (this.selectedEntities.size === 0)
            return [];
        let selCount = this.selectedEntities.size;
        if (selCount === 1)
            return this.getSingleComponents();
        let commonTypes = new Array();
        for (let type of this.ecs.storages.keys()) {
            if (type === 'host_hidden')
                continue;
            let data = this.dataByType.get(type);
            if (data != undefined && data.entities.size === selCount && MULTI_TYPES.indexOf(type) === -1) {
                commonTypes.push(type);
            }
        }
        let res = new Array();
        for (let type of commonTypes) {
            if (type === 'host_hidden')
                continue;
            let component = undefined;
            for (let entity of this.selectedEntities) {
                let comps = this.ecs.storages.get(type).getComponents(entity);
                for (let comp of comps) {
                    if (component === undefined) {
                        component = removePrivate(this.initialComponent(type), comp); // copy
                    }
                    else {
                        biFilterObj(component, comp);
                    }
                }
            }
            res.push(component);
        }
        return this.addTranslations(res);
    }
    getCommonEntityOpts() {
        let hostHidden = this.dataByType.get('host_hidden');
        return {
            hidden: hostHidden !== undefined && hostHidden.entities.size === this.selectedEntities.size,
            ids: Array.from(this.selectedEntities),
        };
    }
    getAddableComponents() {
        let res = new Array();
        res.push({
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
            name: 'Name'
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
            name: 'Note'
        });
        if (!this.hasComponentType(_layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE)) {
            // TODO: foreground
            res.push({
                type: _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE,
                name: 'Foreground'
            });
        }
        if (this.hasEveryoneType(_pinSystem__WEBPACK_IMPORTED_MODULE_8__.PIN_TYPE) && !(this.hasComponentType(_lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE) || this.hasComponentType(_playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE))) {
            res.push({
                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                name: 'Light'
            }, {
                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                name: 'Player',
            });
        }
        else if (this.hasEveryoneType(_wallSystem__WEBPACK_IMPORTED_MODULE_7__.WALL_TYPE) && !this.hasComponentType(_doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE)) {
            res.push({
                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                name: "Door"
            });
        }
        else if (this.hasEveryoneType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TYPE) && !this.hasComponentType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE)) {
            res.push({
                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                name: "Teleporter",
            });
        }
        return res;
    }
    setProperty(type, propertyName, propertyValue, multiId) {
        if (type === '$') {
            // Special management
            switch (propertyName) {
                case 'hidden': {
                    let add = [];
                    let remove = [];
                    for (let entity of this.selectedEntities) {
                        let cmp = this.ecs.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
                        if (cmp !== undefined) {
                            remove.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                            this.ecs.removeComponent(cmp);
                        }
                        else {
                            add.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                        }
                    }
                    let cmd = {
                        kind: "cedit",
                        add, remove,
                        edit: [],
                    };
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'delete': {
                    let cmd = {
                        kind: 'despawn',
                        entities: [...this.selectedEntities],
                    };
                    this.clear();
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'addComponent': {
                    let comp;
                    switch (propertyValue) {
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
                                name: '',
                                clientVisible: true,
                            };
                            break;
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
                                note: '',
                                clientVisible: true,
                            };
                            break;
                        case _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE:
                            comp = {
                                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                                color: 0xFFFFFF,
                                range: 2,
                            };
                            break;
                        case _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE:
                            comp = {
                                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                                nightVision: false,
                                range: 50,
                            };
                            break;
                        case _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE:
                            comp = {
                                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                                doorType: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DoorType.NORMAL_LEFT,
                                locked: false,
                                open: false,
                                clientVisible: true,
                            };
                            break;
                        case _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE:
                            comp = {
                                type: _layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE,
                                layer: (0,_layerSystem__WEBPACK_IMPORTED_MODULE_9__.findForeground)(this.ecs),
                            };
                            break;
                        case _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE:
                            comp = {
                                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                                targetProp: -1,
                            };
                            break;
                        default:
                            throw 'Cannot add unknown component: ' + propertyValue;
                    }
                    let add = [];
                    for (let entity of [...this.selectedEntities]) {
                        add.push(Object.assign({ entity }, comp));
                    }
                    this.ecs.events.emit("command_log", (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(add));
                    break;
                }
                case 'removeComponent':
                    let remove = [];
                    for (let entity of [...this.selectedEntities]) {
                        let comp = this.ecs.getComponent(entity, propertyValue, multiId);
                        if (comp === undefined)
                            continue;
                        remove.push({
                            type: comp.type,
                            entity: comp.entity,
                            multiId: multiId,
                        });
                    }
                    let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(undefined, undefined, remove);
                    this.ecs.events.emit("command_log", cmd);
                    break;
                default:
                    console.warn("Unknown special event: " + propertyName);
            }
            return;
        }
        else if (type === '@') {
            // Event call (yeah I know this is ugly) TODO please next me clean it up
            // TODO: command log
            this.ecs.events.emit(propertyName, propertyValue, multiId);
            return;
        }
        if (!this.hasEveryoneType(type)) {
            this.logSelectionTypes();
            console.error("Trying to change type of selection when not everyone has that type: " + type);
        }
        let oldEntities = Array.from(this.selectedEntities);
        let edit = [];
        for (let entity of oldEntities) {
            let changes = {};
            changes[propertyName] = propertyValue;
            edit.push({
                type,
                entity,
                multiId,
                changes
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        this.ecs.events.emit("command_log", cmd);
        this.update();
    }
    moveAll(diffX, diffY, entities) {
        let edit = [];
        let posSto = this.ecs.getStorage(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        for (let entity of entities) {
            let pos = posSto.getComponent(entity);
            if (pos === undefined)
                continue;
            edit.push({
                type: _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE,
                entity: entity,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                },
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        // partial = isTranslating (and ignore the results)
        this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_6__.EVENT_COMMAND_LOG, cmd, undefined, this.isTranslating);
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.update();
    }
    getOrCreateData(type) {
        let data = this.dataByType.get(type);
        if (data === undefined) {
            data = {
                entities: new Set(),
            };
            this.dataByType.set(type, data);
        }
        return data;
    }
    hasComponentType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size > 0;
    }
    hasEveryoneType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size === this.selectedEntities.size;
    }
    enable() {
    }
    destroy() {
    }
}
function removePrivate(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        target[name] = filter[name];
    }
    return target;
}
function biFilterObj(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        if (target[name] !== filter[name]) {
            target[name] = undefined;
        }
    }
    for (let name in target) {
        if (name[0] === '_')
            continue;
        if (filter[name] === undefined) {
            target[name] = undefined;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/textSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/textSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_TYPE": () => (/* binding */ TEXT_TYPE),
/* harmony export */   "TextSystem": () => (/* binding */ TextSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../index */ "./src/app/index.ts");




const TEXT_TYPE = 'text';
class TextSystem {
    constructor() {
        this.name = TEXT_TYPE;
        this.dependencies = [];
        this.textLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Layer();
    }
    enable() {
        this.textLayer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.TEXT;
        this.textLayer.interactive = false;
        this.textLayer.interactiveChildren = false;
        _index__WEBPACK_IMPORTED_MODULE_3__.app.stage.addChild(this.textLayer);
    }
    destroy() {
        this.textLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/toolSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/toolSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TOOL_TYPE": () => (/* binding */ TOOL_TYPE),
/* harmony export */   "ToolSystem": () => (/* binding */ ToolSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_inspect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/inspect */ "./src/app/ecs/tools/inspect.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/toolType */ "./src/app/ecs/tools/toolType.ts");




const TOOL_TYPE = 'tool';
class ToolSystem {
    constructor(world) {
        this.name = TOOL_TYPE;
        this.dependencies = [_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE];
        this.optionalDependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.standardTool = _tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.tools = new Map();
        this.world = world;
        world.addResource({
            type: TOOL_TYPE,
            _save: true,
            _sync: false,
            tool: undefined,
        });
        const events = world.events;
        events.on('resource_edited', this.onResourceEdited, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_UP, this.onPointerUp, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_RIGHT_DOWN, this.onPointerRightDown, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_RIGHT_UP, this.onPointerRightUp, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
        this.addTool(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.InspectToolDriver(world));
    }
    addTool(tool) {
        this.tools.set(tool.name, tool);
    }
    onResourceEdited(r, edited) {
        var _a;
        if (r.type === TOOL_TYPE) {
            let ct = r;
            let toolName = ct.tool || this.standardTool;
            let tool = this.tools.get(toolName);
            if (tool === undefined) {
                console.warn("Unregistered tool requested: " + ct.tool);
                tool = this.tools.get(this.standardTool);
            }
            if (tool === this.currentTool) {
                return;
            }
            console.log("Changing tool from " + (((_a = this.currentTool) === null || _a === void 0 ? void 0 : _a.name) || 'none') + " to " + tool.name);
            if (this.currentTool !== undefined && this.currentTool.onEnd !== undefined) {
                this.currentTool.onEnd();
            }
            this.currentTool = tool;
            if (tool.onStart !== undefined)
                tool.onStart();
        }
    }
    onPointerMove(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerMove !== undefined) {
            this.currentTool.onPointerMove(e);
        }
    }
    onPointerDown(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerDown !== undefined) {
            this.currentTool.onPointerDown(e);
        }
    }
    onPointerUp(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerUp !== undefined) {
            this.currentTool.onPointerUp(e);
        }
    }
    onPointerRightDown(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerRightDown !== undefined) {
            this.currentTool.onPointerRightDown(e);
        }
    }
    onPointerRightUp(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerRightUp !== undefined) {
            this.currentTool.onPointerRightUp(e);
        }
    }
    onPointerClick(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerClick !== undefined) {
            this.currentTool.onPointerClick(e);
        }
    }
    enable() {
        for (let tool of this.tools.values()) {
            if (tool.initialize !== undefined)
                tool.initialize();
        }
        if (this.currentTool === undefined) {
            this.world.editResource(TOOL_TYPE, {
                tool: this.standardTool,
            });
        }
    }
    destroy() {
        for (let tool of this.tools.values()) {
            if (tool.destroy !== undefined)
                tool.destroy();
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilityAwareSystem.ts":
/*!***********************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilityAwareSystem.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_AWARE_TYPE": () => (/* binding */ VISIBILITY_AWARE_TYPE),
/* harmony export */   "newVisibilityAwareComponent": () => (/* binding */ newVisibilityAwareComponent),
/* harmony export */   "VisibilityAwareSystem": () => (/* binding */ VisibilityAwareSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");









const VISIBILITY_AWARE_TYPE = 'visibility_aware';
function newVisibilityAwareComponent(isWall = false) {
    return {
        type: VISIBILITY_AWARE_TYPE,
        entity: -1,
        visibleBy: [],
        isWall,
    };
}
class VisibilityAwareSystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_AWARE_TYPE;
        this.dependencies = [_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_AWARE_TYPE, false, false);
        /**
         * Events:
         * aware_update(component, added, removed)
         *   Called when a VisibilityAware entity is updated
         *   why can't we do this with a normal component_edit event?
         *   It's easier not to build component diffs.
         *   If you want to track old values do it on your own.
         */
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__.default();
        this.world = world;
        this.visibilitySys = this.world.systems.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        this.interactionSys = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        world.addStorage(this.storage);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    visibilityChange(viewer, polygon, range) {
        range *= this.gridSize;
        if (polygon === undefined) {
            // Player visibility null
            let oldCanSee = viewer._canSee;
            viewer._canSee = [];
            for (let x of oldCanSee) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let oldCanSee = viewer._canSee;
        viewer._canSee = [];
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let interStorage = this.world.storages.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let viewerPos = posStorage.getComponent(viewer.entity);
        let viewerPoly = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(polygon);
        let viewerCircle = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(viewerPos, range);
        // Check if old awares can still be seen
        for (let i of oldCanSee) {
            let shape = interStorage.getComponent(i).shape;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerPoly, shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape)) {
                viewer._canSee.push(i);
            }
            else {
                let target = this.storage.getComponent(i);
                // No need to remove target.entity from player._canSee as it's already been removed
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
        }
        let iter = this.interactionSys.query(viewerPoly, c => {
            let target = this.storage.getComponent(c.entity);
            return target !== undefined && target.isWall !== true && oldCanSee.indexOf(c.entity) === -1;
        });
        for (let e of iter) {
            let shape = interStorage.getComponent(e.entity).shape;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape))
                continue;
            let target = this.storage.getComponent(e.entity);
            viewer._canSee.push(e.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    visibleElementMove(aware) {
        var _a;
        if (aware.isWall === true)
            return;
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        let pos = posStorage.getComponent(aware.entity);
        let shape = this.world.getComponent(aware.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let oldVisibleBy = aware.visibleBy;
        aware.visibleBy = [];
        let added = [];
        let removed = [];
        // Search for new players
        for (let p of this.visibilitySys.aabbTree.query(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos))) {
            let entity = p.tag.entity;
            let vis = visStorage.getComponent(entity);
            if (vis === undefined || oldVisibleBy.indexOf(entity) !== -1)
                continue;
            let ppos = posStorage.getComponent(entity);
            let pvis = visStorage.getComponent(entity);
            let range = pvis.range * this.gridSize;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) || !(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)((_a = p.tag) === null || _a === void 0 ? void 0 : _a.polygon)))
                continue;
            vis._canSee.push(aware.entity);
            aware.visibleBy.push(vis.entity);
            added.push(vis.entity);
        }
        // Check for old players
        for (let p of oldVisibleBy) {
            let vis = visStorage.getComponent(p);
            let ppos = posStorage.getComponent(p);
            let pvis = visStorage.getComponent(p);
            let range = pvis.range * this.gridSize;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(pvis.polygon))) {
                aware.visibleBy.push(p);
                continue;
            }
            // No need to remove e._visibleBy as it's already been cleared
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, aware.entity);
            removed.push(vis.entity);
        }
        if (added.length + removed.length > 0) {
            this.events.emit('aware_update', aware, added, removed);
        }
    }
    onViewBlockerEdited(viewer, newWalls, oldWalls) {
        oldWalls = oldWalls || [];
        if (newWalls.length === 0) {
            // Player visibility null
            for (let x of oldWalls) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let commonWalls = [];
        //console.log("WALL UPDATE, old: " + oldWalls + " new: " + newWalls);
        // Check if old awares can still be seen
        for (let i of oldWalls) {
            if (newWalls.indexOf(i) !== -1) {
                //console.log("| =" + i);
                commonWalls.push(i);
                continue;
            }
            let target = this.storage.getComponent(i);
            if (target === undefined) {
                //console.log("| %" + i);
                continue;
            }
            //console.log("| -" + target.entity);
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
            this.events.emit('aware_update', target, [], [viewer.entity]);
        }
        for (let e of newWalls) {
            if (commonWalls.indexOf(e) !== -1)
                continue;
            let target = this.storage.getComponent(e);
            if (target === undefined) {
                //console.log("| ^" + e);
                continue;
            }
            //console.log("| +" + target.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    onComponentAdd(comp) {
        if (comp.type === VISIBILITY_AWARE_TYPE) {
            this.visibleElementMove(comp);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            if ('polygon' in changed) {
                this.visibilityChange(vis, vis.polygon, vis.range);
            }
            if ('_canSeeWalls' in changed) {
                this.onViewBlockerEdited(vis, vis._canSeeWalls, changed.walls);
            }
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let visAware = this.storage.getComponent(comp.entity);
            if (visAware === undefined)
                return;
            this.visibleElementMove(visAware);
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            this.visibilityChange(vis, undefined, 0);
            this.onViewBlockerEdited(vis, [], vis._canSeeWalls);
        }
        else if (comp.type === VISIBILITY_AWARE_TYPE) {
            let va = comp;
            va.visibleBy;
            let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
            for (let p of va.visibleBy) {
                let vis = visStorage.getComponent(p);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, va.entity);
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilitySystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilitySystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_TYPE": () => (/* binding */ VISIBILITY_TYPE),
/* harmony export */   "VISIBILITY_BLOCKER_TYPE": () => (/* binding */ VISIBILITY_BLOCKER_TYPE),
/* harmony export */   "VisibilitySystem": () => (/* binding */ VisibilitySystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");








const VISIBILITY_TYPE = 'visibility';
const VISIBILITY_BLOCKER_TYPE = 'visibility_blocker';
/**
 * Please don't stick a visibility component to an entity with a wall component (or vice-versa),
 * they don't go along together too much, for a lot of reasons.
 *
 * This system queries every entity with a VisibilityComponent and keeps it updated, by that I mean:
 * - Recompute the visibility polygon when the range changes
 * - Recompute the visibility polygon when the walls change
 *
 * Little note on visibility polygon algorithms:
 * General polygons are a mess to deal with, but the visibility polygon is a bit easier than most.
 * Since there are no portals nor mirrors in the game (yet!) each point in the polygon is visible from the center.
 * How can this property help in any way? Let me make an example:
 * We can easily compute if a point is inside of this polygon by doing a binary search on the angles, so the algorithm
 * becomes of complexity O(log(n)) where n are the polygon points.
 * Another property that I'm using is that a visibility polygon is much easier to triangulate!
 * Cut off all those ear cutting algorithms, just make triangles starting from the center!
 */
class VisibilitySystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_TYPE;
        this.dependencies = [_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_TYPE, false, false);
        this.blockerStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_BLOCKER_TYPE, false, false);
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__.DynamicTree();
        this.world = world;
        this.interactionSystem = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS).size;
        world.addStorage(this.storage);
        world.addStorage(this.blockerStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    removeTreePolygon(c) {
        if (c._aabbTreeId !== undefined) {
            this.aabbTree.destroyProxy(c._aabbTreeId);
            c._aabbTreeId = undefined;
        }
    }
    updatePolygon(c) {
        // Ignore if it's hidden.
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        if (pos === undefined)
            return;
        // We will recreate it later (if necessary)
        this.removeTreePolygon(c);
        if (c.range <= 0) {
            this.world.editComponent(c.entity, c.type, {
                polygon: undefined,
                polygonAabb: undefined,
                aabb: undefined,
            });
            return;
        }
        let range = c.range * this.gridSize;
        let viewport = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x - range, pos.y - range, pos.x + range, pos.y + range);
        let lines = new Array();
        let blockerIds = new Array();
        let query = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeAabb)(viewport), c => {
            return this.blockerStorage.getComponent(c.entity) !== undefined;
        });
        for (let entry of query) {
            let s = entry.shape;
            if (s.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.ShapeType.LINE)
                throw 'Only line is supported as light blocker shape';
            let lineData = s.data;
            // TODO: check if entity is IN wall.
            lines.push(lineData);
            blockerIds.push(entry.entity);
        }
        let usedBlockers;
        if (c.trackWalls === true) {
            usedBlockers = new Array();
        }
        else {
            usedBlockers = undefined;
        }
        let polygon = (0,_geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__.computeViewport)(lines, viewport, pos, usedBlockers);
        // Recycle the unused viewport object
        viewport.wrapPolygon(polygon);
        if (usedBlockers !== undefined) {
            for (let i = 0; i < usedBlockers.length; i++) {
                usedBlockers[i] = blockerIds[usedBlockers[i]];
            }
        }
        this.world.editComponent(c.entity, c.type, {
            polygon,
            aabb: viewport,
            _canSeeWalls: usedBlockers,
        });
        c._aabbTreeId = this.aabbTree.createProxy(viewport, c);
    }
    recomputeArea(aabb) {
        for (let node of [...this.aabbTree.query(aabb)]) {
            this.updatePolygon(node.tag);
        }
    }
    onComponentAdd(c) {
        if (c.type === VISIBILITY_TYPE) {
            let v = c;
            v._canSee = [];
            this.updatePolygon(v);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
            if (cmp !== undefined) {
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(c.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Component hidden is like component missing, they won't be able to see a thing
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.removeVisibility(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                this.removeVisibilityBlocker(blo);
            }
        }
    }
    onComponentEdited(c, changes) {
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        if (c.type === VISIBILITY_TYPE) {
            if ('range' in changes) {
                this.updatePolygon(c);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blk = this.blockerStorage.getComponent(c.entity);
            if (blk !== undefined) {
                let inter = this.world.getComponent(blk.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(inter.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && 'shape' in changes && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
    }
    onComponentRemoved(c) {
        if (c.type === VISIBILITY_TYPE) {
            this.removeVisibility(c);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            this.removeVisibilityBlocker(c);
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Welcome to the visible!
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                if (cmp !== undefined) {
                    this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
                }
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // Update everything in the next tick so that everyone sees the changes first
            PIXI.Ticker.shared.addOnce(() => {
                for (let c of this.storage.allComponents()) {
                    this.updatePolygon(c);
                }
            });
        }
    }
    removeVisibility(c) {
        this.removeTreePolygon(c);
    }
    removeVisibilityBlocker(c) {
        let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        if (cmp !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/backgroundImageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/backgroundImageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BACKGROUND_IMAGE_TYPE": () => (/* binding */ BACKGROUND_IMAGE_TYPE),
/* harmony export */   "BackgroundImageSystem": () => (/* binding */ BackgroundImageSystem)
/* harmony export */ });
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};




const BACKGROUND_IMAGE_TYPE = 'background_image';
class BackgroundImageSystem {
    constructor(world) {
        this.name = BACKGROUND_IMAGE_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.world = world;
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(BACKGROUND_IMAGE_TYPE, true, true);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, this.onRememberBBBUpdate, this);
    }
    onComponentAdd(c) {
        return __awaiter(this, void 0, void 0, function* () {
            if (c.type !== BACKGROUND_IMAGE_TYPE)
                return;
            let bkgImg = c;
            if (bkgImg.image.byteOffset !== 0) {
                // Copy array to remove offset (TODO: fix)
                // https://github.com/peers/peerjs/issues/715
                bkgImg.image = new Uint8Array(bkgImg.image);
            }
            if (bkgImg.visibilityMap !== undefined) {
                let res = new Uint8Array(bkgImg.visibilityMap); // Copy buffer (adjusts alignment)
                bkgImg.visibilityMap = new Uint32Array(res.buffer);
            }
            let tex = yield (0,_util_pixi__WEBPACK_IMPORTED_MODULE_0__.loadTexture)(bkgImg.image, bkgImg.imageType);
            this.world.addComponent(c.entity, {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                interactive: true,
                entity: c.entity,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE,
                    ignore: false,
                    priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.BACKGROUND,
                    scale: _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.REAL,
                    visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT,
                    visMap: bkgImg.visibilityMap,
                    texture: tex,
                    anchor: { x: 0.5, y: 0.5 },
                    tint: 0xFFFFFF,
                },
            });
        });
    }
    onRememberBBBUpdate(entities) {
        var _a, _b;
        let gstor = this.world.storages.get(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        for (let e of entities) {
            let c = this.storage.getComponent(e);
            if (c === undefined)
                continue;
            c.visibilityMap = (_b = (_a = gstor.getComponent(e)) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.visMap;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/command.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/command/command.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "executeAndLogCommand": () => (/* binding */ executeAndLogCommand),
/* harmony export */   "emitCommand": () => (/* binding */ emitCommand),
/* harmony export */   "commandRegisterPreConsequence": () => (/* binding */ commandRegisterPreConsequence),
/* harmony export */   "commandRegisterPostConsequence": () => (/* binding */ commandRegisterPostConsequence)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");

function executeAndLogCommand(world, command) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_LOG, command, res);
    return res.inverted;
}
function emitCommand(world, command, share = false) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, command, res, share);
    return res.inverted;
}
function commandRegisterPreConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_PRE_CONSEQUENCE, command);
}
function commandRegisterPostConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_PRE_CONSEQUENCE, command);
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandHistorySystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/command/commandHistorySystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COMMAND_HISTORY_TYPE": () => (/* binding */ COMMAND_HISTORY_TYPE),
/* harmony export */   "CommandHistorySystem": () => (/* binding */ CommandHistorySystem)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");

const HISTORY_LIMIT = 128;
const COMMAND_HISTORY_TYPE = 'command_history';
class CommandHistorySystem {
    constructor(world) {
        this.name = COMMAND_HISTORY_TYPE;
        this.dependencies = [_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE];
        this.isLastPartial = false;
        this.index = 0;
        this.world = world;
        this.history = new Array();
        this.commandSys = this.world.systems.get(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE);
        this.commandSys.logger = this;
        this.world.events.on("command_undo", this.onUndo, this);
        this.world.events.on("command_redo", this.onRedo, this);
    }
    historyPush(cmd) {
        if (this.history.length !== this.index) {
            this.history.length = this.index;
        }
        this.history.push(cmd);
        this.index++;
        if (this.index > HISTORY_LIMIT) {
            this.index--;
            // TODO: use some kind of random-access splice-able deque?
            this.history.shift();
        }
    }
    historyReplacePrev(cmd) {
        this.history[this.index - 1] = cmd;
    }
    historyUndo(replace) {
        this.historyReplacePrev(replace);
        this.index--;
    }
    historyRedo(replace) {
        this.index++;
        this.historyReplacePrev(replace);
    }
    historyPeekPrev() {
        if (this.index <= 0)
            return undefined;
        return this.history[this.index - 1];
    }
    historyPeekNext() {
        if (this.index >= this.history.length)
            return undefined;
        return this.history[this.index];
    }
    notifyHistoryChange() {
        this.world.events.emit("command_history_change", this.canUndo(), this.canRedo());
    }
    closePartial() {
        this.isLastPartial = false;
    }
    processPartial(cmd, partial) {
        if (this.isLastPartial && !partial) {
            this.isLastPartial = false;
            // continue, this is the last partial round
        }
        else {
            // it's not partial (but also the last one was also not a partial)
            if (!partial)
                return false;
            // the last one was not partial but this one is,
            // add the command to the queue and wait for the next
            if (!this.isLastPartial && partial) {
                this.isLastPartial = true;
                return false;
            }
        }
        let lastCmd = this.historyPeekPrev();
        if (cmd.kind !== lastCmd.cmd.kind) {
            console.warn("Warning: processing a partial with a wrong last kind, did you forget to log the last partial command");
            return false;
        }
        let kind = this.commandSys.getKind(cmd.kind);
        kind.merge(cmd, lastCmd.cmd);
        this.historyReplacePrev({
            cmd,
        });
        return true;
    }
    logPrepare(partial) {
        // TODO
        /*this.prepared = {
            cmd: { kind: 'none'} as NoneCommand,
            post: [], pre: [],
        };*/
    }
    logCommit(cmd, partial) {
        //console.log("LOG", JSON.stringify(cmd));
        if (cmd === undefined) {
            if (!partial) {
                this.closePartial();
            }
            return;
        }
        if (this.processPartial(cmd, partial)) {
            return;
        }
        this.historyPush({ cmd });
        this.notifyHistoryChange();
    }
    executeEmit(cmd) {
        let res = {};
        this.world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, cmd, res);
        return res.inverted || { kind: 'none' };
    }
    onUndo() {
        let cmd = this.historyPeekPrev();
        if (cmd === undefined) {
            console.log("Nothing to undo");
            return;
        }
        this.historyUndo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    onRedo() {
        let cmd = this.historyPeekNext();
        if (cmd === undefined) {
            console.log("Nothing to redo");
            return;
        }
        this.historyRedo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    canRedo() {
        return this.history.length > this.index;
    }
    canUndo() {
        return this.index > 0;
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/commandSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_COMMAND_EMIT": () => (/* binding */ EVENT_COMMAND_EMIT),
/* harmony export */   "EVENT_COMMAND_LOG": () => (/* binding */ EVENT_COMMAND_LOG),
/* harmony export */   "EVENT_COMMAND_PARTIAL_END": () => (/* binding */ EVENT_COMMAND_PARTIAL_END),
/* harmony export */   "EVENT_COMMAND_ADD_PRE_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_PRE_CONSEQUENCE),
/* harmony export */   "EVENT_COMMAND_ADD_POST_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_POST_CONSEQUENCE),
/* harmony export */   "COMMAND_TYPE": () => (/* binding */ COMMAND_TYPE),
/* harmony export */   "CommandSystem": () => (/* binding */ CommandSystem)
/* harmony export */ });
/* harmony import */ var _spawnCommand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _despawnCommand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./despawnCommand */ "./src/app/ecs/systems/command/despawnCommand.ts");
/* harmony import */ var _componentEdit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resourceEditCommand */ "./src/app/ecs/systems/command/resourceEditCommand.ts");
/* harmony import */ var _eventCommand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./eventCommand */ "./src/app/ecs/systems/command/eventCommand.ts");
/* harmony import */ var _noneCommand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./noneCommand */ "./src/app/ecs/systems/command/noneCommand.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");







const EVENT_COMMAND_EMIT = 'command_emit';
const EVENT_COMMAND_LOG = 'command_log';
const EVENT_COMMAND_PARTIAL_END = 'command_partial_end';
const EVENT_COMMAND_ADD_PRE_CONSEQUENCE = 'command_add_precons';
const EVENT_COMMAND_ADD_POST_CONSEQUENCE = 'command_add_poscons';
const COMMAND_TYPE = 'command';
class CommandSystem {
    constructor(world) {
        this.name = COMMAND_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE];
        this.commands = new Map();
        this.world = world;
        this.registerDefaultCommands();
        this.world.events.on(EVENT_COMMAND_EMIT, this.onEmit, this);
        this.world.events.on(EVENT_COMMAND_LOG, this.onLog, this);
        this.world.events.on(EVENT_COMMAND_PARTIAL_END, this.onPartialEnd, this);
        this.networkSys = world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE);
    }
    registerCommandKind(kind) {
        this.commands.set(kind.kind, kind);
    }
    registerDefaultCommands() {
        this.registerCommandKind(new _spawnCommand__WEBPACK_IMPORTED_MODULE_0__.SpawnCommandKind(this.world));
        this.registerCommandKind(new _despawnCommand__WEBPACK_IMPORTED_MODULE_1__.DeSpawnCommandKind(this.world));
        this.registerCommandKind(new _componentEdit__WEBPACK_IMPORTED_MODULE_2__.ComponentEditCommandKind(this.world));
        this.registerCommandKind(new _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__.ResourceEditCommandKind(this.world));
        this.registerCommandKind(new _eventCommand__WEBPACK_IMPORTED_MODULE_4__.EventCommandKind(this.world));
        this.registerCommandKind(new _noneCommand__WEBPACK_IMPORTED_MODULE_5__.NoneCommandKind());
    }
    onEmit(command, res, share) {
        var _a;
        let kind = this.commands.get(command.kind);
        if (kind === undefined) {
            console.warn("Error executing command: unknown kind " + kind);
            return undefined;
        }
        if (kind.isNull(command))
            return;
        //console.log("EMIT", JSON.stringify(command));
        if (((_a = this.networkSys) === null || _a === void 0 ? void 0 : _a.isOnline()) === true && (this.world.isMaster || share)) {
            let stripped = kind.stripClient(command);
            if (stripped.length !== 0) {
                this.world.events.emit("command_share", stripped);
            }
        }
        this.world.events.emit('command_pre_execute');
        let inv;
        try {
            inv = kind.applyInvert(command);
        }
        catch (e) {
            console.warn("Cannot apply command", command, e);
            inv = undefined;
        }
        if (res !== undefined) {
            res.inverted = inv;
        }
        this.world.events.emit('command_post_execute', inv);
    }
    onLog(command, res, partial = false) {
        var _a, _b;
        let result = res || {};
        this.onEmit(command, result);
        if (result.inverted !== undefined) {
            let inv = result.inverted;
            let kind = this.commands.get(inv.kind);
            if (kind === undefined) {
                console.warn("Invalid inverted command! " + kind);
                return;
            }
            if (!kind.isNull(inv)) {
                (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(result.inverted, partial);
            }
            else {
                (_b = this.logger) === null || _b === void 0 ? void 0 : _b.logCommit(undefined, partial);
            }
        }
    }
    onPartialEnd() {
        var _a;
        (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(undefined, false);
    }
    getKind(kind) {
        return this.commands.get(kind);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/componentEdit.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/componentEdit.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "componentEditCommand": () => (/* binding */ componentEditCommand),
/* harmony export */   "singleEditCommand": () => (/* binding */ singleEditCommand),
/* harmony export */   "ComponentEditCommandKind": () => (/* binding */ ComponentEditCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");


function componentEditCommand(add, edit, remove, parallel) {
    return {
        kind: 'cedit',
        add,
        edit,
        remove,
        multi: parallel
    };
}
function singleEditCommand(edit) {
    return componentEditCommand(undefined, [edit]);
}
class ComponentEditCommandKind {
    constructor(world) {
        this.kind = 'cedit';
        this.world = world;
    }
    applyInvert(cmd) {
        var _a, _b, _c, _d, _e, _f;
        let inv = {
            kind: 'cedit',
        };
        for (let c of (_a = cmd.add) !== null && _a !== void 0 ? _a : []) {
            inv.remove = (_b = inv.remove) !== null && _b !== void 0 ? _b : [];
            inv.remove.push({
                entity: c.entity,
                type: c.type,
                multiId: c.multiId,
            });
            this.world.addComponent(c.entity, c);
        }
        if (!cmd.multi) {
            for (let c of (_c = cmd.edit) !== null && _c !== void 0 ? _c : []) {
                this.world.editComponent(c.entity, c.type, c.changes, c.multiId, false);
            }
        }
        else {
            let entityMap = new Map();
            for (let c of (_d = cmd.edit) !== null && _d !== void 0 ? _d : []) {
                let x = entityMap.get(c.entity);
                if (x === undefined) {
                    x = [];
                    entityMap.set(c.entity, x);
                }
                x.push({
                    type: c.type,
                    multiId: c.multiId,
                    changes: c.changes,
                });
            }
            for (let [key, val] of entityMap.entries()) {
                this.world.editComponentMultiple(key, val);
            }
        }
        inv.edit = cmd.edit;
        for (let c of (_e = cmd.remove) !== null && _e !== void 0 ? _e : []) {
            let component = this.world.getComponent(c.entity, c.type, c.multiId);
            if (component !== undefined) {
                this.world.removeComponent(component);
                inv.add = (_f = inv.add) !== null && _f !== void 0 ? _f : [];
                inv.add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(component));
            }
        }
        return inv;
    }
    stripClient(cmd) {
        var _a, _b, _c, _d, _e, _f, _g;
        let host_hidden = (_b = (_a = cmd.add) === null || _a === void 0 ? void 0 : _a.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _b !== void 0 ? _b : [];
        let non_host_hidden = (_d = (_c = cmd.remove) === null || _c === void 0 ? void 0 : _c.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _d !== void 0 ? _d : [];
        let predicate = (x) => {
            if (x.clientVisible === false)
                return false;
            if (host_hidden.indexOf(x.entity) > -1)
                return false;
            if (non_host_hidden.indexOf(x.entity) > -1)
                return true;
            return this.world.getComponent(x.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined;
        };
        let partialPredicate = (x) => {
            let real = this.world.getComponent(x.entity, x.type, x.multiId);
            if (real.clientVisible === false && !('clientVisible' in x))
                return false;
            return predicate(x);
        };
        let add = (_e = cmd.add) === null || _e === void 0 ? void 0 : _e.filter(predicate);
        let edit = (_f = cmd.edit) === null || _f === void 0 ? void 0 : _f.filter(partialPredicate);
        let remove = (_g = cmd.remove) === null || _g === void 0 ? void 0 : _g.filter(x => x.type !== _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE && partialPredicate(x));
        edit = edit === null || edit === void 0 ? void 0 : edit.filter(x => {
            if (!('clientVisible' in x.changes))
                return true;
            let orig = this.world.getComponent(x.entity, x.type, x.multiId);
            if (orig === undefined)
                return false;
            if (x.changes.clientVisible === false && orig.clientVisible !== false) {
                remove = remove !== null && remove !== void 0 ? remove : [];
                remove.push({
                    entity: x.entity,
                    type: x.type,
                    multiId: x.multiId,
                });
            }
            else if (x.changes.clientVisible !== false && orig.clientVisible === false) {
                add = add !== null && add !== void 0 ? add : [];
                add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(orig));
            }
            return false;
        });
        let res = new Array();
        if (host_hidden.length !== 0) {
            res.push({
                kind: 'despawn',
                entities: host_hidden,
            });
        }
        if (non_host_hidden.length !== 0) {
            res.push({
                kind: 'spawn',
                entities: non_host_hidden.map(x => this.createEntitySpawnPacket(x)),
            });
        }
        if (((add === null || add === void 0 ? void 0 : add.length) || 0) + ((edit === null || edit === void 0 ? void 0 : edit.length) || 0) + ((remove === null || remove === void 0 ? void 0 : remove.length) || 0) !== 0) {
            let cedit = {
                kind: 'cedit'
            };
            if (add !== undefined)
                cedit.add = add.map(clone);
            if (edit !== undefined) {
                cedit.edit = edit.map(clone);
                if (cmd.multi)
                    cedit.multi = true;
            }
            if (remove !== undefined)
                cedit.remove = remove.map(clone);
            res.push(cedit);
        }
        return res;
    }
    merge(to, from) {
        if (to.multi !== from.multi)
            return false;
        // TODO: from should remove entities added in to.
        //       handle entities edited in to but removed in from
        to.add = mergeNullableArrays(to.add, from.add);
        to.remove = mergeNullableArrays(to.remove, from.remove);
        if (from.edit !== undefined) {
            if (to.edit === undefined) {
                to.edit = from.edit;
            }
            else {
                for (let x of from.edit) {
                    let z = to.edit.find(y => x.entity === y.entity && x.type === y.type && x.multiId === y.multiId);
                    if (z === undefined) {
                        to.edit.push(x);
                    }
                    else {
                        Object.assign(z.changes, x.changes);
                    }
                }
            }
        }
        return true;
    }
    isNull(command) {
        var _a, _b, _c;
        if ((((_a = command.add) === null || _a === void 0 ? void 0 : _a.length) || 0) + (((_b = command.remove) === null || _b === void 0 ? void 0 : _b.length) || 0) !== 0)
            return false;
        for (let edit of (_c = command.edit) !== null && _c !== void 0 ? _c : []) {
            for (let c in edit.changes) {
                return false;
            }
        }
        return true;
    }
    createEntitySpawnPacket(entity) {
        this.world.events.emit('serialize_entity', entity);
        let components = this.world.getAllComponents(entity);
        let comps = [];
        for (let comp of components) {
            if (this.shouldIgnoreComponent0(comp))
                continue;
            comps.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponent)(comp));
        }
        return {
            id: entity,
            components: comps,
        };
    }
    shouldIgnoreComponent0(component) {
        var _a;
        return (component.clientVisible === false) || !((_a = this.world.storages.get(component.type)) === null || _a === void 0 ? void 0 : _a.sync);
    }
}
function mergeNullableArrays(a, b) {
    if (a === undefined)
        return b;
    if (b === undefined)
        return a;
    a.push(...b);
    return a;
}
// I hate JS
function clone(x) {
    return JSON.parse(JSON.stringify(x));
}


/***/ }),

/***/ "./src/app/ecs/systems/command/despawnCommand.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/command/despawnCommand.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DeSpawnCommandKind": () => (/* binding */ DeSpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");

class DeSpawnCommandKind {
    constructor(world) {
        this.kind = 'despawn';
        this.world = world;
    }
    applyInvert(cmd) {
        let saved = this.world.despawnEntitiesSave(cmd.entities);
        return {
            kind: 'spawn',
            entities: saved,
        };
    }
    stripClient(command) {
        let entities = command.entities.filter(x => this.world.getComponent(x, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined);
        if (entities.length === 0)
            return [];
        return [{
                kind: 'despawn',
                entities,
            }];
    }
    merge(to, from) {
        to.entities.push(...from.entities);
        return true;
    }
    isNull(command) {
        return command.entities.length === 0;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/eventCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/eventCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventCommandKind": () => (/* binding */ EventCommandKind)
/* harmony export */ });
class EventCommandKind {
    constructor(world) {
        this.kind = 'event';
        this.world = world;
    }
    applyInvert(cmd) {
        this.world.events.emit(cmd.do.name, ...cmd.do.args);
        return {
            kind: 'event',
            do: cmd.undo,
            undo: cmd.do,
        };
    }
    stripClient(command) {
        return [command];
    }
    merge(to, from) {
        return false;
    }
    isNull(command) {
        return false;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/noneCommand.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/command/noneCommand.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoneCommandKind": () => (/* binding */ NoneCommandKind)
/* harmony export */ });
class NoneCommandKind {
    constructor() {
        this.kind = 'none';
    }
    applyInvert(cmd) {
        return cmd;
    }
    stripClient(command) {
        return [];
    }
    merge(to, from) {
        return true;
    }
    isNull(command) {
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/resourceEditCommand.ts":
/*!************************************************************!*\
  !*** ./src/app/ecs/systems/command/resourceEditCommand.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResourceEditCommandKind": () => (/* binding */ ResourceEditCommandKind)
/* harmony export */ });
class ResourceEditCommandKind {
    constructor(world) {
        this.kind = 'redit';
        this.world = world;
    }
    applyInvert(cmd) {
        let inv = {
            kind: 'redit',
            add: [],
            edit: [],
            remove: [],
        };
        for (let c of cmd.add) {
            inv.remove.push(c.type);
            this.world.addResource(c);
        }
        for (let name in cmd.edit) {
            // Data gets swapped with the changes
            let data = cmd.edit[name];
            this.world.editResource(name, data);
        }
        inv.edit = cmd.edit;
        for (let c of cmd.remove) {
            let res = this.world.getResource(c);
            if (res === undefined)
                continue;
            inv.add.push(res);
            this.world.removeResource(c);
        }
        return inv;
    }
    stripClient(cmd) {
        var _a;
        let add = cmd.add.filter(x => x._sync);
        let edit = {};
        let editc = 0;
        for (let type in cmd.edit) {
            if ((_a = this.world.getResource(type)) === null || _a === void 0 ? void 0 : _a._sync) {
                editc += 1;
                edit[type] = cmd.edit[type];
            }
        }
        let remove = cmd.remove.filter(x => { var _a; return (_a = this.world.getResource(x)) === null || _a === void 0 ? void 0 : _a._sync; });
        if (add.length + editc + remove.length === 0) {
            return [];
        }
        return [{
                kind: 'redit',
                add, edit, remove,
            }];
    }
    merge(to, from) {
        to.add.push(...from.add);
        to.remove.push(...from.remove);
        for (let type in from.edit) {
            if (type in to.edit) {
                Object.assign(to.edit[type], from.edit[type]);
            }
            else {
                to.edit[type] = from.edit[type];
            }
        }
        return true;
    }
    isNull(command) {
        if (command.add.length + command.remove.length !== 0)
            return false;
        for (let type in command.edit) {
            for (let change in command.edit[type]) {
                return false;
            }
        }
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/spawnCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/spawnCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpawnCommandKind": () => (/* binding */ SpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");

class SpawnCommandKind {
    constructor(world) {
        this.kind = 'spawn';
        this.world = world;
    }
    applyInvert(cmd) {
        let entities = cmd.entities.map((x) => x.id);
        this.world.respawnEntities(cmd.entities);
        return {
            kind: 'despawn',
            entities: entities,
        };
    }
    stripClient(command) {
        let new_ents = command.entities.filter((x) => x.components.find((y) => y.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined);
        let map_ents = new_ents.map(x => {
            return {
                id: x.id,
                components: x.components.filter(x => x.clientVisible !== false),
            };
        });
        if (map_ents.length === 0) {
            return [];
        }
        return [{
                kind: 'spawn',
                entities: map_ents,
            }];
    }
    merge(to, from) {
        to.entities.push(...from.entities);
        return true;
    }
    isNull(command) {
        return command.entities.length === 0;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/doorSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/doorSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoorType": () => (/* binding */ DoorType),
/* harmony export */   "DOOR_TYPE": () => (/* binding */ DOOR_TYPE),
/* harmony export */   "DoorSystem": () => (/* binding */ DoorSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");














var DoorType;
(function (DoorType) {
    DoorType["NORMAL_LEFT"] = "normall";
    DoorType["NORMAL_RIGHT"] = "normalr";
    DoorType["ROTATE"] = "rotate";
})(DoorType || (DoorType = {}));
const DOOR_TYPE = 'door';
class DoorSystem {
    constructor(ecs) {
        this.name = DOOR_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__.PIXI_BOARD_TYPE, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(DOOR_TYPE, true, true);
        this.isMasterView = false;
        this.world = ecs;
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.display.Layer();
        this.displayContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        this.pixiBoardSys = ecs.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__.PIXI_BOARD_TYPE);
        this.wallSys = ecs.systems.get(_wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        if (ecs.isMaster) {
            this.world.events.on('interact', this.onInteract, this);
        }
    }
    redrawComponent(door) {
        var _a;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let visible = this.isMasterView || this.world.getComponent(door.entity, _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_9__.REMEMBER_TYPE) !== undefined;
        if (!visible) {
            (_a = door._display) === null || _a === void 0 ? void 0 : _a.clear();
            return;
        }
        // TODO: use interaction shape? (might bug out on translations)
        let line = new _geometry_line__WEBPACK_IMPORTED_MODULE_4__.Line(pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]);
        this.drawLines(door, line);
    }
    drawLines(door, line) {
        let g = door._display;
        if (g === undefined)
            return;
        g.clear();
        g.lineStyle(2, 0, 0.5);
        switch (door.doorType) {
            case DoorType.NORMAL_LEFT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.toY - line.fromY, line.toX - line.fromX);
                if (door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.fromX, line.fromY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.fromY - line.toY, line.fromX - line.toX);
                if (!door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.toX, line.toY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.ROTATE: {
                let r = line.distance() / 2;
                let cx = (line.fromX + line.toX) / 2;
                let cy = (line.fromY + line.toY) / 2;
                g.drawCircle(cx, cy, r);
                break;
            }
            default:
                console.warn("Unknown door type: " + door.doorType);
        }
    }
    openDoor(door, doorType, open) {
        var _a, _b, _c, _d;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let newPos = undefined;
        let newVec = undefined;
        switch (doorType) {
            case DoorType.NORMAL_LEFT: {
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, Math.PI / 2 * (open ? -1 : 1), { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] }, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, angle, { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.ROTATE: {
                let hvx = wall.vec[0] / 2;
                let hvy = wall.vec[1] / 2;
                let origin = { x: pos.x + hvx, y: pos.y + hvy };
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] });
                newVec.x -= newPos.x;
                newVec.y -= newPos.y;
                break;
            }
            default:
                console.warn("Unknown door type: " + doorType);
        }
        let px = (_a = newPos === null || newPos === void 0 ? void 0 : newPos.x) !== null && _a !== void 0 ? _a : pos.x;
        let py = (_b = newPos === null || newPos === void 0 ? void 0 : newPos.y) !== null && _b !== void 0 ? _b : pos.y;
        let vx = (_c = newVec === null || newVec === void 0 ? void 0 : newVec.x) !== null && _c !== void 0 ? _c : wall.vec[0];
        let vy = (_d = newVec === null || newVec === void 0 ? void 0 : newVec.y) !== null && _d !== void 0 ? _d : wall.vec[1];
        let intersectWith = this.wallSys.queryIntersections(px, py, vx, vy);
        if (!(intersectWith.length === 0 || (intersectWith.length === 1 && intersectWith[0] === door.entity))) {
            console.log("Door stuck");
            // Collision, don't split the door pls.
            return false;
        }
        let changes = [];
        if (newPos !== undefined) {
            changes.push({
                entity: door.entity,
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                changes: {
                    x: newPos.x,
                    y: newPos.y,
                },
            });
        }
        if (newVec !== undefined) {
            changes.push({
                entity: door.entity,
                type: _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE,
                changes: {
                    vec: [newVec.x, newVec.y],
                },
            });
        }
        // Commit the edits at the same time to prevent the wall from being split (multi = true)
        // (if we commit position before rotation it might create an overlap situation that should
        // not be there).
        let cmd = {
            kind: 'cedit',
            edit: changes,
            multi: true,
        };
        // Why are we using share?
        // We're editing another synced component, but this (the door) might be hidden.
        // If the master opens a hidden door the "open" message will not be shared but the door should still open for
        // the roleplayers.
        // Addendum: what if the entity is hidden? Then the command will edit a hidden entity so it will be stripped away.
        (0,_command_command__WEBPACK_IMPORTED_MODULE_13__.emitCommand)(this.world, cmd, !door.clientVisible);
        return true;
    }
    onComponentAdd(comp) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            d._display = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
            this.displayContainer.addChild(d._display);
            // Do NOT re-open the door, if it is open it means that it has been loaded from file and the wall is
            // already in the "door open" state. Bad snowy, wtf were you thinking
            this.redrawComponent(d);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            if (wall !== undefined)
                wall._dontMerge++;
        }
        else if (comp.type === _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_9__.REMEMBER_TYPE) {
            let door = this.storage.getComponent(comp.entity);
            if (door !== undefined) {
                this.redrawComponent(door);
            }
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            if ('open' in changed) {
                if (!this.openDoor(d, d.doorType, d.open)) {
                    // TODO: well, this does not work right with the GUI
                    d.open = !d.open;
                }
            }
            if ('doorType' in changed) {
                if (d.open) {
                    this.openDoor(d, changed['doorType'], false) && this.openDoor(d, d.doorType, true);
                }
            }
            this.redrawComponent(d);
        }
        else if (comp.type === 'wall') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
        else if (comp.type === 'position') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
    }
    onComponentRemove(comp) {
        var _a;
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            (_a = d._display) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            wall._dontMerge--;
        }
    }
    onResourceEdited(res, edited) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_10__.LOCAL_LIGHT_SETTINGS_TYPE && 'visionType' in edited) {
            this.isMasterView = res.visionType !== 'rp';
            for (let c of this.storage.allComponents()) {
                this.redrawComponent(c);
            }
        }
    }
    onInteract(entities) {
        for (let entity of entities) {
            let door = this.storage.getComponent(entity);
            if (door === undefined)
                continue;
            let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_12__.singleEditCommand)({
                entity,
                type: DOOR_TYPE,
                changes: {
                    open: !door.open,
                }
            });
            (0,_command_command__WEBPACK_IMPORTED_MODULE_13__.executeAndLogCommand)(this.world, cmd);
        }
    }
    enable() {
        var _a;
        this.layer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_7__.DisplayPrecedence.WALL + 1;
        this.layer.interactive = false;
        _index__WEBPACK_IMPORTED_MODULE_8__.app.stage.addChild(this.layer);
        this.displayContainer.parentLayer = this.layer;
        this.displayContainer.interactive = false;
        this.displayContainer.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.displayContainer);
        this.isMasterView = ((_a = this.world.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_10__.LOCAL_LIGHT_SETTINGS_TYPE)) === null || _a === void 0 ? void 0 : _a.visionType) !== 'rp';
    }
    destroy() {
        this.displayContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
        this.layer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/gridSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/gridSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GRID_TYPE": () => (/* binding */ GRID_TYPE),
/* harmony export */   "GridSystem": () => (/* binding */ GridSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");











const SQRT3 = Math.sqrt(3);
const GRID_TYPE = 'grid';
class GridSystem {
    constructor(world) {
        this.name = GRID_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__.PIXI_BOARD_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_7__.TOOL_TYPE];
        this.internalScale = 1;
        this.posX = 0;
        this.posY = 0;
        this.scaleX = 1;
        this.scaleY = 1;
        this.world = world;
        this.sprite = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.TilingSprite(_PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture.EMPTY, _index__WEBPACK_IMPORTED_MODULE_1__.app.screen.width, _index__WEBPACK_IMPORTED_MODULE_1__.app.screen.height);
        this.sprite.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_5__.DisplayPrecedence.GRID;
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_7__.TOOL_TYPE);
        toolSys.addTool((0,_tools_utils__WEBPACK_IMPORTED_MODULE_9__.createEmptyDriver)(_tools_toolType__WEBPACK_IMPORTED_MODULE_10__.Tool.GRID));
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('resource_remove', this.onResourceRemove, this);
        this.gridRes = Object.assign({
            type: GRID_TYPE,
            _save: true,
            _sync: true,
        }, _game_grid__WEBPACK_IMPORTED_MODULE_4__.STANDARD_GRID_OPTIONS);
        world.addResource(this.gridRes);
        this.updateTex();
        this.updatePos();
    }
    onResourceEdited(res, changed) {
        if (res.type === GRID_TYPE) {
            // Redraw
            this.updateTex();
            this.updatePos();
        }
        else if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__.BOARD_TRANSFORM_TYPE) {
            this.onBoardTransform(res);
        }
    }
    onResourceRemove(res) {
        if (res.type !== GRID_TYPE)
            return;
        throw 'Fool! Thou shall not remove thy grid!';
    }
    onBoardTransform(data) {
        this.posX = data.posX;
        this.posY = data.posY;
        this.scaleX = data.scaleX;
        this.scaleY = data.scaleY;
        this.updatePos();
    }
    onResize(width, height) {
        this.sprite.width = width;
        this.sprite.height = height;
    }
    updateTex() {
        this.sprite.texture.destroy(true);
        if (!this.gridRes.visible) {
            this.sprite.texture = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture.EMPTY;
            return;
        }
        let tex = drawGridTexture(512, this.gridRes.gridType, this.gridRes);
        this.internalScale = this.gridRes.size / 512;
        this.sprite.texture = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture(tex);
    }
    updatePos() {
        this.sprite.tileScale.set(this.scaleX * this.internalScale, this.scaleY * this.internalScale);
        this.sprite.tilePosition.set(this.posX + this.scaleX * this.gridRes.offX * this.gridRes.size, this.posY + this.scaleY * this.gridRes.offY * this.gridRes.size);
    }
    closestPoint(point) {
        if (this.gridRes === undefined)
            return undefined;
        let pnt = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(point[0], point[1]);
        this.sprite.worldTransform.apply(pnt, pnt);
        let pointX = pnt.x / this.gridRes.size - this.gridRes.offX;
        let pointY = pnt.y / this.gridRes.size - this.gridRes.offY;
        let resX;
        let resY;
        switch (this.gridRes.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.SQUARE:
                {
                    let fx = Math.floor(pointX);
                    let fy = Math.floor(pointY);
                    resX = fx;
                    resY = fy;
                    if (pointX > fx + 0.5) {
                        resX += 1;
                    }
                    if (pointY > fy + 0.5) {
                        resY += 1;
                    }
                    // Also check grid center
                    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pointX, pointY, fx + 0.5, fy + 0.5) < (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pointX, pointY, resX, resY)) {
                        resX = fx + 0.5;
                        resY = fy + 0.5;
                    }
                }
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.HEXAGON:
                {
                    // The algorithm here is quite complex and I couldn't find any of this online, so this is my own solution:
                    // (note: hexagon side = 1 because of the initial transformation).
                    // First we can notice that if we colour each point in a different colour depending on which vertex
                    // is closer to him (in a hexagonal grid) we find a grid of equilateral triangles of side 1.
                    // We then transform our grid by 2 / sqrt(3) on the horizontal side so that the height of the triangles
                    // will be the same as their base.
                    // With that done we can put a square grid on top of our triangle grid, each square will hold one
                    // triangle at its center and two halfes at the top and bottom.
                    // We can see which square the point belongs to by flooring the transformed x and y components, then
                    // we can check which triangle the points belongs to by chechinkg if the point is above or below
                    // the diagonal lines of equation: y < 0.5 - x/2 and y > x/2 + 0.5
                    // Note that each triangle column has half of a hexagon so the odd-ones will be flipped.
                    const s = 1 / SQRT3; // Hexagon Side = 1/sqrt(3)
                    let px = (pointX - s / 2) * 2 / SQRT3; // align the point with the triangle grid, and transform the grid
                    let py = pointY;
                    let sx = Math.floor(px);
                    let sy = Math.floor(py);
                    let gx = (px - sx);
                    let gy = (py - sy);
                    let rx = sx * SQRT3 / 2 + s / 2;
                    if (sx % 2 == 0) {
                        // Left side hexagon
                        if (gy < 0.5 - gx / 2) {
                            resY = sy;
                            resX = rx + s / 2;
                        }
                        else if (gy > gx / 2 + 0.5) {
                            resY = sy + 1;
                            resX = rx + s / 2;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s;
                        }
                    }
                    else {
                        // Flipped hexagon: right side hex.
                        if (gy > 1 - gx / 2) {
                            resY = sy + 1;
                            resX = rx + s;
                        }
                        else if (gy < gx / 2) {
                            resY = sy;
                            resX = rx + s;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s / 2;
                        }
                    }
                }
                break;
        }
        pnt.set((resX + this.gridRes.offX) * this.gridRes.size, (resY + this.gridRes.offY) * this.gridRes.size);
        this.sprite.worldTransform.applyInverse(pnt, pnt);
        return [pnt.x, pnt.y];
    }
    enable() {
        _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.on('resize', this.onResize, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.addChild(this.sprite);
        this.onResize(_index__WEBPACK_IMPORTED_MODULE_1__.app.screen.width, _index__WEBPACK_IMPORTED_MODULE_1__.app.screen.height);
    }
    destroy() {
        this.sprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_3__.DESTROY_ALL);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.off('resize', this.onResize, this);
    }
}
// ----------------------------------------- DRAW -----------------------------------------
function drawGridTexture(size, type, options) {
    let canvas;
    switch (type) {
        case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.HEXAGON:
            canvas = drawHex(size, options);
            break;
        case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.SQUARE:
            canvas = drawSquare(size, options);
            break;
        default:
            throw 'Cannot draw unknown type: ' + type;
    }
    return _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.BaseTexture.fromBuffer(new Uint8Array(canvas.data.buffer), canvas.width, canvas.height);
}
function drawSquare(size, opt) {
    //let canvas = new OffscreenCanvas(size, size);
    let canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.strokeRect(0, 0, size + 1, size + 1);
    return ctx.getImageData(0, 0, size, size);
}
function drawHex(size, opt) {
    let s = size / SQRT3; // Side
    let width = Math.floor(3 * s);
    //let canvas = new OffscreenCanvas(width, size);
    let canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    let d = size;
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.moveTo(0, 0);
    ctx.lineTo(s, 0);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.lineTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, 0);
    ctx.moveTo(0, d);
    ctx.lineTo(s, d);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.moveTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, d);
    // Lines before the image:
    ctx.moveTo(0, 0);
    ctx.lineTo(-s / 2, d / 2);
    ctx.lineTo(0, d);
    ctx.stroke();
    return ctx.getImageData(0, 0, width, size);
}
function colorToHex(color, opacity) {
    return '#' + (color << 8 | (255 * opacity)).toString(16).padStart(8, '0');
}


/***/ }),

/***/ "./src/app/ecs/systems/lightSystem.ts":
/*!********************************************!*\
  !*** ./src/app/ecs/systems/lightSystem.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_BACKGROUND": () => (/* binding */ DEFAULT_BACKGROUND),
/* harmony export */   "DEFAULT_LIGHT_SETTINGS": () => (/* binding */ DEFAULT_LIGHT_SETTINGS),
/* harmony export */   "LIGHT_TYPE": () => (/* binding */ LIGHT_TYPE),
/* harmony export */   "LIGHT_SETTINGS_TYPE": () => (/* binding */ LIGHT_SETTINGS_TYPE),
/* harmony export */   "LOCAL_LIGHT_SETTINGS_TYPE": () => (/* binding */ LOCAL_LIGHT_SETTINGS_TYPE),
/* harmony export */   "LightSystem": () => (/* binding */ LightSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");










var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.utils.hex2rgb;





const DEFAULT_BACKGROUND = 0x6e472c;
const DEFAULT_LIGHT_SETTINGS = {
    ambientLight: 0x555555,
    background: DEFAULT_BACKGROUND,
    needsLight: true,
};
const LIGHT_TYPE = 'light';
const LIGHT_SETTINGS_TYPE = 'light_settings';
const LOCAL_LIGHT_SETTINGS_TYPE = 'local_light_settings';
/**
 * How is light rendered?
 * There are three logical passes on a separate framebuffer.
 * Then this framebuffer is pasted onto the real screen.
 * 1. Clear the RGBA channels with the ambient light.
 * 2. Draw only in the ALPHA channel every player mesh (achieved by setting the color to 0)
 * 3. Draw the light only where the ALPHA channel is 1 (using a custom blend mode)
 * 4. Draw the framebuffer on the screen ignoring the ALPHA channel (using a custom blend mode)
 *
 * Why is this usage of the alpha channel used?
 * We need to render light only where visible, so in the RP-view the players vision polygons should be used as a
 * mask for the light (you can't see a light that no player sees). So when the RP-view is enabled the framebuffer is
 * cleared with alpha=0 and the player's vision will fill in the alpha (they should be rendered BEFORE the lights).
 * When the DM-view is enabled the framebuffer is rendered with alpha=1 and the player's view is not drawn.
 *
 * Why isn't the visibility polygon rendering batched?
 * We need uniforms in the shaders to know the distance from the light center: remember that visibility mesh is not only
 * the visibility polygon, it also calculates the distance form the center of the light (to render a proper circle).
 * So yeah, no batched uniforms in WebGL it seems. (TODO: explore more possibilities)
 */
class LightSystem {
    constructor(world) {
        var _a;
        this.name = LIGHT_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE, _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(LIGHT_TYPE);
        this.world = world;
        this.lightLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.display.Layer();
        this.playerContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Container();
        this.lightContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Container();
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_10__.TOOL_TYPE);
        toolSys.addTool((0,_tools_utils__WEBPACK_IMPORTED_MODULE_11__.createEmptyDriver)(_tools_toolType__WEBPACK_IMPORTED_MODULE_12__.Tool.LIGHT));
        world.addStorage(this.storage);
        this.lightSettings = Object.assign({
            type: LIGHT_SETTINGS_TYPE,
            _save: true, _sync: true,
        }, DEFAULT_LIGHT_SETTINGS);
        world.addResource(this.lightSettings);
        this.localLightSettings = {
            type: LOCAL_LIGHT_SETTINGS_TYPE,
            visionType: this.world.isMaster ? 'dm' : 'rp',
            _save: true, _sync: false,
        };
        world.addResource(this.localLightSettings);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_13__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_14__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    createLightVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.createMesh();
        mesh.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1;
        this.lightContainer.addChild(mesh);
        return mesh;
    }
    createPlayerVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.createMesh('player');
        mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.BLEND_MODES.ADD;
        this.playerContainer.addChild(mesh);
        return mesh;
    }
    updateVisMesh(mesh, pos, poly) {
        mesh.visible = true;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.updateMeshPolygons(mesh, pos, poly);
    }
    updateVisUniforms(mesh, center, rangeSquared, color) {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.updateMeshUniforms(mesh, center, rangeSquared, color);
    }
    disableVisMesh(mesh) {
        mesh.visible = false;
    }
    updateVisPolygon(entity, target, color, pos, vis) {
        if (pos === undefined) {
            pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            if (pos === undefined)
                return;
        }
        if (vis === undefined) {
            vis = this.world.getComponent(entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
            if (vis === undefined) {
                this.disableVisMesh(target);
                return;
            }
        }
        if (vis.polygon === undefined) {
            this.disableVisMesh(target);
        }
        else {
            let range = vis.range * this.gridSize;
            this.updateVisMesh(target, pos, vis.polygon);
            this.updateVisUniforms(target, pos, range * range, color);
        }
    }
    updateLightVisPolygon(light, pos, vis) {
        this.updateVisPolygon(light.entity, light._lightDisplay, light.color, pos, vis);
    }
    updatePlayerVisPolygon(player, pos, vis) {
        if (player._lightVisionDisplay === undefined) {
            player._lightVisionDisplay = this.createPlayerVisMesh();
        }
        this.updateVisPolygon(player.entity, player._lightVisionDisplay, 0, pos, vis);
    }
    onComponentAdd(comp) {
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            light._lightDisplay = this.createLightVisMesh();
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE,
                range: light.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
            this.updateLightVisPolygon(light, undefined, vis);
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE) {
            let player = comp;
            if (player._lightVisionDisplay === undefined) {
                player._lightVisionDisplay = this.createPlayerVisMesh();
            }
            let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
            if (vis === undefined) {
                console.error("Player does not have a visibility type");
            }
            this.updatePlayerVisPolygon(player, undefined, vis);
        }
    }
    onComponentEdited(comp, changes) {
        if (comp.type === LIGHT_TYPE) {
            let c = comp;
            if ('range' in changes) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let range = vis.range * this.gridSize;
                    this.updateVisUniforms(c._lightDisplay, pos, range * range, c.color);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changes))
                return;
            let light = this.storage.getComponent(vis.entity);
            if (light !== undefined) {
                this.updateLightVisPolygon(light, undefined, vis);
            }
            else {
                let player = this.world.getComponent(vis.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE);
                if (player !== undefined) {
                    this.updatePlayerVisPolygon(player, undefined, vis);
                }
            }
        }
    }
    onResourceEdited(comp, changed) {
        if (comp.type === _gridSystem__WEBPACK_IMPORTED_MODULE_13__.GRID_TYPE) {
            if (!('size' in changed))
                return;
            let grid = comp;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
        else if (comp.type === LIGHT_SETTINGS_TYPE || comp.type === LOCAL_LIGHT_SETTINGS_TYPE) {
            let arr = [0.0, 0.0, 0.0, 0.0];
            if (this.localLightSettings.visionType === 'dm')
                arr[3] = 1.0;
            hex2rgb(this.lightSettings.ambientLight, arr);
            this.lightLayer.clearColor = arr;
            this.playerContainer.visible = this.localLightSettings.visionType !== 'dm';
            _index__WEBPACK_IMPORTED_MODULE_5__.app.renderer.backgroundColor = this.lightSettings.background;
        }
    }
    onComponentRemove(comp) {
        var _a, _b;
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            (_a = light._lightDisplay) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No light visibility found on removal");
            }
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE) {
            let player = comp;
            (_b = player._lightVisionDisplay) === null || _b === void 0 ? void 0 : _b.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.setup();
        this.lightLayer.useRenderTexture = true;
        this.lightLayer.interactive = false;
        this.lightLayer.interactiveChildren = false;
        this.playerContainer.zOrder = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT - 1;
        this.playerContainer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT - 1;
        this.playerContainer.interactive = false;
        this.playerContainer.interactiveChildren = false;
        let lightSystem = this.world.systems.get(LIGHT_TYPE);
        this.playerContainer.parentLayer = lightSystem.lightLayer;
        this.lightContainer.zOrder = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT;
        this.lightContainer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT;
        this.lightContainer.interactive = false;
        this.lightContainer.interactiveChildren = false;
        this.lightContainer.parentLayer = this.lightLayer;
        this.onResourceEdited(this.lightSettings, {}); // Update the clearColor
        let lightingSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Sprite(this.lightLayer.getRenderTexture());
        lightingSprite.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY;
        lightingSprite.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT;
        lightingSprite.interactive = false;
        lightingSprite.interactiveChildren = false;
        let board = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE);
        board.board.addChild(this.playerContainer, this.lightContainer, this.lightLayer);
        _index__WEBPACK_IMPORTED_MODULE_5__.app.stage.addChild(lightingSprite);
    }
    destroy() {
        this.lightContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.playerContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.lightLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        _index__WEBPACK_IMPORTED_MODULE_5__.app.renderer.backgroundColor = DEFAULT_BACKGROUND;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/pinSystem.ts":
/*!******************************************!*\
  !*** ./src/app/ecs/systems/pinSystem.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIN_TYPE": () => (/* binding */ PIN_TYPE),
/* harmony export */   "PinSystem": () => (/* binding */ PinSystem),
/* harmony export */   "CreatePinToolDriver": () => (/* binding */ CreatePinToolDriver)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");










const PIN_TYPE = 'pin';
class PinSystem {
    constructor(world) {
        this.name = PIN_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PIN_TYPE, true, true);
        this.world = world;
        this.selectionSys = this.world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE);
        if (world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
            toolSys.addTool(new CreatePinToolDriver(this));
        }
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
    }
    onComponentAdd(c) {
        if (c.type !== PIN_TYPE)
            return;
        let pin = c;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (pos === undefined)
            return;
        let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        if (display === undefined) {
            display = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                entity: -1,
                interactive: true,
                display: this.createElement()
            };
            this.world.addComponent(c.entity, display);
        }
        this.redrawComponent(pin, display.display);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PIN_TYPE) {
            let pin = comp;
            let grapc = this.world.getComponent(comp.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
            let pinDisplay = grapc.display;
            this.redrawComponent(pin, pinDisplay);
        }
    }
    createElement() {
        return {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT,
            priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__.DisplayPrecedence.PINS,
            visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
            ignore: false,
            interactive: true,
            color: 0xFFFFFF,
            children: [],
        };
    }
    redrawComponent(pin, display) {
        display.color = pin.color;
        if (pin.label !== undefined) {
            if (display.children.length === 0) {
                display._childrenAdd = [{
                        type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT,
                        ignore: false,
                        interactive: false,
                        priority: 0,
                        visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
                        anchor: { x: 0.5, y: 1.0 },
                        offset: { x: 0, y: -_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__.POINT_RADIUS },
                        color: 0,
                        text: pin.label,
                    }];
            }
            else {
                display.children[0].text = pin.label;
            }
        }
        else {
            display._childrenReplace = [];
        }
        this.world.editComponent(pin.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePinToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.CREATE_PIN;
        // Entity of the pin to be created (or -1)
        this.createPin = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        let color = Math.floor(Math.random() * 0xFFFFFF);
        let display = this.sys.createElement();
        display.color = color;
        display.visib = _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE;
        this.createPin = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createPin !== -1) {
            this.sys.world.despawnEntity(this.createPin);
            this.createPin = -1;
        }
    }
    confirmCreation() {
        if (this.createPin === -1)
            return;
        const world = this.sys.world;
        let id = this.createPin;
        let g = world.getComponent(id, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        world.despawnEntity(id);
        let cmd = {
            kind: 'spawn',
            entities: [{
                    id: world.allocateId(),
                    components: [
                        {
                            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                            x: loc.x,
                            y: loc.y,
                        },
                        {
                            type: PIN_TYPE,
                            color: g.display.color,
                        },
                        {
                            type: _back_layerSystem__WEBPACK_IMPORTED_MODULE_9__.PARENT_LAYER_TYPE,
                            layer: (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_9__.findForeground)(this.sys.world),
                        },
                    ]
                }]
        };
        this.createPin = -1;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.INSPECT,
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_8__.executeAndLogCommand)(world, cmd);
        //this.sys.selectionSys.setOnlyEntity(id);
    }
    onStart() {
        this.initCreation();
    }
    onEnd() {
        this.cancelCreation();
    }
    onPointerClick(event) {
        this.confirmCreation();
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerSystem.ts":
/*!*********************************************!*\
  !*** ./src/app/ecs/systems/playerSystem.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_TYPE": () => (/* binding */ PLAYER_TYPE),
/* harmony export */   "PLAYER_VISIBLE_TYPE": () => (/* binding */ PLAYER_VISIBLE_TYPE),
/* harmony export */   "EVENT_VISIBILITY_SPREAD": () => (/* binding */ EVENT_VISIBILITY_SPREAD),
/* harmony export */   "PlayerSystem": () => (/* binding */ PlayerSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");










const PLAYER_TYPE = 'player';
/**
 * Added to every object that might be visible by a player, it tracks how many players and how many lights
 * are seeing it.
 */
const PLAYER_VISIBLE_TYPE = 'player_visible';
const EVENT_VISIBILITY_SPREAD = 'visibility_spread';
class PlayerSystem {
    constructor(world) {
        var _a;
        this.name = PLAYER_TYPE;
        this.dependencies = [_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PIN_TYPE, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_TYPE, true, true);
        this.visibleStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_VISIBLE_TYPE, false, false);
        // If false a player can see a thing only if it's illuminated by artificial light
        this.ambientIlluminated = false;
        this.world = world;
        this.lightSystem = world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        this.visibilitySystem = world.systems.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_9__.STANDARD_GRID_OPTIONS).size;
        this.world.addStorage(this.storage);
        this.world.addStorage(this.visibleStorage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        let visAware = world.systems.get(_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
        visAware.events.on('aware_update', this.onVisibilityAwareUpdate, this);
    }
    onPlayerVisibleCountersUpdate(t) {
        let newVisible = t._playerNightVisionCount > 0 ||
            ((this.ambientIlluminated || t._lightCount > 0 || t.isWall) && t._playerCount > 0);
        if (newVisible !== t.visible) {
            this.world.editComponent(t.entity, t.type, {
                visible: newVisible,
            });
        }
    }
    onVisibilityAwareUpdate(target, added, removed) {
        let playerVisible = this.visibleStorage.getComponent(target.entity);
        if (playerVisible === undefined)
            return;
        for (let e of added) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount += 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount += 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount += 1;
            }
        }
        for (let e of removed) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount -= 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount -= 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount -= 1;
            }
        }
        this.onPlayerVisibleCountersUpdate(playerVisible);
    }
    onNightVisionUpdate(player) {
        let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let diff = player.nightVision ? +1 : -1;
        let fun = (t) => {
            let playerVisible = this.visibleStorage.getComponent(t);
            if (playerVisible === undefined)
                return;
            playerVisible._playerNightVisionCount += diff;
            this.onPlayerVisibleCountersUpdate(playerVisible);
        };
        for (let t of vis._canSee)
            fun(t);
        if (vis._canSeeWalls)
            for (let t of vis._canSeeWalls)
                fun(t);
    }
    createVisMeshFrom(pos, vis) {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(mesh, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(mesh, pos, r * r, 0xFFFFFF);
        return mesh;
    }
    spreadPlayerVisibility(player, pos, vis, nightVision) {
        if (this.world.getComponent(player, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE))
            return; // Ignore hidden players
        let playerVis = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(playerVis, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(playerVis, pos, r * r, 0xFFFFFF);
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let playerData = {
            mesh: playerVis,
            vis,
            pos,
        };
        let players = [];
        let nightVisPlayers = [];
        let lights = [];
        let aabb;
        if (!nightVision && !this.ambientIlluminated) {
            players.push(playerData);
            aabb = undefined;
            for (let c of this.visibilitySystem.aabbTree.query(vis.aabb)) {
                let visComponent = c.tag;
                let lightComponent = lightStorage.getComponent(visComponent.entity);
                if (lightComponent === undefined || visComponent.range <= 0)
                    continue;
                let pos = posStorage.getComponent(visComponent.entity);
                if (aabb === undefined)
                    aabb = visComponent.aabb.copy();
                else
                    aabb.combine(visComponent.aabb, aabb);
                let mesh = this.createVisMeshFrom(pos, visComponent);
                lights.push({
                    mesh,
                    pos,
                    vis: visComponent,
                });
            }
            if (lights.length === 0)
                return; // no night vision AND no lights = can't see a thing!
            aabb.intersect(vis.aabb, aabb);
        }
        else {
            nightVisPlayers.push(playerData);
            aabb = vis.aabb;
        }
        let data = {
            aabb,
            lights,
            players,
            nightVisPlayers,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        playerData.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let light of data.lights)
            light.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadLightVisibility(lightVis) {
        // Quite similar to spreadPlayerVisibility but follows a light instead of a player,
        // When a light visibility polygon is changed this will query each player in the polygon's reach and
        // spread the visibility (only with that light!)
        if (this.ambientIlluminated)
            return; // Who needs lights?
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let lightPos = posStorage.getComponent(lightVis.entity);
        let lightMesh = this.createVisMeshFrom(lightPos, lightVis);
        let lightData = [{
                mesh: lightMesh,
                pos: lightPos,
                vis: lightVis,
            }];
        let aabb = undefined;
        let players = [];
        for (let c of this.visibilitySystem.aabbTree.query(lightVis.aabb)) {
            let visComponent = c.tag;
            let player = this.storage.getComponent(visComponent.entity);
            if (player === undefined || visComponent.range <= 0 || player.nightVision)
                continue;
            if (aabb === undefined)
                aabb = visComponent.aabb.copy();
            else
                aabb.combine(visComponent.aabb, aabb);
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(player.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            players.push({
                mesh,
                pos,
                vis,
            });
        }
        if (players.length === 0)
            return;
        aabb.intersect(lightVis.aabb, aabb);
        let data = {
            aabb,
            lights: lightData,
            players,
            nightVisPlayers: [],
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        lightData[0].mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let player of players)
            player.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadAfterLightNotNeeded() {
        // Something changed, light is not needed anymore
        // this means that most of the things that were not visible anymore now are
        // but what? and where? this is the questions i will answer today
        let players = [];
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let aabb = undefined;
        for (let player of this.storage.allComponents()) {
            if (player.nightVision)
                continue;
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(vis.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            if (aabb === undefined)
                aabb = vis.aabb.copy();
            else
                aabb.combine(vis.aabb, aabb);
            let data = { mesh, pos, vis };
            players.push(data);
        }
        if (aabb === undefined)
            return; // Not enough players
        let data = {
            aabb,
            lights: [],
            players: [],
            nightVisPlayers: players,
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    getSpreadDataForAabb(aabb, cb) {
        let nightVisPlayers = [];
        let players = [];
        let lights = [];
        let lightsNeeded = !this.ambientIlluminated;
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        for (let c of this.visibilitySystem.aabbTree.query(aabb)) {
            let vis = c.tag;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                let pos = posStorage.getComponent(vis.entity);
                let mesh = this.createVisMeshFrom(pos, vis);
                let data = { mesh, pos, vis };
                if (player.nightVision || !lightsNeeded)
                    nightVisPlayers.push(data);
                else
                    players.push(data);
                continue;
            }
            if (lightsNeeded) {
                let light = lightStorage.getComponent(vis.entity);
                if (light !== undefined) {
                    let pos = posStorage.getComponent(vis.entity);
                    let mesh = this.createVisMeshFrom(pos, vis);
                    let data = { mesh, pos, vis };
                    lights.push(data);
                }
            }
        }
        let realPlayers = players;
        let realLights = lights;
        if (players.length === 0 || lights.length == 0) {
            realPlayers = [];
            realLights = [];
        }
        let data = {
            aabb,
            lights: realLights,
            players: realPlayers,
            nightVisPlayers,
        };
        cb(data);
        for (let x of lights)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of nightVisPlayers)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    onComponentAdd(comp) {
        if (comp.type === PLAYER_TYPE) {
            let player = comp;
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined) {
                console.error("Added player to pin without player visibility! " + comp.entity);
                return;
            }
            pv._playerNightVisionCount++; // A bit hackish, but it works ;)
            this.onPlayerVisibleCountersUpdate(pv);
            // We need a visibility component, create one if it does not already exist
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE,
                range: player.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            let c = comp;
            c._lightCount = 0;
            c._playerCount = 0;
            c._playerNightVisionCount = 0;
            this.world.addComponent(c.entity, (0,_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.newVisibilityAwareComponent)(c.isWall === true));
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PLAYER_TYPE) {
            let c = comp;
            if ('nightVision' in changed) {
                this.onNightVisionUpdate(c);
            }
            if ('range' in changed) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, c.nightVision);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changed))
                return;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, player.nightVision);
                }
                return;
            }
            let light = this.world.getComponent(vis.entity, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                this.spreadLightVisibility(vis);
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === PLAYER_TYPE) {
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No player visibility found on removal");
            }
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined)
                return;
            pv._playerNightVisionCount--; // Gotta undo those hacks
            this.onPlayerVisibleCountersUpdate(pv);
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_SETTINGS_TYPE && 'needsLight' in changed) {
            let light = res;
            this.ambientIlluminated = !light.needsLight;
            for (let comp of this.visibleStorage.allComponents()) {
                this.onPlayerVisibleCountersUpdate(comp);
            }
            if (!light.needsLight) {
                this.spreadAfterLightNotNeeded();
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
        }
    }
    // PUBLIC INTERFACE
    addPlayerVisListener(entity, isWall = false) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined) {
            c = {
                type: PLAYER_VISIBLE_TYPE,
                entity,
                visible: false,
                isWall,
                _refCount: 1,
                _lightCount: 0,
                _playerCount: 0,
                _playerNightVisionCount: 0,
            };
            this.world.addComponent(entity, c);
            return c;
        }
        else {
            c._refCount++;
        }
        return c;
    }
    removePlayerVisListener(entity) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined)
            return;
        c._refCount--;
        if (c._refCount === 0) {
            this.world.removeComponent(c);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.setup();
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/propSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/propSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PROP_TYPE": () => (/* binding */ PROP_TYPE),
/* harmony export */   "PROP_TELEPORT_TYPE": () => (/* binding */ PROP_TELEPORT_TYPE),
/* harmony export */   "PropSystem": () => (/* binding */ PropSystem),
/* harmony export */   "CreatePropToolDriver": () => (/* binding */ CreatePropToolDriver),
/* harmony export */   "PropTeleportLinkToolDriver": () => (/* binding */ PropTeleportLinkToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");












const PROP_TYPE = 'prop';
const PROP_TELEPORT_TYPE = 'prop_teleport';
class PropSystem {
    constructor(world) {
        this.name = PROP_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TYPE, true, true);
        this.teleportStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TELEPORT_TYPE, true, true);
        this.defaultPropType = "ladder_down";
        this.world = world;
        if (world.isMaster) {
            const toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE);
            toolSys.addTool(new CreatePropToolDriver(this));
            toolSys.addTool(new PropTeleportLinkToolDriver(this));
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE);
        this.propTypes = new Map();
        this.loadPropTypes();
        world.addStorage(this.storage);
        world.addStorage(this.teleportStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('prop_use', this.onPropUse, this);
    }
    registerPropType(propType) {
        this.propTypes.set(propType.id, propType);
    }
    loadPropTypes() {
        const atlas = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Loader.shared.resources.props.spritesheet;
        const props = [
            {
                id: 'ladder_up',
                name: 'Ladder Up',
                texture: atlas.textures['ladder_up.png'],
            },
            {
                id: 'ladder_down',
                name: 'Ladder Down',
                texture: atlas.textures['ladder_down.png'],
            },
        ];
        for (let prop of props)
            this.registerPropType(prop);
    }
    getPropType(p) {
        let pType = this.propTypes.get(p.propType);
        if (pType === undefined) {
            console.warn(`Cannot find prop type: ${p.propType}`);
            pType = this.propTypes.get(this.defaultPropType);
            if (pType === undefined) {
                throw "Default prop type is invalid!";
            }
        }
        return pType;
    }
    onComponentAdd(c) {
        if (c.type !== 'prop')
            return;
        let prop = c;
        let propType = this.getPropType(prop);
        this.world.addComponent(c.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: true,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.REMEMBER,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        });
    }
    onComponentEdited(c, changed) {
        if (c.type === PROP_TYPE) {
            let prop = c;
            let pType = this.getPropType(prop);
            let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE).display;
            display.texture = pType.texture;
            this.world.editComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, { display }, undefined, false);
        }
    }
    onComponentRemove(c) {
        if (c.type === 'prop') {
            let tp = this.teleportStorage.getComponent(c.entity);
            if (tp !== undefined)
                this.world.removeComponent(tp);
        }
    }
    onPropUse(entity) {
        let prop = this.storage.getComponent(entity);
        let teleport = this.teleportStorage.getComponent(entity);
        if (prop === undefined || teleport === undefined)
            return;
        let target = this.storage.getComponent(teleport.entity);
        if (target === undefined) {
            console.warn("Unlinked teleporter!");
            return;
        }
        let positions = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let posFrom = positions.getComponent(entity);
        let posTo = positions.getComponent(teleport.targetProp);
        let diffX = posTo.x - posFrom.x;
        let diffY = posTo.y - posFrom.y;
        let shape = this.world.getComponent(entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let pinStorage = this.world.storages.get('pin');
        let query = this.interactionSys.query(shape, x => {
            return pinStorage.getComponent(x.entity) !== undefined;
        });
        let edit = [];
        for (let q of query) {
            let pos = positions.getComponent(q.entity);
            edit.push({
                entity: q.entity,
                type: pos.type,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                }
            });
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_11__.componentEditCommand)(undefined, edit);
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(this.world, cmd);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePropToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP;
        // Entity of the prop to be created
        this.createProp = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        this.createPropType = this.sys.defaultPropType;
        let propType = this.sys.propTypes.get(this.createPropType);
        if (propType === undefined)
            throw 'Illegal prop type: ' + this.createPropType;
        this.createProp = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_3__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
            rotation: 0,
            scale: 1,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.ALWAYS_VISIBLE,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createProp !== -1) {
            this.sys.world.despawnEntity(this.createProp);
            this.createProp = -1;
        }
    }
    confirmCreation() {
        if (this.createProp === undefined)
            return;
        const id = this.createProp;
        const world = this.sys.world;
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let tran = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE);
        world.despawnEntity(id);
        this.createProp = -1;
        let frozenEntity = {
            id: world.allocateId(),
            components: [
                {
                    type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
                    x: loc.x,
                    y: loc.y,
                },
                {
                    type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
                    scale: tran.scale,
                    rotation: tran.rotation,
                },
                {
                    type: PROP_TYPE,
                    propType: this.createPropType,
                },
            ]
        };
        let cmd = {
            kind: 'spawn',
            entities: [frozenEntity]
        };
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(world, cmd);
    }
    onStart() {
        this.initCreation();
    }
    onEnd() {
        this.cancelCreation();
    }
    onPointerClick(event) {
        this.confirmCreation();
    }
}
class PropTeleportLinkToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK;
        this.currentTarget = -1;
        this.sys = sys;
    }
    initialize() {
        this.sys.world.events.on('prop_teleport_link', this.onPropTeleportLink, this);
    }
    destroy() {
        this.sys.world.events.off('prop_teleport_link', this.onPropTeleportLink, this);
    }
    onPropTeleportLink(entity) {
        let tp = this.sys.teleportStorage.getComponent(entity);
        if (tp === undefined) {
            console.warn("Called teleport link on a non-teleport prop, ignoring");
            return;
        }
        this.currentTarget = entity;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK,
        });
    }
    linkTo(target) {
        if (this.sys.storage.getComponent(target) === undefined) {
            console.warn("Trying to link teleport to a non-prop, ignoring");
            return;
        }
        let tper = this.sys.teleportStorage.getComponent(this.currentTarget);
        if (tper === undefined) {
            console.warn("Teleporter has been destroyed");
            return;
        }
        // If the target is itself then delete the link
        let edit = [];
        edit.push({
            entity: tper.entity,
            type: tper.type,
            changes: {
                targetProp: target === this.currentTarget ? -1 : target
            }
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(this.sys.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_11__.componentEditCommand)(undefined, edit));
        this.currentTarget = -1;
    }
    linkCancel() {
        this.currentTarget = -1;
    }
    onStart() {
        document.body.style.cursor = 'crosshair';
    }
    onEnd() {
        this.linkCancel();
        document.body.style.cursor = 'auto';
    }
    onPointerClick(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_7__.getMapPointFromMouseInteraction)(this.sys.world, event);
        let interactionSystem = this.sys.world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let query = interactionSystem.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePoint)(point), x => {
            return this.sys.world.getComponent(x.entity, 'prop') !== undefined;
        });
        for (let found of query) {
            let oldTper = this.currentTarget;
            this.linkTo(found.entity);
            this.sys.selectionSys.setOnlyEntity(oldTper);
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
            return;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/wallSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/wallSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WALL_TYPE": () => (/* binding */ WALL_TYPE),
/* harmony export */   "WallSystem": () => (/* binding */ WallSystem),
/* harmony export */   "CreateWallToolDriver": () => (/* binding */ CreateWallToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");



















const WALL_TYPE = 'wall';
const SELECTION_COLOR = 0x7986CB;
class WallSystem {
    constructor(world) {
        this.name = WALL_TYPE;
        this.dependencies = [_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_15__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_3__.SingleEcsStorage(WALL_TYPE);
        this.isTranslating = false;
        this.world = world;
        // Only masters can create walls
        if (this.world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE);
            toolSys.addTool(new CreateWallToolDriver(this));
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_15__.SELECTION_TYPE);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
    }
    onComponentAdd(component) {
        if (component.type !== WALL_TYPE)
            return;
        let wall = component;
        let pos = this.world.getComponent(wall.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        if (pos === undefined) {
            console.warn("Found wall without position, please add first the position, then the wall");
            return;
        }
        wall._dontMerge = 0;
        this.world.addComponent(component.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE,
            entity: -1,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_11__.ElementType.LINE,
                ignore: false,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_11__.VisibilityType.REMEMBER,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL,
                vec: { x: wall.vec[0], y: wall.vec[1] },
            },
            interactive: true,
            isWall: true,
        });
        this.world.addComponent(component.entity, {
            type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE,
            entity: -1
        });
    }
    fixWallPreTranslation(walls) {
        for (let wall of walls) {
            let visBlock = this.world.getComponent(wall.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
            if (visBlock !== undefined)
                this.world.removeComponent(visBlock);
        }
        // what changes here? a little bittle thing:
        // we need to unfix the wall (remove the intersection breaks).
        let wall_index = new Map();
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        let insertInIndex = (index, wall) => {
            let list = wall_index.get(index);
            if (list === undefined) {
                list = [];
                wall_index.set(index, list);
            }
            list.push(wall);
        };
        for (let wall of walls) {
            if (wall._dontMerge !== 0)
                continue;
            let pos = posStorage.getComponent(wall.entity);
            let p1 = pos.x + "@" + pos.y;
            let p2 = (pos.x + wall.vec[0]) + "@" + (pos.y + wall.vec[1]);
            let tryMerge = (index) => {
                let mergeWithIndex = undefined;
                let walls = wall_index.get(index);
                if (walls === undefined)
                    return false;
                let wlen = walls.length;
                for (let i = 0; i < wlen; i++) {
                    let owall = walls[i];
                    if ((0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.lineSameSlope)(wall.vec[0], wall.vec[1], owall.vec[0], owall.vec[1])) {
                        mergeWithIndex = i;
                        break;
                    }
                }
                if (mergeWithIndex === undefined)
                    return false;
                let mwall = walls[mergeWithIndex];
                let mpos = posStorage.getComponent(mwall.entity);
                let minChanged = false;
                let x = pos.x;
                let y = pos.y;
                let dx = wall.vec[0];
                let dy = wall.vec[1];
                if (p2 === index) {
                    x += dx;
                    y += dy;
                    dx = -dx;
                    dy = -dy;
                }
                if (mpos.x === x && mpos.y === y) {
                    mpos.x += dx;
                    mpos.y += dy;
                    minChanged = true;
                }
                else {
                    mwall.vec[0] += wall.vec[0];
                    mwall.vec[1] += wall.vec[1];
                }
                walls.splice(mergeWithIndex, 1);
                let p;
                if (minChanged) {
                    p = mpos.x + "@" + mpos.y;
                }
                else {
                    p = (mpos.x + mwall.vec[0]) + "@" + (mpos.y + mwall.vec[1]);
                }
                insertInIndex(p, mwall);
                this.world.despawnEntity(wall.entity);
                this.redrawWall(mwall);
                return true;
            };
            if (tryMerge(p1) || tryMerge(p2))
                continue;
            insertInIndex(p1, wall);
            insertInIndex(p2, wall);
        }
    }
    fixWallPostTranslation(walls) {
        // Recompute intersections with other walls.
        // Why not all everything directly? we want to compute also the self-intersections
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        for (let wall of walls) {
            let pos = posStorage.getComponent(wall.entity);
            let points = [pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]];
            this.fixIntersections(points, 0);
            this.world.editComponent(pos.entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, {
                shape: (0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(points[0], points[1], points[2], points[3])),
            });
            if (points.length > 4) {
                pos.x = points[0];
                pos.y = points[1];
                wall.vec[0] = points[2] - pos.x;
                wall.vec[1] = points[3] - pos.y;
            }
            this.redrawWall(wall);
            let plen = points.length;
            let cIds = [];
            let entities = [];
            for (let i = 4; i < plen; i += 2) {
                let entity = this.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                cIds.push(entity.id);
                entities.push(entity);
            }
            this.world.respawnEntities(entities);
            if (cIds.length > 0) {
                this.selectionSys.addEntities(cIds);
                // TODO: optimization, update the selection only once!
            }
        }
        for (let wall of walls) {
            this.world.addComponent(wall.entity, {
                type: "visibility_blocker",
                entity: -1
            });
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type !== WALL_TYPE && comp.type !== _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE)
            return;
        let wall, position;
        if (comp.type === WALL_TYPE) {
            wall = comp;
            position = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        }
        else {
            wall = this.storage.getComponent(comp.entity);
            position = comp;
        }
        if (wall === undefined || position === undefined)
            return;
        if (!this.isTranslating) {
            this.fixWallPreTranslation([wall]);
            this.fixWallPostTranslation([wall]);
        }
        if (comp.type === WALL_TYPE && 'vec' in changed) {
            this.redrawWall(wall);
        }
    }
    redrawWall(wall) {
        let display = this.world.getComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE).display;
        display.vec = { x: wall.vec[0], y: wall.vec[1] };
        this.world.editComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    findLocationOnWall(point, radius) {
        let points = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(point.x - radius, point.y - radius, point.x + radius, point.y + radius)), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        let bestPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        let bestDist = Number.POSITIVE_INFINITY;
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        for (let node of points) {
            let line = node.shape.data;
            if (!line.projectPoint(point, tmpPoint)) {
                continue;
            }
            let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_5__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
            if (dist < bestDist && dist < radius) {
                bestPoint.copyFrom(tmpPoint);
                bestDist = dist;
            }
        }
        if (bestDist !== Number.POSITIVE_INFINITY) {
            return bestPoint;
        }
        else {
            return undefined;
        }
    }
    onComponentRemove(component) {
        if (component.type !== WALL_TYPE)
            return;
        let vblocker = this.world.getComponent(component.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
        if (vblocker !== undefined) {
            this.world.removeComponent(vblocker);
        }
    }
    onToolMoveBegin() {
        this.isTranslating = true;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPreTranslation(walls);
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPostTranslation(walls);
    }
    queryIntersections(posX, posY, vecX, vecY) {
        let strip = [posX, posY, posX + vecX, posY + vecY];
        let ids = new Array();
        this.fixIntersections(strip, 0, undefined, ids);
        return ids;
    }
    fixIntersections(strip, start, end, wallIds) {
        let aabb = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);
        end = end === undefined ? strip.length : end;
        for (let i = start; i < end; i += 2) {
            aabb.minX = Math.min(aabb.minX, strip[i]);
            aabb.minY = Math.min(aabb.minY, strip[i + 1]);
            aabb.maxX = Math.max(aabb.maxX, strip[i]);
            aabb.maxY = Math.max(aabb.maxY, strip[i + 1]);
        }
        let tmpLine = new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(0, 0, 0, 0);
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        let query = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(aabb), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        for (let wall of query) {
            //console.log("Checking wall: ", wall.tag);
            for (let i = start + 2; i < end; i += 2) {
                tmpLine.fromX = strip[i - 2];
                tmpLine.fromY = strip[i - 1];
                tmpLine.toX = strip[i];
                tmpLine.toY = strip[i + 1];
                let line = wall.shape.data;
                let res = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.intersectSegmentVsSegment)(tmpLine, line, tmpPoint);
                // Only continue if the intersection is inside of both lines (not on the edge)
                if (res !== _geometry_collision__WEBPACK_IMPORTED_MODULE_8__.SegmentVsSegmentRes.INTERN)
                    continue;
                // Insert the intersection point in the strip
                //console.log("FIXING AT: " + tmpPoint.x + ", " + tmpPoint.y);
                strip.splice(i, 0, tmpPoint.x, tmpPoint.y);
                i += 2; // Skip this point
                end += 2;
                wallIds === null || wallIds === void 0 ? void 0 : wallIds.push(wall.entity);
            }
        }
        return end;
    }
    createWall(minX, minY, maxX, maxY) {
        let components = [
            {
                entity: -1,
                x: minX,
                y: minY,
                type: _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE,
            },
            {
                type: WALL_TYPE,
                vec: [maxX - minX, maxY - minY],
            },
        ];
        return {
            id: this.world.allocateId(),
            components,
        };
    }
    enable() {
    }
    destroy() {
    }
}
class CreateWallToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_16__.Tool.CREATE_WALL;
        // Sprite of the pin to be created
        this.createdIds = [];
        this.isActive = false;
        this.mouseLastPos = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.sys = sys;
        this.createLastLineDisplay = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Graphics();
        this.pixiBoardSys = sys.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PIXI_BOARD_TYPE);
        sys.world.events.on('component_add', (c) => {
            if (this.isActive && c.type === 'wall') {
                this.createdIds.push(c.entity);
            }
        });
        sys.world.events.on('component_remove', (c) => {
            if (this.isActive && c.type === 'wall' && (0,_util_array__WEBPACK_IMPORTED_MODULE_18__.arrayRemoveElem)(this.createdIds, c.entity)) {
                this.recomputeCreatedLastPos();
            }
        });
    }
    initCreation() {
        this.endCreation();
    }
    endCreation() {
        this.createLastLineDisplay.clear();
        this.createdLastPos = undefined;
        if (this.createdIds.length === 0)
            return;
        this.sys.selectionSys.setOnlyEntities(this.createdIds);
        this.createdIds.length = 0;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_16__.Tool.INSPECT,
        });
    }
    redrawCreationLastLine(pos) {
        this.mouseLastPos = pos;
        let g = this.createLastLineDisplay;
        g.clear();
        if (this.createdLastPos !== undefined) {
            g.moveTo(this.createdLastPos[0], this.createdLastPos[1]);
            g.lineStyle(5, SELECTION_COLOR);
            g.lineTo(pos.x, pos.y);
        }
        g.lineStyle(0);
        if (this.createdIds.length === 0 && this.createdLastPos !== undefined) {
            g.beginFill(0xe51010);
            g.drawCircle(this.createdLastPos[0], this.createdLastPos[1], 10);
        }
        g.beginFill(0x405FFE);
        g.drawCircle(pos.x, pos.y, 10);
    }
    addVertex(point) {
        let lp = this.createdLastPos;
        if (lp === undefined) {
            this.createdLastPos = [point.x, point.y];
        }
        else if (point.x == lp[0] && point.y == lp[1]) {
            this.endCreation();
        }
        else {
            let points = [lp[0], lp[1], point.x, point.y];
            this.sys.fixIntersections(points, 0);
            let plen = points.length;
            for (let i = 2; i < plen; i += 2) {
                let entity = this.sys.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                let cmd = {
                    kind: 'spawn',
                    entities: [entity]
                };
                (0,_command_command__WEBPACK_IMPORTED_MODULE_17__.executeAndLogCommand)(this.sys.world, cmd);
            }
            this.createdLastPos = [point.x, point.y];
        }
    }
    undoVertex(point) {
        if (this.createdLastPos === undefined)
            return;
        this.mouseLastPos = point;
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let cmd = {
                kind: 'despawn',
                entities: [this.createdIds.pop()],
            };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_17__.executeAndLogCommand)(this.sys.world, cmd);
        }
        this.recomputeCreatedLastPos();
    }
    recomputeCreatedLastPos() {
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let id = this.createdIds[this.createdIds.length - 1];
            let wallPos = this.sys.world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            let wall = this.sys.storage.getComponent(id);
            this.createdLastPos = [
                wallPos.x + wall.vec[0],
                wallPos.y + wall.vec[1],
            ];
        }
        this.redrawCreationLastLine(this.mouseLastPos);
    }
    onStart() {
        this.isActive = true;
        this.initCreation();
    }
    onPointerMove(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.redrawCreationLastLine(point);
    }
    onPointerClick(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.addVertex(point);
    }
    onPointerRightDown(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.undoVertex(point);
    }
    onEnd() {
        this.endCreation();
        this.isActive = false;
    }
    initialize() {
        this.createLastLineDisplay.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL + 1;
        this.createLastLineDisplay.interactive = false;
        this.createLastLineDisplay.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.createLastLineDisplay);
        this.pixiBoardSys.board.sortChildren();
    }
    destroy() {
        this.createLastLineDisplay.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/inspect.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/inspect.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InspectToolDriver": () => (/* binding */ InspectToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _rectangularSelection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rectangularSelection */ "./src/app/ecs/tools/rectangularSelection.ts");
/* harmony import */ var _systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");







class InspectToolDriver {
    constructor(world) {
        this.name = _toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.justSelected = [];
        this.lastDownEntities = [];
        this.lastDownSelected = [];
        this.firstEntity = -1;
        this.isDown = false;
        this.canMoveSelected = false;
        this.isMoving = false;
        this.movingStart = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.lastMove = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.lastClick = 0;
        this.isPanning = false;
        this.world = world;
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE);
        this.layerSys = world.systems.get(_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_5__.LAYER_TYPE);
        this.rectSelection = new _rectangularSelection__WEBPACK_IMPORTED_MODULE_4__.RectangularSelection(world);
        this.rectSelection.predicate = id => !this.layerSys.getEntityLayer(id).locked;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_TYPE);
    }
    onPointerClick(event) {
        let now = Date.now();
        if (now - this.lastClick < 800) {
            // double click!
            this.lastClick = 0;
            this.world.events.emit("interact", [...this.lastDownSelected, ...this.lastDownEntities]);
            return;
        }
        this.lastClick = now;
        let ctrlPressed = !!event.data.originalEvent.ctrlKey;
        let entities = this.lastDownEntities.length + this.lastDownSelected.length;
        if (entities === 0 && !ctrlPressed) {
            this.selectionSys.clear();
            return;
        }
        if (ctrlPressed) {
            this.selectionSys.removeEntities(this.lastDownEntities);
            let toRemove = [];
            for (let entity of this.lastDownSelected) {
                if (this.justSelected.indexOf(entity) !== -1)
                    return;
                toRemove.push(entity);
            }
            this.selectionSys.removeEntities(toRemove);
        }
        else if (this.firstEntity !== -1) {
            if (this.selectionSys.selectedEntities.size === 1 && this.selectionSys.selectedEntities.has(this.firstEntity)) {
                this.selectionSys.clear();
            }
            else {
                this.selectionSys.setOnlyEntity(this.firstEntity);
            }
        }
    }
    onPointerDown(event) {
        this.isDown = true;
        this.justSelected.length = 0;
        let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getBoardPosFromOrigin)(this.world, event);
        let ctrlPressed = !!event.data.originalEvent.ctrlKey;
        let entities = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.findEntitiesAt)(this.world, point, true);
        this.lastDownEntities = [];
        this.lastDownSelected = [];
        this.firstEntity = entities.length === 0 ? -1 : entities[0];
        for (let entity of entities) {
            if (this.layerSys.getEntityLayer(entity).locked) {
                this.lastDownEntities.push(entity);
            }
            else {
                this.lastDownSelected.push(entity);
            }
        }
        this.isPanning = this.keyboard.pressedKeys.has(" "); // Check if the space key is pressed;
        if (this.lastDownSelected.length === 0) {
            if (!this.isPanning && this.world.isMaster) {
                this.rectSelection.begin(point);
                event.consumed = true;
            }
            else {
                return;
            }
        }
        // Clients can't move anything (TODO: this should be false)
        event.consumed || (event.consumed = this.world.isMaster);
        // event.consumed = true;
        if (ctrlPressed) {
            let selected = this.selectionSys.selectedEntities;
            for (let entity of this.lastDownSelected) {
                if (!selected.has(entity)) {
                    this.justSelected.push(entity);
                }
            }
            this.selectionSys.addEntities(this.justSelected);
        }
        else if (this.lastDownSelected.length > 0) {
            this.selectionSys.setOnlyEntity(this.lastDownSelected[0]);
        }
        // TODO: better move system
        this.canMoveSelected = this.world.isMaster;
        if (!this.canMoveSelected)
            return;
        let p = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, event);
        this.movingStart.copyFrom(p);
        this.lastMove.set(0, 0);
    }
    onPointerUp(event) {
        this.isDown = false;
        if (this.rectSelection.isActive) {
            this.rectSelection.done();
        }
        if (this.isMoving) {
            this.isMoving = false;
            this.world.events.emit('tool_move_end');
        }
    }
    onPointerMove(event) {
        if (!this.isDown || !this.canMoveSelected || event.canBecomeClick)
            return;
        let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, event);
        if (this.lastDownSelected.length === 0) {
            if (!this.rectSelection.isActive) {
                this.rectSelection.begin(this.movingStart);
            }
            this.rectSelection.moveEnd(point);
        }
        else {
            if (!this.isMoving) {
                this.isMoving = true;
                this.world.events.emit('tool_move_begin');
            }
            let diffX = point.x - this.movingStart.x;
            let diffY = point.y - this.movingStart.y;
            let moveX = diffX - this.lastMove.x;
            let moveY = diffY - this.lastMove.y;
            this.lastMove.set(diffX, diffY);
            this.selectionSys.moveAll(moveX, moveY, this.selectionSys.selectedEntities);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/rectangularSelection.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/tools/rectangularSelection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RectangularSelection": () => (/* binding */ RectangularSelection)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");







class RectangularSelection {
    constructor(world) {
        this.isActive = false;
        this.startPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.endPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.predicate = _ => true;
        this.entitiesInside = new Set();
        this.entitiesSelected = new Set();
        this.isMultiple = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_TYPE);
        this.display = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__.SELECTION_TYPE);
    }
    begin(pos) {
        this.entitiesSelected.clear();
        this.isActive = true;
        this.world.addResource({
            type: _resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE,
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x, pos.y, pos.x, pos.y),
            _save: false,
            _sync: false,
        }, 'update');
        this.startPoint = pos;
        this.endPoint = pos;
        this.isMultiple = this.keyboard.ctrl;
        if (!this.isMultiple) {
            this.selectionSys.clear();
        }
    }
    moveEnd(pos) {
        let added = [];
        let removed = [];
        (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.aabbSameOriginDifference)(this.startPoint, this.endPoint, pos, added, removed);
        for (let x of added) {
            this.addRect(x);
        }
        for (let x of removed) {
            this.removeRect(x);
        }
        this.endPoint = pos;
        this.world.editResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE, {
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(this.startPoint.x, this.startPoint.y, pos.x, pos.y),
        });
    }
    done() {
        this.isActive = false;
        this.world.removeResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE);
        this.entitiesInside.clear();
        this.entitiesSelected.clear();
    }
    onEntityEnter(id) {
        if (this.selectionSys.selectedEntities.has(id)) {
            return;
        }
        this.entitiesSelected.add(id);
        this.selectionSys.addEntities([id]);
    }
    onEntityLeave(id) {
        if (this.entitiesSelected.delete(id)) {
            this.selectionSys.removeEntities([id]);
        }
    }
    addRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            if (this.entitiesInside.has(c.entity))
                return false;
            return this.predicate(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.add(c.entity);
            this.onEntityEnter(c.entity);
        }
    }
    removeRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            return this.entitiesInside.has(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.delete(c.entity);
            this.onEntityLeave(c.entity);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/toolType.ts":
/*!***************************************!*\
  !*** ./src/app/ecs/tools/toolType.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tool": () => (/* binding */ Tool)
/* harmony export */ });
var Tool;
(function (Tool) {
    Tool["INSPECT"] = "inspect";
    Tool["CREATE_WALL"] = "create_wall";
    Tool["CREATE_PIN"] = "create_pin";
    Tool["CREATE_PROP"] = "create_prop";
    Tool["GRID"] = "grid";
    Tool["LIGHT"] = "light";
    Tool["PROP_TELEPORT_LINK"] = "prop_teleport_link";
})(Tool || (Tool = {}));


/***/ }),

/***/ "./src/app/ecs/tools/utils.ts":
/*!************************************!*\
  !*** ./src/app/ecs/tools/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findEntitiesAt": () => (/* binding */ findEntitiesAt),
/* harmony export */   "getBoardPosFromOrigin": () => (/* binding */ getBoardPosFromOrigin),
/* harmony export */   "getMapPointFromMouseInteraction": () => (/* binding */ getMapPointFromMouseInteraction),
/* harmony export */   "createEmptyDriver": () => (/* binding */ createEmptyDriver)
/* harmony export */ });
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _systems_wallSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");




function findEntitiesAt(world, point, multi) {
    let event = _interaction__WEBPACK_IMPORTED_MODULE_0__.QueryHitEvent.queryPoint(point, multi);
    world.events.emit('query_hit', event);
    return event.getSorted();
}
function getBoardPosFromOrigin(world, event, orig) {
    let board = world.systems.get(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PIXI_BOARD_TYPE);
    return event.data.getLocalPosition(board.board, orig);
}
function getMapPointFromMouseInteraction(world, event, orig) {
    let point = getBoardPosFromOrigin(world, event, orig);
    const interSys = world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
    let nearest = interSys.snapDb.findNearest([point.x, point.y]);
    if (nearest !== undefined && nearest[1] < 100) {
        point.set(nearest[0][0], nearest[0][1]);
    }
    else {
        const wallSys = world.systems.get(_systems_wallSystem__WEBPACK_IMPORTED_MODULE_3__.WALL_TYPE);
        let onWallLoc = wallSys === null || wallSys === void 0 ? void 0 : wallSys.findLocationOnWall(point, 50);
        if (onWallLoc !== undefined) {
            point.copyFrom(onWallLoc);
        }
    }
    return point;
}
function createEmptyDriver(name) {
    return new EmptyToolDriver(name);
}
class EmptyToolDriver {
    constructor(name) {
        this.name = name;
    }
}


/***/ }),

/***/ "./src/app/ecs/world.ts":
/*!******************************!*\
  !*** ./src/app/ecs/world.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "World": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _systemGraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./systemGraph */ "./src/app/ecs/systemGraph.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");
// Welcome to this talk, I'll present to you: my stupid version of ECS.
// What am I trying to solve?
// Everything in the map will need to hold information, this might be a player holding inventory or maybe a monster
// holding to lifepoints and such.
// What's more? every entity might have multiple names and only some of them might be public
// so we also have something similar to a "multiple component".



class World {
    constructor(isMaster) {
        this.systems = new _systemGraph__WEBPACK_IMPORTED_MODULE_0__.SystemGraph();
        this.storages = new Map();
        this.storageList = new Array();
        this.entities = new Set();
        this.resources = new Map();
        this.systemsFinalized = false;
        this.isDeserializing = false;
        //      Event list:
        // entity_spawn(id)
        // entity_spawned(id) - After an entity is spawned
        // entity_despawn(id)
        // entity_despawned(id) - After an entity is despawned
        // component_add(component)
        // component_edit(changes, component) - Before the component is edited
        // component_edited(component, changes) - After the component is edited
        // component_remove(component)
        // component_removed(component)
        // resource_add(resource)
        // resource_added(resource)
        // resource_edit(oldRes, newRes)
        // resource_remove(resource)
        // resource_removed(resource)
        // clear()
        // cleared()
        // serialize()
        // serialized(res)
        // serialize_entity(entity)
        // deserialize(data)
        // deserialized()
        //      External events:
        // query_hit(event: QueryHitEvent)
        // selection_begin(entities)
        // selection_end(entities)
        // selection_update()
        // tool_move_begin()
        // tool_move_end()
        //      TODO
        // batch_update_begin()
        // batch_update_end()
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__.default();
        this.isMaster = isMaster;
    }
    getStorage(name) {
        let s = this.storages.get(name);
        if (s === undefined) {
            throw "Cannot find storage " + name;
        }
        return s;
    }
    allocateId() {
        let id = -1;
        do {
            id = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
        } while (this.entities.has(id));
        return id;
    }
    spawnEntity(...components) {
        let id = this.allocateId();
        this.spawnEntityManual(id, components);
        return id;
    }
    spawnEntityManual(id, components) {
        this.entities.add(id);
        this.events.emit('entity_spawn', id);
        for (let comp of components) {
            this.addComponent(id, comp);
        }
        this.events.emit('entity_spawned', id);
    }
    // TODO: deal with entity links
    respawnEntities(data) {
        for (let entity of data) {
            if (entity.id === -1) {
                entity.id = this.allocateId();
            }
            this.entities.add(entity.id);
            this.events.emit('entity_spawn', entity.id);
        }
        for (let entity of data) {
            for (let c of entity.components) {
                this.addComponent(entity.id, c);
            }
        }
        for (let entity of data) {
            this.events.emit('entity_spawned', entity.id);
        }
    }
    despawnEntitiesSave(entities) {
        let res = [];
        for (let entity of entities) {
            let comp = this.saveAllComponents(entity);
            res.push({
                id: entity,
                components: comp,
            });
        }
        for (let entity of entities) {
            this.despawnEntity(entity);
        }
        return res;
    }
    despawnEntity(entity) {
        this.events.emit('entity_despawn', entity);
        for (let i = this.storageList.length - 1; i >= 0; --i) {
            let storage = this.storageList[i];
            let comps = [...storage.getComponents(entity)];
            if (comps.length === 0)
                continue;
            for (let component of comps) {
                this.events.emit('component_remove', component);
            }
            storage.unregisterAllOf(entity);
            for (let component of comps) {
                this.events.emit('component_removed', component);
            }
        }
        this.entities.delete(entity);
        this.events.emit('entity_despawned', entity);
    }
    addSystem(system) {
        if (this.systemsFinalized)
            throw 'Too late to add a system';
        try {
            this.systems.register(system);
        }
        catch (e) {
            throw new Error("Error while mounting " + system.name + ": " + e);
        }
    }
    hasAllComponents(entity, ...types) {
        for (let t of types) {
            if (this.getComponent(entity, t) === undefined)
                return false;
        }
        return true;
    }
    addComponent(entity, cmp) {
        cmp.entity = entity;
        let storage = this.storages.get(cmp.type);
        if (storage === undefined) {
            throw new Error('Cannot register component of type ' + cmp.type + ', no storage found');
        }
        storage.register(cmp);
        this.events.emit('component_add', cmp);
    }
    removeComponent(cmp) {
        this.events.emit('component_remove', cmp);
        let storage = this.getStorage(cmp.type);
        storage.unregister(cmp);
        this.events.emit('component_removed', cmp);
    }
    removeComponentType(entity, type) {
        for (let c of this.getStorage(type).getComponents(entity)) {
            this.removeComponent(c);
        }
    }
    addStorage(storage) {
        this.storages.set(storage.type, storage);
        this.storageList.push(storage);
    }
    getComponent(entity, type, multiId) {
        let storage = this.getStorage(type);
        return storage.getFirstComponent(entity, multiId);
    }
    saveAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            if (!storage.save)
                continue;
            res.push(...storage.getComponents(entity));
        }
        return res.map(_ecsUtil__WEBPACK_IMPORTED_MODULE_2__.filterComponent);
    }
    getAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            res.push(...storage.getComponents(entity));
        }
        return res;
    }
    editComponent(entity, type, changes, multiId, clearCh = true) {
        let c = this.getComponent(entity, type, multiId);
        if (c === undefined) {
            throw 'Cannot find component ' + type + ' of entity: ' + entity;
        }
        if (clearCh && !clearChanges(c, changes))
            return; // No real changes
        this.events.emit('component_edit', c, changes);
        let changed = assignSwap(c, changes);
        this.events.emit('component_edited', c, changed);
    }
    editComponentMultiple(entity, changes) {
        if (changes.length === 0)
            return;
        if (changes.length === 1) {
            this.editComponent(entity, changes[0].type, changes[0].changes, changes[0].multiId, changes[0].clearChanges);
            return;
        }
        let chs = changes;
        for (let change of chs) {
            let c = this.getComponent(entity, change.type, change.multiId);
            if (c === undefined) {
                throw 'Cannot find component ' + change.type + ' of entity: ' + entity;
            }
            change._comp = c;
            if (change.clearChanges && !clearChanges(c, changes)) {
                change._skip = true;
            }
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edit', change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            assignSwap(change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edited', change._comp, change.changes);
        }
    }
    addResource(resource, ifPresent = 'fail') {
        if (this.resources.has(resource.type)) {
            switch (ifPresent) {
                case 'ignore': break;
                case 'update':
                    this.editResource(resource.type, resource);
                    break;
                default: throw 'Resource type already present';
            }
            return;
        }
        this.events.emit('resource_add', resource);
        if (this.resources.has(resource.type))
            throw '"resource_add" event has added a resource of the same type!';
        this.resources.set(resource.type, resource);
        this.events.emit('resource_added', resource);
    }
    getResource(type) {
        return this.resources.get(type);
    }
    editResource(type, changes) {
        let res = this.getResource(type);
        if (res === undefined) {
            throw 'Cannot find resource ' + type;
        }
        if (!clearChanges(res, changes))
            return; // No real changes
        this.events.emit('resource_edit', res, changes);
        assignSwap(res, changes); // changes now has old values
        this.events.emit('resource_edited', res, changes);
    }
    removeResource(type, failIfNotPresent = true) {
        let resource = this.resources.get(type);
        if (resource === undefined) {
            if (failIfNotPresent)
                throw 'Resource type not found';
            return;
        }
        this.events.emit('resource_remove', resource);
        this.resources.delete(type);
        this.events.emit('resource_removed', resource);
    }
    enable() {
        for (let system of this.systems) {
            system.enable();
        }
    }
    destroy() {
        for (let i = this.systems.size() - 1; i >= 0; i--) {
            let system = this.systems.getAt(i);
            system.destroy();
        }
    }
    serialize() {
        this.events.emit('serialize', 'save');
        let storages = {};
        for (let storage of this.storages.values()) {
            if (!storage.save)
                continue;
            storages[storage.type] = storage.serialize();
        }
        let resources = {};
        for (let resource of this.resources.values()) {
            if (resource._save === false)
                continue; // undefined is treated as true so that loaded resources get saved again
            let res = {};
            for (let name in resource) {
                if (name[0] === '_' || name === 'type')
                    continue;
                res[name] = resource[name];
            }
            resources[resource.type] = res;
        }
        let res = {
            entities: [...this.entities],
            storages,
            resources,
        };
        this.events.emit('serialized', res);
        return res;
    }
    serializeClient() {
        this.events.emit('serialize', 'client');
        let storages = {};
        let hostHidden = this.getStorage('host_hidden');
        for (let storage of this.storages.values()) {
            if (!storage.save || !storage.sync)
                continue;
            storages[storage.type] = storage.serializeClient((e) => hostHidden.getFirstComponent(e) !== undefined);
        }
        let resources = {};
        for (let resource of this.resources.values()) {
            if (resource._save === false || resource._sync === false)
                continue;
            let res = {};
            for (let name in resource) {
                if (name[0] === '_' || name === 'type')
                    continue;
                res[name] = resource[name];
            }
            resources[resource.type] = res;
        }
        let res = {
            entities: [...this.entities].filter((e) => hostHidden.getFirstComponent(e) === undefined),
            storages,
            resources,
        };
        this.events.emit('serialized', res);
        return res;
    }
    deserialize(data) {
        this.clear();
        this.isDeserializing = true;
        this.events.emit('deserialize', data);
        for (let type in data.resources) {
            let res = data.resources[type];
            res.type = type;
            this.addResource(res, 'update');
        }
        for (let entity of data.entities) {
            this.entities.add(entity);
            this.events.emit('entity_spawn', entity);
        }
        for (let type in data.storages) {
            let storage = this.storages.get(type);
            if (storage === undefined) {
                console.error("Cannot deserialize storage type: " + type + ", ignoring");
                continue;
            }
            storage.deserialize(this, data.storages[type]);
        }
        for (let entity of data.entities) {
            this.events.emit('entity_spawned', entity);
        }
        this.isDeserializing = false;
        this.events.emit('deserialized');
    }
    clear() {
        this.events.emit('clear');
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        // Round 2 (if some entity gets spawned on despawn)
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        if (this.entities.size !== 0)
            throw 'Entities spawned while clearing!';
        this.events.emit('cleared');
    }
    /**
     * TODO: use Vue 3
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}
function assignSwap(obj, changes) {
    for (let name in changes) {
        let tmp = changes[name];
        changes[name] = obj[name];
        obj[name] = tmp;
    }
    return changes;
}
function clearChanges(from, changes) {
    let changec = 0;
    for (let change in changes) {
        if (from[change] === changes[change]) {
            delete changes[change];
        }
        else {
            changec++;
        }
    }
    return changec !== 0;
}


/***/ }),

/***/ "./src/app/game/grid.ts":
/*!******************************!*\
  !*** ./src/app/game/grid.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridType": () => (/* binding */ GridType),
/* harmony export */   "STANDARD_GRID_OPTIONS": () => (/* binding */ STANDARD_GRID_OPTIONS)
/* harmony export */ });
var GridType;
(function (GridType) {
    GridType[GridType["SQUARE"] = 0] = "SQUARE";
    GridType[GridType["HEXAGON"] = 1] = "HEXAGON";
})(GridType || (GridType = {}));
const STANDARD_GRID_OPTIONS = {
    visible: true,
    gridType: GridType.SQUARE,
    color: 0,
    thick: 10,
    opacity: 0.75,
    size: 128,
    offX: 0,
    offY: 0,
};


/***/ }),

/***/ "./src/app/game/pointDB.ts":
/*!*********************************!*\
  !*** ./src/app/game/pointDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointDB": () => (/* binding */ PointDB)
/* harmony export */ });
/* harmony import */ var _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/k2dTree */ "./src/app/util/k2dTree.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");


class PointDB {
    constructor(grid) {
        // In js we cannot create a Map with a custom object as key -_-
        this.counter = new Map();
        this.tree = new _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__.K2dTree();
        this.count = 0;
        this.grid = grid;
    }
    insert(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = this.counter.get(ptrStr) || 0;
        this.counter.set(ptrStr, p + 1);
        if (p == 0) {
            this.tree.insert(point);
        }
        this.count++;
    }
    remove(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = (this.counter.get(ptrStr) || 0) - 1;
        if (p == 0) {
            this.counter.delete(ptrStr);
            if (!this.tree.remove(point)) {
                console.error('Failed to remove node: ' + point);
            }
        }
        else if (p > 0) {
            this.counter.set(ptrStr, p);
        }
        else {
            return false;
        }
        this.count--;
        return true;
    }
    findNearest(point) {
        let treeNearest = this.tree.nearestPoint(point);
        let gridNearest = undefined;
        if (this.grid !== undefined) {
            gridNearest = this.grid.closestPoint(point);
        }
        if (gridNearest !== undefined) {
            let gridDist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(point[0], point[1], gridNearest[0], gridNearest[1]);
            if (treeNearest === undefined || gridDist < treeNearest[1]) {
                return [gridNearest, gridDist];
            }
        }
        return treeNearest;
    }
}


/***/ }),

/***/ "./src/app/game/pointLightRenderer.ts":
/*!********************************************!*\
  !*** ./src/app/game/pointLightRenderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setup": () => (/* binding */ setup),
/* harmony export */   "createMesh": () => (/* binding */ createMesh),
/* harmony export */   "updateMeshPolygons": () => (/* binding */ updateMeshPolygons),
/* harmony export */   "updateMeshUniforms": () => (/* binding */ updateMeshUniforms)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2rgb;
// Other methods: https://github.com/mattdesl/lwjgl-basics/wiki/2D-Pixel-Perfect-Shadows
const LIGHT_VERTEX_SHADER = `
    precision mediump float;
    attribute vec2 aVertexPosition;
    
    varying vec2 vecPos;

    uniform mat3 translationMatrix;
    uniform mat3 projectionMatrix;

    void main() {
        vecPos = aVertexPosition;
        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    }
`;
const LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - clamp(distSq / radSquared, 0., 1.);
        gl_FragColor = vec4(color, 1) * (intensity * intensity);// Pre multiplied alpha
    }
`;
const CONST_LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = float(distSq <= radSquared);
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
const PLAYER_VIS_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - smoothstep(0.9, 1.0, clamp(distSq / radSquared, 0., 1.));
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
let lightProgram = undefined;
let constLightProgram = undefined;
let playerVisProgram = undefined;
function setup() {
    if (lightProgram === undefined) {
        lightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, LIGHT_FRAGMENT_SHADER);
        constLightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, CONST_LIGHT_FRAGMENT_SHADER);
        playerVisProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, PLAYER_VIS_FRAGMENT_SHADER);
    }
}
function createMesh(lightType = 'normal') {
    let geometry = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Geometry();
    let buff = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Buffer(new Float32Array(1));
    geometry.addAttribute('aVertexPosition', buff, 2, false, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.TYPES.FLOAT);
    let program;
    switch (lightType) {
        case 'normal':
            program = lightProgram;
            break;
        case 'const':
            program = constLightProgram;
            break;
        case 'player':
            program = playerVisProgram;
            break;
    }
    // We'll change them all, in due time
    let shaders = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Shader(program, {
        'center': new Float32Array([0.5, 0.5]),
        'radSquared': 10,
        'color': new Float32Array([0, 0, 0]),
    });
    let mesh = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Mesh(geometry, shaders, undefined, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.DRAW_MODES.TRIANGLE_FAN);
    mesh.interactive = false;
    mesh.interactiveChildren = false;
    return mesh;
}
function updateMeshPolygons(mesh, pos, poly) {
    let buffer = mesh.geometry.getBuffer('aVertexPosition');
    let fBuffer = new Float32Array(poly.length + 4);
    fBuffer[0] = pos.x;
    fBuffer[1] = pos.y;
    fBuffer.set(poly, 2);
    fBuffer[poly.length + 2] = poly[0];
    fBuffer[poly.length + 3] = poly[1];
    buffer.update(fBuffer);
}
function updateMeshUniforms(mesh, center, rangeSquared, color) {
    let uni = mesh.shader.uniforms;
    let c = uni.center;
    c[0] = center.x;
    c[1] = center.y;
    uni.radSquared = rangeSquared;
    hex2rgb(color, uni.color);
}


/***/ }),

/***/ "./src/app/geometry/aabb.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/aabb.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Aabb": () => (/* binding */ Aabb)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

class Aabb {
    constructor(x1, y1, x2, y2) {
        if (x1 > x2)
            [x1, x2] = [x2, x1];
        if (y1 > y2)
            [y1, y2] = [y2, y1];
        this.minX = x1;
        this.minY = y1;
        this.maxX = x2;
        this.maxY = y2;
    }
    isValid() {
        return this.minX < this.maxX && this.minY < this.maxY;
    }
    getCenter() {
        return new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point((this.minX + this.maxX) / 2, (this.minY + this.maxY) / 2);
    }
    getPerimeter() {
        return (this.maxX - this.minX + this.maxY - this.minY) * 2;
    }
    translate(x, y, target) {
        target.minX = this.minX + x;
        target.minY = this.minY + y;
        target.maxX = this.maxX + x;
        target.maxY = this.maxY + y;
    }
    combine(other, target) {
        target.minX = Math.min(this.minX, other.minX);
        target.minY = Math.min(this.minY, other.minY);
        target.maxX = Math.max(this.maxX, other.maxX);
        target.maxY = Math.max(this.maxY, other.maxY);
    }
    intersect(other, target) {
        target.minX = Math.max(this.minX, other.minX);
        target.minY = Math.max(this.minY, other.minY);
        target.maxX = Math.min(this.maxX, other.maxX);
        target.maxY = Math.min(this.maxY, other.maxY);
    }
    extend(amount, target) {
        target.minX = this.minX - amount;
        target.minY = this.minY - amount;
        target.maxX = this.maxX - amount;
        target.maxY = this.maxY - amount;
    }
    scale(dx, dy, target) {
        let cx = (this.minX + this.maxX) / 2;
        let cy = (this.minY + this.maxY) / 2;
        let hw = (this.maxX - this.minX) / 2;
        let hh = (this.maxY - this.minY) / 2;
        target.minX = cx - hw * dx;
        target.minY = cy - hh * dy;
        target.maxX = cx + hw * dx;
        target.maxY = cy + hh * dy;
    }
    copyFrom(other) {
        this.minX = other.minX;
        this.minY = other.minY;
        this.maxX = other.maxX;
        this.maxY = other.maxY;
    }
    reset() {
        this.minX = 0;
        this.minY = 0;
        this.maxX = 0;
        this.maxY = 0;
    }
    wrapPolygon(polygon) {
        this.minX = Number.POSITIVE_INFINITY;
        this.minY = Number.POSITIVE_INFINITY;
        this.maxX = Number.NEGATIVE_INFINITY;
        this.maxY = Number.NEGATIVE_INFINITY;
        let len = polygon.length;
        for (let i = 0; i < len; i += 2) {
            this.minX = Math.min(this.minX, polygon[i]);
            this.minY = Math.min(this.minY, polygon[i + 1]);
            this.maxX = Math.max(this.maxX, polygon[i]);
            this.maxY = Math.max(this.maxY, polygon[i + 1]);
        }
    }
    copy() {
        let other = Aabb.zero();
        other.copyFrom(this);
        return other;
    }
    toString() {
        return "AABB(" + this.minX.toFixed(2) + ", " + this.minY.toFixed(2) + ", " + this.maxX.toFixed(2) + ", " + this.maxY.toFixed(2) + ")";
    }
    static zero() {
        return new Aabb(0, 0, 0, 0);
    }
    static fromBounds(b) {
        return new Aabb(b.left, b.top, b.right, b.bottom);
    }
    static fromPoint(p) {
        return new Aabb(p.x, p.y, p.x, p.y);
    }
    static fromPointAnchor(pos, size, anchor) {
        return new Aabb(pos.x - size.x * anchor.x, pos.y - size.y * anchor.y, pos.x + size.x * (1 - anchor.x), pos.y + size.y * (1 - anchor.y));
    }
}


/***/ }),

/***/ "./src/app/geometry/collision.ts":
/*!***************************************!*\
  !*** ./src/app/geometry/collision.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "overlapAabbVsAabb": () => (/* binding */ overlapAabbVsAabb),
/* harmony export */   "containsAabbVsAabb": () => (/* binding */ containsAabbVsAabb),
/* harmony export */   "overlapAabbVsPoint": () => (/* binding */ overlapAabbVsPoint),
/* harmony export */   "overlapAabbVsLine": () => (/* binding */ overlapAabbVsLine),
/* harmony export */   "overlapPointVsCircle": () => (/* binding */ overlapPointVsCircle),
/* harmony export */   "overlapCircleVsAabb": () => (/* binding */ overlapCircleVsAabb),
/* harmony export */   "overlapCircleVsCircle": () => (/* binding */ overlapCircleVsCircle),
/* harmony export */   "overlapCircleVsPolygon": () => (/* binding */ overlapCircleVsPolygon),
/* harmony export */   "overlapObbVsPolygon": () => (/* binding */ overlapObbVsPolygon),
/* harmony export */   "overlapLineVsPolygon": () => (/* binding */ overlapLineVsPolygon),
/* harmony export */   "rotatePointByOrig": () => (/* binding */ rotatePointByOrig),
/* harmony export */   "overlapRotatedRectVsPoint": () => (/* binding */ overlapRotatedRectVsPoint),
/* harmony export */   "overlapRotatedRectVsCircle": () => (/* binding */ overlapRotatedRectVsCircle),
/* harmony export */   "overlapRotatedRectVsLine": () => (/* binding */ overlapRotatedRectVsLine),
/* harmony export */   "computeObbPoints": () => (/* binding */ computeObbPoints),
/* harmony export */   "overlapRotatedRectVsAabb": () => (/* binding */ overlapRotatedRectVsAabb),
/* harmony export */   "overlapRotatedRectVsRotatedRect": () => (/* binding */ overlapRotatedRectVsRotatedRect),
/* harmony export */   "overlapLineVsCircle": () => (/* binding */ overlapLineVsCircle),
/* harmony export */   "SegmentVsSegmentRes": () => (/* binding */ SegmentVsSegmentRes),
/* harmony export */   "intersectSegmentVsSegment": () => (/* binding */ intersectSegmentVsSegment),
/* harmony export */   "triangleContainsPoint": () => (/* binding */ triangleContainsPoint),
/* harmony export */   "lineSameSlope": () => (/* binding */ lineSameSlope)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _obb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./obb */ "./src/app/geometry/obb.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





function overlapAabbVsAabb(a, b) {
    return a.minX <= b.maxX && a.maxX >= b.minX &&
        a.minY <= b.maxY && a.maxY >= b.minY;
}
function containsAabbVsAabb(a, b) {
    return a.minX <= b.minX && a.maxX >= b.maxX &&
        a.minY <= b.minY && a.maxY >= b.maxY;
}
function overlapAabbVsPoint(a, b) {
    return a.minX <= b.x && a.minY <= b.y &&
        a.maxX >= b.x && a.maxY >= b.y;
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function overlapAabbVsLine(a, b) {
    let fc = computeOutCode(a, b.fromX, b.fromY);
    let tc = computeOutCode(a, b.toX, b.toY);
    // Fast paths:
    // One of the points is inside
    if (fc === INSIDE || tc === INSIDE)
        return true;
    // bitwise AND is not 0: both points share an outside zone (LEFT, RIGHT, TOP,
    // or BOTTOM), so both must be outside window
    if ((fc & tc) !== 0)
        return false;
    // Both points are in directly opposite sites (left/right or top/bottom)
    if ((fc | tc) === (LEFT | RIGHT))
        return true;
    if ((fc | tc) === (TOP | BOTTOM))
        return true;
    return intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.minY, a.minX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.maxY, a.maxX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.maxY, a.maxX, a.minY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.minY, a.minX, a.minY), b) === SegmentVsSegmentRes.INTERN;
}
function overlapPointVsCircle(point, center, radius) {
    return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(point.x, point.y, center.x, center.y) < radius * radius;
}
function overlapCircleVsAabb(center, radius, aabb) {
    let distX = Math.abs(center.x - (aabb.minX + aabb.maxX) / 2);
    let distY = Math.abs(center.y - (aabb.minY + aabb.maxY) / 2);
    let halfW = (aabb.maxX - aabb.minX) / 2;
    let halfH = (aabb.maxY - aabb.minY) / 2;
    if (distX > halfW + radius)
        return false;
    if (distY > halfH + radius)
        return false;
    if (distX < halfW || distY < halfH)
        return true;
    let dx = distX - halfW;
    let dy = distY - halfH;
    return dx * dx + dy * dy <= radius * radius;
}
function overlapCircleVsCircle(ac, ar, bc, br) {
    let dx = ac.x - bc.x;
    let dy = ac.y - bc.y;
    let r = ar + br;
    return dx * dx + dy * dy < r * r;
}
function overlapCircleVsPolygon(ac, ar, poly) {
    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(ac, poly))
        return true;
    let tmpLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(0, 0, 0, 0);
    let tmpPoint = new PIXI.Point();
    let r2 = ar * ar;
    for (let i = 2; i < poly.length; i += 2) {
        tmpLine.fromX = poly[i - 2];
        tmpLine.fromY = poly[i - 1];
        tmpLine.toX = poly[i];
        tmpLine.toY = poly[i + 1];
        tmpLine.projectPoint(ac, tmpPoint, true);
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, ac.x, ac.y) <= r2) {
            return true;
        }
    }
    return false;
}
function overlapObbVsPolygon(obb, poly) {
    let polyAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    polyAabb.wrapPolygon(poly);
    // Fast path
    if (!overlapRotatedRectVsAabb(obb, polyAabb))
        return false;
    for (let i = 0; i < 8; i += 2) {
        let p = {
            x: obb.rotVertex[i],
            y: obb.rotVertex[i + 1],
        };
        // If a point of the OBB is inside the polygon then we're done
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(p, poly))
            return true;
    }
    for (let i = 0; i < poly.length; i += 2) {
        let p = {
            x: poly[i],
            y: poly[i + 1],
        };
        // If a point of the polygon is inside the OBB then we're done
        if (overlapRotatedRectVsPoint(obb, p))
            return true;
    }
    let obbLines = [
        [0, 2],
        [2, 4],
        [4, 6],
        [6, 0]
    ];
    // Check line intersections
    for (let line of obbLines) {
        let obbLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(obb.rotVertex[line[0]], obb.rotVertex[line[0] + 1], obb.rotVertex[line[1]], obb.rotVertex[line[1] + 1]);
        if (overlapLineVsPolygon(obbLine, poly))
            return true;
    }
    return false;
}
function overlapLineVsPolygon(line, poly) {
    let totLines = poly.length - 2;
    for (let i = 0; i < totLines; i += 2) {
        let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[i], poly[i + 1], poly[i + 2], poly[i + 3]);
        if (intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN)
            return true;
    }
    let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[0], poly[1], poly[poly.length - 2], poly[poly.length - 1]);
    return intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN;
}
function rotatePointByOrig(o, rot, p) {
    let s = Math.sin(-rot);
    let c = Math.cos(-rot);
    let transX = p.x - o.x;
    let transY = p.y - o.y;
    return new PIXI.Point((transX * c - transY * s) + o.x, (transX * s + transY * c) + o.y);
}
function overlapRotatedRectVsPoint(obb, p) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, p);
    return overlapAabbVsPoint(obb.unrotated, rotatedPoint);
}
function overlapRotatedRectVsCircle(obb, pos, rad) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, pos);
    return overlapCircleVsAabb(rotatedPoint, rad, obb.unrotated);
}
function overlapRotatedRectVsLine(obb, line) {
    let center = obb.unrotated.getCenter();
    let rotFrom = rotatePointByOrig(center, obb.rotation, { x: line.fromX, y: line.fromY });
    let rotTo = rotatePointByOrig(center, obb.rotation, { x: line.toX, y: line.toY });
    return overlapAabbVsLine(obb.unrotated, new _line__WEBPACK_IMPORTED_MODULE_1__.Line(rotFrom.x, rotFrom.y, rotTo.x, rotTo.y));
}
function computeObbPoints(aabb, rot, origin) {
    let res = new Array(8);
    let o = origin || {
        x: (aabb.minX + aabb.maxX) / 2,
        y: (aabb.minY + aabb.maxY) / 2,
    };
    for (let i = 0; i < 4; i++) {
        let minX = (i & 1);
        let minY = (i & 2) >>> 1;
        let p = rotatePointByOrig(o, rot, {
            x: minX ? aabb.minX : aabb.maxX,
            y: minY ? aabb.minY : aabb.maxY,
        });
        res[i * 2] = p.x;
        res[i * 2 + 1] = p.y;
    }
    return res;
}
function overlapRotatedRectVsAabb(obb, aabb) {
    // Separating Axis Theorem
    let otherAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    otherAabb.wrapPolygon(obb.rotVertex);
    if (overlapAabbVsAabb(aabb, otherAabb))
        return true;
    // Apply the inverse transform of the obb to the aabb
    let originalInv = computeObbPoints(aabb, obb.rotation, obb.unrotated.getCenter());
    otherAabb.reset();
    otherAabb.wrapPolygon(originalInv);
    return overlapAabbVsAabb(obb.unrotated, otherAabb);
}
function overlapRotatedRectVsRotatedRect(obb1, obb2) {
    let center = obb2.unrotated.getCenter();
    let res = obb2.unrotated.copy();
    res.translate(-center.x, -center.y, res);
    let obb3 = _obb__WEBPACK_IMPORTED_MODULE_4__.Obb.rotateAabb(res, obb2.rotation - obb1.rotation);
    return overlapRotatedRectVsAabb(obb3, obb1.unrotated);
}
function overlapLineVsCircle(line, point, radius) {
    let tmpPoint = new PIXI.Point();
    if (!line.projectPoint(point, tmpPoint, true)) {
        return false;
    }
    let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
    return dist < radius * radius;
}
var SegmentVsSegmentRes;
(function (SegmentVsSegmentRes) {
    SegmentVsSegmentRes[SegmentVsSegmentRes["NONE"] = 0] = "NONE";
    SegmentVsSegmentRes[SegmentVsSegmentRes["INTERN"] = 1] = "INTERN";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_A"] = 2] = "EDGE_A";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_B"] = 4] = "EDGE_B";
})(SegmentVsSegmentRes || (SegmentVsSegmentRes = {}));
function intersectSegmentVsSegment(a, b, target) {
    let den = (b.toY - b.fromY) * (a.toX - a.fromX) -
        (b.toX - b.fromX) * (a.toY - a.fromY);
    if (den === 0)
        return SegmentVsSegmentRes.NONE; // Parallel (or coincident)
    const s = ((b.toX - b.fromX) * (a.fromY - b.fromY) -
        (b.toY - b.fromY) * (a.fromX - b.fromX)) / den;
    if (s < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    const u = ((a.toX - a.fromX) * (a.fromY - b.fromY) -
        (a.toY - a.fromY) * (a.fromX - b.fromX)) / den;
    if (u < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    if (target !== undefined) {
        target.set(a.fromX + s * (a.toX - a.fromX), a.fromY + s * (a.toY - a.fromY));
    }
    let edge = 0;
    if (s < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_A;
    if (u < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_B;
    return edge === 0 ? SegmentVsSegmentRes.INTERN : edge;
}
function triangleContainsPoint(p, p0, p1, p2) {
    let A = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);
    let sign = A < 0 ? -1 : 1;
    let s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;
    let t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;
    return s - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && t - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && (s + t) < 2 * A * sign - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}
function lineSameSlope(ax, ay, bx, by) {
    // We need to remove divisions, (this is not real code)
    // ay / ax == by / bx  ==> ay * bx == by * ax
    return Math.abs(ay * bx - by * ax) < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}


/***/ }),

/***/ "./src/app/geometry/dynamicTree.ts":
/*!*****************************************!*\
  !*** ./src/app/geometry/dynamicTree.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DynamicTree": () => (/* binding */ DynamicTree)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
// A version highly inspired by plank.js (https://github.com/shakiba/planck.js/blob/f5777884f537db97608d8016bda960d251d42d4d/lib/collision/DynamicTree.js)


class TreeNode {
    constructor(id) {
        this.aabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
        this.height = -1;
        this.id = id;
    }
    toString() {
        return this.id + ": " + this.tag;
    }
    isLeaf() {
        return this.left === undefined;
    }
}
class DynamicTree {
    constructor(aabbExtension = 0.1, aabbMultiplier = 2) {
        this.nodes = new Map();
        this.lastProxyId = 0;
        this.aabbExtension = aabbExtension;
        this.aabbMultiplier = aabbMultiplier;
    }
    getTag(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.tag;
    }
    setTag(id, tag) {
        this.nodes.get(id).tag = tag;
    }
    getFatAabb(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.aabb;
    }
    allocateNode() {
        let node = new TreeNode(++this.lastProxyId);
        this.nodes.set(node.id, node);
        return node;
    }
    freeNode(node) {
        this.nodes.delete(node.id);
    }
    createProxy(aabb, tag) {
        let node = this.allocateNode();
        node.aabb.copyFrom(aabb);
        // Fatten the aabb
        node.aabb.extend(this.aabbExtension, node.aabb);
        node.tag = tag;
        node.height = 0;
        this.insertLeaf(node);
        return node.id;
    }
    destroyProxy(id) {
        let node = this.nodes.get(id);
        this.removeLeaf(node);
        this.freeNode(node);
    }
    moveProxy(id, aabb, d) {
        let node = this.nodes.get(id);
        if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.containsAabbVsAabb)(node.aabb, aabb)) {
            return false;
        }
        this.removeLeaf(node);
        node.aabb.copyFrom(aabb);
        // Fatten
        node.aabb.extend(this.aabbExtension, node.aabb);
        // Predict motion
        if (this.aabbMultiplier !== 1) {
            if (d.x < 0)
                aabb.minX += d.x * this.aabbMultiplier;
            else
                aabb.maxX += d.x * this.aabbMultiplier;
            if (d.y < 0)
                aabb.minY += d.y * this.aabbMultiplier;
            else
                aabb.maxY += d.y * this.aabbMultiplier;
        }
        this.insertLeaf(node);
        return true;
    }
    insertLeaf(leaf) {
        if (this.root === undefined) {
            this.root = leaf;
            this.root.parent = undefined;
            return;
        }
        let leafAabb = leaf.aabb;
        let index = this.root;
        while (!index.isLeaf()) {
            let left = index.left;
            let right = index.right;
            let per = index.aabb.getPerimeter();
            let combinedAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
            index.aabb.combine(leafAabb, combinedAabb);
            let combinedPer = combinedAabb.getPerimeter();
            let cost = combinedPer * 2;
            let inheritanceCost = (combinedPer - per) * 2;
            let costLeft;
            if (left.isLeaf()) {
                left.aabb.combine(leafAabb, combinedAabb);
                costLeft = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                left.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = left.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costLeft = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            let costRight;
            if (right.isLeaf()) {
                right.aabb.combine(leafAabb, combinedAabb);
                costRight = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                right.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = right.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costRight = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            if (cost < costLeft && cost < costRight) {
                break;
            }
            if (costLeft < costRight)
                index = left;
            else
                index = right;
        }
        let sibling = index;
        let oldParent = sibling.parent;
        let newParent = this.allocateNode();
        newParent.parent = oldParent;
        sibling.aabb.combine(leafAabb, newParent.aabb);
        newParent.height = sibling.height + 1;
        if (oldParent !== undefined) {
            // The sibling was not the root
            if (oldParent.left === sibling)
                oldParent.left = newParent;
            else
                oldParent.right = newParent;
        }
        else {
            // the sibling was the root
            this.root = newParent;
        }
        newParent.left = sibling;
        newParent.right = leaf;
        sibling.parent = newParent;
        leaf.parent = newParent;
        // Walk back up fixing heights and AABBs
        index = leaf.parent;
        while (index !== undefined) {
            index = this.balance(index);
            index.height = 1 + Math.max(index.left.height, index.right.height);
            index.left.aabb.combine(index.right.aabb, index.aabb);
            index = index.parent;
        }
    }
    removeLeaf(leaf) {
        if (leaf === this.root) {
            this.root = undefined;
            return;
        }
        let parent = leaf.parent;
        let grandParent = parent.parent;
        let sibling;
        if (parent.left === leaf)
            sibling = parent.right;
        else
            sibling = parent.left;
        if (grandParent !== undefined) {
            // Destroy parent and connect sibling to grandParent
            if (grandParent.left === parent)
                grandParent.left = sibling;
            else
                grandParent.right = sibling;
            sibling.parent = grandParent;
            this.freeNode(parent);
            // Adjust ancestor bounds
            let index = grandParent;
            while (index !== undefined) {
                index = this.balance(index);
                index.left.aabb.combine(index.right.aabb, index.aabb);
                index.height = 1 + Math.max(index.left.height, index.right.height);
                index = index.parent;
            }
        }
        else {
            this.root = sibling;
            sibling.parent = undefined;
            this.freeNode(parent);
        }
    }
    /**
     * Perform a rotation if current node is imbalanced, returns the new sub-tree root.
     * @param current
     * @private
     */
    balance(current) {
        let a = current;
        if (a.isLeaf() || a.height < 2)
            return a;
        let b = a.left;
        let c = a.right;
        let balance = c.height - b.height;
        // Rotate C up
        if (balance > 1) {
            let f = c.left;
            let g = c.right;
            // Swap a and c
            c.left = a;
            c.parent = a.parent;
            a.parent = c;
            // a parent should point to c
            if (c.parent !== undefined) {
                if (c.parent.left === a)
                    c.parent.left = c;
                else
                    c.parent.right = c;
            }
            else {
                this.root = c;
            }
            // Rotate
            if (f.height > g.height) {
                c.right = f;
                a.right = g;
                g.parent = a;
                b.aabb.combine(g.aabb, a.aabb);
                a.aabb.combine(f.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, g.height);
                c.height = 1 + Math.max(a.height, f.height);
            }
            else {
                c.right = g;
                a.right = f;
                f.parent = a;
                b.aabb.combine(f.aabb, a.aabb);
                a.aabb.combine(g.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, f.height);
                c.height = 1 + Math.max(a.height, g.height);
            }
            return c;
        }
        if (balance < -1) {
            let d = b.left;
            let e = b.right;
            // Swap a and b
            b.left = a;
            b.parent = a.parent;
            a.parent = b;
            // a parent should point to b
            if (b.parent !== undefined) {
                if (b.parent.left === a)
                    b.parent.left = b;
                else
                    b.parent.right = b;
            }
            else {
                this.root = b;
            }
            // Rotate
            if (d.height > e.height) {
                b.right = d;
                a.left = e;
                e.parent = a;
                c.aabb.combine(e.aabb, a.aabb);
                a.aabb.combine(d.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, e.height);
                b.height = 1 + Math.max(a.height, d.height);
            }
            else {
                b.right = e;
                a.left = d;
                d.parent = a;
                c.aabb.combine(d.aabb, a.aabb);
                a.aabb.combine(e.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, d.height);
                b.height = 1 + Math.max(a.height, e.height);
            }
            return b;
        }
        return a;
    }
    *query(aabb) {
        let stack = new Array();
        if (this.root === undefined)
            return;
        //console.log("Starting query: " + aabb.toString());
        stack.push(this.root);
        while (stack.length > 0) {
            let node = stack.pop();
            let overlap = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.overlapAabbVsAabb)(node.aabb, aabb);
            //console.log("Visit: " + node.id + " = " + overlap);
            if (!overlap)
                continue;
            if (node.isLeaf()) {
                yield node;
            }
            else {
                stack.push(node.left);
                stack.push(node.right);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/geometry/line.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/line.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Line": () => (/* binding */ Line)
/* harmony export */ });
class Line {
    constructor(fx, fy, tx, ty) {
        this.fromX = fx;
        this.fromY = fy;
        this.toX = tx;
        this.toY = ty;
    }
    distance() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    distanceSquared() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return dx * dx + dy * dy;
    }
    projectPoint(p, target, ignoreValid = false) {
        if (this.fromX === this.toX && this.fromY === this.toY)
            return false;
        let u = ((p.x - this.fromX) * (this.toX - this.fromX)) +
            ((p.y - this.fromY) * (this.toY - this.fromY));
        let udenom = this.distanceSquared();
        u /= udenom;
        let rx = this.fromX + u * (this.toX - this.fromX);
        let ry = this.fromY + u * (this.toY - this.fromY);
        if (ignoreValid) {
            target.set(rx, ry);
            return true;
        }
        let minx = this.fromX, maxx = this.toX;
        let miny = this.fromY, maxy = this.toY;
        if (minx > maxx)
            [minx, maxx] = [maxx, minx];
        if (miny > maxy)
            [miny, maxy] = [maxy, miny];
        let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
        if (isValid) {
            target.set(rx, ry);
            return true;
        }
        else {
            return false;
        }
    }
    copy() {
        return new Line(this.fromX, this.fromY, this.toX, this.toY);
    }
}


/***/ }),

/***/ "./src/app/geometry/obb.ts":
/*!*********************************!*\
  !*** ./src/app/geometry/obb.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Obb": () => (/* binding */ Obb)
/* harmony export */ });
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");

class Obb {
    constructor(unrotated, rotation, rotVertex) {
        this.unrotated = unrotated;
        this.rotation = rotation;
        this.rotVertex = rotVertex;
    }
    recompute() {
        this.rotVertex = (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(this.unrotated, this.rotation);
    }
    copy() {
        return new Obb(this.unrotated.copy(), this.rotation, [...this.rotVertex]);
    }
    static rotateAabb(aabb, rot) {
        if (rot === 0)
            return this.fromAabb(aabb);
        return new Obb(aabb, rot, (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(aabb, rot));
    }
    static fromAabb(aabb) {
        let points = [
            aabb.minX, aabb.minY,
            aabb.minX, aabb.maxY,
            aabb.maxX, aabb.maxY,
            aabb.maxX, aabb.minY
        ];
        return new Obb(aabb, 0, points);
    }
}


/***/ }),

/***/ "./src/app/geometry/visibilityPolygon.ts":
/*!***********************************************!*\
  !*** ./src/app/geometry/visibilityPolygon.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EPSILON": () => (/* binding */ EPSILON),
/* harmony export */   "compute": () => (/* binding */ compute),
/* harmony export */   "computeViewport": () => (/* binding */ computeViewport)
/* harmony export */ });
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/binaryHeap */ "./src/app/util/binaryHeap.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");





const EPSILON = 0.0000001;
class EndPoint extends _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point {
    constructor() {
        super(...arguments);
        this.angle = 0;
        this.dist = 0;
    }
}
class Segment {
    constructor(f, t) {
        this.from = f;
        this.to = t;
        this.used = false;
    }
}
// a < b
function segmentLt(a, b, o) {
    // *opens philosophy book*
    // But what does it mean for a segment to be less than another one? (relative to a point)
    // There are multiple algorithms for this, the one that makes most sense to me is what I call the
    // triangular intersection:
    // Given two segments a, b and a point o we define a < b == true only if there is at least one point in b that
    // is hidden by a.
    // For every segment then the property a < b => !(b < a) is maintained only if the segments do not intersect
    // (as the only way that two lines would hide each other is if they meet in a point).
    // On another note, the property a < b, b < c => a < c is not maintained!
    // How can this be computed, then?
    // a.from is inside the triangle formed by b and o, this means:
    // - a.to is also inside, then a < b
    // - a.to is outside, then a < b
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.from, b.from, b.to, o))
        return true;
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.to, b.from, b.to, o))
        return true;
    // If we arrive here we can be sure that neither points of a is inside the triangle,
    // A segment with both points outside of the triangle can intersect it only by intersecting two of the three
    // lines. We already assume that a and b cannot intersect so we can check either (b.from, o) or (b.to, o) and see
    // if it intersects with a
    let c1 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c1 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    let c2 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.to.x, b.to.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c2 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    // Edge case: one of the end points of the second line (the segment a) lies
    // in the line (b.from, o), this might mean two things:
    // 1: the line shares a point but does not block the second segment's view
    // 2: the line shares a point and the other point blocks the whole view (hitting the other triangle line)
    // we want to check the second case, so let's try the second segment intersect
    if ((c1 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c2 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    if ((c2 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c1 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    // Edge case n.2 (I'm kinda hating on grids)
    // The segment a could lay a point on the line between (b.from/to, o) and the other in b
    // Edge case of the edge case: If the segment is in any of the endpoints of b then it does not occlude the view
    if (((c1 | c2) & (_collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B | _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_A)) === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) {
        let c3 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, b.to.x, b.to.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
        if (c3 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE)
            return true;
    }
    // This means a >= b
    return false;
}
function initSegment(x1, y1, x2, y2, pos) {
    let a = new EndPoint(x1, y1);
    let b = new EndPoint(x2, y2);
    a.angle = Math.atan2(pos.y - a.y, pos.x - a.x);
    b.angle = Math.atan2(pos.y - b.y, pos.x - b.x);
    a.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, a.x, a.y);
    b.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, b.x, b.y);
    let s = new Segment(a, b);
    a.segment = s;
    b.segment = s;
    return s;
}
function compute0(pos, segments) {
    let points = new Array();
    for (let s of segments) {
        points.push(s.from, s.to);
    }
    // O(Nlog(N))
    points.sort((a, b) => {
        return a.angle - b.angle;
    });
    let segmentPriorityQueue = new _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__.BinaryHeap((a, b) => segmentLt(a, b, pos));
    // Populate the priority queue O(Nlog(N))
    // The priority queue should already have all the segment it collides with, but do not fear as
    // the math is quite simple and straightforward:
    // We should check that the segment collides with the line that starts at pos and has angle = -Math.PI.
    // To do that we can just check the angles of the two endpoints (draw it in a piece of paper, it's easier if shown).
    for (let segment of segments) {
        let fa = segment.from.angle;
        let ta = segment.to.angle;
        let isActive = false;
        isActive || (isActive = fa <= 0 && ta >= 0 && ta - fa > Math.PI);
        isActive || (isActive = ta <= 0 && fa >= 0 && fa - ta > Math.PI);
        if (isActive)
            segmentPriorityQueue.push(segment);
    }
    let polygon = new Array();
    for (let i = 0; i < points.length;) {
        // Extend signals that the first segment has ended
        // we should then extend the polygon to the new first visible segment.
        let extend = false;
        let orig = i; // The original point index
        let vertex = points[i];
        let oldSegment = segmentPriorityQueue.peek();
        do {
            let currSegment = points[i].segment;
            if (segmentPriorityQueue.hasElem(currSegment)) {
                if (currSegment === oldSegment) {
                    extend = true;
                    vertex = points[i];
                }
                segmentPriorityQueue.popElem(currSegment);
            }
            else {
                segmentPriorityQueue.push(currSegment);
            }
            i++;
            if (i === points.length)
                break;
        } while (points[i].angle < points[orig].angle + EPSILON);
        segmentPriorityQueue.peek().used = true;
        if (extend) {
            // Vertex is the first point of the old segment, we need to push this right away
            polygon.push(vertex.x, vertex.y);
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point();
            let firstSeg = segmentPriorityQueue.peek();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(firstSeg.from, firstSeg.to, pos, vertex, point);
            if (!(Math.abs(point.x - vertex.x) < EPSILON && Math.abs(point.y - vertex.y) < EPSILON)) {
                polygon.push(point.x, point.y);
            }
        }
        else if (segmentPriorityQueue.peek() != oldSegment) {
            // A new segment has hidden the old first segment.
            // First compute where the old segment has been hidden, and push that point to the polygon
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(oldSegment.from, oldSegment.to, pos, vertex, point);
            polygon.push(point.x, point.y);
            // Then compute where the new segment intersects
            let newClosest = segmentPriorityQueue.peek();
            let nPoint;
            if (Math.abs(newClosest.from.angle - points[orig].angle) < EPSILON) {
                nPoint = newClosest.from;
            }
            else {
                nPoint = newClosest.to;
            }
            if (!(Math.abs(point.x - nPoint.x) < EPSILON && Math.abs(point.y - nPoint.y) < EPSILON)) {
                polygon.push(nPoint.x, nPoint.y);
            }
        }
    }
    return polygon;
}
function compute(pos, inSegments) {
    let segments = new Array(inSegments.length);
    // O(N)
    for (let segment of inSegments) {
        let s = initSegment(segment.fromX, segment.fromY, segment.toX, segment.toY, pos);
        segments.push(s);
    }
    return compute0(pos, segments);
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function clipSegment(line, aabb, light) {
    // https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm
    let x0 = line.fromX;
    let y0 = line.fromY;
    let x1 = line.toX;
    let y1 = line.toY;
    let code0 = computeOutCode(aabb, x0, y0);
    let code1 = computeOutCode(aabb, x1, y1);
    while (true) {
        if ((code0 | code1) === 0) {
            // bitwise OR is 0: both points inside window; trivially accept and exit loop
            return initSegment(x0, y0, x1, y1, light);
        }
        else if ((code0 & code1) !== 0) {
            // failed both tests, so calculate the line segment to clip
            // from an outside point to an intersection with clip edge
            return undefined;
        }
        else {
            let x = 0, y = 0;
            // At least one endpoint is outside the clip rectangle; pick it.
            let codeOut = code1 > code0 ? code1 : code0;
            // Now find the intersection point;
            // use formulas:
            //   slope = (y1 - y0) / (x1 - x0)
            //   x = x0 + (1 / slope) * (ym - y0), where ym is ymin or ymax
            //   y = y0 + slope * (xm - x0), where xm is xmin or xmax
            // No need to worry about divide-by-zero because, in each case, the
            // outcode bit being tested guarantees the denominator is non-zero
            if ((codeOut & TOP) !== 0) { // point is above the clip window
                x = x0 + (x1 - x0) * (aabb.maxY - y0) / (y1 - y0);
                y = aabb.maxY;
            }
            else if ((codeOut & BOTTOM) !== 0) { // point is below the clip window
                x = x0 + (x1 - x0) * (aabb.minY - y0) / (y1 - y0);
                y = aabb.minY;
            }
            else if ((codeOut & RIGHT) !== 0) { // point is to the right of clip window
                y = y0 + (y1 - y0) * (aabb.maxX - x0) / (x1 - x0);
                x = aabb.maxX;
            }
            else if ((codeOut & LEFT) !== 0) { // point is to the left of clip window
                y = y0 + (y1 - y0) * (aabb.minX - x0) / (x1 - x0);
                x = aabb.minX;
            }
            // Now we move outside point to intersection point to clip
            // and get ready for next pass.
            let code = computeOutCode(aabb, x, y);
            if (codeOut === code0) {
                x0 = x;
                y0 = y;
                code0 = code;
            }
            else {
                x1 = x;
                y1 = y;
                code1 = code;
            }
        }
    }
}
function computeViewport(lines, aabb, light, usedLines) {
    //console.log("Lines: " + lines.length);
    let segments = new Array();
    let lineLen = lines.length;
    for (let i = 0; i < lineLen; i++) {
        let segment = clipSegment(lines[i], aabb, light);
        if (segment !== undefined) {
            segment.index = i;
            segments.push(segment);
        }
    }
    //console.log("Done");
    // Push viewport segments:
    segments.push(initSegment(aabb.minX, aabb.minY, aabb.minX, aabb.maxY, light), initSegment(aabb.minX, aabb.maxY, aabb.maxX, aabb.maxY, light), initSegment(aabb.maxX, aabb.maxY, aabb.maxX, aabb.minY, light), initSegment(aabb.maxX, aabb.minY, aabb.minX, aabb.minY, light));
    //console.log("SEGMENTS: ", segments);
    let poly = compute0(light, segments);
    if (usedLines !== undefined) {
        // Compute what lines have been used
        let segLen = segments.length - 4;
        for (let i = 0; i < segLen; i++) {
            let s = segments[i];
            if (s.used)
                usedLines.push(s.index);
        }
    }
    return poly;
}


/***/ }),

/***/ "./src/app/graphics.ts":
/*!*****************************!*\
  !*** ./src/app/graphics.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE": () => (/* binding */ EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE),
/* harmony export */   "GRAPHIC_TYPE": () => (/* binding */ GRAPHIC_TYPE),
/* harmony export */   "ElementType": () => (/* binding */ ElementType),
/* harmony export */   "VisibilityType": () => (/* binding */ VisibilityType),
/* harmony export */   "ImageScaleMode": () => (/* binding */ ImageScaleMode)
/* harmony export */ });
// Common info about the graphical systems, this should be a semi-abstraction.
// NONE OF THIS SHOULD BE SERIALIZED! THIS IS ALL RUNTIME DEPENDANT! DETAILS WILL CHANGE BETWEEN MINOR VERSIONS!
const EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE = 'remember_bit_by_bit_vis_update';
const GRAPHIC_TYPE = "graphic";
var ElementType;
(function (ElementType) {
    ElementType[ElementType["CONTAINER"] = 0] = "CONTAINER";
    ElementType[ElementType["IMAGE"] = 1] = "IMAGE";
    ElementType[ElementType["LINE"] = 2] = "LINE";
    ElementType[ElementType["POINT"] = 3] = "POINT";
    ElementType[ElementType["TEXT"] = 4] = "TEXT";
})(ElementType || (ElementType = {}));
var VisibilityType;
(function (VisibilityType) {
    // You only see one thing when you see it! seems stupid but you can also remember things
    VisibilityType[VisibilityType["NORMAL"] = 0] = "NORMAL";
    // A player can always see itself, even with no light, "I think therefore I am"
    VisibilityType[VisibilityType["ALWAYS_VISIBLE"] = 1] = "ALWAYS_VISIBLE";
    // You'll remember once you see it
    VisibilityType[VisibilityType["REMEMBER"] = 2] = "REMEMBER";
    // Used in images, you only remember what you see! (only support images for now)
    VisibilityType[VisibilityType["REMEMBER_BIT_BY_BIT"] = 3] = "REMEMBER_BIT_BY_BIT";
})(VisibilityType || (VisibilityType = {}));
var ImageScaleMode;
(function (ImageScaleMode) {
    // 1 pixel = 1*scale pixels
    ImageScaleMode[ImageScaleMode["REAL"] = 0] = "REAL";
    // 1 pixel = 1*gridSize*scale pixels
    ImageScaleMode[ImageScaleMode["GRID"] = 1] = "GRID";
})(ImageScaleMode || (ImageScaleMode = {}));


/***/ }),

/***/ "./src/app/index.ts":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "windowEventEmitter": () => (/* binding */ windowEventEmitter),
/* harmony export */   "app": () => (/* binding */ app),
/* harmony export */   "stage": () => (/* binding */ stage)
/* harmony export */ });
/* harmony import */ var _phase_stage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase/stage */ "./src/app/phase/stage.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_homePhase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./phase/homePhase */ "./src/app/phase/homePhase.ts");
/* harmony import */ var _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/eventEmitterWrapper */ "./src/app/util/eventEmitterWrapper.ts");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var bootstrap_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! bootstrap-vue */ "./node_modules/bootstrap-vue/esm/index.js");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/fontawesome-free/css/all.css */ "./node_modules/@fortawesome/fontawesome-free/css/all.css");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @fortawesome/fontawesome-free/js/all.js */ "./node_modules/@fortawesome/fontawesome-free/js/all.js");
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! Public/style.css */ "./src/public/style.css");
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(Public_style_css__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./phase/editMap/clientEditMapPhase */ "./src/app/phase/editMap/clientEditMapPhase.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _assetsLoader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./assetsLoader */ "./src/app/assetsLoader.ts");
/* harmony import */ var _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./phase/loadingPhase */ "./src/app/phase/loadingPhase.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};








vue__WEBPACK_IMPORTED_MODULE_6__.default.use(bootstrap_vue__WEBPACK_IMPORTED_MODULE_7__.BootstrapVue);
// ================================================================================================ Public






const windowEventEmitter = new _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_3__.EventEmitterWrapper((event, emitter) => {
    window.addEventListener(event, data => {
        emitter.emit(event, data);
    });
});
// PIXI
let app;
// Main
const stage = new _phase_stage__WEBPACK_IMPORTED_MODULE_0__.Stage("main");
function onHashCahnge() {
    if (window.location.hash) {
        const roomId = window.location.hash.substr(1); // Remove #
        if (roomId.startsWith('p')) {
            console.log("Connecting with: peerj2");
            stage.setPhase(new _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_9__.ClientEditMapPhase(roomId.substr(1)));
        }
        else {
            console.log("Invalid hash");
            stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_2__.HomePhase());
        }
    }
    else {
        stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_2__.HomePhase());
    }
}
(function () {
    return __awaiter(this, void 0, void 0, function* () {
        console.log("Loading dndme: " + "ac985c4");
        // We cannot work without webgl
        _PIXI__WEBPACK_IMPORTED_MODULE_1__.default.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
        app = new _PIXI__WEBPACK_IMPORTED_MODULE_1__.default.Application();
        (0,_util_pixi__WEBPACK_IMPORTED_MODULE_10__.addCustomBlendModes)();
        app.renderer.backgroundColor = _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_13__.DEFAULT_BACKGROUND;
        // The app.view (canvas) is only appended when the game-phase starts.
        app.view.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        stage.setPhase(new _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_12__.LoadingPhase());
        yield (0,_assetsLoader__WEBPACK_IMPORTED_MODULE_11__.loadAssets)();
        onHashCahnge();
        window.onhashchange = function (e) {
            console.log("Hash change" + e.newURL);
            onHashCahnge();
        };
    });
})();


/***/ }),

/***/ "./src/app/map/gameMap.ts":
/*!********************************!*\
  !*** ./src/app/map/gameMap.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GameMap": () => (/* binding */ GameMap)
/* harmony export */ });
/* harmony import */ var _mapLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/dist/jszip.min.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



class GameMap {
    constructor() {
        this.levels = new Map();
    }
    createDataJson() {
        let levels = {};
        for (let [id, level] of this.levels.entries()) {
            levels[id] = level.serialize();
        }
        let data = {
            version: GameMap.SER_VERSION,
            levels: levels,
        };
        return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(data);
    }
    saveToFile() {
        let data = this.createDataJson();
        let zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
        zip.file("data.msgpack", data);
        return zip.generateAsync({
            type: "blob",
            compression: 'DEFLATE',
            // Prevent the browser from renaming the extension
            mimeType: 'application/octet-stream',
        });
    }
    static loadFromFile(from) {
        return __awaiter(this, void 0, void 0, function* () {
            let zip = yield jszip__WEBPACK_IMPORTED_MODULE_1___default().loadAsync(from);
            // TODO: better error management
            let file = yield zip.file("data.msgpack").async('arraybuffer');
            let data = yield (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__.decode)(file);
            if (data['version'] !== this.SER_VERSION) {
                throw 'Version not supported';
            }
            let gameMap = new GameMap();
            let levelsData = data["levels"];
            for (let id in levelsData) {
                let level = levelsData[id];
                let res = yield _mapLevel__WEBPACK_IMPORTED_MODULE_0__.MapLevel.deserialize(parseInt(id), level);
                gameMap.levels.set(res.id, res);
            }
            return gameMap;
        });
    }
}
GameMap.SER_VERSION = '1.0';


/***/ }),

/***/ "./src/app/map/mapLevel.ts":
/*!*********************************!*\
  !*** ./src/app/map/mapLevel.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLevel": () => (/* binding */ MapLevel)
/* harmony export */ });
class MapLevel {
    constructor(id) {
        this.id = id;
    }
    loadInto(ecs) {
        ecs.clear();
        if (this.ecs !== undefined) {
            ecs.deserialize(this.ecs);
        }
    }
    saveFrom(ecs) {
        this.ecs = undefined;
        this.ecs = ecs.serialize();
    }
    serialize() {
        return {
            name: this.name,
            ecs: this.ecs
        };
    }
    static deserialize(id, data) {
        let res = new MapLevel(id);
        res.name = data['name'];
        res.ecs = data['ecs'];
        return res;
    }
}


/***/ }),

/***/ "./src/app/network/channel.ts":
/*!************************************!*\
  !*** ./src/app/network/channel.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Channel": () => (/* binding */ Channel)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class Channel {
    constructor(isHost) {
        this.connections = [];
        this.connectionsById = new Map();
        this.myId = -1;
        this.nextBroadcastPacketId = 0;
        this.eventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
        this.bufferingChannels = 0;
        this.isHost = isHost;
        if (this.isHost) {
            this.myId = 0;
        }
    }
    onMessage(raw, conn) {
        //console.log("onMessage", raw);
        let packet = raw; // Check for errors?
        if (this.isHost) {
            packet.sender = conn.channelId;
        }
        if (packet.payload.type.startsWith("_")) {
            console.error("Invalid payload type");
            return;
        }
        // TODO: think of a better packetid system, we have some problems with
        //       host forwarding as the id changes, we can not have replies.
        if (this.isHost && packet.receiver !== this.myId) {
            let originalId = packet.id;
            if (packet.receiver === undefined) {
                packet.id = this.nextBroadcastPacketId++;
                for (let c of this.connectionsById.values()) {
                    if (c !== conn) {
                        c.send(packet);
                    }
                }
            }
            else {
                let recv = this.connectionsById.get(packet.receiver);
                if (recv === undefined) {
                    this.send({
                        type: "error",
                        errorType: "unknown_receiver",
                        requestId: packet.id,
                    }, conn.channelId);
                    return;
                }
                packet.id = recv.nextPacketId++;
                recv.send(packet);
            }
            packet.id = originalId;
        }
        if (packet.receiver === undefined || packet.receiver === this.myId) {
            let packetType = packet.payload.type;
            if (false) {}
            this.eventEmitter.emit("any", packet.payload, packet);
            this.eventEmitter.emit(packetType, packet.payload, packet);
        }
    }
    broadcast(packet) {
        const wrapped = {
            id: this.nextBroadcastPacketId,
            payload: packet,
            sender: this.myId,
        };
        if (false) {}
        for (let conn of this.connectionsById.values()) {
            conn.send(wrapped);
        }
        this.nextBroadcastPacketId++;
    }
    send(packet, receiverId) {
        const wrapped = {
            id: 0,
            payload: packet,
            sender: this.myId,
        };
        if (this.isHost) {
            let conn = this.connectionsById.get(receiverId);
            if (conn === undefined) {
                throw "Unknown receiver";
            }
            wrapped.id = conn.channelId++;
            conn.send(wrapped);
        }
        else {
            wrapped.id = this.nextBroadcastPacketId++;
            for (let conn of this.connectionsById.values()) {
                conn.send(wrapped);
            }
        }
        if (false) {}
    }
    onConnectionStatusUpdate(isBuffering) {
        if (isBuffering)
            this.bufferingChannels += 1;
        else
            this.bufferingChannels -= 1;
        this.eventEmitter.emit("_buffering_update", this.bufferingChannels);
    }
    registerNewConnection(conn) {
        this.connectionsById.set(conn.channelId, conn);
        this.connections.push(conn);
        conn.ondata = this.onMessage.bind(this);
        conn.nextPacketId = 0;
        conn.onBufferChange = this.onConnectionStatusUpdate.bind(this);
        this.eventEmitter.emit("_device_join", conn.channelId);
    }
    removeConnection(conn) {
        this.connectionsById.delete(conn.channelId);
        const index = this.connections.indexOf(conn);
        if (index > -1) {
            this.connections.splice(index, 1);
        }
        this.eventEmitter.emit("_device_left", conn.channelId);
    }
}


/***/ }),

/***/ "./src/app/network/networkManager.ts":
/*!*******************************************!*\
  !*** ./src/app/network/networkManager.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NetworkManager": () => (/* binding */ NetworkManager),
/* harmony export */   "NetworkConnection": () => (/* binding */ NetworkConnection)
/* harmony export */ });
/* harmony import */ var peerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! peerjs */ "./node_modules/peerjs/dist/peerjs.min.js");
/* harmony import */ var peerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(peerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _channel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./channel */ "./src/app/network/channel.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");



var EventEmitter = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.EventEmitter;
class NetworkManager extends EventEmitter {
    constructor(isHost) {
        super();
        this.myId = -1;
        // Used if is host:
        this.connections = new Map();
        this.nextConnectionId = 1;
        this.isHost = isHost;
        this.channel = new _channel__WEBPACK_IMPORTED_MODULE_1__.Channel(isHost);
        this.peer = new (peerjs__WEBPACK_IMPORTED_MODULE_0___default())(undefined, {
            host: 'peerjs.92k.de',
            secure: true,
            debug: 2
        });
        if (this.isHost) {
            this.myId = 0;
        }
        this.peer.on('connection', this.onConnection.bind(this));
        this.peer.on('open', this.onPeerConnectionOpen.bind(this));
        this.peer.on('error', this.onPeerConnectionError.bind(this));
    }
    onConnection(conn) {
        let id = 0;
        if (this.isHost) {
            id = this.nextConnectionId++;
        }
        let c = new NetworkConnection(this, id, conn);
        if (this.isHost) {
            this.connections.set(id, c);
        }
        else {
            this.hostConnection = c;
        }
    }
    onPeerConnectionOpen() {
        if (this.connectId !== undefined) {
            this.connectReady();
        }
        this.emit('ready');
    }
    onPeerConnectionError(err) {
        this.emit('error', err);
    }
    getId() {
        return this.peer.id;
    }
    connectTo(id) {
        if (this.isHost) {
            throw 'A host cannot open a connection, for now!';
        }
        if (this.connectId !== undefined) {
            throw 'Cannot connect to multiple hosts';
        }
        this.connectId = id;
        if (this.peer.id != null) {
            this.connectReady();
        }
    }
    disconnect() {
        this.connectId = undefined;
        this.peer.destroy();
    }
    connectReady() {
        if (this.connectId === undefined)
            return;
        let conn = this.peer.connect(this.connectId, {
            reliable: true,
        });
        this.hostConnection = new NetworkConnection(this, undefined, conn);
    }
}
class NetworkConnection {
    constructor(parent, chId, connection) {
        this.nextPacketId = -1;
        this.bootstrap = false;
        this.buffered = false;
        this.parent = parent;
        this.channelId = chId || 0;
        this.connection = connection;
        if (parent.isHost) {
            this.bootstrap = true;
        }
        connection.on('open', this.onOpen.bind(this));
        connection.on('data', this.onData.bind(this));
        connection.on('close', this.onClose.bind(this));
    }
    onOpen() {
        this.connection.dataChannel.onbufferedamountlow = this.updateBuffered.bind(this);
        if (this.parent.isHost) {
            this.connection.send(this.channelId);
            this.parent.channel.registerNewConnection(this);
        }
    }
    onData(data) {
        if (!this.bootstrap) {
            this.parent.myId = data;
            this.parent.channel.myId = data;
            this.bootstrap = true;
            this.parent.channel.registerNewConnection(this);
            return;
        }
        else if (this.ondata !== undefined) {
            this.ondata(data, this);
        }
    }
    onClose() {
        this.parent.channel.removeConnection(this);
    }
    send(data) {
        this.connection.send(data);
        this.updateBuffered();
    }
    bufferedBytes() {
        return this.connection.dataChannel.bufferedAmount;
    }
    updateBuffered() {
        let oldBuffered = this.buffered;
        let bufferedAmount = this.connection.bufferSize;
        if (this.connection.dataChannel != null) {
            bufferedAmount += this.connection.dataChannel.bufferedAmount;
        }
        this.buffered = bufferedAmount !== 0;
        if (oldBuffered !== this.buffered && this.onBufferChange !== undefined) {
            this.onBufferChange(this.buffered);
        }
    }
}


/***/ }),

/***/ "./src/app/phase/ecsPhase.ts":
/*!***********************************!*\
  !*** ./src/app/phase/ecsPhase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EcsPhase": () => (/* binding */ EcsPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ecs_world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ecs/world */ "./src/app/ecs/world.ts");
/* harmony import */ var _ecs_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ecs/component */ "./src/app/ecs/component.ts");



class EcsPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name, isMaster) {
        super(name);
        this.world = new _ecs_world__WEBPACK_IMPORTED_MODULE_1__.World(isMaster);
        this.ecsSetup();
    }
    ecsSetup() {
        (0,_ecs_component__WEBPACK_IMPORTED_MODULE_2__.registerCommonStorage)(this.world);
        this.registerSystems();
    }
    registerSystems() {
    }
    enable() {
        super.enable();
        this.world.enable();
    }
    disable() {
        super.disable();
        this.world.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/clientEditMapPhase.ts":
/*!*****************************************************!*\
  !*** ./src/app/phase/editMap/clientEditMapPhase.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClientEditMapPhase": () => (/* binding */ ClientEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");


class ClientEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(id) {
        super('editClient', false);
        this.networkManager.connectTo(id);
    }
    registerSystems() {
        this.world.addSystem(new _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_1__.ClientNetworkSystem(this.world, this.networkManager.channel));
        super.registerSystems();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/displayPrecedence.ts":
/*!****************************************************!*\
  !*** ./src/app/phase/editMap/displayPrecedence.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayPrecedence": () => (/* binding */ DisplayPrecedence)
/* harmony export */ });
var DisplayPrecedence;
(function (DisplayPrecedence) {
    DisplayPrecedence[DisplayPrecedence["BACKGROUND"] = 0] = "BACKGROUND";
    DisplayPrecedence[DisplayPrecedence["GRID"] = 10] = "GRID";
    DisplayPrecedence[DisplayPrecedence["LIGHT"] = 100] = "LIGHT";
    DisplayPrecedence[DisplayPrecedence["WALL"] = 210] = "WALL";
    DisplayPrecedence[DisplayPrecedence["PROP"] = 220] = "PROP";
    DisplayPrecedence[DisplayPrecedence["PINS"] = 230] = "PINS";
    DisplayPrecedence[DisplayPrecedence["WALL_CREATOR"] = 260] = "WALL_CREATOR";
    DisplayPrecedence[DisplayPrecedence["TEXT"] = 300] = "TEXT";
})(DisplayPrecedence || (DisplayPrecedence = {}));


/***/ }),

/***/ "./src/app/phase/editMap/editMapPhase.ts":
/*!***********************************************!*\
  !*** ./src/app/phase/editMap/editMapPhase.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditMapPhase": () => (/* binding */ EditMapPhase)
/* harmony export */ });
/* harmony import */ var _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/edit/editMap.vue */ "./src/app/ui/edit/editMap.vue");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/backgroundImageSystem */ "./src/app/ecs/systems/backgroundImageSystem.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _network_networkManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../network/networkManager */ "./src/app/network/networkManager.ts");
/* harmony import */ var _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ecs/systems/pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ecs/systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ecs/systems/back/textSystem */ "./src/app/ecs/systems/back/textSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecs/systems/back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ecs/systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ecs/systems/playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ecs/systems/back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ecs/systems/propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ecs/systems/back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ecs/systems/gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _ecsPhase__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ecsPhase */ "./src/app/phase/ecsPhase.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../ecs/systems/command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../ecs/systems/command/commandHistorySystem */ "./src/app/ecs/systems/command/commandHistorySystem.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../ecs/systems/back/pixiRectSelectionSystem */ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts");
/* harmony import */ var _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../ecs/systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");



























class EditMapPhase extends _ecsPhase__WEBPACK_IMPORTED_MODULE_20__.EcsPhase {
    constructor(name, isHost) {
        super(name, isHost);
    }
    ecsSetup() {
        this.setupNetworkManager();
        super.ecsSetup();
        this.world.events.on('selection_update', (group) => {
            this.vue.selectedEntityOpts = group.getCommonEntityOpts();
            this.vue.selectedComponents = group.getCommonComponents();
            this.vue.selectedAddable = group.getAddableComponents();
        });
    }
    registerSystems() {
        super.registerSystems();
        let w = this.world;
        w.addSystem(new _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_22__.CommandSystem(w));
        if (w.isMaster) {
            w.addSystem(new _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_23__.CommandHistorySystem(w));
        }
        w.addSystem(new _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_26__.WebKeyboardSystem(w));
        w.addSystem(new _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_24__.LayerSystem(w));
        w.addSystem(new _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_21__.PixiBoardSystem(w));
        w.addSystem(new _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_3__.SelectionSystem(w));
        w.addSystem(new _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_25__.PixiRectSelectionSystem(w));
        w.addSystem(new _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_18__.ToolSystem(w));
        w.addSystem(new _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_19__.GridSystem(w));
        w.addSystem(new _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_12__.InteractionSystem(w));
        w.addSystem(new _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_10__.TextSystem());
        w.addSystem(new _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_17__.PixiGraphicSystem(w));
        w.addSystem(new _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_2__.BackgroundImageSystem(w));
        w.addSystem(new _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_8__.WallSystem(w));
        w.addSystem(new _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_15__.DoorSystem(w));
        w.addSystem(new _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_11__.VisibilitySystem(w));
        w.addSystem(new _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_14__.VisibilityAwareSystem(w));
        w.addSystem(new _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PinSystem(w));
        w.addSystem(new _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_16__.PropSystem(w));
        w.addSystem(new _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_13__.PlayerSystem(w));
        w.addSystem(new _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_9__.LightSystem(w));
    }
    setupNetworkManager() {
        this.networkManager = new _network_networkManager__WEBPACK_IMPORTED_MODULE_4__.NetworkManager(this.world.isMaster);
        this.networkManager.on("ready", this.onNetworkReady, this);
        this.networkManager.on("error", this.onNetworkError, this);
        let connUpdate = () => {
            this.vue.connectionCount = this.networkManager.channel.connections.length;
        };
        let chEvents = this.networkManager.channel.eventEmitter;
        chEvents.on('_device_join', connUpdate);
        chEvents.on('_device_left', connUpdate);
        chEvents.on('_buffering_update', () => {
            this.vue.connectionBuffering = this.networkManager.channel.bufferingChannels > 0;
        });
    }
    // overrides
    onNetworkReady() {
        console.log("Network is ready! side: " + (this.networkManager.isHost ? "master" : "player"));
        if (this.networkManager.isHost) {
            history.replaceState(null, "", '#p' + this.networkManager.peer.id);
        }
    }
    onNetworkError(err) {
        // TODO: open modal or something
        console.error("Error from peerjs: ", err.type);
        if (err.type === 'server-error') {
            alert("Error connecting to peerjs instance, you're offline now");
            if (!this.world.isMaster) {
                _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__.HostEditMapPhase(new _map_gameMap__WEBPACK_IMPORTED_MODULE_6__.GameMap()));
            }
        }
        else if (err.type === 'peer-unavailable') {
            console.log("Invalid invite link");
            alert("Invalid invite link");
            history.replaceState(null, "", ' ');
            if (!this.world.isMaster) {
                _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__.HostEditMapPhase(new _map_gameMap__WEBPACK_IMPORTED_MODULE_6__.GameMap()));
            }
        }
        else if (err.ty === 'network') {
            alert("Connection lost");
        }
        else {
            alert(err);
        }
    }
    ui() {
        let ui = new _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__.default({
            propsData: {
                phase: this,
                world: this.world,
                isAdmin: this.world.isMaster,
            }
        });
        //(ui as any).phase = this;
        //(ui as any).isAdmin = this.world.isMaster;
        return ui;
    }
    disable() {
        super.disable();
        this.networkManager.disconnect();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/hostEditMapPhase.ts":
/*!***************************************************!*\
  !*** ./src/app/phase/editMap/hostEditMapPhase.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HostEditMapPhase": () => (/* binding */ HostEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _map_mapLevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../map/mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ecs/systems/command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};







class HostEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(map) {
        super('editHost', true);
        this.map = map;
        if (this.map.levels.size == 0) {
            this.map.levels.set(42, new _map_mapLevel__WEBPACK_IMPORTED_MODULE_2__.MapLevel(42));
        }
        this.currentLevel = this.map.levels.values().next().value;
        this.world.events.on('command_history_change', (canUndo, canRedo) => {
            this.vue.canUndo = canUndo;
            this.vue.canRedo = canRedo;
        });
        this.world.events.on('selection_update', (group) => {
            this.vue.selectedEntityOpts = group.getCommonEntityOpts();
            this.vue.selectedComponents = group.getCommonComponents();
            this.vue.selectedAddable = group.getAddableComponents();
        });
        this.world.events.on('layer_lock_toggle', () => {
            let locked = this.world.getResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_6__.BACKGROUND_LAYER_TYPE).locked;
            this.world.editResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_6__.BACKGROUND_LAYER_TYPE, { locked: !locked });
        });
    }
    registerSystems() {
        this.world.addSystem(new _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_4__.HostNetworkSystem(this.world, this.networkManager.channel));
        super.registerSystems();
    }
    onDrop(event) {
        return __awaiter(this, void 0, void 0, function* () {
            event.stopPropagation();
            event.preventDefault();
            let x = event.pageX;
            let y = event.pageY;
            if (event.dataTransfer.items) {
                let res = [];
                for (let f of event.dataTransfer.items) {
                    let file = f.getAsFile();
                    if (file != null) {
                        res.push(file);
                    }
                }
                yield this.onFileDrop(res, x, y);
            }
            else {
                yield this.onFileDrop(event.dataTransfer.files, x, y);
            }
        });
    }
    onDragOver(event) {
        event.stopPropagation();
        event.preventDefault();
        event.dataTransfer.dropEffect = "copy";
        return false;
    }
    onFileDrop(files, x, y) {
        return __awaiter(this, void 0, void 0, function* () {
            if (files.length == 0)
                return;
            let firstFile = files[0];
            // Sometimes this does not work but the problem is not the matrix calculation, it's the browser coords
            // so if you have firefox and linux (this seems to be the wrong stack) and have spare time, pls debug this.
            // Could be caused by: https://bugzilla.mozilla.org/show_bug.cgi?id=505521#c80
            let p = new PIXI.Point(x, y);
            let pixiBoard = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE);
            pixiBoard.board.updateTransform();
            pixiBoard.board.transform.worldTransform.applyInverse(p, p);
            if (firstFile.type.startsWith("image/")) {
                let cmd = {
                    kind: 'spawn',
                    entities: [{
                            id: -1,
                            components: [
                                {
                                    type: 'name',
                                    name: firstFile.name,
                                    clientVisible: false,
                                },
                                {
                                    type: "position",
                                    x: p.x,
                                    y: p.y,
                                },
                                {
                                    type: "transform",
                                    rotation: 0,
                                    scale: 1,
                                },
                                {
                                    type: "background_image",
                                    imageType: firstFile.type,
                                    image: new Uint8Array(yield firstFile.arrayBuffer()),
                                },
                            ]
                        }]
                };
                (0,_ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_5__.executeAndLogCommand)(this.world, cmd);
                console.log("Image loaded");
            }
        });
    }
    exportMap() {
        return __awaiter(this, void 0, void 0, function* () {
            this.currentLevel.saveFrom(this.world);
            let blob = yield this.map.saveToFile();
            this.saveBlob(blob, "map.dndm");
        });
    }
    saveBlob(blob, fileName) {
        let a = document.getElementById("hidden-download-link");
        let url = window.URL.createObjectURL(blob);
        a.href = url;
        a.download = fileName;
        a.click();
        window.URL.revokeObjectURL(url);
    }
    enable() {
        super.enable();
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondrop = this.onDrop.bind(this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondragover = this.onDragOver.bind(this);
        this.currentLevel.loadInto(this.world);
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.on("_device_join", this.onDeviceJoin, this);
    }
    disable() {
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.off("_device_join", this.onDeviceJoin, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondrop = () => { };
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondragover = () => { };
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/homePhase.ts":
/*!************************************!*\
  !*** ./src/app/phase/homePhase.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HomePhase": () => (/* binding */ HomePhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");
/* harmony import */ var _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/home/home.vue */ "./src/app/ui/home/home.vue");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editMap/hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HomePhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("home");
    }
    ui() {
        return new _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__.default();
    }
    createMap() {
        let map = new _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap();
        _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
    }
    editMap(file) {
        return __awaiter(this, void 0, void 0, function* () {
            let map = yield _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap.loadFromFile(file);
            _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
        });
    }
    enable() {
        super.enable();
        this.uiEventEmitter.on('create_map', this.createMap, this);
        this.uiEventEmitter.on('edit', this.editMap, this);
    }
    disable() {
        this.uiEventEmitter.on('edit', this.editMap, this);
        this.uiEventEmitter.on('create_map', this.createMap, this);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/loadingPhase.ts":
/*!***************************************!*\
  !*** ./src/app/phase/loadingPhase.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadingPhase": () => (/* binding */ LoadingPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/loading/loading.vue */ "./src/app/ui/loading/loading.vue");


class LoadingPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("loading");
    }
    ui() {
        return new _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__.default();
    }
}


/***/ }),

/***/ "./src/app/phase/phase.ts":
/*!********************************!*\
  !*** ./src/app/phase/phase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Phase": () => (/* binding */ Phase)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);


class Phase {
    constructor(name) {
        this.name = name;
        // Create Vue instance that is responsible for handling the UI events of the current phase.
        // https://medium.com/vuejobs/create-a-global-event-bus-in-vue-js-838a5d9ab03a
        this.uiEventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
    }
    log(message) {
        console.log(`[${this.name}] ` + message);
    }
    ui() {
        return undefined;
    }
    enable() {
        this.log("Enabling");
        vue__WEBPACK_IMPORTED_MODULE_1__.default.prototype.eventEmitter = this.uiEventEmitter;
        this.vue = this.ui();
        if (this.vue) {
            this.vue.$mount();
            document.body.appendChild(this.vue.$el);
        }
        // Done ^^
    }
    disable() {
        console.log(`[${this.name}] Disabling`);
        if (this.vue) {
            document.body.removeChild(this.vue.$el);
        }
    }
    /**
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}


/***/ }),

/***/ "./src/app/phase/stage.ts":
/*!********************************!*\
  !*** ./src/app/phase/stage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stage": () => (/* binding */ Stage)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");

class Stage extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name) {
        super(name);
        this.phase = null;
    }
    setPhase(phase) {
        if (this.phase)
            this.phase.disable();
        this.phase = phase;
        if (this.phase)
            this.phase.enable();
    }
    disable() {
        super.disable();
        this.setPhase(null);
    }
}


/***/ }),

/***/ "./src/app/ui/vue.ts":
/*!***************************!*\
  !*** ./src/app/ui/vue.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Vue": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue),
/* harmony export */   "VComponent": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Component),
/* harmony export */   "VProp": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Prop),
/* harmony export */   "VWatch": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch),
/* harmony export */   "VRef": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Ref),
/* harmony export */   "VWatchImmediate": () => (/* binding */ VWatchImmediate)
/* harmony export */ });
/* harmony import */ var vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue-property-decorator */ "./node_modules/vue-property-decorator/lib/index.js");


function VWatchImmediate(name) {
    return (0,vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch)(name, { immediate: true });
}


/***/ }),

/***/ "./src/app/util/array.ts":
/*!*******************************!*\
  !*** ./src/app/util/array.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arrayRemoveElem": () => (/* binding */ arrayRemoveElem)
/* harmony export */ });
function arrayRemoveElem(arr, elem) {
    let index = arr.indexOf(elem);
    if (index !== -1)
        arr.splice(index, 1);
    return index !== -1;
}


/***/ }),

/***/ "./src/app/util/binaryHeap.ts":
/*!************************************!*\
  !*** ./src/app/util/binaryHeap.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinaryHeap": () => (/* binding */ BinaryHeap)
/* harmony export */ });
// Binary heap implementation from:
// http://eloquentjavascript.net/appendix2.html
class BinaryHeap {
    constructor(cmpLt) {
        this.content = new Array();
        this.elemMap = new Map();
        this.cmpLt = cmpLt;
    }
    push(element) {
        // Add the new element to the end of the array.
        this.elemMap.set(element, this.content.length);
        this.content.push(element);
        // Allow it to bubble up.
        this.bubbleUp(this.content.length - 1);
    }
    pop() {
        if (this.content.length === 0)
            return undefined;
        // Store the first element so we can return it later.
        let result = this.content[0];
        this.elemMap.delete(result);
        // Get the element at the end of the array.
        let end = this.content.pop();
        // If there are any elements left, put the end element at the
        // start, and let it sink down.
        if (this.content.length !== 0) {
            this.content[0] = end;
            this.elemMap.set(end, 0);
            this.sinkDown(0);
        }
        return result;
    }
    popElem(e) {
        let index = this.elemMap.get(e);
        if (index === undefined)
            return;
        this.elemMap.delete(e);
        let end = this.content.pop();
        if (index === this.content.length)
            return;
        this.content[index] = end;
        this.elemMap.set(end, index);
        this.sinkDown(index);
        this.bubbleUp(index); // Fix, some systems where a < b. b < c => a < c is not maintained
    }
    hasElem(e) {
        return this.elemMap.has(e);
    }
    peek() {
        return this.content[0];
    }
    size() {
        return this.content.length;
    }
    bubbleUp(n) {
        // Fetch the element that has to be moved.
        let element = this.content[n];
        // When at 0, an element can not go up any further.
        while (n > 0) {
            // Compute the parent element's index, and fetch it.
            let parentN = Math.floor((n + 1) / 2) - 1;
            let parent = this.content[parentN];
            // Swap the elements if the parent is greater.
            if (this.cmpLt(element, parent)) {
                this.content[parentN] = element;
                this.content[n] = parent;
                this.elemMap.set(element, parentN);
                this.elemMap.set(parent, n);
                // Update 'n' to continue at the new position.
                n = parentN;
            }
            // Found a parent that is less, no need to move it further.
            else {
                break;
            }
        }
    }
    sinkDown(n) {
        // Look up the target element and its score.
        let length = this.content.length;
        let element = this.content[n];
        while (true) {
            // Compute the indices of the child elements.
            let child2N = (n + 1) * 2, child1N = child2N - 1;
            // This is used to store the new position of the element,
            // if any.
            let swap = null;
            let child1 = undefined;
            // If the first child exists (is inside the array)...
            if (child1N < length) {
                // Look it up and compute its score.
                child1 = this.content[child1N];
                // If the score is less than our element's, we need to swap.
                if (this.cmpLt(child1, element))
                    swap = child1N;
            }
            // Do the same checks for the other child.
            if (child2N < length) {
                let child2 = this.content[child2N];
                if (this.cmpLt(child2, swap == null ? element : child1)) {
                    swap = child2N;
                }
            }
            // If the element needs to be moved, swap it, and continue.
            if (swap != null) {
                this.content[n] = this.content[swap];
                this.content[swap] = element;
                this.elemMap.set(this.content[n], n);
                this.elemMap.set(element, swap);
                n = swap;
            }
            // Otherwise, we are done.
            else {
                break;
            }
        }
    }
}


/***/ }),

/***/ "./src/app/util/bitSet.ts":
/*!********************************!*\
  !*** ./src/app/util/bitSet.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitSet": () => (/* binding */ BitSet)
/* harmony export */ });
/**
 * Basic BitSet
 */
class BitSet {
    constructor(data) {
        if (typeof data === 'number') {
            this.data = new Uint32Array(Math.ceil(length / 32));
        }
        else if (data.BYTES_PER_ELEMENT === 4) {
            this.data = data;
        }
        else {
            let len = Math.floor(data.byteLength / Uint32Array.BYTES_PER_ELEMENT);
            this.data = new Uint32Array(data.buffer, data.byteOffset, len);
        }
    }
    get size() {
        return this.data.length << 5;
    }
    get(i) {
        i |= 0;
        let wi = i >>> 5;
        if (wi >= this.data.length)
            return false;
        let b = this.data[wi];
        return !!((b >>> i) & 1);
    }
    ensureCapacity(wi) {
        let newLen = this.data.length;
        while (newLen < wi)
            newLen *= 2;
        if (newLen === this.data.length)
            return;
        let newData = new Uint32Array(newLen);
        newData.set(this.data);
        this.data = newData;
    }
    set(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] |= 1 << i;
    }
    reset(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] &= ~(1 << i);
    }
    isAll(target, until) {
        let t = 0;
        if (target) {
            t = 0xFFFFFFFF;
        }
        let loopLast = until === undefined ? this.data.length : (until >>> 5);
        for (let i = 0; i < loopLast; i++) {
            if (this.data[i] !== t)
                return false;
        }
        if (until === undefined)
            return true;
        let i = ((until - 1) >> 5) + 1;
        let il = until & 0x1F;
        let mask = (1 << il) - 1;
        let d = this.data[i];
        if (target) {
            d = ~d;
        }
        return (d & mask) === 0;
    }
}


/***/ }),

/***/ "./src/app/util/eventEmitterWrapper.ts":
/*!*********************************************!*\
  !*** ./src/app/util/eventEmitterWrapper.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventEmitterWrapper": () => (/* binding */ EventEmitterWrapper)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class EventEmitterWrapper extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__ {
    constructor(catcher) {
        super();
        this.caught = new Set();
        this.catcher = catcher;
    }
    catchEvent(event) {
        this.catcher(event, this);
        this.caught.add(event);
    }
    on(event, fn, context) {
        super.on(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
    addListener(event, fn, context) {
        super.addListener(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/util/geometry.ts":
/*!**********************************!*\
  !*** ./src/app/util/geometry.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "polygonPointIntersect": () => (/* binding */ polygonPointIntersect),
/* harmony export */   "aabbAabbIntersect": () => (/* binding */ aabbAabbIntersect),
/* harmony export */   "distSquared2d": () => (/* binding */ distSquared2d),
/* harmony export */   "projectPointOnSegment": () => (/* binding */ projectPointOnSegment),
/* harmony export */   "intersectLineVsLine": () => (/* binding */ intersectLineVsLine),
/* harmony export */   "aabbSameOriginDifference": () => (/* binding */ aabbSameOriginDifference)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

function polygonPointIntersect(point, polygon) {
    const x = point.x;
    const y = point.y;
    let inside = false;
    // use some raycasting to test hits
    // https://github.com/substack/point-in-polygon/blob/master/index.js
    const length = polygon.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
        const xi = polygon[i * 2];
        const yi = polygon[(i * 2) + 1];
        const xj = polygon[j * 2];
        const yj = polygon[(j * 2) + 1];
        const intersect = ((yi > y) !== (yj > y)) && (x < ((xj - xi) * ((y - yi) / (yj - yi))) + xi);
        if (intersect) {
            inside = !inside;
        }
    }
    return inside;
}
function aabbAabbIntersect(al, at, ar, ab, bl, bt, br, bb) {
    return al < br && ar > bl && at < bb && ab > bt;
}
function distSquared2d(x1, y1, x2, y2) {
    let x = x1 - x2;
    let y = y1 - y2;
    return x * x + y * y;
}
function projectPointOnSegment(ax, ay, bx, by, px, py) {
    if (ax == bx && ay == ay)
        ax -= 0.00001;
    let u = ((px - ax) * (bx - ax)) + ((py - ay) * (by - ay));
    let udenom = Math.pow(bx - ax, 2) + Math.pow(by - ay, 2);
    u /= udenom;
    let rx = ax + (u * (bx - ax));
    let ry = ay + (u * (by - ay));
    let minx, maxx, miny, maxy;
    minx = Math.min(ax, bx);
    maxx = Math.max(ax, bx);
    miny = Math.min(ay, by);
    maxy = Math.max(ay, by);
    let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
    return isValid ? [rx, ry] : undefined;
}
function intersectLineVsLine(a1, a2, b1, b2, target) {
    let dbx = b2.x - b1.x;
    let dby = b2.y - b1.y;
    let dax = a2.x - a1.x;
    let day = a2.y - a1.y;
    let u_b = dby * dax - dbx * day;
    if (u_b == 0) {
        return false;
    }
    let ua = (dbx * (a1.y - b1.y) - dby * (a1.x - b1.x)) / u_b;
    if (target !== undefined) {
        target.set(a1.x - ua * -dax, a1.y - ua * -day);
    }
    return true;
}
function aabbSameOriginDifference(orig, last, now, added, removed) {
    let xAct = 0;
    if (now.x != last.x) {
        let xBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(now.x, orig.y, last.x, last.y);
        let add = (now.x > last.x) == (orig.x < now.x);
        if (add) {
            xAct = 1;
            added.push(xBox);
        }
        else {
            xAct = -1;
            removed.push(xBox);
        }
    }
    let yAct = 0;
    if (now.y != last.y) {
        let yBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(orig.x, last.y, last.x, now.y);
        let add = (now.y > last.y) == (orig.y < last.y);
        if (add) {
            yAct = 1;
            added.push(yBox);
        }
        else {
            yAct = -1;
            removed.push(yBox);
        }
    }
    if (xAct == yAct) {
        let box = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(last.x, last.y, now.x, now.y);
        if (xAct > 0) {
            added.push(box);
        }
        else {
            removed.push(box);
        }
    }
}


/***/ }),

/***/ "./src/app/util/k2dTree.ts":
/*!*********************************!*\
  !*** ./src/app/util/k2dTree.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K2dTree": () => (/* binding */ K2dTree)
/* harmony export */ });
class Node {
    constructor(point, parent, dimension) {
        this.left = undefined;
        this.right = undefined;
        this.point = point;
        this.parent = parent;
        this.dimension = dimension;
    }
}
class K2dTree {
    constructor() {
        this.root = undefined;
    }
    distance(a, b) {
        let dx = a[0] - b[0];
        let dy = a[1] - b[1];
        return dx * dx + dy * dy;
    }
    lastSearch(point, node, parent) {
        while (node !== undefined) {
            parent = node;
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return parent;
    }
    nodeSearch(point) {
        let node = this.root;
        while (node !== undefined) {
            if (point[0] === node.point[0] && point[1] === node.point[1]) {
                return node;
            }
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return undefined;
    }
    insert(point) {
        let insertPosition = this.lastSearch(point, this.root, undefined);
        if (insertPosition === undefined) {
            this.root = new Node(point, undefined, 0);
            return;
        }
        let newNode = new Node(point, insertPosition, (insertPosition.dimension + 1) & 1);
        let dimension = insertPosition.dimension;
        if (point[dimension] < insertPosition.point[dimension]) {
            insertPosition.left = newNode;
        }
        else {
            insertPosition.right = newNode;
        }
    }
    findMin(node, dim) {
        if (node === undefined) {
            return undefined;
        }
        if (node.dimension === dim) {
            if (node.left !== undefined) {
                return this.findMin(node.left, dim);
            }
            return node;
        }
        let own = node.point[dim];
        let left = this.findMin(node.left, dim);
        let right = this.findMin(node.right, dim);
        let min = node;
        if (left !== undefined && left.point[dim] < own) {
            min = left;
        }
        if (right !== undefined && right.point[dim] < min.point[dim]) {
            min = right;
        }
        return min;
    }
    removeNode(node) {
        if (node.left === undefined && node.right === undefined) {
            if (node.parent === undefined) {
                this.root = undefined;
                return;
            }
            let dim = node.parent.dimension;
            if (node.point[dim] < node.parent.point[dim]) {
                node.parent.left = undefined;
            }
            else {
                node.parent.right = undefined;
            }
            return;
        }
        // If the right subtree is not empty, swap with the minimum element on the
        // node's dimension. If it is empty, we swap the left and right subtrees and
        // do the same.
        if (node.right !== undefined) {
            let nextNode = this.findMin(node.right, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.point = nextPoint;
        }
        else {
            let nextNode = this.findMin(node.left, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.right = node.left;
            node.left = undefined;
            node.point = nextPoint;
        }
    }
    remove(point) {
        let node = this.nodeSearch(point);
        if (node === undefined)
            return false;
        this.removeNode(node);
        return true;
    }
    nearestPoint(point, root) {
        root = root || this.root;
        if (root === undefined)
            return undefined;
        let ownDistance = this.distance(root.point, point);
        if (root.left === undefined && root.right === undefined) {
            return [root.point, ownDistance];
        }
        let bestChild;
        if (root.right === undefined) {
            bestChild = root.left;
        }
        else if (root.left === undefined) {
            bestChild = root.right;
        }
        else {
            if (point[root.dimension] < root.point[root.dimension]) {
                bestChild = root.left;
            }
            else {
                bestChild = root.right;
            }
        }
        let [bestChildNode, bestChildDist] = this.nearestPoint(point, bestChild);
        let bestNode;
        let bestDist;
        if (bestChildDist < ownDistance) {
            bestNode = bestChildNode;
            bestDist = bestChildDist;
        }
        else {
            bestNode = root.point;
            bestDist = ownDistance;
        }
        // Searched point projected to our axis
        let linearPoint = [point[0], point[1]];
        linearPoint[root.dimension] = root.point[root.dimension];
        let linearDist = this.distance(linearPoint, point);
        if (linearDist < bestDist) {
            let otherChild;
            if (bestChild === root.left) {
                otherChild = root.right;
            }
            else {
                otherChild = root.left;
            }
            if (otherChild !== undefined) {
                let [otherNode, otherDist] = this.nearestPoint(point, otherChild);
                if (otherDist < bestDist) {
                    bestNode = otherNode;
                    bestDist = otherDist;
                }
            }
        }
        return [bestNode, bestDist];
    }
}


/***/ }),

/***/ "./src/app/util/pixi.ts":
/*!******************************!*\
  !*** ./src/app/util/pixi.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DESTROY_ALL": () => (/* binding */ DESTROY_ALL),
/* harmony export */   "DESTROY_MIN": () => (/* binding */ DESTROY_MIN),
/* harmony export */   "loadTexture": () => (/* binding */ loadTexture),
/* harmony export */   "CUSTOM_BLEND_MODES": () => (/* binding */ CUSTOM_BLEND_MODES),
/* harmony export */   "addCustomBlendModes": () => (/* binding */ addCustomBlendModes)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");


const DESTROY_ALL = {
    children: true,
    texture: true,
    baseTexture: true,
};
const DESTROY_MIN = {
    children: false,
    texture: false,
    baseTexture: false,
};
const ALLOWED_IMAGETYPES = ['jpeg', 'png', 'x-jg', 'bmp', 'x-icon', 'ief', 'pjpeg', 'x-portable-bitmap', 'x-rgb', 'tiff', 'x-tiff'];
function validateImageMimeType(type) {
    if (!type.startsWith('image/'))
        throw 'Invalid type: it should be an image';
    if (ALLOWED_IMAGETYPES.indexOf(type.substr('image/'.length)) < 0)
        throw 'Unsupported image type';
}
function loadTexture(data, dataType) {
    validateImageMimeType(dataType);
    let typedArray = new Uint8Array(data);
    let b64 = 'data:' + dataType + ';base64,' + btoa(typedArray.reduce((data, byte) => {
        return data + String.fromCharCode(byte);
    }, ''));
    return new Promise((resolve, reject) => {
        let image = new Image();
        image.onload = () => {
            const tex = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.BaseTexture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.resources.ImageResource(image)));
            resolve(tex);
        };
        image.onerror = reject;
        image.src = b64;
    });
}
var CUSTOM_BLEND_MODES;
(function (CUSTOM_BLEND_MODES) {
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["MULTIPLY_COLOR_ONLY"] = 30] = "MULTIPLY_COLOR_ONLY";
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["ADD_WHERE_ALPHA_1"] = 31] = "ADD_WHERE_ALPHA_1";
})(CUSTOM_BLEND_MODES || (CUSTOM_BLEND_MODES = {}));
function addCustomBlendModes() {
    let gl = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.gl;
    let array = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.state.blendModes;
    array[CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY] = [gl.DST_COLOR, gl.ZERO, gl.ONE, gl.ZERO];
    array[CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1] = [gl.DST_ALPHA, gl.ONE, gl.ZERO, gl.ONE];
}


/***/ }),

/***/ "./src/app/util/safeEventEmitter.ts":
/*!******************************************!*\
  !*** ./src/app/util/safeEventEmitter.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SafeEventEmitter)
/* harmony export */ });
class SafeEventEmitter {
    constructor() {
        this.events = {};
    }
    emit(event, ...args) {
        let listeners = this.events[event];
        if (listeners === undefined || listeners.length === 0)
            return false;
        let length = listeners.length;
        for (let i = 0; i < length;) {
            let listener = listeners[i];
            try {
                listener.cb.call(listener.self, ...args);
            }
            catch (b) {
                console.error("Error while calling event " + event);
                console.error(b);
            }
            if (listener.once) {
                listeners.splice(i, 1);
                length--;
            }
            else {
                i++;
            }
        }
        return true;
    }
    /**
     * Add a listener for a given event.
     */
    on(event, fn, context) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [];
            this.events[event] = listeners;
        }
        listeners.push({
            cb: fn,
            self: context,
            once: false,
        });
        return this;
    }
    /**
     * Add a one-time listener for a given event.
     */
    once(event, fn, context) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [];
            this.events[event] = listeners;
        }
        listeners.push({
            cb: fn,
            self: context,
            once: true,
        });
        return this;
    }
    /**
     * Remove the listeners of a given event.
     */
    off(event, fn, context, once) {
        let listeners = this.events[event];
        if (listeners === undefined)
            throw 'Cannot find event ' + event;
        let length = listeners.length;
        for (let i = 0; i < length; i++) {
            let listener = listeners[i];
            if (listener.cb === fn && listener.self === context) {
                listeners.splice(i, 1);
                return this;
            }
        }
        throw 'Cannot find event ' + event;
    }
    /**
     * Remove all listeners, or those of the specified event.
     */
    removeAllListeners(event) {
        if (event !== undefined) {
            this.events[event] = [];
        }
        else {
            this.events = {};
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&");
/* harmony import */ var _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
/* harmony import */ var _compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "03d324d6",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/compWrapper.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&");
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "5efd7016",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsBackgroundImage.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&");
/* harmony import */ var _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "1862e8b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsDoor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue":
/*!*************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=template&id=724e011f&scoped=true& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&");
/* harmony import */ var _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "724e011f",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsLight.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue?vue&type=template&id=3e768912&scoped=true& */ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&");
/* harmony import */ var _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsName.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "3e768912",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsName.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&");
/* harmony import */ var _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "2effb2f9",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsNote.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue":
/*!***********************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&");
/* harmony import */ var _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "26d88e5e",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPin.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue":
/*!**************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&");
/* harmony import */ var _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "636ceea8",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPlayer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&");
/* harmony import */ var _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "e81e4da0",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPosition.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsProp_vue_vue_type_template_id_d4f0f42c_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true&");
/* harmony import */ var _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsProp_vue_vue_type_template_id_d4f0f42c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsProp_vue_vue_type_template_id_d4f0f42c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "d4f0f42c",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsProp.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue":
/*!********************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");
/* harmony import */ var _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "08b2d1b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPropTeleport.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue":
/*!*****************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&");
/* harmony import */ var _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "4ee87bf5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsTransform.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&");
/* harmony import */ var _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "37e22e5e",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsWall.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue":
/*!******************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&");
/* harmony import */ var _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
/* harmony import */ var _entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "c407dbfa",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/entityInspect.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/editMap.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMap.vue?vue&type=template&id=53b46051&scoped=true& */ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&");
/* harmony import */ var _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editMap.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& */ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "53b46051",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/editMap.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue":
/*!**************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=template&id=69e6e221& */ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");
/* harmony import */ var _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/gridEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/footer.vue":
/*!*******************************!*\
  !*** ./src/app/ui/footer.vue ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer.vue?vue&type=template&id=539f2bff&scoped=true& */ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&");
/* harmony import */ var _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./footer.vue?vue&type=script&lang=ts& */ "./src/app/ui/footer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& */ "./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "539f2bff",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/footer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/home.vue":
/*!**********************************!*\
  !*** ./src/app/ui/home/home.vue ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=d8550b4a& */ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");
/* harmony import */ var _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=ts& */ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
/* harmony import */ var _home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render,
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/home.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue":
/*!**************************************!*\
  !*** ./src/app/ui/home/mapInput.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& */ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&");
/* harmony import */ var _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue?vue&type=script&lang=js& */ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "7e9d406c",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/mapInput.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    name: "mapInput",
    data() {
        return {
            file: null,
        }
    },
    methods: {
        onDrop: function (event) {

        },
        hideModal: function (event) {
          this.$emit("close");
        }
    }
});


/***/ }),

/***/ "./src/app/ui/loading/loading.vue":
/*!****************************************!*\
  !*** ./src/app/ui/loading/loading.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=b10af496& */ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");
/* harmony import */ var _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.vue?vue&type=script&lang=ts& */ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!********************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!***********************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&":
/*!******************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&":
/*!********************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=template&id=724e011f&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=template&id=3e768912&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&":
/*!*********************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!***************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&":
/*!************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&":
/*!*************************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&");


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&":
/*!********************************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=template&id=53b46051&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&");


/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=template&id=69e6e221& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&":
/*!**************************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=template&id=539f2bff&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&");


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=template&id=d8550b4a& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");


/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=script&lang=js& */ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&":
/*!*********************************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&");


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=b10af496& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&":
/*!*************************************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&":
/*!***************************************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&":
/*!**********************************************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&":
/*!****************************************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", [
        _c(
          "div",
          { staticClass: "component-header" },
          [
            _c(
              "div",
              {
                staticStyle: { width: "100%" },
                on: {
                  click: function($event) {
                    _vm.visible = !_vm.visible
                  }
                }
              },
              [_vm._v(" " + _vm._s(_vm.component.typeName))]
            ),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component.clientVisible !== undefined,
                        expression: "component.clientVisible !== undefined"
                      }
                    ],
                    staticStyle: { display: "grid" },
                    attrs: {
                      squared: "",
                      size: "sm",
                      title: _vm.component.clientVisible
                        ? "Hide component"
                        : "Show component"
                    },
                    on: {
                      click: function($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          _vm.component.type,
                          "clientVisible",
                          !_vm.component.clientVisible
                        )
                      }
                    }
                  },
                  [
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: _vm.component.clientVisible,
                            expression: "component.clientVisible"
                          }
                        ],
                        staticClass: "g11"
                      },
                      [_c("i", { staticClass: "fas fa-eye" })]
                    ),
                    _vm._v(" "),
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: !_vm.component.clientVisible,
                            expression: "!component.clientVisible"
                          }
                        ],
                        staticClass: "g11"
                      },
                      [_c("i", { staticClass: "fas fa-eye-slash" })]
                    )
                  ]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._isFullscreen !== undefined,
                        expression: "component._isFullscreen !== undefined"
                      }
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "primary",
                      title: "Fullscreen"
                    },
                    on: {
                      click: function($event) {
                        _vm.component._isFullscreen = true
                      }
                    }
                  },
                  [_c("i", { staticClass: "fas fa-expand" })]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._canDelete,
                        expression: "component._canDelete"
                      }
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "danger",
                      title: "Delete"
                    },
                    on: {
                      click: function($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          "$",
                          "removeComponent",
                          _vm.component.type,
                          _vm.component.multiId
                        )
                      }
                    }
                  },
                  [_c("i", { staticClass: "fas fa-trash" })]
                )
              : _vm._e()
          ],
          1
        )
      ]),
      _vm._v(" "),
      _c(
        "b-collapse",
        {
          staticClass: "component-body",
          attrs: { visible: "" },
          model: {
            value: _vm.visible,
            callback: function($$v) {
              _vm.visible = $$v
            },
            expression: "visible"
          }
        },
        [
          _c(_vm.componentType, {
            tag: "component",
            attrs: {
              component: _vm.component,
              isAdmin: _vm.isAdmin,
              allComps: _vm.allComps
            },
            on: {
              "ecs-property-change": function($event) {
                return _vm.$emit(
                  "ecs-property-change",
                  arguments[0],
                  arguments[1],
                  arguments[2],
                  arguments[3]
                )
              }
            }
          })
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("span", [_vm._v("Your regular background image")])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Type:\n    "),
        !_vm.isAdmin
          ? _c("span", [
              _vm._v("\n      " + _vm._s(this.doorTypeName) + "\n    ")
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-form-select",
              {
                staticClass: "mb-3",
                model: {
                  value: _vm.doorType,
                  callback: function($$v) {
                    _vm.doorType = $$v
                  },
                  expression: "doorType"
                }
              },
              [
                _c("b-form-select-option", { attrs: { value: "normall" } }, [
                  _vm._v("Normal")
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "normalr" } }, [
                  _vm._v("Normal right")
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "rotate" } }, [
                  _vm._v("Rotating")
                ])
              ],
              1
            )
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        !_vm.isAdmin
          ? _c("span", [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))])
          : _vm._e(),
        _vm._v(" "),
        !_vm.isAdmin
          ? _c(
              "span",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: this.locked,
                    expression: "this.locked"
                  }
                ],
                staticStyle: { "margin-left": "0.5rem" }
              },
              [_c("i", { staticClass: "fas fa-lock" })]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.open },
                on: {
                  "update:pressed": function($event) {
                    _vm.open = $event
                  }
                }
              },
              [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.locked },
                on: {
                  "update:pressed": function($event) {
                    _vm.locked = $event
                  }
                }
              },
              [
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.locked,
                        expression: "locked"
                      }
                    ]
                  },
                  [_c("i", { staticClass: "fas fa-lock" })]
                ),
                _vm._v(" "),
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: !_vm.locked,
                        expression: "!locked"
                      }
                    ]
                  },
                  [_c("i", { staticClass: "fas fa-lock-open" })]
                )
              ]
            )
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Color:\n    "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "color" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.color,
                callback: function($$v) {
                  _vm.color = $$v
                },
                expression: "color"
              }
            })
          : _c("span", [_vm._v(_vm._s(_vm.color))])
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.range))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "1", min: "0", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.range,
                callback: function($$v) {
                  _vm.range = $$v
                },
                expression: "range"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("b-input", {
    attrs: { readonly: !_vm.isAdmin, placeholder: "Entity name" },
    on: { change: _vm.onChange },
    model: {
      value: _vm.component.name,
      callback: function($$v) {
        _vm.$set(_vm.component, "name", $$v)
      },
      expression: "component.name"
    }
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("b-textarea", {
        attrs: {
          placeholder: "Write something here...",
          readonly: !_vm.isAdmin
        },
        on: { change: _vm.onChange },
        model: {
          value: _vm.note,
          callback: function($$v) {
            _vm.note = $$v
          },
          expression: "note"
        }
      }),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          attrs: {
            title: "Note",
            "dialog-class": "modal-fullscreen modal-xxl",
            "hide-footer": "",
            "hide-header": ""
          },
          scopedSlots: _vm._u([
            {
              key: "modal-footer",
              fn: function() {
                return undefined
              },
              proxy: true
            }
          ]),
          model: {
            value: _vm.component._isFullscreen,
            callback: function($$v) {
              _vm.$set(_vm.component, "_isFullscreen", $$v)
            },
            expression: "component._isFullscreen"
          }
        },
        [
          _c("b-textarea", {
            staticStyle: { height: "100%", resize: "none" },
            attrs: {
              placeholder: "Write something here...",
              readonly: !_vm.isAdmin
            },
            on: { change: _vm.onChange },
            model: {
              value: _vm.note,
              callback: function($$v) {
                _vm.note = $$v
              },
              expression: "note"
            }
          })
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm.isAdmin
        ? [
            _c("b-input", {
              attrs: { type: "color", readonly: !_vm.isAdmin },
              on: { change: _vm.onChange },
              model: {
                value: _vm.color,
                callback: function($$v) {
                  _vm.color = $$v
                },
                expression: "color"
              }
            }),
            _vm._v(" "),
            _c("b-input", {
              attrs: { readonly: !_vm.isAdmin, placeholder: "Label" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.label,
                callback: function($$v) {
                  _vm.label = $$v
                },
                expression: "label"
              }
            })
          ]
        : _vm._e()
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Night vision:\n    "),
        _vm.isAdmin
          ? _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.nightVision,
                callback: function($$v) {
                  _vm.nightVision = $$v
                },
                expression: "nightVision"
              }
            })
          : _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.nightVision ? "yes" : "no"))
            ])
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.range))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "1", min: "0", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.range,
                callback: function($$v) {
                  _vm.range = $$v
                },
                expression: "range"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    X: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.x))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.x,
                callback: function($$v) {
                  _vm.x = $$v
                },
                expression: "x"
              }
            })
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Y: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(" " + _vm._s(_vm.y))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.y,
                callback: function($$v) {
                  _vm.y = $$v
                },
                expression: "y"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div")
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", { staticStyle: { display: "flex", "align-items": "center" } }, [
        _vm._v("\n    Target: "),
        _c("span", { on: { click: _vm.focusTarget } }, [
          _vm._v(_vm._s(this.component.targetProp))
        ])
      ]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.link } }, [_vm._v("Link")]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.use } }, [_vm._v("Use")])
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Angle: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.rotation))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.rotation,
                callback: function($$v) {
                  _vm.rotation = $$v
                },
                expression: "rotation"
              }
            })
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Scale: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.scale))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.scale,
                callback: function($$v) {
                  _vm.scale = $$v
                },
                expression: "scale"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    W: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.w))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.w,
                callback: function($$v) {
                  _vm.w = $$v
                },
                expression: "w"
              }
            })
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    H: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.h))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.h,
                callback: function($$v) {
                  _vm.h = $$v
                },
                expression: "h"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      directives: [
        {
          name: "show",
          rawName: "v-show",
          value: _vm.components.length > 0,
          expression: "components.length > 0"
        }
      ]
    },
    [
      _c(
        "div",
        { staticClass: "component-btn-header" },
        [
          _vm.isAdmin
            ? _c(
                "b-dropdown",
                {
                  attrs: { "toggle-class": "rounded-0", variant: "success" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "button-content",
                        fn: function() {
                          return [_c("i", { staticClass: "fas fa-plus" })]
                        },
                        proxy: true
                      }
                    ],
                    null,
                    false,
                    1774554641
                  )
                },
                [
                  _vm._v(" "),
                  _vm._l(_vm.selectedAddable, function(x) {
                    return _c(
                      "b-dropdown-item",
                      {
                        key: x.type,
                        on: {
                          click: function($event) {
                            return _vm.emitSpecial("addComponent", x.type)
                          }
                        }
                      },
                      [_vm._v("\n        " + _vm._s(x.name) + "\n      ")]
                    )
                  })
                ],
                2
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.isAdmin
            ? _c(
                "b-button",
                {
                  staticStyle: { display: "grid" },
                  attrs: {
                    squared: "",
                    title: _vm.entity.hidden ? "Show entity" : "Hide entity"
                  },
                  on: {
                    click: function($event) {
                      return _vm.emitSpecial("hidden", !_vm.entity.hidden)
                    }
                  }
                },
                [
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.entity.hidden ? "visible" : "hidden"
                      }
                    },
                    [_c("i", { staticClass: "fas fa-eye-slash" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.entity.hidden ? "hidden" : "visible"
                      }
                    },
                    [_c("i", { staticClass: "fas fa-eye" })]
                  )
                ]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.isAdmin
            ? _c(
                "b-button",
                {
                  attrs: {
                    variant: "danger",
                    title: "Delete entity",
                    squared: ""
                  },
                  on: {
                    click: function($event) {
                      return _vm.emitSpecial("delete")
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-trash" })]
              )
            : _vm._e()
        ],
        1
      ),
      _vm._v(" "),
      _vm._l(_vm.renderedComponents, function(comp) {
        return _c("ecs-component-wrapper", {
          key: comp.type + (comp.multiId || ""),
          attrs: {
            component: comp,
            isAdmin: _vm.isAdmin,
            allComps: _vm.allComponents
          },
          on: {
            "ecs-property-change": function($event) {
              return _vm.$emit(
                "ecs-property-change",
                arguments[0],
                arguments[1],
                arguments[2],
                arguments[3]
              )
            }
          }
        })
      })
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "game" },
    [
      _c(
        "b-button-toolbar",
        {
          staticClass: "bg-dark",
          staticStyle: {
            width: "100%",
            height: "var(--topbar-height)",
            "z-index": "1000"
          },
          attrs: { type: "dark", variant: "info", justify: "" }
        },
        [
          _vm.isAdmin
            ? _c(
                "b-button-group",
                { staticStyle: { "margin-right": "2rem" } },
                [
                  _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn undo-redo-btn",
                      attrs: {
                        title: "Undo",
                        squared: "",
                        disabled: !this.canUndo
                      },
                      on: {
                        click: function($event) {
                          return _vm.undo()
                        }
                      }
                    },
                    [_c("i", { staticClass: "fas fa-undo" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn undo-redo-btn",
                      attrs: {
                        title: "Redo",
                        squared: "",
                        disabled: !this.canRedo
                      },
                      on: {
                        click: function($event) {
                          return _vm.redo()
                        }
                      }
                    },
                    [_c("i", { staticClass: "fas fa-redo" })]
                  )
                ],
                1
              )
            : _vm._e(),
          _vm._v(" "),
          _c(
            "b-radio-group",
            {
              attrs: { buttons: "" },
              model: {
                value: _vm.tool,
                callback: function($$v) {
                  _vm.tool = $$v
                },
                expression: "tool"
              }
            },
            [
              _c(
                "b-radio",
                {
                  ref: "radioinspect",
                  class: {
                    "toolbar-btn": this.backgroundLocked,
                    "btn-warning": !this.backgroundLocked
                  },
                  attrs: { title: "Inspect", value: "inspect", squared: "" },
                  on: {
                    click: function($event) {
                      return _vm.inspectClick()
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-hand-pointer" })]
              ),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-radio",
                    {
                      staticClass: "toolbar-btn",
                      attrs: {
                        title: "Add wall",
                        value: "create_wall",
                        squared: ""
                      }
                    },
                    [
                      _c(
                        "svg",
                        {
                          staticClass: "svg-inline--fa fa-w-16",
                          attrs: {
                            xmlns: "http://www.w3.org/2000/svg",
                            viewBox: "0 0 234.809 234.809",
                            "xml:space": "preserve"
                          }
                        },
                        [
                          _c("path", {
                            attrs: {
                              fill: "currentColor",
                              d:
                                "M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n                    c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n                    c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n                    c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n                    c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n                    H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                    c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n                    c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n                    c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n                    c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n                    H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                    c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n                    c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z"
                            }
                          })
                        ]
                      )
                    ]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-radio",
                    {
                      staticClass: "toolbar-btn",
                      attrs: {
                        title: "Add prop",
                        value: "create_prop",
                        squared: ""
                      }
                    },
                    [_c("i", { staticClass: "fas fa-couch" })]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-radio",
                    {
                      staticClass: "toolbar-btn",
                      attrs: {
                        title: "Add pin",
                        value: "create_pin",
                        squared: ""
                      }
                    },
                    [_c("i", { staticClass: "fas fa-thumbtack" })]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-radio",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Edit grid", value: "grid", squared: "" }
                    },
                    [_c("i", { staticClass: "fas fa-border-all" })]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-radio",
                    {
                      staticClass: "toolbar-btn",
                      attrs: {
                        title: "Light settings",
                        value: "light",
                        squared: ""
                      }
                    },
                    [_c("i", { staticClass: "fas fa-lightbulb" })]
                  )
                : _vm._e()
            ],
            1
          ),
          _vm._v(" "),
          _vm.isAdmin
            ? _c(
                "b-button",
                {
                  staticClass: "btn-xs",
                  attrs: {
                    title: "Export map",
                    squared: "",
                    variant: "success"
                  },
                  on: {
                    click: function($event) {
                      return _vm.phase.exportMap()
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-download" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _c("div", { staticStyle: { flex: "1 1 0" } }),
          _vm._v(" "),
          _c(
            "b-button",
            {
              directives: [
                {
                  name: "b-toggle",
                  rawName: "v-b-toggle.sidebar-right",
                  modifiers: { "sidebar-right": true }
                }
              ],
              staticClass: "btn-xs",
              attrs: { title: "Toggle sidebar", variant: "warning" }
            },
            [_c("i", { staticClass: "fas fa-angle-double-right" })]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c("div", {
        staticStyle: {
          width: "100%",
          height: "calc(100vh - var(--topbar-height))"
        },
        attrs: { id: "canvas-container" }
      }),
      _vm._v(" "),
      _c(
        "b-sidebar",
        {
          attrs: {
            id: "sidebar-right",
            title: "Sidebar",
            "bg-variant": "dark",
            "text-variant": "light",
            right: "",
            visible: "",
            "no-header": "",
            shadow: "",
            "sidebar-class": "under-navbar"
          },
          scopedSlots: _vm._u([
            {
              key: "footer",
              fn: function() {
                return [
                  _c("div", { staticClass: "sidebar-footer" }, [
                    _vm._v(
                      "\n        " + _vm._s(_vm.connectionCount) + "\n        "
                    ),
                    _c(
                      "div",
                      {
                        class: { rotate: _vm.connectionBuffering },
                        staticStyle: { "margin-left": "0.2rem" }
                      },
                      [_c("i", { staticClass: "fas fa-sync-alt" })]
                    )
                  ])
                ]
              },
              proxy: true
            }
          ])
        },
        [
          _c("grid-edit", {
            directives: [
              {
                name: "show",
                rawName: "v-show",
                value: _vm.tool === "grid",
                expression: "tool === 'grid'"
              }
            ],
            staticClass: "px-3 py-2",
            attrs: { world: _vm.world }
          }),
          _vm._v(" "),
          _c(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.tool === "inspect",
                  expression: "tool === 'inspect'"
                }
              ]
            },
            [
              _c("entity-inspect", {
                attrs: {
                  components: this.selectedComponents,
                  entity: this.selectedEntityOpts,
                  isAdmin: _vm.isAdmin,
                  selectedAddable: _vm.selectedAddable
                },
                on: { "ecs-property-change": _vm.onEcsPropertyChange }
              })
            ],
            1
          ),
          _vm._v(" "),
          _c(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.tool === "light",
                  expression: "tool === 'light'"
                }
              ],
              staticClass: "px-3 py-2"
            },
            [
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Light:")]),
                  _vm._v(" "),
                  _c("b-input", {
                    attrs: { type: "color", readonly: !_vm.isAdmin },
                    on: { change: _vm.onAmbientLightChange },
                    model: {
                      value: _vm.light.ambientLight,
                      callback: function($$v) {
                        _vm.$set(_vm.light, "ambientLight", $$v)
                      },
                      expression: "light.ambientLight"
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Needs light:")]),
                  _vm._v(" "),
                  _c("b-form-checkbox", {
                    attrs: { readonly: !_vm.isAdmin },
                    on: { input: _vm.onAmbientLightChange },
                    model: {
                      value: _vm.light.needsLight,
                      callback: function($$v) {
                        _vm.$set(_vm.light, "needsLight", $$v)
                      },
                      expression: "light.needsLight"
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Vision type:")]),
                  _vm._v(" "),
                  _c(
                    "b-button",
                    {
                      attrs: {
                        pressed: _vm.light.roleplayVision,
                        readonly: !_vm.isAdmin
                      },
                      on: {
                        "update:pressed": function($event) {
                          return _vm.$set(_vm.light, "roleplayVision", $event)
                        }
                      }
                    },
                    [
                      _vm._v(
                        "\n          " +
                          _vm._s(
                            _vm.light.roleplayVision ? "Roleplayer" : "Master"
                          ) +
                          "\n        "
                      )
                    ]
                  )
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Background:")]),
                  _vm._v(" "),
                  _c("b-input", {
                    attrs: { type: "color", readonly: !_vm.isAdmin },
                    on: { change: _vm.onAmbientLightChange },
                    model: {
                      value: _vm.light.background,
                      callback: function($$v) {
                        _vm.$set(_vm.light, "background", $$v)
                      },
                      expression: "light.background"
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                [
                  _c("b-button", { on: { click: _vm.onLightSettingsReset } }, [
                    _vm._v("Reset")
                  ])
                ],
                1
              )
            ]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c("a", {
        staticStyle: { display: "none" },
        attrs: { id: "hidden-download-link" }
      })
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm._v("\n  Type:\n  "),
      _c(
        "b-radio-group",
        {
          attrs: { id: "grid-type-radio", buttons: "" },
          model: {
            value: _vm.grid.type,
            callback: function($$v) {
              _vm.$set(_vm.grid, "type", $$v)
            },
            expression: "grid.type"
          }
        },
        [
          _c("b-radio", { attrs: { value: "none" } }, [
            _c("i", { staticClass: "fas fa-border-none" })
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "square" } }, [
            _c("i", { staticClass: "far fa-square" })
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "hex" } }, [
            _c(
              "svg",
              {
                staticClass: "svg-inline--fa fa-hexagon fa-w-18",
                attrs: {
                  role: "img",
                  xmlns: "http://www.w3.org/2000/svg",
                  viewBox: "0 0 576 512"
                }
              },
              [
                _c("path", {
                  attrs: {
                    fill: "currentColor",
                    d:
                      "M441.5 39.8C432.9 25.1 417.1 16 400 16H176c-17.1 0-32.9 9.1-41.5 23.8l-112 192c-8.7 14.9-8.7 33.4 0 48.4l112 192c8.6 14.7 24.4 23.8 41.5 23.8h224c17.1 0 32.9-9.1 41.5-23.8l112-192c8.7-14.9 8.7-33.4 0-48.4l-112-192zM400 448H176L64 256 176 64h224l112 192-112 192z"
                  }
                })
              ]
            )
          ])
        ],
        1
      ),
      _vm._v(" "),
      _vm.grid.type !== "none"
        ? _c(
            "div",
            [
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Size:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "10",
                        max: "512",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.size,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "size", $$v)
                        },
                        expression: "grid.size"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "10", max: "512" },
                model: {
                  value: _vm.grid.size,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "size", $$v)
                  },
                  expression: "grid.size"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Xoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.offX,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "offX", $$v)
                        },
                        expression: "grid.offX"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offX,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "offX", $$v)
                  },
                  expression: "grid.offX"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Yoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.offY,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "offY", $$v)
                        },
                        expression: "grid.offY"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offY,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "offY", $$v)
                  },
                  expression: "grid.offY"
                }
              }),
              _vm._v("\n\n    Color: " + _vm._s(_vm.grid.color) + "\n    "),
              _c("b-input", {
                attrs: { type: "color" },
                model: {
                  value: _vm.grid.color,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "color", $$v)
                  },
                  expression: "grid.color"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Opacity:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.opacity,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "opacity", $$v)
                        },
                        expression: "grid.opacity"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.opacity,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "opacity", $$v)
                  },
                  expression: "grid.opacity"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Thickness:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "1",
                        max: "200",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.thick,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "thick", $$v)
                        },
                        expression: "grid.thick"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "1", max: "200" },
                model: {
                  value: _vm.grid.thick,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "thick", $$v)
                  },
                  expression: "grid.thick"
                }
              })
            ],
            1
          )
        : _vm._e()
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm._m(0)
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "footer" }, [
      _c("div", { staticClass: "credits" }, [
        _c("div", { staticClass: "links" }, [
          _c("a", {
            staticClass: "github",
            attrs: {
              href: "https://github.com/SnowyCoder/dndme",
              target: "_blank"
            }
          })
        ]),
        _vm._v(" "),
        _c("small", { staticStyle: { color: "lightgray" } }, [
          _vm._v("\n      Developed by "),
          _c(
            "a",
            {
              staticClass: "profile",
              attrs: { href: "https://github.com/SnowyCoder", target: "_blank" }
            },
            [_vm._v("Rossi Lorenzo")]
          ),
          _vm._v(" /\n      Drawings by "),
          _c("span", { staticStyle: { color: "white" } }, [
            _vm._v("Giorgia Nizzoli")
          ])
        ])
      ])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      staticClass:
        "phase-container text-center flex-column align-items-center justify-content-center row",
      staticStyle: { height: "100vh", margin: "0" }
    },
    [
      _vm._m(0),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "warning", size: "lg" },
              on: { click: _vm.onCreateMap }
            },
            [_vm._v("Create Map")]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "info", size: "lg" },
              on: { click: _vm.onEditMap }
            },
            [_vm._v("Edit Map")]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          ref: "map-load-modal",
          attrs: { "hide-footer": "", title: "Gimme the map" }
        },
        [
          _c("b-form-file", {
            attrs: {
              state: Boolean(_vm.file),
              placeholder: "Choose a file or drop it here...",
              "drop-placeholder": "Drop file here...",
              accept: ".dndm"
            },
            model: {
              value: _vm.file,
              callback: function($$v) {
                _vm.file = $$v
              },
              expression: "file"
            }
          })
        ],
        1
      ),
      _vm._v(" "),
      _c("footer-component")
    ],
    1
  )
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "text-white" }, [
      _c(
        "p",
        {
          staticClass: "title",
          staticStyle: { "font-size": "3.5em", margin: "0" }
        },
        [_vm._v("DRAW&DICE")]
      ),
      _vm._v(" "),
      _c("p", { staticStyle: { "font-size": "2em" } }, [_vm._v("Dnd made ez!")])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    { ref: "my-modal", attrs: { "hide-footer": "", title: "Gimme the map" } },
    [
      _c("div", { staticClass: "d-block text-center" }, [
        _c("h3", [_vm._v("Insert map to load")])
      ]),
      _vm._v(" "),
      _c(
        "b-button",
        {
          staticClass: "mt-3",
          attrs: { variant: "outline-danger", block: "" },
          on: { click: _vm.hideModal }
        },
        [_vm._v("Cancel")]
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c("div", { staticClass: "sloading-container" }, [
      _c("h1", { staticClass: "sloading-title" }, [_vm._v("DRAW&DICE")]),
      _vm._v(" "),
      _c("h2", [_vm._v(_vm._s(_vm.message))]),
      _vm._v(" "),
      _c("h5", [_vm._v("Loading")])
    ])
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("20adba36", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("0e8a47b6", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("cf98b6ba", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("7c681468", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("3421859f", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("13877244", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/style.css":
/*!******************************!*\
  !*** ./src/public/style.css ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("511f390e", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/spritesheets/props.json":
/*!********************************************!*\
  !*** ./src/public/spritesheets/props.json ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"frames":{"ladder_down.png":{"frame":{"x":0,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}},"ladder_up.png":{"frame":{"x":64,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}}},"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"1.0","image":"props.png","format":"RGBA8888","size":{"w":128,"h":64},"scale":"1","smartupdate":"$TexturePacker:SmartUpdate:e4f96f20e593ddd42c4cf1d50d2d8f26:7e60e2d391e00eeed0a16270f3c0f13d:f4c39b94f5b79b4c461da96ae5609d50$"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {};
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/app/index.ts","vendors-node_modules_fortawesome_fontawesome-free_js_all_js-node_modules_msgpack_msgpack_dist-1a4cc9"]
/******/ 		];
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkdrawndice"] = self["webpackChunkdrawndice"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// run startup
/******/ 	var __webpack_exports__ = __webpack_require__.x();
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/NTdjMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT83YTQxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT80OGY0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT9hNjRkIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT8wOWExIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9jNWNmIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvc3R5bGUuY3NzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvaW1hZ2VzL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3Byb3BzLnBuZyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9ub2RlX21vZHVsZXMvcGVlcmpzL2Rpc3R8c3luYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/YTkwYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzVmMTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/MGI4NyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/ZGZhYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT83OTBlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlPzliNTYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT80NjdjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MjU0MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/NTBjOSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZT9jMjA2Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWU/MGI5OCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlPzJkOWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWU/MzEyNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT9lN2JiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT9hYjZkIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWU/MjFjYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/NjE3NSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/YzZhMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWU/MWMxZiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL1BJWEkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9hc3NldHNMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvY29tcG9uZW50LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2Vjc1V0aWwudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvaW50ZXJhY3Rpb24udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvcmVzb3VyY2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3RvcmFnZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1HcmFwaC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svbmV0d29ya1N5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9waXhpR3JhcGhpY1N5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aVJlY3RTZWxlY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdGV4dFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eUF3YXJlU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay92aXNpYmlsaXR5U3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFja2dyb3VuZEltYWdlU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9jb21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9jb21tYW5kSGlzdG9yeVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tcG9uZW50RWRpdC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2V2ZW50Q29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvbm9uZUNvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL3Jlc291cmNlRWRpdENvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL3NwYXduQ29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2Rvb3JTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9ncmlkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9waW5TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9wbGF5ZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9wcm9wU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvd2FsbFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy9pbnNwZWN0LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL3JlY3Rhbmd1bGFyU2VsZWN0aW9uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL3Rvb2xUeXBlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL3V0aWxzLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3dvcmxkLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2FtZS9ncmlkLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2FtZS9wb2ludERCLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9hYWJiLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvY29sbGlzaW9uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvZHluYW1pY1RyZWUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9saW5lLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvb2JiLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvdmlzaWJpbGl0eVBvbHlnb24udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9ncmFwaGljcy50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2luZGV4LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbWFwL2dhbWVNYXAudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9tYXAvbWFwTGV2ZWwudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9uZXR3b3JrL2NoYW5uZWwudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9uZXR3b3JrL25ldHdvcmtNYW5hZ2VyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWNzUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2NsaWVudEVkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2VkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvaG9zdEVkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2hvbWVQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2xvYWRpbmdQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL3BoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2Uvc3RhZ2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS92dWUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2FycmF5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9iaW5hcnlIZWFwLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9iaXRTZXQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2V2ZW50RW1pdHRlcldyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2dlb21ldHJ5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9rMmRUcmVlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9waXhpLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9zYWZlRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZT9mYWMyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/MTNkNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZT83MjkyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZT8xYjVjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05hbWUudnVlP2Q3Y2MiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/ODBlMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlP2U5OTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZT8zMDUzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZT8zMzFjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlP2Y1OWEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZT9mZGFiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWU/MTQ3YiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZT8yNzQzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlP2ZiYWEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzA2Y2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZT9hODdiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT8yODE1Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT9mMzRjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9kMmMzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWU/MjM4MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/YmQxNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzI0OWIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/ZGY4MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/YzIxNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT9iYTc4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlP2I1ODAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT9jNmVmIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MTk3MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/OWZkZiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wLnZ1ZT8xZmZiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWU/Yzk0MSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlPzMzZjYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWU/NGY5MSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT8xZDQwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT83Y2U1Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWU/ZDhiMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/ODNhYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/Nzc3OSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlPzFjZDUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2YwZDYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlP2M4MjAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWU/YzdhZiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWU/Nzk3NCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/YjkwMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/ZGUxNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWU/Y2UyOCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL3N0eWxlLmNzcz9iYjAzIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDK0g7QUFDN0I7QUFDbEcsOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRjtBQUNBLGdGQUFnRixrQkFBa0Isd0JBQXdCLHFCQUFxQix1QkFBdUIsR0FBRyx3REFBd0QsdUJBQXVCLEdBQUcsb0NBQW9DLHNCQUFzQix1QkFBdUIsR0FBRyx5QkFBeUIsZ0JBQWdCLG1CQUFtQixHQUFHLFNBQVMsNkZBQTZGLE1BQU0sVUFBVSxXQUFXLFdBQVcsV0FBVyxLQUFLLEtBQUssV0FBVyxLQUFLLEtBQUssV0FBVyxXQUFXLEtBQUssS0FBSyxVQUFVLFVBQVUscUtBQXFLLHNCQUFzQixxRkFBcUYsZ2pEQUFnakQsd0NBQXdDLGdEQUFnRCx3Q0FBd0MsOERBQThELHNDQUFzQyxrREFBa0QsMENBQTBDLDRDQUE0Qyx3Q0FBd0Msd0NBQXdDLHdEQUF3RCxVQUFVLFVBQVUsdUNBQXVDLHVCQUF1QixpQkFBaUIsaUJBQWlCLGlCQUFpQix3SkFBd0osR0FBRyx5REFBeUQsWUFBWSxlQUFlLHdCQUF3QixZQUFZLGVBQWUsb0JBQW9CLHlDQUF5QyxtQkFBbUIsbUNBQW1DLDREQUE0RCxLQUFLLEdBQUcsa0RBQWtELGtCQUFrQix3QkFBd0IscUJBQXFCLHVCQUF1QixHQUFHLHlDQUF5Qyx1QkFBdUIsR0FBRyxxQkFBcUIsc0JBQXNCLHVCQUF1QixHQUFHLFVBQVUsZ0JBQWdCLG1CQUFtQixHQUFHLDZCQUE2QjtBQUMxMkg7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQdkM7QUFDK0g7QUFDN0I7QUFDbEcsOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRjtBQUNBLG9GQUFvRixtQkFBbUIsa0JBQWtCLHdCQUF3QiwyQkFBMkIsR0FBRyx5QkFBeUIsbUJBQW1CLGdCQUFnQixHQUFHLFNBQVMsK0ZBQStGLE1BQU0sVUFBVSxVQUFVLFdBQVcsV0FBVyxLQUFLLEtBQUssVUFBVSxVQUFVLDBiQUEwYixVQUFVLHNSQUFzUixpREFBaUQsK0VBQStFLGlEQUFpRCw2dEJBQTZ0QixVQUFVLCtCQUErQixpQkFBaUIsVUFBVSw4QkFBOEIsOEJBQThCLGlCQUFpQixpQkFBaUIsK0JBQStCLEdBQUcsbURBQW1ELFlBQVksZUFBZSxlQUFlLG9EQUFvRCxjQUFjLGVBQWUsbUNBQW1DLGNBQWMsZUFBZSx1QkFBdUIsY0FBYyxlQUFlLDhCQUE4QixhQUFhLEVBQUUsa0RBQWtELG9FQUFvRSxLQUFLLDRCQUE0Qix5QkFBeUIsRUFBRSxnQkFBZ0IsUUFBUSxzQ0FBc0Msc0JBQXNCLE9BQU8sZUFBZSxLQUFLLCtDQUErQyx3REFBd0QsS0FBSyxHQUFHLHNEQUFzRCxtQkFBbUIsa0JBQWtCLHdCQUF3QiwyQkFBMkIsR0FBRyxVQUFVLG1CQUFtQixnQkFBZ0IsR0FBRyw2QkFBNkI7QUFDN29HO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUHZDO0FBQytIO0FBQzdCO0FBQ2xHLDhCQUE4QixtRkFBMkIsQ0FBQyx3R0FBcUM7QUFDL0Y7QUFDQSxvRUFBb0Usc0JBQXNCLEdBQUcsaUNBQWlDLGdCQUFnQiw4QkFBOEIsMEJBQTBCLEdBQUcsb0NBQW9DLGtCQUFrQix3QkFBd0IsMkJBQTJCLEdBQUcsc0ZBQXNGLDhCQUE4QiwwQkFBMEIscUJBQXFCLEdBQUcsU0FBUywwRkFBMEYsTUFBTSxXQUFXLEtBQUssS0FBSyxVQUFVLFdBQVcsV0FBVyxLQUFLLEtBQUssVUFBVSxXQUFXLFdBQVcsS0FBSyxLQUFLLFdBQVcsV0FBVyxXQUFXLGlMQUFpTCw4QkFBOEIsZUFBZSwwb0JBQTBvQiw0RUFBNEUsc3BHQUFzcEcsdVJBQXVSLDRDQUE0QyxrM0RBQWszRCxzREFBc0Qsa2dCQUFrZ0IsbUJBQW1CLGlDQUFpQyw4QkFBOEIsb05BQW9OLDZFQUE2RSwyREFBMkQsVUFBVSxVQUFVLDhCQUE4QixVQUFVLFNBQVMsNkJBQTZCLFVBQVUsYUFBYSxpREFBaUQsVUFBVSwwREFBMEQsd0NBQXdDLFVBQVUsZ0JBQWdCLGlEQUFpRCxrQ0FBa0MsNENBQTRDLDRDQUE0QyxVQUFVLEtBQUssbUNBQW1DLFVBQVUsYUFBYSw0Q0FBNEMsMENBQTBDLFVBQVUsK0NBQStDLDZDQUE2QywrQkFBK0IsaUJBQWlCLHdCQUF3QixzREFBc0QsY0FBYyxzR0FBc0cscUlBQXFJLGtGQUFrRix5SUFBeUksS0FBSyxlQUFlLHdGQUF3Rix3RkFBd0YsaUVBQWlFLE9BQU8saUNBQWlDLHNDQUFzQywwTUFBME0sNkJBQTZCLE9BQU8sK0JBQStCLG9EQUFvRCwwQ0FBMEMsc0RBQXNELDJCQUEyQixPQUFPLHNCQUFzQixvRkFBb0YsaUVBQWlFLGlEQUFpRCw2REFBNkQsZ0dBQWdHLCtEQUErRCxPQUFPLHdDQUF3QyxxR0FBcUcsOEVBQThFLGlEQUFpRCwwRUFBMEUsU0FBUyxPQUFPLGVBQWUscURBQXFELE9BQU8sZUFBZSxxREFBcUQsT0FBTyxLQUFLLGFBQWEsMkNBQTJDLGlFQUFpRSxpRUFBaUUsV0FBVyxFQUFFLE9BQU8sb0NBQW9DLCtDQUErQyxLQUFLLEVBQUUsT0FBTyxLQUFLLGdCQUFnQixzQ0FBc0MseUJBQXlCLDZFQUE2RSwrQ0FBK0MsOENBQThDLDREQUE0RCxzQ0FBc0Msc0RBQXNELFNBQVMsT0FBTyxFQUFFLEtBQUssb0JBQW9CLHlGQUF5RixLQUFLLE1BQU0sRUFBRSxzQ0FBc0Msc0JBQXNCLEdBQUcsa0JBQWtCLGdCQUFnQiw4QkFBOEIsMEJBQTBCLEdBQUcscUJBQXFCLGtCQUFrQix3QkFBd0IsMkJBQTJCLEdBQUcsc0RBQXNELDhCQUE4QiwwQkFBMEIscUJBQXFCLEdBQUcsK0JBQStCO0FBQy9xWTtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUM0SDtBQUM3QjtBQUNPO0FBQ1g7QUFDM0YsOEJBQThCLG1GQUEyQixDQUFDLHdHQUFxQztBQUMvRix5Q0FBeUMsc0ZBQStCLENBQUMsOEVBQTZCO0FBQ3RHO0FBQ0EsdUVBQXVFLHNCQUFzQixrQkFBa0IsR0FBRyw0QkFBNEIsMEJBQTBCLGdCQUFnQixpQkFBaUIsc0VBQXNFLEdBQUcsa0NBQWtDLGlCQUFpQixHQUFHLDZCQUE2QixpQkFBaUIsR0FBRyxtQ0FBbUMsaUJBQWlCLEdBQUcsV0FBVyxvRkFBb0YsTUFBTSxXQUFXLFVBQVUsS0FBSyxLQUFLLFdBQVcsVUFBVSxVQUFVLFdBQVcsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsc2pCQUFzakIsZ0NBQWdDLEVBQUUseUNBQXlDLHNCQUFzQixrQkFBa0IsR0FBRyxhQUFhLDBCQUEwQixnQkFBZ0IsaUJBQWlCLHlFQUF5RSxHQUFHLG1CQUFtQixpQkFBaUIsR0FBRyxjQUFjLGlCQUFpQixHQUFHLG9CQUFvQixpQkFBaUIsR0FBRyxpQ0FBaUM7QUFDNW1EO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVnZDO0FBQytIO0FBQzdCO0FBQ2xHLDhCQUE4QixtRkFBMkIsQ0FBQyx3R0FBcUM7QUFDL0Y7QUFDQSwrREFBK0QsaUJBQWlCLEdBQUcsZ0JBQWdCLGlCQUFpQixHQUFHLGNBQWMsd0JBQXdCLEdBQUcsV0FBVyx1RkFBdUYsTUFBTSxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxXQUFXLGtLQUFrSyxXQUFXLHVGQUF1RixXQUFXLDZEQUE2RCxpeEJBQWl4QiwwQ0FBMEMsY0FBYyx3Q0FBd0MsaUJBQWlCLGdEQUFnRCxVQUFVLE9BQU8sd0JBQXdCLGlCQUFpQixpQkFBaUIsNEJBQTRCLEdBQUcsdUVBQXVFLDJEQUEyRCx1QkFBdUIsNkJBQTZCLGdDQUFnQyxxQkFBcUIsNkNBQTZDLEtBQUssbUJBQW1CLDhCQUE4QiwrQkFBK0IsMkNBQTJDLEtBQUssdUJBQXVCLCtCQUErQixLQUFLLGtEQUFrRCw4QkFBOEIsa0VBQWtFLHdEQUF3RCx1QkFBdUIsMkJBQTJCLEtBQUssR0FBRywyQ0FBMkMsaUJBQWlCLEdBQUcsa0JBQWtCLGlCQUFpQixHQUFHLGdCQUFnQix3QkFBd0IsR0FBRyxpQ0FBaUM7QUFDaGpGO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUHZDO0FBQytIO0FBQzdCO0FBQ2xHLDhCQUE4QixtRkFBMkIsQ0FBQyx3R0FBcUM7QUFDL0Y7QUFDQSxpRUFBaUUsaUJBQWlCLGtCQUFrQixvQkFBb0Isd0JBQXdCLDRCQUE0QiwyQkFBMkIsR0FBRyxtQkFBbUIsbUJBQW1CLEdBQUcsU0FBUyw2RkFBNkYsTUFBTSxVQUFVLFdBQVcsVUFBVSxXQUFXLFdBQVcsV0FBVyxLQUFLLEtBQUssVUFBVSxxSkFBcUosU0FBUyxrSEFBa0gsVUFBVSxXQUFXLGlCQUFpQiwrZUFBK2UsbUdBQW1HLDBCQUEwQixpRUFBaUUsOEJBQThCLEdBQUcsMkRBQTJELDBCQUEwQixHQUFHLGlEQUFpRCxtQkFBbUIsb0JBQW9CLHNCQUFzQiwwQkFBMEIsOEJBQThCLDZCQUE2QixLQUFLLHFCQUFxQixxQkFBcUIsS0FBSywrQkFBK0I7QUFDcnlEO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQdkM7QUFDeUg7QUFDN0I7QUFDb0Q7QUFDSTtBQUNwSiw4QkFBOEIsbUZBQTJCLENBQUMsd0dBQXFDO0FBQy9GLDBIQUEwSDtBQUMxSCwwQkFBMEIsdUhBQWlDO0FBQzNELDBCQUEwQiwySEFBaUM7QUFDM0Q7QUFDQSxpREFBaUQsNEJBQTRCLEdBQUcsT0FBTywyQ0FBMkMsR0FBRyxVQUFVLG1CQUFtQiw2Q0FBNkMseUtBQXlLLDJDQUEyQyxHQUFHLHNCQUFzQixHQUFHLGFBQWEsc0JBQXNCLGdCQUFnQixHQUFHLDZDQUE2QyxlQUFlLDJCQUEyQixPQUFPLEdBQUcsbUJBQW1CLGtEQUFrRCxHQUFHLHNCQUFzQixrREFBa0QsR0FBRyw2QkFBNkIsaURBQWlELEdBQUcsMkJBQTJCLGtCQUFrQiw0Q0FBNEMsR0FBRyxhQUFhLDRCQUE0Qix5QkFBeUIsc0JBQXNCLDJCQUEyQixHQUFHLHVCQUF1QixrQkFBa0IsR0FBRyxvQ0FBb0MsbUJBQW1CLEdBQUcsY0FBYyw0QkFBNEIsZ0NBQWdDLEdBQUcsOEJBQThCLDBCQUEwQixHQUFHLGFBQWEsNkNBQTZDLEdBQUcsK0NBQStDLFlBQVksa0NBQWtDLE9BQU8sVUFBVSxvQ0FBb0MsT0FBTyxHQUFHLGFBQWEsdUZBQXVGLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxNQUFNLEtBQUssVUFBVSxVQUFVLE9BQU8sS0FBSyxLQUFLLFlBQVksTUFBTSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsV0FBVyxZQUFZLE9BQU8sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sMkdBQTJHLDhDQUE4QyxrREFBa0QsV0FBVyw0QkFBNEIsR0FBRyxPQUFPLDJDQUEyQyxHQUFHLFVBQVUsbUJBQW1CLDZDQUE2Qyx5S0FBeUssMkNBQTJDLEdBQUcsc0JBQXNCLEdBQUcsYUFBYSxzQkFBc0IsZ0JBQWdCLEdBQUcsNkNBQTZDLGVBQWUsMkJBQTJCLE9BQU8sR0FBRyxtQkFBbUIsa0RBQWtELEdBQUcsc0JBQXNCLGtEQUFrRCxHQUFHLDZCQUE2QixpREFBaUQsR0FBRywyQkFBMkIsa0JBQWtCLDRDQUE0QyxHQUFHLGFBQWEsNEJBQTRCLHlCQUF5QixzQkFBc0IsMkJBQTJCLEdBQUcsdUJBQXVCLGtCQUFrQixHQUFHLG9DQUFvQyxtQkFBbUIsR0FBRyxjQUFjLDRCQUE0QixnQ0FBZ0MsR0FBRyw4QkFBOEIsMEJBQTBCLEdBQUcsYUFBYSw2Q0FBNkMsR0FBRywrQ0FBK0MsWUFBWSxrQ0FBa0MsT0FBTyxVQUFVLG9DQUFvQyxPQUFPLEdBQUcseUJBQXlCO0FBQ3J0SDtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDWnZDLGlFQUFlLHFCQUF1Qix5Q0FBeUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQS9FLGlFQUFlLHFCQUF1Qix5Q0FBeUMsRTs7Ozs7Ozs7OztBQ0EvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN5Qm9DO0FBQ0E7QUFDUTtBQUNSO0FBQ3NCO0FBQ3hCO0FBQ1k7QUFDUjtBQUNFO0FBQ0o7QUFDQTtBQUNnQjtBQUVOO0FBUTlDLElBQXFCLG1CQUFtQixHQUF4QyxNQUFxQixtQkFBb0IsU0FBUSxzQ0FBRztJQUFwRDs7UUFJRSxZQUFPLEdBQUcsSUFBSSxDQUFDO0lBS2pCLENBQUM7SUFIQyxJQUFJLGFBQWE7UUFDZixPQUFPLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3hELENBQUM7Q0FDRjtBQVIwQjtJQUF4Qiw0Q0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3NEQUF1QjtBQUN0QjtJQUF4Qiw0Q0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFFLEtBQUssRUFBQyxDQUFDO29EQUFtQjtBQUNsQztJQUFSLDRDQUFLLEVBQUU7cURBQTZCO0FBSGxCLG1CQUFtQjtJQU52QyxpREFBVSxDQUFDO1FBQ1YsVUFBVSxFQUFFO1lBQ1YsT0FBTyxxREFBRSxPQUFPLHFEQUFFLFdBQVcseURBQUUsT0FBTyxxREFBRSxrQkFBa0IsZ0VBQUUsTUFBTSxvREFBRSxZQUFZLDBEQUFFLFFBQVEsc0RBQUUsU0FBUyx1REFBRSxPQUFPO1lBQzlHLE9BQU8sc0RBQUUsZUFBZTtTQUN6QjtLQUNGLENBQUM7R0FDbUIsbUJBQW1CLENBU3ZDO2lFQVRvQixtQkFBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakRNO0FBSzlDLElBQXFCLGtCQUFrQixHQUF2QyxNQUFxQixrQkFBbUIsU0FBUSxxQ0FBRztDQUVsRDtBQUQwQjtJQUF4QiwyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3FEQUFzQztBQUQzQyxrQkFBa0I7SUFEdEMsNENBQVU7R0FDVSxrQkFBa0IsQ0FFdEM7aUVBRm9CLGtCQUFrQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaUI4QjtBQUNFO0FBR3ZFLElBQXFCLE9BQU8sR0FBNUIsTUFBcUIsT0FBUSxTQUFRLHFDQUFHO0lBQXhDOztRQUlFLGFBQVEsR0FBYSwwRUFBcUIsQ0FBQztRQUMzQyxTQUFJLEdBQVksS0FBSyxDQUFDO1FBQ3RCLFdBQU0sR0FBWSxLQUFLLENBQUM7SUF3RDFCLENBQUM7SUF0REMsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUM3QyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ3JDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDOUQ7UUFDRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDekMsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNsRTtJQUNILENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDZCxRQUFRLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDckIsS0FBSyx5RUFBb0I7Z0JBQ3ZCLE9BQU8sUUFBUSxDQUFDO1lBQ2xCLEtBQUssMEVBQXFCO2dCQUN4QixPQUFPLGNBQWMsQ0FBQztZQUN4QixLQUFLLG9FQUFlO2dCQUNsQixPQUFPLFVBQVUsQ0FBQztZQUNwQjtnQkFDRSxPQUFPLFdBQVc7U0FDckI7SUFDSCxDQUFDO0lBR0Qsa0JBQWtCLENBQUMsR0FBYTtRQUM5QixJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQztJQUN0QixDQUFDO0lBR0QsY0FBYyxDQUFDLEdBQVk7UUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFDbEIsQ0FBQztJQUdELGdCQUFnQixDQUFDLEdBQVk7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7SUFDcEIsQ0FBQztJQUdELGlCQUFpQjtRQUNmLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBR0QsYUFBYTtRQUNYLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBR0QsZUFBZTtRQUNiLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNsQixDQUFDO0NBQ0Y7QUE3RDBCO0lBQXhCLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7MENBQTJCO0FBQzFCO0lBQXhCLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7d0NBQW1CO0FBZ0MzQztJQURDLHFEQUFlLENBQUMsb0JBQW9CLENBQUM7aURBR3JDO0FBR0Q7SUFEQyxxREFBZSxDQUFDLGdCQUFnQixDQUFDOzZDQUdqQztBQUdEO0lBREMscURBQWUsQ0FBQyxrQkFBa0IsQ0FBQzsrQ0FHbkM7QUFHRDtJQURDLDRDQUFNLENBQUMsVUFBVSxDQUFDO2dEQUdsQjtBQUdEO0lBREMsNENBQU0sQ0FBQyxNQUFNLENBQUM7NENBR2Q7QUFHRDtJQURDLDRDQUFNLENBQUMsUUFBUSxDQUFDOzhDQUdoQjtBQTdEa0IsT0FBTztJQUQzQiw0Q0FBVTtHQUNVLE9BQU8sQ0E4RDNCO2lFQTlEb0IsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEJFO0FBQ2lDO0FBRS9ELElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBQzFDLElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBRzFDLElBQXFCLFFBQVEsR0FBN0IsTUFBcUIsUUFBUyxTQUFRLHFDQUFHO0lBQXpDOztRQU9FLFVBQUssR0FBVyxFQUFFLENBQUM7UUFDbkIsVUFBSyxHQUFXLEVBQUUsQ0FBQztJQXNCckIsQ0FBQztJQXBCQyxRQUFRO1FBQ04sSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUUsRUFBRTtZQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDeEQ7UUFDRCxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssRUFBRSxFQUFFO1lBQ25ELElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN4RDtJQUNILENBQUM7SUFHRCxlQUFlLENBQUMsR0FBdUI7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBR0QsZUFBZSxDQUFDLEdBQXVCO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLGFBQUgsR0FBRyxjQUFILEdBQUcsR0FBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDaEMsQ0FBQztDQUNGO0FBNUJDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzsyQ0FDRztBQUczQjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7eUNBQ047QUFpQmxCO0lBREMscURBQWUsQ0FBQyxpQkFBaUIsQ0FBQzsrQ0FHbEM7QUFHRDtJQURDLHFEQUFlLENBQUMsaUJBQWlCLENBQUM7K0NBR2xDO0FBN0JrQixRQUFRO0lBRDVCLDRDQUFVO0dBQ1UsUUFBUSxDQThCNUI7aUVBOUJvQixRQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pCa0M7QUFJL0QsSUFBcUIsT0FBTyxHQUE1QixNQUFxQixPQUFRLFNBQVEscUNBQUc7SUFBeEM7O1FBT0UsU0FBSSxHQUFXLEVBQUUsQ0FBQztJQVVwQixDQUFDO0lBUEMsY0FBYyxDQUFDLEdBQXVCO1FBQ3BDLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxhQUFILEdBQUcsY0FBSCxHQUFHLEdBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2RixDQUFDO0NBQ0Y7QUFmQztJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7MENBQ0U7QUFHMUI7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3dDQUNOO0FBS2xCO0lBREMscURBQWUsQ0FBQyxnQkFBZ0IsQ0FBQzs2Q0FHakM7QUFaa0IsT0FBTztJQUQzQiw0Q0FBVTtHQUNVLE9BQU8sQ0FpQjNCO2lFQWpCb0IsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNNbUM7QUFJL0QsSUFBcUIsT0FBTyxHQUE1QixNQUFxQixPQUFRLFNBQVEscUNBQUc7SUFBeEM7O1FBT0UsU0FBSSxHQUFXLEVBQUUsQ0FBQztJQVVwQixDQUFDO0lBUEMsY0FBYyxDQUFDLEdBQVc7UUFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFDbEIsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7Q0FDRjtBQWZDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzswQ0FDRTtBQUcxQjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7d0NBQ047QUFLbEI7SUFEQyxxREFBZSxDQUFDLGdCQUFnQixDQUFDOzZDQUdqQztBQVprQixPQUFPO0lBRDNCLDRDQUFVO0dBQ1UsT0FBTyxDQWlCM0I7aUVBakJvQixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNURTtBQUVpQztBQUUvRCxJQUFPLFVBQVUsR0FBRywyREFBcUIsQ0FBQztBQUMxQyxJQUFPLFVBQVUsR0FBRywyREFBcUIsQ0FBQztBQUcxQyxJQUFxQixNQUFNLEdBQTNCLE1BQXFCLE1BQU8sU0FBUSxxQ0FBRztJQUF2Qzs7UUFPRSxVQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ25CLFVBQUssR0FBVyxFQUFFLENBQUM7SUF1QnJCLENBQUM7SUFyQkMsUUFBUTtRQUNOLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDbkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsSUFBSSxLQUFLLEdBQXVCLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDM0MsSUFBSSxDQUFDLEtBQUs7WUFBRSxLQUFLLEdBQUcsU0FBUyxDQUFDO1FBQzlCLElBQUksS0FBSyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztTQUMxRDtJQUNILENBQUM7SUFHRCxlQUFlLENBQUMsR0FBdUI7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBR0QsZUFBZSxDQUFDLEdBQXVCO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxhQUFILEdBQUcsY0FBSCxHQUFHLEdBQUksRUFBRSxDQUFDO0lBQ3pCLENBQUM7Q0FDRjtBQTdCQztJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7eUNBQ0M7QUFHekI7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3VDQUNOO0FBa0JsQjtJQURDLHFEQUFlLENBQUMsaUJBQWlCLENBQUM7NkNBR2xDO0FBR0Q7SUFEQyxxREFBZSxDQUFDLGlCQUFpQixDQUFDOzZDQUdsQztBQTlCa0IsTUFBTTtJQUQxQiw0Q0FBVTtHQUNVLE1BQU0sQ0ErQjFCO2lFQS9Cb0IsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGb0M7QUFJL0QsSUFBcUIsU0FBUyxHQUE5QixNQUFxQixTQUFVLFNBQVEscUNBQUc7SUFBMUM7O1FBT0UsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFDN0IsVUFBSyxHQUFXLEVBQUUsQ0FBQztJQXFCckIsQ0FBQztJQW5CQyxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ25ELElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDOUU7UUFDRCxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssRUFBRSxFQUFFO1lBQ25ELElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN6RDtJQUNILENBQUM7SUFHRCxxQkFBcUIsQ0FBQyxHQUFZO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO0lBQ3pCLENBQUM7SUFHRCxlQUFlLENBQUMsR0FBVztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDeEIsQ0FBQztDQUNGO0FBM0JDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs0Q0FDSTtBQUc1QjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7MENBQ047QUFnQmxCO0lBREMscURBQWUsQ0FBQyx1QkFBdUIsQ0FBQztzREFHeEM7QUFHRDtJQURDLHFEQUFlLENBQUMsaUJBQWlCLENBQUM7Z0RBR2xDO0FBNUJrQixTQUFTO0lBRDdCLDRDQUFVO0dBQ1UsU0FBUyxDQTZCN0I7aUVBN0JvQixTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05pQztBQUkvRCxJQUFxQixXQUFXLEdBQWhDLE1BQXFCLFdBQVksU0FBUSxxQ0FBRztJQUE1Qzs7UUFPRSxNQUFDLEdBQVcsRUFBRSxDQUFDO1FBQ2YsTUFBQyxHQUFXLEVBQUUsQ0FBQztJQXNCakIsQ0FBQztJQXBCQyxRQUFRO1FBQ04sSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDdkQ7UUFDRCxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN2RDtJQUNILENBQUM7SUFHRCxXQUFXLENBQUMsR0FBdUI7UUFDakMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsYUFBSCxHQUFHLGNBQUgsR0FBRyxHQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBR0QsV0FBVyxDQUFDLEdBQXVCO1FBQ2pDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGFBQUgsR0FBRyxjQUFILEdBQUcsR0FBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDNUIsQ0FBQztDQUNGO0FBNUJDO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs4Q0FDTTtBQUc5QjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7NENBQ047QUFpQmxCO0lBREMscURBQWUsQ0FBQyxhQUFhLENBQUM7OENBRzlCO0FBR0Q7SUFEQyxxREFBZSxDQUFDLGFBQWEsQ0FBQzs4Q0FHOUI7QUE3QmtCLFdBQVc7SUFEL0IsNENBQVU7R0FDVSxXQUFXLENBOEIvQjtpRUE5Qm9CLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZGM7QUFJOUMsSUFBcUIsa0JBQWtCLEdBQXZDLE1BQXFCLGtCQUFtQixTQUFRLHFDQUFHO0NBRWxEO0FBRDBCO0lBQXhCLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7cURBQTJCO0FBRGhDLGtCQUFrQjtJQUR0Qyw0Q0FBVTtHQUNVLGtCQUFrQixDQUV0QztpRUFGb0Isa0JBQWtCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0dPO0FBSTlDLElBQXFCLGVBQWUsR0FBcEMsTUFBcUIsZUFBZ0IsU0FBUSxxQ0FBRztJQU85QyxXQUFXO1FBQ1QsT0FBTyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSTtRQUNGLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFLG9CQUFvQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEYsQ0FBQztJQUVELEdBQUc7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1RSxDQUFDO0NBQ0Y7QUFoQkM7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO2tEQUNDO0FBR3pCO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztnREFDTjtBQUxDLGVBQWU7SUFEbkMsNENBQVU7R0FDVSxlQUFlLENBa0JuQztpRUFsQm9CLGVBQWU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0RXO0FBRWdCO0FBSS9ELElBQXFCLFlBQVksR0FBakMsTUFBcUIsWUFBYSxTQUFRLHFDQUFHO0lBQTdDOztRQU9FLGFBQVEsR0FBVyxFQUFFLENBQUM7UUFDdEIsVUFBSyxHQUFXLEVBQUUsQ0FBQztJQTBCckIsQ0FBQztJQXhCQyxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLEVBQUUsRUFBRTtZQUN4QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUM5RCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtnQkFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUMsR0FBRywrQ0FBVSxDQUFDLENBQUM7YUFDNUU7U0FDRjtRQUNELElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDckIsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMvQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzVEO1NBQ0Y7SUFDSCxDQUFDO0lBR0Qsa0JBQWtCLENBQUMsR0FBdUI7UUFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEdBQUcsYUFBSCxHQUFHLGNBQUgsR0FBRyxHQUFJLENBQUMsQ0FBQyxHQUFHLCtDQUFVLEdBQUcsRUFBRSxDQUFDO0lBQy9DLENBQUM7SUFHRCxlQUFlLENBQUMsR0FBdUI7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsYUFBSCxHQUFHLGNBQUgsR0FBRyxHQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMvQixDQUFDO0NBQ0Y7QUFoQ0M7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOytDQUNPO0FBRy9CO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs2Q0FDTjtBQXFCbEI7SUFEQyxxREFBZSxDQUFDLG9CQUFvQixDQUFDO3NEQUdyQztBQUdEO0lBREMscURBQWUsQ0FBQyxpQkFBaUIsQ0FBQzttREFHbEM7QUFqQ2tCLFlBQVk7SUFEaEMsNENBQVU7R0FDVSxZQUFZLENBa0NoQztpRUFsQ29CLFlBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjhCO0FBSS9ELElBQXFCLE9BQU8sR0FBNUIsTUFBcUIsT0FBUSxTQUFRLHFDQUFHO0lBQXhDOztRQU9FLE1BQUMsR0FBVyxFQUFFLENBQUM7UUFDZixNQUFDLEdBQVcsRUFBRSxDQUFDO0lBb0JqQixDQUFDO0lBbEJDLFFBQVE7UUFDTixJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7WUFDcEcsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUQ7SUFDSCxDQUFDO0lBR0QsV0FBVyxDQUFDLEdBQWlDO1FBQzNDLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNyQixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNaLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ2I7YUFBTTtZQUNMLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDdEI7SUFDSCxDQUFDO0NBQ0Y7QUExQkM7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDOzBDQUNFO0FBRzFCO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzt3Q0FDTjtBQWNsQjtJQURDLHFEQUFlLENBQUMsZUFBZSxDQUFDOzBDQVNoQztBQTNCa0IsT0FBTztJQUQzQiw0Q0FBVTtHQUNVLE9BQU8sQ0E0QjNCO2lFQTVCb0IsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDU3dCO0FBQ0U7QUFRdEQsSUFBcUIsYUFBYSxHQUFsQyxNQUFxQixhQUFjLFNBQVEscUNBQUc7SUFnQjVDLElBQUksa0JBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDZixJQUFJLENBQUMsR0FBRyxFQUFTLENBQUM7UUFDbEIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQzdCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2Y7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxXQUFXLENBQUMsSUFBWSxFQUFFLEdBQVk7UUFDcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3BELENBQUM7Q0FDRjtBQTdCQztJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7NkNBSXRCO0FBR0Y7SUFEQywyQ0FBSyxDQUFDLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO2lEQUNNO0FBRzlCO0lBREMsMkNBQUssQ0FBQyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzs4Q0FDTjtBQUdsQjtJQURDLDJDQUFLLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7c0RBQ2dCO0FBZHJCLGFBQWE7SUFMakMsZ0RBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRTtZQUNWLG1CQUFtQjtTQUNwQjtLQUNGLENBQUM7R0FDbUIsYUFBYSxDQStCakM7aUVBL0JvQixhQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDd0ZaO0FBRStCO0FBSW1EO0FBRTFFO0FBQzlCLElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBQzFDLElBQU8sVUFBVSxHQUFHLDJEQUFxQixDQUFDO0FBR0o7QUFDNEQ7QUFFbEcsaUVBQWUsK0NBQVUsQ0FBQztJQUN4QixVQUFVLEVBQUUsRUFBQyxRQUFRLHNEQUFFLGFBQWEsK0RBQUM7SUFDckMsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUM7SUFDcEMsSUFBSTtRQUNGLE9BQU87WUFDTCxJQUFJLEVBQUUsU0FBUztZQUNmLGVBQWUsRUFBRSxDQUFDO1lBQ2xCLG1CQUFtQixFQUFFLEtBQUs7WUFDMUIsS0FBSyxFQUFFO2dCQUNMLFlBQVksRUFBRSxTQUFTO2dCQUN2QixVQUFVLEVBQUUsSUFBSTtnQkFDaEIsY0FBYyxFQUFFLEtBQUs7Z0JBQ3JCLFVBQVUsRUFBRSxTQUFTO2FBQ3RCO1lBQ0Qsa0JBQWtCLEVBQUUsSUFBSSxLQUFLLEVBQWE7WUFDMUMsa0JBQWtCLEVBQUUsRUFBRTtZQUN0QixlQUFlLEVBQUUsSUFBSSxLQUFLLEVBQWdCO1lBQzFDLGdCQUFnQixFQUFFLElBQUk7WUFDdEIsT0FBTyxFQUFFLEtBQUs7WUFDZCxPQUFPLEVBQUUsS0FBSztTQUNmLENBQUM7SUFDSixDQUFDO0lBQ0QsT0FBTyxFQUFFO1FBQ1AsbUJBQW1CLENBQUMsSUFBWSxFQUFFLFFBQWdCLEVBQUUsS0FBVSxFQUFFLE9BQWU7WUFDN0UsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQW9CLENBQUM7WUFDaEYsWUFBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRUQsb0JBQW9CO1lBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztnQkFDM0IsSUFBSSxFQUFFLGdCQUFnQjtnQkFDdEIsWUFBWSxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQztnQkFDakQsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVTtnQkFDakMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQzthQUM3QixFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2hDLENBQUM7UUFDRCxvQkFBb0I7WUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3pDLElBQUksRUFBRSxnQkFBZ0I7YUFDdkIsRUFBRSw0RUFBc0IsQ0FBa0IsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN2RCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckIsQ0FBQztRQUNELFdBQVc7WUFDVCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQWtCLENBQUM7WUFDNUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN6RCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDckQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUF1QixDQUFDO1lBQ3hGLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDO1FBQ3pELENBQUM7UUFDRCxnQkFBZ0IsQ0FBQyxHQUFhO1lBQzVCLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxnQkFBZ0IsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLHNCQUFzQjtnQkFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7aUJBQ3hGLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxNQUFNO2dCQUFFLElBQUksQ0FBQyxJQUFJLEdBQUksR0FBb0IsQ0FBQyxJQUFLLENBQUM7WUFDdEUsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGdGQUFxQixFQUFFO2dCQUN0QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUksR0FBK0IsQ0FBQyxNQUFNLENBQUM7YUFDakU7UUFDSCxDQUFDO1FBQ0QsSUFBSTtZQUNGLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDL0MsQ0FBQztRQUNELElBQUk7WUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9DLENBQUM7S0FDRjtJQUNELEtBQUssRUFBRTtRQUNMLHNCQUFzQixFQUFFO1lBQ3RCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUV6RCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsc0JBQXNCLEVBQUUsRUFBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1FBQ3RFLENBQUM7UUFDRCxJQUFJLEVBQUUsVUFBVSxJQUFVO1lBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsRUFBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ2hELENBQUM7S0FDRjtJQUNELE9BQU87UUFDTCxnQ0FBZ0M7UUFDaEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRW5CLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFvQixDQUFDO1FBQ3pDLENBQUMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sWUFBWSxnQkFBZ0IsQ0FBQztnQkFBRSxPQUFPO1lBQ3BELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7Z0JBQzNCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2FBQzdDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0Q7O1FBRUk7Q0FDTCxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0S21EO0FBQ2I7QUFFekMsSUFBTyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFFMUMsSUFBTyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFjMUMsSUFBcUIsUUFBUSxHQUE3QixNQUFxQixRQUFTLFNBQVEscUNBQUc7SUFBekM7O1FBSUUsU0FBSSxHQUFtQjtZQUNyQixJQUFJLEVBQUUsTUFBTTtZQUNaLElBQUksRUFBRSxDQUFDO1lBQ1AsSUFBSSxFQUFFLENBQUM7WUFDUCxJQUFJLEVBQUUsQ0FBQztZQUNQLEtBQUssRUFBRSxTQUFTO1lBQ2hCLE9BQU8sRUFBRSxHQUFHO1lBQ1osS0FBSyxFQUFFLENBQUM7U0FDVCxDQUFDO1FBQ0YscUJBQWdCLEdBQVksS0FBSyxDQUFDO0lBb0ZwQyxDQUFDO0lBbEZDLFVBQVU7UUFDUixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBRTdCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBaUIsQ0FBQztRQUMxRCxRQUFRLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDckIsS0FBSyx3REFBZ0I7Z0JBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUs7Z0JBQ3RCLE1BQU07WUFDUixLQUFLLHVEQUFlO2dCQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRO2dCQUN6QixNQUFNO1NBQ1Q7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7U0FDekI7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFN0IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRUQsT0FBTztRQUNMLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUVsQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsR0FBYTtRQUM1QixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssTUFBTTtZQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBR0QsWUFBWSxDQUFDLE9BQVk7UUFDdkIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCO1lBQUUsT0FBTztRQUNsQyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEQsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXBELElBQUksSUFBSSxDQUFDO1FBQ1QsUUFBUSxPQUFPLENBQUMsSUFBSSxFQUFFO1lBQ3BCLEtBQUssTUFBTTtnQkFDVCxJQUFJLEdBQUcsU0FBUyxDQUFDO2dCQUNqQixNQUFNO1lBQ1IsS0FBSyxLQUFLO2dCQUNSLElBQUksR0FBRyx3REFBZ0IsQ0FBQztnQkFDeEIsTUFBTTtZQUNSLEtBQUssUUFBUTtnQkFDWCxJQUFJLEdBQUcsdURBQWUsQ0FBQztnQkFDdkIsTUFBTTtTQUNUO1FBQ0QsSUFBSSxHQUFHLEdBQUc7WUFDUixJQUFJLEVBQUUsT0FBTztZQUNiLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDbkIsSUFBSSxFQUFFLEVBQUU7U0FDYyxDQUFDO1FBQ3pCLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN0QixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHO2dCQUNqQixPQUFPLEVBQUUsSUFBSTtnQkFDYixRQUFRLEVBQUUsSUFBSTtnQkFDZCxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7Z0JBQ2xCLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTtnQkFDbEIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO2dCQUNsQixLQUFLLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7Z0JBQ2hDLE9BQU8sRUFBRSxVQUFVLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztnQkFDcEMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO2FBQ0wsQ0FBQztTQUNuQjthQUFNO1lBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRztnQkFDakIsT0FBTyxFQUFFLEtBQUs7YUFDZixDQUFDO1NBQ0g7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLENBQUM7Q0FDRjtBQS9GQztJQURDLDJDQUFLLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7dUNBQ1o7QUF1RGQ7SUFEQyw0Q0FBTSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQzs0Q0F3QzlCO0FBaEdrQixRQUFRO0lBRDVCLDRDQUFVO0dBQ1UsUUFBUSxDQWlHNUI7aUVBakdvQixRQUFROzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RFUDtBQUV0QixpRUFBZSwrQ0FBVSxDQUFDLEVBQUUsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWWM7QUFDTjtBQUd5QjtBQU8vRCxJQUFxQixhQUFhLEdBQWxDLE1BQXFCLGFBQWMsU0FBUSxxQ0FBRztJQUE5Qzs7UUFHRSxTQUFJLEdBQVEsSUFBSSxDQUFDO1FBQ2pCLGNBQVMsR0FBVyxFQUFFLENBQUM7SUEwQnpCLENBQUM7SUF2QkMsV0FBVztRQUNULElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUM7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsYUFBYTtRQUNYLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUdELGFBQWEsQ0FBQyxHQUFRO1FBQ3BCLElBQUksR0FBRyxJQUFJLElBQUk7WUFBRSxPQUFPO1FBRXhCLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDO0NBQ0Y7QUE3QnlCO0lBQXZCLDBDQUFJLENBQUMsZ0JBQWdCLENBQUM7bURBQWdDO0FBcUJ2RDtJQURDLDRDQUFNLENBQUMsTUFBTSxDQUFDO2tEQVFkO0FBN0JrQixhQUFhO0lBSGpDLGdEQUFVLENBQUM7UUFDVixVQUFVLEVBQUUsRUFBRSxRQUFRLHNEQUFFLGVBQWUsb0RBQUU7S0FDMUMsQ0FBQztHQUNtQixhQUFhLENBOEJqQztpRUE5Qm9CLGFBQWE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdCWjtBQUNZO0FBRWxDLE1BQU0sZUFBZSxHQUFHO0lBQ3RCLG9DQUFvQztJQUNwQyxrRkFBa0Y7SUFDbEYsOEZBQThGO0lBQzlGLDJCQUEyQjtJQUMzQixpQ0FBaUM7SUFDakMsMEJBQTBCO0lBQzFCLGdDQUFnQztJQUNoQyxnRkFBZ0Y7SUFDaEYsMkJBQTJCO0lBQzNCLGtEQUFrRDtDQUNuRCxDQUFDO0FBRUYsU0FBUyxTQUFTO0lBQ2hCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3RCxPQUFPLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QixDQUFDO0FBR0QsSUFBcUIsT0FBTyxHQUE1QixNQUFxQixPQUFRLFNBQVEsd0NBQUc7SUFBeEM7O1FBQ0UsWUFBTyxHQUFHLFNBQVMsRUFBRSxDQUFDO0lBQ3hCLENBQUM7Q0FBQTtBQUZvQixPQUFPO0lBRDNCLDRDQUFVO0dBQ1UsT0FBTyxDQUUzQjtpRUFGb0IsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDSTtBQUNaO0FBRXBCLGlFQUFlLG9DQUFJLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIWTtBQUVpQjtBQUNhO0FBRTlELElBQU8sV0FBVyxHQUFHLGdEQUFnQixDQUFDO0FBQ3RDLElBQU8sYUFBYSxHQUFHLDREQUE0QixDQUFDO0FBRXBELFNBQWUsZUFBZSxDQUFDLE1BQW1CLEVBQUUsSUFBWSxFQUFFLE1BQWMsRUFBRSxJQUFTOztRQUN2RixPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1lBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDOUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUMzQixNQUFNLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztZQUNqQyxNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRTtnQkFDakIsTUFBTSxHQUFHLEdBQUcsSUFBSSw0Q0FBWSxDQUFDLElBQUksV0FBVyxDQUFDLElBQUksYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekUsTUFBTSxXQUFXLEdBQUcsSUFBSSxnREFBZ0IsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3BELE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSyxtREFBMkIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQ3BFLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztnQkFDakQsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUU7b0JBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDLENBQUM7b0JBQzdDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDekIsQ0FBQyxDQUFDLENBQUM7WUFDUCxDQUFDLENBQUM7WUFDRixNQUFNLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLDBFQUEwRTtRQUNuRyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FBQTtBQUVNLFNBQWUsVUFBVTs7UUFDNUIsTUFBTSxNQUFNLEdBQUcsa0RBQWtCLENBQUM7UUFDbEMsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQ2QsZUFBZSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsNERBQVUsRUFBRSwyREFBZ0IsQ0FBQztTQUNqRSxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0IyRTtBQWVyRSxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUM7QUFTakMsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUFDO0FBU25DLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQVN6QixNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFRekIsTUFBTSxpQkFBaUIsR0FBRyxjQUFjLENBQUM7QUFNekMsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUM7QUFNdkMsU0FBUyxxQkFBcUIsQ0FBQyxHQUFVO0lBQzVDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxzREFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBQ3BELEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxzREFBZ0IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0lBQ3JELEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxxREFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDL0MsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLHFEQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUMvQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksb0RBQWMsQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNwRSxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksb0RBQWMsQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUN2RSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ25FTSxTQUFTLHlCQUF5QixDQUFDLElBQWU7SUFDckQsSUFBSSxHQUFHLEdBQUcsRUFBUyxDQUFDO0lBQ3BCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1FBQ25CLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssZUFBZTtZQUFFLFNBQVM7UUFDMUQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFJLElBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNuQztJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUVNLFNBQVMsZUFBZSxDQUFDLElBQWU7SUFDM0MsSUFBSSxHQUFHLEdBQUcsRUFBUyxDQUFDO0lBQ3BCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1FBQ25CLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssUUFBUSxJQUFJLElBQUksS0FBSyxlQUFlO1lBQUUsU0FBUztRQUMvRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUksSUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ25DO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQnFDO0FBRXRDLElBQVksaUJBRVg7QUFGRCxXQUFZLGlCQUFpQjtJQUN6QiwyREFBSztJQUFFLHlEQUFJO0FBQ2YsQ0FBQyxFQUZXLGlCQUFpQixLQUFqQixpQkFBaUIsUUFFNUI7QUFFTSxNQUFNLGFBQWE7SUFRdEIsWUFBb0IsSUFBdUIsRUFBRSxLQUFjLEVBQUUsSUFBVSxFQUFFLElBQXNCO1FBRi9GLFNBQUksR0FBRyxJQUFJLEdBQUcsRUFBa0IsQ0FBQztRQUc3QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLENBQUM7SUFDN0IsQ0FBQztJQUVELGNBQWM7UUFDVixPQUFPLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBYyxFQUFFLFFBQWdCO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQUUsT0FBTztRQUNuQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3ZCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFDO1lBQ3RDLElBQUksUUFBUSxJQUFJLFFBQVE7Z0JBQUUsT0FBTztTQUNwQztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQsU0FBUztRQUNMLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQXNCLEVBQUUsS0FBYztRQUNwRCxPQUFPLElBQUksYUFBYSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxnREFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNsSCxDQUFDO0lBRUQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFVLEVBQUUsS0FBYztRQUN2QyxPQUFPLElBQUksYUFBYSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEUsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7O0FDekJNLE1BQU0sMEJBQTBCLEdBQUcsdUJBQXVCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoQjNELFNBQVMsWUFBWSxDQUFDLEdBQWM7SUFDdkMsSUFBSSxHQUFHLEdBQUcsRUFBUyxDQUFDO0lBQ3BCLEtBQUssSUFBSSxJQUFJLElBQUksR0FBRyxFQUFFO1FBQ2xCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssUUFBUSxJQUFJLElBQUksS0FBSyxNQUFNO1lBQUUsU0FBUztRQUN0RSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUksR0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xDO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDO0FBd0JNLE1BQU0sZUFBZTtJQU94QixZQUFZLElBQVksRUFBRSxPQUFnQixJQUFJLEVBQUUsT0FBZ0IsSUFBSTtRQUY1RCxTQUFJLEdBQUcsSUFBSSxHQUFHLEVBQW9CLENBQUM7UUFHdkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELGlCQUFpQixDQUFDLE1BQWMsRUFBRSxPQUFnQjtRQUM5QyxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUU7WUFDdkIsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUM3QztRQUNELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLFNBQVM7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUN0QyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoQixDQUFDO0lBRUQsWUFBWSxDQUFDLE1BQWMsRUFBRSxPQUFlO1FBQ3hDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pDLElBQUksSUFBSSxLQUFLLFNBQVM7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUN6QyxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtZQUNsQixJQUFJLEdBQUcsQ0FBQyxPQUFPLEtBQUssT0FBTztnQkFBRSxPQUFPLEdBQUcsQ0FBQztTQUMzQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxhQUFhLENBQUMsTUFBZTtRQUN6QixJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDdEIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDdEM7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQUVELENBQUMsYUFBYTtRQUNWLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNsQyxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDcEIsTUFBTSxJQUFJLENBQUM7YUFDZDtTQUNKO0lBQ0wsQ0FBQztJQUVELFFBQVEsQ0FBQyxTQUFZO1FBQ2pCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUUxQyxJQUFJLFNBQVMsQ0FBQyxPQUFPLElBQUksQ0FBQyxFQUFFLEVBQUMsd0JBQXdCO1lBQ2pELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7YUFDaEQ7aUJBQU07Z0JBQ0gsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUU7b0JBQ2YsSUFBSSxDQUFDLENBQUMsT0FBTyxLQUFLLFNBQVMsQ0FBQyxPQUFPO3dCQUFFLE1BQU0sOEJBQThCLENBQUM7aUJBQzdFO2dCQUVELEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDdkI7WUFDRCxPQUFPO1NBQ1Y7UUFFRCxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsU0FBUyxDQUFDLE9BQU8sR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN6RSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUNoRDthQUFNO1lBQ0gsSUFBSSxFQUFFLENBQUM7WUFDUCxJQUFJLEtBQUssQ0FBQztZQUNWLEdBQUc7Z0JBQ0MsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUN6RCxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNkLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFO29CQUNmLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxFQUFFLEVBQUU7d0JBQ2xCLEtBQUssR0FBRyxJQUFJLENBQUM7d0JBQ2IsTUFBTTtxQkFDVDtpQkFDSjthQUNKLFFBQVEsS0FBSyxFQUFFO1lBQ2hCLFNBQVMsQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1lBQ3ZCLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsVUFBVSxDQUFDLFNBQVk7UUFDbkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtZQUNuQixPQUFPO1NBQ1Y7UUFDRCxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3RDO2FBQU07WUFDSCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDekM7SUFDTCxDQUFDO0lBRUQsZUFBZSxDQUFDLE1BQWM7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLEdBQUcsR0FBOEIsRUFBRSxDQUFDO1FBQ3hDLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzdDLElBQUksU0FBUyxHQUFHLElBQUksS0FBSyxFQUFPLENBQUM7WUFDakMsS0FBSyxJQUFJLFNBQVMsSUFBSSxLQUFLLEVBQUU7Z0JBQ3pCLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7YUFDM0M7WUFDRCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsZUFBZSxDQUFDLFlBQXlDO1FBQ3JELElBQUksR0FBRyxHQUE4QixFQUFFLENBQUM7UUFDeEMsS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDN0MsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDO2dCQUFFLFNBQVM7WUFDbkMsSUFBSSxTQUFTLEdBQUcsSUFBSSxLQUFLLEVBQU8sQ0FBQztZQUNqQyxLQUFLLElBQUksU0FBUyxJQUFJLEtBQUssRUFBRTtnQkFDekIsSUFBSyxTQUE0QyxDQUFDLGFBQWEsS0FBSyxLQUFLO29CQUFFLFNBQVM7Z0JBQ3BGLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7YUFDM0M7WUFDRCxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUN4QixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO2FBQzNCO1NBQ0o7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBVSxFQUFFLElBQStCO1FBQ25ELEtBQUssSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN6QixLQUFLLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDM0IsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFO29CQUM5QixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQ2xCLENBQUMsQ0FBQztnQkFDSCxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUM1QjtTQUNKO0lBQ0wsQ0FBQztDQUNKO0FBRU0sTUFBTSxnQkFBZ0I7SUFPekIsWUFBWSxJQUFZLEVBQUUsT0FBZ0IsSUFBSSxFQUFFLE9BQWdCLElBQUk7UUFGNUQsU0FBSSxHQUFHLElBQUksR0FBRyxFQUFhLENBQUM7UUFHaEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUFjO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELGlCQUFpQixDQUFDLE1BQWM7UUFDNUIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWU7UUFDekIsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3RCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hDLElBQUksR0FBRyxLQUFLLFNBQVM7Z0JBQUUsT0FBTyxFQUFFLENBQUM7O2dCQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDckI7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQUVELGFBQWE7UUFDVCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUVELFFBQVEsQ0FBQyxTQUFZO1FBQ2pCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztTQUM5QzthQUFNO1lBQ0gsTUFBTSwyQ0FBMkMsQ0FBQztTQUNyRDtJQUNMLENBQUM7SUFFRCxVQUFVLENBQUMsU0FBWTtRQUNuQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ2pCLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdEM7SUFDTCxDQUFDO0lBRUQsZUFBZSxDQUFDLE1BQWM7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLEdBQUcsR0FBNEIsRUFBRSxDQUFDO1FBQ3RDLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNqQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN6QztRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELGVBQWUsQ0FBQyxZQUF5QztRQUNyRCxJQUFJLEdBQUcsR0FBNEIsRUFBRSxDQUFDO1FBQ3RDLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNqQyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUssSUFBdUMsQ0FBQyxhQUFhLEtBQUssS0FBSztnQkFBRSxTQUFTO1lBQzVHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsV0FBVyxDQUFDLEdBQVUsRUFBRSxJQUE4QjtRQUNsRCxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksRUFBRTtZQUNyQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ3RDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTthQUNsQixDQUFDO1lBQ0YsR0FBRyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDM0M7SUFDTCxDQUFDO0NBQ0o7QUFFTSxNQUFNLGNBQWM7SUFPdkIsWUFBWSxJQUFZLEVBQUUsT0FBZ0IsSUFBSSxFQUFFLE9BQWdCLElBQUk7UUFGNUQsU0FBSSxHQUFHLElBQUksR0FBRyxFQUFxQixDQUFDO1FBR3hDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxZQUFZLENBQUMsTUFBYztRQUN2QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxNQUFjO1FBQzVCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWU7UUFDekIsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3RCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEMsSUFBSSxHQUFHLEtBQUssU0FBUztnQkFBRSxPQUFPLEVBQUUsQ0FBQzs7Z0JBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNyQjthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRUQsYUFBYTtRQUNULE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRUQsUUFBUSxDQUFDLFNBQW9CO1FBQ3pCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztZQUFFLE1BQU0sMkNBQTJDLENBQUM7UUFDdkYsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsVUFBVSxDQUFDLFNBQW9CO1FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsZUFBZSxDQUFDLE1BQWM7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELFNBQVM7UUFDTCxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELGVBQWUsQ0FBQyxZQUF5QztRQUNyRCxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBVSxFQUFFLElBQWM7UUFDbEMsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7WUFDckIsR0FBRyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDZixNQUFNLEVBQUUsQ0FBQyxDQUFDO2FBQ2IsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuVU0sTUFBTSxXQUFXO0lBQXhCO1FBQ1ksa0JBQWEsR0FBRyxJQUFJLEdBQUcsRUFBa0IsQ0FBQztRQUMxQyxZQUFPLEdBQUcsSUFBSSxLQUFLLEVBQVUsQ0FBQztRQUM5QixvQkFBZSxHQUFHLElBQUksR0FBRyxFQUFVLENBQUM7SUEyRGhELENBQUM7SUF6REcsR0FBRyxDQUFDLElBQVk7UUFDWixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxRQUFRLENBQUMsTUFBYztRQUNuQixJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV4RCxJQUFJLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUFFO1lBQy9DLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLFFBQVEsRUFBRTtnQkFDN0IsT0FBTyxHQUFHLEdBQUcsQ0FBQztnQkFDZCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLElBQUksV0FBVztvQkFBRSxNQUFNO2FBQzFCO1NBQ0o7UUFDRCxJQUFJLFdBQVcsRUFBRTtZQUNiLE1BQU0sK0NBQStDLE9BQU8sdUNBQXVDLENBQUM7U0FDdkc7UUFFRCxLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxZQUFZLEVBQUU7WUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFBRSxNQUFNLDBCQUEwQixHQUFHLEdBQUcsQ0FBQztTQUM1RTtRQUNELElBQUksTUFBTSxDQUFDLG9CQUFvQixLQUFLLFNBQVMsRUFBRTtZQUMzQyxLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRTtnQkFDekMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7b0JBQUUsU0FBUztnQkFDMUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDakM7U0FDSjtRQUVELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFDYixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxzQkFBc0IsQ0FBQztZQUMzRCxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsTUFBTSxDQUFDLElBQUksc0NBQXNDLEdBQUcsQ0FBQyxJQUFJLGNBQWMsQ0FBQyxDQUFDO1NBQ25HO1FBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQixJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUU7WUFDakIsS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUM5QixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO29CQUM5QixNQUFNLFdBQVcsSUFBSSwyQkFBMkIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFFLENBQUMsSUFBSSwwQkFBMEIsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO2lCQUM3SDtnQkFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7YUFDeEM7U0FDSjtJQUNMLENBQUM7SUFFRCxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDYixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7SUFDM0MsQ0FBQztJQUVELEtBQUssQ0FBQyxLQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJO1FBQ0EsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUMvQixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3Q29DO0FBQ087QUFDaUI7QUFDbkI7QUFFZ0I7QUFDWDtBQUdvQjtBQUVyQjtBQUNNO0FBQ2M7QUFFbEUsSUFBWSxTQUVYO0FBRkQsV0FBWSxTQUFTO0lBQ2pCLDJDQUFLO0lBQUUseUNBQUk7SUFBRSw2Q0FBTTtJQUFFLHlDQUFJO0lBQUUsK0NBQU87SUFBRSx1Q0FBRztBQUMzQyxDQUFDLEVBRlcsU0FBUyxLQUFULFNBQVMsUUFFcEI7QUFxQ00sU0FBUyxVQUFVLENBQUMsR0FBb0I7SUFDM0MsT0FBTztRQUNILElBQUksRUFBRSxTQUFTLENBQUMsS0FBSztRQUNyQixHQUFHO0tBQ04sQ0FBQztBQUNOLENBQUM7QUFFTSxTQUFTLFNBQVMsQ0FBQyxJQUFVO0lBQ2hDLE9BQU87UUFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDcEIsSUFBSSxFQUFFLElBQUk7S0FDYixDQUFDO0FBQ04sQ0FBQztBQUVNLFNBQVMsV0FBVyxDQUFDLE1BQXVCLEVBQUUsTUFBYztJQUMvRCxPQUFPO1FBQ0gsSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3RCLEdBQUcsRUFBRSxNQUFNO1FBQ1gsTUFBTSxFQUFFLE1BQU07S0FDakIsQ0FBQztBQUNOLENBQUM7QUFFTSxTQUFTLFNBQVMsQ0FBQyxJQUFVO0lBQ2hDLE9BQU87UUFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDcEIsSUFBSSxFQUFFLElBQUk7S0FDYixDQUFDO0FBQ04sQ0FBQztBQUVNLFNBQVMsWUFBWSxDQUFDLE9BQWlCO0lBQzFDLE9BQU87UUFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLE9BQU87UUFDdkIsT0FBTztLQUNWLENBQUM7QUFDTixDQUFDO0FBRU0sU0FBUyxRQUFRLENBQUMsR0FBUTtJQUM3QixPQUFPO1FBQ0gsSUFBSSxFQUFFLFNBQVMsQ0FBQyxHQUFHO1FBQ25CLElBQUksRUFBRSxHQUFHO0tBQ1osQ0FBQztBQUNOLENBQUM7QUFFTSxTQUFTLGNBQWMsQ0FBQyxNQUFhLEVBQUUsTUFBYTtJQUN2RCxJQUFJLE1BQU0sQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUk7UUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNuRSxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3RCLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFFdEIsMkJBQTJCO0lBQzNCLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQUU7UUFDekIsSUFBSSxFQUFFLEdBQUcsTUFBb0IsQ0FBQztRQUM5QixRQUFRLEdBQUcsRUFBRTtZQUNULEtBQUssU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sS0FBSyxDQUFDO1lBQ25DLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sdUVBQWtCLENBQUUsTUFBb0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25GLEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8seUVBQW9CLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRyxNQUFzQixDQUFDLEdBQUcsRUFBRyxNQUFzQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3hILEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxDQUFDO1lBQ2xDLEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8scUVBQXFCLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRyxNQUF1QixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQy9GLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sOEVBQXlCLENBQUUsTUFBbUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzNGO0tBQ0o7U0FBTSxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUMsSUFBSSxFQUFFO1FBQy9CLElBQUksRUFBRSxHQUFHLE1BQW1CLENBQUM7UUFDN0IsUUFBUSxHQUFHLEVBQUU7WUFDVCxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLHNFQUFpQixDQUFFLE1BQW9CLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuRixLQUFLLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLHdFQUFtQixDQUFFLE1BQXNCLENBQUMsR0FBRyxFQUFHLE1BQXNCLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4SCxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLHNFQUFpQixDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUcsTUFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuRixLQUFLLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLHdFQUFtQixDQUFDLHVEQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFHLE1BQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUcsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyw2RUFBd0IsQ0FBRSxNQUFtQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDM0Y7S0FDSjtTQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxNQUFNLEVBQUU7UUFDakMsSUFBSSxFQUFFLEdBQUcsTUFBcUIsQ0FBQztRQUMvQixRQUFRLEdBQUcsRUFBRTtZQUNULEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sMEVBQXFCLENBQUUsTUFBc0IsQ0FBQyxHQUFHLEVBQUcsTUFBc0IsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEksS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyx3RUFBbUIsQ0FBRSxNQUFvQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvRixLQUFLLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLDJFQUFzQixDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRyxNQUF1QixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzNHLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sK0VBQTBCLENBQUUsTUFBbUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdkc7S0FDSjtTQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDL0IsSUFBSSxFQUFFLEdBQUcsTUFBbUIsQ0FBQztRQUM3QixRQUFRLEdBQUcsRUFBRTtZQUNULEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sOEVBQXlCLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRyxNQUFvQixDQUFDLElBQUksQ0FBQyxJQUFJLDJFQUEwQixDQUFDO1lBQ3pILEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8seUVBQW9CLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRyxNQUF1QixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQy9GLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sNkVBQXdCLENBQUUsTUFBbUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzNGO0tBQ0o7U0FBTSxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUMsT0FBTyxFQUFFO1FBQ2xDLElBQUksRUFBRSxHQUFHLE1BQXNCLENBQUM7UUFDaEMsUUFBUSxHQUFHLEVBQUU7WUFDVCxLQUFLLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNO1lBQzlCLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sd0VBQW1CLENBQUUsTUFBbUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3pGO0tBQ0o7U0FBTSxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUMsR0FBRyxFQUFFO1FBQzlCLE9BQU8sb0ZBQStCLENBQUUsTUFBbUIsQ0FBQyxJQUFJLEVBQUcsTUFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNoRztJQUNELHFCQUFxQjtJQUNyQixNQUFNLHlCQUF5QixHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO0FBQ3pELENBQUM7QUFFTSxTQUFTLFdBQVcsQ0FBQyxLQUFZO0lBQ3BDLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRTtRQUNoQixLQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLDBEQUFjLENBQUUsS0FBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RSxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFRLEtBQW1CLENBQUMsSUFBSSxDQUFDO1FBQ3RELEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ25CLElBQUksQ0FBQyxHQUFHLEtBQW9CLENBQUM7WUFDN0IsT0FBTyxJQUFJLGdEQUFJLENBQ1gsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUN0QyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQ3pDLENBQUM7U0FDTDtRQUNELEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxHQUFJLEtBQW1CLENBQUMsSUFBSSxDQUFDO1lBQ2xDLE9BQU8sSUFBSSxnREFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNuRDtRQUNELEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3BCLElBQUksSUFBSSxHQUFHLHFEQUFTLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsV0FBVyxDQUFFLEtBQXNCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEQsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLElBQUksSUFBSSxHQUFHLHFEQUFTLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsV0FBVyxDQUFFLEtBQWtCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3JELE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLENBQUMsQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7S0FDdEQ7QUFDTCxDQUFDO0FBRUQsU0FBUyxZQUFZLENBQUMsS0FBWTtJQUM5QixRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUU7UUFDaEIsS0FBSyxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQ3JCLEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ25CLElBQUksQ0FBQyxHQUFHLEtBQW1CLENBQUM7WUFDNUIsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDN0I7UUFDRCxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqQixJQUFJLElBQUksR0FBSSxLQUFtQixDQUFDLElBQUksQ0FBQztZQUNyQyxPQUFPO2dCQUNILElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7YUFDdkI7U0FDSjtRQUNELEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxHQUFJLEtBQW1CLENBQUMsSUFBSSxDQUFDO1lBQ2xDLE9BQU87Z0JBQ0gsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSztnQkFDaEIsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRzthQUNmLENBQUM7U0FDTDtRQUNELEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3BCLElBQUksR0FBRyxHQUFJLEtBQXNCLENBQUMsT0FBTyxDQUFDO1lBQzFDLElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxFQUFVLENBQUM7WUFDL0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pDO1lBQ0QsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLElBQUksR0FBRyxHQUFJLEtBQWtCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUM3QyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBUyxDQUFDLENBQUMsQ0FBQztZQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN4QixJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3BCO1lBQ0QsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sQ0FBQyxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztLQUN0RDtBQUNMLENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FBQyxLQUFZLEVBQUUsQ0FBUyxFQUFFLENBQVM7SUFDdEQsUUFBUSxLQUFLLENBQUMsSUFBSSxFQUFFO1FBQ2hCLEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUN0QixLQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsQixJQUFJLENBQUMsR0FBRyxLQUFtQixDQUFDO1lBQzVCLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNiLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNiLE1BQU07U0FDVDtRQUNELEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxHQUFJLEtBQW1CLENBQUMsSUFBSSxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQixNQUFNO1NBQ1Q7UUFDRCxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsR0FBSSxLQUFtQixDQUFDLElBQUksQ0FBQztZQUNsQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztZQUNiLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQ2IsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDWCxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNYLE1BQU07U0FDVDtRQUNELEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxHQUFHLEtBQXFCLENBQUM7WUFDOUIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7WUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM5QixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3pCO1lBQ0QsTUFBTTtTQUNUO1FBQ0QsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEIsSUFBSSxDQUFDLEdBQUksS0FBa0IsQ0FBQyxJQUFJLENBQUM7WUFDakMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDekMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQztZQUN0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzNCLEdBQUcsQ0FBQyxDQUFDLENBQUssSUFBSSxDQUFDLENBQUM7Z0JBQ2hCLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ25CO1lBQ0QsTUFBTTtTQUNUO1FBQ0QsT0FBTyxDQUFDLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0tBQ3REO0FBQ0wsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQVk7SUFDNUIsUUFBUSxLQUFLLENBQUMsSUFBSSxFQUFFO1FBQ2hCLEtBQUssU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUN0QixLQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsQixJQUFJLENBQUMsR0FBRyxLQUFtQixDQUFDO1lBQzVCLE9BQU87Z0JBQ0gsSUFBSSxFQUFFLFNBQVMsQ0FBQyxLQUFLO2dCQUNyQixHQUFHLEVBQUUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzFCLENBQUM7U0FDbkI7UUFDRCxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLFNBQVMsQ0FBRSxLQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sU0FBUyxDQUFFLEtBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDeEUsS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxZQUFZLENBQUMsQ0FBQyxHQUFJLEtBQXNCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNsRixLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLFFBQVEsQ0FBRSxLQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNwRSxPQUFPLENBQUMsQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7S0FDdEQ7QUFDTCxDQUFDO0FBRU0sTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUM7QUFnQnZDLE1BQU0saUJBQWlCO0lBYTFCLFlBQVksS0FBWTtRQVhmLFNBQUksR0FBRyxnQkFBZ0IsQ0FBQztRQUN4QixpQkFBWSxHQUFHLENBQUMsa0RBQVMsRUFBRSw0REFBYyxDQUFDLENBQUM7UUFJcEQsWUFBTyxHQUFHLElBQUksc0RBQWdCLENBQXVCLGFBQWEsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEYsa0JBQWEsR0FBWSxLQUFLLENBQUM7UUFHL0IsYUFBUSxHQUFHLElBQUksOERBQVcsRUFBd0IsQ0FBQztRQUcvQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0REFBYyxDQUFvQixDQUFDO1FBQzlFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxrREFBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrREFBUyxDQUFlLENBQUMsQ0FBQztRQUUzRSxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDL0QsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0QsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVPLGtCQUFrQixDQUFDLEtBQWU7UUFDdEMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEQ7SUFDTCxDQUFDO0lBRU8sb0JBQW9CLENBQUMsS0FBZTtRQUN4QyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7SUFFTyxtQkFBbUIsQ0FBQyxJQUEwQjtRQUNsRCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDYixJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1NBQzNCO1FBQ0QsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTtZQUM1QixJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBRU8sZUFBZSxDQUFDLElBQTBCO1FBQzlDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssU0FBUztZQUFFLE9BQU87UUFDckMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hFLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN4QztJQUNMLENBQUM7SUFFTyxjQUFjLENBQUMsSUFBZTtRQUNsQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssZ0JBQWdCO1lBQUUsT0FBTztRQUMzQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQTRCLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRU8saUJBQWlCLENBQUMsSUFBZSxFQUFFLE9BQVk7UUFDbkQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGdCQUFnQixFQUFFO1lBQ2hDLElBQUksQ0FBQyxHQUFHLElBQTRCLENBQUM7WUFFckMsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO2dCQUNwQixJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzNCO1NBQ0o7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ2pDLElBQUksR0FBRyxHQUFHLElBQXlCLENBQUM7WUFDcEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xELElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLFNBQVM7Z0JBQUUsT0FBTztZQUM3RCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN2RCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN2RCxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztZQUN6QixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztZQUV6QixJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDNUIsb0NBQW9DO2dCQUNwQyxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUU7b0JBQzdFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQy9CO2FBQ0o7WUFFRCxPQUFPO1NBQ1Y7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFO1lBQ2xDLElBQUksS0FBSyxHQUFHLElBQTBCLENBQUM7WUFDdkMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BELElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLFNBQVM7Z0JBQUUsT0FBTztZQUM3RCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3hCLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsS0FBSztnQkFBRSxPQUFPO1lBQzNDLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsTUFBTSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsR0FBRyxLQUFvQixDQUFDO2dCQUM3QixJQUFJLE9BQU8sSUFBSSxPQUFPLEVBQUU7b0JBQ3BCLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7b0JBQ2xELElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQy9CO2FBQ0o7aUJBQU0sSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxHQUFHLEtBQWlCLENBQUM7Z0JBQzFCLElBQUksT0FBTyxJQUFJLE9BQU8sRUFBRTtvQkFDcEIsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO29CQUM1QyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2lCQUNsRTtnQkFDRCxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO2dCQUNqQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNuQixJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQy9CO2lCQUFNO2dCQUNILE9BQU8sQ0FBQyxJQUFJLENBQUMscUVBQXFFLENBQUMsQ0FBQztnQkFDcEYsT0FBTzthQUNWO1NBQ0o7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsSUFBZTtRQUNyQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssZ0JBQWdCO1lBQUUsT0FBTztRQUMzQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBNEIsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFTyxlQUFlO1FBQ25CLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQ3BFLElBQUksQ0FBQyxHQUFHLElBQTRCLENBQUM7WUFDckMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9CO1FBQ0QsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7SUFDOUIsQ0FBQztJQUVPLGFBQWE7UUFDakIsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDM0IsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFDcEUsSUFBSSxDQUFDLEdBQUcsSUFBNEIsQ0FBQztZQUNyQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUdPLGNBQWMsQ0FBQyxLQUFZLEVBQUUsS0FBb0I7UUFDckQsSUFBSSxTQUFTLEdBQVcsTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ2pELElBQUksSUFBSSxHQUFXLENBQUMsQ0FBQyxDQUFDO1FBRXRCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLElBQUksQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUM7UUFDaEYsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUU7WUFDbkIsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDbkIsU0FBUyxHQUFHLElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDYixLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNqQztJQUNMLENBQUM7SUFFTyxhQUFhLENBQUMsS0FBWSxFQUFFLEtBQW9CO1FBQ3BELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsY0FBYyxLQUFLLFNBQVMsQ0FBQyxDQUFDO1FBQzNFLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1lBQ25CLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUU7Z0JBQUUsT0FBTztTQUN2QztJQUNMLENBQUM7SUFFTyxVQUFVLENBQUMsS0FBb0I7UUFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUU7WUFBRSxPQUFPO1FBRXBDLElBQUksS0FBWSxDQUFDO1FBQ2pCLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRTtZQUNoQixLQUFLLGlFQUF1QjtnQkFBRSxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxJQUF1QixFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDNUYscUlBQXFJO1lBQ3JJLEtBQUssZ0VBQXNCO2dCQUFFLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQVksQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDMUUsT0FBTyxDQUFDLENBQUMsTUFBTSxvQkFBb0IsQ0FBQztTQUN2QztRQUVELElBQUksS0FBSyxDQUFDLEtBQUssRUFBRTtZQUNiLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3BDO2FBQU07WUFDSCxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztTQUNyQztJQUNMLENBQUM7SUFHRCxZQUFZLENBQUMsS0FBWSxFQUFFLFFBQStDO1FBQ3RFLElBQUksU0FBUyxHQUF5RCxTQUFTLENBQUM7UUFDaEYsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ3RCLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQTZDLENBQUM7U0FDckc7UUFFRCxJQUFJLFNBQVMsS0FBSyxTQUFTO1lBQUUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztRQUNoRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3pCLElBQUksSUFBSSxHQUFHLFNBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzdDLElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO2dCQUFFLE9BQU8sS0FBSyxDQUFDO1lBQ3RELE9BQU8sUUFBUSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVELENBQUMsS0FBSyxDQUFDLEtBQVksRUFBRSxRQUErQztRQUNoRSxJQUFJLElBQUksR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFOUIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBSSxDQUFDO1lBQ2pCLElBQUksUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztnQkFBRSxTQUFTO1lBQ3pDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEtBQU0sRUFBRSxLQUFLLENBQUM7Z0JBQUUsU0FBUztZQUNqRCxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDO1lBQ3hCLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztnQkFBRSxTQUFTO1lBQy9CLE1BQU0sR0FBRyxDQUFDO1NBQ2I7SUFDTCxDQUFDO0lBRUQsTUFBTTtJQUNOLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25oQk0sTUFBTSxlQUFlLEdBQUcsaUJBQWlCLENBQUM7QUFDMUMsTUFBTSxpQkFBaUIsR0FBRyxtQkFBbUIsQ0FBQztBQUU5QyxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUM7QUFZakMsTUFBTSxpQkFBaUIsR0FBRyxjQUFjLENBQUM7QUFFekMsTUFBTSxpQkFBaUI7SUFZMUIsWUFBWSxLQUFZO1FBWGYsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFDbEIsU0FBSSxHQUFHLGlCQUFpQixDQUFDO1FBQ3pCLGFBQVEsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBVWhDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBRW5CLElBQUksQ0FBQyxRQUFRLEdBQUc7WUFDWixJQUFJLEVBQUUsYUFBYTtZQUNuQixLQUFLLEVBQUUsS0FBSztZQUNaLEtBQUssRUFBRSxLQUFLO1lBRVosV0FBVyxFQUFFLElBQUksR0FBRyxFQUFFO1lBQ3RCLEtBQUssRUFBRSxLQUFLO1lBQ1osSUFBSSxFQUFFLEtBQUs7U0FDTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQW9CO1FBQzFCLElBQUksS0FBSyxDQUFDLE1BQU0sWUFBWSxnQkFBZ0IsRUFBRTtZQUMxQyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLElBQUksR0FBRztZQUNQLEtBQUssRUFBRSxLQUFLLENBQUMsUUFBUTtZQUNyQixJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU87U0FDdEIsQ0FBQztRQUNGLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3QyxJQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUU7WUFDWCxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQztTQUMvQztJQUNMLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBb0I7UUFDeEIsSUFBSSxJQUFJLEdBQUc7WUFDUCxLQUFLLEVBQUUsS0FBSyxDQUFDLFFBQVE7WUFDckIsSUFBSSxFQUFFLEtBQUssQ0FBQyxPQUFPO1NBQ3RCLENBQUM7UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFN0MsSUFBSSxLQUFLLENBQUMsR0FBRyxFQUFFO1lBQ1gsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsQ0FBQztTQUNqRDtJQUNMLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUUzRCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxPQUFPO1FBQ0gsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDOUQsUUFBUSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDOUQsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZGOEM7QUFFa0I7QUFHMUQsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDO0FBVzNCLE1BQU0saUJBQWlCLEdBQUcsU0FBUyxDQUFDO0FBWXBDLE1BQU0scUJBQXFCLEdBQUcsV0FBVyxDQUFDO0FBUzFDLE1BQU0sbUJBQW1CLEdBQUcsV0FBVyxDQUFDO0FBT3hDLE1BQU0sV0FBVztJQWNwQix1QkFBdUI7SUFFdkIsWUFBWSxLQUFZO1FBZmYsU0FBSSxHQUFHLFVBQVUsQ0FBQztRQUNsQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQix5QkFBb0IsR0FBRyxFQUFFLENBQUM7UUFJbkMsaUJBQVksR0FBRyxJQUFJLHNEQUFnQixDQUFpQixVQUFVLENBQUMsQ0FBQztRQUNoRSxrQkFBYSxHQUFHLElBQUksc0RBQWdCLENBQXVCLGlCQUFpQixDQUFDLENBQUM7UUFJOUUsZ0JBQVcsR0FBRyxJQUFJLEdBQUcsRUFBaUIsQ0FBQztRQUtuQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixJQUFJLENBQUMsZUFBZSxHQUFHO1lBQ25CLElBQUksRUFBRSxxQkFBcUI7WUFDM0IsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUNWLElBQUksRUFBRSxZQUFZO1lBQ2xCLFFBQVEsRUFBRSxDQUFDLEdBQUc7WUFDZCxNQUFNLEVBQUUsSUFBSTtZQUNaLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLElBQUk7U0FDYSxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLEdBQUc7WUFDakIsSUFBSSxFQUFFLG1CQUFtQjtZQUN6QixLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ2EsQ0FBQztRQUUzQixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNwQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNyQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN4QyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUV0QyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUVPLGFBQWEsQ0FBQyxDQUFRLEVBQUUsS0FBVTtRQUN0QyxJQUFJLE1BQU0sSUFBSSxLQUFLLEVBQUU7WUFDakIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztZQUN6QixJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ3BDO1lBQ0QsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDdEIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQzlCLE9BQU8sQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztvQkFDcEMsQ0FBQyxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7b0JBQ25CLE9BQU87aUJBQ1Y7Z0JBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNuQztTQUNKO0lBQ0wsQ0FBQztJQUVPLGNBQWMsQ0FBQyxDQUFZO1FBQy9CLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7WUFDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBbUIsQ0FBQztZQUM1QixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO2dCQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ25DO1NBQ0o7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBWSxFQUFFLE1BQVc7UUFDL0MsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFVBQVUsRUFBRTtZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLENBQW1CLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDbkQ7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsQ0FBWTtRQUNsQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQW1CLENBQUM7WUFDNUIsSUFBSSxHQUFHLEdBQUc7Z0JBQ04sSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDRyxDQUFDO1lBQ3BCLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEVBQUUsRUFBRTtnQkFDbEQsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxNQUFNO29CQUFFLFNBQVM7Z0JBQ3ZDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNuQztZQUNELElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUMzQiwrRUFBNkIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQ2xEO1NBQ0o7SUFDTCxDQUFDO0lBRU8sZ0JBQWdCLENBQUMsQ0FBVyxFQUFFLE1BQVc7UUFDN0MsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLHFCQUFxQixFQUFFO1lBQ2xDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBNEIsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUM1RDtJQUNMLENBQUM7SUFFRCxjQUFjLENBQUMsTUFBYztRQUN6QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsRCxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbkIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO1NBQy9CO1FBRUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLDBCQUEwQixHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN6RSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7U0FDL0I7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsWUFBWSxDQUFDLEVBQVU7UUFDbkIsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBRTNDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQyxDQUFDO1lBQzNDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQztTQUMvQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxNQUFNO0lBRU4sQ0FBQztJQUVELE9BQU87SUFFUCxDQUFDO0NBQ0o7QUFFTSxTQUFTLGNBQWMsQ0FBQyxLQUFZO0lBQ3ZDLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDdkMsSUFBSSxHQUFHLEtBQUssU0FBUztRQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDakMsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsYUFBYSxFQUFFLEVBQUU7UUFDL0IsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLDRDQUEyQztLQUM5RDtJQUNELDJDQUEyQztJQUMzQyxPQUFPLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDckIsSUFBSSxFQUFFLFVBQVU7UUFDaEIsSUFBSSxFQUFFLFlBQVk7UUFDbEIsUUFBUSxFQUFFLEdBQUc7UUFDYixNQUFNLEVBQUUsS0FBSztLQUNFLENBQUMsQ0FBQztBQUN6QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVMTSxNQUFNLFlBQVksR0FBRyxTQUFTLENBQUM7QUFPL0IsTUFBTSxpQkFBaUIsR0FBRyxjQUFjLENBQUM7QUFFekMsTUFBTSxpQkFBaUI7SUFZMUIsWUFBWSxLQUFZLEVBQUUsRUFBVztRQVg1QixTQUFJLEdBQUcsaUJBQWlCLENBQUM7UUFDekIsaUJBQVksR0FBRyxFQUFjLENBQUM7UUFDOUIsYUFBUSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFLM0IscUJBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBRTdCLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFHZCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUVsQixJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELHdGQUF3RjtJQUVoRixZQUFZLENBQUMsSUFBWTtRQUM3QixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNkLElBQUksRUFBRSxlQUFlO1lBQ3JCLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRTtTQUNyQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFTyxZQUFZLENBQUMsSUFBWTtRQUM3QixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVPLGVBQWUsQ0FBQyxHQUFvQixFQUFFLFNBQTBCO1FBQ3BFLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7UUFDaEMsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsSUFBSSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7Z0JBQUUsU0FBUztZQUM5QyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUN0RDtJQUNMLENBQUM7SUFFTyxZQUFZLENBQUMsTUFBYyxFQUFFLE9BQWdCO1FBQ2pELE9BQU8sQ0FBQyxJQUFJLENBQUMsbUNBQW1DLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDM0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVPLGNBQWMsQ0FBQyxPQUFrQjtRQUNyQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU87UUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7WUFDbkIsSUFBSSxFQUFFLEtBQUs7WUFDWCxJQUFJLEVBQUUsT0FBTztTQUNHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsTUFBTTtJQUNOLENBQUM7SUFFRCxPQUFPO0lBQ1AsQ0FBQztDQUNKO0FBRU0sTUFBTSxtQkFBbUIsR0FBRyxnQkFBZ0IsQ0FBQztBQUU3QyxNQUFNLG1CQUFtQjtJQVE1QixZQUFZLEdBQVUsRUFBRSxPQUFnQjtRQVAvQixTQUFJLEdBQUcsbUJBQW1CLENBQUM7UUFDM0IsaUJBQVksR0FBRyxFQUFjLENBQUM7UUFDOUIsYUFBUSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFNL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFFdkIsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEUsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVPLGNBQWMsQ0FBQyxNQUF1QixFQUFFLFNBQTBCO1FBQ3RFLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTyxDQUFDLGFBQWE7UUFFakQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFTyxLQUFLLENBQUMsTUFBdUIsRUFBRSxTQUEwQjtRQUM3RCxLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7Z0JBQUUsU0FBUztZQUN4RCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVPLFlBQVksQ0FBQyxNQUFjLEVBQUUsT0FBZ0I7UUFDakQsSUFBSSxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxJQUFJLENBQUMsbUNBQW1DLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDM0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELE1BQU07SUFDTixDQUFDO0lBRUQsT0FBTztJQUNQLENBQUM7Q0FFSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcElnQztBQUNFO0FBSThCO0FBRUM7QUFDRDtBQVNqRSxJQUFZLGFBT1g7QUFQRCxXQUFZLGFBQWE7SUFDckIsOENBQTZCO0lBQzdCLDhDQUE2QjtJQUM3QiwwQ0FBeUI7SUFDekIsMERBQXlDO0lBQ3pDLHNEQUFxQztJQUNyQyxnREFBK0I7QUFDbkMsQ0FBQyxFQVBXLGFBQWEsS0FBYixhQUFhLFFBT3hCO0FBc0JNLE1BQU0sb0JBQW9CLEdBQUcsaUJBQWlCLENBQUM7QUFhL0MsTUFBTSxlQUFlLEdBQUcsWUFBWSxDQUFDO0FBQ3JDLE1BQU0sZUFBZTtJQWV4QixZQUFZLEtBQVk7UUFkeEIsU0FBSSxHQUFHLGVBQWUsQ0FBQztRQUN2QixpQkFBWSxHQUFHLEVBQWMsQ0FBQztRQU85QixhQUFRLEdBQUcsSUFBSSxHQUFHLEVBQXVCLENBQUM7UUFDMUMsZUFBVSxHQUFXLENBQUMsQ0FBQztRQUN2QixlQUFVLEdBQVcsQ0FBQyxDQUFDO1FBRXZCLG9CQUFlLEdBQVksS0FBSyxDQUFDO1FBRzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBRW5CLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXZELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUNsQjtZQUNJLElBQUksRUFBRSxvQkFBb0I7WUFDMUIsS0FBSyxFQUFFLElBQUk7WUFDWCxLQUFLLEVBQUUsS0FBSztZQUNaLElBQUksRUFBRSxDQUFDO1lBQ1AsSUFBSSxFQUFFLENBQUM7WUFDUCxNQUFNLEVBQUUsQ0FBQztZQUNULE1BQU0sRUFBRSxDQUFDO1NBQ2MsQ0FDOUIsQ0FBQztRQUVGLDJHQUEyRztRQUMzRyxpSEFBaUg7UUFDakgsNEdBQTRHO1FBQzVHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxvREFBYyxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7SUFDdkMsQ0FBQztJQUVELFNBQVMsQ0FBQyxHQUFXO1FBQ2pCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLDBEQUFhLENBQWlDLENBQUM7UUFDckYsSUFBSSxRQUFRLEtBQUssU0FBUztZQUFFLE9BQU87UUFFbkMsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUVsQixJQUFJLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDM0IsUUFBUSxHQUFHLEVBQUU7WUFDVCxLQUFLLEdBQUc7Z0JBQ0osSUFBSSxLQUFLO29CQUFFLFVBQVUsR0FBRyxjQUFjLENBQUM7O29CQUNsQyxVQUFVLEdBQUcsY0FBYyxDQUFDO2dCQUNqQyxNQUFNO1lBQ1YsS0FBSyxHQUFHO2dCQUFFLFVBQVUsR0FBRyxjQUFjLENBQUM7Z0JBQUUsTUFBTTtZQUM5QyxLQUFLLEdBQUc7Z0JBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFBVSxNQUFNO1lBQzlDLEtBQUssR0FBRztnQkFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUFTLE1BQU07U0FDakQ7UUFDRCxJQUFJLFVBQVUsS0FBSyxTQUFTLEVBQUU7WUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQ3RDO0lBQ0wsQ0FBQztJQUVELGNBQWMsQ0FBQyxLQUFrQixFQUFFLENBQWE7UUFDNUMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBRXJCLElBQUksUUFBUSxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVuRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDL0IsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQy9CLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFFdkQsT0FBTyxPQUFPLEdBQUcsQ0FBQyxJQUFJLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFDekMsQ0FBQztJQUVELElBQUksQ0FBQyxNQUFjLEVBQUUsT0FBZSxFQUFFLE9BQWU7UUFDakQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQztRQUVuQixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxRQUFRLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsUUFBUSxJQUFJLE1BQU0sR0FBRyxDQUFDO1lBQzFGLE9BQU87UUFFWCxzQ0FBc0M7UUFDdEMsaUZBQWlGO1FBQ2pGLDBFQUEwRTtRQUMxRSxtRkFBbUY7UUFFbkYsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUMzQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBRTNDLElBQUksSUFBSSxNQUFNLENBQUM7UUFDZixJQUFJLElBQUksTUFBTSxDQUFDO1FBRWYsTUFBTSxRQUFRLEdBQUcsSUFBSSxnREFBVSxDQUFDLElBQUksR0FBRyxPQUFPLEVBQUUsSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFDO1FBQ2hFLE1BQU0sS0FBSyxHQUFHLElBQUksZ0RBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUV2RixPQUFPO1FBQ1A7OztXQUdHO1FBRUgsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsb0JBQW9CLEVBQUU7WUFDMUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2hCLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNoQixNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDZixNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDUSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7T0FHRztJQUNILFlBQVksQ0FBQyxLQUFpQjtRQUMxQixNQUFNLFlBQVksR0FBRyxHQUFHLENBQUM7UUFDekIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLFlBQVksQ0FBQztRQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsYUFBYSxDQUFDLEtBQTRCO1FBQ3RDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUMvRCxlQUFlO1lBQ2YsSUFBSSxJQUFJLEdBQUcsS0FBOEIsQ0FBQztZQUMxQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO1lBQy9ELE9BQU87U0FDVjtRQUVELElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3BDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNiLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNiLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNaLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNBLENBQUMsQ0FBQztRQUVsQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBRXBDLElBQUksQ0FBQyxHQUFHLEtBQXlCLENBQUM7UUFDbEMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ2xFLG9FQUFvRTtZQUNwRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM3RDtRQUVELElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUN6QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztTQUMvQjtJQUNMLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBNEI7UUFDcEMsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQy9ELGVBQWU7WUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ2pFO1FBRUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwRCxJQUFJLEtBQUssS0FBSyxTQUFTO1lBQUUsT0FBTztRQUVoQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRTNDLElBQUksSUFBSSxDQUFDLGlCQUFpQixLQUFLLFNBQVM7WUFBRSxPQUFPO1FBRWpELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQzFCLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO1lBRTdCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFNUQsSUFBSSxHQUFHLEdBQUcsS0FBdUIsQ0FBQztZQUNsQyxHQUFHLENBQUMsWUFBWSxHQUFHO2dCQUNmLENBQUMsRUFBRSxLQUFLLENBQUMsS0FBSztnQkFDZCxDQUFDLEVBQUUsS0FBSyxDQUFDLEtBQUs7YUFDakIsQ0FBQztZQUNGLEdBQUcsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3RELElBQUksT0FBTyxFQUFFO2dCQUNULElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQzlEO1NBQ0o7SUFDTCxDQUFDO0lBRUQsa0JBQWtCLENBQUMsS0FBNEI7UUFDM0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsNERBQTREO0lBQzVELGFBQWEsQ0FBQyxDQUF3QjtRQUNsQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUV4QiwyQkFBMkI7UUFDM0IsSUFBSSxRQUFRLEdBQUcsNkVBQStCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFdEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUVoRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDbEQsSUFBSSxHQUFHLEdBQUcsQ0FBcUIsQ0FBQztZQUNoQyxHQUFHLENBQUMsWUFBWSxHQUFHO2dCQUNmLENBQUMsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsVUFBVTthQUN6QyxDQUFDO1lBQ0YsR0FBRyxDQUFDLGNBQWMsR0FBRyxLQUFLLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ25GLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDM0I7UUFFRCxJQUFJLEtBQUssS0FBSyxTQUFTO1lBQUUsT0FBTztRQUVoQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRSxFQUFDLE9BQU87WUFDbEMsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO2dCQUN0QixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDOUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRTlEOzs7bUJBR0c7Z0JBRUgsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsb0JBQW9CLEVBQUU7b0JBQzFDLElBQUksRUFBRSxPQUFPO29CQUNiLElBQUksRUFBRSxPQUFPO2lCQUNVLENBQUMsQ0FBQzthQUNoQztTQUNKO1FBRUQsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBRWxCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQzFCLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUV0QyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDN0IsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVwQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUMxQixJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7WUFFdEMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUM3QixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBRTlDLElBQUksTUFBTSxHQUFHLElBQUksZ0RBQVUsQ0FDdkIsQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3pCLENBQUMsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcs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R0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxTQUFTLENBQUMsS0FBVyxFQUFFLE1BQVk7UUFDL0IsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxNQUFNLENBQUMsTUFBYyxFQUFFLE1BQVk7UUFDL0IsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7UUFDakMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztJQUNyQyxDQUFDO0lBRUQsS0FBSyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsTUFBWTtRQUN0QyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDM0IsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxRQUFRLENBQUMsS0FBVztRQUNoQixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FB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LEVBQy9CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ2xDLENBQUM7S0FDTDtJQUVELElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNiLElBQUksQ0FBQyxHQUFHLHVEQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyx1REFBTztRQUFFLElBQUksSUFBSSxtQkFBbUIsQ0FBQyxNQUFNLENBQUM7SUFDdkUsSUFBSSxDQUFDLEdBQUcsdURBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLHVEQUFPO1FBQUUsSUFBSSxJQUFJLG1CQUFtQixDQUFDLE1BQU0sQ0FBQztJQUN2RSxPQUFPLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQzFELENBQUM7QUFFTSxTQUFTLHFCQUFxQixDQUFDLENBQWMsRUFBRSxFQUFlLEVBQUUsRUFBZSxFQUFFLEVBQWU7SUFDbkcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRixJQUFJLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFH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O1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxrQzs7Ozs7V0NmQTs7V0FFQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsTUFBTSxvQkFBb0I7V0FDMUI7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQSxlQUFlLDRCQUE0QjtXQUMzQztXQUNBO1dBQ0EsZ0JBQWdCLDJCQUEyQjtXQUMzQztXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsNENBQTRDO1dBQzVDO1dBQ0EsRTs7Ozs7VUNwRkE7VUFDQSIsImZpbGUiOiJtYWluLmNiMzMyYWQxZmM3ODkwMWJlNGJjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uY29tcG9uZW50LWhlYWRlcltkYXRhLXYtMDNkMzI0ZDZdIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuLmNvbXBvbmVudC1oZWFkZXIgYnV0dG9uW2RhdGEtdi0wM2QzMjRkNl06bGFzdC1jaGlsZCB7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcbi5jb21wb25lbnQtYm9keVtkYXRhLXYtMDNkMzI0ZDZdIHtcXG4gIG1hcmdpbi1sZWZ0OiAxMnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG4uZzExW2RhdGEtdi0wM2QzMjRkNl0ge1xcbiAgZ3JpZC1yb3c6IDE7XFxuICBncmlkLWNvbHVtbjogMTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFtRUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDQTtBQUVBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbXBvbmVudC1oZWFkZXJcXFwiPlxcbiAgICAgICAgPGRpdiBAY2xpY2s9XFxcInZpc2libGUgPSAhdmlzaWJsZVxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlXFxcIj4ge3sgY29tcG9uZW50LnR5cGVOYW1lIH19PC9kaXY+XFxuICAgICAgICA8Yi1idXR0b24gdi1pZj1cXFwiaXNBZG1pblxcXCIgc3F1YXJlZCBzaXplPVxcXCJzbVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGdyaWQ7XFxcIlxcbiAgICAgICAgICAgICAgICAgIDp0aXRsZT1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGUgPyAnSGlkZSBjb21wb25lbnQnIDogJ1Nob3cgY29tcG9uZW50J1xcXCJcXG4gICAgICAgICAgICAgICAgICB2LXNob3c9XFxcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWRcXFwiXFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGNvbXBvbmVudC50eXBlLCAnY2xpZW50VmlzaWJsZScsICFjb21wb25lbnQuY2xpZW50VmlzaWJsZSlcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIHYtc2hvdz1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGVcXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllXFxcIi8+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgdi1zaG93PVxcXCIhY29tcG9uZW50LmNsaWVudFZpc2libGVcXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllLXNsYXNoXFxcIi8+PC9kaXY+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgICAgPGItYnV0dG9uIHYtaWY9XFxcImlzQWRtaW5cXFwiIHNxdWFyZWQgc2l6ZT1cXFwic21cXFwiIHZhcmlhbnQ9XFxcInByaW1hcnlcXFwiIHRpdGxlPVxcXCJGdWxsc2NyZWVuXFxcIlxcbiAgICAgICAgICAgICAgICAgIHYtc2hvdz1cXFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4gIT09IHVuZGVmaW5lZFxcXCIgQGNsaWNrPVxcXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiA9IHRydWVcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWV4cGFuZFxcXCIvPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiBzcXVhcmVkIHNpemU9XFxcInNtXFxcIiB2YXJpYW50PVxcXCJkYW5nZXJcXFwiIHRpdGxlPVxcXCJEZWxldGVcXFwiIHYtc2hvdz1cXFwiY29tcG9uZW50Ll9jYW5EZWxldGVcXFwiXFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICckJywgJ3JlbW92ZUNvbXBvbmVudCcsIGNvbXBvbmVudC50eXBlLCBjb21wb25lbnQubXVsdGlJZClcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRyYXNoXFxcIi8+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGItY29sbGFwc2Ugdi1tb2RlbD1cXFwidmlzaWJsZVxcXCIgY2xhc3M9XFxcImNvbXBvbmVudC1ib2R5XFxcIiB2aXNpYmxlPlxcbiAgICAgIDxjb21wb25lbnQgdi1iaW5kOmlzPVxcXCJjb21wb25lbnRUeXBlXFxcIiB2LWJpbmQ6Y29tcG9uZW50PVxcXCJjb21wb25lbnRcXFwiIHYtYmluZDppc0FkbWluPVxcXCJpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgdi1iaW5kOmFsbENvbXBzPVxcXCJhbGxDb21wc1xcXCJcXG4gICAgICAgICAgICAgICAgIHYtb246ZWNzLXByb3BlcnR5LWNoYW5nZT1cXFwiJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10pXFxcIj5cXG5cXG4gICAgICA8L2NvbXBvbmVudD5cXG4gICAgPC9iLWNvbGxhcHNlPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgZWNzTmFtZSBmcm9tIFxcXCIuL2Vjc05hbWUudnVlXFxcIjtcXG5pbXBvcnQgZWNzTm90ZSBmcm9tIFxcXCIuL2Vjc05vdGUudnVlXFxcIjtcXG5pbXBvcnQgZWNzUG9zaXRpb24gZnJvbSBcXFwiLi9lY3NQb3NpdGlvbi52dWVcXFwiO1xcbmltcG9ydCBlY3NXYWxsIGZyb20gXFxcIi4vZWNzV2FsbC52dWVcXFwiO1xcbmltcG9ydCBlY3NCYWNrZ3JvdW5kSW1hZ2UgZnJvbSBcXFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXFxcIjtcXG5pbXBvcnQgZWNzUGluIGZyb20gXFxcIi4vZWNzUGluLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1RyYW5zZm9ybSBmcm9tIFxcXCIuL2Vjc1RyYW5zZm9ybS52dWVcXFwiO1xcbmltcG9ydCBlY3NMaWdodCBmcm9tIFxcXCIuL2Vjc0xpZ2h0LnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1BsYXllciBmcm9tIFxcXCIuL2Vjc1BsYXllci52dWVcXFwiO1xcbmltcG9ydCBlY3NEb29yIGZyb20gXFxcIi4vZWNzRG9vci52dWVcXFwiO1xcbmltcG9ydCBlY3NQcm9wIGZyb20gXFxcIi4vZWNzUHJvcC52dWVcXFwiO1xcbmltcG9ydCBlY3NQcm9wVGVsZXBvcnQgZnJvbSBcXFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlXFxcIjtcXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcXFwiLi4vLi4vZWNzL2NvbXBvbmVudFxcXCJcXG5pbXBvcnQge1Z1ZSwgVkNvbXBvbmVudCwgVlByb3B9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuXFxuQFZDb21wb25lbnQoe1xcbiAgY29tcG9uZW50czoge1xcbiAgICBlY3NOYW1lLCBlY3NOb3RlLCBlY3NQb3NpdGlvbiwgZWNzV2FsbCwgZWNzQmFja2dyb3VuZEltYWdlLCBlY3NQaW4sIGVjc1RyYW5zZm9ybSwgZWNzTGlnaHQsIGVjc1BsYXllciwgZWNzRG9vcixcXG4gICAgZWNzUHJvcCwgZWNzUHJvcFRlbGVwb3J0XFxuICB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NDb21wb25lbnRXcmFwcGVyIGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBjb21wb25lbnQhOiBDb21wb25lbnQ7XFxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSkgaXNBZG1pbiE6IGJvb2xlYW47XFxuICBAVlByb3AoKSBhbGxDb21wcz86IEFycmF5PENvbXBvbmVudD47XFxuICB2aXNpYmxlID0gdHJ1ZTtcXG5cXG4gIGdldCBjb21wb25lbnRUeXBlKCk6IHN0cmluZyB7XFxuICAgIHJldHVybiAnZWNzLScgKyB0aGlzLmNvbXBvbmVudC50eXBlLnJlcGxhY2UoJ18nLCAnLScpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGUgc2NvcGVkPlxcbi5jb21wb25lbnQtaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuXFxuLmNvbXBvbmVudC1oZWFkZXIgYnV0dG9uOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG4uY29tcG9uZW50LWJvZHkge1xcbiAgbWFyZ2luLWxlZnQ6IDEycHg7XFxuICBtYXJnaW4tcmlnaHQ6IDEycHg7XFxufVxcblxcbi5nMTEge1xcbiAgZ3JpZC1yb3c6IDE7XFxuICBncmlkLWNvbHVtbjogMTtcXG59XFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uY29tcG9uZW50LWJ0bi1oZWFkZXJbZGF0YS12LWM0MDdkYmZhXSB7XFxuICBtYXJnaW46IDAuNXJlbTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcXG59XFxuLmcxMVtkYXRhLXYtYzQwN2RiZmFdIHtcXG4gIGdyaWQtY29sdW1uOiAxO1xcbiAgZ3JpZC1yb3c6IDE7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF5RUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFDQTtBQUVBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IHYtc2hvdz1cXFwiY29tcG9uZW50cy5sZW5ndGggPiAwXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29tcG9uZW50LWJ0bi1oZWFkZXJcXFwiPlxcbiAgICAgIDxiLWRyb3Bkb3duIHRvZ2dsZS1jbGFzcz1cXFwicm91bmRlZC0wXFxcIiB2YXJpYW50PVxcXCJzdWNjZXNzXFxcIiB2LWlmPVxcXCJpc0FkbWluXFxcIj5cXG4gICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6YnV0dG9uLWNvbnRlbnQ+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtcGx1c1xcXCI+PC9pPlxcbiAgICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICAgIDxiLWRyb3Bkb3duLWl0ZW0gdi1mb3I9XFxcInggaW4gc2VsZWN0ZWRBZGRhYmxlXFxcIiA6a2V5PVxcXCJ4LnR5cGVcXFwiIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2FkZENvbXBvbmVudCcsIHgudHlwZSlcXFwiPlxcbiAgICAgICAgICB7eyB4Lm5hbWUgfX1cXG4gICAgICAgIDwvYi1kcm9wZG93bi1pdGVtPlxcbiAgICAgIDwvYi1kcm9wZG93bj5cXG4gICAgICA8Yi1idXR0b24gc3F1YXJlZCA6dGl0bGU9XFxcImVudGl0eS5oaWRkZW4gPyAnU2hvdyBlbnRpdHknIDogJ0hpZGUgZW50aXR5J1xcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGdyaWRcXFwiIHYtaWY9XFxcImlzQWRtaW5cXFwiXFxuICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2hpZGRlbicsICFlbnRpdHkuaGlkZGVuKVxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIDpzdHlsZT1cXFwie3Zpc2liaWxpdHk6IGVudGl0eS5oaWRkZW4gPyAndmlzaWJsZScgOiAnaGlkZGVuJ31cXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllLXNsYXNoXFxcIi8+PC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIDpzdHlsZT1cXFwie3Zpc2liaWxpdHk6IGVudGl0eS5oaWRkZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ31cXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllXFxcIi8+PC9kaXY+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICA8Yi1idXR0b24gdi1pZj1cXFwiaXNBZG1pblxcXCIgdmFyaWFudD1cXFwiZGFuZ2VyXFxcIiB0aXRsZT1cXFwiRGVsZXRlIGVudGl0eVxcXCIgc3F1YXJlZFxcbiAgICAgICAgICAgICAgICBAY2xpY2s9XFxcImVtaXRTcGVjaWFsKCdkZWxldGUnKVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRyYXNoXFxcIj48L2k+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxlY3MtY29tcG9uZW50LXdyYXBwZXIgdi1mb3I9XFxcImNvbXAgb2YgcmVuZGVyZWRDb21wb25lbnRzXFxcIiB2LWJpbmQ6a2V5PVxcXCJjb21wLnR5cGUgKyAoY29tcC5tdWx0aUlkIHx8ICcnKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2LWJpbmQ6Y29tcG9uZW50PVxcXCJjb21wXFxcIiB2LWJpbmQ6aXNBZG1pbj1cXFwiaXNBZG1pblxcXCIgdi1iaW5kOmFsbENvbXBzPVxcXCJhbGxDb21wb25lbnRzXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEBlY3MtcHJvcGVydHktY2hhbmdlPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSlcXFwiLz5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IEVjc0NvbXBvbmVudFdyYXBwZXIgZnJvbSBcXFwiLi9jb21wV3JhcHBlci52dWVcXFwiO1xcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcbmltcG9ydCB7Q29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnR9IGZyb20gXFxcIi4uLy4uL2Vjcy9jb21wb25lbnRcXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHtcXG4gICAgRWNzQ29tcG9uZW50V3JhcHBlcixcXG4gIH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eUluc3BlY3QgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBlbnRpdHkhOiB7XFxuICAgIGhpZGRlbjogYm9vbGVhbixcXG4gICAgaWRzOiBBcnJheTxudW1iZXI+XFxuICB9O1xcblxcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBjb21wb25lbnRzITogQXJyYXk8Q29tcG9uZW50PjtcXG5cXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxcbiAgaXNBZG1pbiE6IGJvb2xlYW47XFxuXFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIHNlbGVjdGVkQWRkYWJsZSE6IEFycmF5PHtuYW1lOiBzdHJpbmd9PjtcXG5cXG4gIGdldCByZW5kZXJlZENvbXBvbmVudHMoKTogQXJyYXk8Q29tcG9uZW50PiB7XFxuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuZmlsdGVyKChjOiBhbnkpID0+IGMuX3NhdmUgJiYgYy5fc3luYyk7XFxuICB9XFxuXFxuICBnZXQgYWxsQ29tcG9uZW50cygpOiB7W2tleTogc3RyaW5nXTogQ29tcG9uZW50fSB7XFxuICAgIGxldCBtID0ge30gYXMgYW55O1xcbiAgICBmb3IgKGxldCBjIG9mIHRoaXMuY29tcG9uZW50cykge1xcbiAgICAgIG1bYy50eXBlXSA9IGM7XFxuICAgIH1cXG4gICAgcmV0dXJuIG07XFxuICB9XFxuXFxuICBlbWl0U3BlY2lhbChuYW1lOiBzdHJpbmcsIHBhcjogdW5rbm93bikge1xcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJyQnLCBuYW1lLCBwYXIpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGUgc2NvcGVkPlxcbi5jb21wb25lbnQtYnRuLWhlYWRlciB7XFxuICBtYXJnaW46IDAuNXJlbTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcXG59XFxuXFxuLmcxMSB7XFxuICBncmlkLWNvbHVtbjogMTtcXG4gIGdyaWQtcm93OiAxO1xcbn1cXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5nYW1lW2RhdGEtdi01M2I0NjA1MV0ge1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcbi50b29sYmFyLWJ0bltkYXRhLXYtNTNiNDYwNTFdIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcXG4gIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcXG59XFxuLnNpZGViYXItZm9vdGVyW2RhdGEtdi01M2I0NjA1MV0ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG4udW5kby1yZWRvLWJ0bi5kaXNhYmxlZFtkYXRhLXYtNTNiNDYwNTFdLCAudW5kby1yZWRvLWJ0bltkYXRhLXYtNTNiNDYwNTFdOmRpc2FibGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzNDNhNDA7XFxuICBib3JkZXItY29sb3I6ICMzNDNhNDA7XFxuICBib3gtc2hhZG93OiBub25lO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQTRPQTtFQUNBLGlCQUFBO0FBQ0E7QUFFQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FBQ0E7QUFFQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0FBQ0E7QUFFQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcImdhbWVcXFwiPlxcblxcbiAgICA8Yi1idXR0b24tdG9vbGJhciB0eXBlPVxcXCJkYXJrXFxcIiB2YXJpYW50PVxcXCJpbmZvXFxcIiBjbGFzcz1cXFwiYmctZGFya1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IHZhcigtLXRvcGJhci1oZWlnaHQpOyB6LWluZGV4OiAxMDAwO1xcXCIganVzdGlmeT5cXG4gICAgICA8Yi1idXR0b24tZ3JvdXAgdi1pZj1cXFwiaXNBZG1pblxcXCIgc3R5bGU9XFxcIm1hcmdpbi1yaWdodDogMnJlbVxcXCI+XFxuICAgICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIlVuZG9cXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHVuZG8tcmVkby1idG5cXFwiIDpkaXNhYmxlZD1cXFwiIXRoaXMuY2FuVW5kb1xcXCIgdi1vbjpjbGljaz1cXFwidW5kbygpXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS11bmRvXFxcIj48L2k+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJSZWRvXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biB1bmRvLXJlZG8tYnRuXFxcIiA6ZGlzYWJsZWQ9XFxcIiF0aGlzLmNhblJlZG9cXFwiIHYtb246Y2xpY2s9XFxcInJlZG8oKVxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtcmVkb1xcXCI+PC9pPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICA8L2ItYnV0dG9uLWdyb3VwPlxcblxcbiAgICAgIDxiLXJhZGlvLWdyb3VwIGJ1dHRvbnMgdi1tb2RlbD1cXFwidG9vbFxcXCI+XFxuICAgICAgICA8Yi1yYWRpbyByZWY9XFxcInJhZGlvaW5zcGVjdFxcXCIgdGl0bGU9XFxcIkluc3BlY3RcXFwiIHZhbHVlPVxcXCJpbnNwZWN0XFxcIiBzcXVhcmVkXFxuICAgICAgICAgICAgICAgICA6Y2xhc3M9XFxcInsndG9vbGJhci1idG4nOiB0aGlzLmJhY2tncm91bmRMb2NrZWQsICdidG4td2FybmluZyc6ICF0aGlzLmJhY2tncm91bmRMb2NrZWR9XFxcIlxcbiAgICAgICAgICAgICAgICAgdi1vbjpjbGljaz1cXFwiaW5zcGVjdENsaWNrKClcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWhhbmQtcG9pbnRlclxcXCI+PC9pPlxcbiAgICAgICAgPC9iLXJhZGlvPlxcbiAgICAgICAgPGItcmFkaW8gdi1pZj1cXFwiaXNBZG1pblxcXCIgdGl0bGU9XFxcIkFkZCB3YWxsXFxcIiB2YWx1ZT1cXFwiY3JlYXRlX3dhbGxcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIj5cXG4gICAgICAgICAgPHN2ZyBjbGFzcz1cXFwic3ZnLWlubGluZS0tZmEgZmEtdy0xNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjM0LjgwOSAyMzQuODA5XFxcIlxcbiAgICAgICAgICAgICAgIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIiBkPVxcXCJNNy41LDUzLjk4OGMtNC4xMzUsMC03LjUtMy4zNjQtNy41LTcuNVYyMC41NzFjMC00LjEzNiwzLjM2NS03LjUsNy41LTcuNWg5NC45MDRjNC4xMzUsMCw3LjUsMy4zNjQsNy41LDcuNXYyNS45MTdcXG4gICAgICAgICAgICAgICAgICAgICAgYzAsNC4xMzYtMy4zNjUsNy41LTcuNSw3LjVINy41eiBNMjI3LjMwOSw1My45ODhjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNVYyMC41NzFjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0XFxuICAgICAgICAgICAgICAgICAgICAgIGMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgyMjcuMzA5eiBNMTY0Ljg1NiwxMDkuOTA0YzQuMTM1LDAsNy41LTMuMzY1LDcuNS03LjVWNzYuNDg4XFxuICAgICAgICAgICAgICAgICAgICAgIGMwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNSwzLjM2NSw3LjUsNy41LDcuNUgxNjQuODU2eiBNMzkuOTUyLDEwOS45MDRcXG4gICAgICAgICAgICAgICAgICAgICAgYzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjVWNzYuNDg4YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVIOC4wNDhjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVcXG4gICAgICAgICAgICAgICAgICAgICAgSDM5Ljk1MnogTTIyNi43NjEsMTA5LjkwNGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41aC0zMS45MDRjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3XFxuICAgICAgICAgICAgICAgICAgICAgIGMwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6IE0xMDIuNDA0LDE2NS44MjFjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzUtMy4zNjUtNy41LTcuNS03LjVINy41XFxuICAgICAgICAgICAgICAgICAgICAgIGMtNC4xMzUsMC03LjUsMy4zNjUtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgxMDIuNDA0eiBNMjI3LjMwOSwxNjUuODIxYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN1xcbiAgICAgICAgICAgICAgICAgICAgICBjMC00LjEzNS0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0Yy00LjEzNSwwLTcuNSwzLjM2NS03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDIyNy4zMDl6IE0xNjQuODU2LDIyMS43MzhcXG4gICAgICAgICAgICAgICAgICAgICAgYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNVxcbiAgICAgICAgICAgICAgICAgICAgICBIMTY0Ljg1NnogTTM5Ljk1MiwyMjEuNzM4YzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41SDguMDQ4Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN1xcbiAgICAgICAgICAgICAgICAgICAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgzOS45NTJ6IE0yMjYuNzYxLDIyMS43MzhjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVoLTMxLjkwNFxcbiAgICAgICAgICAgICAgICAgICAgICBjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVIMjI2Ljc2MXpcXFwiLz5cXG4gICAgICAgICAgPC9zdmc+XFxuICAgICAgICA8L2ItcmFkaW8+XFxuICAgICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJpc0FkbWluXFxcIiB0aXRsZT1cXFwiQWRkIHByb3BcXFwiIHZhbHVlPVxcXCJjcmVhdGVfcHJvcFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG5cXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWNvdWNoXFxcIj48L2k+XFxuICAgICAgICA8L2ItcmFkaW8+XFxuICAgICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJpc0FkbWluXFxcIiB0aXRsZT1cXFwiQWRkIHBpblxcXCIgdmFsdWU9XFxcImNyZWF0ZV9waW5cXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS10aHVtYnRhY2tcXFwiPjwvaT5cXG4gICAgICAgIDwvYi1yYWRpbz5cXG4gICAgICAgIDxiLXJhZGlvIHYtaWY9XFxcImlzQWRtaW5cXFwiIHRpdGxlPVxcXCJFZGl0IGdyaWRcXFwiIHZhbHVlPVxcXCJncmlkXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0blxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYm9yZGVyLWFsbFxcXCIvPlxcbiAgICAgICAgPC9iLXJhZGlvPlxcbiAgICAgICAgPGItcmFkaW8gdi1pZj1cXFwiaXNBZG1pblxcXCIgdGl0bGU9XFxcIkxpZ2h0IHNldHRpbmdzXFxcIiB2YWx1ZT1cXFwibGlnaHRcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1saWdodGJ1bGJcXFwiLz5cXG4gICAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8L2ItcmFkaW8tZ3JvdXA+XFxuICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJFeHBvcnQgbWFwXFxcIiBzcXVhcmVkIHZhcmlhbnQ9XFxcInN1Y2Nlc3NcXFwiIGNsYXNzPVxcXCJidG4teHNcXFwiIHYtb246Y2xpY2s9XFxcInBoYXNlLmV4cG9ydE1hcCgpXFxcIlxcbiAgICAgICAgICAgICAgICB2LWlmPVxcXCJpc0FkbWluXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZG93bmxvYWRcXFwiLz5cXG4gICAgICA8L2ItYnV0dG9uPlxcblxcbiAgICAgIDxkaXYgc3R5bGU9XFxcImZsZXg6IDEgMSAwO1xcXCIvPiA8IS0tIFNwYWNpbmcgLS0+XFxuICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJUb2dnbGUgc2lkZWJhclxcXCIgdmFyaWFudD1cXFwid2FybmluZ1xcXCIgY2xhc3M9XFxcImJ0bi14c1xcXCIgdi1iLXRvZ2dsZS5zaWRlYmFyLXJpZ2h0PlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1hbmdsZS1kb3VibGUtcmlnaHRcXFwiLz5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICA8L2ItYnV0dG9uLXRvb2xiYXI+XFxuXFxuXFxuICAgIDxkaXYgaWQ9XFxcImNhbnZhcy1jb250YWluZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpO1xcXCI+XFxuXFxuICAgIDwvZGl2PlxcblxcbiAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBTSURFQkFSICAgICAgLS0+XFxuXFxuICAgIDxiLXNpZGViYXIgaWQ9XFxcInNpZGViYXItcmlnaHRcXFwiIHRpdGxlPVxcXCJTaWRlYmFyXFxcIlxcbiAgICAgICAgICAgICAgIGJnLXZhcmlhbnQ9XFxcImRhcmtcXFwiIHRleHQtdmFyaWFudD1cXFwibGlnaHRcXFwiIHJpZ2h0IHZpc2libGUgbm8taGVhZGVyIHNoYWRvd1xcbiAgICAgICAgICAgICAgIHNpZGViYXItY2xhc3M9XFxcInVuZGVyLW5hdmJhclxcXCI+XFxuICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgR1JJRCBDT05UUk9MICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cXG4gICAgICA8Z3JpZC1lZGl0IGNsYXNzPVxcXCJweC0zIHB5LTJcXFwiIHYtc2hvdz1cXFwidG9vbCA9PT0gJ2dyaWQnXFxcIiB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIi8+XFxuICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgRU5USVRZIElOU1BFQ1RPUiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XFxuICAgICAgPGRpdiB2LXNob3c9XFxcInRvb2wgPT09ICdpbnNwZWN0J1xcXCI+XFxuICAgICAgICA8ZW50aXR5LWluc3BlY3RcXG4gICAgICAgICAgICB2LWJpbmQ6Y29tcG9uZW50cz1cXFwidGhpcy5zZWxlY3RlZENvbXBvbmVudHNcXFwiXFxuICAgICAgICAgICAgdi1iaW5kOmVudGl0eT1cXFwidGhpcy5zZWxlY3RlZEVudGl0eU9wdHNcXFwiXFxuICAgICAgICAgICAgdi1iaW5kOmlzQWRtaW49XFxcImlzQWRtaW5cXFwiXFxuICAgICAgICAgICAgdi1iaW5kOnNlbGVjdGVkQWRkYWJsZT1cXFwic2VsZWN0ZWRBZGRhYmxlXFxcIlxcbiAgICAgICAgICAgIEBlY3MtcHJvcGVydHktY2hhbmdlPVxcXCJvbkVjc1Byb3BlcnR5Q2hhbmdlXFxcIi8+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgTElHSFQgU0VUVElOR1MgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInB4LTMgcHktMlxcXCIgdi1zaG93PVxcXCJ0b29sID09PSAnbGlnaHQnXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcXFwiPkxpZ2h0OjwvZGl2PlxcbiAgICAgICAgICA8Yi1pbnB1dCB0eXBlPVxcXCJjb2xvclxcXCIgdi1tb2RlbD1cXFwibGlnaHQuYW1iaWVudExpZ2h0XFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVxcXCJvbkFtYmllbnRMaWdodENoYW5nZVxcXCI+PC9iLWlucHV0PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXFxcIj5OZWVkcyBsaWdodDo8L2Rpdj5cXG4gICAgICAgICAgPGItZm9ybS1jaGVja2JveCB2LW1vZGVsPVxcXCJsaWdodC5uZWVkc0xpZ2h0XFxcIiBAaW5wdXQ9XFxcIm9uQW1iaWVudExpZ2h0Q2hhbmdlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDpyZWFkb25seT1cXFwiIWlzQWRtaW5cXFwiPjwvYi1mb3JtLWNoZWNrYm94PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXFxcIj5WaXNpb24gdHlwZTo8L2Rpdj5cXG4gICAgICAgICAgPGItYnV0dG9uIDpwcmVzc2VkLnN5bmM9XFxcImxpZ2h0LnJvbGVwbGF5VmlzaW9uXFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIj5cXG4gICAgICAgICAgICB7eyBsaWdodC5yb2xlcGxheVZpc2lvbiA/IFxcXCJSb2xlcGxheWVyXFxcIiA6IFxcXCJNYXN0ZXJcXFwiIH19XFxuICAgICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcXFwiPkJhY2tncm91bmQ6PC9kaXY+XFxuICAgICAgICAgIDxiLWlucHV0IHR5cGU9XFxcImNvbG9yXFxcIiB2LW1vZGVsPVxcXCJsaWdodC5iYWNrZ3JvdW5kXFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVxcXCJvbkFtYmllbnRMaWdodENoYW5nZVxcXCI+PC9iLWlucHV0PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICA8Yi1idXR0b24gQGNsaWNrPVxcXCJvbkxpZ2h0U2V0dGluZ3NSZXNldFxcXCI+UmVzZXQ8L2ItYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuXFxuICAgICAgPHRlbXBsYXRlIHYtc2xvdDpmb290ZXI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaWRlYmFyLWZvb3RlclxcXCI+XFxuICAgICAgICAgIHt7IGNvbm5lY3Rpb25Db3VudCB9fVxcbiAgICAgICAgICA8ZGl2IHYtYmluZDpjbGFzcz1cXFwieyByb3RhdGU6IGNvbm5lY3Rpb25CdWZmZXJpbmcgfVxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OiAwLjJyZW1cXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtc3luYy1hbHRcXFwiPjwvaT5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L3RlbXBsYXRlPlxcbiAgICA8L2Itc2lkZWJhcj5cXG5cXG4gICAgPGEgaWQ9XFxcImhpZGRlbi1kb3dubG9hZC1saW5rXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiLz5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IFZ1ZSBmcm9tIFxcXCJ2dWVcXFwiO1xcblxcbmltcG9ydCBFbnRpdHlJbnNwZWN0IGZyb20gXFxcIi4uL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVxcXCI7XFxuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXFxcIi4uLy4uL2Vjcy9jb21wb25lbnRcXFwiO1xcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9yZXNvdXJjZVxcXCI7XFxuaW1wb3J0IHtBZGRDb21wb25lbnR9IGZyb20gXFxcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXFxcIjtcXG5pbXBvcnQge0RFRkFVTFRfTElHSFRfU0VUVElOR1MsIExpZ2h0U2V0dGluZ3MsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cXFwiO1xcbmltcG9ydCB7U2VsZWN0aW9uU3lzdGVtfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVxcXCI7XFxuaW1wb3J0IFBJWEkgZnJvbSBcXFwiLi4vLi4vUElYSVxcXCI7XFxuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XFxuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XFxuaW1wb3J0IHtUb29sfSBmcm9tIFxcXCIuLi8uLi9lY3MvdG9vbHMvdG9vbFR5cGVcXFwiO1xcbmltcG9ydCB7VG9vbFJlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cXFwiO1xcbmltcG9ydCBHcmlkRWRpdCBmcm9tIFxcXCIuL2dyaWRFZGl0LnZ1ZVxcXCI7XFxuaW1wb3J0IHtCQUNLR1JPVU5EX0xBWUVSX1RZUEUsIEJhY2tncm91bmRMYXllclJlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXFxcIjtcXG5cXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHtcXG4gIGNvbXBvbmVudHM6IHtHcmlkRWRpdCwgRW50aXR5SW5zcGVjdH0sXFxuICBwcm9wczogWydwaGFzZScsICd3b3JsZCcsICdpc0FkbWluJ10sXFxuICBkYXRhKCkge1xcbiAgICByZXR1cm4ge1xcbiAgICAgIHRvb2w6ICdpbnNwZWN0JyxcXG4gICAgICBjb25uZWN0aW9uQ291bnQ6IDAsXFxuICAgICAgY29ubmVjdGlvbkJ1ZmZlcmluZzogZmFsc2UsXFxuICAgICAgbGlnaHQ6IHtcXG4gICAgICAgIGFtYmllbnRMaWdodDogJyMwMDAwMDAnLFxcbiAgICAgICAgbmVlZHNMaWdodDogdHJ1ZSxcXG4gICAgICAgIHJvbGVwbGF5VmlzaW9uOiBmYWxzZSxcXG4gICAgICAgIGJhY2tncm91bmQ6ICcjMDAwMDAwJ1xcbiAgICAgIH0sXFxuICAgICAgc2VsZWN0ZWRDb21wb25lbnRzOiBuZXcgQXJyYXk8Q29tcG9uZW50PigpLFxcbiAgICAgIHNlbGVjdGVkRW50aXR5T3B0czoge30sXFxuICAgICAgc2VsZWN0ZWRBZGRhYmxlOiBuZXcgQXJyYXk8QWRkQ29tcG9uZW50PigpLFxcbiAgICAgIGJhY2tncm91bmRMb2NrZWQ6IHRydWUsXFxuICAgICAgY2FuVW5kbzogZmFsc2UsXFxuICAgICAgY2FuUmVkbzogZmFsc2UsXFxuICAgIH07XFxuICB9LFxcbiAgbWV0aG9kczoge1xcbiAgICBvbkVjc1Byb3BlcnR5Q2hhbmdlKHR5cGU6IHN0cmluZywgcHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSwgbXVsdGlJZDogbnVtYmVyKSB7XFxuICAgICAgbGV0IHNlbGVjdGlvblN5cyA9IHRoaXMucGhhc2Uud29ybGQuc3lzdGVtcy5nZXQoJ3NlbGVjdGlvbicpIGFzIFNlbGVjdGlvblN5c3RlbTtcXG4gICAgICBzZWxlY3Rpb25TeXMuc2V0UHJvcGVydHkodHlwZSwgcHJvcGVydHksIHZhbHVlLCBtdWx0aUlkKTtcXG4gICAgfSxcXG5cXG4gICAgb25BbWJpZW50TGlnaHRDaGFuZ2UoKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5hZGRSZXNvdXJjZSh7XFxuICAgICAgICB0eXBlOiAnbGlnaHRfc2V0dGluZ3MnLFxcbiAgICAgICAgYW1iaWVudExpZ2h0OiBzdHJpbmcyaGV4KHRoaXMubGlnaHQuYW1iaWVudExpZ2h0KSxcXG4gICAgICAgIG5lZWRzTGlnaHQ6IHRoaXMubGlnaHQubmVlZHNMaWdodCxcXG4gICAgICAgIGJhY2tncm91bmQ6IHN0cmluZzJoZXgodGhpcy5saWdodC5iYWNrZ3JvdW5kKSxcXG4gICAgICB9IGFzIExpZ2h0U2V0dGluZ3MsICd1cGRhdGUnKTtcXG4gICAgfSxcXG4gICAgb25MaWdodFNldHRpbmdzUmVzZXQoKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5hZGRSZXNvdXJjZShPYmplY3QuYXNzaWduKHtcXG4gICAgICAgIHR5cGU6ICdsaWdodF9zZXR0aW5ncycsXFxuICAgICAgfSwgREVGQVVMVF9MSUdIVF9TRVRUSU5HUykgYXMgTGlnaHRTZXR0aW5ncywgJ3VwZGF0ZScpO1xcbiAgICAgIHRoaXMucmVsb2FkTGlnaHQoKTtcXG4gICAgfSxcXG4gICAgcmVsb2FkTGlnaHQoKSB7XFxuICAgICAgbGV0IGxpZ2h0ID0gdGhpcy5waGFzZS53b3JsZC5nZXRSZXNvdXJjZSgnbGlnaHRfc2V0dGluZ3MnKSBhcyBMaWdodFNldHRpbmdzO1xcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0ID0gaGV4MnN0cmluZyhsaWdodC5hbWJpZW50TGlnaHQpO1xcbiAgICAgIHRoaXMubGlnaHQubmVlZHNMaWdodCA9IGxpZ2h0Lm5lZWRzTGlnaHQ7XFxuICAgICAgdGhpcy5saWdodC5iYWNrZ3JvdW5kID0gaGV4MnN0cmluZyhsaWdodC5iYWNrZ3JvdW5kKTtcXG4gICAgICBsZXQgbGxpZ2h0ID0gdGhpcy5waGFzZS53b3JsZC5nZXRSZXNvdXJjZSgnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XFxuICAgICAgdGhpcy5saWdodC5yb2xlcGxheVZpc2lvbiA9IGxsaWdodC52aXNpb25UeXBlID09PSAncnAnO1xcbiAgICB9LFxcbiAgICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcXG4gICAgICBpZiAocmVzLnR5cGUgPT09ICdsaWdodF9zZXR0aW5ncycgfHwgcmVzLnR5cGUgPT09ICdsb2NhbF9saWdodF9zZXR0aW5ncycpIHRoaXMucmVsb2FkTGlnaHQoKTtcXG4gICAgICBlbHNlIGlmIChyZXMudHlwZSA9PT0gJ3Rvb2wnKSB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XFxuICAgICAgaWYgKHJlcy50eXBlID09PSBCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIHtcXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZExvY2tlZCA9IChyZXMgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UpLmxvY2tlZDtcXG4gICAgICB9XFxuICAgIH0sXFxuICAgIHVuZG8oKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF91bmRvJyk7XFxuICAgIH0sXFxuICAgIHJlZG8oKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9yZWRvJyk7XFxuICAgIH1cXG4gIH0sXFxuICB3YXRjaDoge1xcbiAgICAnbGlnaHQucm9sZXBsYXlWaXNpb24nOiBmdW5jdGlvbiAoKSB7XFxuICAgICAgbGV0IHZpc2lvblR5cGUgPSB0aGlzLmxpZ2h0LnJvbGVwbGF5VmlzaW9uID8gJ3JwJyA6ICdkbSc7XFxuXFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5lZGl0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJywge3Zpc2lvblR5cGV9KTtcXG4gICAgfSxcXG4gICAgdG9vbDogZnVuY3Rpb24gKHRvb2w6IFRvb2wpIHtcXG4gICAgICB0aGlzLnBoYXNlLndvcmxkLmVkaXRSZXNvdXJjZSgndG9vbCcsIHt0b29sfSk7XFxuICAgIH1cXG4gIH0sXFxuICBtb3VudGVkKCkge1xcbiAgICAvL3RoaXMud29ybGQgPSB0aGlzLnBoYXNlLndvcmxkO1xcbiAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XFxuXFxuICAgIHRoaXMucGhhc2Uud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQpO1xcbiAgICBsZXQgeCA9ICh0aGlzLiRyZWZzLnJhZGlvaW5zcGVjdCBhcyBWdWUpO1xcbiAgICB4LiRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XFxuICAgICAgaWYgKCEoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xcbiAgICAgIGlmICh0aGlzLnRvb2wgPT09ICdpbnNwZWN0Jykge1xcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnbGF5ZXJfbG9ja190b2dnbGUnKTtcXG4gICAgICB9XFxuICAgIH0pO1xcbiAgfSxcXG4gIC8qdW5tb3VudGVkKCkgey8vIFRPRE86IHZ1ZTNcXG4gICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQpO1xcbiAgfSwqL1xcbn0pO1xcbjwvc2NyaXB0PlxcblxcbjxzdHlsZSBzY29wZWQ+XFxuLmdhbWUge1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblxcbi50b29sYmFyLWJ0biB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XFxuICBib3JkZXItY29sb3I6ICMyQzNFNTA7XFxufVxcblxcbi5zaWRlYmFyLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcblxcbi51bmRvLXJlZG8tYnRuLmRpc2FibGVkLCAudW5kby1yZWRvLWJ0bjpkaXNhYmxlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQzYTQwO1xcbiAgYm9yZGVyLWNvbG9yOiAjMzQzYTQwO1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuPC9zdHlsZT5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIGZyb20gXCIuLi8uLi9wdWJsaWMvaW1hZ2VzL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmNyZWRpdHNbZGF0YS12LTUzOWYyYmZmXSB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcbi5naXRodWJbZGF0YS12LTUzOWYyYmZmXSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxufVxcbi5naXRodWJbZGF0YS12LTUzOWYyYmZmXTpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcbi5wcm9maWxlW2RhdGEtdi01MzlmMmJmZl0ge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4ucHJvZmlsZVtkYXRhLXYtNTM5ZjJiZmZdOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9mb290ZXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFxQkE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7QUFDQTtBQUVBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlEQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY3JlZGl0c1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibGlua3NcXFwiPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1Nub3d5Q29kZXIvZG5kbWVcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiZ2l0aHViXFxcIj48L2E+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPHNtYWxsIHN0eWxlPVxcXCJjb2xvcjogbGlnaHRncmF5XFxcIj5cXG4gICAgICAgIERldmVsb3BlZCBieSA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2RlclxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJwcm9maWxlXFxcIj5Sb3NzaSBMb3JlbnpvPC9hPiAvXFxuICAgICAgICBEcmF3aW5ncyBieSA8c3BhbiBzdHlsZT1cXFwiY29sb3I6IHdoaXRlXFxcIj5HaW9yZ2lhIE5penpvbGk8L3NwYW4+XFxuICAgICAgPC9zbWFsbD5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBWdWUgZnJvbSBcXFwidnVlXFxcIjtcXG5cXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcXG48L3NjcmlwdD5cXG5cXG48c3R5bGUgc2NvcGVkPlxcbi5jcmVkaXRzIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuLmdpdGh1YiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiflB1YmxpYy9pbWFnZXMvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmdcXFwiKTtcXG59XFxuXFxuLmdpdGh1Yjpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbi5wcm9maWxlIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLnByb2ZpbGU6aG92ZXIge1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5zLWhvbWUtY29udGFpbmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuLnMtaG9tZS10ZXh0IHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuLmJ0bi1lbnRyeSB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQTBFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxtQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcInBoYXNlLWNvbnRhaW5lciB0ZXh0LWNlbnRlciBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciByb3dcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDEwMHZoOyBtYXJnaW46IDA7XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGV4dC13aGl0ZVxcXCI+XFxuICAgICAgPHAgY2xhc3M9XFxcInRpdGxlXFxcIiBzdHlsZT1cXFwiZm9udC1zaXplOiAzLjVlbTsgbWFyZ2luOiAwO1xcXCI+RFJBVyZESUNFPC9wPlxcbiAgICAgIDxwIGNsYXNzPVxcXCJcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDJlbTtcXFwiPkRuZCBtYWRlIGV6ITwvcD5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXY+XFxuICAgICAgPGItYnV0dG9uIHZhcmlhbnQ9XFxcIndhcm5pbmdcXFwiIHNpemU9XFxcImxnXFxcIiBjbGFzcz1cXFwiYnRuLWVudHJ5XFxcIiB2LW9uOmNsaWNrPVxcXCJvbkNyZWF0ZU1hcFxcXCI+Q3JlYXRlIE1hcDwvYi1idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxiLWJ1dHRvbiB2YXJpYW50PVxcXCJpbmZvXFxcIiBzaXplPVxcXCJsZ1xcXCIgY2xhc3M9XFxcImJ0bi1lbnRyeVxcXCIgdi1vbjpjbGljaz1cXFwib25FZGl0TWFwXFxcIj5FZGl0IE1hcDwvYi1idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8Yi1tb2RhbCByZWY9XFxcIm1hcC1sb2FkLW1vZGFsXFxcIiBoaWRlLWZvb3RlciB0aXRsZT1cXFwiR2ltbWUgdGhlIG1hcFxcXCI+XFxuICAgICAgPGItZm9ybS1maWxlXFxuICAgICAgICAgIHYtbW9kZWw9XFxcImZpbGVcXFwiXFxuICAgICAgICAgIDpzdGF0ZT1cXFwiQm9vbGVhbihmaWxlKVxcXCJcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIkNob29zZSBhIGZpbGUgb3IgZHJvcCBpdCBoZXJlLi4uXFxcIlxcbiAgICAgICAgICBkcm9wLXBsYWNlaG9sZGVyPVxcXCJEcm9wIGZpbGUgaGVyZS4uLlxcXCJcXG4gICAgICAgICAgYWNjZXB0PVxcXCIuZG5kbVxcXCJcXG4gICAgICA+PC9iLWZvcm0tZmlsZT5cXG4gICAgPC9iLW1vZGFsPlxcblxcbiAgICA8Zm9vdGVyLWNvbXBvbmVudD48L2Zvb3Rlci1jb21wb25lbnQ+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBGb290ZXJDb21wb25lbnQgZnJvbSBcXFwiLi4vZm9vdGVyLnZ1ZVxcXCI7XFxuaW1wb3J0IE1hcElucHV0IGZyb20gXFxcIi4vbWFwSW5wdXQudnVlXFxcIjtcXG5cXG5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZ1ZSwgUGhhc2VWdWUsIFZXYXRjaCwgVlJlZn0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XFxuaW1wb3J0IHtCTW9kYWx9IGZyb20gXFxcImJvb3RzdHJhcC12dWVcXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHsgTWFwSW5wdXQsIEZvb3RlckNvbXBvbmVudCB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lQ29tcG9uZW50IGV4dGVuZHMgVnVlIGltcGxlbWVudHMgUGhhc2VWdWUge1xcbiAgQFZSZWYoJ21hcC1sb2FkLW1vZGFsJykgcmVhZG9ubHkgbWFwTG9hZE1vZGFsITogQk1vZGFsO1xcblxcbiAgZmlsZTogYW55ID0gbnVsbDtcXG4gIHBlbmRpbmdPcDogc3RyaW5nID0gXFxcIlxcXCI7XFxuICBldmVudEVtaXR0ZXIhOiBFdmVudEVtaXR0ZXI7XFxuXFxuICBvbkNyZWF0ZU1hcCgpIHtcXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcXFwiY3JlYXRlX21hcFxcXCIpO1xcbiAgfVxcblxcbiAgb25FZGl0TWFwKCkge1xcbiAgICB0aGlzLnBlbmRpbmdPcCA9ICdlZGl0JztcXG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuc2hvdygpO1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFxcXCJlZGl0X21hcFxcXCIpO1xcbiAgfVxcblxcbiAgbWFwTG9hZENhbmNlbCgpIHtcXG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuaGlkZSgpO1xcbiAgfVxcblxcbiAgQFZXYXRjaCgnZmlsZScpXFxuICBvbkZpbGVDaGFuZ2VkKHZhbDogYW55KSB7XFxuICAgIGlmICh2YWwgPT0gbnVsbCkgcmV0dXJuO1xcblxcbiAgICBjb25zb2xlLmxvZyhcXFwiRmlsZSBkcm9wcGVkLCBsb2FkaW5nOiBcXFwiICsgdGhpcy5wZW5kaW5nT3ApO1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHRoaXMucGVuZGluZ09wLCB0aGlzLmZpbGUpO1xcbiAgICB0aGlzLmZpbGUgPSBudWxsO1xcbiAgICB0aGlzLm1hcExvYWRDYW5jZWwoKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5zLWhvbWUtY29udGFpbmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLnMtaG9tZS10ZXh0IHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmJ0bi1lbnRyeSB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5zbG9hZGluZy1jb250YWluZXIge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG5cXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG4uc2xvYWRpbmctdGl0bGUge1xcbiAgZm9udC1zaXplOiA1ZW07XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBd0NBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7O0VBRUEsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtBQUNBO0FBQ0E7RUFDQSxjQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic2xvYWRpbmctY29udGFpbmVyXFxcIj5cXG4gICAgICA8aDEgY2xhc3M9XFxcInNsb2FkaW5nLXRpdGxlXFxcIj5EUkFXJkRJQ0U8L2gxPlxcbiAgICAgIDxoMj57e21lc3NhZ2V9fTwvaDI+XFxuICAgICAgPGg1PkxvYWRpbmc8L2g1PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuaW1wb3J0IFZ1ZSBmcm9tIFxcXCJ2dWVcXFwiO1xcbmltcG9ydCB7VkNvbXBvbmVudH0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5jb25zdCBMT0FESU5HX1BIUkFTRVMgPSBbXFxuICBcXFwiUGVyc3VhZGluZyBkcmFnb25zIHRvIGNvb3BlcmF0ZS4uLlxcXCIsXFxuICBcXFwiQSBEd2FyZiwgYW4gRWxmIGFuZCBhIERyYWdvbmJvcmQgZW50ZXIgYSB0YXZlcm4uLi4gXFxcXFxcXCJXZSdyZSBsb29raW5nIGZvciBhIHF1ZXN0XFxcXFxcXCJcXFwiLFxcbiAgXFxcIkFuIGFuY2llbnQgbGVnZW5kIHRlbGxzIHRoYXQgaWYgeW91IGluc3VsdCBhIGRyYWdvbiB0byBleGhhdXN0aW9uLi4uIHRoZXknbGwgZWF0IHlvdSBhbnl3YXlzXFxcIixcXG4gIFxcXCJSZWNoYXJnaW5nIHNwZWxsIHNsb3RzLi4uXFxcIixcXG4gIFxcXCJSb2xsIGEgQ2hhcmlzbWEgc2F2aW5nIHRocm93Li4uXFxcIixcXG4gIFxcXCJMb25nIHJlc3QgaW4gcHJvZ3Jlc3MuLi5cXFwiLFxcbiAgXFxcIkZpdHRpbmcgb3V0IHRoZSBnb2JsaW4gYXJteS4uLlxcXCIsXFxuICBcXFwiVGhlIGxhc3QgYm9zcyB5b3Uga2lsbGVkIG1ldCBhIDIwdGggbGV2ZWwgY2hpZXJpYy4uLiBUaGUgcmVzdCBpcyB1cCB0byB5b3UhIDspXFxcIixcXG4gIFxcXCJUaGlzIG1hcCBvbmx5IGNvc3RzIDI1Z3AhXFxcIixcXG4gIFxcXCJTb3JyeSwgeW91J2QgYmV0dGVyIGNyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgc2hlZXRcXFwiLFxcbl07XFxuXFxuZnVuY3Rpb24gcmFuZG9tTWV4KCkge1xcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExPQURJTkdfUEhSQVNFUy5sZW5ndGgpO1xcbiAgcmV0dXJuIExPQURJTkdfUEhSQVNFU1tpXTtcXG59XFxuXFxuQFZDb21wb25lbnRcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nIGV4dGVuZHMgVnVlIHtcXG4gIG1lc3NhZ2UgPSByYW5kb21NZXgoKTtcXG59XFxuXFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbiAgLnNsb2FkaW5nLWNvbnRhaW5lciB7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXG5cXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB9XFxuICAuc2xvYWRpbmctdGl0bGUge1xcbiAgICBmb250LXNpemU6IDVlbTtcXG4gIH1cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzBfX18gZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAuY3NzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9ib290c3RyYXAtdnVlL2Rpc3QvYm9vdHN0cmFwLXZ1ZS5jc3NcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU1lcmllbmRhK09uZSZkaXNwbGF5PXN3YXApO1wiXSk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMV9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAgIC0tdG9wYmFyLWhlaWdodDogNDBweDtcXG59XFxuXFxuKiB7XFxuICAgIGZvbnQtZmFtaWx5OiAnTWVyaWVuZGEgT25lJywgY3Vyc2l2ZTtcXG59XFxuXFxuYm9keSB7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG5cXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWdBQUFBSUNBWUFBQURFRDc2TEFBQUFQa2xFUVZRb1UyTmtZR0F3Wm1CZ09Nc0FBU0QyY3dZR2htY3dQaU9VSWNYQXdDQ0pwQkRPaHluQTBBa3pDYVFBMlFvTWswQUtRSUp3TytudkJtTUFrMllXdkRoWUJSb0FBQUFBU1VWT1JLNUNZSUk9KTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNDcyYyAhaW1wb3J0YW50O1xcbn1cXG5cXG4ucGhhc2UtY29udGFpbmVyIHtcXG59XFxuXFxuLmZvb3RlciB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm90dG9tOiAwO1xcbn1cXG5cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNjAwcHgpIHtcXG4gICAgLmZvb3RlciB7XFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcbiAgICB9XFxufVxcblxcbi51bmRlci1uYXZiYXIge1xcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS10b3BiYXItaGVpZ2h0KSAhaW1wb3J0YW50O1xcbn1cXG5cXG5kaXYudW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuLmItc2lkZWJhci51bmRlci1uYXZiYXIge1xcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSk7XFxufVxcblxcbi5mb290ZXIsIC5nYW1lLWZvb3RlciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4uYnRuLXhzIHtcXG4gICAgcGFkZGluZzogLjI1cmVtIC40cmVtO1xcbiAgICBmb250LXNpemU6IC44NzVyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiAuNTtcXG4gICAgYm9yZGVyLXJhZGl1czogLjJyZW07XFxufVxcblxcbi5tb2RhbC1mdWxsc2NyZWVuIHtcXG4gICAgaGVpZ2h0OiA5MiU7XFxufVxcbi5tb2RhbC1mdWxsc2NyZWVuIC5tb2RhbC1jb250ZW50IHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4ubW9kYWwteHhsIHtcXG4gICAgd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbiAgICBtYXgtd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbn1cXG5cXG4jY2FudmFzLWNvbnRhaW5lciBjYW52YXMge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbn1cXG5cXG4ucm90YXRlIHtcXG4gICAgYW5pbWF0aW9uOiByb3RhdGlvbiAxcyBpbmZpbml0ZSBsaW5lYXI7XFxufVxcblxcbi8qKiBBTklNQVRJT05TICoqL1xcblxcbkBrZXlmcmFtZXMgcm90YXRpb24ge1xcbiAgICBmcm9tIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7XFxuICAgIH1cXG59XFxuXFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3B1YmxpYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBSUE7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxZQUFZOztJQUVaLDZNQUE2TTtJQUM3TSxvQ0FBb0M7QUFDeEM7O0FBRUE7QUFDQTs7QUFFQTtJQUNJLGVBQWU7SUFDZixTQUFTO0FBQ2I7OztBQUdBO0lBQ0k7UUFDSSxnQkFBZ0I7SUFDcEI7QUFDSjs7QUFFQTtJQUNJLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLDBDQUEwQztBQUM5Qzs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQ0FBcUM7QUFDekM7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7QUFDQTtJQUNJLFlBQVk7QUFDaEI7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxzQ0FBc0M7QUFDMUM7O0FBRUEsaUJBQWlCOztBQUVqQjtJQUNJO1FBQ0ksdUJBQXVCO0lBQzNCO0lBQ0E7UUFDSSx5QkFBeUI7SUFDN0I7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NZXJpZW5kYStPbmUmZGlzcGxheT1zd2FwJyk7XFxuQGltcG9ydCAnfmJvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAuY3NzJztcXG5AaW1wb3J0ICd+Ym9vdHN0cmFwLXZ1ZS9kaXN0L2Jvb3RzdHJhcC12dWUuY3NzJztcXG5cXG46cm9vdCB7XFxuICAgIC0tdG9wYmFyLWhlaWdodDogNDBweDtcXG59XFxuXFxuKiB7XFxuICAgIGZvbnQtZmFtaWx5OiAnTWVyaWVuZGEgT25lJywgY3Vyc2l2ZTtcXG59XFxuXFxuYm9keSB7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG5cXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWdBQUFBSUNBWUFBQURFRDc2TEFBQUFQa2xFUVZRb1UyTmtZR0F3Wm1CZ09Nc0FBU0QyY3dZR2htY3dQaU9VSWNYQXdDQ0pwQkRPaHluQTBBa3pDYVFBMlFvTWswQUtRSUp3TytudkJtTUFrMllXdkRoWUJSb0FBQUFBU1VWT1JLNUNZSUk9KTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNDcyYyAhaW1wb3J0YW50O1xcbn1cXG5cXG4ucGhhc2UtY29udGFpbmVyIHtcXG59XFxuXFxuLmZvb3RlciB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm90dG9tOiAwO1xcbn1cXG5cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNjAwcHgpIHtcXG4gICAgLmZvb3RlciB7XFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcbiAgICB9XFxufVxcblxcbi51bmRlci1uYXZiYXIge1xcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS10b3BiYXItaGVpZ2h0KSAhaW1wb3J0YW50O1xcbn1cXG5cXG5kaXYudW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuLmItc2lkZWJhci51bmRlci1uYXZiYXIge1xcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSk7XFxufVxcblxcbi5mb290ZXIsIC5nYW1lLWZvb3RlciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4uYnRuLXhzIHtcXG4gICAgcGFkZGluZzogLjI1cmVtIC40cmVtO1xcbiAgICBmb250LXNpemU6IC44NzVyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiAuNTtcXG4gICAgYm9yZGVyLXJhZGl1czogLjJyZW07XFxufVxcblxcbi5tb2RhbC1mdWxsc2NyZWVuIHtcXG4gICAgaGVpZ2h0OiA5MiU7XFxufVxcbi5tb2RhbC1mdWxsc2NyZWVuIC5tb2RhbC1jb250ZW50IHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4ubW9kYWwteHhsIHtcXG4gICAgd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbiAgICBtYXgtd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbn1cXG5cXG4jY2FudmFzLWNvbnRhaW5lciBjYW52YXMge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbn1cXG5cXG4ucm90YXRlIHtcXG4gICAgYW5pbWF0aW9uOiByb3RhdGlvbiAxcyBpbmZpbml0ZSBsaW5lYXI7XFxufVxcblxcbi8qKiBBTklNQVRJT05TICoqL1xcblxcbkBrZXlmcmFtZXMgcm90YXRpb24ge1xcbiAgICBmcm9tIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7XFxuICAgIH1cXG59XFxuXFxuXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyNjZjYTYzMTc3YmNhNmYzMzBhNzRlODNmZGM2MzE3OC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDYxZjM1NzkyOWY5ZjhkNjNkYTIwYjgxZTc0M2EwOTkucG5nXCI7IiwiZnVuY3Rpb24gd2VicGFja0VtcHR5Q29udGV4dChyZXEpIHtcblx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdHRocm93IGU7XG59XG53ZWJwYWNrRW1wdHlDb250ZXh0LmtleXMgPSAoKSA9PiAoW10pO1xud2VicGFja0VtcHR5Q29udGV4dC5yZXNvbHZlID0gd2VicGFja0VtcHR5Q29udGV4dDtcbndlYnBhY2tFbXB0eUNvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0IHN5bmMgcmVjdXJzaXZlXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7IiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IGVjc05hbWUgZnJvbSBcIi4vZWNzTmFtZS52dWVcIjtcbmltcG9ydCBlY3NOb3RlIGZyb20gXCIuL2Vjc05vdGUudnVlXCI7XG5pbXBvcnQgZWNzUG9zaXRpb24gZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlXCI7XG5pbXBvcnQgZWNzV2FsbCBmcm9tIFwiLi9lY3NXYWxsLnZ1ZVwiO1xuaW1wb3J0IGVjc0JhY2tncm91bmRJbWFnZSBmcm9tIFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXCI7XG5pbXBvcnQgZWNzUGluIGZyb20gXCIuL2Vjc1Bpbi52dWVcIjtcbmltcG9ydCBlY3NUcmFuc2Zvcm0gZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZVwiO1xuaW1wb3J0IGVjc0xpZ2h0IGZyb20gXCIuL2Vjc0xpZ2h0LnZ1ZVwiO1xuaW1wb3J0IGVjc1BsYXllciBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlXCI7XG5pbXBvcnQgZWNzRG9vciBmcm9tIFwiLi9lY3NEb29yLnZ1ZVwiO1xuaW1wb3J0IGVjc1Byb3AgZnJvbSBcIi4vZWNzUHJvcC52dWVcIjtcbmltcG9ydCBlY3NQcm9wVGVsZXBvcnQgZnJvbSBcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCJcbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBlY3NOYW1lLCBlY3NOb3RlLCBlY3NQb3NpdGlvbiwgZWNzV2FsbCwgZWNzQmFja2dyb3VuZEltYWdlLCBlY3NQaW4sIGVjc1RyYW5zZm9ybSwgZWNzTGlnaHQsIGVjc1BsYXllciwgZWNzRG9vcixcbiAgICBlY3NQcm9wLCBlY3NQcm9wVGVsZXBvcnRcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0NvbXBvbmVudFdyYXBwZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgY29tcG9uZW50ITogQ29tcG9uZW50O1xuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSkgaXNBZG1pbiE6IGJvb2xlYW47XG4gIEBWUHJvcCgpIGFsbENvbXBzPzogQXJyYXk8Q29tcG9uZW50PjtcbiAgdmlzaWJsZSA9IHRydWU7XG5cbiAgZ2V0IGNvbXBvbmVudFR5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2Vjcy0nICsgdGhpcy5jb21wb25lbnQudHlwZS5yZXBsYWNlKCdfJywgJy0nKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQge0JhY2tncm91bmRJbWFnZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRJbWFnZVN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzQmFja2dyb3VuZEltYWdlIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IEJhY2tncm91bmRJbWFnZUNvbXBvbmVudDtcbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7RG9vckNvbXBvbmVudCwgRG9vclR5cGV9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9kb29yU3lzdGVtXCI7XG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NEb29yIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IERvb3JDb21wb25lbnQ7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBpc0FkbWluITogYm9vbGVhbjtcblxuICBkb29yVHlwZTogRG9vclR5cGUgPSBEb29yVHlwZS5OT1JNQUxfUklHSFQ7XG4gIG9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgbG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LmRvb3JUeXBlICE9PSB0aGlzLmRvb3JUeXBlKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2Rvb3InLCAnZG9vclR5cGUnLCB0aGlzLmRvb3JUeXBlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Lm9wZW4gIT09IHRoaXMub3Blbikge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdkb29yJywgJ29wZW4nLCB0aGlzLm9wZW4pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb21wb25lbnQubG9ja2VkICE9PSB0aGlzLmxvY2tlZCkge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdkb29yJywgJ2xvY2tlZCcsIHRoaXMubG9ja2VkKTtcbiAgICB9XG4gIH1cblxuICBnZXQgZG9vclR5cGVOYW1lKCk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0aGlzLmRvb3JUeXBlKSB7XG4gICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9MRUZUOlxuICAgICAgICByZXR1cm4gXCJOb3JtYWxcIjtcbiAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX1JJR0hUOlxuICAgICAgICByZXR1cm4gXCJOb3JtYWwgcmlnaHRcIjtcbiAgICAgIGNhc2UgRG9vclR5cGUuUk9UQVRFOlxuICAgICAgICByZXR1cm4gXCJSb3RhdGluZ1wiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwiVW5rbm93bj8/XCJcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQuZG9vclR5cGUnKVxuICBvbkNEb29yVHlwZUNoYW5nZWQodmFsOiBEb29yVHlwZSkge1xuICAgIHRoaXMuZG9vclR5cGUgPSB2YWw7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQub3BlbicpXG4gIG9uQ09wZW5DaGFuZ2VkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMub3BlbiA9IHZhbDtcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5sb2NrZWQnKVxuICBvbkNMb2NrZWRDaGFuZ2VkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMubG9ja2VkID0gdmFsO1xuICB9XG5cbiAgQFZXYXRjaCgnZG9vclR5cGUnKVxuICBvbkRvb3JUeXBlQ2hhbmdlZCgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gIH1cblxuICBAVldhdGNoKCdvcGVuJylcbiAgb25PcGVuQ2hhbmdlZCgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gIH1cblxuICBAVldhdGNoKCdsb2NrZWQnKVxuICBvbkxvY2tlZENoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7TGlnaHRDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0xpZ2h0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IExpZ2h0Q29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBjb2xvcjogc3RyaW5nID0gJyc7XG4gIHJhbmdlOiBzdHJpbmcgPSAnJztcblxuICBvbkNoYW5nZSgpIHtcbiAgICBsZXQgYyA9IHN0cmluZzJoZXgodGhpcy5jb2xvcik7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LmNvbG9yICE9PSBjICYmIHRoaXMuY29sb3IgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2xpZ2h0JywgJ2NvbG9yJywgYyk7XG4gICAgfVxuICAgIGxldCByID0gcGFyc2VJbnQodGhpcy5yYW5nZSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LnJhbmdlICE9PSByICYmIHRoaXMucmFuZ2UgIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2xpZ2h0JywgJ3JhbmdlJywgcik7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmNvbG9yJylcbiAgb25DQ29sb3JDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5jb2xvciA9IHZhbCA9PT0gdW5kZWZpbmVkID8gJycgOiBoZXgyc3RyaW5nKHZhbCk7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQucmFuZ2UnKVxuICBvbkNSYW5nZUNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnJhbmdlID0gKHZhbCA/PyAnJykgKyAnJztcbiAgfVxufVxuIiwiXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge05hbWVDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NOYW1lIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IE5hbWVDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIG5hbWU6IHN0cmluZyA9ICcnO1xuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5uYW1lJylcbiAgb25DTmFtZUNoYW5nZWQodmFsOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLm5hbWUgPSB2YWwgPz8gJyc7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ25hbWUnLCAnbmFtZScsIHRoaXMubmFtZSwgdGhpcy5jb21wb25lbnQubXVsdGlJZCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge05vdGVDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NOb3RlIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IE5vdGVDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIG5vdGU6IHN0cmluZyA9ICcnO1xuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5ub3RlJylcbiAgb25DTm90ZUNoYW5nZWQodmFsOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5vdGUgPSB2YWw7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ25vdGUnLCAnbm90ZScsIHRoaXMubm90ZSwgdGhpcy5jb21wb25lbnQubXVsdGlJZCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UGluQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGluU3lzdGVtXCI7XG5pbXBvcnQgaGV4MnN0cmluZyA9IFBJWEkudXRpbHMuaGV4MnN0cmluZztcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUGluIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBpbkNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgY29sb3I6IHN0cmluZyA9ICcnO1xuICBsYWJlbDogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IGMgPSBzdHJpbmcyaGV4KHRoaXMuY29sb3IpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5jb2xvciAhPT0gYyAmJiB0aGlzLmNvbG9yICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwaW4nLCAnY29sb3InLCBjKTtcbiAgICB9XG4gICAgbGV0IGxhYmVsOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmxhYmVsO1xuICAgIGlmICghbGFiZWwpIGxhYmVsID0gdW5kZWZpbmVkO1xuICAgIGlmIChsYWJlbCAhPT0gdGhpcy5jb21wb25lbnQubGFiZWwpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGluJywgJ2xhYmVsJywgbGFiZWwpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5jb2xvcicpXG4gIG9uQ0NvbG9yQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuY29sb3IgPSB2YWwgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBoZXgyc3RyaW5nKHZhbCk7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubGFiZWwnKVxuICBvbkNMYWJlbENoYW5nZWQodmFsOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmxhYmVsID0gdmFsID8/IFwiXCI7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UGxheWVyQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGxheWVyU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NQbGF5ZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogUGxheWVyQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBuaWdodFZpc2lvbjogYm9vbGVhbiA9IGZhbHNlO1xuICByYW5nZTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Lm5pZ2h0VmlzaW9uICE9PSB0aGlzLm5pZ2h0VmlzaW9uKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3BsYXllcicsICduaWdodFZpc2lvbicsIHRoaXMubmlnaHRWaXNpb24pO1xuICAgIH1cbiAgICBsZXQgYyA9IHBhcnNlSW50KHRoaXMucmFuZ2UpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5yYW5nZSAhPT0gYyAmJiB0aGlzLnJhbmdlICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwbGF5ZXInLCAncmFuZ2UnLCBjKTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubmlnaHRWaXNpb24nKVxuICBvbkNOaWdodFZpc2lvbkNoYW5nZWQodmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5uaWdodFZpc2lvbiA9IHZhbDtcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5yYW5nZScpXG4gIG9uQ1JhbmdlQ2hhbmdlZCh2YWw6IG51bWJlcikge1xuICAgIHRoaXMucmFuZ2UgPSB2YWwgKyAnJztcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Bvc2l0aW9uQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUG9zaXRpb24gZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogUG9zaXRpb25Db21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIHg6IHN0cmluZyA9ICcnO1xuICB5OiBzdHJpbmcgPSAnJztcblxuICBvbkNoYW5nZSgpIHtcbiAgICBsZXQgeCA9IHBhcnNlRmxvYXQodGhpcy54KTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQueCAhPT0geCAmJiB0aGlzLnggIT09ICcnKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3Bvc2l0aW9uJywgJ3gnLCB4KTtcbiAgICB9XG4gICAgbGV0IHkgPSBwYXJzZUZsb2F0KHRoaXMueSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LnkgIT09IHkgJiYgdGhpcy55ICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwb3NpdGlvbicsICd5JywgeSk7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LngnKVxuICBvbkN4Q2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMueCA9ICh2YWwgPz8gJycpICsgJyc7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQueScpXG4gIG9uQ3lDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy55ID0gKHZhbCA/PyAnJykgKyAnJztcbiAgfVxufVxuIiwiXG5cblxuXG5pbXBvcnQge1Z1ZSwgVkNvbXBvbmVudCwgVlByb3B9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UHJvcENvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3Byb3BTeXN0ZW1cIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0JhY2tncm91bmRJbWFnZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBjb21wb25lbnQhOiBQcm9wQ29tcG9uZW50O1xufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQcm9wVGVsZXBvcnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wcm9wU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NQcm9wVGVsZXBvcnQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogUHJvcFRlbGVwb3J0O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBmb2N1c1RhcmdldCgpIHtcbiAgICBjb25zb2xlLndhcm4oXCJUT0RPOiBmb2N1cyB0YXJnZXRcIilcbiAgfVxuXG4gIGxpbmsoKSB7XG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdAJywgJ3Byb3BfdGVsZXBvcnRfbGluaycsIHRoaXMuY29tcG9uZW50LmVudGl0eSk7XG4gIH1cblxuICB1c2UoKSB7XG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdAJywgJ3Byb3BfdXNlJywgdGhpcy5jb21wb25lbnQuZW50aXR5KTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7REVHX1RPX1JBRCwgUkFEX1RPX0RFR30gZnJvbSBcInBpeGkuanNcIjtcblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7VHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzVHJhbnNmb3JtIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFRyYW5zZm9ybUNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgcm90YXRpb246IHN0cmluZyA9ICcnO1xuICBzY2FsZTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMucm90YXRpb24gIT09ICcnKSB7XG4gICAgICBsZXQgciA9IE1hdGgubWluKE1hdGgubWF4KHBhcnNlRmxvYXQodGhpcy5yb3RhdGlvbiksIDApLCAzNjApO1xuICAgICAgaWYgKHRoaXMuY29tcG9uZW50LnJvdGF0aW9uICE9PSByKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAndHJhbnNmb3JtJywgJ3JvdGF0aW9uJywgciAqIERFR19UT19SQUQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zY2FsZSAhPT0gJycpIHtcbiAgICAgIGxldCBzID0gcGFyc2VGbG9hdCh0aGlzLnNjYWxlKTtcbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5zY2FsZSAhPT0gcykge1xuICAgICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3RyYW5zZm9ybScsICdzY2FsZScsIHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5yb3RhdGlvbicpXG4gIG9uQ1JvdGF0aW9uQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucm90YXRpb24gPSAodmFsID8/IDApICogUkFEX1RPX0RFRyArICcnO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnNjYWxlJylcbiAgb25DU2NhbGVDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zY2FsZSA9ICh2YWwgPz8gMCkgKyAnJztcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtXYWxsQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvd2FsbFN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzV2FsbCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBXYWxsQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICB3OiBzdHJpbmcgPSAnJztcbiAgaDogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IHcgPSBwYXJzZUZsb2F0KHRoaXMudyk7XG4gICAgbGV0IGggPSBwYXJzZUZsb2F0KHRoaXMuaCk7XG4gICAgaWYgKCh0aGlzLmNvbXBvbmVudC52ZWNbMF0gIT09IHcgJiYgdGhpcy53ICE9PSAnJykgfHwgKHRoaXMuY29tcG9uZW50LnZlY1sxXSAhPT0gaCAmJiB0aGlzLmggIT09ICcnKSkge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICd3YWxsJywgJ3ZlYycsIFt3LCBoXSk7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnZlYycpXG4gIG9uQ3hDaGFuZ2VkKHZlYzogW251bWJlciwgbnVtYmVyXSB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh2ZWMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy53ID0gJyc7XG4gICAgICB0aGlzLmggPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53ID0gdmVjWzBdICsgJyc7XG4gICAgICB0aGlzLmggPSB2ZWNbMV0gKyAnJztcbiAgICB9XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgRWNzQ29tcG9uZW50V3JhcHBlciBmcm9tIFwiLi9jb21wV3JhcHBlci52dWVcIjtcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0NvbXBvbmVudCwgVHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFY3NDb21wb25lbnRXcmFwcGVyLFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5SW5zcGVjdCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBlbnRpdHkhOiB7XG4gICAgaGlkZGVuOiBib29sZWFuLFxuICAgIGlkczogQXJyYXk8bnVtYmVyPlxuICB9O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnRzITogQXJyYXk8Q29tcG9uZW50PjtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIHNlbGVjdGVkQWRkYWJsZSE6IEFycmF5PHtuYW1lOiBzdHJpbmd9PjtcblxuICBnZXQgcmVuZGVyZWRDb21wb25lbnRzKCk6IEFycmF5PENvbXBvbmVudD4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuZmlsdGVyKChjOiBhbnkpID0+IGMuX3NhdmUgJiYgYy5fc3luYyk7XG4gIH1cblxuICBnZXQgYWxsQ29tcG9uZW50cygpOiB7W2tleTogc3RyaW5nXTogQ29tcG9uZW50fSB7XG4gICAgbGV0IG0gPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgYyBvZiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgIG1bYy50eXBlXSA9IGM7XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9XG5cbiAgZW1pdFNwZWNpYWwobmFtZTogc3RyaW5nLCBwYXI6IHVua25vd24pIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJyQnLCBuYW1lLCBwYXIpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcblxuaW1wb3J0IEVudGl0eUluc3BlY3QgZnJvbSBcIi4uL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQge0FkZENvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0RFRkFVTFRfTElHSFRfU0VUVElOR1MsIExpZ2h0U2V0dGluZ3MsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1NlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uLy4uL2Vjcy90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtUb29sUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCBHcmlkRWRpdCBmcm9tIFwiLi9ncmlkRWRpdC52dWVcIjtcbmltcG9ydCB7QkFDS0dST1VORF9MQVlFUl9UWVBFLCBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW1cIjtcblxuZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7XG4gIGNvbXBvbmVudHM6IHtHcmlkRWRpdCwgRW50aXR5SW5zcGVjdH0sXG4gIHByb3BzOiBbJ3BoYXNlJywgJ3dvcmxkJywgJ2lzQWRtaW4nXSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbDogJ2luc3BlY3QnLFxuICAgICAgY29ubmVjdGlvbkNvdW50OiAwLFxuICAgICAgY29ubmVjdGlvbkJ1ZmZlcmluZzogZmFsc2UsXG4gICAgICBsaWdodDoge1xuICAgICAgICBhbWJpZW50TGlnaHQ6ICcjMDAwMDAwJyxcbiAgICAgICAgbmVlZHNMaWdodDogdHJ1ZSxcbiAgICAgICAgcm9sZXBsYXlWaXNpb246IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwMDAwMCdcbiAgICAgIH0sXG4gICAgICBzZWxlY3RlZENvbXBvbmVudHM6IG5ldyBBcnJheTxDb21wb25lbnQ+KCksXG4gICAgICBzZWxlY3RlZEVudGl0eU9wdHM6IHt9LFxuICAgICAgc2VsZWN0ZWRBZGRhYmxlOiBuZXcgQXJyYXk8QWRkQ29tcG9uZW50PigpLFxuICAgICAgYmFja2dyb3VuZExvY2tlZDogdHJ1ZSxcbiAgICAgIGNhblVuZG86IGZhbHNlLFxuICAgICAgY2FuUmVkbzogZmFsc2UsXG4gICAgfTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uRWNzUHJvcGVydHlDaGFuZ2UodHlwZTogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogYW55LCBtdWx0aUlkOiBudW1iZXIpIHtcbiAgICAgIGxldCBzZWxlY3Rpb25TeXMgPSB0aGlzLnBoYXNlLndvcmxkLnN5c3RlbXMuZ2V0KCdzZWxlY3Rpb24nKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG4gICAgICBzZWxlY3Rpb25TeXMuc2V0UHJvcGVydHkodHlwZSwgcHJvcGVydHksIHZhbHVlLCBtdWx0aUlkKTtcbiAgICB9LFxuXG4gICAgb25BbWJpZW50TGlnaHRDaGFuZ2UoKSB7XG4gICAgICB0aGlzLnBoYXNlLndvcmxkLmFkZFJlc291cmNlKHtcbiAgICAgICAgdHlwZTogJ2xpZ2h0X3NldHRpbmdzJyxcbiAgICAgICAgYW1iaWVudExpZ2h0OiBzdHJpbmcyaGV4KHRoaXMubGlnaHQuYW1iaWVudExpZ2h0KSxcbiAgICAgICAgbmVlZHNMaWdodDogdGhpcy5saWdodC5uZWVkc0xpZ2h0LFxuICAgICAgICBiYWNrZ3JvdW5kOiBzdHJpbmcyaGV4KHRoaXMubGlnaHQuYmFja2dyb3VuZCksXG4gICAgICB9IGFzIExpZ2h0U2V0dGluZ3MsICd1cGRhdGUnKTtcbiAgICB9LFxuICAgIG9uTGlnaHRTZXR0aW5nc1Jlc2V0KCkge1xuICAgICAgdGhpcy5waGFzZS53b3JsZC5hZGRSZXNvdXJjZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdHlwZTogJ2xpZ2h0X3NldHRpbmdzJyxcbiAgICAgIH0sIERFRkFVTFRfTElHSFRfU0VUVElOR1MpIGFzIExpZ2h0U2V0dGluZ3MsICd1cGRhdGUnKTtcbiAgICAgIHRoaXMucmVsb2FkTGlnaHQoKTtcbiAgICB9LFxuICAgIHJlbG9hZExpZ2h0KCkge1xuICAgICAgbGV0IGxpZ2h0ID0gdGhpcy5waGFzZS53b3JsZC5nZXRSZXNvdXJjZSgnbGlnaHRfc2V0dGluZ3MnKSBhcyBMaWdodFNldHRpbmdzO1xuICAgICAgdGhpcy5saWdodC5hbWJpZW50TGlnaHQgPSBoZXgyc3RyaW5nKGxpZ2h0LmFtYmllbnRMaWdodCk7XG4gICAgICB0aGlzLmxpZ2h0Lm5lZWRzTGlnaHQgPSBsaWdodC5uZWVkc0xpZ2h0O1xuICAgICAgdGhpcy5saWdodC5iYWNrZ3JvdW5kID0gaGV4MnN0cmluZyhsaWdodC5iYWNrZ3JvdW5kKTtcbiAgICAgIGxldCBsbGlnaHQgPSB0aGlzLnBoYXNlLndvcmxkLmdldFJlc291cmNlKCdsb2NhbF9saWdodF9zZXR0aW5ncycpIGFzIExvY2FsTGlnaHRTZXR0aW5ncztcbiAgICAgIHRoaXMubGlnaHQucm9sZXBsYXlWaXNpb24gPSBsbGlnaHQudmlzaW9uVHlwZSA9PT0gJ3JwJztcbiAgICB9LFxuICAgIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgaWYgKHJlcy50eXBlID09PSAnbGlnaHRfc2V0dGluZ3MnIHx8IHJlcy50eXBlID09PSAnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSB0aGlzLnJlbG9hZExpZ2h0KCk7XG4gICAgICBlbHNlIGlmIChyZXMudHlwZSA9PT0gJ3Rvb2wnKSB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XG4gICAgICBpZiAocmVzLnR5cGUgPT09IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkge1xuICAgICAgICB0aGlzLmJhY2tncm91bmRMb2NrZWQgPSAocmVzIGFzIEJhY2tncm91bmRMYXllclJlc291cmNlKS5sb2NrZWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICB1bmRvKCkge1xuICAgICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF91bmRvJyk7XG4gICAgfSxcbiAgICByZWRvKCkge1xuICAgICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9yZWRvJyk7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgICdsaWdodC5yb2xlcGxheVZpc2lvbic6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCB2aXNpb25UeXBlID0gdGhpcy5saWdodC5yb2xlcGxheVZpc2lvbiA/ICdycCcgOiAnZG0nO1xuXG4gICAgICB0aGlzLnBoYXNlLndvcmxkLmVkaXRSZXNvdXJjZSgnbG9jYWxfbGlnaHRfc2V0dGluZ3MnLCB7dmlzaW9uVHlwZX0pO1xuICAgIH0sXG4gICAgdG9vbDogZnVuY3Rpb24gKHRvb2w6IFRvb2wpIHtcbiAgICAgIHRoaXMucGhhc2Uud29ybGQuZWRpdFJlc291cmNlKCd0b29sJywge3Rvb2x9KTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgLy90aGlzLndvcmxkID0gdGhpcy5waGFzZS53b3JsZDtcbiAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XG5cbiAgICB0aGlzLnBoYXNlLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkKTtcbiAgICBsZXQgeCA9ICh0aGlzLiRyZWZzLnJhZGlvaW5zcGVjdCBhcyBWdWUpO1xuICAgIHguJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmICghKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnRvb2wgPT09ICdpbnNwZWN0Jykge1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdsYXllcl9sb2NrX3RvZ2dsZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAvKnVubW91bnRlZCgpIHsvLyBUT0RPOiB2dWUzXG4gICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQpO1xuICB9LCovXG59KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0dyaWRUeXBlfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQge1Jlc291cmNlRWRpdENvbW1hbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL3Jlc291cmNlRWRpdENvbW1hbmRcIjtcblxudHlwZSBSZW5kZXJHcmlkT3B0cyA9IHtcbiAgdHlwZTogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG4gIG9mZlg6IG51bWJlcjtcbiAgb2ZmWTogbnVtYmVyO1xuICBjb2xvcjogc3RyaW5nO1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIHRoaWNrOiBudW1iZXI7XG59XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkRWRpdCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgZ3JpZDogUmVuZGVyR3JpZE9wdHMgPSB7XG4gICAgdHlwZTogXCJub25lXCIsXG4gICAgc2l6ZTogMSxcbiAgICBvZmZYOiAwLFxuICAgIG9mZlk6IDAsXG4gICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgdGhpY2s6IDIsXG4gIH07XG4gIGRpc2FibGVXYXRjaFNhdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICByZWxvYWRHcmlkKCkge1xuICAgIHRoaXMuZGlzYWJsZVdhdGNoU2F2ZSA9IHRydWU7XG5cbiAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2dyaWQnKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgc3dpdGNoIChncmlkLmdyaWRUeXBlKSB7XG4gICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046XG4gICAgICAgIHRoaXMuZ3JpZC50eXBlID0gJ2hleCdcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdyaWRUeXBlLlNRVUFSRTpcbiAgICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnc3F1YXJlJ1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoIWdyaWQudmlzaWJsZSkge1xuICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnbm9uZSc7XG4gICAgfVxuICAgIGxldCBvcHRzID0gZ3JpZDtcbiAgICB0aGlzLmdyaWQuc2l6ZSA9IG9wdHMuc2l6ZTtcbiAgICB0aGlzLmdyaWQub2ZmWCA9IG9wdHMub2ZmWDtcbiAgICB0aGlzLmdyaWQub2ZmWSA9IG9wdHMub2ZmWTtcbiAgICB0aGlzLmdyaWQuY29sb3IgPSBoZXgyc3RyaW5nKG9wdHMuY29sb3IpO1xuICAgIHRoaXMuZ3JpZC5vcGFjaXR5ID0gb3B0cy5vcGFjaXR5O1xuICAgIHRoaXMuZ3JpZC50aGljayA9IG9wdHMudGhpY2s7XG5cbiAgICB0aGlzLmRpc2FibGVXYXRjaFNhdmUgPSBmYWxzZTtcbiAgfVxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5yZWxvYWRHcmlkKCk7XG5cbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIHVubW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICBpZiAocmVzLnR5cGUgPT09ICdncmlkJykgdGhpcy5yZWxvYWRHcmlkKCk7XG4gIH1cblxuICBAVldhdGNoKCdncmlkJywgeyBkZWVwOiB0cnVlIH0pXG4gIG9uR3JpZENoYW5nZShuZXdHcmlkOiBhbnkpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlV2F0Y2hTYXZlKSByZXR1cm47XG4gICAgbmV3R3JpZC5vZmZYID0gTWF0aC5taW4obmV3R3JpZC5vZmZYLCBuZXdHcmlkLnNpemUpO1xuICAgIG5ld0dyaWQub2ZmWSA9IE1hdGgubWluKG5ld0dyaWQub2ZmWSwgbmV3R3JpZC5zaXplKTtcblxuICAgIGxldCB0eXBlO1xuICAgIHN3aXRjaCAobmV3R3JpZC50eXBlKSB7XG4gICAgICBjYXNlICdub25lJzpcbiAgICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICB0eXBlID0gR3JpZFR5cGUuSEVYQUdPTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzcXVhcmUnOlxuICAgICAgICB0eXBlID0gR3JpZFR5cGUuU1FVQVJFO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IGNtZCA9IHtcbiAgICAgIGtpbmQ6ICdyZWRpdCcsXG4gICAgICBhZGQ6IFtdLCByZW1vdmU6IFtdLFxuICAgICAgZWRpdDoge30sXG4gICAgfSBhcyBSZXNvdXJjZUVkaXRDb21tYW5kO1xuICAgIGlmICh0eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNtZC5lZGl0WydncmlkJ10gPSB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGdyaWRUeXBlOiB0eXBlLFxuICAgICAgICBzaXplOiBuZXdHcmlkLnNpemUsXG4gICAgICAgIG9mZlg6IG5ld0dyaWQub2ZmWCxcbiAgICAgICAgb2ZmWTogbmV3R3JpZC5vZmZZLFxuICAgICAgICBjb2xvcjogc3RyaW5nMmhleChuZXdHcmlkLmNvbG9yKSxcbiAgICAgICAgb3BhY2l0eTogcGFyc2VGbG9hdChuZXdHcmlkLm9wYWNpdHkpLFxuICAgICAgICB0aGljazogbmV3R3JpZC50aGljayxcbiAgICAgIH0gYXMgR3JpZFJlc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbWQuZWRpdFsnZ3JpZCddID0ge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfbG9nJywgY21kKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBGb290ZXJDb21wb25lbnQgZnJvbSBcIi4uL2Zvb3Rlci52dWVcIjtcbmltcG9ydCBNYXBJbnB1dCBmcm9tIFwiLi9tYXBJbnB1dC52dWVcIjtcblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZ1ZSwgUGhhc2VWdWUsIFZXYXRjaCwgVlJlZn0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xuaW1wb3J0IHtCTW9kYWx9IGZyb20gXCJib290c3RyYXAtdnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czogeyBNYXBJbnB1dCwgRm9vdGVyQ29tcG9uZW50IH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lQ29tcG9uZW50IGV4dGVuZHMgVnVlIGltcGxlbWVudHMgUGhhc2VWdWUge1xuICBAVlJlZignbWFwLWxvYWQtbW9kYWwnKSByZWFkb25seSBtYXBMb2FkTW9kYWwhOiBCTW9kYWw7XG5cbiAgZmlsZTogYW55ID0gbnVsbDtcbiAgcGVuZGluZ09wOiBzdHJpbmcgPSBcIlwiO1xuICBldmVudEVtaXR0ZXIhOiBFdmVudEVtaXR0ZXI7XG5cbiAgb25DcmVhdGVNYXAoKSB7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImNyZWF0ZV9tYXBcIik7XG4gIH1cblxuICBvbkVkaXRNYXAoKSB7XG4gICAgdGhpcy5wZW5kaW5nT3AgPSAnZWRpdCc7XG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuc2hvdygpO1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJlZGl0X21hcFwiKTtcbiAgfVxuXG4gIG1hcExvYWRDYW5jZWwoKSB7XG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuaGlkZSgpO1xuICB9XG5cbiAgQFZXYXRjaCgnZmlsZScpXG4gIG9uRmlsZUNoYW5nZWQodmFsOiBhbnkpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKFwiRmlsZSBkcm9wcGVkLCBsb2FkaW5nOiBcIiArIHRoaXMucGVuZGluZ09wKTtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHRoaXMucGVuZGluZ09wLCB0aGlzLmZpbGUpO1xuICAgIHRoaXMuZmlsZSA9IG51bGw7XG4gICAgdGhpcy5tYXBMb2FkQ2FuY2VsKCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7VkNvbXBvbmVudH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5jb25zdCBMT0FESU5HX1BIUkFTRVMgPSBbXG4gIFwiUGVyc3VhZGluZyBkcmFnb25zIHRvIGNvb3BlcmF0ZS4uLlwiLFxuICBcIkEgRHdhcmYsIGFuIEVsZiBhbmQgYSBEcmFnb25ib3JkIGVudGVyIGEgdGF2ZXJuLi4uIFxcXCJXZSdyZSBsb29raW5nIGZvciBhIHF1ZXN0XFxcIlwiLFxuICBcIkFuIGFuY2llbnQgbGVnZW5kIHRlbGxzIHRoYXQgaWYgeW91IGluc3VsdCBhIGRyYWdvbiB0byBleGhhdXN0aW9uLi4uIHRoZXknbGwgZWF0IHlvdSBhbnl3YXlzXCIsXG4gIFwiUmVjaGFyZ2luZyBzcGVsbCBzbG90cy4uLlwiLFxuICBcIlJvbGwgYSBDaGFyaXNtYSBzYXZpbmcgdGhyb3cuLi5cIixcbiAgXCJMb25nIHJlc3QgaW4gcHJvZ3Jlc3MuLi5cIixcbiAgXCJGaXR0aW5nIG91dCB0aGUgZ29ibGluIGFybXkuLi5cIixcbiAgXCJUaGUgbGFzdCBib3NzIHlvdSBraWxsZWQgbWV0IGEgMjB0aCBsZXZlbCBjaGllcmljLi4uIFRoZSByZXN0IGlzIHVwIHRvIHlvdSEgOylcIixcbiAgXCJUaGlzIG1hcCBvbmx5IGNvc3RzIDI1Z3AhXCIsXG4gIFwiU29ycnksIHlvdSdkIGJldHRlciBjcmVhdGUgYSBuZXcgY2hhcmFjdGVyIHNoZWV0XCIsXG5dO1xuXG5mdW5jdGlvbiByYW5kb21NZXgoKSB7XG4gIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBMT0FESU5HX1BIUkFTRVMubGVuZ3RoKTtcbiAgcmV0dXJuIExPQURJTkdfUEhSQVNFU1tpXTtcbn1cblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmcgZXh0ZW5kcyBWdWUge1xuICBtZXNzYWdlID0gcmFuZG9tTWV4KCk7XG59XG5cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgJ3BpeGktbGF5ZXJzJ1xuXG5leHBvcnQgZGVmYXVsdCBQSVhJOyIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcblxuaW1wb3J0IFByb3BzSW1hZ2UgZnJvbSBcIlB1YmxpYy9pbWFnZXMvcHJvcHMucG5nXCI7XG5pbXBvcnQgUHJvcHNTcHJpdGVzaGVldCBmcm9tIFwiUHVibGljL3Nwcml0ZXNoZWV0cy9wcm9wcy5qc29uXCI7XG5cbmltcG9ydCBCYXNlVGV4dHVyZSA9IFBJWEkuQmFzZVRleHR1cmU7XG5pbXBvcnQgSW1hZ2VSZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2U7XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTcHJpdGVzaGVldChsb2FkZXI6IFBJWEkuTG9hZGVyLCBuYW1lOiBzdHJpbmcsIGltZ1VybDogc3RyaW5nLCBkYXRhOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltTcHJpdGVzaGVldF0gTG9hZGluZzogXCIgKyBuYW1lKTtcbiAgICAgICAgY29uc3QgaW1nRWxtID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZ0VsbS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICBpbWdFbG0ub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IEltYWdlUmVzb3VyY2UoaW1nRWxtKSkpO1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlc2hlZXQgPSBuZXcgUElYSS5TcHJpdGVzaGVldCh0ZXgsIGRhdGEpO1xuICAgICAgICAgICAgbG9hZGVyLnJlc291cmNlc1tuYW1lXSA9IG5ldyAoUElYSS5Mb2FkZXJSZXNvdXJjZSBhcyBhbnkpKG5hbWUsIFwiXCIpO1xuICAgICAgICAgICAgbG9hZGVyLnJlc291cmNlc1tuYW1lXS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1Nwcml0ZXNoZWV0XSBMb2FkZWQ6IFwiICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzcHJpdGVzaGVldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nRWxtLnNyYyA9IGltZ1VybDsgLy8gV2hlbiB0aGUgbGlzdGVuZXJzIGFyZSBzZXQsIHdlIGNhbiBmaW5hbGx5IHN0YXJ0IGRvd25sb2FkaW5nIHRoZSBpbWFnZS5cbiAgICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRBc3NldHMoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgbG9hZFNwcml0ZXNoZWV0KGxvYWRlciwgXCJwcm9wc1wiLCBQcm9wc0ltYWdlLCBQcm9wc1Nwcml0ZXNoZWV0KSxcbiAgICBdKTtcbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi93b3JsZFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZSwgTXVsdGlFY3NTdG9yYWdlLCBTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZW50aXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXVsdGlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIG11bHRpSWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaWRlYWJsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY2xpZW50VmlzaWJsZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OX1RZUEUgPSBcInBvc2l0aW9uXCI7XG5leHBvcnQgdHlwZSBQT1NJVElPTl9UWVBFID0gdHlwZW9mIFBPU0lUSU9OX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQT1NJVElPTl9UWVBFO1xuXG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFRSQU5TRk9STV9UWVBFID0gXCJ0cmFuc2Zvcm1cIjtcbmV4cG9ydCB0eXBlIFRSQU5TRk9STV9UWVBFID0gdHlwZW9mIFRSQU5TRk9STV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2Zvcm1Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFO1xuXG4gICAgc2NhbGU6IG51bWJlcjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgTkFNRV9UWVBFID0gXCJuYW1lXCI7XG5leHBvcnQgdHlwZSBOQU1FX1RZUEUgPSB0eXBlb2YgTkFNRV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBOYW1lQ29tcG9uZW50IGV4dGVuZHMgSGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50IHtcbiAgICB0eXBlOiBOQU1FX1RZUEU7XG5cbiAgICBuYW1lOiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IGNvbnN0IE5PVEVfVFlQRSA9IFwibm90ZVwiO1xuZXhwb3J0IHR5cGUgTk9URV9UWVBFID0gdHlwZW9mIE5PVEVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZUNvbXBvbmVudCBleHRlbmRzIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudCB7XG4gICAgdHlwZTogTk9URV9UWVBFO1xuXG4gICAgbm90ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgRk9MTE9XX01PVVNFX1RZUEUgPSBcImZvbGxvd19tb3VzZVwiO1xuZXhwb3J0IHR5cGUgRk9MTE9XX01PVVNFX1RZUEUgPSB0eXBlb2YgRk9MTE9XX01PVVNFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEZvbGxvd01vdXNlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRTtcbn1cblxuZXhwb3J0IGNvbnN0IEhPU1RfSElEREVOX1RZUEUgPSBcImhvc3RfaGlkZGVuXCI7XG5leHBvcnQgdHlwZSBIT1NUX0hJRERFTl9UWVBFID0gdHlwZW9mIEhPU1RfSElEREVOX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIaWRkZW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckNvbW1vblN0b3JhZ2UoZWNzOiBXb3JsZCkge1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBTaW5nbGVFY3NTdG9yYWdlKFBPU0lUSU9OX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgU2luZ2xlRWNzU3RvcmFnZShUUkFOU0ZPUk1fVFlQRSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBNdWx0aUVjc1N0b3JhZ2UoTkFNRV9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IE11bHRpRWNzU3RvcmFnZShOT1RFX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgRmxhZ0Vjc1N0b3JhZ2UoRk9MTE9XX01PVVNFX1RZUEUsIGZhbHNlLCBmYWxzZSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBGbGFnRWNzU3RvcmFnZShIT1NUX0hJRERFTl9UWVBFLCBmYWxzZSwgZmFsc2UpKTtcbn1cbiIsImltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudChjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2VudGl0eScgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn0iLCJpbXBvcnQge0FhYmJ9IGZyb20gXCIuLi9nZW9tZXRyeS9hYWJiXCI7XG5cbmV4cG9ydCBlbnVtIEdlb21lcnR5UXVlcnlUeXBlIHtcbiAgICBQT0lOVCwgQUFCQixcbn1cblxuZXhwb3J0IGNsYXNzIFF1ZXJ5SGl0RXZlbnQge1xuICAgIHJlYWRvbmx5IHR5cGU6IEdlb21lcnR5UXVlcnlUeXBlO1xuICAgIHJlYWRvbmx5IG11bHRpOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGFhYmI6IEFhYmI7Ly8gSWYgaXQncyBhIHBvaW50IG1pblggPSBtYXhYICYmIG1pblkgPSBtYXhZXG4gICAgcmVhZG9ubHkgZGF0YTogUElYSS5JUG9pbnREYXRhIHwgQWFiYjtcblxuICAgIGhpdHMgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcih0eXBlOiBHZW9tZXJ0eVF1ZXJ5VHlwZSwgbXVsdGk6IGJvb2xlYW4sIGFhYmI6IEFhYmIsIGRhdGE/OiBQSVhJLklQb2ludERhdGEpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5tdWx0aSA9IG11bHRpO1xuICAgICAgICB0aGlzLmFhYmIgPSBhYWJiO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IGFhYmI7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29udGludWUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpIHx8IHRoaXMuaGl0cy5zaXplID09PSAwO1xuICAgIH1cblxuICAgIGFkZEhpdChlbnRpdHk6IG51bWJlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQ29udGludWUoKSkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5oaXRzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICBsZXQgb2xkUHJpb3IgPSB0aGlzLmhpdHMuZ2V0KGVudGl0eSkhO1xuICAgICAgICAgICAgaWYgKG9sZFByaW9yID49IHByaW9yaXR5KSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXRzLnNldChlbnRpdHksIHByaW9yaXR5KTtcbiAgICB9XG5cbiAgICBnZXRTb3J0ZWQoKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5oaXRzLmVudHJpZXMoKV0uc29ydCh4ID0+IC14WzFdKS5tYXAoeCA9PiB4WzBdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcXVlcnlQb2ludChwb2ludDogUElYSS5JUG9pbnREYXRhLCBtdWx0aTogYm9vbGVhbik6IFF1ZXJ5SGl0RXZlbnQge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SGl0RXZlbnQoR2VvbWVydHlRdWVyeVR5cGUuUE9JTlQsIG11bHRpLCBuZXcgQWFiYihwb2ludC54LCBwb2ludC55LCBwb2ludC54LCBwb2ludC55KSwgcG9pbnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVyeUFhYmIoYWFiYjogQWFiYiwgbXVsdGk6IGJvb2xlYW4pOiBRdWVyeUhpdEV2ZW50IHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeUhpdEV2ZW50KEdlb21lcnR5UXVlcnlUeXBlLkFBQkIsIG11bHRpLCBhYWJiKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7R3JpZE9wdGlvbnN9IGZyb20gXCIuLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi9zeXN0ZW1zL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7SGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uL2dlb21ldHJ5L2FhYmJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIF9zYXZlOiBib29sZWFuO1xuICAgIF9zeW5jOiBib29sZWFuO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2UsIEdyaWRPcHRpb25zIHtcbiAgICB0eXBlOiBHUklEX1RZUEU7XG4gICAgX3NhdmU6IHRydWU7XG4gICAgX3N5bmM6IHRydWU7XG59XG5cblxuXG5leHBvcnQgY29uc3QgUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUgPSBcInJlY3Rhbmd1bGFyX3NlbGVjdGlvblwiO1xuZXhwb3J0IHR5cGUgUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUgPSB0eXBlb2YgUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEU7XG4gICAgYWFiYjogQWFiYjtcbiAgICBfc2F2ZTogZmFsc2U7XG4gICAgX3N5bmM6IGZhbHNlO1xufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi93b3JsZFwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVPYmoob2JqOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAnZW50aXR5JyB8fCBuYW1lID09PSAndHlwZScpIGNvbnRpbnVlO1xuICAgICAgICByZXNbbmFtZV0gPSAob2JqIGFzIGFueSlbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIGdldEZpcnN0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBtdWx0aUlkPzogbnVtYmVyKTogQyB8IHVuZGVmaW5lZDtcblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Qz5cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQ7XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQ7XG5cbiAgICB1bnJlZ2lzdGVyQWxsT2YoZW50aXR5OiBudW1iZXIpOiB2b2lkO1xuXG4gICAgc2VyaWFsaXplKCk6IGFueTtcblxuICAgIHNlcmlhbGl6ZUNsaWVudChzaG91bGRJZ25vcmU6IChlbnRpdHk6IG51bWJlcikgPT4gYm9vbGVhbik6IGFueTtcblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIHJhdzogYW55KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpRWNzU3RvcmFnZTxDIGV4dGVuZHMgTXVsdGlDb21wb25lbnQ+IGltcGxlbWVudHMgRWNzU3RvcmFnZTxDPiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgZGF0YSA9IG5ldyBNYXA8bnVtYmVyLCBBcnJheTxDPj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIG11bHRpSWQ/OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKG11bHRpSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSwgbXVsdGlJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGUgPSB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgIGlmIChlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBlWzBdO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgbXVsdGlJZDogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBjbXBzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoY21wcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBjbXAgb2YgY21wcykge1xuICAgICAgICAgICAgaWYgKGNtcC5tdWx0aUlkID09PSBtdWx0aUlkKSByZXR1cm4gY21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50cyhlbnRpdHk/OiBudW1iZXIpOiBJdGVyYWJsZTxDPiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KSB8fCBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICphbGxDb21wb25lbnRzKCk6IEdlbmVyYXRvcjxDPiB7XG4gICAgICAgIGZvciAobGV0IGNvbXBzIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNvbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudC5tdWx0aUlkID49IDApIHsvLyBQcmUtYXNzaWduZWQgbXVsdGktaWRcbiAgICAgICAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgW2NvbXBvbmVudF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIGFycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy5tdWx0aUlkID09PSBjb21wb25lbnQubXVsdGlJZCkgdGhyb3cgJ0ludmFsaWQgcHJlLWFzc2lnbmVkIG11bHRpSWQnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFyci5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5tdWx0aUlkID0gIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgW2NvbXBvbmVudF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlkO1xuICAgICAgICAgICAgbGV0IGZvdW5kO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgubXVsdGlJZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZm91bmQpO1xuICAgICAgICAgICAgY29tcG9uZW50Lm11bHRpSWQgPSBpZDtcbiAgICAgICAgICAgIGFyci5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQge1xuICAgICAgICBsZXQgYXJyID0gdGhpcy5kYXRhLmdldChjb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgaWYgKGFyciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDEgJiYgYXJyWzBdID09PSBjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5kZWxldGUoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKGFyci5pbmRleE9mKGNvbXBvbmVudCksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKToge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfSB7XG4gICAgICAgIGxldCByZXM6IHtbZW50aXR5OiBudW1iZXJdOiBhbnlbXX0gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgW2VudGl0eSwgY29tcHNdIG9mIHRoaXMuZGF0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHlSZXMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5UmVzLnB1c2goc2VyaWFsaXplT2JqKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzW2VudGl0eV0gPSBlbnRpdHlSZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiB7W2VudGl0eTogbnVtYmVyXTogYW55W119IHtcbiAgICAgICAgbGV0IHJlczoge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBbZW50aXR5LCBjb21wc10gb2YgdGhpcy5kYXRhLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHNob3VsZElnbm9yZShlbnRpdHkpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBlbnRpdHlSZXMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgaWYgKChjb21wb25lbnQgYXMgQ29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgZW50aXR5UmVzLnB1c2goc2VyaWFsaXplT2JqKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudGl0eVJlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNbZW50aXR5XSA9IGVudGl0eVJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRhdGE6IHtbZW50aXR5OiBudW1iZXJdOiBhbnlbXX0pOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGxldCBlID0gcGFyc2VJbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgZGF0YVtlbnRpdHldKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGNvbXAsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChlLCBvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2luZ2xlRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Qz4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGRhdGEgPSBuZXcgTWFwPG51bWJlciwgQz4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPEM+IHtcbiAgICAgICAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgICAgICBlbHNlIHJldHVybiBbcmVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbENvbXBvbmVudHMoKTogSXRlcmFibGVJdGVyYXRvcjxDPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsdWVzKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICdDb21wb25lbnQgb2Ygc2FtZSB0eXBlIGFscmVhZHkgcmVnaXN0ZXJlZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKToge1tlbnRpdHk6IG51bWJlcl06IGFueX0ge1xuICAgICAgICBsZXQgcmVzOiB7W2VudGl0eTogbnVtYmVyXTogYW55fSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcmVzW2NvbXAuZW50aXR5XSA9IHNlcmlhbGl6ZU9iaihjb21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZUNsaWVudChzaG91bGRJZ25vcmU6IChlbnRpdHk6IG51bWJlcikgPT4gYm9vbGVhbik6IHtbZW50aXR5OiBudW1iZXJdOiBhbnl9IHtcbiAgICAgICAgbGV0IHJlczoge1tlbnRpdHk6IG51bWJlcl06IGFueX0gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLmRhdGEudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRJZ25vcmUoY29tcC5lbnRpdHkpIHx8IChjb21wIGFzIENvbXBvbmVudCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmVzW2NvbXAuZW50aXR5XSA9IHNlcmlhbGl6ZU9iaihjb21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRhdGE6IHsgW2VudGl0eTogbnVtYmVyXTogYW55fSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgaW4gZGF0YSkge1xuICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGFbZW50aXR5XSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGVjcy5hZGRDb21wb25lbnQocGFyc2VJbnQoZW50aXR5KSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsYWdFY3NTdG9yYWdlIGltcGxlbWVudHMgRWNzU3RvcmFnZTxDb21wb25lbnQ+IHtcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc3luYzogYm9vbGVhbjtcbiAgICByZWFkb25seSBzYXZlOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBkYXRhID0gbmV3IE1hcDxudW1iZXIsIENvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQ29tcG9uZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Q29tcG9uZW50PiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsQ29tcG9uZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsQ29tcG9uZW50cygpOiBJdGVyYWJsZUl0ZXJhdG9yPENvbXBvbmVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnZhbHVlcygpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSB0aHJvdyAnQ29tcG9uZW50IG9mIHNhbWUgdHlwZSBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIGNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXJBbGxPZihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmRhdGEua2V5cygpXTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5kYXRhLmtleXMoKV0uZmlsdGVyKChlKSA9PiAhc2hvdWxkSWdub3JlKGUpKTtcbiAgICB9XG5cbiAgICBkZXNlcmlhbGl6ZShlY3M6IFdvcmxkLCBkYXRhOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YSkge1xuICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChlbnRpdHksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbUdyYXBoIHtcbiAgICBwcml2YXRlIHN5c3RlbXNCeU5hbWUgPSBuZXcgTWFwPHN0cmluZywgU3lzdGVtPigpO1xuICAgIHByaXZhdGUgc3lzdGVtcyA9IG5ldyBBcnJheTxTeXN0ZW0+KCk7XG4gICAgcHJpdmF0ZSB1bmZ1bGZpbGxlZERlcHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgIGdldChuYW1lOiBzdHJpbmcpOiBTeXN0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChuYW1lKTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihzeXN0ZW06IFN5c3RlbSk6IHZvaWQge1xuICAgICAgICBsZXQgZGVwTmFtZSA9IHN5c3RlbS5uYW1lO1xuICAgICAgICBsZXQgdW5mdWxmaWxsZWQgPSB0aGlzLnVuZnVsZmlsbGVkRGVwcy5oYXMoc3lzdGVtLm5hbWUpO1xuXG4gICAgICAgIGlmICghdW5mdWxmaWxsZWQgJiYgc3lzdGVtLnByb3ZpZGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgICAgICBkZXBOYW1lID0gZGVwO1xuICAgICAgICAgICAgICAgIHVuZnVsZmlsbGVkID0gdGhpcy51bmZ1bGZpbGxlZERlcHMuaGFzKGRlcCk7XG4gICAgICAgICAgICAgICAgaWYgKHVuZnVsZmlsbGVkKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodW5mdWxmaWxsZWQpIHtcbiAgICAgICAgICAgIHRocm93IGBTb21lIHByZXZpb3VzIHN5c3RlbSBvcHRpb25hbGx5IGRlcGVuZGVkIG9uICR7ZGVwTmFtZX0sIHBsZWFzZSBvcmRlciB5b3VyIHN5c3RlbXMgY29ycmVjdGx5YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0uZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgdGhyb3cgJ1VuZnVsZmlsbGVkIGRlcGVuZGVuY3k6ICcgKyBkZXA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN5c3RlbS5vcHRpb25hbERlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkZXAgb2Ygc3lzdGVtLm9wdGlvbmFsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy51bmZ1bGZpbGxlZERlcHMuYWRkKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3lzID0gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChzeXN0ZW0ubmFtZSk7XG4gICAgICAgIGlmIChzeXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHN5cy5uYW1lID09PSBzeXN0ZW0ubmFtZSkgdGhyb3cgJ1N5c3RlbSBuYW1lIGNvbmZsaWN0JztcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU3lzdGVtICR7c3lzdGVtLm5hbWV9IGhhcyBiZWVuIGFscmVhZHkgcmVnaXN0ZXJlZCB1bmRlciAke3N5cy5uYW1lfSwgb3ZlcnJpZGluZ2ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3lzdGVtc0J5TmFtZS5zZXQoc3lzdGVtLm5hbWUsIHN5c3RlbSk7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgICAgIGlmIChzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3Ygb2Ygc3lzdGVtLnByb3ZpZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMocHJvdikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgYFNlcnZpY2UgJHtwcm92fSBpcyBhbHJlYWR5IHByb3ZpZGVkIGJ5ICR7dGhpcy5zeXN0ZW1zQnlOYW1lLmdldChwcm92KSEubmFtZX0sIGNhbm5vdCBvdmVycmlkZSB3aXRoICR7c3lzdGVtLm5hbWV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zQnlOYW1lLnNldChwcm92LCBzeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxTeXN0ZW0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfVxuXG4gICAgZ2V0QXQoaW5kZXg6IG51bWJlcik6IFN5c3RlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbXNbaW5kZXhdO1xuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtcy5sZW5ndGg7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIFBvc2l0aW9uQ29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7XG4gICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCxcbiAgICBvdmVybGFwQWFiYlZzQWFiYixcbiAgICBvdmVybGFwQWFiYlZzTGluZSxcbiAgICBvdmVybGFwQWFiYlZzUG9pbnQsXG4gICAgb3ZlcmxhcENpcmNsZVZzQWFiYixcbiAgICBvdmVybGFwQ2lyY2xlVnNDaXJjbGUsXG4gICAgb3ZlcmxhcENpcmNsZVZzUG9seWdvbixcbiAgICBvdmVybGFwTGluZVZzQ2lyY2xlLFxuICAgIG92ZXJsYXBMaW5lVnNQb2x5Z29uLFxuICAgIG92ZXJsYXBPYmJWc1BvbHlnb24sXG4gICAgb3ZlcmxhcFBvaW50VnNDaXJjbGUsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzQ2lyY2xlLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzTGluZSxcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50LFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzUm90YXRlZFJlY3QsXG4gICAgU2VnbWVudFZzU2VnbWVudFJlc1xufSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvY29sbGlzaW9uXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge3BvbHlnb25Qb2ludEludGVyc2VjdH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7T2JifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvb2JiXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7RHluYW1pY1RyZWV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9keW5hbWljVHJlZVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7R2VvbWVydHlRdWVyeVR5cGUsIFF1ZXJ5SGl0RXZlbnR9IGZyb20gXCIuLi8uLi9pbnRlcmFjdGlvblwiO1xuaW1wb3J0IHtQbGF5ZXJWaXNpYmxlQ29tcG9uZW50fSBmcm9tIFwiLi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50REJ9IGZyb20gXCIuLi8uLi8uLi9nYW1lL3BvaW50REJcIjtcbmltcG9ydCB7R1JJRF9UWVBFLCBHcmlkU3lzdGVtfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9zZWxlY3Rpb25TeXN0ZW1cIjtcblxuZXhwb3J0IGVudW0gU2hhcGVUeXBlIHtcbiAgICBQT0lOVCwgQUFCQiwgQ0lSQ0xFLCBMSU5FLCBQT0xZR09OLCBPQkIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5QT0lOVDtcbiAgICBwb3M6IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBYWJiU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLkFBQkI7XG4gICAgZGF0YTogQWFiYjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXJjbGVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuQ0lSQ0xFO1xuICAgIHBvczogUElYSS5JUG9pbnREYXRhO1xuICAgIHJhZGl1czogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuTElORTtcbiAgICBkYXRhOiBMaW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25TaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuUE9MWUdPTjtcbiAgICBwb2x5Z29uOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYmJTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuT0JCO1xuICAgIGRhdGE6IE9iYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlUG9pbnQocG9zOiBQSVhJLklQb2ludERhdGEpOiBQb2ludFNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuUE9JTlQsXG4gICAgICAgIHBvcyxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVBYWJiKGFhYmI6IEFhYmIpOiBBYWJiU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5BQUJCLFxuICAgICAgICBkYXRhOiBhYWJiLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUNpcmNsZShjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBDaXJjbGVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkNJUkNMRSxcbiAgICAgICAgcG9zOiBjZW50ZXIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUxpbmUobGluZTogTGluZSk6IExpbmVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkxJTkUsXG4gICAgICAgIGRhdGE6IGxpbmUsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlUG9seWdvbihwb2x5Z29uOiBudW1iZXJbXSk6IFBvbHlnb25TaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPTFlHT04sXG4gICAgICAgIHBvbHlnb24sXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlT2JiKG9iYjogT2JiKTogT2JiU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5PQkIsXG4gICAgICAgIGRhdGE6IG9iYixcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVJbnRlcnNlY3Qoc2hhcGUxOiBTaGFwZSwgc2hhcGUyOiBTaGFwZSk6IGJvb2xlYW4ge1xuICAgIGlmIChzaGFwZTIudHlwZSA8IHNoYXBlMS50eXBlKSBbc2hhcGUyLCBzaGFwZTFdID0gW3NoYXBlMSwgc2hhcGUyXTtcbiAgICBsZXQgczF0ID0gc2hhcGUxLnR5cGU7XG4gICAgbGV0IHMydCA9IHNoYXBlMi50eXBlO1xuXG4gICAgLy8gVE9ETzogcG9seWdvbiB2cyBwb2x5Z29uXG4gICAgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLlBPSU5UKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBQb2ludFNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiBvdmVybGFwQWFiYlZzUG9pbnQoKHNoYXBlMiBhcyBBYWJiU2hhcGUpLmRhdGEsIHMxLnBvcyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwUG9pbnRWc0NpcmNsZShzMS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBwb2x5Z29uUG9pbnRJbnRlcnNlY3QoczEucG9zLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50KChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLnBvcyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkFBQkIpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIEFhYmJTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiBvdmVybGFwQWFiYlZzQWFiYigoc2hhcGUyIGFzIEFhYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwQ2lyY2xlVnNBYWJiKChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzLCBzMS5kYXRhKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBvdmVybGFwQWFiYlZzTGluZShzMS5kYXRhLCAoc2hhcGUyIGFzIExpbmVTaGFwZSkuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gb3ZlcmxhcE9iYlZzUG9seWdvbihPYmIuZnJvbUFhYmIoczEuZGF0YSksIChzaGFwZTIgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzQWFiYigoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuQ0lSQ0xFKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBDaXJjbGVTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTogcmV0dXJuIG92ZXJsYXBDaXJjbGVWc0NpcmNsZSgoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnJhZGl1cywgczEucG9zLCBzMS5yYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIG92ZXJsYXBMaW5lVnNDaXJjbGUoKHNoYXBlMiBhcyBMaW5lU2hhcGUpLmRhdGEsIHMxLnBvcywgczEucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uKHMxLnBvcywgczEucmFkaXVzLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZSgoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb3MsIHMxLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkxJTkUpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIExpbmVTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KHMxLmRhdGEsIChzaGFwZTIgYXMgTGluZVNoYXBlKS5kYXRhKSA9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTjtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwTGluZVZzUG9seWdvbihzMS5kYXRhLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0xpbmUoKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLlBPTFlHT04pIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIFBvbHlnb25TaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcE9iYlZzUG9seWdvbigoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb2x5Z29uKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuT0JCKSB7XG4gICAgICAgIHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc1JvdGF0ZWRSZWN0KChzaGFwZTEgYXMgT2JiU2hhcGUpLmRhdGEsIChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEpO1xuICAgIH1cbiAgICAvLyBQb2x5Z29uIHZzIFBvbHlnb25cbiAgICB0aHJvdyAnUXVlcnkgbm90IGltcGxlbWVudGVkOiAnICsgczF0ICsgJyB2cyAnICsgczJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVUb0FhYmIoc2hhcGU6IFNoYXBlKTogQWFiYiB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOiByZXR1cm4gQWFiYi5mcm9tUG9pbnQoKHNoYXBlIGFzIFBvaW50U2hhcGUpLnBvcyk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgQ2lyY2xlU2hhcGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFhYmIoXG4gICAgICAgICAgICAgICAgcy5wb3MueCAtIHMucmFkaXVzLCBzLnBvcy55IC0gcy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgcy5wb3MueCArIHMucmFkaXVzLCBzLnBvcy55ICsgcy5yYWRpdXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORToge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBYWJiKHMuZnJvbVgsIHMuZnJvbVksIHMudG9YLCBzLnRvWSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGFhYmIud3JhcFBvbHlnb24oKHNoYXBlIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICByZXR1cm4gYWFiYjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBhYWJiID0gQWFiYi56ZXJvKCk7XG4gICAgICAgICAgICBhYWJiLndyYXBQb2x5Z29uKChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5yb3RWZXJ0ZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGFhYmI7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgJ1Vua25vd24gc2hhcGUgdHlwZTogJyArIHNoYXBlLnR5cGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFwZVRvU25hcHMoc2hhcGU6IFNoYXBlKTogbnVtYmVyW10ge1xuICAgIHN3aXRjaCAoc2hhcGUudHlwZSkge1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOiB7XG4gICAgICAgICAgICBsZXQgcCA9IHNoYXBlIGFzIFBvaW50U2hhcGU7XG4gICAgICAgICAgICByZXR1cm4gW3AucG9zLngsIHAucG9zLnldO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHtcbiAgICAgICAgICAgIGxldCBhYWJiID0gKHNoYXBlIGFzIEFhYmJTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1pblksXG4gICAgICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1heFksXG4gICAgICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1pblksXG4gICAgICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1heFksXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORToge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBzLmZyb21YLCBzLmZyb21ZLFxuICAgICAgICAgICAgICAgIHMudG9YLCBzLnRvWSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgbGV0IHBvbCA9IChzaGFwZSBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb247XG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaChwb2xbaV0sIHBvbFtpICsgMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiB7XG4gICAgICAgICAgICBsZXQgcG9sID0gKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhLnJvdFZlcnRleDtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5PG51bWJlcj4oOCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBwb2xbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyAnVW5rbm93biBzaGFwZSB0eXBlOiAnICsgc2hhcGUudHlwZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNoYXBlVHJhbnNsYXRlKHNoYXBlOiBTaGFwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBQb2ludFNoYXBlO1xuICAgICAgICAgICAgcy5wb3MueCArPSB4O1xuICAgICAgICAgICAgcy5wb3MueSArPSB5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjoge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy50cmFuc2xhdGUoeCwgeSwgcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICBzLmZyb21YICs9IHg7XG4gICAgICAgICAgICBzLmZyb21ZICs9IHk7XG4gICAgICAgICAgICBzLnRvWCArPSB4O1xuICAgICAgICAgICAgcy50b1kgKz0geTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9seWdvblNoYXBlO1xuICAgICAgICAgICAgbGV0IHNsZW4gPSBzLnBvbHlnb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBzLnBvbHlnb25baV0gKz0geDtcbiAgICAgICAgICAgICAgICBzLnBvbHlnb25baSArIDFdICs9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBzID0gKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy51bnJvdGF0ZWQudHJhbnNsYXRlKHgsIHksIHMudW5yb3RhdGVkKTtcbiAgICAgICAgICAgIGxldCBwb2wgPSBzLnJvdFZlcnRleDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgcG9sW2kgICAgXSArPSB4O1xuICAgICAgICAgICAgICAgIHBvbFtpICsgMV0gKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93ICdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVDbG9uZShzaGFwZTogU2hhcGUpOiBTaGFwZSB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTpcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPSU5ULFxuICAgICAgICAgICAgICAgIHBvczogbmV3IFBJWEkuUG9pbnQocy5wb3MueCwgcy5wb3MueSksXG4gICAgICAgICAgICB9IGFzIFBvaW50U2hhcGU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIHNoYXBlQWFiYigoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhLmNvcHkoKSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBzaGFwZUxpbmUoKHNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YS5jb3B5KCkpO1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gc2hhcGVQb2x5Z29uKFsuLi4oc2hhcGUgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uXSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIHNoYXBlT2JiKChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5jb3B5KCkpXG4gICAgICAgIGRlZmF1bHQ6IHRocm93ICdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IElOVEVSQUNUSU9OX1RZUEUgPSAnaW50ZXJhY3Rpb24nO1xuZXhwb3J0IHR5cGUgSU5URVJBQ1RJT05fVFlQRSA9ICdpbnRlcmFjdGlvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IElOVEVSQUNUSU9OX1RZUEU7XG5cbiAgICBzZWxlY3RQcmlvcml0eTogbnVtYmVyOy8vIElmIHRydWUgdGhlbiB0aGUgaXRlbSBpcyBzZWxlY3RhYmxlXG4gICAgc25hcEVuYWJsZWQ6IGJvb2xlYW47Ly8gaWYgdHJ1ZSB0aGVuIHRoZSBzbmFwRGIgcmVnaXN0cmF0aW9uIGlzIGF2YWlsYWJsZS5cbiAgICBzaGFwZTogU2hhcGU7XG4gICAgLy8gQWRkaXRpb25hbCBjaGVja3MgKG5vdCByZXF1aXJlZClcbiAgICBxdWVyeUNoZWNrPzogKHNoYXBlOiBTaGFwZSkgPT4gYm9vbGVhbjtcblxuICAgIF90cmVlSWQ/OiBudW1iZXI7XG4gICAgX3NuYXBzPzogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBJTlRFUkFDVElPTl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtHUklEX1RZUEUsIFNFTEVDVElPTl9UWVBFXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8SW50ZXJhY3Rpb25Db21wb25lbnQ+KCdpbnRlcmFjdGlvbicsIGZhbHNlLCBmYWxzZSk7XG4gICAgaXNUcmFuc2xhdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc25hcERiOiBQb2ludERCO1xuICAgIGFhYmJUcmVlID0gbmV3IER5bmFtaWNUcmVlPEludGVyYWN0aW9uQ29tcG9uZW50PigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG4gICAgICAgIHRoaXMuc25hcERiID0gbmV3IFBvaW50REIodGhpcy53b3JsZC5zeXN0ZW1zLmdldChHUklEX1RZUEUpIGFzIEdyaWRTeXN0ZW0pO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCB0aGlzLm9uVG9vbE1vdmVCZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2VuZCcsIHRoaXMub25Ub29sTW92ZUVuZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncXVlcnlfaGl0JywgdGhpcy5vblF1ZXJ5SGl0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyU25hcFBvaW50cyhzbmFwczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IHNsZW4gPSBzbmFwcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBEYi5pbnNlcnQoW3NuYXBzW2ldLCBzbmFwc1tpICsgMV1dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdW5yZWdpc3RlclNuYXBQb2ludHMoc25hcHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBzbGVuID0gc25hcHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgdGhpcy5zbmFwRGIucmVtb3ZlKFtzbmFwc1tpXSwgc25hcHNbaSArIDFdXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVucmVnaXN0ZXJDb21wb25lbnQoY29tcDogSW50ZXJhY3Rpb25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAuX3NuYXBzKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJTbmFwUG9pbnRzKGNvbXAuX3NuYXBzKTtcbiAgICAgICAgICAgIGNvbXAuX3NuYXBzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLl90cmVlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hYWJiVHJlZS5kZXN0cm95UHJveHkoY29tcC5fdHJlZUlkKTtcbiAgICAgICAgICAgIGNvbXAuX3RyZWVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ29tcG9uZW50KGNvbXA6IEludGVyYWN0aW9uQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMudW5yZWdpc3RlckNvbXBvbmVudChjb21wKTtcbiAgICAgICAgaWYgKGNvbXAuc2hhcGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBjb21wLl90cmVlSWQgPSB0aGlzLmFhYmJUcmVlLmNyZWF0ZVByb3h5KHNoYXBlVG9BYWJiKGNvbXAuc2hhcGUpLCBjb21wKTtcbiAgICAgICAgaWYgKGNvbXAuc25hcEVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbXAuX3NuYXBzID0gc2hhcGVUb1NuYXBzKGNvbXAuc2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclNuYXBQb2ludHMoY29tcC5fc25hcHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSAhPT0gSU5URVJBQ1RJT05fVFlQRSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgaWYgKCdzaGFwZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGNvbXAgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHBvcy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGludGVyID09PSB1bmRlZmluZWQgfHwgaW50ZXIuc2hhcGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IG9sZFggPSBjaGFuZ2VkLnggIT09IHVuZGVmaW5lZCA/IGNoYW5nZWQueCA6IHBvcy54O1xuICAgICAgICAgICAgbGV0IG9sZFkgPSBjaGFuZ2VkLnkgIT09IHVuZGVmaW5lZCA/IGNoYW5nZWQueSA6IHBvcy55O1xuICAgICAgICAgICAgbGV0IGRpZmZYID0gcG9zLnggLSBvbGRYO1xuICAgICAgICAgICAgbGV0IGRpZmZZID0gcG9zLnkgLSBvbGRZO1xuXG4gICAgICAgICAgICBpZiAoZGlmZlggIT09IDAgfHwgZGlmZlkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB0cmlnZ2VyIGNvbXBvbmVudCBjaGFuZ2UoPylcbiAgICAgICAgICAgICAgICBzaGFwZVRyYW5zbGF0ZShpbnRlci5zaGFwZSwgZGlmZlgsIGRpZmZZKTtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzVHJhbnNsYXRpbmcgJiYgdGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMocG9zLmVudGl0eSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGludGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSBjb21wIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBpbnRlciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodHJhbnMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChpbnRlciA9PT0gdW5kZWZpbmVkIHx8IGludGVyLnNoYXBlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IGludGVyLnNoYXBlO1xuICAgICAgICAgICAgaWYgKHNoYXBlLnR5cGUgPT09IFNoYXBlVHlwZS5QT0lOVCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHNoYXBlLnR5cGUgPT09IFNoYXBlVHlwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcyA9IHNoYXBlIGFzIENpcmNsZVNoYXBlO1xuICAgICAgICAgICAgICAgIGlmICgnc2NhbGUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5yYWRpdXMgPSBzLnJhZGl1cyAqIHRyYW5zLnNjYWxlIC8gY2hhbmdlZC5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoaW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGUudHlwZSA9PT0gU2hhcGVUeXBlLk9CQikge1xuICAgICAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgT2JiU2hhcGU7XG4gICAgICAgICAgICAgICAgaWYgKCdzY2FsZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZlNjYWxlID0gdHJhbnMuc2NhbGUgLyBjaGFuZ2VkLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICBzLmRhdGEudW5yb3RhdGVkLnNjYWxlKGRpZmZTY2FsZSwgZGlmZlNjYWxlLCBzLmRhdGEudW5yb3RhdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcy5kYXRhLnJvdGF0aW9uID0gdHJhbnMucm90YXRpb247XG4gICAgICAgICAgICAgICAgcy5kYXRhLnJlY29tcHV0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGludGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGF1dG8tcm90YXRlIG90aGVyIHNoYXBlcyB0aGFuIE9CQiwgd2F0Y2ggeW91ciBjb21wb25lbnRzIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlICE9PSBJTlRFUkFDVElPTl9UWVBFKSByZXR1cm47XG4gICAgICAgIHRoaXMudW5yZWdpc3RlckNvbXBvbmVudChjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG9vbE1vdmVCZWdpbigpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLnNlbGVjdGlvblN5cy5nZXRTZWxlY3RlZEJ5VHlwZShJTlRFUkFDVElPTl9UWVBFKSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ29tcG9uZW50KGMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLnNlbGVjdGlvblN5cy5nZXRTZWxlY3RlZEJ5VHlwZShJTlRFUkFDVElPTl9UWVBFKSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgc2luZ2xlSGl0UXVlcnkoc2hhcGU6IFNoYXBlLCBldmVudDogUXVlcnlIaXRFdmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgYmVzdFByaW9yOiBudW1iZXIgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGxldCBiZXN0OiBudW1iZXIgPSAtMTtcblxuICAgICAgICBsZXQgaXRlciA9IHRoaXMucXVlcnlWaXNpYmxlKHNoYXBlLCAoYykgPT4gKGMuc2VsZWN0UHJpb3JpdHkgfHwgMCkgPiBiZXN0UHJpb3IpO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGJlc3QgPSBpdGVtLmVudGl0eTtcbiAgICAgICAgICAgIGJlc3RQcmlvciA9IGl0ZW0uc2VsZWN0UHJpb3JpdHkgfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZXN0ICE9PSAtMSkge1xuICAgICAgICAgICAgZXZlbnQuYWRkSGl0KGJlc3QsIGJlc3RQcmlvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG11bHRpSGl0UXVlcnkoc2hhcGU6IFNoYXBlLCBldmVudDogUXVlcnlIaXRFdmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgaXRlciA9IHRoaXMucXVlcnlWaXNpYmxlKHNoYXBlLCAoYykgPT4gYy5zZWxlY3RQcmlvcml0eSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVyKSB7XG4gICAgICAgICAgICBldmVudC5hZGRIaXQoaXRlbS5lbnRpdHksIGl0ZW0uc2VsZWN0UHJpb3JpdHkpO1xuICAgICAgICAgICAgaWYgKCFldmVudC5zaG91bGRDb250aW51ZSgpKSByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUXVlcnlIaXQoZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFldmVudC5zaG91bGRDb250aW51ZSgpKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHNoYXBlOiBTaGFwZTtcbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEdlb21lcnR5UXVlcnlUeXBlLlBPSU5UOiBzaGFwZSA9IHNoYXBlQ2lyY2xlKGV2ZW50LmRhdGEgYXMgUElYSS5JUG9pbnREYXRhLCAyMCk7IGJyZWFrO1xuICAgICAgICAgICAgLy9jYXNlIEdlb21lcnR5UXVlcnlUeXBlLlBPSU5UOiBzaGFwZSA9IHNoYXBlUG9pbnQoZXZlbnQuZGF0YSBhcyBQSVhJLklQb2ludERhdGEpOyBicmVhazsgLy8gRU5BQkxFIFRISVMgRk9SIFBPSU5ULVBSRUNJU0lPTiBDTElDS0lOR1xuICAgICAgICAgICAgY2FzZSBHZW9tZXJ0eVF1ZXJ5VHlwZS5BQUJCOiBzaGFwZSA9IHNoYXBlQWFiYihldmVudC5kYXRhIGFzIEFhYmIpOyBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93ICdVbmtub3duIHF1ZXJ5IHR5cGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50Lm11bHRpKSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpSGl0UXVlcnkoc2hhcGUsIGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlSGl0UXVlcnkoc2hhcGUsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcXVlcnlWaXNpYmxlKHNoYXBlOiBTaGFwZSwgcHJlQ2hlY2s/OiAoYzogSW50ZXJhY3Rpb25Db21wb25lbnQpID0+IGJvb2xlYW4pOiBHZW5lcmF0b3I8SW50ZXJhY3Rpb25Db21wb25lbnQ+IHtcbiAgICAgICAgbGV0IHBsYXllclZpczogU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJWaXNpYmxlQ29tcG9uZW50PiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCF0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICBwbGF5ZXJWaXMgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldCgncGxheWVyX3Zpc2libGUnKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllclZpc2libGVDb21wb25lbnQ+O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllclZpcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5xdWVyeShzaGFwZSwgcHJlQ2hlY2spO1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeShzaGFwZSwgYyA9PiB7XG4gICAgICAgICAgICBsZXQgdmlzQyA9IHBsYXllclZpcyEuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXNDICE9PSB1bmRlZmluZWQgJiYgIXZpc0MudmlzaWJsZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHByZUNoZWNrID09PSB1bmRlZmluZWQgPyB0cnVlIDogcHJlQ2hlY2soYyk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgKnF1ZXJ5KHNoYXBlOiBTaGFwZSwgcHJlQ2hlY2s/OiAoYzogSW50ZXJhY3Rpb25Db21wb25lbnQpID0+IGJvb2xlYW4pOiBHZW5lcmF0b3I8SW50ZXJhY3Rpb25Db21wb25lbnQ+IHtcbiAgICAgICAgbGV0IGFhYmIgPSBzaGFwZVRvQWFiYihzaGFwZSk7XG5cbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpKSB7XG4gICAgICAgICAgICBsZXQgdGFnID0gYy50YWchO1xuICAgICAgICAgICAgaWYgKHByZUNoZWNrICYmICFwcmVDaGVjayh0YWcpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghc2hhcGVJbnRlcnNlY3QodGFnLnNoYXBlISwgc2hhcGUpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBxYyA9IHRhZy5xdWVyeUNoZWNrO1xuICAgICAgICAgICAgaWYgKHFjICYmICFxYyhzaGFwZSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgeWllbGQgdGFnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuXG5cbmV4cG9ydCBjb25zdCBLRVlCT0FSRF9LRVlfVVAgPSAna2V5Ym9hcmRfa2V5X3VwJztcbmV4cG9ydCBjb25zdCBLRVlCT0FSRF9LRVlfRE9XTiA9ICdrZXlib2FyZF9rZXlfZG93bic7XG5cbmV4cG9ydCBjb25zdCBLRVlCT0FSRF9UWVBFID0gJ2tleWJvYXJkJztcbmV4cG9ydCB0eXBlIEtFWUJPQVJEX1RZUEUgPSB0eXBlb2YgS0VZQk9BUkRfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgS2V5Ym9hcmRSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBLRVlCT0FSRF9UWVBFO1xuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG5cbiAgICBwcmVzc2VkS2V5czogU2V0PHN0cmluZz47XG4gICAgc2hpZnQ6IGJvb2xlYW47XG4gICAgY3RybDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFdFQl9LRVlCT0FSRF9UWVBFID0gJ3dlYl9rZXlib2FyZCc7XG5leHBvcnQgdHlwZSBXRUJfS0VZQk9BUkRfVFlQRSA9IHR5cGVvZiBXRUJfS0VZQk9BUkRfVFlQRTtcbmV4cG9ydCBjbGFzcyBXZWJLZXlib2FyZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmVhZG9ubHkgbmFtZSA9IFdFQl9LRVlCT0FSRF9UWVBFO1xuICAgIHJlYWRvbmx5IHByb3ZpZGVzID0gW0tFWUJPQVJEX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSB3b3JsZDogV29ybGQ7XG5cbiAgICBwcml2YXRlIGtleURvd25MaXN0ZW5lcjogYW55O1xuICAgIHByaXZhdGUga2V5VXBMaXN0ZW5lcjogYW55O1xuXG4gICAgcHJpdmF0ZSBrZXlib2FyZDogS2V5Ym9hcmRSZXNvdXJjZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHtcbiAgICAgICAgICAgIHR5cGU6IEtFWUJPQVJEX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG5cbiAgICAgICAgICAgIHByZXNzZWRLZXlzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBzaGlmdDogZmFsc2UsXG4gICAgICAgICAgICBjdHJsOiBmYWxzZSxcbiAgICAgICAgfSBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHRoaXMua2V5Ym9hcmQpO1xuICAgIH1cblxuICAgIG9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlZGl0ID0ge1xuICAgICAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgY3RybDogZXZlbnQuY3RybEtleSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSwgZWRpdCk7XG4gICAgICAgIGlmIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGxldCBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQucHJlc3NlZEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEtFWUJPQVJEX0tFWV9VUCwga2V5KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25LZXlVcChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBsZXQgZWRpdCA9IHtcbiAgICAgICAgICAgIHNoaWZ0OiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgIGN0cmw6IGV2ZW50LmN0cmxLZXksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEtFWUJPQVJEX1RZUEUsIGVkaXQpO1xuXG4gICAgICAgIGlmIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGxldCBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQucHJlc3NlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEtFWUJPQVJEX0tFWV9ET1dOLCBrZXkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMua2V5RG93bkxpc3RlbmVyID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5RG93bkxpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLmtleVVwTGlzdGVuZXIgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVVwTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleURvd25MaXN0ZW5lcik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5rZXlVcExpc3RlbmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtjb21tYW5kUmVnaXN0ZXJQcmVDb25zZXF1ZW5jZX0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFwiO1xuXG5cbmV4cG9ydCBjb25zdCBMQVlFUl9UWVBFID0gXCJsYXllclwiO1xuZXhwb3J0IHR5cGUgTEFZRVJfVFlQRSA9IHR5cGVvZiBMQVlFUl9UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIExheWVyIHtcbiAgICBlbnRpdHk6IG51bWJlcjtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIHByaW9yaXR5OiBudW1iZXI7XG4gICAgbG9ja2VkOiBib29sZWFuO1xufVxuXG5cbmV4cG9ydCBjb25zdCBQQVJFTlRfTEFZRVJfVFlQRSA9IFwibGF5ZXJfcFwiO1xuZXhwb3J0IHR5cGUgUEFSRU5UX0xBWUVSX1RZUEUgPSB0eXBlb2YgUEFSRU5UX0xBWUVSX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBhcmVudExheWVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQQVJFTlRfTEFZRVJfVFlQRTtcbiAgICBsYXllcjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExheWVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50LCBMYXllciB7XG4gICAgdHlwZTogTEFZRVJfVFlQRSxcbn1cblxuXG5leHBvcnQgY29uc3QgQkFDS0dST1VORF9MQVlFUl9UWVBFID0gXCJsYXllcl9ia2dcIjtcbmV4cG9ydCB0eXBlIEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSA9IHR5cGVvZiBCQUNLR1JPVU5EX0xBWUVSX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEJhY2tncm91bmRMYXllclJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2UsIExheWVyIHtcbiAgICB0eXBlOiBCQUNLR1JPVU5EX0xBWUVSX1RZUEU7XG5cbiAgICBfc2F2ZTogdHJ1ZSxcbiAgICBfc3luYzogdHJ1ZSxcbn1cblxuZXhwb3J0IGNvbnN0IFNFTEVDVEVEX0xBWUVSX1RZUEUgPSBcImxheWVyX3NlbFwiO1xuZXhwb3J0IHR5cGUgU0VMRUNURURfTEFZRVJfVFlQRSA9IHR5cGVvZiBTRUxFQ1RFRF9MQVlFUl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBTZWxlY3RlZExheWVyUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgbGF5ZXI/OiBudW1iZXI7XG59XG5cblxuZXhwb3J0IGNsYXNzIExheWVyU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gTEFZRVJfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZWFkb25seSBvcHRpb25hbERlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBsYXllclN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxMYXllckNvbXBvbmVudD4oTEFZRVJfVFlQRSk7XG4gICAgcGFyZW50U3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBhcmVudExheWVyQ29tcG9uZW50PihQQVJFTlRfTEFZRVJfVFlQRSk7XG5cbiAgICBiYWNrZ3JvdW5kTGF5ZXI6IEJhY2tncm91bmRMYXllclJlc291cmNlO1xuICAgIHNlbGVjdGVkTGF5ZXI6IFNlbGVjdGVkTGF5ZXJSZXNvdXJjZTtcbiAgICBsYXllckJ5TmFtZSA9IG5ldyBNYXA8c3RyaW5nLCBMYXllcj4oKTtcblxuICAgIC8vIFRPRE86IG9wdGltaXplIGNsZWFyXG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZExheWVyID0ge1xuICAgICAgICAgICAgdHlwZTogQkFDS0dST1VORF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgIG5hbWU6IFwiQmFja2dyb3VuZFwiLFxuICAgICAgICAgICAgcHJpb3JpdHk6IC0xMDAsXG4gICAgICAgICAgICBsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiB0cnVlLFxuICAgICAgICB9IGFzIEJhY2tncm91bmRMYXllclJlc291cmNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkTGF5ZXIgPSB7XG4gICAgICAgICAgICB0eXBlOiBTRUxFQ1RFRF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgbGF5ZXI6IC0xLFxuICAgICAgICB9IGFzIFNlbGVjdGVkTGF5ZXJSZXNvdXJjZTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMubGF5ZXJTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnBhcmVudFN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmJhY2tncm91bmRMYXllcik7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMuc2VsZWN0ZWRMYXllcik7XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gd29ybGQuZXZlbnRzO1xuICAgICAgICBldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxheWVyRWRpdGVkKGw6IExheWVyLCBlZGl0czogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICgnbmFtZScgaW4gZWRpdHMpIHtcbiAgICAgICAgICAgIGxldCBvbGROYW1lID0gZWRpdHMubmFtZTtcbiAgICAgICAgICAgIGlmIChvbGROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnlOYW1lLmRlbGV0ZShvbGROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxheWVyQnlOYW1lLmhhcyhsLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkxheWVyIG5hbWUgY29uZmxpY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIGwubmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnlOYW1lLnNldChsLm5hbWUsIGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGwgPSBjIGFzIExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGwubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllckJ5TmFtZS5zZXQobC5uYW1lLCBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBlZGl0ZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGF5ZXJFZGl0ZWQoYyBhcyBMYXllckNvbXBvbmVudCwgZWRpdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsID0gYyBhcyBMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbXSxcbiAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLnBhcmVudFN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmxheWVyICE9PSBsLmVudGl0eSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY21kLmVudGl0aWVzLnB1c2goY2hpbGQuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbWQuZW50aXRpZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZFJlZ2lzdGVyUHJlQ29uc2VxdWVuY2UodGhpcy53b3JsZCwgY21kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHIudHlwZSA9PT0gQkFDS0dST1VORF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGF5ZXJFZGl0ZWQociBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSwgZWRpdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEVudGl0eUxheWVyKGVudGl0eTogbnVtYmVyKTogTGF5ZXIge1xuICAgICAgICBsZXQgY21wID0gdGhpcy5wYXJlbnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoY21wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXllciA9IHRoaXMubGF5ZXJTdG9yYWdlLmdldENvbXBvbmVudChjbXAubGF5ZXIpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBwYXJlbnQgbGF5ZXIgb2YgXCIgKyBjbXAuZW50aXR5ICsgXCI6IFwiICsgY21wLmxheWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgfVxuXG4gICAgZ2V0TGF5ZXJCeUlkKGlkOiBudW1iZXIpOiBMYXllciB7XG4gICAgICAgIGlmIChpZCA9PT0gLTEpIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcblxuICAgICAgICBsZXQgbGF5ZXIgPSB0aGlzLmxheWVyU3RvcmFnZS5nZXRDb21wb25lbnQoaWQpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBsYXllciBpZDogXCIgKyBsYXllcik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcblxuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRm9yZWdyb3VuZCh3b3JsZDogV29ybGQpOiBudW1iZXIge1xuICAgIGxldCBzdG8gPSB3b3JsZC5nZXRTdG9yYWdlKExBWUVSX1RZUEUpO1xuICAgIGlmIChzdG8gPT09IHVuZGVmaW5lZCkgcmV0dXJuIC0xO1xuICAgIGZvciAobGV0IHggb2Ygc3RvLmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICByZXR1cm4geC5lbnRpdHk7Ly8gVGhlcmUncyBvbmx5IDEgbGF5ZXIgZm9yIG5vdyAoZm9yZWdyb3VuZFxuICAgIH1cbiAgICAvLyBJZiBpdCdzIG5vdCBwcmVzZW50IHdlIG5lZWQgdG8gY3JlYXRlIGl0XG4gICAgcmV0dXJuIHdvcmxkLnNwYXduRW50aXR5KHtcbiAgICAgICAgdHlwZTogTEFZRVJfVFlQRSxcbiAgICAgICAgbmFtZTogJ0ZvcmVncm91bmQnLFxuICAgICAgICBwcmlvcml0eTogMTAwLFxuICAgICAgICBsb2NrZWQ6IGZhbHNlLFxuICAgIH0gYXMgTGF5ZXJDb21wb25lbnQpO1xufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDaGFubmVsfSBmcm9tIFwiLi4vLi4vLi4vbmV0d29yay9jaGFubmVsXCI7XG5pbXBvcnQgKiBhcyBQIGZyb20gXCIuLi8uLi8uLi9wcm90b2NvbC9nYW1lXCI7XG5pbXBvcnQge1BhY2tldENvbnRhaW5lcn0gZnJvbSBcIi4uLy4uLy4uL3Byb3RvY29sL3BhY2tldFwiO1xuaW1wb3J0IHtDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kXCI7XG5cbmV4cG9ydCBjb25zdCBORVRXT1JLX1RZUEUgPSAnbmV0d29yayc7XG5leHBvcnQgdHlwZSBORVRXT1JLX1RZUEUgPSB0eXBlb2YgTkVUV09SS19UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5ldHdvcmtTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW17XG4gICAgaXNPbmxpbmUoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IEhPU1RfTkVUV09SS19UWVBFID0gJ2hvc3RfbmV0d29yayc7XG5leHBvcnQgdHlwZSBIT1NUX05FVFdPUktfVFlQRSA9IHR5cGVvZiBIT1NUX05FVFdPUktfVFlQRTtcbmV4cG9ydCBjbGFzcyBIb3N0TmV0d29ya1N5c3RlbSBpbXBsZW1lbnRzIE5ldHdvcmtTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBIT1NUX05FVFdPUktfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICByZWFkb25seSBwcm92aWRlcyA9IFtORVRXT1JLX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgY2hhbm5lbDogQ2hhbm5lbDtcblxuICAgIHByaXZhdGUgY29ubmVjdGVkQ2xpZW50cyA9IDA7XG5cbiAgICBpc0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCwgY2g6IENoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaDtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdfZGV2aWNlX2pvaW4nLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudEVtaXR0ZXIub24oJ19kZXZpY2VfbGVmdCcsIHRoaXMub25EZXZpY2VMZWZ0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5jaGFubmVsLmV2ZW50RW1pdHRlci5vbignY21kJywgdGhpcy5vbkNvbW1hbmRQYWNrZXQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tbWFuZF9zaGFyZScsIHRoaXMub25Db21tYW5kU2hhcmUsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRVZFTlQgTElTVEVORVJTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgb25EZXZpY2VKb2luKGNoSWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENsaWVudHMrKztcbiAgICAgICAgdGhpcy5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICB0eXBlOiBcImVjc19ib290c3RyYXBcIixcbiAgICAgICAgICAgIHBheWxvYWQ6IHRoaXMud29ybGQuc2VyaWFsaXplQ2xpZW50KCksXG4gICAgICAgIH0gYXMgUC5FY3NCb290cnN0cmFwLCBjaElkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRGV2aWNlTGVmdChjaElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzLS07XG4gICAgICAgIHRoaXMuaXNFbmFibGVkID0gdGhpcy5jb25uZWN0ZWRDbGllbnRzICE9PSAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21tYW5kUGFja2V0KHBrdDogUC5Db21tYW5kUGFja2V0LCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBzZW5kZXIgPSBjb250YWluZXIuc2VuZGVyO1xuICAgICAgICBmb3IgKGxldCBjbWQgb2YgcGt0LmRhdGEpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0NvbW1hbmQoc2VuZGVyLCBjbWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2VtaXRcIiwgY21kLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQ29tbWFuZChzZW5kZXI6IG51bWJlciwgY29tbWFuZDogQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJSZWNlaXZlZCBjb21tYW5kIGZyb20gbm9uLWFkbWluOiBcIiwgY29tbWFuZCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tbWFuZFNoYXJlKGNvbW1hbmQ6IENvbW1hbmRbXSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tbWFuZC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5jaGFubmVsLmJyb2FkY2FzdCh7XG4gICAgICAgICAgICB0eXBlOiAnY21kJyxcbiAgICAgICAgICAgIGRhdGE6IGNvbW1hbmQsXG4gICAgICAgIH0gYXMgUC5Db21tYW5kUGFja2V0KTtcbiAgICB9XG5cbiAgICBpc09ubGluZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbC5jb25uZWN0aW9ucy5sZW5ndGggIT09IDA7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgQ0xJRU5UX05FVFdPUktfVFlQRSA9ICdjbGllbnRfbmV0d29yayc7XG5leHBvcnQgdHlwZSBDTElFTlRfTkVUV09SS19UWVBFID0gdHlwZW9mIENMSUVOVF9ORVRXT1JLX1RZUEU7XG5leHBvcnQgY2xhc3MgQ2xpZW50TmV0d29ya1N5c3RlbSBpbXBsZW1lbnRzIE5ldHdvcmtTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBDTElFTlRfTkVUV09SS19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdIGFzIHN0cmluZ1tdO1xuICAgIHJlYWRvbmx5IHByb3ZpZGVzID0gW05FVFdPUktfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBjaGFubmVsOiBDaGFubmVsO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCwgY2hhbm5lbDogQ2hhbm5lbCkge1xuICAgICAgICB0aGlzLndvcmxkID0gZWNzO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuXG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdlY3NfYm9vdHN0cmFwJywgdGhpcy5vbkVjc0Jvb3RzdHJhcCwgdGhpcyk7XG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdjbWQnLCB0aGlzLm9uQ21kLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRWNzQm9vdHN0cmFwKHBhY2tldDogUC5FY3NCb290cnN0cmFwLCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICBpZiAoY29udGFpbmVyLnNlbmRlciAhPT0gMCkgcmV0dXJuOyAvLyBPbmx5IGFkbWluXG5cbiAgICAgICAgdGhpcy53b3JsZC5kZXNlcmlhbGl6ZShwYWNrZXQucGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNtZChwYWNrZXQ6IFAuQ29tbWFuZFBhY2tldCwgY29udGFpbmVyOiBQYWNrZXRDb250YWluZXIpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgY21kIG9mIHBhY2tldC5kYXRhKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tDb21tYW5kKGNvbnRhaW5lci5zZW5kZXIsIGNtZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImNvbW1hbmRfZW1pdFwiLCBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0NvbW1hbmQoc2VuZGVyOiBudW1iZXIsIGNvbW1hbmQ6IENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHNlbmRlciA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlJlY2VpdmVkIGNvbW1hbmQgZnJvbSBub24tYWRtaW46IFwiLCBjb21tYW5kKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzT25saW5lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zLmxlbmd0aCAhPT0gMDtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uLy4uL1BJWElcIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vLi4vLi4vaW5kZXhcIjtcbmltcG9ydCB7SUhpdEFyZWEsIElQb2ludERhdGF9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtGT0xMT1dfTU9VU0VfVFlQRSwgUE9TSVRJT05fVFlQRX0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Z2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbn0gZnJvbSBcIi4uLy4uL3Rvb2xzL3V0aWxzXCI7XG5pbXBvcnQge0tFWUJPQVJEX1RZUEUsIEtleWJvYXJkUmVzb3VyY2V9IGZyb20gXCIuL2tleWJvYXJkU3lzdGVtXCI7XG5cbmludGVyZmFjZSBQb2ludGVyRGF0YSB7XG4gICAgZmlyc3RYOiBudW1iZXIsXG4gICAgZmlyc3RZOiBudW1iZXIsXG4gICAgbGFzdFg6IG51bWJlcixcbiAgICBsYXN0WTogbnVtYmVyLFxufVxuXG5leHBvcnQgZW51bSBQb2ludGVyRXZlbnRzIHtcbiAgICBQT0lOVEVSX01PVkUgPSAncG9pbnRlcl9tb3ZlJyxcbiAgICBQT0lOVEVSX0RPV04gPSAncG9pbnRlcl9kb3duJyxcbiAgICBQT0lOVEVSX1VQID0gJ3BvaW50ZXJfdXAnLFxuICAgIFBPSU5URVJfUklHSFRfRE9XTiA9ICdwb2ludGVyX3JpZ2h0X2Rvd24nLFxuICAgIFBPSU5URVJfUklHSFRfVVAgPSAncG9pbnRlcl9yaWdodF91cCcsXG4gICAgUE9JTlRFUl9DTElDSyA9ICdwb2ludGVyX2NsaWNrJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25zdW1hYmxlRXZlbnQge1xuICAgIGNvbnN1bWVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0xhc3RQb3NpdGlvbiB7XG4gICAgbGFzdFBvc2l0aW9uOiBQSVhJLklQb2ludERhdGE7XG59XG5cbmV4cG9ydCB0eXBlIFBvaW50ZXJEb3duRXZlbnQgPSBQSVhJLkludGVyYWN0aW9uRXZlbnQgJiBDb25zdW1hYmxlRXZlbnQ7XG5leHBvcnQgdHlwZSBQb2ludGVyVXBFdmVudCA9IFBJWEkuSW50ZXJhY3Rpb25FdmVudCAmIEhhc0xhc3RQb3NpdGlvbiAmIHtcbiAgICBpc0NsaWNrOiBib29sZWFuO1xufTtcbmV4cG9ydCB0eXBlIFBvaW50ZXJNb3ZlRXZlbnQgPSBQSVhJLkludGVyYWN0aW9uRXZlbnQgJiBIYXNMYXN0UG9zaXRpb24gJiB7XG4gICAgY2FuQmVjb21lQ2xpY2s6IGJvb2xlYW47XG59O1xuZXhwb3J0IHR5cGUgUG9pbnRlclJpZ2h0RG93bkV2ZW50ID0gUElYSS5JbnRlcmFjdGlvbkV2ZW50ICYgQ29uc3VtYWJsZUV2ZW50O1xuZXhwb3J0IHR5cGUgUG9pbnRlclJpZ2h0VXBFdmVudCA9IFBJWEkuSW50ZXJhY3Rpb25FdmVudDtcbmV4cG9ydCB0eXBlIFBvaW50ZXJDbGlja0V2ZW50ID0gUElYSS5JbnRlcmFjdGlvbkV2ZW50O1xuXG5leHBvcnQgdHlwZSBCT0FSRF9UUkFOU0ZPUk1fVFlQRSA9ICdib2FyZF90cmFuc2Zvcm0nO1xuZXhwb3J0IGNvbnN0IEJPQVJEX1RSQU5TRk9STV9UWVBFID0gJ2JvYXJkX3RyYW5zZm9ybSc7XG5leHBvcnQgaW50ZXJmYWNlIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogQk9BUkRfVFJBTlNGT1JNX1RZUEU7XG4gICAgX3NhdmU6IHRydWU7XG4gICAgX3N5bmM6IGZhbHNlO1xuXG4gICAgcG9zWDogbnVtYmVyO1xuICAgIHBvc1k6IG51bWJlcjtcbiAgICBzY2FsZVg6IG51bWJlcjtcbiAgICBzY2FsZVk6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUElYSV9CT0FSRF9UWVBFID0gJ3BpeGlfYm9hcmQnO1xuZXhwb3J0IGNvbnN0IFBJWElfQk9BUkRfVFlQRSA9ICdwaXhpX2JvYXJkJztcbmV4cG9ydCBjbGFzcyBQaXhpQm9hcmRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIG5hbWUgPSBQSVhJX0JPQVJEX1RZUEU7XG4gICAgZGVwZW5kZW5jaWVzID0gW10gYXMgc3RyaW5nW107XG5cbiAgICB3b3JsZDogV29ybGQ7XG5cbiAgICBib2FyZDogUElYSS5Db250YWluZXI7XG5cbiAgICBwcml2YXRlIHdoZWVsTGlzdGVuZXI6IGFueTtcbiAgICBwb2ludGVycyA9IG5ldyBNYXA8bnVtYmVyLCBQb2ludGVyRGF0YT4oKTtcbiAgICBtb3VzZUxhc3RYOiBudW1iZXIgPSAwO1xuICAgIG1vdXNlTGFzdFk6IG51bWJlciA9IDA7XG4gICAgbGFzdE1vdXNlRG93blRpbWU/OiBudW1iZXI7XG4gICAgaXNEcmFnZ2luZ0JvYXJkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXFfYm9hcmRfY2VudGVyJywgdGhpcy5jZW50ZXJCb2FyZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigna2V5X2Rvd24nLCB0aGlzLm9uS2V5RG93biwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBCT0FSRF9UUkFOU0ZPUk1fVFlQRSxcbiAgICAgICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcG9zWDogMCxcbiAgICAgICAgICAgICAgICBwb3NZOiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlWDogMSxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXG4gICAgICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2VcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBUT0RPOiB3ZSBzaG91bGQgY3JlYXRlIHJlbmRlciBwaGFzZXMsIG9uZSBmb3IgdGhlIHdvcmxkICh1c2luZyB0aGUgcHJvamVjdGlvbiBtYXRyaXggdG8gbW92ZSB0aGUgY2FtZXJhKVxuICAgICAgICAvLyAgICAgICBhbmQgdGhlIG90aGVyIGZvciB0aGUgR1VJIChvciBvdGhlciB0aGluZ3MgdGhhdCBkbyBub3QgZGVwZW5kIG9uIGNhbWVyYSBwb3NpdGlvbiwgYXMgdGhlIEdyaWRTeXN0ZW0oPykpLlxuICAgICAgICAvLyAgICAgICB0byBjcmVhdGUgYSBjdXN0b20gZ2FtZSBsb29wOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DdXN0b20tQXBwbGljYXRpb24tR2FtZUxvb3BcbiAgICAgICAgdGhpcy5ib2FyZCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmJvYXJkLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm9hcmQuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJvYXJkLnBvc2l0aW9uLnNldCgwLCAwKTtcbiAgICAgICAgdGhpcy5ib2FyZC5zb3J0YWJsZUNoaWxkcmVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBvbktleURvd24oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGtleWJvYXJkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSBhcyBLZXlib2FyZFJlc291cmNlIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoa2V5Ym9hcmQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBjdHJsID0ga2V5Ym9hcmQuY3RybDtcbiAgICAgICAgbGV0IHNoaWZ0ID0ga2V5Ym9hcmQuc2hpZnQ7XG4gICAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBldmVudF9uYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgaWYgKHNoaWZ0KSBldmVudF9uYW1lID0gJ2NvbW1hbmRfcmVkbyc7XG4gICAgICAgICAgICAgICAgZWxzZSBldmVudF9uYW1lID0gJ2NvbW1hbmRfdW5kbyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd5JzogZXZlbnRfbmFtZSA9ICdjb21tYW5kX3JlZG8nOyAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjJzogY29uc29sZS5sb2coXCJjb3B5XCIpOyAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3YnOiBjb25zb2xlLmxvZyhcInBhc3RlXCIpOyAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudF9uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoZXZlbnRfbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5CZWNvbWVDbGljayhwZGF0YTogUG9pbnRlckRhdGEsIHA6IElQb2ludERhdGEpIHtcbiAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgICAgbGV0IHRpbWVEaWZmID0gbm93IC0gKHRoaXMubGFzdE1vdXNlRG93blRpbWUgfHwgMCk7XG5cbiAgICAgICAgbGV0IGRpZmZYID0gcC54IC0gcGRhdGEuZmlyc3RYO1xuICAgICAgICBsZXQgZGlmZlkgPSBwLnkgLSBwZGF0YS5maXJzdFk7XG4gICAgICAgIGxldCBkaWZmUG9zID0gTWF0aC5zcXJ0KGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZKTtcblxuICAgICAgICByZXR1cm4gZGlmZlBvcyA8IDUgJiYgdGltZURpZmYgPCA1MDA7XG4gICAgfVxuXG4gICAgem9vbShkU2NhbGU6IG51bWJlciwgY2VudGVyWDogbnVtYmVyLCBjZW50ZXJZOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbWluU2NhbGUgPSAwLjA1O1xuICAgICAgICBjb25zdCBtYXhTY2FsZSA9IDM7XG5cbiAgICAgICAgaWYgKHRoaXMuYm9hcmQuc2NhbGUueCA8IG1pblNjYWxlICYmIGRTY2FsZSA8IDEgfHwgdGhpcy5ib2FyZC5zY2FsZS54ID4gbWF4U2NhbGUgJiYgZFNjYWxlID4gMSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBCZWZvcmUgc2NhbGluZyBhZGp1c3QgdGhlIHBvc2l0aW9uOlxuICAgICAgICAvLyBUYWtlcyB0aGUgdmVjdG9yIHRoYXQgZ29lcyBmcm9tIHRoZSBib2FyZCBwb3NpdGlvbiAodXBwZXItbGVmdCkgdG8gdGhlIGN1cnNvci5cbiAgICAgICAgLy8gQXBwbHkgdGhlIGRTY2FsZSBmYWN0b3IgdG8gdGhhdCB2ZWN0b3IgYW5kIGZpbmQgdGhlIG5ldyBib2FyZCBwb3NpdGlvbi5cbiAgICAgICAgLy8gRmluYWxseSwgdGhlIGN1cnNvciBwb3NpdGlvbiBwbHVzIHRoZSB2ZWN0b3Igb2J0YWluZWQgaXMgdGhlIG5ldyBib2FyZCBwb3NpdGlvbi5cblxuICAgICAgICBsZXQgcGFkWCA9IHRoaXMuYm9hcmQucG9zaXRpb24ueCAtIGNlbnRlclg7XG4gICAgICAgIGxldCBwYWRZID0gdGhpcy5ib2FyZC5wb3NpdGlvbi55IC0gY2VudGVyWTtcblxuICAgICAgICBwYWRYICo9IGRTY2FsZTtcbiAgICAgICAgcGFkWSAqPSBkU2NhbGU7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludChwYWRYICsgY2VudGVyWCwgcGFkWSArIGNlbnRlclkpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IG5ldyBQSVhJLlBvaW50KHRoaXMuYm9hcmQuc2NhbGUueCAqIGRTY2FsZSwgdGhpcy5ib2FyZC5zY2FsZS55ICogZFNjYWxlKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8qaWYgKHRoaXMuYm9hcmQuaXNCb2FyZExvc3QocG9zaXRpb24sIHNjYWxlKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJZb3UgY2FuJ3Qgbm8gbW9yZSBzY2FsZSBpbiB0aGlzIGRpcmVjdGlvbiwgeW91J3JlIGxvb3NpbmcgdGhlIGJvYXJkIVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSovXG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoQk9BUkRfVFJBTlNGT1JNX1RZUEUsIHtcbiAgICAgICAgICAgIHBvc1g6IHBvc2l0aW9uLngsXG4gICAgICAgICAgICBwb3NZOiBwb3NpdGlvbi55LFxuICAgICAgICAgICAgc2NhbGVYOiBzY2FsZS54LFxuICAgICAgICAgICAgc2NhbGVZOiBzY2FsZS55LFxuICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBzY3JvbGxzLlxuICAgICAqIFRoZSBtYXAgaXMgem9vbWVkIGluIGFuZCBvdXQgYmFzZWQgb24gdGhlIHNjcm9sbCBkaXJlY3Rpb24uXG4gICAgICovXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50OiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHNjYWxpbmdTcGVlZCA9IDAuMTtcbiAgICAgICAgY29uc3QgZFNjYWxlID0gMSAtIE1hdGguc2lnbihldmVudC5kZWx0YVkpICogc2NhbGluZ1NwZWVkO1xuICAgICAgICB0aGlzLnpvb20oZFNjYWxlLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZXZlbnQuZGF0YS5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgIC8vIFJpZ2h0IGJ1dHRvblxuICAgICAgICAgICAgbGV0IHByZGUgPSBldmVudCBhcyBQb2ludGVyUmlnaHREb3duRXZlbnQ7XG4gICAgICAgICAgICBwcmRlLmNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9ET1dOLCBwcmRlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3MgPSBldmVudC5kYXRhLmdsb2JhbDtcbiAgICAgICAgdGhpcy5wb2ludGVycy5zZXQoZXZlbnQuZGF0YS5wb2ludGVySWQsIHtcbiAgICAgICAgICAgIGZpcnN0WDogcG9zLngsXG4gICAgICAgICAgICBmaXJzdFk6IHBvcy55LFxuICAgICAgICAgICAgbGFzdFg6IHBvcy54LFxuICAgICAgICAgICAgbGFzdFk6IHBvcy55LFxuICAgICAgICB9IGFzIFBvaW50ZXJEYXRhKTtcblxuICAgICAgICB0aGlzLmxhc3RNb3VzZURvd25UaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBsZXQgZSA9IGV2ZW50IGFzIFBvaW50ZXJEb3duRXZlbnQ7XG4gICAgICAgIGUuY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCEoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5kYXRhLmJ1dHRvbiA9PT0gMSkpIHtcbiAgICAgICAgICAgIC8vIElmIG1pZGRsZSBidXR0b24gaXMgcHJlc3NlZCBpZ25vcmUsIHdlIGZvcmNlIGl0IHRvIGRyYWcgdGhlIGJvYXJkXG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9ET1dOLCBldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWUuY29uc3VtZWQgJiYgdGhpcy5wb2ludGVycy5zaXplID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdCb2FyZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgICAvLyBSaWdodCBidXR0b25cbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX1JJR0hUX1VQLCBldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGRhdGEgPSB0aGlzLnBvaW50ZXJzLmdldChldmVudC5kYXRhLnBvaW50ZXJJZCk7XG4gICAgICAgIGlmIChwZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5wb2ludGVycy5kZWxldGUoZXZlbnQuZGF0YS5wb2ludGVySWQpO1xuXG4gICAgICAgIGlmICh0aGlzLmxhc3RNb3VzZURvd25UaW1lID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdCb2FyZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgaXNDbGljayA9IHRoaXMuY2FuQmVjb21lQ2xpY2socGRhdGEsIGV2ZW50LmRhdGEuZ2xvYmFsKTtcblxuICAgICAgICAgICAgbGV0IHB1ZSA9IGV2ZW50IGFzIFBvaW50ZXJVcEV2ZW50O1xuICAgICAgICAgICAgcHVlLmxhc3RQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBwZGF0YS5sYXN0WCxcbiAgICAgICAgICAgICAgICB5OiBwZGF0YS5sYXN0WVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHB1ZS5pc0NsaWNrID0gaXNDbGljaztcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX1VQLCBwdWUpO1xuICAgICAgICAgICAgaWYgKGlzQ2xpY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9DTElDSywgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXBPdXRzaWRlKGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQpIHtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcChldmVudCk7XG4gICAgfVxuXG4gICAgLyoqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgYXJvdW5kIHRoZSBtYXAuICovXG4gICAgb25Qb2ludGVyTW92ZShlOiBQSVhJLkludGVyYWN0aW9uRXZlbnQpIHtcbiAgICAgICAgbGV0IHBvcyA9IGUuZGF0YS5nbG9iYWw7XG5cbiAgICAgICAgLy8gVE9ETzogbWFnbmV0IHNuYXAgc3lzdGVtXG4gICAgICAgIGxldCBsb2NhbFBvcyA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy53b3JsZCwgZSk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRlckZvbGxvd2Vycyhsb2NhbFBvcyk7XG5cbiAgICAgICAgbGV0IHBkYXRhID0gdGhpcy5wb2ludGVycy5nZXQoZS5kYXRhLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA8PSAxICYmICF0aGlzLmlzRHJhZ2dpbmdCb2FyZCkge1xuICAgICAgICAgICAgbGV0IHBtZSA9IGUgYXMgUG9pbnRlck1vdmVFdmVudDtcbiAgICAgICAgICAgIHBtZS5sYXN0UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5tb3VzZUxhc3RYLCB5OiB0aGlzLm1vdXNlTGFzdFksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG1lLmNhbkJlY29tZUNsaWNrID0gcGRhdGEgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGhpcy5jYW5CZWNvbWVDbGljayhwZGF0YSwgcG9zKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX01PVkUsIHBtZSk7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTGFzdFggPSBwb3MueDtcbiAgICAgICAgICAgIHRoaXMubW91c2VMYXN0WSA9IHBvcy55O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBkYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplID09PSAxKSB7Ly8gTW92ZVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0JvYXJkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UG9zWCA9IHRoaXMuYm9hcmQucG9zaXRpb24ueCArIChwb3MueCAtIHBkYXRhLmxhc3RYKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb3NZID0gdGhpcy5ib2FyZC5wb3NpdGlvbi55ICsgKHBvcy55IC0gcGRhdGEubGFzdFkpO1xuXG4gICAgICAgICAgICAgICAgLyppZiAodGhpcy5ib2FyZC5pc0JvYXJkTG9zdChuZXcgUElYSS5Qb2ludChuZXdQb3NYLCBuZXdQb3NZKSwgdGhpcy5zY2FsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIllvdSBjYW4ndCBnbyBmdXJ0aGVyIHRoYW4gdGhpcywgeW91J2xsIGxvb3NlIHRoZSBib2FyZCFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFLCB7XG4gICAgICAgICAgICAgICAgICAgIHBvc1g6IG5ld1Bvc1gsXG4gICAgICAgICAgICAgICAgICAgIHBvc1k6IG5ld1Bvc1ksXG4gICAgICAgICAgICAgICAgfSBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaXJzdERpc3QgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDIpIHtcbiAgICAgICAgICAgIGxldCBbcGEsIHBiXSA9IHRoaXMucG9pbnRlcnMudmFsdWVzKCk7XG5cbiAgICAgICAgICAgIGxldCBkeCA9IHBhLmxhc3RYIC0gcGIubGFzdFg7XG4gICAgICAgICAgICBsZXQgZHkgPSBwYS5sYXN0WSAtIHBiLmxhc3RZO1xuICAgICAgICAgICAgZmlyc3REaXN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBkYXRhLmxhc3RYID0gcG9zLng7XG4gICAgICAgIHBkYXRhLmxhc3RZID0gcG9zLnk7XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMikge1xuICAgICAgICAgICAgbGV0IFtwYSwgcGJdID0gdGhpcy5wb2ludGVycy52YWx1ZXMoKTtcblxuICAgICAgICAgICAgbGV0IGR4ID0gcGEubGFzdFggLSBwYi5sYXN0WDtcbiAgICAgICAgICAgIGxldCBkeSA9IHBhLmxhc3RZIC0gcGIubGFzdFk7XG4gICAgICAgICAgICBsZXQgc2Vjb25kRGlzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSBuZXcgUElYSS5Qb2ludChcbiAgICAgICAgICAgICAgICAocGEubGFzdFggKyBwYi5sYXN0WCkgLyAyLFxuICAgICAgICAgICAgICAgIChwYS5sYXN0WSArIHBiLmxhc3RZKSAvIDIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy56b29tKChzZWNvbmREaXN0IC8gZmlyc3REaXN0KSwgY2VudGVyLngsIGNlbnRlci55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlcy50eXBlICE9PSBCT0FSRF9UUkFOU0ZPUk1fVFlQRSkgcmV0dXJuO1xuICAgICAgICBsZXQgdCA9IHJlcyBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlO1xuICAgICAgICB0aGlzLmJvYXJkLnBvc2l0aW9uLnNldCh0LnBvc1gsIHQucG9zWSk7XG4gICAgICAgIHRoaXMuYm9hcmQuc2NhbGUuc2V0KHQuc2NhbGVYLCB0LnNjYWxlWSk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9pbnRlckZvbGxvd2Vycyhwb2ludDogUElYSS5JUG9pbnREYXRhKSB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgKHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KEZPTExPV19NT1VTRV9UWVBFKSBhcyBGbGFnRWNzU3RvcmFnZSkuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC54LFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgdGhlIGJvYXJkJ3MgY2VudGVyIGFuZCB0aGUgd2luZG93J3MgY2VudGVyIG92ZXJsYXAuXG4gICAgICogVGhpcyB3YXkgdGhlIGluaXRpYWwgYm9hcmQgcG9zaXRpb24gaXMgY2VudGVyZWQgdG8gdGhlIHJvb3QgY2FyZC5cbiAgICAgKi9cbiAgICBjZW50ZXJCb2FyZCgpIHtcbiAgICAgICAgbGV0IGJvYXJkU2NyZWVuV2lkdGggPSBhcHAucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIGxldCBib2FyZFNjcmVlbkhlaWdodCA9IGFwcC5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IHNjcmVlbk1pZFBvaW50V2lkdGggPSBib2FyZFNjcmVlbldpZHRoIC8gMjtcbiAgICAgICAgbGV0IHNjcmVlbk1pZFBvaW50SGVpZ2h0ID0gYm9hcmRTY3JlZW5IZWlnaHQgLyAyO1xuXG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLmJvYXJkLmdldEJvdW5kcygpO1xuXG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KFxuICAgICAgICAgICAgc2NyZWVuTWlkUG9pbnRXaWR0aCAtIGJvdW5kcy54IC0gYm91bmRzLndpZHRoIC8gMixcbiAgICAgICAgICAgIHNjcmVlbk1pZFBvaW50SGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFwcGx5Q2FudmFzU3R5bGUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzID0gY2FudmFzLnN0eWxlO1xuICAgICAgICBzLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHMuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBhcHAudmlldztcbiAgICAgICAgdGhpcy5hcHBseUNhbnZhc1N0eWxlKGNhbnZhcyk7XG4gICAgICAgIGxldCBjbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAoY250ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIGNhbnZhcyBjb250YWluZXJcIjtcbiAgICAgICAgfVxuICAgICAgICBhcHAucmVzaXplVG8gPSBjbnQ7XG4gICAgICAgIGNudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gICAgICAgIC8vYXBwLnJlbmRlcmVyLmJhY2tncm91bmRDb2xvciA9IDB4M2UyNzIzOyAvLyBkYXJrIGJyb3duXG5cbiAgICAgICAgLy8gUElYSVxuICAgICAgICBsZXQgc3RhZ2UgPSBuZXcgUElYSS5kaXNwbGF5LlN0YWdlKCk7XG4gICAgICAgIGFwcC5zdGFnZSA9IHN0YWdlO1xuICAgICAgICBzdGFnZS5zb3J0YWJsZUNoaWxkcmVuID0gdHJ1ZTtcbiAgICAgICAgc3RhZ2UuZ3JvdXAuZW5hYmxlU29ydCA9IHRydWU7XG4gICAgICAgIHN0YWdlLmFkZENoaWxkKHRoaXMuYm9hcmQpO1xuXG4gICAgICAgIHN0YWdlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgc3RhZ2UuaGl0QXJlYSA9IHtcbiAgICAgICAgICAgIGNvbnRhaW5zKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gYXMgSUhpdEFyZWE7XG5cbiAgICAgICAgYXBwLnN0YWdlLm9uKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgYXBwLnN0YWdlLm9uKFwicG9pbnRlcmRvd25cIiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzKTtcbiAgICAgICAgYXBwLnN0YWdlLm9uKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgICAgICBhcHAuc3RhZ2Uub24oXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMub25Qb2ludGVyVXBPdXRzaWRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLndoZWVsTGlzdGVuZXIgPSB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMud2hlZWxMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgYXBwLnN0YWdlLm9mZihcInBvaW50ZXJtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcyk7XG4gICAgICAgIGFwcC5zdGFnZS5vZmYoXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICBhcHAuc3RhZ2Uub2ZmKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgICAgICBhcHAuc3RhZ2Uub2ZmKFwicG9pbnRlcnVwb3V0c2lkZVwiLCB0aGlzLm9uUG9pbnRlclVwT3V0c2lkZSwgdGhpcyk7XG5cbiAgICAgICAgYXBwLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLndoZWVsTGlzdGVuZXIpO1xuXG4gICAgICAgIGxldCBjbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgICAgICBjbnQ/LnJlbW92ZUNoaWxkKGFwcC52aWV3KTtcbiAgICAgICAgYXBwLnJlc2l6ZVRvID0gd2luZG93O1xuICAgIH1cbn0iLCJpbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnQsXG4gICAgVFJBTlNGT1JNX1RZUEUsXG4gICAgVHJhbnNmb3JtQ29tcG9uZW50XG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7RmxhZ0Vjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIERpc3BsYXlFbGVtZW50LFxuICAgIEVsZW1lbnRUeXBlLFxuICAgIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsXG4gICAgR1JBUEhJQ19UWVBFLFxuICAgIEdyYXBoaWNDb21wb25lbnQsXG4gICAgSW1hZ2VFbGVtZW50LFxuICAgIEltYWdlU2NhbGVNb2RlLFxuICAgIExpbmVFbGVtZW50LFxuICAgIFBvaW50RWxlbWVudCxcbiAgICBUZXh0RWxlbWVudCxcbiAgICBWaXNpYmlsaXR5VHlwZVxufSBmcm9tIFwiLi4vLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vLi4vUElYSVwiO1xuaW1wb3J0IHthcHB9IGZyb20gXCIuLi8uLi8uLi9pbmRleFwiO1xuaW1wb3J0IHtCTEVORF9NT0RFUywgSVBvaW50RGF0YSwgTWF0cml4LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgVGV4dHVyZX0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7REVTVFJPWV9BTEwsIERFU1RST1lfTUlOfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtcbiAgICBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCxcbiAgICBQTEFZRVJfVFlQRSxcbiAgICBQTEFZRVJfVklTSUJMRV9UWVBFLFxuICAgIFBsYXllclN5c3RlbSxcbiAgICBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50LFxuICAgIFZpc2liaWxpdHlTcHJlYWREYXRhXG59IGZyb20gXCIuLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7TElHSFRfVFlQRSwgTGlnaHRTeXN0ZW0sIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4uL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgU2hhcGUsXG4gICAgc2hhcGVBYWJiLFxuICAgIHNoYXBlTGluZSxcbiAgICBzaGFwZU9iYixcbiAgICBzaGFwZVBvaW50LFxuICAgIHNoYXBlVG9BYWJiXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0JpdFNldH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvYml0U2V0XCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L29iYlwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvbGluZVwiO1xuaW1wb3J0IHthcnJheVJlbW92ZUVsZW19IGZyb20gXCIuLi8uLi8uLi91dGlsL2FycmF5XCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtURVhUX1RZUEUsIFRleHRTeXN0ZW19IGZyb20gXCIuL3RleHRTeXN0ZW1cIjtcblxuaW50ZXJmYWNlIEN1c3RvbUdyYXBoaWNDb21wb25lbnQgZXh0ZW5kcyBHcmFwaGljQ29tcG9uZW50IHtcbiAgICBfc2VsZWN0ZWQ6IGJvb2xlYW47XG4gICAgX3Zpc2liTGlzdGVuZXI/OiBWaXNpYkxpc3RlbmVyTGV2ZWw7Ly8gRGVmYXVsdDogTk9UX05FRURFRFxuICAgIF9iaXRCeUJpdD86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBDdXN0b21EaXNwbGF5RWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50IHtcbiAgICBfb2xkVHlwZT86IEVsZW1lbnRUeXBlO1xuICAgIF9waXhpPzogUElYSS5EaXNwbGF5T2JqZWN0O1xufVxuXG5pbnRlcmZhY2UgQ3VzdG9tSW1hZ2VFbGVtZW50IGV4dGVuZHMgSW1hZ2VFbGVtZW50LCBDdXN0b21EaXNwbGF5RWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0U7Ly8gaW50ZXJmZXJlbmNlIGJldHdlZW4gaW50ZXJmYWNlcyAoZ29vZC1vbGQgZGlhbW9uZCBwcm9ibGVtPylcbiAgICBfb2xkVGV4PzogVGV4dHVyZSxcbiAgICBfcmVuVGV4PzogUmVuZGVyVGV4dHVyZTtcbiAgICBfdmlzTWFwQ2hhbmdlZD86IGJvb2xlYW47XG4gICAgX3BpeGk/OiBQSVhJLlNwcml0ZTtcbn1cblxuaW50ZXJmYWNlIEN1c3RvbVRleHR1cmUgZXh0ZW5kcyBQSVhJLlRleHR1cmUge1xuICAgIGdyaWRTaXplPzoge1xuICAgICAgICB4OiBudW1iZXI7XG4gICAgICAgIHk6IG51bWJlcjtcbiAgICAgICAgdXBkYXRlSWQ6IG51bWJlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSRU1FTUJFUl9UWVBFID0gJ3JlbWVtYmVyJztcbmV4cG9ydCB0eXBlIFJFTUVNQkVSX1RZUEUgPSAncmVtZW1iZXInO1xuZXhwb3J0IGludGVyZmFjZSBSZW1lbWJlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUkVNRU1CRVJfVFlQRSxcbn1cblxuZW51bSBWaXNpYkxpc3RlbmVyTGV2ZWwge1xuICAgIE5PVF9ORUVERUQsXG4gICAgUkVNRU1CRVIsXG4gICAgUEVSU0lTVEVOVCxcbn1cblxuZnVuY3Rpb24gbGVycENvbG9yKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB0ciA9ICgoYSA+PiAxNikgJiAweEZGKSAqICgxIC0gdCkgKyAoKGIgPj4gMTYpICYgMHhGRikgKiB0O1xuICAgIGxldCB0ZyA9ICgoYSA+PiA4KSAmIDB4RkYpICogKDEgLSB0KSArICgoYiA+PiA4KSAmIDB4RkYpICogdDtcbiAgICBsZXQgdGIgPSAoYSAmIDB4RkYpICogKDEgLSB0KSArIChiICYgMHhGRikgKiB0O1xuICAgIHJldHVybiB0ciA8PCAxNiB8IHRnIDw8IDggfCB0Yjtcbn1cblxuZXhwb3J0IGNvbnN0IFBPSU5UX1JBRElVUyA9IDEyO1xuXG5leHBvcnQgY29uc3QgUElYSV9HUkFQSElDX1RZUEUgPSAncGl4aV9ncmFwaGljJztcbmV4cG9ydCB0eXBlIFBJWElfR1JBUEhJQ19UWVBFID0gdHlwZW9mIFBJWElfR1JBUEhJQ19UWVBFO1xuXG4vKipcbiAqIE1hbmFnZXM6XG4gKiAtIERyYXdpbmcgZWxlbWVudHNcbiAqIC0gU2VsZWN0aW9uIGhpZ2hsaWdodGluZ1xuICogLSBFbGVtZW50IHZpc2liaWxpdHkvcmVtZW1iZXJpbmdcbiAqIC0gTGF5ZXIgb3JkZXJpbmdcbiAqIC0gUG9zaXRpb24vVHJhbnNsYXRpb24gdXBkYXRlc1xuICogLSBCaXQtYnktYml0IHJlbWVtYmVyaW5nIChiYWNrZ3JvdW5kIGRpc2NvdmVyeSlcbiAqIC0gSW50ZXJhY3Rpb24gc2V0dXBcbiAqXG4gKiBUT0RPOiB3ZSBjb3VsZCB1c2UgYSBQYXJ0aWNsZVN5c3RlbSBpbiBzb21lIGluc3RhbmNlc1xuICovXG5leHBvcnQgY2xhc3MgUGl4aUdyYXBoaWNTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQSVhJX0dSQVBISUNfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBJTlRFUkFDVElPTl9UWVBFXTtcbiAgICByZWFkb25seSBwcm92aWRlcyA9IFtHUkFQSElDX1RZUEVdO1xuXG4gICAgd29ybGQ6IFdvcmxkO1xuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxDdXN0b21HcmFwaGljQ29tcG9uZW50PihHUkFQSElDX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG4gICAgcmVtZW1iZXJTdG9yYWdlID0gbmV3IEZsYWdFY3NTdG9yYWdlKFJFTUVNQkVSX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgdGV4dFN5c3RlbTogVGV4dFN5c3RlbTtcbiAgICBwaXhpQm9hcmRTeXN0ZW06IFBpeGlCb2FyZFN5c3RlbTtcbiAgICBpbnRlcmFjdGlvblN5c3RlbTogSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgcGxheWVyU3lzdGVtPzogUGxheWVyU3lzdGVtO1xuICAgIHJlbmRlclRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgY2lyY2xlVGV4PzogUElYSS5UZXh0dXJlO1xuXG4gICAgbWFzdGVyVmlzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMudGV4dFN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRFWFRfVFlQRSkgYXMgVGV4dFN5c3RlbTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5yZW1lbWJlclN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlZCcsIHRoaXMub25Db21wb25lbnRSZW1vdmVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3NlbGVjdGlvbl9iZWdpbicsIHRoaXMub25TZWxlY3Rpb25CZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignc2VsZWN0aW9uX2VuZCcsIHRoaXMub25TZWxlY3Rpb25FbmQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIHRoaXMub25CQkJWaXNpYmlsaXR5U3ByZWFkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZXJpYWxpemUnLCB0aGlzLm9uU2VyaWFsaXplLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZXJpYWxpemVfZW50aXR5JywgdGhpcy5vblNlcmlhbGl6ZUVudGl0eSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNwcmVhZFZpcyA9IGZhbHNlO1xuICAgICAgICBsZXQgY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgY29tID0gYyBhcyBDdXN0b21HcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcmFjdGl2ZShjb20sIHBvcywgdHJhbnMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5TGlzdGVuZXIoY29tKTtcblxuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBMQVlFUl9WSVNJQkxFX1RZUEUpIGFzIFBsYXllclZpc2libGVDb21wb25lbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgcmVtZW1iZXJlZCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBSRU1FTUJFUl9UWVBFKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCAhIXB2Py52aXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIGNvbS5fYml0QnlCaXQgPSB0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSBjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBSRU1FTUJFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGhlcmU/XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ByZWFkVmlzICYmIGNvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgc3ByZWFkVmlzID0gZmFsc2U7XG4gICAgICAgIGxldCBjb206IEN1c3RvbUdyYXBoaWNDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGMudHlwZSA9PT0gR1JBUEhJQ19UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSBjIGFzIEN1c3RvbUdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnJ1bk1ldGhvZHMoY29tLCBjb20uZGlzcGxheSk7Ly8gcnVuIGRlbGF5ZWQgbWV0aG9kcyAobGlrZSBfY2hpbGRyZW5BZGQsIF9jaGlsZHJlblJlcGxhY2UgJiBjbykuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aXZlKGNvbSwgcG9zLCB0cmFucyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUExBWUVSX1ZJU0lCTEVfVFlQRSkgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCByZW1lbWJlcmVkID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCBwdj8udmlzaWJsZSA/PyB0cnVlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIGNvbS5fYml0QnlCaXQgPSB0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSBjb20uX2JpdEJ5Qml0O1xuXG4gICAgICAgICAgICBpZiAoJ2ludGVyYWN0aXZlJyBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcmFjdGl2ZShjb20sIHBvcywgdHJhbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUE9TSVRJT05fVFlQRSkge1xuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwb3MgPSBjIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBUUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSBjIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIHNwcmVhZFZpcyA9ICEhY29tLl9iaXRCeUJpdDtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFBMQVlFUl9WSVNJQkxFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwdiA9IGMgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcblxuICAgICAgICAgICAgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChwdi5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGxldCByZW1lbWJlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY29tLl92aXNpYkxpc3RlbmVyID09PSBWaXNpYkxpc3RlbmVyTGV2ZWwuUkVNRU1CRVIgJiYgcHYudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJFTUVNQkVSX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eTogYy5lbnRpdHksXG4gICAgICAgICAgICAgICAgfSBhcyBSZW1lbWJlckNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLnJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZW1lbWJlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1hc3RlclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGNvbSwgY29tLmRpc3BsYXksIHRydWUsIHB2LnZpc2libGUsIHJlbWVtYmVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNwcmVhZFZpcyAmJiBjb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCQkJWaXNBcm91bmQoY29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmVkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBHUkFQSElDX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoKGMgYXMgR3JhcGhpY0NvbXBvbmVudCkuZGlzcGxheSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBUUkFOU0ZPUk1fVFlQRSkge1xuICAgICAgICAgICAgbGV0IGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgKGMgYXMgVHJhbnNmb3JtQ29tcG9uZW50KSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQgfHwgIWNvbS5fYml0QnlCaXQpIHJldHVybjtcbiAgICAgICAgICAgIC8vIE5vdyB5b3UncmUgdmlzaWJsZSEgc2F5IGhlbGxvXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09ICdsb2NhbF9saWdodF9zZXR0aW5ncycpIHtcbiAgICAgICAgICAgIGxldCBzZXQgPSByZXMgYXMgTG9jYWxMaWdodFNldHRpbmdzO1xuICAgICAgICAgICAgaWYgKCEoJ3Zpc2lvblR5cGUnIGluIGNoYW5nZXMpKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChzZXQudmlzaW9uVHlwZSA9PT0gJ2RtJykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFzdGVyVmlzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoYywgYy5kaXNwbGF5LCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNldC52aXNpb25UeXBlID09PSAncnAnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXN0ZXJWaXNpYmlsaXR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwdiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCAncGxheWVyX3Zpc2libGUnKSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjLCBjLmRpc3BsYXksIHRydWUsIHB2Py52aXNpYmxlLCByZW0gIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnVW5rbm93biB2aXNpb24gdHlwZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCEoJ3dpZHRoJyBpbiBjaGFuZ2VzKSkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gWW91IGFyZSBsaXRlcmFsbHkgc2F0YW4sIEkgaGF0ZSB5b3UuXG5cbiAgICAgICAgICAgIGxldCBwb3NTdG8gPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgICAgIGxldCB0cmFuU3RvID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVFJBTlNGT1JNX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VHJhbnNmb3JtQ29tcG9uZW50PjtcblxuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JFYWNoRWwoYywgYy5kaXNwbGF5LGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbGVtZW50VHlwZS5JTUFHRSAmJiAoZSBhcyBJbWFnZUVsZW1lbnQpLnNjYWxlID09PSBJbWFnZVNjYWxlTW9kZS5HUklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvLmdldENvbXBvbmVudChjLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYW4gPSB0cmFuU3RvLmdldENvbXBvbmVudChjLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMsIGUsIHBvcywgdHJhbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFLCB7IHNoYXBlOiB0aGlzLmNyZWF0ZVNoYXBlKGUsIHBvcywgdHJhbil9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlbGVjdGlvbkJlZ2luKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjLl9zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjLCBjLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlbGVjdGlvbkVuZChlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMsIGMuZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQkJCVmlzaWJpbGl0eVNwcmVhZChkYXRhOiBWaXNpYmlsaXR5U3ByZWFkRGF0YSk6IHZvaWQge1xuICAgICAgICBsZXQgaXRlciA9IHRoaXMuaW50ZXJhY3Rpb25TeXN0ZW0ucXVlcnkoc2hhcGVBYWJiKGRhdGEuYWFiYiksIGMgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbSAhPT0gdW5kZWZpbmVkICYmIGNvbS5fYml0QnlCaXQgPT09IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBoZXJlIHRoZW4gdGhlIGNvbXBvbmVudCBleGlzdHMsIHdlIGNoZWNrZWQgaXQgaW4gdGhlIGl0ZXJhdG9yXG4gICAgICAgICAgICBsZXQgY21wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkhO1xuICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY21wLCBjbXAuZGlzcGxheSwgKGltZykgPT4gdGhpcy51cGRhdGVCQkJWaXNpYmlsaXR5KGRhdGEsIGNtcCwgaW1nKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2VyaWFsaXplKCk6IHZvaWQge1xuICAgICAgICBsZXQgY2hhbmdlZExpc3QgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgY29tIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIGlmICghY29tLl9iaXRCeUJpdCkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSwgKGltZykgPT4gY2hhbmdlZCB8fD0gdGhpcy5leHRyYWN0VmlzaWJpbGl0eShpbWcpKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkKSBjaGFuZ2VkTGlzdC5wdXNoKGNvbS5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkTGlzdCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFLCBjaGFuZ2VkTGlzdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2VyaWFsaXplRW50aXR5KGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGMsIGMuZGlzcGxheSwgKGltZykgPT4gY2hhbmdlZCB8fD0gdGhpcy5leHRyYWN0VmlzaWJpbGl0eShpbWcpKTtcblxuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFLCBbZW50aXR5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTElTVEVORVJTIERPTkUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgdXBkYXRlSW50ZXJhY3RpdmUoY29tcDogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCwgcG9zOiBJUG9pbnREYXRhLCB0cmFuczogVHJhbnNmb3JtQ29tcG9uZW50IHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBpbnRlcmFjdGl2ZUNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBpZiAoY29tcC5pbnRlcmFjdGl2ZSAmJiBpbnRlcmFjdGl2ZUNtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wLmVudGl0eSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IElOVEVSQUNUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgc2VsZWN0UHJpb3JpdHk6IGNvbXAuZGlzcGxheS5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICBzbmFwRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGFwZTogdGhpcy5jcmVhdGVTaGFwZShjb21wLmRpc3BsYXksIHBvcywgdHJhbnMpLFxuICAgICAgICAgICAgfSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNvbXAuaW50ZXJhY3RpdmUgJiYgaW50ZXJhY3RpdmVDbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoaW50ZXJhY3RpdmVDbXApO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb21wb25lbnQgY2hhbmdlcyBpbiBpbnRlcmFjdG9yXG4gICAgICAgICAgICBpZiAoY29tcC5kaXNwbGF5LnR5cGUgPT09IEVsZW1lbnRUeXBlLklNQUdFKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRleHR1cmUgaGFzIGNoYW5nZWQgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGludGVyYWN0b3IuXG4gICAgICAgICAgICAgICAgbGV0IGVsID0gY29tcC5kaXNwbGF5IGFzIEN1c3RvbUltYWdlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoZWwudGV4dHVyZSAhPT0gZWwuX29sZFRleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoY29tcC5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUsIHtzaGFwZTogdGhpcy5jcmVhdGVTaGFwZShlbCwgcG9zLCB0cmFucyl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVNoYXBlKGNvbXA6IEN1c3RvbURpc3BsYXlFbGVtZW50LCBwb3M6IElQb2ludERhdGEsIHRyYW5zOiBUcmFuc2Zvcm1Db21wb25lbnQgfCB1bmRlZmluZWQpOiBTaGFwZSB7XG4gICAgICAgIHN3aXRjaCAoY29tcC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkNPTlRBSU5FUjpcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHRoZSByb290IGVsZW1lbnQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUsIHRoZSBvdGhlcnMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICB0aHJvdyAnQ2Fubm90IG1ha2UgaW50ZXJhY3RpdmUgY29udGFpbmVyJztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuVEVYVDpcbiAgICAgICAgICAgICAgICB0aHJvdyAnQ2Fubm90IG1ha2UgaW50ZXJhY3RpdmUgdGV4dCc7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEltYWdlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgdyA9IGMudGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICBsZXQgaCA9IGMudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IGFhYmI7XG5cbiAgICAgICAgICAgICAgICBsZXQgc3ggPSB0cmFucz8uc2NhbGUgfHwgMTtcbiAgICAgICAgICAgICAgICBsZXQgc3kgPSB0cmFucz8uc2NhbGUgfHwgMTtcblxuICAgICAgICAgICAgICAgIGlmIChjLnNjYWxlID09IEltYWdlU2NhbGVNb2RlLkdSSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlR3JpZFNpemUoYy50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3NpemUgPSAoYy50ZXh0dXJlIGFzIEN1c3RvbVRleHR1cmUpLmdyaWRTaXplISE7XG4gICAgICAgICAgICAgICAgICAgIHN4ID0gZ3NpemUueCAqIGdyaWQuc2l6ZSAqIHN4O1xuICAgICAgICAgICAgICAgICAgICBzeSA9IGdzaXplLnkgKiBncmlkLnNpemUgKiBzeTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhYWJiID0gQWFiYi5mcm9tUG9pbnRBbmNob3IocG9zLCB7eDogdywgeTogaH0sIGMuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBhYWJiLnNjYWxlKHN4LCBzeSwgYWFiYik7XG4gICAgICAgICAgICAgICAgbGV0IG9iYiA9IE9iYi5yb3RhdGVBYWJiKGFhYmIuY29weSgpLCB0cmFucz8ucm90YXRpb24gfHwgMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlT2JiKG9iYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkxJTkU6IHtcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgTGluZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlTGluZShuZXcgTGluZShcbiAgICAgICAgICAgICAgICAgICAgcG9zLngsIHBvcy55LCBwb3MueCArIGMudmVjLngsIHBvcy55ICsgYy52ZWMueVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZVBvaW50KG5ldyBQSVhJLlBvaW50KHBvcy54LCBwb3MueSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdmlzaWJpbGl0eSBmcm9tIHRoZSByZW5kZXJ0ZXh0dXJlIG9mIHRoZSBpbWFnZSAobXVzdCBiZSBWSVNCTEVfQklUX0JZX0JJVCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYyB0aGUgaW1hZ2UgZnJvbSB3aGljaCB0aGUgdmlzaWJpbGl0eSBtYXAgd2lsbCBiZSBleHRyYWN0ZWQuXG4gICAgICogQHJldHVybiB0cnVlIG9ubHkgaWYgdGhlIHZpc2liaWxpdHkgbWFwIGhhcyBiZWVuIG1vZGlmaWVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBleHRyYWN0VmlzaWJpbGl0eShjOiBDdXN0b21JbWFnZUVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGMuX3Zpc01hcENoYW5nZWQgIT09IHRydWUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjLnZpc01hcCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCByZW5kZXJlciA9IGFwcC5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgdGV4ID0gYy5fcmVuVGV4O1xuICAgICAgICBpZiAodGV4ID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBsZXQgZnJhbWUgPSB0ZXguZnJhbWU7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHRleCk7XG4gICAgICAgIGxldCB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KHRleC53aWR0aCAqIHRleC5oZWlnaHQgKiA0KTtcblxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICAgICAgZnJhbWUueCxcbiAgICAgICAgICAgIGZyYW1lLnksXG4gICAgICAgICAgICBmcmFtZS53aWR0aCxcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCxcbiAgICAgICAgICAgIGdsLlJHQkEsXG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgZnVja0xlbiA9IHdlYmdsUGl4ZWxzLmxlbmd0aCAvIDQ7XG4gICAgICAgIGxldCBuZXdMZW4gPSAoKHdlYmdsUGl4ZWxzLmxlbmd0aCAvIDQgLSAxKSA+Pj4gNSkgKyAxO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gbmV3IFVpbnQzMkFycmF5KG5ld0xlbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVja0xlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGl4ZWwgPSB3ZWJnbFBpeGVsc1tpICogNCArIDNdO1xuXG4gICAgICAgICAgICBpZiAoKHBpeGVsICYgMHg4MCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaSA+Pj4gNV0gfD0gMSA8PCAoaSAmIDBiMTExMTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGMudmlzTWFwID0gdGFyZ2V0O1xuICAgICAgICBjLl92aXNNYXBDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFZpc2liaWxpdHkoYzogQ3VzdG9tSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYy50ZXh0dXJlLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBjLnRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChjLl9yZW5UZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fcmVuVGV4ID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBidCA9IGMuX3JlblRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIChidCBhcyBhbnkpLmNsZWFyQ29sb3IgPSBbMC4wLCAwLjAsIDAuMCwgMC4wXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjLnZpc01hcCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHRleE9wdHMgPSB7XG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgZm9ybWF0OiBQSVhJLkZPUk1BVFMuUkdCQSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdGV4RGF0YSA9IG5ldyBVaW50MzJBcnJheShjLnRleHR1cmUud2lkdGggKiBjLnRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICBsZXQgc2V0ID0gbmV3IEJpdFNldChjLnZpc01hcCk7XG4gICAgICAgIGxldCBsZW4gPSB0ZXhEYXRhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGV4RGF0YVtpXSA9IHNldC5nZXQoaSkgPyAweEZGRkZGRkZGIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBieXRlRGF0YSA9IG5ldyBVaW50OEFycmF5KHRleERhdGEuYnVmZmVyKTtcbiAgICAgICAgbGV0IHJlc291cmNlID0gbmV3IFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlKGJ5dGVEYXRhLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICAgIGxldCBiYXNlVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VUZXh0dXJlKHJlc291cmNlLCB0ZXhPcHRzKVxuXG4gICAgICAgIGxldCB0ZXggPSBuZXcgUElYSS5UZXh0dXJlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgbGV0IGx1bVNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgpO1xuICAgICAgICBsdW1TcHJpdGUuYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgbGV0IG1hcFNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShjLnRleHR1cmUpO1xuICAgICAgICBsZXQgY250ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIGNudC5hZGRDaGlsZChtYXBTcHJpdGUsIGx1bVNwcml0ZSk7XG5cbiAgICAgICAgYXBwLnJlbmRlcmVyLnJlbmRlcihjbnQsIGMuX3JlblRleCwgdHJ1ZSk7XG5cbiAgICAgICAgbHVtU3ByaXRlLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuXG4gICAgICAgIGMuX3Zpc01hcENoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvckVhY2hFbChjb206IEN1c3RvbUdyYXBoaWNDb21wb25lbnQsIGltZzogQ3VzdG9tRGlzcGxheUVsZW1lbnQsIGY6IChpbWc6IEN1c3RvbURpc3BsYXlFbGVtZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGYoaW1nKTtcbiAgICAgICAgaWYgKGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvckVhY2hFbChjb20sIGMsIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkb09uQml0QnlCaXQoY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBpbWc6IEN1c3RvbURpc3BsYXlFbGVtZW50LCBmOiAoaW1nOiBDdXN0b21JbWFnZUVsZW1lbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGltZy50eXBlID09IEVsZW1lbnRUeXBlLklNQUdFICYmIChpbWcgYXMgQ3VzdG9tSW1hZ2VFbGVtZW50KS52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgZihpbWcgYXMgQ3VzdG9tSW1hZ2VFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNvbSwgYywgZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG5lZWRzQml0QnlCaXQoY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBpbWc6IEN1c3RvbURpc3BsYXlFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChpbWcudHlwZSA9PSBFbGVtZW50VHlwZS5JTUFHRSAmJiAoaW1nIGFzIEN1c3RvbUltYWdlRWxlbWVudCkudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNCaXRCeUJpdChjb20sIGMpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVCQkJWaXNBcm91bmQoY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBpbnRlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbS5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICBsZXQgYWFiYiA9IHNoYXBlVG9BYWJiKGludGVyLnNoYXBlKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLmdldFNwcmVhZERhdGFGb3JBYWJiKGFhYmIsIGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSwgKGltZykgPT4gdGhpcy51cGRhdGVCQkJWaXNpYmlsaXR5KGRhdGEsIGNvbSwgaW1nKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQkJCVmlzaWJpbGl0eShkYXRhOiBWaXNpYmlsaXR5U3ByZWFkRGF0YSwgY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBpbWc6IEN1c3RvbUltYWdlRWxlbWVudCkge1xuICAgICAgICAvLyAgICAgIFBhcnQgMS4gV2hhdD9cbiAgICAgICAgLy8gU28sIHdoYXQgZG9lcyB0aGlzIHNwYWdoZXR0aSBtZXNzIGRvPyBHb29kIHF1ZXN0aW9uIVxuICAgICAgICAvLyBXZSBoYXZlIHBsYXllcnMgYW5kIGxpZ2h0cywgc29tZSBwbGF5ZXJzIGNhbiBzZWUgd2l0aG91dCBsaWdodHMgYW5kIG90aGVycyBjYW4ndFxuICAgICAgICAvLyBUaGUgdGFzayBpcyB0byB1cGRhdGUgdGhlIHJlbmRlcnRleHR1cmUgb2YgdGhlIGJhY2tncm91bmQgY29tcG9uZW50IGFkZGluZyB0aGUgdmlzaWJsZSBzcG90cyB0byBpdC5cbiAgICAgICAgLy8gVGhlIHZpc2libGUgc3BvdHMgYXJlOiBUaGUgbWVzaGVzIG9mIHRoZSBwbGF5ZXJzIHdpdGggbmlnaHQgdmlzaW9uIGVuYWJsZWQgYW5kIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlXG4gICAgICAgIC8vIHVuaW9uIG9mIHRoZSB2aXNpb24gbWVzaCBvZiB0aGUgbm9ybWFsIHBsYXllcnMgd2l0aCB0aGUgdW5pb24gb2YgdGhlIHZpc29uIG1lc2hlcyBvZiB0aGUgbGlnaHRzLlxuICAgICAgICAvLyBDb21tb24gY2FzZTogMSBOViBwbGF5ZXIgMCBsaWdodHMsIDEgcGxheWVyIG11bHRpcGxlIGxpZ2h0cywgbXVsdGlwbGUgcGxheWVycyAxIGxpZ2h0XG4gICAgICAgIC8vIFBvc3NpYmxlIChidXQgdW5jb21tb24pIGNhc2VzOiB4IE5WIHBsYXllcnMsIHkgbm9ybWFsIHBsYXllcnMsIHogbGlnaHRzICh3aXRoIHgsIHksIHogbmF0dXJhbHMpLlxuXG4gICAgICAgIC8vICAgICAgUGFydCAyLiBIb3c/XG4gICAgICAgIC8vIFRoZSBpbml0aWFsIGlkZWEgaXMgc2ltcGxlLCByZW5kZXIgYW55dGhpbmcgb24gdGhlIGJrZy5fcmVuVGV4IGFuZCB0aGVuIHJlbmRlciB0aGUgb3JpZ2luYWwgdGV4dHVyZSB3aXRoXG4gICAgICAgIC8vIGJsZW5kTW9kZSA9IFNSQ19JTiwgYW55IHNwb3Qgd2l0aCBhbHBoYSA9IDEgd2lsbCB0aGVuIGJlIHJlcGxhY2VkIHdpdGggdGhlIGNvcnJlY3QgdGV4dHVyZS5cbiAgICAgICAgLy8gVGhlIG5pZ2h0IHZpc2lvbiBwbGF5ZXJzIHJlbmRlcmluZyBpcyBxdWl0ZSBzaW1wbGUsIGp1c3QgcmVuZGVyIHRoZSBtZXNoZXMgYmVmb3JlIHRoZSBmaW5hbCB0ZXh0dXJlIHJlbmRlclxuICAgICAgICAvLyBUaGUgbm9ybWFsIHBsYXllcnMgd2lsbCBiZSBhIGJpdCBkaWZmZXJlbnQgc2luY2Ugd2UgbmVlZCB0byBpbnRlcnNlY3QgdGhlaXIgbWVzaGVzIHdpdGggdGhlIGxpZ2h0IG1lc2guXG4gICAgICAgIC8vIFRvIGRvIHRoYXQgd2UgY2FuIHJlbmRlciBhbGwgdGhlIHBsYXllcnMgbWVzaGVzIGluIGEgZnJhbWVidWZmZXIgQSwgdGhlbiByZW5kZXIgYWxsIG9mIHRoZSBsaWdodHMgaW4gYW5vdGhlclxuICAgICAgICAvLyBmcmFtZSBidWZmZXIgQiwgdGhlbiByZW5kZXIgQSBvbnRvIEIgd2l0aCBibGVuZE1vZGUgPSBTUkNfSU4gdG8gY3JlYXRlIGEgc29ydCBvZiB1bmlvbiBvZiB0aGUgdHdvLlxuICAgICAgICAvLyBPbmNlIHRoYXQgaXMgZG9uZSB3ZSBjYW4gcmVuZGVyIEIgaW50byB0aGUgYmtnLl9yZW5UZXggYW5kIHByb2NlZWQgbm9ybWFsbHkuXG4gICAgICAgIC8vIEFub3RoZXIgd2F5IHRvIGRvIHRoaXMgdXNpbmcgb25seSBhIHNpbmdsZSByZW5kZXJ0ZXh0dXJlIGlzIHRvIHVzZSB0aGUgc3RlbmNpbCBidWZmZXIsIGJ1dCBpdCB3aWxsIGRvdWJsZSB0aGVcbiAgICAgICAgLy8gbWVzaCByZW5kZXIgY2FsbHMgKGFuZCBzaW5jZSB0aGV5IGFyZSBub3QgYnVmZmVyZWQsIGl0J3MgYSBzbG93IG9wZXJhdGlvbilcbiAgICAgICAgLy8gSSBkb24ndCB0aGluayB0aGF0IHRoZXJlIGlzIGFub3RoZXIgd2F5IHRvIHBlcmZvcm0gdGhpcyBpbiB0aGUgZ2VuZXJhbCBjYXNlLCBwbGVhc2UgcHJvdmUgbWUgd3JvbmcuXG4gICAgICAgIC8vIFRPRE86IG1heWJlIHdlIGNhbiBvcHRpbWl6ZSB0aGlzIHdoZW4gb25seSAxIHBsYXllciBhbmQgMSBsaWdodCBpcyBwcmVzZW50IChsaWtlLCBhdm9pZGluZyAxIG9mIHRoZSAyIGZyYW1lYnVmZmVycykuXG5cbiAgICAgICAgLy8gU2tpcCBFVkVSWVRISU5HIGlmIHRoaXMgZW50aXR5IGlzIGhpZGRlbi5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbS5lbnRpdHksIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47XG5cbiAgICAgICAgLy9jb25zb2xlLnRpbWUoJ3VwZGF0ZVZpc2liaWxpdHknKTtcblxuICAgICAgICBsZXQgcmVuZGVyZXIgPSBhcHAucmVuZGVyZXI7XG5cbiAgICAgICAgbGV0IGxvY2FsQ250ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIC8vIFNldHVwIGxvY2FsIHRyYW5zZm9ybVxuICAgICAgICBsZXQgbSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbGV0IHBpeGkgPSBpbWcuX3BpeGkhO1xuICAgICAgICBtLnRyYW5zbGF0ZShcbiAgICAgICAgICAgIC1waXhpLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAtcGl4aS5wb3NpdGlvbi55XG4gICAgICAgICk7XG4gICAgICAgIG0ucm90YXRlKC1waXhpLnJvdGF0aW9uKTtcbiAgICAgICAgbGV0IGludlNjYWxlID0gMS9waXhpLnNjYWxlLng7XG4gICAgICAgIG0uc2NhbGUoaW52U2NhbGUsIGludlNjYWxlKTtcbiAgICAgICAgbS50cmFuc2xhdGUoaW1nLnRleHR1cmUud2lkdGggLyAyLCBpbWcudGV4dHVyZS5oZWlnaHQgLyAyKTtcbiAgICAgICAgbG9jYWxDbnQudHJhbnNmb3JtLnNldEZyb21NYXRyaXgobSk7XG5cbiAgICAgICAgbGV0IHdvcmxkQ250ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBwbGF5ZXJzIHdpdGhvdXQgbmlnaHQgdmlzaW9uIChhbmQgdGhlcmUgYXJlIGxpZ2h0cykgcmVuZGVyIHRoZW0gKFRISVMgSVMgU0xPVyEpXG4gICAgICAgIGxldCB0ZXgsIHRleDIsIG5pZ2h0U3ByaXRlO1xuICAgICAgICBpZiAoZGF0YS5wbGF5ZXJzLmxlbmd0aCAhPT0gMCAmJiBkYXRhLmxpZ2h0cy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRleCA9ICh0aGlzLnJlbmRlclRleHR1cmVQb29sIGFzIGFueSkuZ2V0T3B0aW1hbFRleHR1cmUocGl4aS53aWR0aCwgcGl4aS5oZWlnaHQpO1xuICAgICAgICAgICAgdGV4MiA9ICh0aGlzLnJlbmRlclRleHR1cmVQb29sIGFzIGFueSkuZ2V0T3B0aW1hbFRleHR1cmUocGl4aS53aWR0aCwgcGl4aS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgZGF0YS5wbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQocGxheWVyLm1lc2gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW5kZXIgdGhlIHBsYXllcnMgdmlzaWJpbGl0eSBtZXNoZXMgb250byB0ZXhcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihsb2NhbENudCwgdGV4LCB0cnVlKTtcbiAgICAgICAgICAgIGxvY2FsQ250LnJlbW92ZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGxpZ2h0IG9mIGRhdGEubGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgbGlnaHQubWVzaC5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgICAgICAgICBsb2NhbENudC5hZGRDaGlsZChsaWdodC5tZXNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHBsYXllclNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLlNSQ19JTjtcblxuICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBsaWdodHMgb250byB0ZXgyLCB0aGVuIHJlbmRlciB0ZXggYXMgQkxFTkRfTU9ERS5TUkNfSU4gdG8gZmlsdGVyIG91dCB3aGVyZSB0aGUgbGlnaHRzIHdlcmUgbm90XG4gICAgICAgICAgICAvLyBwcmVzZW50LlxuICAgICAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobG9jYWxDbnQsIHBsYXllclNwcml0ZSk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIod29ybGRDbnQsIHRleDIsIHRydWUpO1xuICAgICAgICAgICAgd29ybGRDbnQucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIGxvY2FsQ250LnJlbW92ZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIC8vIEFkZCB0ZXgyIHRvIHRoZSBtYWluIHBoYXNlXG4gICAgICAgICAgICBuaWdodFNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgyKTtcbiAgICAgICAgICAgIG5pZ2h0U3ByaXRlLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuICAgICAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobmlnaHRTcHJpdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIGRhdGEubmlnaHRWaXNQbGF5ZXJzKSB7XG4gICAgICAgICAgICBsb2NhbENudC5hZGRDaGlsZChwbGF5ZXIubWVzaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3JpZ1RleCA9IG5ldyBQSVhJLlNwcml0ZShpbWcudGV4dHVyZSk7XG4gICAgICAgIG9yaWdUZXguYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobG9jYWxDbnQsIG9yaWdUZXgpXG5cbiAgICAgICAgLy8gUmVuZGVyIGV2ZXJ5dGhpbmcgdG8gYmtnLl9yZW5UZXggYW5kIHRoZW4gcmVkcmF3IHRoZSBvcmlnaW5hbCBvbmx5IHdoZXJlIGlzIGFscGhhPTEuXG4gICAgICAgIGFwcC5yZW5kZXJlci5yZW5kZXIod29ybGRDbnQsIGltZy5fcmVuVGV4LCBmYWxzZSk7XG4gICAgICAgIGltZy5fdmlzTWFwQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gQ2xlYW51cCB0aW1lIChkb24ndCB3b3JyeSwgSSdtIHJlY3ljbGluZyBhbmQgdGhlcmUncyBhIGdhcmJhZ2UgY2xlYW5lciwgd2UncmUgZWNvIGZyaWVuZGx5ISlcbiAgICAgICAgd29ybGRDbnQuZGVzdHJveShERVNUUk9ZX01JTik7XG4gICAgICAgIG9yaWdUZXguZGVzdHJveShERVNUUk9ZX01JTik7XG5cbiAgICAgICAgaWYgKHRleCAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlbmRlclRleHR1cmVQb29sLnJldHVyblRleHR1cmUodGV4KTtcbiAgICAgICAgaWYgKHRleDIgIT09IHVuZGVmaW5lZCkgdGhpcy5yZW5kZXJUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleDIpO1xuICAgICAgICBpZiAobmlnaHRTcHJpdGUgIT09IHVuZGVmaW5lZCkgbmlnaHRTcHJpdGUuZGVzdHJveShERVNUUk9ZX01JTik7XG5cbiAgICAgICAgLy9jb25zb2xlLnRpbWVFbmQoJ3VwZGF0ZVZpc2liaWxpdHknKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoYzogRGlzcGxheUVsZW1lbnQpOiBWaXNpYkxpc3RlbmVyTGV2ZWwge1xuICAgICAgICBsZXQgbGV2ZWw7XG4gICAgICAgIHN3aXRjaCAoYy52aXNpYikge1xuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtYXhpbXVtIGxldmVsLCBubyBuZWVkIGZvciBmdXJ0aGVyIGNoZWNraW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UO1xuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRTpcbiAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVDpcbiAgICAgICAgICAgICAgICBsZXZlbCA9IFZpc2liTGlzdGVuZXJMZXZlbC5OT1RfTkVFREVEO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUjpcbiAgICAgICAgICAgICAgICBsZXZlbCA9IFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaCBvZiBjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBNYXRoLm1heChsZXZlbCwgdGhpcy5jb21wdXRlVmlzaWJpbGl0eUxpc3RlbmVyKGNoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09PSBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVCkgYnJlYWs7Ly8gQWxyZWFkeSBtYXhlZCBvdXQuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGV2ZWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZXN0cm95RWxlbWVudChkZXNjOiBDdXN0b21EaXNwbGF5RWxlbWVudCwgcmVjdXJzaXZlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGxldCBlbGVtID0gZGVzYy5fcGl4aTtcblxuICAgICAgICBpZiAoZWxlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgc3dpdGNoIChkZXNjLl9vbGRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBpbSA9IGRlc2MgYXMgQ3VzdG9tSW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBkZXN0cm95VGV4ID0gaW0uc2hhcmVkVGV4dHVyZSAhPT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoZWxlbSBhcyBQSVhJLlNwcml0ZSkuZGVzdHJveSh7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTogZGVzdHJveVRleCxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmU6IGRlc3Ryb3lUZXgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGltLl9yZW5UZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpbS5fcmVuVGV4LmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOlxuICAgICAgICAgICAgICAgIChlbGVtIGFzIFBJWEkuR3JhcGhpY3MpLmRlc3Ryb3koe1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICAoZWxlbSBhcyBQSVhJLlNwcml0ZSkuZGVzdHJveShERVNUUk9ZX01JTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5UZXh0KS5kZXN0cm95KERFU1RST1lfTUlOKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGRlc2MuX3BpeGkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlc2MuX29sZFR5cGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHJlY3Vyc2l2ZSAmJiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBlbCBvZiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUVsZW1lbnQoZGVzYzogQ3VzdG9tRGlzcGxheUVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChkZXNjLCBmYWxzZSk7XG5cbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgLy8gVE9ETzogTGF5ZXJzXG4gICAgICAgIHN3aXRjaCAoZGVzYy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkNPTlRBSU5FUjpcbiAgICAgICAgICAgICAgICByZXMgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuSU1BR0U6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkxJTkU6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuU3ByaXRlKHRoaXMuY2lyY2xlVGV4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuVEVYVDpcbiAgICAgICAgICAgICAgICByZXMgPSBuZXcgUElYSS5UZXh0KFwiXCIpO1xuICAgICAgICAgICAgICAgIHJlcy5wYXJlbnRMYXllciA9IHRoaXMudGV4dFN5c3RlbS50ZXh0TGF5ZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJlcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHJlcy56SW5kZXggPSBkZXNjLnByaW9yaXR5O1xuICAgICAgICBkZXNjLl9waXhpID0gcmVzO1xuICAgICAgICBkZXNjLl9vbGRUeXBlID0gZGVzYy50eXBlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5ib2FyZC5hZGRDaGlsZChyZXMpO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5ib2FyZC5zb3J0Q2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRleHR1cmVVcGRhdGVHcmlkU2l6ZSh0ZXg6IEN1c3RvbVRleHR1cmUpOiB2b2lkIHtcbiAgICAgICAgbGV0IHRleElkID0gKHRleCBhcyBhbnkpLl91cGRhdGVJRDtcbiAgICAgICAgaWYgKHRleC5ncmlkU2l6ZSAhPT0gdW5kZWZpbmVkICYmIHRleC5ncmlkU2l6ZS51cGRhdGVJZCAhPT0gdGV4SWQpIHJldHVybjtcblxuICAgICAgICB0ZXguZ3JpZFNpemUgPSB7XG4gICAgICAgICAgICB4OiBNYXRoLmNlaWwodGV4LndpZHRoIC8gU1RBTkRBUkRfR1JJRF9PUFRJT05TLnNpemUpIC8gdGV4LndpZHRoLFxuICAgICAgICAgICAgeTogTWF0aC5jZWlsKHRleC5oZWlnaHQgLyBTVEFOREFSRF9HUklEX09QVElPTlMuc2l6ZSkgLyB0ZXguaGVpZ2h0LFxuICAgICAgICAgICAgdXBkYXRlSWQ6IHRleElkLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVFbGVtZW50VmlzaWJpbGl0eShwYXI6IEN1c3RvbUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IEN1c3RvbURpc3BsYXlFbGVtZW50LCByZWN1cnNpdmU6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlWaXNpYmxlOiBib29sZWFuLCByZW1lbWJlcmVkOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBpc1Zpc2libGU7XG4gICAgICAgIGlmIChjdXJyZW50bHlWaXNpYmxlIHx8IHRoaXMubWFzdGVyVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZGVzYy52aXNpYikge1xuICAgICAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuTk9STUFMOlxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGUgPSBjdXJyZW50bHlWaXNpYmxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFOlxuICAgICAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVDpcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUjpcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gcmVtZW1iZXJlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBpeGkgPSBkZXNjLl9waXhpITtcbiAgICAgICAgcGl4aS52aXNpYmxlID0gaXNWaXNpYmxlO1xuXG4gICAgICAgIGlmIChkZXNjLnZpc2liID09PSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUKSB7XG4gICAgICAgICAgICBsZXQgaW0gPSAoZGVzYyBhcyBDdXN0b21JbWFnZUVsZW1lbnQpO1xuICAgICAgICAgICAgaW0uX3BpeGkhLnRleHR1cmUgPSB0aGlzLm1hc3RlclZpc2liaWxpdHkgPyBpbS50ZXh0dXJlIDogaW0uX3JlblRleCE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkocGFyLCBjLCB0cnVlLCBjdXJyZW50bHlWaXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVmlzaWJpbGl0eUxpc3RlbmVyKGVsOiBDdXN0b21HcmFwaGljQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBsaXN0TGV2ZWwgPSB0aGlzLmNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoZWwuZGlzcGxheSk7XG4gICAgICAgIGxldCBvbGRMaXN0TGV2ZWwgPSBlbC5fdmlzaWJMaXN0ZW5lciB8fCBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDtcbiAgICAgICAgaWYgKGxpc3RMZXZlbCA9PT0gb2xkTGlzdExldmVsKSByZXR1cm47Ly8gTm8gY2hhbmdlcyByZXBvcnRlZC5cblxuICAgICAgICBsZXQgaXNSZW1lbWJlcmVkID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVsLmVudGl0eSk7XG5cbiAgICAgICAgbGV0IGxpc3RlbmVyTmVlZGVkO1xuICAgICAgICBzd2l0Y2ggKGxpc3RMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDogbGlzdGVuZXJOZWVkZWQgPSBmYWxzZTsgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSOiAgIGxpc3RlbmVyTmVlZGVkID0gIWlzUmVtZW1iZXJlZDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UOiBsaXN0ZW5lck5lZWRlZCA9IHRydWU7ICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZExpc3RlbmVyTmVlZGVkO1xuICAgICAgICBzd2l0Y2ggKG9sZExpc3RMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDogb2xkTGlzdGVuZXJOZWVkZWQgPSBmYWxzZTsgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSOiAgIG9sZExpc3RlbmVyTmVlZGVkID0gIWlzUmVtZW1iZXJlZDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UOiBvbGRMaXN0ZW5lck5lZWRlZCA9IHRydWU7ICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2h5IGJlZm9yZT8gZ29vZCBxdWVzdGlvbiFcbiAgICAgICAgLy8gd2hlbiB3ZSBhZGQgdGhlIGxpc3RlbmVyIHdlIGNvdWxkIGRpc2NvdmVyIGluc3RhbnRseSB0aGF0IHRoZSB2aXNpYmlsaXR5IGlzIHByZXNlbnQsIHRodXMgY2FsbGluZ1xuICAgICAgICAvLyBhIGNhbGxiYWNrIHRvIHRoaXMgc3lzdGVtIHNheWluZyBcImhpLCB0aGlzIGVsZW1lbnQgaW4gd2hpY2ggdGhlcmUncyBhIHZpc2liaWxpdHkgbGlzdGVuZXIgaXMgdmlzaWJsZVwiXG4gICAgICAgIC8vIGlmIHdlIHNldCB0aGUgbGlzdGVuZXIgYWZ0ZXIgdGhpcyB0aGUgc3lzdGVtIHdpbGwgc2F5IFwib2ggcmVhbGx5LCBidXQgdGhlcmUncyBubyBsaXN0ZW5lciBvbiB0aGlzIGVsZW1lbnRcIlxuICAgICAgICAvLyAoeWVhaCBJIHNwZW50IHdheSB0b28gbXVjaCB0aW1lIHRvIGRlYnVnIHRoaXMpXG4gICAgICAgIGVsLl92aXNpYkxpc3RlbmVyID0gbGlzdExldmVsO1xuICAgICAgICBpZiAobGlzdGVuZXJOZWVkZWQgJiYgIW9sZExpc3RlbmVyTmVlZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEuYWRkUGxheWVyVmlzTGlzdGVuZXIoZWwuZW50aXR5LCBlbC5pc1dhbGwpO1xuICAgICAgICB9IGVsc2UgaWYgKCFsaXN0ZW5lck5lZWRlZCAmJiBvbGRMaXN0ZW5lck5lZWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLnJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGVsLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJ1bk1ldGhvZHMocGFyOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBlbDogQ3VzdG9tRGlzcGxheUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlblJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsLl9jaGlsZHJlbkFkZCA9IGVsLl9jaGlsZHJlblJlcGxhY2U7XG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5SZXBsYWNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5fY2hpbGRyZW5BZGQpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSBlbC5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgZWwuY2hpbGRyZW4ucHVzaCguLi5lbC5fY2hpbGRyZW5BZGQpO1xuICAgICAgICAgICAgZWwuX2NoaWxkcmVuQWRkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5fY2hpbGRyZW5SZW1vdmUpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGVsLl9jaGlsZHJlblJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKGVsLmNoaWxkcmVuLCBjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuX2NoaWxkcmVuUmVtb3ZlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMucnVuTWV0aG9kcyhwYXIsIGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVFbGVtZW50KHBhcjogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCwgZGVzYzogQ3VzdG9tRGlzcGxheUVsZW1lbnQsIHBvczogSVBvaW50RGF0YSwgdHJhbnM6IFRyYW5zZm9ybUNvbXBvbmVudCB8IHVuZGVmaW5lZCwgcmVjdXJzaXZlOiBib29sZWFuKSB7XG4gICAgICAgIGlmIChkZXNjLl9vbGRUeXBlICE9PSBkZXNjLnR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudChkZXNjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkID0gZGVzYy5fcGl4aSE7XG5cbiAgICAgICAgaWYgKGRlc2Mub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGQucG9zaXRpb24uc2V0KHBvcy54ICsgZGVzYy5vZmZzZXQueCwgcG9zLnkgKyBkZXNjLm9mZnNldC55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGQucG9zaXRpb24uc2V0KHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGRlc2MudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGRpbSA9IChkIGFzIFBJWEkuU3ByaXRlKTtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBDdXN0b21JbWFnZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChlbC52aXNpYiA9PSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpbS50ZXh0dXJlID0gdGhpcy5tYXN0ZXJWaXNpYmlsaXR5ID8gZWwudGV4dHVyZSA6IGVsLl9yZW5UZXghO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpbS50ZXh0dXJlID0gZWwudGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGltLmFuY2hvci5jb3B5RnJvbShlbC5hbmNob3IpO1xuICAgICAgICAgICAgICAgIGxldCBzeCA9IHRyYW5zPy5zY2FsZSB8fCAxO1xuICAgICAgICAgICAgICAgIGxldCBzeSA9IHN4O1xuICAgICAgICAgICAgICAgIGlmIChlbC5zY2FsZSA9PT0gSW1hZ2VTY2FsZU1vZGUuR1JJRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVHcmlkU2l6ZShkaW0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdzaXplID0gKGRpbS50ZXh0dXJlIGFzIEN1c3RvbVRleHR1cmUpLmdyaWRTaXplISE7XG4gICAgICAgICAgICAgICAgICAgIHN4ID0gZ3NpemUueCAqIGdyaWQuc2l6ZSAqIHN4O1xuICAgICAgICAgICAgICAgICAgICBzeSA9IGdzaXplLnkgKiBncmlkLnNpemUgKiBzeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGltLnJvdGF0aW9uID0gdHJhbnM/LnJvdGF0aW9uIHx8IDA7XG4gICAgICAgICAgICAgICAgZGltLnNjYWxlLnNldChzeCwgc3kpO1xuICAgICAgICAgICAgICAgIGRpbS50aW50ID0gcGFyLl9zZWxlY3RlZCA/IDB4Nzk4NkNCIDogMHhGRkZGRkY7XG5cblxuICAgICAgICAgICAgICAgIGlmIChlbC52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWwuX29sZFRleCAhPT0gZWwudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVmlzaWJpbGl0eShlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLl9yZW5UZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5fcmVuVGV4LmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsLl9yZW5UZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsLl9vbGRUZXggPSBlbC50ZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkxJTkU6IHtcbiAgICAgICAgICAgICAgICBsZXQgZyA9IChkIGFzIFBJWEkuR3JhcGhpY3MpO1xuICAgICAgICAgICAgICAgIGxldCBlbCA9IChkZXNjIGFzIExpbmVFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGcuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgIGcubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgICAgIGcubGluZVN0eWxlKDUsIGVsLmNvbG9yKTtcbiAgICAgICAgICAgICAgICBnLmxpbmVUbyhlbC52ZWMueCwgZWwudmVjLnkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhci5fc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZy5saW5lU3R5bGUoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZy5iZWdpbkZpbGwoMHhlNTEwMTApO1xuICAgICAgICAgICAgICAgICAgICBnLmRyYXdDaXJjbGUoMCwgMCwgMTApO1xuICAgICAgICAgICAgICAgICAgICBnLmVuZEZpbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICBnLmJlZ2luRmlsbChlbC5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIGcuZHJhd0NpcmNsZShlbC52ZWMueCwgZWwudmVjLnksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgZy5lbmRGaWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gKGRlc2MgYXMgUG9pbnRFbGVtZW50KS5jb2xvcjtcbiAgICAgICAgICAgICAgICBpZiAocGFyLl9zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IGxlcnBDb2xvcihjb2xvciwgMHg3OTg2Q0IsIDAuMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChkIGFzIFBJWEkuU3ByaXRlKS50aW50ID0gY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBUZXh0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgbGV0IGcgPSAoZCBhcyBQSVhJLlRleHQpO1xuICAgICAgICAgICAgICAgIGcudGV4dCA9IGVsLnRleHQ7XG4gICAgICAgICAgICAgICAgZy5hbmNob3IuY29weUZyb20oZWwuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBnLnRpbnQgPSBlbC5jb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWN1cnNpdmUgJiYgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwYXIsIGVsLCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllclN5c3RlbSA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUExBWUVSX1RZUEUpIGFzIFBsYXllclN5c3RlbTtcbiAgICAgICAgdGhpcy5tYXN0ZXJWaXNpYmlsaXR5ID0gKHRoaXMud29ybGQuc3lzdGVtcy5nZXQoTElHSFRfVFlQRSkgYXMgTGlnaHRTeXN0ZW0pLmxvY2FsTGlnaHRTZXR0aW5ncy52aXNpb25UeXBlID09PSAnZG0nO1xuXG4gICAgICAgIGxldCBnID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgZy5iZWdpbkZpbGwoMHhGRkZGRkYpO1xuICAgICAgICBnLmxpbmVTdHlsZSgwKTtcbiAgICAgICAgZy5kcmF3Q2lyY2xlKFBPSU5UX1JBRElVUywgUE9JTlRfUkFESVVTLCBQT0lOVF9SQURJVVMpO1xuICAgICAgICB0aGlzLmNpcmNsZVRleCA9IGFwcC5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUoZywgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVIsIDEpO1xuICAgICAgICB0aGlzLmNpcmNsZVRleC5kZWZhdWx0QW5jaG9yLnNldCgwLjUsIDAuNSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGVsZW0uZGlzcGxheSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vLi4vLi4vaW5kZXhcIjtcbmltcG9ydCB7UkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcblxuXG5leHBvcnQgY29uc3QgUElYSV9SRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IFwicGl4aV9yZWN0X3NlbGVjdGlvblwiO1xuZXhwb3J0IHR5cGUgUElYSV9SRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IHR5cGVvZiBQSVhJX1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFO1xuXG5leHBvcnQgY2xhc3MgUGl4aVJlY3RTZWxlY3Rpb25TeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIG5hbWUgPSBQSVhJX1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFO1xuICAgIGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdO1xuXG4gICAgd29ybGQ6IFdvcmxkO1xuICAgIGRpc3BsYXk6IFBJWEkuR3JhcGhpY3M7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2FkZCcsIHRoaXMub25SZXNvdXJjZUFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfcmVtb3ZlZCcsIHRoaXMub25SZXNvdXJjZVJlbW92ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVkcmF3KGJveDogQWFiYikge1xuICAgICAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweDc5ODZDQiwgMC4yKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmRyYXdSZWN0KGJveC5taW5YLCBib3gubWluWSwgYm94Lm1heFggLSBib3gubWluWCwgYm94Lm1heFkgLSBib3gubWluWSk7XG4gICAgICAgIHRoaXMuZGlzcGxheS5lbmRGaWxsKCk7XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUFkZChyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCByID0gcmVzIGFzIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLnJlZHJhdyhyLmFhYmIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IFJFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgciA9IHJlcyBhcyBSZWN0YW5ndWxhclNlbGVjdGlvblJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXcoci5hYWJiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVzb3VyY2VSZW1vdmUocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IFJFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5LnpJbmRleCA9IDEwMDAwMDtcbiAgICAgICAgbGV0IGJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgYm9hcmQuYm9hcmQuYWRkQ2hpbGQodGhpcy5kaXNwbGF5KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBNdWx0aUNvbXBvbmVudCxcbiAgICBOQU1FX1RZUEUsXG4gICAgTmFtZUNvbXBvbmVudCxcbiAgICBOT1RFX1RZUEUsXG4gICAgTm90ZUNvbXBvbmVudCxcbiAgICBQT1NJVElPTl9UWVBFLFxuICAgIFBvc2l0aW9uQ29tcG9uZW50XG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7TElHSFRfVFlQRSwgTGlnaHRDb21wb25lbnR9IGZyb20gXCIuLi9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHtQTEFZRVJfVFlQRSwgUGxheWVyQ29tcG9uZW50fSBmcm9tIFwiLi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge0RPT1JfVFlQRSwgRG9vckNvbXBvbmVudCwgRG9vclR5cGV9IGZyb20gXCIuLi9kb29yU3lzdGVtXCI7XG5pbXBvcnQge1BST1BfVEVMRVBPUlRfVFlQRSwgUFJPUF9UWVBFLCBQcm9wVGVsZXBvcnR9IGZyb20gXCIuLi9wcm9wU3lzdGVtXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtjb21wb25lbnRFZGl0Q29tbWFuZCwgQ29tcG9uZW50RWRpdENvbW1hbmQsIEVkaXRUeXBlfSBmcm9tIFwiLi4vY29tbWFuZC9jb21wb25lbnRFZGl0XCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge0VWRU5UX0NPTU1BTkRfTE9HLCBFVkVOVF9DT01NQU5EX1BBUlRJQUxfRU5EfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kU3lzdGVtXCI7XG5pbXBvcnQge1dBTExfVFlQRX0gZnJvbSBcIi4uL3dhbGxTeXN0ZW1cIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7UElOX1RZUEV9IGZyb20gXCIuLi9waW5TeXN0ZW1cIjtcbmltcG9ydCB7ZmluZEZvcmVncm91bmQsIFBBUkVOVF9MQVlFUl9UWVBFLCBQYXJlbnRMYXllckNvbXBvbmVudH0gZnJvbSBcIi4vbGF5ZXJTeXN0ZW1cIjtcblxuY29uc3QgTVVMVElfVFlQRVMgPSBbJ25hbWUnLCAnbm90ZSddO1xuY29uc3QgRUxJTUlOQUJMRV9UWVBFUyA9IFsnbmFtZScsICdub3RlJywgJ3BsYXllcicsICdsaWdodCcsICdkb29yJywgUEFSRU5UX0xBWUVSX1RZUEVdO1xuY29uc3QgRlVMTFNDUkVFTkFCTEVfVFlQRVMgPSBbJ25vdGUnXTtcblxuLy8gbmFtZVxuLy8gbm90ZSAtPiBub3RlLCBwb3NpdGlvblxuLy8gcG9zaXRpb25cbi8vIHJvb20gLT4gcm9vbSwgcG9zaXRpb25cbi8vIGJrZ19pbWcgPT4gYmtnX2ltZywgcG9zaXRpb25cblxuLy8gUG9zc2libGUgY29uZmlndXJhdGlvbnM6ICg/ID0gMC8xLCAqID0gMCssIGxpa2UgcmVnZXgpXG4vLyAoYmtnX2ltZywgcG9zLCB0cmFuc2Zvcm0sIG5hbWUqLCBub3RlcyopXG4vLyAocGluLCBwb3MsIGxpZ2h0fHBsYXllciwgbmFtZSosIG5vdGVzKilcbi8vIChwcm9wLCBwb3MsIHRyYW5zZm9ybSwgdGVsZXBvcnQ/LCBuYW1lKiwgbm90ZXMqKVxuLy8gKHdhbGwsIHBvcywgZG9vcj8pXG5cbmludGVyZmFjZSBUeXBlRGF0YSB7XG4gICAgZW50aXRpZXM6IFNldDxDb21wb25lbnQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkZENvbXBvbmVudCB7XG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbn1cblxuZXhwb3J0IHR5cGUgU0VMRUNUSU9OX1RZUEUgPSAnc2VsZWN0aW9uJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RJT05fVFlQRSA9ICdzZWxlY3Rpb24nO1xuZXhwb3J0IGNsYXNzIFNlbGVjdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcHJpdmF0ZSBlY3M6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBTRUxFQ1RJT05fVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcblxuICAgIHNlbGVjdGVkRW50aXRpZXMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBkYXRhQnlUeXBlID0gbmV3IE1hcDxzdHJpbmcsIFR5cGVEYXRhPigpO1xuICAgIHRyYW5zbGF0aW9uczoge1t0eXBlOiBzdHJpbmddOiBzdHJpbmd9ID0ge307XG5cbiAgICBwcml2YXRlIGlzVHJhbnNsYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHRyYW5zbGF0ZURpcnR5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihlY3M6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMuZWNzID0gZWNzO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ3Rvb2xfbW92ZV9iZWdpbicsICgpID0+IHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWUpO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ3Rvb2xfbW92ZV9lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zbGF0ZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfUEFSVElBTF9FTkQpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudFVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZWQnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdlbnRpdHlfZGVzcGF3bicsIHRoaXMub25FbnRpdHlEZXNwYXduLCB0aGlzKTtcbiAgICAgICAgaWYgKGVjcy5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21tYW5kX3Bvc3RfZXhlY3V0ZScsIChjOiBDb21tYW5kIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYSBzcGF3biBjb21tYW5kIGhhcyBiZWVuIGV4ZWN1dGVkXG4gICAgICAgICAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCB8fCBjLmtpbmQgIT09ICdkZXNwYXduJykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0T25seUVudGl0aWVzKChjIGFzIERlU3Bhd25Db21tYW5kKS5lbnRpdGllcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2VudGl0eV9kZXNwYXduJywgdGhpcy5vbkVudGl0eURlc3Bhd24sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBUcmFuc2xhdGlvbnMoKTtcbiAgICB9XG5cbiAgICBzZXR1cFRyYW5zbGF0aW9ucygpIHtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnNbUEFSRU5UX0xBWUVSX1RZUEVdID0gJ2ZvcmVncm91bmQnO1xuICAgIH1cblxuICAgIGxvZ1NlbGVjdGlvblR5cGVzKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIi0tLSBTRUxFQ1RJT04gLS0tXCIpO1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5zZWxlY3RlZEVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5nZXRBbGxDb21wb25lbnRzKGVudGl0eSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbnRpdHkgKyBcIjogXCIgKyBjb21wcy5tYXAoeCA9PiB4LnR5cGUpLmpvaW4oJywgJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuU2VsZWN0KGVudGl0eTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmVjcy5pc01hc3Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHdhbGxzIG5vdCBzZWxlY3RhYmxlIHVubGVzcyBhIGtub3duIGRvb3IgaXMgcHJlc2VudCwgdGhpc1xuICAgICAgICAvLyBwcmV2ZW50cyBwbGF5ZXJzIGZyb20gYnJ1dGVmb3JjaW5nIHdhbGwgc3RydWN0dXJlcyB0byBmaW5kIGRvb3JzXG4gICAgICAgIC8vIFRPRE86IG90aGVyIG9wdGlvbnM6IG1lcmdlIGFkaWFjZW50IHdhbGxzIHdoZW4gcG9zc2libGVcbiAgICAgICAgbGV0IHdhbGxDID0gdGhpcy5lY3MuZ2V0Q29tcG9uZW50KGVudGl0eSwgV0FMTF9UWVBFKTtcbiAgICAgICAgaWYgKHdhbGxDICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBkb29yID0gdGhpcy5lY3MuZ2V0Q29tcG9uZW50KGVudGl0eSwgRE9PUl9UWVBFKTtcbiAgICAgICAgICAgIHJldHVybiBkb29yICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVHJhbnNsYXRpbmcpIHRoaXMudHJhbnNsYXRlRGlydHkgPSB0cnVlO1xuICAgICAgICBlbHNlIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fdXBkYXRlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgb25Db21wb25lbnRBZGQoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSByZXR1cm47XG4gICAgICAgIGlmICghdGhpcy5jYW5TZWxlY3QoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2NvbXBvbmVudC5lbnRpdHldKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlRGF0YShjb21wb25lbnQudHlwZSkuZW50aXRpZXMuYWRkKGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgb25Db21wb25lbnRVcGRhdGUoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5TZWxlY3QoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtjb21wb25lbnQuZW50aXR5XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXBvbmVudDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhjb21wb25lbnQuZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQoY29tcG9uZW50LnR5cGUpITtcbiAgICAgICAgZGF0YS5lbnRpdGllcy5kZWxldGUoY29tcG9uZW50KTtcbiAgICAgICAgaWYgKGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gMCkgdGhpcy5kYXRhQnlUeXBlLmRlbGV0ZShjb21wb25lbnQudHlwZSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdChjb21wb25lbnQuZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbY29tcG9uZW50LmVudGl0eV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eURlc3Bhd24oZW50aXR5OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGVudGl0eSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbZW50aXR5XSk7XG4gICAgfVxuXG4gICAgY2xlYXIoY2FsbExpc3RlbmVyczogYm9vbGVhbiA9IHRydWUsIHVwZGF0ZTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKGNhbGxMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkIG9mIHRoaXMuc2VsZWN0ZWRFbnRpdGllcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fZW5kJywgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmRhdGFCeVR5cGUuY2xlYXIoKTtcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldE9ubHlFbnRpdHkoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNsZWFyKHRydWUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5hZGRFbnRpdGllcyhbaWRdKTtcbiAgICB9XG5cbiAgICBzZXRPbmx5RW50aXRpZXMoaWRzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgaWRTZXQgPSBuZXcgU2V0KGlkcyk7XG5cbiAgICAgICAgbGV0IHJlbW92ZUlkcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIHRoaXMuc2VsZWN0ZWRFbnRpdGllcykge1xuICAgICAgICAgICAgaWYgKCFpZFNldC5oYXMoaWQpKSByZW1vdmVJZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhyZW1vdmVJZHMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5hZGRFbnRpdGllcyhpZHMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB0b2dnbGVFbnRpdGllcyhpZHM6IG51bWJlcltdLCB1cGRhdGU6IGJvb2xlYW49dHJ1ZSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVudGl0aWVzKFtpZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlKSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGFkZEVudGl0aWVzKGlkczogbnVtYmVyW10sIHVwZGF0ZTogYm9vbGVhbj10cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUcnlpbmcgdG8gYWRkIHVuZGVmaW5lZCBlbnRpdHlcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhpZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdChpZCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRW50aXRpZXMuYWRkKGlkKTtcblxuICAgICAgICAgICAgbGV0IGNvbXBzID0gdGhpcy5lY3MuZ2V0QWxsQ29tcG9uZW50cyhpZCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPckNyZWF0ZURhdGEoYy50eXBlKS5lbnRpdGllcy5hZGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdCgnc2VsZWN0aW9uX2JlZ2luJywgaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUgJiYgY291bnQgIT09IDApIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRW50aXRpZXMoaWRzOiBudW1iZXJbXSwgdXBkYXRlOiBib29sZWFuPXRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoaWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRW50aXRpZXMuZGVsZXRlKGlkKVxuICAgICAgICAgICAgbGV0IGNvbXBzID0gdGhpcy5lY3MuZ2V0QWxsQ29tcG9uZW50cyhpZCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KGMudHlwZSkhO1xuICAgICAgICAgICAgICAgIGRhdGEuZW50aXRpZXMuZGVsZXRlKGMpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVudGl0aWVzLnNpemUgPT09IDApIHRoaXMuZGF0YUJ5VHlwZS5kZWxldGUoYy50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fZW5kJywgaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUgJiYgY291bnQgIT09IDApIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWRCeVR5cGUodHlwZTogc3RyaW5nKTogSXRlcmFibGU8Q29tcG9uZW50PiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFtdO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRpYWxDb21wb25lbnQodHlwZTogc3RyaW5nKTogT2JqZWN0IHtcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLmVjcy5zdG9yYWdlcy5nZXQodHlwZSkhO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2NhbkRlbGV0ZTogRUxJTUlOQUJMRV9UWVBFUy5pbmRleE9mKHR5cGUpID49IDAsXG4gICAgICAgICAgICBfaXNGdWxsc2NyZWVuOiBGVUxMU0NSRUVOQUJMRV9UWVBFUy5pbmRleE9mKHR5cGUpID49IDAgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIF9zeW5jOiBzdG9yYWdlLnN5bmMsXG4gICAgICAgICAgICBfc2F2ZTogc3RvcmFnZS5zYXZlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkVHJhbnNsYXRpb25zKGNtcHM6IENvbXBvbmVudFtdKTogQ29tcG9uZW50W10ge1xuICAgICAgICBmb3IgKGxldCBjbXAgb2YgY21wcykge1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy50cmFuc2xhdGlvbnNbY21wLnR5cGVdO1xuICAgICAgICAgICAgaWYgKHRyYW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0cmFucyA9IGNtcC50eXBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAoY21wIGFzIGFueSkudHlwZU5hbWUgPSB0cmFucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY21wcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNpbmdsZUNvbXBvbmVudHMoKTogQ29tcG9uZW50W10ge1xuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PENvbXBvbmVudD4oKTtcbiAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMuc2VsZWN0ZWRFbnRpdGllcy52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG5cbiAgICAgICAgZm9yIChsZXQgW3R5cGUsIHN0b3JhZ2VdIG9mIHRoaXMuZWNzLnN0b3JhZ2VzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHR5cGUuc3RhcnRzV2l0aCgnaG9zdF8nKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCBjb21wcyA9IHN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHJlbW92ZVByaXZhdGUodGhpcy5pbml0aWFsQ29tcG9uZW50KHR5cGUpLCBjb21wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5hZGRUcmFuc2xhdGlvbnMocmVzKTtcbiAgICB9XG5cbiAgICBnZXRDb21tb25Db21wb25lbnRzKCk6IENvbXBvbmVudFtdIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5zaXplID09PSAwKSByZXR1cm4gW107XG5cbiAgICAgICAgbGV0IHNlbENvdW50ID0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemU7XG5cbiAgICAgICAgaWYgKHNlbENvdW50ID09PSAxKSByZXR1cm4gdGhpcy5nZXRTaW5nbGVDb21wb25lbnRzKCk7XG4gICAgICAgIGxldCBjb21tb25UeXBlcyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBvZiB0aGlzLmVjcy5zdG9yYWdlcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnaG9zdF9oaWRkZW4nKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKGRhdGEgIT0gdW5kZWZpbmVkICYmIGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gc2VsQ291bnQgJiYgTVVMVElfVFlQRVMuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb21tb25UeXBlcy5wdXNoKHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBvZiBjb21tb25UeXBlcykge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdob3N0X2hpZGRlbicpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5zdG9yYWdlcy5nZXQodHlwZSkhLmdldENvbXBvbmVudHMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gcmVtb3ZlUHJpdmF0ZSh0aGlzLmluaXRpYWxDb21wb25lbnQodHlwZSksIGNvbXApOy8vIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpRmlsdGVyT2JqKGNvbXBvbmVudCwgY29tcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMucHVzaChjb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkVHJhbnNsYXRpb25zKHJlcyk7XG4gICAgfVxuXG4gICAgZ2V0Q29tbW9uRW50aXR5T3B0cygpOiBhbnkge1xuICAgICAgICBsZXQgaG9zdEhpZGRlbiA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQoJ2hvc3RfaGlkZGVuJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhpZGRlbjogaG9zdEhpZGRlbiAhPT0gdW5kZWZpbmVkICYmIGhvc3RIaWRkZW4uZW50aXRpZXMuc2l6ZSA9PT0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemUsXG4gICAgICAgICAgICBpZHM6IEFycmF5LmZyb20odGhpcy5zZWxlY3RlZEVudGl0aWVzKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRBZGRhYmxlQ29tcG9uZW50cygpOiBBcnJheTxBZGRDb21wb25lbnQ+IHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxBZGRDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgcmVzLnB1c2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogTkFNRV9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdOYW1lJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgdHlwZTogTk9URV9UWVBFLFxuICAgICAgICAgICAgICAgbmFtZTogJ05vdGUnXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0NvbXBvbmVudFR5cGUoUEFSRU5UX0xBWUVSX1RZUEUpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBmb3JlZ3JvdW5kXG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0ZvcmVncm91bmQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZShQSU5fVFlQRSkgJiYgISh0aGlzLmhhc0NvbXBvbmVudFR5cGUoTElHSFRfVFlQRSkgfHwgdGhpcy5oYXNDb21wb25lbnRUeXBlKFBMQVlFUl9UWVBFKSkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBMSUdIVF9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMaWdodCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQTEFZRVJfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUGxheWVyJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzRXZlcnlvbmVUeXBlKFdBTExfVFlQRSkgJiYgIXRoaXMuaGFzQ29tcG9uZW50VHlwZShET09SX1RZUEUpKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiRG9vclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZShQUk9QX1RZUEUpICYmICF0aGlzLmhhc0NvbXBvbmVudFR5cGUoUFJPUF9URUxFUE9SVF9UWVBFKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFBST1BfVEVMRVBPUlRfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlRlbGVwb3J0ZXJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXRQcm9wZXJ0eSh0eXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eVZhbHVlOiBhbnksIG11bHRpSWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICckJykge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBtYW5hZ2VtZW50XG4gICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hpZGRlbic6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5yZW1vdmVDb21wb25lbnQoY21wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogXCJjZWRpdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkLCByZW1vdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjbWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzoge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXRpZXM6IFsuLi50aGlzLnNlbGVjdGVkRW50aXRpZXNdLFxuICAgICAgICAgICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9sb2dcIiwgY21kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZENvbXBvbmVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXA6IENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5BTUVfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBOQU1FX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTmFtZUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTk9URV9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE5PVEVfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBOb3RlQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMSUdIVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExJR0hUX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUExBWUVSX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUExBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5pZ2h0VmlzaW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBET09SX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb29yVHlwZTogRG9vclR5cGUuTk9STUFMX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2tlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUEFSRU5UX0xBWUVSX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBmaW5kRm9yZWdyb3VuZCh0aGlzLmVjcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBQYXJlbnRMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUFJPUF9URUxFUE9SVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBST1BfVEVMRVBPUlRfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UHJvcDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBQcm9wVGVsZXBvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgYWRkIHVua25vd24gY29tcG9uZW50OiAnICsgcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4udGhpcy5zZWxlY3RlZEVudGl0aWVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkLnB1c2goT2JqZWN0LmFzc2lnbih7IGVudGl0eSB9LCBjb21wKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjb21wb25lbnRFZGl0Q29tbWFuZChhZGQpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZUNvbXBvbmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIFsuLi50aGlzLnNlbGVjdGVkRW50aXRpZXNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tcCA9IHRoaXMuZWNzLmdldENvbXBvbmVudChlbnRpdHksIHByb3BlcnR5VmFsdWUsIG11bHRpSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY29tcC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogY29tcC5lbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlJZDogbXVsdGlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTXVsdGlDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbWQgPSBjb21wb25lbnRFZGl0Q29tbWFuZCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgcmVtb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoXCJjb21tYW5kX2xvZ1wiLCBjbWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIHNwZWNpYWwgZXZlbnQ6IFwiICsgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnQCcpIHtcbiAgICAgICAgICAgIC8vIEV2ZW50IGNhbGwgKHllYWggSSBrbm93IHRoaXMgaXMgdWdseSkgVE9ETyBwbGVhc2UgbmV4dCBtZSBjbGVhbiBpdCB1cFxuICAgICAgICAgICAgLy8gVE9ETzogY29tbWFuZCBsb2dcbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSwgbXVsdGlJZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaGFzRXZlcnlvbmVUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ1NlbGVjdGlvblR5cGVzKCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJ5aW5nIHRvIGNoYW5nZSB0eXBlIG9mIHNlbGVjdGlvbiB3aGVuIG5vdCBldmVyeW9uZSBoYXMgdGhhdCB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGRFbnRpdGllcyA9IEFycmF5LmZyb20odGhpcy5zZWxlY3RlZEVudGl0aWVzKTtcbiAgICAgICAgbGV0IGVkaXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIG9sZEVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgY2hhbmdlcyA9IHt9IGFzIGFueTtcbiAgICAgICAgICAgIGNoYW5nZXNbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIG11bHRpSWQsXG4gICAgICAgICAgICAgICAgY2hhbmdlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0LFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNtZCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbW92ZUFsbChkaWZmWDogbnVtYmVyLCBkaWZmWTogbnVtYmVyLCBlbnRpdGllczogSXRlcmFibGU8bnVtYmVyPikge1xuICAgICAgICBsZXQgZWRpdCA9IFtdO1xuXG4gICAgICAgIGxldCBwb3NTdG8gPSB0aGlzLmVjcy5nZXRTdG9yYWdlKFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0by5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGVkaXQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgZGlmZlgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgZGlmZlksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0LFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAvLyBwYXJ0aWFsID0gaXNUcmFuc2xhdGluZyAoYW5kIGlnbm9yZSB0aGUgcmVzdWx0cylcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9MT0csIGNtZCwgdW5kZWZpbmVkLCB0aGlzLmlzVHJhbnNsYXRpbmcpO1xuICAgICAgICBpZiAodGhpcy5pc1RyYW5zbGF0aW5nKSB0aGlzLnRyYW5zbGF0ZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0T3JDcmVhdGVEYXRhKHR5cGU6IHN0cmluZyk6IFR5cGVEYXRhIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBuZXcgU2V0PENvbXBvbmVudD4oKSxcbiAgICAgICAgICAgIH0gYXMgVHlwZURhdGE7XG4gICAgICAgICAgICB0aGlzLmRhdGFCeVR5cGUuc2V0KHR5cGUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGhhc0NvbXBvbmVudFR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcy5zaXplID4gMDtcbiAgICB9XG5cbiAgICBoYXNFdmVyeW9uZVR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcy5zaXplID09PSB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZTtcbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZSh0YXJnZXQ6IGFueSwgZmlsdGVyOiBhbnkpOiBhbnkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBmaWx0ZXJbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGJpRmlsdGVyT2JqKHRhcmdldDogYW55LCBmaWx0ZXI6IGFueSk6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAodGFyZ2V0W25hbWVdICE9PSBmaWx0ZXJbbmFtZV0pIHtcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBuYW1lIGluIHRhcmdldCkge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGZpbHRlcltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuaW1wb3J0IHthcHB9IGZyb20gXCIuLi8uLi8uLi9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgVEVYVF9UWVBFID0gJ3RleHQnO1xuZXhwb3J0IHR5cGUgVEVYVF9UWVBFID0gdHlwZW9mIFRFWFRfVFlQRTtcbmV4cG9ydCBjbGFzcyBUZXh0U3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICBuYW1lID0gVEVYVF9UWVBFO1xuICAgIGRlcGVuZGVuY2llcyA9IFtdIGFzIHN0cmluZ1tdO1xuXG4gICAgdGV4dExheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLnRleHRMYXllci56SW5kZXggPSBEaXNwbGF5UHJlY2VkZW5jZS5URVhUO1xuICAgICAgICB0aGlzLnRleHRMYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRleHRMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMudGV4dExheWVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRleHRMYXllci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgUElYSV9CT0FSRF9UWVBFLFxuICAgIFBvaW50ZXJDbGlja0V2ZW50LFxuICAgIFBvaW50ZXJEb3duRXZlbnQsXG4gICAgUG9pbnRlckV2ZW50cyxcbiAgICBQb2ludGVyTW92ZUV2ZW50LFxuICAgIFBvaW50ZXJSaWdodERvd25FdmVudCxcbiAgICBQb2ludGVyUmlnaHRVcEV2ZW50LFxuICAgIFBvaW50ZXJVcEV2ZW50XG59IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFfSBmcm9tIFwiLi9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtJbnNwZWN0VG9vbERyaXZlcn0gZnJvbSBcIi4uLy4uL3Rvb2xzL2luc3BlY3RcIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uLy4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgaW5pdGlhbGl6ZT8oKTogdm9pZDtcbiAgICBkZXN0cm95PygpOiB2b2lkO1xuXG4gICAgb25TdGFydD8oKTogdm9pZDtcbiAgICBvbkVuZD8oKTogdm9pZDtcblxuICAgIG9uUG9pbnRlck1vdmU/KGV2ZW50OiBQb2ludGVyTW92ZUV2ZW50KTogdm9pZDtcbiAgICBvblBvaW50ZXJEb3duPyhldmVudDogUG9pbnRlckRvd25FdmVudCk6IHZvaWQ7XG4gICAgb25Qb2ludGVyVXA/KGV2ZW50OiBQb2ludGVyVXBFdmVudCk6IHZvaWQ7XG4gICAgb25Qb2ludGVyUmlnaHREb3duPyhldmVudDogUG9pbnRlclJpZ2h0RG93bkV2ZW50KTogdm9pZDtcbiAgICBvblBvaW50ZXJSaWdodFVwPyhldmVudDogUG9pbnRlclJpZ2h0VXBFdmVudCk6IHZvaWQ7XG4gICAgb25Qb2ludGVyQ2xpY2s/KGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IFRPT0xfVFlQRTtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogZmFsc2U7XG5cbiAgICB0b29sPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgVE9PTF9UWVBFID0gJ3Rvb2wnO1xuZXhwb3J0IHR5cGUgVE9PTF9UWVBFID0gdHlwZW9mIFRPT0xfVFlQRTtcbmV4cG9ydCBjbGFzcyBUb29sU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gVE9PTF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtTRUxFQ1RJT05fVFlQRV07XG4gICAgcmVhZG9ubHkgb3B0aW9uYWxEZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgc3RhbmRhcmRUb29sOiBUb29sID0gVG9vbC5JTlNQRUNUO1xuICAgIHRvb2xzID0gbmV3IE1hcDxzdHJpbmcsIFRvb2xEcml2ZXI+KCk7XG4gICAgY3VycmVudFRvb2w/OiBUb29sRHJpdmVyO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogVE9PTF9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG5cbiAgICAgICAgICAgIHRvb2w6IHVuZGVmaW5lZCxcbiAgICAgICAgfSBhcyBUb29sUmVzb3VyY2UpO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHdvcmxkLmV2ZW50cztcbiAgICAgICAgZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuXG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfTU9WRSwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9ET1dOLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX1VQLCB0aGlzLm9uUG9pbnRlclVwLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9ET1dOLCB0aGlzLm9uUG9pbnRlclJpZ2h0RG93biwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfUklHSFRfVVAsIHRoaXMub25Qb2ludGVyUmlnaHRVcCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfQ0xJQ0ssIHRoaXMub25Qb2ludGVyQ2xpY2ssIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYWRkVG9vbChuZXcgSW5zcGVjdFRvb2xEcml2ZXIod29ybGQpKTtcbiAgICB9XG5cbiAgICBhZGRUb29sKHRvb2w6IFRvb2xEcml2ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50b29scy5zZXQodG9vbC5uYW1lLCB0b29sKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocjogUmVzb3VyY2UsIGVkaXRlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyLnR5cGUgPT09IFRPT0xfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGN0ID0gciBhcyBUb29sUmVzb3VyY2U7XG5cbiAgICAgICAgICAgIGxldCB0b29sTmFtZSA9IGN0LnRvb2wgfHwgdGhpcy5zdGFuZGFyZFRvb2w7XG5cbiAgICAgICAgICAgIGxldCB0b29sID0gdGhpcy50b29scy5nZXQodG9vbE5hbWUpO1xuICAgICAgICAgICAgaWYgKHRvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVucmVnaXN0ZXJlZCB0b29sIHJlcXVlc3RlZDogXCIgKyBjdC50b29sKTtcbiAgICAgICAgICAgICAgICB0b29sID0gdGhpcy50b29scy5nZXQodGhpcy5zdGFuZGFyZFRvb2wpITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRvb2wgPT09IHRoaXMuY3VycmVudFRvb2wpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2hhbmdpbmcgdG9vbCBmcm9tIFwiICsgKHRoaXMuY3VycmVudFRvb2w/Lm5hbWUgfHwgJ25vbmUnKSAgKyBcIiB0byBcIiArIHRvb2wubmFtZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUb29sICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jdXJyZW50VG9vbC5vbkVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vbkVuZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sID0gdG9vbDtcbiAgICAgICAgICAgIGlmICh0b29sLm9uU3RhcnQgIT09IHVuZGVmaW5lZCkgdG9vbC5vblN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRlck1vdmUoZTogUG9pbnRlck1vdmVFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyTW92ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlck1vdmUoZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRlckRvd24oZTogUG9pbnRlckRvd25FdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyRG93biAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlckRvd24oZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRlclVwKGU6IFBvaW50ZXJVcEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUb29sICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJVcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlclVwKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJSaWdodERvd24oZTogUG9pbnRlclJpZ2h0RG93bkV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUb29sICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJSaWdodERvd24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJSaWdodERvd24oZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRlclJpZ2h0VXAoZTogUG9pbnRlclJpZ2h0VXBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyUmlnaHRVcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlclJpZ2h0VXAoZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRlckNsaWNrKGU6IFBvaW50ZXJDbGlja0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUb29sICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJDbGljayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlckNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCB0b29sIG9mIHRoaXMudG9vbHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0b29sLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkgdG9vbC5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB0b29sOiB0aGlzLnN0YW5kYXJkVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgdG9vbCBvZiB0aGlzLnRvb2xzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAodG9vbC5kZXN0cm95ICE9PSB1bmRlZmluZWQpIHRvb2wuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIFBPU0lUSU9OX1RZUEUsIFBvc2l0aW9uQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1ZJU0lCSUxJVFlfVFlQRSwgVmlzaWJpbGl0eUNvbXBvbmVudCwgVmlzaWJpbGl0eVN5c3RlbX0gZnJvbSBcIi4vdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHthcnJheVJlbW92ZUVsZW19IGZyb20gXCIuLi8uLi8uLi91dGlsL2FycmF5XCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgc2hhcGVDaXJjbGUsXG4gICAgc2hhcGVJbnRlcnNlY3QsXG4gICAgc2hhcGVQb2x5Z29uXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuXG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0FXQVJFX1RZUEUgPSAndmlzaWJpbGl0eV9hd2FyZSc7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX0FXQVJFX1RZUEUgPSAndmlzaWJpbGl0eV9hd2FyZSc7XG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9BV0FSRV9UWVBFO1xuICAgIHZpc2libGVCeTogbnVtYmVyW107XG4gICAgaXNXYWxsOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KGlzV2FsbDogYm9vbGVhbiA9IGZhbHNlKTogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBWSVNJQklMSVRZX0FXQVJFX1RZUEUsXG4gICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgIHZpc2libGVCeTogW10sXG4gICAgICAgIGlzV2FsbCxcbiAgICB9IGFzIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudDtcbn1cblxuXG5leHBvcnQgY2xhc3MgVmlzaWJpbGl0eUF3YXJlU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gVklTSUJJTElUWV9BV0FSRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtWSVNJQklMSVRZX1RZUEUsIElOVEVSQUNUSU9OX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSB2aXNpYmlsaXR5U3lzOiBWaXNpYmlsaXR5U3lzdGVtO1xuICAgIHByaXZhdGUgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudD4oVklTSUJJTElUWV9BV0FSRV9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnRzOlxuICAgICAqIGF3YXJlX3VwZGF0ZShjb21wb25lbnQsIGFkZGVkLCByZW1vdmVkKVxuICAgICAqICAgQ2FsbGVkIHdoZW4gYSBWaXNpYmlsaXR5QXdhcmUgZW50aXR5IGlzIHVwZGF0ZWRcbiAgICAgKiAgIHdoeSBjYW4ndCB3ZSBkbyB0aGlzIHdpdGggYSBub3JtYWwgY29tcG9uZW50X2VkaXQgZXZlbnQ/XG4gICAgICogICBJdCdzIGVhc2llciBub3QgdG8gYnVpbGQgY29tcG9uZW50IGRpZmZzLlxuICAgICAqICAgSWYgeW91IHdhbnQgdG8gdHJhY2sgb2xkIHZhbHVlcyBkbyBpdCBvbiB5b3VyIG93bi5cbiAgICAgKi9cbiAgICBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnZpc2liaWxpdHlTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eVN5c3RlbTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZpc2liaWxpdHlDaGFuZ2Uodmlld2VyOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBwb2x5Z29uOiBudW1iZXJbXSB8IHVuZGVmaW5lZCwgcmFuZ2U6IG51bWJlcik6IHZvaWQge1xuICAgICAgICByYW5nZSAqPSB0aGlzLmdyaWRTaXplO1xuICAgICAgICBpZiAocG9seWdvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBQbGF5ZXIgdmlzaWJpbGl0eSBudWxsXG4gICAgICAgICAgICBsZXQgb2xkQ2FuU2VlID0gdmlld2VyLl9jYW5TZWU7XG4gICAgICAgICAgICB2aWV3ZXIuX2NhblNlZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBvbGRDYW5TZWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh4KTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZENhblNlZSA9IHZpZXdlci5fY2FuU2VlO1xuICAgICAgICB2aWV3ZXIuX2NhblNlZSA9IFtdO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgaW50ZXJTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxJbnRlcmFjdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCB2aWV3ZXJQb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aWV3ZXIuZW50aXR5KSE7XG5cbiAgICAgICAgbGV0IHZpZXdlclBvbHkgPSBzaGFwZVBvbHlnb24ocG9seWdvbik7XG4gICAgICAgIGxldCB2aWV3ZXJDaXJjbGUgPSBzaGFwZUNpcmNsZSh2aWV3ZXJQb3MsIHJhbmdlKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBvbGQgYXdhcmVzIGNhbiBzdGlsbCBiZSBzZWVuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygb2xkQ2FuU2VlKSB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBpbnRlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpIS5zaGFwZTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlSW50ZXJzZWN0KHZpZXdlclBvbHksIHNoYXBlKSAmJiBzaGFwZUludGVyc2VjdCh2aWV3ZXJDaXJjbGUsIHNoYXBlKSkge1xuICAgICAgICAgICAgICAgIHZpZXdlci5fY2FuU2VlLnB1c2goaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpITtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIHJlbW92ZSB0YXJnZXQuZW50aXR5IGZyb20gcGxheWVyLl9jYW5TZWUgYXMgaXQncyBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHZpZXdlclBvbHksIGMgPT4ge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuICB0YXJnZXQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuaXNXYWxsICE9PSB0cnVlICYmIG9sZENhblNlZS5pbmRleE9mKGMuZW50aXR5KSA9PT0gLTE7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IGludGVyU3RvcmFnZS5nZXRDb21wb25lbnQoZS5lbnRpdHkpIS5zaGFwZTtcbiAgICAgICAgICAgIGlmICghc2hhcGVJbnRlcnNlY3Qodmlld2VyQ2lyY2xlLCBzaGFwZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlLmVudGl0eSkhO1xuICAgICAgICAgICAgdmlld2VyLl9jYW5TZWUucHVzaChlLmVudGl0eSk7XG4gICAgICAgICAgICB0YXJnZXQudmlzaWJsZUJ5LnB1c2godmlld2VyLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFt2aWV3ZXIuZW50aXR5XSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2aXNpYmxlRWxlbWVudE1vdmUoYXdhcmU6IFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYXdhcmUuaXNXYWxsID09PSB0cnVlKSByZXR1cm47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChhd2FyZS5lbnRpdHkpITtcbiAgICAgICAgbGV0IHNoYXBlID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGF3YXJlLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpLnNoYXBlO1xuXG4gICAgICAgIGxldCBvbGRWaXNpYmxlQnkgPSBhd2FyZS52aXNpYmxlQnk7XG4gICAgICAgIGF3YXJlLnZpc2libGVCeSA9IFtdO1xuXG4gICAgICAgIGxldCBhZGRlZCA9IFtdO1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IFtdO1xuXG4gICAgICAgIC8vIFNlYXJjaCBmb3IgbmV3IHBsYXllcnNcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnZpc2liaWxpdHlTeXMuYWFiYlRyZWUucXVlcnkoQWFiYi5mcm9tUG9pbnQocG9zKSkpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSBwLnRhZyEuZW50aXR5O1xuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQgfHwgb2xkVmlzaWJsZUJ5LmluZGV4T2YoZW50aXR5KSAhPT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgcHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBpZiAoIXNoYXBlSW50ZXJzZWN0KHNoYXBlQ2lyY2xlKHBwb3MsIHJhbmdlKSwgc2hhcGUpIHx8ICFzaGFwZUludGVyc2VjdChzaGFwZSwgc2hhcGVQb2x5Z29uKHAudGFnPy5wb2x5Z29uISkpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdmlzLl9jYW5TZWUucHVzaChhd2FyZS5lbnRpdHkpO1xuICAgICAgICAgICAgYXdhcmUudmlzaWJsZUJ5LnB1c2godmlzLmVudGl0eSk7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHZpcy5lbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG9sZCBwbGF5ZXJzXG4gICAgICAgIGZvciAobGV0IHAgb2Ygb2xkVmlzaWJsZUJ5KSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgbGV0IHBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwKSE7XG4gICAgICAgICAgICBsZXQgcHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHApITtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBpZiAoc2hhcGVJbnRlcnNlY3Qoc2hhcGVDaXJjbGUocHBvcywgcmFuZ2UpLCBzaGFwZSkgJiYgc2hhcGVJbnRlcnNlY3Qoc2hhcGUsIHNoYXBlUG9seWdvbihwdmlzLnBvbHlnb24hKSkpIHtcbiAgICAgICAgICAgICAgICBhd2FyZS52aXNpYmxlQnkucHVzaChwKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byByZW1vdmUgZS5fdmlzaWJsZUJ5IGFzIGl0J3MgYWxyZWFkeSBiZWVuIGNsZWFyZWRcbiAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh2aXMuX2NhblNlZSwgYXdhcmUuZW50aXR5KTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaCh2aXMuZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGRlZC5sZW5ndGggKyByZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIGF3YXJlLCBhZGRlZCwgcmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVmlld0Jsb2NrZXJFZGl0ZWQodmlld2VyOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBuZXdXYWxsczogbnVtYmVyW10sIG9sZFdhbGxzPzogbnVtYmVyW10pIHtcbiAgICAgICAgb2xkV2FsbHMgPSBvbGRXYWxscyB8fCBbXTtcbiAgICAgICAgaWYgKG5ld1dhbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUGxheWVyIHZpc2liaWxpdHkgbnVsbFxuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBvbGRXYWxscykge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHgpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbW1vbldhbGxzID0gW107XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJXQUxMIFVQREFURSwgb2xkOiBcIiArIG9sZFdhbGxzICsgXCIgbmV3OiBcIiArIG5ld1dhbGxzKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBvbGQgYXdhcmVzIGNhbiBzdGlsbCBiZSBzZWVuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygb2xkV2FsbHMpIHtcbiAgICAgICAgICAgIGlmIChuZXdXYWxscy5pbmRleE9mKGkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8ID1cIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbW1vbldhbGxzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgJVwiICsgaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCAtXCIgKyB0YXJnZXQuZW50aXR5KTtcblxuICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbXSwgW3ZpZXdlci5lbnRpdHldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGUgb2YgbmV3V2FsbHMpIHtcbiAgICAgICAgICAgIGlmIChjb21tb25XYWxscy5pbmRleE9mKGUpICE9PSAtMSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgXlwiICsgZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCArXCIgKyB0YXJnZXQuZW50aXR5KTtcblxuICAgICAgICAgICAgdGFyZ2V0LnZpc2libGVCeS5wdXNoKHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbdmlld2VyLmVudGl0eV0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudE1vdmUoY29tcCBhcyBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcblxuICAgICAgICAgICAgaWYgKCdwb2x5Z29uJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlKHZpcywgdmlzLnBvbHlnb24sIHZpcy5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ19jYW5TZWVXYWxscycgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25WaWV3QmxvY2tlckVkaXRlZCh2aXMsIHZpcy5fY2FuU2VlV2FsbHMhLCBjaGFuZ2VkLndhbGxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBPU0lUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXNBd2FyZSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpc0F3YXJlID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudE1vdmUodmlzQXdhcmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlKHZpcywgdW5kZWZpbmVkLCAwKTtcbiAgICAgICAgICAgIHRoaXMub25WaWV3QmxvY2tlckVkaXRlZCh2aXMsIFtdLCB2aXMuX2NhblNlZVdhbGxzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZhID0gY29tcCBhcyBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQ7XG4gICAgICAgICAgICB2YS52aXNpYmxlQnlcbiAgICAgICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiB2YS52aXNpYmxlQnkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh2aXMuX2NhblNlZSwgdmEuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUgJiYgJ3NpemUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBjYXJlLCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29ucyB3aWxsIGNoYW5nZSBvbiB0aGVpciBvd25cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7Q29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtEeW5hbWljVHJlZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2R5bmFtaWNUcmVlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7Y29tcHV0ZVZpZXdwb3J0fSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvdmlzaWJpbGl0eVBvbHlnb25cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgTGluZVNoYXBlLFxuICAgIHNoYXBlQWFiYixcbiAgICBzaGFwZVRvQWFiYixcbiAgICBTaGFwZVR5cGVcbn0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5cblxuZXhwb3J0IGNvbnN0IFZJU0lCSUxJVFlfVFlQRSA9ICd2aXNpYmlsaXR5JztcbmV4cG9ydCB0eXBlIFZJU0lCSUxJVFlfVFlQRSA9ICd2aXNpYmlsaXR5JztcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9UWVBFO1xuICAgIHJhbmdlOiBudW1iZXI7Ly8gSW4gZ3JpZHMgKGJ5IGRlZmF1bHQgMSBncmlkID0gMTI4IHBpeGVscylcbiAgICB0cmFja1dhbGxzOiBib29sZWFuO1xuICAgIHBvbHlnb24/OiBudW1iZXJbXTtcbiAgICBhYWJiPzogQWFiYjtcbiAgICBfYWFiYlRyZWVJZD86IG51bWJlcjtcbiAgICBfY2FuU2VlOiBudW1iZXJbXTsvLyBWaXNpYmlsaXR5IGF3YXJlIGNvbXBvbmVudHNcbiAgICBfY2FuU2VlV2FsbHM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFID0gJ3Zpc2liaWxpdHlfYmxvY2tlcic7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSA9ICd2aXNpYmlsaXR5X2Jsb2NrZXInO1xuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5QmxvY2tlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9CTE9DS0VSX1RZUEU7XG59XG5cblxuLyoqXG4gKiBQbGVhc2UgZG9uJ3Qgc3RpY2sgYSB2aXNpYmlsaXR5IGNvbXBvbmVudCB0byBhbiBlbnRpdHkgd2l0aCBhIHdhbGwgY29tcG9uZW50IChvciB2aWNlLXZlcnNhKSxcbiAqIHRoZXkgZG9uJ3QgZ28gYWxvbmcgdG9nZXRoZXIgdG9vIG11Y2gsIGZvciBhIGxvdCBvZiByZWFzb25zLlxuICpcbiAqIFRoaXMgc3lzdGVtIHF1ZXJpZXMgZXZlcnkgZW50aXR5IHdpdGggYSBWaXNpYmlsaXR5Q29tcG9uZW50IGFuZCBrZWVwcyBpdCB1cGRhdGVkLCBieSB0aGF0IEkgbWVhbjpcbiAqIC0gUmVjb21wdXRlIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gd2hlbiB0aGUgcmFuZ2UgY2hhbmdlc1xuICogLSBSZWNvbXB1dGUgdGhlIHZpc2liaWxpdHkgcG9seWdvbiB3aGVuIHRoZSB3YWxscyBjaGFuZ2VcbiAqXG4gKiBMaXR0bGUgbm90ZSBvbiB2aXNpYmlsaXR5IHBvbHlnb24gYWxnb3JpdGhtczpcbiAqIEdlbmVyYWwgcG9seWdvbnMgYXJlIGEgbWVzcyB0byBkZWFsIHdpdGgsIGJ1dCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIGlzIGEgYml0IGVhc2llciB0aGFuIG1vc3QuXG4gKiBTaW5jZSB0aGVyZSBhcmUgbm8gcG9ydGFscyBub3IgbWlycm9ycyBpbiB0aGUgZ2FtZSAoeWV0ISkgZWFjaCBwb2ludCBpbiB0aGUgcG9seWdvbiBpcyB2aXNpYmxlIGZyb20gdGhlIGNlbnRlci5cbiAqIEhvdyBjYW4gdGhpcyBwcm9wZXJ0eSBoZWxwIGluIGFueSB3YXk/IExldCBtZSBtYWtlIGFuIGV4YW1wbGU6XG4gKiBXZSBjYW4gZWFzaWx5IGNvbXB1dGUgaWYgYSBwb2ludCBpcyBpbnNpZGUgb2YgdGhpcyBwb2x5Z29uIGJ5IGRvaW5nIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgYW5nbGVzLCBzbyB0aGUgYWxnb3JpdGhtXG4gKiBiZWNvbWVzIG9mIGNvbXBsZXhpdHkgTyhsb2cobikpIHdoZXJlIG4gYXJlIHRoZSBwb2x5Z29uIHBvaW50cy5cbiAqIEFub3RoZXIgcHJvcGVydHkgdGhhdCBJJ20gdXNpbmcgaXMgdGhhdCBhIHZpc2liaWxpdHkgcG9seWdvbiBpcyBtdWNoIGVhc2llciB0byB0cmlhbmd1bGF0ZSFcbiAqIEN1dCBvZmYgYWxsIHRob3NlIGVhciBjdXR0aW5nIGFsZ29yaXRobXMsIGp1c3QgbWFrZSB0cmlhbmdsZXMgc3RhcnRpbmcgZnJvbSB0aGUgY2VudGVyIVxuICovXG5leHBvcnQgY2xhc3MgVmlzaWJpbGl0eVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFZJU0lCSUxJVFlfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbSU5URVJBQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD4oVklTSUJJTElUWV9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuICAgIGJsb2NrZXJTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUJsb2NrZXI+KFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgaW50ZXJhY3Rpb25TeXN0ZW06IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIGdyaWRTaXplOiBudW1iZXI7XG4gICAgYWFiYlRyZWUgPSBuZXcgRHluYW1pY1RyZWU8VmlzaWJpbGl0eUNvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXN0ZW0gPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZSA/PyBTVEFOREFSRF9HUklEX09QVElPTlMpLnNpemU7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuYmxvY2tlclN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZWQnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVRyZWVQb2x5Z29uKGM6IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMuX2FhYmJUcmVlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hYWJiVHJlZS5kZXN0cm95UHJveHkoYy5fYWFiYlRyZWVJZCk7XG4gICAgICAgICAgICBjLl9hYWJiVHJlZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUG9seWdvbihjOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIC8vIElnbm9yZSBpZiBpdCdzIGhpZGRlbi5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFdlIHdpbGwgcmVjcmVhdGUgaXQgbGF0ZXIgKGlmIG5lY2Vzc2FyeSlcbiAgICAgICAgdGhpcy5yZW1vdmVUcmVlUG9seWdvbihjKTtcblxuICAgICAgICBpZiAoYy5yYW5nZSA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwge1xuICAgICAgICAgICAgICAgIHBvbHlnb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwb2x5Z29uQWFiYjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGFhYmI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJhbmdlID0gYy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG5cbiAgICAgICAgbGV0IHZpZXdwb3J0ID0gbmV3IEFhYmIocG9zLnggLSByYW5nZSwgcG9zLnkgLSByYW5nZSwgcG9zLnggKyByYW5nZSwgcG9zLnkgKyByYW5nZSk7XG5cbiAgICAgICAgbGV0IGxpbmVzID0gbmV3IEFycmF5PExpbmU+KCk7XG4gICAgICAgIGxldCBibG9ja2VySWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcblxuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzdGVtLnF1ZXJ5KHNoYXBlQWFiYih2aWV3cG9ydCksIGMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgbGV0IHMgPSBlbnRyeS5zaGFwZTtcbiAgICAgICAgICAgIGlmIChzLnR5cGUgIT09IFNoYXBlVHlwZS5MSU5FKSB0aHJvdyAnT25seSBsaW5lIGlzIHN1cHBvcnRlZCBhcyBsaWdodCBibG9ja2VyIHNoYXBlJ1xuICAgICAgICAgICAgbGV0IGxpbmVEYXRhID0gKHMgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgLy8gVE9ETzogY2hlY2sgaWYgZW50aXR5IGlzIElOIHdhbGwuXG5cbiAgICAgICAgICAgIGxpbmVzLnB1c2gobGluZURhdGEpO1xuICAgICAgICAgICAgYmxvY2tlcklkcy5wdXNoKGVudHJ5LmVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVzZWRCbG9ja2VycztcbiAgICAgICAgaWYgKGMudHJhY2tXYWxscyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdXNlZEJsb2NrZXJzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZWRCbG9ja2VycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9seWdvbiA9IGNvbXB1dGVWaWV3cG9ydChsaW5lcywgdmlld3BvcnQsIHBvcywgdXNlZEJsb2NrZXJzKTtcblxuICAgICAgICAvLyBSZWN5Y2xlIHRoZSB1bnVzZWQgdmlld3BvcnQgb2JqZWN0XG4gICAgICAgIHZpZXdwb3J0LndyYXBQb2x5Z29uKHBvbHlnb24pO1xuXG4gICAgICAgIGlmICh1c2VkQmxvY2tlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VkQmxvY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB1c2VkQmxvY2tlcnNbaV0gPSBibG9ja2VySWRzW3VzZWRCbG9ja2Vyc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwge1xuICAgICAgICAgICAgcG9seWdvbixcbiAgICAgICAgICAgIGFhYmI6IHZpZXdwb3J0LFxuICAgICAgICAgICAgX2NhblNlZVdhbGxzOiB1c2VkQmxvY2tlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGMuX2FhYmJUcmVlSWQgPSB0aGlzLmFhYmJUcmVlLmNyZWF0ZVByb3h5KHZpZXdwb3J0LCBjKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlY29tcHV0ZUFyZWEoYWFiYjogQWFiYikge1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIFsuLi50aGlzLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpXSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKG5vZGUudGFnISk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2ID0gYyBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdi5fY2FuU2VlID0gW107XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24odik7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChjbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihjbXAuc2hhcGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUgJiYgdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYigoYyBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCkuc2hhcGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIENvbXBvbmVudCBoaWRkZW4gaXMgbGlrZSBjb21wb25lbnQgbWlzc2luZywgdGhleSB3b24ndCBiZSBhYmxlIHRvIHNlZSBhIHRoaW5nXG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHkodmlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGJsbyA9IHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChibG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eUJsb2NrZXIoYmxvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuO1xuICAgICAgICBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICgncmFuZ2UnIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24oYyBhcyBWaXNpYmlsaXR5Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFBPU0lUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbih2aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGJsayA9IHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChibGsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBpbnRlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGJsay5lbnRpdHksSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGludGVyLnNoYXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBJTlRFUkFDVElPTl9UWVBFICYmICdzaGFwZScgaW4gY2hhbmdlcyAmJiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGkgPSBjIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoaS5zaGFwZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZWQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVWaXNpYmlsaXR5KGMgYXMgVmlzaWJpbGl0eUNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVWaXNpYmlsaXR5QmxvY2tlcihjIGFzIFZpc2liaWxpdHlCbG9ja2VyKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUgJiYgdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpID0gYyBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGkuc2hhcGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFdlbGNvbWUgdG8gdGhlIHZpc2libGUhXG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24odmlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGJsbyA9IHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChibG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihjbXAuc2hhcGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlZDogYW55KSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFICYmICdzaXplJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IHJlcyBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZC5zaXplO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgZXZlcnl0aGluZyBpbiB0aGUgbmV4dCB0aWNrIHNvIHRoYXQgZXZlcnlvbmUgc2VlcyB0aGUgY2hhbmdlcyBmaXJzdFxuICAgICAgICAgICAgUElYSS5UaWNrZXIuc2hhcmVkLmFkZE9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24oYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVZpc2liaWxpdHkoYzogVmlzaWJpbGl0eUNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnJlbW92ZVRyZWVQb2x5Z29uKGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlVmlzaWJpbGl0eUJsb2NrZXIoYzogVmlzaWJpbGl0eUJsb2NrZXIpIHtcbiAgICAgICAgbGV0IGNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoY21wLnNoYXBlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtsb2FkVGV4dHVyZX0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7XG4gICAgRWxlbWVudFR5cGUsXG4gICAgRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSxcbiAgICBHUkFQSElDX1RZUEUsXG4gICAgR3JhcGhpY0NvbXBvbmVudCxcbiAgICBJbWFnZUVsZW1lbnQsXG4gICAgSW1hZ2VTY2FsZU1vZGUsXG4gICAgVmlzaWJpbGl0eVR5cGVcbn0gZnJvbSBcIi4uLy4uL2dyYXBoaWNzXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuXG5leHBvcnQgdHlwZSBCQUNLR1JPVU5EX1RZUEUgPSAnYmFja2dyb3VuZF9pbWFnZSc7XG5leHBvcnQgY29uc3QgQkFDS0dST1VORF9JTUFHRV9UWVBFID0gJ2JhY2tncm91bmRfaW1hZ2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogQkFDS0dST1VORF9UWVBFO1xuXG4gICAgaW1hZ2U6IFVpbnQ4QXJyYXk7XG4gICAgaW1hZ2VUeXBlOiBzdHJpbmc7XG4gICAgdmlzaWJpbGl0eU1hcD86IFVpbnQzMkFycmF5O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kSW1hZ2VTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBCQUNLR1JPVU5EX0lNQUdFX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0dSQVBISUNfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgc3RvcmFnZTogU2luZ2xlRWNzU3RvcmFnZTxCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ+O1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8QmFja2dyb3VuZEltYWdlQ29tcG9uZW50PihCQUNLR1JPVU5EX0lNQUdFX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFLCB0aGlzLm9uUmVtZW1iZXJCQkJVcGRhdGUsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChjLnR5cGUgIT09IEJBQ0tHUk9VTkRfSU1BR0VfVFlQRSkgcmV0dXJuO1xuICAgICAgICBsZXQgYmtnSW1nID0gYyBhcyBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ7XG5cbiAgICAgICAgaWYgKGJrZ0ltZy5pbWFnZS5ieXRlT2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBDb3B5IGFycmF5IHRvIHJlbW92ZSBvZmZzZXQgKFRPRE86IGZpeClcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wZWVycy9wZWVyanMvaXNzdWVzLzcxNVxuICAgICAgICAgICAgYmtnSW1nLmltYWdlID0gbmV3IFVpbnQ4QXJyYXkoYmtnSW1nLmltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmtnSW1nLnZpc2liaWxpdHlNYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IG5ldyBVaW50OEFycmF5KGJrZ0ltZy52aXNpYmlsaXR5TWFwKTsvLyBDb3B5IGJ1ZmZlciAoYWRqdXN0cyBhbGlnbm1lbnQpXG4gICAgICAgICAgICBia2dJbWcudmlzaWJpbGl0eU1hcCA9IG5ldyBVaW50MzJBcnJheShyZXMuYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZXggPSBhd2FpdCBsb2FkVGV4dHVyZShia2dJbWcuaW1hZ2UsIGJrZ0ltZy5pbWFnZVR5cGUpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudGl0eTogYy5lbnRpdHksXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuQkFDS0dST1VORCxcbiAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuUkVBTCxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCxcbiAgICAgICAgICAgICAgICB2aXNNYXA6IGJrZ0ltZy52aXNpYmlsaXR5TWFwLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHRleCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IHsgeDogMC41LCB5OiAwLjUgfSxcbiAgICAgICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIH0gYXMgSW1hZ2VFbGVtZW50LFxuICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlbWVtYmVyQkJCVXBkYXRlKGVudGl0aWVzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgZ3N0b3IgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChHUkFQSElDX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8R3JhcGhpY0NvbXBvbmVudD47XG5cbiAgICAgICAgZm9yIChsZXQgZSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUpO1xuICAgICAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICBjLnZpc2liaWxpdHlNYXAgPSAoZ3N0b3IuZ2V0Q29tcG9uZW50KGUpPy5kaXNwbGF5IGFzIEltYWdlRWxlbWVudCk/LnZpc01hcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tbWFuZFJlc3VsdCwgRVZFTlRfQ09NTUFORF9BRERfUFJFX0NPTlNFUVVFTkNFLCBFVkVOVF9DT01NQU5EX0VNSVQsIEVWRU5UX0NPTU1BTkRfTE9HfSBmcm9tIFwiLi9jb21tYW5kU3lzdGVtXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZCB7XG4gICAga2luZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBDQUxMSU5HIFRISVMgQ09OU1VNRVMgVEhFIEFSR1VNRU5UIVxuICAgICAqL1xuICAgIGFwcGx5SW52ZXJ0KGNvbW1hbmQ6IENvbW1hbmQpOiBDb21tYW5kO1xuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogQ29tbWFuZCk6IENvbW1hbmRbXTtcblxuICAgIG1lcmdlKHRvOiBDb21tYW5kLCBmcm9tOiBDb21tYW5kKTogYm9vbGVhbjtcblxuICAgIGlzTnVsbChjb21tYW5kOiBDb21tYW5kKTogYm9vbGVhbjtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUFuZExvZ0NvbW1hbmQod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kKTogQ29tbWFuZCB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IHJlcyA9IHt9IGFzIENvbW1hbmRSZXN1bHQ7XG4gICAgd29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9MT0csIGNvbW1hbmQsIHJlcyk7XG4gICAgcmV0dXJuIHJlcy5pbnZlcnRlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRDb21tYW5kKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCwgc2hhcmU6IGJvb2xlYW4gPSBmYWxzZSk6IENvbW1hbmQgfCB1bmRlZmluZWQge1xuICAgIGxldCByZXMgPSB7fSBhcyBDb21tYW5kUmVzdWx0O1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfRU1JVCwgY29tbWFuZCwgcmVzLCBzaGFyZSk7XG4gICAgcmV0dXJuIHJlcy5pbnZlcnRlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmRSZWdpc3RlclByZUNvbnNlcXVlbmNlKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCk6IHZvaWQge1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfQUREX1BSRV9DT05TRVFVRU5DRSwgY29tbWFuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kUmVnaXN0ZXJQb3N0Q29uc2VxdWVuY2Uod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kKTogdm9pZCB7XG4gICAgd29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9BRERfUFJFX0NPTlNFUVVFTkNFLCBjb21tYW5kKTtcbn1cblxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge0NPTU1BTkRfVFlQRSwgQ29tbWFuZFJlc3VsdCwgQ29tbWFuZFN5c3RlbSwgRVZFTlRfQ09NTUFORF9FTUlULCBMb2dIb29rfSBmcm9tIFwiLi9jb21tYW5kU3lzdGVtXCI7XG5pbXBvcnQge05vbmVDb21tYW5kfSBmcm9tIFwiLi9ub25lQ29tbWFuZFwiO1xuXG5jb25zdCBISVNUT1JZX0xJTUlUID0gMTI4O1xuXG5pbnRlcmZhY2UgSGlzdG9yeUVudHJ5IHtcbiAgICBjbWQ6IENvbW1hbmQsXG4gICAgLy8gTWFuYWdlcyBkZXBlbmRlbmNpZXMgYW5kIHJlbGF0aW9uc1xuICAgIC8vcHJlOiBDb21tYW5kW10sXG4gICAgLy9wb3N0OiBDb21tYW5kW10sXG59XG5cbmV4cG9ydCBjb25zdCBDT01NQU5EX0hJU1RPUllfVFlQRSA9ICdjb21tYW5kX2hpc3RvcnknO1xuZXhwb3J0IHR5cGUgQ09NTUFORF9ISVNUT1JZX1RZUEUgPSB0eXBlb2YgQ09NTUFORF9ISVNUT1JZX1RZUEU7XG5leHBvcnQgY2xhc3MgQ29tbWFuZEhpc3RvcnlTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0sIExvZ0hvb2sge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gQ09NTUFORF9ISVNUT1JZX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0NPTU1BTkRfVFlQRV07XG5cbiAgICAvL3ByaXZhdGUgcHJlcGFyZWQ/OiBIaXN0b3J5RW50cnk7XG4gICAgY29tbWFuZFN5czogQ29tbWFuZFN5c3RlbTtcbiAgICBoaXN0b3J5OiBBcnJheTxIaXN0b3J5RW50cnk+O1xuICAgIGlzTGFzdFBhcnRpYWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpbmRleDogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IEFycmF5PEhpc3RvcnlFbnRyeT4oKTtcblxuICAgICAgICB0aGlzLmNvbW1hbmRTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KENPTU1BTkRfVFlQRSkgYXMgQ29tbWFuZFN5c3RlbTtcbiAgICAgICAgdGhpcy5jb21tYW5kU3lzLmxvZ2dlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oXCJjb21tYW5kX3VuZG9cIiwgdGhpcy5vblVuZG8sIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihcImNvbW1hbmRfcmVkb1wiLCB0aGlzLm9uUmVkbywgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UHVzaChjbWQ6IEhpc3RvcnlFbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5oaXN0b3J5Lmxlbmd0aCAhPT0gdGhpcy5pbmRleCkge1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5Lmxlbmd0aCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goY21kKTtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA+IEhJU1RPUllfTElNSVQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXgtLTtcbiAgICAgICAgICAgIC8vIFRPRE86IHVzZSBzb21lIGtpbmQgb2YgcmFuZG9tLWFjY2VzcyBzcGxpY2UtYWJsZSBkZXF1ZT9cbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UmVwbGFjZVByZXYoY21kOiBIaXN0b3J5RW50cnkpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5W3RoaXMuaW5kZXggLSAxXSA9IGNtZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlVbmRvKHJlcGxhY2U6IEhpc3RvcnlFbnRyeSkge1xuICAgICAgICB0aGlzLmhpc3RvcnlSZXBsYWNlUHJldihyZXBsYWNlKTtcbiAgICAgICAgdGhpcy5pbmRleC0tO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVJlZG8ocmVwbGFjZTogSGlzdG9yeUVudHJ5KSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgdGhpcy5oaXN0b3J5UmVwbGFjZVByZXYocmVwbGFjZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UGVla1ByZXYoKTogSGlzdG9yeUVudHJ5IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPD0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4IC0gMV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UGVla05leHQoKTogSGlzdG9yeUVudHJ5IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPj0gdGhpcy5oaXN0b3J5Lmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4XTtcbiAgICB9XG5cbiAgICBub3RpZnlIaXN0b3J5Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9oaXN0b3J5X2NoYW5nZVwiLCB0aGlzLmNhblVuZG8oKSwgdGhpcy5jYW5SZWRvKCkpO1xuICAgIH1cblxuICAgIGNsb3NlUGFydGlhbCgpIHtcbiAgICAgICAgdGhpcy5pc0xhc3RQYXJ0aWFsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvY2Vzc1BhcnRpYWwoY21kOiBDb21tYW5kLCBwYXJ0aWFsOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzTGFzdFBhcnRpYWwgJiYgIXBhcnRpYWwpIHtcbiAgICAgICAgICAgIHRoaXMuaXNMYXN0UGFydGlhbCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY29udGludWUsIHRoaXMgaXMgdGhlIGxhc3QgcGFydGlhbCByb3VuZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaXQncyBub3QgcGFydGlhbCAoYnV0IGFsc28gdGhlIGxhc3Qgb25lIHdhcyBhbHNvIG5vdCBhIHBhcnRpYWwpXG4gICAgICAgICAgICBpZiAoIXBhcnRpYWwpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gdGhlIGxhc3Qgb25lIHdhcyBub3QgcGFydGlhbCBidXQgdGhpcyBvbmUgaXMsXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGNvbW1hbmQgdG8gdGhlIHF1ZXVlIGFuZCB3YWl0IGZvciB0aGUgbmV4dFxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTGFzdFBhcnRpYWwgJiYgcGFydGlhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNMYXN0UGFydGlhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBsYXN0Q21kID0gdGhpcy5oaXN0b3J5UGVla1ByZXYoKSE7XG4gICAgICAgIGlmIChjbWQua2luZCAhPT0gbGFzdENtZC5jbWQua2luZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV2FybmluZzogcHJvY2Vzc2luZyBhIHBhcnRpYWwgd2l0aCBhIHdyb25nIGxhc3Qga2luZCwgZGlkIHlvdSBmb3JnZXQgdG8gbG9nIHRoZSBsYXN0IHBhcnRpYWwgY29tbWFuZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBraW5kID0gdGhpcy5jb21tYW5kU3lzLmdldEtpbmQoY21kLmtpbmQpITtcbiAgICAgICAga2luZC5tZXJnZShjbWQsIGxhc3RDbWQuY21kKTtcbiAgICAgICAgdGhpcy5oaXN0b3J5UmVwbGFjZVByZXYoe1xuICAgICAgICAgICAgY21kLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsb2dQcmVwYXJlKHBhcnRpYWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvKnRoaXMucHJlcGFyZWQgPSB7XG4gICAgICAgICAgICBjbWQ6IHsga2luZDogJ25vbmUnfSBhcyBOb25lQ29tbWFuZCxcbiAgICAgICAgICAgIHBvc3Q6IFtdLCBwcmU6IFtdLFxuICAgICAgICB9OyovXG4gICAgfVxuXG5cbiAgICBsb2dDb21taXQoY21kOiBDb21tYW5kIHwgdW5kZWZpbmVkLCBwYXJ0aWFsOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJMT0dcIiwgSlNPTi5zdHJpbmdpZnkoY21kKSk7XG4gICAgICAgIGlmIChjbWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBhcnRpYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NQYXJ0aWFsKGNtZCwgcGFydGlhbCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpc3RvcnlQdXNoKHsgY21kIH0pO1xuICAgICAgICB0aGlzLm5vdGlmeUhpc3RvcnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV4ZWN1dGVFbWl0KGNtZDogQ29tbWFuZCk6IENvbW1hbmQge1xuICAgICAgICBsZXQgcmVzID0ge30gYXMgQ29tbWFuZFJlc3VsdDtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9DT01NQU5EX0VNSVQsIGNtZCwgcmVzKTtcbiAgICAgICAgcmV0dXJuIHJlcy5pbnZlcnRlZCB8fCB7IGtpbmQ6ICdub25lJyB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25VbmRvKCkge1xuICAgICAgICBsZXQgY21kID0gdGhpcy5oaXN0b3J5UGVla1ByZXYoKTtcblxuICAgICAgICBpZiAoY21kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90aGluZyB0byB1bmRvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oaXN0b3J5VW5kbyh7IGNtZDogdGhpcy5leGVjdXRlRW1pdChjbWQuY21kKX0pO1xuICAgICAgICB0aGlzLm5vdGlmeUhpc3RvcnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVkbygpIHtcbiAgICAgICAgbGV0IGNtZCA9IHRoaXMuaGlzdG9yeVBlZWtOZXh0KCk7XG4gICAgICAgIGlmIChjbWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3RoaW5nIHRvIHJlZG9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhpc3RvcnlSZWRvKHsgY21kOiB0aGlzLmV4ZWN1dGVFbWl0KGNtZC5jbWQpIH0pO1xuICAgICAgICB0aGlzLm5vdGlmeUhpc3RvcnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBjYW5SZWRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5Lmxlbmd0aCA+IHRoaXMuaW5kZXg7XG4gICAgfVxuXG4gICAgY2FuVW5kbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPiAwO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtDb21wb25lbnRFZGl0Q29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7UmVzb3VyY2VFZGl0Q29tbWFuZEtpbmR9IGZyb20gXCIuL3Jlc291cmNlRWRpdENvbW1hbmRcIjtcbmltcG9ydCB7RXZlbnRDb21tYW5kS2luZH0gZnJvbSBcIi4vZXZlbnRDb21tYW5kXCI7XG5pbXBvcnQge05vbmVDb21tYW5kS2luZH0gZnJvbSBcIi4vbm9uZUNvbW1hbmRcIjtcbmltcG9ydCB7TkVUV09SS19UWVBFLCBOZXR3b3JrU3lzdGVtfSBmcm9tIFwiLi4vYmFjay9uZXR3b3JrU3lzdGVtXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZFJlc3VsdCB7XG4gICAgaW52ZXJ0ZWQ/OiBDb21tYW5kO1xufVxuXG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9FTUlUID0gJ2NvbW1hbmRfZW1pdCc7XG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9MT0cgPSAnY29tbWFuZF9sb2cnO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfUEFSVElBTF9FTkQgPSAnY29tbWFuZF9wYXJ0aWFsX2VuZCc7XG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9BRERfUFJFX0NPTlNFUVVFTkNFID0gJ2NvbW1hbmRfYWRkX3ByZWNvbnMnO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfQUREX1BPU1RfQ09OU0VRVUVOQ0UgPSAnY29tbWFuZF9hZGRfcG9zY29ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nSG9vayB7XG4gICAgbG9nUHJlcGFyZShwYXJ0aWFsOiBib29sZWFuKTogdm9pZDtcblxuICAgIGxvZ0NvbW1pdChjbWQ6IENvbW1hbmQgfCB1bmRlZmluZWQsIHBhcnRpYWw6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5cbmV4cG9ydCBjb25zdCBDT01NQU5EX1RZUEUgPSAnY29tbWFuZCc7XG5leHBvcnQgdHlwZSBDT01NQU5EX1RZUEUgPSB0eXBlb2YgQ09NTUFORF9UWVBFO1xuZXhwb3J0IGNsYXNzIENvbW1hbmRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gQ09NTUFORF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJlYWRvbmx5IG9wdGlvbmFsRGVwZW5kZW5jaWVzID0gW05FVFdPUktfVFlQRV1cblxuICAgIGxvZ2dlcj86IExvZ0hvb2s7XG5cbiAgICBwcml2YXRlIGNvbW1hbmRzID0gbmV3IE1hcDxzdHJpbmcsIENvbW1hbmRLaW5kPigpO1xuICAgIHByaXZhdGUgbmV0d29ya1N5czogTmV0d29ya1N5c3RlbSB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRGVmYXVsdENvbW1hbmRzKCk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEVWRU5UX0NPTU1BTkRfRU1JVCwgdGhpcy5vbkVtaXQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihFVkVOVF9DT01NQU5EX0xPRywgdGhpcy5vbkxvZywgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEVWRU5UX0NPTU1BTkRfUEFSVElBTF9FTkQsIHRoaXMub25QYXJ0aWFsRW5kLCB0aGlzKTtcblxuICAgICAgICB0aGlzLm5ldHdvcmtTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChORVRXT1JLX1RZUEUpIGFzIE5ldHdvcmtTeXN0ZW0gfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJDb21tYW5kS2luZChraW5kOiBDb21tYW5kS2luZCkge1xuICAgICAgICB0aGlzLmNvbW1hbmRzLnNldChraW5kLmtpbmQsIGtpbmQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJEZWZhdWx0Q29tbWFuZHMoKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgU3Bhd25Db21tYW5kS2luZCh0aGlzLndvcmxkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgRGVTcGF3bkNvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBDb21wb25lbnRFZGl0Q29tbWFuZEtpbmQodGhpcy53b3JsZCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IFJlc291cmNlRWRpdENvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBFdmVudENvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBOb25lQ29tbWFuZEtpbmQoKSk7XG4gICAgfVxuXG4gICAgb25FbWl0KGNvbW1hbmQ6IENvbW1hbmQsIHJlcz86IENvbW1hbmRSZXN1bHQsIHNoYXJlPzogYm9vbGVhbikge1xuICAgICAgICBsZXQga2luZCA9IHRoaXMuY29tbWFuZHMuZ2V0KGNvbW1hbmQua2luZCk7XG4gICAgICAgIGlmIChraW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGV4ZWN1dGluZyBjb21tYW5kOiB1bmtub3duIGtpbmQgXCIgKyBraW5kKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtpbmQuaXNOdWxsKGNvbW1hbmQpKSByZXR1cm47XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIkVNSVRcIiwgSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkpO1xuXG4gICAgICAgIGlmICh0aGlzLm5ldHdvcmtTeXM/LmlzT25saW5lKCkgPT09IHRydWUgJiYgKHRoaXMud29ybGQuaXNNYXN0ZXIgfHwgc2hhcmUpKSB7XG4gICAgICAgICAgICBsZXQgc3RyaXBwZWQgPSBraW5kLnN0cmlwQ2xpZW50KGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHN0cmlwcGVkLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX3NoYXJlXCIsIHN0cmlwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3ByZV9leGVjdXRlJyk7XG4gICAgICAgIGxldCBpbnY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnYgPSBraW5kLmFwcGx5SW52ZXJ0KGNvbW1hbmQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3QgYXBwbHkgY29tbWFuZFwiLCBjb21tYW5kLCBlKTtcbiAgICAgICAgICAgIGludiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcy5pbnZlcnRlZCA9IGludjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3Bvc3RfZXhlY3V0ZScsIGludik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxvZyhjb21tYW5kOiBDb21tYW5kLCByZXM/OiBDb21tYW5kUmVzdWx0LCBwYXJ0aWFsOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5vbkVtaXQoY29tbWFuZCwgcmVzdWx0KTtcblxuICAgICAgICBpZiAocmVzdWx0LmludmVydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpbnYgPSByZXN1bHQuaW52ZXJ0ZWQ7XG4gICAgICAgICAgICBsZXQga2luZCA9IHRoaXMuY29tbWFuZHMuZ2V0KGludi5raW5kKTtcbiAgICAgICAgICAgIGlmIChraW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIGludmVydGVkIGNvbW1hbmQhIFwiICsga2luZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFraW5kLmlzTnVsbChpbnYpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmxvZ0NvbW1pdChyZXN1bHQuaW52ZXJ0ZWQsIHBhcnRpYWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcj8ubG9nQ29tbWl0KHVuZGVmaW5lZCwgcGFydGlhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUGFydGlhbEVuZCgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXI/LmxvZ0NvbW1pdCh1bmRlZmluZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBnZXRLaW5kKGtpbmQ6IHN0cmluZyk6IENvbW1hbmRLaW5kIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZHMuZ2V0KGtpbmQpXG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQge0NvbXBvbmVudCwgSGlkZWFibGVDb21wb25lbnQsIEhPU1RfSElEREVOX1RZUEUsIE11bHRpQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0FueU1hcFR5cGUsIEZyb3plbkVudGl0eSwgTXVsdGlFZGl0VHlwZSwgV29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuaW1wb3J0IHtEZVNwYXduQ29tbWFuZH0gZnJvbSBcIi4vZGVzcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7ZmlsdGVyQ29tcG9uZW50LCBmaWx0ZXJDb21wb25lbnRLZWVwRW50aXR5fSBmcm9tIFwiLi4vLi4vZWNzVXRpbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50RWRpdENvbW1hbmQoXG4gICAgYWRkPzogQ29tcG9uZW50W10sXG4gICAgZWRpdD86IEVkaXRUeXBlW10sXG4gICAgcmVtb3ZlPzogQ29tcG9uZW50W10sXG4gICAgcGFyYWxsZWw/OiBib29sZWFuLFxuKTogQ29tcG9uZW50RWRpdENvbW1hbmQge1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgIGFkZCxcbiAgICAgICAgZWRpdCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBtdWx0aTogcGFyYWxsZWxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlRWRpdENvbW1hbmQoZWRpdDogRWRpdFR5cGUpIHtcbiAgICByZXR1cm4gY29tcG9uZW50RWRpdENvbW1hbmQodW5kZWZpbmVkLCBbZWRpdF0pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRUeXBlIHtcbiAgICBlbnRpdHk6IG51bWJlcjtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgbXVsdGlJZD86IG51bWJlcjtcbiAgICBjaGFuZ2VzOiBBbnlNYXBUeXBlLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudEVkaXRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAga2luZDogJ2NlZGl0JztcbiAgICBhZGQ/OiBDb21wb25lbnRbXTtcbiAgICBtdWx0aT86IGJvb2xlYW47XG4gICAgZWRpdD86IEVkaXRUeXBlW107XG4gICAgcGVkaXQ/OiB7W2lkOiBudW1iZXJdOiBNdWx0aUVkaXRUeXBlfTtcbiAgICByZW1vdmU/OiBDb21wb25lbnRbXTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEVkaXRDb21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ2NlZGl0JztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBDb21wb25lbnRFZGl0Q29tbWFuZCk6IENvbXBvbmVudEVkaXRDb21tYW5kIHtcbiAgICAgICAgbGV0IGludiA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgIH0gYXMgQ29tcG9uZW50RWRpdENvbW1hbmQ7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY21kLmFkZCA/PyBbXSkge1xuICAgICAgICAgICAgaW52LnJlbW92ZSA9IGludi5yZW1vdmUgPz8gW107XG4gICAgICAgICAgICBpbnYucmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgIGVudGl0eTogYy5lbnRpdHksXG4gICAgICAgICAgICAgICAgdHlwZTogYy50eXBlLFxuICAgICAgICAgICAgICAgIG11bHRpSWQ6IChjIGFzIE11bHRpQ29tcG9uZW50KS5tdWx0aUlkLFxuICAgICAgICAgICAgfSBhcyBNdWx0aUNvbXBvbmVudCk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwgYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjbWQubXVsdGkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY21kLmVkaXQgPz8gW10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwgYy5jaGFuZ2VzLCBjLm11bHRpSWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHlNYXAgPSBuZXcgTWFwPG51bWJlciwgTXVsdGlFZGl0VHlwZT4oKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY21kLmVkaXQgPz8gW10pIHtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IGVudGl0eU1hcC5nZXQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHlNYXAuc2V0KGMuZW50aXR5LCB4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYy50eXBlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aUlkOiBjLm11bHRpSWQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXM6IGMuY2hhbmdlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50aXR5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudE11bHRpcGxlKGtleSwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnYuZWRpdCA9IGNtZC5lZGl0O1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNtZC5yZW1vdmUgPz8gW10pIHtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgYy50eXBlLCAoYyBhcyBNdWx0aUNvbXBvbmVudCkubXVsdGlJZCk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGludi5hZGQgPSBpbnYuYWRkID8/IFtdO1xuICAgICAgICAgICAgICAgIGludi5hZGQucHVzaChmaWx0ZXJDb21wb25lbnRLZWVwRW50aXR5KGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnY7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY21kOiBDb21wb25lbnRFZGl0Q29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIGxldCBob3N0X2hpZGRlbiA9IGNtZC5hZGQ/LmZpbHRlcih4ID0+IHgudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkubWFwKHggPT4geC5lbnRpdHkpID8/IFtdO1xuICAgICAgICBsZXQgbm9uX2hvc3RfaGlkZGVuID0gY21kLnJlbW92ZT8uZmlsdGVyKHggPT4geC50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKS5tYXAoeCA9PiB4LmVudGl0eSkgPz8gW107XG5cbiAgICAgICAgbGV0IHByZWRpY2F0ZSA9ICh4OiBDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGlmICgoeCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChob3N0X2hpZGRlbi5pbmRleE9mKHguZW50aXR5KSA+IC0xKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAobm9uX2hvc3RfaGlkZGVuLmluZGV4T2YoeC5lbnRpdHkpID4gLTEpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHguZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgcGFydGlhbFByZWRpY2F0ZSA9ICh4OiBDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCByZWFsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoeC5lbnRpdHksIHgudHlwZSwgKHggYXMgTXVsdGlDb21wb25lbnQpLm11bHRpSWQpITtcbiAgICAgICAgICAgIGlmICgocmVhbCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UgJiYgISgnY2xpZW50VmlzaWJsZScgaW4geCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUoeCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWRkID0gY21kLmFkZD8uZmlsdGVyKHByZWRpY2F0ZSk7XG4gICAgICAgIGxldCBlZGl0ID0gY21kLmVkaXQ/LmZpbHRlcihwYXJ0aWFsUHJlZGljYXRlKTtcbiAgICAgICAgbGV0IHJlbW92ZSA9IGNtZC5yZW1vdmU/LmZpbHRlcih4ID0+IHgudHlwZSAhPT0gSE9TVF9ISURERU5fVFlQRSAmJiBwYXJ0aWFsUHJlZGljYXRlKHgpKTtcblxuICAgICAgICBlZGl0ID0gZWRpdD8uZmlsdGVyKHggPT4ge1xuICAgICAgICAgICAgaWYgKCEoJ2NsaWVudFZpc2libGUnIGluIHguY2hhbmdlcykpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgbGV0IG9yaWcgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh4LmVudGl0eSwgeC50eXBlLCB4Lm11bHRpSWQpIGFzIEhpZGVhYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKG9yaWcgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoeC5jaGFuZ2VzLmNsaWVudFZpc2libGUgPT09IGZhbHNlICYmIG9yaWcuY2xpZW50VmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZW1vdmUgPSByZW1vdmUgPz8gW107XG4gICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IHguZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB4LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IHgubXVsdGlJZCxcbiAgICAgICAgICAgICAgICB9IGFzIE11bHRpQ29tcG9uZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeC5jaGFuZ2VzLmNsaWVudFZpc2libGUgIT09IGZhbHNlICYmIG9yaWcuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBhZGQgPSBhZGQgPz8gW107XG4gICAgICAgICAgICAgICAgYWRkLnB1c2goZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShvcmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21tYW5kPigpO1xuICAgICAgICBpZiAoaG9zdF9oaWRkZW4ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBob3N0X2hpZGRlbixcbiAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vbl9ob3N0X2hpZGRlbi5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBub25faG9zdF9oaWRkZW4ubWFwKHggPT4gdGhpcy5jcmVhdGVFbnRpdHlTcGF3blBhY2tldCh4KSksXG4gICAgICAgICAgICB9IGFzIFNwYXduQ29tbWFuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChhZGQ/Lmxlbmd0aCB8fCAwKSArIChlZGl0Py5sZW5ndGggfHwgMCkgKyAocmVtb3ZlPy5sZW5ndGggfHwgMCkgIT09IDApIHtcbiAgICAgICAgICAgIGxldCBjZWRpdCA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnY2VkaXQnXG4gICAgICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAgICAgaWYgKGFkZCAhPT0gdW5kZWZpbmVkKSBjZWRpdC5hZGQgPSBhZGQubWFwKGNsb25lKTtcbiAgICAgICAgICAgIGlmIChlZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjZWRpdC5lZGl0ID0gZWRpdC5tYXAoY2xvbmUpO1xuICAgICAgICAgICAgICAgIGlmIChjbWQubXVsdGkpIGNlZGl0Lm11bHRpID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW1vdmUgIT09IHVuZGVmaW5lZCkgY2VkaXQucmVtb3ZlID0gcmVtb3ZlLm1hcChjbG9uZSk7XG4gICAgICAgICAgICByZXMucHVzaChjZWRpdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIG1lcmdlKHRvOiBDb21wb25lbnRFZGl0Q29tbWFuZCwgZnJvbTogQ29tcG9uZW50RWRpdENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRvLm11bHRpICE9PSBmcm9tLm11bHRpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gVE9ETzogZnJvbSBzaG91bGQgcmVtb3ZlIGVudGl0aWVzIGFkZGVkIGluIHRvLlxuICAgICAgICAvLyAgICAgICBoYW5kbGUgZW50aXRpZXMgZWRpdGVkIGluIHRvIGJ1dCByZW1vdmVkIGluIGZyb21cbiAgICAgICAgdG8uYWRkID0gbWVyZ2VOdWxsYWJsZUFycmF5cyh0by5hZGQsIGZyb20uYWRkKTtcbiAgICAgICAgdG8ucmVtb3ZlID0gbWVyZ2VOdWxsYWJsZUFycmF5cyh0by5yZW1vdmUsIGZyb20ucmVtb3ZlKTtcblxuICAgICAgICBpZiAoZnJvbS5lZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0by5lZGl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0by5lZGl0ID0gZnJvbS5lZGl0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4IG9mIGZyb20uZWRpdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeiA9IHRvLmVkaXQuZmluZCh5ID0+IHguZW50aXR5ID09PSB5LmVudGl0eSAmJiB4LnR5cGUgPT09IHkudHlwZSAmJiB4Lm11bHRpSWQgPT09IHkubXVsdGlJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh6ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLmVkaXQucHVzaCh4KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih6LmNoYW5nZXMsIHguY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuICAgIGlzTnVsbChjb21tYW5kOiBDb21wb25lbnRFZGl0Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoKGNvbW1hbmQuYWRkPy5sZW5ndGggfHwgMCkgKyAoY29tbWFuZC5yZW1vdmU/Lmxlbmd0aCB8fCAwKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBlZGl0IG9mIGNvbW1hbmQuZWRpdCA/PyBbXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBpbiBlZGl0LmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFbnRpdHlTcGF3blBhY2tldChlbnRpdHk6IG51bWJlcik6IEZyb3plbkVudGl0eSAge1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdzZXJpYWxpemVfZW50aXR5JywgZW50aXR5KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudHMgPSB0aGlzLndvcmxkLmdldEFsbENvbXBvbmVudHMoZW50aXR5KTtcblxuICAgICAgICBsZXQgY29tcHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZElnbm9yZUNvbXBvbmVudDAoY29tcCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29tcHMucHVzaChmaWx0ZXJDb21wb25lbnQoY29tcCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBlbnRpdHksXG4gICAgICAgICAgICBjb21wb25lbnRzOiBjb21wcyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3VsZElnbm9yZUNvbXBvbmVudDAoY29tcG9uZW50OiBDb21wb25lbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICgoY29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgfHwgIXRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KGNvbXBvbmVudC50eXBlKT8uc3luYztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlTnVsbGFibGVBcnJheXM8VD4oYT86IFRbXSwgYj86IFRbXSk6IFRbXSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGI7XG4gICAgaWYgKGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGE7XG4gICAgYS5wdXNoKC4uLmIpO1xuICAgIHJldHVybiBhO1xufVxuXG4vLyBJIGhhdGUgSlNcbmZ1bmN0aW9uIGNsb25lPFQ+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh4KSk7XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0hPU1RfSElEREVOX1RZUEV9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi9zcGF3bkNvbW1hbmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZVNwYXduQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdkZXNwYXduJztcbiAgICBlbnRpdGllczogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBEZVNwYXduQ29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdkZXNwYXduJztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBEZVNwYXduQ29tbWFuZCk6IFNwYXduQ29tbWFuZCB7XG4gICAgICAgIGxldCBzYXZlZCA9IHRoaXMud29ybGQuZGVzcGF3bkVudGl0aWVzU2F2ZShjbWQuZW50aXRpZXMpO1xuXG4gICAgICAgIHJldHVybiAge1xuICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgIGVudGl0aWVzOiBzYXZlZCxcbiAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmRcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBEZVNwYXduQ29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIGxldCBlbnRpdGllcyA9IGNvbW1hbmQuZW50aXRpZXMuZmlsdGVyKHggPT4gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoeCwgSE9TVF9ISURERU5fVFlQRSkgPT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChlbnRpdGllcy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllcyxcbiAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZF07XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IERlU3Bhd25Db21tYW5kLCBmcm9tOiBEZVNwYXduQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICB0by5lbnRpdGllcy5wdXNoKC4uLmZyb20uZW50aXRpZXMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogRGVTcGF3bkNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbW1hbmQuZW50aXRpZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50Q2FsbCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGFyZ3M6IGFueVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdldmVudCc7XG4gICAgZG86IEV2ZW50Q2FsbDtcbiAgICB1bmRvOiBFdmVudENhbGw7XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudENvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnZXZlbnQnO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBhcHBseUludmVydChjbWQ6IEV2ZW50Q29tbWFuZCk6IEV2ZW50Q29tbWFuZCB7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoY21kLmRvLm5hbWUsIC4uLmNtZC5kby5hcmdzKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ2V2ZW50JyxcbiAgICAgICAgICAgIGRvOiBjbWQudW5kbyxcbiAgICAgICAgICAgIHVuZG86IGNtZC5kbyxcbiAgICAgICAgfSBhcyBFdmVudENvbW1hbmQ7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogRXZlbnRDb21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgcmV0dXJuIFtjb21tYW5kXTtcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogRXZlbnRDb21tYW5kLCBmcm9tOiBFdmVudENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBFdmVudENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBOb25lQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdub25lJztcbn1cblxuZXhwb3J0IGNsYXNzIE5vbmVDb21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ25vbmUnO1xuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBOb25lQ29tbWFuZCk6IE5vbmVDb21tYW5kIHtcbiAgICAgICAgcmV0dXJuIGNtZDtcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBOb25lQ29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogTm9uZUNvbW1hbmQsIGZyb206IE5vbmVDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtBbnlNYXBUeXBlLCBXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VFZGl0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdyZWRpdCc7XG4gICAgYWRkOiBSZXNvdXJjZVtdO1xuICAgIGVkaXQ6IHtbdHlwZTogc3RyaW5nXTogYW55fTtcbiAgICByZW1vdmU6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgUmVzb3VyY2VFZGl0Q29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdyZWRpdCc7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogUmVzb3VyY2VFZGl0Q29tbWFuZCk6IFJlc291cmNlRWRpdENvbW1hbmQge1xuICAgICAgICBsZXQgaW52ID0ge1xuICAgICAgICAgICAga2luZDogJ3JlZGl0JyxcbiAgICAgICAgICAgIGFkZDogW10sXG4gICAgICAgICAgICBlZGl0OiBbXSxcbiAgICAgICAgICAgIHJlbW92ZTogW10sXG4gICAgICAgIH0gYXMgUmVzb3VyY2VFZGl0Q29tbWFuZDtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQuYWRkKSB7XG4gICAgICAgICAgICBpbnYucmVtb3ZlLnB1c2goYy50eXBlKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBjbWQuZWRpdCkge1xuICAgICAgICAgICAgLy8gRGF0YSBnZXRzIHN3YXBwZWQgd2l0aCB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBjbWQuZWRpdFtuYW1lXTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKG5hbWUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGludi5lZGl0ID0gY21kLmVkaXQ7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY21kLnJlbW92ZSkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoYyk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaW52LmFkZC5wdXNoKHJlcyk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZVJlc291cmNlKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnY7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY21kOiBSZXNvdXJjZUVkaXRDb21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgbGV0IGFkZCA9IGNtZC5hZGQuZmlsdGVyKHggPT4geC5fc3luYyk7XG4gICAgICAgIGxldCBlZGl0ID0ge30gYXMgQW55TWFwVHlwZTtcblxuICAgICAgICBsZXQgZWRpdGMgPSAwO1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGNtZC5lZGl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRSZXNvdXJjZSh0eXBlKT8uX3N5bmMpIHtcbiAgICAgICAgICAgICAgICBlZGl0YyArPSAxO1xuICAgICAgICAgICAgICAgIGVkaXRbdHlwZV0gPSBjbWQuZWRpdFt0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZW1vdmUgPSBjbWQucmVtb3ZlLmZpbHRlcih4ID0+IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoeCk/Ll9zeW5jKTtcblxuICAgICAgICBpZiAoYWRkLmxlbmd0aCArIGVkaXRjICsgcmVtb3ZlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAga2luZDogJ3JlZGl0JyxcbiAgICAgICAgICAgIGFkZCwgZWRpdCwgcmVtb3ZlLFxuICAgICAgICB9IGFzIFJlc291cmNlRWRpdENvbW1hbmRdXG4gICAgfVxuXG4gICAgbWVyZ2UodG86IFJlc291cmNlRWRpdENvbW1hbmQsIGZyb206IFJlc291cmNlRWRpdENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgdG8uYWRkLnB1c2goLi4uZnJvbS5hZGQpXG4gICAgICAgIHRvLnJlbW92ZS5wdXNoKC4uLmZyb20ucmVtb3ZlKVxuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGZyb20uZWRpdCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgaW4gdG8uZWRpdCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG8uZWRpdFt0eXBlXSwgZnJvbS5lZGl0W3R5cGVdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG8uZWRpdFt0eXBlXSA9IGZyb20uZWRpdFt0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogUmVzb3VyY2VFZGl0Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoY29tbWFuZC5hZGQubGVuZ3RoICsgY29tbWFuZC5yZW1vdmUubGVuZ3RoICE9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gY29tbWFuZC5lZGl0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGFuZ2UgaW4gY29tbWFuZC5lZGl0W3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RnJvemVuRW50aXRpZXMsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7SGlkZWFibGVDb21wb25lbnQsIEhPU1RfSElEREVOX1RZUEV9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2Rlc3Bhd25Db21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Bhd25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAga2luZDogJ3NwYXduJztcbiAgICBlbnRpdGllczogRnJvemVuRW50aXRpZXM7XG59XG5cbmV4cG9ydCBjbGFzcyBTcGF3bkNvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnc3Bhd24nO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBhcHBseUludmVydChjbWQ6IFNwYXduQ29tbWFuZCk6IERlU3Bhd25Db21tYW5kIHtcbiAgICAgICAgbGV0IGVudGl0aWVzID0gY21kLmVudGl0aWVzLm1hcCgoeCkgPT4geC5pZCk7XG4gICAgICAgIHRoaXMud29ybGQucmVzcGF3bkVudGl0aWVzKGNtZC5lbnRpdGllcyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgIGVudGl0aWVzOiBlbnRpdGllcyxcbiAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBTcGF3bkNvbW1hbmQpOiBDb21tYW5kW10ge1xuICAgICAgICBsZXQgbmV3X2VudHMgPSBjb21tYW5kLmVudGl0aWVzLmZpbHRlcigoeCkgPT4geC5jb21wb25lbnRzLmZpbmQoKHkpID0+IHkudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkgPT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGxldCBtYXBfZW50cyA9IG5ld19lbnRzLm1hcCh4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IHguaWQsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogeC5jb21wb25lbnRzLmZpbHRlcih4ID0+ICh4IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlICE9PSBmYWxzZSksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXBfZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllczogbWFwX2VudHMsXG4gICAgICAgIH0gYXMgU3Bhd25Db21tYW5kXTtcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogU3Bhd25Db21tYW5kLCBmcm9tOiBTcGF3bkNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgdG8uZW50aXRpZXMucHVzaCguLi5mcm9tLmVudGl0aWVzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IFNwYXduQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29tbWFuZC5lbnRpdGllcy5sZW5ndGggPT09IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7V0FMTF9UWVBFLCBXYWxsQ29tcG9uZW50LCBXYWxsU3lzdGVtfSBmcm9tIFwiLi93YWxsU3lzdGVtXCI7XG5pbXBvcnQge3JvdGF0ZVBvaW50QnlPcmlnfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvY29sbGlzaW9uXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuaW1wb3J0IHthcHB9IGZyb20gXCIuLi8uLi9pbmRleFwiO1xuaW1wb3J0IHtSRU1FTUJFUl9UWVBFfSBmcm9tIFwiLi9iYWNrL3BpeGlHcmFwaGljU3lzdGVtXCI7XG5pbXBvcnQge0xPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7Y29tcG9uZW50RWRpdENvbW1hbmQsIENvbXBvbmVudEVkaXRDb21tYW5kLCBzaW5nbGVFZGl0Q29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21wb25lbnRFZGl0XCI7XG5pbXBvcnQge2VtaXRDb21tYW5kLCBleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21tYW5kXCI7XG5cblxuZXhwb3J0IGVudW0gRG9vclR5cGUge1xuICAgIE5PUk1BTF9MRUZUID0gXCJub3JtYWxsXCIsXG4gICAgTk9STUFMX1JJR0hUID0gXCJub3JtYWxyXCIsXG4gICAgUk9UQVRFID0gXCJyb3RhdGVcIixcbn1cblxuZXhwb3J0IGNvbnN0IERPT1JfVFlQRSA9ICdkb29yJztcbmV4cG9ydCB0eXBlIERPT1JfVFlQRSA9IHR5cGVvZiBET09SX1RZUEU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9vckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCwgSGlkZWFibGVDb21wb25lbnQge1xuICAgIHR5cGU6IERPT1JfVFlQRTtcbiAgICBkb29yVHlwZTogRG9vclR5cGU7XG4gICAgbG9ja2VkOiBib29sZWFuO1xuICAgIG9wZW46IGJvb2xlYW47XG4gICAgY2xpZW50VmlzaWJsZTogYm9vbGVhbjtcbiAgICBfZGlzcGxheT86IFBJWEkuR3JhcGhpY3M7XG59XG5cblxuZXhwb3J0IGNsYXNzIERvb3JTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gRE9PUl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIFdBTExfVFlQRV07XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8RG9vckNvbXBvbmVudD4oRE9PUl9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgIHBpeGlCb2FyZFN5czogUGl4aUJvYXJkU3lzdGVtO1xuICAgIHdhbGxTeXM6IFdhbGxTeXN0ZW07XG4gICAgaXNNYXN0ZXJWaWV3OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBsYXllcjogUElYSS5kaXNwbGF5LkxheWVyO1xuICAgIGRpc3BsYXlDb250YWluZXI6IFBJWEkuQ29udGFpbmVyO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gZWNzO1xuXG4gICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKCk7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzID0gZWNzLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICB0aGlzLndhbGxTeXMgPSBlY3Muc3lzdGVtcy5nZXQoV0FMTF9UWVBFKSBhcyBXYWxsU3lzdGVtO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICAgICAgaWYgKGVjcy5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2ludGVyYWN0JywgdGhpcy5vbkludGVyYWN0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZHJhd0NvbXBvbmVudChkb29yOiBEb29yQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBsZXQgdmlzaWJsZSA9IHRoaXMuaXNNYXN0ZXJWaWV3IHx8IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBSRU1FTUJFUl9UWVBFKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIGRvb3IuX2Rpc3BsYXk/LmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiB1c2UgaW50ZXJhY3Rpb24gc2hhcGU/IChtaWdodCBidWcgb3V0IG9uIHRyYW5zbGF0aW9ucylcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIHBvcy54LCBwb3MueSxcbiAgICAgICAgICAgIHBvcy54ICsgd2FsbC52ZWNbMF0sIHBvcy55ICsgd2FsbC52ZWNbMV1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMoZG9vciwgbGluZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3TGluZXMoZG9vcjogRG9vckNvbXBvbmVudCwgbGluZTogTGluZSk6IHZvaWQge1xuICAgICAgICBsZXQgZyA9IGRvb3IuX2Rpc3BsYXk7XG4gICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgZy5jbGVhcigpO1xuICAgICAgICBnLmxpbmVTdHlsZSgyLCAwLCAwLjUpO1xuICAgICAgICBzd2l0Y2ggKGRvb3IuZG9vclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGxpbmUuZGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIobGluZS50b1kgLSBsaW5lLmZyb21ZLCBsaW5lLnRvWCAtIGxpbmUuZnJvbVgpO1xuICAgICAgICAgICAgICAgIGlmIChkb29yLm9wZW4pIHN0YXJ0QW5nbGUgLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgZy5hcmMobGluZS5mcm9tWCwgbGluZS5mcm9tWSwgciwgc3RhcnRBbmdsZSwgc3RhcnRBbmdsZSArIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX1JJR0hUOiB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBsaW5lLmRpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKGxpbmUuZnJvbVkgLSBsaW5lLnRvWSwgbGluZS5mcm9tWCAtIGxpbmUudG9YKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvb3Iub3Blbikgc3RhcnRBbmdsZSAtPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgICAgICBnLmFyYyhsaW5lLnRvWCwgbGluZS50b1ksIHIsIHN0YXJ0QW5nbGUsIHN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLlJPVEFURToge1xuICAgICAgICAgICAgICAgIGxldCByID0gbGluZS5kaXN0YW5jZSgpIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgY3ggPSAobGluZS5mcm9tWCArIGxpbmUudG9YKSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IGN5ID0gKGxpbmUuZnJvbVkgKyBsaW5lLnRvWSkgLyAyO1xuICAgICAgICAgICAgICAgIGcuZHJhd0NpcmNsZShjeCwgY3ksIHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIGRvb3IgdHlwZTogXCIgKyBkb29yLmRvb3JUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkRvb3IoZG9vcjogRG9vckNvbXBvbmVudCwgZG9vclR5cGU6IERvb3JUeXBlLCBvcGVuOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBsZXQgbmV3UG9zID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbmV3VmVjID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHN3aXRjaCAoZG9vclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6IHtcbiAgICAgICAgICAgICAgICBuZXdWZWMgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguUEkgLyAyICogKG9wZW4gPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfUklHSFQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLlBJIC8gMiAqIChvcGVuID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICBuZXdQb3MgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiBwb3MueCArIHdhbGwudmVjWzBdLCB5OiBwb3MueSArIHdhbGwudmVjWzFdIH0sXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54LCB5OiBwb3MueSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG5ld1ZlYyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogd2FsbC52ZWNbMF0sIHk6IHdhbGwudmVjWzFdIH1cbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuUk9UQVRFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGh2eCA9IHdhbGwudmVjWzBdIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgaHZ5ID0gd2FsbC52ZWNbMV0gLyAyO1xuICAgICAgICAgICAgICAgIGxldCBvcmlnaW4gPSB7IHg6IHBvcy54ICsgaHZ4LCB5OiBwb3MueSArIGh2eSB9O1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IE1hdGguUEkgLyAyICogKG9wZW4gPyAxIDogLTEpO1xuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4sIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54LCB5OiBwb3MueSB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbmV3VmVjID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbiwgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogcG9zLnggKyB3YWxsLnZlY1swXSwgeTogcG9zLnkgKyB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBuZXdWZWMueCAtPSBuZXdQb3MueDtcbiAgICAgICAgICAgICAgICBuZXdWZWMueSAtPSBuZXdQb3MueTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIGRvb3IgdHlwZTogXCIgKyBkb29yVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHB4ID0gbmV3UG9zPy54ID8/IHBvcy54O1xuICAgICAgICBsZXQgcHkgPSBuZXdQb3M/LnkgPz8gcG9zLnk7XG4gICAgICAgIGxldCB2eCA9IG5ld1ZlYz8ueCA/PyB3YWxsLnZlY1swXTtcbiAgICAgICAgbGV0IHZ5ID0gbmV3VmVjPy55ID8/IHdhbGwudmVjWzFdO1xuICAgICAgICBsZXQgaW50ZXJzZWN0V2l0aCA9IHRoaXMud2FsbFN5cy5xdWVyeUludGVyc2VjdGlvbnMocHgsIHB5LCB2eCwgdnkpO1xuICAgICAgICBpZiAoIShpbnRlcnNlY3RXaXRoLmxlbmd0aCA9PT0gMCB8fCAoaW50ZXJzZWN0V2l0aC5sZW5ndGggPT09IDEgJiYgaW50ZXJzZWN0V2l0aFswXSA9PT0gZG9vci5lbnRpdHkpKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb29yIHN0dWNrXCIpO1xuICAgICAgICAgICAgLy8gQ29sbGlzaW9uLCBkb24ndCBzcGxpdCB0aGUgZG9vciBwbHMuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuXG4gICAgICAgIGlmIChuZXdQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGRvb3IuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBuZXdQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgeTogbmV3UG9zLnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdWZWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGRvb3IuZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IFdBTExfVFlQRSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHZlYzogW25ld1ZlYy54LCBuZXdWZWMueV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tbWl0IHRoZSBlZGl0cyBhdCB0aGUgc2FtZSB0aW1lIHRvIHByZXZlbnQgdGhlIHdhbGwgZnJvbSBiZWluZyBzcGxpdCAobXVsdGkgPSB0cnVlKVxuICAgICAgICAvLyAoaWYgd2UgY29tbWl0IHBvc2l0aW9uIGJlZm9yZSByb3RhdGlvbiBpdCBtaWdodCBjcmVhdGUgYW4gb3ZlcmxhcCBzaXR1YXRpb24gdGhhdCBzaG91bGRcbiAgICAgICAgLy8gbm90IGJlIHRoZXJlKS5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0OiBjaGFuZ2VzLFxuICAgICAgICAgICAgbXVsdGk6IHRydWUsXG4gICAgICAgIH0gYXMgQ29tcG9uZW50RWRpdENvbW1hbmQ7XG4gICAgICAgIC8vIFdoeSBhcmUgd2UgdXNpbmcgc2hhcmU/XG4gICAgICAgIC8vIFdlJ3JlIGVkaXRpbmcgYW5vdGhlciBzeW5jZWQgY29tcG9uZW50LCBidXQgdGhpcyAodGhlIGRvb3IpIG1pZ2h0IGJlIGhpZGRlbi5cbiAgICAgICAgLy8gSWYgdGhlIG1hc3RlciBvcGVucyBhIGhpZGRlbiBkb29yIHRoZSBcIm9wZW5cIiBtZXNzYWdlIHdpbGwgbm90IGJlIHNoYXJlZCBidXQgdGhlIGRvb3Igc2hvdWxkIHN0aWxsIG9wZW4gZm9yXG4gICAgICAgIC8vIHRoZSByb2xlcGxheWVycy5cbiAgICAgICAgLy8gQWRkZW5kdW06IHdoYXQgaWYgdGhlIGVudGl0eSBpcyBoaWRkZW4/IFRoZW4gdGhlIGNvbW1hbmQgd2lsbCBlZGl0IGEgaGlkZGVuIGVudGl0eSBzbyBpdCB3aWxsIGJlIHN0cmlwcGVkIGF3YXkuXG4gICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNtZCwgIWRvb3IuY2xpZW50VmlzaWJsZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGQuX2Rpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmFkZENoaWxkKGQuX2Rpc3BsYXkpO1xuICAgICAgICAgICAgLy8gRG8gTk9UIHJlLW9wZW4gdGhlIGRvb3IsIGlmIGl0IGlzIG9wZW4gaXQgbWVhbnMgdGhhdCBpdCBoYXMgYmVlbiBsb2FkZWQgZnJvbSBmaWxlIGFuZCB0aGUgd2FsbCBpc1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiB0aGUgXCJkb29yIG9wZW5cIiBzdGF0ZS4gQmFkIHNub3d5LCB3dGYgd2VyZSB5b3UgdGhpbmtpbmdcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuXG4gICAgICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAod2FsbCAhPT0gdW5kZWZpbmVkKSB3YWxsLl9kb250TWVyZ2UrKztcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFJFTUVNQkVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkb29yID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZG9vciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQoZG9vcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICgnb3BlbicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuRG9vcihkLCBkLmRvb3JUeXBlLCBkLm9wZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHdlbGwsIHRoaXMgZG9lcyBub3Qgd29yayByaWdodCB3aXRoIHRoZSBHVUlcbiAgICAgICAgICAgICAgICAgICAgZC5vcGVuID0gIWQub3BlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2Rvb3JUeXBlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Eb29yKGQsIGNoYW5nZWRbJ2Rvb3JUeXBlJ10sIGZhbHNlKSAmJiB0aGlzLm9wZW5Eb29yKGQsIGQuZG9vclR5cGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3dhbGwnKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBET09SX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkID0gY29tcCBhcyBEb29yQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBkLl9kaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgV0FMTF9UWVBFKSBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgd2FsbC5fZG9udE1lcmdlLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFICYmICd2aXNpb25UeXBlJyBpbiBlZGl0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNYXN0ZXJWaWV3ID0gKHJlcyBhcyBMb2NhbExpZ2h0U2V0dGluZ3MpLnZpc2lvblR5cGUgIT09ICdycCc7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25JbnRlcmFjdChlbnRpdGllczogbnVtYmVyW10pIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChkb29yID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGNtZCA9IHNpbmdsZUVkaXRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogIWRvb3Iub3BlbixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sYXllci56SW5kZXggPSBEaXNwbGF5UHJlY2VkZW5jZS5XQUxMICsgMTtcbiAgICAgICAgdGhpcy5sYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5sYXllcik7XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLnBhcmVudExheWVyID0gdGhpcy5sYXllcjtcbiAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLmJvYXJkLmFkZENoaWxkKHRoaXMuZGlzcGxheUNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5pc01hc3RlclZpZXcgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFKSBhcyBMb2NhbExpZ2h0U2V0dGluZ3MpPy52aXNpb25UeXBlICE9PSAncnAnO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgdGhpcy5sYXllci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG59IiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgUG9pbnR9IGZyb20gXCIuLi8uLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge0dyaWRHcmFwaGljYWxPcHRpb25zLCBHcmlkVHlwZSwgU1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7Qk9BUkRfVFJBTlNGT1JNX1RZUEUsIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UsIFBJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xTeXN0ZW19IGZyb20gXCIuL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRX0gZnJvbSBcIi4vYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7Y3JlYXRlRW1wdHlEcml2ZXJ9IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcblxuXG5jb25zdCBTUVJUMyA9IE1hdGguc3FydCgzKTtcblxuZXhwb3J0IGNvbnN0IEdSSURfVFlQRSA9ICdncmlkJztcbmV4cG9ydCB0eXBlIEdSSURfVFlQRSA9ICdncmlkJztcblxuXG5leHBvcnQgY2xhc3MgR3JpZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEdSSURfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBTRUxFQ1RJT05fVFlQRSwgVE9PTF9UWVBFXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcbiAgICBzcHJpdGU6IFBJWEkuVGlsaW5nU3ByaXRlO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkUmVzOiBHcmlkUmVzb3VyY2U7XG4gICAgcHJpdmF0ZSBpbnRlcm5hbFNjYWxlOiBudW1iZXIgPSAxO1xuXG4gICAgcG9zWDogbnVtYmVyID0gMDtcbiAgICBwb3NZOiBudW1iZXIgPSAwO1xuICAgIHNjYWxlWDogbnVtYmVyID0gMTtcbiAgICBzY2FsZVk6IG51bWJlciA9IDE7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShQSVhJLlRleHR1cmUuRU1QVFksIGFwcC5zY3JlZW4ud2lkdGgsIGFwcC5zY3JlZW4uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zcHJpdGUuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuR1JJRDtcblxuICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgdG9vbFN5cy5hZGRUb29sKGNyZWF0ZUVtcHR5RHJpdmVyKFRvb2wuR1JJRCkpO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9yZW1vdmUnLCB0aGlzLm9uUmVzb3VyY2VSZW1vdmUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFJlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdHlwZTogR1JJRF9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgICAgICBfc3luYzogdHJ1ZSxcbiAgICAgICAgfSwgU1RBTkRBUkRfR1JJRF9PUFRJT05TKSAgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmdyaWRSZXMpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4KCk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFJlZHJhd1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXgoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uQm9hcmRUcmFuc2Zvcm0ocmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZVJlbW92ZShyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSAhPT0gR1JJRF9UWVBFKSByZXR1cm47XG4gICAgICAgIHRocm93ICdGb29sISBUaG91IHNoYWxsIG5vdCByZW1vdmUgdGh5IGdyaWQhJ1xuICAgIH1cblxuICAgIG9uQm9hcmRUcmFuc2Zvcm0oZGF0YTogQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSkge1xuICAgICAgICB0aGlzLnBvc1ggPSBkYXRhLnBvc1g7XG4gICAgICAgIHRoaXMucG9zWSA9IGRhdGEucG9zWTtcbiAgICAgICAgdGhpcy5zY2FsZVggPSBkYXRhLnNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSBkYXRhLnNjYWxlWTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3MoKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNwcml0ZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNwcml0ZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUZXgoKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUuZGVzdHJveSh0cnVlKTtcblxuICAgICAgICBpZiAoIXRoaXMuZ3JpZFJlcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlID0gUElYSS5UZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleCA9IGRyYXdHcmlkVGV4dHVyZSg1MTIsIHRoaXMuZ3JpZFJlcy5ncmlkVHlwZSwgdGhpcy5ncmlkUmVzKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFNjYWxlID0gdGhpcy5ncmlkUmVzLnNpemUgLyA1MTI7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKHRleCk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zKCkge1xuICAgICAgICB0aGlzLnNwcml0ZS50aWxlU2NhbGUuc2V0KHRoaXMuc2NhbGVYICogdGhpcy5pbnRlcm5hbFNjYWxlLCB0aGlzLnNjYWxlWSAqIHRoaXMuaW50ZXJuYWxTY2FsZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRpbGVQb3NpdGlvbi5zZXQodGhpcy5wb3NYICsgdGhpcy5zY2FsZVggKiB0aGlzLmdyaWRSZXMub2ZmWCAgKiB0aGlzLmdyaWRSZXMuc2l6ZSAsIHRoaXMucG9zWSArIHRoaXMuc2NhbGVZICogdGhpcy5ncmlkUmVzLm9mZlkgKiB0aGlzLmdyaWRSZXMuc2l6ZSk7XG4gICAgfVxuXG4gICAgY2xvc2VzdFBvaW50KHBvaW50OiBQb2ludCk6IFBvaW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JpZFJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcG50ID0gbmV3IFBJWEkuUG9pbnQocG9pbnRbMF0sIHBvaW50WzFdKTtcbiAgICAgICAgdGhpcy5zcHJpdGUud29ybGRUcmFuc2Zvcm0uYXBwbHkocG50LCBwbnQpO1xuXG4gICAgICAgIGxldCBwb2ludFggPSBwbnQueCAvIHRoaXMuZ3JpZFJlcy5zaXplIC0gdGhpcy5ncmlkUmVzLm9mZlg7XG4gICAgICAgIGxldCBwb2ludFkgPSBwbnQueSAvIHRoaXMuZ3JpZFJlcy5zaXplIC0gdGhpcy5ncmlkUmVzLm9mZlk7XG5cbiAgICAgICAgbGV0IHJlc1g6IG51bWJlcjtcbiAgICAgICAgbGV0IHJlc1k6IG51bWJlcjtcbiAgICAgICAgc3dpdGNoICh0aGlzLmdyaWRSZXMuZ3JpZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGZ4ID0gTWF0aC5mbG9vcihwb2ludFgpO1xuICAgICAgICAgICAgICAgIGxldCBmeSA9IE1hdGguZmxvb3IocG9pbnRZKTtcblxuICAgICAgICAgICAgICAgIHJlc1ggPSBmeDtcbiAgICAgICAgICAgICAgICByZXNZID0gZnk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRYID4gZnggKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRZID4gZnkgKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWSArPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgZ3JpZCBjZW50ZXJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdFNxdWFyZWQyZChwb2ludFgsIHBvaW50WSwgZnggKyAwLjUsIGZ5ICsgMC41KSA8IGRpc3RTcXVhcmVkMmQocG9pbnRYLCBwb2ludFksIHJlc1gsIHJlc1kpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1ggPSBmeCArIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgcmVzWSA9IGZ5ICsgMC41O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046IHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYWxnb3JpdGhtIGhlcmUgaXMgcXVpdGUgY29tcGxleCBhbmQgSSBjb3VsZG4ndCBmaW5kIGFueSBvZiB0aGlzIG9ubGluZSwgc28gdGhpcyBpcyBteSBvd24gc29sdXRpb246XG4gICAgICAgICAgICAgICAgLy8gKG5vdGU6IGhleGFnb24gc2lkZSA9IDEgYmVjYXVzZSBvZiB0aGUgaW5pdGlhbCB0cmFuc2Zvcm1hdGlvbikuXG4gICAgICAgICAgICAgICAgLy8gRmlyc3Qgd2UgY2FuIG5vdGljZSB0aGF0IGlmIHdlIGNvbG91ciBlYWNoIHBvaW50IGluIGEgZGlmZmVyZW50IGNvbG91ciBkZXBlbmRpbmcgb24gd2hpY2ggdmVydGV4XG4gICAgICAgICAgICAgICAgLy8gaXMgY2xvc2VyIHRvIGhpbSAoaW4gYSBoZXhhZ29uYWwgZ3JpZCkgd2UgZmluZCBhIGdyaWQgb2YgZXF1aWxhdGVyYWwgdHJpYW5nbGVzIG9mIHNpZGUgMS5cbiAgICAgICAgICAgICAgICAvLyBXZSB0aGVuIHRyYW5zZm9ybSBvdXIgZ3JpZCBieSAyIC8gc3FydCgzKSBvbiB0aGUgaG9yaXpvbnRhbCBzaWRlIHNvIHRoYXQgdGhlIGhlaWdodCBvZiB0aGUgdHJpYW5nbGVzXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGVpciBiYXNlLlxuICAgICAgICAgICAgICAgIC8vIFdpdGggdGhhdCBkb25lIHdlIGNhbiBwdXQgYSBzcXVhcmUgZ3JpZCBvbiB0b3Agb2Ygb3VyIHRyaWFuZ2xlIGdyaWQsIGVhY2ggc3F1YXJlIHdpbGwgaG9sZCBvbmVcbiAgICAgICAgICAgICAgICAvLyB0cmlhbmdsZSBhdCBpdHMgY2VudGVyIGFuZCB0d28gaGFsZmVzIGF0IHRoZSB0b3AgYW5kIGJvdHRvbS5cbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gc2VlIHdoaWNoIHNxdWFyZSB0aGUgcG9pbnQgYmVsb25ncyB0byBieSBmbG9vcmluZyB0aGUgdHJhbnNmb3JtZWQgeCBhbmQgeSBjb21wb25lbnRzLCB0aGVuXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIGNoZWNrIHdoaWNoIHRyaWFuZ2xlIHRoZSBwb2ludHMgYmVsb25ncyB0byBieSBjaGVjaGlua2cgaWYgdGhlIHBvaW50IGlzIGFib3ZlIG9yIGJlbG93XG4gICAgICAgICAgICAgICAgLy8gdGhlIGRpYWdvbmFsIGxpbmVzIG9mIGVxdWF0aW9uOiB5IDwgMC41IC0geC8yIGFuZCB5ID4geC8yICsgMC41XG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGVhY2ggdHJpYW5nbGUgY29sdW1uIGhhcyBoYWxmIG9mIGEgaGV4YWdvbiBzbyB0aGUgb2RkLW9uZXMgd2lsbCBiZSBmbGlwcGVkLlxuXG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IDEgLyBTUVJUMzsvLyBIZXhhZ29uIFNpZGUgPSAxL3NxcnQoMylcbiAgICAgICAgICAgICAgICBsZXQgcHggPSAocG9pbnRYIC0gcyAvIDIpICogMiAvIFNRUlQzOy8vIGFsaWduIHRoZSBwb2ludCB3aXRoIHRoZSB0cmlhbmdsZSBncmlkLCBhbmQgdHJhbnNmb3JtIHRoZSBncmlkXG4gICAgICAgICAgICAgICAgbGV0IHB5ID0gcG9pbnRZO1xuXG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gTWF0aC5mbG9vcihweCk7XG4gICAgICAgICAgICAgICAgbGV0IHN5ID0gTWF0aC5mbG9vcihweSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZ3ggPSAocHggLSBzeCk7XG4gICAgICAgICAgICAgICAgbGV0IGd5ID0gKHB5IC0gc3kpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJ4ID0gc3ggKiBTUVJUMyAvIDIgKyBzIC8gMjtcbiAgICAgICAgICAgICAgICBpZiAoc3ggJSAyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBzaWRlIGhleGFnb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGd5IDwgMC41IC0gZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3k7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChneSA+IGd4IC8gMiArIDAuNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHMgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZsaXBwZWQgaGV4YWdvbjogcmlnaHQgc2lkZSBoZXguXG4gICAgICAgICAgICAgICAgICAgIGlmIChneSA+IDEgLSBneCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGd5IDwgZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3k7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcyAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBudC5zZXQoXG4gICAgICAgICAgICAocmVzWCArIHRoaXMuZ3JpZFJlcy5vZmZYKSAqIHRoaXMuZ3JpZFJlcy5zaXplLFxuICAgICAgICAgICAgKHJlc1kgKyB0aGlzLmdyaWRSZXMub2ZmWSkgKiB0aGlzLmdyaWRSZXMuc2l6ZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnNwcml0ZS53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG50LCBwbnQpO1xuXG4gICAgICAgIHJldHVybiBbcG50LngsIHBudC55XTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGFwcC5yZW5kZXJlci5vbigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgdGhpcyk7XG4gICAgICAgIGFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLnNwcml0ZSk7XG4gICAgICAgIHRoaXMub25SZXNpemUoYXBwLnNjcmVlbi53aWR0aCwgYXBwLnNjcmVlbi5oZWlnaHQpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBhcHAucmVuZGVyZXIub2ZmKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLCB0aGlzKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERSQVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gZHJhd0dyaWRUZXh0dXJlKHNpemU6IG51bWJlciwgdHlwZTogR3JpZFR5cGUsIG9wdGlvbnM6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogUElYSS5CYXNlVGV4dHVyZSB7XG4gICAgbGV0IGNhbnZhczogSW1hZ2VEYXRhO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046XG4gICAgICAgICAgICBjYW52YXMgPSBkcmF3SGV4KHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOlxuICAgICAgICAgICAgY2FudmFzID0gZHJhd1NxdWFyZShzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBkcmF3IHVua25vd24gdHlwZTogJyArIHR5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBJWEkuQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihuZXcgVWludDhBcnJheShjYW52YXMuZGF0YS5idWZmZXIpLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xufVxuXG5mdW5jdGlvbiBkcmF3U3F1YXJlKHNpemU6IG51bWJlciwgb3B0OiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IEltYWdlRGF0YSB7XG4gICAgLy9sZXQgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyhzaXplLCBzaXplKTtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG5cbiAgICBjdHgubGluZVdpZHRoID0gb3B0LnRoaWNrO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yVG9IZXgob3B0LmNvbG9yLCBvcHQub3BhY2l0eSk7XG5cbiAgICBjdHguc3Ryb2tlUmVjdCgwLCAwLCBzaXplICsgMSwgc2l6ZSArIDEpO1xuICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpO1xufVxuXG5mdW5jdGlvbiBkcmF3SGV4KHNpemU6IG51bWJlciwgb3B0OiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IEltYWdlRGF0YSB7XG4gICAgbGV0IHMgPSBzaXplIC8gU1FSVDM7Ly8gU2lkZVxuXG4gICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcigzICogcyk7XG4gICAgLy9sZXQgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgc2l6ZSk7XG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplO1xuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgIGxldCBkID0gc2l6ZTtcblxuICAgIGN0eC5saW5lV2lkdGggPSBvcHQudGhpY2s7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gIGNvbG9yVG9IZXgob3B0LmNvbG9yLCBvcHQub3BhY2l0eSk7XG5cblxuICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgY3R4LmxpbmVUbyhzLCAwKTtcbiAgICBjdHgubGluZVRvKHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMiAqIHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMyAqIHMsIDApO1xuICAgIGN0eC5tb3ZlVG8oMCwgZCk7XG4gICAgY3R4LmxpbmVUbyhzLCBkKTtcbiAgICBjdHgubGluZVRvKHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5tb3ZlVG8oMiAqIHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMyAqIHMsIGQpO1xuXG4gICAgLy8gTGluZXMgYmVmb3JlIHRoZSBpbWFnZTpcbiAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgIGN0eC5saW5lVG8oLXMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygwLCBkKTtcblxuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBzaXplKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb0hleChjb2xvcjogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiAnIycgKyAoY29sb3IgPDwgOCB8ICgyNTUgKiBvcGFjaXR5KSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsICcwJyk7XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7Q1VTVE9NX0JMRU5EX01PREVTLCBERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7U3R1cGlkUG9pbnR9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9wb2ludFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge2FwcH0gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5pbXBvcnQge1ZJU0lCSUxJVFlfVFlQRSwgVmlzaWJpbGl0eUNvbXBvbmVudH0gZnJvbSBcIi4vYmFjay92aXNpYmlsaXR5U3lzdGVtXCI7XG5pbXBvcnQgKiBhcyBQb2ludExpZ2h0UmVuZGVyIGZyb20gXCIuLi8uLi9nYW1lL3BvaW50TGlnaHRSZW5kZXJlclwiO1xuaW1wb3J0IHtQTEFZRVJfVFlQRSwgUGxheWVyQ29tcG9uZW50fSBmcm9tIFwiLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7TWVzaH0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7UGl4aUJvYXJkU3lzdGVtLCBQSVhJX0JPQVJEX1RZUEV9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQgaGV4MnJnYiA9IFBJWEkudXRpbHMuaGV4MnJnYjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7Y3JlYXRlRW1wdHlEcml2ZXJ9IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CQUNLR1JPVU5EID0gMHg2ZTQ3MmM7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTID0ge1xuICAgIGFtYmllbnRMaWdodDogMHg1NTU1NTUsXG4gICAgYmFja2dyb3VuZDogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgIG5lZWRzTGlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgTElHSFRfVFlQRSA9ICdsaWdodCc7XG5leHBvcnQgdHlwZSBMSUdIVF9UWVBFID0gJ2xpZ2h0JztcbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IExJR0hUX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbiAgICByYW5nZTogbnVtYmVyO1xuXG4gICAgX2xpZ2h0RGlzcGxheT86IFBJWEkuTWVzaDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21QbGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBQbGF5ZXJDb21wb25lbnQge1xuICAgIF9saWdodFZpc2lvbkRpc3BsYXk/OiBQSVhJLk1lc2g7XG59XG5cbmV4cG9ydCBjb25zdCBMSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCB0eXBlIExJR0hUX1NFVFRJTkdTX1RZUEUgPSAnbGlnaHRfc2V0dGluZ3MnO1xuZXhwb3J0IGludGVyZmFjZSBMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgYW1iaWVudExpZ2h0OiBudW1iZXIsXG4gICAgbmVlZHNMaWdodDogYm9vbGVhbixcbiAgICBiYWNrZ3JvdW5kOiBudW1iZXIsXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IHRydWUsXG59XG5cbnR5cGUgVmlzaW9uVHlwZSA9ICdkbScgfCAncnAnO1xuXG5leHBvcnQgY29uc3QgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSA9ICdsb2NhbF9saWdodF9zZXR0aW5ncyc7XG5leHBvcnQgdHlwZSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgdmlzaW9uVHlwZTogVmlzaW9uVHlwZSxcbiAgICBfc2F2ZTogdHJ1ZSxcbiAgICBfc3luYzogZmFsc2UsXG59XG5cblxuLyoqXG4gKiBIb3cgaXMgbGlnaHQgcmVuZGVyZWQ/XG4gKiBUaGVyZSBhcmUgdGhyZWUgbG9naWNhbCBwYXNzZXMgb24gYSBzZXBhcmF0ZSBmcmFtZWJ1ZmZlci5cbiAqIFRoZW4gdGhpcyBmcmFtZWJ1ZmZlciBpcyBwYXN0ZWQgb250byB0aGUgcmVhbCBzY3JlZW4uXG4gKiAxLiBDbGVhciB0aGUgUkdCQSBjaGFubmVscyB3aXRoIHRoZSBhbWJpZW50IGxpZ2h0LlxuICogMi4gRHJhdyBvbmx5IGluIHRoZSBBTFBIQSBjaGFubmVsIGV2ZXJ5IHBsYXllciBtZXNoIChhY2hpZXZlZCBieSBzZXR0aW5nIHRoZSBjb2xvciB0byAwKVxuICogMy4gRHJhdyB0aGUgbGlnaHQgb25seSB3aGVyZSB0aGUgQUxQSEEgY2hhbm5lbCBpcyAxICh1c2luZyBhIGN1c3RvbSBibGVuZCBtb2RlKVxuICogNC4gRHJhdyB0aGUgZnJhbWVidWZmZXIgb24gdGhlIHNjcmVlbiBpZ25vcmluZyB0aGUgQUxQSEEgY2hhbm5lbCAodXNpbmcgYSBjdXN0b20gYmxlbmQgbW9kZSlcbiAqXG4gKiBXaHkgaXMgdGhpcyB1c2FnZSBvZiB0aGUgYWxwaGEgY2hhbm5lbCB1c2VkP1xuICogV2UgbmVlZCB0byByZW5kZXIgbGlnaHQgb25seSB3aGVyZSB2aXNpYmxlLCBzbyBpbiB0aGUgUlAtdmlldyB0aGUgcGxheWVycyB2aXNpb24gcG9seWdvbnMgc2hvdWxkIGJlIHVzZWQgYXMgYVxuICogbWFzayBmb3IgdGhlIGxpZ2h0ICh5b3UgY2FuJ3Qgc2VlIGEgbGlnaHQgdGhhdCBubyBwbGF5ZXIgc2VlcykuIFNvIHdoZW4gdGhlIFJQLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXNcbiAqIGNsZWFyZWQgd2l0aCBhbHBoYT0wIGFuZCB0aGUgcGxheWVyJ3MgdmlzaW9uIHdpbGwgZmlsbCBpbiB0aGUgYWxwaGEgKHRoZXkgc2hvdWxkIGJlIHJlbmRlcmVkIEJFRk9SRSB0aGUgbGlnaHRzKS5cbiAqIFdoZW4gdGhlIERNLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXMgcmVuZGVyZWQgd2l0aCBhbHBoYT0xIGFuZCB0aGUgcGxheWVyJ3MgdmlldyBpcyBub3QgZHJhd24uXG4gKlxuICogV2h5IGlzbid0IHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gcmVuZGVyaW5nIGJhdGNoZWQ/XG4gKiBXZSBuZWVkIHVuaWZvcm1zIGluIHRoZSBzaGFkZXJzIHRvIGtub3cgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGxpZ2h0IGNlbnRlcjogcmVtZW1iZXIgdGhhdCB2aXNpYmlsaXR5IG1lc2ggaXMgbm90IG9ubHlcbiAqIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24sIGl0IGFsc28gY2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgZm9ybSB0aGUgY2VudGVyIG9mIHRoZSBsaWdodCAodG8gcmVuZGVyIGEgcHJvcGVyIGNpcmNsZSkuXG4gKiBTbyB5ZWFoLCBubyBiYXRjaGVkIHVuaWZvcm1zIGluIFdlYkdMIGl0IHNlZW1zLiAoVE9ETzogZXhwbG9yZSBtb3JlIHBvc3NpYmlsaXRpZXMpXG4gKi9cbmV4cG9ydCBjbGFzcyBMaWdodFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBMSUdIVF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIFBMQVlFUl9UWVBFXTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxMaWdodENvbXBvbmVudD4oTElHSFRfVFlQRSk7XG5cbiAgICBsaWdodExheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG4gICAgcGxheWVyQ29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcbiAgICBsaWdodENvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cbiAgICBsaWdodFNldHRpbmdzOiBMaWdodFNldHRpbmdzO1xuICAgIGxvY2FsTGlnaHRTZXR0aW5nczogTG9jYWxMaWdodFNldHRpbmdzO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKCk7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblxuICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgdG9vbFN5cy5hZGRUb29sKGNyZWF0ZUVtcHR5RHJpdmVyKFRvb2wuTElHSFQpKTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHRoaXMubGlnaHRTZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdHlwZTogTElHSFRfU0VUVElOR1NfVFlQRSxcbiAgICAgICAgICAgIF9zYXZlOiB0cnVlLCBfc3luYzogdHJ1ZSxcbiAgICAgICAgfSwgREVGQVVMVF9MSUdIVF9TRVRUSU5HUykgYXMgTGlnaHRTZXR0aW5ncztcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5saWdodFNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICB0eXBlOiBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFLFxuICAgICAgICAgICAgdmlzaW9uVHlwZTogdGhpcy53b3JsZC5pc01hc3RlciA/ICdkbScgOiAncnAnLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgfSBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMubG9jYWxMaWdodFNldHRpbmdzKTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMaWdodFZpc01lc2goKTogUElYSS5NZXNoIHtcbiAgICAgICAgbGV0IG1lc2ggPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goKTtcblxuICAgICAgICBtZXNoLmJsZW5kTW9kZSA9IENVU1RPTV9CTEVORF9NT0RFUy5BRERfV0hFUkVfQUxQSEFfMTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5hZGRDaGlsZChtZXNoKTtcblxuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBjcmVhdGVQbGF5ZXJWaXNNZXNoKCk6IFBJWEkuTWVzaCB7XG4gICAgICAgIGxldCBtZXNoID0gUG9pbnRMaWdodFJlbmRlci5jcmVhdGVNZXNoKCdwbGF5ZXInKTtcblxuICAgICAgICBtZXNoLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci5hZGRDaGlsZChtZXNoKTtcblxuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNNZXNoKG1lc2g6IFBJWEkuTWVzaCwgcG9zOiBTdHVwaWRQb2ludCwgcG9seTogbnVtYmVyW10pIHtcbiAgICAgICAgbWVzaC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMobWVzaCwgcG9zLCBwb2x5KTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNVbmlmb3JtcyhtZXNoOiBQSVhJLk1lc2gsIGNlbnRlcjogU3R1cGlkUG9pbnQsIHJhbmdlU3F1YXJlZDogbnVtYmVyLCBjb2xvcjogbnVtYmVyKSB7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFVuaWZvcm1zKG1lc2gsIGNlbnRlciwgcmFuZ2VTcXVhcmVkLCBjb2xvcik7XG4gICAgfVxuXG4gICAgZGlzYWJsZVZpc01lc2gobWVzaDogUElYSS5NZXNoKSB7XG4gICAgICAgIG1lc2gudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc1BvbHlnb24oZW50aXR5OiBudW1iZXIsIHRhcmdldDogTWVzaCwgY29sb3I6IG51bWJlciwgcG9zPzogUG9zaXRpb25Db21wb25lbnQsIHZpcz86IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHZpcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlVmlzTWVzaCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aXMucG9seWdvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVWaXNNZXNoKHRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNNZXNoKHRhcmdldCwgcG9zLCB2aXMucG9seWdvbik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc1VuaWZvcm1zKHRhcmdldCwgcG9zLCByYW5nZSAqIHJhbmdlLCBjb2xvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVMaWdodFZpc1BvbHlnb24obGlnaHQ6IExpZ2h0Q29tcG9uZW50LCBwb3M/OiBQb3NpdGlvbkNvbXBvbmVudCwgdmlzPzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpc1BvbHlnb24obGlnaHQuZW50aXR5LCBsaWdodC5fbGlnaHREaXNwbGF5ISwgbGlnaHQuY29sb3IsIHBvcywgdmlzKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQbGF5ZXJWaXNQb2x5Z29uKHBsYXllcjogQ3VzdG9tUGxheWVyQ29tcG9uZW50LCBwb3M/OiBQb3NpdGlvbkNvbXBvbmVudCwgdmlzPzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAocGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPSB0aGlzLmNyZWF0ZVBsYXllclZpc01lc2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVZpc1BvbHlnb24ocGxheWVyLmVudGl0eSwgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXksIDAsIHBvcywgdmlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBMSUdIVF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSBjb21wIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgbGlnaHQuX2xpZ2h0RGlzcGxheSA9IHRoaXMuY3JlYXRlTGlnaHRWaXNNZXNoKCk7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogVklTSUJJTElUWV9UWVBFLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBsaWdodC5yYW5nZSxcbiAgICAgICAgICAgICAgICB0cmFja1dhbGxzOiB0cnVlLFxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHZpcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0VmlzUG9seWdvbihsaWdodCwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPSB0aGlzLmNyZWF0ZVBsYXllclZpc01lc2goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQbGF5ZXIgZG9lcyBub3QgaGF2ZSBhIHZpc2liaWxpdHkgdHlwZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJWaXNQb2x5Z29uKHBsYXllciwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBMSUdIVF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoJ3JhbmdlJyBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGMucmFuZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodmlzLnBvbHlnb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc1VuaWZvcm1zKGMuX2xpZ2h0RGlzcGxheSEsIHBvcywgcmFuZ2UgKiByYW5nZSwgYy5jb2xvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCEoJ3BvbHlnb24nIGluIGNoYW5nZXMpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpICB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaWdodFZpc1BvbHlnb24obGlnaHQsIHVuZGVmaW5lZCwgdmlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHksIFBMQVlFUl9UWVBFKSBhcyBDdXN0b21QbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVyVmlzUG9seWdvbihwbGF5ZXIsIHVuZGVmaW5lZCwgdmlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQoY29tcDogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSkge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghKCdzaXplJyBpbiBjaGFuZ2VkKSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGdyaWQgPSBjb21wIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBjYXJlLCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29ucyB3aWxsIGNoYW5nZSBvbiB0aGVpciBvd25cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1NFVFRJTkdTX1RZUEUgfHwgY29tcC50eXBlID09PSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYXJyID0gWzAuMCwgMC4wLCAwLjAsIDAuMF07XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MudmlzaW9uVHlwZSA9PT0gJ2RtJykgYXJyWzNdID0gMS4wO1xuICAgICAgICAgICAgaGV4MnJnYih0aGlzLmxpZ2h0U2V0dGluZ3MuYW1iaWVudExpZ2h0LCBhcnIpO1xuICAgICAgICAgICAgdGhpcy5saWdodExheWVyLmNsZWFyQ29sb3IgPSBhcnI7XG5cbiAgICAgICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLnZpc2libGUgPSB0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncy52aXNpb25UeXBlICE9PSAnZG0nO1xuXG4gICAgICAgICAgICBhcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gdGhpcy5saWdodFNldHRpbmdzLmJhY2tncm91bmQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IGNvbXAgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBsaWdodC5fbGlnaHREaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQodmlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gbGlnaHQgdmlzaWJpbGl0eSBmb3VuZCBvbiByZW1vdmFsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci5zZXR1cCgpO1xuXG4gICAgICAgIHRoaXMubGlnaHRMYXllci51c2VSZW5kZXJUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saWdodExheWVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuek9yZGVyID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQgLSAxO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci56SW5kZXggPSBEaXNwbGF5UHJlY2VkZW5jZS5MSUdIVCAtIDE7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGxpZ2h0U3lzdGVtID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChMSUdIVF9UWVBFKSBhcyBMaWdodFN5c3RlbTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIucGFyZW50TGF5ZXIgPSBsaWdodFN5c3RlbS5saWdodExheWVyO1xuXG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuek9yZGVyID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQ7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQ7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIucGFyZW50TGF5ZXIgPSB0aGlzLmxpZ2h0TGF5ZXJcblxuICAgICAgICB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQodGhpcy5saWdodFNldHRpbmdzLCB7fSk7Ly8gVXBkYXRlIHRoZSBjbGVhckNvbG9yXG5cbiAgICAgICAgbGV0IGxpZ2h0aW5nU3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRoaXMubGlnaHRMYXllci5nZXRSZW5kZXJUZXh0dXJlKCkpO1xuICAgICAgICBsaWdodGluZ1Nwcml0ZS5ibGVuZE1vZGUgPSBDVVNUT01fQkxFTkRfTU9ERVMuTVVMVElQTFlfQ09MT1JfT05MWTtcbiAgICAgICAgbGlnaHRpbmdTcHJpdGUuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQ7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICBsZXQgYm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIGJvYXJkLmJvYXJkLmFkZENoaWxkKHRoaXMucGxheWVyQ29udGFpbmVyLCB0aGlzLmxpZ2h0Q29udGFpbmVyLCB0aGlzLmxpZ2h0TGF5ZXIpO1xuICAgICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQobGlnaHRpbmdTcHJpdGUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSBERUZBVUxUX0JBQ0tHUk9VTkQ7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEZPTExPV19NT1VTRV9UWVBFLFxuICAgIEZvbGxvd01vdXNlQ29tcG9uZW50LFxuICAgIEhPU1RfSElEREVOX1RZUEUsXG4gICAgSG9zdEhpZGRlbkNvbXBvbmVudCxcbiAgICBQT1NJVElPTl9UWVBFLFxuICAgIFBvc2l0aW9uQ29tcG9uZW50XG59IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7RWxlbWVudFR5cGUsIEdSQVBISUNfVFlQRSwgR3JhcGhpY0NvbXBvbmVudCwgUG9pbnRFbGVtZW50LCBUZXh0RWxlbWVudCwgVmlzaWJpbGl0eVR5cGV9IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtQT0lOVF9SQURJVVN9IGZyb20gXCIuL2JhY2svcGl4aUdyYXBoaWNTeXN0ZW1cIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbERyaXZlciwgVG9vbFN5c3RlbX0gZnJvbSBcIi4vYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50fSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge2ZpbmRGb3JlZ3JvdW5kLCBQQVJFTlRfTEFZRVJfVFlQRSwgUGFyZW50TGF5ZXJDb21wb25lbnR9IGZyb20gXCIuL2JhY2svbGF5ZXJTeXN0ZW1cIjtcblxuZXhwb3J0IGNvbnN0IFBJTl9UWVBFID0gJ3Bpbic7XG5leHBvcnQgdHlwZSBQSU5fVFlQRSA9IHR5cGVvZiBQSU5fVFlQRTtcblxuZXhwb3J0IGludGVyZmFjZSBQaW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBJTl9UWVBFO1xuICAgIGNvbG9yOiBudW1iZXI7XG4gICAgbGFiZWw/OiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IGNsYXNzIFBpblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJTl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtUT09MX1RZUEUsIEdSQVBISUNfVFlQRSwgU0VMRUNUSU9OX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBpbkNvbXBvbmVudD4oUElOX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcblxuICAgICAgICBpZiAod29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sKG5ldyBDcmVhdGVQaW5Ub29sRHJpdmVyKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgIT09IFBJTl9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCBwaW4gPSBjIGFzIFBpbkNvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGRpc3BsYXkgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICBpZiAoZGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkaXNwbGF5ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuY3JlYXRlRWxlbWVudCgpXG4gICAgICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwgZGlzcGxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQocGluLCBkaXNwbGF5LmRpc3BsYXkgYXMgUG9pbnRFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBJTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcGluID0gY29tcCBhcyBQaW5Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIGxldCBncmFwYyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcGluRGlzcGxheSA9IGdyYXBjLmRpc3BsYXkgYXMgUG9pbnRFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQocGluLCBwaW5EaXNwbGF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUVsZW1lbnQoKTogUG9pbnRFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLlBPSU5ULFxuICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLlBJTlMsXG4gICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuTk9STUFMLFxuICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICB9IGFzIFBvaW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZHJhd0NvbXBvbmVudChwaW46IFBpbkNvbXBvbmVudCwgZGlzcGxheTogUG9pbnRFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGRpc3BsYXkuY29sb3IgPSBwaW4uY29sb3I7XG5cbiAgICAgICAgaWYgKHBpbi5sYWJlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZGlzcGxheS5jaGlsZHJlbiEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheS5fY2hpbGRyZW5BZGQgPSBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5URVhULFxuICAgICAgICAgICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiAwLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuTk9STUFMLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3I6IHt4OiAwLjUsIHk6IDEuMH0sXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDoge3g6IDAsIHk6IC1QT0lOVF9SQURJVVN9LFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogMCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcGluLmxhYmVsLFxuICAgICAgICAgICAgICAgIH0gYXMgVGV4dEVsZW1lbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAoZGlzcGxheS5jaGlsZHJlbiFbMF0gYXMgVGV4dEVsZW1lbnQpLnRleHQgPSBwaW4ubGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwbGF5Ll9jaGlsZHJlblJlcGxhY2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChwaW4uZW50aXR5LCBHUkFQSElDX1RZUEUsIHsgZGlzcGxheSB9LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQaW5Ub29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuQ1JFQVRFX1BJTjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN5czogUGluU3lzdGVtO1xuXG4gICAgLy8gRW50aXR5IG9mIHRoZSBwaW4gdG8gYmUgY3JlYXRlZCAob3IgLTEpXG4gICAgY3JlYXRlUGluOiBudW1iZXIgPSAtMTtcblxuICAgIGNvbnN0cnVjdG9yKHN5czogUGluU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuc3lzID0gc3lzO1xuICAgIH1cblxuICAgIGluaXRDcmVhdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxDcmVhdGlvbigpO1xuICAgICAgICBsZXQgY29sb3IgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweEZGRkZGRik7XG5cbiAgICAgICAgbGV0IGRpc3BsYXkgPSB0aGlzLnN5cy5jcmVhdGVFbGVtZW50KCk7XG4gICAgICAgIGRpc3BsYXkuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgZGlzcGxheS52aXNpYiA9IFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUGluID0gdGhpcy5zeXMud29ybGQuc3Bhd25FbnRpdHkoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogSE9TVF9ISURERU5fVFlQRSxcbiAgICAgICAgICAgIH0gYXMgSG9zdEhpZGRlbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgeDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgICAgIHk6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXksXG4gICAgICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgICAgICAgICB9IGFzIEZvbGxvd01vdXNlQ29tcG9uZW50LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNhbmNlbENyZWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVQaW4gIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnN5cy53b3JsZC5kZXNwYXduRW50aXR5KHRoaXMuY3JlYXRlUGluKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUGluID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25maXJtQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVBpbiA9PT0gLTEpIHJldHVybjtcblxuICAgICAgICBjb25zdCB3b3JsZCA9IHRoaXMuc3lzLndvcmxkO1xuICAgICAgICBsZXQgaWQgPSB0aGlzLmNyZWF0ZVBpbjtcbiAgICAgICAgbGV0IGcgPSB3b3JsZC5nZXRDb21wb25lbnQoaWQsIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgbGV0IGxvYyA9IHdvcmxkLmdldENvbXBvbmVudChpZCwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIHdvcmxkLmRlc3Bhd25FbnRpdHkoaWQpO1xuXG4gICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgZW50aXRpZXM6IFt7XG4gICAgICAgICAgICAgICAgaWQ6IHdvcmxkLmFsbG9jYXRlSWQoKSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBsb2MueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGxvYy55LFxuICAgICAgICAgICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQSU5fVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAoZy5kaXNwbGF5IGFzIFBvaW50RWxlbWVudCkuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgUGluQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQQVJFTlRfTEFZRVJfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBmaW5kRm9yZWdyb3VuZCh0aGlzLnN5cy53b3JsZCksXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgUGFyZW50TGF5ZXJDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmQ7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSAtMTtcbiAgICAgICAgdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgdG9vbDogVG9vbC5JTlNQRUNULFxuICAgICAgICB9KTtcbiAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQod29ybGQsIGNtZCk7XG4gICAgICAgIC8vdGhpcy5zeXMuc2VsZWN0aW9uU3lzLnNldE9ubHlFbnRpdHkoaWQpO1xuICAgIH1cblxuXG4gICAgb25TdGFydCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0Q3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBvbkVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW5jZWxDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICB0aGlzLmNvbmZpcm1DcmVhdGlvbigpO1xuICAgIH1cbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge0NvbXBvbmVudCwgSE9TVF9ISURERU5fVFlQRSwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7VklTSUJJTElUWV9UWVBFLCBWaXNpYmlsaXR5Q29tcG9uZW50LCBWaXNpYmlsaXR5U3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCAqIGFzIFBvaW50TGlnaHRSZW5kZXIgZnJvbSBcIi4uLy4uL2dhbWUvcG9pbnRMaWdodFJlbmRlcmVyXCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1xuICAgIG5ld1Zpc2liaWxpdHlBd2FyZUNvbXBvbmVudCxcbiAgICBWSVNJQklMSVRZX0FXQVJFX1RZUEUsXG4gICAgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LFxuICAgIFZpc2liaWxpdHlBd2FyZVN5c3RlbVxufSBmcm9tIFwiLi9iYWNrL3Zpc2liaWxpdHlBd2FyZVN5c3RlbVwiO1xuaW1wb3J0IHtMSUdIVF9TRVRUSU5HU19UWVBFLCBMSUdIVF9UWVBFLCBMaWdodENvbXBvbmVudCwgTGlnaHRTZXR0aW5ncywgTGlnaHRTeXN0ZW19IGZyb20gXCIuL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7UElOX1RZUEV9IGZyb20gXCIuL3BpblN5c3RlbVwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5cbmV4cG9ydCBjb25zdCBQTEFZRVJfVFlQRSA9ICdwbGF5ZXInO1xuZXhwb3J0IHR5cGUgUExBWUVSX1RZUEUgPSB0eXBlb2YgUExBWUVSX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBsYXllckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUExBWUVSX1RZUEU7XG4gICAgbmlnaHRWaXNpb246IGJvb2xlYW47XG4gICAgcmFuZ2U6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBZGRlZCB0byBldmVyeSBvYmplY3QgdGhhdCBtaWdodCBiZSB2aXNpYmxlIGJ5IGEgcGxheWVyLCBpdCB0cmFja3MgaG93IG1hbnkgcGxheWVycyBhbmQgaG93IG1hbnkgbGlnaHRzXG4gKiBhcmUgc2VlaW5nIGl0LlxuICovXG5leHBvcnQgY29uc3QgUExBWUVSX1ZJU0lCTEVfVFlQRSA9ICdwbGF5ZXJfdmlzaWJsZSc7XG5leHBvcnQgdHlwZSBQTEFZRVJfVklTSUJMRV9UWVBFID0gdHlwZW9mIFBMQVlFUl9WSVNJQkxFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBsYXllclZpc2libGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBMQVlFUl9WSVNJQkxFX1RZUEU7XG4gICAgdmlzaWJsZTogYm9vbGVhbjtcbiAgICBpc1dhbGw/OiBib29sZWFuOy8vIE5vbiBtb2RpZmlhYmxlXG4gICAgX3JlZkNvdW50OiBudW1iZXI7XG4gICAgX2xpZ2h0Q291bnQ6IG51bWJlcjtcbiAgICBfcGxheWVyQ291bnQ6IG51bWJlcjtcbiAgICBfcGxheWVyTmlnaHRWaXNpb25Db3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlTcHJlYWREYXRhIHtcbiAgICBuaWdodFZpc2lvbjogYm9vbGVhbjtcbiAgICBhYWJiOiBBYWJiLFxuICAgIGxpZ2h0czogVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YVtdO1xuICAgIHBsYXllcnM6IFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFbXTtcbiAgICBuaWdodFZpc1BsYXllcnM6IFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhIHtcbiAgICBtZXNoOiBQSVhJLk1lc2g7XG4gICAgcG9zOiBQSVhJLklQb2ludERhdGE7XG4gICAgdmlzOiBWaXNpYmlsaXR5Q29tcG9uZW50LFxufVxuXG5leHBvcnQgY29uc3QgRVZFTlRfVklTSUJJTElUWV9TUFJFQUQgPSAndmlzaWJpbGl0eV9zcHJlYWQnO1xuZXhwb3J0IHR5cGUgRVZFTlRfVklTSUJJTElUWV9TUFJFQUQgPSB0eXBlb2YgRVZFTlRfVklTSUJJTElUWV9TUFJFQUQ7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQTEFZRVJfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElOX1RZUEUsIFZJU0lCSUxJVFlfVFlQRSwgVklTSUJJTElUWV9BV0FSRV9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGlnaHRTeXN0ZW06IExpZ2h0U3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmlzaWJpbGl0eVN5c3RlbTogVmlzaWJpbGl0eVN5c3RlbTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJDb21wb25lbnQ+KFBMQVlFUl9UWVBFLCB0cnVlLCB0cnVlKTtcbiAgICB2aXNpYmxlU3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllclZpc2libGVDb21wb25lbnQ+KFBMQVlFUl9WSVNJQkxFX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBwcml2YXRlIGdyaWRTaXplOiBudW1iZXI7XG5cbiAgICAvLyBJZiBmYWxzZSBhIHBsYXllciBjYW4gc2VlIGEgdGhpbmcgb25seSBpZiBpdCdzIGlsbHVtaW5hdGVkIGJ5IGFydGlmaWNpYWwgbGlnaHRcbiAgICBhbWJpZW50SWxsdW1pbmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5saWdodFN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KExJR0hUX1RZUEUpIGFzIExpZ2h0U3lzdGVtO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHlTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlTeXN0ZW07XG5cbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlID8/IFNUQU5EQVJEX0dSSURfT1BUSU9OUykuc2l6ZTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRTdG9yYWdlKHRoaXMudmlzaWJsZVN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcblxuICAgICAgICBsZXQgdmlzQXdhcmUgPSB3b3JsZC5zeXN0ZW1zLmdldChWSVNJQklMSVRZX0FXQVJFX1RZUEUpIGFzIFZpc2liaWxpdHlBd2FyZVN5c3RlbTtcbiAgICAgICAgdmlzQXdhcmUuZXZlbnRzLm9uKCdhd2FyZV91cGRhdGUnLCB0aGlzLm9uVmlzaWJpbGl0eUF3YXJlVXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHQ6IFBsYXllclZpc2libGVDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IG5ld1Zpc2libGUgPSB0Ll9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ID4gMCB8fFxuICAgICAgICAgICAgKCh0aGlzLmFtYmllbnRJbGx1bWluYXRlZCB8fCB0Ll9saWdodENvdW50ID4gMCB8fCB0LmlzV2FsbCkgJiYgdC5fcGxheWVyQ291bnQgPiAwKTtcbiAgICAgICAgaWYgKG5ld1Zpc2libGUgIT09IHQudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHQuZW50aXR5LCB0LnR5cGUsIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBuZXdWaXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVmlzaWJpbGl0eUF3YXJlVXBkYXRlKHRhcmdldDogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LCBhZGRlZDogbnVtYmVyW10sIHJlbW92ZWQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBwbGF5ZXJWaXNpYmxlID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQodGFyZ2V0LmVudGl0eSk7XG4gICAgICAgIGlmIChwbGF5ZXJWaXNpYmxlID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBlIG9mIGFkZGVkKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllckNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlLCBMSUdIVF9UWVBFKSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fbGlnaHRDb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZSBvZiByZW1vdmVkKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllckNvdW50IC09IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlLCBMSUdIVF9UWVBFKSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fbGlnaHRDb3VudCAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwbGF5ZXJWaXNpYmxlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTmlnaHRWaXNpb25VcGRhdGUocGxheWVyOiBQbGF5ZXJDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcblxuICAgICAgICBsZXQgZGlmZiA9IHBsYXllci5uaWdodFZpc2lvbiA/ICsxIDogLTE7XG5cbiAgICAgICAgbGV0IGZ1biA9ICh0OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXJWaXNpYmxlID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQodCk7XG4gICAgICAgICAgICBpZiAocGxheWVyVmlzaWJsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ICs9IGRpZmY7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHBsYXllclZpc2libGUpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCB0IG9mIHZpcy5fY2FuU2VlKSBmdW4odCk7XG4gICAgICAgIGlmICh2aXMuX2NhblNlZVdhbGxzKSBmb3IgKGxldCB0IG9mIHZpcy5fY2FuU2VlV2FsbHMpIGZ1bih0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVZpc01lc2hGcm9tKHBvczogUElYSS5JUG9pbnREYXRhLCB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQpOiBQSVhJLk1lc2gge1xuICAgICAgICBsZXQgbWVzaCA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgnY29uc3QnKTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMobWVzaCwgcG9zLCB2aXMucG9seWdvbiEpO1xuICAgICAgICBsZXQgciA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFVuaWZvcm1zKG1lc2gsIHBvcywgcipyLCAweEZGRkZGRik7XG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3ByZWFkUGxheWVyVmlzaWJpbGl0eShwbGF5ZXI6IG51bWJlciwgcG9zOiBQSVhJLklQb2ludERhdGEsIHZpczogVmlzaWJpbGl0eUNvbXBvbmVudCwgbmlnaHRWaXNpb246IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllciwgSE9TVF9ISURERU5fVFlQRSkpIHJldHVybjsvLyBJZ25vcmUgaGlkZGVuIHBsYXllcnNcbiAgICAgICAgbGV0IHBsYXllclZpcyA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgnY29uc3QnKTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMocGxheWVyVmlzLCBwb3MsIHZpcy5wb2x5Z29uISk7XG4gICAgICAgIGxldCByID0gdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoVW5pZm9ybXMocGxheWVyVmlzLCBwb3MsIHIgKiByLCAweEZGRkZGRik7XG5cbiAgICAgICAgbGV0IGxpZ2h0U3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KExJR0hUX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8TGlnaHRDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBwbGF5ZXJEYXRhID0ge1xuICAgICAgICAgICAgbWVzaDogcGxheWVyVmlzLFxuICAgICAgICAgICAgdmlzLFxuICAgICAgICAgICAgcG9zLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGE7XG5cblxuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuICAgICAgICBsZXQgbmlnaHRWaXNQbGF5ZXJzID0gW107XG5cbiAgICAgICAgbGV0IGxpZ2h0cyA9IFtdO1xuICAgICAgICBsZXQgYWFiYjtcbiAgICAgICAgaWYgKCFuaWdodFZpc2lvbiAmJiAhdGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHBsYXllcnMucHVzaChwbGF5ZXJEYXRhKTtcblxuICAgICAgICAgICAgYWFiYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy52aXNpYmlsaXR5U3lzdGVtLmFhYmJUcmVlLnF1ZXJ5KHZpcy5hYWJiISkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlzQ29tcG9uZW50ID0gYy50YWchO1xuICAgICAgICAgICAgICAgIGxldCBsaWdodENvbXBvbmVudCA9IGxpZ2h0U3RvcmFnZS5nZXRDb21wb25lbnQodmlzQ29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0Q29tcG9uZW50ID09PSB1bmRlZmluZWQgfHwgdmlzQ29tcG9uZW50LnJhbmdlIDw9IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXNDb21wb25lbnQuZW50aXR5KSE7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWFiYiA9PT0gdW5kZWZpbmVkKSBhYWJiID0gdmlzQ29tcG9uZW50LmFhYmIhLmNvcHkoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGFhYmIuY29tYmluZSh2aXNDb21wb25lbnQuYWFiYiEsIGFhYmIpO1xuXG4gICAgICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXNDb21wb25lbnQpO1xuXG4gICAgICAgICAgICAgICAgbGlnaHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZXNoLFxuICAgICAgICAgICAgICAgICAgICBwb3MsXG4gICAgICAgICAgICAgICAgICAgIHZpczogdmlzQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlnaHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOy8vIG5vIG5pZ2h0IHZpc2lvbiBBTkQgbm8gbGlnaHRzID0gY2FuJ3Qgc2VlIGEgdGhpbmchXG4gICAgICAgICAgICBhYWJiIS5pbnRlcnNlY3QodmlzLmFhYmIhLCBhYWJiISk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnMucHVzaChwbGF5ZXJEYXRhKVxuICAgICAgICAgICAgYWFiYiA9IHZpcy5hYWJiO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzLFxuICAgICAgICAgICAgcGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVycyxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELCBkYXRhKTtcblxuICAgICAgICBwbGF5ZXJEYXRhLm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IGxpZ2h0IG9mIGRhdGEubGlnaHRzKSBsaWdodC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3ByZWFkTGlnaHRWaXNpYmlsaXR5KGxpZ2h0VmlzOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIC8vIFF1aXRlIHNpbWlsYXIgdG8gc3ByZWFkUGxheWVyVmlzaWJpbGl0eSBidXQgZm9sbG93cyBhIGxpZ2h0IGluc3RlYWQgb2YgYSBwbGF5ZXIsXG4gICAgICAgIC8vIFdoZW4gYSBsaWdodCB2aXNpYmlsaXR5IHBvbHlnb24gaXMgY2hhbmdlZCB0aGlzIHdpbGwgcXVlcnkgZWFjaCBwbGF5ZXIgaW4gdGhlIHBvbHlnb24ncyByZWFjaCBhbmRcbiAgICAgICAgLy8gc3ByZWFkIHRoZSB2aXNpYmlsaXR5IChvbmx5IHdpdGggdGhhdCBsaWdodCEpXG5cbiAgICAgICAgaWYgKHRoaXMuYW1iaWVudElsbHVtaW5hdGVkKSByZXR1cm47Ly8gV2hvIG5lZWRzIGxpZ2h0cz9cblxuICAgICAgICBsZXQgdmlzU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5Q29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgbGlnaHRQb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChsaWdodFZpcy5lbnRpdHkpITtcbiAgICAgICAgbGV0IGxpZ2h0TWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20obGlnaHRQb3MsIGxpZ2h0VmlzKTtcblxuICAgICAgICBsZXQgbGlnaHREYXRhID0gW3tcbiAgICAgICAgICAgIG1lc2g6IGxpZ2h0TWVzaCxcbiAgICAgICAgICAgIHBvczogbGlnaHRQb3MsXG4gICAgICAgICAgICB2aXM6IGxpZ2h0VmlzLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFdO1xuXG4gICAgICAgIGxldCBhYWJiID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy52aXNpYmlsaXR5U3lzdGVtLmFhYmJUcmVlLnF1ZXJ5KGxpZ2h0VmlzLmFhYmIhKSkge1xuICAgICAgICAgICAgbGV0IHZpc0NvbXBvbmVudCA9IGMudGFnITtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpc0NvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gdW5kZWZpbmVkIHx8IHZpc0NvbXBvbmVudC5yYW5nZSA8PSAwIHx8IHBsYXllci5uaWdodFZpc2lvbikgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChhYWJiID09PSB1bmRlZmluZWQpIGFhYmIgPSB2aXNDb21wb25lbnQuYWFiYiEuY29weSgpO1xuICAgICAgICAgICAgZWxzZSBhYWJiLmNvbWJpbmUodmlzQ29tcG9uZW50LmFhYmIhLCBhYWJiKTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KSE7XG5cbiAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG5cbiAgICAgICAgICAgIHBsYXllcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzaCxcbiAgICAgICAgICAgICAgICBwb3MsXG4gICAgICAgICAgICAgICAgdmlzLFxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGFhYmIhLmludGVyc2VjdChsaWdodFZpcy5hYWJiISwgYWFiYiEpO1xuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0czogbGlnaHREYXRhLFxuICAgICAgICAgICAgcGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVyczogW10sXG4gICAgICAgICAgICBuaWdodFZpc2lvbjogZmFsc2UsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgZGF0YSk7XG4gICAgICAgIGxpZ2h0RGF0YVswXS5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgcGxheWVycykgcGxheWVyLm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcHJlYWRBZnRlckxpZ2h0Tm90TmVlZGVkKCk6IHZvaWQge1xuICAgICAgICAvLyBTb21ldGhpbmcgY2hhbmdlZCwgbGlnaHQgaXMgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCBtb3N0IG9mIHRoZSB0aGluZ3MgdGhhdCB3ZXJlIG5vdCB2aXNpYmxlIGFueW1vcmUgbm93IGFyZVxuICAgICAgICAvLyBidXQgd2hhdD8gYW5kIHdoZXJlPyB0aGlzIGlzIHRoZSBxdWVzdGlvbnMgaSB3aWxsIGFuc3dlciB0b2RheVxuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuXG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBhYWJiID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcblxuICAgICAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgYWFiYiA9IHZpcy5hYWJiIS5jb3B5KCk7XG4gICAgICAgICAgICBlbHNlIGFhYmIuY29tYmluZSh2aXMuYWFiYiEsIGFhYmIpO1xuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHttZXNoLCBwb3MsIHZpc30gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcbiAgICAgICAgICAgIHBsYXllcnMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhYWJiID09PSB1bmRlZmluZWQpIHJldHVybjsvLyBOb3QgZW5vdWdoIHBsYXllcnNcblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGFhYmIsXG4gICAgICAgICAgICBsaWdodHM6IFtdLFxuICAgICAgICAgICAgcGxheWVyczogW10sXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnM6IHBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc2lvbjogZmFsc2UsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIGRhdGEpO1xuXG4gICAgICAgIGZvciAobGV0IHggb2YgcGxheWVycykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuICAgIGdldFNwcmVhZERhdGFGb3JBYWJiKGFhYmI6IEFhYmIsIGNiOiAoZGF0YTogVmlzaWJpbGl0eVNwcmVhZERhdGEpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5pZ2h0VmlzUGxheWVycyA9IFtdO1xuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuICAgICAgICBsZXQgbGlnaHRzID0gW107XG5cbiAgICAgICAgbGV0IGxpZ2h0c05lZWRlZCA9ICF0aGlzLmFtYmllbnRJbGx1bWluYXRlZDtcbiAgICAgICAgbGV0IGxpZ2h0U3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KExJR0hUX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8TGlnaHRDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy52aXNpYmlsaXR5U3lzdGVtLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gYy50YWchO1xuXG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0ge21lc2gsIHBvcywgdmlzfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIubmlnaHRWaXNpb24gfHwgIWxpZ2h0c05lZWRlZCkgbmlnaHRWaXNQbGF5ZXJzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgZWxzZSBwbGF5ZXJzLnB1c2goZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaWdodHNOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGlnaHQgPSBsaWdodFN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0ge21lc2gsIHBvcywgdmlzfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuICAgICAgICAgICAgICAgICAgICBsaWdodHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVhbFBsYXllcnMgPSBwbGF5ZXJzO1xuICAgICAgICBsZXQgcmVhbExpZ2h0cyA9IGxpZ2h0cztcblxuICAgICAgICBpZiAocGxheWVycy5sZW5ndGggPT09IDAgfHwgbGlnaHRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZWFsUGxheWVycyA9IFtdO1xuICAgICAgICAgICAgcmVhbExpZ2h0cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzOiByZWFsTGlnaHRzLFxuICAgICAgICAgICAgcGxheWVyczogcmVhbFBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnMsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG4gICAgICAgIGNiKGRhdGEpO1xuXG4gICAgICAgIGZvciAobGV0IHggb2YgbGlnaHRzKSB4Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IHggb2YgcGxheWVycykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCB4IG9mIG5pZ2h0VmlzUGxheWVycykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIFBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFkZGVkIHBsYXllciB0byBwaW4gd2l0aG91dCBwbGF5ZXIgdmlzaWJpbGl0eSEgXCIgKyBjb21wLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHYuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQrKzsvLyBBIGJpdCBoYWNraXNoLCBidXQgaXQgd29ya3MgOylcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocHYpO1xuXG4gICAgICAgICAgICAvLyBXZSBuZWVkIGEgdmlzaWJpbGl0eSBjb21wb25lbnQsIGNyZWF0ZSBvbmUgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuICAgICAgICAgICAgbGV0IHZpcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX1RZUEUsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHBsYXllci5yYW5nZSxcbiAgICAgICAgICAgICAgICB0cmFja1dhbGxzOiB0cnVlLFxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHZpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVklTSUJMRV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgIGMuX2xpZ2h0Q291bnQgPSAwO1xuICAgICAgICAgICAgYy5fcGxheWVyQ291bnQgPSAwO1xuICAgICAgICAgICAgYy5fcGxheWVyTmlnaHRWaXNpb25Db3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwgbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KGMuaXNXYWxsID09PSB0cnVlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBQbGF5ZXJDb21wb25lbnRcblxuICAgICAgICAgICAgaWYgKCduaWdodFZpc2lvbicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25OaWdodFZpc2lvblVwZGF0ZShjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCdyYW5nZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgVklTSUJJTElUWV9UWVBFLCB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjLnJhbmdlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmICh2aXMucG9seWdvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByZWFkUGxheWVyVmlzaWJpbGl0eShjb21wLmVudGl0eSwgcG9zLCB2aXMsIGMubmlnaHRWaXNpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICghKCdwb2x5Z29uJyBpbiBjaGFuZ2VkKSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlzLnBvbHlnb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZFBsYXllclZpc2liaWxpdHkoY29tcC5lbnRpdHksIHBvcywgdmlzLCBwbGF5ZXIubmlnaHRWaXNpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh2aXMuZW50aXR5LCBMSUdIVF9UWVBFKTtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRMaWdodFZpc2liaWxpdHkodmlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudCh2aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBwbGF5ZXIgdmlzaWJpbGl0eSBmb3VuZCBvbiByZW1vdmFsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHB2ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIHB2Ll9wbGF5ZXJOaWdodFZpc2lvbkNvdW50LS07Ly8gR290dGEgdW5kbyB0aG9zZSBoYWNrc1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwdik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gTElHSFRfU0VUVElOR1NfVFlQRSAmJiAnbmVlZHNMaWdodCcgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gcmVzIGFzIExpZ2h0U2V0dGluZ3M7XG4gICAgICAgICAgICB0aGlzLmFtYmllbnRJbGx1bWluYXRlZCA9ICFsaWdodC5uZWVkc0xpZ2h0O1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLnZpc2libGVTdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUoY29tcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGlnaHQubmVlZHNMaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ByZWFkQWZ0ZXJMaWdodE5vdE5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUgJiYgJ3NpemUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQVUJMSUMgSU5URVJGQUNFXG4gICAgYWRkUGxheWVyVmlzTGlzdGVuZXIoZW50aXR5OiBudW1iZXIsIGlzV2FsbDogYm9vbGVhbiA9IGZhbHNlKTogUGxheWVyVmlzaWJsZUNvbXBvbmVudCB7XG4gICAgICAgIGxldCBjID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQTEFZRVJfVklTSUJMRV9UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1dhbGwsXG4gICAgICAgICAgICAgICAgX3JlZkNvdW50OiAxLFxuICAgICAgICAgICAgICAgIF9saWdodENvdW50OiAwLFxuICAgICAgICAgICAgICAgIF9wbGF5ZXJDb3VudDogMCxcbiAgICAgICAgICAgICAgICBfcGxheWVyTmlnaHRWaXNpb25Db3VudDogMCxcbiAgICAgICAgICAgIH0gYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGVudGl0eSwgYyk7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuX3JlZkNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgcmVtb3ZlUGxheWVyVmlzTGlzdGVuZXIoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGMuX3JlZkNvdW50LS07XG4gICAgICAgIGlmIChjLl9yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci5zZXR1cCgpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxuXG5cbn0iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7RnJvemVuRW50aXR5LCBXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgSE9TVF9ISURERU5fVFlQRSxcbiAgICBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnQsXG4gICAgVFJBTlNGT1JNX1RZUEUsXG4gICAgVHJhbnNmb3JtQ29tcG9uZW50XG59IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25Db21wb25lbnQsIEludGVyYWN0aW9uU3lzdGVtLCBzaGFwZVBvaW50fSBmcm9tIFwiLi9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1RleHR1cmV9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1BpbkNvbXBvbmVudH0gZnJvbSBcIi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIEVsZW1lbnRUeXBlLFxuICAgIEdSQVBISUNfVFlQRSxcbiAgICBHcmFwaGljQ29tcG9uZW50LFxuICAgIEltYWdlRWxlbWVudCxcbiAgICBJbWFnZVNjYWxlTW9kZSxcbiAgICBWaXNpYmlsaXR5VHlwZVxufSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sRHJpdmVyLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7UG9pbnRlckNsaWNrRXZlbnR9IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge2dldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb259IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtleGVjdXRlQW5kTG9nQ29tbWFuZH0gZnJvbSBcIi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge2NvbXBvbmVudEVkaXRDb21tYW5kLCBFZGl0VHlwZX0gZnJvbSBcIi4vY29tbWFuZC9jb21wb25lbnRFZGl0XCI7XG5cblxuZXhwb3J0IGNvbnN0IFBST1BfVFlQRSA9ICdwcm9wJztcbmV4cG9ydCB0eXBlIFBST1BfVFlQRSA9IHR5cGVvZiBQUk9QX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFByb3BDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBST1BfVFlQRTtcbiAgICBwcm9wVHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BUeXBlIHtcbiAgICBpZDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB0ZXh0dXJlOiBUZXh0dXJlLFxufVxuXG5leHBvcnQgY29uc3QgUFJPUF9URUxFUE9SVF9UWVBFID0gJ3Byb3BfdGVsZXBvcnQnO1xuZXhwb3J0IHR5cGUgUFJPUF9URUxFUE9SVF9UWVBFID0gdHlwZW9mIFBST1BfVEVMRVBPUlRfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUHJvcFRlbGVwb3J0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEU7XG4gICAgdGFyZ2V0UHJvcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvcFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBST1BfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JBUEhJQ19UWVBFLCBJTlRFUkFDVElPTl9UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtXG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UHJvcENvbXBvbmVudD4oUFJPUF9UWVBFLCB0cnVlLCB0cnVlKTtcbiAgICByZWFkb25seSB0ZWxlcG9ydFN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQcm9wVGVsZXBvcnQ+KFBST1BfVEVMRVBPUlRfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBwcm9wVHlwZXM6IE1hcDxzdHJpbmcsIFByb3BUeXBlPjtcbiAgICBkZWZhdWx0UHJvcFR5cGU6IHN0cmluZyA9IFwibGFkZGVyX2Rvd25cIjtcblxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICBpZiAod29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2wobmV3IENyZWF0ZVByb3BUb29sRHJpdmVyKHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChuZXcgUHJvcFRlbGVwb3J0TGlua1Rvb2xEcml2ZXIodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgdGhpcy5wcm9wVHlwZXMgPSBuZXcgTWFwPHN0cmluZywgUHJvcFR5cGU+KCk7XG5cbiAgICAgICAgdGhpcy5sb2FkUHJvcFR5cGVzKCk7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMudGVsZXBvcnRTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdwcm9wX3VzZScsIHRoaXMub25Qcm9wVXNlLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZWdpc3RlclByb3BUeXBlKHByb3BUeXBlOiBQcm9wVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb3BUeXBlcy5zZXQocHJvcFR5cGUuaWQsIHByb3BUeXBlKTtcbiAgICB9XG5cbiAgICBsb2FkUHJvcFR5cGVzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBhdGxhcyA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJwcm9wc1wiXS5zcHJpdGVzaGVldCE7XG4gICAgICAgIGNvbnN0IHByb3BzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbGFkZGVyX3VwJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFkZGVyIFVwJyxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBhdGxhcy50ZXh0dXJlc1snbGFkZGVyX3VwLnBuZyddLFxuICAgICAgICAgICAgfSBhcyBQcm9wVHlwZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2xhZGRlcl9kb3duJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFkZGVyIERvd24nLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IGF0bGFzLnRleHR1cmVzWydsYWRkZXJfZG93bi5wbmcnXSxcbiAgICAgICAgICAgIH0gYXMgUHJvcFR5cGUsXG4gICAgICAgIF07XG4gICAgICAgIGZvciAobGV0IHByb3Agb2YgcHJvcHMpIHRoaXMucmVnaXN0ZXJQcm9wVHlwZShwcm9wKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByb3BUeXBlKHA6IFByb3BDb21wb25lbnQpOiBQcm9wVHlwZSB7XG4gICAgICAgIGxldCBwVHlwZSA9IHRoaXMucHJvcFR5cGVzLmdldChwLnByb3BUeXBlKTtcbiAgICAgICAgaWYgKHBUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGZpbmQgcHJvcCB0eXBlOiAke3AucHJvcFR5cGV9YCk7XG4gICAgICAgICAgICBwVHlwZSA9IHRoaXMucHJvcFR5cGVzLmdldCh0aGlzLmRlZmF1bHRQcm9wVHlwZSk7XG5cbiAgICAgICAgICAgIGlmIChwVHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJEZWZhdWx0IHByb3AgdHlwZSBpcyBpbnZhbGlkIVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwVHlwZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlICE9PSAncHJvcCcpIHJldHVybjtcbiAgICAgICAgbGV0IHByb3AgPSBjIGFzIFByb3BDb21wb25lbnQ7XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IHRoaXMuZ2V0UHJvcFR5cGUocHJvcCk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIHtcbiAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRSxcbiAgICAgICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5QUk9QLFxuICAgICAgICAgICAgICAgIHNjYWxlOiBJbWFnZVNjYWxlTW9kZS5HUklELFxuICAgICAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUixcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBwcm9wVHlwZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIHNoYXJlZFRleHR1cmU6IHRydWUsLy8gRE9OVCBERUxFVEUgTVkgVEVYVFVSRVxuICAgICAgICAgICAgICAgIGFuY2hvcjogeyB4OiAwLjUsIHk6IDAuNSB9LFxuICAgICAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgfSBhcyBJbWFnZUVsZW1lbnQsXG4gICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBQUk9QX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gYyBhcyBQcm9wQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBsZXQgcFR5cGUgPSB0aGlzLmdldFByb3BUeXBlKHByb3ApO1xuICAgICAgICAgICAgbGV0IGRpc3BsYXkgPSAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudCkuZGlzcGxheSBhcyBJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICBkaXNwbGF5LnRleHR1cmUgPSBwVHlwZS50ZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUsIHsgZGlzcGxheSB9LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09ICdwcm9wJykge1xuICAgICAgICAgICAgbGV0IHRwID0gdGhpcy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh0cCAhPT0gdW5kZWZpbmVkKSB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudCh0cCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUHJvcFVzZShlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgcHJvcCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgbGV0IHRlbGVwb3J0ID0gdGhpcy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChwcm9wID09PSB1bmRlZmluZWQgfHwgdGVsZXBvcnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh0ZWxlcG9ydC5lbnRpdHkpO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVubGlua2VkIHRlbGVwb3J0ZXIhXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvc2l0aW9ucyA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zRnJvbSA9IHBvc2l0aW9ucy5nZXRDb21wb25lbnQoZW50aXR5KSE7XG4gICAgICAgIGxldCBwb3NUbyA9IHBvc2l0aW9ucy5nZXRDb21wb25lbnQodGVsZXBvcnQudGFyZ2V0UHJvcCkhO1xuICAgICAgICBsZXQgZGlmZlggPSBwb3NUby54IC0gcG9zRnJvbS54O1xuICAgICAgICBsZXQgZGlmZlkgPSBwb3NUby55IC0gcG9zRnJvbS55O1xuXG4gICAgICAgIGxldCBzaGFwZSA9ICh0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KS5zaGFwZTtcbiAgICAgICAgbGV0IHBpblN0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldCgncGluJykgYXMgU2luZ2xlRWNzU3RvcmFnZTxQaW5Db21wb25lbnQ+O1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlLCB4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwaW5TdG9yYWdlLmdldENvbXBvbmVudCh4LmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBsZXQgZWRpdCA9IFtdIGFzIEVkaXRUeXBlW107XG4gICAgICAgIGZvciAobGV0IHEgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NpdGlvbnMuZ2V0Q29tcG9uZW50KHEuZW50aXR5KSE7XG4gICAgICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIGVudGl0eTogcS5lbnRpdHksXG4gICAgICAgICAgICAgICAgdHlwZTogcG9zLnR5cGUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBwb3MueCArIGRpZmZYLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb3MueSArIGRpZmZZLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjbWQgPSBjb21wb25lbnRFZGl0Q29tbWFuZCh1bmRlZmluZWQsIGVkaXQpO1xuICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLndvcmxkLCBjbWQpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlUHJvcFRvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5DUkVBVEVfUFJPUDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN5czogUHJvcFN5c3RlbTtcblxuICAgIC8vIEVudGl0eSBvZiB0aGUgcHJvcCB0byBiZSBjcmVhdGVkXG4gICAgY3JlYXRlUHJvcDogbnVtYmVyID0gLTE7XG4gICAgY3JlYXRlUHJvcFR5cGU/OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IFByb3BTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdENyZWF0aW9uKCkge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wVHlwZSA9IHRoaXMuc3lzLmRlZmF1bHRQcm9wVHlwZTtcbiAgICAgICAgbGV0IHByb3BUeXBlID0gdGhpcy5zeXMucHJvcFR5cGVzLmdldCh0aGlzLmNyZWF0ZVByb3BUeXBlKTtcbiAgICAgICAgaWYgKHByb3BUeXBlID09PSB1bmRlZmluZWQpIHRocm93ICdJbGxlZ2FsIHByb3AgdHlwZTogJyArIHRoaXMuY3JlYXRlUHJvcFR5cGU7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wID0gdGhpcy5zeXMud29ybGQuc3Bhd25FbnRpdHkoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogSE9TVF9ISURERU5fVFlQRSxcbiAgICAgICAgICAgIH0gYXMgSG9zdEhpZGRlbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHg6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICB5OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5QUk9QLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuR1JJRCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiBwcm9wVHlwZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICBzaGFyZWRUZXh0dXJlOiB0cnVlLC8vIERPTlQgREVMRVRFIE1ZIFRFWFRVUkVcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiB7eDogMC41LCB5OiAwLjV9LFxuICAgICAgICAgICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgICAgICB9IGFzIEltYWdlRWxlbWVudCxcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2FuY2VsQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVByb3AgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnN5cy53b3JsZC5kZXNwYXduRW50aXR5KHRoaXMuY3JlYXRlUHJvcCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVByb3AgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbmZpcm1DcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUHJvcCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmNyZWF0ZVByb3A7XG4gICAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5zeXMud29ybGQ7XG4gICAgICAgIGxldCBsb2MgPSB3b3JsZC5nZXRDb21wb25lbnQoaWQsIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBsZXQgdHJhbiA9IHdvcmxkLmdldENvbXBvbmVudChpZCwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgd29ybGQuZGVzcGF3bkVudGl0eShpZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcCA9IC0xO1xuXG4gICAgICAgIGxldCBmcm96ZW5FbnRpdHkgPSB7XG4gICAgICAgICAgICBpZDogd29ybGQuYWxsb2NhdGVJZCgpLFxuICAgICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgeDogbG9jLngsXG4gICAgICAgICAgICAgICAgICAgIHk6IGxvYy55LFxuICAgICAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBUUkFOU0ZPUk1fVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHRyYW4uc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB0cmFuLnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUFJPUF9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBwcm9wVHlwZTogdGhpcy5jcmVhdGVQcm9wVHlwZSxcbiAgICAgICAgICAgICAgICB9IGFzIFByb3BDb21wb25lbnQsXG4gICAgICAgICAgICBdXG4gICAgICAgIH0gYXMgRnJvemVuRW50aXR5O1xuICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgIGVudGl0aWVzOiBbZnJvemVuRW50aXR5XVxuICAgICAgICB9IGFzIFNwYXduQ29tbWFuZDtcblxuICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgIH0pO1xuICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh3b3JsZCwgY21kKTtcbiAgICB9XG5cblxuICAgIG9uU3RhcnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25FbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgdGhpcy5jb25maXJtQ3JlYXRpb24oKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wVGVsZXBvcnRMaW5rVG9vbERyaXZlciBpbXBsZW1lbnRzIFRvb2xEcml2ZXIge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLlBST1BfVEVMRVBPUlRfTElOSztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN5czogUHJvcFN5c3RlbTtcblxuICAgIGN1cnJlbnRUYXJnZXQ6IG51bWJlciA9IC0xO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBQcm9wU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuc3lzID0gc3lzO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmV2ZW50cy5vbigncHJvcF90ZWxlcG9ydF9saW5rJywgdGhpcy5vblByb3BUZWxlcG9ydExpbmssIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmV2ZW50cy5vZmYoJ3Byb3BfdGVsZXBvcnRfbGluaycsIHRoaXMub25Qcm9wVGVsZXBvcnRMaW5rLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUHJvcFRlbGVwb3J0TGluayhlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgdHAgPSB0aGlzLnN5cy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmICh0cCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYWxsZWQgdGVsZXBvcnQgbGluayBvbiBhIG5vbi10ZWxlcG9ydCBwcm9wLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBlbnRpdHk7XG5cbiAgICAgICAgdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgdG9vbDogVG9vbC5QUk9QX1RFTEVQT1JUX0xJTkssXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbGlua1RvKHRhcmdldDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN5cy5zdG9yYWdlLmdldENvbXBvbmVudCh0YXJnZXQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRyeWluZyB0byBsaW5rIHRlbGVwb3J0IHRvIGEgbm9uLXByb3AsIGlnbm9yaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0cGVyID0gdGhpcy5zeXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudCh0aGlzLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICBpZiAodHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUZWxlcG9ydGVyIGhhcyBiZWVuIGRlc3Ryb3llZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIGl0c2VsZiB0aGVuIGRlbGV0ZSB0aGUgbGlua1xuICAgICAgICBsZXQgZWRpdCA9IFtdO1xuICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgZW50aXR5OiB0cGVyLmVudGl0eSxcbiAgICAgICAgICAgIHR5cGU6IHRwZXIudHlwZSxcbiAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRQcm9wOiB0YXJnZXQgPT09IHRoaXMuY3VycmVudFRhcmdldCA/IC0xIDogdGFyZ2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLnN5cy53b3JsZCwgY29tcG9uZW50RWRpdENvbW1hbmQodW5kZWZpbmVkLCBlZGl0KSk7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IC0xO1xuICAgIH1cblxuICAgIGxpbmtDYW5jZWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IC0xO1xuICAgIH1cblxuICAgIG9uU3RhcnQoKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcic7XG4gICAgfVxuXG4gICAgb25FbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlua0NhbmNlbCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdhdXRvJztcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgbGV0IHBvaW50ID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLnN5cy53b3JsZCwgZXZlbnQpO1xuXG4gICAgICAgIGxldCBpbnRlcmFjdGlvblN5c3RlbSA9IHRoaXMuc3lzLndvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICBsZXQgcXVlcnkgPSBpbnRlcmFjdGlvblN5c3RlbS5xdWVyeShzaGFwZVBvaW50KHBvaW50KSwgeCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeXMud29ybGQuZ2V0Q29tcG9uZW50KHguZW50aXR5LCAncHJvcCcpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBmb3VuZCBvZiBxdWVyeSkge1xuICAgICAgICAgICAgbGV0IG9sZFRwZXIgPSB0aGlzLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmxpbmtUbyhmb3VuZC5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5zeXMuc2VsZWN0aW9uU3lzLnNldE9ubHlFbnRpdHkob2xkVHBlcik7XG4gICAgICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICAgICAgdG9vbDogVG9vbC5JTlNQRUNULFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtGcm96ZW5FbnRpdHksIFdvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge0NvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgUG9pbnR9IGZyb20gXCIuLi8uLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge2ludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQsIGxpbmVTYW1lU2xvcGUsIFNlZ21lbnRWc1NlZ21lbnRSZXN9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9jb2xsaXNpb25cIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25TeXN0ZW0sIExpbmVTaGFwZSwgc2hhcGVBYWJiLCBzaGFwZUxpbmV9IGZyb20gXCIuL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VklTSUJJTElUWV9CTE9DS0VSX1RZUEUsIFZpc2liaWxpdHlCbG9ja2VyfSBmcm9tIFwiLi9iYWNrL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7RWxlbWVudFR5cGUsIEdSQVBISUNfVFlQRSwgR3JhcGhpY0NvbXBvbmVudCwgTGluZUVsZW1lbnQsIFZpc2liaWxpdHlUeXBlfSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sRHJpdmVyLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgUElYSV9CT0FSRF9UWVBFLFxuICAgIFBpeGlCb2FyZFN5c3RlbSxcbiAgICBQb2ludGVyQ2xpY2tFdmVudCxcbiAgICBQb2ludGVyTW92ZUV2ZW50LFxuICAgIFBvaW50ZXJSaWdodERvd25FdmVudFxufSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9ufSBmcm9tIFwiLi4vdG9vbHMvdXRpbHNcIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEUsIFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4vYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5pbXBvcnQge2V4ZWN1dGVBbmRMb2dDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHthcnJheVJlbW92ZUVsZW19IGZyb20gXCIuLi8uLi91dGlsL2FycmF5XCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5cbmV4cG9ydCBjb25zdCBXQUxMX1RZUEUgPSAnd2FsbCc7XG5leHBvcnQgdHlwZSBXQUxMX1RZUEUgPSAnd2FsbCc7XG5leHBvcnQgaW50ZXJmYWNlIFdhbGxDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFdBTExfVFlQRTtcbiAgICB2ZWM6IFBvaW50O1xuICAgIF9kb250TWVyZ2U6IG51bWJlcjtcbn1cblxuY29uc3QgU0VMRUNUSU9OX0NPTE9SID0gMHg3OTg2Q0I7XG5cbmV4cG9ydCBjbGFzcyBXYWxsU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gV0FMTF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtJTlRFUkFDVElPTl9UWVBFLCBHUkFQSElDX1RZUEUsIFRPT0xfVFlQRSwgU0VMRUNUSU9OX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IGludGVyYWN0aW9uU3lzOiBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcblxuICAgIHJlYWRvbmx5IHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxXYWxsQ29tcG9uZW50PihXQUxMX1RZUEUpO1xuXG4gICAgaXNUcmFuc2xhdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICAvLyBPbmx5IG1hc3RlcnMgY2FuIGNyZWF0ZSB3YWxsc1xuICAgICAgICBpZiAodGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2wobmV3IENyZWF0ZVdhbGxUb29sRHJpdmVyKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCB0aGlzLm9uVG9vbE1vdmVCZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2VuZCcsIHRoaXMub25Ub29sTW92ZUVuZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgIT09IFdBTExfVFlQRSkgcmV0dXJuO1xuICAgICAgICBsZXQgd2FsbCA9IGNvbXBvbmVudCBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQod2FsbC5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZvdW5kIHdhbGwgd2l0aG91dCBwb3NpdGlvbiwgcGxlYXNlIGFkZCBmaXJzdCB0aGUgcG9zaXRpb24sIHRoZW4gdGhlIHdhbGxcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FsbC5fZG9udE1lcmdlID0gMDtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wb25lbnQuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLkxJTkUsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVIsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLldBTEwsXG4gICAgICAgICAgICAgICAgdmVjOiB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9LFxuICAgICAgICAgICAgfSBhcyBMaW5lRWxlbWVudCxcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgaXNXYWxsOiB0cnVlLFxuICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGNvbXBvbmVudC5lbnRpdHksIHtcbiAgICAgICAgICAgIHR5cGU6IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICB9IGFzIFZpc2liaWxpdHlCbG9ja2VyKTtcbiAgICB9XG5cbiAgICBmaXhXYWxsUHJlVHJhbnNsYXRpb24od2FsbHM6IFdhbGxDb21wb25lbnRbXSkge1xuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICBsZXQgdmlzQmxvY2sgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSwgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpc0Jsb2NrICE9PSB1bmRlZmluZWQpIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpc0Jsb2NrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoYXQgY2hhbmdlcyBoZXJlPyBhIGxpdHRsZSBiaXR0bGUgdGhpbmc6XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gdW5maXggdGhlIHdhbGwgKHJlbW92ZSB0aGUgaW50ZXJzZWN0aW9uIGJyZWFrcykuXG5cbiAgICAgICAgbGV0IHdhbGxfaW5kZXggPSBuZXcgTWFwPHN0cmluZywgV2FsbENvbXBvbmVudFtdPigpO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBpbnNlcnRJbkluZGV4ID0gKGluZGV4OiBzdHJpbmcsIHdhbGw6IFdhbGxDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBsaXN0ID0gd2FsbF9pbmRleC5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICB3YWxsX2luZGV4LnNldChpbmRleCwgbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0LnB1c2god2FsbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgaWYgKHdhbGwuX2RvbnRNZXJnZSAhPT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQod2FsbC5lbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHAxID0gcG9zLnggKyBcIkBcIiArIHBvcy55O1xuICAgICAgICAgICAgbGV0IHAyID0gKHBvcy54ICsgd2FsbC52ZWNbMF0pICsgXCJAXCIgKyAocG9zLnkgKyB3YWxsLnZlY1sxXSk7XG5cbiAgICAgICAgICAgIGxldCB0cnlNZXJnZSA9IChpbmRleDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lcmdlV2l0aEluZGV4ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgbGV0IHdhbGxzID0gd2FsbF9pbmRleC5nZXQoaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdhbGxzID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCB3bGVuID0gd2FsbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvd2FsbCA9IHdhbGxzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZVNhbWVTbG9wZSh3YWxsLnZlY1swXSwgd2FsbC52ZWNbMV0sIG93YWxsLnZlY1swXSwgb3dhbGwudmVjWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VXaXRoSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobWVyZ2VXaXRoSW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbGV0IG13YWxsID0gd2FsbHNbbWVyZ2VXaXRoSW5kZXhdO1xuICAgICAgICAgICAgICAgIGxldCBtcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQobXdhbGwuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgbGV0IG1pbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHBvcy54O1xuICAgICAgICAgICAgICAgIGxldCB5ID0gcG9zLnk7XG4gICAgICAgICAgICAgICAgbGV0IGR4ID0gd2FsbC52ZWNbMF07XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0gd2FsbC52ZWNbMV07XG5cbiAgICAgICAgICAgICAgICBpZiAocDIgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgIHkgKz0gZHk7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gLWR4O1xuICAgICAgICAgICAgICAgICAgICBkeSA9IC1keTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobXBvcy54ID09PSB4ICYmIG1wb3MueSA9PT0geSkge1xuICAgICAgICAgICAgICAgICAgICBtcG9zLnggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgIG1wb3MueSArPSBkeTtcbiAgICAgICAgICAgICAgICAgICAgbWluQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbXdhbGwudmVjWzBdICs9IHdhbGwudmVjWzBdO1xuICAgICAgICAgICAgICAgICAgICBtd2FsbC52ZWNbMV0gKz0gd2FsbC52ZWNbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2FsbHMuc3BsaWNlKG1lcmdlV2l0aEluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBsZXQgcDtcbiAgICAgICAgICAgICAgICBpZiAobWluQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBwID0gbXBvcy54ICsgXCJAXCIgKyBtcG9zLnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IChtcG9zLnggKyBtd2FsbC52ZWNbMF0pICsgXCJAXCIgKyAobXBvcy55ICsgbXdhbGwudmVjWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwLCBtd2FsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5kZXNwYXduRW50aXR5KHdhbGwuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZHJhd1dhbGwobXdhbGwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodHJ5TWVyZ2UocDEpIHx8IHRyeU1lcmdlKHAyKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGluc2VydEluSW5kZXgocDEsIHdhbGwpO1xuICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwMiwgd2FsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaXhXYWxsUG9zdFRyYW5zbGF0aW9uKHdhbGxzOiBXYWxsQ29tcG9uZW50W10pIHtcbiAgICAgICAgLy8gUmVjb21wdXRlIGludGVyc2VjdGlvbnMgd2l0aCBvdGhlciB3YWxscy5cbiAgICAgICAgLy8gV2h5IG5vdCBhbGwgZXZlcnl0aGluZyBkaXJlY3RseT8gd2Ugd2FudCB0byBjb21wdXRlIGFsc28gdGhlIHNlbGYtaW50ZXJzZWN0aW9uc1xuXG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gW3Bvcy54LCBwb3MueSwgcG9zLnggKyB3YWxsLnZlY1swXSwgcG9zLnkgKyB3YWxsLnZlY1sxXV07XG4gICAgICAgICAgICB0aGlzLmZpeEludGVyc2VjdGlvbnMocG9pbnRzLCAwKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHBvcy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgICAgICBzaGFwZTogc2hhcGVMaW5lKG5ldyBMaW5lKHBvaW50c1swXSwgcG9pbnRzWzFdLCBwb2ludHNbMl0sIHBvaW50c1szXSkpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIHBvcy54ID0gcG9pbnRzWzBdO1xuICAgICAgICAgICAgICAgIHBvcy55ID0gcG9pbnRzWzFdO1xuICAgICAgICAgICAgICAgIHdhbGwudmVjWzBdID0gcG9pbnRzWzJdIC0gcG9zLng7XG4gICAgICAgICAgICAgICAgd2FsbC52ZWNbMV0gPSBwb2ludHNbM10gLSBwb3MueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWRyYXdXYWxsKHdhbGwpO1xuXG4gICAgICAgICAgICBsZXQgcGxlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgY0lkcyA9IFtdO1xuICAgICAgICAgICAgbGV0IGVudGl0aWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gNDsgaSA8IHBsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLmNyZWF0ZVdhbGwoXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpIC0gMl0sIHBvaW50c1tpIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBjSWRzLnB1c2goZW50aXR5LmlkKTtcbiAgICAgICAgICAgICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlc3Bhd25FbnRpdGllcyhlbnRpdGllcyk7XG4gICAgICAgICAgICBpZiAoY0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuYWRkRW50aXRpZXMoY0lkcyk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogb3B0aW1pemF0aW9uLCB1cGRhdGUgdGhlIHNlbGVjdGlvbiBvbmx5IG9uY2UhXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQod2FsbC5lbnRpdHksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInZpc2liaWxpdHlfYmxvY2tlclwiLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTFcbiAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eUJsb2NrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgIT09IFdBTExfVFlQRSAmJiBjb21wLnR5cGUgIT09IFBPU0lUSU9OX1RZUEUpIHJldHVybjtcblxuICAgICAgICBsZXQgd2FsbCwgcG9zaXRpb247XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFdBTExfVFlQRSkge1xuICAgICAgICAgICAgd2FsbCA9IGNvbXAgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2FsbCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBjb21wIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhbGwgPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzVHJhbnNsYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZml4V2FsbFByZVRyYW5zbGF0aW9uKFt3YWxsXSk7XG4gICAgICAgICAgICB0aGlzLmZpeFdhbGxQb3N0VHJhbnNsYXRpb24oW3dhbGxdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFdBTExfVFlQRSAmJiAndmVjJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd1dhbGwod2FsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZHJhd1dhbGwod2FsbDogV2FsbENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgZGlzcGxheSA9ICh0aGlzLndvcmxkLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50KS5kaXNwbGF5IGFzIExpbmVFbGVtZW50O1xuICAgICAgICBkaXNwbGF5LnZlYyA9IHsgeDogd2FsbC52ZWNbMF0sIHk6IHdhbGwudmVjWzFdIH07XG4gICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudCh3YWxsLmVudGl0eSwgR1JBUEhJQ19UWVBFLCB7ZGlzcGxheX0sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGZpbmRMb2NhdGlvbk9uV2FsbChwb2ludDogUElYSS5Qb2ludCwgcmFkaXVzOiBudW1iZXIpOiBQSVhJLlBvaW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IHBvaW50cyA9IHRoaXMuaW50ZXJhY3Rpb25TeXMucXVlcnkoc2hhcGVBYWJiKG5ldyBBYWJiKFxuICAgICAgICAgICAgcG9pbnQueCAtIHJhZGl1cywgcG9pbnQueSAtIHJhZGl1cyxcbiAgICAgICAgICAgIHBvaW50LnggKyByYWRpdXMsIHBvaW50LnkgKyByYWRpdXNcbiAgICAgICAgKSksIGMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYmVzdFBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgbGV0IGJlc3REaXN0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gICAgICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgICAgIGZvciAobGV0IG5vZGUgb2YgcG9pbnRzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IChub2RlLnNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIGlmICghbGluZS5wcm9qZWN0UG9pbnQocG9pbnQsIHRtcFBvaW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRpc3QgPSBkaXN0U3F1YXJlZDJkKHRtcFBvaW50LngsIHRtcFBvaW50LnksIHBvaW50LngsIHBvaW50LnkpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdCA8IGJlc3REaXN0ICYmIGRpc3QgPCByYWRpdXMpIHtcbiAgICAgICAgICAgICAgICBiZXN0UG9pbnQuY29weUZyb20odG1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGJlc3REaXN0ID0gZGlzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZXN0RGlzdCAhPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVzdFBvaW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcG9uZW50OiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudC50eXBlICE9PSBXQUxMX1RZUEUpIHJldHVybjtcblxuICAgICAgICBsZXQgdmJsb2NrZXIgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wb25lbnQuZW50aXR5LCBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSk7XG4gICAgICAgIGlmICh2YmxvY2tlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudCh2YmxvY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG9vbE1vdmVCZWdpbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgbGV0IHdhbGxzID0gWy4uLnRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKFdBTExfVFlQRSldIGFzIFdhbGxDb21wb25lbnRbXTtcbiAgICAgICAgdGhpcy5maXhXYWxsUHJlVHJhbnNsYXRpb24od2FsbHMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gZmFsc2U7XG4gICAgICAgIGxldCB3YWxscyA9IFsuLi50aGlzLnNlbGVjdGlvblN5cy5nZXRTZWxlY3RlZEJ5VHlwZShXQUxMX1RZUEUpXSBhcyBXYWxsQ29tcG9uZW50W107XG4gICAgICAgIHRoaXMuZml4V2FsbFBvc3RUcmFuc2xhdGlvbih3YWxscyk7XG4gICAgfVxuXG4gICAgcHVibGljIHF1ZXJ5SW50ZXJzZWN0aW9ucyhwb3NYOiBudW1iZXIsIHBvc1k6IG51bWJlciwgdmVjWDogbnVtYmVyLCB2ZWNZOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgICAgIGxldCBzdHJpcCA9IFtwb3NYLCBwb3NZLCBwb3NYICsgdmVjWCwgcG9zWSArIHZlY1ldO1xuICAgICAgICBsZXQgaWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgdGhpcy5maXhJbnRlcnNlY3Rpb25zKHN0cmlwLCAwLCB1bmRlZmluZWQsIGlkcyk7XG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgfVxuXG4gICAgZml4SW50ZXJzZWN0aW9ucyhzdHJpcDogbnVtYmVyW10sIHN0YXJ0OiBudW1iZXIsIGVuZD86IG51bWJlciwgd2FsbElkcz86IG51bWJlcltdKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGFhYmIgPSBuZXcgQWFiYihOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuXG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gc3RyaXAubGVuZ3RoIDogZW5kO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAyKSB7XG4gICAgICAgICAgICBhYWJiLm1pblggPSBNYXRoLm1pbihhYWJiLm1pblgsIHN0cmlwW2ldKTtcbiAgICAgICAgICAgIGFhYmIubWluWSA9IE1hdGgubWluKGFhYmIubWluWSwgc3RyaXBbaSArIDFdKTtcbiAgICAgICAgICAgIGFhYmIubWF4WCA9IE1hdGgubWF4KGFhYmIubWF4WCwgc3RyaXBbaV0pO1xuICAgICAgICAgICAgYWFiYi5tYXhZID0gTWF0aC5tYXgoYWFiYi5tYXhZLCBzdHJpcFtpICsgMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRtcExpbmUgPSBuZXcgTGluZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgbGV0IHRtcFBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5pbnRlcmFjdGlvblN5cy5xdWVyeShzaGFwZUFhYmIoYWFiYiksIGMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IHdhbGwgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDaGVja2luZyB3YWxsOiBcIiwgd2FsbC50YWcpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0ICsgMjsgaSA8IGVuZDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgdG1wTGluZS5mcm9tWCA9IHN0cmlwW2kgLSAyXTtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLmZyb21ZID0gc3RyaXBbaSAtIDFdO1xuICAgICAgICAgICAgICAgIHRtcExpbmUudG9YID0gc3RyaXBbaV07XG4gICAgICAgICAgICAgICAgdG1wTGluZS50b1kgPSBzdHJpcFtpICsgMV07XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSAod2FsbC5zaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQodG1wTGluZSwgbGluZSwgdG1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgY29udGludWUgaWYgdGhlIGludGVyc2VjdGlvbiBpcyBpbnNpZGUgb2YgYm90aCBsaW5lcyAobm90IG9uIHRoZSBlZGdlKVxuICAgICAgICAgICAgICAgIGlmIChyZXMgIT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIGludGVyc2VjdGlvbiBwb2ludCBpbiB0aGUgc3RyaXBcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRklYSU5HIEFUOiBcIiArIHRtcFBvaW50LnggKyBcIiwgXCIgKyB0bXBQb2ludC55KTtcbiAgICAgICAgICAgICAgICBzdHJpcC5zcGxpY2UoaSwgMCwgdG1wUG9pbnQueCwgdG1wUG9pbnQueSk7XG4gICAgICAgICAgICAgICAgaSArPSAyOy8vIFNraXAgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIGVuZCArPSAyO1xuICAgICAgICAgICAgICAgIHdhbGxJZHM/LnB1c2god2FsbC5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfVxuXG4gICAgY3JlYXRlV2FsbChtaW5YOiBudW1iZXIsIG1pblk6IG51bWJlciwgbWF4WDogbnVtYmVyLCBtYXhZOiBudW1iZXIpOiBGcm96ZW5FbnRpdHkge1xuICAgICAgICBsZXQgY29tcG9uZW50cyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIHg6IG1pblgsXG4gICAgICAgICAgICAgICAgeTogbWluWSxcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBXQUxMX1RZUEUsXG4gICAgICAgICAgICAgICAgdmVjOiBbbWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZXSxcbiAgICAgICAgICAgIH0gYXMgV2FsbENvbXBvbmVudCxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLndvcmxkLmFsbG9jYXRlSWQoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudHMsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlV2FsbFRvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5DUkVBVEVfV0FMTDtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBXYWxsU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGl4aUJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG5cbiAgICAvLyBTcHJpdGUgb2YgdGhlIHBpbiB0byBiZSBjcmVhdGVkXG4gICAgY3JlYXRlZElkczogbnVtYmVyW10gPSBbXTtcbiAgICBjcmVhdGVkTGFzdFBvcz86IFBvaW50O1xuICAgIGNyZWF0ZUxhc3RMaW5lRGlzcGxheTogUElYSS5HcmFwaGljcztcblxuICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgbW91c2VMYXN0UG9zOiBQSVhJLlBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcblxuICAgIGNvbnN0cnVjdG9yKHN5czogV2FsbFN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cyA9IHN5cy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgc3lzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIChjOiBDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlICYmIGMudHlwZSA9PT0gJ3dhbGwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVkSWRzLnB1c2goYy5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3lzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIChjOiBDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlICYmIGMudHlwZSA9PT0gJ3dhbGwnICYmIGFycmF5UmVtb3ZlRWxlbSh0aGlzLmNyZWF0ZWRJZHMsIGMuZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQ3JlYXRlZExhc3RQb3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdENyZWF0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVuZENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgZW5kQ3JlYXRpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICB0aGlzLnN5cy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0aWVzKHRoaXMuY3JlYXRlZElkcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVkcmF3Q3JlYXRpb25MYXN0TGluZShwb3M6IFBJWEkuUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb3VzZUxhc3RQb3MgPSBwb3M7XG4gICAgICAgIGxldCBnID0gdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXk7XG4gICAgICAgIGcuY2xlYXIoKTtcblxuICAgICAgICBpZiAodGhpcy5jcmVhdGVkTGFzdFBvcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBnLm1vdmVUbyh0aGlzLmNyZWF0ZWRMYXN0UG9zWzBdLCB0aGlzLmNyZWF0ZWRMYXN0UG9zWzFdKTtcbiAgICAgICAgICAgIGcubGluZVN0eWxlKDUsIFNFTEVDVElPTl9DT0xPUik7XG4gICAgICAgICAgICBnLmxpbmVUbyhwb3MueCwgcG9zLnkpO1xuICAgICAgICB9XG4gICAgICAgIGcubGluZVN0eWxlKDApO1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmNyZWF0ZWRMYXN0UG9zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGcuYmVnaW5GaWxsKDB4ZTUxMDEwKTtcbiAgICAgICAgICAgIGcuZHJhd0NpcmNsZSh0aGlzLmNyZWF0ZWRMYXN0UG9zWzBdLCB0aGlzLmNyZWF0ZWRMYXN0UG9zWzFdLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZy5iZWdpbkZpbGwoMHg0MDVGRkUpO1xuICAgICAgICBnLmRyYXdDaXJjbGUocG9zLngsIHBvcy55LCAxMCk7XG4gICAgfVxuXG4gICAgYWRkVmVydGV4KHBvaW50OiBQSVhJLlBvaW50KTogdm9pZCB7XG4gICAgICAgIGxldCBscCA9IHRoaXMuY3JlYXRlZExhc3RQb3M7XG5cbiAgICAgICAgaWYgKGxwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSBbcG9pbnQueCwgcG9pbnQueV07XG4gICAgICAgIH0gZWxzZSBpZiAocG9pbnQueCA9PSBscFswXSAmJiBwb2ludC55ID09IGxwWzFdKSB7XG4gICAgICAgICAgICB0aGlzLmVuZENyZWF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gW2xwWzBdLCBscFsxXSwgcG9pbnQueCwgcG9pbnQueV07XG4gICAgICAgICAgICB0aGlzLnN5cy5maXhJbnRlcnNlY3Rpb25zKHBvaW50cywgMCk7XG4gICAgICAgICAgICBsZXQgcGxlbiA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcGxlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMuc3lzLmNyZWF0ZVdhbGwoXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpIC0gMl0sIHBvaW50c1tpIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpICAgIF0sIHBvaW50c1tpICsgMV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbZW50aXR5XVxuICAgICAgICAgICAgICAgIH0gYXMgU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMuc3lzLndvcmxkLCBjbWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVuZG9WZXJ0ZXgocG9pbnQ6IFBJWEkuUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZExhc3RQb3MgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLm1vdXNlTGFzdFBvcyA9IHBvaW50O1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFt0aGlzLmNyZWF0ZWRJZHMucG9wKCldLFxuICAgICAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMuc3lzLndvcmxkLCBjbWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjb21wdXRlQ3JlYXRlZExhc3RQb3MoKTtcbiAgICB9XG5cbiAgICByZWNvbXB1dGVDcmVhdGVkTGFzdFBvcygpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmNyZWF0ZWRJZHNbdGhpcy5jcmVhdGVkSWRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IHdhbGxQb3MgPSB0aGlzLnN5cy53b3JsZC5nZXRDb21wb25lbnQoaWQsIFBPU0lUSU9OX1RZUEUpISBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB3YWxsID0gdGhpcy5zeXMuc3RvcmFnZS5nZXRDb21wb25lbnQoaWQpITtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtcbiAgICAgICAgICAgICAgICB3YWxsUG9zLnggKyB3YWxsLnZlY1swXSxcbiAgICAgICAgICAgICAgICB3YWxsUG9zLnkgKyB3YWxsLnZlY1sxXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZHJhd0NyZWF0aW9uTGFzdExpbmUodGhpcy5tb3VzZUxhc3RQb3MpO1xuICAgIH1cblxuICAgIG9uU3RhcnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpIHtcbiAgICAgICAgbGV0IHBvaW50ID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLnN5cy53b3JsZCwgZXZlbnQpO1xuICAgICAgICB0aGlzLnJlZHJhd0NyZWF0aW9uTGFzdExpbmUocG9pbnQpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMuc3lzLndvcmxkLCBldmVudCk7XG4gICAgICAgIHRoaXMuYWRkVmVydGV4KHBvaW50KTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJSaWdodERvd24oZXZlbnQ6IFBvaW50ZXJSaWdodERvd25FdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMuc3lzLndvcmxkLCBldmVudCk7XG4gICAgICAgIHRoaXMudW5kb1ZlcnRleChwb2ludCk7XG4gICAgfVxuXG4gICAgb25FbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LnpJbmRleCA9IERpc3BsYXlQcmVjZWRlbmNlLldBTEwgKyAxO1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLmJvYXJkLmFkZENoaWxkKHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5KTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMuYm9hcmQuc29ydENoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuZGVzdHJveShERVNUUk9ZX0FMTClcbiAgICB9XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtQb2ludGVyQ2xpY2tFdmVudCwgUG9pbnRlckRvd25FdmVudCwgUG9pbnRlck1vdmVFdmVudCwgUG9pbnRlclVwRXZlbnR9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2xEcml2ZXJ9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtmaW5kRW50aXRpZXNBdCwgZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luLCBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9ufSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi90b29sVHlwZVwiO1xuaW1wb3J0IHtSZWN0YW5ndWxhclNlbGVjdGlvbn0gZnJvbSBcIi4vcmVjdGFuZ3VsYXJTZWxlY3Rpb25cIjtcbmltcG9ydCB7TEFZRVJfVFlQRSwgTGF5ZXJTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7S0VZQk9BUkRfVFlQRSwgS2V5Ym9hcmRSZXNvdXJjZX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9rZXlib2FyZFN5c3RlbVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBJbnNwZWN0VG9vbERyaXZlciBpbXBsZW1lbnRzIFRvb2xEcml2ZXIge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLklOU1BFQ1Q7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxheWVyU3lzOiBMYXllclN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgcHJpdmF0ZSBqdXN0U2VsZWN0ZWQ6IG51bWJlcltdID0gW107XG4gICAgcHJpdmF0ZSBsYXN0RG93bkVudGl0aWVzOiBudW1iZXJbXSA9IFtdO1xuICAgIHByaXZhdGUgbGFzdERvd25TZWxlY3RlZDogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIGZpcnN0RW50aXR5OiBudW1iZXIgPSAtMTtcblxuICAgIHByaXZhdGUgaXNEb3duOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBjYW5Nb3ZlU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGlzTW92aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBtb3ZpbmdTdGFydCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgcHJpdmF0ZSBsYXN0TW92ZSA9IG5ldyBQSVhJLlBvaW50KCk7XG5cbiAgICBwcml2YXRlIGxhc3RDbGljazogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIGlzUGFubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVjdFNlbGVjdGlvbjogUmVjdGFuZ3VsYXJTZWxlY3Rpb247XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG4gICAgICAgIHRoaXMubGF5ZXJTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChMQVlFUl9UWVBFKSBhcyBMYXllclN5c3RlbTtcbiAgICAgICAgdGhpcy5yZWN0U2VsZWN0aW9uID0gbmV3IFJlY3Rhbmd1bGFyU2VsZWN0aW9uKHdvcmxkKTtcbiAgICAgICAgdGhpcy5yZWN0U2VsZWN0aW9uLnByZWRpY2F0ZSA9IGlkID0+ICF0aGlzLmxheWVyU3lzLmdldEVudGl0eUxheWVyKGlkKS5sb2NrZWQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSB3b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSEgYXMgS2V5Ym9hcmRSZXNvdXJjZTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdENsaWNrIDwgODAwKSB7XG4gICAgICAgICAgICAvLyBkb3VibGUgY2xpY2shXG4gICAgICAgICAgICB0aGlzLmxhc3RDbGljayA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJpbnRlcmFjdFwiLCBbLi4udGhpcy5sYXN0RG93blNlbGVjdGVkLCAuLi50aGlzLmxhc3REb3duRW50aXRpZXNdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDbGljayA9IG5vdztcblxuICAgICAgICBsZXQgY3RybFByZXNzZWQgPSAhIWV2ZW50LmRhdGEub3JpZ2luYWxFdmVudC5jdHJsS2V5O1xuXG4gICAgICAgIGxldCBlbnRpdGllcyA9IHRoaXMubGFzdERvd25FbnRpdGllcy5sZW5ndGggKyB0aGlzLmxhc3REb3duU2VsZWN0ZWQubGVuZ3RoO1xuXG4gICAgICAgIGlmIChlbnRpdGllcyA9PT0gMCAmJiAhY3RybFByZXNzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3RybFByZXNzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnJlbW92ZUVudGl0aWVzKHRoaXMubGFzdERvd25FbnRpdGllcyk7XG4gICAgICAgICAgICBsZXQgdG9SZW1vdmUgPSBbXVxuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIHRoaXMubGFzdERvd25TZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmp1c3RTZWxlY3RlZC5pbmRleE9mKGVudGl0eSkgIT09IC0xKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdG9SZW1vdmUucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMucmVtb3ZlRW50aXRpZXModG9SZW1vdmUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmlyc3RFbnRpdHkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcy5zaXplID09PSAxICYmIHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKHRoaXMuZmlyc3RFbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuY2xlYXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eSh0aGlzLmZpcnN0RW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc0Rvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLmp1c3RTZWxlY3RlZC5sZW5ndGggPSAwO1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRCb2FyZFBvc0Zyb21PcmlnaW4odGhpcy53b3JsZCwgZXZlbnQpO1xuICAgICAgICBsZXQgY3RybFByZXNzZWQgPSAhIWV2ZW50LmRhdGEub3JpZ2luYWxFdmVudC5jdHJsS2V5O1xuXG4gICAgICAgIGxldCBlbnRpdGllcyA9IGZpbmRFbnRpdGllc0F0KHRoaXMud29ybGQsIHBvaW50LCB0cnVlKTtcblxuICAgICAgICB0aGlzLmxhc3REb3duRW50aXRpZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXN0RG93blNlbGVjdGVkID0gW107XG5cbiAgICAgICAgdGhpcy5maXJzdEVudGl0eSA9IGVudGl0aWVzLmxlbmd0aCA9PT0gMCA/IC0xIDogZW50aXRpZXNbMF07XG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXllclN5cy5nZXRFbnRpdHlMYXllcihlbnRpdHkpLmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERvd25FbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERvd25TZWxlY3RlZC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzUGFubmluZyA9IHRoaXMua2V5Ym9hcmQucHJlc3NlZEtleXMuaGFzKFwiIFwiKTsvLyBDaGVjayBpZiB0aGUgc3BhY2Uga2V5IGlzIHByZXNzZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMubGFzdERvd25TZWxlY3RlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Bhbm5pbmcgJiYgdGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5iZWdpbihwb2ludCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbGllbnRzIGNhbid0IG1vdmUgYW55dGhpbmcgKFRPRE86IHRoaXMgc2hvdWxkIGJlIGZhbHNlKVxuICAgICAgICBldmVudC5jb25zdW1lZCB8fD0gdGhpcy53b3JsZC5pc01hc3RlcjtcbiAgICAgICAgLy8gZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChjdHJsUHJlc3NlZCkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcztcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLmxhc3REb3duU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuanVzdFNlbGVjdGVkLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyh0aGlzLmp1c3RTZWxlY3RlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnNldE9ubHlFbnRpdHkodGhpcy5sYXN0RG93blNlbGVjdGVkWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGJldHRlciBtb3ZlIHN5c3RlbVxuICAgICAgICB0aGlzLmNhbk1vdmVTZWxlY3RlZCA9IHRoaXMud29ybGQuaXNNYXN0ZXI7XG4gICAgICAgIGlmICghdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgcCA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy53b3JsZCwgZXZlbnQpO1xuICAgICAgICB0aGlzLm1vdmluZ1N0YXJ0LmNvcHlGcm9tKHApO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlLnNldCgwLCAwKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5yZWN0U2VsZWN0aW9uLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uZG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ3Rvb2xfbW92ZV9lbmQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93biB8fCAhdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQgfHwgZXZlbnQuY2FuQmVjb21lQ2xpY2spIHJldHVybjtcblxuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMud29ybGQsIGV2ZW50KTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY3RTZWxlY3Rpb24uaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uYmVnaW4odGhpcy5tb3ZpbmdTdGFydCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5tb3ZlRW5kKHBvaW50KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgndG9vbF9tb3ZlX2JlZ2luJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaWZmWCA9IHBvaW50LnggLSB0aGlzLm1vdmluZ1N0YXJ0Lng7XG4gICAgICAgICAgICBsZXQgZGlmZlkgPSBwb2ludC55IC0gdGhpcy5tb3ZpbmdTdGFydC55O1xuXG4gICAgICAgICAgICBsZXQgbW92ZVggPSBkaWZmWCAtIHRoaXMubGFzdE1vdmUueDtcbiAgICAgICAgICAgIGxldCBtb3ZlWSA9IGRpZmZZIC0gdGhpcy5sYXN0TW92ZS55O1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZS5zZXQoZGlmZlgsIGRpZmZZKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLm1vdmVBbGwobW92ZVgsIG1vdmVZLCB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbSwgc2hhcGVBYWJifSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge2FhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZX0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7UkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5cbnR5cGUgSVBvaW50ID0gUElYSS5JUG9pbnQ7XG5cbmV4cG9ydCBjbGFzcyBSZWN0YW5ndWxhclNlbGVjdGlvbiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzdGFydFBvaW50OiBJUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIGVuZFBvaW50OiBJUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgcHJlZGljYXRlOiAoaWQ6IG51bWJlcikgPT4gYm9vbGVhbiA9IF8gPT4gdHJ1ZTtcbiAgICBlbnRpdGllc0luc2lkZSA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIGVudGl0aWVzU2VsZWN0ZWQgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBpc011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBkaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHdvcmxkLmdldFJlc291cmNlKEtFWUJPQVJEX1RZUEUpIGFzIEtleWJvYXJkUmVzb3VyY2U7XG4gICAgICAgIHRoaXMuZGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgIH1cblxuICAgIGJlZ2luKHBvczogSVBvaW50KSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXNTZWxlY3RlZC5jbGVhcigpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSxcbiAgICAgICAgICAgIGFhYmI6IG5ldyBBYWJiKHBvcy54LCBwb3MueSwgcG9zLngsIHBvcy55KSxcbiAgICAgICAgICAgIF9zYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgfSBhcyBSZWN0YW5ndWxhclNlbGVjdGlvblJlc291cmNlLCAndXBkYXRlJyk7XG4gICAgICAgIHRoaXMuc3RhcnRQb2ludCA9IHBvcztcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IHBvcztcblxuICAgICAgICB0aGlzLmlzTXVsdGlwbGUgPSB0aGlzLmtleWJvYXJkLmN0cmw7XG4gICAgICAgIGlmICghdGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBtb3ZlRW5kKHBvczogSVBvaW50KSB7XG4gICAgICAgIGxldCBhZGRlZCA9IFtdIGFzIEFhYmJbXTtcbiAgICAgICAgbGV0IHJlbW92ZWQgPSBbXSBhcyBBYWJiW107XG4gICAgICAgIGFhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZSh0aGlzLnN0YXJ0UG9pbnQhLCB0aGlzLmVuZFBvaW50ISwgcG9zLCBhZGRlZCwgcmVtb3ZlZCk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBhZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHggb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBwb3M7XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgIGFhYmI6IG5ldyBBYWJiKHRoaXMuc3RhcnRQb2ludCEueCwgdGhpcy5zdGFydFBvaW50IS55LCBwb3MueCwgcG9zLnkpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkb25lKCkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMud29ybGQucmVtb3ZlUmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpO1xuXG4gICAgICAgIHRoaXMuZW50aXRpZXNJbnNpZGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5lbnRpdGllc1NlbGVjdGVkLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVudGl0eUVudGVyKGlkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW50aXRpZXNTZWxlY3RlZC5hZGQoaWQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyhbaWRdKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5TGVhdmUoaWQ6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5lbnRpdGllc1NlbGVjdGVkLmRlbGV0ZShpZCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLnJlbW92ZUVudGl0aWVzKFtpZF0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhZGRSZWN0KGFhYmI6IEFhYmIpIHtcbiAgICAgICAgbGV0IHN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIGxldCBlbnRzID0gc3lzLnF1ZXJ5VmlzaWJsZShzaGFwZUFhYmIoYWFiYiksIGMgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXRpZXNJbnNpZGUuaGFzKGMuZW50aXR5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGljYXRlKGMuZW50aXR5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGMgb2YgZW50cykge1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllc0luc2lkZS5hZGQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5vbkVudGl0eUVudGVyKGMuZW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVJlY3QoYWFiYjogQWFiYikge1xuICAgICAgICBsZXQgc3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgbGV0IGVudHMgPSBzeXMucXVlcnlWaXNpYmxlKHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllc0luc2lkZS5oYXMoYy5lbnRpdHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzSW5zaWRlLmRlbGV0ZShjLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLm9uRW50aXR5TGVhdmUoYy5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn0iLCJleHBvcnQgZW51bSBUb29sIHtcbiAgICBJTlNQRUNUPSAnaW5zcGVjdCcsXG4gICAgQ1JFQVRFX1dBTEwgPSAnY3JlYXRlX3dhbGwnLFxuICAgIENSRUFURV9QSU4gPSAnY3JlYXRlX3BpbicsXG4gICAgQ1JFQVRFX1BST1AgPSAnY3JlYXRlX3Byb3AnLFxuICAgIEdSSUQgPSAnZ3JpZCcsXG4gICAgTElHSFQgPSAnbGlnaHQnLFxuICAgIFBST1BfVEVMRVBPUlRfTElOSyA9ICdwcm9wX3RlbGVwb3J0X2xpbmsnLFxufVxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7UXVlcnlIaXRFdmVudH0gZnJvbSBcIi4uL2ludGVyYWN0aW9uXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge0lOVEVSQUNUSU9OX1RZUEUsIEludGVyYWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1dBTExfVFlQRSwgV2FsbFN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvd2FsbFN5c3RlbVwiO1xuaW1wb3J0IHtUb29sRHJpdmVyfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFbnRpdGllc0F0KHdvcmxkOiBXb3JsZCwgcG9pbnQ6IFBJWEkuUG9pbnQsIG11bHRpOiBib29sZWFuKTogbnVtYmVyW10ge1xuICAgIGxldCBldmVudCA9IFF1ZXJ5SGl0RXZlbnQucXVlcnlQb2ludChwb2ludCwgbXVsdGkpO1xuXG4gICAgd29ybGQuZXZlbnRzLmVtaXQoJ3F1ZXJ5X2hpdCcsIGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQuZ2V0U29ydGVkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb2FyZFBvc0Zyb21PcmlnaW4od29ybGQ6IFdvcmxkLCBldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50LCBvcmlnPzogUElYSS5Qb2ludCk6IFBJWEkuUG9pbnQge1xuICAgIGxldCBib2FyZCA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgIHJldHVybiBldmVudC5kYXRhLmdldExvY2FsUG9zaXRpb24oYm9hcmQuYm9hcmQsIG9yaWcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih3b3JsZDogV29ybGQsIGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQsIG9yaWc/OiBQSVhJLlBvaW50KTogUElYSS5Qb2ludCB7XG4gICAgbGV0IHBvaW50ID0gZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luKHdvcmxkLCBldmVudCwgb3JpZyk7XG5cbiAgICBjb25zdCBpbnRlclN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgIGxldCBuZWFyZXN0ID0gaW50ZXJTeXMuc25hcERiLmZpbmROZWFyZXN0KFtwb2ludC54LCBwb2ludC55XSk7XG4gICAgaWYgKG5lYXJlc3QgIT09IHVuZGVmaW5lZCAmJiBuZWFyZXN0WzFdIDwgMTAwKSB7XG4gICAgICAgIHBvaW50LnNldChuZWFyZXN0WzBdWzBdLCBuZWFyZXN0WzBdWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB3YWxsU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoV0FMTF9UWVBFKSBhcyBXYWxsU3lzdGVtO1xuICAgICAgICBsZXQgb25XYWxsTG9jID0gd2FsbFN5cz8uZmluZExvY2F0aW9uT25XYWxsKHBvaW50LCA1MCk7XG4gICAgICAgIGlmIChvbldhbGxMb2MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcG9pbnQuY29weUZyb20ob25XYWxsTG9jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbXB0eURyaXZlcihuYW1lOiBzdHJpbmcpOiBUb29sRHJpdmVyIHtcbiAgICByZXR1cm4gbmV3IEVtcHR5VG9vbERyaXZlcihuYW1lKTtcbn1cblxuY2xhc3MgRW1wdHlUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxufVxuIiwiLy8gV2VsY29tZSB0byB0aGlzIHRhbGssIEknbGwgcHJlc2VudCB0byB5b3U6IG15IHN0dXBpZCB2ZXJzaW9uIG9mIEVDUy5cbi8vIFdoYXQgYW0gSSB0cnlpbmcgdG8gc29sdmU/XG4vLyBFdmVyeXRoaW5nIGluIHRoZSBtYXAgd2lsbCBuZWVkIHRvIGhvbGQgaW5mb3JtYXRpb24sIHRoaXMgbWlnaHQgYmUgYSBwbGF5ZXIgaG9sZGluZyBpbnZlbnRvcnkgb3IgbWF5YmUgYSBtb25zdGVyXG4vLyBob2xkaW5nIHRvIGxpZmVwb2ludHMgYW5kIHN1Y2guXG4vLyBXaGF0J3MgbW9yZT8gZXZlcnkgZW50aXR5IG1pZ2h0IGhhdmUgbXVsdGlwbGUgbmFtZXMgYW5kIG9ubHkgc29tZSBvZiB0aGVtIG1pZ2h0IGJlIHB1YmxpY1xuLy8gc28gd2UgYWxzbyBoYXZlIHNvbWV0aGluZyBzaW1pbGFyIHRvIGEgXCJtdWx0aXBsZSBjb21wb25lbnRcIi5cblxuaW1wb3J0IHtFY3NTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtTeXN0ZW1HcmFwaH0gZnJvbSBcIi4vc3lzdGVtR3JhcGhcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW1cIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gXCIuLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7ZmlsdGVyQ29tcG9uZW50fSBmcm9tIFwiLi9lY3NVdGlsXCI7XG5cblxuZXhwb3J0IHR5cGUgU2VyaWFsaXplZFdvcmxkID0ge1xuICAgIGVudGl0aWVzOiBudW1iZXJbXTtcbiAgICBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9O1xuICAgIHJlc291cmNlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBFY3NFbnRpdHlMaW5rZWQge1xuICAgIF9lY3NfZW50aXR5PzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBBbnlNYXBUeXBlID0ge1trZXk6IHN0cmluZ106IGFueX07XG5leHBvcnQgdHlwZSBNdWx0aUVkaXRUeXBlID0gQXJyYXk8e1xuICAgIHR5cGU6IHN0cmluZyxcbiAgICBjaGFuZ2VzOiBBbnlNYXBUeXBlLFxuICAgIG11bHRpSWQ/OiBudW1iZXIsXG4gICAgY2xlYXJDaGFuZ2VzPzogYm9vbGVhbixcbn0+O1xudHlwZSBNdWx0aUVkaXRUeXBlV29yayA9IE11bHRpRWRpdFR5cGUgJiBBcnJheTx7XG4gICAgX3NraXA/OiB0cnVlO1xuICAgIF9jb21wPzogQ29tcG9uZW50O1xufT47XG5cbmV4cG9ydCB0eXBlIEZyb3plbkVudGl0eSA9IHtcbiAgICBpZDogbnVtYmVyLFxuICAgIGNvbXBvbmVudHM6IEFycmF5PHsgdHlwZTogc3RyaW5nOyB9Pixcbn07XG5cbmV4cG9ydCB0eXBlIEZyb3plbkVudGl0aWVzID0gQXJyYXk8RnJvemVuRW50aXR5PjtcblxuXG5leHBvcnQgY2xhc3MgV29ybGQge1xuICAgIHN5c3RlbXMgPSBuZXcgU3lzdGVtR3JhcGgoKTtcbiAgICBzdG9yYWdlcyA9IG5ldyBNYXA8c3RyaW5nLCBFY3NTdG9yYWdlPGFueT4+KCk7XG4gICAgc3RvcmFnZUxpc3QgPSBuZXcgQXJyYXk8RWNzU3RvcmFnZTxhbnk+PigpO1xuICAgIGVudGl0aWVzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgcmVzb3VyY2VzID0gbmV3IE1hcDxzdHJpbmcsIFJlc291cmNlPigpO1xuXG4gICAgcHJpdmF0ZSBzeXN0ZW1zRmluYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNEZXNlcmlhbGl6aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNNYXN0ZXI6IGJvb2xlYW47XG5cbiAgICAvLyAgICAgIEV2ZW50IGxpc3Q6XG4gICAgLy8gZW50aXR5X3NwYXduKGlkKVxuICAgIC8vIGVudGl0eV9zcGF3bmVkKGlkKSAtIEFmdGVyIGFuIGVudGl0eSBpcyBzcGF3bmVkXG4gICAgLy8gZW50aXR5X2Rlc3Bhd24oaWQpXG4gICAgLy8gZW50aXR5X2Rlc3Bhd25lZChpZCkgLSBBZnRlciBhbiBlbnRpdHkgaXMgZGVzcGF3bmVkXG4gICAgLy8gY29tcG9uZW50X2FkZChjb21wb25lbnQpXG4gICAgLy8gY29tcG9uZW50X2VkaXQoY2hhbmdlcywgY29tcG9uZW50KSAtIEJlZm9yZSB0aGUgY29tcG9uZW50IGlzIGVkaXRlZFxuICAgIC8vIGNvbXBvbmVudF9lZGl0ZWQoY29tcG9uZW50LCBjaGFuZ2VzKSAtIEFmdGVyIHRoZSBjb21wb25lbnQgaXMgZWRpdGVkXG4gICAgLy8gY29tcG9uZW50X3JlbW92ZShjb21wb25lbnQpXG4gICAgLy8gY29tcG9uZW50X3JlbW92ZWQoY29tcG9uZW50KVxuICAgIC8vIHJlc291cmNlX2FkZChyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9hZGRlZChyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9lZGl0KG9sZFJlcywgbmV3UmVzKVxuICAgIC8vIHJlc291cmNlX3JlbW92ZShyZXNvdXJjZSlcbiAgICAvLyByZXNvdXJjZV9yZW1vdmVkKHJlc291cmNlKVxuICAgIC8vIGNsZWFyKClcbiAgICAvLyBjbGVhcmVkKClcbiAgICAvLyBzZXJpYWxpemUoKVxuICAgIC8vIHNlcmlhbGl6ZWQocmVzKVxuICAgIC8vIHNlcmlhbGl6ZV9lbnRpdHkoZW50aXR5KVxuICAgIC8vIGRlc2VyaWFsaXplKGRhdGEpXG4gICAgLy8gZGVzZXJpYWxpemVkKClcbiAgICAvLyAgICAgIEV4dGVybmFsIGV2ZW50czpcbiAgICAvLyBxdWVyeV9oaXQoZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpXG4gICAgLy8gc2VsZWN0aW9uX2JlZ2luKGVudGl0aWVzKVxuICAgIC8vIHNlbGVjdGlvbl9lbmQoZW50aXRpZXMpXG4gICAgLy8gc2VsZWN0aW9uX3VwZGF0ZSgpXG4gICAgLy8gdG9vbF9tb3ZlX2JlZ2luKClcbiAgICAvLyB0b29sX21vdmVfZW5kKClcbiAgICAvLyAgICAgIFRPRE9cbiAgICAvLyBiYXRjaF91cGRhdGVfYmVnaW4oKVxuICAgIC8vIGJhdGNoX3VwZGF0ZV9lbmQoKVxuICAgIGV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihpc01hc3RlcjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTWFzdGVyID0gaXNNYXN0ZXI7XG4gICAgfVxuXG4gICAgZ2V0U3RvcmFnZShuYW1lOiBzdHJpbmcpOiBFY3NTdG9yYWdlPENvbXBvbmVudD4ge1xuICAgICAgICBsZXQgcyA9IHRoaXMuc3RvcmFnZXMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIHN0b3JhZ2UgXCIgKyBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGFsbG9jYXRlSWQoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGlkID0gLTE7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuZW50aXRpZXMuaGFzKGlkKSlcblxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgc3Bhd25FbnRpdHkoLi4uY29tcG9uZW50czogQXJyYXk8Q29tcG9uZW50Pik6IG51bWJlciB7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuYWxsb2NhdGVJZCgpO1xuXG4gICAgICAgIHRoaXMuc3Bhd25FbnRpdHlNYW51YWwoaWQsIGNvbXBvbmVudHMpO1xuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBzcGF3bkVudGl0eU1hbnVhbChpZDogbnVtYmVyLCBjb21wb25lbnRzOiBBcnJheTxDb21wb25lbnQ+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMuYWRkKGlkKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd24nLCBpZCk7XG5cbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wb25lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChpZCwgY29tcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd25lZCcsIGlkKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBkZWFsIHdpdGggZW50aXR5IGxpbmtzXG4gICAgcmVzcGF3bkVudGl0aWVzKGRhdGE6IEZyb3plbkVudGl0aWVzKSB7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZW50aXR5LmlkID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGVudGl0eS5pZCA9IHRoaXMuYWxsb2NhdGVJZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5hZGQoZW50aXR5LmlkKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduJywgZW50aXR5LmlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZW50aXR5LmlkLCBjIGFzIENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduZWQnLCBlbnRpdHkuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzcGF3bkVudGl0aWVzU2F2ZShlbnRpdGllczogbnVtYmVyW10pOiBGcm96ZW5FbnRpdGllcyB7XG4gICAgICAgIGxldCByZXMgPSBbXSBhcyBGcm96ZW5FbnRpdGllcztcblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5zYXZlQWxsQ29tcG9uZW50cyhlbnRpdHkpO1xuXG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBjb21wLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc3Bhd25FbnRpdHkoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X2Rlc3Bhd24nLCBlbnRpdHkpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdG9yYWdlTGlzdC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2VMaXN0W2ldO1xuICAgICAgICAgICAgbGV0IGNvbXBzID0gWy4uLnN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpXVxuICAgICAgICAgICAgaWYgKGNvbXBzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlJywgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlckFsbE9mKGVudGl0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnRpdGllcy5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X2Rlc3Bhd25lZCcsIGVudGl0eSk7XG4gICAgfVxuXG4gICAgYWRkU3lzdGVtKHN5c3RlbTogU3lzdGVtKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN5c3RlbXNGaW5hbGl6ZWQpIHRocm93ICdUb28gbGF0ZSB0byBhZGQgYSBzeXN0ZW0nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnJlZ2lzdGVyKHN5c3RlbSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIHdoaWxlIG1vdW50aW5nIFwiICsgc3lzdGVtLm5hbWUgKyBcIjogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc0FsbENvbXBvbmVudHMoZW50aXR5OiBudW1iZXIsIC4uLnR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGxldCB0IG9mIHR5cGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCB0KSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYWRkQ29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBjbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBjbXAuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZXMuZ2V0KGNtcC50eXBlKTtcbiAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVnaXN0ZXIgY29tcG9uZW50IG9mIHR5cGUgJyArIGNtcC50eXBlICsgJywgbm8gc3RvcmFnZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JhZ2UucmVnaXN0ZXIoY21wKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2FkZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmUnLCBjbXApO1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZShjbXAudHlwZSk7XG4gICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlcihjbXApO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50VHlwZShlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5nZXRTdG9yYWdlKHR5cGUpLmdldENvbXBvbmVudHMoZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRTdG9yYWdlKHN0b3JhZ2U6IEVjc1N0b3JhZ2U8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JhZ2VzLnNldChzdG9yYWdlLnR5cGUsIHN0b3JhZ2UpO1xuICAgICAgICB0aGlzLnN0b3JhZ2VMaXN0LnB1c2goc3RvcmFnZSk7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIG11bHRpSWQ/OiBudW1iZXIpOiBDb21wb25lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2UuZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5LCBtdWx0aUlkKTtcbiAgICB9XG5cbiAgICBzYXZlQWxsQ29tcG9uZW50cyhlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudFtdIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc2F2ZSkgY29udGludWU7XG4gICAgICAgICAgICByZXMucHVzaCguLi5zdG9yYWdlLmdldENvbXBvbmVudHMoZW50aXR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLm1hcChmaWx0ZXJDb21wb25lbnQpO1xuICAgIH1cblxuICAgIGdldEFsbENvbXBvbmVudHMoZW50aXR5OiBudW1iZXIpOiBDb21wb25lbnRbXSB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8Q29tcG9uZW50PigpO1xuXG4gICAgICAgIGZvciAobGV0IHN0b3JhZ2Ugb2YgdGhpcy5zdG9yYWdlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uc3RvcmFnZS5nZXRDb21wb25lbnRzKGVudGl0eSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBlZGl0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIGNoYW5nZXM6IEFueU1hcFR5cGUsIG11bHRpSWQ/OiBudW1iZXIsIGNsZWFyQ2g6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCB0eXBlLCBtdWx0aUlkKTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBmaW5kIGNvbXBvbmVudCAnICsgdHlwZSArICcgb2YgZW50aXR5OiAnICsgZW50aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsZWFyQ2ggJiYgIWNsZWFyQ2hhbmdlcyhjLCBjaGFuZ2VzKSkgcmV0dXJuOy8vIE5vIHJlYWwgY2hhbmdlc1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdCcsIGMsIGNoYW5nZXMpO1xuXG4gICAgICAgIGxldCBjaGFuZ2VkID0gYXNzaWduU3dhcChjLCBjaGFuZ2VzKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdGVkJywgYywgY2hhbmdlZCk7XG4gICAgfVxuXG4gICAgZWRpdENvbXBvbmVudE11bHRpcGxlKGVudGl0eTogbnVtYmVyLCBjaGFuZ2VzOiBNdWx0aUVkaXRUeXBlKTogdm9pZCB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbXBvbmVudChlbnRpdHksIGNoYW5nZXNbMF0udHlwZSwgY2hhbmdlc1swXS5jaGFuZ2VzLCBjaGFuZ2VzWzBdLm11bHRpSWQsIGNoYW5nZXNbMF0uY2xlYXJDaGFuZ2VzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hzID0gY2hhbmdlcyBhcyBNdWx0aUVkaXRUeXBlV29yaztcbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmdldENvbXBvbmVudChlbnRpdHksIGNoYW5nZS50eXBlLCBjaGFuZ2UubXVsdGlJZCk7XG4gICAgICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBmaW5kIGNvbXBvbmVudCAnICsgY2hhbmdlLnR5cGUgKyAnIG9mIGVudGl0eTogJyArIGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZS5fY29tcCA9IGM7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UuY2xlYXJDaGFuZ2VzICYmICFjbGVhckNoYW5nZXMoYywgY2hhbmdlcykpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2UuX3NraXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdCcsIGNoYW5nZS5fY29tcCEsIGNoYW5nZS5jaGFuZ2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuICAgICAgICAgICAgYXNzaWduU3dhcChjaGFuZ2UuX2NvbXAhLCBjaGFuZ2UuY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5fc2tpcCkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdGVkJywgY2hhbmdlLl9jb21wISwgY2hhbmdlLmNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUmVzb3VyY2UocmVzb3VyY2U6IFJlc291cmNlLCBpZlByZXNlbnQ6IHN0cmluZyA9ICdmYWlsJyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXMuaGFzKHJlc291cmNlLnR5cGUpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGlmUHJlc2VudCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2lnbm9yZSc6IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6IHRoaXMuZWRpdFJlc291cmNlKHJlc291cmNlLnR5cGUsIHJlc291cmNlKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgJ1Jlc291cmNlIHR5cGUgYWxyZWFkeSBwcmVzZW50JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX2FkZCcsIHJlc291cmNlKTtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzLmhhcyhyZXNvdXJjZS50eXBlKSkgdGhyb3cgJ1wicmVzb3VyY2VfYWRkXCIgZXZlbnQgaGFzIGFkZGVkIGEgcmVzb3VyY2Ugb2YgdGhlIHNhbWUgdHlwZSEnO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2VzLnNldChyZXNvdXJjZS50eXBlLCByZXNvdXJjZSk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX2FkZGVkJywgcmVzb3VyY2UpO1xuICAgIH1cblxuICAgIGdldFJlc291cmNlKHR5cGU6IHN0cmluZyk6IFJlc291cmNlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzLmdldCh0eXBlKTtcbiAgICB9XG5cbiAgICBlZGl0UmVzb3VyY2UodHlwZTogc3RyaW5nLCBjaGFuZ2VzOiBBbnlNYXBUeXBlKTogdm9pZCB7XG4gICAgICAgIGxldCByZXMgPSB0aGlzLmdldFJlc291cmNlKHR5cGUpO1xuICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93ICdDYW5ub3QgZmluZCByZXNvdXJjZSAnICsgdHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2xlYXJDaGFuZ2VzKHJlcywgY2hhbmdlcykpIHJldHVybjsvLyBObyByZWFsIGNoYW5nZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfZWRpdCcsIHJlcywgY2hhbmdlcyk7XG4gICAgICAgIGFzc2lnblN3YXAocmVzLCBjaGFuZ2VzKTsvLyBjaGFuZ2VzIG5vdyBoYXMgb2xkIHZhbHVlc1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9lZGl0ZWQnLCByZXMsIGNoYW5nZXMpO1xuICAgIH1cblxuICAgIHJlbW92ZVJlc291cmNlKHR5cGU6IHN0cmluZywgZmFpbElmTm90UHJlc2VudDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXMuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAocmVzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGZhaWxJZk5vdFByZXNlbnQpIHRocm93ICdSZXNvdXJjZSB0eXBlIG5vdCBmb3VuZCc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfcmVtb3ZlJywgcmVzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2VzLmRlbGV0ZSh0eXBlKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfcmVtb3ZlZCcsIHJlc291cmNlKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGZvciAobGV0IHN5c3RlbSBvZiB0aGlzLnN5c3RlbXMpIHtcbiAgICAgICAgICAgIHN5c3RlbS5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN5c3RlbXMuc2l6ZSgpIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBzeXN0ZW0gPSB0aGlzLnN5c3RlbXMuZ2V0QXQoaSk7XG4gICAgICAgICAgICBzeXN0ZW0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IFNlcmlhbGl6ZWRXb3JsZCB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3NlcmlhbGl6ZScsICdzYXZlJyk7XG5cbiAgICAgICAgbGV0IHN0b3JhZ2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX0gPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBzdG9yYWdlIG9mIHRoaXMuc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICghc3RvcmFnZS5zYXZlKSBjb250aW51ZTtcbiAgICAgICAgICAgIHN0b3JhZ2VzW3N0b3JhZ2UudHlwZV0gPSBzdG9yYWdlLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc291cmNlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgdGhpcy5yZXNvdXJjZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5fc2F2ZSA9PT0gZmFsc2UpIGNvbnRpbnVlOy8vIHVuZGVmaW5lZCBpcyB0cmVhdGVkIGFzIHRydWUgc28gdGhhdCBsb2FkZWQgcmVzb3VyY2VzIGdldCBzYXZlZCBhZ2FpblxuICAgICAgICAgICAgbGV0IHJlcyA9IHt9IGFzIGFueTtcbiAgICAgICAgICAgIGZvciAobGV0IG5hbWUgaW4gcmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nIHx8IG5hbWUgPT09ICd0eXBlJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzW25hbWVdID0gKHJlc291cmNlIGFzIGFueSlbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvdXJjZXNbcmVzb3VyY2UudHlwZV0gPSByZXM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzID0ge1xuICAgICAgICAgICAgZW50aXRpZXM6IFsuLi50aGlzLmVudGl0aWVzXSxcbiAgICAgICAgICAgIHN0b3JhZ2VzLFxuICAgICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICB9IGFzIFNlcmlhbGl6ZWRXb3JsZDtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzZXJpYWxpemVkJywgcmVzKTtcblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZUNsaWVudCgpOiBTZXJpYWxpemVkV29ybGQge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzZXJpYWxpemUnLCAnY2xpZW50Jyk7XG5cbiAgICAgICAgbGV0IHN0b3JhZ2VzOiB7W3R5cGU6IHN0cmluZ106IGFueX0gPSB7fTtcblxuICAgICAgICBsZXQgaG9zdEhpZGRlbiA9IHRoaXMuZ2V0U3RvcmFnZSgnaG9zdF9oaWRkZW4nKTtcblxuICAgICAgICBmb3IgKGxldCBzdG9yYWdlIG9mIHRoaXMuc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICghc3RvcmFnZS5zYXZlIHx8ICFzdG9yYWdlLnN5bmMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgc3RvcmFnZXNbc3RvcmFnZS50eXBlXSA9IHN0b3JhZ2Uuc2VyaWFsaXplQ2xpZW50KChlKSA9PiBob3N0SGlkZGVuLmdldEZpcnN0Q29tcG9uZW50KGUpICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc291cmNlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgdGhpcy5yZXNvdXJjZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5fc2F2ZSA9PT0gZmFsc2UgfHwgcmVzb3VyY2UuX3N5bmMgPT09IGZhbHNlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAndHlwZScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJlc1tuYW1lXSA9IChyZXNvdXJjZSBhcyBhbnkpW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb3VyY2VzW3Jlc291cmNlLnR5cGVdID0gcmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IHtcbiAgICAgICAgICAgIGVudGl0aWVzOiBbLi4udGhpcy5lbnRpdGllc10uZmlsdGVyKChlKSA9PiBob3N0SGlkZGVuLmdldEZpcnN0Q29tcG9uZW50KGUpID09PSB1bmRlZmluZWQpLFxuICAgICAgICAgICAgc3RvcmFnZXMsXG4gICAgICAgICAgICByZXNvdXJjZXMsXG4gICAgICAgIH0gYXMgU2VyaWFsaXplZFdvcmxkO1xuXG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplZCcsIHJlcyk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBkZXNlcmlhbGl6ZShkYXRhOiBTZXJpYWxpemVkV29ybGQpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmlzRGVzZXJpYWxpemluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Rlc2VyaWFsaXplJywgZGF0YSk7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBkYXRhLnJlc291cmNlcykge1xuICAgICAgICAgICAgbGV0IHJlcyA9IGRhdGEucmVzb3VyY2VzW3R5cGVdO1xuICAgICAgICAgICAgcmVzLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZShyZXMsICd1cGRhdGUnKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXMuYWRkKGVudGl0eSk7XG5cbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bicsIGVudGl0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGRhdGEuc3RvcmFnZXMpIHtcbiAgICAgICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5zdG9yYWdlcy5nZXQodHlwZSk7XG4gICAgICAgICAgICBpZiAoc3RvcmFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBkZXNlcmlhbGl6ZSBzdG9yYWdlIHR5cGU6IFwiICsgdHlwZSArIFwiLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JhZ2UuZGVzZXJpYWxpemUodGhpcywgZGF0YS5zdG9yYWdlc1t0eXBlXSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YS5lbnRpdGllcykge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduZWQnLCBlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0Rlc2VyaWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZGVzZXJpYWxpemVkJyk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NsZWFyJyk7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4udGhpcy5lbnRpdGllc10pIHtcbiAgICAgICAgICAgIHRoaXMuZGVzcGF3bkVudGl0eShlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJvdW5kIDIgKGlmIHNvbWUgZW50aXR5IGdldHMgc3Bhd25lZCBvbiBkZXNwYXduKVxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLnRoaXMuZW50aXRpZXNdKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbnRpdGllcy5zaXplICE9PSAwKSB0aHJvdyAnRW50aXRpZXMgc3Bhd25lZCB3aGlsZSBjbGVhcmluZyEnO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjbGVhcmVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogdXNlIFZ1ZSAzXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iailgIHJlc3VsdC5cbiAgICAgKiBUaGlzIGlzIGRvbmUgdG8gaGlkZSB0aGlzIG9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gb2JzZXJ2ZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMjYzNylcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIHR5cGUgbmFtZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N5bWJvbC90b1N0cmluZ1RhZ31cbiAgICAgKi9cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGNhbiBnbyBoZXJlIHJlYWxseSBhcyBsb25nIGFzIGl0J3Mgbm90ICdPYmplY3QnXG4gICAgICAgIHJldHVybiAnT2JqZWN0Tm9PYnNlcnZlJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzc2lnblN3YXAob2JqOiBhbnksIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gY2hhbmdlcykge1xuICAgICAgICBsZXQgdG1wID0gY2hhbmdlc1tuYW1lXTtcbiAgICAgICAgY2hhbmdlc1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgICAgb2JqW25hbWVdID0gdG1wO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlcztcbn1cblxuZnVuY3Rpb24gY2xlYXJDaGFuZ2VzKGZyb206IEFueU1hcFR5cGUsIGNoYW5nZXM6IEFueU1hcFR5cGUpOiBib29sZWFuIHtcbiAgICBsZXQgY2hhbmdlYyA9IDA7XG4gICAgZm9yIChsZXQgY2hhbmdlIGluIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGZyb21bY2hhbmdlXSA9PT0gY2hhbmdlc1tjaGFuZ2VdKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbmdlc1tjaGFuZ2VdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlYysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VjICE9PSAwO1xufVxuXG4iLCJleHBvcnQgZW51bSBHcmlkVHlwZSB7XG4gICAgU1FVQVJFLFxuICAgIEhFWEFHT04sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZEdyYXBoaWNhbE9wdGlvbnMge1xuICAgIHZpc2libGU6IGJvb2xlYW47XG4gICAgZ3JpZFR5cGU6IEdyaWRUeXBlLFxuICAgIGNvbG9yOiBudW1iZXI7XG4gICAgdGhpY2s6IG51bWJlcjtcbiAgICBvcGFjaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFBsYWNlbWVudE9wdGlvbnMge1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBvZmZYOiBudW1iZXI7XG4gICAgb2ZmWTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zIGV4dGVuZHMgR3JpZEdyYXBoaWNhbE9wdGlvbnMsIEdyaWRQbGFjZW1lbnRPcHRpb25zIHt9XG5cbmV4cG9ydCBjb25zdCBTVEFOREFSRF9HUklEX09QVElPTlMgPSB7XG4gICAgdmlzaWJsZTogdHJ1ZSxcbiAgICBncmlkVHlwZTogR3JpZFR5cGUuU1FVQVJFLFxuICAgIGNvbG9yOiAwLFxuICAgIHRoaWNrOiAxMCxcbiAgICBvcGFjaXR5OiAwLjc1LFxuICAgIHNpemU6IDEyOCxcbiAgICBvZmZYOiAwLFxuICAgIG9mZlk6IDAsXG59IGFzIEdyaWRPcHRpb25zO1xuIiwiaW1wb3J0IHtLMmRUcmVlfSBmcm9tIFwiLi4vdXRpbC9rMmRUcmVlXCI7XG5pbXBvcnQge2Rpc3RTcXVhcmVkMmQsIFBvaW50fSBmcm9tIFwiLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtHcmlkU3lzdGVtfSBmcm9tIFwiLi4vZWNzL3N5c3RlbXMvZ3JpZFN5c3RlbVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBQb2ludERCIHtcbiAgICAvLyBJbiBqcyB3ZSBjYW5ub3QgY3JlYXRlIGEgTWFwIHdpdGggYSBjdXN0b20gb2JqZWN0IGFzIGtleSAtXy1cbiAgICBwcml2YXRlIGNvdW50ZXIgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIHByaXZhdGUgdHJlZSA9IG5ldyBLMmRUcmVlKCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkPzogR3JpZFN5c3RlbTtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGdyaWQ/OiBHcmlkU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgfVxuXG5cbiAgICBpbnNlcnQocG9pbnQ6IFBvaW50KTogdm9pZCB7XG4gICAgICAgIGxldCBwdHJTdHIgPSBwb2ludFswXSArICd8JyArIHBvaW50WzFdO1xuICAgICAgICBsZXQgcCA9IHRoaXMuY291bnRlci5nZXQocHRyU3RyKSB8fCAwXG4gICAgICAgIHRoaXMuY291bnRlci5zZXQocHRyU3RyLCBwICsgMSk7XG4gICAgICAgIGlmIChwID09IDApIHtcbiAgICAgICAgICAgIHRoaXMudHJlZS5pbnNlcnQocG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICB9XG5cbiAgICByZW1vdmUocG9pbnQ6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBwdHJTdHIgPSBwb2ludFswXSArICd8JyArIHBvaW50WzFdO1xuICAgICAgICBsZXQgcCA9ICh0aGlzLmNvdW50ZXIuZ2V0KHB0clN0cikgfHwgMCkgLSAxO1xuICAgICAgICBpZiAocCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXIuZGVsZXRlKHB0clN0cik7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJlZS5yZW1vdmUocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlbW92ZSBub2RlOiAnICsgcG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHAgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXIuc2V0KHB0clN0ciwgcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50LS07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZpbmROZWFyZXN0KHBvaW50OiBQb2ludCk6IFtQb2ludCwgbnVtYmVyXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCB0cmVlTmVhcmVzdCA9IHRoaXMudHJlZS5uZWFyZXN0UG9pbnQocG9pbnQpO1xuXG4gICAgICAgIGxldCBncmlkTmVhcmVzdDogUG9pbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmdyaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ3JpZE5lYXJlc3QgPSB0aGlzLmdyaWQuY2xvc2VzdFBvaW50KHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncmlkTmVhcmVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZERpc3QgPSBkaXN0U3F1YXJlZDJkKHBvaW50WzBdLCBwb2ludFsxXSwgZ3JpZE5lYXJlc3RbMF0sIGdyaWROZWFyZXN0WzFdKTtcbiAgICAgICAgICAgIGlmICh0cmVlTmVhcmVzdCA9PT0gdW5kZWZpbmVkIHx8IGdyaWREaXN0IDwgdHJlZU5lYXJlc3RbMV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2dyaWROZWFyZXN0LCBncmlkRGlzdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJlZU5lYXJlc3Q7XG4gICAgfVxufSIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQgaGV4MnJnYiA9IFBJWEkudXRpbHMuaGV4MnJnYjtcblxuLy8gT3RoZXIgbWV0aG9kczogaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL2x3amdsLWJhc2ljcy93aWtpLzJELVBpeGVsLVBlcmZlY3QtU2hhZG93c1xuY29uc3QgTElHSFRfVkVSVEVYX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG4gICAgXG4gICAgdmFyeWluZyB2ZWMyIHZlY1BvcztcblxuICAgIHVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjUG9zID0gYVZlcnRleFBvc2l0aW9uO1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgIH1cbmA7XG5cbmNvbnN0IExJR0hUX0ZSQUdNRU5UX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG4gICAgXG4gICAgdW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiAgICB1bmlmb3JtIGZsb2F0IHJhZFNxdWFyZWQ7XG4gICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWMyIGRpZmYgPSBjZW50ZXIgLSB2ZWNQb3M7XG4gICAgICAgIGZsb2F0IGRpc3RTcSA9IGRpZmYueCAqIGRpZmYueCArIGRpZmYueSAqIGRpZmYueTtcbiAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gMS4wIC0gY2xhbXAoZGlzdFNxIC8gcmFkU3F1YXJlZCwgMC4sIDEuKTtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMSkgKiAoaW50ZW5zaXR5ICogaW50ZW5zaXR5KTsvLyBQcmUgbXVsdGlwbGllZCBhbHBoYVxuICAgIH1cbmA7XG5cbmNvbnN0IENPTlNUX0xJR0hUX0ZSQUdNRU5UX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG4gICAgXG4gICAgdW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiAgICB1bmlmb3JtIGZsb2F0IHJhZFNxdWFyZWQ7XG4gICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWMyIGRpZmYgPSBjZW50ZXIgLSB2ZWNQb3M7XG4gICAgICAgIGZsb2F0IGRpc3RTcSA9IGRpZmYueCAqIGRpZmYueCArIGRpZmYueSAqIGRpZmYueTtcbiAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gZmxvYXQoZGlzdFNxIDw9IHJhZFNxdWFyZWQpO1xuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxKSAqIGludGVuc2l0eTsvLyBQcmUgbXVsdGlwbGllZCBhbHBoYVxuICAgIH1cbmA7XG5cbmNvbnN0IFBMQVlFUl9WSVNfRlJBR01FTlRfU0hBREVSID0gYFxuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgdmFyeWluZyB2ZWMyIHZlY1BvcztcbiAgICBcbiAgICB1bmlmb3JtIHZlYzIgY2VudGVyO1xuICAgIHVuaWZvcm0gZmxvYXQgcmFkU3F1YXJlZDtcbiAgICB1bmlmb3JtIHZlYzMgY29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgIHZlYzIgZGlmZiA9IGNlbnRlciAtIHZlY1BvcztcbiAgICAgICAgZmxvYXQgZGlzdFNxID0gZGlmZi54ICogZGlmZi54ICsgZGlmZi55ICogZGlmZi55O1xuICAgICAgICBmbG9hdCBpbnRlbnNpdHkgPSAxLjAgLSBzbW9vdGhzdGVwKDAuOSwgMS4wLCBjbGFtcChkaXN0U3EgLyByYWRTcXVhcmVkLCAwLiwgMS4pKTtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMSkgKiBpbnRlbnNpdHk7Ly8gUHJlIG11bHRpcGxpZWQgYWxwaGFcbiAgICB9XG5gO1xuXG5sZXQgbGlnaHRQcm9ncmFtOiBQSVhJLlByb2dyYW0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5sZXQgY29uc3RMaWdodFByb2dyYW06IFBJWEkuUHJvZ3JhbSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmxldCBwbGF5ZXJWaXNQcm9ncmFtOiBQSVhJLlByb2dyYW0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbnR5cGUgTGlnaHRQcm9ncmFtVHlwZSA9ICdub3JtYWwnIHwgJ2NvbnN0JyB8ICdwbGF5ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgaWYgKGxpZ2h0UHJvZ3JhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpZ2h0UHJvZ3JhbSA9IFBJWEkuUHJvZ3JhbS5mcm9tKExJR0hUX1ZFUlRFWF9TSEFERVIsIExJR0hUX0ZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGNvbnN0TGlnaHRQcm9ncmFtID0gUElYSS5Qcm9ncmFtLmZyb20oTElHSFRfVkVSVEVYX1NIQURFUiwgQ09OU1RfTElHSFRfRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgcGxheWVyVmlzUHJvZ3JhbSA9IFBJWEkuUHJvZ3JhbS5mcm9tKExJR0hUX1ZFUlRFWF9TSEFERVIsIFBMQVlFUl9WSVNfRlJBR01FTlRfU0hBREVSKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZXNoKGxpZ2h0VHlwZTogTGlnaHRQcm9ncmFtVHlwZSA9ICdub3JtYWwnKTogUElYSS5NZXNoIHtcbiAgICBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICAgIGxldCBidWZmID0gbmV3IFBJWEkuQnVmZmVyKG5ldyBGbG9hdDMyQXJyYXkoMSkpO1xuICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgYnVmZiwgMiwgZmFsc2UsIFBJWEkuVFlQRVMuRkxPQVQpO1xuXG4gICAgbGV0IHByb2dyYW07XG4gICAgc3dpdGNoIChsaWdodFR5cGUpIHtcbiAgICAgICAgY2FzZSAnbm9ybWFsJzogcHJvZ3JhbSA9IGxpZ2h0UHJvZ3JhbTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NvbnN0JzogcHJvZ3JhbSA9IGNvbnN0TGlnaHRQcm9ncmFtOyBicmVhaztcbiAgICAgICAgY2FzZSAncGxheWVyJzogcHJvZ3JhbSA9IHBsYXllclZpc1Byb2dyYW07IGJyZWFrO1xuICAgIH1cbiAgICAvLyBXZSdsbCBjaGFuZ2UgdGhlbSBhbGwsIGluIGR1ZSB0aW1lXG4gICAgbGV0IHNoYWRlcnMgPSBuZXcgUElYSS5TaGFkZXIocHJvZ3JhbSwge1xuICAgICAgICAnY2VudGVyJzogbmV3IEZsb2F0MzJBcnJheShbMC41LCAwLjVdKSxcbiAgICAgICAgJ3JhZFNxdWFyZWQnOiAxMCxcbiAgICAgICAgJ2NvbG9yJzogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMF0pLFxuICAgIH0pO1xuXG4gICAgbGV0IG1lc2ggPSBuZXcgUElYSS5NZXNoKGdlb21ldHJ5LCBzaGFkZXJzIGFzIFBJWEkuTWVzaE1hdGVyaWFsLCB1bmRlZmluZWQsIFBJWEkuRFJBV19NT0RFUy5UUklBTkdMRV9GQU4pO1xuICAgIG1lc2guaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICBtZXNoLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgIHJldHVybiBtZXNoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWVzaFBvbHlnb25zKG1lc2g6IFBJWEkuTWVzaCwgcG9zOiBQSVhJLklQb2ludERhdGEsIHBvbHk6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IGJ1ZmZlciA9IG1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcblxuICAgIGxldCBmQnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShwb2x5Lmxlbmd0aCArIDQpO1xuICAgIGZCdWZmZXJbMF0gPSBwb3MueDtcbiAgICBmQnVmZmVyWzFdID0gcG9zLnk7XG4gICAgZkJ1ZmZlci5zZXQocG9seSwgMik7XG4gICAgZkJ1ZmZlcltwb2x5Lmxlbmd0aCArIDJdID0gcG9seVswXTtcbiAgICBmQnVmZmVyW3BvbHkubGVuZ3RoICsgM10gPSBwb2x5WzFdO1xuICAgIGJ1ZmZlci51cGRhdGUoZkJ1ZmZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNZXNoVW5pZm9ybXMobWVzaDogUElYSS5NZXNoLCBjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFuZ2VTcXVhcmVkOiBudW1iZXIsIGNvbG9yOiBudW1iZXIpIHtcbiAgICBsZXQgdW5pID0gbWVzaC5zaGFkZXIudW5pZm9ybXM7XG4gICAgbGV0IGMgPSB1bmkuY2VudGVyO1xuICAgIGNbMF0gPSBjZW50ZXIueDtcbiAgICBjWzFdID0gY2VudGVyLnk7XG4gICAgdW5pLnJhZFNxdWFyZWQgPSByYW5nZVNxdWFyZWQ7XG4gICAgaGV4MnJnYihjb2xvciwgdW5pLmNvbG9yKTtcbn0iLCJpbXBvcnQge1BvaW50fSBmcm9tIFwiLi9wb2ludFwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcblxuZXhwb3J0IGNsYXNzIEFhYmIge1xuICAgIG1pblg6IG51bWJlcjtcbiAgICBtaW5ZOiBudW1iZXI7XG4gICAgbWF4WDogbnVtYmVyO1xuICAgIG1heFk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHgxID4geDIpIFt4MSwgeDJdID0gW3gyLCB4MV07XG4gICAgICAgIGlmICh5MSA+IHkyKSBbeTEsIHkyXSA9IFt5MiwgeTFdO1xuXG4gICAgICAgIHRoaXMubWluWCA9IHgxO1xuICAgICAgICB0aGlzLm1pblkgPSB5MTtcbiAgICAgICAgdGhpcy5tYXhYID0geDI7XG4gICAgICAgIHRoaXMubWF4WSA9IHkyO1xuICAgIH1cblxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPCB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDwgdGhpcy5tYXhZO1xuICAgIH1cblxuICAgIGdldENlbnRlcigpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5Qb2ludChcbiAgICAgICAgICAgICh0aGlzLm1pblggKyB0aGlzLm1heFgpIC8gMixcbiAgICAgICAgICAgICh0aGlzLm1pblkgKyB0aGlzLm1heFkpIC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFBlcmltZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKHRoaXMubWF4WCAtIHRoaXMubWluWCArIHRoaXMubWF4WSAtIHRoaXMubWluWSkgKiAyO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIHRhcmdldC5taW5YID0gdGhpcy5taW5YICsgeDtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSB0aGlzLm1pblkgKyB5O1xuICAgICAgICB0YXJnZXQubWF4WCA9IHRoaXMubWF4WCArIHg7XG4gICAgICAgIHRhcmdldC5tYXhZID0gdGhpcy5tYXhZICsgeTtcbiAgICB9XG5cbiAgICBjb21iaW5lKG90aGVyOiBBYWJiLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIG90aGVyLm1pblgpO1xuICAgICAgICB0YXJnZXQubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgb3RoZXIubWluWSk7XG4gICAgICAgIHRhcmdldC5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBvdGhlci5tYXhYKTtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIG90aGVyLm1heFkpO1xuICAgIH1cblxuICAgIGludGVyc2VjdChvdGhlcjogQWFiYiwgdGFyZ2V0OiBBYWJiKSB7XG4gICAgICAgIHRhcmdldC5taW5YID0gTWF0aC5tYXgodGhpcy5taW5YLCBvdGhlci5taW5YKTtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSBNYXRoLm1heCh0aGlzLm1pblksIG90aGVyLm1pblkpO1xuICAgICAgICB0YXJnZXQubWF4WCA9IE1hdGgubWluKHRoaXMubWF4WCwgb3RoZXIubWF4WCk7XG4gICAgICAgIHRhcmdldC5tYXhZID0gTWF0aC5taW4odGhpcy5tYXhZLCBvdGhlci5tYXhZKTtcbiAgICB9XG5cbiAgICBleHRlbmQoYW1vdW50OiBudW1iZXIsIHRhcmdldDogQWFiYik6IHZvaWQge1xuICAgICAgICB0YXJnZXQubWluWCA9IHRoaXMubWluWCAtIGFtb3VudDtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSB0aGlzLm1pblkgLSBhbW91bnQ7XG4gICAgICAgIHRhcmdldC5tYXhYID0gdGhpcy5tYXhYIC0gYW1vdW50O1xuICAgICAgICB0YXJnZXQubWF4WSA9IHRoaXMubWF4WSAtIGFtb3VudDtcbiAgICB9XG5cbiAgICBzY2FsZShkeDogbnVtYmVyLCBkeTogbnVtYmVyLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGN4ID0gKHRoaXMubWluWCArIHRoaXMubWF4WCkgLyAyO1xuICAgICAgICBsZXQgY3kgPSAodGhpcy5taW5ZICsgdGhpcy5tYXhZKSAvIDI7XG4gICAgICAgIGxldCBodyA9ICh0aGlzLm1heFggLSB0aGlzLm1pblgpIC8gMjtcbiAgICAgICAgbGV0IGhoID0gKHRoaXMubWF4WSAtIHRoaXMubWluWSkgLyAyO1xuICAgICAgICB0YXJnZXQubWluWCA9IGN4IC0gaHcgKiBkeDtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSBjeSAtIGhoICogZHk7XG4gICAgICAgIHRhcmdldC5tYXhYID0gY3ggKyBodyAqIGR4O1xuICAgICAgICB0YXJnZXQubWF4WSA9IGN5ICsgaGggKiBkeTtcbiAgICB9XG5cbiAgICBjb3B5RnJvbShvdGhlcjogQWFiYik6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblggPSBvdGhlci5taW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBvdGhlci5taW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBvdGhlci5tYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBvdGhlci5tYXhZO1xuICAgIH1cblxuICAgIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblggPSAwO1xuICAgICAgICB0aGlzLm1pblkgPSAwO1xuICAgICAgICB0aGlzLm1heFggPSAwO1xuICAgICAgICB0aGlzLm1heFkgPSAwO1xuICAgIH1cblxuICAgIHdyYXBQb2x5Z29uKHBvbHlnb246IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWluWCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5taW5ZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLm1heFggPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHRoaXMubWF4WSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcblxuICAgICAgICBsZXQgbGVuID0gcG9seWdvbi5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9seWdvbltpXSk7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvbHlnb25baSArIDFdKTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9seWdvbltpXSk7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvbHlnb25baSArIDFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHkoKTogQWFiYiB7XG4gICAgICAgIGxldCBvdGhlciA9IEFhYmIuemVybygpO1xuICAgICAgICBvdGhlci5jb3B5RnJvbSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkFBQkIoXCIgKyB0aGlzLm1pblgudG9GaXhlZCgyKSArIFwiLCBcIiArIHRoaXMubWluWS50b0ZpeGVkKDIpICsgXCIsIFwiICsgdGhpcy5tYXhYLnRvRml4ZWQoMikgKyBcIiwgXCIgKyB0aGlzLm1heFkudG9GaXhlZCgyKSArIFwiKVwiO1xuICAgIH1cblxuICAgIHN0YXRpYyB6ZXJvKCk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIoMCwgMCwgMCwgMCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Cb3VuZHMoYjogUElYSS5SZWN0YW5nbGUpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKGIubGVmdCwgYi50b3AsIGIucmlnaHQsIGIuYm90dG9tKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50KHA6IFBJWEkuSVBvaW50RGF0YSk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIocC54LCBwLnksIHAueCwgcC55KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50QW5jaG9yKHBvczogUElYSS5JUG9pbnREYXRhLCBzaXplOiBQSVhJLklQb2ludERhdGEsIGFuY2hvcjogUElYSS5JUG9pbnREYXRhKTogQWFiYiB7XG4gICAgICAgIHJldHVybiBuZXcgQWFiYihcbiAgICAgICAgICAgIHBvcy54IC0gc2l6ZS54ICogYW5jaG9yLngsXG4gICAgICAgICAgICBwb3MueSAtIHNpemUueSAqIGFuY2hvci55LFxuICAgICAgICAgICAgcG9zLnggKyBzaXplLnggKiAoMSAtIGFuY2hvci54KSxcbiAgICAgICAgICAgIHBvcy55ICsgc2l6ZS55ICogKDEgLSBhbmNob3IueSlcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge1BvaW50LCBTdHVwaWRQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4vbGluZVwiO1xuaW1wb3J0IHtFUFNJTE9OfSBmcm9tIFwiLi92aXNpYmlsaXR5UG9seWdvblwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBwb2x5Z29uUG9pbnRJbnRlcnNlY3R9IGZyb20gXCIuLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4vb2JiXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBBYWJiVnNBYWJiKGE6IEFhYmIsIGI6IEFhYmIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYS5taW5YIDw9IGIubWF4WCAmJiBhLm1heFggPj0gYi5taW5YICYmXG4gICAgICAgICAgIGEubWluWSA8PSBiLm1heFkgJiYgYS5tYXhZID49IGIubWluWTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQWFiYlZzQWFiYihhOiBBYWJiLCBiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLm1pblggJiYgYS5tYXhYID49IGIubWF4WCAmJlxuICAgICAgICAgICBhLm1pblkgPD0gYi5taW5ZICYmIGEubWF4WSA+PSBiLm1heFk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQWFiYlZzUG9pbnQoYTogQWFiYiwgYjogUElYSS5JUG9pbnREYXRhKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLnggJiYgYS5taW5ZIDw9IGIueSAmJlxuICAgICAgICAgICBhLm1heFggPj0gYi54ICYmIGEubWF4WSA+PSBiLnk7XG59XG5cbmNvbnN0IElOU0lERSA9IDA7XG5jb25zdCBMRUZUID0gMTtcbmNvbnN0IFJJR0hUID0gMjtcbmNvbnN0IEJPVFRPTSA9IDQ7XG5jb25zdCBUT1AgPSA4O1xuXG5mdW5jdGlvbiBjb21wdXRlT3V0Q29kZShib3g6IEFhYmIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgY29kZSA9IElOU0lERTtcblxuICAgIGlmICAgICAgKHggPCBib3gubWluWCkgY29kZSB8PSBMRUZUO1xuICAgIGVsc2UgaWYgKHggPiBib3gubWF4WCkgY29kZSB8PSBSSUdIVDtcblxuICAgIGlmICAgICAgKHkgPCBib3gubWluWSkgY29kZSB8PSBCT1RUT007XG4gICAgZWxzZSBpZiAoeSA+IGJveC5tYXhZKSBjb2RlIHw9IFRPUDtcblxuICAgIHJldHVybiBjb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcEFhYmJWc0xpbmUoYTogQWFiYiwgYjogTGluZSk6IGJvb2xlYW4ge1xuICAgIGxldCBmYyA9IGNvbXB1dGVPdXRDb2RlKGEsIGIuZnJvbVgsIGIuZnJvbVkpO1xuICAgIGxldCB0YyA9IGNvbXB1dGVPdXRDb2RlKGEsIGIudG9YLCBiLnRvWSk7XG5cbiAgICAvLyBGYXN0IHBhdGhzOlxuICAgIC8vIE9uZSBvZiB0aGUgcG9pbnRzIGlzIGluc2lkZVxuICAgIGlmIChmYyA9PT0gSU5TSURFIHx8IHRjID09PSBJTlNJREUpIHJldHVybiB0cnVlO1xuICAgIC8vIGJpdHdpc2UgQU5EIGlzIG5vdCAwOiBib3RoIHBvaW50cyBzaGFyZSBhbiBvdXRzaWRlIHpvbmUgKExFRlQsIFJJR0hULCBUT1AsXG4gICAgLy8gb3IgQk9UVE9NKSwgc28gYm90aCBtdXN0IGJlIG91dHNpZGUgd2luZG93XG4gICAgaWYgKChmYyAmIHRjKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIEJvdGggcG9pbnRzIGFyZSBpbiBkaXJlY3RseSBvcHBvc2l0ZSBzaXRlcyAobGVmdC9yaWdodCBvciB0b3AvYm90dG9tKVxuICAgIGlmICgoZmMgfCB0YykgPT09IChMRUZUIHwgUklHSFQpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoKGZjIHwgdGMpID09PSAoVE9QIHwgQk9UVE9NKSkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1pblgsIGEubWluWSwgYS5taW5YLCBhLm1heFkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1pblgsIGEubWF4WSwgYS5tYXhYLCBhLm1heFkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1heFgsIGEubWF4WSwgYS5tYXhYLCBhLm1pblkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1heFgsIGEubWluWSwgYS5taW5YLCBhLm1pblkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUG9pbnRWc0NpcmNsZShwb2ludDogUElYSS5JUG9pbnREYXRhLCBjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGlzdFNxdWFyZWQyZChwb2ludC54LCBwb2ludC55LCBjZW50ZXIueCwgY2VudGVyLnkpIDwgcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcENpcmNsZVZzQWFiYihjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIsIGFhYmI6IEFhYmIpOiBib29sZWFuIHtcbiAgICBsZXQgZGlzdFggPSBNYXRoLmFicyhjZW50ZXIueCAtIChhYWJiLm1pblggKyBhYWJiLm1heFgpIC8gMik7XG4gICAgbGV0IGRpc3RZID0gTWF0aC5hYnMoY2VudGVyLnkgLSAoYWFiYi5taW5ZICsgYWFiYi5tYXhZKSAvIDIpO1xuXG4gICAgbGV0IGhhbGZXID0gKGFhYmIubWF4WCAtIGFhYmIubWluWCkgLyAyO1xuICAgIGxldCBoYWxmSCA9IChhYWJiLm1heFkgLSBhYWJiLm1pblkpIC8gMjtcblxuICAgIGlmIChkaXN0WCA+IGhhbGZXICsgcmFkaXVzKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGRpc3RZID4gaGFsZkggKyByYWRpdXMpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChkaXN0WCA8IGhhbGZXIHx8IGRpc3RZIDwgaGFsZkgpIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IGR4ID0gZGlzdFggLSBoYWxmVztcbiAgICBsZXQgZHkgPSBkaXN0WSAtIGhhbGZIO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMgKiByYWRpdXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQ2lyY2xlVnNDaXJjbGUoYWM6IFBJWEkuSVBvaW50RGF0YSwgYXI6IG51bWJlciwgYmM6IFBJWEkuSVBvaW50RGF0YSwgYnI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCBkeCA9IGFjLnggLSBiYy54O1xuICAgIGxldCBkeSA9IGFjLnkgLSBiYy55O1xuICAgIGxldCByID0gYXIgKyBicjtcblxuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8ICByICogcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBDaXJjbGVWc1BvbHlnb24oYWM6IFBJWEkuSVBvaW50RGF0YSwgYXI6IG51bWJlciwgcG9seTogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBpZiAocG9seWdvblBvaW50SW50ZXJzZWN0KGFjLCBwb2x5KSkgcmV0dXJuIHRydWU7XG5cbiAgICBsZXQgdG1wTGluZSA9IG5ldyBMaW5lKDAsIDAsIDAsIDApO1xuICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgbGV0IHIyID0gYXIgKiBhcjtcblxuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcG9seS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICB0bXBMaW5lLmZyb21YID0gcG9seVtpIC0gMl07XG4gICAgICAgIHRtcExpbmUuZnJvbVkgPSBwb2x5W2kgLSAxXTtcbiAgICAgICAgdG1wTGluZS50b1ggPSBwb2x5W2ldO1xuICAgICAgICB0bXBMaW5lLnRvWSA9IHBvbHlbaSArIDFdO1xuXG4gICAgICAgIHRtcExpbmUucHJvamVjdFBvaW50KGFjLCB0bXBQb2ludCwgdHJ1ZSk7XG4gICAgICAgIGlmIChkaXN0U3F1YXJlZDJkKHRtcFBvaW50LngsIHRtcFBvaW50LnksIGFjLngsIGFjLnkpIDw9IHIyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBPYmJWc1BvbHlnb24ob2JiOiBPYmIsIHBvbHk6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgbGV0IHBvbHlBYWJiID0gQWFiYi56ZXJvKCk7XG4gICAgcG9seUFhYmIud3JhcFBvbHlnb24ocG9seSk7XG4gICAgLy8gRmFzdCBwYXRoXG4gICAgaWYgKCFvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIob2JiLCBwb2x5QWFiYikpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgICAgIGxldCBwID0ge1xuICAgICAgICAgICAgeDogb2JiLnJvdFZlcnRleFtpXSxcbiAgICAgICAgICAgIHk6IG9iYi5yb3RWZXJ0ZXhbaSArIDFdLFxuICAgICAgICB9O1xuICAgICAgICAvLyBJZiBhIHBvaW50IG9mIHRoZSBPQkIgaXMgaW5zaWRlIHRoZSBwb2x5Z29uIHRoZW4gd2UncmUgZG9uZVxuICAgICAgICBpZiAocG9seWdvblBvaW50SW50ZXJzZWN0KHAsIHBvbHkpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbHkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHAgPSB7XG4gICAgICAgICAgICB4OiBwb2x5W2ldLFxuICAgICAgICAgICAgeTogcG9seVtpICsgMV0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgYSBwb2ludCBvZiB0aGUgcG9seWdvbiBpcyBpbnNpZGUgdGhlIE9CQiB0aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgaWYgKG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQob2JiLCBwKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBvYmJMaW5lcyA9IFtcbiAgICAgICAgWzAsIDJdLFxuICAgICAgICBbMiwgNF0sXG4gICAgICAgIFs0LCA2XSxcbiAgICAgICAgWzYsIDBdXG4gICAgXTtcblxuICAgIC8vIENoZWNrIGxpbmUgaW50ZXJzZWN0aW9uc1xuICAgIGZvciAobGV0IGxpbmUgb2Ygb2JiTGluZXMpIHtcbiAgICAgICAgbGV0IG9iYkxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIG9iYi5yb3RWZXJ0ZXhbbGluZVswXV0sIG9iYi5yb3RWZXJ0ZXhbbGluZVswXSArIDFdLFxuICAgICAgICAgICAgb2JiLnJvdFZlcnRleFtsaW5lWzFdXSwgb2JiLnJvdFZlcnRleFtsaW5lWzFdICsgMV1cbiAgICAgICAgKVxuICAgICAgICBpZiAob3ZlcmxhcExpbmVWc1BvbHlnb24ob2JiTGluZSwgcG9seSkpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBMaW5lVnNQb2x5Z29uKGxpbmU6IExpbmUsIHBvbHk6IG51bWJlcltdKSB7XG4gICAgbGV0IHRvdExpbmVzID0gcG9seS5sZW5ndGggLSAyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90TGluZXM7IGkgKz0gMikge1xuICAgICAgICBsZXQgcG9sTGluZSA9IG5ldyBMaW5lKHBvbHlbaV0sIHBvbHlbaSsxXSwgcG9seVtpKzJdLCBwb2x5W2krM10pO1xuICAgICAgICBpZiAoaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChsaW5lLCBwb2xMaW5lKSA9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBwb2xMaW5lID0gbmV3IExpbmUocG9seVswXSwgcG9seVsxXSwgcG9seVtwb2x5Lmxlbmd0aC0yXSwgcG9seVtwb2x5Lmxlbmd0aC0xXSk7XG4gICAgcmV0dXJuIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobGluZSwgcG9sTGluZSkgPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVQb2ludEJ5T3JpZyhvOiBQSVhJLklQb2ludERhdGEsIHJvdDogbnVtYmVyLCBwOiBQSVhJLklQb2ludERhdGEpOiBQSVhJLlBvaW50IHtcbiAgICBsZXQgcyA9IE1hdGguc2luKC1yb3QpO1xuICAgIGxldCBjID0gTWF0aC5jb3MoLXJvdCk7XG5cbiAgICBsZXQgdHJhbnNYID0gcC54IC0gby54O1xuICAgIGxldCB0cmFuc1kgPSBwLnkgLSBvLnk7XG5cbiAgICByZXR1cm4gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICh0cmFuc1ggKiBjIC0gdHJhbnNZICogcykgKyBvLngsXG4gICAgICAgICh0cmFuc1ggKiBzICsgdHJhbnNZICogYykgKyBvLnlcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNQb2ludChvYmI6IE9iYiwgcDogUElYSS5JUG9pbnREYXRhKSB7XG4gICAgbGV0IHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50QnlPcmlnKG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCksIG9iYi5yb3RhdGlvbiwgcCk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc1BvaW50KG9iYi51bnJvdGF0ZWQsIHJvdGF0ZWRQb2ludCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZShvYmI6IE9iYiwgcG9zOiBQSVhJLklQb2ludERhdGEsIHJhZDogbnVtYmVyKSB7XG4gICAgbGV0IHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50QnlPcmlnKG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCksIG9iYi5yb3RhdGlvbiwgcG9zKTtcblxuICAgIHJldHVybiBvdmVybGFwQ2lyY2xlVnNBYWJiKHJvdGF0ZWRQb2ludCwgcmFkLCBvYmIudW5yb3RhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzTGluZShvYmI6IE9iYiwgbGluZTogTGluZSkge1xuICAgIGxldCBjZW50ZXIgPSBvYmIudW5yb3RhdGVkLmdldENlbnRlcigpO1xuICAgIGxldCByb3RGcm9tID0gcm90YXRlUG9pbnRCeU9yaWcoY2VudGVyLCBvYmIucm90YXRpb24sIHt4OiBsaW5lLmZyb21YLCB5OiBsaW5lLmZyb21ZfSk7XG4gICAgbGV0IHJvdFRvID0gcm90YXRlUG9pbnRCeU9yaWcoY2VudGVyLCBvYmIucm90YXRpb24sIHt4OiBsaW5lLnRvWCwgeTogbGluZS50b1l9KTtcblxuICAgIHJldHVybiBvdmVybGFwQWFiYlZzTGluZShvYmIudW5yb3RhdGVkLCBuZXcgTGluZShyb3RGcm9tLngsIHJvdEZyb20ueSwgcm90VG8ueCwgcm90VG8ueSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU9iYlBvaW50cyhhYWJiOiBBYWJiLCByb3Q6IG51bWJlciwgb3JpZ2luPzogUElYSS5JUG9pbnREYXRhKTogbnVtYmVyW10ge1xuICAgIGxldCByZXMgPSBuZXcgQXJyYXk8bnVtYmVyPig4KTtcblxuICAgIGxldCBvID0gb3JpZ2luIHx8IHtcbiAgICAgICAgeDogKGFhYmIubWluWCArIGFhYmIubWF4WCkgLyAyLFxuICAgICAgICB5OiAoYWFiYi5taW5ZICsgYWFiYi5tYXhZKSAvIDIsXG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGxldCBtaW5YID0gKGkgJiAxKTtcbiAgICAgICAgbGV0IG1pblkgPSAoaSAmIDIpID4+PiAxO1xuXG4gICAgICAgIGxldCBwID0gcm90YXRlUG9pbnRCeU9yaWcobywgcm90LCB7XG4gICAgICAgICAgICB4OiBtaW5YID8gYWFiYi5taW5YIDogYWFiYi5tYXhYLFxuICAgICAgICAgICAgeTogbWluWSA/IGFhYmIubWluWSA6IGFhYmIubWF4WSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc1tpICogMiAgICBdID0gcC54O1xuICAgICAgICByZXNbaSAqIDIgKyAxXSA9IHAueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYjogT2JiLCBhYWJiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgLy8gU2VwYXJhdGluZyBBeGlzIFRoZW9yZW1cbiAgICBsZXQgb3RoZXJBYWJiID0gQWFiYi56ZXJvKCk7XG5cbiAgICBvdGhlckFhYmIud3JhcFBvbHlnb24ob2JiLnJvdFZlcnRleCk7XG4gICAgaWYgKG92ZXJsYXBBYWJiVnNBYWJiKGFhYmIsIG90aGVyQWFiYikpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gQXBwbHkgdGhlIGludmVyc2UgdHJhbnNmb3JtIG9mIHRoZSBvYmIgdG8gdGhlIGFhYmJcbiAgICBsZXQgb3JpZ2luYWxJbnYgPSBjb21wdXRlT2JiUG9pbnRzKGFhYmIsIG9iYi5yb3RhdGlvbiwgb2JiLnVucm90YXRlZC5nZXRDZW50ZXIoKSk7XG5cbiAgICBvdGhlckFhYmIucmVzZXQoKTtcbiAgICBvdGhlckFhYmIud3JhcFBvbHlnb24ob3JpZ2luYWxJbnYpO1xuICAgIHJldHVybiBvdmVybGFwQWFiYlZzQWFiYihvYmIudW5yb3RhdGVkLCBvdGhlckFhYmIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNSb3RhdGVkUmVjdChvYmIxOiBPYmIsIG9iYjI6IE9iYik6IGJvb2xlYW4ge1xuICAgIGxldCBjZW50ZXIgPSBvYmIyLnVucm90YXRlZC5nZXRDZW50ZXIoKTtcbiAgICBsZXQgcmVzID0gb2JiMi51bnJvdGF0ZWQuY29weSgpO1xuICAgIHJlcy50cmFuc2xhdGUoLWNlbnRlci54LCAtY2VudGVyLnksIHJlcyk7XG5cbiAgICBsZXQgb2JiMyA9IE9iYi5yb3RhdGVBYWJiKHJlcywgb2JiMi5yb3RhdGlvbiAtIG9iYjEucm90YXRpb24pO1xuICAgIHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIob2JiMywgb2JiMS51bnJvdGF0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcExpbmVWc0NpcmNsZShsaW5lOiBMaW5lLCBwb2ludDogUElYSS5JUG9pbnREYXRhLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG5cbiAgICBpZiAoIWxpbmUucHJvamVjdFBvaW50KHBvaW50LCB0bXBQb2ludCwgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgZGlzdCA9IGRpc3RTcXVhcmVkMmQodG1wUG9pbnQueCwgdG1wUG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG4gICAgcmV0dXJuIGRpc3QgPCByYWRpdXMgKiByYWRpdXM7XG59XG5cbmV4cG9ydCBlbnVtIFNlZ21lbnRWc1NlZ21lbnRSZXMge1xuICAgIE5PTkUsIElOVEVSTiwgRURHRV9BLCBFREdFX0IgPSA0LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChhOiBMaW5lLCBiOiBMaW5lLCB0YXJnZXQ/OiBQb2ludCk6IFNlZ21lbnRWc1NlZ21lbnRSZXMge1xuICAgIGxldCBkZW4gPSAoYi50b1kgLSBiLmZyb21ZKSAqIChhLnRvWCAtIGEuZnJvbVgpIC1cbiAgICAgICAgICAgICAgKGIudG9YIC0gYi5mcm9tWCkgKiAoYS50b1kgLSBhLmZyb21ZKTtcblxuICAgIGlmIChkZW4gPT09IDApIHJldHVybiBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkU7IC8vIFBhcmFsbGVsIChvciBjb2luY2lkZW50KVxuXG4gICAgY29uc3QgcyA9IChcbiAgICAgICAgKGIudG9YIC0gYi5mcm9tWCkgKiAoYS5mcm9tWSAtIGIuZnJvbVkpIC1cbiAgICAgICAgKGIudG9ZIC0gYi5mcm9tWSkgKiAoYS5mcm9tWCAtIGIuZnJvbVgpXG4gICAgKSAvIGRlbjtcblxuICAgIGlmIChzIDwgLUVQU0lMT04gfHwgcyA+IDEgKyBFUFNJTE9OKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FO1xuXG4gICAgY29uc3QgdSA9IChcbiAgICAgICAgKGEudG9YIC0gYS5mcm9tWCkgKiAoYS5mcm9tWSAtIGIuZnJvbVkpIC1cbiAgICAgICAgKGEudG9ZIC0gYS5mcm9tWSkgKiAoYS5mcm9tWCAtIGIuZnJvbVgpXG4gICAgKSAvIGRlbjtcblxuICAgIGlmICh1IDwgLUVQU0lMT04gfHwgdSA+IDEgKyBFUFNJTE9OKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FO1xuXG4gICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldC5zZXQoXG4gICAgICAgICAgICBhLmZyb21YICsgcyAqIChhLnRvWCAtIGEuZnJvbVgpLFxuICAgICAgICAgICAgYS5mcm9tWSArIHMgKiAoYS50b1kgLSBhLmZyb21ZKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgZWRnZSA9IDA7XG4gICAgaWYgKHMgPCBFUFNJTE9OIHx8IHMgPiAxIC0gRVBTSUxPTikgZWRnZSB8PSBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQTtcbiAgICBpZiAodSA8IEVQU0lMT04gfHwgdSA+IDEgLSBFUFNJTE9OKSBlZGdlIHw9IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CO1xuICAgIHJldHVybiBlZGdlID09PSAwID8gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gOiBlZGdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJpYW5nbGVDb250YWluc1BvaW50KHA6IFN0dXBpZFBvaW50LCBwMDogU3R1cGlkUG9pbnQsIHAxOiBTdHVwaWRQb2ludCwgcDI6IFN0dXBpZFBvaW50KSB7XG4gICAgbGV0IEEgPSAxLzIgKiAoLXAxLnkgKiBwMi54ICsgcDAueSAqICgtcDEueCArIHAyLngpICsgcDAueCAqIChwMS55IC0gcDIueSkgKyBwMS54ICogcDIueSk7XG4gICAgbGV0IHNpZ24gPSBBIDwgMCA/IC0xIDogMTtcbiAgICBsZXQgcyA9IChwMC55ICogcDIueCAtIHAwLnggKiBwMi55ICsgKHAyLnkgLSBwMC55KSAqIHAueCArIChwMC54IC0gcDIueCkgKiBwLnkpICogc2lnbjtcbiAgICBsZXQgdCA9IChwMC54ICogcDEueSAtIHAwLnkgKiBwMS54ICsgKHAwLnkgLSBwMS55KSAqIHAueCArIChwMS54IC0gcDAueCkgKiBwLnkpICogc2lnbjtcblxuICAgIHJldHVybiBzIC0gRVBTSUxPTiA+IDAgJiYgdCAtIEVQU0lMT04gPiAwICYmIChzICsgdCkgPCAyICogQSAqIHNpZ24gLSBFUFNJTE9OO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGluZVNhbWVTbG9wZShheDogbnVtYmVyLCBheTogbnVtYmVyLCBieDogbnVtYmVyLCBieTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgLy8gV2UgbmVlZCB0byByZW1vdmUgZGl2aXNpb25zLCAodGhpcyBpcyBub3QgcmVhbCBjb2RlKVxuICAgIC8vIGF5IC8gYXggPT0gYnkgLyBieCAgPT0+IGF5ICogYnggPT0gYnkgKiBheFxuICAgIHJldHVybiBNYXRoLmFicyhheSAqIGJ4IC0gYnkgKiBheCkgPCBFUFNJTE9OO1xufVxuXG4iLCJcbi8vIEEgdmVyc2lvbiBoaWdobHkgaW5zcGlyZWQgYnkgcGxhbmsuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9zaGFraWJhL3BsYW5jay5qcy9ibG9iL2Y1Nzc3ODg0ZjUzN2RiOTc2MDhkODAxNmJkYTk2MGQyNTFkNDJkNGQvbGliL2NvbGxpc2lvbi9EeW5hbWljVHJlZS5qcylcblxuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge2NvbnRhaW5zQWFiYlZzQWFiYiwgb3ZlcmxhcEFhYmJWc0FhYmJ9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xuaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuY2xhc3MgVHJlZU5vZGU8VD4ge1xuICAgIGlkOiBudW1iZXI7XG4gICAgYWFiYiA9IEFhYmIuemVybygpO1xuICAgIHRhZz86IFQ7XG5cbiAgICBwYXJlbnQ/OiBUcmVlTm9kZTxUPjtcbiAgICBsZWZ0PzogVHJlZU5vZGU8VD47XG4gICAgcmlnaHQ/OiBUcmVlTm9kZTxUPjtcblxuICAgIGhlaWdodDogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZCArIFwiOiBcIiArIHRoaXMudGFnO1xuICAgIH1cblxuICAgIGlzTGVhZigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgRHluYW1pY1RyZWU8VD4ge1xuICAgIHJvb3Q/OiBUcmVlTm9kZTxUPjtcbiAgICBub2RlcyA9IG5ldyBNYXA8bnVtYmVyLCBUcmVlTm9kZTxUPj4oKTtcbiAgICBsYXN0UHJveHlJZDogbnVtYmVyID0gMDtcblxuICAgIGFhYmJFeHRlbnNpb246IG51bWJlcjtcbiAgICBhYWJiTXVsdGlwbGllcjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYWFiYkV4dGVuc2lvbjogbnVtYmVyID0gMC4xLCBhYWJiTXVsdGlwbGllcjogbnVtYmVyID0gMikge1xuICAgICAgICB0aGlzLmFhYmJFeHRlbnNpb24gPSBhYWJiRXh0ZW5zaW9uO1xuICAgICAgICB0aGlzLmFhYmJNdWx0aXBsaWVyID0gYWFiYk11bHRpcGxpZXI7XG4gICAgfVxuXG4gICAgZ2V0VGFnKGlkOiBudW1iZXIpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuZ2V0KGlkKT8udGFnO1xuICAgIH1cblxuICAgIHNldFRhZyhpZDogbnVtYmVyLCB0YWc6IFQpIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5nZXQoaWQpIS50YWcgPSB0YWc7XG4gICAgfVxuXG4gICAgZ2V0RmF0QWFiYihpZDogbnVtYmVyKTogQWFiYiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmdldChpZCk/LmFhYmI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhbGxvY2F0ZU5vZGUoKTogVHJlZU5vZGU8VD4ge1xuICAgICAgICBsZXQgbm9kZSA9IG5ldyBUcmVlTm9kZTxUPigrK3RoaXMubGFzdFByb3h5SWQpO1xuICAgICAgICB0aGlzLm5vZGVzLnNldChub2RlLmlkLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmcmVlTm9kZShub2RlOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLm5vZGVzLmRlbGV0ZShub2RlLmlkKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQcm94eShhYWJiOiBBYWJiLCB0YWc6IFQpOiBudW1iZXIge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuYWxsb2NhdGVOb2RlKCk7XG5cbiAgICAgICAgbm9kZS5hYWJiLmNvcHlGcm9tKGFhYmIpO1xuXG4gICAgICAgIC8vIEZhdHRlbiB0aGUgYWFiYlxuICAgICAgICBub2RlLmFhYmIuZXh0ZW5kKHRoaXMuYWFiYkV4dGVuc2lvbiwgbm9kZS5hYWJiKTtcblxuICAgICAgICBub2RlLnRhZyA9IHRhZztcbiAgICAgICAgbm9kZS5oZWlnaHQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0TGVhZihub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaWQ7XG4gICAgfVxuXG4gICAgZGVzdHJveVByb3h5KGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzLmdldChpZCkhO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlTGVhZihub2RlKTtcbiAgICAgICAgdGhpcy5mcmVlTm9kZShub2RlKTtcbiAgICB9XG5cbiAgICBtb3ZlUHJveHkoaWQ6IG51bWJlciwgYWFiYjogQWFiYiwgZDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzLmdldChpZCkhO1xuXG4gICAgICAgIGlmIChjb250YWluc0FhYmJWc0FhYmIobm9kZS5hYWJiLCBhYWJiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW1vdmVMZWFmKG5vZGUpO1xuICAgICAgICBub2RlLmFhYmIuY29weUZyb20oYWFiYik7XG5cbiAgICAgICAgLy8gRmF0dGVuXG4gICAgICAgIG5vZGUuYWFiYi5leHRlbmQodGhpcy5hYWJiRXh0ZW5zaW9uLCBub2RlLmFhYmIpO1xuXG4gICAgICAgIC8vIFByZWRpY3QgbW90aW9uXG4gICAgICAgIGlmICh0aGlzLmFhYmJNdWx0aXBsaWVyICE9PSAxKSB7XG4gICAgICAgICAgICBpZiAoZC54IDwgMCkgYWFiYi5taW5YICs9IGQueCAqIHRoaXMuYWFiYk11bHRpcGxpZXI7XG4gICAgICAgICAgICBlbHNlIGFhYmIubWF4WCArPSBkLnggKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICBpZiAoZC55IDwgMCkgYWFiYi5taW5ZICs9IGQueSAqIHRoaXMuYWFiYk11bHRpcGxpZXI7XG4gICAgICAgICAgICBlbHNlIGFhYmIubWF4WSArPSBkLnkgKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnNlcnRMZWFmKG5vZGUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0TGVhZihsZWFmOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGxlYWY7XG4gICAgICAgICAgICB0aGlzLnJvb3QucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlYWZBYWJiID0gbGVhZi5hYWJiO1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnJvb3Q7XG5cbiAgICAgICAgd2hpbGUgKCFpbmRleC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBpbmRleC5sZWZ0ITtcbiAgICAgICAgICAgIGxldCByaWdodCA9IGluZGV4LnJpZ2h0ITtcblxuICAgICAgICAgICAgbGV0IHBlciA9IGluZGV4LmFhYmIuZ2V0UGVyaW1ldGVyKCk7XG5cblxuICAgICAgICAgICAgbGV0IGNvbWJpbmVkQWFiYiA9IEFhYmIuemVybygpO1xuICAgICAgICAgICAgaW5kZXguYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBjb21iaW5lZEFhYmIpO1xuICAgICAgICAgICAgbGV0IGNvbWJpbmVkUGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuXG4gICAgICAgICAgICBsZXQgY29zdCA9IGNvbWJpbmVkUGVyICogMjtcblxuICAgICAgICAgICAgbGV0IGluaGVyaXRhbmNlQ29zdCA9IChjb21iaW5lZFBlciAtIHBlcikgKiAyO1xuXG4gICAgICAgICAgICBsZXQgY29zdExlZnQ7XG4gICAgICAgICAgICBpZiAobGVmdC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIGxlZnQuYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBjb21iaW5lZEFhYmIpO1xuICAgICAgICAgICAgICAgIGNvc3RMZWZ0ID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWZ0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkUGVyaW1ldGVyID0gbGVmdC5hYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdQZXJpbWV0ZXIgPSBjb21iaW5lZEFhYmIuZ2V0UGVyaW1ldGVyKCk7XG4gICAgICAgICAgICAgICAgY29zdExlZnQgPSAobmV3UGVyaW1ldGVyIC0gb2xkUGVyaW1ldGVyKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNvc3RSaWdodDtcbiAgICAgICAgICAgIGlmIChyaWdodC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBjb3N0UmlnaHQgPSBjb21iaW5lZEFhYmIuZ2V0UGVyaW1ldGVyKCkgKyBpbmhlcml0YW5jZUNvc3Q7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJpZ2h0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkUGVyaW1ldGVyID0gcmlnaHQuYWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyaW1ldGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGNvc3RSaWdodCA9IChuZXdQZXJpbWV0ZXIgLSBvbGRQZXJpbWV0ZXIpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29zdCA8IGNvc3RMZWZ0ICYmIGNvc3QgPCBjb3N0UmlnaHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvc3RMZWZ0IDwgY29zdFJpZ2h0KSBpbmRleCA9IGxlZnQ7XG4gICAgICAgICAgICBlbHNlIGluZGV4ID0gcmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2libGluZyA9IGluZGV4O1xuICAgICAgICBsZXQgb2xkUGFyZW50ID0gc2libGluZy5wYXJlbnQ7XG4gICAgICAgIGxldCBuZXdQYXJlbnQgPSB0aGlzLmFsbG9jYXRlTm9kZSgpO1xuXG4gICAgICAgIG5ld1BhcmVudC5wYXJlbnQgPSBvbGRQYXJlbnQ7XG4gICAgICAgIHNpYmxpbmcuYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBuZXdQYXJlbnQuYWFiYik7XG4gICAgICAgIG5ld1BhcmVudC5oZWlnaHQgPSBzaWJsaW5nLmhlaWdodCArIDE7XG5cbiAgICAgICAgaWYgKG9sZFBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGUgc2libGluZyB3YXMgbm90IHRoZSByb290XG4gICAgICAgICAgICBpZiAob2xkUGFyZW50LmxlZnQgPT09IHNpYmxpbmcpIG9sZFBhcmVudC5sZWZ0ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRQYXJlbnQucmlnaHQgPSBuZXdQYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGUgc2libGluZyB3YXMgdGhlIHJvb3RcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5ld1BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBuZXdQYXJlbnQubGVmdCA9IHNpYmxpbmc7XG4gICAgICAgIG5ld1BhcmVudC5yaWdodCA9IGxlYWY7XG4gICAgICAgIHNpYmxpbmcucGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICBsZWFmLnBhcmVudCA9IG5ld1BhcmVudDtcblxuICAgICAgICAvLyBXYWxrIGJhY2sgdXAgZml4aW5nIGhlaWdodHMgYW5kIEFBQkJzXG4gICAgICAgIGluZGV4ID0gbGVhZi5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYmFsYW5jZShpbmRleCk7XG5cbiAgICAgICAgICAgIGluZGV4LmhlaWdodCA9IDEgKyBNYXRoLm1heChpbmRleC5sZWZ0IS5oZWlnaHQsIGluZGV4LnJpZ2h0IS5oZWlnaHQpO1xuICAgICAgICAgICAgaW5kZXgubGVmdCEuYWFiYi5jb21iaW5lKGluZGV4LnJpZ2h0IS5hYWJiLCBpbmRleC5hYWJiKTtcblxuICAgICAgICAgICAgaW5kZXggPSBpbmRleC5wYXJlbnQhO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVMZWFmKGxlYWY6IFRyZWVOb2RlPFQ+KTogdm9pZCB7XG4gICAgICAgIGlmIChsZWFmID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJlbnQgPSBsZWFmLnBhcmVudCE7XG4gICAgICAgIGxldCBncmFuZFBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIGxldCBzaWJsaW5nO1xuICAgICAgICBpZiAocGFyZW50LmxlZnQgPT09IGxlYWYpIHNpYmxpbmcgPSBwYXJlbnQucmlnaHQhO1xuICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQubGVmdCE7XG5cbiAgICAgICAgaWYgKGdyYW5kUGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIERlc3Ryb3kgcGFyZW50IGFuZCBjb25uZWN0IHNpYmxpbmcgdG8gZ3JhbmRQYXJlbnRcbiAgICAgICAgICAgIGlmIChncmFuZFBhcmVudC5sZWZ0ID09PSBwYXJlbnQpIGdyYW5kUGFyZW50LmxlZnQgPSBzaWJsaW5nO1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbmRQYXJlbnQucmlnaHQgPSBzaWJsaW5nO1xuXG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IGdyYW5kUGFyZW50O1xuICAgICAgICAgICAgdGhpcy5mcmVlTm9kZShwYXJlbnQpO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgYW5jZXN0b3IgYm91bmRzXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBncmFuZFBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJhbGFuY2UoaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaW5kZXgubGVmdCEuYWFiYi5jb21iaW5lKGluZGV4LnJpZ2h0IS5hYWJiLCBpbmRleC5hYWJiKTtcbiAgICAgICAgICAgICAgICBpbmRleC5oZWlnaHQgPSAxICsgTWF0aC5tYXgoaW5kZXgubGVmdCEuaGVpZ2h0LCBpbmRleC5yaWdodCEuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXgucGFyZW50ITtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZnJlZU5vZGUocGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYSByb3RhdGlvbiBpZiBjdXJyZW50IG5vZGUgaXMgaW1iYWxhbmNlZCwgcmV0dXJucyB0aGUgbmV3IHN1Yi10cmVlIHJvb3QuXG4gICAgICogQHBhcmFtIGN1cnJlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgYmFsYW5jZShjdXJyZW50OiBUcmVlTm9kZTxUPik6IFRyZWVOb2RlPFQ+IHtcbiAgICAgICAgbGV0IGEgPSBjdXJyZW50O1xuXG4gICAgICAgIGlmIChhLmlzTGVhZigpIHx8IGEuaGVpZ2h0IDwgMikgcmV0dXJuIGE7XG5cbiAgICAgICAgbGV0IGIgPSBhLmxlZnQhO1xuICAgICAgICBsZXQgYyA9IGEucmlnaHQhO1xuXG4gICAgICAgIGxldCBiYWxhbmNlID0gYy5oZWlnaHQgLSBiLmhlaWdodDtcblxuICAgICAgICAvLyBSb3RhdGUgQyB1cFxuICAgICAgICBpZiAoYmFsYW5jZSA+IDEpIHtcbiAgICAgICAgICAgIGxldCBmID0gYy5sZWZ0ITtcbiAgICAgICAgICAgIGxldCBnID0gYy5yaWdodCE7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgYSBhbmQgY1xuICAgICAgICAgICAgYy5sZWZ0ID0gYTtcbiAgICAgICAgICAgIGMucGFyZW50ID0gYS5wYXJlbnQ7XG4gICAgICAgICAgICBhLnBhcmVudCA9IGM7XG5cbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHNob3VsZCBwb2ludCB0byBjXG4gICAgICAgICAgICBpZiAoYy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChjLnBhcmVudC5sZWZ0ID09PSBhKSBjLnBhcmVudC5sZWZ0ID0gYztcbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgYy5wYXJlbnQucmlnaHQgPSBjO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBjO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSb3RhdGVcbiAgICAgICAgICAgIGlmIChmLmhlaWdodCA+IGcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYy5yaWdodCA9IGY7XG4gICAgICAgICAgICAgICAgYS5yaWdodCA9IGc7XG4gICAgICAgICAgICAgICAgZy5wYXJlbnQgPSBhO1xuICAgICAgICAgICAgICAgIGIuYWFiYi5jb21iaW5lKGcuYWFiYiwgYS5hYWJiKTtcbiAgICAgICAgICAgICAgICBhLmFhYmIuY29tYmluZShmLmFhYmIsIGMuYWFiYik7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChiLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGYucGFyZW50ID0gYTtcbiAgICAgICAgICAgICAgICBiLmFhYmIuY29tYmluZShmLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZy5hYWJiLCBjLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYi5oZWlnaHQsIGYuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYWxhbmNlIDwgLTEpIHtcbiAgICAgICAgICAgIGxldCBkID0gYi5sZWZ0ITtcbiAgICAgICAgICAgIGxldCBlID0gYi5yaWdodCE7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgYSBhbmQgYlxuICAgICAgICAgICAgYi5sZWZ0ID0gYTtcbiAgICAgICAgICAgIGIucGFyZW50ID0gYS5wYXJlbnQ7XG4gICAgICAgICAgICBhLnBhcmVudCA9IGI7XG5cbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHNob3VsZCBwb2ludCB0byBiXG4gICAgICAgICAgICBpZiAoYi5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChiLnBhcmVudC5sZWZ0ID09PSBhKSBiLnBhcmVudC5sZWZ0ID0gYjtcbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgYi5wYXJlbnQucmlnaHQgPSBiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSb3RhdGVcbiAgICAgICAgICAgIGlmIChkLmhlaWdodCA+IGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYi5yaWdodCA9IGQ7XG4gICAgICAgICAgICAgICAgYS5sZWZ0ID0gZTtcbiAgICAgICAgICAgICAgICBlLnBhcmVudCA9IGE7XG5cbiAgICAgICAgICAgICAgICBjLmFhYmIuY29tYmluZShlLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZC5hYWJiLCBiLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYy5oZWlnaHQsIGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBiLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZC5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiLnJpZ2h0ID0gZTtcbiAgICAgICAgICAgICAgICBhLmxlZnQgPSBkO1xuICAgICAgICAgICAgICAgIGQucGFyZW50ID0gYTtcblxuICAgICAgICAgICAgICAgIGMuYWFiYi5jb21iaW5lKGQuYWFiYiwgYS5hYWJiKTtcbiAgICAgICAgICAgICAgICBhLmFhYmIuY29tYmluZShlLmFhYmIsIGIuYWFiYik7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChjLmhlaWdodCwgZC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGIuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBlLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgKnF1ZXJ5KGFhYmI6IEFhYmIpOiBHZW5lcmF0b3I8VHJlZU5vZGU8VD4+IHtcbiAgICAgICAgbGV0IHN0YWNrID0gbmV3IEFycmF5PFRyZWVOb2RlPFQ+PigpO1xuXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTdGFydGluZyBxdWVyeTogXCIgKyBhYWJiLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIHN0YWNrLnB1c2godGhpcy5yb290KTtcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gc3RhY2sucG9wKCkhO1xuXG4gICAgICAgICAgICBsZXQgb3ZlcmxhcCA9IG92ZXJsYXBBYWJiVnNBYWJiKG5vZGUuYWFiYiwgYWFiYik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiVmlzaXQ6IFwiICsgbm9kZS5pZCArIFwiID0gXCIgKyBvdmVybGFwKTtcbiAgICAgICAgICAgIGlmICghb3ZlcmxhcCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlzTGVhZigpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLmxlZnQhKTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucmlnaHQhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIExpbmUge1xuICAgIGZyb21YOiBudW1iZXI7XG4gICAgZnJvbVk6IG51bWJlcjtcbiAgICB0b1g6IG51bWJlcjtcbiAgICB0b1k6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5mcm9tWCA9IGZ4O1xuICAgICAgICB0aGlzLmZyb21ZID0gZnk7XG4gICAgICAgIHRoaXMudG9YID0gdHg7XG4gICAgICAgIHRoaXMudG9ZID0gdHk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2UoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy50b1ggLSB0aGlzLmZyb21YO1xuICAgICAgICBsZXQgZHkgPSB0aGlzLnRvWSAtIHRoaXMuZnJvbVk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cblxuICAgIGRpc3RhbmNlU3F1YXJlZCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZHggPSB0aGlzLnRvWCAtIHRoaXMuZnJvbVg7XG4gICAgICAgIGxldCBkeSA9IHRoaXMudG9ZIC0gdGhpcy5mcm9tWTtcbiAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuICAgIH1cblxuICAgIHByb2plY3RQb2ludChwOiBQSVhJLklQb2ludERhdGEsIHRhcmdldDogUG9pbnQsIGlnbm9yZVZhbGlkOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZnJvbVggPT09IHRoaXMudG9YICYmIHRoaXMuZnJvbVkgPT09IHRoaXMudG9ZKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB1ID0gKChwLnggLSB0aGlzLmZyb21YKSAqICh0aGlzLnRvWCAtIHRoaXMuZnJvbVgpKSArXG4gICAgICAgICAgICAgICAgKChwLnkgLSB0aGlzLmZyb21ZKSAqICh0aGlzLnRvWSAtIHRoaXMuZnJvbVkpKTtcblxuICAgICAgICBsZXQgdWRlbm9tID0gdGhpcy5kaXN0YW5jZVNxdWFyZWQoKTtcblxuICAgICAgICB1IC89IHVkZW5vbTtcblxuICAgICAgICBsZXQgcnggPSB0aGlzLmZyb21YICsgdSAqICh0aGlzLnRvWCAtIHRoaXMuZnJvbVgpO1xuICAgICAgICBsZXQgcnkgPSB0aGlzLmZyb21ZICsgdSAqICh0aGlzLnRvWSAtIHRoaXMuZnJvbVkpO1xuXG4gICAgICAgIGlmIChpZ25vcmVWYWxpZCkge1xuICAgICAgICAgICAgdGFyZ2V0LnNldChyeCwgcnkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWlueCA9IHRoaXMuZnJvbVgsIG1heHggPSB0aGlzLnRvWDtcbiAgICAgICAgbGV0IG1pbnkgPSB0aGlzLmZyb21ZLCBtYXh5ID0gdGhpcy50b1k7XG5cbiAgICAgICAgaWYgKG1pbnggPiBtYXh4KSBbbWlueCwgbWF4eF0gPSBbbWF4eCwgbWlueF07XG4gICAgICAgIGlmIChtaW55ID4gbWF4eSkgW21pbnksIG1heHldID0gW21heHksIG1pbnldO1xuXG4gICAgICAgIGxldCBpc1ZhbGlkID0gKHJ4ID49IG1pbnggJiYgcnggPD0gbWF4eCkgJiYgKHJ5ID49IG1pbnkgJiYgcnkgPD0gbWF4eSk7XG5cbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRhcmdldC5zZXQocngsIHJ5KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29weSgpOiBMaW5lIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lKFxuICAgICAgICAgICAgdGhpcy5mcm9tWCwgdGhpcy5mcm9tWSxcbiAgICAgICAgICAgIHRoaXMudG9YLCB0aGlzLnRvWVxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQge0FhYmJ9IGZyb20gXCIuL2FhYmJcIjtcbmltcG9ydCB7Y29tcHV0ZU9iYlBvaW50c30gZnJvbSBcIi4vY29sbGlzaW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBPYmIge1xuICAgIHVucm90YXRlZDogQWFiYjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xuICAgIHJvdFZlcnRleDogQXJyYXk8bnVtYmVyPjtcblxuICAgIGNvbnN0cnVjdG9yKHVucm90YXRlZDogQWFiYiwgcm90YXRpb246IG51bWJlciwgcm90VmVydGV4OiBBcnJheTxudW1iZXI+KSB7XG4gICAgICAgIHRoaXMudW5yb3RhdGVkID0gdW5yb3RhdGVkO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMucm90VmVydGV4ID0gcm90VmVydGV4O1xuICAgIH1cblxuICAgIHJlY29tcHV0ZSgpIHtcbiAgICAgICAgdGhpcy5yb3RWZXJ0ZXggPSBjb21wdXRlT2JiUG9pbnRzKHRoaXMudW5yb3RhdGVkLCB0aGlzLnJvdGF0aW9uKTtcbiAgICB9XG5cbiAgICBjb3B5KCk6IE9iYiB7XG4gICAgICAgIHJldHVybiBuZXcgT2JiKHRoaXMudW5yb3RhdGVkLmNvcHkoKSwgdGhpcy5yb3RhdGlvbiwgWy4uLnRoaXMucm90VmVydGV4XSk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcm90YXRlQWFiYihhYWJiOiBBYWJiLCByb3Q6IG51bWJlcik6IE9iYiB7XG4gICAgICAgIGlmIChyb3QgPT09IDApIHJldHVybiB0aGlzLmZyb21BYWJiKGFhYmIpO1xuICAgICAgICByZXR1cm4gbmV3IE9iYihhYWJiLCByb3QsIGNvbXB1dGVPYmJQb2ludHMoYWFiYiwgcm90KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21BYWJiKGFhYmI6IEFhYmIpOiBPYmIge1xuICAgICAgICBsZXQgcG9pbnRzID0gW1xuICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1pblksXG4gICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5tYXhZLFxuICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1pbllcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmIoYWFiYiwgMCwgcG9pbnRzKTtcbiAgICB9XG59IiwiaW1wb3J0IHtQb2ludCwgU3R1cGlkUG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7aW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCwgU2VnbWVudFZzU2VnbWVudFJlcywgdHJpYW5nbGVDb250YWluc1BvaW50fSBmcm9tIFwiLi9jb2xsaXNpb25cIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgaW50ZXJzZWN0TGluZVZzTGluZX0gZnJvbSBcIi4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7QmluYXJ5SGVhcH0gZnJvbSBcIi4uL3V0aWwvYmluYXJ5SGVhcFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuXG5leHBvcnQgY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAwMTtcblxuY2xhc3MgRW5kUG9pbnQgZXh0ZW5kcyBQSVhJLlBvaW50IHtcbiAgICBhbmdsZTogbnVtYmVyID0gMDtcbiAgICBkaXN0OiBudW1iZXIgPSAwO1xuICAgIHNlZ21lbnQ/OiBTZWdtZW50O1xufVxuXG5jbGFzcyBTZWdtZW50IHtcbiAgICBmcm9tOiBFbmRQb2ludDtcbiAgICB0bzogRW5kUG9pbnQ7XG4gICAgdXNlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGY6IEVuZFBvaW50LCB0OiBFbmRQb2ludCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmO1xuICAgICAgICB0aGlzLnRvID0gdDtcbiAgICAgICAgdGhpcy51c2VkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBhIDwgYlxuZnVuY3Rpb24gc2VnbWVudEx0KGE6IFNlZ21lbnQsIGI6IFNlZ21lbnQsIG86IFN0dXBpZFBvaW50KTogYm9vbGVhbiB7XG4gICAgLy8gKm9wZW5zIHBoaWxvc29waHkgYm9vaypcbiAgICAvLyBCdXQgd2hhdCBkb2VzIGl0IG1lYW4gZm9yIGEgc2VnbWVudCB0byBiZSBsZXNzIHRoYW4gYW5vdGhlciBvbmU/IChyZWxhdGl2ZSB0byBhIHBvaW50KVxuICAgIC8vIFRoZXJlIGFyZSBtdWx0aXBsZSBhbGdvcml0aG1zIGZvciB0aGlzLCB0aGUgb25lIHRoYXQgbWFrZXMgbW9zdCBzZW5zZSB0byBtZSBpcyB3aGF0IEkgY2FsbCB0aGVcbiAgICAvLyB0cmlhbmd1bGFyIGludGVyc2VjdGlvbjpcbiAgICAvLyBHaXZlbiB0d28gc2VnbWVudHMgYSwgYiBhbmQgYSBwb2ludCBvIHdlIGRlZmluZSBhIDwgYiA9PSB0cnVlIG9ubHkgaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHBvaW50IGluIGIgdGhhdFxuICAgIC8vIGlzIGhpZGRlbiBieSBhLlxuICAgIC8vIEZvciBldmVyeSBzZWdtZW50IHRoZW4gdGhlIHByb3BlcnR5IGEgPCBiID0+ICEoYiA8IGEpIGlzIG1haW50YWluZWQgb25seSBpZiB0aGUgc2VnbWVudHMgZG8gbm90IGludGVyc2VjdFxuICAgIC8vIChhcyB0aGUgb25seSB3YXkgdGhhdCB0d28gbGluZXMgd291bGQgaGlkZSBlYWNoIG90aGVyIGlzIGlmIHRoZXkgbWVldCBpbiBhIHBvaW50KS5cbiAgICAvLyBPbiBhbm90aGVyIG5vdGUsIHRoZSBwcm9wZXJ0eSBhIDwgYiwgYiA8IGMgPT4gYSA8IGMgaXMgbm90IG1haW50YWluZWQhXG4gICAgLy8gSG93IGNhbiB0aGlzIGJlIGNvbXB1dGVkLCB0aGVuP1xuXG4gICAgLy8gYS5mcm9tIGlzIGluc2lkZSB0aGUgdHJpYW5nbGUgZm9ybWVkIGJ5IGIgYW5kIG8sIHRoaXMgbWVhbnM6XG4gICAgLy8gLSBhLnRvIGlzIGFsc28gaW5zaWRlLCB0aGVuIGEgPCBiXG4gICAgLy8gLSBhLnRvIGlzIG91dHNpZGUsIHRoZW4gYSA8IGJcbiAgICBpZiAodHJpYW5nbGVDb250YWluc1BvaW50KGEuZnJvbSwgYi5mcm9tLCBiLnRvLCBvKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHRyaWFuZ2xlQ29udGFpbnNQb2ludChhLnRvLCBiLmZyb20sIGIudG8sIG8pKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIElmIHdlIGFycml2ZSBoZXJlIHdlIGNhbiBiZSBzdXJlIHRoYXQgbmVpdGhlciBwb2ludHMgb2YgYSBpcyBpbnNpZGUgdGhlIHRyaWFuZ2xlLFxuICAgIC8vIEEgc2VnbWVudCB3aXRoIGJvdGggcG9pbnRzIG91dHNpZGUgb2YgdGhlIHRyaWFuZ2xlIGNhbiBpbnRlcnNlY3QgaXQgb25seSBieSBpbnRlcnNlY3RpbmcgdHdvIG9mIHRoZSB0aHJlZVxuICAgIC8vIGxpbmVzLiBXZSBhbHJlYWR5IGFzc3VtZSB0aGF0IGEgYW5kIGIgY2Fubm90IGludGVyc2VjdCBzbyB3ZSBjYW4gY2hlY2sgZWl0aGVyIChiLmZyb20sIG8pIG9yIChiLnRvLCBvKSBhbmQgc2VlXG4gICAgLy8gaWYgaXQgaW50ZXJzZWN0cyB3aXRoIGFcblxuICAgIGxldCBjMSA9IGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoXG4gICAgICAgIG5ldyBMaW5lKGIuZnJvbS54LCBiLmZyb20ueSwgby54LCBvLnkpLFxuICAgICAgICBuZXcgTGluZShhLmZyb20ueCwgYS5mcm9tLnksIGEudG8ueCwgYS50by55KVxuICAgICk7XG4gICAgaWYgKGMxID09PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG5cbiAgICBsZXQgYzIgPSBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KFxuICAgICAgICBuZXcgTGluZShiLnRvLngsIGIudG8ueSwgby54LCBvLnkpLFxuICAgICAgICBuZXcgTGluZShhLmZyb20ueCwgYS5mcm9tLnksIGEudG8ueCwgYS50by55KVxuICAgICk7XG4gICAgaWYgKGMyID09PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG5cblxuICAgIC8vIEVkZ2UgY2FzZTogb25lIG9mIHRoZSBlbmQgcG9pbnRzIG9mIHRoZSBzZWNvbmQgbGluZSAodGhlIHNlZ21lbnQgYSkgbGllc1xuICAgIC8vIGluIHRoZSBsaW5lIChiLmZyb20sIG8pLCB0aGlzIG1pZ2h0IG1lYW4gdHdvIHRoaW5nczpcbiAgICAvLyAxOiB0aGUgbGluZSBzaGFyZXMgYSBwb2ludCBidXQgZG9lcyBub3QgYmxvY2sgdGhlIHNlY29uZCBzZWdtZW50J3Mgdmlld1xuICAgIC8vIDI6IHRoZSBsaW5lIHNoYXJlcyBhIHBvaW50IGFuZCB0aGUgb3RoZXIgcG9pbnQgYmxvY2tzIHRoZSB3aG9sZSB2aWV3IChoaXR0aW5nIHRoZSBvdGhlciB0cmlhbmdsZSBsaW5lKVxuICAgIC8vIHdlIHdhbnQgdG8gY2hlY2sgdGhlIHNlY29uZCBjYXNlLCBzbyBsZXQncyB0cnkgdGhlIHNlY29uZCBzZWdtZW50IGludGVyc2VjdFxuICAgIGlmICgoYzEgJiBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQikgIT09IDAgJiYgYzIgIT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKChjMiAmIFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CKSAhPT0gMCAmJiBjMSAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEVkZ2UgY2FzZSBuLjIgKEknbSBraW5kYSBoYXRpbmcgb24gZ3JpZHMpXG4gICAgLy8gVGhlIHNlZ21lbnQgYSBjb3VsZCBsYXkgYSBwb2ludCBvbiB0aGUgbGluZSBiZXR3ZWVuIChiLmZyb20vdG8sIG8pIGFuZCB0aGUgb3RoZXIgaW4gYlxuICAgIC8vIEVkZ2UgY2FzZSBvZiB0aGUgZWRnZSBjYXNlOiBJZiB0aGUgc2VnbWVudCBpcyBpbiBhbnkgb2YgdGhlIGVuZHBvaW50cyBvZiBiIHRoZW4gaXQgZG9lcyBub3Qgb2NjbHVkZSB0aGUgdmlld1xuICAgIGlmICgoKGMxIHwgYzIpICYgKFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CIHwgU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0EpKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0IpIHtcbiAgICAgICAgbGV0IGMzID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChcbiAgICAgICAgICAgIG5ldyBMaW5lKGIuZnJvbS54LCBiLmZyb20ueSwgYi50by54LCBiLnRvLnkpLFxuICAgICAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGMzICE9PSBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkUpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbWVhbnMgYSA+PSBiXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbml0U2VnbWVudCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwb3M6IFN0dXBpZFBvaW50KTogU2VnbWVudCB7XG4gICAgbGV0IGEgPSBuZXcgRW5kUG9pbnQoeDEsIHkxKTtcbiAgICBsZXQgYiA9IG5ldyBFbmRQb2ludCh4MiwgeTIpO1xuXG4gICAgYS5hbmdsZSA9IE1hdGguYXRhbjIocG9zLnkgLSBhLnksIHBvcy54IC0gYS54KTtcbiAgICBiLmFuZ2xlID0gTWF0aC5hdGFuMihwb3MueSAtIGIueSwgcG9zLnggLSBiLngpO1xuICAgIGEuZGlzdCA9IGRpc3RTcXVhcmVkMmQocG9zLngsIHBvcy55LCBhLngsIGEueSk7XG4gICAgYi5kaXN0ID0gZGlzdFNxdWFyZWQyZChwb3MueCwgcG9zLnksIGIueCwgYi55KTtcblxuICAgIGxldCBzID0gbmV3IFNlZ21lbnQoYSwgYik7XG4gICAgYS5zZWdtZW50ID0gcztcbiAgICBiLnNlZ21lbnQgPSBzO1xuXG4gICAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGUwKHBvczogU3R1cGlkUG9pbnQsIHNlZ21lbnRzOiBTZWdtZW50W10pOiBBcnJheTxudW1iZXI+IHtcbiAgICBsZXQgcG9pbnRzID0gbmV3IEFycmF5PEVuZFBvaW50PigpO1xuICAgIGZvciAobGV0IHMgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgcG9pbnRzLnB1c2gocy5mcm9tLCBzLnRvKTtcbiAgICB9XG5cbiAgICAvLyBPKE5sb2coTikpXG4gICAgcG9pbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGEuYW5nbGUgLSBiLmFuZ2xlO1xuICAgIH0pO1xuXG4gICAgbGV0IHNlZ21lbnRQcmlvcml0eVF1ZXVlID0gbmV3IEJpbmFyeUhlYXA8U2VnbWVudD4oKGEsIGIpID0+IHNlZ21lbnRMdChhLCBiLCBwb3MpKTtcblxuICAgIC8vIFBvcHVsYXRlIHRoZSBwcmlvcml0eSBxdWV1ZSBPKE5sb2coTikpXG4gICAgLy8gVGhlIHByaW9yaXR5IHF1ZXVlIHNob3VsZCBhbHJlYWR5IGhhdmUgYWxsIHRoZSBzZWdtZW50IGl0IGNvbGxpZGVzIHdpdGgsIGJ1dCBkbyBub3QgZmVhciBhc1xuICAgIC8vIHRoZSBtYXRoIGlzIHF1aXRlIHNpbXBsZSBhbmQgc3RyYWlnaHRmb3J3YXJkOlxuICAgIC8vIFdlIHNob3VsZCBjaGVjayB0aGF0IHRoZSBzZWdtZW50IGNvbGxpZGVzIHdpdGggdGhlIGxpbmUgdGhhdCBzdGFydHMgYXQgcG9zIGFuZCBoYXMgYW5nbGUgPSAtTWF0aC5QSS5cbiAgICAvLyBUbyBkbyB0aGF0IHdlIGNhbiBqdXN0IGNoZWNrIHRoZSBhbmdsZXMgb2YgdGhlIHR3byBlbmRwb2ludHMgKGRyYXcgaXQgaW4gYSBwaWVjZSBvZiBwYXBlciwgaXQncyBlYXNpZXIgaWYgc2hvd24pLlxuICAgIGZvciAobGV0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgbGV0IGZhID0gc2VnbWVudC5mcm9tLmFuZ2xlO1xuICAgICAgICBsZXQgdGEgPSBzZWdtZW50LnRvLmFuZ2xlO1xuXG4gICAgICAgIGxldCBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpc0FjdGl2ZSB8fD0gZmEgPD0gMCAmJiB0YSA+PSAwICYmIHRhIC0gZmEgPiBNYXRoLlBJO1xuICAgICAgICBpc0FjdGl2ZSB8fD0gdGEgPD0gMCAmJiBmYSA+PSAwICYmIGZhIC0gdGEgPiBNYXRoLlBJO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgbGV0IHBvbHlnb24gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOykge1xuICAgICAgICAvLyBFeHRlbmQgc2lnbmFscyB0aGF0IHRoZSBmaXJzdCBzZWdtZW50IGhhcyBlbmRlZFxuICAgICAgICAvLyB3ZSBzaG91bGQgdGhlbiBleHRlbmQgdGhlIHBvbHlnb24gdG8gdGhlIG5ldyBmaXJzdCB2aXNpYmxlIHNlZ21lbnQuXG4gICAgICAgIGxldCBleHRlbmQgPSBmYWxzZTtcblxuICAgICAgICBsZXQgb3JpZyA9IGk7Ly8gVGhlIG9yaWdpbmFsIHBvaW50IGluZGV4XG4gICAgICAgIGxldCB2ZXJ0ZXggPSBwb2ludHNbaV07XG4gICAgICAgIGxldCBvbGRTZWdtZW50ID0gc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpITtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZXQgY3VyclNlZ21lbnQgPSBwb2ludHNbaV0uc2VnbWVudCFcbiAgICAgICAgICAgIGlmIChzZWdtZW50UHJpb3JpdHlRdWV1ZS5oYXNFbGVtKGN1cnJTZWdtZW50KSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyU2VnbWVudCA9PT0gb2xkU2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXggPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBvcEVsZW0oY3VyclNlZ21lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wdXNoKGN1cnJTZWdtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPT09IHBvaW50cy5sZW5ndGgpIGJyZWFrO1xuICAgICAgICB9IHdoaWxlIChwb2ludHNbaV0uYW5nbGUgPCBwb2ludHNbb3JpZ10uYW5nbGUgKyBFUFNJTE9OKTtcblxuICAgICAgICBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wZWVrKCkhLnVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoZXh0ZW5kKSB7XG4gICAgICAgICAgICAvLyBWZXJ0ZXggaXMgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBvbGQgc2VnbWVudCwgd2UgbmVlZCB0byBwdXNoIHRoaXMgcmlnaHQgYXdheVxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHZlcnRleC54LCB2ZXJ0ZXgueSk7XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICAgICAgbGV0IGZpcnN0U2VnID0gc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpITtcbiAgICAgICAgICAgIGludGVyc2VjdExpbmVWc0xpbmUoZmlyc3RTZWcuZnJvbSwgZmlyc3RTZWcudG8sIHBvcywgdmVydGV4LCBwb2ludCk7XG4gICAgICAgICAgICBpZiAoIShNYXRoLmFicyhwb2ludC54IC0gdmVydGV4LngpIDwgRVBTSUxPTiAmJiBNYXRoLmFicyhwb2ludC55IC0gdmVydGV4LnkpIDwgRVBTSUxPTikpIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uLnB1c2gocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpICE9IG9sZFNlZ21lbnQpIHtcbiAgICAgICAgICAgIC8vIEEgbmV3IHNlZ21lbnQgaGFzIGhpZGRlbiB0aGUgb2xkIGZpcnN0IHNlZ21lbnQuXG4gICAgICAgICAgICAvLyBGaXJzdCBjb21wdXRlIHdoZXJlIHRoZSBvbGQgc2VnbWVudCBoYXMgYmVlbiBoaWRkZW4sIGFuZCBwdXNoIHRoYXQgcG9pbnQgdG8gdGhlIHBvbHlnb25cbiAgICAgICAgICAgIGxldCBwb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgICAgICAgICBpbnRlcnNlY3RMaW5lVnNMaW5lKG9sZFNlZ21lbnQuZnJvbSwgb2xkU2VnbWVudC50bywgcG9zLCB2ZXJ0ZXgsIHBvaW50KTtcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChwb2ludC54LCBwb2ludC55KTtcblxuICAgICAgICAgICAgLy8gVGhlbiBjb21wdXRlIHdoZXJlIHRoZSBuZXcgc2VnbWVudCBpbnRlcnNlY3RzXG4gICAgICAgICAgICBsZXQgbmV3Q2xvc2VzdCA9IHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSE7XG4gICAgICAgICAgICBsZXQgblBvaW50O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5ld0Nsb3Nlc3QuZnJvbS5hbmdsZSAtIHBvaW50c1tvcmlnXS5hbmdsZSkgPCBFUFNJTE9OKSB7XG4gICAgICAgICAgICAgICAgblBvaW50ID0gbmV3Q2xvc2VzdC5mcm9tO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuUG9pbnQgPSBuZXdDbG9zZXN0LnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoTWF0aC5hYnMocG9pbnQueCAtIG5Qb2ludC54KSA8IEVQU0lMT04gJiYgTWF0aC5hYnMocG9pbnQueSAtIG5Qb2ludC55KSA8IEVQU0lMT04pKSB7XG4gICAgICAgICAgICAgICAgcG9seWdvbi5wdXNoKG5Qb2ludC54LCBuUG9pbnQueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvbHlnb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlKHBvczogUG9pbnQsIGluU2VnbWVudHM6IExpbmVbXSk6IEFycmF5PG51bWJlcj4ge1xuICAgIGxldCBzZWdtZW50cyA9IG5ldyBBcnJheTxTZWdtZW50PihpblNlZ21lbnRzLmxlbmd0aCk7XG5cbiAgICAvLyBPKE4pXG4gICAgZm9yIChsZXQgc2VnbWVudCBvZiBpblNlZ21lbnRzKSB7XG4gICAgICAgIGxldCBzID0gaW5pdFNlZ21lbnQoc2VnbWVudC5mcm9tWCwgc2VnbWVudC5mcm9tWSwgc2VnbWVudC50b1gsIHNlZ21lbnQudG9ZLCBwb3MpO1xuXG4gICAgICAgIHNlZ21lbnRzLnB1c2gocyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXB1dGUwKHBvcywgc2VnbWVudHMpO1xufVxuXG5jb25zdCBJTlNJREUgPSAwO1xuY29uc3QgTEVGVCA9IDE7XG5jb25zdCBSSUdIVCA9IDI7XG5jb25zdCBCT1RUT00gPSA0O1xuY29uc3QgVE9QID0gODtcblxuZnVuY3Rpb24gY29tcHV0ZU91dENvZGUoYm94OiBBYWJiLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IGNvZGUgPSBJTlNJREU7XG5cbiAgICBpZiAgICAgICh4IDwgYm94Lm1pblgpIGNvZGUgfD0gTEVGVDtcbiAgICBlbHNlIGlmICh4ID4gYm94Lm1heFgpIGNvZGUgfD0gUklHSFQ7XG5cbiAgICBpZiAgICAgICh5IDwgYm94Lm1pblkpIGNvZGUgfD0gQk9UVE9NO1xuICAgIGVsc2UgaWYgKHkgPiBib3gubWF4WSkgY29kZSB8PSBUT1A7XG5cbiAgICByZXR1cm4gY29kZTtcbn1cblxuZnVuY3Rpb24gY2xpcFNlZ21lbnQobGluZTogTGluZSwgYWFiYjogQWFiYiwgbGlnaHQ6IFN0dXBpZFBvaW50KTogU2VnbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29oZW4lRTIlODAlOTNTdXRoZXJsYW5kX2FsZ29yaXRobVxuICAgIGxldCB4MCA9IGxpbmUuZnJvbVg7XG4gICAgbGV0IHkwID0gbGluZS5mcm9tWTtcbiAgICBsZXQgeDEgPSBsaW5lLnRvWDtcbiAgICBsZXQgeTEgPSBsaW5lLnRvWTtcblxuICAgIGxldCBjb2RlMCA9IGNvbXB1dGVPdXRDb2RlKGFhYmIsIHgwLCB5MCk7XG4gICAgbGV0IGNvZGUxID0gY29tcHV0ZU91dENvZGUoYWFiYiwgeDEsIHkxKTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICgoY29kZTAgfCBjb2RlMSkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGJpdHdpc2UgT1IgaXMgMDogYm90aCBwb2ludHMgaW5zaWRlIHdpbmRvdzsgdHJpdmlhbGx5IGFjY2VwdCBhbmQgZXhpdCBsb29wXG4gICAgICAgICAgICByZXR1cm4gaW5pdFNlZ21lbnQoeDAsIHkwLCB4MSwgeTEsIGxpZ2h0KTtcbiAgICAgICAgfSBlbHNlIGlmICgoY29kZTAgJiBjb2RlMSkgIT09IDApIHtcbiAgICAgICAgICAgIC8vIGZhaWxlZCBib3RoIHRlc3RzLCBzbyBjYWxjdWxhdGUgdGhlIGxpbmUgc2VnbWVudCB0byBjbGlwXG4gICAgICAgICAgICAvLyBmcm9tIGFuIG91dHNpZGUgcG9pbnQgdG8gYW4gaW50ZXJzZWN0aW9uIHdpdGggY2xpcCBlZGdlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHggPSAwLCB5ID0gMDtcblxuICAgICAgICAgICAgLy8gQXQgbGVhc3Qgb25lIGVuZHBvaW50IGlzIG91dHNpZGUgdGhlIGNsaXAgcmVjdGFuZ2xlOyBwaWNrIGl0LlxuICAgICAgICAgICAgbGV0IGNvZGVPdXQgPSBjb2RlMSA+IGNvZGUwID8gY29kZTEgOiBjb2RlMDtcblxuICAgICAgICAgICAgLy8gTm93IGZpbmQgdGhlIGludGVyc2VjdGlvbiBwb2ludDtcbiAgICAgICAgICAgIC8vIHVzZSBmb3JtdWxhczpcbiAgICAgICAgICAgIC8vICAgc2xvcGUgPSAoeTEgLSB5MCkgLyAoeDEgLSB4MClcbiAgICAgICAgICAgIC8vICAgeCA9IHgwICsgKDEgLyBzbG9wZSkgKiAoeW0gLSB5MCksIHdoZXJlIHltIGlzIHltaW4gb3IgeW1heFxuICAgICAgICAgICAgLy8gICB5ID0geTAgKyBzbG9wZSAqICh4bSAtIHgwKSwgd2hlcmUgeG0gaXMgeG1pbiBvciB4bWF4XG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIHdvcnJ5IGFib3V0IGRpdmlkZS1ieS16ZXJvIGJlY2F1c2UsIGluIGVhY2ggY2FzZSwgdGhlXG4gICAgICAgICAgICAvLyBvdXRjb2RlIGJpdCBiZWluZyB0ZXN0ZWQgZ3VhcmFudGVlcyB0aGUgZGVub21pbmF0b3IgaXMgbm9uLXplcm9cblxuICAgICAgICAgICAgaWYgKChjb2RlT3V0ICYgVE9QKSAhPT0gMCkgeyAgICAgICAgICAgLy8gcG9pbnQgaXMgYWJvdmUgdGhlIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeCA9IHgwICsgKHgxIC0geDApICogKGFhYmIubWF4WSAtIHkwKSAvICh5MSAtIHkwKTtcbiAgICAgICAgICAgICAgICB5ID0gYWFiYi5tYXhZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoY29kZU91dCAmIEJPVFRPTSkgIT09IDApIHsgLy8gcG9pbnQgaXMgYmVsb3cgdGhlIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeCA9IHgwICsgKHgxIC0geDApICogKGFhYmIubWluWSAtIHkwKSAvICh5MSAtIHkwKTtcbiAgICAgICAgICAgICAgICB5ID0gYWFiYi5taW5ZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoY29kZU91dCAmIFJJR0hUKSAhPT0gMCkgeyAgLy8gcG9pbnQgaXMgdG8gdGhlIHJpZ2h0IG9mIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeSA9IHkwICsgKHkxIC0geTApICogKGFhYmIubWF4WCAtIHgwKSAvICh4MSAtIHgwKTtcbiAgICAgICAgICAgICAgICB4ID0gYWFiYi5tYXhYO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoY29kZU91dCAmIExFRlQpICE9PSAwKSB7ICAgLy8gcG9pbnQgaXMgdG8gdGhlIGxlZnQgb2YgY2xpcCB3aW5kb3dcbiAgICAgICAgICAgICAgICB5ID0geTAgKyAoeTEgLSB5MCkgKiAoYWFiYi5taW5YIC0geDApIC8gKHgxIC0geDApO1xuICAgICAgICAgICAgICAgIHggPSBhYWJiLm1pblg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdyB3ZSBtb3ZlIG91dHNpZGUgcG9pbnQgdG8gaW50ZXJzZWN0aW9uIHBvaW50IHRvIGNsaXBcbiAgICAgICAgICAgIC8vIGFuZCBnZXQgcmVhZHkgZm9yIG5leHQgcGFzcy5cbiAgICAgICAgICAgIGxldCBjb2RlID0gY29tcHV0ZU91dENvZGUoYWFiYiwgeCwgeSk7XG4gICAgICAgICAgICBpZiAoY29kZU91dCA9PT0gY29kZTApIHtcbiAgICAgICAgICAgICAgICB4MCA9IHg7XG4gICAgICAgICAgICAgICAgeTAgPSB5O1xuICAgICAgICAgICAgICAgIGNvZGUwID0gY29kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeDEgPSB4O1xuICAgICAgICAgICAgICAgIHkxID0geTtcbiAgICAgICAgICAgICAgICBjb2RlMSA9IGNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVmlld3BvcnQobGluZXM6IExpbmVbXSwgYWFiYjogQWFiYiwgbGlnaHQ6IFN0dXBpZFBvaW50LCB1c2VkTGluZXM/OiBudW1iZXJbXSk6IEFycmF5PG51bWJlcj4ge1xuICAgIC8vY29uc29sZS5sb2coXCJMaW5lczogXCIgKyBsaW5lcy5sZW5ndGgpO1xuICAgIGxldCBzZWdtZW50cyA9IG5ldyBBcnJheTxTZWdtZW50PigpO1xuXG4gICAgbGV0IGxpbmVMZW4gPSBsaW5lcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lTGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHNlZ21lbnQgPSBjbGlwU2VnbWVudChsaW5lc1tpXSwgYWFiYiwgbGlnaHQpO1xuICAgICAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoc2VnbWVudCBhcyBhbnkpLmluZGV4ID0gaTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyhcIkRvbmVcIik7XG4gICAgLy8gUHVzaCB2aWV3cG9ydCBzZWdtZW50czpcbiAgICBzZWdtZW50cy5wdXNoKFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1pblgsIGFhYmIubWluWSwgYWFiYi5taW5YLCBhYWJiLm1heFksIGxpZ2h0KSxcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5taW5YLCBhYWJiLm1heFksIGFhYmIubWF4WCwgYWFiYi5tYXhZLCBsaWdodCksXG4gICAgICAgIGluaXRTZWdtZW50KGFhYmIubWF4WCwgYWFiYi5tYXhZLCBhYWJiLm1heFgsIGFhYmIubWluWSwgbGlnaHQpLFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1heFgsIGFhYmIubWluWSwgYWFiYi5taW5YLCBhYWJiLm1pblksIGxpZ2h0KSxcbiAgICApO1xuXG4gICAgLy9jb25zb2xlLmxvZyhcIlNFR01FTlRTOiBcIiwgc2VnbWVudHMpO1xuXG4gICAgbGV0IHBvbHkgPSBjb21wdXRlMChsaWdodCwgc2VnbWVudHMpO1xuXG4gICAgaWYgKHVzZWRMaW5lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIENvbXB1dGUgd2hhdCBsaW5lcyBoYXZlIGJlZW4gdXNlZFxuICAgICAgICBsZXQgc2VnTGVuID0gc2VnbWVudHMubGVuZ3RoIC0gNDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdMZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IHMgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChzLnVzZWQpIHVzZWRMaW5lcy5wdXNoKChzIGFzIGFueSkuaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHk7XG59XG4iLCIvLyBDb21tb24gaW5mbyBhYm91dCB0aGUgZ3JhcGhpY2FsIHN5c3RlbXMsIHRoaXMgc2hvdWxkIGJlIGEgc2VtaS1hYnN0cmFjdGlvbi5cbi8vIE5PTkUgT0YgVEhJUyBTSE9VTEQgQkUgU0VSSUFMSVpFRCEgVEhJUyBJUyBBTEwgUlVOVElNRSBERVBFTkRBTlQhIERFVEFJTFMgV0lMTCBDSEFOR0UgQkVUV0VFTiBNSU5PUiBWRVJTSU9OUyFcblxuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuL2Vjcy9jb21wb25lbnRcIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUgPSAncmVtZW1iZXJfYml0X2J5X2JpdF92aXNfdXBkYXRlJztcblxuZXhwb3J0IHR5cGUgR1JBUEhJQ19UWVBFID0gXCJncmFwaGljXCI7XG5leHBvcnQgY29uc3QgR1JBUEhJQ19UWVBFID0gXCJncmFwaGljXCI7XG5leHBvcnQgaW50ZXJmYWNlIEdyYXBoaWNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICBkaXNwbGF5OiBEaXNwbGF5RWxlbWVudDtcbiAgICAvLyBXaHkgZG9lcyB0aGlzIGZsYWcgZXhpc3Q/IGdvb2QgdGhpbmcgeW91IGFza2VkISBXYWxscyBoYXZlIGEgc3BlY2lhbCBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBkb2VzXG4gICAgLy8gbm90IHVzZSBpbXByZWNpc2UgY29sbGlzaW9uIGRldGVjdGlvbiwgdGhleSB1c2UgZGF0YSBleHRyYWN0ZWQgZnJvbSB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIGFsZ29yaXRobS5cbiAgICAvLyBJZiB5b3UgdGhpbmsgYWJvdXQgaXQgYSBiaXQgaXQncyBub3QgdGhhdCBmYXItZmV0Y2hlZCwgdGhlIGFsZ29yaXRobSBjb21wdXRlcyBhbGwgb2YgdGhlIHZpc2liaWxpdHkgcGF0aHMsIGl0XG4gICAgLy8gc2hvdWxkIGFsc28ga25vdyB3aGF0IHdhbGxzIGFyZSBiZWluZyB1c2VkIChhbmQgd2UgZ2V0IHRoYXQgaW5mbyBmb3IgZnJlZSEpLlxuICAgIGlzV2FsbD86IHRydWU7XG4gICAgaW50ZXJhY3RpdmU6IGJvb2xlYW47Ly8gV2hlbiB0cnVlIHRoaXMgZWxlbWVudCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBJbnRlcmFjdGlvbiBzeXN0ZW1cbn1cblxuZXhwb3J0IGVudW0gRWxlbWVudFR5cGUge1xuICAgIENPTlRBSU5FUixcbiAgICBJTUFHRSxcbiAgICBMSU5FLFxuICAgIFBPSU5ULFxuICAgIFRFWFQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzcGxheUVsZW1lbnQgZXh0ZW5kcyBWaXNpYmlsaXR5T3B0aW9ucyB7XG4gICAgdHlwZTogRWxlbWVudFR5cGU7XG4gICAgaWdub3JlOiBib29sZWFuO1xuICAgIHByaW9yaXR5OiBudW1iZXI7Ly8gKGlnbm9yZWQgaWYgdGV4dCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucylcbiAgICBvZmZzZXQ/OiBQSVhJLklQb2ludERhdGE7XG4gICAgY2hpbGRyZW4/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIC8vIFRoZXNlIGFyZSBha2luIHRvIGZ1bmN0aW9uIGNhbGxzLCB1cG9uIHVwZGF0aW5nIHRoZSBzeXN0ZW0gaW4gY2hhcmdlIG9mXG4gICAgLy8gR1VJIGVkaXRpbmcgd2lsbCBhZGQvcmVtb3ZlL3JlcGxhY2UgdGhlIGNoaWxkcmVucyBjb250YWluZWRcbiAgICBfY2hpbGRyZW5BZGQ/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIF9jaGlsZHJlblJlbW92ZT86IERpc3BsYXlFbGVtZW50W107XG4gICAgX2NoaWxkcmVuUmVwbGFjZT86IERpc3BsYXlFbGVtZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5jaG9yYWJsZUVsZW1lbnQge1xuICAgIGFuY2hvcjogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIGNvbG9yOiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIFZpc2liaWxpdHlUeXBlIHtcbiAgICAvLyBZb3Ugb25seSBzZWUgb25lIHRoaW5nIHdoZW4geW91IHNlZSBpdCEgc2VlbXMgc3R1cGlkIGJ1dCB5b3UgY2FuIGFsc28gcmVtZW1iZXIgdGhpbmdzXG4gICAgTk9STUFMLFxuICAgIC8vIEEgcGxheWVyIGNhbiBhbHdheXMgc2VlIGl0c2VsZiwgZXZlbiB3aXRoIG5vIGxpZ2h0LCBcIkkgdGhpbmsgdGhlcmVmb3JlIEkgYW1cIlxuICAgIEFMV0FZU19WSVNJQkxFLFxuICAgIC8vIFlvdSdsbCByZW1lbWJlciBvbmNlIHlvdSBzZWUgaXRcbiAgICBSRU1FTUJFUixcbiAgICAvLyBVc2VkIGluIGltYWdlcywgeW91IG9ubHkgcmVtZW1iZXIgd2hhdCB5b3Ugc2VlISAob25seSBzdXBwb3J0IGltYWdlcyBmb3Igbm93KVxuICAgIFJFTUVNQkVSX0JJVF9CWV9CSVQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eU9wdGlvbnMge1xuICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZTtcbn1cblxuLy8gUmVhbCBjb21wb25lbnRzXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5DT05UQUlORVI7XG59XG5cbmV4cG9ydCBlbnVtIEltYWdlU2NhbGVNb2RlIHtcbiAgICAvLyAxIHBpeGVsID0gMSpzY2FsZSBwaXhlbHNcbiAgICBSRUFMLFxuICAgIC8vIDEgcGl4ZWwgPSAxKmdyaWRTaXplKnNjYWxlIHBpeGVsc1xuICAgIEdSSUQsXG59XG5cbi8vIFRPRE86IGNyZWF0ZSBhIHNoYXJlZCByZXNvdXJjZXMgcmVzb3VyY2UgYW5kIHB1dCB0ZXh0dXJlcyBpbiB0aGVtICh0aGVuIHB1dCBiYWNrZ3JvdW5kcyBpbiBpdCEpLlxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCwgQW5jaG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFO1xuICAgIHNjYWxlOiBJbWFnZVNjYWxlTW9kZTtcbiAgICB0ZXh0dXJlOiBQSVhJLlRleHR1cmU7XG4gICAgc2hhcmVkVGV4dHVyZT86IHRydWU7Ly8gSWYgdGhpcyBmaWVsZCBpcyBwcmVzZW50IHRoZSB0ZXh0dXJlIHdvbid0IGJlIGRlc3Ryb3llZFxuICAgIHRpbnQ6IG51bWJlcjtcbiAgICAvLyBPdXRwdXQgb2YgdGhlIHZpc2libGUgaW1hZ2UsIG9ubHkgYXZhaWxhYmxlIGlmIHZpc2liPVJFTUVNQkVSX0JJVF9CWV9CSVQgYW5kIGl0J3MgYW4gaW1hZ2VcbiAgICAvLyB1cGRhdGVkIHdoZW4gdGhlIGVudGl0eSBpcyBzZXJpYWxpemVkLCB3aGVuIGl0IGlzIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUgaXMgZmlyZWQgd2l0aCBhIGxpc3RcbiAgICAvLyBvZiB1cGRhdGVkIGVudGl0aWVzLlxuICAgIHZpc01hcD86IFVpbnQzMkFycmF5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLkxJTkU7XG4gICAgdmVjOiBQSVhJLklQb2ludERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLlBPSU5UO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIEFuY2hvcmFibGVFbGVtZW50LCBDb2xvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5URVhUO1xuICAgIHRleHQ6IHN0cmluZztcbn1cbiIsImltcG9ydCB7U3RhZ2V9IGZyb20gXCIuL3BoYXNlL3N0YWdlXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi9QSVhJXCI7XG5cbmltcG9ydCB7SG9tZVBoYXNlfSBmcm9tIFwiLi9waGFzZS9ob21lUGhhc2VcIjtcblxuaW1wb3J0IHtFdmVudEVtaXR0ZXJXcmFwcGVyfSBmcm9tIFwiLi91dGlsL2V2ZW50RW1pdHRlcldyYXBwZXJcIjtcblxuaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgeyBCb290c3RyYXBWdWUgfSBmcm9tICdib290c3RyYXAtdnVlJ1xuXG5pbXBvcnQgJ0Bmb3J0YXdlc29tZS9mb250YXdlc29tZS1mcmVlL2Nzcy9hbGwuY3NzJ1xuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9qcy9hbGwuanMnXG5cblZ1ZS51c2UoQm9vdHN0cmFwVnVlKVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHVibGljXG5cbmltcG9ydCBcIlB1YmxpYy9zdHlsZS5jc3NcIjtcbmltcG9ydCB7Q2xpZW50RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9waGFzZS9lZGl0TWFwL2NsaWVudEVkaXRNYXBQaGFzZVwiO1xuaW1wb3J0IHthZGRDdXN0b21CbGVuZE1vZGVzfSBmcm9tIFwiLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7bG9hZEFzc2V0c30gZnJvbSBcIi4vYXNzZXRzTG9hZGVyXCI7XG5pbXBvcnQge0xvYWRpbmdQaGFzZX0gZnJvbSBcIi4vcGhhc2UvbG9hZGluZ1BoYXNlXCI7XG5pbXBvcnQge0RFRkFVTFRfQkFDS0dST1VORH0gZnJvbSBcIi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cIjtcblxuZXhwb3J0IGNvbnN0IHdpbmRvd0V2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXJXcmFwcGVyKChldmVudCwgZW1pdHRlcikgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBkYXRhID0+IHtcbiAgICAgICAgZW1pdHRlci5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBQSVhJXG5leHBvcnQgbGV0IGFwcDogUElYSS5BcHBsaWNhdGlvbjtcblxuLy8gTWFpblxuZXhwb3J0IGNvbnN0IHN0YWdlID0gbmV3IFN0YWdlKFwibWFpblwiKTtcblxuZnVuY3Rpb24gb25IYXNoQ2FobmdlKCkge1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICBjb25zdCByb29tSWQgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSk7Ly8gUmVtb3ZlICNcbiAgICAgICAgaWYgKHJvb21JZC5zdGFydHNXaXRoKCdwJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB3aXRoOiBwZWVyajJcIik7XG4gICAgICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgQ2xpZW50RWRpdE1hcFBoYXNlKHJvb21JZC5zdWJzdHIoMSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBoYXNoXCIpXG4gICAgICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9tZVBoYXNlKCkpO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9tZVBoYXNlKCkpO1xuICAgIH1cbn1cblxuKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgZG5kbWU6IFwiICsgX19DT01NSVRfSEFTSF9fKTtcbiAgICAvLyBXZSBjYW5ub3Qgd29yayB3aXRob3V0IHdlYmdsXG4gICAgUElYSS5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IGZhbHNlO1xuICAgIGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gICAgYWRkQ3VzdG9tQmxlbmRNb2RlcygpO1xuICAgIGFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSBERUZBVUxUX0JBQ0tHUk9VTkQ7XG4gICAgLy8gVGhlIGFwcC52aWV3IChjYW52YXMpIGlzIG9ubHkgYXBwZW5kZWQgd2hlbiB0aGUgZ2FtZS1waGFzZSBzdGFydHMuXG5cbiAgICBhcHAudmlldy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHN0YWdlLnNldFBoYXNlKG5ldyBMb2FkaW5nUGhhc2UoKSk7XG5cbiAgICBhd2FpdCBsb2FkQXNzZXRzKCk7XG5cbiAgICBvbkhhc2hDYWhuZ2UoKTtcblxuICAgIHdpbmRvdy5vbmhhc2hjaGFuZ2UgPSBmdW5jdGlvbiAoZTogSGFzaENoYW5nZUV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSGFzaCBjaGFuZ2VcIiArIGUubmV3VVJMKTtcbiAgICAgICAgb25IYXNoQ2FobmdlKCk7XG4gICAgfVxufSkoKTtcbiIsImltcG9ydCB7TWFwTGV2ZWx9IGZyb20gXCIuL21hcExldmVsXCI7XG5cbmltcG9ydCB7ZGVjb2RlLCBlbmNvZGV9IGZyb20gXCJAbXNncGFjay9tc2dwYWNrXCI7XG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwIHtcbiAgICBzdGF0aWMgU0VSX1ZFUlNJT04gPSAnMS4wJztcblxuICAgIGxldmVscyA9IG5ldyBNYXA8bnVtYmVyLCBNYXBMZXZlbD4oKTtcblxuXG4gICAgcHJpdmF0ZSBjcmVhdGVEYXRhSnNvbigpOiBVaW50OEFycmF5IHtcbiAgICAgICAgbGV0IGxldmVsczogeyBbaWQ6IHN0cmluZ106IGFueSB9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgW2lkLCBsZXZlbF0gb2YgdGhpcy5sZXZlbHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBsZXZlbHNbaWRdID0gbGV2ZWwuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IEdhbWVNYXAuU0VSX1ZFUlNJT04sXG4gICAgICAgICAgICBsZXZlbHM6IGxldmVscyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGVuY29kZShkYXRhKTtcbiAgICB9XG5cbiAgICBzYXZlVG9GaWxlKCk6IFByb21pc2U8QmxvYj4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlRGF0YUpzb24oKTtcbiAgICAgICAgbGV0IHppcCA9IG5ldyBKU1ppcCgpO1xuICAgICAgICB6aXAuZmlsZShcImRhdGEubXNncGFja1wiLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHppcC5nZW5lcmF0ZUFzeW5jKHtcbiAgICAgICAgICAgIHR5cGU6IFwiYmxvYlwiLFxuICAgICAgICAgICAgY29tcHJlc3Npb246ICdERUZMQVRFJyxcbiAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGJyb3dzZXIgZnJvbSByZW5hbWluZyB0aGUgZXh0ZW5zaW9uXG4gICAgICAgICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGxvYWRGcm9tRmlsZShmcm9tOiBGaWxlKTogUHJvbWlzZTxHYW1lTWFwPiB7XG4gICAgICAgIGxldCB6aXAgPSBhd2FpdCBKU1ppcC5sb2FkQXN5bmMoZnJvbSk7XG4gICAgICAgIC8vIFRPRE86IGJldHRlciBlcnJvciBtYW5hZ2VtZW50XG4gICAgICAgIGxldCBmaWxlID0gYXdhaXQgemlwLmZpbGUoXCJkYXRhLm1zZ3BhY2tcIikhLmFzeW5jKCdhcnJheWJ1ZmZlcicpO1xuICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IGRlY29kZShmaWxlKSBhcyBhbnk7XG5cbiAgICAgICAgaWYgKGRhdGFbJ3ZlcnNpb24nXSAhPT0gdGhpcy5TRVJfVkVSU0lPTikge1xuICAgICAgICAgICAgdGhyb3cgJ1ZlcnNpb24gbm90IHN1cHBvcnRlZCc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZ2FtZU1hcCA9IG5ldyBHYW1lTWFwKCk7XG5cbiAgICAgICAgbGV0IGxldmVsc0RhdGEgPSBkYXRhW1wibGV2ZWxzXCJdO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBsZXZlbHNEYXRhKSB7XG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSBsZXZlbHNEYXRhW2lkXTtcbiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBNYXBMZXZlbC5kZXNlcmlhbGl6ZShwYXJzZUludChpZCksIGxldmVsKTtcbiAgICAgICAgICAgIGdhbWVNYXAubGV2ZWxzLnNldChyZXMuaWQsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdhbWVNYXA7XG4gICAgfVxufSIsImltcG9ydCB7U2VyaWFsaXplZFdvcmxkLCBXb3JsZH0gZnJvbSBcIi4uL2Vjcy93b3JsZFwiO1xuXG5leHBvcnQgY2xhc3MgTWFwTGV2ZWwge1xuICAgIGlkOiBudW1iZXI7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBlY3M/OiBTZXJpYWxpemVkV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBsb2FkSW50byhlY3M6IFdvcmxkKTogdm9pZCB7XG4gICAgICAgIGVjcy5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5lY3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWNzLmRlc2VyaWFsaXplKHRoaXMuZWNzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNhdmVGcm9tKGVjczogV29ybGQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lY3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZWNzID0gZWNzLnNlcmlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgZWNzOiB0aGlzLmVjc1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGlkOiBudW1iZXIsIGRhdGE6IGFueSk6IE1hcExldmVsIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBNYXBMZXZlbChpZCk7XG4gICAgICAgIHJlcy5uYW1lID0gZGF0YVsnbmFtZSddO1xuICAgICAgICByZXMuZWNzID0gZGF0YVsnZWNzJ107XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiXG5pbXBvcnQge1AycENvbm5lY3Rpb259IGZyb20gXCIuL3AycENvbm5lY3Rpb25cIjtcbmltcG9ydCB7RXJyb3JQYWNrZXQsIFBhY2tldCwgUGFja2V0Q29udGFpbmVyfSBmcm9tIFwiLi4vcHJvdG9jb2wvcGFja2V0XCI7XG5cbmV4cG9ydCBjbGFzcyBDaGFubmVsIHtcbiAgICBjb25uZWN0aW9uczogUDJwQ29ubmVjdGlvbltdID0gW107XG4gICAgY29ubmVjdGlvbnNCeUlkID0gbmV3IE1hcDxudW1iZXIsIFAycENvbm5lY3Rpb24+KCk7XG5cbiAgICBpc0hvc3Q6IGJvb2xlYW47XG4gICAgbXlJZDogbnVtYmVyID0gLTE7XG5cbiAgICBuZXh0QnJvYWRjYXN0UGFja2V0SWQ6IG51bWJlciA9IDA7XG5cbiAgICBldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBidWZmZXJpbmdDaGFubmVsczogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGlzSG9zdDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzSG9zdCA9IGlzSG9zdDtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLm15SWQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25NZXNzYWdlKHJhdzogYW55LCBjb25uOiBQMnBDb25uZWN0aW9uKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJvbk1lc3NhZ2VcIiwgcmF3KTtcbiAgICAgICAgbGV0IHBhY2tldCA9IHJhdyBhcyBQYWNrZXRDb250YWluZXI7Ly8gQ2hlY2sgZm9yIGVycm9ycz9cblxuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIHBhY2tldC5zZW5kZXIgPSBjb25uLmNoYW5uZWxJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFja2V0LnBheWxvYWQudHlwZS5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgcGF5bG9hZCB0eXBlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogdGhpbmsgb2YgYSBiZXR0ZXIgcGFja2V0aWQgc3lzdGVtLCB3ZSBoYXZlIHNvbWUgcHJvYmxlbXMgd2l0aFxuICAgICAgICAvLyAgICAgICBob3N0IGZvcndhcmRpbmcgYXMgdGhlIGlkIGNoYW5nZXMsIHdlIGNhbiBub3QgaGF2ZSByZXBsaWVzLlxuICAgICAgICBpZiAodGhpcy5pc0hvc3QgJiYgcGFja2V0LnJlY2VpdmVyICE9PSB0aGlzLm15SWQpIHtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbElkID0gcGFja2V0LmlkO1xuICAgICAgICAgICAgaWYgKHBhY2tldC5yZWNlaXZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFja2V0LmlkID0gdGhpcy5uZXh0QnJvYWRjYXN0UGFja2V0SWQrKztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuY29ubmVjdGlvbnNCeUlkLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjICE9PSBjb25uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnNlbmQocGFja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3YgPSB0aGlzLmNvbm5lY3Rpb25zQnlJZC5nZXQocGFja2V0LnJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclR5cGU6IFwidW5rbm93bl9yZWNlaXZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiBwYWNrZXQuaWQsXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgRXJyb3JQYWNrZXQsIGNvbm4uY2hhbm5lbElkKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhY2tldC5pZCA9IHJlY3YubmV4dFBhY2tldElkKys7XG4gICAgICAgICAgICAgICAgcmVjdi5zZW5kKHBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQuaWQgPSBvcmlnaW5hbElkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhY2tldC5yZWNlaXZlciA9PT0gdW5kZWZpbmVkIHx8IHBhY2tldC5yZWNlaXZlciA9PT0gdGhpcy5teUlkKSB7XG4gICAgICAgICAgICBsZXQgcGFja2V0VHlwZSA9IHBhY2tldC5wYXlsb2FkLnR5cGU7XG5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5WRVJCT1NFX0NIQU5ORUwgPT09IFwiMVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZWFkXCIsIE9iamVjdC5hc3NpZ24oe30sIHBhY2tldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImFueVwiLCBwYWNrZXQucGF5bG9hZCwgcGFja2V0KTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQocGFja2V0VHlwZSwgcGFja2V0LnBheWxvYWQsIHBhY2tldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBicm9hZGNhc3QocGFja2V0OiBQYWNrZXQpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZCA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLm5leHRCcm9hZGNhc3RQYWNrZXRJZCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHBhY2tldCxcbiAgICAgICAgICAgIHNlbmRlcjogdGhpcy5teUlkLFxuICAgICAgICB9IGFzIFBhY2tldENvbnRhaW5lcjtcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVkVSQk9TRV9DSEFOTkVMID09PSBcIjFcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW50XCIsIE9iamVjdC5hc3NpZ24oe30sIHdyYXBwZWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNvbm4gb2YgdGhpcy5jb25uZWN0aW9uc0J5SWQudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGNvbm4uc2VuZCh3cmFwcGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubmV4dEJyb2FkY2FzdFBhY2tldElkKys7XG4gICAgfVxuXG4gICAgc2VuZChwYWNrZXQ6IFBhY2tldCwgcmVjZWl2ZXJJZDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSB7XG4gICAgICAgICAgICBpZDogMCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHBhY2tldCxcbiAgICAgICAgICAgIHNlbmRlcjogdGhpcy5teUlkLFxuICAgICAgICB9IGFzIFBhY2tldENvbnRhaW5lcjtcblxuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIGxldCBjb25uID0gdGhpcy5jb25uZWN0aW9uc0J5SWQuZ2V0KHJlY2VpdmVySWQpO1xuICAgICAgICAgICAgaWYgKGNvbm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IFwiVW5rbm93biByZWNlaXZlclwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwcGVkLmlkID0gY29ubi5jaGFubmVsSWQrKztcbiAgICAgICAgICAgIGNvbm4uc2VuZCh3cmFwcGVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZWQuaWQgPSB0aGlzLm5leHRCcm9hZGNhc3RQYWNrZXRJZCsrO1xuICAgICAgICAgICAgZm9yIChsZXQgY29ubiBvZiB0aGlzLmNvbm5lY3Rpb25zQnlJZC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbm4uc2VuZCh3cmFwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5WRVJCT1NFX0NIQU5ORUwgPT09IFwiMVwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlbnRcIiwgd3JhcHBlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29ubmVjdGlvblN0YXR1c1VwZGF0ZShpc0J1ZmZlcmluZzogYm9vbGVhbikge1xuICAgICAgICBpZiAoaXNCdWZmZXJpbmcpIHRoaXMuYnVmZmVyaW5nQ2hhbm5lbHMgKz0gMTtcbiAgICAgICAgZWxzZSB0aGlzLmJ1ZmZlcmluZ0NoYW5uZWxzIC09IDE7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJfYnVmZmVyaW5nX3VwZGF0ZVwiLCB0aGlzLmJ1ZmZlcmluZ0NoYW5uZWxzKTtcbiAgICB9XG5cbiAgICByZWdpc3Rlck5ld0Nvbm5lY3Rpb24oY29ubjogUDJwQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zQnlJZC5zZXQoY29ubi5jaGFubmVsSWQsIGNvbm4pO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goY29ubik7XG5cbiAgICAgICAgY29ubi5vbmRhdGEgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICBjb25uLm5leHRQYWNrZXRJZCA9IDA7XG4gICAgICAgIGNvbm4ub25CdWZmZXJDaGFuZ2UgPSB0aGlzLm9uQ29ubmVjdGlvblN0YXR1c1VwZGF0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJfZGV2aWNlX2pvaW5cIiwgY29ubi5jaGFubmVsSWQpO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbm5lY3Rpb24oY29ubjogUDJwQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zQnlJZC5kZWxldGUoY29ubi5jaGFubmVsSWQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY29ubmVjdGlvbnMuaW5kZXhPZihjb25uKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiX2RldmljZV9sZWZ0XCIsIGNvbm4uY2hhbm5lbElkKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCBQZWVyIGZyb20gXCJwZWVyanNcIjtcbmltcG9ydCB7UDJwQ29ubmVjdGlvbn0gZnJvbSBcIi4vcDJwQ29ubmVjdGlvblwiO1xuaW1wb3J0IHtDaGFubmVsfSBmcm9tIFwiLi9jaGFubmVsXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xuXG5leHBvcnQgY2xhc3MgTmV0d29ya01hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHBlZXI6IFBlZXI7XG4gICAgaXNIb3N0OiBib29sZWFuO1xuICAgIG15SWQ6IG51bWJlciA9IC0xO1xuXG4gICAgY2hhbm5lbDogQ2hhbm5lbDtcblxuICAgIC8vIFVzZWQgaWYgaXMgaG9zdDpcbiAgICBjb25uZWN0aW9ucyA9IG5ldyBNYXA8bnVtYmVyLCBOZXR3b3JrQ29ubmVjdGlvbj4oKTtcbiAgICBuZXh0Q29ubmVjdGlvbklkOiBudW1iZXIgPSAxO1xuXG4gICAgLy8gSWYgY2xpZW50OlxuICAgIGhvc3RDb25uZWN0aW9uPzogTmV0d29ya0Nvbm5lY3Rpb247XG4gICAgY29ubmVjdElkPzogc3RyaW5nO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihpc0hvc3Q6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc0hvc3QgPSBpc0hvc3Q7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IG5ldyBDaGFubmVsKGlzSG9zdCk7XG4gICAgICAgIHRoaXMucGVlciA9IG5ldyBQZWVyKHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgaG9zdDogJ3BlZXJqcy45MmsuZGUnLFxuICAgICAgICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgICAgICAgZGVidWc6IDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLm15SWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wZWVyLm9uKCdjb25uZWN0aW9uJywgdGhpcy5vbkNvbm5lY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGVlci5vbignb3BlbicsIHRoaXMub25QZWVyQ29ubmVjdGlvbk9wZW4uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGVlci5vbignZXJyb3InLCB0aGlzLm9uUGVlckNvbm5lY3Rpb25FcnJvci5iaW5kKHRoaXMpKVxuICAgIH1cblxuICAgIG9uQ29ubmVjdGlvbihjb25uOiBQZWVyLkRhdGFDb25uZWN0aW9uKSB7XG4gICAgICAgIGxldCBpZCA9IDA7XG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgaWQgPSB0aGlzLm5leHRDb25uZWN0aW9uSWQrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgYyA9IG5ldyBOZXR3b3JrQ29ubmVjdGlvbih0aGlzLCBpZCwgY29ubik7XG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5zZXQoaWQsIGMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ob3N0Q29ubmVjdGlvbiA9IGM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBlZXJDb25uZWN0aW9uT3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFJlYWR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3JlYWR5Jyk7XG4gICAgfVxuXG4gICAgb25QZWVyQ29ubmVjdGlvbkVycm9yKGVycjogYW55KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cblxuICAgIGdldElkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlZXIuaWQ7XG4gICAgfVxuXG4gICAgY29ubmVjdFRvKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aHJvdyAnQSBob3N0IGNhbm5vdCBvcGVuIGEgY29ubmVjdGlvbiwgZm9yIG5vdyEnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGNvbm5lY3QgdG8gbXVsdGlwbGUgaG9zdHMnXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0SWQgPSBpZDtcbiAgICAgICAgaWYgKHRoaXMucGVlci5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RSZWFkeSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25uZWN0SWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucGVlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25uZWN0UmVhZHkoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RJZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGxldCBjb25uID0gdGhpcy5wZWVyLmNvbm5lY3QodGhpcy5jb25uZWN0SWQsIHtcbiAgICAgICAgICAgIHJlbGlhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmhvc3RDb25uZWN0aW9uID0gbmV3IE5ldHdvcmtDb25uZWN0aW9uKHRoaXMsIHVuZGVmaW5lZCwgY29ubik7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTmV0d29ya0Nvbm5lY3Rpb24gaW1wbGVtZW50cyBQMnBDb25uZWN0aW9uIHtcbiAgICBwYXJlbnQ6IE5ldHdvcmtNYW5hZ2VyO1xuICAgIGNvbm5lY3Rpb246IFBlZXIuRGF0YUNvbm5lY3Rpb247XG5cbiAgICBvbmRhdGE/OiAoZGF0YTogYW55LCBjb25uOiBQMnBDb25uZWN0aW9uKSA9PiB2b2lkO1xuICAgIGNoYW5uZWxJZDogbnVtYmVyO1xuICAgIG5leHRQYWNrZXRJZDogbnVtYmVyID0gLTE7XG5cbiAgICBib290c3RyYXA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBidWZmZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIG9uQnVmZmVyQ2hhbmdlPzogKGJ1ZmZlcmVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBOZXR3b3JrTWFuYWdlciwgY2hJZDogbnVtYmVyIHwgdW5kZWZpbmVkLCBjb25uZWN0aW9uOiBQZWVyLkRhdGFDb25uZWN0aW9uKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmNoYW5uZWxJZCA9IGNoSWQgfHwgMDtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgaWYgKHBhcmVudC5pc0hvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuYm9vdHN0cmFwID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ29wZW4nLCB0aGlzLm9uT3Blbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29ubmVjdGlvbi5vbignZGF0YScsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICBjb25uZWN0aW9uLm9uKCdjbG9zZScsIHRoaXMub25DbG9zZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5kYXRhQ2hhbm5lbC5vbmJ1ZmZlcmVkYW1vdW50bG93ID0gdGhpcy51cGRhdGVCdWZmZXJlZC5iaW5kKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZCh0aGlzLmNoYW5uZWxJZCk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsLnJlZ2lzdGVyTmV3Q29ubmVjdGlvbih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGF0YShkYXRhOiBhbnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvb3RzdHJhcCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubXlJZCA9IGRhdGEgYXMgbnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbC5teUlkID0gZGF0YSBhcyBudW1iZXI7XG4gICAgICAgICAgICB0aGlzLmJvb3RzdHJhcCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsLnJlZ2lzdGVyTmV3Q29ubmVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9uZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uZGF0YShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWwucmVtb3ZlQ29ubmVjdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICBzZW5kKGRhdGE6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZChkYXRhKTtcbiAgICAgICAgdGhpcy51cGRhdGVCdWZmZXJlZCgpO1xuICAgIH1cblxuICAgIGJ1ZmZlcmVkQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uZGF0YUNoYW5uZWwuYnVmZmVyZWRBbW91bnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVCdWZmZXJlZCgpIHtcbiAgICAgICAgbGV0IG9sZEJ1ZmZlcmVkID0gdGhpcy5idWZmZXJlZDtcbiAgICAgICAgbGV0IGJ1ZmZlcmVkQW1vdW50ID0gdGhpcy5jb25uZWN0aW9uLmJ1ZmZlclNpemU7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24uZGF0YUNoYW5uZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgYnVmZmVyZWRBbW91bnQgKz0gdGhpcy5jb25uZWN0aW9uLmRhdGFDaGFubmVsLmJ1ZmZlcmVkQW1vdW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyZWQgPSBidWZmZXJlZEFtb3VudCAhPT0gMDtcbiAgICAgICAgaWYgKG9sZEJ1ZmZlcmVkICE9PSB0aGlzLmJ1ZmZlcmVkICYmIHRoaXMub25CdWZmZXJDaGFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vbkJ1ZmZlckNoYW5nZSh0aGlzLmJ1ZmZlcmVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtQaGFzZX0gZnJvbSBcIi4vcGhhc2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9lY3Mvd29ybGRcIjtcbmltcG9ydCB7cmVnaXN0ZXJDb21tb25TdG9yYWdlfSBmcm9tIFwiLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgRWNzUGhhc2UgZXh0ZW5kcyBQaGFzZSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBpc01hc3RlcjogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICAgICAgdGhpcy53b3JsZCA9IG5ldyBXb3JsZChpc01hc3Rlcik7XG5cbiAgICAgICAgdGhpcy5lY3NTZXR1cCgpO1xuICAgIH1cblxuICAgIGVjc1NldHVwKCk6IHZvaWQge1xuICAgICAgICByZWdpc3RlckNvbW1vblN0b3JhZ2UodGhpcy53b3JsZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJTeXN0ZW1zKClcbiAgICB9XG5cbiAgICByZWdpc3RlclN5c3RlbXMoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBzdXBlci5lbmFibGUoKTtcbiAgICAgICAgdGhpcy53b3JsZC5lbmFibGUoKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMud29ybGQuZGVzdHJveSgpO1xuICAgIH1cbn0iLCJpbXBvcnQge0VkaXRNYXBQaGFzZX0gZnJvbSBcIi4vZWRpdE1hcFBoYXNlXCI7XG5pbXBvcnQge0NsaWVudE5ldHdvcmtTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIENsaWVudEVkaXRNYXBQaGFzZSBleHRlbmRzIEVkaXRNYXBQaGFzZSB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZykge1xuICAgICAgICBzdXBlcignZWRpdENsaWVudCcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNvbm5lY3RUbyhpZCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW1zKCkge1xuICAgICAgICB0aGlzLndvcmxkLmFkZFN5c3RlbShuZXcgQ2xpZW50TmV0d29ya1N5c3RlbSh0aGlzLndvcmxkLCB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwpKTtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJTeXN0ZW1zKCk7XG4gICAgfVxufSIsIlxuZXhwb3J0IGVudW0gRGlzcGxheVByZWNlZGVuY2Uge1xuICAgIEJBQ0tHUk9VTkQgPSAwLFxuICAgIEdSSUQgPSAxMCxcbiAgICBMSUdIVCA9IDEwMCxcbiAgICBXQUxMID0gMjEwLFxuICAgIFBST1AgPSAyMjAsXG4gICAgUElOUyA9IDIzMCxcbiAgICBXQUxMX0NSRUFUT1IgPSAyNjAsXG4gICAgVEVYVCA9IDMwMCxcbn1cblxuIiwiaW1wb3J0IEVkaXRNYXBDb21wb25lbnQgZnJvbSBcIi4uLy4uL3VpL2VkaXQvZWRpdE1hcC52dWVcIjtcbmltcG9ydCB7c3RhZ2V9IGZyb20gXCIuLi8uLi9pbmRleFwiO1xuaW1wb3J0IHtCYWNrZ3JvdW5kSW1hZ2VTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrZ3JvdW5kSW1hZ2VTeXN0ZW1cIjtcbmltcG9ydCB7U2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7TmV0d29ya01hbmFnZXJ9IGZyb20gXCIuLi8uLi9uZXR3b3JrL25ldHdvcmtNYW5hZ2VyXCI7XG5pbXBvcnQge0hvc3RFZGl0TWFwUGhhc2V9IGZyb20gXCIuL2hvc3RFZGl0TWFwUGhhc2VcIjtcbmltcG9ydCB7R2FtZU1hcH0gZnJvbSBcIi4uLy4uL21hcC9nYW1lTWFwXCI7XG5pbXBvcnQge1BpblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BpblN5c3RlbVwiO1xuaW1wb3J0IHtXYWxsU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvd2FsbFN5c3RlbVwiO1xuaW1wb3J0IHtMaWdodFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1RleHRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3RleHRTeXN0ZW1cIjtcbmltcG9ydCB7VmlzaWJpbGl0eVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0IHtJbnRlcmFjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7UGxheWVyU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge1Zpc2liaWxpdHlBd2FyZVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdmlzaWJpbGl0eUF3YXJlU3lzdGVtXCI7XG5pbXBvcnQge0Rvb3JTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9kb29yU3lzdGVtXCI7XG5pbXBvcnQge1Byb3BTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wcm9wU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlHcmFwaGljU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtUb29sU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge0dyaWRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge0Vjc1BoYXNlfSBmcm9tIFwiLi4vZWNzUGhhc2VcIjtcbmltcG9ydCB7UGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7Q29tbWFuZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZFN5c3RlbVwiO1xuaW1wb3J0IHtDb21tYW5kSGlzdG9yeVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvY29tbWFuZEhpc3RvcnlTeXN0ZW1cIjtcbmltcG9ydCB7TGF5ZXJTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlSZWN0U2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpUmVjdFNlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtXZWJLZXlib2FyZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2sva2V5Ym9hcmRTeXN0ZW1cIjtcblxuXG5leHBvcnQgY2xhc3MgRWRpdE1hcFBoYXNlIGV4dGVuZHMgRWNzUGhhc2Uge1xuICAgIG5ldHdvcmtNYW5hZ2VyITogTmV0d29ya01hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGlzSG9zdDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihuYW1lLCBpc0hvc3QpO1xuICAgIH1cblxuICAgIGVjc1NldHVwKCkge1xuICAgICAgICB0aGlzLnNldHVwTmV0d29ya01hbmFnZXIoKTtcblxuICAgICAgICBzdXBlci5lY3NTZXR1cCgpO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdzZWxlY3Rpb25fdXBkYXRlJywgKGdyb3VwOiBTZWxlY3Rpb25TeXN0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkRW50aXR5T3B0cyA9IGdyb3VwLmdldENvbW1vbkVudGl0eU9wdHMoKTtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkQ29tcG9uZW50cyA9IGdyb3VwLmdldENvbW1vbkNvbXBvbmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkQWRkYWJsZSA9IGdyb3VwLmdldEFkZGFibGVDb21wb25lbnRzKCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW1zKCkge1xuICAgICAgICBzdXBlci5yZWdpc3RlclN5c3RlbXMoKTtcbiAgICAgICAgbGV0IHcgPSB0aGlzLndvcmxkO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQ29tbWFuZFN5c3RlbSh3KSk7XG4gICAgICAgIGlmICh3LmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB3LmFkZFN5c3RlbShuZXcgQ29tbWFuZEhpc3RvcnlTeXN0ZW0odykpO1xuICAgICAgICB9XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBXZWJLZXlib2FyZFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBMYXllclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaXhpQm9hcmRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgU2VsZWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlSZWN0U2VsZWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFRvb2xTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgR3JpZFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBJbnRlcmFjdGlvblN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBUZXh0U3lzdGVtKCkpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGl4aUdyYXBoaWNTeXN0ZW0odykpO1xuXG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBCYWNrZ3JvdW5kSW1hZ2VTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgV2FsbFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBEb29yU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFZpc2liaWxpdHlTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgVmlzaWJpbGl0eUF3YXJlU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpblN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQcm9wU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBsYXllclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBMaWdodFN5c3RlbSh3KSk7XG4gICAgfVxuXG4gICAgc2V0dXBOZXR3b3JrTWFuYWdlcigpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrTWFuYWdlciA9IG5ldyBOZXR3b3JrTWFuYWdlcih0aGlzLndvcmxkLmlzTWFzdGVyKTtcbiAgICAgICAgdGhpcy5uZXR3b3JrTWFuYWdlci5vbihcInJlYWR5XCIsIHRoaXMub25OZXR3b3JrUmVhZHksIHRoaXMpO1xuICAgICAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyLm9uKFwiZXJyb3JcIiwgdGhpcy5vbk5ldHdvcmtFcnJvciwgdGhpcyk7XG5cbiAgICAgICAgbGV0IGNvbm5VcGRhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZ1ZS5jb25uZWN0aW9uQ291bnQgPSB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwuY29ubmVjdGlvbnMubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgY2hFdmVudHMgPSB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwuZXZlbnRFbWl0dGVyO1xuICAgICAgICBjaEV2ZW50cy5vbignX2RldmljZV9qb2luJywgY29ublVwZGF0ZSlcbiAgICAgICAgY2hFdmVudHMub24oJ19kZXZpY2VfbGVmdCcsIGNvbm5VcGRhdGUpXG4gICAgICAgIGNoRXZlbnRzLm9uKCdfYnVmZmVyaW5nX3VwZGF0ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudnVlLmNvbm5lY3Rpb25CdWZmZXJpbmcgPSB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwuYnVmZmVyaW5nQ2hhbm5lbHMgPiAwO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBvdmVycmlkZXNcblxuICAgIHByaXZhdGUgb25OZXR3b3JrUmVhZHkoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTmV0d29yayBpcyByZWFkeSEgc2lkZTogXCIgKyAodGhpcy5uZXR3b3JrTWFuYWdlci5pc0hvc3QgPyBcIm1hc3RlclwiIDogXCJwbGF5ZXJcIikpO1xuICAgICAgICBpZiAodGhpcy5uZXR3b3JrTWFuYWdlci5pc0hvc3QpIHtcbiAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsICcjcCcgKyB0aGlzLm5ldHdvcmtNYW5hZ2VyLnBlZXIuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk5ldHdvcmtFcnJvcihlcnI6IGFueSkge1xuICAgICAgICAvLyBUT0RPOiBvcGVuIG1vZGFsIG9yIHNvbWV0aGluZ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZnJvbSBwZWVyanM6IFwiLCBlcnIudHlwZSk7XG4gICAgICAgIGlmIChlcnIudHlwZSA9PT0gJ3NlcnZlci1lcnJvcicpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3IgY29ubmVjdGluZyB0byBwZWVyanMgaW5zdGFuY2UsIHlvdSdyZSBvZmZsaW5lIG5vd1wiKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobmV3IEdhbWVNYXAoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVyci50eXBlID09PSAncGVlci11bmF2YWlsYWJsZScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBpbnZpdGUgbGlua1wiKTtcblxuICAgICAgICAgICAgYWxlcnQoXCJJbnZhbGlkIGludml0ZSBsaW5rXCIpO1xuXG4gICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCAnICcpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobmV3IEdhbWVNYXAoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVyci50eSA9PT0gJ25ldHdvcmsnKSB7XG4gICAgICAgICAgICBhbGVydChcIkNvbm5lY3Rpb24gbG9zdFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KGVycik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHVpKCkge1xuICAgICAgICBsZXQgdWkgPSBuZXcgRWRpdE1hcENvbXBvbmVudCh7XG4gICAgICAgICAgICBwcm9wc0RhdGE6IHtcbiAgICAgICAgICAgICAgICBwaGFzZTogdGhpcyxcbiAgICAgICAgICAgICAgICB3b3JsZDogdGhpcy53b3JsZCxcbiAgICAgICAgICAgICAgICBpc0FkbWluOiB0aGlzLndvcmxkLmlzTWFzdGVyLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8odWkgYXMgYW55KS5waGFzZSA9IHRoaXM7XG4gICAgICAgIC8vKHVpIGFzIGFueSkuaXNBZG1pbiA9IHRoaXMud29ybGQuaXNNYXN0ZXI7XG4gICAgICAgIHJldHVybiB1aTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG5cbiAgICAgICAgdGhpcy5uZXR3b3JrTWFuYWdlci5kaXNjb25uZWN0KCk7XG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwUGhhc2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBOYW1lQ29tcG9uZW50LCBQb3NpdGlvbkNvbXBvbmVudCwgVHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrZ3JvdW5kSW1hZ2VTeXN0ZW1cIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcbmltcG9ydCB7R2FtZU1hcH0gZnJvbSBcIi4uLy4uL21hcC9nYW1lTWFwXCI7XG5pbXBvcnQge01hcExldmVsfSBmcm9tIFwiLi4vLi4vbWFwL21hcExldmVsXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7SG9zdE5ldHdvcmtTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcbmltcG9ydCB7U2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7ZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7XG4gICAgQkFDS0dST1VORF9MQVlFUl9UWVBFLFxuICAgIEJhY2tncm91bmRMYXllclJlc291cmNlLFxuICAgIFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgIFBhcmVudExheWVyQ29tcG9uZW50XG59IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBIb3N0RWRpdE1hcFBoYXNlIGV4dGVuZHMgRWRpdE1hcFBoYXNlIHtcbiAgICBtYXA6IEdhbWVNYXA7XG4gICAgY3VycmVudExldmVsOiBNYXBMZXZlbDtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogR2FtZU1hcCkge1xuICAgICAgICBzdXBlcignZWRpdEhvc3QnLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMubWFwLmxldmVscy5zaXplID09IDApIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmxldmVscy5zZXQoNDIsIG5ldyBNYXBMZXZlbCg0MikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gdGhpcy5tYXAubGV2ZWxzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcblxuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21tYW5kX2hpc3RvcnlfY2hhbmdlJywgKGNhblVuZG86IGJvb2xlYW4sIGNhblJlZG86IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIHRoaXMudnVlLmNhblVuZG8gPSBjYW5VbmRvO1xuICAgICAgICAgICAgdGhpcy52dWUuY2FuUmVkbyA9IGNhblJlZG87XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdzZWxlY3Rpb25fdXBkYXRlJywgKGdyb3VwOiBTZWxlY3Rpb25TeXN0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkRW50aXR5T3B0cyA9IGdyb3VwLmdldENvbW1vbkVudGl0eU9wdHMoKTtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkQ29tcG9uZW50cyA9IGdyb3VwLmdldENvbW1vbkNvbXBvbmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkQWRkYWJsZSA9IGdyb3VwLmdldEFkZGFibGVDb21wb25lbnRzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdsYXllcl9sb2NrX3RvZ2dsZScsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBsb2NrZWQgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShCQUNLR1JPVU5EX0xBWUVSX1RZUEUpIGFzIEJhY2tncm91bmRMYXllclJlc291cmNlKS5sb2NrZWQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCQUNLR1JPVU5EX0xBWUVSX1RZUEUsIHsgbG9ja2VkOiAhbG9ja2VkIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWdpc3RlclN5c3RlbXMoKSB7XG4gICAgICAgIHRoaXMud29ybGQuYWRkU3lzdGVtKG5ldyBIb3N0TmV0d29ya1N5c3RlbSh0aGlzLndvcmxkLCB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwpKTtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJTeXN0ZW1zKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25Ecm9wKGV2ZW50OiBEcmFnRXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgbGV0IHggPSBldmVudC5wYWdlWDtcbiAgICAgICAgbGV0IHkgPSBldmVudC5wYWdlWTtcblxuICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyIS5pdGVtcykge1xuICAgICAgICAgICAgbGV0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZiBvZiBldmVudC5kYXRhVHJhbnNmZXIhLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBmLmdldEFzRmlsZSgpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9uRmlsZURyb3AocmVzLCB4LCB5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub25GaWxlRHJvcChldmVudC5kYXRhVHJhbnNmZXIhLmZpbGVzLCB4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRHJhZ092ZXIoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyIS5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkZpbGVEcm9wKGZpbGVzOiBBYnNGaWxlTGlzdCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICAgIGxldCBmaXJzdEZpbGUgPSBmaWxlc1swXTtcblxuICAgICAgICAvLyBTb21ldGltZXMgdGhpcyBkb2VzIG5vdCB3b3JrIGJ1dCB0aGUgcHJvYmxlbSBpcyBub3QgdGhlIG1hdHJpeCBjYWxjdWxhdGlvbiwgaXQncyB0aGUgYnJvd3NlciBjb29yZHNcbiAgICAgICAgLy8gc28gaWYgeW91IGhhdmUgZmlyZWZveCBhbmQgbGludXggKHRoaXMgc2VlbXMgdG8gYmUgdGhlIHdyb25nIHN0YWNrKSBhbmQgaGF2ZSBzcGFyZSB0aW1lLCBwbHMgZGVidWcgdGhpcy5cbiAgICAgICAgLy8gQ291bGQgYmUgY2F1c2VkIGJ5OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjEjYzgwXG4gICAgICAgIGxldCBwID0gbmV3IFBJWEkuUG9pbnQoeCwgeSk7XG4gICAgICAgIGxldCBwaXhpQm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBwaXhpQm9hcmQuYm9hcmQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHBpeGlCb2FyZC5ib2FyZC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHAsIHApO1xuXG4gICAgICAgIGlmIChmaXJzdEZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG4gICAgICAgICAgICBsZXQgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaXJzdEZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTmFtZUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvc2l0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHAueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFja2dyb3VuZF9pbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVHlwZTogZmlyc3RGaWxlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IG5ldyBVaW50OEFycmF5KGF3YWl0IGZpcnN0RmlsZS5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgQmFja2dyb3VuZEltYWdlQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0gYXMgU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy53b3JsZCwgY21kKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW1hZ2UgbG9hZGVkXCIpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIGV4cG9ydE1hcCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwuc2F2ZUZyb20odGhpcy53b3JsZCk7XG4gICAgICAgIGxldCBibG9iID0gYXdhaXQgdGhpcy5tYXAuc2F2ZVRvRmlsZSgpO1xuICAgICAgICB0aGlzLnNhdmVCbG9iKGJsb2IsIFwibWFwLmRuZG1cIik7XG4gICAgfVxuXG4gICAgc2F2ZUJsb2IoYmxvYjogQmxvYiwgZmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICBsZXQgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcIikgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuXG4gICAgICAgIGFwcC52aWV3Lm9uZHJvcCA9IHRoaXMub25Ecm9wLmJpbmQodGhpcyk7XG4gICAgICAgIGFwcC52aWV3Lm9uZHJhZ292ZXIgPSB0aGlzLm9uRHJhZ092ZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbC5sb2FkSW50byh0aGlzLndvcmxkKTtcblxuICAgICAgICAvL2xldCBjaCA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5ldmVudEVtaXR0ZXI7XG4gICAgICAgIC8vY2gub24oXCJfZGV2aWNlX2pvaW5cIiwgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIC8vbGV0IGNoID0gdGhpcy5uZXR3b3JrTWFuYWdlci5jaGFubmVsLmV2ZW50RW1pdHRlcjtcbiAgICAgICAgLy9jaC5vZmYoXCJfZGV2aWNlX2pvaW5cIiwgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuXG4gICAgICAgIGFwcC52aWV3Lm9uZHJvcCA9ICgpID0+IHt9O1xuICAgICAgICBhcHAudmlldy5vbmRyYWdvdmVyID0gKCkgPT4ge307XG5cbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgIH1cblxufVxuXG5cbmludGVyZmFjZSBBYnNGaWxlTGlzdCB7XG4gICAgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgW2luZGV4OiBudW1iZXJdOiBGaWxlO1xufVxuIiwiaW1wb3J0IHtQaGFzZX0gZnJvbSBcIi4vcGhhc2VcIjtcbmltcG9ydCB7c3RhZ2V9IGZyb20gXCIuLi9pbmRleFwiXG5cbmltcG9ydCBIb21lQ29tcG9uZW50IGZyb20gXCIuLi91aS9ob21lL2hvbWUudnVlXCI7XG5pbXBvcnQge0dhbWVNYXB9IGZyb20gXCIuLi9tYXAvZ2FtZU1hcFwiO1xuaW1wb3J0IHtIb3N0RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwL2hvc3RFZGl0TWFwUGhhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEhvbWVQaGFzZSBleHRlbmRzIFBoYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImhvbWVcIik7XG4gICAgfVxuXG4gICAgdWkoKTogVnVlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb21lQ29tcG9uZW50KCkgYXMgdW5rbm93biBhcyBWdWU7XG4gICAgfVxuXG4gICAgY3JlYXRlTWFwKCkge1xuICAgICAgICBsZXQgbWFwID0gbmV3IEdhbWVNYXAoKTtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobWFwKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZWRpdE1hcChmaWxlOiBGaWxlKSB7XG4gICAgICAgIGxldCBtYXAgPSBhd2FpdCBHYW1lTWFwLmxvYWRGcm9tRmlsZShmaWxlKTtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobWFwKSk7XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdjcmVhdGVfbWFwJywgdGhpcy5jcmVhdGVNYXAsIHRoaXMpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdlZGl0JywgdGhpcy5lZGl0TWFwLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdlZGl0JywgdGhpcy5lZGl0TWFwLCB0aGlzKTtcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlci5vbignY3JlYXRlX21hcCcsIHRoaXMuY3JlYXRlTWFwLCB0aGlzKTtcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5pbXBvcnQgTG9hZGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiO1xuXG5leHBvcnQgY2xhc3MgTG9hZGluZ1BoYXNlIGV4dGVuZHMgUGhhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImxvYWRpbmdcIik7XG4gICAgfVxuXG4gICAgdWkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9hZGluZ0NvbXBvbmVudCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcbmltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG5leHBvcnQgY2xhc3MgUGhhc2Uge1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIHZ1ZTogYW55O1xuICAgIHVpRXZlbnRFbWl0dGVyOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgICAgICAvLyBDcmVhdGUgVnVlIGluc3RhbmNlIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGhhbmRsaW5nIHRoZSBVSSBldmVudHMgb2YgdGhlIGN1cnJlbnQgcGhhc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS92dWVqb2JzL2NyZWF0ZS1hLWdsb2JhbC1ldmVudC1idXMtaW4tdnVlLWpzLTgzOGE1ZDlhYjAzYVxuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cblxuICAgIGxvZyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIGAgKyBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB1aSgpOiBWdWUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5sb2coXCJFbmFibGluZ1wiKTtcblxuICAgICAgICAoVnVlLnByb3RvdHlwZSBhcyBhbnkpLmV2ZW50RW1pdHRlciA9IHRoaXMudWlFdmVudEVtaXR0ZXI7XG5cbiAgICAgICAgdGhpcy52dWUgPSB0aGlzLnVpKCk7XG4gICAgICAgIGlmICh0aGlzLnZ1ZSkge1xuICAgICAgICAgICAgdGhpcy52dWUuJG1vdW50KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudnVlLiRlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25lIF5eXG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIERpc2FibGluZ2ApO1xuICAgICAgICBpZiAodGhpcy52dWUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy52dWUuJGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKWAgcmVzdWx0LlxuICAgICAqIFRoaXMgaXMgZG9uZSB0byBoaWRlIHRoaXMgb2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSBvYnNlcnZlcnMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2lzc3Vlcy8yNjM3KVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gdHlwZSBuYW1lXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3ltYm9sL3RvU3RyaW5nVGFnfVxuICAgICAqL1xuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgY2FuIGdvIGhlcmUgcmVhbGx5IGFzIGxvbmcgYXMgaXQncyBub3QgJ09iamVjdCdcbiAgICAgICAgcmV0dXJuICdPYmplY3ROb09ic2VydmUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGFnZSBleHRlbmRzIFBoYXNlIHtcbiAgICBwaGFzZTogUGhhc2UgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICB9XG5cbiAgICBzZXRQaGFzZShwaGFzZTogUGhhc2UgfCBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLnBoYXNlKVxuICAgICAgICAgICAgdGhpcy5waGFzZS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMucGhhc2UgPSBwaGFzZTtcbiAgICAgICAgaWYgKHRoaXMucGhhc2UpXG4gICAgICAgICAgICB0aGlzLnBoYXNlLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5zZXRQaGFzZShudWxsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1Z1ZSwgV2F0Y2h9IGZyb20gXCJ2dWUtcHJvcGVydHktZGVjb3JhdG9yXCI7XG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XG5pbXBvcnQge1Z1ZURlY29yYXRvcn0gZnJvbSBcInZ1ZS1jbGFzcy1jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQaGFzZVZ1ZSB7XG4gICAgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXI7XG59XG5cbmV4cG9ydCB7XG4gICAgVnVlLFxuICAgIENvbXBvbmVudCBhcyBWQ29tcG9uZW50LFxuICAgIFByb3AgYXMgVlByb3AsXG4gICAgV2F0Y2ggYXMgVldhdGNoLFxuICAgIFJlZiBhcyBWUmVmLFxufSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBWV2F0Y2hJbW1lZGlhdGUobmFtZTogc3RyaW5nKTogVnVlRGVjb3JhdG9yIHtcbiAgICByZXR1cm4gV2F0Y2gobmFtZSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG59XG5cbiIsIlxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlSZW1vdmVFbGVtPFQ+KGFycjogVFtdLCBlbGVtOiBUKTogYm9vbGVhbiB7XG4gICAgbGV0IGluZGV4ID0gYXJyLmluZGV4T2YoZWxlbSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIGluZGV4ICE9PSAtMTtcbn0iLCJcbi8vIEJpbmFyeSBoZWFwIGltcGxlbWVudGF0aW9uIGZyb206XG4vLyBodHRwOi8vZWxvcXVlbnRqYXZhc2NyaXB0Lm5ldC9hcHBlbmRpeDIuaHRtbFxuXG5leHBvcnQgY2xhc3MgQmluYXJ5SGVhcDxUPiB7XG4gICAgY29udGVudCA9IG5ldyBBcnJheTxUPigpO1xuICAgIGVsZW1NYXAgPSBuZXcgTWFwPFQsIG51bWJlcj4oKTtcbiAgICBjbXBMdDogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihjbXBMdDogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jbXBMdCA9IGNtcEx0O1xuICAgIH1cblxuICAgIHB1c2goZWxlbWVudDogVCkge1xuICAgICAgICAvLyBBZGQgdGhlIG5ldyBlbGVtZW50IHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5LlxuICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVsZW1lbnQsIHRoaXMuY29udGVudC5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNvbnRlbnQucHVzaChlbGVtZW50KTtcbiAgICAgICAgLy8gQWxsb3cgaXQgdG8gYnViYmxlIHVwLlxuICAgICAgICB0aGlzLmJ1YmJsZVVwKHRoaXMuY29udGVudC5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICBwb3AoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBTdG9yZSB0aGUgZmlyc3QgZWxlbWVudCBzbyB3ZSBjYW4gcmV0dXJuIGl0IGxhdGVyLlxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb250ZW50WzBdO1xuICAgICAgICB0aGlzLmVsZW1NYXAuZGVsZXRlKHJlc3VsdCk7XG4gICAgICAgIC8vIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAgbGV0IGVuZCA9IHRoaXMuY29udGVudC5wb3AoKSE7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgZWxlbWVudHMgbGVmdCwgcHV0IHRoZSBlbmQgZWxlbWVudCBhdCB0aGVcbiAgICAgICAgLy8gc3RhcnQsIGFuZCBsZXQgaXQgc2luayBkb3duLlxuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50WzBdID0gZW5kO1xuICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbmQsIDApO1xuICAgICAgICAgICAgdGhpcy5zaW5rRG93bigwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHBvcEVsZW0oZTogVCk6IHZvaWQge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmVsZW1NYXAuZ2V0KGUpO1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZWxlbU1hcC5kZWxldGUoZSk7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCkhO1xuICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuY29udGVudC5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNvbnRlbnRbaW5kZXhdID0gZW5kO1xuICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVuZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLnNpbmtEb3duKGluZGV4KTtcbiAgICAgICAgdGhpcy5idWJibGVVcChpbmRleCk7Ly8gRml4LCBzb21lIHN5c3RlbXMgd2hlcmUgYSA8IGIuIGIgPCBjID0+IGEgPCBjIGlzIG5vdCBtYWludGFpbmVkXG4gICAgfVxuXG4gICAgaGFzRWxlbShlOiBUKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1NYXAuaGFzKGUpO1xuICAgIH1cblxuICAgIHBlZWsoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbMF07XG4gICAgfVxuXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBidWJibGVVcChuOiBudW1iZXIpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGVsZW1lbnQgdGhhdCBoYXMgdG8gYmUgbW92ZWQuXG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5jb250ZW50W25dO1xuICAgICAgICAvLyBXaGVuIGF0IDAsIGFuIGVsZW1lbnQgY2FuIG5vdCBnbyB1cCBhbnkgZnVydGhlci5cbiAgICAgICAgd2hpbGUgKG4gPiAwKSB7XG4gICAgICAgICAgICAvLyBDb21wdXRlIHRoZSBwYXJlbnQgZWxlbWVudCdzIGluZGV4LCBhbmQgZmV0Y2ggaXQuXG4gICAgICAgICAgICBsZXQgcGFyZW50TiA9IE1hdGguZmxvb3IoKG4gKyAxKSAvIDIpIC0gMTtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmNvbnRlbnRbcGFyZW50Tl07XG4gICAgICAgICAgICAvLyBTd2FwIHRoZSBlbGVtZW50cyBpZiB0aGUgcGFyZW50IGlzIGdyZWF0ZXIuXG4gICAgICAgICAgICBpZiAodGhpcy5jbXBMdChlbGVtZW50LCBwYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W3BhcmVudE5dID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbbl0gPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbGVtZW50LCBwYXJlbnROKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KHBhcmVudCwgbik7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlICduJyB0byBjb250aW51ZSBhdCB0aGUgbmV3IHBvc2l0aW9uLlxuICAgICAgICAgICAgICAgIG4gPSBwYXJlbnROO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm91bmQgYSBwYXJlbnQgdGhhdCBpcyBsZXNzLCBubyBuZWVkIHRvIG1vdmUgaXQgZnVydGhlci5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2lua0Rvd24objogbnVtYmVyKSB7XG4gICAgICAgIC8vIExvb2sgdXAgdGhlIHRhcmdldCBlbGVtZW50IGFuZCBpdHMgc2NvcmUuXG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmNvbnRlbnQubGVuZ3RoO1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgaW5kaWNlcyBvZiB0aGUgY2hpbGQgZWxlbWVudHMuXG4gICAgICAgICAgICBsZXQgY2hpbGQyTiA9IChuICsgMSkgKiAyLCBjaGlsZDFOID0gY2hpbGQyTiAtIDE7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIG5ldyBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCxcbiAgICAgICAgICAgIC8vIGlmIGFueS5cbiAgICAgICAgICAgIGxldCBzd2FwID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjaGlsZDE6IFQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZmlyc3QgY2hpbGQgZXhpc3RzIChpcyBpbnNpZGUgdGhlIGFycmF5KS4uLlxuICAgICAgICAgICAgaWYgKGNoaWxkMU4gPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBMb29rIGl0IHVwIGFuZCBjb21wdXRlIGl0cyBzY29yZS5cbiAgICAgICAgICAgICAgICBjaGlsZDEgPSB0aGlzLmNvbnRlbnRbY2hpbGQxTl07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNjb3JlIGlzIGxlc3MgdGhhbiBvdXIgZWxlbWVudCdzLCB3ZSBuZWVkIHRvIHN3YXAuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoY2hpbGQxLCBlbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IGNoaWxkMU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEbyB0aGUgc2FtZSBjaGVja3MgZm9yIHRoZSBvdGhlciBjaGlsZC5cbiAgICAgICAgICAgIGlmIChjaGlsZDJOIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkMiA9IHRoaXMuY29udGVudFtjaGlsZDJOXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbXBMdChjaGlsZDIsIHN3YXAgPT0gbnVsbCA/IGVsZW1lbnQgOiBjaGlsZDEhKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2FwID0gY2hpbGQyTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IG5lZWRzIHRvIGJlIG1vdmVkLCBzd2FwIGl0LCBhbmQgY29udGludWUuXG4gICAgICAgICAgICBpZiAoc3dhcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gdGhpcy5jb250ZW50W3N3YXBdO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtzd2FwXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldCh0aGlzLmNvbnRlbnRbbl0sIG4pO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZWxlbWVudCwgc3dhcCk7XG4gICAgICAgICAgICAgICAgbiA9IHN3YXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlIGFyZSBkb25lLlxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiLyoqXG4gKiBCYXNpYyBCaXRTZXRcbiAqL1xuZXhwb3J0IGNsYXNzIEJpdFNldCB7XG4gICAgZGF0YTogVWludDMyQXJyYXk7XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBudW1iZXIgfCBVaW50MzJBcnJheSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoTWF0aC5jZWlsKGxlbmd0aCAvIDMyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLmZsb29yKGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBVaW50MzJBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBsZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPDwgNTtcbiAgICB9XG5cbiAgICBnZXQoaTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGkgfD0gMDtcbiAgICAgICAgbGV0IHdpID0gaSA+Pj4gNTtcbiAgICAgICAgaWYgKHdpID49IHRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmRhdGFbd2ldO1xuICAgICAgICByZXR1cm4gISEoKGIgPj4+IGkpICYgMSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbnN1cmVDYXBhY2l0eSh3aTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBuZXdMZW4gPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobmV3TGVuIDwgd2kpIG5ld0xlbiAqPSAyO1xuICAgICAgICBpZiAobmV3TGVuID09PSB0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQzMkFycmF5KG5ld0xlbik7XG4gICAgICAgIG5ld0RhdGEuc2V0KHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ld0RhdGE7XG4gICAgfVxuXG4gICAgc2V0KGk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpIHw9IDA7XG5cbiAgICAgICAgbGV0IHdpID0gaSA+Pj4gNTtcbiAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh3aSk7XG4gICAgICAgIHRoaXMuZGF0YVt3aV0gfD0gMSA8PCBpO1xuICAgIH1cblxuICAgIHJlc2V0KGk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpIHw9IDA7XG5cbiAgICAgICAgbGV0IHdpID0gaSA+Pj4gNTtcbiAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh3aSk7XG4gICAgICAgIHRoaXMuZGF0YVt3aV0gJj0gfigxIDw8IGkpO1xuICAgIH1cblxuICAgIGlzQWxsKHRhcmdldDogYm9vbGVhbiwgdW50aWw/OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB0ID0gMHhGRkZGRkZGRjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb29wTGFzdCA9IHVudGlsID09PSB1bmRlZmluZWQgPyB0aGlzLmRhdGEubGVuZ3RoIDogKHVudGlsID4+PiA1KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvb3BMYXN0OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaV0gIT09IHQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bnRpbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBsZXQgaSA9ICgodW50aWwgLSAxKSA+PiA1KSArIDE7XG4gICAgICAgIGxldCBpbCA9IHVudGlsICYgMHgxRjtcbiAgICAgICAgbGV0IG1hc2sgPSAoMSA8PCBpbCkgLSAxO1xuXG4gICAgICAgIGxldCBkID0gdGhpcy5kYXRhW2ldO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBkID0gfmQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKGQgJiBtYXNrKSA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudGVtaXR0ZXIzXCI7XG5cbi8qKlxuICogVGhlIHRhc2sgb2YgdGhpcyBmdW5jdGlvbiBpcyB0byBicmluZyB0aGUgZXZlbnQgZnJvbSBhIHRoaXJkLXBhcnR5XG4gKiBFdmVudE1hbmFnZXIgKHRoYXQgY291bGQgYmUgdGhlIERPTSwgVnVlIG9yIHdoYXRldmVyKSB0byBFdmVudEVtaXR0ZXIzLlxuICovXG50eXBlIENhdGNoRXZlbnRGb3JFbWl0dGVyID0gKGV2ZW50OiBhbnksIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcikgPT4gdm9pZDtcblxuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlcldyYXBwZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHJlYWRvbmx5IGNhdGNoZXI6IENhdGNoRXZlbnRGb3JFbWl0dGVyO1xuICAgIHByaXZhdGUgY2F1Z2h0OiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuXG4gICAgY29uc3RydWN0b3IoY2F0Y2hlcjogQ2F0Y2hFdmVudEZvckVtaXR0ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYXRjaGVyID0gY2F0Y2hlcjtcbiAgICB9XG5cbiAgICBjYXRjaEV2ZW50KGV2ZW50OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jYXRjaGVyKGV2ZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5jYXVnaHQuYWRkKGV2ZW50KTtcbiAgICB9XG5cbiAgICBvbihldmVudDogc3RyaW5nLCBmbjogRXZlbnRFbWl0dGVyLkxpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGZuLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCF0aGlzLmNhdWdodC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZExpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGZuOiBFdmVudEVtaXR0ZXIuTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSk6IHRoaXMge1xuICAgICAgICBzdXBlci5hZGRMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQpO1xuICAgICAgICBpZiAoIXRoaXMuY2F1Z2h0LmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2F0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcbmltcG9ydCB7U3R1cGlkUG9pbnR9IGZyb20gXCIuLi9nZW9tZXRyeS9wb2ludFwiO1xuaW1wb3J0IHtJUG9pbnR9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi9nZW9tZXRyeS9hYWJiXCI7XG5cbnR5cGUgUFBvaW50ID0gUElYSS5Qb2ludDtcbmV4cG9ydCB0eXBlIFBvaW50ID0gW251bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb25Qb2ludEludGVyc2VjdChwb2ludDogUElYSS5JUG9pbnREYXRhLCBwb2x5Z29uOiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHggPSBwb2ludC54O1xuICAgIGNvbnN0IHkgPSBwb2ludC55O1xuICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcbiAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgY29uc3QgbGVuZ3RoID0gcG9seWdvbi5sZW5ndGggLyAyO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baSAqIDJdO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25bKGkgKiAyKSArIDFdO1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25baiAqIDJdO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bKGogKiAyKSArIDFdO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWFiYkFhYmJJbnRlcnNlY3QoYWw6IG51bWJlciwgYXQ6IG51bWJlciwgYXI6IG51bWJlciwgYWI6IG51bWJlcixcbiAgICBibDogbnVtYmVyLCBidDogbnVtYmVyLCBicjogbnVtYmVyLCBiYjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGFsIDwgYnIgJiYgYXIgPiBibCAmJiBhdCA8IGJiICYmIGFiID4gYnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0U3F1YXJlZDJkKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB4ID0geDEgLSB4MjtcbiAgICBsZXQgeSA9IHkxIC0geTI7XG4gICAgcmV0dXJuIHggKiB4ICsgeSAqIHlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3RQb2ludE9uU2VnbWVudChheDogbnVtYmVyLCBheTogbnVtYmVyLCBieDogbnVtYmVyLCBieTogbnVtYmVyLCBweDogbnVtYmVyLCBweTogbnVtYmVyKTogUG9pbnQgfCB1bmRlZmluZWQge1xuICAgIGlmIChheCA9PSBieCAmJiBheSA9PSBheSkgYXggLT0gMC4wMDAwMTtcblxuICAgIGxldCB1ID0gKChweCAtIGF4KSAqIChieCAtIGF4KSkgKyAoKHB5IC0gYXkpICogKGJ5IC0gYXkpKTtcblxuICAgIGxldCB1ZGVub20gPSBNYXRoLnBvdyhieCAtIGF4LCAyKSArIE1hdGgucG93KGJ5IC0gYXksIDIpO1xuXG4gICAgdSAvPSB1ZGVub207XG5cbiAgICBsZXQgcnggPSBheCArICh1ICogKGJ4IC0gYXgpKTtcbiAgICBsZXQgcnkgPSBheSArICh1ICogKGJ5IC0gYXkpKTtcblxuICAgIGxldCBtaW54LCBtYXh4LCBtaW55LCBtYXh5O1xuXG4gICAgbWlueCA9IE1hdGgubWluKGF4LCBieCk7XG4gICAgbWF4eCA9IE1hdGgubWF4KGF4LCBieCk7XG5cbiAgICBtaW55ID0gTWF0aC5taW4oYXksIGJ5KTtcbiAgICBtYXh5ID0gTWF0aC5tYXgoYXksIGJ5KTtcblxuICAgIGxldCBpc1ZhbGlkID0gKHJ4ID49IG1pbnggJiYgcnggPD0gbWF4eCkgJiYgKHJ5ID49IG1pbnkgJiYgcnkgPD0gbWF4eSk7XG5cbiAgICByZXR1cm4gaXNWYWxpZCA/IFtyeCwgcnldIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0TGluZVZzTGluZShhMTogU3R1cGlkUG9pbnQsIGEyOiBTdHVwaWRQb2ludCwgYjE6IFN0dXBpZFBvaW50LCBiMjogU3R1cGlkUG9pbnQsIHRhcmdldD86IFBQb2ludCk6IGJvb2xlYW4ge1xuICAgIGxldCBkYnggPSBiMi54IC0gYjEueDtcbiAgICBsZXQgZGJ5ID0gYjIueSAtIGIxLnk7XG4gICAgbGV0IGRheCA9IGEyLnggLSBhMS54O1xuICAgIGxldCBkYXkgPSBhMi55IC0gYTEueTtcblxuICAgIGxldCB1X2IgPSBkYnkgKiBkYXggLSBkYnggKiBkYXk7XG4gICAgaWYgKHVfYiA9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHVhID0gKGRieCAqIChhMS55IC0gYjEueSkgLSBkYnkgKiAoYTEueCAtIGIxLngpKSAvIHVfYjtcblxuICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0YXJnZXQuc2V0KGExLnggLSB1YSAqIC1kYXgsIGExLnkgLSB1YSAqIC1kYXkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFhYmJTYW1lT3JpZ2luRGlmZmVyZW5jZShvcmlnOiBJUG9pbnQsIGxhc3Q6IElQb2ludCwgbm93OiBJUG9pbnQsIGFkZGVkOiBBYWJiW10sIHJlbW92ZWQ6IEFhYmJbXSk6IHZvaWQge1xuICAgIGxldCB4QWN0ID0gMDtcbiAgICBpZiAobm93LnggIT0gbGFzdC54KSB7XG4gICAgICAgIGxldCB4Qm94ID0gbmV3IEFhYmIoXG4gICAgICAgICAgICBub3cueCwgb3JpZy55LFxuICAgICAgICAgICAgbGFzdC54LCBsYXN0LnksXG4gICAgICAgICk7XG4gICAgICAgIGxldCBhZGQgPSAobm93LnggPiBsYXN0LngpID09IChvcmlnLnggPCBub3cueCk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIHhBY3QgPSAxO1xuICAgICAgICAgICAgYWRkZWQucHVzaCh4Qm94KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHhBY3QgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaCh4Qm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCB5QWN0ID0gMDtcbiAgICBpZiAobm93LnkgIT0gbGFzdC55KSB7XG4gICAgICAgIGxldCB5Qm94ID0gbmV3IEFhYmIoXG4gICAgICAgICAgICBvcmlnLngsIGxhc3QueSxcbiAgICAgICAgICAgIGxhc3QueCwgbm93LnksXG4gICAgICAgICk7XG4gICAgICAgIGxldCBhZGQgPSAobm93LnkgPiBsYXN0LnkpID09IChvcmlnLnkgPCBsYXN0LnkpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICB5QWN0ID0gMTtcbiAgICAgICAgICAgIGFkZGVkLnB1c2goeUJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5QWN0ID0gLTE7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2goeUJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoeEFjdCA9PSB5QWN0KSB7XG4gICAgICAgIGxldCBib3ggPSBuZXcgQWFiYihcbiAgICAgICAgICAgIGxhc3QueCwgbGFzdC55LFxuICAgICAgICAgICAgbm93LngsIG5vdy55XG4gICAgICAgICk7XG4gICAgICAgIGlmICh4QWN0ID4gMCkge1xuICAgICAgICAgICAgYWRkZWQucHVzaChib3gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGJveCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJcbnR5cGUgUG9pbnQgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5jbGFzcyBOb2RlIHtcbiAgICBwb2ludDogUG9pbnQ7XG4gICAgbGVmdD86IE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgcmlnaHQ/OiBOb2RlID0gdW5kZWZpbmVkO1xuICAgIHBhcmVudD86IE5vZGU7XG4gICAgZGltZW5zaW9uOiBudW1iZXI7Ly8gMDogWCwgMTogWVxuXG4gICAgY29uc3RydWN0b3IocG9pbnQ6IFBvaW50LCBwYXJlbnQ6IE5vZGUgfCB1bmRlZmluZWQsIGRpbWVuc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uID0gZGltZW5zaW9uO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEsyZFRyZWUge1xuICAgIHJvb3Q/OiBOb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgcHJpdmF0ZSBkaXN0YW5jZShhOiBQb2ludCwgYjogUG9pbnQpOiBudW1iZXIge1xuICAgICAgICBsZXQgZHggPSBhWzBdIC0gYlswXTtcbiAgICAgICAgbGV0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhc3RTZWFyY2gocG9pbnQ6IFBvaW50LCBub2RlOiBOb2RlIHwgdW5kZWZpbmVkLCBwYXJlbnQ6IE5vZGUgfCB1bmRlZmluZWQpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChwb2ludFtub2RlLmRpbWVuc2lvbl0gPCBub2RlLnBvaW50W25vZGUuZGltZW5zaW9uXSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBub2RlU2VhcmNoKHBvaW50OiBQb2ludCk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHBvaW50WzBdID09PSBub2RlLnBvaW50WzBdICYmIHBvaW50WzFdID09PSBub2RlLnBvaW50WzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9pbnRbbm9kZS5kaW1lbnNpb25dIDwgbm9kZS5wb2ludFtub2RlLmRpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGluc2VydChwb2ludDogUG9pbnQpIHtcbiAgICAgICAgbGV0IGluc2VydFBvc2l0aW9uID0gdGhpcy5sYXN0U2VhcmNoKHBvaW50LCB0aGlzLnJvb3QsIHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKGluc2VydFBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBOb2RlKHBvaW50LCB1bmRlZmluZWQsIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld05vZGUgPSBuZXcgTm9kZShwb2ludCwgaW5zZXJ0UG9zaXRpb24sIChpbnNlcnRQb3NpdGlvbi5kaW1lbnNpb24gKyAxKSAmIDEpO1xuICAgICAgICBsZXQgZGltZW5zaW9uID0gaW5zZXJ0UG9zaXRpb24uZGltZW5zaW9uO1xuXG4gICAgICAgIGlmIChwb2ludFtkaW1lbnNpb25dIDwgaW5zZXJ0UG9zaXRpb24ucG9pbnRbZGltZW5zaW9uXSkge1xuICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24ubGVmdCA9IG5ld05vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRQb3NpdGlvbi5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgZmluZE1pbihub2RlOiBOb2RlIHwgdW5kZWZpbmVkLCBkaW06IG51bWJlcik6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUuZGltZW5zaW9uID09PSBkaW0pIHtcbiAgICAgICAgICAgIGlmIChub2RlLmxlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBkaW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3duID0gbm9kZS5wb2ludFtkaW1dO1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuZmluZE1pbihub2RlLmxlZnQsIGRpbSk7XG4gICAgICAgIGxldCByaWdodCA9IHRoaXMuZmluZE1pbihub2RlLnJpZ2h0LCBkaW0pO1xuICAgICAgICBsZXQgbWluID0gbm9kZTtcblxuICAgICAgICBpZiAobGVmdCAhPT0gdW5kZWZpbmVkICYmIGxlZnQucG9pbnRbZGltXSA8IG93bikge1xuICAgICAgICAgICAgbWluID0gbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmlnaHQgIT09IHVuZGVmaW5lZCAmJiByaWdodC5wb2ludFtkaW1dIDwgbWluLnBvaW50W2RpbV0pIHtcbiAgICAgICAgICAgIG1pbiA9IHJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZU5vZGUobm9kZTogTm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sZWZ0ID09PSB1bmRlZmluZWQgJiYgbm9kZS5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGltID0gbm9kZS5wYXJlbnQuZGltZW5zaW9uO1xuICAgICAgICAgICAgaWYgKG5vZGUucG9pbnRbZGltXSA8IG5vZGUucGFyZW50LnBvaW50W2RpbV0pIHtcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5sZWZ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5yaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSByaWdodCBzdWJ0cmVlIGlzIG5vdCBlbXB0eSwgc3dhcCB3aXRoIHRoZSBtaW5pbXVtIGVsZW1lbnQgb24gdGhlXG4gICAgICAgIC8vIG5vZGUncyBkaW1lbnNpb24uIElmIGl0IGlzIGVtcHR5LCB3ZSBzd2FwIHRoZSBsZWZ0IGFuZCByaWdodCBzdWJ0cmVlcyBhbmRcbiAgICAgICAgLy8gZG8gdGhlIHNhbWUuXG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBuZXh0Tm9kZSA9IHRoaXMuZmluZE1pbihub2RlLnJpZ2h0LCBub2RlLmRpbWVuc2lvbikhO1xuICAgICAgICAgICAgbGV0IG5leHRQb2ludCA9IG5leHROb2RlLnBvaW50O1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5leHROb2RlKTtcbiAgICAgICAgICAgIG5vZGUucG9pbnQgPSBuZXh0UG9pbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmV4dE5vZGUgPSB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBub2RlLmRpbWVuc2lvbikhO1xuICAgICAgICAgICAgbGV0IG5leHRQb2ludCA9IG5leHROb2RlLnBvaW50O1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5leHROb2RlKTtcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICBub2RlLmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBub2RlLnBvaW50ID0gbmV4dFBvaW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlKHBvaW50OiBQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZVNlYXJjaChwb2ludCk7XG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlbW92ZU5vZGUobm9kZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIG5lYXJlc3RQb2ludChwb2ludDogUG9pbnQsIHJvb3Q/OiBOb2RlKTogW1BvaW50LCBudW1iZXJdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcm9vdCA9IHJvb3QgfHwgdGhpcy5yb290O1xuICAgICAgICBpZiAocm9vdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIGxldCBvd25EaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2Uocm9vdC5wb2ludCwgcG9pbnQpO1xuICAgICAgICBpZiAocm9vdC5sZWZ0ID09PSB1bmRlZmluZWQgJiYgcm9vdC5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gW3Jvb3QucG9pbnQsIG93bkRpc3RhbmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiZXN0Q2hpbGQ7XG5cbiAgICAgICAgaWYgKHJvb3QucmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5sZWZ0O1xuICAgICAgICB9IGVsc2UgaWYgKHJvb3QubGVmdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LnJpZ2h0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnRbcm9vdC5kaW1lbnNpb25dIDwgcm9vdC5wb2ludFtyb290LmRpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJlc3RDaGlsZCA9IHJvb3QucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgW2Jlc3RDaGlsZE5vZGUsIGJlc3RDaGlsZERpc3RdID0gdGhpcy5uZWFyZXN0UG9pbnQocG9pbnQsIGJlc3RDaGlsZCkhO1xuXG4gICAgICAgIGxldCBiZXN0Tm9kZTtcbiAgICAgICAgbGV0IGJlc3REaXN0O1xuICAgICAgICBpZiAoYmVzdENoaWxkRGlzdCA8IG93bkRpc3RhbmNlKSB7XG4gICAgICAgICAgICBiZXN0Tm9kZSA9IGJlc3RDaGlsZE5vZGU7XG4gICAgICAgICAgICBiZXN0RGlzdCA9IGJlc3RDaGlsZERpc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiZXN0Tm9kZSA9IHJvb3QucG9pbnQ7XG4gICAgICAgICAgICBiZXN0RGlzdCA9IG93bkRpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VhcmNoZWQgcG9pbnQgcHJvamVjdGVkIHRvIG91ciBheGlzXG4gICAgICAgIGxldCBsaW5lYXJQb2ludDogUG9pbnQgPSBbcG9pbnRbMF0sIHBvaW50WzFdXTtcbiAgICAgICAgbGluZWFyUG9pbnRbcm9vdC5kaW1lbnNpb25dID0gcm9vdC5wb2ludFtyb290LmRpbWVuc2lvbl07XG5cbiAgICAgICAgbGV0IGxpbmVhckRpc3QgPSB0aGlzLmRpc3RhbmNlKGxpbmVhclBvaW50LCBwb2ludCk7XG4gICAgICAgIGlmIChsaW5lYXJEaXN0IDwgYmVzdERpc3QpIHtcbiAgICAgICAgICAgIGxldCBvdGhlckNoaWxkO1xuICAgICAgICAgICAgaWYgKGJlc3RDaGlsZCA9PT0gcm9vdC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgb3RoZXJDaGlsZCA9IHJvb3QucmlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG90aGVyQ2hpbGQgPSByb290LmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3RoZXJDaGlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IFtvdGhlck5vZGUsIG90aGVyRGlzdF0gPSB0aGlzLm5lYXJlc3RQb2ludChwb2ludCwgb3RoZXJDaGlsZCkhO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlckRpc3QgPCBiZXN0RGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBiZXN0Tm9kZSA9IG90aGVyTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgYmVzdERpc3QgPSBvdGhlckRpc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbYmVzdE5vZGUsIGJlc3REaXN0XVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IERFU1RST1lfQUxMID0ge1xuICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgIHRleHR1cmU6IHRydWUsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgREVTVFJPWV9NSU4gPSB7XG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIHRleHR1cmU6IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiBmYWxzZSxcbn07XG5cbmNvbnN0IEFMTE9XRURfSU1BR0VUWVBFUyA9IFsnanBlZycsICdwbmcnLCAneC1qZycsICdibXAnLCAneC1pY29uJywgJ2llZicsICdwanBlZycsICd4LXBvcnRhYmxlLWJpdG1hcCcsICd4LXJnYicsICd0aWZmJywgJ3gtdGlmZiddXG5cbmZ1bmN0aW9uIHZhbGlkYXRlSW1hZ2VNaW1lVHlwZSh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHRocm93ICdJbnZhbGlkIHR5cGU6IGl0IHNob3VsZCBiZSBhbiBpbWFnZSc7XG4gICAgaWYgKEFMTE9XRURfSU1BR0VUWVBFUy5pbmRleE9mKHR5cGUuc3Vic3RyKCdpbWFnZS8nLmxlbmd0aCkpIDwgMCkgdGhyb3cgJ1Vuc3VwcG9ydGVkIGltYWdlIHR5cGUnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFRleHR1cmUoZGF0YTogQXJyYXlCdWZmZXIsIGRhdGFUeXBlOiBzdHJpbmcpOiBQcm9taXNlPFBJWEkuVGV4dHVyZT4ge1xuICAgIHZhbGlkYXRlSW1hZ2VNaW1lVHlwZShkYXRhVHlwZSk7XG4gICAgbGV0IHR5cGVkQXJyYXkgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICBsZXQgYjY0ID0gJ2RhdGE6JyArIGRhdGFUeXBlICsgJztiYXNlNjQsJyArIGJ0b2EodHlwZWRBcnJheS5yZWR1Y2UoKGRhdGEsIGJ5dGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGRhdGEgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpO1xuICAgIH0sICcnKSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8UElYSS5UZXh0dXJlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXggPSBuZXcgUElYSS5UZXh0dXJlKG5ldyBQSVhJLkJhc2VUZXh0dXJlKG5ldyBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlKGltYWdlKSkpO1xuICAgICAgICAgICAgcmVzb2x2ZSh0ZXgpO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICBpbWFnZS5zcmMgPSBiNjQ7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBlbnVtIENVU1RPTV9CTEVORF9NT0RFUyB7XG4gICAgTVVMVElQTFlfQ09MT1JfT05MWSA9IDMwLFxuICAgIEFERF9XSEVSRV9BTFBIQV8xLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3VzdG9tQmxlbmRNb2RlcygpIHtcbiAgICBsZXQgZ2wgPSBhcHAucmVuZGVyZXIuZ2w7XG4gICAgbGV0IGFycmF5ID0gKGFwcC5yZW5kZXJlci5zdGF0ZSBhcyBhbnkpLmJsZW5kTW9kZXM7XG4gICAgYXJyYXlbQ1VTVE9NX0JMRU5EX01PREVTLk1VTFRJUExZX0NPTE9SX09OTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuWkVSTywgZ2wuT05FLCBnbC5aRVJPXTtcbiAgICBhcnJheVtDVVNUT01fQkxFTkRfTU9ERVMuQUREX1dIRVJFX0FMUEhBXzFdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FLCBnbC5aRVJPLCBnbC5PTkVdO1xufSIsIlxudHlwZSBMaXN0ZW5lckZuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgRXZlbnRIYW5kbGVyIHtcbiAgICBjYjogTGlzdGVuZXJGbjtcbiAgICBzZWxmOiBhbnk7XG4gICAgb25jZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2FmZUV2ZW50RW1pdHRlciB7XG4gICAgZXZlbnRzOiB7W25hbWU6IHN0cmluZ106IEV2ZW50SGFuZGxlcltdfSA9IHt9O1xuXG4gICAgZW1pdChldmVudDogc3RyaW5nLCAuLi5hcmdzOiBBcnJheTxhbnk+KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF07XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkIHx8IGxpc3RlbmVycy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICBsZXQgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNiLmNhbGwobGlzdGVuZXIuc2VsZiwgLi4uYXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoaWxlIGNhbGxpbmcgZXZlbnQgXCIgKyBldmVudCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uY2UpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb24oZXZlbnQ6IHN0cmluZywgZm46IExpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGxpc3RlbmVycztcbiAgICAgICAgfVxuICAgICAgICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICBjYjogZm4sXG4gICAgICAgICAgICBzZWxmOiBjb250ZXh0LFxuICAgICAgICAgICAgb25jZTogZmFsc2UsXG4gICAgICAgIH0gYXMgRXZlbnRIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb25jZShldmVudDogc3RyaW5nLCBmbjogTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSk6IHRoaXMge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gbGlzdGVuZXJzO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgIGNiOiBmbixcbiAgICAgICAgICAgIHNlbGY6IGNvbnRleHQsXG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9IGFzIEV2ZW50SGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb2ZmKGV2ZW50OiBzdHJpbmcsIGZuOiBMaXN0ZW5lckZuLCBjb250ZXh0PzogYW55LCBvbmNlPzogYm9vbGVhbik6IHRoaXMge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHRocm93ICdDYW5ub3QgZmluZCBldmVudCAnICsgZXZlbnQ7XG4gICAgICAgIGxldCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIuY2IgPT09IGZuICYmIGxpc3RlbmVyLnNlbGYgPT09IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93ICdDYW5ub3QgZmluZCBldmVudCAnICsgZXZlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50Pzogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIGlmIChldmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDNkMzI0ZDYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDNkMzI0ZDYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjAzZDMyNGQ2XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwM2QzMjRkNicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwM2QzMjRkNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwM2QzMjRkNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAzZDMyNGQ2JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzAzZDMyNGQ2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWVmZDcwMTYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNWVmZDcwMTZcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzVlZmQ3MDE2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVlZmQ3MDE2JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzVlZmQ3MDE2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xODYyZThiNSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzRG9vci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjE4NjJlOGI1XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcxODYyZThiNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcxODYyZThiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcxODYyZThiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzRG9vci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MTg2MmU4YjUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMTg2MmU4YjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzI0ZTAxMWYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjcyNGUwMTFmXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc3MjRlMDExZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3MjRlMDExZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3MjRlMDExZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcyNGUwMTFmJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzcyNGUwMTFmJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTNlNzY4OTEyJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiM2U3Njg5MTJcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzNlNzY4OTEyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zZTc2ODkxMiZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczZTc2ODkxMicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJlZmZiMmY5JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMmVmZmIyZjlcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzJlZmZiMmY5JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yZWZmYjJmOSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcyZWZmYjJmOScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjZkODhlNWUmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMjZkODhlNWVcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzI2ZDg4ZTVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzI2ZDg4ZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzI2ZDg4ZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI2ZDg4ZTVlJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzI2ZDg4ZTVlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTYzNmNlZWE4JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjYzNmNlZWE4XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc2MzZjZWVhOCcpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc2MzZjZWVhOCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc2MzZjZWVhOCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02MzZjZWVhOCZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc2MzZjZWVhOCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWU4MWU0ZGEwJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJlODFlNGRhMFwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZTgxZTRkYTAnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lODFlNGRhMCZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdlODFlNGRhMCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kNGYwZjQyYyZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NQcm9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcImQ0ZjBmNDJjXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdkNGYwZjQyYycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdkNGYwZjQyYycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdkNGYwZjQyYycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDRmMGY0MmMmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZDRmMGY0MmMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA4YjJkMWI1JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjA4YjJkMWI1XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwOGIyZDFiNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwOGIyZDFiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwOGIyZDFiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wOGIyZDFiNSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwOGIyZDFiNScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZWU4N2JmNSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCI0ZWU4N2JmNVwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNGVlODdiZjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNGVlODdiZjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNGVlODdiZjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGVlODdiZjUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNGVlODdiZjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM3ZTIyZTVlJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMzdlMjJlNWVcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzM3ZTIyZTVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzM3ZTIyZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzM3ZTIyZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zN2UyMmU1ZSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczN2UyMmU1ZScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJjNDA3ZGJmYVwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnYzQwN2RiZmEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnYzQwN2RiZmEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnYzQwN2RiZmEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2M0MDdkYmZhJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjUzYjQ2MDUxXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1M2I0NjA1MScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1M2I0NjA1MScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1M2I0NjA1MScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTNiNDYwNTEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY5ZTZlMjIxJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzY5ZTZlMjIxJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzY5ZTZlMjIxJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzY5ZTZlMjIxJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjllNmUyMjEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNjllNmUyMjEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Zvb3Rlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjUzOWYyYmZmXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1MzlmMmJmZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MzlmMmJmZiZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1MzlmMmJmZicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9mb290ZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kODU1MGI0YSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdkODU1MGI0YScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdkODU1MGI0YScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdkODU1MGI0YScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vaG9tZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDg1NTBiNGEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZDg1NTBiNGEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdlOWQ0MDZjJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCI3ZTlkNDA2Y1wiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnN2U5ZDQwNmMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnN2U5ZDQwNmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnN2U5ZDQwNmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03ZTlkNDA2YyZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc3ZTlkNDA2YycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIjx0ZW1wbGF0ZT5cbiAgICA8IS0tdHJhbnNpdGlvbiBuYW1lPVwibW9kYWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLW1hc2tcIlxuICAgICAgICAgICAgIG9uZHJhZ2VudGVyPVwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCJcbiAgICAgICAgICAgICBvbmRyYWdvdmVyPVwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCJcbiAgICAgICAgICAgICB2LW9uOm9uZHJvcD1cImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyBvbkRyb3AoZXZlbnQpXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGFpbmVyXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc2VydCBtYXAgdG8gbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXAgbG9hZGluZyBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBmb290ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWwtZGVmYXVsdC1idXR0b25cIiBAY2xpY2s9XCIkZW1pdCgnY2FuY2VsJylcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbi0tPlxuICAgIDxiLW1vZGFsIHJlZj1cIm15LW1vZGFsXCIgaGlkZS1mb290ZXIgdGl0bGU9XCJHaW1tZSB0aGUgbWFwXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkLWJsb2NrIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8aDM+SW5zZXJ0IG1hcCB0byBsb2FkPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxiLWJ1dHRvbiBjbGFzcz1cIm10LTNcIiB2YXJpYW50PVwib3V0bGluZS1kYW5nZXJcIiBibG9jayBAY2xpY2s9XCJoaWRlTW9kYWxcIj5DYW5jZWw8L2ItYnV0dG9uPlxuICAgIDwvYi1tb2RhbD5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiBcIm1hcElucHV0XCIsXG4gICAgICAgIGRhdGEoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZpbGU6IG51bGwsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIG9uRHJvcDogZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWRlTW9kYWw6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2xvc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbjwvc3R5bGU+IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iMTBhZjQ5NiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdiMTBhZjQ5NicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdiMTBhZjQ5NicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdiMTBhZjQ5NicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjEwYWY0OTYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignYjEwYWY0OTYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiY29tcG9uZW50LWhlYWRlclwiIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyB3aWR0aDogXCIxMDAlXCIgfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdm0udmlzaWJsZSA9ICFfdm0udmlzaWJsZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW192bS5fdihcIiBcIiArIF92bS5fcyhfdm0uY29tcG9uZW50LnR5cGVOYW1lKSldXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5jbGllbnRWaXNpYmxlICE9PSB1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJncmlkXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiSGlkZSBjb21wb25lbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlNob3cgY29tcG9uZW50XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsaWVudFZpc2libGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIV92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWVcIiB9KV1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiIWNvbXBvbmVudC5jbGllbnRWaXNpYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImcxMVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWV5ZS1zbGFzaFwiIH0pXVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5faXNGdWxsc2NyZWVuICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuICE9PSB1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcInByaW1hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJGdWxsc2NyZWVuXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leHBhbmRcIiB9KV1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50Ll9jYW5EZWxldGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5fY2FuRGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJkYW5nZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEZWxldGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIiRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZW1vdmVDb21wb25lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29tcG9uZW50Lm11bHRpSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXRyYXNoXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgXSxcbiAgICAgICAgICAxXG4gICAgICAgIClcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItY29sbGFwc2VcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImNvbXBvbmVudC1ib2R5XCIsXG4gICAgICAgICAgYXR0cnM6IHsgdmlzaWJsZTogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGUsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS52aXNpYmxlID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ2aXNpYmxlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhfdm0uY29tcG9uZW50VHlwZSwge1xuICAgICAgICAgICAgdGFnOiBcImNvbXBvbmVudFwiLFxuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgY29tcG9uZW50OiBfdm0uY29tcG9uZW50LFxuICAgICAgICAgICAgICBpc0FkbWluOiBfdm0uaXNBZG1pbixcbiAgICAgICAgICAgICAgYWxsQ29tcHM6IF92bS5hbGxDb21wc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbM11cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwic3BhblwiLCBbX3ZtLl92KFwiWW91ciByZWd1bGFyIGJhY2tncm91bmQgaW1hZ2VcIildKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFR5cGU6XFxuICAgIFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgW1xuICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBcIiArIF92bS5fcyh0aGlzLmRvb3JUeXBlTmFtZSkgKyBcIlxcbiAgICBcIilcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItZm9ybS1zZWxlY3RcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm1iLTNcIixcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5kb29yVHlwZSxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLmRvb3JUeXBlID0gJCR2XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJkb29yVHlwZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vcm1hbGxcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIk5vcm1hbFwiKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vcm1hbHJcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIk5vcm1hbCByaWdodFwiKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcInJvdGF0ZVwiIH0gfSwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiUm90YXRpbmdcIilcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoX3ZtLm9wZW4gPyBcIk9wZW5cIiA6IFwiQ2xvc2VkXCIpKV0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidGhpcy5sb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1sb2NrXCIgfSldXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyBwcmVzc2VkOiBfdm0ub3BlbiB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBcInVwZGF0ZTpwcmVzc2VkXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdm0ub3BlbiA9ICRldmVudFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoX3ZtLm9wZW4gPyBcIk9wZW5cIiA6IFwiQ2xvc2VkXCIpKV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHByZXNzZWQ6IF92bS5sb2NrZWQgfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLmxvY2tlZCA9ICRldmVudFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJsb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9ja1wiIH0pXVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIV92bS5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIiFsb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9jay1vcGVuXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgQ29sb3I6XFxuICAgIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiY29sb3JcIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29sb3IsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLmNvbG9yID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbG9yXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhfdm0uY29sb3IpKV0pXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVmlzaWJpbGl0eSBSYW5nZTogXCIpLFxuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwic3BhblwiLCB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0ucmFuZ2UpKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJudW1iZXJcIiwgc3RlcDogXCIxXCIsIG1pbjogXCIwXCIsIHNpemU6IFwic21cIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ucmFuZ2UsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLnJhbmdlID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInJhbmdlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICBdLFxuICAgICAgMVxuICAgIClcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiwgcGxhY2Vob2xkZXI6IFwiRW50aXR5IG5hbWVcIiB9LFxuICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgbW9kZWw6IHtcbiAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50Lm5hbWUsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgIF92bS4kc2V0KF92bS5jb21wb25lbnQsIFwibmFtZVwiLCAkJHYpXG4gICAgICB9LFxuICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQubmFtZVwiXG4gICAgfVxuICB9KVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfYyhcImItdGV4dGFyZWFcIiwge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXCIsXG4gICAgICAgICAgcmVhZG9ubHk6ICFfdm0uaXNBZG1pblxuICAgICAgICB9LFxuICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICBtb2RlbDoge1xuICAgICAgICAgIHZhbHVlOiBfdm0ubm90ZSxcbiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICBfdm0ubm90ZSA9ICQkdlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwcmVzc2lvbjogXCJub3RlXCJcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1tb2RhbFwiLFxuICAgICAgICB7XG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIk5vdGVcIixcbiAgICAgICAgICAgIFwiZGlhbG9nLWNsYXNzXCI6IFwibW9kYWwtZnVsbHNjcmVlbiBtb2RhbC14eGxcIixcbiAgICAgICAgICAgIFwiaGlkZS1mb290ZXJcIjogXCJcIixcbiAgICAgICAgICAgIFwiaGlkZS1oZWFkZXJcIjogXCJcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogXCJtb2RhbC1mb290ZXJcIixcbiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcHJveHk6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdKSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuX2lzRnVsbHNjcmVlbixcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmNvbXBvbmVudCwgXCJfaXNGdWxsc2NyZWVuXCIsICQkdilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImItdGV4dGFyZWFcIiwge1xuICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgaGVpZ2h0OiBcIjEwMCVcIiwgcmVzaXplOiBcIm5vbmVcIiB9LFxuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiV3JpdGUgc29tZXRoaW5nIGhlcmUuLi5cIixcbiAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0uaXNBZG1pblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm5vdGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICBfdm0ubm90ZSA9ICQkdlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIm5vdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgIClcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfdm0uaXNBZG1pblxuICAgICAgICA/IFtcbiAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiY29sb3JcIiwgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29sb3IsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLmNvbG9yID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbG9yXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiwgcGxhY2Vob2xkZXI6IFwiTGFiZWxcIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ubGFiZWwsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLmxhYmVsID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImxhYmVsXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdXG4gICAgICAgIDogX3ZtLl9lKClcbiAgICBdLFxuICAgIDJcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBOaWdodCB2aXNpb246XFxuICAgIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1mb3JtLWNoZWNrYm94XCIsIHtcbiAgICAgICAgICAgICAgb246IHsgaW5wdXQ6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ubmlnaHRWaXNpb24sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLm5pZ2h0VmlzaW9uID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIm5pZ2h0VmlzaW9uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF9jKFwic3BhblwiLCB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0ubmlnaHRWaXNpb24gPyBcInllc1wiIDogXCJub1wiKSlcbiAgICAgICAgICAgIF0pXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVmlzaWJpbGl0eSBSYW5nZTogXCIpLFxuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwic3BhblwiLCB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0ucmFuZ2UpKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJudW1iZXJcIiwgc3RlcDogXCIxXCIsIG1pbjogXCIwXCIsIHNpemU6IFwic21cIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ucmFuZ2UsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLnJhbmdlID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInJhbmdlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICBdLFxuICAgICAgMVxuICAgIClcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgWDogXCIpLFxuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwic3BhblwiLCB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0ueCkpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcIm51bWJlclwiLCBzdGVwOiBcIjAuMDAxXCIsIHNpemU6IFwic21cIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ueCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICBfdm0ueCA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ4XCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgWTogXCIpLFxuICAgICAgICAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwic3BhblwiLCB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiICsgX3ZtLl9zKF92bS55KSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS55LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS55ID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInlcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIilcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSwgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVGFyZ2V0OiBcIiksXG4gICAgICAgIF9jKFwic3BhblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0uZm9jdXNUYXJnZXQgfSB9LCBbXG4gICAgICAgICAgX3ZtLl92KF92bS5fcyh0aGlzLmNvbXBvbmVudC50YXJnZXRQcm9wKSlcbiAgICAgICAgXSlcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYi1idXR0b25cIiwgeyBvbjogeyBjbGljazogX3ZtLmxpbmsgfSB9LCBbX3ZtLl92KFwiTGlua1wiKV0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYi1idXR0b25cIiwgeyBvbjogeyBjbGljazogX3ZtLnVzZSB9IH0sIFtfdm0uX3YoXCJVc2VcIildKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIEFuZ2xlOiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5yb3RhdGlvbikpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcIm51bWJlclwiLCBzdGVwOiBcIjAuMDAxXCIsIHNpemU6IFwic21cIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ucm90YXRpb24sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLnJvdGF0aW9uID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInJvdGF0aW9uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgU2NhbGU6IFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnNjYWxlKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zY2FsZSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICBfdm0uc2NhbGUgPSAkJHZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwic2NhbGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBXOiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS53KSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS53LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS53ID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIndcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBIOiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5oKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5oLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5oID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImhcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50cy5sZW5ndGggPiAwLFxuICAgICAgICAgIGV4cHJlc3Npb246IFwiY29tcG9uZW50cy5sZW5ndGggPiAwXCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiY29tcG9uZW50LWJ0bi1oZWFkZXJcIiB9LFxuICAgICAgICBbXG4gICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgXCJ0b2dnbGUtY2xhc3NcIjogXCJyb3VuZGVkLTBcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIgfSxcbiAgICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiYnV0dG9uLWNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtcGx1c1wiIH0pXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgMTc3NDU1NDY0MVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0uc2VsZWN0ZWRBZGRhYmxlLCBmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZW1pdFNwZWNpYWwoXCJhZGRDb21wb25lbnRcIiwgeC50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiXFxuICAgICAgICBcIiArIF92bS5fcyh4Lm5hbWUpICsgXCJcXG4gICAgICBcIildXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJncmlkXCIgfSxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uZW50aXR5LmhpZGRlbiA/IFwiU2hvdyBlbnRpdHlcIiA6IFwiSGlkZSBlbnRpdHlcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTcGVjaWFsKFwiaGlkZGVuXCIsICFfdm0uZW50aXR5LmhpZGRlbilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIixcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogX3ZtLmVudGl0eS5oaWRkZW4gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllLXNsYXNoXCIgfSldXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IF92bS5lbnRpdHkuaGlkZGVuID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWV5ZVwiIH0pXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEZWxldGUgZW50aXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXRyYXNoXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfdm0uX2woX3ZtLnJlbmRlcmVkQ29tcG9uZW50cywgZnVuY3Rpb24oY29tcCkge1xuICAgICAgICByZXR1cm4gX2MoXCJlY3MtY29tcG9uZW50LXdyYXBwZXJcIiwge1xuICAgICAgICAgIGtleTogY29tcC50eXBlICsgKGNvbXAubXVsdGlJZCB8fCBcIlwiKSxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY29tcG9uZW50OiBjb21wLFxuICAgICAgICAgICAgaXNBZG1pbjogX3ZtLmlzQWRtaW4sXG4gICAgICAgICAgICBhbGxDb21wczogX3ZtLmFsbENvbXBvbmVudHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXG4gICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzNdXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIF0sXG4gICAgMlxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwiZ2FtZVwiIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiYi1idXR0b24tdG9vbGJhclwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYmctZGFya1wiLFxuICAgICAgICAgIHN0YXRpY1N0eWxlOiB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwidmFyKC0tdG9wYmFyLWhlaWdodClcIixcbiAgICAgICAgICAgIFwiei1pbmRleFwiOiBcIjEwMDBcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJkYXJrXCIsIHZhcmlhbnQ6IFwiaW5mb1wiLCBqdXN0aWZ5OiBcIlwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b24tZ3JvdXBcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLXJpZ2h0XCI6IFwiMnJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gdW5kby1yZWRvLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJVbmRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICF0aGlzLmNhblVuZG9cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0udW5kbygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXVuZG9cIiB9KV1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHVuZG8tcmVkby1idG5cIixcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUmVkb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5jYW5SZWRvXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlZG8oKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1yZWRvXCIgfSldXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1yYWRpby1ncm91cFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhdHRyczogeyBidXR0b25zOiBcIlwiIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS50b29sLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS50b29sID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInRvb2xcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZWY6IFwicmFkaW9pbnNwZWN0XCIsXG4gICAgICAgICAgICAgICAgICBjbGFzczoge1xuICAgICAgICAgICAgICAgICAgICBcInRvb2xiYXItYnRuXCI6IHRoaXMuYmFja2dyb3VuZExvY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgXCJidG4td2FybmluZ1wiOiAhdGhpcy5iYWNrZ3JvdW5kTG9ja2VkXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiSW5zcGVjdFwiLCB2YWx1ZTogXCJpbnNwZWN0XCIsIHNxdWFyZWQ6IFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmluc3BlY3RDbGljaygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtaGFuZC1wb2ludGVyXCIgfSldXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJBZGQgd2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiY3JlYXRlX3dhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3ZnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLXctMTZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDIzNC44MDkgMjM0LjgwOVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInBhdGhcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNNy41LDUzLjk4OGMtNC4xMzUsMC03LjUtMy4zNjQtNy41LTcuNVYyMC41NzFjMC00LjEzNiwzLjM2NS03LjUsNy41LTcuNWg5NC45MDRjNC4xMzUsMCw3LjUsMy4zNjQsNy41LDcuNXYyNS45MTdcXG4gICAgICAgICAgICAgICAgICAgIGMwLDQuMTM2LTMuMzY1LDcuNS03LjUsNy41SDcuNXogTTIyNy4zMDksNTMuOTg4YzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjVWMjAuNTcxYzAtNC4xMzYtMy4zNjUtNy41LTcuNS03LjVoLTk0LjkwNFxcbiAgICAgICAgICAgICAgICAgICAgYy00LjEzNSwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDIyNy4zMDl6IE0xNjQuODU2LDEwOS45MDRjNC4xMzUsMCw3LjUtMy4zNjUsNy41LTcuNVY3Ni40ODhcXG4gICAgICAgICAgICAgICAgICAgIGMwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNSwzLjM2NSw3LjUsNy41LDcuNUgxNjQuODU2eiBNMzkuOTUyLDEwOS45MDRcXG4gICAgICAgICAgICAgICAgICAgIGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41SDguMDQ4Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41XFxuICAgICAgICAgICAgICAgICAgICBIMzkuOTUyeiBNMjI2Ljc2MSwxMDkuOTA0YzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjVWNzYuNDg4YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVoLTMxLjkwNGMtNC4xMzYsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdcXG4gICAgICAgICAgICAgICAgICAgIGMwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6IE0xMDIuNDA0LDE2NS44MjFjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzUtMy4zNjUtNy41LTcuNS03LjVINy41XFxuICAgICAgICAgICAgICAgICAgICBjLTQuMTM1LDAtNy41LDMuMzY1LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjUsNy41LDcuNSw3LjVIMTAyLjQwNHogTTIyNy4zMDksMTY1LjgyMWM0LjEzNSwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdcXG4gICAgICAgICAgICAgICAgICAgIGMwLTQuMTM1LTMuMzY1LTcuNS03LjUtNy41aC05NC45MDRjLTQuMTM1LDAtNy41LDMuMzY1LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjUsNy41LDcuNSw3LjVIMjI3LjMwOXogTTE2NC44NTYsMjIxLjczOFxcbiAgICAgICAgICAgICAgICAgICAgYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNVxcbiAgICAgICAgICAgICAgICAgICAgSDE2NC44NTZ6IE0zOS45NTIsMjIxLjczOGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdjMC00LjEzNi0zLjM2NC03LjUtNy41LTcuNUg4LjA0OGMtNC4xMzYsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdcXG4gICAgICAgICAgICAgICAgICAgIGMwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDM5Ljk1MnogTTIyNi43NjEsMjIxLjczOGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdjMC00LjEzNi0zLjM2NC03LjUtNy41LTcuNWgtMzEuOTA0XFxuICAgICAgICAgICAgICAgICAgICBjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVIMjI2Ljc2MXpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG5cIixcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQWRkIHByb3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImNyZWF0ZV9wcm9wXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWNvdWNoXCIgfSldXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFkZCBwaW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImNyZWF0ZV9waW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdGh1bWJ0YWNrXCIgfSldXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiRWRpdCBncmlkXCIsIHZhbHVlOiBcImdyaWRcIiwgc3F1YXJlZDogXCJcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtYm9yZGVyLWFsbFwiIH0pXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJMaWdodCBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwibGlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbGlnaHRidWxiXCIgfSldXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi14c1wiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXhwb3J0IG1hcFwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnBoYXNlLmV4cG9ydE1hcCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZG93bmxvYWRcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljU3R5bGU6IHsgZmxleDogXCIxIDEgMFwiIH0gfSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwiYi10b2dnbGVcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1iLXRvZ2dsZS5zaWRlYmFyLXJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICBtb2RpZmllcnM6IHsgXCJzaWRlYmFyLXJpZ2h0XCI6IHRydWUgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuLXhzXCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIlRvZ2dsZSBzaWRlYmFyXCIsIHZhcmlhbnQ6IFwid2FybmluZ1wiIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWFuZ2xlLWRvdWJsZS1yaWdodFwiIH0pXVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7XG4gICAgICAgIHN0YXRpY1N0eWxlOiB7XG4gICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IHsgaWQ6IFwiY2FudmFzLWNvbnRhaW5lclwiIH1cbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItc2lkZWJhclwiLFxuICAgICAgICB7XG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGlkOiBcInNpZGViYXItcmlnaHRcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlNpZGViYXJcIixcbiAgICAgICAgICAgIFwiYmctdmFyaWFudFwiOiBcImRhcmtcIixcbiAgICAgICAgICAgIFwidGV4dC12YXJpYW50XCI6IFwibGlnaHRcIixcbiAgICAgICAgICAgIHJpZ2h0OiBcIlwiLFxuICAgICAgICAgICAgdmlzaWJsZTogXCJcIixcbiAgICAgICAgICAgIFwibm8taGVhZGVyXCI6IFwiXCIsXG4gICAgICAgICAgICBzaGFkb3c6IFwiXCIsXG4gICAgICAgICAgICBcInNpZGViYXItY2xhc3NcIjogXCJ1bmRlci1uYXZiYXJcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogXCJmb290ZXJcIixcbiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInNpZGViYXItZm9vdGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgIFwiICsgX3ZtLl9zKF92bS5jb25uZWN0aW9uQ291bnQpICsgXCJcXG4gICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgcm90YXRlOiBfdm0uY29ubmVjdGlvbkJ1ZmZlcmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuMnJlbVwiIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtc3luYy1hbHRcIiB9KV1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHByb3h5OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSlcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiZ3JpZC1lZGl0XCIsIHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS50b29sID09PSBcImdyaWRcIixcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInRvb2wgPT09ICdncmlkJ1wiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJweC0zIHB5LTJcIixcbiAgICAgICAgICAgIGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS50b29sID09PSBcImluc3BlY3RcIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidG9vbCA9PT0gJ2luc3BlY3QnXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiZW50aXR5LWluc3BlY3RcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICAgIGVudGl0eTogdGhpcy5zZWxlY3RlZEVudGl0eU9wdHMsXG4gICAgICAgICAgICAgICAgICBpc0FkbWluOiBfdm0uaXNBZG1pbixcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQWRkYWJsZTogX3ZtLnNlbGVjdGVkQWRkYWJsZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb246IHsgXCJlY3MtcHJvcGVydHktY2hhbmdlXCI6IF92bS5vbkVjc1Byb3BlcnR5Q2hhbmdlIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0udG9vbCA9PT0gXCJsaWdodFwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnbGlnaHQnXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInB4LTMgcHktMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJMaWdodDpcIildKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIsIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25BbWJpZW50TGlnaHRDaGFuZ2UgfSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmxpZ2h0LmFtYmllbnRMaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0ubGlnaHQsIFwiYW1iaWVudExpZ2h0XCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibGlnaHQuYW1iaWVudExpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiTmVlZHMgbGlnaHQ6XCIpXSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tY2hlY2tib3hcIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7IGlucHV0OiBfdm0ub25BbWJpZW50TGlnaHRDaGFuZ2UgfSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmxpZ2h0Lm5lZWRzTGlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmxpZ2h0LCBcIm5lZWRzTGlnaHRcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJsaWdodC5uZWVkc0xpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiVmlzaW9uIHR5cGU6XCIpXSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzc2VkOiBfdm0ubGlnaHQucm9sZXBsYXlWaXNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkb25seTogIV92bS5pc0FkbWluXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kc2V0KF92bS5saWdodCwgXCJyb2xlcGxheVZpc2lvblwiLCAkZXZlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmxpZ2h0LnJvbGVwbGF5VmlzaW9uID8gXCJSb2xlcGxheWVyXCIgOiBcIk1hc3RlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiQmFja2dyb3VuZDpcIildKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIsIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25BbWJpZW50TGlnaHRDaGFuZ2UgfSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmxpZ2h0LmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmxpZ2h0LCBcImJhY2tncm91bmRcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJsaWdodC5iYWNrZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS5vbkxpZ2h0U2V0dGluZ3NSZXNldCB9IH0sIFtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiUmVzZXRcIilcbiAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJhXCIsIHtcbiAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJub25lXCIgfSxcbiAgICAgICAgYXR0cnM6IHsgaWQ6IFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcIiB9XG4gICAgICB9KVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF92bS5fdihcIlxcbiAgVHlwZTpcXG4gIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItcmFkaW8tZ3JvdXBcIixcbiAgICAgICAge1xuICAgICAgICAgIGF0dHJzOiB7IGlkOiBcImdyaWQtdHlwZS1yYWRpb1wiLCBidXR0b25zOiBcIlwiIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC50eXBlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ0eXBlXCIsICQkdilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQudHlwZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJiLXJhZGlvXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwibm9uZVwiIH0gfSwgW1xuICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWJvcmRlci1ub25lXCIgfSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiYi1yYWRpb1wiLCB7IGF0dHJzOiB7IHZhbHVlOiBcInNxdWFyZVwiIH0gfSwgW1xuICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFyIGZhLXNxdWFyZVwiIH0pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImItcmFkaW9cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJoZXhcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcInN2Z1wiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwic3ZnLWlubGluZS0tZmEgZmEtaGV4YWdvbiBmYS13LTE4XCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgIHJvbGU6IFwiaW1nXCIsXG4gICAgICAgICAgICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICAgICAgICAgICAgdmlld0JveDogXCIwIDAgNTc2IDUxMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJwYXRoXCIsIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICAgICAgICAgIGQ6XG4gICAgICAgICAgICAgICAgICAgICAgXCJNNDQxLjUgMzkuOEM0MzIuOSAyNS4xIDQxNy4xIDE2IDQwMCAxNkgxNzZjLTE3LjEgMC0zMi45IDkuMS00MS41IDIzLjhsLTExMiAxOTJjLTguNyAxNC45LTguNyAzMy40IDAgNDguNGwxMTIgMTkyYzguNiAxNC43IDI0LjQgMjMuOCA0MS41IDIzLjhoMjI0YzE3LjEgMCAzMi45LTkuMSA0MS41LTIzLjhsMTEyLTE5MmM4LjctMTQuOSA4LjctMzMuNCAwLTQ4LjRsLTExMi0xOTJ6TTQwMCA0NDhIMTc2TDY0IDI1NiAxNzYgNjRoMjI0bDExMiAxOTItMTEyIDE5MnpcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIClcbiAgICAgICAgICBdKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF92bS5ncmlkLnR5cGUgIT09IFwibm9uZVwiXG4gICAgICAgID8gX2MoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJTaXplOlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjEwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiNTEyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwic2l6ZVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnNpemVcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIxMFwiLCBtYXg6IFwiNTEyXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnNpemUsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInNpemVcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5zaXplXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgW192bS5fdihcIlhvZmZzZXQ6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IFwiMC4wMDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZYLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZYXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWFwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwicmFuZ2VcIiwgbWluOiBcIjBcIiwgbWF4OiBcIjFcIiwgc3RlcDogXCIwLjAwMVwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZYLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZYXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiWW9mZnNldDpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogXCIwLjAwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9mZlksXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9mZllcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vZmZZXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMFwiLCBtYXg6IFwiMVwiLCBzdGVwOiBcIjAuMDAxXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9mZlksXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9mZllcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vZmZZXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCJcXG5cXG4gICAgQ29sb3I6IFwiICsgX3ZtLl9zKF92bS5ncmlkLmNvbG9yKSArIFwiXFxuICAgIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJjb2xvclwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLmNvbG9yXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJPcGFjaXR5OlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiBcIjAuMDAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib3BhY2l0eVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9wYWNpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIwXCIsIG1heDogXCIxXCIsIHN0ZXA6IFwiMC4wMDFcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib3BhY2l0eVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9wYWNpdHlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIlRoaWNrbmVzczpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMjAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQudGhpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInRoaWNrXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQudGhpY2tcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIxXCIsIG1heDogXCIyMDBcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQudGhpY2ssXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInRoaWNrXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQudGhpY2tcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKVxuICAgICAgICA6IF92bS5fZSgpXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF92bS5fbSgwKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJmb290ZXJcIiB9LCBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImNyZWRpdHNcIiB9LCBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwibGlua3NcIiB9LCBbXG4gICAgICAgICAgX2MoXCJhXCIsIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImdpdGh1YlwiLFxuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2Rlci9kbmRtZVwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICBdKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJzbWFsbFwiLCB7IHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcImxpZ2h0Z3JheVwiIH0gfSwgW1xuICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgIERldmVsb3BlZCBieSBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwicHJvZmlsZVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyBocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Tbm93eUNvZGVyXCIsIHRhcmdldDogXCJfYmxhbmtcIiB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW192bS5fdihcIlJvc3NpIExvcmVuem9cIildXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgL1xcbiAgICAgIERyYXdpbmdzIGJ5IFwiKSxcbiAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBjb2xvcjogXCJ3aGl0ZVwiIH0gfSwgW1xuICAgICAgICAgICAgX3ZtLl92KFwiR2lvcmdpYSBOaXp6b2xpXCIpXG4gICAgICAgICAgXSlcbiAgICAgICAgXSlcbiAgICAgIF0pXG4gICAgXSlcbiAgfVxuXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgIFwicGhhc2UtY29udGFpbmVyIHRleHQtY2VudGVyIGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHJvd1wiLFxuICAgICAgc3RhdGljU3R5bGU6IHsgaGVpZ2h0OiBcIjEwMHZoXCIsIG1hcmdpbjogXCIwXCIgfVxuICAgIH0sXG4gICAgW1xuICAgICAgX3ZtLl9tKDApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1lbnRyeVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcIndhcm5pbmdcIiwgc2l6ZTogXCJsZ1wiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ub25DcmVhdGVNYXAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfdm0uX3YoXCJDcmVhdGUgTWFwXCIpXVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4tZW50cnlcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdmFyaWFudDogXCJpbmZvXCIsIHNpemU6IFwibGdcIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLm9uRWRpdE1hcCB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW192bS5fdihcIkVkaXQgTWFwXCIpXVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLW1vZGFsXCIsXG4gICAgICAgIHtcbiAgICAgICAgICByZWY6IFwibWFwLWxvYWQtbW9kYWxcIixcbiAgICAgICAgICBhdHRyczogeyBcImhpZGUtZm9vdGVyXCI6IFwiXCIsIHRpdGxlOiBcIkdpbW1lIHRoZSBtYXBcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImItZm9ybS1maWxlXCIsIHtcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHN0YXRlOiBCb29sZWFuKF92bS5maWxlKSxcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiQ2hvb3NlIGEgZmlsZSBvciBkcm9wIGl0IGhlcmUuLi5cIixcbiAgICAgICAgICAgICAgXCJkcm9wLXBsYWNlaG9sZGVyXCI6IFwiRHJvcCBmaWxlIGhlcmUuLi5cIixcbiAgICAgICAgICAgICAgYWNjZXB0OiBcIi5kbmRtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZpbGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICBfdm0uZmlsZSA9ICQkdlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZpbGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJmb290ZXItY29tcG9uZW50XCIpXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidGV4dC13aGl0ZVwiIH0sIFtcbiAgICAgIF9jKFxuICAgICAgICBcInBcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRpdGxlXCIsXG4gICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJmb250LXNpemVcIjogXCIzLjVlbVwiLCBtYXJnaW46IFwiMFwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgW192bS5fdihcIkRSQVcmRElDRVwiKV1cbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJwXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJmb250LXNpemVcIjogXCIyZW1cIiB9IH0sIFtfdm0uX3YoXCJEbmQgbWFkZSBleiFcIildKVxuICAgIF0pXG4gIH1cbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImItbW9kYWxcIixcbiAgICB7IHJlZjogXCJteS1tb2RhbFwiLCBhdHRyczogeyBcImhpZGUtZm9vdGVyXCI6IFwiXCIsIHRpdGxlOiBcIkdpbW1lIHRoZSBtYXBcIiB9IH0sXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWJsb2NrIHRleHQtY2VudGVyXCIgfSwgW1xuICAgICAgICBfYyhcImgzXCIsIFtfdm0uX3YoXCJJbnNlcnQgbWFwIHRvIGxvYWRcIildKVxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm10LTNcIixcbiAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcIm91dGxpbmUtZGFuZ2VyXCIsIGJsb2NrOiBcIlwiIH0sXG4gICAgICAgICAgb246IHsgY2xpY2s6IF92bS5oaWRlTW9kYWwgfVxuICAgICAgICB9LFxuICAgICAgICBbX3ZtLl92KFwiQ2FuY2VsXCIpXVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJzbG9hZGluZy1jb250YWluZXJcIiB9LCBbXG4gICAgICBfYyhcImgxXCIsIHsgc3RhdGljQ2xhc3M6IFwic2xvYWRpbmctdGl0bGVcIiB9LCBbX3ZtLl92KFwiRFJBVyZESUNFXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJoMlwiLCBbX3ZtLl92KF92bS5fcyhfdm0ubWVzc2FnZSkpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJoNVwiLCBbX3ZtLl92KFwiTG9hZGluZ1wiKV0pXG4gICAgXSlcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDNkMzI0ZDYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjIwYWRiYTM2XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wM2QzMjRkNiZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDNkMzI0ZDYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIwZThhNDdiNlwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1jNDA3ZGJmYSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1jNDA3ZGJmYSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcImNmOThiNmJhXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTUzYjQ2MDUxJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTUzYjQ2MDUxJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTUzOWYyYmZmJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI3YzY4MTQ2OFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTUzOWYyYmZmJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIzNDIxODU5ZlwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjEzODc3MjQ0XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiNTExZjM5MGVcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbi8vIEl0J3MgZW1wdHkgYXMgc29tZSBydW50aW1lIG1vZHVsZSBoYW5kbGVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSB4ID0+IHt9O1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHRcIm1haW5cIjogMFxufTtcblxudmFyIGRlZmVycmVkTW9kdWxlcyA9IFtcblx0W1wiLi9zcmMvYXBwL2luZGV4LnRzXCIsXCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19mb3J0YXdlc29tZV9mb250YXdlc29tZS1mcmVlX2pzX2FsbF9qcy1ub2RlX21vZHVsZXNfbXNncGFja19tc2dwYWNrX2Rpc3QtMWE0Y2M5XCJdXG5dO1xuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxudmFyIGNoZWNrRGVmZXJyZWRNb2R1bGVzID0geCA9PiB7fTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWUsIGV4ZWN1dGVNb2R1bGVzXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG5cdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuXHR9XG5cblx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuXHRpZihleGVjdXRlTW9kdWxlcykgZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyk7XG5cblx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG5cdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2RyYXduZGljZVwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtkcmF3bmRpY2VcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpO1xuXG5mdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlc0ltcGwoKSB7XG5cdHZhciByZXN1bHQ7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcblx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcblx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuXHRcdH1cblx0fVxuXHRpZihkZWZlcnJlZE1vZHVsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54ID0geCA9PiB7fTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxudmFyIHN0YXJ0dXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIHJlc2V0IHN0YXJ0dXAgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGNhbGxlZCBhZ2FpbiB3aGVuIG1vcmUgc3RhcnR1cCBjb2RlIGlzIGFkZGVkXG5cdF9fd2VicGFja19yZXF1aXJlX18ueCA9IHN0YXJ0dXAgfHwgKHggPT4ge30pO1xuXHRyZXR1cm4gKGNoZWNrRGVmZXJyZWRNb2R1bGVzID0gY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsKSgpO1xufTsiLCIvLyBydW4gc3RhcnR1cFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLngoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=