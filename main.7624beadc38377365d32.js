/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.component-header[data-v-03d324d6] {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n.component-header button[data-v-03d324d6]:last-child {\n  margin-right: 10px;\n}\n.component-body[data-v-03d324d6] {\n  margin-left: 12px;\n  margin-right: 12px;\n}\n.g11[data-v-03d324d6] {\n  grid-row: 1;\n  grid-column: 1;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/compWrapper.vue"],"names":[],"mappings":";AAkEA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,iBAAA;EACA,kBAAA;AACA;AAEA;EACA,WAAA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"component-header\">\n        <div @click=\"visible = !visible\" style=\"width: 100%\"> {{ component.type }}</div>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" style=\"display: grid;\"\n                  :title=\"component.clientVisible ? 'Hide component' : 'Show component'\"\n                  v-show=\"component.clientVisible !== undefined\"\n                  @click=\"$emit('ecs-property-change', component.type, 'clientVisible', !component.clientVisible)\">\n          <div class=\"g11\" v-show=\"component.clientVisible\"><i class=\"fas fa-eye\"/></div>\n          <div class=\"g11\" v-show=\"!component.clientVisible\"><i class=\"fas fa-eye-slash\"/></div>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"primary\" title=\"Fullscreen\"\n                  v-show=\"component._isFullscreen !== undefined\" @click=\"component._isFullscreen = true\">\n          <i class=\"fas fa-expand\"/>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"danger\" title=\"Delete\" v-show=\"component._canDelete\"\n                  @click=\"$emit('ecs-property-change', '$', 'removeComponent', component.type, component.multiId)\">\n          <i class=\"fas fa-trash\"/>\n        </b-button>\n      </div>\n    </div>\n    <b-collapse v-model=\"visible\" class=\"component-body\" visible>\n      <component v-bind:is=\"componentType\" v-bind:component=\"component\" v-bind:isAdmin=\"isAdmin\"\n                 v-bind:allComps=\"allComps\"\n                 v-on:ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\">\n\n      </component>\n    </b-collapse>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport ecsName from \"./ecsName.vue\";\nimport ecsNote from \"./ecsNote.vue\";\nimport ecsPosition from \"./ecsPosition.vue\";\nimport ecsWall from \"./ecsWall.vue\";\nimport ecsBackgroundImage from \"./ecsBackgroundImage.vue\";\nimport ecsPin from \"./ecsPin.vue\";\nimport ecsTransform from \"./ecsTransform.vue\";\nimport ecsLight from \"./ecsLight.vue\";\nimport ecsPlayer from \"./ecsPlayer.vue\";\nimport ecsDoor from \"./ecsDoor.vue\";\nimport ecsPropTeleport from \"./ecsPropTeleport.vue\";\nimport {Component} from \"../../ecs/component\"\nimport {Vue, VComponent, VProp} from \"../vue\";\n\n@VComponent({\n  components: {\n    ecsName, ecsNote, ecsPosition, ecsWall, ecsBackgroundImage, ecsPin, ecsTransform, ecsLight, ecsPlayer, ecsDoor,\n    ecsPropTeleport\n  }\n})\nexport default class EcsComponentWrapper extends Vue {\n  @VProp({required: true}) component!: Component;\n  @VProp({default: false}) isAdmin!: boolean;\n  @VProp() allComps?: Array<Component>;\n  visible = true;\n\n  get componentType(): string {\n    return 'ecs-' + this.component.type.replace('_', '-');\n  }\n}\n</script>\n\n<style scoped>\n.component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n\n.component-header button:last-child {\n  margin-right: 10px;\n}\n\n.component-body {\n  margin-left: 12px;\n  margin-right: 12px;\n}\n\n.g11 {\n  grid-row: 1;\n  grid-column: 1;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.component-btn-header[data-v-c407dbfa] {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n.g11[data-v-c407dbfa] {\n  grid-column: 1;\n  grid-row: 1;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/entityInspect.vue"],"names":[],"mappings":";AA0EA;EACA,cAAA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA;AAEA;EACA,cAAA;EACA,WAAA;AACA","sourcesContent":["<template>\n  <div v-show=\"components.length > 0\">\n    <div class=\"component-btn-header\">\n      <b-dropdown toggle-class=\"rounded-0\" variant=\"success\" v-if=\"isAdmin\">\n        <template v-slot:button-content>\n          <i class=\"fas fa-plus\"></i>\n        </template>\n        <b-dropdown-item v-for=\"x in selectedAddable\" :key=\"x.type\" @click=\"emitSpecial('addComponent', x.type)\">\n          {{ x.name }}\n        </b-dropdown-item>\n      </b-dropdown>\n      <b-button squared :title=\"entity.hidden ? 'Show entity' : 'Hide entity'\" style=\"display: grid\" v-if=\"isAdmin\"\n                @click=\"emitSpecial('hidden', !entity.hidden)\">\n        <div class=\"g11\" :style=\"{visibility: entity.hidden ? 'visible' : 'hidden'}\"><i class=\"fas fa-eye-slash\"/></div>\n        <div class=\"g11\" :style=\"{visibility: entity.hidden ? 'hidden' : 'visible'}\"><i class=\"fas fa-eye\"/></div>\n      </b-button>\n      <b-button v-if=\"isAdmin\" variant=\"danger\" title=\"Delete entity\" squared\n                @click=\"emitSpecial('delete')\">\n        <i class=\"fas fa-trash\"></i>\n      </b-button>\n    </div>\n\n    Id: {{ entity.ids }}\n    <ecs-component-wrapper v-for=\"comp of renderedComponents\" v-bind:key=\"comp.type + (comp.multiId || '')\"\n                           v-bind:component=\"comp\" v-bind:isAdmin=\"isAdmin\" v-bind:allComps=\"allComponents\"\n                           @ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport EcsComponentWrapper from \"./compWrapper.vue\";\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Component, TransformComponent} from \"../../ecs/component\";\n\n@VComponent({\n  components: {\n    EcsComponentWrapper,\n  }\n})\nexport default class EntityInspect extends Vue {\n  @VProp({required: true})\n  entity!: {\n    hidden: boolean,\n    ids: Array<number>\n  };\n\n  @VProp({required: true})\n  components!: Array<Component>;\n\n  @VProp({required: true})\n  isAdmin!: boolean;\n\n  @VProp({required: true})\n  selectedAddable!: Array<{name: string}>;\n\n  get renderedComponents(): Array<Component> {\n    return this.components.filter((c: any) => c._save && c._sync);\n  }\n\n  get allComponents(): {[key: string]: Component} {\n    let m = {} as any;\n    for (let c of this.components) {\n      m[c.type] = c;\n    }\n    return m;\n  }\n\n  emitSpecial(name: string, par: unknown) {\n    this.$emit('ecs-property-change', '$', name, par);\n  }\n}\n</script>\n\n<style scoped>\n.component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n\n.g11 {\n  grid-column: 1;\n  grid-row: 1;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.game[data-v-53b46051] {\n  user-select: none;\n}\n.toolbar-btn[data-v-53b46051] {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n.sidebar-footer[data-v-53b46051] {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/editMap.vue"],"names":[],"mappings":";AAuNA;EACA,iBAAA;AACA;AAEA;EACA,WAAA;EACA,yBAAA;EACA,qBAAA;AACA;AAEA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <div class=\"game\">\n\n    <b-button-toolbar type=\"dark\" variant=\"info\" class=\"bg-dark\"\n                      style=\"width: 100%; height: var(--topbar-height); z-index: 1000;\" justify>\n      <b-button-group v-if=\"isAdmin\" style=\"margin-right: 2rem\">\n        <b-button title=\"Undo\" squared class=\"toolbar-btn\">\n          <i class=\"fas fa-undo\"></i>\n        </b-button>\n        <b-button title=\"Redo\" squared disabled class=\"toolbar-btn\">\n          <i class=\"fas fa-redo\"></i>\n        </b-button>\n      </b-button-group>\n\n      <b-button-group>\n        <b-button title=\"Inspect\" squared class=\"toolbar-btn\" v-on:click=\"changeTool('inspect')\">\n          <i class=\"fas fa-hand-pointer\"></i>\n        </b-button>\n        <b-button title=\"Add wall\" squared class=\"toolbar-btn\" v-on:click=\"changeTool('create_wall')\" v-if=\"isAdmin\">\n          <svg class=\"svg-inline--fa fa-w-16\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 234.809 234.809\"\n               xml:space=\"preserve\">\n                    <path fill=\"currentColor\" d=\"M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n                      c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n                      c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n                      c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n                      c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n                      H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                      c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n                      c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n                      c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n                      c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n                      H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                      c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n                      c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z\"/>\n                  </svg>\n        </b-button>\n        <b-button title=\"Add object\" squared class=\"toolbar-btn\" v-on:click=\"changeTool('create_prop')\" v-if=\"isAdmin\">\n          <i class=\"fas fa-plus\"></i>\n        </b-button>\n        <b-button title=\"Add pin\" squared class=\"toolbar-btn\" v-on:click=\"changeTool('create_pin')\" v-if=\"isAdmin\">\n          <i class=\"fas fa-thumbtack\"></i>\n        </b-button>\n        <b-button title=\"Edit grid\" squared class=\"toolbar-btn\" v-on:click=\"changeTool('grid')\" v-if=\"isAdmin\">\n          <i class=\"fas fa-border-all\"/>\n        </b-button>\n        <b-button title=\"Light settings\" squared class=\"toolbar-btn\" v-on:click=\"changeTool('light')\" v-if=\"isAdmin\">\n          <i class=\"fas fa-lightbulb\"/>\n        </b-button>\n      </b-button-group>\n      <b-button title=\"Export map\" squared variant=\"success\" class=\"btn-xs\" v-on:click=\"phase.exportMap()\"\n                v-if=\"isAdmin\">\n        <i class=\"fas fa-download\"/>\n      </b-button>\n\n      <div style=\"flex: 1 1 0;\"/> <!-- Spacing -->\n      <b-button title=\"Toggle sidebar\" variant=\"warning\" class=\"btn-xs\" v-b-toggle.sidebar-right>\n        <i class=\"fas fa-angle-double-right\"/>\n      </b-button>\n    </b-button-toolbar>\n\n\n    <div id=\"canvas-container\" style=\"width: 100%; height: calc(100vh - var(--topbar-height));\">\n\n    </div>\n\n    <!----------------------------------------------------------------------------------------      SIDEBAR      -->\n\n    <b-sidebar id=\"sidebar-right\" title=\"Sidebar\"\n               bg-variant=\"dark\" text-variant=\"light\" right visible no-header shadow\n               sidebar-class=\"under-navbar\">\n      <!----------------------------------      GRID CONTROL      ---------------------------------->\n      <grid-edit class=\"px-3 py-2\" v-show=\"tool === 'grid'\" v-bind:world=\"world\"/>\n      <!----------------------------------      ENTITY INSPECTOR      ---------------------------------->\n      <div v-show=\"tool === 'inspect'\">\n        <entity-inspect\n            v-bind:components=\"this.selectedComponents\"\n            v-bind:entity=\"this.selectedEntityOpts\"\n            v-bind:isAdmin=\"isAdmin\"\n            v-bind:selectedAddable=\"selectedAddable\"\n            @ecs-property-change=\"onEcsPropertyChange\"/>\n      </div>\n      <!----------------------------------      LIGHT SETTINGS      ---------------------------------->\n      <div class=\"px-3 py-2\" v-show=\"tool === 'light'\">\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Light:</div>\n          <b-input type=\"color\" v-model=\"light.ambientLight\" :readonly=\"!isAdmin\"\n                   @change=\"onAmbientLightChange\"></b-input>\n        </div>\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Needs light:</div>\n          <b-form-checkbox v-model=\"light.needsLight\" @input=\"onAmbientLightChange\"\n                           :readonly=\"!isAdmin\"></b-form-checkbox>\n        </div>\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Vision type:</div>\n          <b-button :pressed.sync=\"light.roleplayVision\" :readonly=\"!isAdmin\">\n            {{ light.roleplayVision ? \"Roleplayer\" : \"Master\" }}\n          </b-button>\n        </div>\n        <div class=\"d-flex flex-row align-items-center\">\n          <div class=\"\">Background:</div>\n          <b-input type=\"color\" v-model=\"light.background\" :readonly=\"!isAdmin\"\n                   @change=\"onAmbientLightChange\"></b-input>\n        </div>\n        <div>\n          <b-button @click=\"onLightSettingsReset\">Reset</b-button>\n        </div>\n      </div>\n\n      <template v-slot:footer>\n        <div class=\"sidebar-footer\">\n          {{ connectionCount }}\n          <div v-bind:class=\"{ rotate: connectionBuffering }\" style=\"margin-left: 0.2rem\">\n            <i class=\"fas fa-sync-alt\"></i>\n          </div>\n        </div>\n      </template>\n    </b-sidebar>\n\n    <a id=\"hidden-download-link\" style=\"display: none;\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nimport EntityInspect from \"../ecs/entityInspect.vue\";\nimport {Component} from \"../../ecs/component\";\nimport {Resource} from \"../../ecs/resource\";\nimport {AddComponent} from \"../../ecs/systems/selectionSystem\";\nimport {DEFAULT_LIGHT_SETTINGS, LightSettings, LocalLightSettings} from \"../../ecs/systems/lightSystem\";\nimport {SelectionSystem} from \"../../ecs/systems/selectionSystem\";\nimport PIXI from \"../../PIXI\";\nimport hex2string = PIXI.utils.hex2string;\nimport string2hex = PIXI.utils.string2hex;\nimport {Tool} from \"../../ecs/tools/toolType\";\nimport {ToolResource} from \"../../ecs/systems/toolSystem\";\nimport GridEdit from \"./gridEdit.vue\";\n\nexport default Vue.extend({\n  components: {GridEdit, EntityInspect},\n  props: ['phase', 'world', 'isAdmin'],\n  data() {\n    return {\n      tool: 'inspect',\n      connectionCount: 0,\n      connectionBuffering: false,\n      light: {\n        ambientLight: '#000000',\n        needsLight: true,\n        roleplayVision: false,\n        background: '#000000'\n      },\n      selectedComponents: new Array<Component>(),\n      selectedEntityOpts: {},\n      selectedAddable: new Array<AddComponent>(),\n    };\n  },\n  methods: {\n    changeTool(tool: Tool) {\n      this.phase.world.editResource('tool', {tool});\n    },\n\n    onEcsPropertyChange(type: string, property: string, value: any, multiId: number) {\n      let selectionSys = this.phase.world.systems.get('selection') as SelectionSystem;\n      selectionSys.setProperty(type, property, value, multiId);\n    },\n\n    onAmbientLightChange() {\n      this.phase.world.addResource({\n        type: 'light_settings',\n        ambientLight: string2hex(this.light.ambientLight),\n        needsLight: this.light.needsLight,\n        background: string2hex(this.light.background),\n      } as LightSettings, 'update');\n    },\n    onLightSettingsReset() {\n      this.phase.world.addResource(Object.assign({\n        type: 'light_settings',\n      }, DEFAULT_LIGHT_SETTINGS) as LightSettings, 'update');\n      this.reloadLight();\n    },\n    reloadLight() {\n      let light = this.phase.world.getResource('light_settings') as LightSettings;\n      this.light.ambientLight = hex2string(light.ambientLight);\n      this.light.needsLight = light.needsLight;\n      this.light.background = hex2string(light.background);\n      let llight = this.phase.world.getResource('local_light_settings') as LocalLightSettings;\n      this.light.roleplayVision = llight.visionType === 'rp';\n    },\n    onResourceEdited(res: Resource) {\n      if (res.type === 'light_settings' || res.type === 'local_light_settings') this.reloadLight();\n      else if (res.type === 'tool') this.tool = (res as ToolResource).tool!;\n    }\n  },\n  watch: {\n    'light.roleplayVision': function () {\n      let visionType = this.light.roleplayVision ? 'rp' : 'dm';\n\n      this.phase.world.editResource('local_light_settings', {visionType});\n    }\n  },\n  mounted() {\n    //this.world = this.phase.world;\n    this.reloadLight();\n\n    this.phase.world.events.on('resource_edited', this.onResourceEdited);\n  },\n  /*unmounted() {// TODO: vue3\n    this.phase.world.events.off('resource_edited', this.onResourceEdited);\n  },*/\n});\n</script>\n\n<style scoped>\n.game {\n  user-select: none;\n}\n\n.toolbar-btn {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../public/images/GitHub-Mark-Light-32px.png */ "./src/public/images/GitHub-Mark-Light-32px.png");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__.default);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.credits[data-v-539f2bff] {\n  text-align: right;\n  padding: 20px;\n}\n.github[data-v-539f2bff] {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n}\n.github[data-v-539f2bff]:hover {\n  opacity: 0.5;\n}\n.profile[data-v-539f2bff] {\n  color: white;\n}\n.profile[data-v-539f2bff]:hover {\n  opacity: 0.5;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/footer.vue"],"names":[],"mappings":";AAqBA;EACA,iBAAA;EACA,aAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,yDAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA","sourcesContent":["<template>\n  <div class=\"footer\">\n    <div class=\"credits\">\n      <div class=\"links\">\n        <a href=\"https://github.com/SnowyCoder/dndme\" target=\"_blank\" class=\"github\"></a>\n      </div>\n      <small style=\"color: lightgray\">\n        Developed by <a href=\"https://github.com/SnowyCoder\" target=\"_blank\" class=\"profile\">Rossi Lorenzo</a> /\n        Drawings by <span style=\"color: white\">Giorgia Nizzoli</span>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style scoped>\n.credits {\n  text-align: right;\n  padding: 20px;\n}\n\n.github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(\"~Public/images/GitHub-Mark-Light-32px.png\");\n}\n\n.github:hover {\n  opacity: 0.5;\n}\n\n.profile {\n  color: white;\n}\n\n.profile:hover {\n  opacity: 0.5;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.btn-entry[data-v-d8550b4a] {\n  margin-bottom: 10px;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/home/home.vue"],"names":[],"mappings":";AA0EA;EACA,mBAAA;AACA","sourcesContent":["<template>\n  <div class=\"phase-container text-center\">\n    <div class=\"title-container\">\n      <h1 class=\"title h1\">DrawNDice</h1>\n      <p class=\"\">Dnd made ez!</p>\n    </div>\n\n    <div>\n      <b-button variant=\"warning\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onCreateMap\">Create Map</b-button>\n    </div>\n    <div>\n      <b-button variant=\"info\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onEditMap\">Edit Map</b-button>\n    </div>\n\n    <b-modal ref=\"map-load-modal\" hide-footer title=\"Gimme the map\">\n      <b-form-file\n          v-model=\"file\"\n          :state=\"Boolean(file)\"\n          placeholder=\"Choose a file or drop it here...\"\n          drop-placeholder=\"Drop file here...\"\n          accept=\".dndm\"\n      ></b-form-file>\n    </b-modal>\n\n    <footer-component></footer-component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport FooterComponent from \"../footer.vue\";\nimport MapInput from \"./mapInput.vue\";\n\n\nimport {VComponent, Vue, PhaseVue, VWatch, VRef} from \"../vue\";\nimport EventEmitter = PIXI.utils.EventEmitter;\nimport {BModal} from \"bootstrap-vue\";\n\n@VComponent({\n  components: { MapInput, FooterComponent }\n})\nexport default class HomeComponent extends Vue implements PhaseVue {\n  @VRef('map-load-modal') readonly mapLoadModal!: BModal;\n\n  file: any = null;\n  pendingOp: string = \"\";\n  eventEmitter!: EventEmitter;\n\n  onCreateMap() {\n    this.eventEmitter.emit(\"create_map\");\n  }\n\n  onEditMap() {\n    this.pendingOp = 'edit';\n    this.mapLoadModal.show();\n    this.eventEmitter.emit(\"edit_map\");\n  }\n\n  mapLoadCancel() {\n    this.mapLoadModal.hide();\n  }\n\n  @VWatch('file')\n  onFileChanged(val: any) {\n    if (val == null) return;\n\n    console.log(\"File dropped, loading: \" + this.pendingOp);\n    this.eventEmitter.emit(this.pendingOp, this.file);\n    this.file = null;\n    this.mapLoadCancel();\n  }\n}\n</script>\n\n<style scoped>\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/public/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap/dist/css/bootstrap.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap/dist/css/bootstrap.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap-vue/dist/bootstrap-vue.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap-vue/dist/bootstrap-vue.css");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Merienda+One&display=swap);"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__.default);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__.default);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n\n@media screen and (max-height: 890px) {\n    .footer {\n        position: static;\n    }\n}\n\n@media screen and (min-height: 890px) {\n    .footer {\n        position: fixed;\n        bottom: 0;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n", "",{"version":3,"sources":["webpack://./src/public/style.css"],"names":[],"mappings":"AAIA;IACI,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,YAAY;;IAEZ,6MAA6M;IAC7M,oCAAoC;AACxC;;AAEA;AACA;;;AAGA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,eAAe;QACf,SAAS;IACb;AACJ;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,WAAW;IACX,qCAAqC;AACzC;;AAEA;IACI,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,oBAAoB;AACxB;;AAEA;IACI,WAAW;AACf;AACA;IACI,YAAY;AAChB;AACA;IACI,qBAAqB;IACrB,yBAAyB;AAC7B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,sCAAsC;AAC1C;;AAEA,iBAAiB;;AAEjB;IACI;QACI,uBAAuB;IAC3B;IACA;QACI,yBAAyB;IAC7B;AACJ","sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Merienda+One&display=swap');\n@import '~bootstrap/dist/css/bootstrap.css';\n@import '~bootstrap-vue/dist/bootstrap-vue.css';\n\n:root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n\n@media screen and (max-height: 890px) {\n    .footer {\n        position: static;\n    }\n}\n\n@media screen and (min-height: 890px) {\n    .footer {\n        position: fixed;\n        bottom: 0;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/public/images/GitHub-Mark-Light-32px.png":
/*!******************************************************!*\
  !*** ./src/public/images/GitHub-Mark-Light-32px.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "266ca63177bca6f330a74e83fdc63178.png");

/***/ }),

/***/ "./src/public/images/props.png":
/*!*************************************!*\
  !*** ./src/public/images/props.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "461f357929f9f8d63da20b81e743a099.png");

/***/ }),

/***/ "./node_modules/peerjs/dist sync recursive":
/*!****************************************!*\
  !*** ./node_modules/peerjs/dist/ sync ***!
  \****************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/peerjs/dist sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue */ "./src/app/ui/ecs/ecsName.vue");
/* harmony import */ var _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue */ "./src/app/ui/ecs/ecsNote.vue");
/* harmony import */ var _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsPosition.vue */ "./src/app/ui/ecs/ecsPosition.vue");
/* harmony import */ var _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ecsWall.vue */ "./src/app/ui/ecs/ecsWall.vue");
/* harmony import */ var _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ecsBackgroundImage.vue */ "./src/app/ui/ecs/ecsBackgroundImage.vue");
/* harmony import */ var _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ecsPin.vue */ "./src/app/ui/ecs/ecsPin.vue");
/* harmony import */ var _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ecsTransform.vue */ "./src/app/ui/ecs/ecsTransform.vue");
/* harmony import */ var _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ecsLight.vue */ "./src/app/ui/ecs/ecsLight.vue");
/* harmony import */ var _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ecsPlayer.vue */ "./src/app/ui/ecs/ecsPlayer.vue");
/* harmony import */ var _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ecsDoor.vue */ "./src/app/ui/ecs/ecsDoor.vue");
/* harmony import */ var _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ecsPropTeleport.vue */ "./src/app/ui/ecs/ecsPropTeleport.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












let EcsComponentWrapper = class EcsComponentWrapper extends _vue__WEBPACK_IMPORTED_MODULE_11__.Vue {
    constructor() {
        super(...arguments);
        this.visible = true;
    }
    get componentType() {
        return 'ecs-' + this.component.type.replace('_', '-');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_11__.VProp)({ required: true })
], EcsComponentWrapper.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_11__.VProp)({ default: false })
], EcsComponentWrapper.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_11__.VProp)()
], EcsComponentWrapper.prototype, "allComps", void 0);
EcsComponentWrapper = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_11__.VComponent)({
        components: {
            ecsName: _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__.default, ecsNote: _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__.default, ecsPosition: _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__.default, ecsWall: _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__.default, ecsBackgroundImage: _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__.default, ecsPin: _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__.default, ecsTransform: _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__.default, ecsLight: _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__.default, ecsPlayer: _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__.default, ecsDoor: _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__.default,
            ecsPropTeleport: _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_10__.default
        }
    })
], EcsComponentWrapper);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsComponentWrapper);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsDoor = class EcsDoor extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.doorType = _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT;
        this.open = false;
        this.locked = false;
    }
    onChange() {
        if (this.component.doorType !== this.doorType) {
            this.$emit('ecs-property-change', 'door', 'doorType', this.doorType);
        }
        if (this.component.open !== this.open) {
            this.$emit('ecs-property-change', 'door', 'open', this.open);
        }
        if (this.component.locked !== this.locked) {
            this.$emit('ecs-property-change', 'door', 'locked', this.locked);
        }
    }
    get doorTypeName() {
        switch (this.doorType) {
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_LEFT:
                return "Normal";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT:
                return "Normal right";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.ROTATE:
                return "Rotating";
            default:
                return "Unknown??";
        }
    }
    onCDoorTypeChanged(val) {
        this.doorType = val;
    }
    onCOpenChanged(val) {
        this.open = val;
    }
    onCLockedChanged(val) {
        this.locked = val;
    }
    onDoorTypeChanged() {
        this.onChange();
    }
    onOpenChanged() {
        this.onChange();
    }
    onLockedChanged() {
        this.onChange();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.doorType')
], EcsDoor.prototype, "onCDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.open')
], EcsDoor.prototype, "onCOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.locked')
], EcsDoor.prototype, "onCLockedChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('doorType')
], EcsDoor.prototype, "onDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('open')
], EcsDoor.prototype, "onOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('locked')
], EcsDoor.prototype, "onLockedChanged", null);
EcsDoor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsDoor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsDoor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.string2hex;
let EcsLight = class EcsLight extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.range = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'light', 'color', c);
        }
        let r = parseInt(this.range);
        if (this.component.range !== r && this.range !== '') {
            this.$emit('ecs-property-change', 'light', 'range', r);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? '' : hex2string(val);
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsLight.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.range')
], EcsLight.prototype, "onCRangeChanged", null);
EcsLight = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsLight);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsLight);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsName = class EcsName extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.name = '';
    }
    onCNameChanged(val) {
        this.name = val !== null && val !== void 0 ? val : '';
    }
    onChange() {
        this.$emit('ecs-property-change', 'name', 'name', this.name, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.name')
], EcsName.prototype, "onCNameChanged", null);
EcsName = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsName);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsName);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsNote = class EcsNote extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.note = '';
    }
    onCNoteChanged(val) {
        this.note = val;
    }
    onChange() {
        this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.note')
], EcsNote.prototype, "onCNoteChanged", null);
EcsNote = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsNote);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsNote);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.string2hex;
let EcsPin = class EcsPin extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.label = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'pin', 'color', c);
        }
        let label = this.label;
        if (!label)
            label = undefined;
        if (label !== this.component.label) {
            this.$emit('ecs-property-change', 'pin', 'label', label);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? "" : hex2string(val);
    }
    onCLabelChanged(val) {
        this.label = val !== null && val !== void 0 ? val : "";
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsPin.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.label')
], EcsPin.prototype, "onCLabelChanged", null);
EcsPin = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsPin);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPin);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPlayer = class EcsPlayer extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.nightVision = false;
        this.range = '';
    }
    onChange() {
        if (this.component.nightVision !== this.nightVision) {
            this.$emit('ecs-property-change', 'player', 'nightVision', this.nightVision);
        }
        let c = parseInt(this.range);
        if (this.component.range !== c && this.range !== '') {
            this.$emit('ecs-property-change', 'player', 'range', c);
        }
    }
    onCNightVisionChanged(val) {
        this.nightVision = val;
    }
    onCRangeChanged(val) {
        this.range = val + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.nightVision')
], EcsPlayer.prototype, "onCNightVisionChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.range')
], EcsPlayer.prototype, "onCRangeChanged", null);
EcsPlayer = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPlayer);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPlayer);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPosition = class EcsPosition extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.x = '';
        this.y = '';
    }
    onChange() {
        let x = parseFloat(this.x);
        if (this.component.x !== x && this.x !== '') {
            this.$emit('ecs-property-change', 'position', 'x', x);
        }
        let y = parseFloat(this.y);
        if (this.component.y !== y && this.y !== '') {
            this.$emit('ecs-property-change', 'position', 'y', y);
        }
    }
    onCxChanged(val) {
        this.x = (val !== null && val !== void 0 ? val : '') + '';
    }
    onCyChanged(val) {
        this.y = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.x')
], EcsPosition.prototype, "onCxChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.y')
], EcsPosition.prototype, "onCyChanged", null);
EcsPosition = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPosition);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPosition);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPropTeleport = class EcsPropTeleport extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    focusTarget() {
        console.warn("TODO: focus target");
    }
    link() {
        this.$emit('ecs-property-change', '@', 'prop_teleport_link', this.component.entity);
    }
    use() {
        this.$emit('ecs-property-change', '@', 'prop_use', this.component.entity);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "isAdmin", void 0);
EcsPropTeleport = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPropTeleport);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPropTeleport);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsTransform = class EcsTransform extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.rotation = '';
        this.scale = '';
    }
    onChange() {
        if (this.rotation !== '') {
            let r = Math.min(Math.max(parseFloat(this.rotation), 0), 360);
            if (this.component.rotation !== r) {
                this.$emit('ecs-property-change', 'transform', 'rotation', r * pixi_js__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD);
            }
        }
        if (this.scale !== '') {
            let s = parseFloat(this.scale);
            if (this.component.scale !== s) {
                this.$emit('ecs-property-change', 'transform', 'scale', s);
            }
        }
    }
    onCRotationChanged(val) {
        this.rotation = (val !== null && val !== void 0 ? val : 0) * pixi_js__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG + '';
    }
    onCScaleChanged(val) {
        this.scale = (val !== null && val !== void 0 ? val : 0) + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.rotation')
], EcsTransform.prototype, "onCRotationChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.scale')
], EcsTransform.prototype, "onCScaleChanged", null);
EcsTransform = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsTransform);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsTransform);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsWall = class EcsWall extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.w = '';
        this.h = '';
    }
    onChange() {
        let w = parseFloat(this.w);
        let h = parseFloat(this.h);
        if ((this.component.vec[0] !== w && this.w !== '') || (this.component.vec[1] !== h && this.h !== '')) {
            this.$emit('ecs-property-change', 'wall', 'vec', [w, h]);
        }
    }
    onCxChanged(vec) {
        if (vec === undefined) {
            this.w = '';
            this.h = '';
        }
        else {
            this.w = vec[0] + '';
            this.h = vec[1] + '';
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.vec')
], EcsWall.prototype, "onCxChanged", null);
EcsWall = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsWall);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsWall);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue */ "./src/app/ui/ecs/compWrapper.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EntityInspect = class EntityInspect extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    get renderedComponents() {
        return this.components.filter((c) => c._save && c._sync);
    }
    get allComponents() {
        let m = {};
        for (let c of this.components) {
            m[c.type] = c;
        }
        return m;
    }
    emitSpecial(name, par) {
        this.$emit('ecs-property-change', '$', name, par);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "entity", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "components", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "selectedAddable", void 0);
EntityInspect = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EcsComponentWrapper: _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__.default,
        }
    })
], EntityInspect);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EntityInspect);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ecs/entityInspect.vue */ "./src/app/ui/ecs/entityInspect.vue");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _gridEdit_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gridEdit.vue */ "./src/app/ui/edit/gridEdit.vue");




var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.string2hex;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_4__.default.extend({
    components: { GridEdit: _gridEdit_vue__WEBPACK_IMPORTED_MODULE_3__.default, EntityInspect: _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_0__.default },
    props: ['phase', 'world', 'isAdmin'],
    data() {
        return {
            tool: 'inspect',
            connectionCount: 0,
            connectionBuffering: false,
            light: {
                ambientLight: '#000000',
                needsLight: true,
                roleplayVision: false,
                background: '#000000'
            },
            selectedComponents: new Array(),
            selectedEntityOpts: {},
            selectedAddable: new Array(),
        };
    },
    methods: {
        changeTool(tool) {
            this.phase.world.editResource('tool', { tool });
        },
        onEcsPropertyChange(type, property, value, multiId) {
            let selectionSys = this.phase.world.systems.get('selection');
            selectionSys.setProperty(type, property, value, multiId);
        },
        onAmbientLightChange() {
            this.phase.world.addResource({
                type: 'light_settings',
                ambientLight: string2hex(this.light.ambientLight),
                needsLight: this.light.needsLight,
                background: string2hex(this.light.background),
            }, 'update');
        },
        onLightSettingsReset() {
            this.phase.world.addResource(Object.assign({
                type: 'light_settings',
            }, _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LIGHT_SETTINGS), 'update');
            this.reloadLight();
        },
        reloadLight() {
            let light = this.phase.world.getResource('light_settings');
            this.light.ambientLight = hex2string(light.ambientLight);
            this.light.needsLight = light.needsLight;
            this.light.background = hex2string(light.background);
            let llight = this.phase.world.getResource('local_light_settings');
            this.light.roleplayVision = llight.visionType === 'rp';
        },
        onResourceEdited(res) {
            if (res.type === 'light_settings' || res.type === 'local_light_settings')
                this.reloadLight();
            else if (res.type === 'tool')
                this.tool = res.tool;
        }
    },
    watch: {
        'light.roleplayVision': function () {
            let visionType = this.light.roleplayVision ? 'rp' : 'dm';
            this.phase.world.editResource('local_light_settings', { visionType });
        }
    },
    mounted() {
        //this.world = this.phase.world;
        this.reloadLight();
        this.phase.world.events.on('resource_edited', this.onResourceEdited);
    },
    /*unmounted() {// TODO: vue3
      this.phase.world.events.off('resource_edited', this.onResourceEdited);
    },*/
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.grid = {
            type: "none",
            size: 1,
            offX: 0,
            offY: 0,
            color: '#000000',
            opacity: 0.5,
            thick: 2,
        };
        this.disableWatchSave = false;
    }
    reloadGrid() {
        this.disableWatchSave = true;
        let grid = this.world.getResource('grid');
        switch (grid.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.HEXAGON:
                this.grid.type = 'hex';
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.SQUARE:
                this.grid.type = 'square';
                break;
        }
        if (!grid.visible) {
            this.grid.type = 'none';
        }
        let opts = grid;
        this.grid.size = opts.size;
        this.grid.offX = opts.offX;
        this.grid.offY = opts.offY;
        this.grid.color = hex2string(opts.color);
        this.grid.opacity = opts.opacity;
        this.grid.thick = opts.thick;
        this.disableWatchSave = false;
    }
    mounted() {
        this.reloadGrid();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'grid')
            this.reloadGrid();
    }
    onGridChange(newGrid) {
        if (this.disableWatchSave)
            return;
        newGrid.offX = Math.min(newGrid.offX, newGrid.size);
        newGrid.offY = Math.min(newGrid.offY, newGrid.size);
        let type;
        switch (newGrid.type) {
            case 'none':
                type = undefined;
                break;
            case 'hex':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.HEXAGON;
                break;
            case 'square':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_1__.GridType.SQUARE;
                break;
        }
        if (type !== undefined) {
            this.world.editResource('grid', {
                visible: true,
                gridType: type,
                size: newGrid.size,
                offX: newGrid.offX,
                offY: newGrid.offY,
                color: string2hex(newGrid.color),
                opacity: parseFloat(newGrid.opacity),
                thick: newGrid.thick,
            });
        }
        else {
            this.world.editResource('grid', {
                visible: false,
            });
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('grid', { deep: true })
], GridEdit.prototype, "onGridChange", null);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../footer.vue */ "./src/app/ui/footer.vue");
/* harmony import */ var _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue */ "./src/app/ui/home/mapInput.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let HomeComponent = class HomeComponent extends _vue__WEBPACK_IMPORTED_MODULE_2__.Vue {
    constructor() {
        super(...arguments);
        this.file = null;
        this.pendingOp = "";
    }
    onCreateMap() {
        this.eventEmitter.emit("create_map");
    }
    onEditMap() {
        this.pendingOp = 'edit';
        this.mapLoadModal.show();
        this.eventEmitter.emit("edit_map");
    }
    mapLoadCancel() {
        this.mapLoadModal.hide();
    }
    onFileChanged(val) {
        if (val == null)
            return;
        console.log("File dropped, loading: " + this.pendingOp);
        this.eventEmitter.emit(this.pendingOp, this.file);
        this.file = null;
        this.mapLoadCancel();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VRef)('map-load-modal')
], HomeComponent.prototype, "mapLoadModal", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VWatch)('file')
], HomeComponent.prototype, "onFileChanged", null);
HomeComponent = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VComponent)({
        components: { MapInput: _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__.default, FooterComponent: _footer_vue__WEBPACK_IMPORTED_MODULE_0__.default }
    })
], HomeComponent);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HomeComponent);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.extend());


/***/ }),

/***/ "./src/app/PIXI.ts":
/*!*************************!*\
  !*** ./src/app/PIXI.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi-layers */ "./node_modules/pixi-layers/dist/pixi-layers.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_layers__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pixi_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./src/app/assetsLoader.ts":
/*!*********************************!*\
  !*** ./src/app/assetsLoader.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAssets": () => (/* binding */ loadAssets)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Public/images/props.png */ "./src/public/images/props.png");
/* harmony import */ var Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Public/spritesheets/props.json */ "./src/public/spritesheets/props.json");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



var BaseTexture = pixi_js__WEBPACK_IMPORTED_MODULE_0__.BaseTexture;
var ImageResource = pixi_js__WEBPACK_IMPORTED_MODULE_0__.resources.ImageResource;
function loadSpritesheet(loader, name, imgUrl, data) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            console.log("[Spritesheet] Loading: " + name);
            const imgElm = new Image();
            imgElm.crossOrigin = 'anonymous';
            imgElm.onload = () => {
                const tex = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Texture(new BaseTexture(new ImageResource(imgElm)));
                const spritesheet = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Spritesheet(tex, data);
                loader.resources[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.LoaderResource(name, "");
                loader.resources[name].spritesheet = spritesheet;
                spritesheet.parse(() => {
                    console.log("[Spritesheet] Loaded: " + name);
                    resolve(spritesheet);
                });
            };
            imgElm.src = imgUrl; // When the listeners are set, we can finally start downloading the image.
        });
    });
}
function loadAssets() {
    return __awaiter(this, void 0, void 0, function* () {
        const loader = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Loader.shared;
        yield Promise.all([
            loadSpritesheet(loader, "props", Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__.default, Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__),
        ]);
    });
}


/***/ }),

/***/ "./src/app/ecs/component.ts":
/*!**********************************!*\
  !*** ./src/app/ecs/component.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "POSITION_TYPE": () => (/* binding */ POSITION_TYPE),
/* harmony export */   "TRANSFORM_TYPE": () => (/* binding */ TRANSFORM_TYPE),
/* harmony export */   "NAME_TYPE": () => (/* binding */ NAME_TYPE),
/* harmony export */   "NOTE_TYPE": () => (/* binding */ NOTE_TYPE),
/* harmony export */   "FOLLOW_MOUSE_TYPE": () => (/* binding */ FOLLOW_MOUSE_TYPE),
/* harmony export */   "HOST_HIDDEN_TYPE": () => (/* binding */ HOST_HIDDEN_TYPE),
/* harmony export */   "registerCommonStorage": () => (/* binding */ registerCommonStorage)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/app/ecs/storage.ts");

const POSITION_TYPE = "position";
const TRANSFORM_TYPE = "transform";
const NAME_TYPE = "name";
const NOTE_TYPE = "note";
const FOLLOW_MOUSE_TYPE = "follow_mouse";
const HOST_HIDDEN_TYPE = "host_hidden";
function registerCommonStorage(ecs) {
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(POSITION_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(TRANSFORM_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NAME_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NOTE_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(FOLLOW_MOUSE_TYPE, false, false));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(HOST_HIDDEN_TYPE, false, false));
}


/***/ }),

/***/ "./src/app/ecs/interaction.ts":
/*!************************************!*\
  !*** ./src/app/ecs/interaction.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeomertyQueryType": () => (/* binding */ GeomertyQueryType),
/* harmony export */   "QueryHitEvent": () => (/* binding */ QueryHitEvent)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

var GeomertyQueryType;
(function (GeomertyQueryType) {
    GeomertyQueryType[GeomertyQueryType["POINT"] = 0] = "POINT";
    GeomertyQueryType[GeomertyQueryType["AABB"] = 1] = "AABB";
})(GeomertyQueryType || (GeomertyQueryType = {}));
class QueryHitEvent {
    constructor(type, multi, aabb, data) {
        this.hits = new Set();
        this.type = type;
        this.multi = multi;
        this.aabb = aabb;
        this.data = data || aabb;
    }
    shouldContinue() {
        return this.multi || this.hits.size === 0;
    }
    addHit(entity) {
        if (!this.shouldContinue())
            return;
        this.hits.add(entity);
    }
    static queryPoint(point, multi) {
        return new QueryHitEvent(GeomertyQueryType.POINT, multi, new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(point.x, point.y, point.x, point.y), point);
    }
    static queryAabb(aabb, multi) {
        return new QueryHitEvent(GeomertyQueryType.AABB, multi, aabb);
    }
}


/***/ }),

/***/ "./src/app/ecs/storage.ts":
/*!********************************!*\
  !*** ./src/app/ecs/storage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "serializeObj": () => (/* binding */ serializeObj),
/* harmony export */   "MultiEcsStorage": () => (/* binding */ MultiEcsStorage),
/* harmony export */   "SingleEcsStorage": () => (/* binding */ SingleEcsStorage),
/* harmony export */   "FlagEcsStorage": () => (/* binding */ FlagEcsStorage)
/* harmony export */ });
function serializeObj(obj) {
    let res = {};
    for (let name in obj) {
        if (name[0] === '_' || name === 'entity' || name === 'type')
            continue;
        res[name] = obj[name];
    }
    return res;
}
class MultiEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getFirstComponent(entity, multiId) {
        if (multiId !== undefined) {
            return this.getComponent(entity, multiId);
        }
        let e = this.data.get(entity);
        if (e === undefined)
            return undefined;
        return e[0];
    }
    getComponent(entity, multiId) {
        let cmps = this.data.get(entity);
        if (cmps === undefined)
            return undefined;
        for (let cmp of cmps) {
            if (cmp.multiId === multiId)
                return cmp;
        }
        return undefined;
    }
    getComponents(entity) {
        if (entity !== undefined) {
            return this.data.get(entity) || [];
        }
        else {
            return this.allComponents();
        }
    }
    *allComponents() {
        for (let comps of this.data.values()) {
            for (let comp of comps) {
                yield comp;
            }
        }
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (component.multiId >= 0) { // Pre-assigned multi-id
            if (arr === undefined) {
                this.data.set(component.entity, [component]);
            }
            else {
                for (let c of arr) {
                    if (c.multiId === component.multiId)
                        throw 'Invalid pre-assigned multiId';
                }
                arr.push(component);
            }
            return;
        }
        if (arr === undefined) {
            component.multiId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
            this.data.set(component.entity, [component]);
        }
        else {
            let id;
            let found;
            do {
                id = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
                found = false;
                for (let x of arr) {
                    if (x.multiId === id) {
                        found = true;
                        break;
                    }
                }
            } while (found);
            component.multiId = id;
            arr.push(component);
        }
    }
    unregister(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            return;
        }
        if (arr.length === 1 && arr[0] === component) {
            this.data.delete(component.entity);
        }
        else {
            arr.splice(arr.indexOf(component), 1);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        let res = {};
        for (let [entity, comps] of this.data.entries()) {
            let entityRes = new Array();
            for (let component of comps) {
                entityRes.push(serializeObj(component));
            }
            res[entity] = entityRes;
        }
        return res;
    }
    serializeClient(shouldIgnore) {
        let res = {};
        for (let [entity, comps] of this.data.entries()) {
            if (shouldIgnore(entity))
                continue;
            let entityRes = new Array();
            for (let component of comps) {
                if (component.clientVisible === false)
                    continue;
                entityRes.push(serializeObj(component));
            }
            if (entityRes.length !== 0) {
                res[entity] = entityRes;
            }
        }
        return res;
    }
    deserialize(ecs, data) {
        for (let entity in data) {
            let e = parseInt(entity);
            for (let comp of data[entity]) {
                let obj = Object.assign({}, comp, {
                    type: this.type
                });
                ecs.addComponent(e, obj);
            }
        }
    }
}
class SingleEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.data.get(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.data.get(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            this.data.set(component.entity, component);
        }
        else {
            throw 'Component of same type already registered';
        }
    }
    unregister(component) {
        let c = this.data.get(component.entity);
        if (c === undefined) {
            return;
        }
        if (c === component) {
            this.data.delete(component.entity);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        let res = {};
        for (let comp of this.data.values()) {
            res[comp.entity] = serializeObj(comp);
        }
        return res;
    }
    serializeClient(shouldIgnore) {
        let res = {};
        for (let comp of this.data.values()) {
            if (shouldIgnore(comp.entity) || comp.clientVisible === false)
                continue;
            res[comp.entity] = serializeObj(comp);
        }
        return res;
    }
    deserialize(ecs, data) {
        for (let entity in data) {
            let obj = Object.assign({}, data[entity], {
                type: this.type
            });
            ecs.addComponent(parseInt(entity), obj);
        }
    }
}
class FlagEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.getComponent(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.getComponent(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        if (this.data.has(component.entity))
            throw 'Component of same type already registered';
        this.data.set(component.entity, component);
    }
    unregister(component) {
        this.data.delete(component.entity);
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize() {
        return [...this.data.keys()];
    }
    serializeClient(shouldIgnore) {
        return [...this.data.keys()].filter((e) => !shouldIgnore(e));
    }
    deserialize(ecs, data) {
        for (let entity of data) {
            ecs.addComponent(entity, {
                type: this.type,
                entity: -1
            });
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systemGraph.ts":
/*!************************************!*\
  !*** ./src/app/ecs/systemGraph.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SystemGraph": () => (/* binding */ SystemGraph)
/* harmony export */ });
class SystemGraph {
    constructor() {
        this.systemsByName = new Map();
        this.systems = new Array();
        this.unfulfilledDeps = new Set();
    }
    get(name) {
        return this.systemsByName.get(name);
    }
    register(system) {
        let depName = system.name;
        let unfulfilled = this.unfulfilledDeps.has(system.name);
        if (!unfulfilled && system.provides !== undefined) {
            for (let dep of system.provides) {
                depName = dep;
                unfulfilled = this.unfulfilledDeps.has(dep);
                if (unfulfilled)
                    break;
            }
        }
        if (unfulfilled) {
            throw `Some previous system optionally depended on ${depName}, please order your systems correctly`;
        }
        for (let dep of system.dependencies) {
            if (!this.systemsByName.has(dep))
                throw 'Unfulfilled dependency: ' + dep;
        }
        if (system.optionalDependencies !== undefined) {
            for (let dep of system.optionalDependencies) {
                if (this.systemsByName.has(dep))
                    continue;
                this.unfulfilledDeps.add(dep);
            }
        }
        let sys = this.systemsByName.get(system.name);
        if (sys != null) {
            if (sys.name === system.name)
                throw 'System name conflict';
            console.warn(`System ${system.name} has been already registered under ${sys.name}, overriding`);
        }
        this.systemsByName.set(system.name, system);
        this.systems.push(system);
        if (system.provides) {
            for (let prov of system.provides) {
                if (this.systemsByName.has(prov)) {
                    throw `Service ${prov} is already provided by ${this.systemsByName.get(prov).name}, cannot override with ${system.name}`;
                }
                this.systemsByName.set(prov, system);
            }
        }
    }
    [Symbol.iterator]() {
        return this.systems[Symbol.iterator]();
    }
    getAt(index) {
        return this.systems[index];
    }
    size() {
        return this.systems.length;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/backgroundSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/backgroundSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BACKGROUND_TYPE": () => (/* binding */ BACKGROUND_TYPE),
/* harmony export */   "BackgroundSystem": () => (/* binding */ BackgroundSystem)
/* harmony export */ });
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};




const BACKGROUND_TYPE = 'background_image';
class BackgroundSystem {
    constructor(world) {
        this.name = BACKGROUND_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.world = world;
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(BACKGROUND_TYPE, true, true);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, this.onRememberBBBUpdate, this);
    }
    onComponentAdd(c) {
        return __awaiter(this, void 0, void 0, function* () {
            if (c.type !== BACKGROUND_TYPE)
                return;
            let bkgImg = c;
            if (bkgImg.image.byteOffset !== 0) {
                // Copy array to remove offset (TODO: fix)
                // https://github.com/peers/peerjs/issues/715
                bkgImg.image = new Uint8Array(bkgImg.image);
            }
            if (bkgImg.visibilityMap !== undefined) {
                let res = new Uint8Array(bkgImg.visibilityMap); // Copy buffer (adjusts alignment)
                bkgImg.visibilityMap = new Uint32Array(res.buffer);
            }
            let tex = yield (0,_util_pixi__WEBPACK_IMPORTED_MODULE_0__.loadTexture)(bkgImg.image, bkgImg.imageType);
            this.world.addComponent(c.entity, {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                interactive: true,
                entity: c.entity,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE,
                    ignore: false,
                    priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.BACKGROUND,
                    scale: _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.REAL,
                    visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT,
                    visMap: bkgImg.visibilityMap,
                    texture: tex,
                    anchor: { x: 0.5, y: 0.5 },
                    tint: 0xFFFFFF,
                },
            });
        });
    }
    onRememberBBBUpdate(entities) {
        var _a, _b;
        let gstor = this.world.storages.get(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        for (let e of entities) {
            let c = this.storage.getComponent(e);
            if (c === undefined)
                continue;
            c.visibilityMap = (_b = (_a = gstor.getComponent(e)) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.visMap;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/doorSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/doorSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoorType": () => (/* binding */ DoorType),
/* harmony export */   "DOOR_TYPE": () => (/* binding */ DOOR_TYPE),
/* harmony export */   "DoorSystem": () => (/* binding */ DoorSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pixiGraphicSystem */ "./src/app/ecs/systems/pixiGraphicSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");












var DoorType;
(function (DoorType) {
    DoorType["NORMAL_LEFT"] = "normall";
    DoorType["NORMAL_RIGHT"] = "normalr";
    DoorType["ROTATE"] = "rotate";
})(DoorType || (DoorType = {}));
const DOOR_TYPE = 'door';
class DoorSystem {
    constructor(ecs) {
        this.name = DOOR_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__.PIXI_BOARD_TYPE, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE, _lightSystem__WEBPACK_IMPORTED_MODULE_10__.LIGHT_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(DOOR_TYPE, true, true);
        this.world = ecs;
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.display.Layer();
        this.displayContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        this.pixiBoardSys = ecs.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_11__.PIXI_BOARD_TYPE);
        this.wallSys = ecs.systems.get(_wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        this.localLightSettings = ecs.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_10__.LOCAL_LIGHT_SETTINGS_TYPE);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
    }
    redrawComponent(door) {
        var _a;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let visible = this.localLightSettings.visionType === 'dm' ||
            this.world.getComponent(door.entity, _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_9__.REMEMBER_TYPE) !== undefined;
        if (!visible) {
            (_a = door._display) === null || _a === void 0 ? void 0 : _a.clear();
            return;
        }
        // TODO: use interaction shape? (might bug out on translations)
        let line = new _geometry_line__WEBPACK_IMPORTED_MODULE_4__.Line(pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]);
        this.drawLines(door, line);
    }
    drawLines(door, line) {
        let g = door._display;
        if (g === undefined)
            return;
        g.clear();
        g.lineStyle(2, 0, 0.5);
        switch (door.doorType) {
            case DoorType.NORMAL_LEFT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.toY - line.fromY, line.toX - line.fromX);
                if (door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.fromX, line.fromY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.fromY - line.toY, line.fromX - line.toX);
                if (!door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.toX, line.toY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.ROTATE: {
                let r = line.distance() / 2;
                let cx = (line.fromX + line.toX) / 2;
                let cy = (line.fromY + line.toY) / 2;
                g.drawCircle(cx, cy, r);
                break;
            }
            default:
                console.warn("Unknown door type: " + door.doorType);
        }
    }
    openDoor(door, doorType, open) {
        var _a, _b, _c, _d;
        if (!this.world.isMaster)
            return true; // This operation should only be done once!
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let newPos = undefined;
        let newVec = undefined;
        switch (doorType) {
            case DoorType.NORMAL_LEFT: {
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, Math.PI / 2 * (open ? -1 : 1), { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] }, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, angle, { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.ROTATE: {
                let hvx = wall.vec[0] / 2;
                let hvy = wall.vec[1] / 2;
                let origin = { x: pos.x + hvx, y: pos.y + hvy };
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] });
                newVec.x -= newPos.x;
                newVec.y -= newPos.y;
                break;
            }
            default:
                console.warn("Unknown door type: " + doorType);
        }
        let px = (_a = newPos === null || newPos === void 0 ? void 0 : newPos.x) !== null && _a !== void 0 ? _a : pos.x;
        let py = (_b = newPos === null || newPos === void 0 ? void 0 : newPos.y) !== null && _b !== void 0 ? _b : pos.y;
        let vx = (_c = newVec === null || newVec === void 0 ? void 0 : newVec.x) !== null && _c !== void 0 ? _c : wall.vec[0];
        let vy = (_d = newVec === null || newVec === void 0 ? void 0 : newVec.y) !== null && _d !== void 0 ? _d : wall.vec[1];
        let intersectWith = this.wallSys.queryIntersections(px, py, vx, vy);
        if (!(intersectWith.length === 0 || (intersectWith.length === 1 && intersectWith[0] === door.entity))) {
            console.log("Door stuck");
            // Collision, don't split the door pls.
            return false;
        }
        let changes = [];
        if (newPos !== undefined) {
            changes.push({
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                changes: {
                    x: newPos.x,
                    y: newPos.y,
                },
            });
        }
        if (newVec !== undefined) {
            changes.push({
                type: _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE,
                changes: {
                    vec: [newVec.x, newVec.y],
                },
            });
        }
        // Commit the edits at the same time to prevent the wall from being split
        // (if we commit position before rotation it might create an overlap situation that should
        // not be there).
        this.world.editComponentMultiple(door.entity, changes);
        return true;
    }
    onComponentAdd(comp) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            d._display = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
            this.displayContainer.addChild(d._display);
            // Do NOT re-open the door, if it is open it means that it has been loaded from file and the wall is
            // already in the "door open" state. Bad snowy, wtf were you thinking
            this.redrawComponent(d);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            if (wall !== undefined)
                wall._dontMerge++;
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            if ('open' in changed) {
                if (!this.openDoor(d, d.doorType, d.open)) {
                    // TODO: well, this does not work right with the GUI
                    d.open = !d.open;
                }
            }
            if ('doorType' in changed) {
                if (d.open) {
                    this.openDoor(d, changed['doorType'], false) && this.openDoor(d, d.doorType, true);
                }
            }
            this.redrawComponent(d);
        }
        else if (comp.type === 'wall') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
        else if (comp.type === 'position') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
    }
    onComponentRemove(comp) {
        var _a;
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            if (d.open) {
                this.openDoor(d, d.doorType, false);
            }
            (_a = d._display) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            wall._dontMerge--;
        }
    }
    enable() {
        this.layer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_7__.DisplayPrecedence.WALL + 1;
        this.layer.interactive = false;
        _index__WEBPACK_IMPORTED_MODULE_8__.app.stage.addChild(this.layer);
        this.displayContainer.parentLayer = this.layer;
        this.displayContainer.interactive = false;
        this.displayContainer.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.displayContainer);
    }
    destroy() {
        this.displayContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
        this.layer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/gridSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/gridSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GRID_TYPE": () => (/* binding */ GRID_TYPE),
/* harmony export */   "GridSystem": () => (/* binding */ GridSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _toolSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./toolSystem */ "./src/app/ecs/systems/toolSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");











const SQRT3 = Math.sqrt(3);
const GRID_TYPE = 'grid';
class GridSystem {
    constructor(world) {
        this.name = GRID_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__.PIXI_BOARD_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE, _toolSystem__WEBPACK_IMPORTED_MODULE_7__.TOOL_TYPE];
        this.internalScale = 1;
        this.posX = 0;
        this.posY = 0;
        this.scaleX = 1;
        this.scaleY = 1;
        this.world = world;
        this.sprite = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.TilingSprite(_PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture.EMPTY, _index__WEBPACK_IMPORTED_MODULE_1__.app.screen.width, _index__WEBPACK_IMPORTED_MODULE_1__.app.screen.height);
        this.sprite.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_5__.DisplayPrecedence.GRID;
        let toolSys = world.systems.get(_toolSystem__WEBPACK_IMPORTED_MODULE_7__.TOOL_TYPE);
        toolSys.addTool((0,_tools_utils__WEBPACK_IMPORTED_MODULE_9__.createEmptyDriver)(_tools_toolType__WEBPACK_IMPORTED_MODULE_10__.Tool.GRID));
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('resource_remove', this.onResourceRemove, this);
        this.gridRes = Object.assign({
            type: GRID_TYPE,
            _save: true,
            _sync: true,
        }, _game_grid__WEBPACK_IMPORTED_MODULE_4__.STANDARD_GRID_OPTIONS);
        world.addResource(this.gridRes);
        this.updateTex();
        this.updatePos();
    }
    onResourceEdited(res, changed) {
        if (res.type === GRID_TYPE) {
            // Redraw
            this.updateTex();
            this.updatePos();
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__.BOARD_TRANSFORM_TYPE) {
            this.onBoardTransform(res);
        }
    }
    onResourceRemove(res) {
        if (res.type !== GRID_TYPE)
            return;
        throw 'Fool! Thou shall not remove thy grid!';
    }
    onBoardTransform(data) {
        this.posX = data.posX;
        this.posY = data.posY;
        this.scaleX = data.scaleX;
        this.scaleY = data.scaleY;
        this.updatePos();
    }
    onResize(width, height) {
        this.sprite.width = width;
        this.sprite.height = height;
    }
    updateTex() {
        this.sprite.texture.destroy(true);
        if (!this.gridRes.visible) {
            this.sprite.texture = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture.EMPTY;
            return;
        }
        let tex = drawGridTexture(512, this.gridRes.gridType, this.gridRes);
        this.internalScale = this.gridRes.size / 512;
        this.sprite.texture = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture(tex);
    }
    updatePos() {
        this.sprite.tileScale.set(this.scaleX * this.internalScale, this.scaleY * this.internalScale);
        this.sprite.tilePosition.set(this.posX + this.scaleX * this.gridRes.offX * this.gridRes.size, this.posY + this.scaleY * this.gridRes.offY * this.gridRes.size);
    }
    closestPoint(point) {
        if (this.gridRes === undefined)
            return undefined;
        let pnt = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(point[0], point[1]);
        this.sprite.worldTransform.apply(pnt, pnt);
        let pointX = pnt.x / this.gridRes.size - this.gridRes.offX;
        let pointY = pnt.y / this.gridRes.size - this.gridRes.offY;
        let resX;
        let resY;
        switch (this.gridRes.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.SQUARE:
                {
                    let fx = Math.floor(pointX);
                    let fy = Math.floor(pointY);
                    resX = fx;
                    resY = fy;
                    if (pointX > fx + 0.5) {
                        resX += 1;
                    }
                    if (pointY > fy + 0.5) {
                        resY += 1;
                    }
                    // Also check grid center
                    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pointX, pointY, fx + 0.5, fy + 0.5) < (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pointX, pointY, resX, resY)) {
                        resX = fx + 0.5;
                        resY = fy + 0.5;
                    }
                }
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.HEXAGON:
                {
                    // The algorithm here is quite complex and I couldn't find any of this online, so this is my own solution:
                    // (note: hexagon side = 1 because of the initial transformation).
                    // First we can notice that if we colour each point in a different colour depending on which vertex
                    // is closer to him (in a hexagonal grid) we find a grid of equilateral triangles of side 1.
                    // We then transform our grid by 2 / sqrt(3) on the horizontal side so that the height of the triangles
                    // will be the same as their base.
                    // With that done we can put a square grid on top of our triangle grid, each square will hold one
                    // triangle at its center and two halfes at the top and bottom.
                    // We can see which square the point belongs to by flooring the transformed x and y components, then
                    // we can check which triangle the points belongs to by chechinkg if the point is above or below
                    // the diagonal lines of equation: y < 0.5 - x/2 and y > x/2 + 0.5
                    // Note that each triangle column has half of a hexagon so the odd-ones will be flipped.
                    const s = 1 / SQRT3; // Hexagon Side = 1/sqrt(3)
                    let px = (pointX - s / 2) * 2 / SQRT3; // align the point with the triangle grid, and transform the grid
                    let py = pointY;
                    let sx = Math.floor(px);
                    let sy = Math.floor(py);
                    let gx = (px - sx);
                    let gy = (py - sy);
                    let rx = sx * SQRT3 / 2 + s / 2;
                    if (sx % 2 == 0) {
                        // Left side hexagon
                        if (gy < 0.5 - gx / 2) {
                            resY = sy;
                            resX = rx + s / 2;
                        }
                        else if (gy > gx / 2 + 0.5) {
                            resY = sy + 1;
                            resX = rx + s / 2;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s;
                        }
                    }
                    else {
                        // Flipped hexagon: right side hex.
                        if (gy > 1 - gx / 2) {
                            resY = sy + 1;
                            resX = rx + s;
                        }
                        else if (gy < gx / 2) {
                            resY = sy;
                            resX = rx + s;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s / 2;
                        }
                    }
                }
                break;
        }
        pnt.set((resX + this.gridRes.offX) * this.gridRes.size, (resY + this.gridRes.offY) * this.gridRes.size);
        this.sprite.worldTransform.applyInverse(pnt, pnt);
        return [pnt.x, pnt.y];
    }
    enable() {
        _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.on('resize', this.onResize, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.addChild(this.sprite);
        this.onResize(_index__WEBPACK_IMPORTED_MODULE_1__.app.screen.width, _index__WEBPACK_IMPORTED_MODULE_1__.app.screen.height);
    }
    destroy() {
        this.sprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_3__.DESTROY_ALL);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.off('resize', this.onResize, this);
    }
}
// ----------------------------------------- DRAW -----------------------------------------
function drawGridTexture(size, type, options) {
    let canvas;
    switch (type) {
        case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.HEXAGON:
            canvas = drawHex(size, options);
            break;
        case _game_grid__WEBPACK_IMPORTED_MODULE_4__.GridType.SQUARE:
            canvas = drawSquare(size, options);
            break;
        default:
            throw 'Cannot draw unknown type: ' + type;
    }
    return _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.BaseTexture.fromBuffer(new Uint8Array(canvas.data.buffer), canvas.width, canvas.height);
}
function drawSquare(size, opt) {
    //let canvas = new OffscreenCanvas(size, size);
    let canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.strokeRect(0, 0, size + 1, size + 1);
    return ctx.getImageData(0, 0, size, size);
}
function drawHex(size, opt) {
    let s = size / SQRT3; // Side
    let width = Math.floor(3 * s);
    //let canvas = new OffscreenCanvas(width, size);
    let canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    let d = size;
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.moveTo(0, 0);
    ctx.lineTo(s, 0);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.lineTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, 0);
    ctx.moveTo(0, d);
    ctx.lineTo(s, d);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.moveTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, d);
    // Lines before the image:
    ctx.moveTo(0, 0);
    ctx.lineTo(-s / 2, d / 2);
    ctx.lineTo(0, d);
    ctx.stroke();
    return ctx.getImageData(0, 0, width, size);
}
function colorToHex(color, opacity) {
    return '#' + (color << 8 | (255 * opacity)).toString(16).padStart(8, '0');
}


/***/ }),

/***/ "./src/app/ecs/systems/interactionSystem.ts":
/*!**************************************************!*\
  !*** ./src/app/ecs/systems/interactionSystem.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShapeType": () => (/* binding */ ShapeType),
/* harmony export */   "shapePoint": () => (/* binding */ shapePoint),
/* harmony export */   "shapeAabb": () => (/* binding */ shapeAabb),
/* harmony export */   "shapeCircle": () => (/* binding */ shapeCircle),
/* harmony export */   "shapeLine": () => (/* binding */ shapeLine),
/* harmony export */   "shapePolygon": () => (/* binding */ shapePolygon),
/* harmony export */   "shapeObb": () => (/* binding */ shapeObb),
/* harmony export */   "shapeIntersect": () => (/* binding */ shapeIntersect),
/* harmony export */   "shapeToAabb": () => (/* binding */ shapeToAabb),
/* harmony export */   "INTERACTION_TYPE": () => (/* binding */ INTERACTION_TYPE),
/* harmony export */   "InteractionSystem": () => (/* binding */ InteractionSystem)
/* harmony export */ });
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _game_pointDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../game/pointDB */ "./src/app/game/pointDB.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");










var ShapeType;
(function (ShapeType) {
    ShapeType[ShapeType["POINT"] = 0] = "POINT";
    ShapeType[ShapeType["AABB"] = 1] = "AABB";
    ShapeType[ShapeType["CIRCLE"] = 2] = "CIRCLE";
    ShapeType[ShapeType["LINE"] = 3] = "LINE";
    ShapeType[ShapeType["POLYGON"] = 4] = "POLYGON";
    ShapeType[ShapeType["OBB"] = 5] = "OBB";
})(ShapeType || (ShapeType = {}));
function shapePoint(pos) {
    return {
        type: ShapeType.POINT,
        pos,
    };
}
function shapeAabb(aabb) {
    return {
        type: ShapeType.AABB,
        data: aabb,
    };
}
function shapeCircle(center, radius) {
    return {
        type: ShapeType.CIRCLE,
        pos: center,
        radius: radius,
    };
}
function shapeLine(line) {
    return {
        type: ShapeType.LINE,
        data: line,
    };
}
function shapePolygon(polygon) {
    return {
        type: ShapeType.POLYGON,
        polygon,
    };
}
function shapeObb(obb) {
    return {
        type: ShapeType.OBB,
        data: obb,
    };
}
function shapeIntersect(shape1, shape2) {
    if (shape2.type < shape1.type)
        [shape2, shape1] = [shape1, shape2];
    let s1t = shape1.type;
    let s2t = shape2.type;
    // TODO: polygon vs polygon
    if (s1t === ShapeType.POINT) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POINT: return false;
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsPoint)(shape2.data, s1.pos);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapPointVsCircle)(s1.pos, shape2.pos, shape2.radius);
            case ShapeType.LINE: return false;
            case ShapeType.POLYGON: return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.polygonPointIntersect)(s1.pos, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsPoint)(shape2.data, s1.pos);
        }
    }
    else if (s1t === ShapeType.AABB) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsAabb)(shape2.data, s1.data);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsAabb)(shape2.pos, shape2.radius, s1.data);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsLine)(s1.data, shape2.data);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(_geometry_obb__WEBPACK_IMPORTED_MODULE_3__.Obb.fromAabb(s1.data), shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsAabb)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.CIRCLE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsCircle)(shape2.pos, shape2.radius, s1.pos, s1.radius);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsCircle)(shape2.data, s1.pos, s1.radius);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsPolygon)(s1.pos, s1.radius, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsCircle)(shape2.data, s1.pos, s1.radius);
        }
    }
    else if (s1t === ShapeType.LINE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.intersectSegmentVsSegment)(s1.data, shape2.data) == _geometry_collision__WEBPACK_IMPORTED_MODULE_0__.SegmentVsSegmentRes.INTERN;
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsPolygon)(s1.data, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsLine)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.POLYGON) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POLYGON: break;
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(shape2.data, s1.polygon);
        }
    }
    else if (s1t === ShapeType.OBB) {
        return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsRotatedRect)(shape1.data, shape2.data);
    }
    // Polygon vs Polygon
    throw 'Query not implemented: ' + s1t + ' vs ' + s2t;
}
function shapeToAabb(shape) {
    switch (shape.type) {
        case ShapeType.POINT: return _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.fromPoint(shape.pos);
        case ShapeType.AABB: return shape.data;
        case ShapeType.CIRCLE: {
            let s = shape;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.pos.x - s.radius, s.pos.y - s.radius, s.pos.x + s.radius, s.pos.y + s.radius);
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.fromX, s.fromY, s.toX, s.toY);
        }
        case ShapeType.POLYGON: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.polygon);
            return aabb;
        }
        case ShapeType.OBB: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.data.rotVertex);
            return aabb;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeToSnaps(shape) {
    switch (shape.type) {
        case ShapeType.POINT:
        case ShapeType.CIRCLE: {
            let p = shape;
            return [p.pos.x, p.pos.y];
        }
        case ShapeType.AABB: {
            let aabb = shape.data;
            return [
                aabb.minX, aabb.minY,
                aabb.minX, aabb.maxY,
                aabb.maxX, aabb.minY,
                aabb.maxX, aabb.maxY,
            ];
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return [
                s.fromX, s.fromY,
                s.toX, s.toY,
            ];
        }
        case ShapeType.POLYGON: {
            let pol = shape.polygon;
            let data = new Array();
            for (let i = 0; i < pol.length; i += 2) {
                data.push(pol[i], pol[i + 1]);
            }
            return data;
        }
        case ShapeType.OBB: {
            let pol = shape.data.rotVertex;
            let data = new Array(8);
            for (let i = 0; i < 8; i++) {
                data[i] = pol[i];
            }
            return data;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeTranslate(shape, x, y) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            s.pos.x += x;
            s.pos.y += y;
            break;
        }
        case ShapeType.AABB: {
            let s = shape.data;
            s.translate(x, y, s);
            break;
        }
        case ShapeType.LINE: {
            let s = shape.data;
            s.fromX += x;
            s.fromY += y;
            s.toX += x;
            s.toY += y;
            break;
        }
        case ShapeType.POLYGON: {
            let s = shape;
            let slen = s.polygon.length;
            for (let i = 0; i < slen; i += 2) {
                s.polygon[i] += x;
                s.polygon[i + 1] += y;
            }
            break;
        }
        case ShapeType.OBB: {
            let s = shape.data;
            s.unrotated.translate(x, y, s.unrotated);
            let pol = s.rotVertex;
            for (let i = 0; i < 8; i += 2) {
                pol[i] += x;
                pol[i + 1] += y;
            }
            break;
        }
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
function shapeClone(shape) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            return {
                type: ShapeType.POINT,
                pos: new PIXI.Point(s.pos.x, s.pos.y),
            };
        }
        case ShapeType.AABB: return shapeAabb(shape.data.copy());
        case ShapeType.LINE: return shapeLine(shape.data.copy());
        case ShapeType.POLYGON: return shapePolygon([...shape.polygon]);
        case ShapeType.OBB: return shapeObb(shape.data.copy());
        default: throw 'Unknown shape type: ' + shape.type;
    }
}
const INTERACTION_TYPE = 'interaction';
class InteractionSystem {
    constructor(world) {
        this.name = INTERACTION_TYPE;
        this.dependencies = [_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_5__.SingleEcsStorage('interaction', false, false);
        this.isTranslating = false;
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        this.world = world;
        this.selectionSys = this.world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE);
        this.snapDb = new _game_pointDB__WEBPACK_IMPORTED_MODULE_7__.PointDB(this.world.systems.get(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE));
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
        world.events.on('query_hit', this.onQueryHit, this);
    }
    registerSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.insert([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.remove([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterComponent(comp) {
        if (comp._snaps) {
            this.unregisterSnapPoints(comp._snaps);
            comp._snaps = undefined;
        }
        if (comp._treeId !== undefined) {
            this.aabbTree.destroyProxy(comp._treeId);
            comp._treeId = undefined;
        }
    }
    updateComponent(comp) {
        this.unregisterComponent(comp);
        if (comp.shape === undefined)
            return;
        comp._treeId = this.aabbTree.createProxy(shapeToAabb(comp.shape), comp);
        if (comp.snapEnabled) {
            comp._snaps = shapeToSnaps(comp.shape);
            this.registerSnapPoints(comp._snaps);
        }
    }
    onComponentAdd(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.updateComponent(comp);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === INTERACTION_TYPE) {
            let c = comp;
            if ('shape' in changed) {
                this.updateComponent(c);
            }
        }
        else if (comp.type === 'position') {
            let pos = comp;
            let inter = this.storage.getComponent(pos.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let oldX = changed.x !== undefined ? changed.x : pos.x;
            let oldY = changed.y !== undefined ? changed.y : pos.y;
            let diffX = pos.x - oldX;
            let diffY = pos.y - oldY;
            if (diffX !== 0 || diffY !== 0) {
                // TODO: trigger component change(?)
                shapeTranslate(inter.shape, diffX, diffY);
                if (!(this.isTranslating && this.selectionSys.selectedEntities.has(pos.entity))) {
                    this.updateComponent(inter);
                }
            }
            return;
        }
        else if (comp.type === 'transform') {
            let trans = comp;
            let inter = this.storage.getComponent(trans.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let shape = inter.shape;
            if (shape.type === ShapeType.POINT)
                return;
            if (shape.type === ShapeType.CIRCLE) {
                let s = shape;
                if ('scale' in changed) {
                    s.radius = s.radius * trans.scale / changed.scale;
                    this.updateComponent(inter);
                }
            }
            else if (shape.type === ShapeType.OBB) {
                let s = shape;
                if ('scale' in changed) {
                    let diffScale = trans.scale / changed.scale;
                    s.data.unrotated.scale(diffScale, diffScale, s.data.unrotated);
                }
                s.data.rotation = trans.rotation;
                s.data.recompute();
                this.updateComponent(inter);
            }
            else {
                console.warn("Unable to auto-rotate other shapes than OBB, watch your components!");
                return;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.unregisterComponent(comp);
    }
    onToolMoveBegin() {
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.unregisterComponent(c);
        }
        this.isTranslating = true;
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.updateComponent(c);
        }
    }
    singleHitQuery(shape, event) {
        let bestPrior = Number.NEGATIVE_INFINITY;
        let best = -1;
        let iter = this.queryVisible(shape, (c) => (c.selectPriority || 0) > bestPrior);
        for (let item of iter) {
            best = item.entity;
            bestPrior = item.selectPriority || 0;
        }
        if (best !== -1) {
            event.addHit(best);
        }
    }
    multiHitQuery(shape, event) {
        let iter = this.queryVisible(shape, (c) => c.selectPriority !== undefined);
        for (let item of iter) {
            event.addHit(item.entity);
            if (!event.shouldContinue())
                return;
        }
    }
    onQueryHit(event) {
        if (!event.shouldContinue())
            return;
        let shape;
        switch (event.type) {
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.POINT:
                shape = shapeCircle(event.data, 20);
                break;
            //case GeomertyQueryType.POINT: shape = shapePoint(event.data as PIXI.IPointData); break; // ENABLE THIS FOR POINT-PRECISION CLICKING
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.AABB:
                shape = shapeAabb(event.data);
                break;
            default: throw 'Unknown query type';
        }
        if (event.multi) {
            this.multiHitQuery(shape, event);
        }
        else {
            this.singleHitQuery(shape, event);
        }
    }
    queryVisible(shape, preCheck) {
        let playerVis = undefined;
        if (!this.world.isMaster) {
            playerVis = this.world.storages.get('player_visible');
        }
        if (playerVis === undefined)
            return this.query(shape, preCheck);
        return this.query(shape, c => {
            let visC = playerVis.getComponent(c.entity);
            if (visC !== undefined && !visC.visible)
                return false;
            return preCheck === undefined ? true : preCheck(c);
        });
    }
    *query(shape, preCheck) {
        let aabb = shapeToAabb(shape);
        for (let c of this.aabbTree.query(aabb)) {
            let tag = c.tag;
            if (preCheck && !preCheck(tag))
                continue;
            if (!shapeIntersect(tag.shape, shape))
                continue;
            let qc = tag.queryCheck;
            if (qc && !qc(shape))
                continue;
            yield tag;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/lightSystem.ts":
/*!********************************************!*\
  !*** ./src/app/ecs/systems/lightSystem.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_BACKGROUND": () => (/* binding */ DEFAULT_BACKGROUND),
/* harmony export */   "DEFAULT_LIGHT_SETTINGS": () => (/* binding */ DEFAULT_LIGHT_SETTINGS),
/* harmony export */   "LIGHT_TYPE": () => (/* binding */ LIGHT_TYPE),
/* harmony export */   "LIGHT_SETTINGS_TYPE": () => (/* binding */ LIGHT_SETTINGS_TYPE),
/* harmony export */   "LOCAL_LIGHT_SETTINGS_TYPE": () => (/* binding */ LOCAL_LIGHT_SETTINGS_TYPE),
/* harmony export */   "LightSystem": () => (/* binding */ LightSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _toolSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./toolSystem */ "./src/app/ecs/systems/toolSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");










var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.utils.hex2rgb;





const DEFAULT_BACKGROUND = 0x6e472c;
const DEFAULT_LIGHT_SETTINGS = {
    ambientLight: 0x555555,
    background: DEFAULT_BACKGROUND,
    needsLight: true,
};
const LIGHT_TYPE = 'light';
const LIGHT_SETTINGS_TYPE = 'light_settings';
const LOCAL_LIGHT_SETTINGS_TYPE = 'local_light_settings';
/**
 * How is light rendered?
 * There are three logical passes on a separate framebuffer.
 * Then this framebuffer is pasted onto the real screen.
 * 1. Clear the RGBA channels with the ambient light.
 * 2. Draw only in the ALPHA channel every player mesh (achieved by setting the color to 0)
 * 3. Draw the light only where the ALPHA channel is 1 (using a custom blend mode)
 * 4. Draw the framebuffer on the screen ignoring the ALPHA channel (using a custom blend mode)
 *
 * Why is this usage of the alpha channel used?
 * We need to render light only where visible, so in the RP-view the players vision polygons should be used as a
 * mask for the light (you can't see a light that no player sees). So when the RP-view is enabled the framebuffer is
 * cleared with alpha=0 and the player's vision will fill in the alpha (they should be rendered BEFORE the lights).
 * When the DM-view is enabled the framebuffer is rendered with alpha=1 and the player's view is not drawn.
 *
 * Why isn't the visibility polygon rendering batched?
 * We need uniforms in the shaders to know the distance from the light center: remember that visibility mesh is not only
 * the visibility polygon, it also calculates the distance form the center of the light (to render a proper circle).
 * So yeah, no batched uniforms in WebGL it seems. (TODO: explore more possibilities)
 */
class LightSystem {
    constructor(world) {
        var _a;
        this.name = LIGHT_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(LIGHT_TYPE);
        this.world = world;
        this.lightLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.display.Layer();
        this.playerContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Container();
        this.lightContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Container();
        let toolSys = world.systems.get(_toolSystem__WEBPACK_IMPORTED_MODULE_10__.TOOL_TYPE);
        toolSys.addTool((0,_tools_utils__WEBPACK_IMPORTED_MODULE_11__.createEmptyDriver)(_tools_toolType__WEBPACK_IMPORTED_MODULE_12__.Tool.LIGHT));
        world.addStorage(this.storage);
        this.lightSettings = Object.assign({
            type: LIGHT_SETTINGS_TYPE,
            _save: true, _sync: true,
        }, DEFAULT_LIGHT_SETTINGS);
        world.addResource(this.lightSettings);
        this.localLightSettings = {
            type: LOCAL_LIGHT_SETTINGS_TYPE,
            visionType: this.world.isMaster ? 'dm' : 'rp',
            _save: true, _sync: false,
        };
        world.addResource(this.localLightSettings);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_13__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_14__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    createLightVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.createMesh();
        mesh.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1;
        this.lightContainer.addChild(mesh);
        return mesh;
    }
    createPlayerVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.createMesh('player');
        mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.BLEND_MODES.ADD;
        this.playerContainer.addChild(mesh);
        return mesh;
    }
    updateVisMesh(mesh, pos, poly) {
        mesh.visible = true;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.updateMeshPolygons(mesh, pos, poly);
    }
    updateVisUniforms(mesh, center, rangeSquared, color) {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.updateMeshUniforms(mesh, center, rangeSquared, color);
    }
    disableVisMesh(mesh) {
        mesh.visible = false;
    }
    updateVisPolygon(entity, target, color, pos, vis) {
        if (pos === undefined) {
            pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            if (pos === undefined)
                return;
        }
        if (vis === undefined) {
            vis = this.world.getComponent(entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
            if (vis === undefined) {
                this.disableVisMesh(target);
                return;
            }
        }
        if (vis.polygon === undefined) {
            this.disableVisMesh(target);
        }
        else {
            let range = vis.range * this.gridSize;
            this.updateVisMesh(target, pos, vis.polygon);
            this.updateVisUniforms(target, pos, range * range, color);
        }
    }
    updateLightVisPolygon(light, pos, vis) {
        this.updateVisPolygon(light.entity, light._lightDisplay, light.color, pos, vis);
    }
    updatePlayerVisPolygon(player, pos, vis) {
        this.updateVisPolygon(player.entity, player._lightVisionDisplay, 0, pos, vis);
    }
    onComponentAdd(comp) {
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            light._lightDisplay = this.createLightVisMesh();
            let vis = this.world.getComponent(light.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
            if (vis === undefined) {
                // We need a visibility component, create one if it does not already exist
                vis = {
                    type: _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE,
                    range: light.range,
                    trackWalls: true,
                };
                this.world.addComponent(comp.entity, vis);
            }
            else {
                this.updateLightVisPolygon(light, undefined, vis);
            }
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE) {
            let player = comp;
            player._lightVisionDisplay = this.createPlayerVisMesh();
            let vis = this.world.getComponent(player.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
            if (vis === undefined) {
                // We need a visibility component, create one if it does not already exist
                vis = {
                    type: _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE,
                    range: player.range,
                    trackWalls: true,
                };
                this.world.addComponent(comp.entity, vis);
            }
            else {
                this.updatePlayerVisPolygon(player, undefined, vis);
            }
        }
    }
    onComponentEdited(comp, changes) {
        if (comp.type === LIGHT_TYPE) {
            let c = comp;
            if ('range' in changes) {
                this.world.editComponent(c.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
                let vis = this.world.getComponent(c.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let range = vis.range * this.gridSize;
                    this.updateVisUniforms(c._lightDisplay, pos, range * range, c.color);
                }
            }
        }
        else if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_6__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changes))
                return;
            let light = this.storage.getComponent(vis.entity);
            if (light !== undefined) {
                this.updateLightVisPolygon(light, undefined, vis);
            }
            else {
                let player = this.world.getComponent(vis.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE);
                if (player !== undefined) {
                    this.updatePlayerVisPolygon(player, undefined, vis);
                }
            }
        }
    }
    onResourceEdited(comp, changed) {
        if (comp.type === _gridSystem__WEBPACK_IMPORTED_MODULE_13__.GRID_TYPE) {
            if (!('size' in changed))
                return;
            let grid = comp;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
        else if (comp.type === LIGHT_SETTINGS_TYPE || comp.type === LOCAL_LIGHT_SETTINGS_TYPE) {
            let arr = [0.0, 0.0, 0.0, 0.0];
            if (this.localLightSettings.visionType === 'dm')
                arr[3] = 1.0;
            hex2rgb(this.lightSettings.ambientLight, arr);
            this.lightLayer.clearColor = arr;
            this.playerContainer.visible = this.localLightSettings.visionType !== 'dm';
            _index__WEBPACK_IMPORTED_MODULE_5__.app.renderer.backgroundColor = this.lightSettings.background;
        }
    }
    onComponentRemove(comp) {
        var _a, _b;
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            (_a = light._lightDisplay) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE) {
            let player = comp;
            (_b = player._lightVisionDisplay) === null || _b === void 0 ? void 0 : _b.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_7__.setup();
        this.lightLayer.useRenderTexture = true;
        this.lightLayer.interactive = false;
        this.lightLayer.interactiveChildren = false;
        this.playerContainer.zOrder = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT - 1;
        this.playerContainer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT - 1;
        this.playerContainer.interactive = false;
        this.playerContainer.interactiveChildren = false;
        let lightSystem = this.world.systems.get(LIGHT_TYPE);
        this.playerContainer.parentLayer = lightSystem.lightLayer;
        this.lightContainer.zOrder = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT;
        this.lightContainer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT;
        this.lightContainer.interactive = false;
        this.lightContainer.interactiveChildren = false;
        this.lightContainer.parentLayer = this.lightLayer;
        this.onResourceEdited(this.lightSettings, {}); // Update the clearColor
        let lightingSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Sprite(this.lightLayer.getRenderTexture());
        lightingSprite.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY;
        lightingSprite.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.LIGHT;
        lightingSprite.interactive = false;
        lightingSprite.interactiveChildren = false;
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE);
        board.board.addChild(this.playerContainer, this.lightContainer, this.lightLayer);
        _index__WEBPACK_IMPORTED_MODULE_5__.app.stage.addChild(lightingSprite);
    }
    destroy() {
        this.lightContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.playerContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.lightLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        _index__WEBPACK_IMPORTED_MODULE_5__.app.renderer.backgroundColor = DEFAULT_BACKGROUND;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/networkSystem.ts":
/*!**********************************************!*\
  !*** ./src/app/ecs/systems/networkSystem.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NETWORK_TYPE": () => (/* binding */ NETWORK_TYPE),
/* harmony export */   "HOST_NETWORK_TYPE": () => (/* binding */ HOST_NETWORK_TYPE),
/* harmony export */   "HostNetworkSystem": () => (/* binding */ HostNetworkSystem),
/* harmony export */   "CLIENT_NETWORK_TYPE": () => (/* binding */ CLIENT_NETWORK_TYPE),
/* harmony export */   "ClientNetworkSystem": () => (/* binding */ ClientNetworkSystem)
/* harmony export */ });
const NETWORK_TYPE = 'network';
const HOST_NETWORK_TYPE = 'host_network';
class HostNetworkSystem {
    constructor(world, ch) {
        this.name = HOST_NETWORK_TYPE;
        this.dependencies = [];
        this.provides = [NETWORK_TYPE];
        this.connectedClients = 0;
        this.isEnabled = false;
        this.world = world;
        this.channel = ch;
        this.channel.eventEmitter.on('_device_join', this.onDeviceJoin, this);
        this.channel.eventEmitter.on('_device_left', this.onDeviceLeft, this);
        this.world.events.on('entity_spawn', this.onEntitySpawn, this);
        this.world.events.on('entity_spawned', this.onEntitySpawned, this);
        this.world.events.on('entity_despawn', this.onEntityDespawn, this);
        this.world.events.on('entity_despawned', this.onEntityDespawned, this);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edit', this.onComponentEdit, this);
        this.world.events.on('component_removed', this.onComponentRemoved, this);
        this.world.events.on('resource_add', this.onResourceAdd, this);
        this.world.events.on('resource_edit', this.onResourceEdit, this);
        this.world.events.on('resource_remove', this.onResourceRemove, this);
    }
    // ---------------------------------- EVENT LISTENERS ----------------------------------
    onDeviceJoin(chId) {
        this.connectedClients++;
        this.isEnabled = true;
        this.channel.send({
            type: "ecs_bootstrap",
            payload: this.world.serializeClient(),
        }, chId);
    }
    onDeviceLeft(chId) {
        this.connectedClients--;
        this.isEnabled = this.connectedClients !== 0;
    }
    onEntitySpawn(entity) {
        this.entitySpawning = entity;
    }
    onEntitySpawned(entity) {
        if (entity !== this.entitySpawning && !this.world.isDeserializing) {
            this.entitySpawning = undefined;
            throw 'Invalid entity spawn';
        }
        this.entitySpawning = undefined;
        if (!this.isEnabled || this.shouldIgnoreEntity(entity))
            return;
        this.channel.broadcast(this.createEntitySpawnPacket(entity));
    }
    onEntityDespawn(entity) {
        if (!this.isEnabled || this.shouldIgnoreEntity(entity))
            return;
        this.entityDespawning = entity;
        this.channel.broadcast({
            type: "entity_despawn",
            entityId: entity,
        });
    }
    onEntityDespawned(entity) {
        this.entityDespawning = undefined;
    }
    onComponentAdd(component) {
        if (this.entitySpawning === component.entity || !this.isEnabled)
            return;
        if (component.type === 'host_hidden') {
            this.channel.broadcast({
                type: "entity_despawn",
                entityId: component.entity,
            });
            return;
        }
        if (this.shouldIgnoreComponent(component))
            return;
        this.channel.broadcast({
            type: "component_add",
            entityId: component.entity,
            payload: processComponent(component),
        });
    }
    onComponentEdit(component, changes) {
        if (!this.isEnabled || this.shouldIgnoreEntity(component.entity))
            return;
        if (changes.clientVisible === true && component.clientVisible === false) {
            let finishedComponent = Object.assign({}, component, changes);
            this.channel.broadcast({
                type: "component_add",
                entityId: component.entity,
                payload: processComponent(finishedComponent),
            });
            return;
        }
        else if (changes.clientVisible === false && component.clientVisible !== false) {
            this.channel.broadcast({
                type: "component_remove",
                entityId: component.entity,
                compType: component.type,
                multiId: component.multiId,
            });
            return;
        }
        if (this.shouldIgnoreComponent0(component))
            return;
        this.channel.broadcast({
            type: "component_edit",
            entityId: component.entity,
            compType: component.type,
            multiId: component.multiId,
            changes: Object.assign({}, changes),
        });
    }
    onComponentRemoved(component) {
        if (this.entityDespawning === component.entity || !this.isEnabled)
            return;
        if (component.type === 'host_hidden') {
            if (this.entityDespawning === component.entity)
                return;
            this.channel.broadcast(this.createEntitySpawnPacket(component.entity));
            return;
        }
        if (this.shouldIgnoreComponent(component))
            return;
        this.channel.broadcast({
            type: "component_remove",
            entityId: component.entity,
            compType: component.type,
            multiId: component.multiId,
        });
    }
    onResourceAdd(resource) {
        if (!this.isEnabled || resource._sync !== true)
            return;
        this.channel.broadcast({
            type: "resource_add",
            payload: removePrivate(resource),
        });
    }
    onResourceEdit(resource, changes) {
        if (!this.isEnabled || resource._sync !== true)
            return;
        this.channel.broadcast({
            type: "resource_edit",
            resType: resource.type,
            changes: Object.assign({}, changes), // copy object
        });
    }
    onResourceRemove(resource) {
        if (!this.isEnabled || resource._sync !== true)
            return;
        this.channel.broadcast({
            type: "resource_remove",
            resType: resource.type,
        });
    }
    // ---------------------------------- UTILS ----------------------------------
    shouldIgnoreComponent(component) {
        if (this.shouldIgnoreEntity(component.entity))
            return true;
        return this.shouldIgnoreComponent0(component);
    }
    shouldIgnoreComponent0(component) {
        var _a;
        return (component.clientVisible === false) || !((_a = this.world.storages.get(component.type)) === null || _a === void 0 ? void 0 : _a.sync);
    }
    shouldIgnoreEntity(entity) {
        return this.world.hasAllComponents(entity, 'host_hidden');
    }
    createEntitySpawnPacket(entity) {
        this.world.events.emit('serialize_entity', entity);
        let components = this.world.getAllComponents(entity);
        let comps = [];
        for (let comp of components) {
            if (this.shouldIgnoreComponent0(comp))
                continue;
            comps.push(processComponent(comp));
        }
        return {
            type: "entity_spawn",
            entityId: entity,
            components: comps,
        };
    }
    enable() {
    }
    destroy() {
    }
}
const CLIENT_NETWORK_TYPE = 'client_network';
class ClientNetworkSystem {
    constructor(ecs, channel) {
        this.name = CLIENT_NETWORK_TYPE;
        this.dependencies = [];
        this.provides = [NETWORK_TYPE];
        this.ecs = ecs;
        this.channel = channel;
        channel.eventEmitter.on('ecs_bootstrap', this.onEcsBootstrap, this);
        channel.eventEmitter.on('entity_spawn', this.onEntitySpawn, this);
        channel.eventEmitter.on('entity_despawn', this.onEntityDespawn, this);
        channel.eventEmitter.on('component_add', this.onComponentAdd, this);
        channel.eventEmitter.on('component_edit', this.onComponentEdit, this);
        channel.eventEmitter.on('component_remove', this.onComponentRemove, this);
        channel.eventEmitter.on('resource_add', this.onResourceAdd, this);
        channel.eventEmitter.on('resource_edit', this.onResourceEdit, this);
        channel.eventEmitter.on('resource_remove', this.onResourceRemove, this);
    }
    onEcsBootstrap(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.deserialize(packet.payload);
    }
    onEntitySpawn(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.spawnEntityManual(packet.entityId, packet.components);
    }
    onEntityDespawn(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.despawnEntity(packet.entityId);
    }
    onComponentAdd(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.addComponent(packet.entityId, packet.payload);
    }
    onComponentEdit(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.editComponent(packet.entityId, packet.compType, packet.changes, packet.multiId);
    }
    onComponentRemove(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        let comp = this.ecs.getComponent(packet.entityId, packet.compType, packet.multiId);
        if (comp !== undefined)
            this.ecs.removeComponent(comp);
    }
    onResourceAdd(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.addResource(packet.payload);
    }
    onResourceEdit(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.editResource(packet.resType, packet.changes);
    }
    onResourceRemove(packet, container) {
        if (container.sender !== 0)
            return; // Only admin
        this.ecs.removeResource(packet.resType);
    }
    enable() {
    }
    destroy() {
    }
}
function processComponent(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'entity' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function removePrivate(x) {
    let out = {};
    for (let name in x) {
        if (name[0] === '_')
            continue;
        out[name] = x[name];
    }
    return out;
}


/***/ }),

/***/ "./src/app/ecs/systems/pinSystem.ts":
/*!******************************************!*\
  !*** ./src/app/ecs/systems/pinSystem.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIN_TYPE": () => (/* binding */ PIN_TYPE),
/* harmony export */   "PinSystem": () => (/* binding */ PinSystem),
/* harmony export */   "CreatePinToolDriver": () => (/* binding */ CreatePinToolDriver)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pixiGraphicSystem */ "./src/app/ecs/systems/pixiGraphicSystem.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./toolSystem */ "./src/app/ecs/systems/toolSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");








const PIN_TYPE = 'pin';
class PinSystem {
    constructor(world) {
        this.name = PIN_TYPE;
        this.dependencies = [_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PIN_TYPE, true, true);
        this.world = world;
        this.selectionSys = this.world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE);
        if (world.isMaster) {
            let toolSys = world.systems.get(_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
            toolSys.addTool(new CreatePinToolDriver(this));
        }
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
    }
    onComponentAdd(c) {
        if (c.type !== PIN_TYPE)
            return;
        let pin = c;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (pos === undefined)
            return;
        let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        if (display === undefined) {
            display = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                entity: -1,
                interactive: true,
                display: this.createElement()
            };
            this.world.addComponent(c.entity, display);
        }
        this.redrawComponent(pin, display.display);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PIN_TYPE) {
            let pin = comp;
            let grapc = this.world.getComponent(comp.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
            let pinDisplay = grapc.display;
            this.redrawComponent(pin, pinDisplay);
        }
    }
    createElement() {
        return {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT,
            priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__.DisplayPrecedence.PINS,
            visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
            ignore: false,
            interactive: true,
            color: 0xFFFFFF,
            children: [],
        };
    }
    redrawComponent(pin, display) {
        display.color = pin.color;
        if (pin.label !== undefined) {
            if (display.children.length === 0) {
                display._childrenAdd = [{
                        type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT,
                        ignore: false,
                        interactive: false,
                        priority: 0,
                        visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
                        anchor: { x: 0.5, y: 1.0 },
                        offset: { x: 0, y: -_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__.POINT_RADIUS },
                        color: 0,
                        text: pin.label,
                    }];
            }
            else {
                display.children[0].text = pin.label;
            }
        }
        else {
            display._childrenReplace = [];
        }
        this.world.editComponent(pin.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePinToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.CREATE_PIN;
        // Entity of the pin to be created (or -1)
        this.createPin = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        let color = Math.floor(Math.random() * 0xFFFFFF);
        let display = this.sys.createElement();
        display.color = color;
        display.visib = _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE;
        this.createPin = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createPin !== -1) {
            this.sys.world.despawnEntity(this.createPin);
            this.createPin = -1;
        }
    }
    confirmCreation() {
        if (this.createPin === -1)
            return;
        const world = this.sys.world;
        let id = this.createPin;
        world.removeComponentType(id, _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE);
        let g = world.getComponent(id, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        world.removeComponent(g);
        world.addComponent(id, {
            type: PIN_TYPE,
            entity: id,
            color: g.display.color,
        });
        world.removeComponentType(id, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE);
        this.createPin = -1;
        this.sys.world.editResource(_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.INSPECT,
        });
        this.sys.selectionSys.setOnlyEntity(id);
    }
    onStart() {
        this.initCreation();
    }
    onEnd() {
        this.cancelCreation();
    }
    onPointerClick(event) {
        this.confirmCreation();
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/pixiBoardSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/pixiBoardSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointerEvents": () => (/* binding */ PointerEvents),
/* harmony export */   "BOARD_TRANSFORM_TYPE": () => (/* binding */ BOARD_TRANSFORM_TYPE),
/* harmony export */   "PIXI_BOARD_TYPE": () => (/* binding */ PIXI_BOARD_TYPE),
/* harmony export */   "PixiBoardSystem": () => (/* binding */ PixiBoardSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");




var PointerEvents;
(function (PointerEvents) {
    PointerEvents["POINTER_MOVE"] = "pointer_move";
    PointerEvents["POINTER_DOWN"] = "pointer_down";
    PointerEvents["POINTER_UP"] = "pointer_up";
    PointerEvents["POINTER_RIGHT_DOWN"] = "pointer_right_down";
    PointerEvents["POINTER_RIGHT_UP"] = "pointer_right_up";
    PointerEvents["POINTER_CLICK"] = "pointer_click";
})(PointerEvents || (PointerEvents = {}));
const BOARD_TRANSFORM_TYPE = 'board_transform';
const PIXI_BOARD_TYPE = 'pixi_board';
class PixiBoardSystem {
    constructor(world) {
        this.name = PIXI_BOARD_TYPE;
        this.dependencies = [];
        this.pointers = new Map();
        this.mouseLastX = 0;
        this.mouseLastY = 0;
        this.isDraggingBoard = false;
        this.world = world;
        this.world.events.on('req_board_center', this.centerBoard, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.addResource({
            type: BOARD_TRANSFORM_TYPE,
            _save: true,
            _sync: false,
            posX: 0,
            posY: 0,
            scaleX: 1,
            scaleY: 1,
        });
        // TODO: we should create render phases, one for the world (using the projection matrix to move the camera)
        //       and the other for the GUI (or other things that do not depend on camera position, as the GridSystem(?)).
        //       to create a custom game loop: https://github.com/pixijs/pixi.js/wiki/v5-Custom-Application-GameLoop
        this.board = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Container();
        this.board.interactive = false;
        this.board.interactiveChildren = false;
        this.board.position.set(0, 0);
        this.board.sortableChildren = true;
    }
    canBecomeClick(pdata, p) {
        let now = Date.now();
        let timeDiff = now - (this.lastMouseDownTime || 0);
        let diffX = p.x - pdata.firstX;
        let diffY = p.y - pdata.firstY;
        let diffPos = Math.sqrt(diffX * diffX + diffY * diffY);
        return diffPos < 5 && timeDiff < 500;
    }
    zoom(dScale, centerX, centerY) {
        const minScale = 0.05;
        const maxScale = 3;
        if (this.board.scale.x < minScale && dScale < 1 || this.board.scale.x > maxScale && dScale > 1)
            return;
        // Before scaling adjust the position:
        // Takes the vector that goes from the board position (upper-left) to the cursor.
        // Apply the dScale factor to that vector and find the new board position.
        // Finally, the cursor position plus the vector obtained is the new board position.
        let padX = this.board.position.x - centerX;
        let padY = this.board.position.y - centerY;
        padX *= dScale;
        padY *= dScale;
        const position = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(padX + centerX, padY + centerY);
        const scale = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point(this.board.scale.x * dScale, this.board.scale.y * dScale);
        // TODO
        /*if (this.board.isBoardLost(position, scale)) {
            console.log("You can't no more scale in this direction, you're loosing the board!");
            return;
        }*/
        this.world.editResource(BOARD_TRANSFORM_TYPE, {
            posX: position.x,
            posY: position.y,
            scaleX: scale.x,
            scaleY: scale.y,
        });
    }
    /**
     * Function called when the mouse scrolls.
     * The map is zoomed in and out based on the scroll direction.
     */
    onMouseWheel(event) {
        const scalingSpeed = 0.1;
        const dScale = 1 - Math.sign(event.deltaY) * scalingSpeed;
        this.zoom(dScale, event.clientX, event.clientY);
    }
    onPointerDown(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            let prde = event;
            prde.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_RIGHT_DOWN, prde);
            return;
        }
        let pos = event.data.global;
        this.pointers.set(event.data.pointerId, {
            firstX: pos.x,
            firstY: pos.y,
            lastX: pos.x,
            lastY: pos.y,
        });
        this.lastMouseDownTime = Date.now();
        let e = event;
        e.consumed = false;
        if (!(event.data.pointerType === 'mouse' && event.data.button === 1)) {
            // If middle button is pressed ignore, we force it to drag the board
            this.world.events.emit(PointerEvents.POINTER_DOWN, event);
        }
        if (!e.consumed && this.pointers.size === 1) {
            this.isDraggingBoard = true;
        }
    }
    onPointerUp(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            this.world.events.emit(PointerEvents.POINTER_RIGHT_UP, event);
        }
        let pdata = this.pointers.get(event.data.pointerId);
        if (pdata === undefined)
            return;
        this.pointers.delete(event.data.pointerId);
        if (this.lastMouseDownTime === undefined)
            return;
        if (this.pointers.size === 0) {
            this.isDraggingBoard = false;
            let isClick = this.canBecomeClick(pdata, event.data.global);
            let pue = event;
            pue.lastPosition = {
                x: pdata.lastX,
                y: pdata.lastY
            };
            pue.isClick = isClick;
            this.world.events.emit(PointerEvents.POINTER_UP, pue);
            if (isClick) {
                this.world.events.emit(PointerEvents.POINTER_CLICK, event);
            }
        }
    }
    onPointerUpOutside(event) {
        this.onPointerUp(event);
    }
    /** Function called when the cursor moves around the map. */
    onPointerMove(e) {
        let pos = e.data.global;
        // TODO: magnet snap system
        let localPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_3__.getMapPointFromMouseInteraction)(this.world, e);
        this.updatePointerFollowers(localPos);
        let pdata = this.pointers.get(e.data.pointerId);
        if (this.pointers.size <= 1 && !this.isDraggingBoard) {
            let pme = e;
            pme.lastPosition = {
                x: this.mouseLastX, y: this.mouseLastY,
            };
            pme.canBecomeClick = pdata === undefined ? false : this.canBecomeClick(pdata, pos);
            this.world.events.emit(PointerEvents.POINTER_MOVE, pme);
            this.mouseLastX = pos.x;
            this.mouseLastY = pos.y;
        }
        if (pdata === undefined)
            return;
        if (this.pointers.size === 1) { // Move
            if (this.isDraggingBoard) {
                const newPosX = this.board.position.x + (pos.x - pdata.lastX);
                const newPosY = this.board.position.y + (pos.y - pdata.lastY);
                /*if (this.board.isBoardLost(new PIXI.Point(newPosX, newPosY), this.scale)) {
                    //console.log("You can't go further than this, you'll loose the board!");
                    return;
                }*/
                this.world.editResource(BOARD_TRANSFORM_TYPE, {
                    posX: newPosX,
                    posY: newPosY,
                });
            }
        }
        let firstDist = 0;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            firstDist = Math.sqrt(dx * dx + dy * dy);
        }
        pdata.lastX = pos.x;
        pdata.lastY = pos.y;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            let secondDist = Math.sqrt(dx * dx + dy * dy);
            let center = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point((pa.lastX + pb.lastX) / 2, (pa.lastY + pb.lastY) / 2);
            this.zoom((secondDist / firstDist), center.x, center.y);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type !== BOARD_TRANSFORM_TYPE)
            return;
        let t = res;
        this.board.position.set(t.posX, t.posY);
        this.board.scale.set(t.scaleX, t.scaleY);
    }
    updatePointerFollowers(point) {
        for (let c of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_2__.FOLLOW_MOUSE_TYPE).allComponents()) {
            this.world.editComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_2__.POSITION_TYPE, {
                x: point.x,
                y: point.y,
            });
        }
    }
    /**
     * Make the board's center and the window's center overlap.
     * This way the initial board position is centered to the root card.
     */
    centerBoard() {
        let boardScreenWidth = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.width;
        let boardScreenHeight = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.height;
        let screenMidPointWidth = boardScreenWidth / 2;
        let screenMidPointHeight = boardScreenHeight / 2;
        let bounds = this.board.getBounds();
        this.board.position.set(screenMidPointWidth - bounds.x - bounds.width / 2, screenMidPointHeight - bounds.y - bounds.height / 2);
    }
    applyCanvasStyle(canvas) {
        const s = canvas.style;
        s.width = "100%";
        s.height = "100%";
    }
    enable() {
        const canvas = _index__WEBPACK_IMPORTED_MODULE_1__.app.view;
        this.applyCanvasStyle(canvas);
        let cnt = document.getElementById('canvas-container');
        if (cnt === null) {
            throw "Cannot find canvas container";
        }
        _index__WEBPACK_IMPORTED_MODULE_1__.app.resizeTo = cnt;
        cnt.appendChild(canvas);
        //app.renderer.backgroundColor = 0x3e2723; // dark brown
        // PIXI
        let stage = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Stage();
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage = stage;
        stage.sortableChildren = true;
        stage.group.enableSort = true;
        stage.addChild(this.board);
        stage.interactive = true;
        stage.hitArea = {
            contains(x, y) {
                return true;
            }
        };
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointermove", this.onPointerMove, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointerdown", this.onPointerDown, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointerup", this.onPointerUp, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.on("pointerupoutside", this.onPointerUpOutside, this);
        this.wheelListener = this.onMouseWheel.bind(this);
        canvas.addEventListener("wheel", this.wheelListener);
    }
    destroy() {
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointermove", this.onPointerMove, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointerdown", this.onPointerDown, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointerup", this.onPointerUp, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.stage.off("pointerupoutside", this.onPointerUpOutside, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.removeEventListener('wheel', this.wheelListener);
        let cnt = document.getElementById('canvas-container');
        cnt === null || cnt === void 0 ? void 0 : cnt.removeChild(_index__WEBPACK_IMPORTED_MODULE_1__.app.view);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.resizeTo = window;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/pixiGraphicSystem.ts":
/*!**************************************************!*\
  !*** ./src/app/ecs/systems/pixiGraphicSystem.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REMEMBER_TYPE": () => (/* binding */ REMEMBER_TYPE),
/* harmony export */   "POINT_RADIUS": () => (/* binding */ POINT_RADIUS),
/* harmony export */   "PIXI_GRAPHIC_TYPE": () => (/* binding */ PIXI_GRAPHIC_TYPE),
/* harmony export */   "PixiGraphicSystem": () => (/* binding */ PixiGraphicSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _util_bitSet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/bitSet */ "./src/app/util/bitSet.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _textSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./textSystem */ "./src/app/ecs/systems/textSystem.ts");



















const REMEMBER_TYPE = 'remember';
var VisibListenerLevel;
(function (VisibListenerLevel) {
    VisibListenerLevel[VisibListenerLevel["NOT_NEEDED"] = 0] = "NOT_NEEDED";
    VisibListenerLevel[VisibListenerLevel["REMEMBER"] = 1] = "REMEMBER";
    VisibListenerLevel[VisibListenerLevel["PERSISTENT"] = 2] = "PERSISTENT";
})(VisibListenerLevel || (VisibListenerLevel = {}));
function lerpColor(a, b, t) {
    let tr = ((a >> 16) & 0xFF) * (1 - t) + ((b >> 16) & 0xFF) * t;
    let tg = ((a >> 8) & 0xFF) * (1 - t) + ((b >> 8) & 0xFF) * t;
    let tb = (a & 0xFF) * (1 - t) + (b & 0xFF) * t;
    return tr << 16 | tg << 8 | tb;
}
const POINT_RADIUS = 12;
const PIXI_GRAPHIC_TYPE = 'pixi_graphic';
/**
 * Manages:
 * - Drawing elements
 * - Selection highlighting
 * - Element visibility/remembering
 * - Layer ordering
 * - Position/Translation updates
 * - Bit-by-bit remembering (background discovery)
 * - Interaction setup
 *
 * TODO: we could use a ParticleSystem in some instances
 */
class PixiGraphicSystem {
    constructor(world) {
        this.name = PIXI_GRAPHIC_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__.PIXI_BOARD_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE];
        this.provides = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, false, false);
        this.rememberStorage = new _storage__WEBPACK_IMPORTED_MODULE_1__.FlagEcsStorage(REMEMBER_TYPE, false, true);
        this.renderTexturePool = new pixi_js__WEBPACK_IMPORTED_MODULE_5__.RenderTexturePool();
        this.masterVisibility = false;
        this.world = world;
        this.textSystem = world.systems.get(_textSystem__WEBPACK_IMPORTED_MODULE_18__.TEXT_TYPE);
        this.pixiBoardSystem = world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__.PIXI_BOARD_TYPE);
        this.interactionSystem = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE);
        world.addStorage(this.rememberStorage);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('selection_begin', this.onSelectionBegin, this);
        world.events.on('selection_end', this.onSelectionEnd, this);
        world.events.on(_playerSystem__WEBPACK_IMPORTED_MODULE_8__.EVENT_VISIBILITY_SPREAD, this.onBBBVisibilitySpread, this);
        world.events.on('serialize', this.onSerialize, this);
        world.events.on('serialize_entity', this.onSerializeEntity, this);
    }
    onComponentAdd(c) {
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            this.updateVisibilityListener(com);
            this.updateElementVisibility(com, com.display, true, false, false);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === REMEMBER_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            this.updateElementVisibility(com, com.display, true, true, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // TODO: here?
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentEdited(c, changes) {
        var _a;
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.runMethods(com, com.display); // run delayed methods (like _childrenAdd, _childrenReplace & co).
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            this.updateVisibilityListener(com);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_VISIBLE_TYPE);
            let remembered = this.rememberStorage.getComponent(c.entity) !== undefined;
            this.updateElementVisibility(com, com.display, true, (_a = pv === null || pv === void 0 ? void 0 : pv.visible) !== null && _a !== void 0 ? _a : true, remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
            if ('interactive' in changes) {
                this.updateInteractive(com, pos, trans);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = c;
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_VISIBLE_TYPE) {
            let pv = c;
            com = this.storage.getComponent(pv.entity);
            if (com === undefined)
                return;
            let remembered = false;
            if (com._visibListener === VisibListenerLevel.REMEMBER && pv.visible) {
                this.world.addComponent(c.entity, {
                    type: REMEMBER_TYPE,
                    entity: c.entity,
                });
                this.playerSystem.removePlayerVisListener(c.entity);
                remembered = true;
            }
            if (!this.masterVisibility) {
                this.updateElementVisibility(com, com.display, true, pv.visible, remembered);
            }
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentRemoved(c) {
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            this.destroyElement(c.display, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            this.updateElement(com, com.display, pos, c, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined || !com._bitByBit)
                return;
            // Now you're visible! say hello
            this.updateBBBVisAround(com);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type === 'local_light_settings') {
            let set = res;
            if (!('visionType' in changes))
                return;
            if (set.visionType === 'dm') {
                this.masterVisibility = true;
                for (let c of this.storage.allComponents()) {
                    this.updateElementVisibility(c, c.display, true, true, true);
                }
            }
            else if (set.visionType === 'rp') {
                this.masterVisibility = false;
                for (let c of this.storage.allComponents()) {
                    let pv = this.world.getComponent(c.entity, 'player_visible');
                    let rem = this.rememberStorage.getComponent(c.entity);
                    this.updateElementVisibility(c, c.display, true, pv === null || pv === void 0 ? void 0 : pv.visible, rem !== undefined);
                }
            }
            else {
                throw 'Unknown vision type';
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_16__.GRID_TYPE) {
            if (!('width' in changes))
                return;
            // You are literally satan, I hate you.
            let posSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let tranSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            for (let c of this.storage.allComponents()) {
                this.forEachEl(c, c.display, e => {
                    if (e.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && e.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                        let pos = posSto.getComponent(c.entity);
                        let tran = tranSto.getComponent(c.entity);
                        this.updateElement(c, e, pos, tran, false);
                        this.world.editComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE, { shape: this.createShape(e, pos, tran) });
                    }
                });
            }
        }
    }
    onSelectionBegin(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = true;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onSelectionEnd(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = false;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onBBBVisibilitySpread(data) {
        let iter = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeAabb)(data.aabb), c => {
            let com = this.storage.getComponent(c.entity);
            return com !== undefined && com._bitByBit === true;
        });
        for (let c of iter) {
            // If we are here then the component exists, we checked it in the iterator
            let cmp = this.storage.getComponent(c.entity);
            this.doOnBitByBit(cmp, cmp.display, (img) => this.updateBBBVisibility(data, cmp, img));
        }
    }
    onSerialize() {
        let changedList = [];
        for (let com of this.storage.allComponents()) {
            if (!com._bitByBit)
                continue;
            let changed = false;
            this.doOnBitByBit(com, com.display, (img) => changed || (changed = this.extractVisibility(img)));
            if (changed)
                changedList.push(com.entity);
        }
        if (changedList) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, changedList);
        }
    }
    onSerializeEntity(entity) {
        let c = this.storage.getComponent(entity);
        if (c === undefined)
            return;
        let changed = false;
        this.doOnBitByBit(c, c.display, (img) => changed || (changed = this.extractVisibility(img)));
        if (changed) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, [entity]);
        }
    }
    // -------------------------- LISTENERS DONE --------------------------
    updateInteractive(comp, pos, trans) {
        let interactiveCmp = this.world.getComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE);
        if (comp.interactive && interactiveCmp === undefined) {
            this.world.addComponent(comp.entity, {
                type: _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE,
                selectPriority: comp.display.priority,
                snapEnabled: true,
                shape: this.createShape(comp.display, pos, trans),
            });
        }
        else if (!comp.interactive && interactiveCmp !== undefined) {
            this.world.removeComponent(interactiveCmp);
        }
        else if (comp.interactive) {
            // Check for component changes in interactor
            if (comp.display.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE) {
                // If the texture has changed we need to update the interactor.
                let el = comp.display;
                if (el.texture !== el._oldTex) {
                    this.world.editComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE, { shape: this.createShape(el, pos, trans) });
                }
            }
        }
    }
    createShape(comp, pos, trans) {
        switch (comp.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                // Only the root element can be made interactive, the others are ignored
                throw 'Cannot make interactive container';
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                throw 'Cannot make interactive text';
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let c = comp;
                let w = c.texture.width;
                let h = c.texture.height;
                let aabb;
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                if (c.scale == _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(c.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_16__.GRID_TYPE);
                    let gsize = c.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_12__.Aabb.fromPointAnchor(pos, { x: w, y: h }, c.anchor);
                aabb.scale(sx, sy, aabb);
                let obb = _geometry_obb__WEBPACK_IMPORTED_MODULE_13__.Obb.rotateAabb(aabb.copy(), (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0);
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeObb)(obb);
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let c = comp;
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_14__.Line(pos.x, pos.y, pos.x + c.vec.x, pos.y + c.vec.y));
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapePoint)(new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Point(pos.x, pos.y));
            }
        }
    }
    /**
     * Extracts visibility from the rendertexture of the image (must be VISBLE_BIT_BY_BIT).
     *
     * @param c the image from which the visibility map will be extracted.
     * @return true only if the visibility map has been modified.
     * @private
     */
    extractVisibility(c) {
        if (c._visMapChanged !== true)
            return false;
        c.visMap = undefined;
        const renderer = _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer;
        const tex = c._renTex;
        if (tex === undefined)
            return false;
        let frame = tex.frame;
        renderer.renderTexture.bind(tex);
        let webglPixels = new Uint8Array(tex.width * tex.height * 4);
        const gl = renderer.gl;
        gl.readPixels(frame.x, frame.y, frame.width, frame.height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
        let fuckLen = webglPixels.length / 4;
        let newLen = ((webglPixels.length / 4 - 1) >>> 5) + 1;
        let target = new Uint32Array(newLen);
        for (let i = 0; i < fuckLen; i++) {
            let pixel = webglPixels[i * 4 + 3];
            if ((pixel & 0x80) !== 0) {
                target[i >>> 5] |= 1 << (i & 0b11111);
            }
        }
        c.visMap = target;
        c._visMapChanged = false;
        return true;
    }
    loadVisibility(c) {
        const width = c.texture.width;
        const height = c.texture.height;
        if (c._renTex === undefined) {
            c._renTex = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.RenderTexture.create({
                width, height,
                scaleMode: c.texture.baseTexture.scaleMode,
            });
            let bt = c._renTex.baseTexture;
            bt.clearColor = [0.0, 0.0, 0.0, 0.0];
        }
        if (c.visMap === undefined)
            return;
        let texOpts = {
            width, height,
            format: _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.FORMATS.RGBA,
        };
        let texData = new Uint32Array(c.texture.width * c.texture.height);
        let set = new _util_bitSet__WEBPACK_IMPORTED_MODULE_11__.BitSet(c.visMap);
        let len = texData.length;
        for (let i = 0; i < len; i++) {
            texData[i] = set.get(i) ? 0xFFFFFFFF : 0;
        }
        let byteData = new Uint8Array(texData.buffer);
        let resource = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.resources.BufferResource(byteData, { width, height });
        let baseTexture = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BaseTexture(resource, texOpts);
        let tex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Texture(baseTexture);
        let lumSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex);
        lumSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.SRC_IN;
        let mapSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(c.texture);
        let cnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        cnt.addChild(mapSprite, lumSprite);
        _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer.render(cnt, c._renTex, true);
        lumSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_ALL);
        c._visMapChanged = false;
    }
    forEachEl(com, img, f) {
        f(img);
        if (img.children) {
            for (let c of img.children) {
                this.forEachEl(com, c, f);
            }
        }
    }
    doOnBitByBit(com, img, f) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            f(img);
        }
        if (img.children) {
            for (let c of img.children) {
                this.doOnBitByBit(com, c, f);
            }
        }
    }
    needsBitByBit(com, img) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            return true;
        }
        if (img.children) {
            for (let c of img.children) {
                if (this.needsBitByBit(com, c))
                    return true;
            }
        }
        return false;
    }
    updateBBBVisAround(com) {
        let inter = this.world.getComponent(com.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_10__.INTERACTION_TYPE);
        let aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_10__.shapeToAabb)(inter.shape);
        this.playerSystem.getSpreadDataForAabb(aabb, data => {
            this.doOnBitByBit(com, com.display, (img) => this.updateBBBVisibility(data, com, img));
        });
    }
    updateBBBVisibility(data, com, img) {
        //      Part 1. What?
        // So, what does this spaghetti mess do? Good question!
        // We have players and lights, some players can see without lights and others can't
        // The task is to update the rendertexture of the background component adding the visible spots to it.
        // The visible spots are: The meshes of the players with night vision enabled and the intersection of the
        // union of the vision mesh of the normal players with the union of the vison meshes of the lights.
        // Common case: 1 NV player 0 lights, 1 player multiple lights, multiple players 1 light
        // Possible (but uncommon) cases: x NV players, y normal players, z lights (with x, y, z naturals).
        //      Part 2. How?
        // The initial idea is simple, render anything on the bkg._renTex and then render the original texture with
        // blendMode = SRC_IN, any spot with alpha = 1 will then be replaced with the correct texture.
        // The night vision players rendering is quite simple, just render the meshes before the final texture render
        // The normal players will be a bit different since we need to intersect their meshes with the light mesh.
        // To do that we can render all the players meshes in a framebuffer A, then render all of the lights in another
        // frame buffer B, then render A onto B with blendMode = SRC_IN to create a sort of union of the two.
        // Once that is done we can render B into the bkg._renTex and proceed normally.
        // Another way to do this using only a single rendertexture is to use the stencil buffer, but it will double the
        // mesh render calls (and since they are not buffered, it's a slow operation)
        // I don't think that there is another way to perform this in the general case, please prove me wrong.
        // TODO: maybe we can optimize this when only 1 player and 1 light is present (like, avoiding 1 of the 2 framebuffers).
        // Skip EVERYTHING if this entity is hidden.
        if (this.world.getComponent(com.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        //console.time('updateVisibility');
        let renderer = _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer;
        let localCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        // Setup local transform
        let m = new pixi_js__WEBPACK_IMPORTED_MODULE_5__.Matrix();
        let pixi = img._pixi;
        m.translate(-pixi.position.x, -pixi.position.y);
        m.rotate(-pixi.rotation);
        let invScale = 1 / pixi.scale.x;
        m.scale(invScale, invScale);
        m.translate(img.texture.width / 2, img.texture.height / 2);
        localCnt.transform.setFromMatrix(m);
        let worldCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
        // If there are any players without night vision (and there are lights) render them (THIS IS SLOW!)
        let tex, tex2, nightSprite;
        if (data.players.length !== 0 && data.lights.length !== 0) {
            tex = this.renderTexturePool.getOptimalTexture(pixi.width, pixi.height);
            tex2 = this.renderTexturePool.getOptimalTexture(pixi.width, pixi.height);
            for (let player of data.players) {
                localCnt.addChild(player.mesh);
            }
            // Render the players visibility meshes onto tex
            renderer.render(localCnt, tex, true);
            localCnt.removeChildren();
            for (let light of data.lights) {
                light.mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
                localCnt.addChild(light.mesh);
            }
            let playerSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex);
            playerSprite.blendMode = pixi_js__WEBPACK_IMPORTED_MODULE_5__.BLEND_MODES.SRC_IN;
            // Render the lights onto tex2, then render tex as BLEND_MODE.SRC_IN to filter out where the lights were not
            // present.
            worldCnt.addChild(localCnt, playerSprite);
            renderer.render(worldCnt, tex2, true);
            worldCnt.removeChildren();
            localCnt.removeChildren();
            // Add tex2 to the main phase
            nightSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(tex2);
            nightSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.ADD;
            worldCnt.addChild(nightSprite);
        }
        for (let player of data.nightVisPlayers) {
            localCnt.addChild(player.mesh);
        }
        let origTex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(img.texture);
        origTex.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.BLEND_MODES.SRC_IN;
        worldCnt.addChild(localCnt, origTex);
        // Render everything to bkg._renTex and then redraw the original only where is alpha=1.
        _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer.render(worldCnt, img._renTex, false);
        img._visMapChanged = true;
        // Cleanup time (don't worry, I'm recycling and there's a garbage cleaner, we're eco friendly!)
        worldCnt.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
        origTex.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
        if (tex !== undefined)
            this.renderTexturePool.returnTexture(tex);
        if (tex2 !== undefined)
            this.renderTexturePool.returnTexture(tex2);
        if (nightSprite !== undefined)
            nightSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
        //console.timeEnd('updateVisibility');
    }
    computeVisibilityListener(c) {
        let level;
        switch (c.visib) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                // Already maximum level, no need for further checking
                return VisibListenerLevel.PERSISTENT;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                level = VisibListenerLevel.NOT_NEEDED;
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                level = VisibListenerLevel.REMEMBER;
                break;
        }
        if (c.children) {
            for (let ch of c.children) {
                level = Math.max(level, this.computeVisibilityListener(ch));
                if (level === VisibListenerLevel.PERSISTENT)
                    break; // Already maxed out.
            }
        }
        return level;
    }
    destroyElement(desc, recursive) {
        let elem = desc._pixi;
        if (elem === undefined)
            return;
        switch (desc._oldType) {
            case undefined:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let im = desc;
                let destroyTex = im.sharedTexture !== true;
                elem.destroy({
                    children: false,
                    texture: destroyTex,
                    baseTexture: destroyTex,
                });
                if (im._renTex !== undefined) {
                    im._renTex.destroy(true);
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                elem.destroy({
                    children: false,
                    texture: true,
                    baseTexture: true,
                });
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_6__.DESTROY_MIN);
                break;
        }
        desc._pixi = undefined;
        desc._oldType = undefined;
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.destroyElement(el, true);
            }
        }
    }
    createElement(desc) {
        this.destroyElement(desc, false);
        let res;
        // TODO: Layers
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Container();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Sprite(this.circleTex);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Text("");
                res.parentLayer = this.textSystem.textLayer;
                break;
        }
        res.interactive = false;
        res.interactiveChildren = false;
        res.zIndex = desc.priority;
        desc._pixi = res;
        desc._oldType = desc.type;
        this.pixiBoardSystem.board.addChild(res);
        this.pixiBoardSystem.board.sortChildren();
    }
    textureUpdateGridSize(tex) {
        let texId = tex._updateID;
        if (tex.gridSize !== undefined && tex.gridSize.updateId !== texId)
            return;
        tex.gridSize = {
            x: Math.ceil(tex.width / _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS.size) / tex.width,
            y: Math.ceil(tex.height / _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS.size) / tex.height,
            updateId: texId,
        };
    }
    updateElementVisibility(par, desc, recursive, currentlyVisible, remembered) {
        let isVisible;
        if (currentlyVisible || this.masterVisibility) {
            isVisible = true;
        }
        else {
            switch (desc.visib) {
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                    isVisible = currentlyVisible;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                    isVisible = true;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                    isVisible = remembered;
                    break;
            }
        }
        let pixi = desc._pixi;
        pixi.visible = isVisible;
        if (desc.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            let im = desc;
            im._pixi.texture = this.masterVisibility ? im.texture : im._renTex;
        }
        if (recursive && desc.children) {
            for (let c of desc.children) {
                this.updateElementVisibility(par, c, true, currentlyVisible, remembered);
            }
        }
    }
    updateVisibilityListener(el) {
        let listLevel = this.computeVisibilityListener(el.display);
        let oldListLevel = el._visibListener || VisibListenerLevel.NOT_NEEDED;
        if (listLevel === oldListLevel)
            return; // No changes reported.
        let isRemembered = this.rememberStorage.getComponent(el.entity);
        let listenerNeeded;
        switch (listLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                listenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                listenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                listenerNeeded = true;
                break;
        }
        let oldListenerNeeded;
        switch (oldListLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                oldListenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                oldListenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                oldListenerNeeded = true;
                break;
        }
        if (listenerNeeded && !oldListenerNeeded) {
            this.playerSystem.addPlayerVisListener(el.entity, el.isWall);
        }
        else if (!listenerNeeded && oldListenerNeeded) {
            this.playerSystem.removePlayerVisListener(el.entity);
        }
        el._visibListener = listLevel;
    }
    runMethods(par, el) {
        if (el._childrenReplace) {
            if (el.children) {
                for (let c of el.children) {
                    this.destroyElement(c, true);
                }
            }
            el._childrenAdd = el._childrenReplace;
            el._childrenReplace = undefined;
        }
        if (el._childrenAdd) {
            if (el.children === undefined)
                el.children = [];
            el.children.push(...el._childrenAdd);
            el._childrenAdd = undefined;
        }
        if (el._childrenRemove) {
            if (el.children === undefined)
                return;
            for (let c of el._childrenRemove) {
                this.destroyElement(c, true);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_15__.arrayRemoveElem)(el.children, c);
            }
            el._childrenRemove = undefined;
        }
        if (el.children) {
            for (let c of el.children) {
                this.runMethods(par, c);
            }
        }
    }
    updateElement(par, desc, pos, trans, recursive) {
        if (desc._oldType !== desc.type) {
            this.createElement(desc);
        }
        let d = desc._pixi;
        if (desc.offset !== undefined) {
            d.position.set(pos.x + desc.offset.x, pos.y + desc.offset.y);
        }
        else {
            d.position.set(pos.x, pos.y);
        }
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let dim = d;
                let el = desc;
                if (el.visib == _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    dim.texture = this.masterVisibility ? el.texture : el._renTex;
                }
                else {
                    dim.texture = el.texture;
                }
                dim.anchor.copyFrom(el.anchor);
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = sx;
                if (el.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(dim.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_16__.GRID_TYPE);
                    let gsize = dim.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                dim.rotation = (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0;
                dim.scale.set(sx, sy);
                dim.tint = par._selected ? 0x7986CB : 0xFFFFFF;
                if (el.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    if (el._oldTex !== el.texture) {
                        this.loadVisibility(el);
                    }
                }
                else if (el._renTex !== undefined) {
                    el._renTex.destroy(true);
                    el._renTex = undefined;
                }
                el._oldTex = el.texture;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let g = d;
                let el = desc;
                g.clear();
                g.moveTo(0, 0);
                g.lineStyle(5, el.color);
                g.lineTo(el.vec.x, el.vec.y);
                if (par._selected) {
                    g.lineStyle(0);
                    g.beginFill(0xe51010);
                    g.drawCircle(0, 0, 10);
                    g.endFill();
                    g.beginFill(el.color);
                    g.drawCircle(el.vec.x, el.vec.y, 10);
                    g.endFill();
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                let color = desc.color;
                if (par._selected) {
                    color = lerpColor(color, 0x7986CB, 0.3);
                }
                d.tint = color;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT: {
                let el = desc;
                let g = d;
                g.text = el.text;
                g.anchor.copyFrom(el.anchor);
                g.tint = el.color;
                break;
            }
        }
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.updateElement(par, el, pos, trans, true);
            }
        }
    }
    enable() {
        this.playerSystem = this.world.systems.get(_playerSystem__WEBPACK_IMPORTED_MODULE_8__.PLAYER_TYPE);
        this.masterVisibility = this.world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_9__.LIGHT_TYPE).localLightSettings.visionType === 'dm';
        let g = new _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.Graphics();
        g.beginFill(0xFFFFFF);
        g.lineStyle(0);
        g.drawCircle(POINT_RADIUS, POINT_RADIUS, POINT_RADIUS);
        this.circleTex = _index__WEBPACK_IMPORTED_MODULE_4__.app.renderer.generateTexture(g, _PIXI__WEBPACK_IMPORTED_MODULE_3__.default.SCALE_MODES.LINEAR, 1);
        this.circleTex.defaultAnchor.set(0.5, 0.5);
    }
    destroy() {
        for (let elem of this.storage.allComponents()) {
            this.destroyElement(elem.display, true);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerSystem.ts":
/*!*********************************************!*\
  !*** ./src/app/ecs/systems/playerSystem.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_TYPE": () => (/* binding */ PLAYER_TYPE),
/* harmony export */   "PLAYER_VISIBLE_TYPE": () => (/* binding */ PLAYER_VISIBLE_TYPE),
/* harmony export */   "EVENT_VISIBILITY_SPREAD": () => (/* binding */ EVENT_VISIBILITY_SPREAD),
/* harmony export */   "PlayerSystem": () => (/* binding */ PlayerSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./visibilityAwareSystem */ "./src/app/ecs/systems/visibilityAwareSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");










const PLAYER_TYPE = 'player';
/**
 * Added to every object that might be visible by a player, it tracks how many players and how many lights
 * are seeing it.
 */
const PLAYER_VISIBLE_TYPE = 'player_visible';
const EVENT_VISIBILITY_SPREAD = 'visibility_spread';
class PlayerSystem {
    constructor(world) {
        var _a;
        this.name = PLAYER_TYPE;
        this.dependencies = [_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PIN_TYPE, _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, _visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_TYPE, true, true);
        this.visibleStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_VISIBLE_TYPE, false, false);
        // If false a player can see a thing only if it's illuminated by artificial light
        this.ambientIlluminated = false;
        this.world = world;
        this.lightSystem = world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        this.visibilitySystem = world.systems.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_9__.STANDARD_GRID_OPTIONS).size;
        this.world.addStorage(this.storage);
        this.world.addStorage(this.visibleStorage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        let visAware = world.systems.get(_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
        visAware.events.on('aware_update', this.onVisibilityAwareUpdate, this);
    }
    onPlayerVisibleCountersUpdate(t) {
        let newVisible = t._playerNightVisionCount > 0 ||
            ((this.ambientIlluminated || t._lightCount > 0 || t.isWall) && t._playerCount > 0);
        if (newVisible !== t.visible) {
            this.world.editComponent(t.entity, t.type, {
                visible: newVisible,
            });
        }
    }
    onVisibilityAwareUpdate(target, added, removed) {
        let playerVisible = this.visibleStorage.getComponent(target.entity);
        if (playerVisible === undefined)
            return;
        for (let e of added) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount += 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount += 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount += 1;
            }
        }
        for (let e of removed) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount -= 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount -= 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount -= 1;
            }
        }
        this.onPlayerVisibleCountersUpdate(playerVisible);
    }
    onNightVisionUpdate(player) {
        let vis = this.world.getComponent(player.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let diff = player.nightVision ? +1 : -1;
        let fun = (t) => {
            let playerVisible = this.visibleStorage.getComponent(t);
            if (playerVisible === undefined)
                return;
            playerVisible._playerNightVisionCount += diff;
            this.onPlayerVisibleCountersUpdate(playerVisible);
        };
        for (let t of vis._canSee)
            fun(t);
        if (vis._canSeeWalls)
            for (let t of vis._canSeeWalls)
                fun(t);
    }
    createVisMeshFrom(pos, vis) {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(mesh, pos, vis.polygon);
        let r = vis.range * 50;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(mesh, pos, r * r, 0xFFFFFF);
        return mesh;
    }
    spreadPlayerVisibility(player, pos, vis, nightVision) {
        if (this.world.getComponent(player, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE))
            return; // Ignore hidden players
        let playerVis = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(playerVis, pos, vis.polygon);
        let r = vis.range * 50;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(playerVis, pos, r * r, 0xFFFFFF);
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let playerData = {
            mesh: playerVis,
            vis,
            pos,
        };
        let players = [];
        let nightVisPlayers = [];
        let lights = [];
        let aabb;
        if (!nightVision && this.lightSystem.lightSettings.needsLight) {
            players.push(playerData);
            aabb = undefined;
            for (let c of this.visibilitySystem.aabbTree.query(vis.aabb)) {
                let visComponent = c.tag;
                let lightComponent = lightStorage.getComponent(visComponent.entity);
                if (lightComponent === undefined || visComponent.range <= 0)
                    continue;
                let pos = posStorage.getComponent(visComponent.entity);
                if (aabb === undefined)
                    aabb = visComponent.aabb.copy();
                else
                    aabb.combine(visComponent.aabb, aabb);
                let mesh = this.createVisMeshFrom(pos, visComponent);
                lights.push({
                    mesh,
                    pos,
                    vis: visComponent,
                });
            }
            if (lights.length === 0)
                return; // no night vision AND no lights = can't see a thing!
            aabb.intersect(vis.aabb, aabb);
        }
        else {
            nightVisPlayers.push(playerData);
            aabb = vis.aabb;
        }
        let data = {
            aabb,
            lights,
            players,
            nightVisPlayers,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        playerData.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let light of data.lights)
            light.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadLightVisibility(lightVis) {
        // Quite similar to spreadPlayerVisibility but follows a light instead of a player,
        // When a light visibility polygon is changed this will query each player in the polygon's reach and
        // spread the visibility (only with that light!)
        if (!this.lightSystem.lightSettings.needsLight)
            return; // Who needs lights?
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let lightPos = posStorage.getComponent(lightVis.entity);
        let lightMesh = this.createVisMeshFrom(lightPos, lightVis);
        let lightData = [{
                mesh: lightMesh,
                pos: lightPos,
                vis: lightVis,
            }];
        let aabb = undefined;
        let players = [];
        for (let c of this.visibilitySystem.aabbTree.query(lightVis.aabb)) {
            let visComponent = c.tag;
            let player = this.storage.getComponent(visComponent.entity);
            if (player === undefined || visComponent.range <= 0 || player.nightVision)
                continue;
            if (aabb === undefined)
                aabb = visComponent.aabb.copy();
            else
                aabb.combine(visComponent.aabb, aabb);
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(player.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            players.push({
                mesh,
                pos,
                vis,
            });
        }
        if (players.length === 0)
            return;
        aabb.intersect(lightVis.aabb, aabb);
        let data = {
            aabb,
            lights: lightData,
            players,
            nightVisPlayers: [],
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        lightData[0].mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let player of players)
            player.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadAfterLightNotNeeded() {
        // Something changed, light is not needed anymore
        // this means that most of the things that were not visible anymore now are
        // but what? and where? this is the questions i will answer today
        let players = [];
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let aabb = undefined;
        for (let player of this.storage.allComponents()) {
            if (player.nightVision)
                continue;
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(vis.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            if (aabb === undefined)
                aabb = vis.aabb.copy();
            else
                aabb.combine(vis.aabb, aabb);
            let data = { mesh, pos, vis };
            players.push(data);
        }
        if (aabb === undefined)
            return; // Not enough players
        let data = {
            aabb,
            lights: [],
            players: [],
            nightVisPlayers: players,
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    getSpreadDataForAabb(aabb, cb) {
        let nightVisPlayers = [];
        let players = [];
        let lights = [];
        let lightsNeeded = this.lightSystem.lightSettings.needsLight;
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        for (let c of this.visibilitySystem.aabbTree.query(aabb)) {
            let vis = c.tag;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                let pos = posStorage.getComponent(vis.entity);
                let mesh = this.createVisMeshFrom(pos, vis);
                let data = { mesh, pos, vis };
                if (player.nightVision || !lightsNeeded)
                    nightVisPlayers.push(data);
                else
                    players.push(data);
                continue;
            }
            if (lightsNeeded) {
                let light = lightStorage.getComponent(vis.entity);
                if (light !== undefined) {
                    let pos = posStorage.getComponent(vis.entity);
                    let mesh = this.createVisMeshFrom(pos, vis);
                    let data = { mesh, pos, vis };
                    lights.push(data);
                }
            }
        }
        let realPlayers = players;
        let realLights = lights;
        if (players.length === 0 || lights.length == 0) {
            realPlayers = [];
            realLights = [];
        }
        let data = {
            aabb,
            lights: realLights,
            players: realPlayers,
            nightVisPlayers,
        };
        cb(data);
        for (let x of lights)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of nightVisPlayers)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    onComponentAdd(comp) {
        if (comp.type === PLAYER_TYPE) {
            let player = comp;
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined) {
                console.error("Added player to pin without player visibility!");
                return;
            }
            pv._playerNightVisionCount++; // A bit hackish, but it works ;)
            this.onPlayerVisibleCountersUpdate(pv);
            let vis = this.world.getComponent(player.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
            if (vis === undefined) {
                // We need a visibility component, create one if it does not already exist
                vis = {
                    type: _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE,
                    range: player.range,
                    trackWalls: true,
                };
                this.world.addComponent(comp.entity, vis);
            }
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            let c = comp;
            c._lightCount = 0;
            c._playerCount = 0;
            c._playerNightVisionCount = 0;
            this.world.addComponent(c.entity, (0,_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.newVisibilityAwareComponent)(c.isWall === true));
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PLAYER_TYPE) {
            let c = comp;
            if ('nightVision' in changed) {
                this.onNightVisionUpdate(c);
            }
            if ('range' in changed) {
                this.world.editComponent(c.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let vis = this.world.getComponent(c.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, c.nightVision);
                }
            }
        }
        else if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changed))
                return;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, player.nightVision);
                }
                return;
            }
            let light = this.world.getComponent(vis.entity, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                this.spreadLightVisibility(vis);
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === PLAYER_TYPE) {
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined)
                return;
            pv._playerNightVisionCount--; // Gotta undo those hacks
            this.onPlayerVisibleCountersUpdate(pv);
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_SETTINGS_TYPE && 'needsLight' in changed) {
            let light = res;
            this.ambientIlluminated = !light.needsLight;
            for (let comp of this.visibleStorage.allComponents()) {
                this.onPlayerVisibleCountersUpdate(comp);
            }
            if (!light.needsLight) {
                this.spreadAfterLightNotNeeded();
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
        }
    }
    // PUBLIC INTERFACE
    addPlayerVisListener(entity, isWall = false) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined) {
            c = {
                type: PLAYER_VISIBLE_TYPE,
                entity,
                visible: false,
                isWall,
                _refCount: 1,
                _lightCount: 0,
                _playerCount: 0,
                _playerNightVisionCount: 0,
            };
            this.world.addComponent(entity, c);
            return c;
        }
        else {
            c._refCount++;
        }
        return c;
    }
    removePlayerVisListener(entity) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined)
            return;
        c._refCount--;
        if (c._refCount === 0) {
            this.world.removeComponent(c);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.setup();
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/propSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/propSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PROP_TYPE": () => (/* binding */ PROP_TYPE),
/* harmony export */   "PROP_TELEPORT_TYPE": () => (/* binding */ PROP_TELEPORT_TYPE),
/* harmony export */   "PropSystem": () => (/* binding */ PropSystem),
/* harmony export */   "CreatePropToolDriver": () => (/* binding */ CreatePropToolDriver),
/* harmony export */   "PropTeleportLinkToolDriver": () => (/* binding */ PropTeleportLinkToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _toolSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./toolSystem */ "./src/app/ecs/systems/toolSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");










const PROP_TYPE = 'prop';
const PROP_TELEPORT_TYPE = 'prop_teleport';
class PropSystem {
    constructor(world) {
        this.name = PROP_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TYPE, true, true);
        this.teleportStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TELEPORT_TYPE, true, true);
        this.defaultPropType = "ladder_down";
        this.world = world;
        if (world.isMaster) {
            const toolSys = world.systems.get(_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE);
            toolSys.addTool(new CreatePropToolDriver(this));
            toolSys.addTool(new PropTeleportLinkToolDriver(this));
        }
        this.interactionSys = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE);
        this.propTypes = new Map();
        this.loadPropTypes();
        world.addStorage(this.storage);
        world.addStorage(this.teleportStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('prop_use', this.onPropUse, this);
    }
    registerPropType(propType) {
        this.propTypes.set(propType.id, propType);
    }
    loadPropTypes() {
        const atlas = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Loader.shared.resources.props.spritesheet;
        const props = [
            {
                id: 'ladder_up',
                name: 'Ladder Up',
                texture: atlas.textures['ladder_up.png'],
            },
            {
                id: 'ladder_down',
                name: 'Ladder Down',
                texture: atlas.textures['ladder_down.png'],
            },
        ];
        for (let prop of props)
            this.registerPropType(prop);
    }
    getPropType(p) {
        let pType = this.propTypes.get(p.propType);
        if (pType === undefined) {
            console.warn(`Cannot find prop type: ${p.propType}`);
            pType = this.propTypes.get(this.defaultPropType);
            if (pType === undefined) {
                throw "Default prop type is invalid!";
            }
        }
        return pType;
    }
    onComponentAdd(c) {
        if (c.type !== 'prop')
            return;
        let prop = c;
        let propType = this.getPropType(prop);
        this.world.addComponent(c.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: true,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.REMEMBER,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        });
    }
    onComponentEdited(c, changed) {
        if (c.type === PROP_TYPE) {
            let prop = c;
            let pType = this.getPropType(prop);
            let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE).display;
            display.texture = pType.texture;
            this.world.editComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, { display }, undefined, false);
        }
    }
    onComponentRemove(c) {
        if (c.type === 'prop') {
            let tp = this.teleportStorage.getComponent(c.entity);
            if (tp !== undefined)
                this.world.removeComponent(tp);
        }
    }
    onPropUse(entity) {
        let prop = this.storage.getComponent(entity);
        let teleport = this.teleportStorage.getComponent(entity);
        if (prop === undefined || teleport === undefined)
            return;
        let target = this.storage.getComponent(teleport.entity);
        if (target === undefined) {
            console.warn("Unlinked teleporter!");
            return;
        }
        let positions = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let posFrom = positions.getComponent(entity);
        let posTo = positions.getComponent(teleport.targetProp);
        let diffX = posTo.x - posFrom.x;
        let diffY = posTo.y - posFrom.y;
        let shape = this.world.getComponent(entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let pinStorage = this.world.storages.get('pin');
        let query = this.interactionSys.query(shape, x => {
            return pinStorage.getComponent(x.entity) !== undefined;
        });
        for (let q of query) {
            let pos = positions.getComponent(q.entity);
            this.world.editComponent(q.entity, pos.type, {
                x: pos.x + diffX,
                y: pos.y + diffY,
            });
        }
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePropToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP;
        // Entity of the prop to be created
        this.createProp = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        this.createPropType = this.sys.defaultPropType;
        let propType = this.sys.propTypes.get(this.createPropType);
        if (propType === undefined)
            throw 'Illegal prop type: ' + this.createPropType;
        this.createProp = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_3__.HOST_HIDDEN_TYPE
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
            rotation: 0,
            scale: 1,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.ALWAYS_VISIBLE,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createProp !== -1) {
            this.sys.world.despawnEntity(this.createProp);
            this.createProp = -1;
        }
    }
    confirmCreation() {
        if (this.createProp === undefined)
            return;
        const id = this.createProp;
        const world = this.sys.world;
        world.removeComponentType(id, _component__WEBPACK_IMPORTED_MODULE_3__.FOLLOW_MOUSE_TYPE);
        world.removeComponentType(id, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE);
        world.addComponent(id, {
            type: PROP_TYPE,
            propType: this.createPropType,
        });
        world.removeComponentType(id, _component__WEBPACK_IMPORTED_MODULE_3__.HOST_HIDDEN_TYPE);
        this.createProp = -1;
        this.sys.world.editResource(_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
        });
        this.sys.selectionSys.setOnlyEntity(id);
    }
    onStart() {
        this.initCreation();
    }
    onEnd() {
        this.cancelCreation();
    }
    onPointerClick(event) {
        this.confirmCreation();
    }
}
class PropTeleportLinkToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK;
        this.currentTarget = -1;
        this.sys = sys;
    }
    initialize() {
        this.sys.world.events.on('prop_teleport_link', this.onPropTeleportLink, this);
    }
    destroy() {
        this.sys.world.events.off('prop_teleport_link', this.onPropTeleportLink, this);
    }
    onPropTeleportLink(entity) {
        let tp = this.sys.teleportStorage.getComponent(entity);
        if (tp === undefined) {
            console.warn("Called teleport link on a non-teleport prop, ignoring");
            return;
        }
        this.currentTarget = entity;
        this.sys.world.editResource(_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK,
        });
    }
    linkTo(target) {
        if (this.sys.storage.getComponent(target) === undefined) {
            console.warn("Trying to link teleport to a non-prop, ignoring");
            return;
        }
        let tper = this.sys.teleportStorage.getComponent(this.currentTarget);
        if (tper === undefined) {
            console.warn("Teleporter has been destroyed");
            return;
        }
        // If the target is itself then delete the link
        tper.targetProp = target === this.currentTarget ? -1 : target;
        this.currentTarget = -1;
    }
    linkCancel() {
        this.currentTarget = -1;
    }
    onStart() {
        document.body.style.cursor = 'crosshair';
    }
    onEnd() {
        this.linkCancel();
        document.body.style.cursor = 'auto';
    }
    onPointerClick(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_7__.getMapPointFromMouseInteraction)(this.sys.world, event);
        let interactionSystem = this.sys.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let query = interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePoint)(point), x => {
            return this.sys.world.getComponent(x.entity, 'prop') !== undefined;
        });
        for (let found of query) {
            let oldTper = this.currentTarget;
            this.linkTo(found.entity);
            this.sys.selectionSys.setOnlyEntity(oldTper);
            this.sys.world.editResource(_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
            return;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/selectionSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/selectionSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECTION_TYPE": () => (/* binding */ SELECTION_TYPE),
/* harmony export */   "SelectionSystem": () => (/* binding */ SelectionSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _doorSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _propSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./propSystem */ "./src/app/ecs/systems/propSystem.ts");



const MULTI_TYPES = ['name', 'note'];
const ELIMINABLE_TYPES = ['name', 'note', 'player', 'light', 'door'];
const FULLSCREENABLE_TYPES = ['note'];
const SELECTION_TYPE = 'selection';
class SelectionSystem {
    constructor(ecs) {
        this.name = SELECTION_TYPE;
        this.dependencies = [];
        this.selectedEntities = new Set();
        this.dataByType = new Map();
        this.isTranslating = false;
        this.translateDirty = false;
        this.ecs = ecs;
        this.ecs.events.on('tool_move_begin', () => this.isTranslating = true);
        this.ecs.events.on('tool_move_end', () => {
            this.isTranslating = false;
            if (this.translateDirty) {
                this.translateDirty = false;
                this.update();
            }
        });
        this.ecs.events.on('component_add', this.onComponentAdd, this);
        this.ecs.events.on('component_edited', this.onComponentUpdate, this);
        this.ecs.events.on('component_removed', this.onComponentRemove, this);
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
    }
    logSelectionTypes() {
        console.log("--- SELECTION ---");
        for (let entity of this.selectedEntities) {
            let comps = this.ecs.getAllComponents(entity);
            console.log(entity + ": " + comps.map(x => x.type).join(', '));
        }
    }
    update() {
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.ecs.events.emit('selection_update', this);
    }
    onComponentAdd(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        this.getOrCreateData(component.type).entities.add(component);
        this.update();
    }
    onComponentUpdate(component) {
        if (this.selectedEntities.has(component.entity))
            this.update();
    }
    onComponentRemove(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        let data = this.dataByType.get(component.type);
        data.entities.delete(component);
        if (data.entities.size === 0)
            this.dataByType.delete(component.type);
        this.update();
    }
    onEntityDespawn(entity) {
        if (!this.selectedEntities.has(entity))
            return;
        this.removeEntities([entity]);
    }
    clear(callListeners = true, update = true) {
        if (callListeners) {
            for (let id of this.selectedEntities) {
                this.ecs.events.emit('selection_end', id);
            }
        }
        this.selectedEntities.clear();
        this.dataByType.clear();
        if (update) {
            this.update();
        }
    }
    setOnlyEntity(id) {
        this.clear(true, false);
        this.addEntities([id]);
    }
    setOnlyEntities(ids) {
        let idSet = new Set(ids);
        let removeIds = new Array();
        for (let id of this.selectedEntities) {
            if (!idSet.has(id))
                removeIds.push(id);
        }
        this.removeEntities(removeIds, false);
        this.addEntities(ids, false);
        this.update();
    }
    toggleEntities(ids, update = true) {
        for (let id of ids) {
            if (this.selectedEntities.has(id)) {
                this.removeEntities([id], false);
            }
            else {
                this.addEntities([id], false);
            }
        }
        if (update)
            this.update();
    }
    addEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (this.selectedEntities.has(id))
                continue;
            count++;
            this.selectedEntities.add(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                this.getOrCreateData(c.type).entities.add(c);
            }
            this.ecs.events.emit('selection_begin', id);
        }
        if (update && count !== 0)
            this.update();
    }
    removeEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (!this.selectedEntities.has(id))
                continue;
            count++;
            this.selectedEntities.delete(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                let data = this.dataByType.get(c.type);
                data.entities.delete(c);
                if (data.entities.size === 0)
                    this.dataByType.delete(c.type);
            }
            this.ecs.events.emit('selection_end', id);
        }
        if (update && count !== 0)
            this.update();
    }
    getSelectedByType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return [];
        return data.entities;
    }
    initialComponent(type) {
        let storage = this.ecs.storages.get(type);
        return {
            _canDelete: ELIMINABLE_TYPES.indexOf(type) >= 0,
            _isFullscreen: FULLSCREENABLE_TYPES.indexOf(type) >= 0 ? false : undefined,
            _sync: storage.sync,
            _save: storage.save,
        };
    }
    getSingleComponents() {
        let res = new Array();
        let entity = this.selectedEntities.values().next().value;
        for (let [type, storage] of this.ecs.storages.entries()) {
            if (type.startsWith('host_'))
                continue;
            let comps = storage.getComponents(entity);
            for (let comp of comps) {
                res.push(removePrivate(this.initialComponent(type), comp));
            }
        }
        return res;
    }
    getCommonComponents() {
        if (this.selectedEntities.size === 0)
            return [];
        let selCount = this.selectedEntities.size;
        if (selCount === 1)
            return this.getSingleComponents();
        let commonTypes = new Array();
        for (let type of this.ecs.storages.keys()) {
            if (type === 'host_hidden')
                continue;
            let data = this.dataByType.get(type);
            if (data != undefined && data.entities.size === selCount && MULTI_TYPES.indexOf(type) === -1) {
                commonTypes.push(type);
            }
        }
        let res = new Array();
        for (let type of commonTypes) {
            if (type === 'host_hidden')
                continue;
            let component = undefined;
            for (let entity of this.selectedEntities) {
                let comps = this.ecs.storages.get(type).getComponents(entity);
                for (let comp of comps) {
                    if (component === undefined) {
                        component = removePrivate(this.initialComponent(type), comp); // copy
                    }
                    else {
                        biFilterObj(component, comp);
                    }
                }
            }
            res.push(component);
        }
        return res;
    }
    getCommonEntityOpts() {
        let hostHidden = this.dataByType.get('host_hidden');
        return {
            hidden: hostHidden !== undefined && hostHidden.entities.size === this.selectedEntities.size,
            ids: Array.from(this.selectedEntities),
        };
    }
    getAddableComponents() {
        let res = new Array();
        res.push({
            type: 'name',
            name: 'Name'
        }, {
            type: 'note',
            name: 'Note'
        });
        if (this.hasEveryoneType('pin') && !(this.hasComponentType('light') || this.hasComponentType('player'))) {
            res.push({
                type: 'light',
                name: 'Light'
            }, {
                type: 'player',
                name: 'Player',
            });
        }
        else if (this.hasEveryoneType('wall') && !this.hasComponentType('door')) {
            res.push({
                type: "door",
                name: "Door"
            });
        }
        else if (this.hasEveryoneType('prop') && !this.hasComponentType('prop_teleport')) {
            res.push({
                type: 'prop_teleport',
                name: "Teleporter",
            });
        }
        return res;
    }
    setProperty(type, propertyName, propertyValue, multiId) {
        if (type === '$') {
            // Special management
            switch (propertyName) {
                case 'hidden':
                    for (let entity of this.selectedEntities) {
                        let cmp = this.ecs.getComponent(entity, 'host_hidden');
                        if (cmp !== undefined) {
                            this.ecs.removeComponent(cmp);
                        }
                        else {
                            this.ecs.addComponent(entity, {
                                type: 'host_hidden',
                                entity: -1,
                            });
                        }
                    }
                    break;
                case 'delete':
                    for (let entity of [...this.selectedEntities]) {
                        this.ecs.despawnEntity(entity);
                    }
                    this.clear();
                    break;
                case 'addComponent':
                    let comp;
                    switch (propertyValue) {
                        case 'name':
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
                                name: '',
                                clientVisible: true,
                            };
                            break;
                        case 'note':
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
                                note: '',
                                clientVisible: true,
                            };
                            break;
                        case 'light':
                            comp = {
                                type: 'light',
                                color: 0xFFFFFF,
                                range: 2,
                            };
                            break;
                        case 'player':
                            comp = {
                                type: 'player',
                                nightVision: false,
                                range: 50,
                            };
                            break;
                        case 'door':
                            comp = {
                                type: 'door',
                                doorType: _doorSystem__WEBPACK_IMPORTED_MODULE_1__.DoorType.NORMAL_LEFT,
                                locked: false,
                                open: false,
                                clientVisible: true,
                            };
                            break;
                        case 'prop_teleport':
                            comp = {
                                type: _propSystem__WEBPACK_IMPORTED_MODULE_2__.PROP_TELEPORT_TYPE,
                                entity: -1,
                                targetProp: -1,
                            };
                            break;
                        default: throw 'Cannot add unknown component: ' + propertyValue;
                    }
                    for (let entity of [...this.selectedEntities]) {
                        this.ecs.addComponent(entity, Object.assign({}, comp));
                    }
                    break;
                case 'removeComponent':
                    for (let entity of [...this.selectedEntities]) {
                        let comp = this.ecs.getComponent(entity, propertyValue, multiId);
                        if (comp === undefined)
                            continue;
                        this.ecs.removeComponent(comp);
                    }
                    break;
                default:
                    console.warn("Unknown special event: " + propertyName);
            }
            return;
        }
        else if (type === '@') {
            // Event call (yeah I know this is ugly) TODO please next me clean it up
            this.ecs.events.emit(propertyName, propertyValue, multiId);
            return;
        }
        if (!this.hasEveryoneType(type)) {
            this.logSelectionTypes();
            console.error("Trying to change type of selection when not everyone has that type: " + type);
        }
        let oldEntities = Array.from(this.selectedEntities);
        for (let entity of oldEntities) {
            let changes = {};
            changes[propertyName] = propertyValue;
            this.ecs.editComponent(entity, type, changes, multiId);
        }
        this.update();
    }
    moveAll(diffX, diffY) {
        for (let entity of this.selectedEntities) {
            let pos = this.ecs.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            if (pos === undefined)
                continue;
            this.ecs.editComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE, {
                x: pos.x + diffX,
                y: pos.y + diffY,
            });
        }
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.update();
    }
    getOrCreateData(type) {
        let data = this.dataByType.get(type);
        if (data === undefined) {
            data = {
                entities: new Set(),
            };
            this.dataByType.set(type, data);
        }
        return data;
    }
    hasComponentType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size > 0;
    }
    hasEveryoneType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size === this.selectedEntities.size;
    }
    enable() {
    }
    destroy() {
    }
}
function removePrivate(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        target[name] = filter[name];
    }
    return target;
}
function biFilterObj(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        if (target[name] !== filter[name]) {
            target[name] = undefined;
        }
    }
    for (let name in target) {
        if (name[0] === '_')
            continue;
        if (filter[name] === undefined) {
            target[name] = undefined;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/textSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/textSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_TYPE": () => (/* binding */ TEXT_TYPE),
/* harmony export */   "TextSystem": () => (/* binding */ TextSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");




const TEXT_TYPE = 'text';
class TextSystem {
    constructor() {
        this.name = TEXT_TYPE;
        this.dependencies = [];
        this.textLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.display.Layer();
    }
    enable() {
        this.textLayer.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.TEXT;
        this.textLayer.interactive = false;
        this.textLayer.interactiveChildren = false;
        _index__WEBPACK_IMPORTED_MODULE_3__.app.stage.addChild(this.textLayer);
    }
    destroy() {
        this.textLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/toolSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/toolSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TOOL_TYPE": () => (/* binding */ TOOL_TYPE),
/* harmony export */   "ToolSystem": () => (/* binding */ ToolSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _tools_inspect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/inspect */ "./src/app/ecs/tools/inspect.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");




const TOOL_TYPE = 'tool';
class ToolSystem {
    constructor(world) {
        this.name = TOOL_TYPE;
        this.dependencies = [_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE];
        this.optionalDependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.standardTool = _tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.tools = new Map();
        this.world = world;
        world.addResource({
            type: TOOL_TYPE,
            _save: true,
            _sync: false,
            tool: undefined,
        });
        const events = world.events;
        events.on('resource_edited', this.onResourceEdited, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_UP, this.onPointerUp, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_RIGHT_DOWN, this.onPointerRightDown, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_RIGHT_UP, this.onPointerRightUp, this);
        events.on(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
        this.addTool(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.InspectToolDriver(world));
    }
    addTool(tool) {
        this.tools.set(tool.name, tool);
    }
    onResourceEdited(r, edited) {
        var _a;
        if (r.type === TOOL_TYPE) {
            let ct = r;
            let toolName = ct.tool || this.standardTool;
            let tool = this.tools.get(toolName);
            if (tool === undefined) {
                console.warn("Unregistered tool requested: " + ct.tool);
                tool = this.tools.get(this.standardTool);
            }
            if (tool === this.currentTool) {
                return;
            }
            console.log("Changing tool from " + (((_a = this.currentTool) === null || _a === void 0 ? void 0 : _a.name) || 'none') + " to " + tool.name);
            if (this.currentTool !== undefined && this.currentTool.onEnd !== undefined) {
                this.currentTool.onEnd();
            }
            this.currentTool = tool;
            if (tool.onStart !== undefined)
                tool.onStart();
        }
    }
    onPointerMove(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerMove !== undefined) {
            this.currentTool.onPointerMove(e);
        }
    }
    onPointerDown(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerDown !== undefined) {
            this.currentTool.onPointerDown(e);
        }
    }
    onPointerUp(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerUp !== undefined) {
            this.currentTool.onPointerUp(e);
        }
    }
    onPointerRightDown(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerRightDown !== undefined) {
            this.currentTool.onPointerRightDown(e);
        }
    }
    onPointerRightUp(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerRightUp !== undefined) {
            this.currentTool.onPointerRightUp(e);
        }
    }
    onPointerClick(e) {
        if (this.currentTool !== undefined && this.currentTool.onPointerClick !== undefined) {
            this.currentTool.onPointerClick(e);
        }
    }
    enable() {
        for (let tool of this.tools.values()) {
            if (tool.initialize !== undefined)
                tool.initialize();
        }
        if (this.currentTool === undefined) {
            this.world.editResource(TOOL_TYPE, {
                tool: this.standardTool,
            });
        }
    }
    destroy() {
        for (let tool of this.tools.values()) {
            if (tool.destroy !== undefined)
                tool.destroy();
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/visibilityAwareSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/visibilityAwareSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_AWARE_TYPE": () => (/* binding */ VISIBILITY_AWARE_TYPE),
/* harmony export */   "newVisibilityAwareComponent": () => (/* binding */ newVisibilityAwareComponent),
/* harmony export */   "VisibilityAwareSystem": () => (/* binding */ VisibilityAwareSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/visibilitySystem.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");









const VISIBILITY_AWARE_TYPE = 'visibility_aware';
function newVisibilityAwareComponent(isWall = false) {
    return {
        type: VISIBILITY_AWARE_TYPE,
        entity: -1,
        visibleBy: [],
        isWall,
    };
}
class VisibilityAwareSystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_AWARE_TYPE;
        this.dependencies = [_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_AWARE_TYPE, false, false);
        /**
         * Events:
         * aware_update(component, added, removed)
         *   Called when a VisibilityAware entity is updated
         *   why can't we do this with a normal component_edit event?
         *   It's easier not to build component diffs.
         *   If you want to track old values do it on your own.
         */
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__.default();
        this.world = world;
        this.visibilitySys = this.world.systems.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        this.interactionSys = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        world.addStorage(this.storage);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    visibilityChange(viewer, polygon, range) {
        range *= this.gridSize;
        if (polygon === undefined) {
            // Player visibility null
            let oldCanSee = viewer._canSee;
            viewer._canSee = [];
            for (let x of oldCanSee) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let oldCanSee = viewer._canSee;
        viewer._canSee = [];
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let interStorage = this.world.storages.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let viewerPos = posStorage.getComponent(viewer.entity);
        let viewerPoly = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(polygon);
        let viewerCircle = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(viewerPos, range);
        // Check if old awares can still be seen
        for (let i of oldCanSee) {
            let shape = interStorage.getComponent(i).shape;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerPoly, shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape)) {
                viewer._canSee.push(i);
            }
            else {
                let target = this.storage.getComponent(i);
                // No need to remove target.entity from player._canSee as it's already been removed
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
        }
        let iter = this.interactionSys.query(viewerPoly, c => {
            let target = this.storage.getComponent(c.entity);
            return target !== undefined && target.isWall !== true && oldCanSee.indexOf(c.entity) === -1;
        });
        for (let e of iter) {
            let shape = interStorage.getComponent(e.entity).shape;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape))
                continue;
            let target = this.storage.getComponent(e.entity);
            viewer._canSee.push(e.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    visibleElementMove(aware) {
        var _a;
        if (aware.isWall === true)
            return;
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        let pos = posStorage.getComponent(aware.entity);
        let shape = this.world.getComponent(aware.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let oldVisibleBy = aware.visibleBy;
        aware.visibleBy = [];
        let added = [];
        let removed = [];
        // Search for new players
        for (let p of this.visibilitySys.aabbTree.query(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos))) {
            let entity = p.tag.entity;
            let vis = visStorage.getComponent(entity);
            if (vis === undefined || oldVisibleBy.indexOf(entity) !== -1)
                continue;
            let ppos = posStorage.getComponent(entity);
            let pvis = visStorage.getComponent(entity);
            let range = pvis.range * this.gridSize;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) || !(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)((_a = p.tag) === null || _a === void 0 ? void 0 : _a.polygon)))
                continue;
            vis._canSee.push(aware.entity);
            aware.visibleBy.push(vis.entity);
            added.push(vis.entity);
        }
        // Check for old players
        for (let p of oldVisibleBy) {
            let vis = visStorage.getComponent(p);
            let ppos = posStorage.getComponent(p);
            let pvis = visStorage.getComponent(p);
            let range = pvis.range * this.gridSize;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(pvis.polygon))) {
                aware.visibleBy.push(p);
                continue;
            }
            // No need to remove e._visibleBy as it's already been cleared
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, aware.entity);
            removed.push(vis.entity);
        }
        if (added.length + removed.length > 0) {
            this.events.emit('aware_update', aware, added, removed);
        }
    }
    onViewBlockerEdited(viewer, newWalls, oldWalls) {
        oldWalls = oldWalls || [];
        if (newWalls.length === 0) {
            // Player visibility null
            for (let x of oldWalls) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let commonWalls = [];
        //console.log("WALL UPDATE, old: " + oldWalls + " new: " + newWalls);
        // Check if old awares can still be seen
        for (let i of oldWalls) {
            if (newWalls.indexOf(i) !== -1) {
                //console.log("| =" + i);
                commonWalls.push(i);
                continue;
            }
            let target = this.storage.getComponent(i);
            if (target === undefined) {
                //console.log("| %" + i);
                continue;
            }
            //console.log("| -" + target.entity);
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
            this.events.emit('aware_update', target, [], [viewer.entity]);
        }
        for (let e of newWalls) {
            if (commonWalls.indexOf(e) !== -1)
                continue;
            let target = this.storage.getComponent(e);
            if (target === undefined) {
                //console.log("| ^" + e);
                continue;
            }
            //console.log("| +" + target.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    onComponentAdd(comp) {
        if (comp.type === VISIBILITY_AWARE_TYPE) {
            this.visibleElementMove(comp);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            if ('polygon' in changed) {
                this.visibilityChange(vis, vis.polygon, vis.range);
            }
            if ('_canSeeWalls' in changed) {
                this.onViewBlockerEdited(vis, vis._canSeeWalls, changed.walls);
            }
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let visAware = this.storage.getComponent(comp.entity);
            if (visAware === undefined)
                return;
            this.visibleElementMove(visAware);
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            this.visibilityChange(vis, undefined, 0);
            this.onViewBlockerEdited(vis, [], vis._canSeeWalls);
        }
        else if (comp.type === VISIBILITY_AWARE_TYPE) {
            let va = comp;
            va.visibleBy;
            let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
            for (let p of va.visibleBy) {
                let vis = visStorage.getComponent(p);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, va.entity);
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/visibilitySystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/visibilitySystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_TYPE": () => (/* binding */ VISIBILITY_TYPE),
/* harmony export */   "VISIBILITY_BLOCKER_TYPE": () => (/* binding */ VISIBILITY_BLOCKER_TYPE),
/* harmony export */   "VisibilitySystem": () => (/* binding */ VisibilitySystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");








const VISIBILITY_TYPE = 'visibility';
const VISIBILITY_BLOCKER_TYPE = 'visibility_blocker';
/**
 * Please don't stick a visibility component to an entity with a wall component (or vice-versa),
 * they don't go along together too much, for a lot of reasons.
 *
 * This system queries every entity with a VisibilityComponent and keeps it updated, by that I mean:
 * - Recompute the visibility polygon when the range changes
 * - Recompute the visibility polygon when the walls change
 *
 * Little note on visibility polygon algorithms:
 * General polygons are a mess to deal with, but the visibility polygon is a bit easier than most.
 * Since there are no portals nor mirrors in the game (yet!) each point in the polygon is visible from the center.
 * How can this property help in any way? Let me make an example:
 * We can easily compute if a point is inside of this polygon by doing a binary search on the angles, so the algorithm
 * becomes of complexity O(log(n)) where n are the polygon points.
 * Another property that I'm using is that a visibility polygon is much easier to triangulate!
 * Cut off all those ear cutting algorithms, just make triangles starting from the center!
 */
class VisibilitySystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_TYPE;
        this.dependencies = [_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_TYPE, false, false);
        this.blockerStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_BLOCKER_TYPE, false, false);
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__.DynamicTree();
        this.world = world;
        this.interactionSystem = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS).size;
        world.addStorage(this.storage);
        world.addStorage(this.blockerStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    removeTreePolygon(c) {
        if (c._aabbTreeId !== undefined) {
            this.aabbTree.destroyProxy(c._aabbTreeId);
            c._aabbTreeId = undefined;
        }
    }
    updatePolygon(c) {
        // Ignore if it's hidden.
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        if (pos === undefined)
            return;
        // We will recreate it later (if necessary)
        this.removeTreePolygon(c);
        if (c.range <= 0) {
            this.world.editComponent(c.entity, c.type, {
                polygon: undefined,
                polygonAabb: undefined,
                aabb: undefined,
            });
            return;
        }
        let range = c.range * this.gridSize;
        let viewport = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x - range, pos.y - range, pos.x + range, pos.y + range);
        let lines = new Array();
        let blockerIds = new Array();
        let query = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeAabb)(viewport), c => {
            return this.blockerStorage.getComponent(c.entity) !== undefined;
        });
        for (let entry of query) {
            let s = entry.shape;
            if (s.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.ShapeType.LINE)
                throw 'Only line is supported as light blocker shape';
            lines.push(s.data);
            blockerIds.push(entry.entity);
        }
        let usedBlockers;
        if (c.trackWalls === true) {
            usedBlockers = new Array();
        }
        else {
            usedBlockers = undefined;
        }
        let polygon = (0,_geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__.computeViewport)(lines, viewport, pos, usedBlockers);
        // Recycle the unused viewport object
        viewport.wrapPolygon(polygon);
        if (usedBlockers !== undefined) {
            for (let i = 0; i < usedBlockers.length; i++) {
                usedBlockers[i] = blockerIds[usedBlockers[i]];
            }
        }
        this.world.editComponent(c.entity, c.type, {
            polygon,
            aabb: viewport,
            _canSeeWalls: usedBlockers,
        });
        c._aabbTreeId = this.aabbTree.createProxy(viewport, c);
    }
    recomputeArea(aabb) {
        for (let node of [...this.aabbTree.query(aabb)]) {
            this.updatePolygon(node.tag);
        }
    }
    onComponentAdd(c) {
        if (c.type === VISIBILITY_TYPE) {
            let v = c;
            v._canSee = [];
            this.updatePolygon(v);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
            if (cmp !== undefined) {
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(c.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Component hidden is like component missing, they won't be able to see a thing
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.removeVisibility(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                this.removeVisibilityBlocker(blo);
            }
        }
    }
    onComponentEdited(c, changes) {
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        if (c.type === VISIBILITY_TYPE) {
            if ('range' in changes) {
                this.updatePolygon(c);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blk = this.blockerStorage.getComponent(c.entity);
            if (blk !== undefined) {
                let inter = this.world.getComponent(blk.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(inter.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && 'shape' in changes && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
    }
    onComponentRemoved(c) {
        if (c.type === VISIBILITY_TYPE) {
            this.removeVisibility(c);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            this.removeVisibilityBlocker(c);
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Welcome to the visible!
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                if (cmp !== undefined) {
                    this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
                }
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // Update everything in the next tick so that everyone sees the changes first
            PIXI.Ticker.shared.addOnce(() => {
                for (let c of this.storage.allComponents()) {
                    this.updatePolygon(c);
                }
            });
        }
    }
    removeVisibility(c) {
        this.removeTreePolygon(c);
    }
    removeVisibilityBlocker(c) {
        let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        if (cmp !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/wallSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/wallSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WALL_TYPE": () => (/* binding */ WALL_TYPE),
/* harmony export */   "WallSystem": () => (/* binding */ WallSystem),
/* harmony export */   "CreateWallToolDriver": () => (/* binding */ CreateWallToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/visibilitySystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _toolSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./toolSystem */ "./src/app/ecs/systems/toolSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");

















const WALL_TYPE = 'wall';
const SELECTION_COLOR = 0x7986CB;
class WallSystem {
    constructor(world) {
        this.name = WALL_TYPE;
        this.dependencies = [_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, _toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_15__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_3__.SingleEcsStorage(WALL_TYPE);
        this.isTranslating = false;
        this.world = world;
        // Only masters can create walls
        if (this.world.isMaster) {
            let toolSys = world.systems.get(_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE);
            toolSys.addTool(new CreateWallToolDriver(this));
        }
        this.interactionSys = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_15__.SELECTION_TYPE);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
    }
    onComponentAdd(component) {
        if (component.type !== WALL_TYPE)
            return;
        let wall = component;
        let pos = this.world.getComponent(wall.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        if (pos === undefined) {
            console.warn("Found wall without position, please add first the position, then the wall");
            return;
        }
        wall._dontMerge = 0;
        this.world.addComponent(component.entity, {
            type: _visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE,
            entity: -1
        });
        this.world.addComponent(component.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE,
            entity: -1,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_11__.ElementType.LINE,
                ignore: false,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_11__.VisibilityType.REMEMBER,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL,
                vec: { x: wall.vec[0], y: wall.vec[1] },
            },
            interactive: true,
            isWall: true,
        });
    }
    fixWallPreTranslation(walls) {
        for (let wall of walls) {
            let visBlock = this.world.getComponent(wall.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
            if (visBlock !== undefined)
                this.world.removeComponent(visBlock);
        }
        // what changes here? a little bittle thing:
        // we need to unfix the wall (remove the intersection breaks).
        let wall_index = new Map();
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        let insertInIndex = (index, wall) => {
            let list = wall_index.get(index);
            if (list === undefined) {
                list = [];
                wall_index.set(index, list);
            }
            list.push(wall);
        };
        for (let wall of walls) {
            if (wall._dontMerge !== 0)
                continue;
            let pos = posStorage.getComponent(wall.entity);
            let p1 = pos.x + "@" + pos.y;
            let p2 = (pos.x + wall.vec[0]) + "@" + (pos.y + wall.vec[1]);
            let tryMerge = (index) => {
                let mergeWithIndex = undefined;
                let walls = wall_index.get(index);
                if (walls === undefined)
                    return false;
                let wlen = walls.length;
                for (let i = 0; i < wlen; i++) {
                    let owall = walls[i];
                    if ((0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.lineSameSlope)(wall.vec[0], wall.vec[1], owall.vec[0], owall.vec[1])) {
                        mergeWithIndex = i;
                        break;
                    }
                }
                if (mergeWithIndex === undefined)
                    return false;
                let mwall = walls[mergeWithIndex];
                let mpos = posStorage.getComponent(mwall.entity);
                let minChanged = false;
                let x = pos.x;
                let y = pos.y;
                let dx = wall.vec[0];
                let dy = wall.vec[1];
                if (p2 === index) {
                    x += dx;
                    y += dy;
                    dx = -dx;
                    dy = -dy;
                }
                if (mpos.x === x && mpos.y === y) {
                    mpos.x += dx;
                    mpos.y += dy;
                    minChanged = true;
                }
                else {
                    mwall.vec[0] += wall.vec[0];
                    mwall.vec[1] += wall.vec[1];
                }
                walls.splice(mergeWithIndex, 1);
                let p;
                if (minChanged) {
                    p = mpos.x + "@" + mpos.y;
                }
                else {
                    p = (mpos.x + mwall.vec[0]) + "@" + (mpos.y + mwall.vec[1]);
                }
                insertInIndex(p, mwall);
                this.world.despawnEntity(wall.entity);
                this.redrawWall(mwall);
                return true;
            };
            if (tryMerge(p1) || tryMerge(p2))
                continue;
            insertInIndex(p1, wall);
            insertInIndex(p2, wall);
        }
    }
    fixWallPostTranslation(walls) {
        // Recompute intersections with other walls.
        // Why not all everything directly? we want to compute also the self-intersections
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        for (let wall of walls) {
            let pos = posStorage.getComponent(wall.entity);
            let points = [pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]];
            this.fixIntersections(points, 0);
            this.world.editComponent(pos.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, {
                shape: (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(points[0], points[1], points[2], points[3])),
            });
            if (points.length > 4) {
                pos.x = points[0];
                pos.y = points[1];
                wall.vec[0] = points[2] - pos.x;
                wall.vec[1] = points[3] - pos.y;
            }
            this.redrawWall(wall);
            let plen = points.length;
            let cIds = [];
            for (let i = 4; i < plen; i += 2) {
                cIds.push(this.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]));
            }
            if (cIds.length > 0) {
                this.selectionSys.addEntities(cIds);
                // TODO: optimization, update the selection only once!
            }
        }
        for (let wall of walls) {
            this.world.addComponent(wall.entity, {
                type: "visibility_blocker",
                entity: -1
            });
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type !== WALL_TYPE && comp.type !== _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE)
            return;
        let wall, position;
        if (comp.type === WALL_TYPE) {
            wall = comp;
            position = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        }
        else {
            wall = this.storage.getComponent(comp.entity);
            position = comp;
        }
        if (wall === undefined || position === undefined)
            return;
        if (!this.isTranslating) {
            this.fixWallPreTranslation([wall]);
            this.fixWallPostTranslation([wall]);
        }
        if (comp.type === WALL_TYPE && 'vec' in changed) {
            this.redrawWall(wall);
        }
    }
    redrawWall(wall) {
        let display = this.world.getComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE).display;
        display.vec = { x: wall.vec[0], y: wall.vec[1] };
        this.world.editComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    findLocationOnWall(point, radius) {
        let points = this.interactionSys.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(point.x - radius, point.y - radius, point.x + radius, point.y + radius)), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        let bestPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        let bestDist = Number.POSITIVE_INFINITY;
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        for (let node of points) {
            let line = node.shape.data;
            if (!line.projectPoint(point, tmpPoint)) {
                continue;
            }
            let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_5__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
            if (dist < bestDist && dist < radius) {
                bestPoint.copyFrom(tmpPoint);
                bestDist = dist;
            }
        }
        if (bestDist !== Number.POSITIVE_INFINITY) {
            return bestPoint;
        }
        else {
            return undefined;
        }
    }
    onComponentRemove(component) {
        if (component.type !== WALL_TYPE)
            return;
        let vblocker = this.world.getComponent(component.entity, _visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
        if (vblocker !== undefined) {
            this.world.removeComponent(vblocker);
        }
    }
    onToolMoveBegin() {
        this.isTranslating = true;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPreTranslation(walls);
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPostTranslation(walls);
    }
    queryIntersections(posX, posY, vecX, vecY) {
        let strip = [posX, posY, posX + vecX, posY + vecY];
        let ids = new Array();
        this.fixIntersections(strip, 0, undefined, ids);
        return ids;
    }
    fixIntersections(strip, start, end, wallIds) {
        let aabb = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);
        end = end === undefined ? strip.length : end;
        for (let i = start; i < end; i += 2) {
            aabb.minX = Math.min(aabb.minX, strip[i]);
            aabb.minY = Math.min(aabb.minY, strip[i + 1]);
            aabb.maxX = Math.max(aabb.maxX, strip[i]);
            aabb.maxY = Math.max(aabb.maxY, strip[i + 1]);
        }
        let tmpLine = new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(0, 0, 0, 0);
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        let query = this.interactionSys.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(aabb), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        for (let wall of query) {
            //console.log("Checking wall: ", wall.tag);
            for (let i = start + 2; i < end; i += 2) {
                tmpLine.fromX = strip[i - 2];
                tmpLine.fromY = strip[i - 1];
                tmpLine.toX = strip[i];
                tmpLine.toY = strip[i + 1];
                let line = wall.shape.data;
                let res = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.intersectSegmentVsSegment)(tmpLine, line, tmpPoint);
                // Only continue if the intersection is inside of both lines (not on the edge)
                if (res !== _geometry_collision__WEBPACK_IMPORTED_MODULE_8__.SegmentVsSegmentRes.INTERN)
                    continue;
                // Insert the intersection point in the strip
                //console.log("FIXING AT: " + tmpPoint.x + ", " + tmpPoint.y);
                strip.splice(i, 0, tmpPoint.x, tmpPoint.y);
                i += 2; // Skip this point
                end += 2;
                wallIds === null || wallIds === void 0 ? void 0 : wallIds.push(wall.entity);
            }
        }
        return end;
    }
    createWall(minX, minY, maxX, maxY) {
        return this.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE,
            entity: -1,
            x: minX,
            y: minY,
        }, {
            type: WALL_TYPE,
            vec: [maxX - minX, maxY - minY],
        });
    }
    enable() {
    }
    destroy() {
    }
}
class CreateWallToolDriver {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_16__.Tool.CREATE_WALL;
        // Sprite of the pin to be created
        this.createdIds = [];
        this.sys = sys;
        this.createLastLineDisplay = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Graphics();
        this.pixiBoardSys = sys.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PIXI_BOARD_TYPE);
    }
    initCreation() {
        this.endCreation();
    }
    endCreation() {
        this.createLastLineDisplay.clear();
        this.createdLastPos = undefined;
        if (this.createdIds.length === 0)
            return;
        this.sys.selectionSys.setOnlyEntities(this.createdIds);
        this.createdIds.length = 0;
        this.sys.world.editResource(_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_16__.Tool.INSPECT,
        });
    }
    redrawCreationLastLine(pos) {
        let g = this.createLastLineDisplay;
        g.clear();
        if (this.createdLastPos !== undefined) {
            g.moveTo(this.createdLastPos[0], this.createdLastPos[1]);
            g.lineStyle(5, SELECTION_COLOR);
            g.lineTo(pos.x, pos.y);
        }
        g.lineStyle(0);
        if (this.createdIds.length === 0 && this.createdLastPos !== undefined) {
            g.beginFill(0xe51010);
            g.drawCircle(this.createdLastPos[0], this.createdLastPos[1], 10);
        }
        g.beginFill(0x405FFE);
        g.drawCircle(pos.x, pos.y, 10);
    }
    addVertex(point) {
        let lp = this.createdLastPos;
        if (lp === undefined) {
            this.createdLastPos = [point.x, point.y];
        }
        else if (point.x == lp[0] && point.y == lp[1]) {
            this.endCreation();
        }
        else {
            let points = [lp[0], lp[1], point.x, point.y];
            this.sys.fixIntersections(points, 0);
            let plen = points.length;
            for (let i = 2; i < plen; i += 2) {
                this.createdIds.push(this.sys.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]));
            }
            this.createdLastPos = [point.x, point.y];
        }
    }
    undoVertex(point) {
        if (this.createdLastPos === undefined)
            return;
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let lastCreated = this.createdIds.pop();
            let wallPos = this.sys.world.getComponent(lastCreated, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            let wall = this.sys.storage.getComponent(lastCreated);
            if (wallPos.x === this.createdLastPos[0] && wallPos.y == this.createdLastPos[1]) {
                this.createdLastPos = [
                    wallPos.x + wall.vec[0],
                    wallPos.y + wall.vec[1],
                ];
            }
            else {
                this.createdLastPos = [
                    wallPos.x,
                    wallPos.y,
                ];
            }
            this.sys.world.despawnEntity(lastCreated);
        }
        this.redrawCreationLastLine(point);
    }
    onStart() {
        this.initCreation();
    }
    onPointerMove(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.redrawCreationLastLine(point);
    }
    onPointerClick(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.addVertex(point);
    }
    onPointerRightDown(event) {
        let point = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_14__.getMapPointFromMouseInteraction)(this.sys.world, event);
        this.undoVertex(point);
    }
    onEnd() {
        this.endCreation();
    }
    initialize() {
        this.createLastLineDisplay.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL + 1;
        this.createLastLineDisplay.interactive = false;
        this.createLastLineDisplay.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.createLastLineDisplay);
        this.pixiBoardSys.board.sortChildren();
    }
    destroy() {
        this.createLastLineDisplay.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/inspect.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/inspect.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InspectToolDriver": () => (/* binding */ InspectToolDriver)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolType */ "./src/app/ecs/tools/toolType.ts");




class InspectToolDriver {
    constructor(world) {
        this.name = _toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.justSelected = [];
        this.lastDownEntities = [];
        this.isDown = false;
        this.canMoveSelected = false;
        this.isMoving = false;
        this.movingStart = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.lastMove = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point();
        this.world = world;
        this.selectionSys = world.systems.get(_systems_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE);
    }
    onPointerClick(event) {
        let ctrlPressed = !!event.data.originalEvent.ctrlKey;
        let entities = this.lastDownEntities;
        if (entities.length === 0 && !ctrlPressed) {
            this.selectionSys.clear();
        }
        if (ctrlPressed && entities.length !== 0) {
            let toRemove = [];
            for (let entity of entities) {
                if (this.justSelected.indexOf(entity) !== -1)
                    return;
                toRemove.push(entity);
            }
            this.selectionSys.removeEntities(toRemove);
        }
    }
    onPointerDown(event) {
        this.isDown = true;
        this.justSelected.length = 0;
        let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getBoardPosFromOrigin)(this.world, event);
        let ctrlPressed = !!event.data.originalEvent.ctrlKey;
        let entities = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.findEntitiesAt)(this.world, point, ctrlPressed);
        this.lastDownEntities = entities;
        if (this.lastDownEntities.length !== 0) {
            event.consumed = true;
            if (!ctrlPressed) {
                this.selectionSys.setOnlyEntity(entities[0]);
            }
            else {
                let selected = this.selectionSys.selectedEntities;
                for (let entity of this.lastDownEntities) {
                    if (!selected.has(entity)) {
                        this.justSelected.push(entity);
                    }
                }
                this.selectionSys.addEntities(this.justSelected);
            }
            // TODO: better move system
            this.canMoveSelected = this.world.isMaster;
            if (!this.canMoveSelected)
                return;
            let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, event);
            this.movingStart.copyFrom(point);
            this.lastMove.set(0, 0);
        }
    }
    onPointerUp(event) {
        this.isDown = false;
        if (this.isMoving) {
            this.isMoving = false;
            this.world.events.emit('tool_move_end');
        }
    }
    onPointerMove(event) {
        if (!this.isDown || !this.canMoveSelected || this.lastDownEntities.length === 0 || event.canBecomeClick)
            return;
        if (!this.isMoving) {
            this.isMoving = true;
            this.world.events.emit('tool_move_begin');
        }
        let point = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getMapPointFromMouseInteraction)(this.world, event);
        let diffX = point.x - this.movingStart.x;
        let diffY = point.y - this.movingStart.y;
        let moveX = diffX - this.lastMove.x;
        let moveY = diffY - this.lastMove.y;
        this.lastMove.set(diffX, diffY);
        this.selectionSys.moveAll(moveX, moveY);
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/toolType.ts":
/*!***************************************!*\
  !*** ./src/app/ecs/tools/toolType.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tool": () => (/* binding */ Tool)
/* harmony export */ });
var Tool;
(function (Tool) {
    Tool["INSPECT"] = "inspect";
    Tool["CREATE_WALL"] = "create_wall";
    Tool["CREATE_PIN"] = "create_pin";
    Tool["CREATE_PROP"] = "create_prop";
    Tool["GRID"] = "grid";
    Tool["LIGHT"] = "light";
    Tool["PROP_TELEPORT_LINK"] = "prop_teleport_link";
})(Tool || (Tool = {}));


/***/ }),

/***/ "./src/app/ecs/tools/utils.ts":
/*!************************************!*\
  !*** ./src/app/ecs/tools/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findEntitiesAt": () => (/* binding */ findEntitiesAt),
/* harmony export */   "getBoardPosFromOrigin": () => (/* binding */ getBoardPosFromOrigin),
/* harmony export */   "getMapPointFromMouseInteraction": () => (/* binding */ getMapPointFromMouseInteraction),
/* harmony export */   "createEmptyDriver": () => (/* binding */ createEmptyDriver)
/* harmony export */ });
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _systems_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _systems_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _systems_wallSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");




function findEntitiesAt(world, point, multi) {
    let event = _interaction__WEBPACK_IMPORTED_MODULE_0__.QueryHitEvent.queryPoint(point, multi);
    world.events.emit('query_hit', event);
    return [...event.hits];
}
function getBoardPosFromOrigin(world, event, orig) {
    let board = world.systems.get(_systems_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PIXI_BOARD_TYPE);
    return event.data.getLocalPosition(board.board, orig);
}
function getMapPointFromMouseInteraction(world, event, orig) {
    let point = getBoardPosFromOrigin(world, event, orig);
    const interSys = world.systems.get(_systems_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
    let nearest = interSys.snapDb.findNearest([point.x, point.y]);
    if (nearest !== undefined && nearest[1] < 100) {
        point.set(nearest[0][0], nearest[0][1]);
    }
    else {
        const wallSys = world.systems.get(_systems_wallSystem__WEBPACK_IMPORTED_MODULE_3__.WALL_TYPE);
        let onWallLoc = wallSys === null || wallSys === void 0 ? void 0 : wallSys.findLocationOnWall(point, 50);
        if (onWallLoc !== undefined) {
            point.copyFrom(onWallLoc);
        }
    }
    return point;
}
function createEmptyDriver(name) {
    return new EmptyToolDriver(name);
}
class EmptyToolDriver {
    constructor(name) {
        this.name = name;
    }
}


/***/ }),

/***/ "./src/app/ecs/world.ts":
/*!******************************!*\
  !*** ./src/app/ecs/world.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "World": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _systemGraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./systemGraph */ "./src/app/ecs/systemGraph.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
// Welcome to this talk, I'll present to you: my stupid version of ECS.
// What am I trying to solve?
// Everything in the map will need to hold information, this might be a player holding inventory or maybe a monster
// holding to lifepoints and such.
// What's more? every entity might have multiple names and only some of them might be public
// so we also have something similar to a "multiple component".


class World {
    constructor(isMaster) {
        this.systems = new _systemGraph__WEBPACK_IMPORTED_MODULE_0__.SystemGraph();
        this.storages = new Map();
        this.storageList = new Array();
        this.entities = new Set();
        this.resources = new Map();
        this.systemsFinalized = false;
        this.isDeserializing = false;
        //      Event list:
        // entity_spawn(id)
        // entity_spawned(id) - After an entity is spawned
        // entity_despawn(id)
        // entity_despawned(id) - After an entity is despawned
        // component_add(component)
        // component_edit(changes, component) - Before the component is edited
        // component_edited(component, changes) - After the component is edited
        // component_remove(component)
        // component_removed(component)
        // resource_add(resource)
        // resource_added(resource)
        // resource_edit(oldRes, newRes)
        // resource_remove(resource)
        // resource_removed(resource)
        // clear()
        // cleared()
        // serialize()
        // serialized(res)
        // serialize_entity(entity)
        // deserialize(data)
        // deserialized()
        //      External events:
        // query_hit(event: QueryHitEvent)
        // selection_begin(entities)
        // selection_end(entities)
        // selection_update()
        // tool_move_begin()
        // tool_move_end()
        //      TODO
        // batch_update_begin()
        // batch_update_end()
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__.default();
        this.isMaster = isMaster;
    }
    getStorage(name) {
        let s = this.storages.get(name);
        if (s === undefined) {
            throw "Cannot find storage " + name;
        }
        return s;
    }
    spawnEntity(...components) {
        let id = -1;
        do {
            id = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
        } while (this.entities.has(id));
        this.spawnEntityManual(id, components);
        return id;
    }
    spawnEntityManual(id, components) {
        this.entities.add(id);
        this.events.emit('entity_spawn', id);
        for (let comp of components) {
            this.addComponent(id, comp);
        }
        this.events.emit('entity_spawned', id);
    }
    despawnEntity(entity) {
        this.events.emit('entity_despawn', entity);
        for (let i = this.storageList.length - 1; i >= 0; --i) {
            let storage = this.storageList[i];
            let comps = [...storage.getComponents(entity)];
            if (comps.length === 0)
                continue;
            for (let component of comps) {
                this.events.emit('component_remove', component);
            }
            storage.unregisterAllOf(entity);
            for (let component of comps) {
                this.events.emit('component_removed', component);
            }
        }
        this.entities.delete(entity);
        this.events.emit('entity_despawned', entity);
    }
    addSystem(system) {
        if (this.systemsFinalized)
            throw 'Too late to add a system';
        try {
            this.systems.register(system);
        }
        catch (e) {
            throw new Error("Error while mounting " + system.name + ": " + e);
        }
    }
    hasAllComponents(entity, ...types) {
        for (let t of types) {
            if (this.getComponent(entity, t) === undefined)
                return false;
        }
        return true;
    }
    addComponent(entity, cmp) {
        cmp.entity = entity;
        let storage = this.storages.get(cmp.type);
        if (storage === undefined) {
            throw 'Cannot register component of type ' + cmp.type + ', no storage found';
        }
        storage.register(cmp);
        this.events.emit('component_add', cmp);
    }
    removeComponent(cmp) {
        this.events.emit('component_remove', cmp);
        let storage = this.getStorage(cmp.type);
        storage.unregister(cmp);
        this.events.emit('component_removed', cmp);
    }
    removeComponentType(entity, type) {
        for (let c of this.getStorage(type).getComponents(entity)) {
            this.removeComponent(c);
        }
    }
    addStorage(storage) {
        this.storages.set(storage.type, storage);
        this.storageList.push(storage);
    }
    getComponent(entity, type, multiId) {
        let storage = this.getStorage(type);
        return storage.getFirstComponent(entity, multiId);
    }
    getAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            res.push(...storage.getComponents(entity));
        }
        return res;
    }
    editComponent(entity, type, changes, multiId, clearCh = true) {
        let c = this.getComponent(entity, type, multiId);
        if (c === undefined) {
            throw 'Cannot find component ' + type + ' of entity: ' + entity;
        }
        if (clearCh && !clearChanges(c, changes))
            return; // No real changes
        this.events.emit('component_edit', c, changes);
        let changed = assignSwap(c, changes);
        this.events.emit('component_edited', c, changed);
    }
    editComponentMultiple(entity, changes) {
        if (changes.length === 0)
            return;
        if (changes.length === 1) {
            this.editComponent(entity, changes[0].type, changes[0].changes, changes[0].multiId, changes[0].clearChanges);
            return;
        }
        let chs = changes;
        for (let change of chs) {
            let c = this.getComponent(entity, change.type, change.multiId);
            if (c === undefined) {
                throw 'Cannot find component ' + change.type + ' of entity: ' + entity;
            }
            change._comp = c;
            if (change.clearChanges && !clearChanges(c, changes)) {
                change._skip = true;
            }
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edit', change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            assignSwap(change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edited', change._comp, change.changes);
        }
    }
    addResource(resource, ifPresent = 'fail') {
        if (this.resources.has(resource.type)) {
            switch (ifPresent) {
                case 'ignore': break;
                case 'update':
                    this.editResource(resource.type, resource);
                    break;
                default: throw 'Resource type already present';
            }
            return;
        }
        this.events.emit('resource_add', resource);
        if (this.resources.has(resource.type))
            throw '"resource_add" event has added a resource of the same type!';
        this.resources.set(resource.type, resource);
        this.events.emit('resource_added', resource);
    }
    getResource(type) {
        return this.resources.get(type);
    }
    editResource(type, changes) {
        let res = this.getResource(type);
        if (res === undefined) {
            throw 'Cannot find resource ' + type;
        }
        if (!clearChanges(res, changes))
            return; // No real changes
        this.events.emit('resource_edit', res, changes);
        assignSwap(res, changes); // changes now has old values
        this.events.emit('resource_edited', res, changes);
    }
    removeResource(type, failIfNotPresent = true) {
        let resource = this.resources.get(type);
        if (resource === undefined) {
            if (failIfNotPresent)
                throw 'Resource type not found';
            return;
        }
        this.events.emit('resource_remove', resource);
        this.resources.delete(type);
        this.events.emit('resource_removed', resource);
    }
    enable() {
        for (let system of this.systems) {
            system.enable();
        }
    }
    destroy() {
        for (let i = this.systems.size() - 1; i >= 0; i--) {
            let system = this.systems.getAt(i);
            system.destroy();
        }
    }
    serialize() {
        this.events.emit('serialize', 'save');
        let storages = {};
        for (let storage of this.storages.values()) {
            if (!storage.save)
                continue;
            storages[storage.type] = storage.serialize();
        }
        let resources = {};
        for (let resource of this.resources.values()) {
            if (resource._save === false)
                continue; // undefined is treated as true so that loaded resources get saved again
            let res = {};
            for (let name in resource) {
                if (name[0] === '_' || name === 'type')
                    continue;
                res[name] = resource[name];
            }
            resources[resource.type] = res;
        }
        let res = {
            entities: [...this.entities],
            storages,
            resources,
        };
        this.events.emit('serialized', res);
        return res;
    }
    serializeClient() {
        this.events.emit('serialize', 'client');
        let storages = {};
        let hostHidden = this.getStorage('host_hidden');
        for (let storage of this.storages.values()) {
            if (!storage.save || !storage.sync)
                continue;
            storages[storage.type] = storage.serializeClient((e) => hostHidden.getFirstComponent(e) !== undefined);
        }
        let resources = {};
        for (let resource of this.resources.values()) {
            if (resource._save === false || resource._sync === false)
                continue;
            let res = {};
            for (let name in resource) {
                if (name[0] === '_' || name === 'type')
                    continue;
                res[name] = resource[name];
            }
            resources[resource.type] = res;
        }
        let res = {
            entities: [...this.entities].filter((e) => hostHidden.getFirstComponent(e) === undefined),
            storages,
            resources,
        };
        this.events.emit('serialized', res);
        return res;
    }
    deserialize(data) {
        this.clear();
        this.isDeserializing = true;
        this.events.emit('deserialize', data);
        for (let type in data.resources) {
            let res = data.resources[type];
            res.type = type;
            this.addResource(res, 'update');
        }
        for (let entity of data.entities) {
            this.entities.add(entity);
            this.events.emit('entity_spawn', entity);
        }
        for (let type in data.storages) {
            let storage = this.storages.get(type);
            if (storage === undefined) {
                console.error("Cannot deserialize storage type: " + type + ", ignoring");
                continue;
            }
            storage.deserialize(this, data.storages[type]);
        }
        for (let entity of data.entities) {
            this.events.emit('entity_spawned', entity);
        }
        this.isDeserializing = false;
        this.events.emit('deserialized');
    }
    clear() {
        this.events.emit('clear');
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        // Round 2 (if some entity gets spawned on despawn)
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        if (this.entities.size !== 0)
            throw 'Entities spawned while clearing!';
        this.events.emit('cleared');
    }
    /**
     * TODO: use Vue 3
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}
function assignSwap(obj, changes) {
    for (let name in changes) {
        let tmp = changes[name];
        changes[name] = obj[name];
        obj[name] = tmp;
    }
    return changes;
}
function clearChanges(from, changes) {
    let changec = 0;
    for (let change in changes) {
        if (from[change] === changes[change]) {
            delete changes[change];
        }
        else {
            changec++;
        }
    }
    return changec !== 0;
}


/***/ }),

/***/ "./src/app/game/grid.ts":
/*!******************************!*\
  !*** ./src/app/game/grid.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridType": () => (/* binding */ GridType),
/* harmony export */   "STANDARD_GRID_OPTIONS": () => (/* binding */ STANDARD_GRID_OPTIONS)
/* harmony export */ });
var GridType;
(function (GridType) {
    GridType[GridType["SQUARE"] = 0] = "SQUARE";
    GridType[GridType["HEXAGON"] = 1] = "HEXAGON";
})(GridType || (GridType = {}));
const STANDARD_GRID_OPTIONS = {
    visible: true,
    gridType: GridType.SQUARE,
    color: 0,
    thick: 10,
    opacity: 0.75,
    size: 128,
    offX: 0,
    offY: 0,
};


/***/ }),

/***/ "./src/app/game/pointDB.ts":
/*!*********************************!*\
  !*** ./src/app/game/pointDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointDB": () => (/* binding */ PointDB)
/* harmony export */ });
/* harmony import */ var _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/k2dTree */ "./src/app/util/k2dTree.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");


class PointDB {
    constructor(grid) {
        // In js we cannot create a Map with a custom object as key -_-
        this.counter = new Map();
        this.tree = new _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__.K2dTree();
        this.count = 0;
        this.grid = grid;
    }
    insert(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = this.counter.get(ptrStr) || 0;
        this.counter.set(ptrStr, p + 1);
        if (p == 0) {
            this.tree.insert(point);
        }
        this.count++;
    }
    remove(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = (this.counter.get(ptrStr) || 0) - 1;
        if (p == 0) {
            this.counter.delete(ptrStr);
            if (!this.tree.remove(point)) {
                console.error('Failed to remove node: ' + point);
            }
        }
        else if (p > 0) {
            this.counter.set(ptrStr, p);
        }
        else {
            return false;
        }
        this.count--;
        return true;
    }
    findNearest(point) {
        let treeNearest = this.tree.nearestPoint(point);
        let gridNearest = undefined;
        if (this.grid !== undefined) {
            gridNearest = this.grid.closestPoint(point);
        }
        if (gridNearest !== undefined) {
            let gridDist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(point[0], point[1], gridNearest[0], gridNearest[1]);
            if (treeNearest === undefined || gridDist < treeNearest[1]) {
                return [gridNearest, gridDist];
            }
        }
        return treeNearest;
    }
}


/***/ }),

/***/ "./src/app/game/pointLightRenderer.ts":
/*!********************************************!*\
  !*** ./src/app/game/pointLightRenderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setup": () => (/* binding */ setup),
/* harmony export */   "createMesh": () => (/* binding */ createMesh),
/* harmony export */   "updateMeshPolygons": () => (/* binding */ updateMeshPolygons),
/* harmony export */   "updateMeshUniforms": () => (/* binding */ updateMeshUniforms)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.utils.hex2rgb;
// Other methods: https://github.com/mattdesl/lwjgl-basics/wiki/2D-Pixel-Perfect-Shadows
const LIGHT_VERTEX_SHADER = `
    precision mediump float;
    attribute vec2 aVertexPosition;
    
    varying vec2 vecPos;

    uniform mat3 translationMatrix;
    uniform mat3 projectionMatrix;

    void main() {
        vecPos = aVertexPosition;
        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    }
`;
const LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - clamp(distSq / radSquared, 0., 1.);
        gl_FragColor = vec4(color, 1) * (intensity * intensity);// Pre multiplied alpha
    }
`;
const CONST_LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = float(distSq <= radSquared);
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
const PLAYER_VIS_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - smoothstep(0.9, 1.0, clamp(distSq / radSquared, 0., 1.));
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
let lightProgram = undefined;
let constLightProgram = undefined;
let playerVisProgram = undefined;
function setup() {
    if (lightProgram === undefined) {
        lightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, LIGHT_FRAGMENT_SHADER);
        constLightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, CONST_LIGHT_FRAGMENT_SHADER);
        playerVisProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Program.from(LIGHT_VERTEX_SHADER, PLAYER_VIS_FRAGMENT_SHADER);
    }
}
function createMesh(lightType = 'normal') {
    let geometry = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Geometry();
    let buff = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Buffer(new Float32Array(1));
    geometry.addAttribute('aVertexPosition', buff, 2, false, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.TYPES.FLOAT);
    let program;
    switch (lightType) {
        case 'normal':
            program = lightProgram;
            break;
        case 'const':
            program = constLightProgram;
            break;
        case 'player':
            program = playerVisProgram;
            break;
    }
    // We'll change them all, in due time
    let shaders = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Shader(program, {
        'center': new Float32Array([0.5, 0.5]),
        'radSquared': 10,
        'color': new Float32Array([0, 0, 0]),
    });
    let mesh = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Mesh(geometry, shaders, undefined, _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.DRAW_MODES.TRIANGLE_FAN);
    mesh.interactive = false;
    mesh.interactiveChildren = false;
    return mesh;
}
function updateMeshPolygons(mesh, pos, poly) {
    let buffer = mesh.geometry.getBuffer('aVertexPosition');
    let fBuffer = new Float32Array(poly.length + 4);
    fBuffer[0] = pos.x;
    fBuffer[1] = pos.y;
    fBuffer.set(poly, 2);
    fBuffer[poly.length + 2] = poly[0];
    fBuffer[poly.length + 3] = poly[1];
    buffer.update(fBuffer);
}
function updateMeshUniforms(mesh, center, rangeSquared, color) {
    let uni = mesh.shader.uniforms;
    let c = uni.center;
    c[0] = center.x;
    c[1] = center.y;
    uni.radSquared = rangeSquared;
    hex2rgb(color, uni.color);
}


/***/ }),

/***/ "./src/app/geometry/aabb.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/aabb.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Aabb": () => (/* binding */ Aabb)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

class Aabb {
    constructor(x1, y1, x2, y2) {
        if (x1 > x2)
            [x1, x2] = [x2, x1];
        if (y1 > y2)
            [y1, y2] = [y2, y1];
        this.minX = x1;
        this.minY = y1;
        this.maxX = x2;
        this.maxY = y2;
    }
    isValid() {
        return this.minX < this.maxX && this.minY < this.maxY;
    }
    getCenter() {
        return new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Point((this.minX + this.maxX) / 2, (this.minY + this.maxY) / 2);
    }
    getPerimeter() {
        return (this.maxX - this.minX + this.maxY - this.minY) * 2;
    }
    translate(x, y, target) {
        target.minX = this.minX + x;
        target.minY = this.minY + y;
        target.maxX = this.maxX + x;
        target.maxY = this.maxY + y;
    }
    combine(other, target) {
        target.minX = Math.min(this.minX, other.minX);
        target.minY = Math.min(this.minY, other.minY);
        target.maxX = Math.max(this.maxX, other.maxX);
        target.maxY = Math.max(this.maxY, other.maxY);
    }
    intersect(other, target) {
        target.minX = Math.max(this.minX, other.minX);
        target.minY = Math.max(this.minY, other.minY);
        target.maxX = Math.min(this.maxX, other.maxX);
        target.maxY = Math.min(this.maxY, other.maxY);
    }
    extend(amount, target) {
        target.minX = this.minX - amount;
        target.minY = this.minY - amount;
        target.maxX = this.maxX - amount;
        target.maxY = this.maxY - amount;
    }
    scale(dx, dy, target) {
        let cx = (this.minX + this.maxX) / 2;
        let cy = (this.minY + this.maxY) / 2;
        let hw = (this.maxX - this.minX) / 2;
        let hh = (this.maxY - this.minY) / 2;
        target.minX = cx - hw * dx;
        target.minY = cy - hh * dy;
        target.maxX = cx + hw * dx;
        target.maxY = cy + hh * dy;
    }
    copyFrom(other) {
        this.minX = other.minX;
        this.minY = other.minY;
        this.maxX = other.maxX;
        this.maxY = other.maxY;
    }
    reset() {
        this.minX = 0;
        this.minY = 0;
        this.maxX = 0;
        this.maxY = 0;
    }
    wrapPolygon(polygon) {
        this.minX = Number.POSITIVE_INFINITY;
        this.minY = Number.POSITIVE_INFINITY;
        this.maxX = Number.NEGATIVE_INFINITY;
        this.maxY = Number.NEGATIVE_INFINITY;
        let len = polygon.length;
        for (let i = 0; i < len; i += 2) {
            this.minX = Math.min(this.minX, polygon[i]);
            this.minY = Math.min(this.minY, polygon[i + 1]);
            this.maxX = Math.max(this.maxX, polygon[i]);
            this.maxY = Math.max(this.maxY, polygon[i + 1]);
        }
    }
    copy() {
        let other = Aabb.zero();
        other.copyFrom(this);
        return other;
    }
    toString() {
        return "AABB(" + this.minX.toFixed(2) + ", " + this.minY.toFixed(2) + ", " + this.maxX.toFixed(2) + ", " + this.maxY.toFixed(2) + ")";
    }
    static zero() {
        return new Aabb(0, 0, 0, 0);
    }
    static fromBounds(b) {
        return new Aabb(b.left, b.top, b.right, b.bottom);
    }
    static fromPoint(p) {
        return new Aabb(p.x, p.y, p.x, p.y);
    }
    static fromPointAnchor(pos, size, anchor) {
        return new Aabb(pos.x - size.x * anchor.x, pos.y - size.y * anchor.y, pos.x + size.x * (1 - anchor.x), pos.y + size.y * (1 - anchor.y));
    }
}


/***/ }),

/***/ "./src/app/geometry/collision.ts":
/*!***************************************!*\
  !*** ./src/app/geometry/collision.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "overlapAabbVsAabb": () => (/* binding */ overlapAabbVsAabb),
/* harmony export */   "containsAabbVsAabb": () => (/* binding */ containsAabbVsAabb),
/* harmony export */   "overlapAabbVsPoint": () => (/* binding */ overlapAabbVsPoint),
/* harmony export */   "overlapAabbVsLine": () => (/* binding */ overlapAabbVsLine),
/* harmony export */   "overlapPointVsCircle": () => (/* binding */ overlapPointVsCircle),
/* harmony export */   "overlapCircleVsAabb": () => (/* binding */ overlapCircleVsAabb),
/* harmony export */   "overlapCircleVsCircle": () => (/* binding */ overlapCircleVsCircle),
/* harmony export */   "overlapCircleVsPolygon": () => (/* binding */ overlapCircleVsPolygon),
/* harmony export */   "overlapObbVsPolygon": () => (/* binding */ overlapObbVsPolygon),
/* harmony export */   "overlapLineVsPolygon": () => (/* binding */ overlapLineVsPolygon),
/* harmony export */   "rotatePointByOrig": () => (/* binding */ rotatePointByOrig),
/* harmony export */   "overlapRotatedRectVsPoint": () => (/* binding */ overlapRotatedRectVsPoint),
/* harmony export */   "overlapRotatedRectVsCircle": () => (/* binding */ overlapRotatedRectVsCircle),
/* harmony export */   "overlapRotatedRectVsLine": () => (/* binding */ overlapRotatedRectVsLine),
/* harmony export */   "computeObbPoints": () => (/* binding */ computeObbPoints),
/* harmony export */   "overlapRotatedRectVsAabb": () => (/* binding */ overlapRotatedRectVsAabb),
/* harmony export */   "overlapRotatedRectVsRotatedRect": () => (/* binding */ overlapRotatedRectVsRotatedRect),
/* harmony export */   "overlapLineVsCircle": () => (/* binding */ overlapLineVsCircle),
/* harmony export */   "SegmentVsSegmentRes": () => (/* binding */ SegmentVsSegmentRes),
/* harmony export */   "intersectSegmentVsSegment": () => (/* binding */ intersectSegmentVsSegment),
/* harmony export */   "triangleContainsPoint": () => (/* binding */ triangleContainsPoint),
/* harmony export */   "lineSameSlope": () => (/* binding */ lineSameSlope)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _obb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./obb */ "./src/app/geometry/obb.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





function overlapAabbVsAabb(a, b) {
    return a.minX <= b.maxX && a.maxX >= b.minX &&
        a.minY <= b.maxY && a.maxY >= b.minY;
}
function containsAabbVsAabb(a, b) {
    return a.minX <= b.minX && a.maxX >= b.maxX &&
        a.minY <= b.minY && a.maxY >= b.maxY;
}
function overlapAabbVsPoint(a, b) {
    return a.minX <= b.x && a.minY <= b.y &&
        a.maxX >= b.x && a.maxY >= b.y;
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function overlapAabbVsLine(a, b) {
    let fc = computeOutCode(a, b.fromX, b.fromY);
    let tc = computeOutCode(a, b.toX, b.toY);
    // Fast paths:
    // One of the points is inside
    if (fc === INSIDE || tc === INSIDE)
        return true;
    // bitwise AND is not 0: both points share an outside zone (LEFT, RIGHT, TOP,
    // or BOTTOM), so both must be outside window
    if ((fc & tc) !== 0)
        return false;
    // Both points are in directly opposite sites (left/right or top/bottom)
    if ((fc | tc) === (LEFT | RIGHT))
        return true;
    if ((fc | tc) === (TOP | BOTTOM))
        return true;
    return intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.minY, a.minX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.maxY, a.maxX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.maxY, a.maxX, a.minY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.minY, a.minX, a.minY), b) === SegmentVsSegmentRes.INTERN;
}
function overlapPointVsCircle(point, center, radius) {
    return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(point.x, point.y, center.x, center.y) < radius * radius;
}
function overlapCircleVsAabb(center, radius, aabb) {
    let distX = Math.abs(center.x - (aabb.minX + aabb.maxX) / 2);
    let distY = Math.abs(center.y - (aabb.minY + aabb.maxY) / 2);
    let halfW = (aabb.maxX - aabb.minX) / 2;
    let halfH = (aabb.maxY - aabb.minY) / 2;
    if (distX > halfW + radius)
        return false;
    if (distY > halfH + radius)
        return false;
    if (distX < halfW || distY < halfH)
        return true;
    let dx = distX - halfW;
    let dy = distY - halfH;
    return dx * dx + dy * dy <= radius * radius;
}
function overlapCircleVsCircle(ac, ar, bc, br) {
    let dx = ac.x - bc.x;
    let dy = ac.y - bc.y;
    let r = ar + br;
    return dx * dx + dy * dy < r * r;
}
function overlapCircleVsPolygon(ac, ar, poly) {
    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(ac, poly))
        return true;
    let tmpLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(0, 0, 0, 0);
    let tmpPoint = new PIXI.Point();
    let r2 = ar * ar;
    for (let i = 2; i < poly.length; i += 2) {
        tmpLine.fromX = poly[i - 2];
        tmpLine.fromY = poly[i - 1];
        tmpLine.toX = poly[i];
        tmpLine.toY = poly[i + 1];
        tmpLine.projectPoint(ac, tmpPoint, true);
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, ac.x, ac.y) <= r2) {
            return true;
        }
    }
    return false;
}
function overlapObbVsPolygon(obb, poly) {
    let polyAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    polyAabb.wrapPolygon(poly);
    // Fast path
    if (!overlapRotatedRectVsAabb(obb, polyAabb))
        return false;
    for (let i = 0; i < 8; i += 2) {
        let p = {
            x: obb.rotVertex[i],
            y: obb.rotVertex[i + 1],
        };
        // If a point of the OBB is inside the polygon then we're done
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(p, poly))
            return true;
    }
    for (let i = 0; i < poly.length; i += 2) {
        let p = {
            x: poly[i],
            y: poly[i + 1],
        };
        // If a point of the polygon is inside the OBB then we're done
        if (overlapRotatedRectVsPoint(obb, p))
            return true;
    }
    let obbLines = [
        [0, 2],
        [2, 4],
        [4, 6],
        [6, 0]
    ];
    // Check line intersections
    for (let line of obbLines) {
        let obbLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(obb.rotVertex[line[0]], obb.rotVertex[line[0] + 1], obb.rotVertex[line[1]], obb.rotVertex[line[1] + 1]);
        if (overlapLineVsPolygon(obbLine, poly))
            return true;
    }
    return false;
}
function overlapLineVsPolygon(line, poly) {
    let totLines = poly.length - 2;
    for (let i = 0; i < totLines; i += 2) {
        let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[i], poly[i + 1], poly[i + 2], poly[i + 3]);
        if (intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN)
            return true;
    }
    let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[0], poly[1], poly[poly.length - 2], poly[poly.length - 1]);
    return intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN;
}
function rotatePointByOrig(o, rot, p) {
    let s = Math.sin(-rot);
    let c = Math.cos(-rot);
    let transX = p.x - o.x;
    let transY = p.y - o.y;
    return new PIXI.Point((transX * c - transY * s) + o.x, (transX * s + transY * c) + o.y);
}
function overlapRotatedRectVsPoint(obb, p) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, p);
    return overlapAabbVsPoint(obb.unrotated, rotatedPoint);
}
function overlapRotatedRectVsCircle(obb, pos, rad) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, pos);
    return overlapCircleVsAabb(rotatedPoint, rad, obb.unrotated);
}
function overlapRotatedRectVsLine(obb, line) {
    let center = obb.unrotated.getCenter();
    let rotFrom = rotatePointByOrig(center, obb.rotation, { x: line.fromX, y: line.fromY });
    let rotTo = rotatePointByOrig(center, obb.rotation, { x: line.toX, y: line.toY });
    return overlapAabbVsLine(obb.unrotated, new _line__WEBPACK_IMPORTED_MODULE_1__.Line(rotFrom.x, rotFrom.y, rotTo.x, rotTo.y));
}
function computeObbPoints(aabb, rot, origin) {
    let res = new Array(8);
    let o = origin || {
        x: (aabb.minX + aabb.maxX) / 2,
        y: (aabb.minY + aabb.maxY) / 2,
    };
    for (let i = 0; i < 4; i++) {
        let minX = (i & 1);
        let minY = (i & 2) >>> 1;
        let p = rotatePointByOrig(o, rot, {
            x: minX ? aabb.minX : aabb.maxX,
            y: minY ? aabb.minY : aabb.maxY,
        });
        res[i * 2] = p.x;
        res[i * 2 + 1] = p.y;
    }
    return res;
}
function overlapRotatedRectVsAabb(obb, aabb) {
    // Separating Axis Theorem
    let otherAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    otherAabb.wrapPolygon(obb.rotVertex);
    if (overlapAabbVsAabb(aabb, otherAabb))
        return true;
    // Apply the inverse transform of the obb to the aabb
    let originalInv = computeObbPoints(aabb, obb.rotation, obb.unrotated.getCenter());
    otherAabb.reset();
    otherAabb.wrapPolygon(originalInv);
    return overlapAabbVsAabb(obb.unrotated, otherAabb);
}
function overlapRotatedRectVsRotatedRect(obb1, obb2) {
    let center = obb2.unrotated.getCenter();
    let res = obb2.unrotated.copy();
    res.translate(-center.x, -center.y, res);
    let obb3 = _obb__WEBPACK_IMPORTED_MODULE_4__.Obb.rotateAabb(res, obb2.rotation - obb1.rotation);
    return overlapRotatedRectVsAabb(obb3, obb1.unrotated);
}
function overlapLineVsCircle(line, point, radius) {
    let tmpPoint = new PIXI.Point();
    if (!line.projectPoint(point, tmpPoint, true)) {
        return false;
    }
    let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
    return dist < radius * radius;
}
var SegmentVsSegmentRes;
(function (SegmentVsSegmentRes) {
    SegmentVsSegmentRes[SegmentVsSegmentRes["NONE"] = 0] = "NONE";
    SegmentVsSegmentRes[SegmentVsSegmentRes["INTERN"] = 1] = "INTERN";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_A"] = 2] = "EDGE_A";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_B"] = 4] = "EDGE_B";
})(SegmentVsSegmentRes || (SegmentVsSegmentRes = {}));
function intersectSegmentVsSegment(a, b, target) {
    let den = (b.toY - b.fromY) * (a.toX - a.fromX) -
        (b.toX - b.fromX) * (a.toY - a.fromY);
    if (den === 0)
        return SegmentVsSegmentRes.NONE; // Parallel (or coincident)
    const s = ((b.toX - b.fromX) * (a.fromY - b.fromY) -
        (b.toY - b.fromY) * (a.fromX - b.fromX)) / den;
    if (s < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    const u = ((a.toX - a.fromX) * (a.fromY - b.fromY) -
        (a.toY - a.fromY) * (a.fromX - b.fromX)) / den;
    if (u < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    if (target !== undefined) {
        target.set(a.fromX + s * (a.toX - a.fromX), a.fromY + s * (a.toY - a.fromY));
    }
    let edge = 0;
    if (s < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_A;
    if (u < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_B;
    return edge === 0 ? SegmentVsSegmentRes.INTERN : edge;
}
function triangleContainsPoint(p, p0, p1, p2) {
    let A = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);
    let sign = A < 0 ? -1 : 1;
    let s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;
    let t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;
    return s - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && t - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && (s + t) < 2 * A * sign - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}
function lineSameSlope(ax, ay, bx, by) {
    // We need to remove divisions, (this is not real code)
    // ay / ax == by / bx  ==> ay * bx == by * ax
    return Math.abs(ay * bx - by * ax) < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}


/***/ }),

/***/ "./src/app/geometry/dynamicTree.ts":
/*!*****************************************!*\
  !*** ./src/app/geometry/dynamicTree.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DynamicTree": () => (/* binding */ DynamicTree)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
// A version highly inspired by plank.js (https://github.com/shakiba/planck.js/blob/f5777884f537db97608d8016bda960d251d42d4d/lib/collision/DynamicTree.js)


class TreeNode {
    constructor(id) {
        this.aabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
        this.height = -1;
        this.id = id;
    }
    toString() {
        return this.id + ": " + this.tag;
    }
    isLeaf() {
        return this.left === undefined;
    }
}
class DynamicTree {
    constructor(aabbExtension = 0.1, aabbMultiplier = 2) {
        this.nodes = new Map();
        this.lastProxyId = 0;
        this.aabbExtension = aabbExtension;
        this.aabbMultiplier = aabbMultiplier;
    }
    getTag(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.tag;
    }
    setTag(id, tag) {
        this.nodes.get(id).tag = tag;
    }
    getFatAabb(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.aabb;
    }
    allocateNode() {
        let node = new TreeNode(++this.lastProxyId);
        this.nodes.set(node.id, node);
        return node;
    }
    freeNode(node) {
        this.nodes.delete(node.id);
    }
    createProxy(aabb, tag) {
        let node = this.allocateNode();
        node.aabb.copyFrom(aabb);
        // Fatten the aabb
        node.aabb.extend(this.aabbExtension, node.aabb);
        node.tag = tag;
        node.height = 0;
        this.insertLeaf(node);
        return node.id;
    }
    destroyProxy(id) {
        let node = this.nodes.get(id);
        this.removeLeaf(node);
        this.freeNode(node);
    }
    moveProxy(id, aabb, d) {
        let node = this.nodes.get(id);
        if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.containsAabbVsAabb)(node.aabb, aabb)) {
            return false;
        }
        this.removeLeaf(node);
        node.aabb.copyFrom(aabb);
        // Fatten
        node.aabb.extend(this.aabbExtension, node.aabb);
        // Predict motion
        if (this.aabbMultiplier !== 1) {
            if (d.x < 0)
                aabb.minX += d.x * this.aabbMultiplier;
            else
                aabb.maxX += d.x * this.aabbMultiplier;
            if (d.y < 0)
                aabb.minY += d.y * this.aabbMultiplier;
            else
                aabb.maxY += d.y * this.aabbMultiplier;
        }
        this.insertLeaf(node);
        return true;
    }
    insertLeaf(leaf) {
        if (this.root === undefined) {
            this.root = leaf;
            this.root.parent = undefined;
            return;
        }
        let leafAabb = leaf.aabb;
        let index = this.root;
        while (!index.isLeaf()) {
            let left = index.left;
            let right = index.right;
            let per = index.aabb.getPerimeter();
            let combinedAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
            index.aabb.combine(leafAabb, combinedAabb);
            let combinedPer = combinedAabb.getPerimeter();
            let cost = combinedPer * 2;
            let inheritanceCost = (combinedPer - per) * 2;
            let costLeft;
            if (left.isLeaf()) {
                left.aabb.combine(leafAabb, combinedAabb);
                costLeft = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                left.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = left.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costLeft = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            let costRight;
            if (right.isLeaf()) {
                right.aabb.combine(leafAabb, combinedAabb);
                costRight = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                right.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = right.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costRight = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            if (cost < costLeft && cost < costRight) {
                break;
            }
            if (costLeft < costRight)
                index = left;
            else
                index = right;
        }
        let sibling = index;
        let oldParent = sibling.parent;
        let newParent = this.allocateNode();
        newParent.parent = oldParent;
        sibling.aabb.combine(leafAabb, newParent.aabb);
        newParent.height = sibling.height + 1;
        if (oldParent !== undefined) {
            // The sibling was not the root
            if (oldParent.left === sibling)
                oldParent.left = newParent;
            else
                oldParent.right = newParent;
        }
        else {
            // the sibling was the root
            this.root = newParent;
        }
        newParent.left = sibling;
        newParent.right = leaf;
        sibling.parent = newParent;
        leaf.parent = newParent;
        // Walk back up fixing heights and AABBs
        index = leaf.parent;
        while (index !== undefined) {
            index = this.balance(index);
            index.height = 1 + Math.max(index.left.height, index.right.height);
            index.left.aabb.combine(index.right.aabb, index.aabb);
            index = index.parent;
        }
    }
    removeLeaf(leaf) {
        if (leaf === this.root) {
            this.root = undefined;
            return;
        }
        let parent = leaf.parent;
        let grandParent = parent.parent;
        let sibling;
        if (parent.left === leaf)
            sibling = parent.right;
        else
            sibling = parent.left;
        if (grandParent !== undefined) {
            // Destroy parent and connect sibling to grandParent
            if (grandParent.left === parent)
                grandParent.left = sibling;
            else
                grandParent.right = sibling;
            sibling.parent = grandParent;
            this.freeNode(parent);
            // Adjust ancestor bounds
            let index = grandParent;
            while (index !== undefined) {
                index = this.balance(index);
                index.left.aabb.combine(index.right.aabb, index.aabb);
                index.height = 1 + Math.max(index.left.height, index.right.height);
                index = index.parent;
            }
        }
        else {
            this.root = sibling;
            sibling.parent = undefined;
            this.freeNode(parent);
        }
    }
    /**
     * Perform a rotation if current node is imbalanced, returns the new sub-tree root.
     * @param current
     * @private
     */
    balance(current) {
        let a = current;
        if (a.isLeaf() || a.height < 2)
            return a;
        let b = a.left;
        let c = a.right;
        let balance = c.height - b.height;
        // Rotate C up
        if (balance > 1) {
            let f = c.left;
            let g = c.right;
            // Swap a and c
            c.left = a;
            c.parent = a.parent;
            a.parent = c;
            // a parent should point to c
            if (c.parent !== undefined) {
                if (c.parent.left === a)
                    c.parent.left = c;
                else
                    c.parent.right = c;
            }
            else {
                this.root = c;
            }
            // Rotate
            if (f.height > g.height) {
                c.right = f;
                a.right = g;
                g.parent = a;
                b.aabb.combine(g.aabb, a.aabb);
                a.aabb.combine(f.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, g.height);
                c.height = 1 + Math.max(a.height, f.height);
            }
            else {
                c.right = g;
                a.right = f;
                f.parent = a;
                b.aabb.combine(f.aabb, a.aabb);
                a.aabb.combine(g.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, f.height);
                c.height = 1 + Math.max(a.height, g.height);
            }
            return c;
        }
        if (balance < -1) {
            let d = b.left;
            let e = b.right;
            // Swap a and b
            b.left = a;
            b.parent = a.parent;
            a.parent = b;
            // a parent should point to b
            if (b.parent !== undefined) {
                if (b.parent.left === a)
                    b.parent.left = b;
                else
                    b.parent.right = b;
            }
            else {
                this.root = b;
            }
            // Rotate
            if (d.height > e.height) {
                b.right = d;
                a.left = e;
                e.parent = a;
                c.aabb.combine(e.aabb, a.aabb);
                a.aabb.combine(d.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, e.height);
                b.height = 1 + Math.max(a.height, d.height);
            }
            else {
                b.right = e;
                a.left = d;
                d.parent = a;
                c.aabb.combine(d.aabb, a.aabb);
                a.aabb.combine(e.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, d.height);
                b.height = 1 + Math.max(a.height, e.height);
            }
            return b;
        }
        return a;
    }
    *query(aabb) {
        let stack = new Array();
        if (this.root === undefined)
            return;
        //console.log("Starting query: " + aabb.toString());
        stack.push(this.root);
        while (stack.length > 0) {
            let node = stack.pop();
            let overlap = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.overlapAabbVsAabb)(node.aabb, aabb);
            //console.log("Visit: " + node.id + " = " + overlap);
            if (!overlap)
                continue;
            if (node.isLeaf()) {
                yield node;
            }
            else {
                stack.push(node.left);
                stack.push(node.right);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/geometry/line.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/line.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Line": () => (/* binding */ Line)
/* harmony export */ });
class Line {
    constructor(fx, fy, tx, ty) {
        this.fromX = fx;
        this.fromY = fy;
        this.toX = tx;
        this.toY = ty;
    }
    distance() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    distanceSquared() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return dx * dx + dy * dy;
    }
    projectPoint(p, target, ignoreValid = false) {
        if (this.fromX === this.toX && this.fromY === this.toY)
            return false;
        let u = ((p.x - this.fromX) * (this.toX - this.fromX)) +
            ((p.y - this.fromY) * (this.toY - this.fromY));
        let udenom = this.distanceSquared();
        u /= udenom;
        let rx = this.fromX + u * (this.toX - this.fromX);
        let ry = this.fromY + u * (this.toY - this.fromY);
        if (ignoreValid) {
            target.set(rx, ry);
            return true;
        }
        let minx = this.fromX, maxx = this.toX;
        let miny = this.fromY, maxy = this.toY;
        if (minx > maxx)
            [minx, maxx] = [maxx, minx];
        if (miny > maxy)
            [miny, maxy] = [maxy, miny];
        let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
        if (isValid) {
            target.set(rx, ry);
            return true;
        }
        else {
            return false;
        }
    }
    copy() {
        return new Line(this.fromX, this.fromY, this.toX, this.toY);
    }
}


/***/ }),

/***/ "./src/app/geometry/obb.ts":
/*!*********************************!*\
  !*** ./src/app/geometry/obb.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Obb": () => (/* binding */ Obb)
/* harmony export */ });
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");

class Obb {
    constructor(unrotated, rotation, rotVertex) {
        this.unrotated = unrotated;
        this.rotation = rotation;
        this.rotVertex = rotVertex;
    }
    recompute() {
        this.rotVertex = (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(this.unrotated, this.rotation);
    }
    copy() {
        return new Obb(this.unrotated.copy(), this.rotation, [...this.rotVertex]);
    }
    static rotateAabb(aabb, rot) {
        if (rot === 0)
            return this.fromAabb(aabb);
        return new Obb(aabb, rot, (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(aabb, rot));
    }
    static fromAabb(aabb) {
        let points = [
            aabb.minX, aabb.minY,
            aabb.minX, aabb.maxY,
            aabb.maxX, aabb.maxY,
            aabb.maxX, aabb.minY
        ];
        return new Obb(aabb, 0, points);
    }
}


/***/ }),

/***/ "./src/app/geometry/visibilityPolygon.ts":
/*!***********************************************!*\
  !*** ./src/app/geometry/visibilityPolygon.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EPSILON": () => (/* binding */ EPSILON),
/* harmony export */   "compute": () => (/* binding */ compute),
/* harmony export */   "computeViewport": () => (/* binding */ computeViewport)
/* harmony export */ });
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/binaryHeap */ "./src/app/util/binaryHeap.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");





const EPSILON = 0.0000001;
class EndPoint extends _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point {
    constructor() {
        super(...arguments);
        this.angle = 0;
        this.dist = 0;
    }
}
class Segment {
    constructor(f, t) {
        this.from = f;
        this.to = t;
        this.used = false;
    }
}
// a < b
function segmentLt(a, b, o) {
    // *opens philosophy book*
    // But what does it mean for a segment to be less than another one? (relative to a point)
    // There are multiple algorithms for this, the one that makes most sense to me is what I call the
    // triangular intersection:
    // Given two segments a, b and a point o we define a < b == true only if there is at least one point in b that
    // is hidden by a.
    // For every segment then the property a < b => !(b < a) is maintained only if the segments do not intersect
    // (as the only way that two lines would hide each other is if they meet in a point).
    // On another note, the property a < b, b < c => a < c is not maintained!
    // How can this be computed, then?
    // a.from is inside the triangle formed by b and o, this means:
    // - a.to is also inside, then a < b
    // - a.to is outside, then a < b
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.from, b.from, b.to, o))
        return true;
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.to, b.from, b.to, o))
        return true;
    // If we arrive here we can be sure that neither points of a is inside the triangle,
    // A segment with both points outside of the triangle can intersect it only by intersecting two of the three
    // lines. We already assume that a and b cannot intersect so we can check either (b.from, o) or (b.to, o) and see
    // if it intersects with a
    let c1 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c1 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    let c2 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.to.x, b.to.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c2 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    // Edge case: one of the end points of the second line (the segment a) lies
    // in the line (b.from, o), this might mean two things:
    // 1: the line shares a point but does not block the second segment's view
    // 2: the line shares a point and the other point blocks the whole view (hitting the other triangle line)
    // we want to check the second case, so let's try the second segment intersect
    if ((c1 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c2 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    if ((c2 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c1 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    // Edge case n.2 (I'm kinda hating on grids)
    // The segment a could lay a point on the line between (b.from/to, o) and the other in b
    // Edge case of the edge case: If the segment is in any of the endpoints of b then it does not occlude the view
    if (((c1 | c2) & (_collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B | _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_A)) === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) {
        let c3 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, b.to.x, b.to.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
        if (c3 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE)
            return true;
    }
    // This means a >= b
    return false;
}
function initSegment(x1, y1, x2, y2, pos) {
    let a = new EndPoint(x1, y1);
    let b = new EndPoint(x2, y2);
    a.angle = Math.atan2(pos.y - a.y, pos.x - a.x);
    b.angle = Math.atan2(pos.y - b.y, pos.x - b.x);
    a.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, a.x, a.y);
    b.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, b.x, b.y);
    let s = new Segment(a, b);
    a.segment = s;
    b.segment = s;
    return s;
}
function compute0(pos, segments) {
    let points = new Array();
    for (let s of segments) {
        points.push(s.from, s.to);
    }
    // O(Nlog(N))
    points.sort((a, b) => {
        return a.angle - b.angle;
    });
    let segmentPriorityQueue = new _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__.BinaryHeap((a, b) => segmentLt(a, b, pos));
    // Populate the priority queue O(Nlog(N))
    // The priority queue should already have all the segment it collides with, but do not fear as
    // the math is quite simple and straightforward:
    // We should check that the segment collides with the line that starts at pos and has angle = -Math.PI.
    // To do that we can just check the angles of the two endpoints (draw it in a piece of paper, it's easier if shown).
    for (let segment of segments) {
        let fa = segment.from.angle;
        let ta = segment.to.angle;
        let isActive = false;
        isActive || (isActive = fa <= 0 && ta >= 0 && ta - fa > Math.PI);
        isActive || (isActive = ta <= 0 && fa >= 0 && fa - ta > Math.PI);
        if (isActive)
            segmentPriorityQueue.push(segment);
    }
    let polygon = new Array();
    for (let i = 0; i < points.length;) {
        // Extend signals that the first segment has ended
        // we should then extend the polygon to the new first visible segment.
        let extend = false;
        let orig = i; // The original point index
        let vertex = points[i];
        let oldSegment = segmentPriorityQueue.peek();
        do {
            let currSegment = points[i].segment;
            if (segmentPriorityQueue.hasElem(currSegment)) {
                if (currSegment === oldSegment) {
                    extend = true;
                    vertex = points[i];
                }
                segmentPriorityQueue.popElem(currSegment);
            }
            else {
                segmentPriorityQueue.push(currSegment);
            }
            i++;
            if (i === points.length)
                break;
        } while (points[i].angle < points[orig].angle + EPSILON);
        segmentPriorityQueue.peek().used = true;
        if (extend) {
            // Vertex is the first point of the old segment, we need to push this right away
            polygon.push(vertex.x, vertex.y);
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point();
            let firstSeg = segmentPriorityQueue.peek();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(firstSeg.from, firstSeg.to, pos, vertex, point);
            if (!(Math.abs(point.x - vertex.x) < EPSILON && Math.abs(point.y - vertex.y) < EPSILON)) {
                polygon.push(point.x, point.y);
            }
        }
        else if (segmentPriorityQueue.peek() != oldSegment) {
            // A new segment has hidden the old first segment.
            // First compute where the old segment has been hidden, and push that point to the polygon
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__.default.Point();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(oldSegment.from, oldSegment.to, pos, vertex, point);
            polygon.push(point.x, point.y);
            // Then compute where the new segment intersects
            let newClosest = segmentPriorityQueue.peek();
            let nPoint;
            if (Math.abs(newClosest.from.angle - points[orig].angle) < EPSILON) {
                nPoint = newClosest.from;
            }
            else {
                nPoint = newClosest.to;
            }
            if (!(Math.abs(point.x - nPoint.x) < EPSILON && Math.abs(point.y - nPoint.y) < EPSILON)) {
                polygon.push(nPoint.x, nPoint.y);
            }
        }
    }
    return polygon;
}
function compute(pos, inSegments) {
    let segments = new Array(inSegments.length);
    // O(N)
    for (let segment of inSegments) {
        let s = initSegment(segment.fromX, segment.fromY, segment.toX, segment.toY, pos);
        segments.push(s);
    }
    return compute0(pos, segments);
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function clipSegment(line, aabb, light) {
    // https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm
    let x0 = line.fromX;
    let y0 = line.fromY;
    let x1 = line.toX;
    let y1 = line.toY;
    let code0 = computeOutCode(aabb, x0, y0);
    let code1 = computeOutCode(aabb, x1, y1);
    while (true) {
        if ((code0 | code1) === 0) {
            // bitwise OR is 0: both points inside window; trivially accept and exit loop
            return initSegment(x0, y0, x1, y1, light);
        }
        else if ((code0 & code1) !== 0) {
            // failed both tests, so calculate the line segment to clip
            // from an outside point to an intersection with clip edge
            return undefined;
        }
        else {
            let x = 0, y = 0;
            // At least one endpoint is outside the clip rectangle; pick it.
            let codeOut = code1 > code0 ? code1 : code0;
            // Now find the intersection point;
            // use formulas:
            //   slope = (y1 - y0) / (x1 - x0)
            //   x = x0 + (1 / slope) * (ym - y0), where ym is ymin or ymax
            //   y = y0 + slope * (xm - x0), where xm is xmin or xmax
            // No need to worry about divide-by-zero because, in each case, the
            // outcode bit being tested guarantees the denominator is non-zero
            if ((codeOut & TOP) !== 0) { // point is above the clip window
                x = x0 + (x1 - x0) * (aabb.maxY - y0) / (y1 - y0);
                y = aabb.maxY;
            }
            else if ((codeOut & BOTTOM) !== 0) { // point is below the clip window
                x = x0 + (x1 - x0) * (aabb.minY - y0) / (y1 - y0);
                y = aabb.minY;
            }
            else if ((codeOut & RIGHT) !== 0) { // point is to the right of clip window
                y = y0 + (y1 - y0) * (aabb.maxX - x0) / (x1 - x0);
                x = aabb.maxX;
            }
            else if ((codeOut & LEFT) !== 0) { // point is to the left of clip window
                y = y0 + (y1 - y0) * (aabb.minX - x0) / (x1 - x0);
                x = aabb.minX;
            }
            // Now we move outside point to intersection point to clip
            // and get ready for next pass.
            let code = computeOutCode(aabb, x, y);
            if (codeOut === code0) {
                x0 = x;
                y0 = y;
                code0 = code;
            }
            else {
                x1 = x;
                y1 = y;
                code1 = code;
            }
        }
    }
}
function computeViewport(lines, aabb, light, usedLines) {
    //console.log("Lines: " + lines.length);
    let segments = new Array();
    let lineLen = lines.length;
    for (let i = 0; i < lineLen; i++) {
        let segment = clipSegment(lines[i], aabb, light);
        if (segment !== undefined) {
            segment.index = i;
            segments.push(segment);
        }
    }
    //console.log("Done");
    // Push viewport segments:
    segments.push(initSegment(aabb.minX, aabb.minY, aabb.minX, aabb.maxY, light), initSegment(aabb.minX, aabb.maxY, aabb.maxX, aabb.maxY, light), initSegment(aabb.maxX, aabb.maxY, aabb.maxX, aabb.minY, light), initSegment(aabb.maxX, aabb.minY, aabb.minX, aabb.minY, light));
    //console.log("SEGMENTS: ", segments);
    let poly = compute0(light, segments);
    if (usedLines !== undefined) {
        // Compute what lines have been used
        let segLen = segments.length - 4;
        for (let i = 0; i < segLen; i++) {
            let s = segments[i];
            if (s.used)
                usedLines.push(s.index);
        }
    }
    return poly;
}


/***/ }),

/***/ "./src/app/graphics.ts":
/*!*****************************!*\
  !*** ./src/app/graphics.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE": () => (/* binding */ EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE),
/* harmony export */   "GRAPHIC_TYPE": () => (/* binding */ GRAPHIC_TYPE),
/* harmony export */   "ElementType": () => (/* binding */ ElementType),
/* harmony export */   "VisibilityType": () => (/* binding */ VisibilityType),
/* harmony export */   "ImageScaleMode": () => (/* binding */ ImageScaleMode)
/* harmony export */ });
// Common info about the graphical systems, this should be a semi-abstraction.
// NONE OF THIS SHOULD BE SERIALIZED! THIS IS ALL RUNTIME DEPENDANT! DETAILS WILL CHANGE BETWEEN MINOR VERSIONS!
const EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE = 'remember_bit_by_bit_vis_update';
const GRAPHIC_TYPE = "graphic";
var ElementType;
(function (ElementType) {
    ElementType[ElementType["CONTAINER"] = 0] = "CONTAINER";
    ElementType[ElementType["IMAGE"] = 1] = "IMAGE";
    ElementType[ElementType["LINE"] = 2] = "LINE";
    ElementType[ElementType["POINT"] = 3] = "POINT";
    ElementType[ElementType["TEXT"] = 4] = "TEXT";
})(ElementType || (ElementType = {}));
var VisibilityType;
(function (VisibilityType) {
    // You only see one thing when you see it! seems stupid but you can also remember things
    VisibilityType[VisibilityType["NORMAL"] = 0] = "NORMAL";
    // A player can always see itself, even with no light, "I think therefore I am"
    VisibilityType[VisibilityType["ALWAYS_VISIBLE"] = 1] = "ALWAYS_VISIBLE";
    // You'll remember once you see it
    VisibilityType[VisibilityType["REMEMBER"] = 2] = "REMEMBER";
    // Used in images, you only remember what you see! (only support images for now)
    VisibilityType[VisibilityType["REMEMBER_BIT_BY_BIT"] = 3] = "REMEMBER_BIT_BY_BIT";
})(VisibilityType || (VisibilityType = {}));
var ImageScaleMode;
(function (ImageScaleMode) {
    // 1 pixel = 1*scale pixels
    ImageScaleMode[ImageScaleMode["REAL"] = 0] = "REAL";
    // 1 pixel = 1*gridSize*scale pixels
    ImageScaleMode[ImageScaleMode["GRID"] = 1] = "GRID";
})(ImageScaleMode || (ImageScaleMode = {}));


/***/ }),

/***/ "./src/app/index.ts":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "windowEventEmitter": () => (/* binding */ windowEventEmitter),
/* harmony export */   "app": () => (/* binding */ app),
/* harmony export */   "stage": () => (/* binding */ stage)
/* harmony export */ });
/* harmony import */ var _phase_stage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase/stage */ "./src/app/phase/stage.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_homePhase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./phase/homePhase */ "./src/app/phase/homePhase.ts");
/* harmony import */ var _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/eventEmitterWrapper */ "./src/app/util/eventEmitterWrapper.ts");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var bootstrap_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! bootstrap-vue */ "./node_modules/bootstrap-vue/esm/index.js");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/fontawesome-free/css/all.css */ "./node_modules/@fortawesome/fontawesome-free/css/all.css");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @fortawesome/fontawesome-free/js/all.js */ "./node_modules/@fortawesome/fontawesome-free/js/all.js");
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! Public/style.css */ "./src/public/style.css");
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(Public_style_css__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./phase/editMap/clientEditMapPhase */ "./src/app/phase/editMap/clientEditMapPhase.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _assetsLoader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./assetsLoader */ "./src/app/assetsLoader.ts");
/* harmony import */ var _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./phase/loadingPhase */ "./src/app/phase/loadingPhase.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};








vue__WEBPACK_IMPORTED_MODULE_6__.default.use(bootstrap_vue__WEBPACK_IMPORTED_MODULE_7__.BootstrapVue);
// ================================================================================================ Public






const windowEventEmitter = new _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_3__.EventEmitterWrapper((event, emitter) => {
    window.addEventListener(event, data => {
        emitter.emit(event, data);
    });
});
// PIXI
let app;
// Main
const stage = new _phase_stage__WEBPACK_IMPORTED_MODULE_0__.Stage("main");
function onHashCahnge() {
    if (window.location.hash) {
        const roomId = window.location.hash.substr(1); // Remove #
        if (roomId.startsWith('p')) {
            console.log("Connecting with: peerj2");
            stage.setPhase(new _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_9__.ClientEditMapPhase(roomId.substr(1)));
        }
        else {
            console.log("Invalid hash");
            stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_2__.HomePhase());
        }
    }
    else {
        stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_2__.HomePhase());
    }
}
(function () {
    return __awaiter(this, void 0, void 0, function* () {
        console.log("Loading dndme: " + "0af548c");
        // We cannot work without webgl
        _PIXI__WEBPACK_IMPORTED_MODULE_1__.default.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
        app = new _PIXI__WEBPACK_IMPORTED_MODULE_1__.default.Application();
        (0,_util_pixi__WEBPACK_IMPORTED_MODULE_10__.addCustomBlendModes)();
        app.renderer.backgroundColor = _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_13__.DEFAULT_BACKGROUND;
        // The app.view (canvas) is only appended when the game-phase starts.
        app.view.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        stage.setPhase(new _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_12__.LoadingPhase());
        yield (0,_assetsLoader__WEBPACK_IMPORTED_MODULE_11__.loadAssets)();
        onHashCahnge();
        window.onhashchange = function (e) {
            console.log("Hash change" + e.newURL);
            onHashCahnge();
        };
    });
})();


/***/ }),

/***/ "./src/app/map/gameMap.ts":
/*!********************************!*\
  !*** ./src/app/map/gameMap.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GameMap": () => (/* binding */ GameMap)
/* harmony export */ });
/* harmony import */ var _mapLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/dist/jszip.min.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



class GameMap {
    constructor() {
        this.levels = new Map();
    }
    createDataJson() {
        let levels = {};
        for (let [id, level] of this.levels.entries()) {
            levels[id] = level.serialize();
        }
        let data = {
            version: GameMap.SER_VERSION,
            levels: levels,
        };
        return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(data);
    }
    saveToFile() {
        let data = this.createDataJson();
        let zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
        zip.file("data.msgpack", data);
        return zip.generateAsync({
            type: "blob",
            compression: 'DEFLATE',
            // Prevent the browser from renaming the extension
            mimeType: 'application/octet-stream',
        });
    }
    static loadFromFile(from) {
        return __awaiter(this, void 0, void 0, function* () {
            let zip = yield jszip__WEBPACK_IMPORTED_MODULE_1___default().loadAsync(from);
            // TODO: better error management
            let file = yield zip.file("data.msgpack").async('arraybuffer');
            let data = yield (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__.decode)(file);
            if (data['version'] !== this.SER_VERSION) {
                throw 'Version not supported';
            }
            let gameMap = new GameMap();
            let levelsData = data["levels"];
            for (let id in levelsData) {
                let level = levelsData[id];
                let res = yield _mapLevel__WEBPACK_IMPORTED_MODULE_0__.MapLevel.deserialize(parseInt(id), level);
                gameMap.levels.set(res.id, res);
            }
            return gameMap;
        });
    }
}
GameMap.SER_VERSION = '1.0';


/***/ }),

/***/ "./src/app/map/mapLevel.ts":
/*!*********************************!*\
  !*** ./src/app/map/mapLevel.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLevel": () => (/* binding */ MapLevel)
/* harmony export */ });
class MapLevel {
    constructor(id) {
        this.id = id;
    }
    loadInto(ecs) {
        ecs.clear();
        if (this.ecs !== undefined) {
            ecs.deserialize(this.ecs);
        }
    }
    saveFrom(ecs) {
        this.ecs = undefined;
        this.ecs = ecs.serialize();
    }
    serialize() {
        return {
            name: this.name,
            ecs: this.ecs
        };
    }
    static deserialize(id, data) {
        let res = new MapLevel(id);
        res.name = data['name'];
        res.ecs = data['ecs'];
        return res;
    }
}


/***/ }),

/***/ "./src/app/network/channel.ts":
/*!************************************!*\
  !*** ./src/app/network/channel.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Channel": () => (/* binding */ Channel)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class Channel {
    constructor(isHost) {
        this.connections = [];
        this.connectionsById = new Map();
        this.myId = -1;
        this.nextBroadcastPacketId = 0;
        this.eventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
        this.bufferingChannels = 0;
        this.isHost = isHost;
        if (this.isHost) {
            this.myId = 0;
        }
    }
    onMessage(raw, conn) {
        //console.log("onMessage", raw);
        let packet = raw; // Check for errors?
        if (this.isHost) {
            packet.sender = conn.channelId;
        }
        if (packet.payload.type.startsWith("_")) {
            console.error("Invalid payload type");
            return;
        }
        // TODO: think of a better packetid system, we have some problems with
        //       host forwarding as the id changes, we can not have replies.
        if (this.isHost && packet.receiver !== this.myId) {
            let originalId = packet.id;
            if (packet.receiver === undefined) {
                packet.id = this.nextBroadcastPacketId++;
                for (let c of this.connectionsById.values()) {
                    if (c !== conn) {
                        c.send(packet);
                    }
                }
            }
            else {
                let recv = this.connectionsById.get(packet.receiver);
                if (recv === undefined) {
                    this.send({
                        type: "error",
                        errorType: "unknown_receiver",
                        requestId: packet.id,
                    }, conn.channelId);
                    return;
                }
                packet.id = recv.nextPacketId++;
                recv.send(packet);
            }
            packet.id = originalId;
        }
        if (packet.receiver === undefined || packet.receiver === this.myId) {
            let packetType = packet.payload.type;
            if (false) {}
            this.eventEmitter.emit("any", packet.payload, packet);
            this.eventEmitter.emit(packetType, packet.payload, packet);
        }
    }
    broadcast(packet) {
        const wrapped = {
            id: this.nextBroadcastPacketId,
            payload: packet,
            sender: this.myId,
        };
        if (false) {}
        for (let conn of this.connectionsById.values()) {
            conn.send(wrapped);
        }
        this.nextBroadcastPacketId++;
    }
    send(packet, receiverId) {
        const wrapped = {
            id: 0,
            payload: packet,
            sender: this.myId,
        };
        if (this.isHost) {
            let conn = this.connectionsById.get(receiverId);
            if (conn === undefined) {
                throw "Unknown receiver";
            }
            wrapped.id = conn.channelId++;
            conn.send(wrapped);
        }
        else {
            wrapped.id = this.nextBroadcastPacketId++;
            for (let conn of this.connectionsById.values()) {
                conn.send(wrapped);
            }
        }
        if (false) {}
    }
    onConnectionStatusUpdate(isBuffering) {
        if (isBuffering)
            this.bufferingChannels += 1;
        else
            this.bufferingChannels -= 1;
        this.eventEmitter.emit("_buffering_update", this.bufferingChannels);
    }
    registerNewConnection(conn) {
        this.connectionsById.set(conn.channelId, conn);
        this.connections.push(conn);
        conn.ondata = this.onMessage.bind(this);
        conn.nextPacketId = 0;
        conn.onBufferChange = this.onConnectionStatusUpdate.bind(this);
        this.eventEmitter.emit("_device_join", conn.channelId);
    }
    removeConnection(conn) {
        this.connectionsById.delete(conn.channelId);
        const index = this.connections.indexOf(conn);
        if (index > -1) {
            this.connections.splice(index, 1);
        }
        this.eventEmitter.emit("_device_left", conn.channelId);
    }
}


/***/ }),

/***/ "./src/app/network/networkManager.ts":
/*!*******************************************!*\
  !*** ./src/app/network/networkManager.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NetworkManager": () => (/* binding */ NetworkManager),
/* harmony export */   "NetworkConnection": () => (/* binding */ NetworkConnection)
/* harmony export */ });
/* harmony import */ var peerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! peerjs */ "./node_modules/peerjs/dist/peerjs.min.js");
/* harmony import */ var peerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(peerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _channel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./channel */ "./src/app/network/channel.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");



var EventEmitter = _PIXI__WEBPACK_IMPORTED_MODULE_2__.default.utils.EventEmitter;
class NetworkManager extends EventEmitter {
    constructor(isHost) {
        super();
        this.myId = -1;
        // Used if is host:
        this.connections = new Map();
        this.nextConnectionId = 1;
        this.isHost = isHost;
        this.channel = new _channel__WEBPACK_IMPORTED_MODULE_1__.Channel(isHost);
        this.peer = new (peerjs__WEBPACK_IMPORTED_MODULE_0___default())(undefined, {
            host: 'peerjs.92k.de',
            secure: true,
            debug: 2
        });
        if (this.isHost) {
            this.myId = 0;
        }
        this.peer.on('connection', this.onConnection.bind(this));
        this.peer.on('open', this.onPeerConnectionOpen.bind(this));
        this.peer.on('error', this.onPeerConnectionError.bind(this));
    }
    onConnection(conn) {
        let id = 0;
        if (this.isHost) {
            id = this.nextConnectionId++;
        }
        let c = new NetworkConnection(this, id, conn);
        if (this.isHost) {
            this.connections.set(id, c);
        }
        else {
            this.hostConnection = c;
        }
    }
    onPeerConnectionOpen() {
        if (this.connectId !== undefined) {
            this.connectReady();
        }
        this.emit('ready');
    }
    onPeerConnectionError(err) {
        this.emit('error', err);
    }
    getId() {
        return this.peer.id;
    }
    connectTo(id) {
        if (this.isHost) {
            throw 'A host cannot open a connection, for now!';
        }
        if (this.connectId !== undefined) {
            throw 'Cannot connect to multiple hosts';
        }
        this.connectId = id;
        if (this.peer.id != null) {
            this.connectReady();
        }
    }
    disconnect() {
        this.connectId = undefined;
        this.peer.destroy();
    }
    connectReady() {
        if (this.connectId === undefined)
            return;
        let conn = this.peer.connect(this.connectId, {
            reliable: true,
        });
        this.hostConnection = new NetworkConnection(this, undefined, conn);
    }
}
class NetworkConnection {
    constructor(parent, chId, connection) {
        this.nextPacketId = -1;
        this.bootstrap = false;
        this.buffered = false;
        this.parent = parent;
        this.channelId = chId || 0;
        this.connection = connection;
        if (parent.isHost) {
            this.bootstrap = true;
        }
        connection.on('open', this.onOpen.bind(this));
        connection.on('data', this.onData.bind(this));
        connection.on('close', this.onClose.bind(this));
    }
    onOpen() {
        this.connection.dataChannel.onbufferedamountlow = this.updateBuffered.bind(this);
        if (this.parent.isHost) {
            this.connection.send(this.channelId);
            this.parent.channel.registerNewConnection(this);
        }
    }
    onData(data) {
        if (!this.bootstrap) {
            this.parent.myId = data;
            this.parent.channel.myId = data;
            this.bootstrap = true;
            this.parent.channel.registerNewConnection(this);
            return;
        }
        else if (this.ondata !== undefined) {
            this.ondata(data, this);
        }
    }
    onClose() {
        this.parent.channel.removeConnection(this);
    }
    send(data) {
        this.connection.send(data);
        this.updateBuffered();
    }
    bufferedBytes() {
        return this.connection.dataChannel.bufferedAmount;
    }
    updateBuffered() {
        let oldBuffered = this.buffered;
        let bufferedAmount = this.connection.bufferSize;
        if (this.connection.dataChannel != null) {
            bufferedAmount += this.connection.dataChannel.bufferedAmount;
        }
        this.buffered = bufferedAmount !== 0;
        if (oldBuffered !== this.buffered && this.onBufferChange !== undefined) {
            this.onBufferChange(this.buffered);
        }
    }
}


/***/ }),

/***/ "./src/app/phase/ecsPhase.ts":
/*!***********************************!*\
  !*** ./src/app/phase/ecsPhase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EcsPhase": () => (/* binding */ EcsPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ecs_world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ecs/world */ "./src/app/ecs/world.ts");
/* harmony import */ var _ecs_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ecs/component */ "./src/app/ecs/component.ts");



class EcsPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name, isMaster) {
        super(name);
        this.world = new _ecs_world__WEBPACK_IMPORTED_MODULE_1__.World(isMaster);
        this.ecsSetup();
    }
    ecsSetup() {
        (0,_ecs_component__WEBPACK_IMPORTED_MODULE_2__.registerCommonStorage)(this.world);
        this.registerSystems();
    }
    registerSystems() {
    }
    enable() {
        super.enable();
        this.world.enable();
    }
    disable() {
        super.disable();
        this.world.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/clientEditMapPhase.ts":
/*!*****************************************************!*\
  !*** ./src/app/phase/editMap/clientEditMapPhase.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClientEditMapPhase": () => (/* binding */ ClientEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _ecs_systems_networkSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/networkSystem */ "./src/app/ecs/systems/networkSystem.ts");


class ClientEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(id) {
        super('editClient', false);
        this.networkManager.connectTo(id);
    }
    registerSystems() {
        super.registerSystems();
        this.world.addSystem(new _ecs_systems_networkSystem__WEBPACK_IMPORTED_MODULE_1__.ClientNetworkSystem(this.world, this.networkManager.channel));
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/displayPrecedence.ts":
/*!****************************************************!*\
  !*** ./src/app/phase/editMap/displayPrecedence.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayPrecedence": () => (/* binding */ DisplayPrecedence)
/* harmony export */ });
var DisplayPrecedence;
(function (DisplayPrecedence) {
    DisplayPrecedence[DisplayPrecedence["BACKGROUND"] = 0] = "BACKGROUND";
    DisplayPrecedence[DisplayPrecedence["GRID"] = 10] = "GRID";
    DisplayPrecedence[DisplayPrecedence["LIGHT"] = 100] = "LIGHT";
    DisplayPrecedence[DisplayPrecedence["WALL"] = 210] = "WALL";
    DisplayPrecedence[DisplayPrecedence["PROP"] = 220] = "PROP";
    DisplayPrecedence[DisplayPrecedence["PINS"] = 230] = "PINS";
    DisplayPrecedence[DisplayPrecedence["WALL_CREATOR"] = 260] = "WALL_CREATOR";
    DisplayPrecedence[DisplayPrecedence["TEXT"] = 300] = "TEXT";
})(DisplayPrecedence || (DisplayPrecedence = {}));


/***/ }),

/***/ "./src/app/phase/editMap/editMapPhase.ts":
/*!***********************************************!*\
  !*** ./src/app/phase/editMap/editMapPhase.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditMapPhase": () => (/* binding */ EditMapPhase)
/* harmony export */ });
/* harmony import */ var _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/edit/editMap.vue */ "./src/app/ui/edit/editMap.vue");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _ecs_systems_backgroundSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/backgroundSystem */ "./src/app/ecs/systems/backgroundSystem.ts");
/* harmony import */ var _ecs_systems_selectionSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/selectionSystem */ "./src/app/ecs/systems/selectionSystem.ts");
/* harmony import */ var _network_networkManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../network/networkManager */ "./src/app/network/networkManager.ts");
/* harmony import */ var _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ecs/systems/pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ecs/systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _ecs_systems_textSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ecs/systems/textSystem */ "./src/app/ecs/systems/textSystem.ts");
/* harmony import */ var _ecs_systems_visibilitySystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecs/systems/visibilitySystem */ "./src/app/ecs/systems/visibilitySystem.ts");
/* harmony import */ var _ecs_systems_interactionSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ecs/systems/interactionSystem */ "./src/app/ecs/systems/interactionSystem.ts");
/* harmony import */ var _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ecs/systems/playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _ecs_systems_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ecs/systems/visibilityAwareSystem */ "./src/app/ecs/systems/visibilityAwareSystem.ts");
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ecs/systems/propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _ecs_systems_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ecs/systems/pixiGraphicSystem */ "./src/app/ecs/systems/pixiGraphicSystem.ts");
/* harmony import */ var _ecs_systems_toolSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ecs/systems/toolSystem */ "./src/app/ecs/systems/toolSystem.ts");
/* harmony import */ var _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ecs/systems/gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _ecsPhase__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ecsPhase */ "./src/app/phase/ecsPhase.ts");
/* harmony import */ var _ecs_systems_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../ecs/systems/pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");






















class EditMapPhase extends _ecsPhase__WEBPACK_IMPORTED_MODULE_20__.EcsPhase {
    constructor(name, isHost) {
        super(name, isHost);
    }
    ecsSetup() {
        this.setupNetworkManager();
        super.ecsSetup();
        this.world.events.on('selection_update', (group) => {
            this.vue.selectedEntityOpts = group.getCommonEntityOpts();
            this.vue.selectedComponents = group.getCommonComponents();
            this.vue.selectedAddable = group.getAddableComponents();
        });
    }
    registerSystems() {
        super.registerSystems();
        let w = this.world;
        w.addSystem(new _ecs_systems_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_21__.PixiBoardSystem(w));
        w.addSystem(new _ecs_systems_selectionSystem__WEBPACK_IMPORTED_MODULE_3__.SelectionSystem(w));
        w.addSystem(new _ecs_systems_toolSystem__WEBPACK_IMPORTED_MODULE_18__.ToolSystem(w));
        w.addSystem(new _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_19__.GridSystem(w));
        w.addSystem(new _ecs_systems_interactionSystem__WEBPACK_IMPORTED_MODULE_12__.InteractionSystem(w));
        w.addSystem(new _ecs_systems_textSystem__WEBPACK_IMPORTED_MODULE_10__.TextSystem());
        w.addSystem(new _ecs_systems_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_17__.PixiGraphicSystem(w));
        w.addSystem(new _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_9__.LightSystem(w));
        w.addSystem(new _ecs_systems_backgroundSystem__WEBPACK_IMPORTED_MODULE_2__.BackgroundSystem(w));
        w.addSystem(new _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_8__.WallSystem(w));
        w.addSystem(new _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_15__.DoorSystem(w));
        w.addSystem(new _ecs_systems_visibilitySystem__WEBPACK_IMPORTED_MODULE_11__.VisibilitySystem(w));
        w.addSystem(new _ecs_systems_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_14__.VisibilityAwareSystem(w));
        w.addSystem(new _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PinSystem(w));
        w.addSystem(new _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_16__.PropSystem(w));
        w.addSystem(new _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_13__.PlayerSystem(w));
    }
    setupNetworkManager() {
        this.networkManager = new _network_networkManager__WEBPACK_IMPORTED_MODULE_4__.NetworkManager(this.world.isMaster);
        this.networkManager.on("ready", this.onNetworkReady, this);
        this.networkManager.on("error", this.onNetworkError, this);
        let connUpdate = () => {
            this.vue.connectionCount = this.networkManager.channel.connections.length;
        };
        let chEvents = this.networkManager.channel.eventEmitter;
        chEvents.on('_device_join', connUpdate);
        chEvents.on('_device_left', connUpdate);
        chEvents.on('_buffering_update', () => {
            this.vue.connectionBuffering = this.networkManager.channel.bufferingChannels > 0;
        });
    }
    // overrides
    onNetworkReady() {
        console.log("Network is ready! side: " + (this.networkManager.isHost ? "master" : "player"));
        if (this.networkManager.isHost) {
            history.replaceState(null, "", '#p' + this.networkManager.peer.id);
        }
    }
    onNetworkError(err) {
        // TODO: open modal or something
        console.error("Error from peerjs: ", err.type);
        if (err.type === 'server-error') {
            alert("Error connecting to peerjs instance, you're offline now");
            if (!this.world.isMaster) {
                _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__.HostEditMapPhase(new _map_gameMap__WEBPACK_IMPORTED_MODULE_6__.GameMap()));
            }
        }
        else if (err.type === 'peer-unavailable') {
            console.log("Invalid invite link");
            alert("Invalid invite link");
            history.replaceState(null, "", ' ');
            if (!this.world.isMaster) {
                _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _hostEditMapPhase__WEBPACK_IMPORTED_MODULE_5__.HostEditMapPhase(new _map_gameMap__WEBPACK_IMPORTED_MODULE_6__.GameMap()));
            }
        }
        else if (err.ty === 'network') {
            alert("Connection lost");
        }
        else {
            alert(err);
        }
    }
    ui() {
        let ui = new _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__.default({
            propsData: {
                phase: this,
                world: this.world,
                isAdmin: this.world.isMaster,
            }
        });
        //(ui as any).phase = this;
        //(ui as any).isAdmin = this.world.isMaster;
        return ui;
    }
    disable() {
        super.disable();
        this.networkManager.disconnect();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/hostEditMapPhase.ts":
/*!***************************************************!*\
  !*** ./src/app/phase/editMap/hostEditMapPhase.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HostEditMapPhase": () => (/* binding */ HostEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
/* harmony import */ var _map_mapLevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../map/mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _ecs_systems_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/pixiBoardSystem */ "./src/app/ecs/systems/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_networkSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/networkSystem */ "./src/app/ecs/systems/networkSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HostEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(map) {
        super('editHost', true);
        this.map = map;
        if (this.map.levels.size == 0) {
            this.map.levels.set(42, new _map_mapLevel__WEBPACK_IMPORTED_MODULE_2__.MapLevel(42));
        }
        this.currentLevel = this.map.levels.values().next().value;
    }
    registerSystems() {
        super.registerSystems();
        this.world.addSystem(new _ecs_systems_networkSystem__WEBPACK_IMPORTED_MODULE_4__.HostNetworkSystem(this.world, this.networkManager.channel));
    }
    onDrop(event) {
        return __awaiter(this, void 0, void 0, function* () {
            event.stopPropagation();
            event.preventDefault();
            let x = event.pageX;
            let y = event.pageY;
            if (event.dataTransfer.items) {
                let res = [];
                for (let f of event.dataTransfer.items) {
                    let file = f.getAsFile();
                    if (file != null) {
                        res.push(file);
                    }
                }
                yield this.onFileDrop(res, x, y);
            }
            else {
                yield this.onFileDrop(event.dataTransfer.files, x, y);
            }
        });
    }
    onDragOver(event) {
        event.stopPropagation();
        event.preventDefault();
        event.dataTransfer.dropEffect = "copy";
        return false;
    }
    onFileDrop(files, x, y) {
        return __awaiter(this, void 0, void 0, function* () {
            if (files.length == 0)
                return;
            let firstFile = files[0];
            // Sometimes this does not work but the problem is not the matrix calculation, it's the browser coords
            // so if you have firefox and linux (this seems to be the wrong stack) and have spare time, pls debug this.
            // Could be caused by: https://bugzilla.mozilla.org/show_bug.cgi?id=505521#c80
            let p = new PIXI.Point(x, y);
            let pixiBoard = this.world.systems.get(_ecs_systems_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE);
            pixiBoard.board.updateTransform();
            pixiBoard.board.transform.worldTransform.applyInverse(p, p);
            if (firstFile.type.startsWith("image/")) {
                this.world.spawnEntity({
                    type: 'name',
                    name: firstFile.name,
                    clientVisible: false,
                }, {
                    type: "position",
                    x: p.x,
                    y: p.y,
                }, {
                    type: "transform",
                    rotation: 0,
                    scale: 1,
                }, {
                    type: "background_image",
                    imageType: firstFile.type,
                    image: new Uint8Array(yield firstFile.arrayBuffer()),
                });
                console.log("Image loaded");
            }
        });
    }
    exportMap() {
        return __awaiter(this, void 0, void 0, function* () {
            this.currentLevel.saveFrom(this.world);
            let blob = yield this.map.saveToFile();
            this.saveBlob(blob, "map.dndm");
        });
    }
    saveBlob(blob, fileName) {
        let a = document.getElementById("hidden-download-link");
        let url = window.URL.createObjectURL(blob);
        a.href = url;
        a.download = fileName;
        a.click();
        window.URL.revokeObjectURL(url);
    }
    enable() {
        super.enable();
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondrop = this.onDrop.bind(this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondragover = this.onDragOver.bind(this);
        this.currentLevel.loadInto(this.world);
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.on("_device_join", this.onDeviceJoin, this);
    }
    disable() {
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.off("_device_join", this.onDeviceJoin, this);
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondrop = () => { };
        _index__WEBPACK_IMPORTED_MODULE_1__.app.view.ondragover = () => { };
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/homePhase.ts":
/*!************************************!*\
  !*** ./src/app/phase/homePhase.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HomePhase": () => (/* binding */ HomePhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");
/* harmony import */ var _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/home/home.vue */ "./src/app/ui/home/home.vue");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editMap/hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HomePhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("home");
    }
    ui() {
        return new _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__.default();
    }
    createMap() {
        let map = new _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap();
        _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
    }
    editMap(file) {
        return __awaiter(this, void 0, void 0, function* () {
            let map = yield _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap.loadFromFile(file);
            _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
        });
    }
    enable() {
        super.enable();
        this.uiEventEmitter.on('create_map', this.createMap, this);
        this.uiEventEmitter.on('edit', this.editMap, this);
    }
    disable() {
        this.uiEventEmitter.on('edit', this.editMap, this);
        this.uiEventEmitter.on('create_map', this.createMap, this);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/loadingPhase.ts":
/*!***************************************!*\
  !*** ./src/app/phase/loadingPhase.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadingPhase": () => (/* binding */ LoadingPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/loading/loading.vue */ "./src/app/ui/loading/loading.vue");


class LoadingPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("loading");
    }
    ui() {
        return new _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__.default();
    }
}


/***/ }),

/***/ "./src/app/phase/phase.ts":
/*!********************************!*\
  !*** ./src/app/phase/phase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Phase": () => (/* binding */ Phase)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);


class Phase {
    constructor(name) {
        this.name = name;
        // Create Vue instance that is responsible for handling the UI events of the current phase.
        // https://medium.com/vuejobs/create-a-global-event-bus-in-vue-js-838a5d9ab03a
        this.uiEventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
    }
    log(message) {
        console.log(`[${this.name}] ` + message);
    }
    ui() {
        return undefined;
    }
    enable() {
        this.log("Enabling");
        vue__WEBPACK_IMPORTED_MODULE_1__.default.prototype.eventEmitter = this.uiEventEmitter;
        this.vue = this.ui();
        if (this.vue) {
            this.vue.$mount();
            document.body.appendChild(this.vue.$el);
        }
        // Done ^^
    }
    disable() {
        console.log(`[${this.name}] Disabling`);
        if (this.vue) {
            document.body.removeChild(this.vue.$el);
        }
    }
    /**
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}


/***/ }),

/***/ "./src/app/phase/stage.ts":
/*!********************************!*\
  !*** ./src/app/phase/stage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stage": () => (/* binding */ Stage)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");

class Stage extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name) {
        super(name);
        this.phase = null;
    }
    setPhase(phase) {
        if (this.phase)
            this.phase.disable();
        this.phase = phase;
        if (this.phase)
            this.phase.enable();
    }
    disable() {
        super.disable();
        this.setPhase(null);
    }
}


/***/ }),

/***/ "./src/app/ui/vue.ts":
/*!***************************!*\
  !*** ./src/app/ui/vue.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Vue": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue),
/* harmony export */   "VComponent": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Component),
/* harmony export */   "VProp": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Prop),
/* harmony export */   "VWatch": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch),
/* harmony export */   "VRef": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Ref),
/* harmony export */   "VWatchImmediate": () => (/* binding */ VWatchImmediate)
/* harmony export */ });
/* harmony import */ var vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue-property-decorator */ "./node_modules/vue-property-decorator/lib/index.js");


function VWatchImmediate(name) {
    return (0,vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch)(name, { immediate: true });
}


/***/ }),

/***/ "./src/app/util/array.ts":
/*!*******************************!*\
  !*** ./src/app/util/array.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arrayRemoveElem": () => (/* binding */ arrayRemoveElem)
/* harmony export */ });
function arrayRemoveElem(arr, elem) {
    let index = arr.indexOf(elem);
    if (index !== -1)
        arr.splice(index, 1);
}


/***/ }),

/***/ "./src/app/util/binaryHeap.ts":
/*!************************************!*\
  !*** ./src/app/util/binaryHeap.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinaryHeap": () => (/* binding */ BinaryHeap)
/* harmony export */ });
// Binary heap implementation from:
// http://eloquentjavascript.net/appendix2.html
class BinaryHeap {
    constructor(cmpLt) {
        this.content = new Array();
        this.elemMap = new Map();
        this.cmpLt = cmpLt;
    }
    push(element) {
        // Add the new element to the end of the array.
        this.elemMap.set(element, this.content.length);
        this.content.push(element);
        // Allow it to bubble up.
        this.bubbleUp(this.content.length - 1);
    }
    pop() {
        if (this.content.length === 0)
            return undefined;
        // Store the first element so we can return it later.
        let result = this.content[0];
        this.elemMap.delete(result);
        // Get the element at the end of the array.
        let end = this.content.pop();
        // If there are any elements left, put the end element at the
        // start, and let it sink down.
        if (this.content.length !== 0) {
            this.content[0] = end;
            this.elemMap.set(end, 0);
            this.sinkDown(0);
        }
        return result;
    }
    popElem(e) {
        let index = this.elemMap.get(e);
        if (index === undefined)
            return;
        this.elemMap.delete(e);
        let end = this.content.pop();
        if (index === this.content.length)
            return;
        this.content[index] = end;
        this.elemMap.set(end, index);
        this.sinkDown(index);
        this.bubbleUp(index); // Fix, some systems where a < b. b < c => a < c is not maintained
    }
    hasElem(e) {
        return this.elemMap.has(e);
    }
    peek() {
        return this.content[0];
    }
    size() {
        return this.content.length;
    }
    bubbleUp(n) {
        // Fetch the element that has to be moved.
        let element = this.content[n];
        // When at 0, an element can not go up any further.
        while (n > 0) {
            // Compute the parent element's index, and fetch it.
            let parentN = Math.floor((n + 1) / 2) - 1;
            let parent = this.content[parentN];
            // Swap the elements if the parent is greater.
            if (this.cmpLt(element, parent)) {
                this.content[parentN] = element;
                this.content[n] = parent;
                this.elemMap.set(element, parentN);
                this.elemMap.set(parent, n);
                // Update 'n' to continue at the new position.
                n = parentN;
            }
            // Found a parent that is less, no need to move it further.
            else {
                break;
            }
        }
    }
    sinkDown(n) {
        // Look up the target element and its score.
        let length = this.content.length;
        let element = this.content[n];
        while (true) {
            // Compute the indices of the child elements.
            let child2N = (n + 1) * 2, child1N = child2N - 1;
            // This is used to store the new position of the element,
            // if any.
            let swap = null;
            let child1 = undefined;
            // If the first child exists (is inside the array)...
            if (child1N < length) {
                // Look it up and compute its score.
                child1 = this.content[child1N];
                // If the score is less than our element's, we need to swap.
                if (this.cmpLt(child1, element))
                    swap = child1N;
            }
            // Do the same checks for the other child.
            if (child2N < length) {
                let child2 = this.content[child2N];
                if (this.cmpLt(child2, swap == null ? element : child1)) {
                    swap = child2N;
                }
            }
            // If the element needs to be moved, swap it, and continue.
            if (swap != null) {
                this.content[n] = this.content[swap];
                this.content[swap] = element;
                this.elemMap.set(this.content[n], n);
                this.elemMap.set(element, swap);
                n = swap;
            }
            // Otherwise, we are done.
            else {
                break;
            }
        }
    }
}


/***/ }),

/***/ "./src/app/util/bitSet.ts":
/*!********************************!*\
  !*** ./src/app/util/bitSet.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitSet": () => (/* binding */ BitSet)
/* harmony export */ });
/**
 * Basic BitSet
 */
class BitSet {
    constructor(data) {
        if (typeof data === 'number') {
            this.data = new Uint32Array(Math.ceil(length / 32));
        }
        else if (data.BYTES_PER_ELEMENT === 4) {
            this.data = data;
        }
        else {
            let len = Math.floor(data.byteLength / Uint32Array.BYTES_PER_ELEMENT);
            this.data = new Uint32Array(data.buffer, data.byteOffset, len);
        }
    }
    get size() {
        return this.data.length << 5;
    }
    get(i) {
        i |= 0;
        let wi = i >>> 5;
        if (wi >= this.data.length)
            return false;
        let b = this.data[wi];
        return !!((b >>> i) & 1);
    }
    ensureCapacity(wi) {
        let newLen = this.data.length;
        while (newLen < wi)
            newLen *= 2;
        if (newLen === this.data.length)
            return;
        let newData = new Uint32Array(newLen);
        newData.set(this.data);
        this.data = newData;
    }
    set(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] |= 1 << i;
    }
    reset(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] &= ~(1 << i);
    }
    isAll(target, until) {
        let t = 0;
        if (target) {
            t = 0xFFFFFFFF;
        }
        let loopLast = until === undefined ? this.data.length : (until >>> 5);
        for (let i = 0; i < loopLast; i++) {
            if (this.data[i] !== t)
                return false;
        }
        if (until === undefined)
            return true;
        let i = ((until - 1) >> 5) + 1;
        let il = until & 0x1F;
        let mask = (1 << il) - 1;
        let d = this.data[i];
        if (target) {
            d = ~d;
        }
        return (d & mask) === 0;
    }
}


/***/ }),

/***/ "./src/app/util/eventEmitterWrapper.ts":
/*!*********************************************!*\
  !*** ./src/app/util/eventEmitterWrapper.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventEmitterWrapper": () => (/* binding */ EventEmitterWrapper)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class EventEmitterWrapper extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__ {
    constructor(catcher) {
        super();
        this.caught = new Set();
        this.catcher = catcher;
    }
    catchEvent(event) {
        this.catcher(event, this);
        this.caught.add(event);
    }
    on(event, fn, context) {
        super.on(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
    addListener(event, fn, context) {
        super.addListener(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/util/geometry.ts":
/*!**********************************!*\
  !*** ./src/app/util/geometry.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "polygonPointIntersect": () => (/* binding */ polygonPointIntersect),
/* harmony export */   "aabbAabbIntersect": () => (/* binding */ aabbAabbIntersect),
/* harmony export */   "distSquared2d": () => (/* binding */ distSquared2d),
/* harmony export */   "projectPointOnSegment": () => (/* binding */ projectPointOnSegment),
/* harmony export */   "intersectLineVsLine": () => (/* binding */ intersectLineVsLine)
/* harmony export */ });
function polygonPointIntersect(point, polygon) {
    const x = point.x;
    const y = point.y;
    let inside = false;
    // use some raycasting to test hits
    // https://github.com/substack/point-in-polygon/blob/master/index.js
    const length = polygon.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
        const xi = polygon[i * 2];
        const yi = polygon[(i * 2) + 1];
        const xj = polygon[j * 2];
        const yj = polygon[(j * 2) + 1];
        const intersect = ((yi > y) !== (yj > y)) && (x < ((xj - xi) * ((y - yi) / (yj - yi))) + xi);
        if (intersect) {
            inside = !inside;
        }
    }
    return inside;
}
function aabbAabbIntersect(al, at, ar, ab, bl, bt, br, bb) {
    return al < br && ar > bl && at < bb && ab > bt;
}
function distSquared2d(x1, y1, x2, y2) {
    let x = x1 - x2;
    let y = y1 - y2;
    return x * x + y * y;
}
function projectPointOnSegment(ax, ay, bx, by, px, py) {
    if (ax == bx && ay == ay)
        ax -= 0.00001;
    let u = ((px - ax) * (bx - ax)) + ((py - ay) * (by - ay));
    let udenom = Math.pow(bx - ax, 2) + Math.pow(by - ay, 2);
    u /= udenom;
    let rx = ax + (u * (bx - ax));
    let ry = ay + (u * (by - ay));
    let minx, maxx, miny, maxy;
    minx = Math.min(ax, bx);
    maxx = Math.max(ax, bx);
    miny = Math.min(ay, by);
    maxy = Math.max(ay, by);
    let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
    return isValid ? [rx, ry] : undefined;
}
function intersectLineVsLine(a1, a2, b1, b2, target) {
    let dbx = b2.x - b1.x;
    let dby = b2.y - b1.y;
    let dax = a2.x - a1.x;
    let day = a2.y - a1.y;
    let u_b = dby * dax - dbx * day;
    if (u_b == 0) {
        return false;
    }
    let ua = (dbx * (a1.y - b1.y) - dby * (a1.x - b1.x)) / u_b;
    if (target !== undefined) {
        target.set(a1.x - ua * -dax, a1.y - ua * -day);
    }
    return true;
}


/***/ }),

/***/ "./src/app/util/k2dTree.ts":
/*!*********************************!*\
  !*** ./src/app/util/k2dTree.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K2dTree": () => (/* binding */ K2dTree)
/* harmony export */ });
class Node {
    constructor(point, parent, dimension) {
        this.left = undefined;
        this.right = undefined;
        this.point = point;
        this.parent = parent;
        this.dimension = dimension;
    }
}
class K2dTree {
    constructor() {
        this.root = undefined;
    }
    distance(a, b) {
        let dx = a[0] - b[0];
        let dy = a[1] - b[1];
        return dx * dx + dy * dy;
    }
    lastSearch(point, node, parent) {
        while (node !== undefined) {
            parent = node;
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return parent;
    }
    nodeSearch(point) {
        let node = this.root;
        while (node !== undefined) {
            if (point[0] === node.point[0] && point[1] === node.point[1]) {
                return node;
            }
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return undefined;
    }
    insert(point) {
        let insertPosition = this.lastSearch(point, this.root, undefined);
        if (insertPosition === undefined) {
            this.root = new Node(point, undefined, 0);
            return;
        }
        let newNode = new Node(point, insertPosition, (insertPosition.dimension + 1) & 1);
        let dimension = insertPosition.dimension;
        if (point[dimension] < insertPosition.point[dimension]) {
            insertPosition.left = newNode;
        }
        else {
            insertPosition.right = newNode;
        }
    }
    findMin(node, dim) {
        if (node === undefined) {
            return undefined;
        }
        if (node.dimension === dim) {
            if (node.left !== undefined) {
                return this.findMin(node.left, dim);
            }
            return node;
        }
        let own = node.point[dim];
        let left = this.findMin(node.left, dim);
        let right = this.findMin(node.right, dim);
        let min = node;
        if (left !== undefined && left.point[dim] < own) {
            min = left;
        }
        if (right !== undefined && right.point[dim] < min.point[dim]) {
            min = right;
        }
        return min;
    }
    removeNode(node) {
        if (node.left === undefined && node.right === undefined) {
            if (node.parent === undefined) {
                this.root = undefined;
                return;
            }
            let dim = node.parent.dimension;
            if (node.point[dim] < node.parent.point[dim]) {
                node.parent.left = undefined;
            }
            else {
                node.parent.right = undefined;
            }
            return;
        }
        // If the right subtree is not empty, swap with the minimum element on the
        // node's dimension. If it is empty, we swap the left and right subtrees and
        // do the same.
        if (node.right !== undefined) {
            let nextNode = this.findMin(node.right, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.point = nextPoint;
        }
        else {
            let nextNode = this.findMin(node.left, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.right = node.left;
            node.left = undefined;
            node.point = nextPoint;
        }
    }
    remove(point) {
        let node = this.nodeSearch(point);
        if (node === undefined)
            return false;
        this.removeNode(node);
        return true;
    }
    nearestPoint(point, root) {
        root = root || this.root;
        if (root === undefined)
            return undefined;
        let ownDistance = this.distance(root.point, point);
        if (root.left === undefined && root.right === undefined) {
            return [root.point, ownDistance];
        }
        let bestChild;
        if (root.right === undefined) {
            bestChild = root.left;
        }
        else if (root.left === undefined) {
            bestChild = root.right;
        }
        else {
            if (point[root.dimension] < root.point[root.dimension]) {
                bestChild = root.left;
            }
            else {
                bestChild = root.right;
            }
        }
        let [bestChildNode, bestChildDist] = this.nearestPoint(point, bestChild);
        let bestNode;
        let bestDist;
        if (bestChildDist < ownDistance) {
            bestNode = bestChildNode;
            bestDist = bestChildDist;
        }
        else {
            bestNode = root.point;
            bestDist = ownDistance;
        }
        // Searched point projected to our axis
        let linearPoint = [point[0], point[1]];
        linearPoint[root.dimension] = root.point[root.dimension];
        let linearDist = this.distance(linearPoint, point);
        if (linearDist < bestDist) {
            let otherChild;
            if (bestChild === root.left) {
                otherChild = root.right;
            }
            else {
                otherChild = root.left;
            }
            if (otherChild !== undefined) {
                let [otherNode, otherDist] = this.nearestPoint(point, otherChild);
                if (otherDist < bestDist) {
                    bestNode = otherNode;
                    bestDist = otherDist;
                }
            }
        }
        return [bestNode, bestDist];
    }
}


/***/ }),

/***/ "./src/app/util/pixi.ts":
/*!******************************!*\
  !*** ./src/app/util/pixi.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DESTROY_ALL": () => (/* binding */ DESTROY_ALL),
/* harmony export */   "DESTROY_MIN": () => (/* binding */ DESTROY_MIN),
/* harmony export */   "loadTexture": () => (/* binding */ loadTexture),
/* harmony export */   "CUSTOM_BLEND_MODES": () => (/* binding */ CUSTOM_BLEND_MODES),
/* harmony export */   "addCustomBlendModes": () => (/* binding */ addCustomBlendModes)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");


const DESTROY_ALL = {
    children: true,
    texture: true,
    baseTexture: true,
};
const DESTROY_MIN = {
    children: false,
    texture: false,
    baseTexture: false,
};
const ALLOWED_IMAGETYPES = ['jpeg', 'png', 'x-jg', 'bmp', 'x-icon', 'ief', 'pjpeg', 'x-portable-bitmap', 'x-rgb', 'tiff', 'x-tiff'];
function validateImageMimeType(type) {
    if (!type.startsWith('image/'))
        throw 'Invalid type: it should be an image';
    if (ALLOWED_IMAGETYPES.indexOf(type.substr('image/'.length)) < 0)
        throw 'Unsupported image type';
}
function loadTexture(data, dataType) {
    validateImageMimeType(dataType);
    let typedArray = new Uint8Array(data);
    let b64 = 'data:' + dataType + ';base64,' + btoa(typedArray.reduce((data, byte) => {
        return data + String.fromCharCode(byte);
    }, ''));
    return new Promise((resolve, reject) => {
        let image = new Image();
        image.onload = () => {
            const tex = new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.Texture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.BaseTexture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__.default.resources.ImageResource(image)));
            resolve(tex);
        };
        image.onerror = reject;
        image.src = b64;
    });
}
var CUSTOM_BLEND_MODES;
(function (CUSTOM_BLEND_MODES) {
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["MULTIPLY_COLOR_ONLY"] = 30] = "MULTIPLY_COLOR_ONLY";
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["ADD_WHERE_ALPHA_1"] = 31] = "ADD_WHERE_ALPHA_1";
})(CUSTOM_BLEND_MODES || (CUSTOM_BLEND_MODES = {}));
function addCustomBlendModes() {
    let gl = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.gl;
    let array = _index__WEBPACK_IMPORTED_MODULE_1__.app.renderer.state.blendModes;
    array[CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY] = [gl.DST_COLOR, gl.ZERO, gl.ONE, gl.ZERO];
    array[CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1] = [gl.DST_ALPHA, gl.ONE, gl.ZERO, gl.ONE];
}


/***/ }),

/***/ "./src/app/util/safeEventEmitter.ts":
/*!******************************************!*\
  !*** ./src/app/util/safeEventEmitter.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SafeEventEmitter)
/* harmony export */ });
class SafeEventEmitter {
    constructor() {
        this.events = {};
    }
    emit(event, ...args) {
        let listeners = this.events[event];
        if (listeners === undefined || listeners.length === 0)
            return false;
        let length = listeners.length;
        for (let i = 0; i < length;) {
            let listener = listeners[i];
            try {
                listener.cb.call(listener.self, ...args);
            }
            catch (b) {
                console.error("Error while calling event " + event, b);
            }
            if (listener.once) {
                listeners.splice(i, 1);
                length--;
            }
            else {
                i++;
            }
        }
        return true;
    }
    /**
     * Add a listener for a given event.
     */
    on(event, fn, context) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [];
            this.events[event] = listeners;
        }
        listeners.push({
            cb: fn,
            self: context,
            once: false,
        });
        return this;
    }
    /**
     * Add a one-time listener for a given event.
     */
    once(event, fn, context) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [];
            this.events[event] = listeners;
        }
        listeners.push({
            cb: fn,
            self: context,
            once: true,
        });
        return this;
    }
    /**
     * Remove the listeners of a given event.
     */
    off(event, fn, context, once) {
        let listeners = this.events[event];
        if (listeners === undefined)
            throw 'Cannot find event ' + event;
        let length = listeners.length;
        for (let i = 0; i < length; i++) {
            let listener = listeners[i];
            if (listener.cb === fn && listener.self === context) {
                listeners.splice(i, 1);
                return this;
            }
        }
        throw 'Cannot find event ' + event;
    }
    /**
     * Remove all listeners, or those of the specified event.
     */
    removeAllListeners(event) {
        if (event !== undefined) {
            this.events[event] = [];
        }
        else {
            this.events = {};
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&");
/* harmony import */ var _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
/* harmony import */ var _compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "03d324d6",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/compWrapper.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&");
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "5efd7016",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsBackgroundImage.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&");
/* harmony import */ var _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "1862e8b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsDoor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue":
/*!*************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=template&id=724e011f&scoped=true& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&");
/* harmony import */ var _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "724e011f",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsLight.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue?vue&type=template&id=3e768912&scoped=true& */ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&");
/* harmony import */ var _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsName.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "3e768912",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsName.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&");
/* harmony import */ var _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "2effb2f9",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsNote.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue":
/*!***********************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&");
/* harmony import */ var _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "26d88e5e",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPin.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue":
/*!**************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&");
/* harmony import */ var _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "636ceea8",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPlayer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&");
/* harmony import */ var _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "e81e4da0",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPosition.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue":
/*!********************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");
/* harmony import */ var _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "08b2d1b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPropTeleport.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue":
/*!*****************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&");
/* harmony import */ var _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "4ee87bf5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsTransform.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&");
/* harmony import */ var _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "37e22e5e",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsWall.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue":
/*!******************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&");
/* harmony import */ var _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
/* harmony import */ var _entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "c407dbfa",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/entityInspect.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/editMap.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMap.vue?vue&type=template&id=53b46051&scoped=true& */ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&");
/* harmony import */ var _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editMap.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& */ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "53b46051",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/editMap.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue":
/*!**************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=template&id=69e6e221& */ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");
/* harmony import */ var _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/gridEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/footer.vue":
/*!*******************************!*\
  !*** ./src/app/ui/footer.vue ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer.vue?vue&type=template&id=539f2bff&scoped=true& */ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&");
/* harmony import */ var _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./footer.vue?vue&type=script&lang=ts& */ "./src/app/ui/footer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& */ "./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "539f2bff",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/footer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/home.vue":
/*!**********************************!*\
  !*** ./src/app/ui/home/home.vue ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _home_vue_vue_type_template_id_d8550b4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=d8550b4a&scoped=true& */ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&scoped=true&");
/* harmony import */ var _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=ts& */ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
/* harmony import */ var _home_vue_vue_type_style_index_0_id_d8550b4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css& */ "./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _home_vue_vue_type_template_id_d8550b4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _home_vue_vue_type_template_id_d8550b4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "d8550b4a",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/home.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue":
/*!**************************************!*\
  !*** ./src/app/ui/home/mapInput.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& */ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&");
/* harmony import */ var _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue?vue&type=script&lang=js& */ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "7e9d406c",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/mapInput.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    name: "mapInput",
    data() {
        return {
            file: null,
        }
    },
    methods: {
        onDrop: function (event) {

        },
        hideModal: function (event) {
          this.$emit("close");
        }
    }
});


/***/ }),

/***/ "./src/app/ui/loading/loading.vue":
/*!****************************************!*\
  !*** ./src/app/ui/loading/loading.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=b10af496& */ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");
/* harmony import */ var _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.vue?vue&type=script&lang=ts& */ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(
  _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!********************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!***********************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&":
/*!******************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&":
/*!********************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=template&id=724e011f&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=template&id=3e768912&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&":
/*!*********************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!***************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&":
/*!************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&":
/*!*************************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&");


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&":
/*!********************************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=template&id=53b46051&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&");


/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=template&id=69e6e221& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&":
/*!**************************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=template&id=539f2bff&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&");


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&scoped=true&":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&scoped=true& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=template&id=d8550b4a&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&scoped=true&");


/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=script&lang=js& */ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&":
/*!*********************************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&");


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=b10af496& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&":
/*!*************************************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_id_03d324d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&":
/*!***************************************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_id_c407dbfa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&":
/*!**********************************************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_id_53b46051_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&":
/*!****************************************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_id_539f2bff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css&":
/*!*******************************************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css& ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_d8550b4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_d8550b4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_d8550b4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_d8550b4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_d8550b4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", [
        _c(
          "div",
          { staticClass: "component-header" },
          [
            _c(
              "div",
              {
                staticStyle: { width: "100%" },
                on: {
                  click: function($event) {
                    _vm.visible = !_vm.visible
                  }
                }
              },
              [_vm._v(" " + _vm._s(_vm.component.type))]
            ),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component.clientVisible !== undefined,
                        expression: "component.clientVisible !== undefined"
                      }
                    ],
                    staticStyle: { display: "grid" },
                    attrs: {
                      squared: "",
                      size: "sm",
                      title: _vm.component.clientVisible
                        ? "Hide component"
                        : "Show component"
                    },
                    on: {
                      click: function($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          _vm.component.type,
                          "clientVisible",
                          !_vm.component.clientVisible
                        )
                      }
                    }
                  },
                  [
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: _vm.component.clientVisible,
                            expression: "component.clientVisible"
                          }
                        ],
                        staticClass: "g11"
                      },
                      [_c("i", { staticClass: "fas fa-eye" })]
                    ),
                    _vm._v(" "),
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: !_vm.component.clientVisible,
                            expression: "!component.clientVisible"
                          }
                        ],
                        staticClass: "g11"
                      },
                      [_c("i", { staticClass: "fas fa-eye-slash" })]
                    )
                  ]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._isFullscreen !== undefined,
                        expression: "component._isFullscreen !== undefined"
                      }
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "primary",
                      title: "Fullscreen"
                    },
                    on: {
                      click: function($event) {
                        _vm.component._isFullscreen = true
                      }
                    }
                  },
                  [_c("i", { staticClass: "fas fa-expand" })]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._canDelete,
                        expression: "component._canDelete"
                      }
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "danger",
                      title: "Delete"
                    },
                    on: {
                      click: function($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          "$",
                          "removeComponent",
                          _vm.component.type,
                          _vm.component.multiId
                        )
                      }
                    }
                  },
                  [_c("i", { staticClass: "fas fa-trash" })]
                )
              : _vm._e()
          ],
          1
        )
      ]),
      _vm._v(" "),
      _c(
        "b-collapse",
        {
          staticClass: "component-body",
          attrs: { visible: "" },
          model: {
            value: _vm.visible,
            callback: function($$v) {
              _vm.visible = $$v
            },
            expression: "visible"
          }
        },
        [
          _c(_vm.componentType, {
            tag: "component",
            attrs: {
              component: _vm.component,
              isAdmin: _vm.isAdmin,
              allComps: _vm.allComps
            },
            on: {
              "ecs-property-change": function($event) {
                return _vm.$emit(
                  "ecs-property-change",
                  arguments[0],
                  arguments[1],
                  arguments[2],
                  arguments[3]
                )
              }
            }
          })
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true&":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("span", [_vm._v("Your regular background image")])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Type:\n    "),
        !_vm.isAdmin
          ? _c("span", [
              _vm._v("\n      " + _vm._s(this.doorTypeName) + "\n    ")
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-form-select",
              {
                staticClass: "mb-3",
                model: {
                  value: _vm.doorType,
                  callback: function($$v) {
                    _vm.doorType = $$v
                  },
                  expression: "doorType"
                }
              },
              [
                _c("b-form-select-option", { attrs: { value: "normall" } }, [
                  _vm._v("Normal")
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "normalr" } }, [
                  _vm._v("Normal right")
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "rotate" } }, [
                  _vm._v("Rotating")
                ])
              ],
              1
            )
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        !_vm.isAdmin
          ? _c("span", [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))])
          : _vm._e(),
        _vm._v(" "),
        !_vm.isAdmin
          ? _c(
              "span",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: this.locked,
                    expression: "this.locked"
                  }
                ],
                staticStyle: { "margin-left": "0.5rem" }
              },
              [_c("i", { staticClass: "fas fa-lock" })]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.open },
                on: {
                  "update:pressed": function($event) {
                    _vm.open = $event
                  }
                }
              },
              [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.locked },
                on: {
                  "update:pressed": function($event) {
                    _vm.locked = $event
                  }
                }
              },
              [
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.locked,
                        expression: "locked"
                      }
                    ]
                  },
                  [_c("i", { staticClass: "fas fa-lock" })]
                ),
                _vm._v(" "),
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: !_vm.locked,
                        expression: "!locked"
                      }
                    ]
                  },
                  [_c("i", { staticClass: "fas fa-lock-open" })]
                )
              ]
            )
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true&":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Color:\n    "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "color" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.color,
                callback: function($$v) {
                  _vm.color = $$v
                },
                expression: "color"
              }
            })
          : _c("span", [_vm._v(_vm._s(_vm.color))])
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.range))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "1", min: "0", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.range,
                callback: function($$v) {
                  _vm.range = $$v
                },
                expression: "range"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("b-input", {
    attrs: { readonly: !_vm.isAdmin, placeholder: "Entity name" },
    on: { change: _vm.onChange },
    model: {
      value: _vm.component.name,
      callback: function($$v) {
        _vm.$set(_vm.component, "name", $$v)
      },
      expression: "component.name"
    }
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("b-textarea", {
        attrs: {
          placeholder: "Write something here...",
          readonly: !_vm.isAdmin
        },
        on: { change: _vm.onChange },
        model: {
          value: _vm.note,
          callback: function($$v) {
            _vm.note = $$v
          },
          expression: "note"
        }
      }),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          attrs: {
            title: "Note",
            "dialog-class": "modal-fullscreen modal-xxl",
            "hide-footer": "",
            "hide-header": ""
          },
          scopedSlots: _vm._u([
            {
              key: "modal-footer",
              fn: function() {
                return undefined
              },
              proxy: true
            }
          ]),
          model: {
            value: _vm.component._isFullscreen,
            callback: function($$v) {
              _vm.$set(_vm.component, "_isFullscreen", $$v)
            },
            expression: "component._isFullscreen"
          }
        },
        [
          _c("b-textarea", {
            staticStyle: { height: "100%", resize: "none" },
            attrs: {
              placeholder: "Write something here...",
              readonly: !_vm.isAdmin
            },
            on: { change: _vm.onChange },
            model: {
              value: _vm.note,
              callback: function($$v) {
                _vm.note = $$v
              },
              expression: "note"
            }
          })
        ],
        1
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm.isAdmin
        ? [
            _c("b-input", {
              attrs: { type: "color", readonly: !_vm.isAdmin },
              on: { change: _vm.onChange },
              model: {
                value: _vm.color,
                callback: function($$v) {
                  _vm.color = $$v
                },
                expression: "color"
              }
            }),
            _vm._v(" "),
            _c("b-input", {
              attrs: { readonly: !_vm.isAdmin, placeholder: "Label" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.label,
                callback: function($$v) {
                  _vm.label = $$v
                },
                expression: "label"
              }
            })
          ]
        : _vm._e()
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true&":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Night vision:\n    "),
        _vm.isAdmin
          ? _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.nightVision,
                callback: function($$v) {
                  _vm.nightVision = $$v
                },
                expression: "nightVision"
              }
            })
          : _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.nightVision ? "yes" : "no"))
            ])
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.range))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "1", min: "0", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.range,
                callback: function($$v) {
                  _vm.range = $$v
                },
                expression: "range"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    X: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.x))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.x,
                callback: function($$v) {
                  _vm.x = $$v
                },
                expression: "x"
              }
            })
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Y: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(" " + _vm._s(_vm.y))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.y,
                callback: function($$v) {
                  _vm.y = $$v
                },
                expression: "y"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", { staticStyle: { display: "flex", "align-items": "center" } }, [
        _vm._v("\n    Target: "),
        _c("span", { on: { click: _vm.focusTarget } }, [
          _vm._v(_vm._s(this.component.targetProp))
        ])
      ]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.link } }, [_vm._v("Link")]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.use } }, [_vm._v("Use")])
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true&":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Angle: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.rotation))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.rotation,
                callback: function($$v) {
                  _vm.rotation = $$v
                },
                expression: "rotation"
              }
            })
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Scale: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.scale))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.scale,
                callback: function($$v) {
                  _vm.scale = $$v
                },
                expression: "scale"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true&":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    W: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.w))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.w,
                callback: function($$v) {
                  _vm.w = $$v
                },
                expression: "w"
              }
            })
          : _vm._e()
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    H: "),
        !_vm.isAdmin
          ? _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.h))
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c("b-input", {
              attrs: { type: "number", step: "0.001", size: "sm" },
              on: { change: _vm.onChange },
              model: {
                value: _vm.h,
                callback: function($$v) {
                  _vm.h = $$v
                },
                expression: "h"
              }
            })
          : _vm._e()
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true&":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      directives: [
        {
          name: "show",
          rawName: "v-show",
          value: _vm.components.length > 0,
          expression: "components.length > 0"
        }
      ]
    },
    [
      _c(
        "div",
        { staticClass: "component-btn-header" },
        [
          _vm.isAdmin
            ? _c(
                "b-dropdown",
                {
                  attrs: { "toggle-class": "rounded-0", variant: "success" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "button-content",
                        fn: function() {
                          return [_c("i", { staticClass: "fas fa-plus" })]
                        },
                        proxy: true
                      }
                    ],
                    null,
                    false,
                    1774554641
                  )
                },
                [
                  _vm._v(" "),
                  _vm._l(_vm.selectedAddable, function(x) {
                    return _c(
                      "b-dropdown-item",
                      {
                        key: x.type,
                        on: {
                          click: function($event) {
                            return _vm.emitSpecial("addComponent", x.type)
                          }
                        }
                      },
                      [_vm._v("\n        " + _vm._s(x.name) + "\n      ")]
                    )
                  })
                ],
                2
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.isAdmin
            ? _c(
                "b-button",
                {
                  staticStyle: { display: "grid" },
                  attrs: {
                    squared: "",
                    title: _vm.entity.hidden ? "Show entity" : "Hide entity"
                  },
                  on: {
                    click: function($event) {
                      return _vm.emitSpecial("hidden", !_vm.entity.hidden)
                    }
                  }
                },
                [
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.entity.hidden ? "visible" : "hidden"
                      }
                    },
                    [_c("i", { staticClass: "fas fa-eye-slash" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.entity.hidden ? "hidden" : "visible"
                      }
                    },
                    [_c("i", { staticClass: "fas fa-eye" })]
                  )
                ]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.isAdmin
            ? _c(
                "b-button",
                {
                  attrs: {
                    variant: "danger",
                    title: "Delete entity",
                    squared: ""
                  },
                  on: {
                    click: function($event) {
                      return _vm.emitSpecial("delete")
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-trash" })]
              )
            : _vm._e()
        ],
        1
      ),
      _vm._v("\n\n  Id: " + _vm._s(_vm.entity.ids) + "\n  "),
      _vm._l(_vm.renderedComponents, function(comp) {
        return _c("ecs-component-wrapper", {
          key: comp.type + (comp.multiId || ""),
          attrs: {
            component: comp,
            isAdmin: _vm.isAdmin,
            allComps: _vm.allComponents
          },
          on: {
            "ecs-property-change": function($event) {
              return _vm.$emit(
                "ecs-property-change",
                arguments[0],
                arguments[1],
                arguments[2],
                arguments[3]
              )
            }
          }
        })
      })
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true&":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "game" },
    [
      _c(
        "b-button-toolbar",
        {
          staticClass: "bg-dark",
          staticStyle: {
            width: "100%",
            height: "var(--topbar-height)",
            "z-index": "1000"
          },
          attrs: { type: "dark", variant: "info", justify: "" }
        },
        [
          _vm.isAdmin
            ? _c(
                "b-button-group",
                { staticStyle: { "margin-right": "2rem" } },
                [
                  _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Undo", squared: "" }
                    },
                    [_c("i", { staticClass: "fas fa-undo" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Redo", squared: "", disabled: "" }
                    },
                    [_c("i", { staticClass: "fas fa-redo" })]
                  )
                ],
                1
              )
            : _vm._e(),
          _vm._v(" "),
          _c(
            "b-button-group",
            [
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn",
                  attrs: { title: "Inspect", squared: "" },
                  on: {
                    click: function($event) {
                      return _vm.changeTool("inspect")
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-hand-pointer" })]
              ),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Add wall", squared: "" },
                      on: {
                        click: function($event) {
                          return _vm.changeTool("create_wall")
                        }
                      }
                    },
                    [
                      _c(
                        "svg",
                        {
                          staticClass: "svg-inline--fa fa-w-16",
                          attrs: {
                            xmlns: "http://www.w3.org/2000/svg",
                            viewBox: "0 0 234.809 234.809",
                            "xml:space": "preserve"
                          }
                        },
                        [
                          _c("path", {
                            attrs: {
                              fill: "currentColor",
                              d:
                                "M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n                    c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n                    c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n                    c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n                    c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n                    H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                    c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n                    c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n                    c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n                    c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n                    H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n                    c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n                    c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z"
                            }
                          })
                        ]
                      )
                    ]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Add object", squared: "" },
                      on: {
                        click: function($event) {
                          return _vm.changeTool("create_prop")
                        }
                      }
                    },
                    [_c("i", { staticClass: "fas fa-plus" })]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Add pin", squared: "" },
                      on: {
                        click: function($event) {
                          return _vm.changeTool("create_pin")
                        }
                      }
                    },
                    [_c("i", { staticClass: "fas fa-thumbtack" })]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Edit grid", squared: "" },
                      on: {
                        click: function($event) {
                          return _vm.changeTool("grid")
                        }
                      }
                    },
                    [_c("i", { staticClass: "fas fa-border-all" })]
                  )
                : _vm._e(),
              _vm._v(" "),
              _vm.isAdmin
                ? _c(
                    "b-button",
                    {
                      staticClass: "toolbar-btn",
                      attrs: { title: "Light settings", squared: "" },
                      on: {
                        click: function($event) {
                          return _vm.changeTool("light")
                        }
                      }
                    },
                    [_c("i", { staticClass: "fas fa-lightbulb" })]
                  )
                : _vm._e()
            ],
            1
          ),
          _vm._v(" "),
          _vm.isAdmin
            ? _c(
                "b-button",
                {
                  staticClass: "btn-xs",
                  attrs: {
                    title: "Export map",
                    squared: "",
                    variant: "success"
                  },
                  on: {
                    click: function($event) {
                      return _vm.phase.exportMap()
                    }
                  }
                },
                [_c("i", { staticClass: "fas fa-download" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _c("div", { staticStyle: { flex: "1 1 0" } }),
          _vm._v(" "),
          _c(
            "b-button",
            {
              directives: [
                {
                  name: "b-toggle",
                  rawName: "v-b-toggle.sidebar-right",
                  modifiers: { "sidebar-right": true }
                }
              ],
              staticClass: "btn-xs",
              attrs: { title: "Toggle sidebar", variant: "warning" }
            },
            [_c("i", { staticClass: "fas fa-angle-double-right" })]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c("div", {
        staticStyle: {
          width: "100%",
          height: "calc(100vh - var(--topbar-height))"
        },
        attrs: { id: "canvas-container" }
      }),
      _vm._v(" "),
      _c(
        "b-sidebar",
        {
          attrs: {
            id: "sidebar-right",
            title: "Sidebar",
            "bg-variant": "dark",
            "text-variant": "light",
            right: "",
            visible: "",
            "no-header": "",
            shadow: "",
            "sidebar-class": "under-navbar"
          },
          scopedSlots: _vm._u([
            {
              key: "footer",
              fn: function() {
                return [
                  _c("div", { staticClass: "sidebar-footer" }, [
                    _vm._v(
                      "\n        " + _vm._s(_vm.connectionCount) + "\n        "
                    ),
                    _c(
                      "div",
                      {
                        class: { rotate: _vm.connectionBuffering },
                        staticStyle: { "margin-left": "0.2rem" }
                      },
                      [_c("i", { staticClass: "fas fa-sync-alt" })]
                    )
                  ])
                ]
              },
              proxy: true
            }
          ])
        },
        [
          _c("grid-edit", {
            directives: [
              {
                name: "show",
                rawName: "v-show",
                value: _vm.tool === "grid",
                expression: "tool === 'grid'"
              }
            ],
            staticClass: "px-3 py-2",
            attrs: { world: _vm.world }
          }),
          _vm._v(" "),
          _c(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.tool === "inspect",
                  expression: "tool === 'inspect'"
                }
              ]
            },
            [
              _c("entity-inspect", {
                attrs: {
                  components: this.selectedComponents,
                  entity: this.selectedEntityOpts,
                  isAdmin: _vm.isAdmin,
                  selectedAddable: _vm.selectedAddable
                },
                on: { "ecs-property-change": _vm.onEcsPropertyChange }
              })
            ],
            1
          ),
          _vm._v(" "),
          _c(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.tool === "light",
                  expression: "tool === 'light'"
                }
              ],
              staticClass: "px-3 py-2"
            },
            [
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Light:")]),
                  _vm._v(" "),
                  _c("b-input", {
                    attrs: { type: "color", readonly: !_vm.isAdmin },
                    on: { change: _vm.onAmbientLightChange },
                    model: {
                      value: _vm.light.ambientLight,
                      callback: function($$v) {
                        _vm.$set(_vm.light, "ambientLight", $$v)
                      },
                      expression: "light.ambientLight"
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Needs light:")]),
                  _vm._v(" "),
                  _c("b-form-checkbox", {
                    attrs: { readonly: !_vm.isAdmin },
                    on: { input: _vm.onAmbientLightChange },
                    model: {
                      value: _vm.light.needsLight,
                      callback: function($$v) {
                        _vm.$set(_vm.light, "needsLight", $$v)
                      },
                      expression: "light.needsLight"
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Vision type:")]),
                  _vm._v(" "),
                  _c(
                    "b-button",
                    {
                      attrs: {
                        pressed: _vm.light.roleplayVision,
                        readonly: !_vm.isAdmin
                      },
                      on: {
                        "update:pressed": function($event) {
                          return _vm.$set(_vm.light, "roleplayVision", $event)
                        }
                      }
                    },
                    [
                      _vm._v(
                        "\n          " +
                          _vm._s(
                            _vm.light.roleplayVision ? "Roleplayer" : "Master"
                          ) +
                          "\n        "
                      )
                    ]
                  )
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "d-flex flex-row align-items-center" },
                [
                  _c("div", {}, [_vm._v("Background:")]),
                  _vm._v(" "),
                  _c("b-input", {
                    attrs: { type: "color", readonly: !_vm.isAdmin },
                    on: { change: _vm.onAmbientLightChange },
                    model: {
                      value: _vm.light.background,
                      callback: function($$v) {
                        _vm.$set(_vm.light, "background", $$v)
                      },
                      expression: "light.background"
                    }
                  })
                ],
                1
              ),
              _vm._v(" "),
              _c(
                "div",
                [
                  _c("b-button", { on: { click: _vm.onLightSettingsReset } }, [
                    _vm._v("Reset")
                  ])
                ],
                1
              )
            ]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c("a", {
        staticStyle: { display: "none" },
        attrs: { id: "hidden-download-link" }
      })
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm._v("\n  Type:\n  "),
      _c(
        "b-radio-group",
        {
          attrs: { id: "grid-type-radio", buttons: "" },
          model: {
            value: _vm.grid.type,
            callback: function($$v) {
              _vm.$set(_vm.grid, "type", $$v)
            },
            expression: "grid.type"
          }
        },
        [
          _c("b-radio", { attrs: { value: "none" } }, [
            _c("i", { staticClass: "fas fa-border-none" })
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "square" } }, [
            _c("i", { staticClass: "far fa-square" })
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "hex" } }, [
            _c(
              "svg",
              {
                staticClass: "svg-inline--fa fa-hexagon fa-w-18",
                attrs: {
                  role: "img",
                  xmlns: "http://www.w3.org/2000/svg",
                  viewBox: "0 0 576 512"
                }
              },
              [
                _c("path", {
                  attrs: {
                    fill: "currentColor",
                    d:
                      "M441.5 39.8C432.9 25.1 417.1 16 400 16H176c-17.1 0-32.9 9.1-41.5 23.8l-112 192c-8.7 14.9-8.7 33.4 0 48.4l112 192c8.6 14.7 24.4 23.8 41.5 23.8h224c17.1 0 32.9-9.1 41.5-23.8l112-192c8.7-14.9 8.7-33.4 0-48.4l-112-192zM400 448H176L64 256 176 64h224l112 192-112 192z"
                  }
                })
              ]
            )
          ])
        ],
        1
      ),
      _vm._v(" "),
      _vm.grid.type !== "none"
        ? _c(
            "div",
            [
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Size:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "10",
                        max: "512",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.size,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "size", $$v)
                        },
                        expression: "grid.size"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "10", max: "512" },
                model: {
                  value: _vm.grid.size,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "size", $$v)
                  },
                  expression: "grid.size"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Xoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.offX,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "offX", $$v)
                        },
                        expression: "grid.offX"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offX,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "offX", $$v)
                  },
                  expression: "grid.offX"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Yoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.offY,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "offY", $$v)
                        },
                        expression: "grid.offY"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offY,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "offY", $$v)
                  },
                  expression: "grid.offY"
                }
              }),
              _vm._v("\n\n    Color: " + _vm._s(_vm.grid.color) + "\n    "),
              _c("b-input", {
                attrs: { type: "color" },
                model: {
                  value: _vm.grid.color,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "color", $$v)
                  },
                  expression: "grid.color"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Opacity:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.opacity,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "opacity", $$v)
                        },
                        expression: "grid.opacity"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.opacity,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "opacity", $$v)
                  },
                  expression: "grid.opacity"
                }
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Thickness:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "1",
                        max: "200",
                        size: "sm"
                      },
                      model: {
                        value: _vm.grid.thick,
                        callback: function($$v) {
                          _vm.$set(_vm.grid, "thick", $$v)
                        },
                        expression: "grid.thick"
                      }
                    })
                  ],
                  1
                )
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "1", max: "200" },
                model: {
                  value: _vm.grid.thick,
                  callback: function($$v) {
                    _vm.$set(_vm.grid, "thick", $$v)
                  },
                  expression: "grid.thick"
                }
              })
            ],
            1
          )
        : _vm._e()
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm._m(0)
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "footer" }, [
      _c("div", { staticClass: "credits" }, [
        _c("div", { staticClass: "links" }, [
          _c("a", {
            staticClass: "github",
            attrs: {
              href: "https://github.com/SnowyCoder/dndme",
              target: "_blank"
            }
          })
        ]),
        _vm._v(" "),
        _c("small", { staticStyle: { color: "lightgray" } }, [
          _vm._v("\n      Developed by "),
          _c(
            "a",
            {
              staticClass: "profile",
              attrs: { href: "https://github.com/SnowyCoder", target: "_blank" }
            },
            [_vm._v("Rossi Lorenzo")]
          ),
          _vm._v(" /\n      Drawings by "),
          _c("span", { staticStyle: { color: "white" } }, [
            _vm._v("Giorgia Nizzoli")
          ])
        ])
      ])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&scoped=true&":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&scoped=true& ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "phase-container text-center" },
    [
      _vm._m(0),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "warning", size: "lg" },
              on: { click: _vm.onCreateMap }
            },
            [_vm._v("Create Map")]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "info", size: "lg" },
              on: { click: _vm.onEditMap }
            },
            [_vm._v("Edit Map")]
          )
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          ref: "map-load-modal",
          attrs: { "hide-footer": "", title: "Gimme the map" }
        },
        [
          _c("b-form-file", {
            attrs: {
              state: Boolean(_vm.file),
              placeholder: "Choose a file or drop it here...",
              "drop-placeholder": "Drop file here...",
              accept: ".dndm"
            },
            model: {
              value: _vm.file,
              callback: function($$v) {
                _vm.file = $$v
              },
              expression: "file"
            }
          })
        ],
        1
      ),
      _vm._v(" "),
      _c("footer-component")
    ],
    1
  )
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "title-container" }, [
      _c("h1", { staticClass: "title h1" }, [_vm._v("DrawNDice")]),
      _vm._v(" "),
      _c("p", {}, [_vm._v("Dnd made ez!")])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true&":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    { ref: "my-modal", attrs: { "hide-footer": "", title: "Gimme the map" } },
    [
      _c("div", { staticClass: "d-block text-center" }, [
        _c("h3", [_vm._v("Insert map to load")])
      ]),
      _vm._v(" "),
      _c(
        "b-button",
        {
          staticClass: "mt-3",
          attrs: { variant: "outline-danger", block: "" },
          on: { click: _vm.hideModal }
        },
        [_vm._v("Cancel")]
      )
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm._m(0)
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", [
      _c("div", { staticClass: "title-container" }, [
        _c("h1", { staticClass: "title" }, [_vm._v("Carcassonne")]),
        _vm._v(" "),
        _c("small", [_vm._v("Loading...")])
      ])
    ])
  }
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&id=03d324d6&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("20adba36", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&id=c407dbfa&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("0e8a47b6", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&id=53b46051&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("cf98b6ba", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&id=539f2bff&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("7c681468", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&id=d8550b4a&scoped=true&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("6123dedb", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/style.css":
/*!******************************!*\
  !*** ./src/public/style.css ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! !../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("511f390e", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/spritesheets/props.json":
/*!********************************************!*\
  !*** ./src/public/spritesheets/props.json ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"frames":{"ladder_down.png":{"frame":{"x":0,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}},"ladder_up.png":{"frame":{"x":64,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}}},"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"1.0","image":"props.png","format":"RGBA8888","size":{"w":128,"h":64},"scale":"1","smartupdate":"$TexturePacker:SmartUpdate:e4f96f20e593ddd42c4cf1d50d2d8f26:7e60e2d391e00eeed0a16270f3c0f13d:f4c39b94f5b79b4c461da96ae5609d50$"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {};
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/app/index.ts","vendors-node_modules_fortawesome_fontawesome-free_js_all_js-node_modules_msgpack_msgpack_dist-1a4cc9"]
/******/ 		];
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkdrawndice"] = self["webpackChunkdrawndice"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// run startup
/******/ 	var __webpack_exports__ = __webpack_require__.x();
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/NTdjMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZT83YTQxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT80OGY0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT9hNjRkIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT8yYTBmIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvc3R5bGUuY3NzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvaW1hZ2VzL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3Byb3BzLnBuZyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9ub2RlX21vZHVsZXMvcGVlcmpzL2Rpc3R8c3luYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/YTkwYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzVmMTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/MGI4NyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/ZGZhYSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT83OTBlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlPzliNTYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT80NjdjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MjU0MyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/NTBjOSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wVGVsZXBvcnQudnVlPzBiOTgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZT8yZDllIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1dhbGwudnVlPzMxMjQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWU/ZTdiYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWU/YWI2ZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlPzIxY2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlPzYxNzUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlP2M2YTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlPzFjMWYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9QSVhJLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvYXNzZXRzTG9hZGVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9pbnRlcmFjdGlvbi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zdG9yYWdlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbUdyYXBoLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFja2dyb3VuZFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2Rvb3JTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9ncmlkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvaW50ZXJhY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL25ldHdvcmtTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9waW5TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9waXhpQm9hcmRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9waXhpR3JhcGhpY1N5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3Byb3BTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9zZWxlY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy90ZXh0U3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvdG9vbFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3Zpc2liaWxpdHlBd2FyZVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3Zpc2liaWxpdHlTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy93YWxsU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL2luc3BlY3QudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvdG9vbHMvdG9vbFR5cGUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvdG9vbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvd29ybGQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nYW1lL2dyaWQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nYW1lL3BvaW50REIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nYW1lL3BvaW50TGlnaHRSZW5kZXJlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L2FhYmIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9jb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9keW5hbWljVHJlZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dlb21ldHJ5L2xpbmUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9vYmIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS92aXNpYmlsaXR5UG9seWdvbi50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2dyYXBoaWNzLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9tYXAvZ2FtZU1hcC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL21hcC9tYXBMZXZlbC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL25ldHdvcmsvY2hhbm5lbC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL25ldHdvcmsvbmV0d29ya01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lY3NQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvY2xpZW50RWRpdE1hcFBoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvZWRpdE1hcFBoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWRpdE1hcC9ob3N0RWRpdE1hcFBoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvaG9tZVBoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvbG9hZGluZ1BoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvcGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9zdGFnZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3Z1ZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvYXJyYXkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2JpbmFyeUhlYXAudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2JpdFNldC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvZXZlbnRFbWl0dGVyV3JhcHBlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvZ2VvbWV0cnkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2syZFRyZWUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL3BpeGkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL3NhZmVFdmVudEVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTGlnaHQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05hbWUudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bpbi52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NUcmFuc2Zvcm0udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1dhbGwudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvc3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlP2ZhYzIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT8xM2Q0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlPzcyOTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTGlnaHQudnVlPzFiNWMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWU/ZDdjYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZT84MGUyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bpbi52dWU/ZTk5OSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQbGF5ZXIudnVlPzMwNTMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlPzMzMWMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZT9mZGFiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWU/MTQ3YiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZT8yNzQzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlP2ZiYWEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzA2Y2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZT9hODdiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT8yODE1Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT9mMzRjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9kMmMzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWU/MjM4MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/YmQxNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlPzI0OWIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWU/ZGY4MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWU/YzIxNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZT9iYTc4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlP2I1ODAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGluLnZ1ZT9jNmVmIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWU/MTk3MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQb3NpdGlvbi52dWU/OWZkZiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wVGVsZXBvcnQudnVlP2M5NDEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZT8zM2Y2Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1dhbGwudnVlPzRmOTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWU/MWQ0MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWU/N2NlNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlP2Q4YjEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlPzgzYWIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlPzZiYjUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZT8xY2Q1Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZT9mMGQ2Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZT9jODIwIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlP2M3YWYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzc5NzQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlP2I5MDEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlPzcxNjciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9zdHlsZS5jc3M/YmIwMyIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7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Q0FBQztRQUV2QixRQUFRLFFBQVEsRUFBRTtZQUNkLEtBQUssUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUN2QixNQUFNLEdBQUcsc0VBQWlCLENBQ3RCLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQ2QsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDN0IsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUNyQyxDQUFDO2dCQUVGLE1BQU07YUFDVDtZQUNELEtBQUssUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN4QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQyxNQUFNLEdBQUcsc0VBQWlCLENBQ3RCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQ2xELEtBQUssRUFDTCxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQ3pCLENBQUM7Z0JBRUYsTUFBTSxHQUFHLHNFQUFpQixDQUN0QixFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUNkLEtBQUssRUFDTCxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FB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QUM7SUFFRCxLQUFLLENBQUMsRUFBVSxFQUFFLEVBQVUsRUFBRSxNQUFZO1FBQ3RDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDM0IsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVELFFBQVEsQ0FBQyxLQUFXO1FBQ2hCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUMzQixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFD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Q0FBQyxHQUFHLENBQ04sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQzFDLEdBQUcsR0FBRyxDQUFDO0lBRVIsSUFBSSxDQUFDLEdBQUcsQ0FBQyx1REFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsdURBQU87UUFBRSxPQUFPLG1CQUFtQixDQUFDLElBQUksQ0FBQztJQUVyRSxNQUFNLENBQUMsR0FBRyxDQUNOLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUMxQyxHQUFHLEdBQUcsQ0FBQztJQUVSLElBQUksQ0FBQyxHQUFHLENBQUMsdURBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLHVEQUFPO1FBQUUsT0FBTyxtQkFBbUIsQ0FBQyxJQUFJLENBQUM7SUFFckUsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1FBQ3RCLE1BQU0sQ0FBQyxHQUFHLENBQ04sQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDL0IsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDbEMsQ0FBQztLQUNMO0lBRUQsSUFB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QTtXQUNBO1dBQ0E7V0FDQTtXQUNBLEVBQUU7V0FDRjtXQUNBO1dBQ0EsQ0FBQyxJOzs7OztXQ1BELHdGOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHNEQUFzRCxrQkFBa0I7V0FDeEU7V0FDQSwrQ0FBK0MsY0FBYztXQUM3RCxFOzs7OztXQ05BO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsRTs7Ozs7V0NKQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxrQzs7Ozs7V0NmQTs7V0FFQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsTUFBTSxvQkFBb0I7V0FDMUI7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQSxlQUFlLDRCQUE0QjtXQUMzQztXQUNBO1dBQ0EsZ0JBQWdCLDJCQUEyQjtXQUMzQztXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsNENBQTRDO1dBQzVDO1dBQ0EsRTs7Ozs7VUNwRkE7VUFDQSIsImZpbGUiOiJtYWluLjc2MjRiZWFkYzM4Mzc3MzY1ZDMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uY29tcG9uZW50LWhlYWRlcltkYXRhLXYtMDNkMzI0ZDZdIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuLmNvbXBvbmVudC1oZWFkZXIgYnV0dG9uW2RhdGEtdi0wM2QzMjRkNl06bGFzdC1jaGlsZCB7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcbi5jb21wb25lbnQtYm9keVtkYXRhLXYtMDNkMzI0ZDZdIHtcXG4gIG1hcmdpbi1sZWZ0OiAxMnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG4uZzExW2RhdGEtdi0wM2QzMjRkNl0ge1xcbiAgZ3JpZC1yb3c6IDE7XFxuICBncmlkLWNvbHVtbjogMTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFrRUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDQTtBQUVBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbXBvbmVudC1oZWFkZXJcXFwiPlxcbiAgICAgICAgPGRpdiBAY2xpY2s9XFxcInZpc2libGUgPSAhdmlzaWJsZVxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlXFxcIj4ge3sgY29tcG9uZW50LnR5cGUgfX08L2Rpdj5cXG4gICAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiBzcXVhcmVkIHNpemU9XFxcInNtXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogZ3JpZDtcXFwiXFxuICAgICAgICAgICAgICAgICAgOnRpdGxlPVxcXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZSA/ICdIaWRlIGNvbXBvbmVudCcgOiAnU2hvdyBjb21wb25lbnQnXFxcIlxcbiAgICAgICAgICAgICAgICAgIHYtc2hvdz1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGUgIT09IHVuZGVmaW5lZFxcXCJcXG4gICAgICAgICAgICAgICAgICBAY2xpY2s9XFxcIiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgY29tcG9uZW50LnR5cGUsICdjbGllbnRWaXNpYmxlJywgIWNvbXBvbmVudC5jbGllbnRWaXNpYmxlKVxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgdi1zaG93PVxcXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWVcXFwiLz48L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZzExXFxcIiB2LXNob3c9XFxcIiFjb21wb25lbnQuY2xpZW50VmlzaWJsZVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWUtc2xhc2hcXFwiLz48L2Rpdj5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgICA8Yi1idXR0b24gdi1pZj1cXFwiaXNBZG1pblxcXCIgc3F1YXJlZCBzaXplPVxcXCJzbVxcXCIgdmFyaWFudD1cXFwicHJpbWFyeVxcXCIgdGl0bGU9XFxcIkZ1bGxzY3JlZW5cXFwiXFxuICAgICAgICAgICAgICAgICAgdi1zaG93PVxcXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkXFxcIiBAY2xpY2s9XFxcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuID0gdHJ1ZVxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZXhwYW5kXFxcIi8+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgICAgPGItYnV0dG9uIHYtaWY9XFxcImlzQWRtaW5cXFwiIHNxdWFyZWQgc2l6ZT1cXFwic21cXFwiIHZhcmlhbnQ9XFxcImRhbmdlclxcXCIgdGl0bGU9XFxcIkRlbGV0ZVxcXCIgdi1zaG93PVxcXCJjb21wb25lbnQuX2NhbkRlbGV0ZVxcXCJcXG4gICAgICAgICAgICAgICAgICBAY2xpY2s9XFxcIiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJyQnLCAncmVtb3ZlQ29tcG9uZW50JywgY29tcG9uZW50LnR5cGUsIGNvbXBvbmVudC5tdWx0aUlkKVxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtdHJhc2hcXFwiLz5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8Yi1jb2xsYXBzZSB2LW1vZGVsPVxcXCJ2aXNpYmxlXFxcIiBjbGFzcz1cXFwiY29tcG9uZW50LWJvZHlcXFwiIHZpc2libGU+XFxuICAgICAgPGNvbXBvbmVudCB2LWJpbmQ6aXM9XFxcImNvbXBvbmVudFR5cGVcXFwiIHYtYmluZDpjb21wb25lbnQ9XFxcImNvbXBvbmVudFxcXCIgdi1iaW5kOmlzQWRtaW49XFxcImlzQWRtaW5cXFwiXFxuICAgICAgICAgICAgICAgICB2LWJpbmQ6YWxsQ29tcHM9XFxcImFsbENvbXBzXFxcIlxcbiAgICAgICAgICAgICAgICAgdi1vbjplY3MtcHJvcGVydHktY2hhbmdlPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSlcXFwiPlxcblxcbiAgICAgIDwvY29tcG9uZW50PlxcbiAgICA8L2ItY29sbGFwc2U+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBlY3NOYW1lIGZyb20gXFxcIi4vZWNzTmFtZS52dWVcXFwiO1xcbmltcG9ydCBlY3NOb3RlIGZyb20gXFxcIi4vZWNzTm90ZS52dWVcXFwiO1xcbmltcG9ydCBlY3NQb3NpdGlvbiBmcm9tIFxcXCIuL2Vjc1Bvc2l0aW9uLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1dhbGwgZnJvbSBcXFwiLi9lY3NXYWxsLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0JhY2tncm91bmRJbWFnZSBmcm9tIFxcXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWVcXFwiO1xcbmltcG9ydCBlY3NQaW4gZnJvbSBcXFwiLi9lY3NQaW4udnVlXFxcIjtcXG5pbXBvcnQgZWNzVHJhbnNmb3JtIGZyb20gXFxcIi4vZWNzVHJhbnNmb3JtLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0xpZ2h0IGZyb20gXFxcIi4vZWNzTGlnaHQudnVlXFxcIjtcXG5pbXBvcnQgZWNzUGxheWVyIGZyb20gXFxcIi4vZWNzUGxheWVyLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0Rvb3IgZnJvbSBcXFwiLi9lY3NEb29yLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1Byb3BUZWxlcG9ydCBmcm9tIFxcXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWVcXFwiO1xcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFxcXCIuLi8uLi9lY3MvY29tcG9uZW50XFxcIlxcbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7XFxuICAgIGVjc05hbWUsIGVjc05vdGUsIGVjc1Bvc2l0aW9uLCBlY3NXYWxsLCBlY3NCYWNrZ3JvdW5kSW1hZ2UsIGVjc1BpbiwgZWNzVHJhbnNmb3JtLCBlY3NMaWdodCwgZWNzUGxheWVyLCBlY3NEb29yLFxcbiAgICBlY3NQcm9wVGVsZXBvcnRcXG4gIH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0NvbXBvbmVudFdyYXBwZXIgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGNvbXBvbmVudCE6IENvbXBvbmVudDtcXG4gIEBWUHJvcCh7ZGVmYXVsdDogZmFsc2V9KSBpc0FkbWluITogYm9vbGVhbjtcXG4gIEBWUHJvcCgpIGFsbENvbXBzPzogQXJyYXk8Q29tcG9uZW50PjtcXG4gIHZpc2libGUgPSB0cnVlO1xcblxcbiAgZ2V0IGNvbXBvbmVudFR5cGUoKTogc3RyaW5nIHtcXG4gICAgcmV0dXJuICdlY3MtJyArIHRoaXMuY29tcG9uZW50LnR5cGUucmVwbGFjZSgnXycsICctJyk7XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZSBzY29wZWQ+XFxuLmNvbXBvbmVudC1oZWFkZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xcbn1cXG5cXG4uY29tcG9uZW50LWhlYWRlciBidXR0b246bGFzdC1jaGlsZCB7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcblxcbi5jb21wb25lbnQtYm9keSB7XFxuICBtYXJnaW4tbGVmdDogMTJweDtcXG4gIG1hcmdpbi1yaWdodDogMTJweDtcXG59XFxuXFxuLmcxMSB7XFxuICBncmlkLXJvdzogMTtcXG4gIGdyaWQtY29sdW1uOiAxO1xcbn1cXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5jb21wb25lbnQtYnRuLWhlYWRlcltkYXRhLXYtYzQwN2RiZmFdIHtcXG4gIG1hcmdpbjogMC41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG4uZzExW2RhdGEtdi1jNDA3ZGJmYV0ge1xcbiAgZ3JpZC1jb2x1bW46IDE7XFxuICBncmlkLXJvdzogMTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQTBFQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBQUNBO0FBRUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgdi1zaG93PVxcXCJjb21wb25lbnRzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb21wb25lbnQtYnRuLWhlYWRlclxcXCI+XFxuICAgICAgPGItZHJvcGRvd24gdG9nZ2xlLWNsYXNzPVxcXCJyb3VuZGVkLTBcXFwiIHZhcmlhbnQ9XFxcInN1Y2Nlc3NcXFwiIHYtaWY9XFxcImlzQWRtaW5cXFwiPlxcbiAgICAgICAgPHRlbXBsYXRlIHYtc2xvdDpidXR0b24tY29udGVudD5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1wbHVzXFxcIj48L2k+XFxuICAgICAgICA8L3RlbXBsYXRlPlxcbiAgICAgICAgPGItZHJvcGRvd24taXRlbSB2LWZvcj1cXFwieCBpbiBzZWxlY3RlZEFkZGFibGVcXFwiIDprZXk9XFxcIngudHlwZVxcXCIgQGNsaWNrPVxcXCJlbWl0U3BlY2lhbCgnYWRkQ29tcG9uZW50JywgeC50eXBlKVxcXCI+XFxuICAgICAgICAgIHt7IHgubmFtZSB9fVxcbiAgICAgICAgPC9iLWRyb3Bkb3duLWl0ZW0+XFxuICAgICAgPC9iLWRyb3Bkb3duPlxcbiAgICAgIDxiLWJ1dHRvbiBzcXVhcmVkIDp0aXRsZT1cXFwiZW50aXR5LmhpZGRlbiA/ICdTaG93IGVudGl0eScgOiAnSGlkZSBlbnRpdHknXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogZ3JpZFxcXCIgdi1pZj1cXFwiaXNBZG1pblxcXCJcXG4gICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJlbWl0U3BlY2lhbCgnaGlkZGVuJywgIWVudGl0eS5oaWRkZW4pXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgOnN0eWxlPVxcXCJ7dmlzaWJpbGl0eTogZW50aXR5LmhpZGRlbiA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nfVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWUtc2xhc2hcXFwiLz48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgOnN0eWxlPVxcXCJ7dmlzaWJpbGl0eTogZW50aXR5LmhpZGRlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnfVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWVcXFwiLz48L2Rpdj5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiB2YXJpYW50PVxcXCJkYW5nZXJcXFwiIHRpdGxlPVxcXCJEZWxldGUgZW50aXR5XFxcIiBzcXVhcmVkXFxuICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2RlbGV0ZScpXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtdHJhc2hcXFwiPjwvaT5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgSWQ6IHt7IGVudGl0eS5pZHMgfX1cXG4gICAgPGVjcy1jb21wb25lbnQtd3JhcHBlciB2LWZvcj1cXFwiY29tcCBvZiByZW5kZXJlZENvbXBvbmVudHNcXFwiIHYtYmluZDprZXk9XFxcImNvbXAudHlwZSArIChjb21wLm11bHRpSWQgfHwgJycpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtYmluZDpjb21wb25lbnQ9XFxcImNvbXBcXFwiIHYtYmluZDppc0FkbWluPVxcXCJpc0FkbWluXFxcIiB2LWJpbmQ6YWxsQ29tcHM9XFxcImFsbENvbXBvbmVudHNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQGVjcy1wcm9wZXJ0eS1jaGFuZ2U9XFxcIiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKVxcXCIvPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgRWNzQ29tcG9uZW50V3JhcHBlciBmcm9tIFxcXCIuL2NvbXBXcmFwcGVyLnZ1ZVxcXCI7XFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IHtDb21wb25lbnQsIFRyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcXFwiLi4vLi4vZWNzL2NvbXBvbmVudFxcXCI7XFxuXFxuQFZDb21wb25lbnQoe1xcbiAgY29tcG9uZW50czoge1xcbiAgICBFY3NDb21wb25lbnRXcmFwcGVyLFxcbiAgfVxcbn0pXFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5SW5zcGVjdCBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIGVudGl0eSE6IHtcXG4gICAgaGlkZGVuOiBib29sZWFuLFxcbiAgICBpZHM6IEFycmF5PG51bWJlcj5cXG4gIH07XFxuXFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIGNvbXBvbmVudHMhOiBBcnJheTxDb21wb25lbnQ+O1xcblxcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBpc0FkbWluITogYm9vbGVhbjtcXG5cXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxcbiAgc2VsZWN0ZWRBZGRhYmxlITogQXJyYXk8e25hbWU6IHN0cmluZ30+O1xcblxcbiAgZ2V0IHJlbmRlcmVkQ29tcG9uZW50cygpOiBBcnJheTxDb21wb25lbnQ+IHtcXG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5maWx0ZXIoKGM6IGFueSkgPT4gYy5fc2F2ZSAmJiBjLl9zeW5jKTtcXG4gIH1cXG5cXG4gIGdldCBhbGxDb21wb25lbnRzKCk6IHtba2V5OiBzdHJpbmddOiBDb21wb25lbnR9IHtcXG4gICAgbGV0IG0gPSB7fSBhcyBhbnk7XFxuICAgIGZvciAobGV0IGMgb2YgdGhpcy5jb21wb25lbnRzKSB7XFxuICAgICAgbVtjLnR5cGVdID0gYztcXG4gICAgfVxcbiAgICByZXR1cm4gbTtcXG4gIH1cXG5cXG4gIGVtaXRTcGVjaWFsKG5hbWU6IHN0cmluZywgcGFyOiB1bmtub3duKSB7XFxuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnJCcsIG5hbWUsIHBhcik7XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZSBzY29wZWQ+XFxuLmNvbXBvbmVudC1idG4taGVhZGVyIHtcXG4gIG1hcmdpbjogMC41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG5cXG4uZzExIHtcXG4gIGdyaWQtY29sdW1uOiAxO1xcbiAgZ3JpZC1yb3c6IDE7XFxufVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmdhbWVbZGF0YS12LTUzYjQ2MDUxXSB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLnRvb2xiYXItYnRuW2RhdGEtdi01M2I0NjA1MV0ge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xcbiAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xcbn1cXG4uc2lkZWJhci1mb290ZXJbZGF0YS12LTUzYjQ2MDUxXSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBdU5BO0VBQ0EsaUJBQUE7QUFDQTtBQUVBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7QUFDQTtBQUVBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJnYW1lXFxcIj5cXG5cXG4gICAgPGItYnV0dG9uLXRvb2xiYXIgdHlwZT1cXFwiZGFya1xcXCIgdmFyaWFudD1cXFwiaW5mb1xcXCIgY2xhc3M9XFxcImJnLWRhcmtcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiB2YXIoLS10b3BiYXItaGVpZ2h0KTsgei1pbmRleDogMTAwMDtcXFwiIGp1c3RpZnk+XFxuICAgICAgPGItYnV0dG9uLWdyb3VwIHYtaWY9XFxcImlzQWRtaW5cXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlnaHQ6IDJyZW1cXFwiPlxcbiAgICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJVbmRvXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0blxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtdW5kb1xcXCI+PC9pPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiUmVkb1xcXCIgc3F1YXJlZCBkaXNhYmxlZCBjbGFzcz1cXFwidG9vbGJhci1idG5cXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXJlZG9cXFwiPjwvaT5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgPC9iLWJ1dHRvbi1ncm91cD5cXG5cXG4gICAgICA8Yi1idXR0b24tZ3JvdXA+XFxuICAgICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIkluc3BlY3RcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIiB2LW9uOmNsaWNrPVxcXCJjaGFuZ2VUb29sKCdpbnNwZWN0JylcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWhhbmQtcG9pbnRlclxcXCI+PC9pPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiQWRkIHdhbGxcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIiB2LW9uOmNsaWNrPVxcXCJjaGFuZ2VUb29sKCdjcmVhdGVfd2FsbCcpXFxcIiB2LWlmPVxcXCJpc0FkbWluXFxcIj5cXG4gICAgICAgICAgPHN2ZyBjbGFzcz1cXFwic3ZnLWlubGluZS0tZmEgZmEtdy0xNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjM0LjgwOSAyMzQuODA5XFxcIlxcbiAgICAgICAgICAgICAgIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIiBkPVxcXCJNNy41LDUzLjk4OGMtNC4xMzUsMC03LjUtMy4zNjQtNy41LTcuNVYyMC41NzFjMC00LjEzNiwzLjM2NS03LjUsNy41LTcuNWg5NC45MDRjNC4xMzUsMCw3LjUsMy4zNjQsNy41LDcuNXYyNS45MTdcXG4gICAgICAgICAgICAgICAgICAgICAgYzAsNC4xMzYtMy4zNjUsNy41LTcuNSw3LjVINy41eiBNMjI3LjMwOSw1My45ODhjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNVYyMC41NzFjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0XFxuICAgICAgICAgICAgICAgICAgICAgIGMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgyMjcuMzA5eiBNMTY0Ljg1NiwxMDkuOTA0YzQuMTM1LDAsNy41LTMuMzY1LDcuNS03LjVWNzYuNDg4XFxuICAgICAgICAgICAgICAgICAgICAgIGMwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNSwzLjM2NSw3LjUsNy41LDcuNUgxNjQuODU2eiBNMzkuOTUyLDEwOS45MDRcXG4gICAgICAgICAgICAgICAgICAgICAgYzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjVWNzYuNDg4YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVIOC4wNDhjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVcXG4gICAgICAgICAgICAgICAgICAgICAgSDM5Ljk1MnogTTIyNi43NjEsMTA5LjkwNGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41aC0zMS45MDRjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3XFxuICAgICAgICAgICAgICAgICAgICAgIGMwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6IE0xMDIuNDA0LDE2NS44MjFjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzUtMy4zNjUtNy41LTcuNS03LjVINy41XFxuICAgICAgICAgICAgICAgICAgICAgIGMtNC4xMzUsMC03LjUsMy4zNjUtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgxMDIuNDA0eiBNMjI3LjMwOSwxNjUuODIxYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN1xcbiAgICAgICAgICAgICAgICAgICAgICBjMC00LjEzNS0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0Yy00LjEzNSwwLTcuNSwzLjM2NS03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDIyNy4zMDl6IE0xNjQuODU2LDIyMS43MzhcXG4gICAgICAgICAgICAgICAgICAgICAgYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41SDY5Ljk1MmMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNVxcbiAgICAgICAgICAgICAgICAgICAgICBIMTY0Ljg1NnogTTM5Ljk1MiwyMjEuNzM4YzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41SDguMDQ4Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN1xcbiAgICAgICAgICAgICAgICAgICAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgzOS45NTJ6IE0yMjYuNzYxLDIyMS43MzhjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVoLTMxLjkwNFxcbiAgICAgICAgICAgICAgICAgICAgICBjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVIMjI2Ljc2MXpcXFwiLz5cXG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIkFkZCBvYmplY3RcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIiB2LW9uOmNsaWNrPVxcXCJjaGFuZ2VUb29sKCdjcmVhdGVfcHJvcCcpXFxcIiB2LWlmPVxcXCJpc0FkbWluXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1wbHVzXFxcIj48L2k+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJBZGQgcGluXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0blxcXCIgdi1vbjpjbGljaz1cXFwiY2hhbmdlVG9vbCgnY3JlYXRlX3BpbicpXFxcIiB2LWlmPVxcXCJpc0FkbWluXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS10aHVtYnRhY2tcXFwiPjwvaT5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIkVkaXQgZ3JpZFxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG5cXFwiIHYtb246Y2xpY2s9XFxcImNoYW5nZVRvb2woJ2dyaWQnKVxcXCIgdi1pZj1cXFwiaXNBZG1pblxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYm9yZGVyLWFsbFxcXCIvPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiTGlnaHQgc2V0dGluZ3NcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuXFxcIiB2LW9uOmNsaWNrPVxcXCJjaGFuZ2VUb29sKCdsaWdodCcpXFxcIiB2LWlmPVxcXCJpc0FkbWluXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1saWdodGJ1bGJcXFwiLz5cXG4gICAgICAgIDwvYi1idXR0b24+XFxuICAgICAgPC9iLWJ1dHRvbi1ncm91cD5cXG4gICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIkV4cG9ydCBtYXBcXFwiIHNxdWFyZWQgdmFyaWFudD1cXFwic3VjY2Vzc1xcXCIgY2xhc3M9XFxcImJ0bi14c1xcXCIgdi1vbjpjbGljaz1cXFwicGhhc2UuZXhwb3J0TWFwKClcXFwiXFxuICAgICAgICAgICAgICAgIHYtaWY9XFxcImlzQWRtaW5cXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1kb3dubG9hZFxcXCIvPlxcbiAgICAgIDwvYi1idXR0b24+XFxuXFxuICAgICAgPGRpdiBzdHlsZT1cXFwiZmxleDogMSAxIDA7XFxcIi8+IDwhLS0gU3BhY2luZyAtLT5cXG4gICAgICA8Yi1idXR0b24gdGl0bGU9XFxcIlRvZ2dsZSBzaWRlYmFyXFxcIiB2YXJpYW50PVxcXCJ3YXJuaW5nXFxcIiBjbGFzcz1cXFwiYnRuLXhzXFxcIiB2LWItdG9nZ2xlLnNpZGViYXItcmlnaHQ+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWFuZ2xlLWRvdWJsZS1yaWdodFxcXCIvPlxcbiAgICAgIDwvYi1idXR0b24+XFxuICAgIDwvYi1idXR0b24tdG9vbGJhcj5cXG5cXG5cXG4gICAgPGRpdiBpZD1cXFwiY2FudmFzLWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSk7XFxcIj5cXG5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgIFNJREVCQVIgICAgICAtLT5cXG5cXG4gICAgPGItc2lkZWJhciBpZD1cXFwic2lkZWJhci1yaWdodFxcXCIgdGl0bGU9XFxcIlNpZGViYXJcXFwiXFxuICAgICAgICAgICAgICAgYmctdmFyaWFudD1cXFwiZGFya1xcXCIgdGV4dC12YXJpYW50PVxcXCJsaWdodFxcXCIgcmlnaHQgdmlzaWJsZSBuby1oZWFkZXIgc2hhZG93XFxuICAgICAgICAgICAgICAgc2lkZWJhci1jbGFzcz1cXFwidW5kZXItbmF2YmFyXFxcIj5cXG4gICAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBHUklEIENPTlRST0wgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxcbiAgICAgIDxncmlkLWVkaXQgY2xhc3M9XFxcInB4LTMgcHktMlxcXCIgdi1zaG93PVxcXCJ0b29sID09PSAnZ3JpZCdcXFwiIHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiLz5cXG4gICAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBFTlRJVFkgSU5TUEVDVE9SICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cXG4gICAgICA8ZGl2IHYtc2hvdz1cXFwidG9vbCA9PT0gJ2luc3BlY3QnXFxcIj5cXG4gICAgICAgIDxlbnRpdHktaW5zcGVjdFxcbiAgICAgICAgICAgIHYtYmluZDpjb21wb25lbnRzPVxcXCJ0aGlzLnNlbGVjdGVkQ29tcG9uZW50c1xcXCJcXG4gICAgICAgICAgICB2LWJpbmQ6ZW50aXR5PVxcXCJ0aGlzLnNlbGVjdGVkRW50aXR5T3B0c1xcXCJcXG4gICAgICAgICAgICB2LWJpbmQ6aXNBZG1pbj1cXFwiaXNBZG1pblxcXCJcXG4gICAgICAgICAgICB2LWJpbmQ6c2VsZWN0ZWRBZGRhYmxlPVxcXCJzZWxlY3RlZEFkZGFibGVcXFwiXFxuICAgICAgICAgICAgQGVjcy1wcm9wZXJ0eS1jaGFuZ2U9XFxcIm9uRWNzUHJvcGVydHlDaGFuZ2VcXFwiLz5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBMSUdIVCBTRVRUSU5HUyAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwicHgtMyBweS0yXFxcIiB2LXNob3c9XFxcInRvb2wgPT09ICdsaWdodCdcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIlxcXCI+TGlnaHQ6PC9kaXY+XFxuICAgICAgICAgIDxiLWlucHV0IHR5cGU9XFxcImNvbG9yXFxcIiB2LW1vZGVsPVxcXCJsaWdodC5hbWJpZW50TGlnaHRcXFwiIDpyZWFkb25seT1cXFwiIWlzQWRtaW5cXFwiXFxuICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XFxcIm9uQW1iaWVudExpZ2h0Q2hhbmdlXFxcIj48L2ItaW5wdXQ+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcXFwiPk5lZWRzIGxpZ2h0OjwvZGl2PlxcbiAgICAgICAgICA8Yi1mb3JtLWNoZWNrYm94IHYtbW9kZWw9XFxcImxpZ2h0Lm5lZWRzTGlnaHRcXFwiIEBpbnB1dD1cXFwib25BbWJpZW50TGlnaHRDaGFuZ2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgOnJlYWRvbmx5PVxcXCIhaXNBZG1pblxcXCI+PC9iLWZvcm0tY2hlY2tib3g+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcXFwiPlZpc2lvbiB0eXBlOjwvZGl2PlxcbiAgICAgICAgICA8Yi1idXR0b24gOnByZXNzZWQuc3luYz1cXFwibGlnaHQucm9sZXBsYXlWaXNpb25cXFwiIDpyZWFkb25seT1cXFwiIWlzQWRtaW5cXFwiPlxcbiAgICAgICAgICAgIHt7IGxpZ2h0LnJvbGVwbGF5VmlzaW9uID8gXFxcIlJvbGVwbGF5ZXJcXFwiIDogXFxcIk1hc3RlclxcXCIgfX1cXG4gICAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIlxcXCI+QmFja2dyb3VuZDo8L2Rpdj5cXG4gICAgICAgICAgPGItaW5wdXQgdHlwZT1cXFwiY29sb3JcXFwiIHYtbW9kZWw9XFxcImxpZ2h0LmJhY2tncm91bmRcXFwiIDpyZWFkb25seT1cXFwiIWlzQWRtaW5cXFwiXFxuICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XFxcIm9uQW1iaWVudExpZ2h0Q2hhbmdlXFxcIj48L2ItaW5wdXQ+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxiLWJ1dHRvbiBAY2xpY2s9XFxcIm9uTGlnaHRTZXR0aW5nc1Jlc2V0XFxcIj5SZXNldDwvYi1idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICA8dGVtcGxhdGUgdi1zbG90OmZvb3Rlcj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNpZGViYXItZm9vdGVyXFxcIj5cXG4gICAgICAgICAge3sgY29ubmVjdGlvbkNvdW50IH19XFxuICAgICAgICAgIDxkaXYgdi1iaW5kOmNsYXNzPVxcXCJ7IHJvdGF0ZTogY29ubmVjdGlvbkJ1ZmZlcmluZyB9XFxcIiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6IDAuMnJlbVxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zeW5jLWFsdFxcXCI+PC9pPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvdGVtcGxhdGU+XFxuICAgIDwvYi1zaWRlYmFyPlxcblxcbiAgICA8YSBpZD1cXFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCIvPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgVnVlIGZyb20gXFxcInZ1ZVxcXCI7XFxuXFxuaW1wb3J0IEVudGl0eUluc3BlY3QgZnJvbSBcXFwiLi4vZWNzL2VudGl0eUluc3BlY3QudnVlXFxcIjtcXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcXFwiLi4vLi4vZWNzL2NvbXBvbmVudFxcXCI7XFxuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3Jlc291cmNlXFxcIjtcXG5pbXBvcnQge0FkZENvbXBvbmVudH0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvc2VsZWN0aW9uU3lzdGVtXFxcIjtcXG5pbXBvcnQge0RFRkFVTFRfTElHSFRfU0VUVElOR1MsIExpZ2h0U2V0dGluZ3MsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cXFwiO1xcbmltcG9ydCB7U2VsZWN0aW9uU3lzdGVtfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9zZWxlY3Rpb25TeXN0ZW1cXFwiO1xcbmltcG9ydCBQSVhJIGZyb20gXFxcIi4uLy4uL1BJWElcXFwiO1xcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xcbmltcG9ydCB7VG9vbH0gZnJvbSBcXFwiLi4vLi4vZWNzL3Rvb2xzL3Rvb2xUeXBlXFxcIjtcXG5pbXBvcnQge1Rvb2xSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3N5c3RlbXMvdG9vbFN5c3RlbVxcXCI7XFxuaW1wb3J0IEdyaWRFZGl0IGZyb20gXFxcIi4vZ3JpZEVkaXQudnVlXFxcIjtcXG5cXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHtcXG4gIGNvbXBvbmVudHM6IHtHcmlkRWRpdCwgRW50aXR5SW5zcGVjdH0sXFxuICBwcm9wczogWydwaGFzZScsICd3b3JsZCcsICdpc0FkbWluJ10sXFxuICBkYXRhKCkge1xcbiAgICByZXR1cm4ge1xcbiAgICAgIHRvb2w6ICdpbnNwZWN0JyxcXG4gICAgICBjb25uZWN0aW9uQ291bnQ6IDAsXFxuICAgICAgY29ubmVjdGlvbkJ1ZmZlcmluZzogZmFsc2UsXFxuICAgICAgbGlnaHQ6IHtcXG4gICAgICAgIGFtYmllbnRMaWdodDogJyMwMDAwMDAnLFxcbiAgICAgICAgbmVlZHNMaWdodDogdHJ1ZSxcXG4gICAgICAgIHJvbGVwbGF5VmlzaW9uOiBmYWxzZSxcXG4gICAgICAgIGJhY2tncm91bmQ6ICcjMDAwMDAwJ1xcbiAgICAgIH0sXFxuICAgICAgc2VsZWN0ZWRDb21wb25lbnRzOiBuZXcgQXJyYXk8Q29tcG9uZW50PigpLFxcbiAgICAgIHNlbGVjdGVkRW50aXR5T3B0czoge30sXFxuICAgICAgc2VsZWN0ZWRBZGRhYmxlOiBuZXcgQXJyYXk8QWRkQ29tcG9uZW50PigpLFxcbiAgICB9O1xcbiAgfSxcXG4gIG1ldGhvZHM6IHtcXG4gICAgY2hhbmdlVG9vbCh0b29sOiBUb29sKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5lZGl0UmVzb3VyY2UoJ3Rvb2wnLCB7dG9vbH0pO1xcbiAgICB9LFxcblxcbiAgICBvbkVjc1Byb3BlcnR5Q2hhbmdlKHR5cGU6IHN0cmluZywgcHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSwgbXVsdGlJZDogbnVtYmVyKSB7XFxuICAgICAgbGV0IHNlbGVjdGlvblN5cyA9IHRoaXMucGhhc2Uud29ybGQuc3lzdGVtcy5nZXQoJ3NlbGVjdGlvbicpIGFzIFNlbGVjdGlvblN5c3RlbTtcXG4gICAgICBzZWxlY3Rpb25TeXMuc2V0UHJvcGVydHkodHlwZSwgcHJvcGVydHksIHZhbHVlLCBtdWx0aUlkKTtcXG4gICAgfSxcXG5cXG4gICAgb25BbWJpZW50TGlnaHRDaGFuZ2UoKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5hZGRSZXNvdXJjZSh7XFxuICAgICAgICB0eXBlOiAnbGlnaHRfc2V0dGluZ3MnLFxcbiAgICAgICAgYW1iaWVudExpZ2h0OiBzdHJpbmcyaGV4KHRoaXMubGlnaHQuYW1iaWVudExpZ2h0KSxcXG4gICAgICAgIG5lZWRzTGlnaHQ6IHRoaXMubGlnaHQubmVlZHNMaWdodCxcXG4gICAgICAgIGJhY2tncm91bmQ6IHN0cmluZzJoZXgodGhpcy5saWdodC5iYWNrZ3JvdW5kKSxcXG4gICAgICB9IGFzIExpZ2h0U2V0dGluZ3MsICd1cGRhdGUnKTtcXG4gICAgfSxcXG4gICAgb25MaWdodFNldHRpbmdzUmVzZXQoKSB7XFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5hZGRSZXNvdXJjZShPYmplY3QuYXNzaWduKHtcXG4gICAgICAgIHR5cGU6ICdsaWdodF9zZXR0aW5ncycsXFxuICAgICAgfSwgREVGQVVMVF9MSUdIVF9TRVRUSU5HUykgYXMgTGlnaHRTZXR0aW5ncywgJ3VwZGF0ZScpO1xcbiAgICAgIHRoaXMucmVsb2FkTGlnaHQoKTtcXG4gICAgfSxcXG4gICAgcmVsb2FkTGlnaHQoKSB7XFxuICAgICAgbGV0IGxpZ2h0ID0gdGhpcy5waGFzZS53b3JsZC5nZXRSZXNvdXJjZSgnbGlnaHRfc2V0dGluZ3MnKSBhcyBMaWdodFNldHRpbmdzO1xcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0ID0gaGV4MnN0cmluZyhsaWdodC5hbWJpZW50TGlnaHQpO1xcbiAgICAgIHRoaXMubGlnaHQubmVlZHNMaWdodCA9IGxpZ2h0Lm5lZWRzTGlnaHQ7XFxuICAgICAgdGhpcy5saWdodC5iYWNrZ3JvdW5kID0gaGV4MnN0cmluZyhsaWdodC5iYWNrZ3JvdW5kKTtcXG4gICAgICBsZXQgbGxpZ2h0ID0gdGhpcy5waGFzZS53b3JsZC5nZXRSZXNvdXJjZSgnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XFxuICAgICAgdGhpcy5saWdodC5yb2xlcGxheVZpc2lvbiA9IGxsaWdodC52aXNpb25UeXBlID09PSAncnAnO1xcbiAgICB9LFxcbiAgICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcXG4gICAgICBpZiAocmVzLnR5cGUgPT09ICdsaWdodF9zZXR0aW5ncycgfHwgcmVzLnR5cGUgPT09ICdsb2NhbF9saWdodF9zZXR0aW5ncycpIHRoaXMucmVsb2FkTGlnaHQoKTtcXG4gICAgICBlbHNlIGlmIChyZXMudHlwZSA9PT0gJ3Rvb2wnKSB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XFxuICAgIH1cXG4gIH0sXFxuICB3YXRjaDoge1xcbiAgICAnbGlnaHQucm9sZXBsYXlWaXNpb24nOiBmdW5jdGlvbiAoKSB7XFxuICAgICAgbGV0IHZpc2lvblR5cGUgPSB0aGlzLmxpZ2h0LnJvbGVwbGF5VmlzaW9uID8gJ3JwJyA6ICdkbSc7XFxuXFxuICAgICAgdGhpcy5waGFzZS53b3JsZC5lZGl0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJywge3Zpc2lvblR5cGV9KTtcXG4gICAgfVxcbiAgfSxcXG4gIG1vdW50ZWQoKSB7XFxuICAgIC8vdGhpcy53b3JsZCA9IHRoaXMucGhhc2Uud29ybGQ7XFxuICAgIHRoaXMucmVsb2FkTGlnaHQoKTtcXG5cXG4gICAgdGhpcy5waGFzZS53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCk7XFxuICB9LFxcbiAgLyp1bm1vdW50ZWQoKSB7Ly8gVE9ETzogdnVlM1xcbiAgICB0aGlzLnBoYXNlLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCk7XFxuICB9LCovXFxufSk7XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlIHNjb3BlZD5cXG4uZ2FtZSB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxuLnRvb2xiYXItYnRuIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcXG4gIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcXG59XFxuXFxuLnNpZGViYXItZm9vdGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcXG59XFxuPC9zdHlsZT5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIGZyb20gXCIuLi8uLi9wdWJsaWMvaW1hZ2VzL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmNyZWRpdHNbZGF0YS12LTUzOWYyYmZmXSB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcbi5naXRodWJbZGF0YS12LTUzOWYyYmZmXSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxufVxcbi5naXRodWJbZGF0YS12LTUzOWYyYmZmXTpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcbi5wcm9maWxlW2RhdGEtdi01MzlmMmJmZl0ge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4ucHJvZmlsZVtkYXRhLXYtNTM5ZjJiZmZdOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9mb290ZXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFxQkE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7QUFDQTtBQUVBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlEQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY3JlZGl0c1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibGlua3NcXFwiPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1Nub3d5Q29kZXIvZG5kbWVcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiZ2l0aHViXFxcIj48L2E+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPHNtYWxsIHN0eWxlPVxcXCJjb2xvcjogbGlnaHRncmF5XFxcIj5cXG4gICAgICAgIERldmVsb3BlZCBieSA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2RlclxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJwcm9maWxlXFxcIj5Sb3NzaSBMb3JlbnpvPC9hPiAvXFxuICAgICAgICBEcmF3aW5ncyBieSA8c3BhbiBzdHlsZT1cXFwiY29sb3I6IHdoaXRlXFxcIj5HaW9yZ2lhIE5penpvbGk8L3NwYW4+XFxuICAgICAgPC9zbWFsbD5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBWdWUgZnJvbSBcXFwidnVlXFxcIjtcXG5cXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcXG48L3NjcmlwdD5cXG5cXG48c3R5bGUgc2NvcGVkPlxcbi5jcmVkaXRzIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuLmdpdGh1YiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiflB1YmxpYy9pbWFnZXMvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmdcXFwiKTtcXG59XFxuXFxuLmdpdGh1Yjpob3ZlciB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbi5wcm9maWxlIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLnByb2ZpbGU6aG92ZXIge1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5idG4tZW50cnlbZGF0YS12LWQ4NTUwYjRhXSB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQTBFQTtFQUNBLG1CQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwicGhhc2UtY29udGFpbmVyIHRleHQtY2VudGVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGl0bGUtY29udGFpbmVyXFxcIj5cXG4gICAgICA8aDEgY2xhc3M9XFxcInRpdGxlIGgxXFxcIj5EcmF3TkRpY2U8L2gxPlxcbiAgICAgIDxwIGNsYXNzPVxcXCJcXFwiPkRuZCBtYWRlIGV6ITwvcD5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXY+XFxuICAgICAgPGItYnV0dG9uIHZhcmlhbnQ9XFxcIndhcm5pbmdcXFwiIHNpemU9XFxcImxnXFxcIiBjbGFzcz1cXFwiYnRuLWVudHJ5XFxcIiB2LW9uOmNsaWNrPVxcXCJvbkNyZWF0ZU1hcFxcXCI+Q3JlYXRlIE1hcDwvYi1idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxiLWJ1dHRvbiB2YXJpYW50PVxcXCJpbmZvXFxcIiBzaXplPVxcXCJsZ1xcXCIgY2xhc3M9XFxcImJ0bi1lbnRyeVxcXCIgdi1vbjpjbGljaz1cXFwib25FZGl0TWFwXFxcIj5FZGl0IE1hcDwvYi1idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8Yi1tb2RhbCByZWY9XFxcIm1hcC1sb2FkLW1vZGFsXFxcIiBoaWRlLWZvb3RlciB0aXRsZT1cXFwiR2ltbWUgdGhlIG1hcFxcXCI+XFxuICAgICAgPGItZm9ybS1maWxlXFxuICAgICAgICAgIHYtbW9kZWw9XFxcImZpbGVcXFwiXFxuICAgICAgICAgIDpzdGF0ZT1cXFwiQm9vbGVhbihmaWxlKVxcXCJcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIkNob29zZSBhIGZpbGUgb3IgZHJvcCBpdCBoZXJlLi4uXFxcIlxcbiAgICAgICAgICBkcm9wLXBsYWNlaG9sZGVyPVxcXCJEcm9wIGZpbGUgaGVyZS4uLlxcXCJcXG4gICAgICAgICAgYWNjZXB0PVxcXCIuZG5kbVxcXCJcXG4gICAgICA+PC9iLWZvcm0tZmlsZT5cXG4gICAgPC9iLW1vZGFsPlxcblxcbiAgICA8Zm9vdGVyLWNvbXBvbmVudD48L2Zvb3Rlci1jb21wb25lbnQ+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBGb290ZXJDb21wb25lbnQgZnJvbSBcXFwiLi4vZm9vdGVyLnZ1ZVxcXCI7XFxuaW1wb3J0IE1hcElucHV0IGZyb20gXFxcIi4vbWFwSW5wdXQudnVlXFxcIjtcXG5cXG5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZ1ZSwgUGhhc2VWdWUsIFZXYXRjaCwgVlJlZn0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XFxuaW1wb3J0IHtCTW9kYWx9IGZyb20gXFxcImJvb3RzdHJhcC12dWVcXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHsgTWFwSW5wdXQsIEZvb3RlckNvbXBvbmVudCB9XFxufSlcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lQ29tcG9uZW50IGV4dGVuZHMgVnVlIGltcGxlbWVudHMgUGhhc2VWdWUge1xcbiAgQFZSZWYoJ21hcC1sb2FkLW1vZGFsJykgcmVhZG9ubHkgbWFwTG9hZE1vZGFsITogQk1vZGFsO1xcblxcbiAgZmlsZTogYW55ID0gbnVsbDtcXG4gIHBlbmRpbmdPcDogc3RyaW5nID0gXFxcIlxcXCI7XFxuICBldmVudEVtaXR0ZXIhOiBFdmVudEVtaXR0ZXI7XFxuXFxuICBvbkNyZWF0ZU1hcCgpIHtcXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcXFwiY3JlYXRlX21hcFxcXCIpO1xcbiAgfVxcblxcbiAgb25FZGl0TWFwKCkge1xcbiAgICB0aGlzLnBlbmRpbmdPcCA9ICdlZGl0JztcXG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuc2hvdygpO1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFxcXCJlZGl0X21hcFxcXCIpO1xcbiAgfVxcblxcbiAgbWFwTG9hZENhbmNlbCgpIHtcXG4gICAgdGhpcy5tYXBMb2FkTW9kYWwuaGlkZSgpO1xcbiAgfVxcblxcbiAgQFZXYXRjaCgnZmlsZScpXFxuICBvbkZpbGVDaGFuZ2VkKHZhbDogYW55KSB7XFxuICAgIGlmICh2YWwgPT0gbnVsbCkgcmV0dXJuO1xcblxcbiAgICBjb25zb2xlLmxvZyhcXFwiRmlsZSBkcm9wcGVkLCBsb2FkaW5nOiBcXFwiICsgdGhpcy5wZW5kaW5nT3ApO1xcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHRoaXMucGVuZGluZ09wLCB0aGlzLmZpbGUpO1xcbiAgICB0aGlzLmZpbGUgPSBudWxsO1xcbiAgICB0aGlzLm1hcExvYWRDYW5jZWwoKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlIHNjb3BlZD5cXG4uYnRuLWVudHJ5IHtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbjwvc3R5bGU+XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3NcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzFfX18gZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC12dWUvZGlzdC9ib290c3RyYXAtdnVlLmNzc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TWVyaWVuZGErT25lJmRpc3BsYXk9c3dhcCk7XCJdKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIjpyb290IHtcXG4gICAgLS10b3BiYXItaGVpZ2h0OiA0MHB4O1xcbn1cXG5cXG4qIHtcXG4gICAgZm9udC1mYW1pbHk6ICdNZXJpZW5kYSBPbmUnLCBjdXJzaXZlO1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgY29sb3I6IHdoaXRlO1xcblxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBZ0FBQUFJQ0FZQUFBREVENzZMQUFBQVBrbEVRVlFvVTJOa1lHQXdabUJnT01zQUFTRDJjd1lHaG1jd1BpT1VJY1hBd0NDSnBCRE9oeW5BMEFrekNhUUEyUW9NazBBS1FJSndPK252Qm1NQWsyWVd2RGhZQlJvQUFBQUFTVVZPUks1Q1lJST0pO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU0NzJjICFpbXBvcnRhbnQ7XFxufVxcblxcbi5waGFzZS1jb250YWluZXIge1xcbn1cXG5cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogODkwcHgpIHtcXG4gICAgLmZvb3RlciB7XFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcbiAgICB9XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4taGVpZ2h0OiA4OTBweCkge1xcbiAgICAuZm9vdGVyIHtcXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgIGJvdHRvbTogMDtcXG4gICAgfVxcbn1cXG5cXG4udW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuZGl2LnVuZGVyLW5hdmJhciB7XFxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvcGJhci1oZWlnaHQpICFpbXBvcnRhbnQ7XFxufVxcblxcbi5iLXNpZGViYXIudW5kZXItbmF2YmFyIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpO1xcbn1cXG5cXG4uZm9vdGVyLCAuZ2FtZS1mb290ZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxuLmJ0bi14cyB7XFxuICAgIHBhZGRpbmc6IC4yNXJlbSAuNHJlbTtcXG4gICAgZm9udC1zaXplOiAuODc1cmVtO1xcbiAgICBsaW5lLWhlaWdodDogLjU7XFxuICAgIGJvcmRlci1yYWRpdXM6IC4ycmVtO1xcbn1cXG5cXG4ubW9kYWwtZnVsbHNjcmVlbiB7XFxuICAgIGhlaWdodDogOTIlO1xcbn1cXG4ubW9kYWwtZnVsbHNjcmVlbiAubW9kYWwtY29udGVudCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuLm1vZGFsLXh4bCB7XFxuICAgIHdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG4gICAgbWF4LXdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG59XFxuXFxuI2NhbnZhcy1jb250YWluZXIgY2FudmFzIHtcXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcXG59XFxuXFxuLnJvdGF0ZSB7XFxuICAgIGFuaW1hdGlvbjogcm90YXRpb24gMXMgaW5maW5pdGUgbGluZWFyO1xcbn1cXG5cXG4vKiogQU5JTUFUSU9OUyAqKi9cXG5cXG5Aa2V5ZnJhbWVzIHJvdGF0aW9uIHtcXG4gICAgZnJvbSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgfVxcbiAgICB0byB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xcbiAgICB9XFxufVxcblxcblxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9wdWJsaWMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUlBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksb0NBQW9DO0FBQ3hDOztBQUVBO0lBQ0ksWUFBWTs7SUFFWiw2TUFBNk07SUFDN00sb0NBQW9DO0FBQ3hDOztBQUVBO0FBQ0E7OztBQUdBO0lBQ0k7UUFDSSxnQkFBZ0I7SUFDcEI7QUFDSjs7QUFFQTtJQUNJO1FBQ0ksZUFBZTtRQUNmLFNBQVM7SUFDYjtBQUNKOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMENBQTBDO0FBQzlDOztBQUVBO0lBQ0ksV0FBVztJQUNYLHFDQUFxQztBQUN6Qzs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZjtBQUNBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHNDQUFzQztBQUMxQzs7QUFFQSxpQkFBaUI7O0FBRWpCO0lBQ0k7UUFDSSx1QkFBdUI7SUFDM0I7SUFDQTtRQUNJLHlCQUF5QjtJQUM3QjtBQUNKXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU1lcmllbmRhK09uZSZkaXNwbGF5PXN3YXAnKTtcXG5AaW1wb3J0ICd+Ym9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3MnO1xcbkBpbXBvcnQgJ35ib290c3RyYXAtdnVlL2Rpc3QvYm9vdHN0cmFwLXZ1ZS5jc3MnO1xcblxcbjpyb290IHtcXG4gICAgLS10b3BiYXItaGVpZ2h0OiA0MHB4O1xcbn1cXG5cXG4qIHtcXG4gICAgZm9udC1mYW1pbHk6ICdNZXJpZW5kYSBPbmUnLCBjdXJzaXZlO1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgY29sb3I6IHdoaXRlO1xcblxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBZ0FBQUFJQ0FZQUFBREVENzZMQUFBQVBrbEVRVlFvVTJOa1lHQXdabUJnT01zQUFTRDJjd1lHaG1jd1BpT1VJY1hBd0NDSnBCRE9oeW5BMEFrekNhUUEyUW9NazBBS1FJSndPK252Qm1NQWsyWVd2RGhZQlJvQUFBQUFTVVZPUks1Q1lJST0pO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU0NzJjICFpbXBvcnRhbnQ7XFxufVxcblxcbi5waGFzZS1jb250YWluZXIge1xcbn1cXG5cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogODkwcHgpIHtcXG4gICAgLmZvb3RlciB7XFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcbiAgICB9XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4taGVpZ2h0OiA4OTBweCkge1xcbiAgICAuZm9vdGVyIHtcXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgIGJvdHRvbTogMDtcXG4gICAgfVxcbn1cXG5cXG4udW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuZGl2LnVuZGVyLW5hdmJhciB7XFxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvcGJhci1oZWlnaHQpICFpbXBvcnRhbnQ7XFxufVxcblxcbi5iLXNpZGViYXIudW5kZXItbmF2YmFyIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpO1xcbn1cXG5cXG4uZm9vdGVyLCAuZ2FtZS1mb290ZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxuLmJ0bi14cyB7XFxuICAgIHBhZGRpbmc6IC4yNXJlbSAuNHJlbTtcXG4gICAgZm9udC1zaXplOiAuODc1cmVtO1xcbiAgICBsaW5lLWhlaWdodDogLjU7XFxuICAgIGJvcmRlci1yYWRpdXM6IC4ycmVtO1xcbn1cXG5cXG4ubW9kYWwtZnVsbHNjcmVlbiB7XFxuICAgIGhlaWdodDogOTIlO1xcbn1cXG4ubW9kYWwtZnVsbHNjcmVlbiAubW9kYWwtY29udGVudCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuLm1vZGFsLXh4bCB7XFxuICAgIHdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG4gICAgbWF4LXdpZHRoOiA5MiUgIWltcG9ydGFudDtcXG59XFxuXFxuI2NhbnZhcy1jb250YWluZXIgY2FudmFzIHtcXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcXG59XFxuXFxuLnJvdGF0ZSB7XFxuICAgIGFuaW1hdGlvbjogcm90YXRpb24gMXMgaW5maW5pdGUgbGluZWFyO1xcbn1cXG5cXG4vKiogQU5JTUFUSU9OUyAqKi9cXG5cXG5Aa2V5ZnJhbWVzIHJvdGF0aW9uIHtcXG4gICAgZnJvbSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgfVxcbiAgICB0byB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xcbiAgICB9XFxufVxcblxcblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMjY2Y2E2MzE3N2JjYTZmMzMwYTc0ZTgzZmRjNjMxNzgucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ2MWYzNTc5MjlmOWY4ZDYzZGEyMGI4MWU3NDNhMDk5LnBuZ1wiOyIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gKCkgPT4gKFtdKTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gXCIuL25vZGVfbW9kdWxlcy9wZWVyanMvZGlzdCBzeW5jIHJlY3Vyc2l2ZVwiO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrRW1wdHlDb250ZXh0OyIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBlY3NOYW1lIGZyb20gXCIuL2Vjc05hbWUudnVlXCI7XG5pbXBvcnQgZWNzTm90ZSBmcm9tIFwiLi9lY3NOb3RlLnZ1ZVwiO1xuaW1wb3J0IGVjc1Bvc2l0aW9uIGZyb20gXCIuL2Vjc1Bvc2l0aW9uLnZ1ZVwiO1xuaW1wb3J0IGVjc1dhbGwgZnJvbSBcIi4vZWNzV2FsbC52dWVcIjtcbmltcG9ydCBlY3NCYWNrZ3JvdW5kSW1hZ2UgZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZVwiO1xuaW1wb3J0IGVjc1BpbiBmcm9tIFwiLi9lY3NQaW4udnVlXCI7XG5pbXBvcnQgZWNzVHJhbnNmb3JtIGZyb20gXCIuL2Vjc1RyYW5zZm9ybS52dWVcIjtcbmltcG9ydCBlY3NMaWdodCBmcm9tIFwiLi9lY3NMaWdodC52dWVcIjtcbmltcG9ydCBlY3NQbGF5ZXIgZnJvbSBcIi4vZWNzUGxheWVyLnZ1ZVwiO1xuaW1wb3J0IGVjc0Rvb3IgZnJvbSBcIi4vZWNzRG9vci52dWVcIjtcbmltcG9ydCBlY3NQcm9wVGVsZXBvcnQgZnJvbSBcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCJcbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBlY3NOYW1lLCBlY3NOb3RlLCBlY3NQb3NpdGlvbiwgZWNzV2FsbCwgZWNzQmFja2dyb3VuZEltYWdlLCBlY3NQaW4sIGVjc1RyYW5zZm9ybSwgZWNzTGlnaHQsIGVjc1BsYXllciwgZWNzRG9vcixcbiAgICBlY3NQcm9wVGVsZXBvcnRcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0NvbXBvbmVudFdyYXBwZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgY29tcG9uZW50ITogQ29tcG9uZW50O1xuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSkgaXNBZG1pbiE6IGJvb2xlYW47XG4gIEBWUHJvcCgpIGFsbENvbXBzPzogQXJyYXk8Q29tcG9uZW50PjtcbiAgdmlzaWJsZSA9IHRydWU7XG5cbiAgZ2V0IGNvbXBvbmVudFR5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2Vjcy0nICsgdGhpcy5jb21wb25lbnQudHlwZS5yZXBsYWNlKCdfJywgJy0nKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQge0JhY2tncm91bmRJbWFnZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRTeXN0ZW1cIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0JhY2tncm91bmRJbWFnZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBjb21wb25lbnQhOiBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ7XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge0Rvb3JDb21wb25lbnQsIERvb3JUeXBlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvZG9vclN5c3RlbVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzRG9vciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KSBjb21wb25lbnQhOiBEb29yQ29tcG9uZW50O1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgZG9vclR5cGU6IERvb3JUeXBlID0gRG9vclR5cGUuTk9STUFMX1JJR0hUO1xuICBvcGVuOiBib29sZWFuID0gZmFsc2U7XG4gIGxvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5kb29yVHlwZSAhPT0gdGhpcy5kb29yVHlwZSkge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdkb29yJywgJ2Rvb3JUeXBlJywgdGhpcy5kb29yVHlwZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbXBvbmVudC5vcGVuICE9PSB0aGlzLm9wZW4pIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnZG9vcicsICdvcGVuJywgdGhpcy5vcGVuKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LmxvY2tlZCAhPT0gdGhpcy5sb2NrZWQpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnZG9vcicsICdsb2NrZWQnLCB0aGlzLmxvY2tlZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGRvb3JUeXBlTmFtZSgpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcy5kb29yVHlwZSkge1xuICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfTEVGVDpcbiAgICAgICAgcmV0dXJuIFwiTm9ybWFsXCI7XG4gICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9SSUdIVDpcbiAgICAgICAgcmV0dXJuIFwiTm9ybWFsIHJpZ2h0XCI7XG4gICAgICBjYXNlIERvb3JUeXBlLlJPVEFURTpcbiAgICAgICAgcmV0dXJuIFwiUm90YXRpbmdcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIlVua25vd24/P1wiXG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmRvb3JUeXBlJylcbiAgb25DRG9vclR5cGVDaGFuZ2VkKHZhbDogRG9vclR5cGUpIHtcbiAgICB0aGlzLmRvb3JUeXBlID0gdmFsO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm9wZW4nKVxuICBvbkNPcGVuQ2hhbmdlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wZW4gPSB2YWw7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubG9ja2VkJylcbiAgb25DTG9ja2VkQ2hhbmdlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmxvY2tlZCA9IHZhbDtcbiAgfVxuXG4gIEBWV2F0Y2goJ2Rvb3JUeXBlJylcbiAgb25Eb29yVHlwZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG5cbiAgQFZXYXRjaCgnb3BlbicpXG4gIG9uT3BlbkNoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG5cbiAgQFZXYXRjaCgnbG9ja2VkJylcbiAgb25Mb2NrZWRDaGFuZ2VkKCkge1xuICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0xpZ2h0Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NMaWdodCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBMaWdodENvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgY29sb3I6IHN0cmluZyA9ICcnO1xuICByYW5nZTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IGMgPSBzdHJpbmcyaGV4KHRoaXMuY29sb3IpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5jb2xvciAhPT0gYyAmJiB0aGlzLmNvbG9yICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdsaWdodCcsICdjb2xvcicsIGMpO1xuICAgIH1cbiAgICBsZXQgciA9IHBhcnNlSW50KHRoaXMucmFuZ2UpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5yYW5nZSAhPT0gciAmJiB0aGlzLnJhbmdlICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdsaWdodCcsICdyYW5nZScsIHIpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5jb2xvcicpXG4gIG9uQ0NvbG9yQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuY29sb3IgPSB2YWwgPT09IHVuZGVmaW5lZCA/ICcnIDogaGV4MnN0cmluZyh2YWwpO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnJhbmdlJylcbiAgb25DUmFuZ2VDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5yYW5nZSA9ICh2YWwgPz8gJycpICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtOYW1lQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTmFtZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBOYW1lQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBuYW1lOiBzdHJpbmcgPSAnJztcblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubmFtZScpXG4gIG9uQ05hbWVDaGFuZ2VkKHZhbDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5uYW1lID0gdmFsID8/ICcnO1xuICB9XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICduYW1lJywgJ25hbWUnLCB0aGlzLm5hbWUsIHRoaXMuY29tcG9uZW50Lm11bHRpSWQpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtOb3RlQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTm90ZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBOb3RlQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBub3RlOiBzdHJpbmcgPSAnJztcblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubm90ZScpXG4gIG9uQ05vdGVDaGFuZ2VkKHZhbDogc3RyaW5nKSB7XG4gICAgdGhpcy5ub3RlID0gdmFsO1xuICB9XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdub3RlJywgJ25vdGUnLCB0aGlzLm5vdGUsIHRoaXMuY29tcG9uZW50Lm11bHRpSWQpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1BpbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BpblN5c3RlbVwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1BpbiBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBQaW5Db21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIGNvbG9yOiBzdHJpbmcgPSAnJztcbiAgbGFiZWw6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCBjID0gc3RyaW5nMmhleCh0aGlzLmNvbG9yKTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQuY29sb3IgIT09IGMgJiYgdGhpcy5jb2xvciAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGluJywgJ2NvbG9yJywgYyk7XG4gICAgfVxuICAgIGxldCBsYWJlbDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5sYWJlbDtcbiAgICBpZiAoIWxhYmVsKSBsYWJlbCA9IHVuZGVmaW5lZDtcbiAgICBpZiAobGFiZWwgIT09IHRoaXMuY29tcG9uZW50LmxhYmVsKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3BpbicsICdsYWJlbCcsIGxhYmVsKTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQuY29sb3InKVxuICBvbkNDb2xvckNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmNvbG9yID0gdmFsID09PSB1bmRlZmluZWQgPyBcIlwiIDogaGV4MnN0cmluZyh2YWwpO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmxhYmVsJylcbiAgb25DTGFiZWxDaGFuZ2VkKHZhbDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5sYWJlbCA9IHZhbCA/PyBcIlwiO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1BsYXllckNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUGxheWVyIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBsYXllckNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgbmlnaHRWaXNpb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgcmFuZ2U6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5uaWdodFZpc2lvbiAhPT0gdGhpcy5uaWdodFZpc2lvbikge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwbGF5ZXInLCAnbmlnaHRWaXNpb24nLCB0aGlzLm5pZ2h0VmlzaW9uKTtcbiAgICB9XG4gICAgbGV0IGMgPSBwYXJzZUludCh0aGlzLnJhbmdlKTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQucmFuZ2UgIT09IGMgJiYgdGhpcy5yYW5nZSAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncGxheWVyJywgJ3JhbmdlJywgYyk7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50Lm5pZ2h0VmlzaW9uJylcbiAgb25DTmlnaHRWaXNpb25DaGFuZ2VkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMubmlnaHRWaXNpb24gPSB2YWw7XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQucmFuZ2UnKVxuICBvbkNSYW5nZUNoYW5nZWQodmFsOiBudW1iZXIpIHtcbiAgICB0aGlzLnJhbmdlID0gdmFsICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1Bvc2l0aW9uIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBvc2l0aW9uQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICB4OiBzdHJpbmcgPSAnJztcbiAgeTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IHggPSBwYXJzZUZsb2F0KHRoaXMueCk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LnggIT09IHggJiYgdGhpcy54ICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwb3NpdGlvbicsICd4JywgeCk7XG4gICAgfVxuICAgIGxldCB5ID0gcGFyc2VGbG9hdCh0aGlzLnkpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC55ICE9PSB5ICYmIHRoaXMueSAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncG9zaXRpb24nLCAneScsIHkpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC54JylcbiAgb25DeENoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnggPSAodmFsID8/ICcnKSArICcnO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnknKVxuICBvbkN5Q2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMueSA9ICh2YWwgPz8gJycpICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UHJvcFRlbGVwb3J0fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcHJvcFN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUHJvcFRlbGVwb3J0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFByb3BUZWxlcG9ydDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgZm9jdXNUYXJnZXQoKSB7XG4gICAgY29uc29sZS53YXJuKFwiVE9ETzogZm9jdXMgdGFyZ2V0XCIpXG4gIH1cblxuICBsaW5rKCkge1xuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnQCcsICdwcm9wX3RlbGVwb3J0X2xpbmsnLCB0aGlzLmNvbXBvbmVudC5lbnRpdHkpO1xuICB9XG5cbiAgdXNlKCkge1xuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnQCcsICdwcm9wX3VzZScsIHRoaXMuY29tcG9uZW50LmVudGl0eSk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge0RFR19UT19SQUQsIFJBRF9UT19ERUd9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1RyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1RyYW5zZm9ybSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBUcmFuc2Zvcm1Db21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIHJvdGF0aW9uOiBzdHJpbmcgPSAnJztcbiAgc2NhbGU6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLnJvdGF0aW9uICE9PSAnJykge1xuICAgICAgbGV0IHIgPSBNYXRoLm1pbihNYXRoLm1heChwYXJzZUZsb2F0KHRoaXMucm90YXRpb24pLCAwKSwgMzYwKTtcbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5yb3RhdGlvbiAhPT0gcikge1xuICAgICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3RyYW5zZm9ybScsICdyb3RhdGlvbicsIHIgKiBERUdfVE9fUkFEKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc2NhbGUgIT09ICcnKSB7XG4gICAgICBsZXQgcyA9IHBhcnNlRmxvYXQodGhpcy5zY2FsZSk7XG4gICAgICBpZiAodGhpcy5jb21wb25lbnQuc2NhbGUgIT09IHMpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICd0cmFuc2Zvcm0nLCAnc2NhbGUnLCBzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQucm90YXRpb24nKVxuICBvbkNSb3RhdGlvbkNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnJvdGF0aW9uID0gKHZhbCA/PyAwKSAqIFJBRF9UT19ERUcgKyAnJztcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5zY2FsZScpXG4gIG9uQ1NjYWxlQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2NhbGUgPSAodmFsID8/IDApICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7V2FsbENvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3dhbGxTeXN0ZW1cIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1dhbGwgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogV2FsbENvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgdzogc3RyaW5nID0gJyc7XG4gIGg6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCB3ID0gcGFyc2VGbG9hdCh0aGlzLncpO1xuICAgIGxldCBoID0gcGFyc2VGbG9hdCh0aGlzLmgpO1xuICAgIGlmICgodGhpcy5jb21wb25lbnQudmVjWzBdICE9PSB3ICYmIHRoaXMudyAhPT0gJycpIHx8ICh0aGlzLmNvbXBvbmVudC52ZWNbMV0gIT09IGggJiYgdGhpcy5oICE9PSAnJykpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnd2FsbCcsICd2ZWMnLCBbdywgaF0pO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC52ZWMnKVxuICBvbkN4Q2hhbmdlZCh2ZWM6IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQpIHtcbiAgICBpZiAodmVjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudyA9ICcnO1xuICAgICAgdGhpcy5oID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudyA9IHZlY1swXSArICcnO1xuICAgICAgdGhpcy5oID0gdmVjWzFdICsgJyc7XG4gICAgfVxuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgRWNzQ29tcG9uZW50V3JhcHBlciBmcm9tIFwiLi9jb21wV3JhcHBlci52dWVcIjtcbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0NvbXBvbmVudCwgVHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFY3NDb21wb25lbnRXcmFwcGVyLFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5SW5zcGVjdCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBlbnRpdHkhOiB7XG4gICAgaGlkZGVuOiBib29sZWFuLFxuICAgIGlkczogQXJyYXk8bnVtYmVyPlxuICB9O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnRzITogQXJyYXk8Q29tcG9uZW50PjtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIHNlbGVjdGVkQWRkYWJsZSE6IEFycmF5PHtuYW1lOiBzdHJpbmd9PjtcblxuICBnZXQgcmVuZGVyZWRDb21wb25lbnRzKCk6IEFycmF5PENvbXBvbmVudD4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuZmlsdGVyKChjOiBhbnkpID0+IGMuX3NhdmUgJiYgYy5fc3luYyk7XG4gIH1cblxuICBnZXQgYWxsQ29tcG9uZW50cygpOiB7W2tleTogc3RyaW5nXTogQ29tcG9uZW50fSB7XG4gICAgbGV0IG0gPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgYyBvZiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgIG1bYy50eXBlXSA9IGM7XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9XG5cbiAgZW1pdFNwZWNpYWwobmFtZTogc3RyaW5nLCBwYXI6IHVua25vd24pIHtcbiAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJyQnLCBuYW1lLCBwYXIpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgRW50aXR5SW5zcGVjdCBmcm9tIFwiLi4vZWNzL2VudGl0eUluc3BlY3QudnVlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCB7QWRkQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0RFRkFVTFRfTElHSFRfU0VUVElOR1MsIExpZ2h0U2V0dGluZ3MsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1NlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi8uLi9lY3MvdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7VG9vbFJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvdG9vbFN5c3RlbVwiO1xuaW1wb3J0IEdyaWRFZGl0IGZyb20gXCIuL2dyaWRFZGl0LnZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHtcbiAgY29tcG9uZW50czoge0dyaWRFZGl0LCBFbnRpdHlJbnNwZWN0fSxcbiAgcHJvcHM6IFsncGhhc2UnLCAnd29ybGQnLCAnaXNBZG1pbiddLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sOiAnaW5zcGVjdCcsXG4gICAgICBjb25uZWN0aW9uQ291bnQ6IDAsXG4gICAgICBjb25uZWN0aW9uQnVmZmVyaW5nOiBmYWxzZSxcbiAgICAgIGxpZ2h0OiB7XG4gICAgICAgIGFtYmllbnRMaWdodDogJyMwMDAwMDAnLFxuICAgICAgICBuZWVkc0xpZ2h0OiB0cnVlLFxuICAgICAgICByb2xlcGxheVZpc2lvbjogZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjMDAwMDAwJ1xuICAgICAgfSxcbiAgICAgIHNlbGVjdGVkQ29tcG9uZW50czogbmV3IEFycmF5PENvbXBvbmVudD4oKSxcbiAgICAgIHNlbGVjdGVkRW50aXR5T3B0czoge30sXG4gICAgICBzZWxlY3RlZEFkZGFibGU6IG5ldyBBcnJheTxBZGRDb21wb25lbnQ+KCksXG4gICAgfTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNoYW5nZVRvb2wodG9vbDogVG9vbCkge1xuICAgICAgdGhpcy5waGFzZS53b3JsZC5lZGl0UmVzb3VyY2UoJ3Rvb2wnLCB7dG9vbH0pO1xuICAgIH0sXG5cbiAgICBvbkVjc1Byb3BlcnR5Q2hhbmdlKHR5cGU6IHN0cmluZywgcHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSwgbXVsdGlJZDogbnVtYmVyKSB7XG4gICAgICBsZXQgc2VsZWN0aW9uU3lzID0gdGhpcy5waGFzZS53b3JsZC5zeXN0ZW1zLmdldCgnc2VsZWN0aW9uJykgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgICAgc2VsZWN0aW9uU3lzLnNldFByb3BlcnR5KHR5cGUsIHByb3BlcnR5LCB2YWx1ZSwgbXVsdGlJZCk7XG4gICAgfSxcblxuICAgIG9uQW1iaWVudExpZ2h0Q2hhbmdlKCkge1xuICAgICAgdGhpcy5waGFzZS53b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgIHR5cGU6ICdsaWdodF9zZXR0aW5ncycsXG4gICAgICAgIGFtYmllbnRMaWdodDogc3RyaW5nMmhleCh0aGlzLmxpZ2h0LmFtYmllbnRMaWdodCksXG4gICAgICAgIG5lZWRzTGlnaHQ6IHRoaXMubGlnaHQubmVlZHNMaWdodCxcbiAgICAgICAgYmFja2dyb3VuZDogc3RyaW5nMmhleCh0aGlzLmxpZ2h0LmJhY2tncm91bmQpLFxuICAgICAgfSBhcyBMaWdodFNldHRpbmdzLCAndXBkYXRlJyk7XG4gICAgfSxcbiAgICBvbkxpZ2h0U2V0dGluZ3NSZXNldCgpIHtcbiAgICAgIHRoaXMucGhhc2Uud29ybGQuYWRkUmVzb3VyY2UoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHR5cGU6ICdsaWdodF9zZXR0aW5ncycsXG4gICAgICB9LCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTKSBhcyBMaWdodFNldHRpbmdzLCAndXBkYXRlJyk7XG4gICAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XG4gICAgfSxcbiAgICByZWxvYWRMaWdodCgpIHtcbiAgICAgIGxldCBsaWdodCA9IHRoaXMucGhhc2Uud29ybGQuZ2V0UmVzb3VyY2UoJ2xpZ2h0X3NldHRpbmdzJykgYXMgTGlnaHRTZXR0aW5ncztcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0ID0gaGV4MnN0cmluZyhsaWdodC5hbWJpZW50TGlnaHQpO1xuICAgICAgdGhpcy5saWdodC5uZWVkc0xpZ2h0ID0gbGlnaHQubmVlZHNMaWdodDtcbiAgICAgIHRoaXMubGlnaHQuYmFja2dyb3VuZCA9IGhleDJzdHJpbmcobGlnaHQuYmFja2dyb3VuZCk7XG4gICAgICBsZXQgbGxpZ2h0ID0gdGhpcy5waGFzZS53b3JsZC5nZXRSZXNvdXJjZSgnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XG4gICAgICB0aGlzLmxpZ2h0LnJvbGVwbGF5VmlzaW9uID0gbGxpZ2h0LnZpc2lvblR5cGUgPT09ICdycCc7XG4gICAgfSxcbiAgICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcbiAgICAgIGlmIChyZXMudHlwZSA9PT0gJ2xpZ2h0X3NldHRpbmdzJyB8fCByZXMudHlwZSA9PT0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJykgdGhpcy5yZWxvYWRMaWdodCgpO1xuICAgICAgZWxzZSBpZiAocmVzLnR5cGUgPT09ICd0b29sJykgdGhpcy50b29sID0gKHJlcyBhcyBUb29sUmVzb3VyY2UpLnRvb2whO1xuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICAnbGlnaHQucm9sZXBsYXlWaXNpb24nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgdmlzaW9uVHlwZSA9IHRoaXMubGlnaHQucm9sZXBsYXlWaXNpb24gPyAncnAnIDogJ2RtJztcblxuICAgICAgdGhpcy5waGFzZS53b3JsZC5lZGl0UmVzb3VyY2UoJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJywge3Zpc2lvblR5cGV9KTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgLy90aGlzLndvcmxkID0gdGhpcy5waGFzZS53b3JsZDtcbiAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XG5cbiAgICB0aGlzLnBoYXNlLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkKTtcbiAgfSxcbiAgLyp1bm1vdW50ZWQoKSB7Ly8gVE9ETzogdnVlM1xuICAgIHRoaXMucGhhc2Uud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkKTtcbiAgfSwqL1xufSk7XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtHcmlkVHlwZX0gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9lY3Mvd29ybGRcIjtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuXG50eXBlIFJlbmRlckdyaWRPcHRzID0ge1xuICB0eXBlOiBzdHJpbmc7XG4gIHNpemU6IG51bWJlcjtcbiAgb2ZmWDogbnVtYmVyO1xuICBvZmZZOiBudW1iZXI7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgdGhpY2s6IG51bWJlcjtcbn1cblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRFZGl0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcbiAgd29ybGQhOiBXb3JsZDtcblxuICBncmlkOiBSZW5kZXJHcmlkT3B0cyA9IHtcbiAgICB0eXBlOiBcIm5vbmVcIixcbiAgICBzaXplOiAxLFxuICAgIG9mZlg6IDAsXG4gICAgb2ZmWTogMCxcbiAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgIG9wYWNpdHk6IDAuNSxcbiAgICB0aGljazogMixcbiAgfTtcbiAgZGlzYWJsZVdhdGNoU2F2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHJlbG9hZEdyaWQoKSB7XG4gICAgdGhpcy5kaXNhYmxlV2F0Y2hTYXZlID0gdHJ1ZTtcblxuICAgIGxldCBncmlkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZSgnZ3JpZCcpIGFzIEdyaWRSZXNvdXJjZTtcbiAgICBzd2l0Y2ggKGdyaWQuZ3JpZFR5cGUpIHtcbiAgICAgIGNhc2UgR3JpZFR5cGUuSEVYQUdPTjpcbiAgICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnaGV4J1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOlxuICAgICAgICB0aGlzLmdyaWQudHlwZSA9ICdzcXVhcmUnXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmICghZ3JpZC52aXNpYmxlKSB7XG4gICAgICB0aGlzLmdyaWQudHlwZSA9ICdub25lJztcbiAgICB9XG4gICAgbGV0IG9wdHMgPSBncmlkO1xuICAgIHRoaXMuZ3JpZC5zaXplID0gb3B0cy5zaXplO1xuICAgIHRoaXMuZ3JpZC5vZmZYID0gb3B0cy5vZmZYO1xuICAgIHRoaXMuZ3JpZC5vZmZZID0gb3B0cy5vZmZZO1xuICAgIHRoaXMuZ3JpZC5jb2xvciA9IGhleDJzdHJpbmcob3B0cy5jb2xvcik7XG4gICAgdGhpcy5ncmlkLm9wYWNpdHkgPSBvcHRzLm9wYWNpdHk7XG4gICAgdGhpcy5ncmlkLnRoaWNrID0gb3B0cy50aGljaztcblxuICAgIHRoaXMuZGlzYWJsZVdhdGNoU2F2ZSA9IGZhbHNlO1xuICB9XG5cbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLnJlbG9hZEdyaWQoKTtcblxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gJ2dyaWQnKSB0aGlzLnJlbG9hZEdyaWQoKTtcbiAgfVxuXG4gIEBWV2F0Y2goJ2dyaWQnLCB7IGRlZXA6IHRydWUgfSlcbiAgb25HcmlkQ2hhbmdlKG5ld0dyaWQ6IGFueSkge1xuICAgIGlmICh0aGlzLmRpc2FibGVXYXRjaFNhdmUpIHJldHVybjtcbiAgICBuZXdHcmlkLm9mZlggPSBNYXRoLm1pbihuZXdHcmlkLm9mZlgsIG5ld0dyaWQuc2l6ZSk7XG4gICAgbmV3R3JpZC5vZmZZID0gTWF0aC5taW4obmV3R3JpZC5vZmZZLCBuZXdHcmlkLnNpemUpO1xuXG4gICAgbGV0IHR5cGU7XG4gICAgc3dpdGNoIChuZXdHcmlkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICB0eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHR5cGUgPSBHcmlkVHlwZS5IRVhBR09OO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NxdWFyZSc6XG4gICAgICAgIHR5cGUgPSBHcmlkVHlwZS5TUVVBUkU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAodHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZSgnZ3JpZCcsIHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgZ3JpZFR5cGU6IHR5cGUsXG4gICAgICAgIHNpemU6IG5ld0dyaWQuc2l6ZSxcbiAgICAgICAgb2ZmWDogbmV3R3JpZC5vZmZYLFxuICAgICAgICBvZmZZOiBuZXdHcmlkLm9mZlksXG4gICAgICAgIGNvbG9yOiBzdHJpbmcyaGV4KG5ld0dyaWQuY29sb3IpLFxuICAgICAgICBvcGFjaXR5OiBwYXJzZUZsb2F0KG5ld0dyaWQub3BhY2l0eSksXG4gICAgICAgIHRoaWNrOiBuZXdHcmlkLnRoaWNrLFxuICAgICAgfSBhcyBHcmlkUmVzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZSgnZ3JpZCcsIHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgRm9vdGVyQ29tcG9uZW50IGZyb20gXCIuLi9mb290ZXIudnVlXCI7XG5pbXBvcnQgTWFwSW5wdXQgZnJvbSBcIi4vbWFwSW5wdXQudnVlXCI7XG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWdWUsIFBoYXNlVnVlLCBWV2F0Y2gsIFZSZWZ9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCBFdmVudEVtaXR0ZXIgPSBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlcjtcbmltcG9ydCB7Qk1vZGFsfSBmcm9tIFwiYm9vdHN0cmFwLXZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHsgTWFwSW5wdXQsIEZvb3RlckNvbXBvbmVudCB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZUNvbXBvbmVudCBleHRlbmRzIFZ1ZSBpbXBsZW1lbnRzIFBoYXNlVnVlIHtcbiAgQFZSZWYoJ21hcC1sb2FkLW1vZGFsJykgcmVhZG9ubHkgbWFwTG9hZE1vZGFsITogQk1vZGFsO1xuXG4gIGZpbGU6IGFueSA9IG51bGw7XG4gIHBlbmRpbmdPcDogc3RyaW5nID0gXCJcIjtcbiAgZXZlbnRFbWl0dGVyITogRXZlbnRFbWl0dGVyO1xuXG4gIG9uQ3JlYXRlTWFwKCkge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJjcmVhdGVfbWFwXCIpO1xuICB9XG5cbiAgb25FZGl0TWFwKCkge1xuICAgIHRoaXMucGVuZGluZ09wID0gJ2VkaXQnO1xuICAgIHRoaXMubWFwTG9hZE1vZGFsLnNob3coKTtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiZWRpdF9tYXBcIik7XG4gIH1cblxuICBtYXBMb2FkQ2FuY2VsKCkge1xuICAgIHRoaXMubWFwTG9hZE1vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIEBWV2F0Y2goJ2ZpbGUnKVxuICBvbkZpbGVDaGFuZ2VkKHZhbDogYW55KSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm47XG5cbiAgICBjb25zb2xlLmxvZyhcIkZpbGUgZHJvcHBlZCwgbG9hZGluZzogXCIgKyB0aGlzLnBlbmRpbmdPcCk7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCh0aGlzLnBlbmRpbmdPcCwgdGhpcy5maWxlKTtcbiAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgIHRoaXMubWFwTG9hZENhbmNlbCgpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKCk7XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0ICdwaXhpLWxheWVycydcblxuZXhwb3J0IGRlZmF1bHQgUElYSTsiLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XG5cbmltcG9ydCBQcm9wc0ltYWdlIGZyb20gXCJQdWJsaWMvaW1hZ2VzL3Byb3BzLnBuZ1wiO1xuaW1wb3J0IFByb3BzU3ByaXRlc2hlZXQgZnJvbSBcIlB1YmxpYy9zcHJpdGVzaGVldHMvcHJvcHMuanNvblwiO1xuXG5pbXBvcnQgQmFzZVRleHR1cmUgPSBQSVhJLkJhc2VUZXh0dXJlO1xuaW1wb3J0IEltYWdlUmVzb3VyY2UgPSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlO1xuXG5hc3luYyBmdW5jdGlvbiBsb2FkU3ByaXRlc2hlZXQobG9hZGVyOiBQSVhJLkxvYWRlciwgbmFtZTogc3RyaW5nLCBpbWdVcmw6IHN0cmluZywgZGF0YTogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbU3ByaXRlc2hlZXRdIExvYWRpbmc6IFwiICsgbmFtZSk7XG4gICAgICAgIGNvbnN0IGltZ0VsbSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWdFbG0uY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgaW1nRWxtLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleCA9IG5ldyBQSVhJLlRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBJbWFnZVJlc291cmNlKGltZ0VsbSkpKTtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZXNoZWV0ID0gbmV3IFBJWEkuU3ByaXRlc2hlZXQodGV4LCBkYXRhKTtcbiAgICAgICAgICAgIGxvYWRlci5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgKFBJWEkuTG9hZGVyUmVzb3VyY2UgYXMgYW55KShuYW1lLCBcIlwiKTtcbiAgICAgICAgICAgIGxvYWRlci5yZXNvdXJjZXNbbmFtZV0uc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltTcHJpdGVzaGVldF0gTG9hZGVkOiBcIiArIG5hbWUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoc3ByaXRlc2hlZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZ0VsbS5zcmMgPSBpbWdVcmw7IC8vIFdoZW4gdGhlIGxpc3RlbmVycyBhcmUgc2V0LCB3ZSBjYW4gZmluYWxseSBzdGFydCBkb3dubG9hZGluZyB0aGUgaW1hZ2UuXG4gICAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXNzZXRzKCkge1xuICAgIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGxvYWRTcHJpdGVzaGVldChsb2FkZXIsIFwicHJvcHNcIiwgUHJvcHNJbWFnZSwgUHJvcHNTcHJpdGVzaGVldCksXG4gICAgXSk7XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4vd29ybGRcIjtcbmltcG9ydCB7RmxhZ0Vjc1N0b3JhZ2UsIE11bHRpRWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudCB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGVudGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE11bHRpQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBtdWx0aUlkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlkZWFibGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNsaWVudFZpc2libGU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBQT1NJVElPTl9UWVBFID0gXCJwb3NpdGlvblwiO1xuZXhwb3J0IHR5cGUgUE9TSVRJT05fVFlQRSA9IFwicG9zaXRpb25cIjtcbmV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBPU0lUSU9OX1RZUEU7XG5cbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgVFJBTlNGT1JNX1RZUEUgPSBcInRyYW5zZm9ybVwiO1xuZXhwb3J0IHR5cGUgVFJBTlNGT1JNX1RZUEUgPSBcInRyYW5zZm9ybVwiO1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2Zvcm1Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFO1xuXG4gICAgc2NhbGU6IG51bWJlcjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgTkFNRV9UWVBFID0gXCJuYW1lXCI7XG5leHBvcnQgdHlwZSBOQU1FX1RZUEUgPSBcIm5hbWVcIjtcbmV4cG9ydCBpbnRlcmZhY2UgTmFtZUNvbXBvbmVudCBleHRlbmRzIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudCB7XG4gICAgdHlwZTogTkFNRV9UWVBFO1xuXG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBjb25zdCBOT1RFX1RZUEUgPSBcIm5vdGVcIjtcbmV4cG9ydCB0eXBlIE5PVEVfVFlQRSA9IFwibm90ZVwiO1xuZXhwb3J0IGludGVyZmFjZSBOb3RlQ29tcG9uZW50IGV4dGVuZHMgSGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50IHtcbiAgICB0eXBlOiBOT1RFX1RZUEU7XG5cbiAgICBub3RlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBGT0xMT1dfTU9VU0VfVFlQRSA9IFwiZm9sbG93X21vdXNlXCI7XG5leHBvcnQgdHlwZSBGT0xMT1dfTU9VU0VfVFlQRSA9IFwiZm9sbG93X21vdXNlXCI7XG5leHBvcnQgaW50ZXJmYWNlIEZvbGxvd01vdXNlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRTtcbn1cblxuZXhwb3J0IGNvbnN0IEhPU1RfSElEREVOX1RZUEUgPSBcImhvc3RfaGlkZGVuXCI7XG5leHBvcnQgdHlwZSBIT1NUX0hJRERFTl9UWVBFID0gXCJob3N0X2hpZGRlblwiO1xuZXhwb3J0IGludGVyZmFjZSBIb3N0SGlkZGVuQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21tb25TdG9yYWdlKGVjczogV29ybGQpIHtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgU2luZ2xlRWNzU3RvcmFnZShQT1NJVElPTl9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IFNpbmdsZUVjc1N0b3JhZ2UoVFJBTlNGT1JNX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgTXVsdGlFY3NTdG9yYWdlKE5BTUVfVFlQRSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBNdWx0aUVjc1N0b3JhZ2UoTk9URV9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IEZsYWdFY3NTdG9yYWdlKEZPTExPV19NT1VTRV9UWVBFLCBmYWxzZSwgZmFsc2UpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgRmxhZ0Vjc1N0b3JhZ2UoSE9TVF9ISURERU5fVFlQRSwgZmFsc2UsIGZhbHNlKSk7XG59XG4iLCJpbXBvcnQge0FhYmJ9IGZyb20gXCIuLi9nZW9tZXRyeS9hYWJiXCI7XG5cbmV4cG9ydCBlbnVtIEdlb21lcnR5UXVlcnlUeXBlIHtcbiAgICBQT0lOVCwgQUFCQixcbn1cblxuZXhwb3J0IGNsYXNzIFF1ZXJ5SGl0RXZlbnQge1xuICAgIHJlYWRvbmx5IHR5cGU6IEdlb21lcnR5UXVlcnlUeXBlO1xuICAgIHJlYWRvbmx5IG11bHRpOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGFhYmI6IEFhYmI7Ly8gSWYgaXQncyBhIHBvaW50IG1pblggPSBtYXhYICYmIG1pblkgPSBtYXhZXG4gICAgcmVhZG9ubHkgZGF0YTogUElYSS5JUG9pbnREYXRhIHwgQWFiYjtcblxuICAgIGhpdHMgPSBuZXcgU2V0PG51bWJlcj4oKTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IodHlwZTogR2VvbWVydHlRdWVyeVR5cGUsIG11bHRpOiBib29sZWFuLCBhYWJiOiBBYWJiLCBkYXRhPzogUElYSS5JUG9pbnREYXRhKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubXVsdGkgPSBtdWx0aTtcbiAgICAgICAgdGhpcy5hYWJiID0gYWFiYjtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YSB8fCBhYWJiO1xuICAgIH1cblxuICAgIHNob3VsZENvbnRpbnVlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aSB8fCB0aGlzLmhpdHMuc2l6ZSA9PT0gMDtcbiAgICB9XG5cbiAgICBhZGRIaXQoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZENvbnRpbnVlKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5oaXRzLmFkZChlbnRpdHkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVyeVBvaW50KHBvaW50OiBQSVhJLklQb2ludERhdGEsIG11bHRpOiBib29sZWFuKTogUXVlcnlIaXRFdmVudCB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlIaXRFdmVudChHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVCwgbXVsdGksIG5ldyBBYWJiKHBvaW50LngsIHBvaW50LnksIHBvaW50LngsIHBvaW50LnkpLCBwb2ludCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHF1ZXJ5QWFiYihhYWJiOiBBYWJiLCBtdWx0aTogYm9vbGVhbik6IFF1ZXJ5SGl0RXZlbnQge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SGl0RXZlbnQoR2VvbWVydHlRdWVyeVR5cGUuQUFCQiwgbXVsdGksIGFhYmIpO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi93b3JsZFwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVPYmoob2JqOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAnZW50aXR5JyB8fCBuYW1lID09PSAndHlwZScpIGNvbnRpbnVlO1xuICAgICAgICByZXNbbmFtZV0gPSAob2JqIGFzIGFueSlbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIGdldEZpcnN0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBtdWx0aUlkPzogbnVtYmVyKTogQyB8IHVuZGVmaW5lZDtcblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Qz5cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQ7XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQ7XG5cbiAgICB1bnJlZ2lzdGVyQWxsT2YoZW50aXR5OiBudW1iZXIpOiB2b2lkO1xuXG4gICAgc2VyaWFsaXplKCk6IGFueTtcblxuICAgIHNlcmlhbGl6ZUNsaWVudChzaG91bGRJZ25vcmU6IChlbnRpdHk6IG51bWJlcikgPT4gYm9vbGVhbik6IGFueTtcblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIHJhdzogYW55KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpRWNzU3RvcmFnZTxDIGV4dGVuZHMgTXVsdGlDb21wb25lbnQ+IGltcGxlbWVudHMgRWNzU3RvcmFnZTxDPiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgZGF0YSA9IG5ldyBNYXA8bnVtYmVyLCBBcnJheTxDPj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIG11bHRpSWQ/OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKG11bHRpSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSwgbXVsdGlJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGUgPSB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgIGlmIChlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBlWzBdO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgbXVsdGlJZDogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBjbXBzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoY21wcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBjbXAgb2YgY21wcykge1xuICAgICAgICAgICAgaWYgKGNtcC5tdWx0aUlkID09PSBtdWx0aUlkKSByZXR1cm4gY21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50cyhlbnRpdHk/OiBudW1iZXIpOiBJdGVyYWJsZTxDPiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KSB8fCBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICphbGxDb21wb25lbnRzKCk6IEdlbmVyYXRvcjxDPiB7XG4gICAgICAgIGZvciAobGV0IGNvbXBzIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNvbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudC5tdWx0aUlkID49IDApIHsvLyBQcmUtYXNzaWduZWQgbXVsdGktaWRcbiAgICAgICAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgW2NvbXBvbmVudF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIGFycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy5tdWx0aUlkID09PSBjb21wb25lbnQubXVsdGlJZCkgdGhyb3cgJ0ludmFsaWQgcHJlLWFzc2lnbmVkIG11bHRpSWQnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFyci5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5tdWx0aUlkID0gIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgW2NvbXBvbmVudF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlkO1xuICAgICAgICAgICAgbGV0IGZvdW5kO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgubXVsdGlJZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZm91bmQpO1xuICAgICAgICAgICAgY29tcG9uZW50Lm11bHRpSWQgPSBpZDtcbiAgICAgICAgICAgIGFyci5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQge1xuICAgICAgICBsZXQgYXJyID0gdGhpcy5kYXRhLmdldChjb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgaWYgKGFyciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDEgJiYgYXJyWzBdID09PSBjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5kZWxldGUoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKGFyci5pbmRleE9mKGNvbXBvbmVudCksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKToge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfSB7XG4gICAgICAgIGxldCByZXM6IHtbZW50aXR5OiBudW1iZXJdOiBhbnlbXX0gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgW2VudGl0eSwgY29tcHNdIG9mIHRoaXMuZGF0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHlSZXMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5UmVzLnB1c2goc2VyaWFsaXplT2JqKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzW2VudGl0eV0gPSBlbnRpdHlSZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiB7W2VudGl0eTogbnVtYmVyXTogYW55W119IHtcbiAgICAgICAgbGV0IHJlczoge1tlbnRpdHk6IG51bWJlcl06IGFueVtdfSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBbZW50aXR5LCBjb21wc10gb2YgdGhpcy5kYXRhLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHNob3VsZElnbm9yZShlbnRpdHkpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBlbnRpdHlSZXMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgaWYgKChjb21wb25lbnQgYXMgQ29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgZW50aXR5UmVzLnB1c2goc2VyaWFsaXplT2JqKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudGl0eVJlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNbZW50aXR5XSA9IGVudGl0eVJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRhdGE6IHtbZW50aXR5OiBudW1iZXJdOiBhbnlbXX0pOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGxldCBlID0gcGFyc2VJbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgZGF0YVtlbnRpdHldKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGNvbXAsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChlLCBvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2luZ2xlRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiBpbXBsZW1lbnRzIEVjc1N0b3JhZ2U8Qz4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBzeW5jOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHNhdmU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGRhdGEgPSBuZXcgTWFwPG51bWJlciwgQz4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnRzKGVudGl0eT86IG51bWJlcik6IEl0ZXJhYmxlPEM+IHtcbiAgICAgICAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgICAgICBlbHNlIHJldHVybiBbcmVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbENvbXBvbmVudHMoKTogSXRlcmFibGVJdGVyYXRvcjxDPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsdWVzKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY29tcG9uZW50OiBDKTogdm9pZCB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICdDb21wb25lbnQgb2Ygc2FtZSB0eXBlIGFscmVhZHkgcmVnaXN0ZXJlZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKToge1tlbnRpdHk6IG51bWJlcl06IGFueX0ge1xuICAgICAgICBsZXQgcmVzOiB7W2VudGl0eTogbnVtYmVyXTogYW55fSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcmVzW2NvbXAuZW50aXR5XSA9IHNlcmlhbGl6ZU9iaihjb21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZUNsaWVudChzaG91bGRJZ25vcmU6IChlbnRpdHk6IG51bWJlcikgPT4gYm9vbGVhbik6IHtbZW50aXR5OiBudW1iZXJdOiBhbnl9IHtcbiAgICAgICAgbGV0IHJlczoge1tlbnRpdHk6IG51bWJlcl06IGFueX0gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLmRhdGEudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRJZ25vcmUoY29tcC5lbnRpdHkpIHx8IChjb21wIGFzIENvbXBvbmVudCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmVzW2NvbXAuZW50aXR5XSA9IHNlcmlhbGl6ZU9iaihjb21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRhdGE6IHsgW2VudGl0eTogbnVtYmVyXTogYW55fSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgaW4gZGF0YSkge1xuICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGFbZW50aXR5XSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGVjcy5hZGRDb21wb25lbnQocGFyc2VJbnQoZW50aXR5KSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsYWdFY3NTdG9yYWdlIGltcGxlbWVudHMgRWNzU3RvcmFnZTxDb21wb25lbnQ+IHtcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc3luYzogYm9vbGVhbjtcbiAgICByZWFkb25seSBzYXZlOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBkYXRhID0gbmV3IE1hcDxudW1iZXIsIENvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQ29tcG9uZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Q29tcG9uZW50PiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsQ29tcG9uZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsQ29tcG9uZW50cygpOiBJdGVyYWJsZUl0ZXJhdG9yPENvbXBvbmVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnZhbHVlcygpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSB0aHJvdyAnQ29tcG9uZW50IG9mIHNhbWUgdHlwZSBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIGNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXJBbGxPZihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmRhdGEua2V5cygpXTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoc2hvdWxkSWdub3JlOiAoZW50aXR5OiBudW1iZXIpID0+IGJvb2xlYW4pOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5kYXRhLmtleXMoKV0uZmlsdGVyKChlKSA9PiAhc2hvdWxkSWdub3JlKGUpKTtcbiAgICB9XG5cbiAgICBkZXNlcmlhbGl6ZShlY3M6IFdvcmxkLCBkYXRhOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YSkge1xuICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChlbnRpdHksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbUdyYXBoIHtcbiAgICBwcml2YXRlIHN5c3RlbXNCeU5hbWUgPSBuZXcgTWFwPHN0cmluZywgU3lzdGVtPigpO1xuICAgIHByaXZhdGUgc3lzdGVtcyA9IG5ldyBBcnJheTxTeXN0ZW0+KCk7XG4gICAgcHJpdmF0ZSB1bmZ1bGZpbGxlZERlcHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgIGdldChuYW1lOiBzdHJpbmcpOiBTeXN0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChuYW1lKTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihzeXN0ZW06IFN5c3RlbSk6IHZvaWQge1xuICAgICAgICBsZXQgZGVwTmFtZSA9IHN5c3RlbS5uYW1lO1xuICAgICAgICBsZXQgdW5mdWxmaWxsZWQgPSB0aGlzLnVuZnVsZmlsbGVkRGVwcy5oYXMoc3lzdGVtLm5hbWUpO1xuXG4gICAgICAgIGlmICghdW5mdWxmaWxsZWQgJiYgc3lzdGVtLnByb3ZpZGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgICAgICBkZXBOYW1lID0gZGVwO1xuICAgICAgICAgICAgICAgIHVuZnVsZmlsbGVkID0gdGhpcy51bmZ1bGZpbGxlZERlcHMuaGFzKGRlcCk7XG4gICAgICAgICAgICAgICAgaWYgKHVuZnVsZmlsbGVkKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodW5mdWxmaWxsZWQpIHtcbiAgICAgICAgICAgIHRocm93IGBTb21lIHByZXZpb3VzIHN5c3RlbSBvcHRpb25hbGx5IGRlcGVuZGVkIG9uICR7ZGVwTmFtZX0sIHBsZWFzZSBvcmRlciB5b3VyIHN5c3RlbXMgY29ycmVjdGx5YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGRlcCBvZiBzeXN0ZW0uZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgdGhyb3cgJ1VuZnVsZmlsbGVkIGRlcGVuZGVuY3k6ICcgKyBkZXA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN5c3RlbS5vcHRpb25hbERlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkZXAgb2Ygc3lzdGVtLm9wdGlvbmFsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy51bmZ1bGZpbGxlZERlcHMuYWRkKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3lzID0gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChzeXN0ZW0ubmFtZSk7XG4gICAgICAgIGlmIChzeXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHN5cy5uYW1lID09PSBzeXN0ZW0ubmFtZSkgdGhyb3cgJ1N5c3RlbSBuYW1lIGNvbmZsaWN0JztcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU3lzdGVtICR7c3lzdGVtLm5hbWV9IGhhcyBiZWVuIGFscmVhZHkgcmVnaXN0ZXJlZCB1bmRlciAke3N5cy5uYW1lfSwgb3ZlcnJpZGluZ2ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3lzdGVtc0J5TmFtZS5zZXQoc3lzdGVtLm5hbWUsIHN5c3RlbSk7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgICAgIGlmIChzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3Ygb2Ygc3lzdGVtLnByb3ZpZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMocHJvdikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgYFNlcnZpY2UgJHtwcm92fSBpcyBhbHJlYWR5IHByb3ZpZGVkIGJ5ICR7dGhpcy5zeXN0ZW1zQnlOYW1lLmdldChwcm92KSEubmFtZX0sIGNhbm5vdCBvdmVycmlkZSB3aXRoICR7c3lzdGVtLm5hbWV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zQnlOYW1lLnNldChwcm92LCBzeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxTeXN0ZW0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfVxuXG4gICAgZ2V0QXQoaW5kZXg6IG51bWJlcik6IFN5c3RlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbXNbaW5kZXhdO1xuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtcy5sZW5ndGg7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtsb2FkVGV4dHVyZX0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7XG4gICAgRWxlbWVudFR5cGUsXG4gICAgRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSxcbiAgICBHUkFQSElDX1RZUEUsXG4gICAgR3JhcGhpY0NvbXBvbmVudCxcbiAgICBJbWFnZUVsZW1lbnQsXG4gICAgSW1hZ2VTY2FsZU1vZGUsXG4gICAgVmlzaWJpbGl0eVR5cGVcbn0gZnJvbSBcIi4uLy4uL2dyYXBoaWNzXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuXG5leHBvcnQgdHlwZSBCQUNLR1JPVU5EX1RZUEUgPSAnYmFja2dyb3VuZF9pbWFnZSc7XG5leHBvcnQgY29uc3QgQkFDS0dST1VORF9UWVBFID0gJ2JhY2tncm91bmRfaW1hZ2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogQkFDS0dST1VORF9UWVBFO1xuXG4gICAgaW1hZ2U6IFVpbnQ4QXJyYXk7XG4gICAgaW1hZ2VUeXBlOiBzdHJpbmc7XG4gICAgdmlzaWJpbGl0eU1hcD86IFVpbnQzMkFycmF5O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gQkFDS0dST1VORF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtHUkFQSElDX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IHN0b3JhZ2U6IFNpbmdsZUVjc1N0b3JhZ2U8QmFja2dyb3VuZEltYWdlQ29tcG9uZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPEJhY2tncm91bmRJbWFnZUNvbXBvbmVudD4oQkFDS0dST1VORF9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSwgdGhpcy5vblJlbWVtYmVyQkJCVXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoYy50eXBlICE9PSBCQUNLR1JPVU5EX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IGJrZ0ltZyA9IGMgYXMgQmFja2dyb3VuZEltYWdlQ29tcG9uZW50O1xuXG4gICAgICAgIGlmIChia2dJbWcuaW1hZ2UuYnl0ZU9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgLy8gQ29weSBhcnJheSB0byByZW1vdmUgb2Zmc2V0IChUT0RPOiBmaXgpXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGVlcnMvcGVlcmpzL2lzc3Vlcy83MTVcbiAgICAgICAgICAgIGJrZ0ltZy5pbWFnZSA9IG5ldyBVaW50OEFycmF5KGJrZ0ltZy5pbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJrZ0ltZy52aXNpYmlsaXR5TWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSBuZXcgVWludDhBcnJheShia2dJbWcudmlzaWJpbGl0eU1hcCk7Ly8gQ29weSBidWZmZXIgKGFkanVzdHMgYWxpZ25tZW50KVxuICAgICAgICAgICAgYmtnSW1nLnZpc2liaWxpdHlNYXAgPSBuZXcgVWludDMyQXJyYXkocmVzLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGV4ID0gYXdhaXQgbG9hZFRleHR1cmUoYmtnSW1nLmltYWdlLCBia2dJbWcuaW1hZ2VUeXBlKTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBlbnRpdHk6IGMuZW50aXR5LFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFLFxuICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLkJBQ0tHUk9VTkQsXG4gICAgICAgICAgICAgICAgc2NhbGU6IEltYWdlU2NhbGVNb2RlLlJFQUwsXG4gICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQsXG4gICAgICAgICAgICAgICAgdmlzTWFwOiBia2dJbWcudmlzaWJpbGl0eU1hcCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0ZXgsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiB7IHg6IDAuNSwgeTogMC41IH0sXG4gICAgICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICB9IGFzIEltYWdlRWxlbWVudCxcbiAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50KTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZW1lbWJlckJCQlVwZGF0ZShlbnRpdGllczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IGdzdG9yID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoR1JBUEhJQ19UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPEdyYXBoaWNDb21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGUgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgYy52aXNpYmlsaXR5TWFwID0gKGdzdG9yLmdldENvbXBvbmVudChlKT8uZGlzcGxheSBhcyBJbWFnZUVsZW1lbnQpPy52aXNNYXA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7V0FMTF9UWVBFLCBXYWxsQ29tcG9uZW50LCBXYWxsU3lzdGVtfSBmcm9tIFwiLi93YWxsU3lzdGVtXCI7XG5pbXBvcnQge3JvdGF0ZVBvaW50QnlPcmlnfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvY29sbGlzaW9uXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuaW1wb3J0IHthcHB9IGZyb20gXCIuLi8uLi9pbmRleFwiO1xuaW1wb3J0IHtSRU1FTUJFUl9UWVBFfSBmcm9tIFwiLi9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtMSUdIVF9UWVBFLCBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFLCBMb2NhbExpZ2h0U2V0dGluZ3N9IGZyb20gXCIuL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcblxuXG5leHBvcnQgZW51bSBEb29yVHlwZSB7XG4gICAgTk9STUFMX0xFRlQgPSBcIm5vcm1hbGxcIixcbiAgICBOT1JNQUxfUklHSFQgPSBcIm5vcm1hbHJcIixcbiAgICBST1RBVEUgPSBcInJvdGF0ZVwiLFxufVxuXG5leHBvcnQgY29uc3QgRE9PUl9UWVBFID0gJ2Rvb3InO1xuZXhwb3J0IHR5cGUgRE9PUl9UWVBFID0gdHlwZW9mIERPT1JfVFlQRTtcblxuZXhwb3J0IGludGVyZmFjZSBEb29yQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50LCBIaWRlYWJsZUNvbXBvbmVudCB7XG4gICAgdHlwZTogRE9PUl9UWVBFO1xuICAgIGRvb3JUeXBlOiBEb29yVHlwZTtcbiAgICBsb2NrZWQ6IGJvb2xlYW47XG4gICAgb3BlbjogYm9vbGVhbjtcbiAgICBjbGllbnRWaXNpYmxlOiBib29sZWFuO1xuICAgIF9kaXNwbGF5PzogUElYSS5HcmFwaGljcztcbn1cblxuXG5leHBvcnQgY2xhc3MgRG9vclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBET09SX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgV0FMTF9UWVBFLCBMSUdIVF9UWVBFXTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxEb29yQ29tcG9uZW50PihET09SX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgcGl4aUJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgd2FsbFN5czogV2FsbFN5c3RlbTtcbiAgICBsb2NhbExpZ2h0U2V0dGluZ3M6IExvY2FsTGlnaHRTZXR0aW5ncztcblxuICAgIGxheWVyOiBQSVhJLmRpc3BsYXkuTGF5ZXI7XG4gICAgZGlzcGxheUNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlY3M6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSBlY3M7XG5cbiAgICAgICAgdGhpcy5sYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIoKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMgPSBlY3Muc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHRoaXMud2FsbFN5cyA9IGVjcy5zeXN0ZW1zLmdldChXQUxMX1RZUEUpIGFzIFdhbGxTeXN0ZW07XG4gICAgICAgIHRoaXMubG9jYWxMaWdodFNldHRpbmdzID0gZWNzLmdldFJlc291cmNlKExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUpIGFzIExvY2FsTGlnaHRTZXR0aW5ncztcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZWRyYXdDb21wb25lbnQoZG9vcjogRG9vckNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG5cbiAgICAgICAgbGV0IHZpc2libGUgPSB0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncy52aXNpb25UeXBlID09PSAnZG0nIHx8XG4gICAgICAgICAgICB0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgUkVNRU1CRVJfVFlQRSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICBkb29yLl9kaXNwbGF5Py5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogdXNlIGludGVyYWN0aW9uIHNoYXBlPyAobWlnaHQgYnVnIG91dCBvbiB0cmFuc2xhdGlvbnMpXG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgICBwb3MueCwgcG9zLnksXG4gICAgICAgICAgICBwb3MueCArIHdhbGwudmVjWzBdLCBwb3MueSArIHdhbGwudmVjWzFdXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGRvb3IsIGxpbmUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd0xpbmVzKGRvb3I6IERvb3JDb21wb25lbnQsIGxpbmU6IExpbmUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGcgPSBkb29yLl9kaXNwbGF5O1xuICAgICAgICBpZiAoZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGcuY2xlYXIoKTtcbiAgICAgICAgZy5saW5lU3R5bGUoMiwgMCwgMC41KTtcbiAgICAgICAgc3dpdGNoIChkb29yLmRvb3JUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9MRUZUOiB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBsaW5lLmRpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKGxpbmUudG9ZIC0gbGluZS5mcm9tWSwgbGluZS50b1ggLSBsaW5lLmZyb21YKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9vci5vcGVuKSBzdGFydEFuZ2xlIC09IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgICAgIGcuYXJjKGxpbmUuZnJvbVgsIGxpbmUuZnJvbVksIHIsIHN0YXJ0QW5nbGUsIHN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9SSUdIVDoge1xuICAgICAgICAgICAgICAgIGxldCByID0gbGluZS5kaXN0YW5jZSgpO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihsaW5lLmZyb21ZIC0gbGluZS50b1ksIGxpbmUuZnJvbVggLSBsaW5lLnRvWCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkb29yLm9wZW4pIHN0YXJ0QW5nbGUgLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgZy5hcmMobGluZS50b1gsIGxpbmUudG9ZLCByLCBzdGFydEFuZ2xlLCBzdGFydEFuZ2xlICsgTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5ST1RBVEU6IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGxpbmUuZGlzdGFuY2UoKSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IGN4ID0gKGxpbmUuZnJvbVggKyBsaW5lLnRvWCkgLyAyO1xuICAgICAgICAgICAgICAgIGxldCBjeSA9IChsaW5lLmZyb21ZICsgbGluZS50b1kpIC8gMjtcbiAgICAgICAgICAgICAgICBnLmRyYXdDaXJjbGUoY3gsIGN5LCByKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBkb29yIHR5cGU6IFwiICsgZG9vci5kb29yVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5Eb29yKGRvb3I6IERvb3JDb21wb25lbnQsIGRvb3JUeXBlOiBEb29yVHlwZSwgb3BlbjogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHJldHVybiB0cnVlOy8vIFRoaXMgb3BlcmF0aW9uIHNob3VsZCBvbmx5IGJlIGRvbmUgb25jZSFcbiAgICAgICAgbGV0IHdhbGwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgV0FMTF9UWVBFKSBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgIGxldCBuZXdQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBuZXdWZWMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgc3dpdGNoIChkb29yVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfTEVGVDoge1xuICAgICAgICAgICAgICAgIG5ld1ZlYyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSAvIDIgKiAob3BlbiA/IC0xIDogMSksXG4gICAgICAgICAgICAgICAgICAgIHsgeDogd2FsbC52ZWNbMF0sIHk6IHdhbGwudmVjWzFdIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9SSUdIVDoge1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IE1hdGguUEkgLyAyICogKG9wZW4gPyAxIDogLTEpO1xuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54ICsgd2FsbC52ZWNbMF0sIHk6IHBvcy55ICsgd2FsbC52ZWNbMV0gfSxcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogcG9zLngsIHk6IHBvcy55IH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgbmV3VmVjID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICBhbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgeyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5ST1RBVEU6IHtcbiAgICAgICAgICAgICAgICBsZXQgaHZ4ID0gd2FsbC52ZWNbMF0gLyAyO1xuICAgICAgICAgICAgICAgIGxldCBodnkgPSB3YWxsLnZlY1sxXSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbiA9IHsgeDogcG9zLnggKyBodngsIHk6IHBvcy55ICsgaHZ5IH07XG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5QSSAvIDIgKiAob3BlbiA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgbmV3UG9zID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbiwgYW5nbGUsXG4gICAgICAgICAgICAgICAgICAgIHsgeDogcG9zLngsIHk6IHBvcy55IH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBuZXdWZWMgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luLCBhbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgeyB4OiBwb3MueCArIHdhbGwudmVjWzBdLCB5OiBwb3MueSArIHdhbGwudmVjWzFdIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG5ld1ZlYy54IC09IG5ld1Bvcy54O1xuICAgICAgICAgICAgICAgIG5ld1ZlYy55IC09IG5ld1Bvcy55O1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVua25vd24gZG9vciB0eXBlOiBcIiArIGRvb3JUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHggPSBuZXdQb3M/LnggPz8gcG9zLng7XG4gICAgICAgIGxldCBweSA9IG5ld1Bvcz8ueSA/PyBwb3MueTtcbiAgICAgICAgbGV0IHZ4ID0gbmV3VmVjPy54ID8/IHdhbGwudmVjWzBdO1xuICAgICAgICBsZXQgdnkgPSBuZXdWZWM/LnkgPz8gd2FsbC52ZWNbMV07XG4gICAgICAgIGxldCBpbnRlcnNlY3RXaXRoID0gdGhpcy53YWxsU3lzLnF1ZXJ5SW50ZXJzZWN0aW9ucyhweCwgcHksIHZ4LCB2eSk7XG4gICAgICAgIGlmICghKGludGVyc2VjdFdpdGgubGVuZ3RoID09PSAwIHx8IChpbnRlcnNlY3RXaXRoLmxlbmd0aCA9PT0gMSAmJiBpbnRlcnNlY3RXaXRoWzBdID09PSBkb29yLmVudGl0eSkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvb3Igc3R1Y2tcIik7XG4gICAgICAgICAgICAvLyBDb2xsaXNpb24sIGRvbid0IHNwbGl0IHRoZSBkb29yIHBscy5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG5cbiAgICAgICAgaWYgKG5ld1BvcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBuZXdQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgeTogbmV3UG9zLnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdWZWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBXQUxMX1RZUEUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB2ZWM6IFtuZXdWZWMueCwgbmV3VmVjLnldLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb21taXQgdGhlIGVkaXRzIGF0IHRoZSBzYW1lIHRpbWUgdG8gcHJldmVudCB0aGUgd2FsbCBmcm9tIGJlaW5nIHNwbGl0XG4gICAgICAgIC8vIChpZiB3ZSBjb21taXQgcG9zaXRpb24gYmVmb3JlIHJvdGF0aW9uIGl0IG1pZ2h0IGNyZWF0ZSBhbiBvdmVybGFwIHNpdHVhdGlvbiB0aGF0IHNob3VsZFxuICAgICAgICAvLyBub3QgYmUgdGhlcmUpLlxuICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnRNdWx0aXBsZShkb29yLmVudGl0eSwgY2hhbmdlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcbiAgICAgICAgICAgIGQuX2Rpc3BsYXkgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmFkZENoaWxkKGQuX2Rpc3BsYXkpO1xuICAgICAgICAgICAgLy8gRG8gTk9UIHJlLW9wZW4gdGhlIGRvb3IsIGlmIGl0IGlzIG9wZW4gaXQgbWVhbnMgdGhhdCBpdCBoYXMgYmVlbiBsb2FkZWQgZnJvbSBmaWxlIGFuZCB0aGUgd2FsbCBpc1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiB0aGUgXCJkb29yIG9wZW5cIiBzdGF0ZS4gQmFkIHNub3d5LCB3dGYgd2VyZSB5b3UgdGhpbmtpbmdcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuXG4gICAgICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAod2FsbCAhPT0gdW5kZWZpbmVkKSB3YWxsLl9kb250TWVyZ2UrKztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBET09SX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBkID0gY29tcCBhcyBEb29yQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCdvcGVuJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wZW5Eb29yKGQsIGQuZG9vclR5cGUsIGQub3BlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2VsbCwgdGhpcyBkb2VzIG5vdCB3b3JrIHJpZ2h0IHdpdGggdGhlIEdVSVxuICAgICAgICAgICAgICAgICAgICBkLm9wZW4gPSAhZC5vcGVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnZG9vclR5cGUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZC5vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkRvb3IoZCwgY2hhbmdlZFsnZG9vclR5cGUnXSwgZmFsc2UpICYmIHRoaXMub3BlbkRvb3IoZCwgZC5kb29yVHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQoZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAnd2FsbCcpIHtcbiAgICAgICAgICAgIGxldCBkID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZCAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlZHJhd0NvbXBvbmVudChkKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09ICdwb3NpdGlvbicpIHtcbiAgICAgICAgICAgIGxldCBkID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZCAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlZHJhd0NvbXBvbmVudChkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IERPT1JfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGQgPSBjb21wIGFzIERvb3JDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIGlmIChkLm9wZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5Eb29yKGQsIGQuZG9vclR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZC5fZGlzcGxheT8uZGVzdHJveShERVNUUk9ZX0FMTCk7XG5cbiAgICAgICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgICAgIHdhbGwuX2RvbnRNZXJnZS0tO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGF5ZXIuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuV0FMTCArIDE7XG4gICAgICAgIHRoaXMubGF5ZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMubGF5ZXIpO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5wYXJlbnRMYXllciA9IHRoaXMubGF5ZXI7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5hZGRDaGlsZCh0aGlzLmRpc3BsYXlDb250YWluZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgdGhpcy5sYXllci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG59IiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgUG9pbnR9IGZyb20gXCIuLi8uLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge0dyaWRHcmFwaGljYWxPcHRpb25zLCBHcmlkVHlwZSwgU1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7Qk9BUkRfVFJBTlNGT1JNX1RZUEUsIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UsIFBJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sU3lzdGVtfSBmcm9tIFwiLi90b29sU3lzdGVtXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFfSBmcm9tIFwiLi9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7Y3JlYXRlRW1wdHlEcml2ZXJ9IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcblxuXG5jb25zdCBTUVJUMyA9IE1hdGguc3FydCgzKTtcblxuZXhwb3J0IGNvbnN0IEdSSURfVFlQRSA9ICdncmlkJztcbmV4cG9ydCB0eXBlIEdSSURfVFlQRSA9ICdncmlkJztcblxuXG5leHBvcnQgY2xhc3MgR3JpZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEdSSURfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBTRUxFQ1RJT05fVFlQRSwgVE9PTF9UWVBFXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcbiAgICBzcHJpdGU6IFBJWEkuVGlsaW5nU3ByaXRlO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkUmVzOiBHcmlkUmVzb3VyY2U7XG4gICAgcHJpdmF0ZSBpbnRlcm5hbFNjYWxlOiBudW1iZXIgPSAxO1xuXG4gICAgcG9zWDogbnVtYmVyID0gMDtcbiAgICBwb3NZOiBudW1iZXIgPSAwO1xuICAgIHNjYWxlWDogbnVtYmVyID0gMTtcbiAgICBzY2FsZVk6IG51bWJlciA9IDE7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShQSVhJLlRleHR1cmUuRU1QVFksIGFwcC5zY3JlZW4ud2lkdGgsIGFwcC5zY3JlZW4uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zcHJpdGUuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuR1JJRDtcblxuICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgdG9vbFN5cy5hZGRUb29sKGNyZWF0ZUVtcHR5RHJpdmVyKFRvb2wuR1JJRCkpO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9yZW1vdmUnLCB0aGlzLm9uUmVzb3VyY2VSZW1vdmUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFJlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdHlwZTogR1JJRF9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgICAgICBfc3luYzogdHJ1ZSxcbiAgICAgICAgfSwgU1RBTkRBUkRfR1JJRF9PUFRJT05TKSAgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmdyaWRSZXMpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4KCk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFJlZHJhd1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXgoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uQm9hcmRUcmFuc2Zvcm0ocmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZVJlbW92ZShyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSAhPT0gR1JJRF9UWVBFKSByZXR1cm47XG4gICAgICAgIHRocm93ICdGb29sISBUaG91IHNoYWxsIG5vdCByZW1vdmUgdGh5IGdyaWQhJ1xuICAgIH1cblxuICAgIG9uQm9hcmRUcmFuc2Zvcm0oZGF0YTogQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSkge1xuICAgICAgICB0aGlzLnBvc1ggPSBkYXRhLnBvc1g7XG4gICAgICAgIHRoaXMucG9zWSA9IGRhdGEucG9zWTtcbiAgICAgICAgdGhpcy5zY2FsZVggPSBkYXRhLnNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSBkYXRhLnNjYWxlWTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3MoKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNwcml0ZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNwcml0ZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUZXgoKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUuZGVzdHJveSh0cnVlKTtcblxuICAgICAgICBpZiAoIXRoaXMuZ3JpZFJlcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlID0gUElYSS5UZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleCA9IGRyYXdHcmlkVGV4dHVyZSg1MTIsIHRoaXMuZ3JpZFJlcy5ncmlkVHlwZSwgdGhpcy5ncmlkUmVzKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFNjYWxlID0gdGhpcy5ncmlkUmVzLnNpemUgLyA1MTI7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKHRleCk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zKCkge1xuICAgICAgICB0aGlzLnNwcml0ZS50aWxlU2NhbGUuc2V0KHRoaXMuc2NhbGVYICogdGhpcy5pbnRlcm5hbFNjYWxlLCB0aGlzLnNjYWxlWSAqIHRoaXMuaW50ZXJuYWxTY2FsZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRpbGVQb3NpdGlvbi5zZXQodGhpcy5wb3NYICsgdGhpcy5zY2FsZVggKiB0aGlzLmdyaWRSZXMub2ZmWCAgKiB0aGlzLmdyaWRSZXMuc2l6ZSAsIHRoaXMucG9zWSArIHRoaXMuc2NhbGVZICogdGhpcy5ncmlkUmVzLm9mZlkgKiB0aGlzLmdyaWRSZXMuc2l6ZSk7XG4gICAgfVxuXG4gICAgY2xvc2VzdFBvaW50KHBvaW50OiBQb2ludCk6IFBvaW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JpZFJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcG50ID0gbmV3IFBJWEkuUG9pbnQocG9pbnRbMF0sIHBvaW50WzFdKTtcbiAgICAgICAgdGhpcy5zcHJpdGUud29ybGRUcmFuc2Zvcm0uYXBwbHkocG50LCBwbnQpO1xuXG4gICAgICAgIGxldCBwb2ludFggPSBwbnQueCAvIHRoaXMuZ3JpZFJlcy5zaXplIC0gdGhpcy5ncmlkUmVzLm9mZlg7XG4gICAgICAgIGxldCBwb2ludFkgPSBwbnQueSAvIHRoaXMuZ3JpZFJlcy5zaXplIC0gdGhpcy5ncmlkUmVzLm9mZlk7XG5cbiAgICAgICAgbGV0IHJlc1g6IG51bWJlcjtcbiAgICAgICAgbGV0IHJlc1k6IG51bWJlcjtcbiAgICAgICAgc3dpdGNoICh0aGlzLmdyaWRSZXMuZ3JpZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGZ4ID0gTWF0aC5mbG9vcihwb2ludFgpO1xuICAgICAgICAgICAgICAgIGxldCBmeSA9IE1hdGguZmxvb3IocG9pbnRZKTtcblxuICAgICAgICAgICAgICAgIHJlc1ggPSBmeDtcbiAgICAgICAgICAgICAgICByZXNZID0gZnk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRYID4gZnggKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRZID4gZnkgKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWSArPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgZ3JpZCBjZW50ZXJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdFNxdWFyZWQyZChwb2ludFgsIHBvaW50WSwgZnggKyAwLjUsIGZ5ICsgMC41KSA8IGRpc3RTcXVhcmVkMmQocG9pbnRYLCBwb2ludFksIHJlc1gsIHJlc1kpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1ggPSBmeCArIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgcmVzWSA9IGZ5ICsgMC41O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046IHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYWxnb3JpdGhtIGhlcmUgaXMgcXVpdGUgY29tcGxleCBhbmQgSSBjb3VsZG4ndCBmaW5kIGFueSBvZiB0aGlzIG9ubGluZSwgc28gdGhpcyBpcyBteSBvd24gc29sdXRpb246XG4gICAgICAgICAgICAgICAgLy8gKG5vdGU6IGhleGFnb24gc2lkZSA9IDEgYmVjYXVzZSBvZiB0aGUgaW5pdGlhbCB0cmFuc2Zvcm1hdGlvbikuXG4gICAgICAgICAgICAgICAgLy8gRmlyc3Qgd2UgY2FuIG5vdGljZSB0aGF0IGlmIHdlIGNvbG91ciBlYWNoIHBvaW50IGluIGEgZGlmZmVyZW50IGNvbG91ciBkZXBlbmRpbmcgb24gd2hpY2ggdmVydGV4XG4gICAgICAgICAgICAgICAgLy8gaXMgY2xvc2VyIHRvIGhpbSAoaW4gYSBoZXhhZ29uYWwgZ3JpZCkgd2UgZmluZCBhIGdyaWQgb2YgZXF1aWxhdGVyYWwgdHJpYW5nbGVzIG9mIHNpZGUgMS5cbiAgICAgICAgICAgICAgICAvLyBXZSB0aGVuIHRyYW5zZm9ybSBvdXIgZ3JpZCBieSAyIC8gc3FydCgzKSBvbiB0aGUgaG9yaXpvbnRhbCBzaWRlIHNvIHRoYXQgdGhlIGhlaWdodCBvZiB0aGUgdHJpYW5nbGVzXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGVpciBiYXNlLlxuICAgICAgICAgICAgICAgIC8vIFdpdGggdGhhdCBkb25lIHdlIGNhbiBwdXQgYSBzcXVhcmUgZ3JpZCBvbiB0b3Agb2Ygb3VyIHRyaWFuZ2xlIGdyaWQsIGVhY2ggc3F1YXJlIHdpbGwgaG9sZCBvbmVcbiAgICAgICAgICAgICAgICAvLyB0cmlhbmdsZSBhdCBpdHMgY2VudGVyIGFuZCB0d28gaGFsZmVzIGF0IHRoZSB0b3AgYW5kIGJvdHRvbS5cbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gc2VlIHdoaWNoIHNxdWFyZSB0aGUgcG9pbnQgYmVsb25ncyB0byBieSBmbG9vcmluZyB0aGUgdHJhbnNmb3JtZWQgeCBhbmQgeSBjb21wb25lbnRzLCB0aGVuXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIGNoZWNrIHdoaWNoIHRyaWFuZ2xlIHRoZSBwb2ludHMgYmVsb25ncyB0byBieSBjaGVjaGlua2cgaWYgdGhlIHBvaW50IGlzIGFib3ZlIG9yIGJlbG93XG4gICAgICAgICAgICAgICAgLy8gdGhlIGRpYWdvbmFsIGxpbmVzIG9mIGVxdWF0aW9uOiB5IDwgMC41IC0geC8yIGFuZCB5ID4geC8yICsgMC41XG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGVhY2ggdHJpYW5nbGUgY29sdW1uIGhhcyBoYWxmIG9mIGEgaGV4YWdvbiBzbyB0aGUgb2RkLW9uZXMgd2lsbCBiZSBmbGlwcGVkLlxuXG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IDEgLyBTUVJUMzsvLyBIZXhhZ29uIFNpZGUgPSAxL3NxcnQoMylcbiAgICAgICAgICAgICAgICBsZXQgcHggPSAocG9pbnRYIC0gcyAvIDIpICogMiAvIFNRUlQzOy8vIGFsaWduIHRoZSBwb2ludCB3aXRoIHRoZSB0cmlhbmdsZSBncmlkLCBhbmQgdHJhbnNmb3JtIHRoZSBncmlkXG4gICAgICAgICAgICAgICAgbGV0IHB5ID0gcG9pbnRZO1xuXG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gTWF0aC5mbG9vcihweCk7XG4gICAgICAgICAgICAgICAgbGV0IHN5ID0gTWF0aC5mbG9vcihweSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZ3ggPSAocHggLSBzeCk7XG4gICAgICAgICAgICAgICAgbGV0IGd5ID0gKHB5IC0gc3kpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJ4ID0gc3ggKiBTUVJUMyAvIDIgKyBzIC8gMjtcbiAgICAgICAgICAgICAgICBpZiAoc3ggJSAyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBzaWRlIGhleGFnb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGd5IDwgMC41IC0gZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3k7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChneSA+IGd4IC8gMiArIDAuNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHMgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZsaXBwZWQgaGV4YWdvbjogcmlnaHQgc2lkZSBoZXguXG4gICAgICAgICAgICAgICAgICAgIGlmIChneSA+IDEgLSBneCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGd5IDwgZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3k7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcyAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBudC5zZXQoXG4gICAgICAgICAgICAocmVzWCArIHRoaXMuZ3JpZFJlcy5vZmZYKSAqIHRoaXMuZ3JpZFJlcy5zaXplLFxuICAgICAgICAgICAgKHJlc1kgKyB0aGlzLmdyaWRSZXMub2ZmWSkgKiB0aGlzLmdyaWRSZXMuc2l6ZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnNwcml0ZS53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG50LCBwbnQpO1xuXG4gICAgICAgIHJldHVybiBbcG50LngsIHBudC55XTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGFwcC5yZW5kZXJlci5vbigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgdGhpcyk7XG4gICAgICAgIGFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLnNwcml0ZSk7XG4gICAgICAgIHRoaXMub25SZXNpemUoYXBwLnNjcmVlbi53aWR0aCwgYXBwLnNjcmVlbi5oZWlnaHQpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBhcHAucmVuZGVyZXIub2ZmKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLCB0aGlzKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERSQVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gZHJhd0dyaWRUZXh0dXJlKHNpemU6IG51bWJlciwgdHlwZTogR3JpZFR5cGUsIG9wdGlvbnM6IEdyaWRHcmFwaGljYWxPcHRpb25zKTogUElYSS5CYXNlVGV4dHVyZSB7XG4gICAgbGV0IGNhbnZhczogSW1hZ2VEYXRhO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046XG4gICAgICAgICAgICBjYW52YXMgPSBkcmF3SGV4KHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOlxuICAgICAgICAgICAgY2FudmFzID0gZHJhd1NxdWFyZShzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBkcmF3IHVua25vd24gdHlwZTogJyArIHR5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBJWEkuQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihuZXcgVWludDhBcnJheShjYW52YXMuZGF0YS5idWZmZXIpLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xufVxuXG5mdW5jdGlvbiBkcmF3U3F1YXJlKHNpemU6IG51bWJlciwgb3B0OiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IEltYWdlRGF0YSB7XG4gICAgLy9sZXQgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyhzaXplLCBzaXplKTtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG5cbiAgICBjdHgubGluZVdpZHRoID0gb3B0LnRoaWNrO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yVG9IZXgob3B0LmNvbG9yLCBvcHQub3BhY2l0eSk7XG5cbiAgICBjdHguc3Ryb2tlUmVjdCgwLCAwLCBzaXplICsgMSwgc2l6ZSArIDEpO1xuICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpO1xufVxuXG5mdW5jdGlvbiBkcmF3SGV4KHNpemU6IG51bWJlciwgb3B0OiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IEltYWdlRGF0YSB7XG4gICAgbGV0IHMgPSBzaXplIC8gU1FSVDM7Ly8gU2lkZVxuXG4gICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcigzICogcyk7XG4gICAgLy9sZXQgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgc2l6ZSk7XG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplO1xuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgIGxldCBkID0gc2l6ZTtcblxuICAgIGN0eC5saW5lV2lkdGggPSBvcHQudGhpY2s7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gIGNvbG9yVG9IZXgob3B0LmNvbG9yLCBvcHQub3BhY2l0eSk7XG5cblxuICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgY3R4LmxpbmVUbyhzLCAwKTtcbiAgICBjdHgubGluZVRvKHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMiAqIHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMyAqIHMsIDApO1xuICAgIGN0eC5tb3ZlVG8oMCwgZCk7XG4gICAgY3R4LmxpbmVUbyhzLCBkKTtcbiAgICBjdHgubGluZVRvKHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5tb3ZlVG8oMiAqIHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMyAqIHMsIGQpO1xuXG4gICAgLy8gTGluZXMgYmVmb3JlIHRoZSBpbWFnZTpcbiAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgIGN0eC5saW5lVG8oLXMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygwLCBkKTtcblxuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBzaXplKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb0hleChjb2xvcjogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiAnIycgKyAoY29sb3IgPDwgOCB8ICgyNTUgKiBvcGFjaXR5KSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsICcwJyk7XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgUG9zaXRpb25Db21wb25lbnQsIFRyYW5zZm9ybUNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtcbiAgICBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50LFxuICAgIG92ZXJsYXBBYWJiVnNBYWJiLFxuICAgIG92ZXJsYXBBYWJiVnNMaW5lLFxuICAgIG92ZXJsYXBBYWJiVnNQb2ludCxcbiAgICBvdmVybGFwQ2lyY2xlVnNBYWJiLFxuICAgIG92ZXJsYXBDaXJjbGVWc0NpcmNsZSxcbiAgICBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uLFxuICAgIG92ZXJsYXBMaW5lVnNDaXJjbGUsXG4gICAgb3ZlcmxhcExpbmVWc1BvbHlnb24sXG4gICAgb3ZlcmxhcE9iYlZzUG9seWdvbixcbiAgICBvdmVybGFwUG9pbnRWc0NpcmNsZSxcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNDaXJjbGUsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNMaW5lLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNSb3RhdGVkUmVjdCxcbiAgICBTZWdtZW50VnNTZWdtZW50UmVzXG59IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9jb2xsaXNpb25cIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7cG9seWdvblBvaW50SW50ZXJzZWN0fSBmcm9tIFwiLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtPYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9vYmJcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtEeW5hbWljVHJlZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2R5bmFtaWNUcmVlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvbGluZVwiO1xuaW1wb3J0IHtHZW9tZXJ0eVF1ZXJ5VHlwZSwgUXVlcnlIaXRFdmVudH0gZnJvbSBcIi4uL2ludGVyYWN0aW9uXCI7XG5pbXBvcnQge1BsYXllclZpc2libGVDb21wb25lbnR9IGZyb20gXCIuL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtQb2ludERCfSBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludERCXCI7XG5pbXBvcnQge0dSSURfVFlQRSwgR3JpZFN5c3RlbX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9zZWxlY3Rpb25TeXN0ZW1cIjtcblxuZXhwb3J0IGVudW0gU2hhcGVUeXBlIHtcbiAgICBQT0lOVCwgQUFCQiwgQ0lSQ0xFLCBMSU5FLCBQT0xZR09OLCBPQkIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5QT0lOVDtcbiAgICBwb3M6IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBYWJiU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLkFBQkI7XG4gICAgZGF0YTogQWFiYjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXJjbGVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuQ0lSQ0xFO1xuICAgIHBvczogUElYSS5JUG9pbnREYXRhO1xuICAgIHJhZGl1czogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuTElORTtcbiAgICBkYXRhOiBMaW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25TaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuUE9MWUdPTjtcbiAgICBwb2x5Z29uOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYmJTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuT0JCO1xuICAgIGRhdGE6IE9iYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlUG9pbnQocG9zOiBQSVhJLklQb2ludERhdGEpOiBQb2ludFNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuUE9JTlQsXG4gICAgICAgIHBvcyxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVBYWJiKGFhYmI6IEFhYmIpOiBBYWJiU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5BQUJCLFxuICAgICAgICBkYXRhOiBhYWJiLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUNpcmNsZShjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBDaXJjbGVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkNJUkNMRSxcbiAgICAgICAgcG9zOiBjZW50ZXIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUxpbmUobGluZTogTGluZSk6IExpbmVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkxJTkUsXG4gICAgICAgIGRhdGE6IGxpbmUsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlUG9seWdvbihwb2x5Z29uOiBudW1iZXJbXSk6IFBvbHlnb25TaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPTFlHT04sXG4gICAgICAgIHBvbHlnb24sXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlT2JiKG9iYjogT2JiKTogT2JiU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5PQkIsXG4gICAgICAgIGRhdGE6IG9iYixcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVJbnRlcnNlY3Qoc2hhcGUxOiBTaGFwZSwgc2hhcGUyOiBTaGFwZSk6IGJvb2xlYW4ge1xuICAgIGlmIChzaGFwZTIudHlwZSA8IHNoYXBlMS50eXBlKSBbc2hhcGUyLCBzaGFwZTFdID0gW3NoYXBlMSwgc2hhcGUyXTtcbiAgICBsZXQgczF0ID0gc2hhcGUxLnR5cGU7XG4gICAgbGV0IHMydCA9IHNoYXBlMi50eXBlO1xuXG4gICAgLy8gVE9ETzogcG9seWdvbiB2cyBwb2x5Z29uXG4gICAgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLlBPSU5UKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBQb2ludFNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiBvdmVybGFwQWFiYlZzUG9pbnQoKHNoYXBlMiBhcyBBYWJiU2hhcGUpLmRhdGEsIHMxLnBvcyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwUG9pbnRWc0NpcmNsZShzMS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBwb2x5Z29uUG9pbnRJbnRlcnNlY3QoczEucG9zLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50KChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLnBvcyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkFBQkIpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIEFhYmJTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiBvdmVybGFwQWFiYlZzQWFiYigoc2hhcGUyIGFzIEFhYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwQ2lyY2xlVnNBYWJiKChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzLCBzMS5kYXRhKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBvdmVybGFwQWFiYlZzTGluZShzMS5kYXRhLCAoc2hhcGUyIGFzIExpbmVTaGFwZSkuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gb3ZlcmxhcE9iYlZzUG9seWdvbihPYmIuZnJvbUFhYmIoczEuZGF0YSksIChzaGFwZTIgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzQWFiYigoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuQ0lSQ0xFKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBDaXJjbGVTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTogcmV0dXJuIG92ZXJsYXBDaXJjbGVWc0NpcmNsZSgoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnJhZGl1cywgczEucG9zLCBzMS5yYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIG92ZXJsYXBMaW5lVnNDaXJjbGUoKHNoYXBlMiBhcyBMaW5lU2hhcGUpLmRhdGEsIHMxLnBvcywgczEucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uKHMxLnBvcywgczEucmFkaXVzLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZSgoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb3MsIHMxLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkxJTkUpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIExpbmVTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KHMxLmRhdGEsIChzaGFwZTIgYXMgTGluZVNoYXBlKS5kYXRhKSA9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTjtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwTGluZVZzUG9seWdvbihzMS5kYXRhLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0xpbmUoKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLlBPTFlHT04pIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIFBvbHlnb25TaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcE9iYlZzUG9seWdvbigoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb2x5Z29uKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuT0JCKSB7XG4gICAgICAgIHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc1JvdGF0ZWRSZWN0KChzaGFwZTEgYXMgT2JiU2hhcGUpLmRhdGEsIChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEpO1xuICAgIH1cbiAgICAvLyBQb2x5Z29uIHZzIFBvbHlnb25cbiAgICB0aHJvdyAnUXVlcnkgbm90IGltcGxlbWVudGVkOiAnICsgczF0ICsgJyB2cyAnICsgczJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVUb0FhYmIoc2hhcGU6IFNoYXBlKTogQWFiYiB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPSU5UOiByZXR1cm4gQWFiYi5mcm9tUG9pbnQoKHNoYXBlIGFzIFBvaW50U2hhcGUpLnBvcyk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgQ2lyY2xlU2hhcGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFhYmIoXG4gICAgICAgICAgICAgICAgcy5wb3MueCAtIHMucmFkaXVzLCBzLnBvcy55IC0gcy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgcy5wb3MueCArIHMucmFkaXVzLCBzLnBvcy55ICsgcy5yYWRpdXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORToge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBYWJiKHMuZnJvbVgsIHMuZnJvbVksIHMudG9YLCBzLnRvWSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGFhYmIud3JhcFBvbHlnb24oKHNoYXBlIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICByZXR1cm4gYWFiYjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBhYWJiID0gQWFiYi56ZXJvKCk7XG4gICAgICAgICAgICBhYWJiLndyYXBQb2x5Z29uKChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5yb3RWZXJ0ZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGFhYmI7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgJ1Vua25vd24gc2hhcGUgdHlwZTogJyArIHNoYXBlLnR5cGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFwZVRvU25hcHMoc2hhcGU6IFNoYXBlKTogbnVtYmVyW10ge1xuICAgIHN3aXRjaCAoc2hhcGUudHlwZSkge1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOiB7XG4gICAgICAgICAgICBsZXQgcCA9IHNoYXBlIGFzIFBvaW50U2hhcGU7XG4gICAgICAgICAgICByZXR1cm4gW3AucG9zLngsIHAucG9zLnldO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHtcbiAgICAgICAgICAgIGxldCBhYWJiID0gKHNoYXBlIGFzIEFhYmJTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1pblksXG4gICAgICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1heFksXG4gICAgICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1pblksXG4gICAgICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1heFksXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORToge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBzLmZyb21YLCBzLmZyb21ZLFxuICAgICAgICAgICAgICAgIHMudG9YLCBzLnRvWSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9MWUdPTjoge1xuICAgICAgICAgICAgbGV0IHBvbCA9IChzaGFwZSBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb247XG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaChwb2xbaV0sIHBvbFtpICsgMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiB7XG4gICAgICAgICAgICBsZXQgcG9sID0gKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhLnJvdFZlcnRleDtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5PG51bWJlcj4oOCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBwb2xbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyAnVW5rbm93biBzaGFwZSB0eXBlOiAnICsgc2hhcGUudHlwZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNoYXBlVHJhbnNsYXRlKHNoYXBlOiBTaGFwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBQb2ludFNoYXBlO1xuICAgICAgICAgICAgcy5wb3MueCArPSB4O1xuICAgICAgICAgICAgcy5wb3MueSArPSB5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjoge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy50cmFuc2xhdGUoeCwgeSwgcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICBzLmZyb21YICs9IHg7XG4gICAgICAgICAgICBzLmZyb21ZICs9IHk7XG4gICAgICAgICAgICBzLnRvWCArPSB4O1xuICAgICAgICAgICAgcy50b1kgKz0geTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9seWdvblNoYXBlO1xuICAgICAgICAgICAgbGV0IHNsZW4gPSBzLnBvbHlnb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBzLnBvbHlnb25baV0gKz0geDtcbiAgICAgICAgICAgICAgICBzLnBvbHlnb25baSArIDFdICs9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBzID0gKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy51bnJvdGF0ZWQudHJhbnNsYXRlKHgsIHksIHMudW5yb3RhdGVkKTtcbiAgICAgICAgICAgIGxldCBwb2wgPSBzLnJvdFZlcnRleDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgcG9sW2kgICAgXSArPSB4O1xuICAgICAgICAgICAgICAgIHBvbFtpICsgMV0gKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93ICdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVDbG9uZShzaGFwZTogU2hhcGUpOiBTaGFwZSB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTpcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPSU5ULFxuICAgICAgICAgICAgICAgIHBvczogbmV3IFBJWEkuUG9pbnQocy5wb3MueCwgcy5wb3MueSksXG4gICAgICAgICAgICB9IGFzIFBvaW50U2hhcGU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIHNoYXBlQWFiYigoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhLmNvcHkoKSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBzaGFwZUxpbmUoKHNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YS5jb3B5KCkpO1xuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gc2hhcGVQb2x5Z29uKFsuLi4oc2hhcGUgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uXSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIHNoYXBlT2JiKChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5jb3B5KCkpXG4gICAgICAgIGRlZmF1bHQ6IHRocm93ICdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IElOVEVSQUNUSU9OX1RZUEUgPSAnaW50ZXJhY3Rpb24nO1xuZXhwb3J0IHR5cGUgSU5URVJBQ1RJT05fVFlQRSA9ICdpbnRlcmFjdGlvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IElOVEVSQUNUSU9OX1RZUEU7XG5cbiAgICBzZWxlY3RQcmlvcml0eTogbnVtYmVyOy8vIElmIHRydWUgdGhlbiB0aGUgaXRlbSBpcyBzZWxlY3RhYmxlXG4gICAgc25hcEVuYWJsZWQ6IGJvb2xlYW47Ly8gaWYgdHJ1ZSB0aGVuIHRoZSBzbmFwRGIgcmVnaXN0cmF0aW9uIGlzIGF2YWlsYWJsZS5cbiAgICBzaGFwZTogU2hhcGU7XG4gICAgLy8gQWRkaXRpb25hbCBjaGVja3MgKG5vdCByZXF1aXJlZClcbiAgICBxdWVyeUNoZWNrPzogKHNoYXBlOiBTaGFwZSkgPT4gYm9vbGVhbjtcblxuICAgIF90cmVlSWQ/OiBudW1iZXI7XG4gICAgX3NuYXBzPzogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBJTlRFUkFDVElPTl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtHUklEX1RZUEUsIFNFTEVDVElPTl9UWVBFXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8SW50ZXJhY3Rpb25Db21wb25lbnQ+KCdpbnRlcmFjdGlvbicsIGZhbHNlLCBmYWxzZSk7XG4gICAgaXNUcmFuc2xhdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc25hcERiOiBQb2ludERCO1xuICAgIGFhYmJUcmVlID0gbmV3IER5bmFtaWNUcmVlPEludGVyYWN0aW9uQ29tcG9uZW50PigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG4gICAgICAgIHRoaXMuc25hcERiID0gbmV3IFBvaW50REIodGhpcy53b3JsZC5zeXN0ZW1zLmdldChHUklEX1RZUEUpIGFzIEdyaWRTeXN0ZW0pO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCB0aGlzLm9uVG9vbE1vdmVCZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2VuZCcsIHRoaXMub25Ub29sTW92ZUVuZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncXVlcnlfaGl0JywgdGhpcy5vblF1ZXJ5SGl0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyU25hcFBvaW50cyhzbmFwczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgbGV0IHNsZW4gPSBzbmFwcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLnNuYXBEYi5pbnNlcnQoW3NuYXBzW2ldLCBzbmFwc1tpICsgMV1dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdW5yZWdpc3RlclNuYXBQb2ludHMoc25hcHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBzbGVuID0gc25hcHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgdGhpcy5zbmFwRGIucmVtb3ZlKFtzbmFwc1tpXSwgc25hcHNbaSArIDFdXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVucmVnaXN0ZXJDb21wb25lbnQoY29tcDogSW50ZXJhY3Rpb25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAuX3NuYXBzKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJTbmFwUG9pbnRzKGNvbXAuX3NuYXBzKTtcbiAgICAgICAgICAgIGNvbXAuX3NuYXBzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLl90cmVlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hYWJiVHJlZS5kZXN0cm95UHJveHkoY29tcC5fdHJlZUlkKTtcbiAgICAgICAgICAgIGNvbXAuX3RyZWVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ29tcG9uZW50KGNvbXA6IEludGVyYWN0aW9uQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMudW5yZWdpc3RlckNvbXBvbmVudChjb21wKTtcbiAgICAgICAgaWYgKGNvbXAuc2hhcGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBjb21wLl90cmVlSWQgPSB0aGlzLmFhYmJUcmVlLmNyZWF0ZVByb3h5KHNoYXBlVG9BYWJiKGNvbXAuc2hhcGUpLCBjb21wKTtcbiAgICAgICAgaWYgKGNvbXAuc25hcEVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbXAuX3NuYXBzID0gc2hhcGVUb1NuYXBzKGNvbXAuc2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclNuYXBQb2ludHMoY29tcC5fc25hcHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSAhPT0gSU5URVJBQ1RJT05fVFlQRSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgaWYgKCdzaGFwZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGNvbXAgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHBvcy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGludGVyID09PSB1bmRlZmluZWQgfHwgaW50ZXIuc2hhcGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IG9sZFggPSBjaGFuZ2VkLnggIT09IHVuZGVmaW5lZCA/IGNoYW5nZWQueCA6IHBvcy54O1xuICAgICAgICAgICAgbGV0IG9sZFkgPSBjaGFuZ2VkLnkgIT09IHVuZGVmaW5lZCA/IGNoYW5nZWQueSA6IHBvcy55O1xuICAgICAgICAgICAgbGV0IGRpZmZYID0gcG9zLnggLSBvbGRYO1xuICAgICAgICAgICAgbGV0IGRpZmZZID0gcG9zLnkgLSBvbGRZO1xuXG4gICAgICAgICAgICBpZiAoZGlmZlggIT09IDAgfHwgZGlmZlkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB0cmlnZ2VyIGNvbXBvbmVudCBjaGFuZ2UoPylcbiAgICAgICAgICAgICAgICBzaGFwZVRyYW5zbGF0ZShpbnRlci5zaGFwZSwgZGlmZlgsIGRpZmZZKTtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzVHJhbnNsYXRpbmcgJiYgdGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMocG9zLmVudGl0eSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGludGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSBjb21wIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBpbnRlciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodHJhbnMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChpbnRlciA9PT0gdW5kZWZpbmVkIHx8IGludGVyLnNoYXBlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IGludGVyLnNoYXBlO1xuICAgICAgICAgICAgaWYgKHNoYXBlLnR5cGUgPT09IFNoYXBlVHlwZS5QT0lOVCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHNoYXBlLnR5cGUgPT09IFNoYXBlVHlwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcyA9IHNoYXBlIGFzIENpcmNsZVNoYXBlO1xuICAgICAgICAgICAgICAgIGlmICgnc2NhbGUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5yYWRpdXMgPSBzLnJhZGl1cyAqIHRyYW5zLnNjYWxlIC8gY2hhbmdlZC5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoaW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGUudHlwZSA9PT0gU2hhcGVUeXBlLk9CQikge1xuICAgICAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgT2JiU2hhcGU7XG4gICAgICAgICAgICAgICAgaWYgKCdzY2FsZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZlNjYWxlID0gdHJhbnMuc2NhbGUgLyBjaGFuZ2VkLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICBzLmRhdGEudW5yb3RhdGVkLnNjYWxlKGRpZmZTY2FsZSwgZGlmZlNjYWxlLCBzLmRhdGEudW5yb3RhdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcy5kYXRhLnJvdGF0aW9uID0gdHJhbnMucm90YXRpb247XG4gICAgICAgICAgICAgICAgcy5kYXRhLnJlY29tcHV0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGludGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGF1dG8tcm90YXRlIG90aGVyIHNoYXBlcyB0aGFuIE9CQiwgd2F0Y2ggeW91ciBjb21wb25lbnRzIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlICE9PSBJTlRFUkFDVElPTl9UWVBFKSByZXR1cm47XG4gICAgICAgIHRoaXMudW5yZWdpc3RlckNvbXBvbmVudChjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG9vbE1vdmVCZWdpbigpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLnNlbGVjdGlvblN5cy5nZXRTZWxlY3RlZEJ5VHlwZShJTlRFUkFDVElPTl9UWVBFKSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ29tcG9uZW50KGMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLnNlbGVjdGlvblN5cy5nZXRTZWxlY3RlZEJ5VHlwZShJTlRFUkFDVElPTl9UWVBFKSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgc2luZ2xlSGl0UXVlcnkoc2hhcGU6IFNoYXBlLCBldmVudDogUXVlcnlIaXRFdmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgYmVzdFByaW9yOiBudW1iZXIgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGxldCBiZXN0OiBudW1iZXIgPSAtMTtcblxuICAgICAgICBsZXQgaXRlciA9IHRoaXMucXVlcnlWaXNpYmxlKHNoYXBlLCAoYykgPT4gKGMuc2VsZWN0UHJpb3JpdHkgfHwgMCkgPiBiZXN0UHJpb3IpO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGJlc3QgPSBpdGVtLmVudGl0eTtcbiAgICAgICAgICAgIGJlc3RQcmlvciA9IGl0ZW0uc2VsZWN0UHJpb3JpdHkgfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZXN0ICE9PSAtMSkge1xuICAgICAgICAgICAgZXZlbnQuYWRkSGl0KGJlc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtdWx0aUhpdFF1ZXJ5KHNoYXBlOiBTaGFwZSwgZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLnF1ZXJ5VmlzaWJsZShzaGFwZSwgKGMpID0+IGMuc2VsZWN0UHJpb3JpdHkgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcikge1xuICAgICAgICAgICAgZXZlbnQuYWRkSGl0KGl0ZW0uZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghZXZlbnQuc2hvdWxkQ29udGludWUoKSkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblF1ZXJ5SGl0KGV2ZW50OiBRdWVyeUhpdEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICghZXZlbnQuc2hvdWxkQ29udGludWUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBzaGFwZTogU2hhcGU7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVDogc2hhcGUgPSBzaGFwZUNpcmNsZShldmVudC5kYXRhIGFzIFBJWEkuSVBvaW50RGF0YSwgMjApOyBicmVhaztcbiAgICAgICAgICAgIC8vY2FzZSBHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVDogc2hhcGUgPSBzaGFwZVBvaW50KGV2ZW50LmRhdGEgYXMgUElYSS5JUG9pbnREYXRhKTsgYnJlYWs7IC8vIEVOQUJMRSBUSElTIEZPUiBQT0lOVC1QUkVDSVNJT04gQ0xJQ0tJTkdcbiAgICAgICAgICAgIGNhc2UgR2VvbWVydHlRdWVyeVR5cGUuQUFCQjogc2hhcGUgPSBzaGFwZUFhYmIoZXZlbnQuZGF0YSBhcyBBYWJiKTsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyAnVW5rbm93biBxdWVyeSB0eXBlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5tdWx0aSkge1xuICAgICAgICAgICAgdGhpcy5tdWx0aUhpdFF1ZXJ5KHNoYXBlLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpbmdsZUhpdFF1ZXJ5KHNoYXBlLCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHF1ZXJ5VmlzaWJsZShzaGFwZTogU2hhcGUsIHByZUNoZWNrPzogKGM6IEludGVyYWN0aW9uQ29tcG9uZW50KSA9PiBib29sZWFuKTogR2VuZXJhdG9yPEludGVyYWN0aW9uQ29tcG9uZW50PiB7XG4gICAgICAgIGxldCBwbGF5ZXJWaXM6IFNpbmdsZUVjc1N0b3JhZ2U8UGxheWVyVmlzaWJsZUNvbXBvbmVudD4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghdGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgcGxheWVyVmlzID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoJ3BsYXllcl92aXNpYmxlJykgYXMgU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJWaXNpYmxlQ29tcG9uZW50PjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJWaXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMucXVlcnkoc2hhcGUsIHByZUNoZWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoc2hhcGUsIGMgPT4ge1xuICAgICAgICAgICAgbGV0IHZpc0MgPSBwbGF5ZXJWaXMhLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzQyAhPT0gdW5kZWZpbmVkICYmICF2aXNDLnZpc2libGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBwcmVDaGVjayA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHByZUNoZWNrKGMpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgICpxdWVyeShzaGFwZTogU2hhcGUsIHByZUNoZWNrPzogKGM6IEludGVyYWN0aW9uQ29tcG9uZW50KSA9PiBib29sZWFuKTogR2VuZXJhdG9yPEludGVyYWN0aW9uQ29tcG9uZW50PiB7XG4gICAgICAgIGxldCBhYWJiID0gc2hhcGVUb0FhYmIoc2hhcGUpO1xuXG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5hYWJiVHJlZS5xdWVyeShhYWJiKSkge1xuICAgICAgICAgICAgbGV0IHRhZyA9IGMudGFnITtcbiAgICAgICAgICAgIGlmIChwcmVDaGVjayAmJiAhcHJlQ2hlY2sodGFnKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXNoYXBlSW50ZXJzZWN0KHRhZy5zaGFwZSEsIHNoYXBlKSkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcWMgPSB0YWcucXVlcnlDaGVjaztcbiAgICAgICAgICAgIGlmIChxYyAmJiAhcWMoc2hhcGUpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHlpZWxkIHRhZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7Q1VTVE9NX0JMRU5EX01PREVTLCBERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7U3R1cGlkUG9pbnR9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9wb2ludFwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge2FwcH0gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5pbXBvcnQge1ZJU0lCSUxJVFlfVFlQRSwgVmlzaWJpbGl0eUNvbXBvbmVudH0gZnJvbSBcIi4vdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0ICogYXMgUG9pbnRMaWdodFJlbmRlciBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXJcIjtcbmltcG9ydCB7UExBWUVSX1RZUEUsIFBsYXllckNvbXBvbmVudH0gZnJvbSBcIi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge01lc2h9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1BpeGlCb2FyZFN5c3RlbSwgUElYSV9CT0FSRF9UWVBFfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCBoZXgycmdiID0gUElYSS51dGlscy5oZXgycmdiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xTeXN0ZW19IGZyb20gXCIuL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7Y3JlYXRlRW1wdHlEcml2ZXJ9IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi9ncmlkU3lzdGVtXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CQUNLR1JPVU5EID0gMHg2ZTQ3MmM7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTID0ge1xuICAgIGFtYmllbnRMaWdodDogMHg1NTU1NTUsXG4gICAgYmFja2dyb3VuZDogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgIG5lZWRzTGlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgTElHSFRfVFlQRSA9ICdsaWdodCc7XG5leHBvcnQgdHlwZSBMSUdIVF9UWVBFID0gJ2xpZ2h0JztcbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IExJR0hUX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbiAgICByYW5nZTogbnVtYmVyO1xuXG4gICAgX2xpZ2h0RGlzcGxheT86IFBJWEkuTWVzaDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21QbGF5ZXJDb21wb25lbnQgZXh0ZW5kcyBQbGF5ZXJDb21wb25lbnQge1xuICAgIF9saWdodFZpc2lvbkRpc3BsYXk/OiBQSVhJLk1lc2g7XG59XG5cbmV4cG9ydCBjb25zdCBMSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCB0eXBlIExJR0hUX1NFVFRJTkdTX1RZUEUgPSAnbGlnaHRfc2V0dGluZ3MnO1xuZXhwb3J0IGludGVyZmFjZSBMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgYW1iaWVudExpZ2h0OiBudW1iZXIsXG4gICAgbmVlZHNMaWdodDogYm9vbGVhbixcbiAgICBiYWNrZ3JvdW5kOiBudW1iZXIsXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IHRydWUsXG59XG5cbnR5cGUgVmlzaW9uVHlwZSA9ICdkbScgfCAncnAnO1xuXG5leHBvcnQgY29uc3QgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSA9ICdsb2NhbF9saWdodF9zZXR0aW5ncyc7XG5leHBvcnQgdHlwZSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xvY2FsX2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxMaWdodFNldHRpbmdzIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgdmlzaW9uVHlwZTogVmlzaW9uVHlwZSxcbiAgICBfc2F2ZTogdHJ1ZSxcbiAgICBfc3luYzogZmFsc2UsXG59XG5cblxuLyoqXG4gKiBIb3cgaXMgbGlnaHQgcmVuZGVyZWQ/XG4gKiBUaGVyZSBhcmUgdGhyZWUgbG9naWNhbCBwYXNzZXMgb24gYSBzZXBhcmF0ZSBmcmFtZWJ1ZmZlci5cbiAqIFRoZW4gdGhpcyBmcmFtZWJ1ZmZlciBpcyBwYXN0ZWQgb250byB0aGUgcmVhbCBzY3JlZW4uXG4gKiAxLiBDbGVhciB0aGUgUkdCQSBjaGFubmVscyB3aXRoIHRoZSBhbWJpZW50IGxpZ2h0LlxuICogMi4gRHJhdyBvbmx5IGluIHRoZSBBTFBIQSBjaGFubmVsIGV2ZXJ5IHBsYXllciBtZXNoIChhY2hpZXZlZCBieSBzZXR0aW5nIHRoZSBjb2xvciB0byAwKVxuICogMy4gRHJhdyB0aGUgbGlnaHQgb25seSB3aGVyZSB0aGUgQUxQSEEgY2hhbm5lbCBpcyAxICh1c2luZyBhIGN1c3RvbSBibGVuZCBtb2RlKVxuICogNC4gRHJhdyB0aGUgZnJhbWVidWZmZXIgb24gdGhlIHNjcmVlbiBpZ25vcmluZyB0aGUgQUxQSEEgY2hhbm5lbCAodXNpbmcgYSBjdXN0b20gYmxlbmQgbW9kZSlcbiAqXG4gKiBXaHkgaXMgdGhpcyB1c2FnZSBvZiB0aGUgYWxwaGEgY2hhbm5lbCB1c2VkP1xuICogV2UgbmVlZCB0byByZW5kZXIgbGlnaHQgb25seSB3aGVyZSB2aXNpYmxlLCBzbyBpbiB0aGUgUlAtdmlldyB0aGUgcGxheWVycyB2aXNpb24gcG9seWdvbnMgc2hvdWxkIGJlIHVzZWQgYXMgYVxuICogbWFzayBmb3IgdGhlIGxpZ2h0ICh5b3UgY2FuJ3Qgc2VlIGEgbGlnaHQgdGhhdCBubyBwbGF5ZXIgc2VlcykuIFNvIHdoZW4gdGhlIFJQLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXNcbiAqIGNsZWFyZWQgd2l0aCBhbHBoYT0wIGFuZCB0aGUgcGxheWVyJ3MgdmlzaW9uIHdpbGwgZmlsbCBpbiB0aGUgYWxwaGEgKHRoZXkgc2hvdWxkIGJlIHJlbmRlcmVkIEJFRk9SRSB0aGUgbGlnaHRzKS5cbiAqIFdoZW4gdGhlIERNLXZpZXcgaXMgZW5hYmxlZCB0aGUgZnJhbWVidWZmZXIgaXMgcmVuZGVyZWQgd2l0aCBhbHBoYT0xIGFuZCB0aGUgcGxheWVyJ3MgdmlldyBpcyBub3QgZHJhd24uXG4gKlxuICogV2h5IGlzbid0IHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gcmVuZGVyaW5nIGJhdGNoZWQ/XG4gKiBXZSBuZWVkIHVuaWZvcm1zIGluIHRoZSBzaGFkZXJzIHRvIGtub3cgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGxpZ2h0IGNlbnRlcjogcmVtZW1iZXIgdGhhdCB2aXNpYmlsaXR5IG1lc2ggaXMgbm90IG9ubHlcbiAqIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24sIGl0IGFsc28gY2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgZm9ybSB0aGUgY2VudGVyIG9mIHRoZSBsaWdodCAodG8gcmVuZGVyIGEgcHJvcGVyIGNpcmNsZSkuXG4gKiBTbyB5ZWFoLCBubyBiYXRjaGVkIHVuaWZvcm1zIGluIFdlYkdMIGl0IHNlZW1zLiAoVE9ETzogZXhwbG9yZSBtb3JlIHBvc3NpYmlsaXRpZXMpXG4gKi9cbmV4cG9ydCBjbGFzcyBMaWdodFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBMSUdIVF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPExpZ2h0Q29tcG9uZW50PihMSUdIVF9UWVBFKTtcblxuICAgIGxpZ2h0TGF5ZXI6IFBJWEkuZGlzcGxheS5MYXllcjtcbiAgICBwbGF5ZXJDb250YWluZXI6IFBJWEkuQ29udGFpbmVyO1xuICAgIGxpZ2h0Q29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcblxuICAgIGxpZ2h0U2V0dGluZ3M6IExpZ2h0U2V0dGluZ3M7XG4gICAgbG9jYWxMaWdodFNldHRpbmdzOiBMb2NhbExpZ2h0U2V0dGluZ3M7XG5cbiAgICBwcml2YXRlIGdyaWRTaXplOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMubGlnaHRMYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICB0b29sU3lzLmFkZFRvb2woY3JlYXRlRW1wdHlEcml2ZXIoVG9vbC5MSUdIVCkpO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy5saWdodFNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0eXBlOiBMSUdIVF9TRVRUSU5HU19UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsIF9zeW5jOiB0cnVlLFxuICAgICAgICB9LCBERUZBVUxUX0xJR0hUX1NFVFRJTkdTKSBhcyBMaWdodFNldHRpbmdzO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmxpZ2h0U2V0dGluZ3MpO1xuICAgICAgICB0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHR5cGU6IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsXG4gICAgICAgICAgICB2aXNpb25UeXBlOiB0aGlzLndvcmxkLmlzTWFzdGVyID8gJ2RtJyA6ICdycCcsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSwgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIExvY2FsTGlnaHRTZXR0aW5ncztcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZSA/PyBTVEFOREFSRF9HUklEX09QVElPTlMpLnNpemU7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpZ2h0VmlzTWVzaCgpOiBQSVhJLk1lc2gge1xuICAgICAgICBsZXQgbWVzaCA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgpO1xuXG4gICAgICAgIG1lc2guYmxlbmRNb2RlID0gQ1VTVE9NX0JMRU5EX01PREVTLkFERF9XSEVSRV9BTFBIQV8xO1xuICAgICAgICB0aGlzLmxpZ2h0Q29udGFpbmVyLmFkZENoaWxkKG1lc2gpO1xuXG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cblxuICAgIGNyZWF0ZVBsYXllclZpc01lc2goKTogUElYSS5NZXNoIHtcbiAgICAgICAgbGV0IG1lc2ggPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goJ3BsYXllcicpO1xuXG4gICAgICAgIG1lc2guYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5BREQ7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmFkZENoaWxkKG1lc2gpO1xuXG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc01lc2gobWVzaDogUElYSS5NZXNoLCBwb3M6IFN0dXBpZFBvaW50LCBwb2x5OiBudW1iZXJbXSkge1xuICAgICAgICBtZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hQb2x5Z29ucyhtZXNoLCBwb3MsIHBvbHkpO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc1VuaWZvcm1zKG1lc2g6IFBJWEkuTWVzaCwgY2VudGVyOiBTdHVwaWRQb2ludCwgcmFuZ2VTcXVhcmVkOiBudW1iZXIsIGNvbG9yOiBudW1iZXIpIHtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoVW5pZm9ybXMobWVzaCwgY2VudGVyLCByYW5nZVNxdWFyZWQsIGNvbG9yKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlVmlzTWVzaChtZXNoOiBQSVhJLk1lc2gpIHtcbiAgICAgICAgbWVzaC52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlzUG9seWdvbihlbnRpdHk6IG51bWJlciwgdGFyZ2V0OiBNZXNoLCBjb2xvcjogbnVtYmVyLCBwb3M/OiBQb3NpdGlvbkNvbXBvbmVudCwgdmlzPzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVWaXNNZXNoKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZpcy5wb2x5Z29uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVZpc01lc2godGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc01lc2godGFyZ2V0LCBwb3MsIHZpcy5wb2x5Z29uKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzVW5pZm9ybXModGFyZ2V0LCBwb3MsIHJhbmdlICogcmFuZ2UsIGNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUxpZ2h0VmlzUG9seWdvbihsaWdodDogTGlnaHRDb21wb25lbnQsIHBvcz86IFBvc2l0aW9uQ29tcG9uZW50LCB2aXM/OiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlVmlzUG9seWdvbihsaWdodC5lbnRpdHksIGxpZ2h0Ll9saWdodERpc3BsYXkhLCBsaWdodC5jb2xvciwgcG9zLCB2aXMpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBsYXllclZpc1BvbHlnb24ocGxheWVyOiBDdXN0b21QbGF5ZXJDb21wb25lbnQsIHBvcz86IFBvc2l0aW9uQ29tcG9uZW50LCB2aXM/OiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlVmlzUG9seWdvbihwbGF5ZXIuZW50aXR5LCBwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSEsIDAsIHBvcywgdmlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBMSUdIVF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSBjb21wIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgbGlnaHQuX2xpZ2h0RGlzcGxheSA9IHRoaXMuY3JlYXRlTGlnaHRWaXNNZXNoKCk7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChsaWdodC5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgYSB2aXNpYmlsaXR5IGNvbXBvbmVudCwgY3JlYXRlIG9uZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0XG4gICAgICAgICAgICAgICAgdmlzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBsaWdodC5yYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tXYWxsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHZpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGlnaHRWaXNQb2x5Z29uKGxpZ2h0LCB1bmRlZmluZWQsIHZpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IGNvbXAgYXMgQ3VzdG9tUGxheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPSB0aGlzLmNyZWF0ZVBsYXllclZpc01lc2goKTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgYSB2aXNpYmlsaXR5IGNvbXBvbmVudCwgY3JlYXRlIG9uZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0XG4gICAgICAgICAgICAgICAgdmlzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBwbGF5ZXIucmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrV2FsbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGNvbXAuZW50aXR5LCB2aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllclZpc1BvbHlnb24ocGxheWVyLCB1bmRlZmluZWQsIHZpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICgncmFuZ2UnIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSwge1xuICAgICAgICAgICAgICAgICAgICByYW5nZTogYy5yYW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmICh2aXMucG9seWdvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzVW5pZm9ybXMoYy5fbGlnaHREaXNwbGF5ISwgcG9zLCByYW5nZSAqIHJhbmdlLCBjLmNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSBjb21wIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoISgncG9seWdvbicgaW4gY2hhbmdlcykpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0VmlzUG9seWdvbihsaWdodCwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQodmlzLmVudGl0eSwgUExBWUVSX1RZUEUpIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJWaXNQb2x5Z29uKHBsYXllciwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChjb21wOiBSZXNvdXJjZSwgY2hhbmdlZDogYW55KSB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IEdSSURfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCEoJ3NpemUnIGluIGNoYW5nZWQpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IGNvbXAgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcblxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgcmVhbGx5IGNhcmUsIHRoZSB2aXNpYmlsaXR5IHBvbHlnb25zIHdpbGwgY2hhbmdlIG9uIHRoZWlyIG93blxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gTElHSFRfU0VUVElOR1NfVFlQRSB8fCBjb21wLnR5cGUgPT09IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBhcnIgPSBbMC4wLCAwLjAsIDAuMCwgMC4wXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncy52aXNpb25UeXBlID09PSAnZG0nKSBhcnJbM10gPSAxLjA7XG4gICAgICAgICAgICBoZXgycmdiKHRoaXMubGlnaHRTZXR0aW5ncy5hbWJpZW50TGlnaHQsIGFycik7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuY2xlYXJDb2xvciA9IGFycjtcblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIudmlzaWJsZSA9IHRoaXMubG9jYWxMaWdodFNldHRpbmdzLnZpc2lvblR5cGUgIT09ICdkbSc7XG5cbiAgICAgICAgICAgIGFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmxpZ2h0U2V0dGluZ3MuYmFja2dyb3VuZDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gTElHSFRfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gY29tcCBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGxpZ2h0Ll9saWdodERpc3BsYXk/LmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIHBsYXllci5fbGlnaHRWaXNpb25EaXNwbGF5Py5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci5zZXR1cCgpO1xuXG4gICAgICAgIHRoaXMubGlnaHRMYXllci51c2VSZW5kZXJUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saWdodExheWVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuek9yZGVyID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQgLSAxO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci56SW5kZXggPSBEaXNwbGF5UHJlY2VkZW5jZS5MSUdIVCAtIDE7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGxpZ2h0U3lzdGVtID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChMSUdIVF9UWVBFKSBhcyBMaWdodFN5c3RlbTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIucGFyZW50TGF5ZXIgPSBsaWdodFN5c3RlbS5saWdodExheWVyO1xuXG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuek9yZGVyID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQ7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQ7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIucGFyZW50TGF5ZXIgPSB0aGlzLmxpZ2h0TGF5ZXJcblxuICAgICAgICB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQodGhpcy5saWdodFNldHRpbmdzLCB7fSk7Ly8gVXBkYXRlIHRoZSBjbGVhckNvbG9yXG5cbiAgICAgICAgbGV0IGxpZ2h0aW5nU3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRoaXMubGlnaHRMYXllci5nZXRSZW5kZXJUZXh0dXJlKCkpO1xuICAgICAgICBsaWdodGluZ1Nwcml0ZS5ibGVuZE1vZGUgPSBDVVNUT01fQkxFTkRfTU9ERVMuTVVMVElQTFlfQ09MT1JfT05MWTtcbiAgICAgICAgbGlnaHRpbmdTcHJpdGUuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuTElHSFQ7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGxpZ2h0aW5nU3ByaXRlLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICBsZXQgYm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIGJvYXJkLmJvYXJkLmFkZENoaWxkKHRoaXMucGxheWVyQ29udGFpbmVyLCB0aGlzLmxpZ2h0Q29udGFpbmVyLCB0aGlzLmxpZ2h0TGF5ZXIpO1xuICAgICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQobGlnaHRpbmdTcHJpdGUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSBERUZBVUxUX0JBQ0tHUk9VTkQ7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7Q2hhbm5lbH0gZnJvbSBcIi4uLy4uL25ldHdvcmsvY2hhbm5lbFwiO1xuaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0ICogYXMgUCBmcm9tIFwiLi4vLi4vcHJvdG9jb2wvZ2FtZVwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1BhY2tldENvbnRhaW5lcn0gZnJvbSBcIi4uLy4uL3Byb3RvY29sL3BhY2tldFwiO1xuXG5leHBvcnQgY29uc3QgTkVUV09SS19UWVBFID0gJ25ldHdvcmsnO1xuZXhwb3J0IHR5cGUgTkVUV09SS19UWVBFID0gdHlwZW9mIE5FVFdPUktfVFlQRTtcblxuZXhwb3J0IGNvbnN0IEhPU1RfTkVUV09SS19UWVBFID0gJ2hvc3RfbmV0d29yayc7XG5leHBvcnQgdHlwZSBIT1NUX05FVFdPUktfVFlQRSA9IHR5cGVvZiBIT1NUX05FVFdPUktfVFlQRTtcbmV4cG9ydCBjbGFzcyBIb3N0TmV0d29ya1N5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEhPU1RfTkVUV09SS19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdIGFzIHN0cmluZ1tdO1xuICAgIHJlYWRvbmx5IHByb3ZpZGVzID0gW05FVFdPUktfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBjaGFubmVsOiBDaGFubmVsO1xuXG4gICAgcHJpdmF0ZSBlbnRpdHlTcGF3bmluZz86IG51bWJlcjtcbiAgICBwcml2YXRlIGVudGl0eURlc3Bhd25pbmc/OiBudW1iZXI7XG5cbiAgICBwcml2YXRlIGNvbm5lY3RlZENsaWVudHMgPSAwO1xuXG4gICAgaXNFbmFibGVkID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQsIGNoOiBDaGFubmVsKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2g7XG5cbiAgICAgICAgdGhpcy5jaGFubmVsLmV2ZW50RW1pdHRlci5vbignX2RldmljZV9qb2luJywgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgICAgICB0aGlzLmNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdfZGV2aWNlX2xlZnQnLCB0aGlzLm9uRGV2aWNlTGVmdCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdlbnRpdHlfc3Bhd24nLCB0aGlzLm9uRW50aXR5U3Bhd24sIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignZW50aXR5X3NwYXduZWQnLCB0aGlzLm9uRW50aXR5U3Bhd25lZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdlbnRpdHlfZGVzcGF3bicsIHRoaXMub25FbnRpdHlEZXNwYXduLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2VudGl0eV9kZXNwYXduZWQnLCB0aGlzLm9uRW50aXR5RGVzcGF3bmVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0JywgdGhpcy5vbkNvbXBvbmVudEVkaXQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZWQnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9hZGQnLCB0aGlzLm9uUmVzb3VyY2VBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdCcsIHRoaXMub25SZXNvdXJjZUVkaXQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfcmVtb3ZlJywgdGhpcy5vblJlc291cmNlUmVtb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVWRU5UIExJU1RFTkVSUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBwcml2YXRlIG9uRGV2aWNlSm9pbihjaElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzKys7XG4gICAgICAgIHRoaXMuaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogXCJlY3NfYm9vdHN0cmFwXCIsXG4gICAgICAgICAgICBwYXlsb2FkOiB0aGlzLndvcmxkLnNlcmlhbGl6ZUNsaWVudCgpLFxuICAgICAgICB9IGFzIFAuRWNzQm9vdHJzdHJhcCwgY2hJZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkRldmljZUxlZnQoY2hJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ2xpZW50cy0tO1xuICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IHRoaXMuY29ubmVjdGVkQ2xpZW50cyAhPT0gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5U3Bhd24oZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbnRpdHlTcGF3bmluZyA9IGVudGl0eTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5U3Bhd25lZChlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoZW50aXR5ICE9PSB0aGlzLmVudGl0eVNwYXduaW5nICYmICF0aGlzLndvcmxkLmlzRGVzZXJpYWxpemluZykge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlTcGF3bmluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRocm93ICdJbnZhbGlkIGVudGl0eSBzcGF3bic7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnRpdHlTcGF3bmluZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkIHx8IHRoaXMuc2hvdWxkSWdub3JlRW50aXR5KGVudGl0eSkpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHRoaXMuY3JlYXRlRW50aXR5U3Bhd25QYWNrZXQoZW50aXR5KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVudGl0eURlc3Bhd24oZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCB8fCB0aGlzLnNob3VsZElnbm9yZUVudGl0eShlbnRpdHkpKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lbnRpdHlEZXNwYXduaW5nID0gZW50aXR5O1xuICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiZW50aXR5X2Rlc3Bhd25cIixcbiAgICAgICAgICAgIGVudGl0eUlkOiBlbnRpdHksXG4gICAgICAgIH0gYXMgUC5FbnRpdHlEZXNwYXduKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5RGVzcGF3bmVkKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW50aXR5RGVzcGF3bmluZyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmVudGl0eVNwYXduaW5nID09PSBjb21wb25lbnQuZW50aXR5IHx8ICF0aGlzLmlzRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQudHlwZSA9PT0gJ2hvc3RfaGlkZGVuJykge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLmJyb2FkY2FzdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJlbnRpdHlfZGVzcGF3blwiLFxuICAgICAgICAgICAgICAgIGVudGl0eUlkOiBjb21wb25lbnQuZW50aXR5LFxuICAgICAgICAgICAgfSBhcyBQLkVudGl0eURlc3Bhd24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlQ29tcG9uZW50KGNvbXBvbmVudCkpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY2hhbm5lbC5icm9hZGNhc3Qoe1xuICAgICAgICAgICAgdHlwZTogXCJjb21wb25lbnRfYWRkXCIsXG4gICAgICAgICAgICBlbnRpdHlJZDogY29tcG9uZW50LmVudGl0eSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHByb2Nlc3NDb21wb25lbnQoY29tcG9uZW50KSxcbiAgICAgICAgfSBhcyBQLkNvbXBvbmVudEFkZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXQoY29tcG9uZW50OiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkIHx8IHRoaXMuc2hvdWxkSWdub3JlRW50aXR5KGNvbXBvbmVudC5lbnRpdHkpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGNoYW5nZXMuY2xpZW50VmlzaWJsZSA9PT0gdHJ1ZSAmJiAoY29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbGV0IGZpbmlzaGVkQ29tcG9uZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgY29tcG9uZW50LCBjaGFuZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5icm9hZGNhc3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcG9uZW50X2FkZFwiLFxuICAgICAgICAgICAgICAgIGVudGl0eUlkOiBjb21wb25lbnQuZW50aXR5LFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHByb2Nlc3NDb21wb25lbnQoZmluaXNoZWRDb21wb25lbnQpLFxuICAgICAgICAgICAgfSBhcyBQLkNvbXBvbmVudEFkZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlcy5jbGllbnRWaXNpYmxlID09PSBmYWxzZSAmJiAoY29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLmJyb2FkY2FzdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjb21wb25lbnRfcmVtb3ZlXCIsXG4gICAgICAgICAgICAgICAgZW50aXR5SWQ6IGNvbXBvbmVudC5lbnRpdHksXG4gICAgICAgICAgICAgICAgY29tcFR5cGU6IGNvbXBvbmVudC50eXBlLFxuICAgICAgICAgICAgICAgIG11bHRpSWQ6IChjb21wb25lbnQgYXMgTXVsdGlDb21wb25lbnQpLm11bHRpSWQsXG4gICAgICAgICAgICB9IGFzIFAuQ29tcG9uZW50UmVtb3ZlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNob3VsZElnbm9yZUNvbXBvbmVudDAoY29tcG9uZW50KSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hhbm5lbC5icm9hZGNhc3Qoe1xuICAgICAgICAgICAgdHlwZTogXCJjb21wb25lbnRfZWRpdFwiLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGNvbXBvbmVudC5lbnRpdHksXG4gICAgICAgICAgICBjb21wVHlwZTogY29tcG9uZW50LnR5cGUsXG4gICAgICAgICAgICBtdWx0aUlkOiAoY29tcG9uZW50IGFzIE11bHRpQ29tcG9uZW50KS5tdWx0aUlkLFxuICAgICAgICAgICAgY2hhbmdlczogT2JqZWN0LmFzc2lnbih7fSwgY2hhbmdlcyksXG4gICAgICAgIH0gYXMgUC5Db21wb25lbnRFZGl0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5lbnRpdHlEZXNwYXduaW5nID09PSBjb21wb25lbnQuZW50aXR5IHx8ICF0aGlzLmlzRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQudHlwZSA9PT0gJ2hvc3RfaGlkZGVuJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXR5RGVzcGF3bmluZyA9PT0gY29tcG9uZW50LmVudGl0eSkgcmV0dXJuXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHRoaXMuY3JlYXRlRW50aXR5U3Bhd25QYWNrZXQoY29tcG9uZW50LmVudGl0eSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlQ29tcG9uZW50KGNvbXBvbmVudCkpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiY29tcG9uZW50X3JlbW92ZVwiLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGNvbXBvbmVudC5lbnRpdHksXG4gICAgICAgICAgICBjb21wVHlwZTogY29tcG9uZW50LnR5cGUsXG4gICAgICAgICAgICBtdWx0aUlkOiAoY29tcG9uZW50IGFzIE11bHRpQ29tcG9uZW50KS5tdWx0aUlkLFxuICAgICAgICB9IGFzIFAuQ29tcG9uZW50UmVtb3ZlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VBZGQocmVzb3VyY2U6IFJlc291cmNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQgfHwgcmVzb3VyY2UuX3N5bmMgIT09IHRydWUpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwicmVzb3VyY2VfYWRkXCIsXG4gICAgICAgICAgICBwYXlsb2FkOiByZW1vdmVQcml2YXRlKHJlc291cmNlKSxcbiAgICAgICAgfSBhcyBQLlJlc291cmNlQWRkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0KHJlc291cmNlOiBSZXNvdXJjZSwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQgfHwgcmVzb3VyY2UuX3N5bmMgIT09IHRydWUpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwicmVzb3VyY2VfZWRpdFwiLFxuICAgICAgICAgICAgcmVzVHlwZTogcmVzb3VyY2UudHlwZSxcbiAgICAgICAgICAgIGNoYW5nZXM6IE9iamVjdC5hc3NpZ24oe30sIGNoYW5nZXMpLC8vIGNvcHkgb2JqZWN0XG4gICAgICAgIH0gYXMgUC5SZXNvdXJjZUVkaXQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZVJlbW92ZShyZXNvdXJjZTogUmVzb3VyY2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCB8fCByZXNvdXJjZS5fc3luYyAhPT0gdHJ1ZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hhbm5lbC5icm9hZGNhc3Qoe1xuICAgICAgICAgICAgdHlwZTogXCJyZXNvdXJjZV9yZW1vdmVcIixcbiAgICAgICAgICAgIHJlc1R5cGU6IHJlc291cmNlLnR5cGUsXG4gICAgICAgIH0gYXMgUC5SZXNvdXJjZVJlbW92ZSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVVElMUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBwcml2YXRlIHNob3VsZElnbm9yZUNvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRJZ25vcmVFbnRpdHkoY29tcG9uZW50LmVudGl0eSkpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5zaG91bGRJZ25vcmVDb21wb25lbnQwKGNvbXBvbmVudClcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3VsZElnbm9yZUNvbXBvbmVudDAoY29tcG9uZW50OiBDb21wb25lbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICgoY29tcG9uZW50IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgfHwgIXRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KGNvbXBvbmVudC50eXBlKT8uc3luYztcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3VsZElnbm9yZUVudGl0eShlbnRpdHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53b3JsZC5oYXNBbGxDb21wb25lbnRzKGVudGl0eSwgJ2hvc3RfaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFbnRpdHlTcGF3blBhY2tldChlbnRpdHk6IG51bWJlcik6IFAuRW50aXR5U3Bhd24ge1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdzZXJpYWxpemVfZW50aXR5JywgZW50aXR5KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudHMgPSB0aGlzLndvcmxkLmdldEFsbENvbXBvbmVudHMoZW50aXR5KTtcblxuICAgICAgICBsZXQgY29tcHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZElnbm9yZUNvbXBvbmVudDAoY29tcCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29tcHMucHVzaChwcm9jZXNzQ29tcG9uZW50KGNvbXApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImVudGl0eV9zcGF3blwiLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBzLFxuICAgICAgICB9IGFzIFAuRW50aXR5U3Bhd247XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBDTElFTlRfTkVUV09SS19UWVBFID0gJ2NsaWVudF9uZXR3b3JrJztcbmV4cG9ydCB0eXBlIENMSUVOVF9ORVRXT1JLX1RZUEUgPSB0eXBlb2YgQ0xJRU5UX05FVFdPUktfVFlQRTtcbmV4cG9ydCBjbGFzcyBDbGllbnROZXR3b3JrU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gQ0xJRU5UX05FVFdPUktfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICByZWFkb25seSBwcm92aWRlcyA9IFtORVRXT1JLX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgZWNzOiBXb3JsZDtcbiAgICBwcml2YXRlIGNoYW5uZWw6IENoYW5uZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihlY3M6IFdvcmxkLCBjaGFubmVsOiBDaGFubmVsKSB7XG4gICAgICAgIHRoaXMuZWNzID0gZWNzO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuXG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdlY3NfYm9vdHN0cmFwJywgdGhpcy5vbkVjc0Jvb3RzdHJhcCwgdGhpcyk7XG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdlbnRpdHlfc3Bhd24nLCB0aGlzLm9uRW50aXR5U3Bhd24sIHRoaXMpO1xuICAgICAgICBjaGFubmVsLmV2ZW50RW1pdHRlci5vbignZW50aXR5X2Rlc3Bhd24nLCB0aGlzLm9uRW50aXR5RGVzcGF3biwgdGhpcyk7XG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdjb21wb25lbnRfZWRpdCcsIHRoaXMub25Db21wb25lbnRFZGl0LCB0aGlzKTtcbiAgICAgICAgY2hhbm5lbC5ldmVudEVtaXR0ZXIub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgY2hhbm5lbC5ldmVudEVtaXR0ZXIub24oJ3Jlc291cmNlX2FkZCcsIHRoaXMub25SZXNvdXJjZUFkZCwgdGhpcyk7XG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdyZXNvdXJjZV9lZGl0JywgdGhpcy5vblJlc291cmNlRWRpdCwgdGhpcyk7XG4gICAgICAgIGNoYW5uZWwuZXZlbnRFbWl0dGVyLm9uKCdyZXNvdXJjZV9yZW1vdmUnLCB0aGlzLm9uUmVzb3VyY2VSZW1vdmUsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25FY3NCb290c3RyYXAocGFja2V0OiBQLkVjc0Jvb3Ryc3RyYXAsIGNvbnRhaW5lcjogUGFja2V0Q29udGFpbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChjb250YWluZXIuc2VuZGVyICE9PSAwKSByZXR1cm47IC8vIE9ubHkgYWRtaW5cblxuICAgICAgICB0aGlzLmVjcy5kZXNlcmlhbGl6ZShwYWNrZXQucGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVudGl0eVNwYXduKHBhY2tldDogUC5FbnRpdHlTcGF3biwgY29udGFpbmVyOiBQYWNrZXRDb250YWluZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5zZW5kZXIgIT09IDApIHJldHVybjsgLy8gT25seSBhZG1pblxuXG4gICAgICAgIHRoaXMuZWNzLnNwYXduRW50aXR5TWFudWFsKHBhY2tldC5lbnRpdHlJZCwgcGFja2V0LmNvbXBvbmVudHMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25FbnRpdHlEZXNwYXduKHBhY2tldDogUC5FbnRpdHlEZXNwYXduLCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICBpZiAoY29udGFpbmVyLnNlbmRlciAhPT0gMCkgcmV0dXJuOyAvLyBPbmx5IGFkbWluXG5cbiAgICAgICAgdGhpcy5lY3MuZGVzcGF3bkVudGl0eShwYWNrZXQuZW50aXR5SWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQocGFja2V0OiBQLkNvbXBvbmVudEFkZCwgY29udGFpbmVyOiBQYWNrZXRDb250YWluZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5zZW5kZXIgIT09IDApIHJldHVybjsgLy8gT25seSBhZG1pblxuXG4gICAgICAgIHRoaXMuZWNzLmFkZENvbXBvbmVudChwYWNrZXQuZW50aXR5SWQsIHBhY2tldC5wYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdChwYWNrZXQ6IFAuQ29tcG9uZW50RWRpdCwgY29udGFpbmVyOiBQYWNrZXRDb250YWluZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5zZW5kZXIgIT09IDApIHJldHVybjsgLy8gT25seSBhZG1pblxuXG4gICAgICAgIHRoaXMuZWNzLmVkaXRDb21wb25lbnQocGFja2V0LmVudGl0eUlkLCBwYWNrZXQuY29tcFR5cGUsIHBhY2tldC5jaGFuZ2VzLCBwYWNrZXQubXVsdGlJZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShwYWNrZXQ6IFAuQ29tcG9uZW50UmVtb3ZlLCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICBpZiAoY29udGFpbmVyLnNlbmRlciAhPT0gMCkgcmV0dXJuOyAvLyBPbmx5IGFkbWluXG5cbiAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQocGFja2V0LmVudGl0eUlkLCBwYWNrZXQuY29tcFR5cGUsIHBhY2tldC5tdWx0aUlkKTtcbiAgICAgICAgaWYgKGNvbXAgIT09IHVuZGVmaW5lZCkgdGhpcy5lY3MucmVtb3ZlQ29tcG9uZW50KGNvbXApO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUFkZChwYWNrZXQ6IFAuUmVzb3VyY2VBZGQsIGNvbnRhaW5lcjogUGFja2V0Q29udGFpbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChjb250YWluZXIuc2VuZGVyICE9PSAwKSByZXR1cm47IC8vIE9ubHkgYWRtaW5cblxuICAgICAgICB0aGlzLmVjcy5hZGRSZXNvdXJjZShwYWNrZXQucGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdChwYWNrZXQ6IFAuUmVzb3VyY2VFZGl0LCBjb250YWluZXI6IFBhY2tldENvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICBpZiAoY29udGFpbmVyLnNlbmRlciAhPT0gMCkgcmV0dXJuOyAvLyBPbmx5IGFkbWluXG5cbiAgICAgICAgdGhpcy5lY3MuZWRpdFJlc291cmNlKHBhY2tldC5yZXNUeXBlLCBwYWNrZXQuY2hhbmdlcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlUmVtb3ZlKHBhY2tldDogUC5SZXNvdXJjZVJlbW92ZSwgY29udGFpbmVyOiBQYWNrZXRDb250YWluZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5zZW5kZXIgIT09IDApIHJldHVybjsgLy8gT25seSBhZG1pblxuXG4gICAgICAgIHRoaXMuZWNzLnJlbW92ZVJlc291cmNlKHBhY2tldC5yZXNUeXBlKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NvbXBvbmVudChjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2VudGl0eScgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZSh4OiBhbnkpOiBhbnkge1xuICAgIGxldCBvdXQgPSB7fSBhcyBhbnk7XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIHgpIHtcbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJykgY29udGludWU7XG4gICAgICAgIG91dFtuYW1lXSA9IHhbbmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudFxufSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0VsZW1lbnRUeXBlLCBHUkFQSElDX1RZUEUsIEdyYXBoaWNDb21wb25lbnQsIFBvaW50RWxlbWVudCwgVGV4dEVsZW1lbnQsIFZpc2liaWxpdHlUeXBlfSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7UE9JTlRfUkFESVVTfSBmcm9tIFwiLi9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sRHJpdmVyLCBUb29sU3lzdGVtfSBmcm9tIFwiLi90b29sU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50fSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEUsIFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4vc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuXG5leHBvcnQgY29uc3QgUElOX1RZUEUgPSAncGluJztcbmV4cG9ydCB0eXBlIFBJTl9UWVBFID0gdHlwZW9mIFBJTl9UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBpbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUElOX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbiAgICBsYWJlbD86IHN0cmluZztcbn1cblxuXG5leHBvcnQgY2xhc3MgUGluU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gUElOX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1RPT0xfVFlQRSwgR1JBUEhJQ19UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGluQ29tcG9uZW50PihQSU5fVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIGlmICh3b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2wobmV3IENyZWF0ZVBpblRvb2xEcml2ZXIodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gUElOX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IHBpbiA9IGMgYXMgUGluQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBsZXQgZGlzcGxheSA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgIGlmIChkaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRpc3BsYXkgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5jcmVhdGVFbGVtZW50KClcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBkaXNwbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChwaW4sIGRpc3BsYXkuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUElOX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwaW4gPSBjb21wIGFzIFBpbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgbGV0IGdyYXBjID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwaW5EaXNwbGF5ID0gZ3JhcGMuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChwaW4sIHBpbkRpc3BsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpOiBQb2ludEVsZW1lbnQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuUE9JTlQsXG4gICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuUElOUyxcbiAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5OT1JNQUwsXG4gICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIH0gYXMgUG9pbnRFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVkcmF3Q29tcG9uZW50KHBpbjogUGluQ29tcG9uZW50LCBkaXNwbGF5OiBQb2ludEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgZGlzcGxheS5jb2xvciA9IHBpbi5jb2xvcjtcblxuICAgICAgICBpZiAocGluLmxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5LmNoaWxkcmVuIS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5Ll9jaGlsZHJlbkFkZCA9IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLlRFWFQsXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5OT1JNQUwsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcjoge3g6IDAuNSwgeTogMS4wfSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7eDogMCwgeTogLVBPSU5UX1JBRElVU30sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAwLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwaW4ubGFiZWwsXG4gICAgICAgICAgICAgICAgfSBhcyBUZXh0RWxlbWVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIChkaXNwbGF5LmNoaWxkcmVuIVswXSBhcyBUZXh0RWxlbWVudCkudGV4dCA9IHBpbi5sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BsYXkuX2NoaWxkcmVuUmVwbGFjZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHBpbi5lbnRpdHksIEdSQVBISUNfVFlQRSwgeyBkaXNwbGF5IH0sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVBpblRvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5DUkVBVEVfUElOO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQaW5TeXN0ZW07XG5cbiAgICAvLyBFbnRpdHkgb2YgdGhlIHBpbiB0byBiZSBjcmVhdGVkIChvciAtMSlcbiAgICBjcmVhdGVQaW46IG51bWJlciA9IC0xO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBQaW5TeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdENyZWF0aW9uKCkge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgICAgIGxldCBjb2xvciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGKTtcblxuICAgICAgICBsZXQgZGlzcGxheSA9IHRoaXMuc3lzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICAgICAgZGlzcGxheS5jb2xvciA9IGNvbG9yO1xuICAgICAgICBkaXNwbGF5LnZpc2liID0gVmlzaWJpbGl0eVR5cGUuQUxXQVlTX1ZJU0lCTEU7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSB0aGlzLnN5cy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2FuY2VsQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVBpbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5jcmVhdGVQaW4pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbmZpcm1DcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUGluID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5zeXMud29ybGQ7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuY3JlYXRlUGluO1xuICAgICAgICB3b3JsZC5yZW1vdmVDb21wb25lbnRUeXBlKGlkLCBGT0xMT1dfTU9VU0VfVFlQRSk7XG4gICAgICAgIGxldCBnID0gd29ybGQuZ2V0Q29tcG9uZW50KGlkLCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgIHdvcmxkLnJlbW92ZUNvbXBvbmVudChnKTtcbiAgICAgICAgd29ybGQuYWRkQ29tcG9uZW50KGlkLCB7XG4gICAgICAgICAgICB0eXBlOiBQSU5fVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogaWQsXG4gICAgICAgICAgICBjb2xvcjogKGcuZGlzcGxheSBhcyBQb2ludEVsZW1lbnQpLmNvbG9yLFxuICAgICAgICB9IGFzIFBpbkNvbXBvbmVudCk7XG4gICAgICAgIHdvcmxkLnJlbW92ZUNvbXBvbmVudFR5cGUoaWQsIEhPU1RfSElEREVOX1RZUEUpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUGluID0gLTE7XG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgIHRvb2w6IFRvb2wuSU5TUEVDVCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3lzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXR5KGlkKTtcbiAgICB9XG5cblxuICAgIG9uU3RhcnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25FbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgdGhpcy5jb25maXJtQ3JlYXRpb24oKTtcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge2FwcH0gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5pbXBvcnQge0lIaXRBcmVhLCBJUG9pbnREYXRhfSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7Rk9MTE9XX01PVVNFX1RZUEUsIFBPU0lUSU9OX1RZUEV9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7RmxhZ0Vjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge2dldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb259IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuXG5pbnRlcmZhY2UgUG9pbnRlckRhdGEge1xuICAgIGZpcnN0WDogbnVtYmVyLFxuICAgIGZpcnN0WTogbnVtYmVyLFxuICAgIGxhc3RYOiBudW1iZXIsXG4gICAgbGFzdFk6IG51bWJlcixcbn1cblxuZXhwb3J0IGVudW0gUG9pbnRlckV2ZW50cyB7XG4gICAgUE9JTlRFUl9NT1ZFID0gJ3BvaW50ZXJfbW92ZScsXG4gICAgUE9JTlRFUl9ET1dOID0gJ3BvaW50ZXJfZG93bicsXG4gICAgUE9JTlRFUl9VUCA9ICdwb2ludGVyX3VwJyxcbiAgICBQT0lOVEVSX1JJR0hUX0RPV04gPSAncG9pbnRlcl9yaWdodF9kb3duJyxcbiAgICBQT0lOVEVSX1JJR0hUX1VQID0gJ3BvaW50ZXJfcmlnaHRfdXAnLFxuICAgIFBPSU5URVJfQ0xJQ0sgPSAncG9pbnRlcl9jbGljaycsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3VtYWJsZUV2ZW50IHtcbiAgICBjb25zdW1lZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIYXNMYXN0UG9zaXRpb24ge1xuICAgIGxhc3RQb3NpdGlvbjogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgdHlwZSBQb2ludGVyRG93bkV2ZW50ID0gUElYSS5JbnRlcmFjdGlvbkV2ZW50ICYgQ29uc3VtYWJsZUV2ZW50O1xuZXhwb3J0IHR5cGUgUG9pbnRlclVwRXZlbnQgPSBQSVhJLkludGVyYWN0aW9uRXZlbnQgJiBIYXNMYXN0UG9zaXRpb24gJiB7XG4gICAgaXNDbGljazogYm9vbGVhbjtcbn07XG5leHBvcnQgdHlwZSBQb2ludGVyTW92ZUV2ZW50ID0gUElYSS5JbnRlcmFjdGlvbkV2ZW50ICYgSGFzTGFzdFBvc2l0aW9uICYge1xuICAgIGNhbkJlY29tZUNsaWNrOiBib29sZWFuO1xufTtcbmV4cG9ydCB0eXBlIFBvaW50ZXJSaWdodERvd25FdmVudCA9IFBJWEkuSW50ZXJhY3Rpb25FdmVudCAmIENvbnN1bWFibGVFdmVudDtcbmV4cG9ydCB0eXBlIFBvaW50ZXJSaWdodFVwRXZlbnQgPSBQSVhJLkludGVyYWN0aW9uRXZlbnQ7XG5leHBvcnQgdHlwZSBQb2ludGVyQ2xpY2tFdmVudCA9IFBJWEkuSW50ZXJhY3Rpb25FdmVudDtcblxuZXhwb3J0IHR5cGUgQk9BUkRfVFJBTlNGT1JNX1RZUEUgPSAnYm9hcmRfdHJhbnNmb3JtJztcbmV4cG9ydCBjb25zdCBCT0FSRF9UUkFOU0ZPUk1fVFlQRSA9ICdib2FyZF90cmFuc2Zvcm0nO1xuZXhwb3J0IGludGVyZmFjZSBCb2FyZFRyYW5zZm9ybVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IEJPQVJEX1RSQU5TRk9STV9UWVBFO1xuICAgIF9zYXZlOiB0cnVlO1xuICAgIF9zeW5jOiBmYWxzZTtcblxuICAgIHBvc1g6IG51bWJlcjtcbiAgICBwb3NZOiBudW1iZXI7XG4gICAgc2NhbGVYOiBudW1iZXI7XG4gICAgc2NhbGVZOiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFBJWElfQk9BUkRfVFlQRSA9ICdwaXhpX2JvYXJkJztcbmV4cG9ydCBjb25zdCBQSVhJX0JPQVJEX1RZUEUgPSAncGl4aV9ib2FyZCc7XG5leHBvcnQgY2xhc3MgUGl4aUJvYXJkU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICBuYW1lID0gUElYSV9CT0FSRF9UWVBFO1xuICAgIGRlcGVuZGVuY2llcyA9IFtdIGFzIHN0cmluZ1tdO1xuXG4gICAgd29ybGQ6IFdvcmxkO1xuXG4gICAgYm9hcmQ6IFBJWEkuQ29udGFpbmVyO1xuXG4gICAgcHJpdmF0ZSB3aGVlbExpc3RlbmVyOiBhbnk7XG4gICAgcG9pbnRlcnMgPSBuZXcgTWFwPG51bWJlciwgUG9pbnRlckRhdGE+KCk7XG4gICAgbW91c2VMYXN0WDogbnVtYmVyID0gMDtcbiAgICBtb3VzZUxhc3RZOiBudW1iZXIgPSAwO1xuICAgIGxhc3RNb3VzZURvd25UaW1lPzogbnVtYmVyO1xuICAgIGlzRHJhZ2dpbmdCb2FyZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVxX2JvYXJkX2NlbnRlcicsIHRoaXMuY2VudGVyQm9hcmQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEJPQVJEX1RSQU5TRk9STV9UWVBFLFxuICAgICAgICAgICAgICAgIF9zYXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwb3NYOiAwLFxuICAgICAgICAgICAgICAgIHBvc1k6IDAsXG4gICAgICAgICAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogMSxcbiAgICAgICAgICAgIH0gYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFRPRE86IHdlIHNob3VsZCBjcmVhdGUgcmVuZGVyIHBoYXNlcywgb25lIGZvciB0aGUgd29ybGQgKHVzaW5nIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCB0byBtb3ZlIHRoZSBjYW1lcmEpXG4gICAgICAgIC8vICAgICAgIGFuZCB0aGUgb3RoZXIgZm9yIHRoZSBHVUkgKG9yIG90aGVyIHRoaW5ncyB0aGF0IGRvIG5vdCBkZXBlbmQgb24gY2FtZXJhIHBvc2l0aW9uLCBhcyB0aGUgR3JpZFN5c3RlbSg/KSkuXG4gICAgICAgIC8vICAgICAgIHRvIGNyZWF0ZSBhIGN1c3RvbSBnYW1lIGxvb3A6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUN1c3RvbS1BcHBsaWNhdGlvbi1HYW1lTG9vcFxuICAgICAgICB0aGlzLmJvYXJkID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuYm9hcmQuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ib2FyZC5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KDAsIDApO1xuICAgICAgICB0aGlzLmJvYXJkLnNvcnRhYmxlQ2hpbGRyZW4gPSB0cnVlO1xuICAgIH1cblxuICAgIGNhbkJlY29tZUNsaWNrKHBkYXRhOiBQb2ludGVyRGF0YSwgcDogSVBvaW50RGF0YSkge1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBsZXQgdGltZURpZmYgPSBub3cgLSAodGhpcy5sYXN0TW91c2VEb3duVGltZSB8fCAwKTtcblxuICAgICAgICBsZXQgZGlmZlggPSBwLnggLSBwZGF0YS5maXJzdFg7XG4gICAgICAgIGxldCBkaWZmWSA9IHAueSAtIHBkYXRhLmZpcnN0WTtcbiAgICAgICAgbGV0IGRpZmZQb3MgPSBNYXRoLnNxcnQoZGlmZlggKiBkaWZmWCArIGRpZmZZICogZGlmZlkpO1xuXG4gICAgICAgIHJldHVybiBkaWZmUG9zIDwgNSAmJiB0aW1lRGlmZiA8IDUwMDtcbiAgICB9XG5cbiAgICB6b29tKGRTY2FsZTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIGNlbnRlclk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBtaW5TY2FsZSA9IDAuMDU7XG4gICAgICAgIGNvbnN0IG1heFNjYWxlID0gMztcblxuICAgICAgICBpZiAodGhpcy5ib2FyZC5zY2FsZS54IDwgbWluU2NhbGUgJiYgZFNjYWxlIDwgMSB8fCB0aGlzLmJvYXJkLnNjYWxlLnggPiBtYXhTY2FsZSAmJiBkU2NhbGUgPiAxKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJlZm9yZSBzY2FsaW5nIGFkanVzdCB0aGUgcG9zaXRpb246XG4gICAgICAgIC8vIFRha2VzIHRoZSB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGJvYXJkIHBvc2l0aW9uICh1cHBlci1sZWZ0KSB0byB0aGUgY3Vyc29yLlxuICAgICAgICAvLyBBcHBseSB0aGUgZFNjYWxlIGZhY3RvciB0byB0aGF0IHZlY3RvciBhbmQgZmluZCB0aGUgbmV3IGJvYXJkIHBvc2l0aW9uLlxuICAgICAgICAvLyBGaW5hbGx5LCB0aGUgY3Vyc29yIHBvc2l0aW9uIHBsdXMgdGhlIHZlY3RvciBvYnRhaW5lZCBpcyB0aGUgbmV3IGJvYXJkIHBvc2l0aW9uLlxuXG4gICAgICAgIGxldCBwYWRYID0gdGhpcy5ib2FyZC5wb3NpdGlvbi54IC0gY2VudGVyWDtcbiAgICAgICAgbGV0IHBhZFkgPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnkgLSBjZW50ZXJZO1xuXG4gICAgICAgIHBhZFggKj0gZFNjYWxlO1xuICAgICAgICBwYWRZICo9IGRTY2FsZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQSVhJLlBvaW50KHBhZFggKyBjZW50ZXJYLCBwYWRZICsgY2VudGVyWSk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbmV3IFBJWEkuUG9pbnQodGhpcy5ib2FyZC5zY2FsZS54ICogZFNjYWxlLCB0aGlzLmJvYXJkLnNjYWxlLnkgKiBkU2NhbGUpO1xuXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLyppZiAodGhpcy5ib2FyZC5pc0JvYXJkTG9zdChwb3NpdGlvbiwgc2NhbGUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIllvdSBjYW4ndCBubyBtb3JlIHNjYWxlIGluIHRoaXMgZGlyZWN0aW9uLCB5b3UncmUgbG9vc2luZyB0aGUgYm9hcmQhXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9Ki9cblxuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSwge1xuICAgICAgICAgICAgcG9zWDogcG9zaXRpb24ueCxcbiAgICAgICAgICAgIHBvc1k6IHBvc2l0aW9uLnksXG4gICAgICAgICAgICBzY2FsZVg6IHNjYWxlLngsXG4gICAgICAgICAgICBzY2FsZVk6IHNjYWxlLnksXG4gICAgICAgIH0gYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIG1vdXNlIHNjcm9sbHMuXG4gICAgICogVGhlIG1hcCBpcyB6b29tZWQgaW4gYW5kIG91dCBiYXNlZCBvbiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi5cbiAgICAgKi9cbiAgICBvbk1vdXNlV2hlZWwoZXZlbnQ6IFdoZWVsRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgc2NhbGluZ1NwZWVkID0gMC4xO1xuICAgICAgICBjb25zdCBkU2NhbGUgPSAxIC0gTWF0aC5zaWduKGV2ZW50LmRlbHRhWSkgKiBzY2FsaW5nU3BlZWQ7XG4gICAgICAgIHRoaXMuem9vbShkU2NhbGUsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckRvd24oZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5kYXRhLmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgLy8gUmlnaHQgYnV0dG9uXG4gICAgICAgICAgICBsZXQgcHJkZSA9IGV2ZW50IGFzIFBvaW50ZXJSaWdodERvd25FdmVudDtcbiAgICAgICAgICAgIHByZGUuY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX1JJR0hUX0RPV04sIHByZGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvcyA9IGV2ZW50LmRhdGEuZ2xvYmFsO1xuICAgICAgICB0aGlzLnBvaW50ZXJzLnNldChldmVudC5kYXRhLnBvaW50ZXJJZCwge1xuICAgICAgICAgICAgZmlyc3RYOiBwb3MueCxcbiAgICAgICAgICAgIGZpcnN0WTogcG9zLnksXG4gICAgICAgICAgICBsYXN0WDogcG9zLngsXG4gICAgICAgICAgICBsYXN0WTogcG9zLnksXG4gICAgICAgIH0gYXMgUG9pbnRlckRhdGEpO1xuXG4gICAgICAgIHRoaXMubGFzdE1vdXNlRG93blRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGxldCBlID0gZXZlbnQgYXMgUG9pbnRlckRvd25FdmVudDtcbiAgICAgICAgZS5jb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIShldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAxKSkge1xuICAgICAgICAgICAgLy8gSWYgbWlkZGxlIGJ1dHRvbiBpcyBwcmVzc2VkIGlnbm9yZSwgd2UgZm9yY2UgaXQgdG8gZHJhZyB0aGUgYm9hcmRcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX0RPV04sIGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZS5jb25zdW1lZCAmJiB0aGlzLnBvaW50ZXJzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0JvYXJkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlclVwKGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZXZlbnQuZGF0YS5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgIC8vIFJpZ2h0IGJ1dHRvblxuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfUklHSFRfVVAsIGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwZGF0YSA9IHRoaXMucG9pbnRlcnMuZ2V0KGV2ZW50LmRhdGEucG9pbnRlcklkKTtcbiAgICAgICAgaWYgKHBkYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLnBvaW50ZXJzLmRlbGV0ZShldmVudC5kYXRhLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgaWYgKHRoaXMubGFzdE1vdXNlRG93blRpbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0JvYXJkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBpc0NsaWNrID0gdGhpcy5jYW5CZWNvbWVDbGljayhwZGF0YSwgZXZlbnQuZGF0YS5nbG9iYWwpO1xuXG4gICAgICAgICAgICBsZXQgcHVlID0gZXZlbnQgYXMgUG9pbnRlclVwRXZlbnQ7XG4gICAgICAgICAgICBwdWUubGFzdFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHg6IHBkYXRhLmxhc3RYLFxuICAgICAgICAgICAgICAgIHk6IHBkYXRhLmxhc3RZXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHVlLmlzQ2xpY2sgPSBpc0NsaWNrO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHB1ZSk7XG4gICAgICAgICAgICBpZiAoaXNDbGljaykge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX0NMSUNLLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcE91dHNpZGUoZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCkge1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwKGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKiogRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGN1cnNvciBtb3ZlcyBhcm91bmQgdGhlIG1hcC4gKi9cbiAgICBvblBvaW50ZXJNb3ZlKGU6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCkge1xuICAgICAgICBsZXQgcG9zID0gZS5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUT0RPOiBtYWduZXQgc25hcCBzeXN0ZW1cbiAgICAgICAgbGV0IGxvY2FsUG9zID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLndvcmxkLCBlKTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludGVyRm9sbG93ZXJzKGxvY2FsUG9zKTtcblxuICAgICAgICBsZXQgcGRhdGEgPSB0aGlzLnBvaW50ZXJzLmdldChlLmRhdGEucG9pbnRlcklkKTtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplIDw9IDEgJiYgIXRoaXMuaXNEcmFnZ2luZ0JvYXJkKSB7XG4gICAgICAgICAgICBsZXQgcG1lID0gZSBhcyBQb2ludGVyTW92ZUV2ZW50O1xuICAgICAgICAgICAgcG1lLmxhc3RQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLm1vdXNlTGFzdFgsIHk6IHRoaXMubW91c2VMYXN0WSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwbWUuY2FuQmVjb21lQ2xpY2sgPSBwZGF0YSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0aGlzLmNhbkJlY29tZUNsaWNrKHBkYXRhLCBwb3MpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfTU9WRSwgcG1lKTtcbiAgICAgICAgICAgIHRoaXMubW91c2VMYXN0WCA9IHBvcy54O1xuICAgICAgICAgICAgdGhpcy5tb3VzZUxhc3RZID0gcG9zLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDEpIHsvLyBNb3ZlXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nQm9hcmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb3NYID0gdGhpcy5ib2FyZC5wb3NpdGlvbi54ICsgKHBvcy54IC0gcGRhdGEubGFzdFgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bvc1kgPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnkgKyAocG9zLnkgLSBwZGF0YS5sYXN0WSk7XG5cbiAgICAgICAgICAgICAgICAvKmlmICh0aGlzLmJvYXJkLmlzQm9hcmRMb3N0KG5ldyBQSVhJLlBvaW50KG5ld1Bvc1gsIG5ld1Bvc1kpLCB0aGlzLnNjYWxlKSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiWW91IGNhbid0IGdvIGZ1cnRoZXIgdGhhbiB0aGlzLCB5b3UnbGwgbG9vc2UgdGhlIGJvYXJkIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoQk9BUkRfVFJBTlNGT1JNX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zWDogbmV3UG9zWCxcbiAgICAgICAgICAgICAgICAgICAgcG9zWTogbmV3UG9zWSxcbiAgICAgICAgICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpcnN0RGlzdCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMikge1xuICAgICAgICAgICAgbGV0IFtwYSwgcGJdID0gdGhpcy5wb2ludGVycy52YWx1ZXMoKTtcblxuICAgICAgICAgICAgbGV0IGR4ID0gcGEubGFzdFggLSBwYi5sYXN0WDtcbiAgICAgICAgICAgIGxldCBkeSA9IHBhLmxhc3RZIC0gcGIubGFzdFk7XG4gICAgICAgICAgICBmaXJzdERpc3QgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGRhdGEubGFzdFggPSBwb3MueDtcbiAgICAgICAgcGRhdGEubGFzdFkgPSBwb3MueTtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplID09PSAyKSB7XG4gICAgICAgICAgICBsZXQgW3BhLCBwYl0gPSB0aGlzLnBvaW50ZXJzLnZhbHVlcygpO1xuXG4gICAgICAgICAgICBsZXQgZHggPSBwYS5sYXN0WCAtIHBiLmxhc3RYO1xuICAgICAgICAgICAgbGV0IGR5ID0gcGEubGFzdFkgLSBwYi5sYXN0WTtcbiAgICAgICAgICAgIGxldCBzZWNvbmREaXN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgICAgICAgICAgbGV0IGNlbnRlciA9IG5ldyBQSVhJLlBvaW50KFxuICAgICAgICAgICAgICAgIChwYS5sYXN0WCArIHBiLmxhc3RYKSAvIDIsXG4gICAgICAgICAgICAgICAgKHBhLmxhc3RZICsgcGIubGFzdFkpIC8gMixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnpvb20oKHNlY29uZERpc3QgLyBmaXJzdERpc3QpLCBjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgIT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCB0ID0gcmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2U7XG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KHQucG9zWCwgdC5wb3NZKTtcbiAgICAgICAgdGhpcy5ib2FyZC5zY2FsZS5zZXQodC5zY2FsZVgsIHQuc2NhbGVZKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQb2ludGVyRm9sbG93ZXJzKHBvaW50OiBQSVhJLklQb2ludERhdGEpIHtcbiAgICAgICAgZm9yIChsZXQgYyBvZiAodGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoRk9MTE9XX01PVVNFX1RZUEUpIGFzIEZsYWdFY3NTdG9yYWdlKS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFrZSB0aGUgYm9hcmQncyBjZW50ZXIgYW5kIHRoZSB3aW5kb3cncyBjZW50ZXIgb3ZlcmxhcC5cbiAgICAgKiBUaGlzIHdheSB0aGUgaW5pdGlhbCBib2FyZCBwb3NpdGlvbiBpcyBjZW50ZXJlZCB0byB0aGUgcm9vdCBjYXJkLlxuICAgICAqL1xuICAgIGNlbnRlckJvYXJkKCkge1xuICAgICAgICBsZXQgYm9hcmRTY3JlZW5XaWR0aCA9IGFwcC5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgbGV0IGJvYXJkU2NyZWVuSGVpZ2h0ID0gYXBwLnJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICBsZXQgc2NyZWVuTWlkUG9pbnRXaWR0aCA9IGJvYXJkU2NyZWVuV2lkdGggLyAyO1xuICAgICAgICBsZXQgc2NyZWVuTWlkUG9pbnRIZWlnaHQgPSBib2FyZFNjcmVlbkhlaWdodCAvIDI7XG5cbiAgICAgICAgbGV0IGJvdW5kcyA9IHRoaXMuYm9hcmQuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgdGhpcy5ib2FyZC5wb3NpdGlvbi5zZXQoXG4gICAgICAgICAgICBzY3JlZW5NaWRQb2ludFdpZHRoIC0gYm91bmRzLnggLSBib3VuZHMud2lkdGggLyAyLFxuICAgICAgICAgICAgc2NyZWVuTWlkUG9pbnRIZWlnaHQgLSBib3VuZHMueSAtIGJvdW5kcy5oZWlnaHQgLyAyXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXBwbHlDYW52YXNTdHlsZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHMgPSBjYW52YXMuc3R5bGU7XG4gICAgICAgIHMud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgcy5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGFwcC52aWV3O1xuICAgICAgICB0aGlzLmFwcGx5Q2FudmFzU3R5bGUoY2FudmFzKTtcbiAgICAgICAgbGV0IGNudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgICAgIGlmIChjbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IFwiQ2Fubm90IGZpbmQgY2FudmFzIGNvbnRhaW5lclwiO1xuICAgICAgICB9XG4gICAgICAgIGFwcC5yZXNpemVUbyA9IGNudDtcbiAgICAgICAgY250LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICAgICAgLy9hcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gMHgzZTI3MjM7IC8vIGRhcmsgYnJvd25cblxuICAgICAgICAvLyBQSVhJXG4gICAgICAgIGxldCBzdGFnZSA9IG5ldyBQSVhJLmRpc3BsYXkuU3RhZ2UoKTtcbiAgICAgICAgYXBwLnN0YWdlID0gc3RhZ2U7XG4gICAgICAgIHN0YWdlLnNvcnRhYmxlQ2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICBzdGFnZS5ncm91cC5lbmFibGVTb3J0ID0gdHJ1ZTtcbiAgICAgICAgc3RhZ2UuYWRkQ2hpbGQodGhpcy5ib2FyZCk7XG5cbiAgICAgICAgc3RhZ2UuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICBzdGFnZS5oaXRBcmVhID0ge1xuICAgICAgICAgICAgY29udGFpbnMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBhcyBJSGl0QXJlYTtcblxuICAgICAgICBhcHAuc3RhZ2Uub24oXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMpO1xuICAgICAgICBhcHAuc3RhZ2Uub24oXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICBhcHAuc3RhZ2Uub24oXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIGFwcC5zdGFnZS5vbihcInBvaW50ZXJ1cG91dHNpZGVcIiwgdGhpcy5vblBvaW50ZXJVcE91dHNpZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMud2hlZWxMaXN0ZW5lciA9IHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy53aGVlbExpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBhcHAuc3RhZ2Uub2ZmKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgYXBwLnN0YWdlLm9mZihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdGhpcyk7XG4gICAgICAgIGFwcC5zdGFnZS5vZmYoXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIGFwcC5zdGFnZS5vZmYoXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMub25Qb2ludGVyVXBPdXRzaWRlLCB0aGlzKTtcblxuICAgICAgICBhcHAudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMud2hlZWxMaXN0ZW5lcik7XG5cbiAgICAgICAgbGV0IGNudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgICAgIGNudD8ucmVtb3ZlQ2hpbGQoYXBwLnZpZXcpO1xuICAgICAgICBhcHAucmVzaXplVG8gPSB3aW5kb3c7XG4gICAgfVxufSIsImltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEhPU1RfSElEREVOX1RZUEUsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBUUkFOU0ZPUk1fVFlQRSxcbiAgICBUcmFuc2Zvcm1Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgRGlzcGxheUVsZW1lbnQsXG4gICAgRWxlbWVudFR5cGUsXG4gICAgRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSxcbiAgICBHUkFQSElDX1RZUEUsXG4gICAgR3JhcGhpY0NvbXBvbmVudCxcbiAgICBJbWFnZUVsZW1lbnQsXG4gICAgSW1hZ2VTY2FsZU1vZGUsXG4gICAgTGluZUVsZW1lbnQsXG4gICAgUG9pbnRFbGVtZW50LFxuICAgIFRleHRFbGVtZW50LFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge2FwcH0gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5pbXBvcnQge0JMRU5EX01PREVTLCBJUG9pbnREYXRhLCBNYXRyaXgsIFJlbmRlclRleHR1cmUsIFJlbmRlclRleHR1cmVQb29sLCBUZXh0dXJlfSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTCwgREVTVFJPWV9NSU59IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge1xuICAgIEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELFxuICAgIFBMQVlFUl9UWVBFLFxuICAgIFBMQVlFUl9WSVNJQkxFX1RZUEUsXG4gICAgUGxheWVyU3lzdGVtLFxuICAgIFBsYXllclZpc2libGVDb21wb25lbnQsXG4gICAgVmlzaWJpbGl0eVNwcmVhZERhdGFcbn0gZnJvbSBcIi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge0xJR0hUX1RZUEUsIExpZ2h0U3lzdGVtLCBMb2NhbExpZ2h0U2V0dGluZ3N9IGZyb20gXCIuL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgU2hhcGUsXG4gICAgc2hhcGVBYWJiLFxuICAgIHNoYXBlTGluZSxcbiAgICBzaGFwZU9iYixcbiAgICBzaGFwZVBvaW50LFxuICAgIHNoYXBlVG9BYWJiXG59IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0JpdFNldH0gZnJvbSBcIi4uLy4uL3V0aWwvYml0U2V0XCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L29iYlwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvbGluZVwiO1xuaW1wb3J0IHthcnJheVJlbW92ZUVsZW19IGZyb20gXCIuLi8uLi91dGlsL2FycmF5XCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1RFWFRfVFlQRSwgVGV4dFN5c3RlbX0gZnJvbSBcIi4vdGV4dFN5c3RlbVwiO1xuXG5pbnRlcmZhY2UgQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCBleHRlbmRzIEdyYXBoaWNDb21wb25lbnQge1xuICAgIF9zZWxlY3RlZDogYm9vbGVhbjtcbiAgICBfdmlzaWJMaXN0ZW5lcj86IFZpc2liTGlzdGVuZXJMZXZlbDsvLyBEZWZhdWx0OiBOT1RfTkVFREVEXG4gICAgX2JpdEJ5Qml0PzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEN1c3RvbURpc3BsYXlFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQge1xuICAgIF9vbGRUeXBlPzogRWxlbWVudFR5cGU7XG4gICAgX3BpeGk/OiBQSVhJLkRpc3BsYXlPYmplY3Q7XG59XG5cbmludGVyZmFjZSBDdXN0b21JbWFnZUVsZW1lbnQgZXh0ZW5kcyBJbWFnZUVsZW1lbnQsIEN1c3RvbURpc3BsYXlFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRTsvLyBpbnRlcmZlcmVuY2UgYmV0d2VlbiBpbnRlcmZhY2VzIChnb29kLW9sZCBkaWFtb25kIHByb2JsZW0/KVxuICAgIF9vbGRUZXg/OiBUZXh0dXJlLFxuICAgIF9yZW5UZXg/OiBSZW5kZXJUZXh0dXJlO1xuICAgIF92aXNNYXBDaGFuZ2VkPzogYm9vbGVhbjtcbiAgICBfcGl4aT86IFBJWEkuU3ByaXRlO1xufVxuXG5pbnRlcmZhY2UgQ3VzdG9tVGV4dHVyZSBleHRlbmRzIFBJWEkuVGV4dHVyZSB7XG4gICAgZ3JpZFNpemU/OiB7XG4gICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgeTogbnVtYmVyO1xuICAgICAgICB1cGRhdGVJZDogbnVtYmVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJFTUVNQkVSX1RZUEUgPSAncmVtZW1iZXInO1xuZXhwb3J0IHR5cGUgUkVNRU1CRVJfVFlQRSA9ICdyZW1lbWJlcic7XG5leHBvcnQgaW50ZXJmYWNlIFJlbWVtYmVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBSRU1FTUJFUl9UWVBFLFxufVxuXG5lbnVtIFZpc2liTGlzdGVuZXJMZXZlbCB7XG4gICAgTk9UX05FRURFRCxcbiAgICBSRU1FTUJFUixcbiAgICBQRVJTSVNURU5ULFxufVxuXG5mdW5jdGlvbiBsZXJwQ29sb3IoYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHRyID0gKChhID4+IDE2KSAmIDB4RkYpICogKDEgLSB0KSArICgoYiA+PiAxNikgJiAweEZGKSAqIHQ7XG4gICAgbGV0IHRnID0gKChhID4+IDgpICYgMHhGRikgKiAoMSAtIHQpICsgKChiID4+IDgpICYgMHhGRikgKiB0O1xuICAgIGxldCB0YiA9IChhICYgMHhGRikgKiAoMSAtIHQpICsgKGIgJiAweEZGKSAqIHQ7XG4gICAgcmV0dXJuIHRyIDw8IDE2IHwgdGcgPDwgOCB8IHRiO1xufVxuXG5leHBvcnQgY29uc3QgUE9JTlRfUkFESVVTID0gMTI7XG5cbmV4cG9ydCBjb25zdCBQSVhJX0dSQVBISUNfVFlQRSA9ICdwaXhpX2dyYXBoaWMnO1xuZXhwb3J0IHR5cGUgUElYSV9HUkFQSElDX1RZUEUgPSB0eXBlb2YgUElYSV9HUkFQSElDX1RZUEU7XG5cbi8qKlxuICogTWFuYWdlczpcbiAqIC0gRHJhd2luZyBlbGVtZW50c1xuICogLSBTZWxlY3Rpb24gaGlnaGxpZ2h0aW5nXG4gKiAtIEVsZW1lbnQgdmlzaWJpbGl0eS9yZW1lbWJlcmluZ1xuICogLSBMYXllciBvcmRlcmluZ1xuICogLSBQb3NpdGlvbi9UcmFuc2xhdGlvbiB1cGRhdGVzXG4gKiAtIEJpdC1ieS1iaXQgcmVtZW1iZXJpbmcgKGJhY2tncm91bmQgZGlzY292ZXJ5KVxuICogLSBJbnRlcmFjdGlvbiBzZXR1cFxuICpcbiAqIFRPRE86IHdlIGNvdWxkIHVzZSBhIFBhcnRpY2xlU3lzdGVtIGluIHNvbWUgaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBQaXhpR3JhcGhpY1N5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJWElfR1JBUEhJQ19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIElOVEVSQUNUSU9OX1RZUEVdO1xuICAgIHJlYWRvbmx5IHByb3ZpZGVzID0gW0dSQVBISUNfVFlQRV07XG5cbiAgICB3b3JsZDogV29ybGQ7XG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPEN1c3RvbUdyYXBoaWNDb21wb25lbnQ+KEdSQVBISUNfVFlQRSwgZmFsc2UsIGZhbHNlKTtcbiAgICByZW1lbWJlclN0b3JhZ2UgPSBuZXcgRmxhZ0Vjc1N0b3JhZ2UoUkVNRU1CRVJfVFlQRSwgZmFsc2UsIHRydWUpO1xuXG4gICAgdGV4dFN5c3RlbTogVGV4dFN5c3RlbTtcbiAgICBwaXhpQm9hcmRTeXN0ZW06IFBpeGlCb2FyZFN5c3RlbTtcbiAgICBpbnRlcmFjdGlvblN5c3RlbTogSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgcGxheWVyU3lzdGVtPzogUGxheWVyU3lzdGVtO1xuICAgIHJlbmRlclRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgY2lyY2xlVGV4PzogUElYSS5UZXh0dXJlO1xuXG4gICAgbWFzdGVyVmlzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMudGV4dFN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRFWFRfVFlQRSkgYXMgVGV4dFN5c3RlbTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5yZW1lbWJlclN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlZCcsIHRoaXMub25Db21wb25lbnRSZW1vdmVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3NlbGVjdGlvbl9iZWdpbicsIHRoaXMub25TZWxlY3Rpb25CZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignc2VsZWN0aW9uX2VuZCcsIHRoaXMub25TZWxlY3Rpb25FbmQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIHRoaXMub25CQkJWaXNpYmlsaXR5U3ByZWFkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZXJpYWxpemUnLCB0aGlzLm9uU2VyaWFsaXplLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZXJpYWxpemVfZW50aXR5JywgdGhpcy5vblNlcmlhbGl6ZUVudGl0eSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNwcmVhZFZpcyA9IGZhbHNlO1xuICAgICAgICBsZXQgY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgY29tID0gYyBhcyBDdXN0b21HcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcmFjdGl2ZShjb20sIHBvcywgdHJhbnMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5TGlzdGVuZXIoY29tKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tLCBjb20uZGlzcGxheSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbS5fYml0QnlCaXQgPSB0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSBjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBSRU1FTUJFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGhlcmU/XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ByZWFkVmlzICYmIGNvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgc3ByZWFkVmlzID0gZmFsc2U7XG4gICAgICAgIGxldCBjb206IEN1c3RvbUdyYXBoaWNDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGMudHlwZSA9PT0gR1JBUEhJQ19UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSBjIGFzIEN1c3RvbUdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnJ1bk1ldGhvZHMoY29tLCBjb20uZGlzcGxheSk7Ly8gcnVuIGRlbGF5ZWQgbWV0aG9kcyAobGlrZSBfY2hpbGRyZW5BZGQsIF9jaGlsZHJlblJlcGxhY2UgJiBjbykuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aXZlKGNvbSwgcG9zLCB0cmFucyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHlMaXN0ZW5lcihjb20pO1xuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBMQVlFUl9WSVNJQkxFX1RZUEUpIGFzIFBsYXllclZpc2libGVDb21wb25lbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgcmVtZW1iZXJlZCA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tLCBjb20uZGlzcGxheSwgdHJ1ZSwgcHY/LnZpc2libGUgPz8gdHJ1ZSwgcmVtZW1iZXJlZCk7XG4gICAgICAgICAgICBjb20uX2JpdEJ5Qml0ID0gdGhpcy5uZWVkc0JpdEJ5Qml0KGNvbSwgY29tLmRpc3BsYXkpO1xuICAgICAgICAgICAgc3ByZWFkVmlzID0gY29tLl9iaXRCeUJpdDtcblxuICAgICAgICAgICAgaWYgKCdpbnRlcmFjdGl2ZScgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3RpdmUoY29tLCBwb3MsIHRyYW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFBPU0lUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gYyBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgc3ByZWFkVmlzID0gISFjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBQTEFZRVJfVklTSUJMRV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcHYgPSBjIGFzIFBsYXllclZpc2libGVDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQocHYuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBsZXQgcmVtZW1iZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNvbS5fdmlzaWJMaXN0ZW5lciA9PT0gVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSICYmIHB2LnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSRU1FTUJFUl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGMuZW50aXR5LFxuICAgICAgICAgICAgICAgIH0gYXMgUmVtZW1iZXJDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyU3lzdGVtIS5yZW1vdmVQbGF5ZXJWaXNMaXN0ZW5lcihjLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmVtZW1iZXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5tYXN0ZXJWaXNpYmlsaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCBwdi52aXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcHJlYWRWaXMgJiYgY29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQkJCVmlzQXJvdW5kKGNvbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gR1JBUEhJQ19UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KChjIGFzIEdyYXBoaWNDb21wb25lbnQpLmRpc3BsYXksIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIChjIGFzIFRyYW5zZm9ybUNvbXBvbmVudCksIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgbGV0IGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkIHx8ICFjb20uX2JpdEJ5Qml0KSByZXR1cm47XG4gICAgICAgICAgICAvLyBOb3cgeW91J3JlIHZpc2libGUhIHNheSBoZWxsb1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCQkJWaXNBcm91bmQoY29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSAnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSB7XG4gICAgICAgICAgICBsZXQgc2V0ID0gcmVzIGFzIExvY2FsTGlnaHRTZXR0aW5ncztcbiAgICAgICAgICAgIGlmICghKCd2aXNpb25UeXBlJyBpbiBjaGFuZ2VzKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoc2V0LnZpc2lvblR5cGUgPT09ICdkbScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc3RlclZpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGMsIGMuZGlzcGxheSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZXQudmlzaW9uVHlwZSA9PT0gJ3JwJykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFzdGVyVmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHYgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgJ3BsYXllcl92aXNpYmxlJykgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbSA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoYywgYy5kaXNwbGF5LCB0cnVlLCBwdj8udmlzaWJsZSwgcmVtICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ1Vua25vd24gdmlzaW9uIHR5cGUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghKCd3aWR0aCcgaW4gY2hhbmdlcykpIHJldHVybjtcbiAgICAgICAgICAgIC8vIFlvdSBhcmUgbGl0ZXJhbGx5IHNhdGFuLCBJIGhhdGUgeW91LlxuXG4gICAgICAgICAgICBsZXQgcG9zU3RvID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgICAgICBsZXQgdHJhblN0byA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFRSQU5TRk9STV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFRyYW5zZm9ybUNvbXBvbmVudD47XG5cbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9yRWFjaEVsKGMsIGMuZGlzcGxheSxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRWxlbWVudFR5cGUuSU1BR0UgJiYgKGUgYXMgSW1hZ2VFbGVtZW50KS5zY2FsZSA9PT0gSW1hZ2VTY2FsZU1vZGUuR1JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0by5nZXRDb21wb25lbnQoYy5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFuID0gdHJhblN0by5nZXRDb21wb25lbnQoYy5lbnRpdHkpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjLCBlLCBwb3MsIHRyYW4sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSwgeyBzaGFwZTogdGhpcy5jcmVhdGVTaGFwZShlLCBwb3MsIHRyYW4pfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZWxlY3Rpb25CZWdpbihlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYywgYy5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZWxlY3Rpb25FbmQoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX3NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjLCBjLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkJCQlZpc2liaWxpdHlTcHJlYWQoZGF0YTogVmlzaWJpbGl0eVNwcmVhZERhdGEpOiB2b2lkIHtcbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLmludGVyYWN0aW9uU3lzdGVtLnF1ZXJ5KHNoYXBlQWFiYihkYXRhLmFhYmIpLCBjID0+IHtcbiAgICAgICAgICAgIGxldCBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiBjb20gIT09IHVuZGVmaW5lZCAmJiBjb20uX2JpdEJ5Qml0ID09PSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBpdGVyKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaGVyZSB0aGVuIHRoZSBjb21wb25lbnQgZXhpc3RzLCB3ZSBjaGVja2VkIGl0IGluIHRoZSBpdGVyYXRvclxuICAgICAgICAgICAgbGV0IGNtcCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpITtcbiAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNtcCwgY21wLmRpc3BsYXksIChpbWcpID0+IHRoaXMudXBkYXRlQkJCVmlzaWJpbGl0eShkYXRhLCBjbXAsIGltZykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlcmlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNoYW5nZWRMaXN0ID0gW107XG4gICAgICAgIGZvciAobGV0IGNvbSBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICBpZiAoIWNvbS5fYml0QnlCaXQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNvbSwgY29tLmRpc3BsYXksIChpbWcpID0+IGNoYW5nZWQgfHw9IHRoaXMuZXh0cmFjdFZpc2liaWxpdHkoaW1nKSk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlZCkgY2hhbmdlZExpc3QucHVzaChjb20uZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZExpc3QpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSwgY2hhbmdlZExpc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlcmlhbGl6ZUVudGl0eShlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjLCBjLmRpc3BsYXksIChpbWcpID0+IGNoYW5nZWQgfHw9IHRoaXMuZXh0cmFjdFZpc2liaWxpdHkoaW1nKSk7XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSwgW2VudGl0eV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIExJU1RFTkVSUyBET05FIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBwcml2YXRlIHVwZGF0ZUludGVyYWN0aXZlKGNvbXA6IEN1c3RvbUdyYXBoaWNDb21wb25lbnQsIHBvczogSVBvaW50RGF0YSwgdHJhbnM6IFRyYW5zZm9ybUNvbXBvbmVudCB8IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgaW50ZXJhY3RpdmVDbXAgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgaWYgKGNvbXAuaW50ZXJhY3RpdmUgJiYgaW50ZXJhY3RpdmVDbXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBJTlRFUkFDVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHNlbGVjdFByaW9yaXR5OiBjb21wLmRpc3BsYXkucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgc25hcEVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hhcGU6IHRoaXMuY3JlYXRlU2hhcGUoY29tcC5kaXNwbGF5LCBwb3MsIHRyYW5zKSxcbiAgICAgICAgICAgIH0gYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjb21wLmludGVyYWN0aXZlICYmIGludGVyYWN0aXZlQ21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGludGVyYWN0aXZlQ21wKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY29tcG9uZW50IGNoYW5nZXMgaW4gaW50ZXJhY3RvclxuICAgICAgICAgICAgaWYgKGNvbXAuZGlzcGxheS50eXBlID09PSBFbGVtZW50VHlwZS5JTUFHRSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0ZXh0dXJlIGhhcyBjaGFuZ2VkIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBpbnRlcmFjdG9yLlxuICAgICAgICAgICAgICAgIGxldCBlbCA9IGNvbXAuZGlzcGxheSBhcyBDdXN0b21JbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnRleHR1cmUgIT09IGVsLl9vbGRUZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFLCB7c2hhcGU6IHRoaXMuY3JlYXRlU2hhcGUoZWwsIHBvcywgdHJhbnMpfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaGFwZShjb21wOiBDdXN0b21EaXNwbGF5RWxlbWVudCwgcG9zOiBJUG9pbnREYXRhLCB0cmFuczogVHJhbnNmb3JtQ29tcG9uZW50IHwgdW5kZWZpbmVkKTogU2hhcGUge1xuICAgICAgICBzd2l0Y2ggKGNvbXAudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgLy8gT25seSB0aGUgcm9vdCBlbGVtZW50IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLCB0aGUgb3RoZXJzIGFyZSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBtYWtlIGludGVyYWN0aXZlIGNvbnRhaW5lcic7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBtYWtlIGludGVyYWN0aXZlIHRleHQnO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgbGV0IHcgPSBjLnRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBjLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGxldCBhYWJiO1xuXG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gdHJhbnM/LnNjYWxlIHx8IDE7XG4gICAgICAgICAgICAgICAgbGV0IHN5ID0gdHJhbnM/LnNjYWxlIHx8IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoYy5zY2FsZSA9PSBJbWFnZVNjYWxlTW9kZS5HUklEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZUdyaWRTaXplKGMudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdzaXplID0gKGMudGV4dHVyZSBhcyBDdXN0b21UZXh0dXJlKS5ncmlkU2l6ZSEhO1xuICAgICAgICAgICAgICAgICAgICBzeCA9IGdzaXplLnggKiBncmlkLnNpemUgKiBzeDtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSBnc2l6ZS55ICogZ3JpZC5zaXplICogc3k7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWFiYiA9IEFhYmIuZnJvbVBvaW50QW5jaG9yKHBvcywge3g6IHcsIHk6IGh9LCBjLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgYWFiYi5zY2FsZShzeCwgc3ksIGFhYmIpO1xuICAgICAgICAgICAgICAgIGxldCBvYmIgPSBPYmIucm90YXRlQWFiYihhYWJiLmNvcHkoKSwgdHJhbnM/LnJvdGF0aW9uIHx8IDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZU9iYihvYmIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOiB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIExpbmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZUxpbmUobmV3IExpbmUoXG4gICAgICAgICAgICAgICAgICAgIHBvcy54LCBwb3MueSwgcG9zLnggKyBjLnZlYy54LCBwb3MueSArIGMudmVjLnlcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGVQb2ludChuZXcgUElYSS5Qb2ludChwb3MueCwgcG9zLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHZpc2liaWxpdHkgZnJvbSB0aGUgcmVuZGVydGV4dHVyZSBvZiB0aGUgaW1hZ2UgKG11c3QgYmUgVklTQkxFX0JJVF9CWV9CSVQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGMgdGhlIGltYWdlIGZyb20gd2hpY2ggdGhlIHZpc2liaWxpdHkgbWFwIHdpbGwgYmUgZXh0cmFjdGVkLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBvbmx5IGlmIHRoZSB2aXNpYmlsaXR5IG1hcCBoYXMgYmVlbiBtb2RpZmllZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZXh0cmFjdFZpc2liaWxpdHkoYzogQ3VzdG9tSW1hZ2VFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChjLl92aXNNYXBDaGFuZ2VkICE9PSB0cnVlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgYy52aXNNYXAgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBhcHAucmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IHRleCA9IGMuX3JlblRleDtcbiAgICAgICAgaWYgKHRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbGV0IGZyYW1lID0gdGV4LmZyYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZCh0ZXgpO1xuICAgICAgICBsZXQgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheSh0ZXgud2lkdGggKiB0ZXguaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgICAgIGZyYW1lLngsXG4gICAgICAgICAgICBmcmFtZS55LFxuICAgICAgICAgICAgZnJhbWUud2lkdGgsXG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQsXG4gICAgICAgICAgICBnbC5SR0JBLFxuICAgICAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGZ1Y2tMZW4gPSB3ZWJnbFBpeGVscy5sZW5ndGggLyA0O1xuICAgICAgICBsZXQgbmV3TGVuID0gKCh3ZWJnbFBpeGVscy5sZW5ndGggLyA0IC0gMSkgPj4+IDUpICsgMTtcbiAgICAgICAgbGV0IHRhcmdldCA9IG5ldyBVaW50MzJBcnJheShuZXdMZW4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1Y2tMZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IHBpeGVsID0gd2ViZ2xQaXhlbHNbaSAqIDQgKyAzXTtcblxuICAgICAgICAgICAgaWYgKChwaXhlbCAmIDB4ODApICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2kgPj4+IDVdIHw9IDEgPDwgKGkgJiAwYjExMTExKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjLnZpc01hcCA9IHRhcmdldDtcbiAgICAgICAgYy5fdmlzTWFwQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRWaXNpYmlsaXR5KGM6IEN1c3RvbUltYWdlRWxlbWVudCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IGMudGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYy50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBpZiAoYy5fcmVuVGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX3JlblRleCA9IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBjLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgYnQgPSBjLl9yZW5UZXguYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAoYnQgYXMgYW55KS5jbGVhckNvbG9yID0gWzAuMCwgMC4wLCAwLjAsIDAuMF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYy52aXNNYXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0ZXhPcHRzID0ge1xuICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgIGZvcm1hdDogUElYSS5GT1JNQVRTLlJHQkEsXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHRleERhdGEgPSBuZXcgVWludDMyQXJyYXkoYy50ZXh0dXJlLndpZHRoICogYy50ZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgbGV0IHNldCA9IG5ldyBCaXRTZXQoYy52aXNNYXApO1xuICAgICAgICBsZXQgbGVuID0gdGV4RGF0YS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRleERhdGFbaV0gPSBzZXQuZ2V0KGkpID8gMHhGRkZGRkZGRiA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnl0ZURhdGEgPSBuZXcgVWludDhBcnJheSh0ZXhEYXRhLmJ1ZmZlcik7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IG5ldyBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZShieXRlRGF0YSwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICBsZXQgYmFzZVRleHR1cmUgPSBuZXcgUElYSS5CYXNlVGV4dHVyZShyZXNvdXJjZSwgdGV4T3B0cylcblxuICAgICAgICBsZXQgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIGxldCBsdW1TcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4KTtcbiAgICAgICAgbHVtU3ByaXRlLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuU1JDX0lOO1xuXG4gICAgICAgIGxldCBtYXBTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoYy50ZXh0dXJlKTtcbiAgICAgICAgbGV0IGNudCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICBjbnQuYWRkQ2hpbGQobWFwU3ByaXRlLCBsdW1TcHJpdGUpO1xuXG4gICAgICAgIGFwcC5yZW5kZXJlci5yZW5kZXIoY250LCBjLl9yZW5UZXgsIHRydWUpO1xuXG4gICAgICAgIGx1bVNwcml0ZS5kZXN0cm95KERFU1RST1lfQUxMKTtcblxuICAgICAgICBjLl92aXNNYXBDaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JFYWNoRWwoY29tOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBpbWc6IEN1c3RvbURpc3BsYXlFbGVtZW50LCBmOiAoaW1nOiBDdXN0b21EaXNwbGF5RWxlbWVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBmKGltZyk7XG4gICAgICAgIGlmIChpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JFYWNoRWwoY29tLCBjLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZG9PbkJpdEJ5Qml0KGNvbTogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBDdXN0b21EaXNwbGF5RWxlbWVudCwgZjogKGltZzogQ3VzdG9tSW1hZ2VFbGVtZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmIChpbWcudHlwZSA9PSBFbGVtZW50VHlwZS5JTUFHRSAmJiAoaW1nIGFzIEN1c3RvbUltYWdlRWxlbWVudCkudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgIGYoaW1nIGFzIEN1c3RvbUltYWdlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjb20sIGMsIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBuZWVkc0JpdEJ5Qml0KGNvbTogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBDdXN0b21EaXNwbGF5RWxlbWVudCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaW1nLnR5cGUgPT0gRWxlbWVudFR5cGUuSU1BR0UgJiYgKGltZyBhcyBDdXN0b21JbWFnZUVsZW1lbnQpLnZpc2liID09PSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQkJCVmlzQXJvdW5kKGNvbTogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCkge1xuICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb20uZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgbGV0IGFhYmIgPSBzaGFwZVRvQWFiYihpbnRlci5zaGFwZSk7XG4gICAgICAgIHRoaXMucGxheWVyU3lzdGVtIS5nZXRTcHJlYWREYXRhRm9yQWFiYihhYWJiLCBkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNvbSwgY29tLmRpc3BsYXksIChpbWcpID0+IHRoaXMudXBkYXRlQkJCVmlzaWJpbGl0eShkYXRhLCBjb20sIGltZykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUJCQlZpc2liaWxpdHkoZGF0YTogVmlzaWJpbGl0eVNwcmVhZERhdGEsIGNvbTogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBDdXN0b21JbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgLy8gICAgICBQYXJ0IDEuIFdoYXQ/XG4gICAgICAgIC8vIFNvLCB3aGF0IGRvZXMgdGhpcyBzcGFnaGV0dGkgbWVzcyBkbz8gR29vZCBxdWVzdGlvbiFcbiAgICAgICAgLy8gV2UgaGF2ZSBwbGF5ZXJzIGFuZCBsaWdodHMsIHNvbWUgcGxheWVycyBjYW4gc2VlIHdpdGhvdXQgbGlnaHRzIGFuZCBvdGhlcnMgY2FuJ3RcbiAgICAgICAgLy8gVGhlIHRhc2sgaXMgdG8gdXBkYXRlIHRoZSByZW5kZXJ0ZXh0dXJlIG9mIHRoZSBiYWNrZ3JvdW5kIGNvbXBvbmVudCBhZGRpbmcgdGhlIHZpc2libGUgc3BvdHMgdG8gaXQuXG4gICAgICAgIC8vIFRoZSB2aXNpYmxlIHNwb3RzIGFyZTogVGhlIG1lc2hlcyBvZiB0aGUgcGxheWVycyB3aXRoIG5pZ2h0IHZpc2lvbiBlbmFibGVkIGFuZCB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZVxuICAgICAgICAvLyB1bmlvbiBvZiB0aGUgdmlzaW9uIG1lc2ggb2YgdGhlIG5vcm1hbCBwbGF5ZXJzIHdpdGggdGhlIHVuaW9uIG9mIHRoZSB2aXNvbiBtZXNoZXMgb2YgdGhlIGxpZ2h0cy5cbiAgICAgICAgLy8gQ29tbW9uIGNhc2U6IDEgTlYgcGxheWVyIDAgbGlnaHRzLCAxIHBsYXllciBtdWx0aXBsZSBsaWdodHMsIG11bHRpcGxlIHBsYXllcnMgMSBsaWdodFxuICAgICAgICAvLyBQb3NzaWJsZSAoYnV0IHVuY29tbW9uKSBjYXNlczogeCBOViBwbGF5ZXJzLCB5IG5vcm1hbCBwbGF5ZXJzLCB6IGxpZ2h0cyAod2l0aCB4LCB5LCB6IG5hdHVyYWxzKS5cblxuICAgICAgICAvLyAgICAgIFBhcnQgMi4gSG93P1xuICAgICAgICAvLyBUaGUgaW5pdGlhbCBpZGVhIGlzIHNpbXBsZSwgcmVuZGVyIGFueXRoaW5nIG9uIHRoZSBia2cuX3JlblRleCBhbmQgdGhlbiByZW5kZXIgdGhlIG9yaWdpbmFsIHRleHR1cmUgd2l0aFxuICAgICAgICAvLyBibGVuZE1vZGUgPSBTUkNfSU4sIGFueSBzcG90IHdpdGggYWxwaGEgPSAxIHdpbGwgdGhlbiBiZSByZXBsYWNlZCB3aXRoIHRoZSBjb3JyZWN0IHRleHR1cmUuXG4gICAgICAgIC8vIFRoZSBuaWdodCB2aXNpb24gcGxheWVycyByZW5kZXJpbmcgaXMgcXVpdGUgc2ltcGxlLCBqdXN0IHJlbmRlciB0aGUgbWVzaGVzIGJlZm9yZSB0aGUgZmluYWwgdGV4dHVyZSByZW5kZXJcbiAgICAgICAgLy8gVGhlIG5vcm1hbCBwbGF5ZXJzIHdpbGwgYmUgYSBiaXQgZGlmZmVyZW50IHNpbmNlIHdlIG5lZWQgdG8gaW50ZXJzZWN0IHRoZWlyIG1lc2hlcyB3aXRoIHRoZSBsaWdodCBtZXNoLlxuICAgICAgICAvLyBUbyBkbyB0aGF0IHdlIGNhbiByZW5kZXIgYWxsIHRoZSBwbGF5ZXJzIG1lc2hlcyBpbiBhIGZyYW1lYnVmZmVyIEEsIHRoZW4gcmVuZGVyIGFsbCBvZiB0aGUgbGlnaHRzIGluIGFub3RoZXJcbiAgICAgICAgLy8gZnJhbWUgYnVmZmVyIEIsIHRoZW4gcmVuZGVyIEEgb250byBCIHdpdGggYmxlbmRNb2RlID0gU1JDX0lOIHRvIGNyZWF0ZSBhIHNvcnQgb2YgdW5pb24gb2YgdGhlIHR3by5cbiAgICAgICAgLy8gT25jZSB0aGF0IGlzIGRvbmUgd2UgY2FuIHJlbmRlciBCIGludG8gdGhlIGJrZy5fcmVuVGV4IGFuZCBwcm9jZWVkIG5vcm1hbGx5LlxuICAgICAgICAvLyBBbm90aGVyIHdheSB0byBkbyB0aGlzIHVzaW5nIG9ubHkgYSBzaW5nbGUgcmVuZGVydGV4dHVyZSBpcyB0byB1c2UgdGhlIHN0ZW5jaWwgYnVmZmVyLCBidXQgaXQgd2lsbCBkb3VibGUgdGhlXG4gICAgICAgIC8vIG1lc2ggcmVuZGVyIGNhbGxzIChhbmQgc2luY2UgdGhleSBhcmUgbm90IGJ1ZmZlcmVkLCBpdCdzIGEgc2xvdyBvcGVyYXRpb24pXG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgdGhhdCB0aGVyZSBpcyBhbm90aGVyIHdheSB0byBwZXJmb3JtIHRoaXMgaW4gdGhlIGdlbmVyYWwgY2FzZSwgcGxlYXNlIHByb3ZlIG1lIHdyb25nLlxuICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBjYW4gb3B0aW1pemUgdGhpcyB3aGVuIG9ubHkgMSBwbGF5ZXIgYW5kIDEgbGlnaHQgaXMgcHJlc2VudCAobGlrZSwgYXZvaWRpbmcgMSBvZiB0aGUgMiBmcmFtZWJ1ZmZlcnMpLlxuXG4gICAgICAgIC8vIFNraXAgRVZFUllUSElORyBpZiB0aGlzIGVudGl0eSBpcyBoaWRkZW4uXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjb20uZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vY29uc29sZS50aW1lKCd1cGRhdGVWaXNpYmlsaXR5Jyk7XG5cbiAgICAgICAgbGV0IHJlbmRlcmVyID0gYXBwLnJlbmRlcmVyO1xuXG4gICAgICAgIGxldCBsb2NhbENudCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICAvLyBTZXR1cCBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgICAgbGV0IG0gPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIGxldCBwaXhpID0gaW1nLl9waXhpITtcbiAgICAgICAgbS50cmFuc2xhdGUoXG4gICAgICAgICAgICAtcGl4aS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgLXBpeGkucG9zaXRpb24ueVxuICAgICAgICApO1xuICAgICAgICBtLnJvdGF0ZSgtcGl4aS5yb3RhdGlvbik7XG4gICAgICAgIGxldCBpbnZTY2FsZSA9IDEvcGl4aS5zY2FsZS54O1xuICAgICAgICBtLnNjYWxlKGludlNjYWxlLCBpbnZTY2FsZSk7XG4gICAgICAgIG0udHJhbnNsYXRlKGltZy50ZXh0dXJlLndpZHRoIC8gMiwgaW1nLnRleHR1cmUuaGVpZ2h0IC8gMik7XG4gICAgICAgIGxvY2FsQ250LnRyYW5zZm9ybS5zZXRGcm9tTWF0cml4KG0pO1xuXG4gICAgICAgIGxldCB3b3JsZENudCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgcGxheWVycyB3aXRob3V0IG5pZ2h0IHZpc2lvbiAoYW5kIHRoZXJlIGFyZSBsaWdodHMpIHJlbmRlciB0aGVtIChUSElTIElTIFNMT1chKVxuICAgICAgICBsZXQgdGV4LCB0ZXgyLCBuaWdodFNwcml0ZTtcbiAgICAgICAgaWYgKGRhdGEucGxheWVycy5sZW5ndGggIT09IDAgJiYgZGF0YS5saWdodHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB0ZXggPSAodGhpcy5yZW5kZXJUZXh0dXJlUG9vbCBhcyBhbnkpLmdldE9wdGltYWxUZXh0dXJlKHBpeGkud2lkdGgsIHBpeGkuaGVpZ2h0KTtcbiAgICAgICAgICAgIHRleDIgPSAodGhpcy5yZW5kZXJUZXh0dXJlUG9vbCBhcyBhbnkpLmdldE9wdGltYWxUZXh0dXJlKHBpeGkud2lkdGgsIHBpeGkuaGVpZ2h0KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIGRhdGEucGxheWVycykge1xuICAgICAgICAgICAgICAgIGxvY2FsQ250LmFkZENoaWxkKHBsYXllci5tZXNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBwbGF5ZXJzIHZpc2liaWxpdHkgbWVzaGVzIG9udG8gdGV4XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIobG9jYWxDbnQsIHRleCwgdHJ1ZSk7XG4gICAgICAgICAgICBsb2NhbENudC5yZW1vdmVDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBsaWdodCBvZiBkYXRhLmxpZ2h0cykge1xuICAgICAgICAgICAgICAgIGxpZ2h0Lm1lc2guYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5BREQ7XG4gICAgICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQobGlnaHQubWVzaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwbGF5ZXJTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4KTtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgbGlnaHRzIG9udG8gdGV4MiwgdGhlbiByZW5kZXIgdGV4IGFzIEJMRU5EX01PREUuU1JDX0lOIHRvIGZpbHRlciBvdXQgd2hlcmUgdGhlIGxpZ2h0cyB3ZXJlIG5vdFxuICAgICAgICAgICAgLy8gcHJlc2VudC5cbiAgICAgICAgICAgIHdvcmxkQ250LmFkZENoaWxkKGxvY2FsQ250LCBwbGF5ZXJTcHJpdGUpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyKHdvcmxkQ250LCB0ZXgyLCB0cnVlKTtcbiAgICAgICAgICAgIHdvcmxkQ250LnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICBsb2NhbENudC5yZW1vdmVDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGV4MiB0byB0aGUgbWFpbiBwaGFzZVxuICAgICAgICAgICAgbmlnaHRTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4Mik7XG4gICAgICAgICAgICBuaWdodFNwcml0ZS5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgICAgIHdvcmxkQ250LmFkZENoaWxkKG5pZ2h0U3ByaXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBkYXRhLm5pZ2h0VmlzUGxheWVycykge1xuICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQocGxheWVyLm1lc2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9yaWdUZXggPSBuZXcgUElYSS5TcHJpdGUoaW1nLnRleHR1cmUpO1xuICAgICAgICBvcmlnVGV4LmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuU1JDX0lOO1xuXG4gICAgICAgIHdvcmxkQ250LmFkZENoaWxkKGxvY2FsQ250LCBvcmlnVGV4KVxuXG4gICAgICAgIC8vIFJlbmRlciBldmVyeXRoaW5nIHRvIGJrZy5fcmVuVGV4IGFuZCB0aGVuIHJlZHJhdyB0aGUgb3JpZ2luYWwgb25seSB3aGVyZSBpcyBhbHBoYT0xLlxuICAgICAgICBhcHAucmVuZGVyZXIucmVuZGVyKHdvcmxkQ250LCBpbWcuX3JlblRleCwgZmFsc2UpO1xuICAgICAgICBpbWcuX3Zpc01hcENoYW5nZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIENsZWFudXAgdGltZSAoZG9uJ3Qgd29ycnksIEknbSByZWN5Y2xpbmcgYW5kIHRoZXJlJ3MgYSBnYXJiYWdlIGNsZWFuZXIsIHdlJ3JlIGVjbyBmcmllbmRseSEpXG4gICAgICAgIHdvcmxkQ250LmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuICAgICAgICBvcmlnVGV4LmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuXG4gICAgICAgIGlmICh0ZXggIT09IHVuZGVmaW5lZCkgdGhpcy5yZW5kZXJUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleCk7XG4gICAgICAgIGlmICh0ZXgyICE9PSB1bmRlZmluZWQpIHRoaXMucmVuZGVyVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZSh0ZXgyKTtcbiAgICAgICAgaWYgKG5pZ2h0U3ByaXRlICE9PSB1bmRlZmluZWQpIG5pZ2h0U3ByaXRlLmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuXG4gICAgICAgIC8vY29uc29sZS50aW1lRW5kKCd1cGRhdGVWaXNpYmlsaXR5Jyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wdXRlVmlzaWJpbGl0eUxpc3RlbmVyKGM6IERpc3BsYXlFbGVtZW50KTogVmlzaWJMaXN0ZW5lckxldmVsIHtcbiAgICAgICAgbGV0IGxldmVsO1xuICAgICAgICBzd2l0Y2ggKGMudmlzaWIpIHtcbiAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuTk9STUFMOlxuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgbWF4aW11bSBsZXZlbCwgbm8gbmVlZCBmb3IgZnVydGhlciBjaGVja2luZ1xuICAgICAgICAgICAgICAgIHJldHVybiBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVDtcbiAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuQUxXQVlTX1ZJU0lCTEU6XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQ6XG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVI6XG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBWaXNpYkxpc3RlbmVyTGV2ZWwuUkVNRU1CRVI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgY2ggb2YgYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGxldmVsID0gTWF0aC5tYXgobGV2ZWwsIHRoaXMuY29tcHV0ZVZpc2liaWxpdHlMaXN0ZW5lcihjaCkpO1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA9PT0gVmlzaWJMaXN0ZW5lckxldmVsLlBFUlNJU1RFTlQpIGJyZWFrOy8vIEFscmVhZHkgbWF4ZWQgb3V0LlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVzdHJveUVsZW1lbnQoZGVzYzogQ3VzdG9tRGlzcGxheUVsZW1lbnQsIHJlY3Vyc2l2ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBsZXQgZWxlbSA9IGRlc2MuX3BpeGk7XG5cbiAgICAgICAgaWYgKGVsZW0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHN3aXRjaCAoZGVzYy5fb2xkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkNPTlRBSU5FUjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuSU1BR0U6IHtcbiAgICAgICAgICAgICAgICBsZXQgaW0gPSBkZXNjIGFzIEN1c3RvbUltYWdlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgZGVzdHJveVRleCA9IGltLnNoYXJlZFRleHR1cmUgIT09IHRydWU7XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5TcHJpdGUpLmRlc3Ryb3koe1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IGRlc3Ryb3lUZXgsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlOiBkZXN0cm95VGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbS5fcmVuVGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW0uX3JlblRleC5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuTElORTpcbiAgICAgICAgICAgICAgICAoZWxlbSBhcyBQSVhJLkdyYXBoaWNzKS5kZXN0cm95KHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5TcHJpdGUpLmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIChlbGVtIGFzIFBJWEkuVGV4dCkuZGVzdHJveShERVNUUk9ZX01JTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjLl9waXhpID0gdW5kZWZpbmVkO1xuICAgICAgICBkZXNjLl9vbGRUeXBlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChyZWN1cnNpdmUgJiYgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoZWwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50KGRlc2M6IEN1c3RvbURpc3BsYXlFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoZGVzYywgZmFsc2UpO1xuXG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIC8vIFRPRE86IExheWVyc1xuICAgICAgICBzd2l0Y2ggKGRlc2MudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLmNpcmNsZVRleCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuVGV4dChcIlwiKTtcbiAgICAgICAgICAgICAgICByZXMucGFyZW50TGF5ZXIgPSB0aGlzLnRleHRTeXN0ZW0udGV4dExheWVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICByZXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICByZXMuekluZGV4ID0gZGVzYy5wcmlvcml0eTtcbiAgICAgICAgZGVzYy5fcGl4aSA9IHJlcztcbiAgICAgICAgZGVzYy5fb2xkVHlwZSA9IGRlc2MudHlwZTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0uYm9hcmQuYWRkQ2hpbGQocmVzKTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXN0ZW0uYm9hcmQuc29ydENoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0ZXh0dXJlVXBkYXRlR3JpZFNpemUodGV4OiBDdXN0b21UZXh0dXJlKTogdm9pZCB7XG4gICAgICAgIGxldCB0ZXhJZCA9ICh0ZXggYXMgYW55KS5fdXBkYXRlSUQ7XG4gICAgICAgIGlmICh0ZXguZ3JpZFNpemUgIT09IHVuZGVmaW5lZCAmJiB0ZXguZ3JpZFNpemUudXBkYXRlSWQgIT09IHRleElkKSByZXR1cm47XG5cbiAgICAgICAgdGV4LmdyaWRTaXplID0ge1xuICAgICAgICAgICAgeDogTWF0aC5jZWlsKHRleC53aWR0aCAvIFNUQU5EQVJEX0dSSURfT1BUSU9OUy5zaXplKSAvIHRleC53aWR0aCxcbiAgICAgICAgICAgIHk6IE1hdGguY2VpbCh0ZXguaGVpZ2h0IC8gU1RBTkRBUkRfR1JJRF9PUFRJT05TLnNpemUpIC8gdGV4LmhlaWdodCxcbiAgICAgICAgICAgIHVwZGF0ZUlkOiB0ZXhJZCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlRWxlbWVudFZpc2liaWxpdHkocGFyOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBkZXNjOiBDdXN0b21EaXNwbGF5RWxlbWVudCwgcmVjdXJzaXZlOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5VmlzaWJsZTogYm9vbGVhbiwgcmVtZW1iZXJlZDogYm9vbGVhbikge1xuICAgICAgICBsZXQgaXNWaXNpYmxlO1xuICAgICAgICBpZiAoY3VycmVudGx5VmlzaWJsZSB8fCB0aGlzLm1hc3RlclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGRlc2MudmlzaWIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gY3VycmVudGx5VmlzaWJsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRTpcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQ6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVI6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHJlbWVtYmVyZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBwaXhpID0gZGVzYy5fcGl4aSE7XG4gICAgICAgIHBpeGkudmlzaWJsZSA9IGlzVmlzaWJsZTtcblxuICAgICAgICBpZiAoZGVzYy52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgbGV0IGltID0gKGRlc2MgYXMgQ3VzdG9tSW1hZ2VFbGVtZW50KTtcbiAgICAgICAgICAgIGltLl9waXhpIS50ZXh0dXJlID0gdGhpcy5tYXN0ZXJWaXNpYmlsaXR5ID8gaW0udGV4dHVyZSA6IGltLl9yZW5UZXghO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY3Vyc2l2ZSAmJiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KHBhciwgYywgdHJ1ZSwgY3VycmVudGx5VmlzaWJsZSwgcmVtZW1iZXJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVZpc2liaWxpdHlMaXN0ZW5lcihlbDogQ3VzdG9tR3JhcGhpY0NvbXBvbmVudCkge1xuICAgICAgICBsZXQgbGlzdExldmVsID0gdGhpcy5jb21wdXRlVmlzaWJpbGl0eUxpc3RlbmVyKGVsLmRpc3BsYXkpO1xuICAgICAgICBsZXQgb2xkTGlzdExldmVsID0gZWwuX3Zpc2liTGlzdGVuZXIgfHwgVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ7XG4gICAgICAgIGlmIChsaXN0TGV2ZWwgPT09IG9sZExpc3RMZXZlbCkgcmV0dXJuOy8vIE5vIGNoYW5nZXMgcmVwb3J0ZWQuXG5cbiAgICAgICAgbGV0IGlzUmVtZW1iZXJlZCA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChlbC5lbnRpdHkpO1xuXG4gICAgICAgIGxldCBsaXN0ZW5lck5lZWRlZDtcbiAgICAgICAgc3dpdGNoIChsaXN0TGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ6IGxpc3RlbmVyTmVlZGVkID0gZmFsc2U7ICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUjogICBsaXN0ZW5lck5lZWRlZCA9ICFpc1JlbWVtYmVyZWQ7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVDogbGlzdGVuZXJOZWVkZWQgPSB0cnVlOyAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvbGRMaXN0ZW5lck5lZWRlZDtcbiAgICAgICAgc3dpdGNoIChvbGRMaXN0TGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ6IG9sZExpc3RlbmVyTmVlZGVkID0gZmFsc2U7ICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUjogICBvbGRMaXN0ZW5lck5lZWRlZCA9ICFpc1JlbWVtYmVyZWQ7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuUEVSU0lTVEVOVDogb2xkTGlzdGVuZXJOZWVkZWQgPSB0cnVlOyAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0ZW5lck5lZWRlZCAmJiAhb2xkTGlzdGVuZXJOZWVkZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3lzdGVtIS5hZGRQbGF5ZXJWaXNMaXN0ZW5lcihlbC5lbnRpdHksIGVsLmlzV2FsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWxpc3RlbmVyTmVlZGVkICYmIG9sZExpc3RlbmVyTmVlZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEucmVtb3ZlUGxheWVyVmlzTGlzdGVuZXIoZWwuZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbC5fdmlzaWJMaXN0ZW5lciA9IGxpc3RMZXZlbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJ1bk1ldGhvZHMocGFyOiBDdXN0b21HcmFwaGljQ29tcG9uZW50LCBlbDogQ3VzdG9tRGlzcGxheUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlblJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5BZGQgPSBlbC5fY2hpbGRyZW5SZXBsYWNlO1xuICAgICAgICAgICAgZWwuX2NoaWxkcmVuUmVwbGFjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWwuX2NoaWxkcmVuQWRkKSB7XG4gICAgICAgICAgICBpZiAoZWwuY2hpbGRyZW4gPT09IHVuZGVmaW5lZCkgZWwuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgIGVsLmNoaWxkcmVuLnB1c2goLi4uZWwuX2NoaWxkcmVuQWRkKTtcbiAgICAgICAgICAgIGVsLl9jaGlsZHJlbkFkZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWwuX2NoaWxkcmVuUmVtb3ZlKSB7XG4gICAgICAgICAgICBpZiAoZWwuY2hpbGRyZW4gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBlbC5fY2hpbGRyZW5SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbShlbC5jaGlsZHJlbiwgYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsLl9jaGlsZHJlblJlbW92ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bk1ldGhvZHMocGFyLCBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlRWxlbWVudChwYXI6IEN1c3RvbUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IEN1c3RvbURpc3BsYXlFbGVtZW50LCBwb3M6IElQb2ludERhdGEsIHRyYW5zOiBUcmFuc2Zvcm1Db21wb25lbnQgfCB1bmRlZmluZWQsIHJlY3Vyc2l2ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAoZGVzYy5fb2xkVHlwZSAhPT0gZGVzYy50eXBlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoZGVzYyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZCA9IGRlc2MuX3BpeGkhO1xuXG4gICAgICAgIGlmIChkZXNjLm9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkLnBvc2l0aW9uLnNldChwb3MueCArIGRlc2Mub2Zmc2V0LngsIHBvcy55ICsgZGVzYy5vZmZzZXQueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkLnBvc2l0aW9uLnNldChwb3MueCwgcG9zLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChkZXNjLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBkaW0gPSAoZCBhcyBQSVhJLlNwcml0ZSk7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gKGRlc2MgYXMgQ3VzdG9tSW1hZ2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZWwudmlzaWIgPT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgICAgICAgICBkaW0udGV4dHVyZSA9IHRoaXMubWFzdGVyVmlzaWJpbGl0eSA/IGVsLnRleHR1cmUgOiBlbC5fcmVuVGV4ITtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaW0udGV4dHVyZSA9IGVsLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpbS5hbmNob3IuY29weUZyb20oZWwuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgc3ggPSB0cmFucz8uc2NhbGUgfHwgMTtcbiAgICAgICAgICAgICAgICBsZXQgc3kgPSBzeDtcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2NhbGUgPT09IEltYWdlU2NhbGVNb2RlLkdSSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlR3JpZFNpemUoZGltLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBnc2l6ZSA9IChkaW0udGV4dHVyZSBhcyBDdXN0b21UZXh0dXJlKS5ncmlkU2l6ZSEhO1xuICAgICAgICAgICAgICAgICAgICBzeCA9IGdzaXplLnggKiBncmlkLnNpemUgKiBzeDtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSBnc2l6ZS55ICogZ3JpZC5zaXplICogc3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpbS5yb3RhdGlvbiA9IHRyYW5zPy5yb3RhdGlvbiB8fCAwO1xuICAgICAgICAgICAgICAgIGRpbS5zY2FsZS5zZXQoc3gsIHN5KTtcbiAgICAgICAgICAgICAgICBkaW0udGludCA9IHBhci5fc2VsZWN0ZWQgPyAweDc5ODZDQiA6IDB4RkZGRkZGO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZWwudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLl9vbGRUZXggIT09IGVsLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFZpc2liaWxpdHkoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5fcmVuVGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuX3JlblRleC5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBlbC5fcmVuVGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbC5fb2xkVGV4ID0gZWwudGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOiB7XG4gICAgICAgICAgICAgICAgbGV0IGcgPSAoZCBhcyBQSVhJLkdyYXBoaWNzKTtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBMaW5lRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBnLmNsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICBnLm1vdmVUbygwLCAwKTtcbiAgICAgICAgICAgICAgICBnLmxpbmVTdHlsZSg1LCBlbC5jb2xvcik7XG4gICAgICAgICAgICAgICAgZy5saW5lVG8oZWwudmVjLngsIGVsLnZlYy55KTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXIuX3NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGcubGluZVN0eWxlKDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGcuYmVnaW5GaWxsKDB4ZTUxMDEwKTtcbiAgICAgICAgICAgICAgICAgICAgZy5kcmF3Q2lyY2xlKDAsIDAsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgZy5lbmRGaWxsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZy5iZWdpbkZpbGwoZWwuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBnLmRyYXdDaXJjbGUoZWwudmVjLngsIGVsLnZlYy55LCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGcuZW5kRmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IChkZXNjIGFzIFBvaW50RWxlbWVudCkuY29sb3I7XG4gICAgICAgICAgICAgICAgaWYgKHBhci5fc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBsZXJwQ29sb3IoY29sb3IsIDB4Nzk4NkNCLCAwLjMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoZCBhcyBQSVhJLlNwcml0ZSkudGludCA9IGNvbG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOiB7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gKGRlc2MgYXMgVGV4dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGxldCBnID0gKGQgYXMgUElYSS5UZXh0KTtcbiAgICAgICAgICAgICAgICBnLnRleHQgPSBlbC50ZXh0O1xuICAgICAgICAgICAgICAgIGcuYW5jaG9yLmNvcHlGcm9tKGVsLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgZy50aW50ID0gZWwuY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVsIG9mIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQocGFyLCBlbCwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0gPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBMQVlFUl9UWVBFKSBhcyBQbGF5ZXJTeXN0ZW07XG4gICAgICAgIHRoaXMubWFzdGVyVmlzaWJpbGl0eSA9ICh0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KExJR0hUX1RZUEUpIGFzIExpZ2h0U3lzdGVtKS5sb2NhbExpZ2h0U2V0dGluZ3MudmlzaW9uVHlwZSA9PT0gJ2RtJztcblxuICAgICAgICBsZXQgZyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIGcuYmVnaW5GaWxsKDB4RkZGRkZGKTtcbiAgICAgICAgZy5saW5lU3R5bGUoMCk7XG4gICAgICAgIGcuZHJhd0NpcmNsZShQT0lOVF9SQURJVVMsIFBPSU5UX1JBRElVUywgUE9JTlRfUkFESVVTKTtcbiAgICAgICAgdGhpcy5jaXJjbGVUZXggPSBhcHAucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKGcsIFBJWEkuU0NBTEVfTU9ERVMuTElORUFSLCAxKTtcbiAgICAgICAgdGhpcy5jaXJjbGVUZXguZGVmYXVsdEFuY2hvci5zZXQoMC41LCAwLjUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGVsZW0gb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChlbGVtLmRpc3BsYXksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtDb21wb25lbnQsIEhPU1RfSElEREVOX1RZUEUsIFBPU0lUSU9OX1RZUEUsIFBvc2l0aW9uQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1ZJU0lCSUxJVFlfVFlQRSwgVmlzaWJpbGl0eUNvbXBvbmVudCwgVmlzaWJpbGl0eVN5c3RlbX0gZnJvbSBcIi4vdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0ICogYXMgUG9pbnRMaWdodFJlbmRlciBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXJcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7XG4gICAgbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LFxuICAgIFZJU0lCSUxJVFlfQVdBUkVfVFlQRSxcbiAgICBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQsXG4gICAgVmlzaWJpbGl0eUF3YXJlU3lzdGVtXG59IGZyb20gXCIuL3Zpc2liaWxpdHlBd2FyZVN5c3RlbVwiO1xuaW1wb3J0IHtMSUdIVF9TRVRUSU5HU19UWVBFLCBMSUdIVF9UWVBFLCBMaWdodENvbXBvbmVudCwgTGlnaHRTZXR0aW5ncywgTGlnaHRTeXN0ZW19IGZyb20gXCIuL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7UElOX1RZUEV9IGZyb20gXCIuL3BpblN5c3RlbVwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5cbmV4cG9ydCBjb25zdCBQTEFZRVJfVFlQRSA9ICdwbGF5ZXInO1xuZXhwb3J0IHR5cGUgUExBWUVSX1RZUEUgPSB0eXBlb2YgUExBWUVSX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBsYXllckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUExBWUVSX1RZUEU7XG4gICAgbmlnaHRWaXNpb246IGJvb2xlYW47XG4gICAgcmFuZ2U6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBZGRlZCB0byBldmVyeSBvYmplY3QgdGhhdCBtaWdodCBiZSB2aXNpYmxlIGJ5IGEgcGxheWVyLCBpdCB0cmFja3MgaG93IG1hbnkgcGxheWVycyBhbmQgaG93IG1hbnkgbGlnaHRzXG4gKiBhcmUgc2VlaW5nIGl0LlxuICovXG5leHBvcnQgY29uc3QgUExBWUVSX1ZJU0lCTEVfVFlQRSA9ICdwbGF5ZXJfdmlzaWJsZSc7XG5leHBvcnQgdHlwZSBQTEFZRVJfVklTSUJMRV9UWVBFID0gdHlwZW9mIFBMQVlFUl9WSVNJQkxFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBsYXllclZpc2libGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFBMQVlFUl9WSVNJQkxFX1RZUEU7XG4gICAgdmlzaWJsZTogYm9vbGVhbjtcbiAgICBpc1dhbGw/OiBib29sZWFuOy8vIE5vbiBtb2RpZmlhYmxlXG4gICAgX3JlZkNvdW50OiBudW1iZXI7XG4gICAgX2xpZ2h0Q291bnQ6IG51bWJlcjtcbiAgICBfcGxheWVyQ291bnQ6IG51bWJlcjtcbiAgICBfcGxheWVyTmlnaHRWaXNpb25Db3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlTcHJlYWREYXRhIHtcbiAgICBuaWdodFZpc2lvbjogYm9vbGVhbjtcbiAgICBhYWJiOiBBYWJiLFxuICAgIGxpZ2h0czogVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YVtdO1xuICAgIHBsYXllcnM6IFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFbXTtcbiAgICBuaWdodFZpc1BsYXllcnM6IFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhIHtcbiAgICBtZXNoOiBQSVhJLk1lc2g7XG4gICAgcG9zOiBQSVhJLklQb2ludERhdGE7XG4gICAgdmlzOiBWaXNpYmlsaXR5Q29tcG9uZW50LFxufVxuXG5leHBvcnQgY29uc3QgRVZFTlRfVklTSUJJTElUWV9TUFJFQUQgPSAndmlzaWJpbGl0eV9zcHJlYWQnO1xuZXhwb3J0IHR5cGUgRVZFTlRfVklTSUJJTElUWV9TUFJFQUQgPSB0eXBlb2YgRVZFTlRfVklTSUJJTElUWV9TUFJFQUQ7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQTEFZRVJfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElOX1RZUEUsIFZJU0lCSUxJVFlfVFlQRSwgVklTSUJJTElUWV9BV0FSRV9UWVBFLCBMSUdIVF9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGlnaHRTeXN0ZW06IExpZ2h0U3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmlzaWJpbGl0eVN5c3RlbTogVmlzaWJpbGl0eVN5c3RlbTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJDb21wb25lbnQ+KFBMQVlFUl9UWVBFLCB0cnVlLCB0cnVlKTtcbiAgICB2aXNpYmxlU3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllclZpc2libGVDb21wb25lbnQ+KFBMQVlFUl9WSVNJQkxFX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBwcml2YXRlIGdyaWRTaXplOiBudW1iZXI7XG5cbiAgICAvLyBJZiBmYWxzZSBhIHBsYXllciBjYW4gc2VlIGEgdGhpbmcgb25seSBpZiBpdCdzIGlsbHVtaW5hdGVkIGJ5IGFydGlmaWNpYWwgbGlnaHRcbiAgICBhbWJpZW50SWxsdW1pbmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5saWdodFN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KExJR0hUX1RZUEUpIGFzIExpZ2h0U3lzdGVtO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHlTeXN0ZW0gPSB3b3JsZC5zeXN0ZW1zLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlTeXN0ZW07XG5cbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlID8/IFNUQU5EQVJEX0dSSURfT1BUSU9OUykuc2l6ZTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRTdG9yYWdlKHRoaXMudmlzaWJsZVN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcblxuICAgICAgICBsZXQgdmlzQXdhcmUgPSB3b3JsZC5zeXN0ZW1zLmdldChWSVNJQklMSVRZX0FXQVJFX1RZUEUpIGFzIFZpc2liaWxpdHlBd2FyZVN5c3RlbTtcbiAgICAgICAgdmlzQXdhcmUuZXZlbnRzLm9uKCdhd2FyZV91cGRhdGUnLCB0aGlzLm9uVmlzaWJpbGl0eUF3YXJlVXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHQ6IFBsYXllclZpc2libGVDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IG5ld1Zpc2libGUgPSB0Ll9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ID4gMCB8fFxuICAgICAgICAgICAgKCh0aGlzLmFtYmllbnRJbGx1bWluYXRlZCB8fCB0Ll9saWdodENvdW50ID4gMCB8fCB0LmlzV2FsbCkgJiYgdC5fcGxheWVyQ291bnQgPiAwKTtcbiAgICAgICAgaWYgKG5ld1Zpc2libGUgIT09IHQudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHQuZW50aXR5LCB0LnR5cGUsIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBuZXdWaXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVmlzaWJpbGl0eUF3YXJlVXBkYXRlKHRhcmdldDogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LCBhZGRlZDogbnVtYmVyW10sIHJlbW92ZWQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBwbGF5ZXJWaXNpYmxlID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQodGFyZ2V0LmVudGl0eSk7XG4gICAgICAgIGlmIChwbGF5ZXJWaXNpYmxlID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBlIG9mIGFkZGVkKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllckNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlLCBMSUdIVF9UWVBFKSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fbGlnaHRDb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZSBvZiByZW1vdmVkKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX3BsYXllckNvdW50IC09IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uaWdodFZpc2lvbikgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlLCBMSUdIVF9UWVBFKSBhcyBMaWdodENvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChsaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fbGlnaHRDb3VudCAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwbGF5ZXJWaXNpYmxlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTmlnaHRWaXNpb25VcGRhdGUocGxheWVyOiBQbGF5ZXJDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcblxuICAgICAgICBsZXQgZGlmZiA9IHBsYXllci5uaWdodFZpc2lvbiA/ICsxIDogLTE7XG5cbiAgICAgICAgbGV0IGZ1biA9ICh0OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXJWaXNpYmxlID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQodCk7XG4gICAgICAgICAgICBpZiAocGxheWVyVmlzaWJsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ICs9IGRpZmY7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHBsYXllclZpc2libGUpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCB0IG9mIHZpcy5fY2FuU2VlKSBmdW4odCk7XG4gICAgICAgIGlmICh2aXMuX2NhblNlZVdhbGxzKSBmb3IgKGxldCB0IG9mIHZpcy5fY2FuU2VlV2FsbHMpIGZ1bih0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVZpc01lc2hGcm9tKHBvczogUElYSS5JUG9pbnREYXRhLCB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQpOiBQSVhJLk1lc2gge1xuICAgICAgICBsZXQgbWVzaCA9IFBvaW50TGlnaHRSZW5kZXIuY3JlYXRlTWVzaCgnY29uc3QnKTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMobWVzaCwgcG9zLCB2aXMucG9seWdvbiEpO1xuICAgICAgICBsZXQgciA9IHZpcy5yYW5nZSAqIDUwO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hVbmlmb3JtcyhtZXNoLCBwb3MsIHIqciwgMHhGRkZGRkYpO1xuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwcmVhZFBsYXllclZpc2liaWxpdHkocGxheWVyOiBudW1iZXIsIHBvczogUElYSS5JUG9pbnREYXRhLCB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQsIG5pZ2h0VmlzaW9uOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChwbGF5ZXIsIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47Ly8gSWdub3JlIGhpZGRlbiBwbGF5ZXJzXG4gICAgICAgIGxldCBwbGF5ZXJWaXMgPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goJ2NvbnN0Jyk7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFBvbHlnb25zKHBsYXllclZpcywgcG9zLCB2aXMucG9seWdvbiEpO1xuICAgICAgICBsZXQgciA9IHZpcy5yYW5nZSAqIDUwO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hVbmlmb3JtcyhwbGF5ZXJWaXMsIHBvcywgciAqIHIsIDB4RkZGRkZGKTtcblxuICAgICAgICBsZXQgbGlnaHRTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoTElHSFRfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxMaWdodENvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IHBsYXllckRhdGEgPSB7XG4gICAgICAgICAgICBtZXNoOiBwbGF5ZXJWaXMsXG4gICAgICAgICAgICB2aXMsXG4gICAgICAgICAgICBwb3MsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcblxuXG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG4gICAgICAgIGxldCBuaWdodFZpc1BsYXllcnMgPSBbXTtcblxuICAgICAgICBsZXQgbGlnaHRzID0gW107XG4gICAgICAgIGxldCBhYWJiO1xuICAgICAgICBpZiAoIW5pZ2h0VmlzaW9uICYmIHRoaXMubGlnaHRTeXN0ZW0ubGlnaHRTZXR0aW5ncy5uZWVkc0xpZ2h0KSB7XG4gICAgICAgICAgICBwbGF5ZXJzLnB1c2gocGxheWVyRGF0YSk7XG5cbiAgICAgICAgICAgIGFhYmIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMudmlzaWJpbGl0eVN5c3RlbS5hYWJiVHJlZS5xdWVyeSh2aXMuYWFiYiEpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpc0NvbXBvbmVudCA9IGMudGFnITtcbiAgICAgICAgICAgICAgICBsZXQgbGlnaHRDb21wb25lbnQgPSBsaWdodFN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpc0NvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodENvbXBvbmVudCA9PT0gdW5kZWZpbmVkIHx8IHZpc0NvbXBvbmVudC5yYW5nZSA8PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzQ29tcG9uZW50LmVudGl0eSkhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgYWFiYiA9IHZpc0NvbXBvbmVudC5hYWJiIS5jb3B5KCk7XG4gICAgICAgICAgICAgICAgZWxzZSBhYWJiLmNvbWJpbmUodmlzQ29tcG9uZW50LmFhYmIhLCBhYWJiKTtcblxuICAgICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgICAgIGxpZ2h0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaCxcbiAgICAgICAgICAgICAgICAgICAgcG9zLFxuICAgICAgICAgICAgICAgICAgICB2aXM6IHZpc0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpZ2h0cy5sZW5ndGggPT09IDApIHJldHVybjsvLyBubyBuaWdodCB2aXNpb24gQU5EIG5vIGxpZ2h0cyA9IGNhbid0IHNlZSBhIHRoaW5nIVxuICAgICAgICAgICAgYWFiYiEuaW50ZXJzZWN0KHZpcy5hYWJiISwgYWFiYiEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzLnB1c2gocGxheWVyRGF0YSlcbiAgICAgICAgICAgIGFhYmIgPSB2aXMuYWFiYjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0cyxcbiAgICAgICAgICAgIHBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnMsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgZGF0YSk7XG5cbiAgICAgICAgcGxheWVyRGF0YS5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCBsaWdodCBvZiBkYXRhLmxpZ2h0cykgbGlnaHQubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwcmVhZExpZ2h0VmlzaWJpbGl0eShsaWdodFZpczogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICAvLyBRdWl0ZSBzaW1pbGFyIHRvIHNwcmVhZFBsYXllclZpc2liaWxpdHkgYnV0IGZvbGxvd3MgYSBsaWdodCBpbnN0ZWFkIG9mIGEgcGxheWVyLFxuICAgICAgICAvLyBXaGVuIGEgbGlnaHQgdmlzaWJpbGl0eSBwb2x5Z29uIGlzIGNoYW5nZWQgdGhpcyB3aWxsIHF1ZXJ5IGVhY2ggcGxheWVyIGluIHRoZSBwb2x5Z29uJ3MgcmVhY2ggYW5kXG4gICAgICAgIC8vIHNwcmVhZCB0aGUgdmlzaWJpbGl0eSAob25seSB3aXRoIHRoYXQgbGlnaHQhKVxuXG4gICAgICAgIGlmICghdGhpcy5saWdodFN5c3RlbS5saWdodFNldHRpbmdzLm5lZWRzTGlnaHQpIHJldHVybjsvLyBXaG8gbmVlZHMgbGlnaHRzP1xuXG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBsaWdodFBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGxpZ2h0VmlzLmVudGl0eSkhO1xuICAgICAgICBsZXQgbGlnaHRNZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShsaWdodFBvcywgbGlnaHRWaXMpO1xuXG4gICAgICAgIGxldCBsaWdodERhdGEgPSBbe1xuICAgICAgICAgICAgbWVzaDogbGlnaHRNZXNoLFxuICAgICAgICAgICAgcG9zOiBsaWdodFBvcyxcbiAgICAgICAgICAgIHZpczogbGlnaHRWaXMsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YV07XG5cbiAgICAgICAgbGV0IGFhYmIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgbGV0IHBsYXllcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnZpc2liaWxpdHlTeXN0ZW0uYWFiYlRyZWUucXVlcnkobGlnaHRWaXMuYWFiYiEpKSB7XG4gICAgICAgICAgICBsZXQgdmlzQ29tcG9uZW50ID0gYy50YWchO1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzQ29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocGxheWVyID09PSB1bmRlZmluZWQgfHwgdmlzQ29tcG9uZW50LnJhbmdlIDw9IDAgfHwgcGxheWVyLm5pZ2h0VmlzaW9uKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgYWFiYiA9IHZpc0NvbXBvbmVudC5hYWJiIS5jb3B5KCk7XG4gICAgICAgICAgICBlbHNlIGFhYmIuY29tYmluZSh2aXNDb21wb25lbnQuYWFiYiEsIGFhYmIpO1xuXG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocGxheWVyLmVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzKTtcblxuICAgICAgICAgICAgcGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNoLFxuICAgICAgICAgICAgICAgIHBvcyxcbiAgICAgICAgICAgICAgICB2aXMsXG4gICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgYWFiYiEuaW50ZXJzZWN0KGxpZ2h0VmlzLmFhYmIhLCBhYWJiISk7XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzOiBsaWdodERhdGEsXG4gICAgICAgICAgICBwbGF5ZXJzLFxuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgIG5pZ2h0VmlzaW9uOiBmYWxzZSxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELCBkYXRhKTtcbiAgICAgICAgbGlnaHREYXRhWzBdLm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJzKSBwbGF5ZXIubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwcmVhZEFmdGVyTGlnaHROb3ROZWVkZWQoKTogdm9pZCB7XG4gICAgICAgIC8vIFNvbWV0aGluZyBjaGFuZ2VkLCBsaWdodCBpcyBub3QgbmVlZGVkIGFueW1vcmVcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IG1vc3Qgb2YgdGhlIHRoaW5ncyB0aGF0IHdlcmUgbm90IHZpc2libGUgYW55bW9yZSBub3cgYXJlXG4gICAgICAgIC8vIGJ1dCB3aGF0PyBhbmQgd2hlcmU/IHRoaXMgaXMgdGhlIHF1ZXN0aW9ucyBpIHdpbGwgYW5zd2VyIHRvZGF5XG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG5cbiAgICAgICAgbGV0IHZpc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IGFhYmIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICBpZiAocGxheWVyLm5pZ2h0VmlzaW9uKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXMpO1xuXG4gICAgICAgICAgICBpZiAoYWFiYiA9PT0gdW5kZWZpbmVkKSBhYWJiID0gdmlzLmFhYmIhLmNvcHkoKTtcbiAgICAgICAgICAgIGVsc2UgYWFiYi5jb21iaW5lKHZpcy5hYWJiISwgYWFiYik7XG5cbiAgICAgICAgICAgIGxldCBkYXRhID0ge21lc2gsIHBvcywgdmlzfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuICAgICAgICAgICAgcGxheWVycy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgcmV0dXJuOy8vIE5vdCBlbm91Z2ggcGxheWVyc1xuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0czogW10sXG4gICAgICAgICAgICBwbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgIG5pZ2h0VmlzUGxheWVyczogcGxheWVycyxcbiAgICAgICAgICAgIG5pZ2h0VmlzaW9uOiBmYWxzZSxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRGF0YTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgZGF0YSk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBwbGF5ZXJzKSB4Lm1lc2guZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxuXG4gICAgZ2V0U3ByZWFkRGF0YUZvckFhYmIoYWFiYjogQWFiYiwgY2I6IChkYXRhOiBWaXNpYmlsaXR5U3ByZWFkRGF0YSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBsZXQgbmlnaHRWaXNQbGF5ZXJzID0gW107XG4gICAgICAgIGxldCBwbGF5ZXJzID0gW107XG4gICAgICAgIGxldCBsaWdodHMgPSBbXTtcblxuICAgICAgICBsZXQgbGlnaHRzTmVlZGVkID0gdGhpcy5saWdodFN5c3RlbS5saWdodFNldHRpbmdzLm5lZWRzTGlnaHQ7XG4gICAgICAgIGxldCBsaWdodFN0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChMSUdIVF9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPExpZ2h0Q29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMudmlzaWJpbGl0eVN5c3RlbS5hYWJiVHJlZS5xdWVyeShhYWJiKSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGMudGFnITtcblxuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHttZXNoLCBwb3MsIHZpc30gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLm5pZ2h0VmlzaW9uIHx8ICFsaWdodHNOZWVkZWQpIG5pZ2h0VmlzUGxheWVycy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIGVsc2UgcGxheWVycy5wdXNoKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlnaHRzTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpZ2h0ID0gbGlnaHRTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXMpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHttZXNoLCBwb3MsIHZpc30gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlYWxQbGF5ZXJzID0gcGxheWVycztcbiAgICAgICAgbGV0IHJlYWxMaWdodHMgPSBsaWdodHM7XG5cbiAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoID09PSAwIHx8IGxpZ2h0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmVhbFBsYXllcnMgPSBbXTtcbiAgICAgICAgICAgIHJlYWxMaWdodHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0czogcmVhbExpZ2h0cyxcbiAgICAgICAgICAgIHBsYXllcnM6IHJlYWxQbGF5ZXJzLFxuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWREYXRhO1xuICAgICAgICBjYihkYXRhKTtcblxuICAgICAgICBmb3IgKGxldCB4IG9mIGxpZ2h0cykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCB4IG9mIHBsYXllcnMpIHgubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgZm9yIChsZXQgeCBvZiBuaWdodFZpc1BsYXllcnMpIHgubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gY29tcCBhcyBQbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSkhO1xuICAgICAgICAgICAgaWYgKHB2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQWRkZWQgcGxheWVyIHRvIHBpbiB3aXRob3V0IHBsYXllciB2aXNpYmlsaXR5IVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwdi5fcGxheWVyTmlnaHRWaXNpb25Db3VudCsrOy8vIEEgYml0IGhhY2tpc2gsIGJ1dCBpdCB3b3JrcyA7KVxuICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwdik7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIGEgdmlzaWJpbGl0eSBjb21wb25lbnQsIGNyZWF0ZSBvbmUgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuICAgICAgICAgICAgICAgIHZpcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogVklTSUJJTElUWV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICByYW5nZTogcGxheWVyLnJhbmdlLFxuICAgICAgICAgICAgICAgICAgICB0cmFja1dhbGxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wLmVudGl0eSwgdmlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9WSVNJQkxFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgYy5fbGlnaHRDb3VudCA9IDA7XG4gICAgICAgICAgICBjLl9wbGF5ZXJDb3VudCA9IDA7XG4gICAgICAgICAgICBjLl9wbGF5ZXJOaWdodFZpc2lvbkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBuZXdWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQoYy5pc1dhbGwgPT09IHRydWUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIFBsYXllckNvbXBvbmVudFxuXG4gICAgICAgICAgICBpZiAoJ25pZ2h0VmlzaW9uJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk5pZ2h0VmlzaW9uVXBkYXRlKGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJ3JhbmdlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGMucmFuZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHZpcy5wb2x5Z29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRQbGF5ZXJWaXNpYmlsaXR5KGNvbXAuZW50aXR5LCBwb3MsIHZpcywgYy5uaWdodFZpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCEoJ3BvbHlnb24nIGluIGNoYW5nZWQpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh2aXMucG9seWdvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByZWFkUGxheWVyVmlzaWJpbGl0eShjb21wLmVudGl0eSwgcG9zLCB2aXMsIHBsYXllci5uaWdodFZpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHksIExJR0hUX1RZUEUpO1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZExpZ2h0VmlzaWJpbGl0eSh2aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwdiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBwdi5fcGxheWVyTmlnaHRWaXNpb25Db3VudC0tOy8vIEdvdHRhIHVuZG8gdGhvc2UgaGFja3NcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocHYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IExJR0hUX1NFVFRJTkdTX1RZUEUgJiYgJ25lZWRzTGlnaHQnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBsaWdodCA9IHJlcyBhcyBMaWdodFNldHRpbmdzO1xuICAgICAgICAgICAgdGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQgPSAhbGlnaHQubmVlZHNMaWdodDtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy52aXNpYmxlU3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKGNvbXApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWxpZ2h0Lm5lZWRzTGlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZEFmdGVyTGlnaHROb3ROZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gR1JJRF9UWVBFICYmICdzaXplJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZCA9IHJlcyBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gZ3JpZC5zaXplO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUFVCTElDIElOVEVSRkFDRVxuICAgIGFkZFBsYXllclZpc0xpc3RlbmVyKGVudGl0eTogbnVtYmVyLCBpc1dhbGw6IGJvb2xlYW4gPSBmYWxzZSk6IFBsYXllclZpc2libGVDb21wb25lbnQge1xuICAgICAgICBsZXQgYyA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogUExBWUVSX1ZJU0lCTEVfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNXYWxsLFxuICAgICAgICAgICAgICAgIF9yZWZDb3VudDogMSxcbiAgICAgICAgICAgICAgICBfbGlnaHRDb3VudDogMCxcbiAgICAgICAgICAgICAgICBfcGxheWVyQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgX3BsYXllck5pZ2h0VmlzaW9uQ291bnQ6IDAsXG4gICAgICAgICAgICB9IGFzIFBsYXllclZpc2libGVDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChlbnRpdHksIGMpO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLl9yZWZDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIHJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBjLl9yZWZDb3VudC0tO1xuICAgICAgICBpZiAoYy5fcmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIuc2V0dXAoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxuXG59IiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICBIT1NUX0hJRERFTl9UWVBFLFxuICAgIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBUUkFOU0ZPUk1fVFlQRSxcbiAgICBUcmFuc2Zvcm1Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvbkNvbXBvbmVudCwgSW50ZXJhY3Rpb25TeXN0ZW0sIHNoYXBlUG9pbnR9IGZyb20gXCIuL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1RleHR1cmV9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1BpbkNvbXBvbmVudH0gZnJvbSBcIi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIEVsZW1lbnRUeXBlLFxuICAgIEdSQVBISUNfVFlQRSxcbiAgICBHcmFwaGljQ29tcG9uZW50LFxuICAgIEltYWdlRWxlbWVudCxcbiAgICBJbWFnZVNjYWxlTW9kZSxcbiAgICBWaXNpYmlsaXR5VHlwZVxufSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sRHJpdmVyLCBUb29sU3lzdGVtfSBmcm9tIFwiLi90b29sU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50fSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7Z2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbn0gZnJvbSBcIi4uL3Rvb2xzL3V0aWxzXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcblxuXG5leHBvcnQgY29uc3QgUFJPUF9UWVBFID0gJ3Byb3AnO1xuZXhwb3J0IHR5cGUgUFJPUF9UWVBFID0gJ3Byb3AnO1xuZXhwb3J0IGludGVyZmFjZSBQcm9wQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQUk9QX1RZUEU7XG4gICAgcHJvcFR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9wVHlwZSB7XG4gICAgaWQ6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdGV4dHVyZTogVGV4dHVyZSxcbn1cblxuZXhwb3J0IGNvbnN0IFBST1BfVEVMRVBPUlRfVFlQRSA9ICdwcm9wX3RlbGVwb3J0JztcbmV4cG9ydCB0eXBlIFBST1BfVEVMRVBPUlRfVFlQRSA9ICdwcm9wX3RlbGVwb3J0JztcbmV4cG9ydCBpbnRlcmZhY2UgUHJvcFRlbGVwb3J0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEU7XG4gICAgdGFyZ2V0UHJvcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvcFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBST1BfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JBUEhJQ19UWVBFLCBJTlRFUkFDVElPTl9UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtXG5cbiAgICByZWFkb25seSBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UHJvcENvbXBvbmVudD4oUFJPUF9UWVBFLCB0cnVlLCB0cnVlKTtcbiAgICByZWFkb25seSB0ZWxlcG9ydFN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQcm9wVGVsZXBvcnQ+KFBST1BfVEVMRVBPUlRfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBwcm9wVHlwZXM6IE1hcDxzdHJpbmcsIFByb3BUeXBlPjtcbiAgICBkZWZhdWx0UHJvcFR5cGU6IHN0cmluZyA9IFwibGFkZGVyX2Rvd25cIjtcblxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICBpZiAod29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2wobmV3IENyZWF0ZVByb3BUb29sRHJpdmVyKHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChuZXcgUHJvcFRlbGVwb3J0TGlua1Rvb2xEcml2ZXIodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgdGhpcy5wcm9wVHlwZXMgPSBuZXcgTWFwPHN0cmluZywgUHJvcFR5cGU+KCk7XG5cbiAgICAgICAgdGhpcy5sb2FkUHJvcFR5cGVzKCk7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMudGVsZXBvcnRTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdwcm9wX3VzZScsIHRoaXMub25Qcm9wVXNlLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZWdpc3RlclByb3BUeXBlKHByb3BUeXBlOiBQcm9wVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb3BUeXBlcy5zZXQocHJvcFR5cGUuaWQsIHByb3BUeXBlKTtcbiAgICB9XG5cbiAgICBsb2FkUHJvcFR5cGVzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBhdGxhcyA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJwcm9wc1wiXS5zcHJpdGVzaGVldCE7XG4gICAgICAgIGNvbnN0IHByb3BzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbGFkZGVyX3VwJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFkZGVyIFVwJyxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBhdGxhcy50ZXh0dXJlc1snbGFkZGVyX3VwLnBuZyddLFxuICAgICAgICAgICAgfSBhcyBQcm9wVHlwZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2xhZGRlcl9kb3duJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFkZGVyIERvd24nLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IGF0bGFzLnRleHR1cmVzWydsYWRkZXJfZG93bi5wbmcnXSxcbiAgICAgICAgICAgIH0gYXMgUHJvcFR5cGUsXG4gICAgICAgIF07XG4gICAgICAgIGZvciAobGV0IHByb3Agb2YgcHJvcHMpIHRoaXMucmVnaXN0ZXJQcm9wVHlwZShwcm9wKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByb3BUeXBlKHA6IFByb3BDb21wb25lbnQpOiBQcm9wVHlwZSB7XG4gICAgICAgIGxldCBwVHlwZSA9IHRoaXMucHJvcFR5cGVzLmdldChwLnByb3BUeXBlKTtcbiAgICAgICAgaWYgKHBUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGZpbmQgcHJvcCB0eXBlOiAke3AucHJvcFR5cGV9YCk7XG4gICAgICAgICAgICBwVHlwZSA9IHRoaXMucHJvcFR5cGVzLmdldCh0aGlzLmRlZmF1bHRQcm9wVHlwZSk7XG5cbiAgICAgICAgICAgIGlmIChwVHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJEZWZhdWx0IHByb3AgdHlwZSBpcyBpbnZhbGlkIVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwVHlwZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlICE9PSAncHJvcCcpIHJldHVybjtcbiAgICAgICAgbGV0IHByb3AgPSBjIGFzIFByb3BDb21wb25lbnQ7XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IHRoaXMuZ2V0UHJvcFR5cGUocHJvcCk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIHtcbiAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRSxcbiAgICAgICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5QUk9QLFxuICAgICAgICAgICAgICAgIHNjYWxlOiBJbWFnZVNjYWxlTW9kZS5HUklELFxuICAgICAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUixcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBwcm9wVHlwZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIHNoYXJlZFRleHR1cmU6IHRydWUsLy8gRE9OVCBERUxFVEUgTVkgVEVYVFVSRVxuICAgICAgICAgICAgICAgIGFuY2hvcjogeyB4OiAwLjUsIHk6IDAuNSB9LFxuICAgICAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgfSBhcyBJbWFnZUVsZW1lbnQsXG4gICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBQUk9QX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gYyBhcyBQcm9wQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBsZXQgcFR5cGUgPSB0aGlzLmdldFByb3BUeXBlKHByb3ApO1xuICAgICAgICAgICAgbGV0IGRpc3BsYXkgPSAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudCkuZGlzcGxheSBhcyBJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICBkaXNwbGF5LnRleHR1cmUgPSBwVHlwZS50ZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBHUkFQSElDX1RZUEUsIHsgZGlzcGxheSB9LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09ICdwcm9wJykge1xuICAgICAgICAgICAgbGV0IHRwID0gdGhpcy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh0cCAhPT0gdW5kZWZpbmVkKSB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudCh0cCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUHJvcFVzZShlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgcHJvcCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgbGV0IHRlbGVwb3J0ID0gdGhpcy50ZWxlcG9ydFN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChwcm9wID09PSB1bmRlZmluZWQgfHwgdGVsZXBvcnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh0ZWxlcG9ydC5lbnRpdHkpO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVubGlua2VkIHRlbGVwb3J0ZXIhXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvc2l0aW9ucyA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgcG9zRnJvbSA9IHBvc2l0aW9ucy5nZXRDb21wb25lbnQoZW50aXR5KSE7XG4gICAgICAgIGxldCBwb3NUbyA9IHBvc2l0aW9ucy5nZXRDb21wb25lbnQodGVsZXBvcnQudGFyZ2V0UHJvcCkhO1xuICAgICAgICBsZXQgZGlmZlggPSBwb3NUby54IC0gcG9zRnJvbS54O1xuICAgICAgICBsZXQgZGlmZlkgPSBwb3NUby55IC0gcG9zRnJvbS55O1xuXG4gICAgICAgIGxldCBzaGFwZSA9ICh0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KS5zaGFwZTtcbiAgICAgICAgbGV0IHBpblN0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldCgncGluJykgYXMgU2luZ2xlRWNzU3RvcmFnZTxQaW5Db21wb25lbnQ+O1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlLCB4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwaW5TdG9yYWdlLmdldENvbXBvbmVudCh4LmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBmb3IgKGxldCBxIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zaXRpb25zLmdldENvbXBvbmVudChxLmVudGl0eSkhO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KFxuICAgICAgICAgICAgICAgIHEuZW50aXR5LCBwb3MudHlwZSwge1xuICAgICAgICAgICAgICAgICAgICB4OiBwb3MueCArIGRpZmZYLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb3MueSArIGRpZmZZLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVByb3BUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuQ1JFQVRFX1BST1A7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFByb3BTeXN0ZW07XG5cbiAgICAvLyBFbnRpdHkgb2YgdGhlIHByb3AgdG8gYmUgY3JlYXRlZFxuICAgIGNyZWF0ZVByb3A6IG51bWJlciA9IC0xO1xuICAgIGNyZWF0ZVByb3BUeXBlPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBQcm9wU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuc3lzID0gc3lzO1xuICAgIH1cblxuICAgIGluaXRDcmVhdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxDcmVhdGlvbigpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcFR5cGUgPSB0aGlzLnN5cy5kZWZhdWx0UHJvcFR5cGU7XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IHRoaXMuc3lzLnByb3BUeXBlcy5nZXQodGhpcy5jcmVhdGVQcm9wVHlwZSk7XG4gICAgICAgIGlmIChwcm9wVHlwZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyAnSWxsZWdhbCBwcm9wIHR5cGU6ICcgKyB0aGlzLmNyZWF0ZVByb3BUeXBlO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcCA9IHRoaXMuc3lzLndvcmxkLnNwYXduRW50aXR5KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEVcbiAgICAgICAgICAgIH0gYXMgSG9zdEhpZGRlbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHg6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICB5OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRWxlbWVudFR5cGUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5QUk9QLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGUuR1JJRCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiBwcm9wVHlwZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICBzaGFyZWRUZXh0dXJlOiB0cnVlLC8vIERPTlQgREVMRVRFIE1ZIFRFWFRVUkVcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiB7IHg6IDAuNSwgeTogMC41IH0sXG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgICAgIH0gYXMgSW1hZ2VFbGVtZW50LFxuICAgICAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEZPTExPV19NT1VTRV9UWVBFLFxuICAgICAgICAgICAgfSBhcyBGb2xsb3dNb3VzZUNvbXBvbmVudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjYW5jZWxDcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUHJvcCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5jcmVhdGVQcm9wKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcCA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlybUNyZWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVQcm9wID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuY3JlYXRlUHJvcDtcbiAgICAgICAgY29uc3Qgd29ybGQgPSB0aGlzLnN5cy53b3JsZDtcbiAgICAgICAgd29ybGQucmVtb3ZlQ29tcG9uZW50VHlwZShpZCwgRk9MTE9XX01PVVNFX1RZUEUpO1xuICAgICAgICB3b3JsZC5yZW1vdmVDb21wb25lbnRUeXBlKGlkLCBHUkFQSElDX1RZUEUpO1xuICAgICAgICB3b3JsZC5hZGRDb21wb25lbnQoaWQsIHtcbiAgICAgICAgICAgIHR5cGU6IFBST1BfVFlQRSxcbiAgICAgICAgICAgIHByb3BUeXBlOiB0aGlzLmNyZWF0ZVByb3BUeXBlLFxuICAgICAgICB9IGFzIFByb3BDb21wb25lbnQpO1xuICAgICAgICB3b3JsZC5yZW1vdmVDb21wb25lbnRUeXBlKGlkLCBIT1NUX0hJRERFTl9UWVBFKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVByb3AgPSAtMTtcbiAgICAgICAgdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgdG9vbDogVG9vbC5JTlNQRUNULFxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnN5cy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eShpZCk7XG4gICAgfVxuXG5cbiAgICBvblN0YXJ0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyQ2xpY2soZXZlbnQ6IFBvaW50ZXJDbGlja0V2ZW50KSB7XG4gICAgICAgIHRoaXMuY29uZmlybUNyZWF0aW9uKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcFRlbGVwb3J0TGlua1Rvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5QUk9QX1RFTEVQT1JUX0xJTks7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IFByb3BTeXN0ZW07XG5cbiAgICBjdXJyZW50VGFyZ2V0OiBudW1iZXIgPSAtMTtcblxuICAgIGNvbnN0cnVjdG9yKHN5czogUHJvcFN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN5cy53b3JsZC5ldmVudHMub24oJ3Byb3BfdGVsZXBvcnRfbGluaycsIHRoaXMub25Qcm9wVGVsZXBvcnRMaW5rLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN5cy53b3JsZC5ldmVudHMub2ZmKCdwcm9wX3RlbGVwb3J0X2xpbmsnLCB0aGlzLm9uUHJvcFRlbGVwb3J0TGluaywgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblByb3BUZWxlcG9ydExpbmsoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IHRwID0gdGhpcy5zeXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAodHAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2FsbGVkIHRlbGVwb3J0IGxpbmsgb24gYSBub24tdGVsZXBvcnQgcHJvcCwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZW50aXR5O1xuXG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgIHRvb2w6IFRvb2wuUFJPUF9URUxFUE9SVF9MSU5LLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxpbmtUbyh0YXJnZXQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zeXMuc3RvcmFnZS5nZXRDb21wb25lbnQodGFyZ2V0KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUcnlpbmcgdG8gbGluayB0ZWxlcG9ydCB0byBhIG5vbi1wcm9wLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHBlciA9IHRoaXMuc3lzLnRlbGVwb3J0U3RvcmFnZS5nZXRDb21wb25lbnQodGhpcy5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKHRwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGVsZXBvcnRlciBoYXMgYmVlbiBkZXN0cm95ZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyBpdHNlbGYgdGhlbiBkZWxldGUgdGhlIGxpbmtcbiAgICAgICAgdHBlci50YXJnZXRQcm9wID0gdGFyZ2V0ID09PSB0aGlzLmN1cnJlbnRUYXJnZXQgPyAtMSA6IHRhcmdldDtcblxuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSAtMTtcbiAgICB9XG5cbiAgICBsaW5rQ2FuY2VsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSAtMTtcbiAgICB9XG5cbiAgICBvblN0YXJ0KCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInO1xuICAgIH1cblxuICAgIG9uRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmtDYW5jZWwoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyQ2xpY2soZXZlbnQ6IFBvaW50ZXJDbGlja0V2ZW50KSB7XG4gICAgICAgIGxldCBwb2ludCA9IGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24odGhpcy5zeXMud29ybGQsIGV2ZW50KTtcblxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25TeXN0ZW0gPSB0aGlzLnN5cy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gaW50ZXJhY3Rpb25TeXN0ZW0ucXVlcnkoc2hhcGVQb2ludChwb2ludCksIHggPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3lzLndvcmxkLmdldENvbXBvbmVudCh4LmVudGl0eSwgJ3Byb3AnKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgZm91bmQgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBvbGRUcGVyID0gdGhpcy5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5saW5rVG8oZm91bmQuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuc3lzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXR5KG9sZFRwZXIpO1xuICAgICAgICAgICAgdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgICAgIHRvb2w6IFRvb2wuSU5TUEVDVCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIE5BTUVfVFlQRSxcbiAgICBOYW1lQ29tcG9uZW50LFxuICAgIE5PVEVfVFlQRSxcbiAgICBOb3RlQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtMaWdodENvbXBvbmVudH0gZnJvbSBcIi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7UGxheWVyQ29tcG9uZW50fSBmcm9tIFwiLi9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7RG9vckNvbXBvbmVudCwgRG9vclR5cGV9IGZyb20gXCIuL2Rvb3JTeXN0ZW1cIjtcbmltcG9ydCB7UFJPUF9URUxFUE9SVF9UWVBFLCBQcm9wVGVsZXBvcnR9IGZyb20gXCIuL3Byb3BTeXN0ZW1cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5cbmNvbnN0IE1VTFRJX1RZUEVTID0gWyduYW1lJywgJ25vdGUnXTtcbmNvbnN0IEVMSU1JTkFCTEVfVFlQRVMgPSBbJ25hbWUnLCAnbm90ZScsICdwbGF5ZXInLCAnbGlnaHQnLCAnZG9vciddO1xuY29uc3QgRlVMTFNDUkVFTkFCTEVfVFlQRVMgPSBbJ25vdGUnXTtcblxuLy8gbmFtZVxuLy8gbm90ZSAtPiBub3RlLCBwb3NpdGlvblxuLy8gcG9zaXRpb25cbi8vIHJvb20gLT4gcm9vbSwgcG9zaXRpb25cbi8vIGJrZ19pbWcgPT4gYmtnX2ltZywgcG9zaXRpb25cblxuLy8gUG9zc2libGUgY29uZmlndXJhdGlvbnM6ICg/ID0gMC8xLCAqID0gMCssIGxpa2UgcmVnZXgpXG4vLyAoYmtnX2ltZywgcG9zLCB0cmFuc2Zvcm0sIG5hbWUqLCBub3RlcyopXG4vLyAocGluLCBwb3MsIGxpZ2h0fHBsYXllciwgbmFtZSosIG5vdGVzKilcbi8vIChwcm9wLCBwb3MsIHRyYW5zZm9ybSwgdGVsZXBvcnQ/LCBuYW1lKiwgbm90ZXMqKVxuLy8gKHdhbGwsIHBvcywgZG9vcj8pXG5cbmludGVyZmFjZSBUeXBlRGF0YSB7XG4gICAgZW50aXRpZXM6IFNldDxDb21wb25lbnQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkZENvbXBvbmVudCB7XG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbn1cblxuZXhwb3J0IHR5cGUgU0VMRUNUSU9OX1RZUEUgPSAnc2VsZWN0aW9uJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RJT05fVFlQRSA9ICdzZWxlY3Rpb24nO1xuZXhwb3J0IGNsYXNzIFNlbGVjdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcHJpdmF0ZSBlY3M6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBTRUxFQ1RJT05fVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcblxuICAgIHNlbGVjdGVkRW50aXRpZXMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBkYXRhQnlUeXBlID0gbmV3IE1hcDxzdHJpbmcsIFR5cGVEYXRhPigpO1xuXG4gICAgcHJpdmF0ZSBpc1RyYW5zbGF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSB0cmFuc2xhdGVEaXJ0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoZWNzOiBXb3JsZCkge1xuICAgICAgICB0aGlzLmVjcyA9IGVjcztcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCAoKSA9PiB0aGlzLmlzVHJhbnNsYXRpbmcgPSB0cnVlKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCd0b29sX21vdmVfZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2xhdGVEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmVkJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignZW50aXR5X2Rlc3Bhd24nLCB0aGlzLm9uRW50aXR5RGVzcGF3biwgdGhpcyk7XG4gICAgfVxuXG4gICAgbG9nU2VsZWN0aW9uVHlwZXMoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tIFNFTEVDVElPTiAtLS1cIik7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBjb21wcyA9IHRoaXMuZWNzLmdldEFsbENvbXBvbmVudHMoZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVudGl0eSArIFwiOiBcIiArIGNvbXBzLm1hcCh4ID0+IHgudHlwZSkuam9pbignLCAnKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVHJhbnNsYXRpbmcpIHRoaXMudHJhbnNsYXRlRGlydHkgPSB0cnVlO1xuICAgICAgICBlbHNlIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fdXBkYXRlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgb25Db21wb25lbnRBZGQoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGVEYXRhKGNvbXBvbmVudC50eXBlKS5lbnRpdGllcy5hZGQoY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkNvbXBvbmVudFVwZGF0ZShjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhjb21wb25lbnQuZW50aXR5KSkgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkNvbXBvbmVudFJlbW92ZShjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoY29tcG9uZW50LmVudGl0eSkpIHJldHVybjtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KGNvbXBvbmVudC50eXBlKSE7XG4gICAgICAgIGRhdGEuZW50aXRpZXMuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChkYXRhLmVudGl0aWVzLnNpemUgPT09IDApIHRoaXMuZGF0YUJ5VHlwZS5kZWxldGUoY29tcG9uZW50LnR5cGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG9uRW50aXR5RGVzcGF3bihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtlbnRpdHldKTtcbiAgICB9XG5cbiAgICBjbGVhcihjYWxsTGlzdGVuZXJzOiBib29sZWFuID0gdHJ1ZSwgdXBkYXRlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoY2FsbExpc3RlbmVycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaWQgb2YgdGhpcy5zZWxlY3RlZEVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoJ3NlbGVjdGlvbl9lbmQnLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZEVudGl0aWVzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGF0YUJ5VHlwZS5jbGVhcigpO1xuICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0T25seUVudGl0eShpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xlYXIodHJ1ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmFkZEVudGl0aWVzKFtpZF0pO1xuICAgIH1cblxuICAgIHNldE9ubHlFbnRpdGllcyhpZHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBpZFNldCA9IG5ldyBTZXQoaWRzKTtcblxuICAgICAgICBsZXQgcmVtb3ZlSWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgdGhpcy5zZWxlY3RlZEVudGl0aWVzKSB7XG4gICAgICAgICAgICBpZiAoIWlkU2V0LmhhcyhpZCkpIHJlbW92ZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKHJlbW92ZUlkcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmFkZEVudGl0aWVzKGlkcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHRvZ2dsZUVudGl0aWVzKGlkczogbnVtYmVyW10sIHVwZGF0ZTogYm9vbGVhbj10cnVlKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbaWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRW50aXRpZXMoW2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUpIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgYWRkRW50aXRpZXMoaWRzOiBudW1iZXJbXSwgdXBkYXRlOiBib29sZWFuPXRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhpZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5hZGQoaWQpO1xuXG4gICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5nZXRBbGxDb21wb25lbnRzKGlkKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldE9yQ3JlYXRlRGF0YShjLnR5cGUpLmVudGl0aWVzLmFkZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fYmVnaW4nLCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZSAmJiBjb3VudCAhPT0gMCkgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICByZW1vdmVFbnRpdGllcyhpZHM6IG51bWJlcltdLCB1cGRhdGU6IGJvb2xlYW49dHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhpZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5kZWxldGUoaWQpXG4gICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5nZXRBbGxDb21wb25lbnRzKGlkKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQoYy50eXBlKSE7XG4gICAgICAgICAgICAgICAgZGF0YS5lbnRpdGllcy5kZWxldGUoYyk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gMCkgdGhpcy5kYXRhQnlUeXBlLmRlbGV0ZShjLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoJ3NlbGVjdGlvbl9lbmQnLCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZSAmJiBjb3VudCAhPT0gMCkgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZEJ5VHlwZSh0eXBlOiBzdHJpbmcpOiBJdGVyYWJsZTxDb21wb25lbnQ+IHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBkYXRhLmVudGl0aWVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbENvbXBvbmVudCh0eXBlOiBzdHJpbmcpOiBPYmplY3Qge1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZWNzLnN0b3JhZ2VzLmdldCh0eXBlKSE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfY2FuRGVsZXRlOiBFTElNSU5BQkxFX1RZUEVTLmluZGV4T2YodHlwZSkgPj0gMCxcbiAgICAgICAgICAgIF9pc0Z1bGxzY3JlZW46IEZVTExTQ1JFRU5BQkxFX1RZUEVTLmluZGV4T2YodHlwZSkgPj0gMCA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgX3N5bmM6IHN0b3JhZ2Uuc3luYyxcbiAgICAgICAgICAgIF9zYXZlOiBzdG9yYWdlLnNhdmUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTaW5nbGVDb21wb25lbnRzKCk6IENvbXBvbmVudFtdIHtcbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG4gICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLnNlbGVjdGVkRW50aXRpZXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuXG4gICAgICAgIGZvciAobGV0IFt0eXBlLCBzdG9yYWdlXSBvZiB0aGlzLmVjcy5zdG9yYWdlcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ2hvc3RfJykpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgY29tcHMgPSBzdG9yYWdlLmdldENvbXBvbmVudHMoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaChyZW1vdmVQcml2YXRlKHRoaXMuaW5pdGlhbENvbXBvbmVudCh0eXBlKSwgY29tcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBnZXRDb21tb25Db21wb25lbnRzKCk6IENvbXBvbmVudFtdIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5zaXplID09PSAwKSByZXR1cm4gW107XG5cbiAgICAgICAgbGV0IHNlbENvdW50ID0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemU7XG5cbiAgICAgICAgaWYgKHNlbENvdW50ID09PSAxKSByZXR1cm4gdGhpcy5nZXRTaW5nbGVDb21wb25lbnRzKCk7XG4gICAgICAgIGxldCBjb21tb25UeXBlcyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBvZiB0aGlzLmVjcy5zdG9yYWdlcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnaG9zdF9oaWRkZW4nKSBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKGRhdGEgIT0gdW5kZWZpbmVkICYmIGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gc2VsQ291bnQgJiYgTVVMVElfVFlQRVMuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb21tb25UeXBlcy5wdXNoKHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBvZiBjb21tb25UeXBlcykge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdob3N0X2hpZGRlbicpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmVjcy5zdG9yYWdlcy5nZXQodHlwZSkhLmdldENvbXBvbmVudHMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gcmVtb3ZlUHJpdmF0ZSh0aGlzLmluaXRpYWxDb21wb25lbnQodHlwZSksIGNvbXApOy8vIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpRmlsdGVyT2JqKGNvbXBvbmVudCwgY29tcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMucHVzaChjb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBnZXRDb21tb25FbnRpdHlPcHRzKCk6IGFueSB7XG4gICAgICAgIGxldCBob3N0SGlkZGVuID0gdGhpcy5kYXRhQnlUeXBlLmdldCgnaG9zdF9oaWRkZW4nKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGlkZGVuOiBob3N0SGlkZGVuICE9PSB1bmRlZmluZWQgJiYgaG9zdEhpZGRlbi5lbnRpdGllcy5zaXplID09PSB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZSxcbiAgICAgICAgICAgIGlkczogQXJyYXkuZnJvbSh0aGlzLnNlbGVjdGVkRW50aXRpZXMpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldEFkZGFibGVDb21wb25lbnRzKCk6IEFycmF5PEFkZENvbXBvbmVudD4ge1xuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PEFkZENvbXBvbmVudD4oKTtcblxuICAgICAgICByZXMucHVzaChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgbmFtZTogJ05hbWUnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICB0eXBlOiAnbm90ZScsXG4gICAgICAgICAgICAgICBuYW1lOiAnTm90ZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodGhpcy5oYXNFdmVyeW9uZVR5cGUoJ3BpbicpICYmICEodGhpcy5oYXNDb21wb25lbnRUeXBlKCdsaWdodCcpIHx8IHRoaXMuaGFzQ29tcG9uZW50VHlwZSgncGxheWVyJykpKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpZ2h0JyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGlnaHQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3BsYXllcicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1BsYXllcicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZSgnd2FsbCcpICYmICF0aGlzLmhhc0NvbXBvbmVudFR5cGUoJ2Rvb3InKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZG9vclwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiRG9vclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZSgncHJvcCcpICYmICF0aGlzLmhhc0NvbXBvbmVudFR5cGUoJ3Byb3BfdGVsZXBvcnQnKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdwcm9wX3RlbGVwb3J0JyxcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlRlbGVwb3J0ZXJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXRQcm9wZXJ0eSh0eXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eVZhbHVlOiBhbnksIG11bHRpSWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICckJykge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBtYW5hZ2VtZW50XG4gICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hpZGRlbic6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCAnaG9zdF9oaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MucmVtb3ZlQ29tcG9uZW50KGNtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmFkZENvbXBvbmVudChlbnRpdHksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RfaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLnRoaXMuc2VsZWN0ZWRFbnRpdGllc10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZENvbXBvbmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21wOiBDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTkFNRV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIE5hbWVDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub3RlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBOT1RFX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTm90ZUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwbGF5ZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwbGF5ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWdodFZpc2lvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIFBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rvb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkb29yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9vclR5cGU6IERvb3JUeXBlLk5PUk1BTF9MRUZULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIERvb3JDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwcm9wX3RlbGVwb3J0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFByb3A6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUHJvcFRlbGVwb3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgJ0Nhbm5vdCBhZGQgdW5rbm93biBjb21wb25lbnQ6ICcgKyBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4udGhpcy5zZWxlY3RlZEVudGl0aWVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MuYWRkQ29tcG9uZW50KGVudGl0eSwgT2JqZWN0LmFzc2lnbih7fSwgY29tcCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZUNvbXBvbmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4udGhpcy5zZWxlY3RlZEVudGl0aWVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBwcm9wZXJ0eVZhbHVlLCBtdWx0aUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MucmVtb3ZlQ29tcG9uZW50KGNvbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVua25vd24gc3BlY2lhbCBldmVudDogXCIgKyBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdAJykge1xuICAgICAgICAgICAgLy8gRXZlbnQgY2FsbCAoeWVhaCBJIGtub3cgdGhpcyBpcyB1Z2x5KSBUT0RPIHBsZWFzZSBuZXh0IG1lIGNsZWFuIGl0IHVwXG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUsIG11bHRpSWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0V2ZXJ5b25lVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dTZWxlY3Rpb25UeXBlcygpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRyeWluZyB0byBjaGFuZ2UgdHlwZSBvZiBzZWxlY3Rpb24gd2hlbiBub3QgZXZlcnlvbmUgaGFzIHRoYXQgdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2xkRW50aXRpZXMgPSBBcnJheS5mcm9tKHRoaXMuc2VsZWN0ZWRFbnRpdGllcyk7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBvbGRFbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IGNoYW5nZXMgPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICBjaGFuZ2VzW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgdGhpcy5lY3MuZWRpdENvbXBvbmVudChlbnRpdHksIHR5cGUsIGNoYW5nZXMsIG11bHRpSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbW92ZUFsbChkaWZmWDogbnVtYmVyLCBkaWZmWTogbnVtYmVyKSB7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIHRoaXMuZWNzLmVkaXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFLCB7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyBkaWZmWCxcbiAgICAgICAgICAgICAgICB5OiBwb3MueSArIGRpZmZZLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNUcmFuc2xhdGluZykgdGhpcy50cmFuc2xhdGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIGVsc2UgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE9yQ3JlYXRlRGF0YSh0eXBlOiBzdHJpbmcpOiBUeXBlRGF0YSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdGllczogbmV3IFNldDxDb21wb25lbnQ+KCksXG4gICAgICAgICAgICB9IGFzIFR5cGVEYXRhO1xuICAgICAgICAgICAgdGhpcy5kYXRhQnlUeXBlLnNldCh0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBoYXNDb21wb25lbnRUeXBlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGRhdGEuZW50aXRpZXMuc2l6ZSA+IDA7XG4gICAgfVxuXG4gICAgaGFzRXZlcnlvbmVUeXBlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gdGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemU7XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByaXZhdGUodGFyZ2V0OiBhbnksIGZpbHRlcjogYW55KTogYW55IHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGZpbHRlcikge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gZmlsdGVyW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBiaUZpbHRlck9iaih0YXJnZXQ6IGFueSwgZmlsdGVyOiBhbnkpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGZpbHRlcikge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHRhcmdldFtuYW1lXSAhPT0gZmlsdGVyW25hbWVdKSB7XG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgbmFtZSBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmIChmaWx0ZXJbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7YXBwfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IFRFWFRfVFlQRSA9ICd0ZXh0JztcbmV4cG9ydCB0eXBlIFRFWFRfVFlQRSA9IHR5cGVvZiBURVhUX1RZUEU7XG5leHBvcnQgY2xhc3MgVGV4dFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgbmFtZSA9IFRFWFRfVFlQRTtcbiAgICBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcblxuICAgIHRleHRMYXllcjogUElYSS5kaXNwbGF5LkxheWVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGV4dExheWVyID0gbmV3IFBJWEkuZGlzcGxheS5MYXllcigpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuVEVYVDtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIGFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLnRleHRMYXllcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIFBJWElfQk9BUkRfVFlQRSxcbiAgICBQb2ludGVyQ2xpY2tFdmVudCxcbiAgICBQb2ludGVyRG93bkV2ZW50LFxuICAgIFBvaW50ZXJFdmVudHMsXG4gICAgUG9pbnRlck1vdmVFdmVudCxcbiAgICBQb2ludGVyUmlnaHREb3duRXZlbnQsXG4gICAgUG9pbnRlclJpZ2h0VXBFdmVudCxcbiAgICBQb2ludGVyVXBFdmVudFxufSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRX0gZnJvbSBcIi4vc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7SW5zcGVjdFRvb2xEcml2ZXJ9IGZyb20gXCIuLi90b29scy9pbnNwZWN0XCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xEcml2ZXIge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblxuICAgIGluaXRpYWxpemU/KCk6IHZvaWQ7XG4gICAgZGVzdHJveT8oKTogdm9pZDtcblxuICAgIG9uU3RhcnQ/KCk6IHZvaWQ7XG4gICAgb25FbmQ/KCk6IHZvaWQ7XG5cbiAgICBvblBvaW50ZXJNb3ZlPyhldmVudDogUG9pbnRlck1vdmVFdmVudCk6IHZvaWQ7XG4gICAgb25Qb2ludGVyRG93bj8oZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpOiB2b2lkO1xuICAgIG9uUG9pbnRlclVwPyhldmVudDogUG9pbnRlclVwRXZlbnQpOiB2b2lkO1xuICAgIG9uUG9pbnRlclJpZ2h0RG93bj8oZXZlbnQ6IFBvaW50ZXJSaWdodERvd25FdmVudCk6IHZvaWQ7XG4gICAgb25Qb2ludGVyUmlnaHRVcD8oZXZlbnQ6IFBvaW50ZXJSaWdodFVwRXZlbnQpOiB2b2lkO1xuICAgIG9uUG9pbnRlckNsaWNrPyhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBUT09MX1RZUEU7XG4gICAgX3NhdmU6IHRydWU7XG4gICAgX3N5bmM6IGZhbHNlO1xuXG4gICAgdG9vbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFRPT0xfVFlQRSA9ICd0b29sJztcbmV4cG9ydCB0eXBlIFRPT0xfVFlQRSA9IHR5cGVvZiBUT09MX1RZUEU7XG5leHBvcnQgY2xhc3MgVG9vbFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRPT0xfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbU0VMRUNUSU9OX1RZUEVdO1xuICAgIHJlYWRvbmx5IG9wdGlvbmFsRGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRV07XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIHN0YW5kYXJkVG9vbDogVG9vbCA9IFRvb2wuSU5TUEVDVDtcbiAgICB0b29scyA9IG5ldyBNYXA8c3RyaW5nLCBUb29sRHJpdmVyPigpO1xuICAgIGN1cnJlbnRUb29sPzogVG9vbERyaXZlcjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHtcbiAgICAgICAgICAgIHR5cGU6IFRPT0xfVFlQRSxcbiAgICAgICAgICAgIF9zYXZlOiB0cnVlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuXG4gICAgICAgICAgICB0b29sOiB1bmRlZmluZWQsXG4gICAgICAgIH0gYXMgVG9vbFJlc291cmNlKTtcblxuICAgICAgICBjb25zdCBldmVudHMgPSB3b3JsZC5ldmVudHM7XG4gICAgICAgIGV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcblxuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX01PVkUsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9VUCwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfUklHSFRfRE9XTiwgdGhpcy5vblBvaW50ZXJSaWdodERvd24sIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX1JJR0hUX1VQLCB0aGlzLm9uUG9pbnRlclJpZ2h0VXAsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX0NMSUNLLCB0aGlzLm9uUG9pbnRlckNsaWNrLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmFkZFRvb2wobmV3IEluc3BlY3RUb29sRHJpdmVyKHdvcmxkKSk7XG4gICAgfVxuXG4gICAgYWRkVG9vbCh0b29sOiBUb29sRHJpdmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMudG9vbHMuc2V0KHRvb2wubmFtZSwgdG9vbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHI6IFJlc291cmNlLCBlZGl0ZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoci50eXBlID09PSBUT09MX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjdCA9IHIgYXMgVG9vbFJlc291cmNlO1xuXG4gICAgICAgICAgICBsZXQgdG9vbE5hbWUgPSBjdC50b29sIHx8IHRoaXMuc3RhbmRhcmRUb29sO1xuXG4gICAgICAgICAgICBsZXQgdG9vbCA9IHRoaXMudG9vbHMuZ2V0KHRvb2xOYW1lKTtcbiAgICAgICAgICAgIGlmICh0b29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnJlZ2lzdGVyZWQgdG9vbCByZXF1ZXN0ZWQ6IFwiICsgY3QudG9vbCk7XG4gICAgICAgICAgICAgICAgdG9vbCA9IHRoaXMudG9vbHMuZ2V0KHRoaXMuc3RhbmRhcmRUb29sKSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b29sID09PSB0aGlzLmN1cnJlbnRUb29sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoYW5naW5nIHRvb2wgZnJvbSBcIiArICh0aGlzLmN1cnJlbnRUb29sPy5uYW1lIHx8ICdub25lJykgICsgXCIgdG8gXCIgKyB0b29sLm5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25FbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wub25FbmQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbCA9IHRvb2w7XG4gICAgICAgICAgICBpZiAodG9vbC5vblN0YXJ0ICE9PSB1bmRlZmluZWQpIHRvb2wub25TdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJNb3ZlKGU6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlck1vdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJNb3ZlKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJEb3duKGU6IFBvaW50ZXJEb3duRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlckRvd24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJEb3duKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJVcChlOiBQb2ludGVyVXBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyVXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJVcChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb2ludGVyUmlnaHREb3duKGU6IFBvaW50ZXJSaWdodERvd25FdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyUmlnaHREb3duICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyUmlnaHREb3duKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJSaWdodFVwKGU6IFBvaW50ZXJSaWdodFVwRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRUb29sLm9uUG9pbnRlclJpZ2h0VXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJSaWdodFVwKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJDbGljayhlOiBQb2ludGVyQ2xpY2tFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VG9vbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFRvb2wub25Qb2ludGVyQ2xpY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5vblBvaW50ZXJDbGljayhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgdG9vbCBvZiB0aGlzLnRvb2xzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAodG9vbC5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHRvb2wuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICAgICAgdG9vbDogdGhpcy5zdGFuZGFyZFRvb2wsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IHRvb2wgb2YgdGhpcy50b29scy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHRvb2wuZGVzdHJveSAhPT0gdW5kZWZpbmVkKSB0b29sLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnQsIFZpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7YXJyYXlSZW1vdmVFbGVtfSBmcm9tIFwiLi4vLi4vdXRpbC9hcnJheVwiO1xuaW1wb3J0IHtcbiAgICBJTlRFUkFDVElPTl9UWVBFLFxuICAgIEludGVyYWN0aW9uQ29tcG9uZW50LFxuICAgIEludGVyYWN0aW9uU3lzdGVtLFxuICAgIHNoYXBlQ2lyY2xlLFxuICAgIHNoYXBlSW50ZXJzZWN0LFxuICAgIHNoYXBlUG9seWdvblxufSBmcm9tIFwiLi9pbnRlcmFjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1NUQU5EQVJEX0dSSURfT1BUSU9OU30gZnJvbSBcIi4uLy4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuXG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0FXQVJFX1RZUEUgPSAndmlzaWJpbGl0eV9hd2FyZSc7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX0FXQVJFX1RZUEUgPSAndmlzaWJpbGl0eV9hd2FyZSc7XG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9BV0FSRV9UWVBFO1xuICAgIHZpc2libGVCeTogbnVtYmVyW107XG4gICAgaXNXYWxsOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KGlzV2FsbDogYm9vbGVhbiA9IGZhbHNlKTogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBWSVNJQklMSVRZX0FXQVJFX1RZUEUsXG4gICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgIHZpc2libGVCeTogW10sXG4gICAgICAgIGlzV2FsbCxcbiAgICB9IGFzIFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudDtcbn1cblxuXG5leHBvcnQgY2xhc3MgVmlzaWJpbGl0eUF3YXJlU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gVklTSUJJTElUWV9BV0FSRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtWSVNJQklMSVRZX1RZUEUsIElOVEVSQUNUSU9OX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSB2aXNpYmlsaXR5U3lzOiBWaXNpYmlsaXR5U3lzdGVtO1xuICAgIHByaXZhdGUgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudD4oVklTSUJJTElUWV9BV0FSRV9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnRzOlxuICAgICAqIGF3YXJlX3VwZGF0ZShjb21wb25lbnQsIGFkZGVkLCByZW1vdmVkKVxuICAgICAqICAgQ2FsbGVkIHdoZW4gYSBWaXNpYmlsaXR5QXdhcmUgZW50aXR5IGlzIHVwZGF0ZWRcbiAgICAgKiAgIHdoeSBjYW4ndCB3ZSBkbyB0aGlzIHdpdGggYSBub3JtYWwgY29tcG9uZW50X2VkaXQgZXZlbnQ/XG4gICAgICogICBJdCdzIGVhc2llciBub3QgdG8gYnVpbGQgY29tcG9uZW50IGRpZmZzLlxuICAgICAqICAgSWYgeW91IHdhbnQgdG8gdHJhY2sgb2xkIHZhbHVlcyBkbyBpdCBvbiB5b3VyIG93bi5cbiAgICAgKi9cbiAgICBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnZpc2liaWxpdHlTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eVN5c3RlbTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZpc2liaWxpdHlDaGFuZ2Uodmlld2VyOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBwb2x5Z29uOiBudW1iZXJbXSB8IHVuZGVmaW5lZCwgcmFuZ2U6IG51bWJlcik6IHZvaWQge1xuICAgICAgICByYW5nZSAqPSB0aGlzLmdyaWRTaXplO1xuICAgICAgICBpZiAocG9seWdvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBQbGF5ZXIgdmlzaWJpbGl0eSBudWxsXG4gICAgICAgICAgICBsZXQgb2xkQ2FuU2VlID0gdmlld2VyLl9jYW5TZWU7XG4gICAgICAgICAgICB2aWV3ZXIuX2NhblNlZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBvbGRDYW5TZWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh4KTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZENhblNlZSA9IHZpZXdlci5fY2FuU2VlO1xuICAgICAgICB2aWV3ZXIuX2NhblNlZSA9IFtdO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuICAgICAgICBsZXQgaW50ZXJTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxJbnRlcmFjdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCB2aWV3ZXJQb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh2aWV3ZXIuZW50aXR5KSE7XG5cbiAgICAgICAgbGV0IHZpZXdlclBvbHkgPSBzaGFwZVBvbHlnb24ocG9seWdvbik7XG4gICAgICAgIGxldCB2aWV3ZXJDaXJjbGUgPSBzaGFwZUNpcmNsZSh2aWV3ZXJQb3MsIHJhbmdlKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBvbGQgYXdhcmVzIGNhbiBzdGlsbCBiZSBzZWVuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygb2xkQ2FuU2VlKSB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBpbnRlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpIS5zaGFwZTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlSW50ZXJzZWN0KHZpZXdlclBvbHksIHNoYXBlKSAmJiBzaGFwZUludGVyc2VjdCh2aWV3ZXJDaXJjbGUsIHNoYXBlKSkge1xuICAgICAgICAgICAgICAgIHZpZXdlci5fY2FuU2VlLnB1c2goaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpITtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIHJlbW92ZSB0YXJnZXQuZW50aXR5IGZyb20gcGxheWVyLl9jYW5TZWUgYXMgaXQncyBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh0YXJnZXQudmlzaWJsZUJ5LCB2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFtdLCBbdmlld2VyLmVudGl0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHZpZXdlclBvbHksIGMgPT4ge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuICB0YXJnZXQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuaXNXYWxsICE9PSB0cnVlICYmIG9sZENhblNlZS5pbmRleE9mKGMuZW50aXR5KSA9PT0gLTE7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGl0ZXIpIHtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IGludGVyU3RvcmFnZS5nZXRDb21wb25lbnQoZS5lbnRpdHkpIS5zaGFwZTtcbiAgICAgICAgICAgIGlmICghc2hhcGVJbnRlcnNlY3Qodmlld2VyQ2lyY2xlLCBzaGFwZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlLmVudGl0eSkhO1xuICAgICAgICAgICAgdmlld2VyLl9jYW5TZWUucHVzaChlLmVudGl0eSk7XG4gICAgICAgICAgICB0YXJnZXQudmlzaWJsZUJ5LnB1c2godmlld2VyLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCB0YXJnZXQsIFt2aWV3ZXIuZW50aXR5XSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2aXNpYmxlRWxlbWVudE1vdmUoYXdhcmU6IFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYXdhcmUuaXNXYWxsID09PSB0cnVlKSByZXR1cm47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChhd2FyZS5lbnRpdHkpITtcbiAgICAgICAgbGV0IHNoYXBlID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGF3YXJlLmVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpLnNoYXBlO1xuXG4gICAgICAgIGxldCBvbGRWaXNpYmxlQnkgPSBhd2FyZS52aXNpYmxlQnk7XG4gICAgICAgIGF3YXJlLnZpc2libGVCeSA9IFtdO1xuXG4gICAgICAgIGxldCBhZGRlZCA9IFtdO1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IFtdO1xuXG4gICAgICAgIC8vIFNlYXJjaCBmb3IgbmV3IHBsYXllcnNcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnZpc2liaWxpdHlTeXMuYWFiYlRyZWUucXVlcnkoQWFiYi5mcm9tUG9pbnQocG9zKSkpIHtcbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSBwLnRhZyEuZW50aXR5O1xuICAgICAgICAgICAgbGV0IHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQgfHwgb2xkVmlzaWJsZUJ5LmluZGV4T2YoZW50aXR5KSAhPT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgcHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBpZiAoIXNoYXBlSW50ZXJzZWN0KHNoYXBlQ2lyY2xlKHBwb3MsIHJhbmdlKSwgc2hhcGUpIHx8ICFzaGFwZUludGVyc2VjdChzaGFwZSwgc2hhcGVQb2x5Z29uKHAudGFnPy5wb2x5Z29uISkpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdmlzLl9jYW5TZWUucHVzaChhd2FyZS5lbnRpdHkpO1xuICAgICAgICAgICAgYXdhcmUudmlzaWJsZUJ5LnB1c2godmlzLmVudGl0eSk7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHZpcy5lbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG9sZCBwbGF5ZXJzXG4gICAgICAgIGZvciAobGV0IHAgb2Ygb2xkVmlzaWJsZUJ5KSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgbGV0IHBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwKSE7XG4gICAgICAgICAgICBsZXQgcHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHApITtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgICAgICBpZiAoc2hhcGVJbnRlcnNlY3Qoc2hhcGVDaXJjbGUocHBvcywgcmFuZ2UpLCBzaGFwZSkgJiYgc2hhcGVJbnRlcnNlY3Qoc2hhcGUsIHNoYXBlUG9seWdvbihwdmlzLnBvbHlnb24hKSkpIHtcbiAgICAgICAgICAgICAgICBhd2FyZS52aXNpYmxlQnkucHVzaChwKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byByZW1vdmUgZS5fdmlzaWJsZUJ5IGFzIGl0J3MgYWxyZWFkeSBiZWVuIGNsZWFyZWRcbiAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh2aXMuX2NhblNlZSwgYXdhcmUuZW50aXR5KTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaCh2aXMuZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGRlZC5sZW5ndGggKyByZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIGF3YXJlLCBhZGRlZCwgcmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVmlld0Jsb2NrZXJFZGl0ZWQodmlld2VyOiBWaXNpYmlsaXR5Q29tcG9uZW50LCBuZXdXYWxsczogbnVtYmVyW10sIG9sZFdhbGxzPzogbnVtYmVyW10pIHtcbiAgICAgICAgb2xkV2FsbHMgPSBvbGRXYWxscyB8fCBbXTtcbiAgICAgICAgaWYgKG5ld1dhbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUGxheWVyIHZpc2liaWxpdHkgbnVsbFxuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiBvbGRXYWxscykge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHgpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbW1vbldhbGxzID0gW107XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJXQUxMIFVQREFURSwgb2xkOiBcIiArIG9sZFdhbGxzICsgXCIgbmV3OiBcIiArIG5ld1dhbGxzKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBvbGQgYXdhcmVzIGNhbiBzdGlsbCBiZSBzZWVuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygb2xkV2FsbHMpIHtcbiAgICAgICAgICAgIGlmIChuZXdXYWxscy5pbmRleE9mKGkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8ID1cIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbW1vbldhbGxzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgJVwiICsgaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCAtXCIgKyB0YXJnZXQuZW50aXR5KTtcblxuICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbXSwgW3ZpZXdlci5lbnRpdHldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGUgb2YgbmV3V2FsbHMpIHtcbiAgICAgICAgICAgIGlmIChjb21tb25XYWxscy5pbmRleE9mKGUpICE9PSAtMSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgXlwiICsgZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCArXCIgKyB0YXJnZXQuZW50aXR5KTtcblxuICAgICAgICAgICAgdGFyZ2V0LnZpc2libGVCeS5wdXNoKHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbdmlld2VyLmVudGl0eV0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudE1vdmUoY29tcCBhcyBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcblxuICAgICAgICAgICAgaWYgKCdwb2x5Z29uJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlKHZpcywgdmlzLnBvbHlnb24sIHZpcy5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ19jYW5TZWVXYWxscycgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25WaWV3QmxvY2tlckVkaXRlZCh2aXMsIHZpcy5fY2FuU2VlV2FsbHMhLCBjaGFuZ2VkLndhbGxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBPU0lUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXNBd2FyZSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpc0F3YXJlID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudE1vdmUodmlzQXdhcmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlKHZpcywgdW5kZWZpbmVkLCAwKTtcbiAgICAgICAgICAgIHRoaXMub25WaWV3QmxvY2tlckVkaXRlZCh2aXMsIFtdLCB2aXMuX2NhblNlZVdhbGxzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZhID0gY29tcCBhcyBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQ7XG4gICAgICAgICAgICB2YS52aXNpYmxlQnlcbiAgICAgICAgICAgIGxldCB2aXNTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFZpc2liaWxpdHlDb21wb25lbnQ+O1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiB2YS52aXNpYmxlQnkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuICAgICAgICAgICAgICAgIGFycmF5UmVtb3ZlRWxlbSh2aXMuX2NhblNlZSwgdmEuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUgJiYgJ3NpemUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBjYXJlLCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29ucyB3aWxsIGNoYW5nZSBvbiB0aGVpciBvd25cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7Q29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtEeW5hbWljVHJlZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2R5bmFtaWNUcmVlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7Y29tcHV0ZVZpZXdwb3J0fSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvdmlzaWJpbGl0eVBvbHlnb25cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgTGluZVNoYXBlLFxuICAgIHNoYXBlQWFiYixcbiAgICBzaGFwZVRvQWFiYixcbiAgICBTaGFwZVR5cGVcbn0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcblxuXG5leHBvcnQgY29uc3QgVklTSUJJTElUWV9UWVBFID0gJ3Zpc2liaWxpdHknO1xuZXhwb3J0IHR5cGUgVklTSUJJTElUWV9UWVBFID0gJ3Zpc2liaWxpdHknO1xuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBWSVNJQklMSVRZX1RZUEU7XG4gICAgcmFuZ2U6IG51bWJlcjsvLyBJbiBncmlkcyAoYnkgZGVmYXVsdCAxIGdyaWQgPSAxMjggcGl4ZWxzKVxuICAgIHRyYWNrV2FsbHM6IGJvb2xlYW47XG4gICAgcG9seWdvbj86IG51bWJlcltdO1xuICAgIGFhYmI/OiBBYWJiO1xuICAgIF9hYWJiVHJlZUlkPzogbnVtYmVyO1xuICAgIF9jYW5TZWU6IG51bWJlcltdOy8vIFZpc2liaWxpdHkgYXdhcmUgY29tcG9uZW50c1xuICAgIF9jYW5TZWVXYWxscz86IG51bWJlcltdO1xufVxuXG5leHBvcnQgY29uc3QgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUgPSAndmlzaWJpbGl0eV9ibG9ja2VyJztcbmV4cG9ydCB0eXBlIFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFID0gJ3Zpc2liaWxpdHlfYmxvY2tlcic7XG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlCbG9ja2VyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRTtcbn1cblxuXG4vKipcbiAqIFBsZWFzZSBkb24ndCBzdGljayBhIHZpc2liaWxpdHkgY29tcG9uZW50IHRvIGFuIGVudGl0eSB3aXRoIGEgd2FsbCBjb21wb25lbnQgKG9yIHZpY2UtdmVyc2EpLFxuICogdGhleSBkb24ndCBnbyBhbG9uZyB0b2dldGhlciB0b28gbXVjaCwgZm9yIGEgbG90IG9mIHJlYXNvbnMuXG4gKlxuICogVGhpcyBzeXN0ZW0gcXVlcmllcyBldmVyeSBlbnRpdHkgd2l0aCBhIFZpc2liaWxpdHlDb21wb25lbnQgYW5kIGtlZXBzIGl0IHVwZGF0ZWQsIGJ5IHRoYXQgSSBtZWFuOlxuICogLSBSZWNvbXB1dGUgdGhlIHZpc2liaWxpdHkgcG9seWdvbiB3aGVuIHRoZSByYW5nZSBjaGFuZ2VzXG4gKiAtIFJlY29tcHV0ZSB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIHdoZW4gdGhlIHdhbGxzIGNoYW5nZVxuICpcbiAqIExpdHRsZSBub3RlIG9uIHZpc2liaWxpdHkgcG9seWdvbiBhbGdvcml0aG1zOlxuICogR2VuZXJhbCBwb2x5Z29ucyBhcmUgYSBtZXNzIHRvIGRlYWwgd2l0aCwgYnV0IHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gaXMgYSBiaXQgZWFzaWVyIHRoYW4gbW9zdC5cbiAqIFNpbmNlIHRoZXJlIGFyZSBubyBwb3J0YWxzIG5vciBtaXJyb3JzIGluIHRoZSBnYW1lICh5ZXQhKSBlYWNoIHBvaW50IGluIHRoZSBwb2x5Z29uIGlzIHZpc2libGUgZnJvbSB0aGUgY2VudGVyLlxuICogSG93IGNhbiB0aGlzIHByb3BlcnR5IGhlbHAgaW4gYW55IHdheT8gTGV0IG1lIG1ha2UgYW4gZXhhbXBsZTpcbiAqIFdlIGNhbiBlYXNpbHkgY29tcHV0ZSBpZiBhIHBvaW50IGlzIGluc2lkZSBvZiB0aGlzIHBvbHlnb24gYnkgZG9pbmcgYSBiaW5hcnkgc2VhcmNoIG9uIHRoZSBhbmdsZXMsIHNvIHRoZSBhbGdvcml0aG1cbiAqIGJlY29tZXMgb2YgY29tcGxleGl0eSBPKGxvZyhuKSkgd2hlcmUgbiBhcmUgdGhlIHBvbHlnb24gcG9pbnRzLlxuICogQW5vdGhlciBwcm9wZXJ0eSB0aGF0IEknbSB1c2luZyBpcyB0aGF0IGEgdmlzaWJpbGl0eSBwb2x5Z29uIGlzIG11Y2ggZWFzaWVyIHRvIHRyaWFuZ3VsYXRlIVxuICogQ3V0IG9mZiBhbGwgdGhvc2UgZWFyIGN1dHRpbmcgYWxnb3JpdGhtcywganVzdCBtYWtlIHRyaWFuZ2xlcyBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIhXG4gKi9cbmV4cG9ydCBjbGFzcyBWaXNpYmlsaXR5U3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gVklTSUJJTElUWV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtJTlRFUkFDVElPTl9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5Q29tcG9uZW50PihWSVNJQklMSVRZX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG4gICAgYmxvY2tlclN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5QmxvY2tlcj4oVklTSUJJTElUWV9CTE9DS0VSX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBpbnRlcmFjdGlvblN5c3RlbTogSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgZ3JpZFNpemU6IG51bWJlcjtcbiAgICBhYWJiVHJlZSA9IG5ldyBEeW5hbWljVHJlZTxWaXNpYmlsaXR5Q29tcG9uZW50PigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN5c3RlbSA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgdGhpcy5ncmlkU2l6ZSA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlID8/IFNUQU5EQVJEX0dSSURfT1BUSU9OUykuc2l6ZTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5ibG9ja2VyU3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlZCcsIHRoaXMub25Db21wb25lbnRSZW1vdmVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlVHJlZVBvbHlnb24oYzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy5fYWFiYlRyZWVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFhYmJUcmVlLmRlc3Ryb3lQcm94eShjLl9hYWJiVHJlZUlkKTtcbiAgICAgICAgICAgIGMuX2FhYmJUcmVlSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQb2x5Z29uKGM6IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgLy8gSWdub3JlIGlmIGl0J3MgaGlkZGVuLlxuICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gV2Ugd2lsbCByZWNyZWF0ZSBpdCBsYXRlciAoaWYgbmVjZXNzYXJ5KVxuICAgICAgICB0aGlzLnJlbW92ZVRyZWVQb2x5Z29uKGMpO1xuXG4gICAgICAgIGlmIChjLnJhbmdlIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgYy50eXBlLCB7XG4gICAgICAgICAgICAgICAgcG9seWdvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHBvbHlnb25BYWJiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgYWFiYjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmFuZ2UgPSBjLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcblxuICAgICAgICBsZXQgdmlld3BvcnQgPSBuZXcgQWFiYihwb3MueCAtIHJhbmdlLCBwb3MueSAtIHJhbmdlLCBwb3MueCArIHJhbmdlLCBwb3MueSArIHJhbmdlKTtcblxuICAgICAgICBsZXQgbGluZXMgPSBuZXcgQXJyYXk8TGluZT4oKTtcbiAgICAgICAgbGV0IGJsb2NrZXJJZHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuXG4gICAgICAgIGxldCBxdWVyeSA9IHRoaXMuaW50ZXJhY3Rpb25TeXN0ZW0ucXVlcnkoc2hhcGVBYWJiKHZpZXdwb3J0KSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBsZXQgcyA9IGVudHJ5LnNoYXBlO1xuICAgICAgICAgICAgaWYgKHMudHlwZSAhPT0gU2hhcGVUeXBlLkxJTkUpIHRocm93ICdPbmx5IGxpbmUgaXMgc3VwcG9ydGVkIGFzIGxpZ2h0IGJsb2NrZXIgc2hhcGUnXG4gICAgICAgICAgICBsaW5lcy5wdXNoKChzIGFzIExpbmVTaGFwZSkuZGF0YSk7XG4gICAgICAgICAgICBibG9ja2VySWRzLnB1c2goZW50cnkuZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlZEJsb2NrZXJzO1xuICAgICAgICBpZiAoYy50cmFja1dhbGxzID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1c2VkQmxvY2tlcnMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlZEJsb2NrZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwb2x5Z29uID0gY29tcHV0ZVZpZXdwb3J0KGxpbmVzLCB2aWV3cG9ydCwgcG9zLCB1c2VkQmxvY2tlcnMpO1xuXG4gICAgICAgIC8vIFJlY3ljbGUgdGhlIHVudXNlZCB2aWV3cG9ydCBvYmplY3RcbiAgICAgICAgdmlld3BvcnQud3JhcFBvbHlnb24ocG9seWdvbik7XG5cbiAgICAgICAgaWYgKHVzZWRCbG9ja2VycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZWRCbG9ja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHVzZWRCbG9ja2Vyc1tpXSA9IGJsb2NrZXJJZHNbdXNlZEJsb2NrZXJzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgYy50eXBlLCB7XG4gICAgICAgICAgICBwb2x5Z29uLFxuICAgICAgICAgICAgYWFiYjogdmlld3BvcnQsXG4gICAgICAgICAgICBfY2FuU2VlV2FsbHM6IHVzZWRCbG9ja2VycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYy5fYWFiYlRyZWVJZCA9IHRoaXMuYWFiYlRyZWUuY3JlYXRlUHJveHkodmlld3BvcnQsIGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVjb21wdXRlQXJlYShhYWJiOiBBYWJiKSB7XG4gICAgICAgIGZvciAobGV0IG5vZGUgb2YgWy4uLnRoaXMuYWFiYlRyZWUucXVlcnkoYWFiYildKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24obm9kZS50YWchKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHYgPSBjIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICB2Ll9jYW5TZWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbih2KTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY21wID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGNtcC5zaGFwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSAmJiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKChjIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KS5zaGFwZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgLy8gQ29tcG9uZW50IGhpZGRlbiBpcyBsaWtlIGNvbXBvbmVudCBtaXNzaW5nLCB0aGV5IHdvbid0IGJlIGFibGUgdG8gc2VlIGEgdGhpbmdcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eSh2aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmxvID0gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGJsbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWaXNpYmlsaXR5QmxvY2tlcihibG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47XG4gICAgICAgIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCdyYW5nZScgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihjIGFzIFZpc2liaWxpdHlDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUE9TSVRJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKHZpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYmxrID0gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGJsayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGludGVyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYmxrLmVudGl0eSxJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoaW50ZXIuc2hhcGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IElOVEVSQUNUSU9OX1RZUEUgJiYgJ3NoYXBlJyBpbiBjaGFuZ2VzICYmIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgaSA9IGMgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihpLnNoYXBlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHkoYyBhcyBWaXNpYmlsaXR5Q29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVZpc2liaWxpdHlCbG9ja2VyKGMgYXMgVmlzaWJpbGl0eUJsb2NrZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSAmJiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGkgPSBjIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoaS5zaGFwZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgLy8gV2VsY29tZSB0byB0aGUgdmlzaWJsZSFcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbih2aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmxvID0gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGJsbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAoY21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGNtcC5zaGFwZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUgJiYgJ3NpemUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBldmVyeXRoaW5nIGluIHRoZSBuZXh0IHRpY2sgc28gdGhhdCBldmVyeW9uZSBzZWVzIHRoZSBjaGFuZ2VzIGZpcnN0XG4gICAgICAgICAgICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlVmlzaWJpbGl0eShjOiBWaXNpYmlsaXR5Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlVHJlZVBvbHlnb24oYyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVWaXNpYmlsaXR5QmxvY2tlcihjOiBWaXNpYmlsaXR5QmxvY2tlcikge1xuICAgICAgICBsZXQgY21wID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAoY21wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihjbXAuc2hhcGUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuXG4iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTH0gZnJvbSBcIi4uLy4uL3V0aWwvcGl4aVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBQb2ludH0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7aW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCwgbGluZVNhbWVTbG9wZSwgU2VnbWVudFZzU2VnbWVudFJlc30gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2NvbGxpc2lvblwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbSwgTGluZVNoYXBlLCBzaGFwZUFhYmIsIHNoYXBlTGluZX0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VklTSUJJTElUWV9CTE9DS0VSX1RZUEUsIFZpc2liaWxpdHlCbG9ja2VyfSBmcm9tIFwiLi92aXNpYmlsaXR5U3lzdGVtXCI7XG5pbXBvcnQge0VsZW1lbnRUeXBlLCBHUkFQSElDX1RZUEUsIEdyYXBoaWNDb21wb25lbnQsIExpbmVFbGVtZW50LCBWaXNpYmlsaXR5VHlwZX0gZnJvbSBcIi4uLy4uL2dyYXBoaWNzXCI7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbERyaXZlciwgVG9vbFN5c3RlbX0gZnJvbSBcIi4vdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtcbiAgICBQSVhJX0JPQVJEX1RZUEUsXG4gICAgUGl4aUJvYXJkU3lzdGVtLFxuICAgIFBvaW50ZXJDbGlja0V2ZW50LFxuICAgIFBvaW50ZXJNb3ZlRXZlbnQsXG4gICAgUG9pbnRlclJpZ2h0RG93bkV2ZW50XG59IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHsgZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5cbmV4cG9ydCBjb25zdCBXQUxMX1RZUEUgPSAnd2FsbCc7XG5leHBvcnQgdHlwZSBXQUxMX1RZUEUgPSAnd2FsbCc7XG5leHBvcnQgaW50ZXJmYWNlIFdhbGxDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFdBTExfVFlQRTtcbiAgICB2ZWM6IFBvaW50O1xuICAgIF9kb250TWVyZ2U6IG51bWJlcjtcbn1cblxuY29uc3QgU0VMRUNUSU9OX0NPTE9SID0gMHg3OTg2Q0I7XG5cbmV4cG9ydCBjbGFzcyBXYWxsU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gV0FMTF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtJTlRFUkFDVElPTl9UWVBFLCBHUkFQSElDX1RZUEUsIFRPT0xfVFlQRSwgU0VMRUNUSU9OX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IGludGVyYWN0aW9uU3lzOiBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcblxuICAgIHJlYWRvbmx5IHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxXYWxsQ29tcG9uZW50PihXQUxMX1RZUEUpO1xuXG4gICAgaXNUcmFuc2xhdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICAvLyBPbmx5IG1hc3RlcnMgY2FuIGNyZWF0ZSB3YWxsc1xuICAgICAgICBpZiAodGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgbGV0IHRvb2xTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChUT09MX1RZUEUpIGFzIFRvb2xTeXN0ZW07XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2wobmV3IENyZWF0ZVdhbGxUb29sRHJpdmVyKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCd0b29sX21vdmVfYmVnaW4nLCB0aGlzLm9uVG9vbE1vdmVCZWdpbiwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2VuZCcsIHRoaXMub25Ub29sTW92ZUVuZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgIT09IFdBTExfVFlQRSkgcmV0dXJuO1xuICAgICAgICBsZXQgd2FsbCA9IGNvbXBvbmVudCBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQod2FsbC5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZvdW5kIHdhbGwgd2l0aG91dCBwb3NpdGlvbiwgcGxlYXNlIGFkZCBmaXJzdCB0aGUgcG9zaXRpb24sIHRoZW4gdGhlIHdhbGxcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FsbC5fZG9udE1lcmdlID0gMDtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wb25lbnQuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTFcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcG9uZW50LmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5MSU5FLFxuICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5XQUxMLFxuICAgICAgICAgICAgICAgIHZlYzogeyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfSxcbiAgICAgICAgICAgIH0gYXMgTGluZUVsZW1lbnQsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlzV2FsbDogdHJ1ZSxcbiAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmaXhXYWxsUHJlVHJhbnNsYXRpb24od2FsbHM6IFdhbGxDb21wb25lbnRbXSkge1xuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICBsZXQgdmlzQmxvY2sgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSwgVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpc0Jsb2NrICE9PSB1bmRlZmluZWQpIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpc0Jsb2NrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoYXQgY2hhbmdlcyBoZXJlPyBhIGxpdHRsZSBiaXR0bGUgdGhpbmc6XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gdW5maXggdGhlIHdhbGwgKHJlbW92ZSB0aGUgaW50ZXJzZWN0aW9uIGJyZWFrcykuXG5cbiAgICAgICAgbGV0IHdhbGxfaW5kZXggPSBuZXcgTWFwPHN0cmluZywgV2FsbENvbXBvbmVudFtdPigpO1xuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGxldCBpbnNlcnRJbkluZGV4ID0gKGluZGV4OiBzdHJpbmcsIHdhbGw6IFdhbGxDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBsaXN0ID0gd2FsbF9pbmRleC5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICB3YWxsX2luZGV4LnNldChpbmRleCwgbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0LnB1c2god2FsbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgaWYgKHdhbGwuX2RvbnRNZXJnZSAhPT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQod2FsbC5lbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHAxID0gcG9zLnggKyBcIkBcIiArIHBvcy55O1xuICAgICAgICAgICAgbGV0IHAyID0gKHBvcy54ICsgd2FsbC52ZWNbMF0pICsgXCJAXCIgKyAocG9zLnkgKyB3YWxsLnZlY1sxXSk7XG5cbiAgICAgICAgICAgIGxldCB0cnlNZXJnZSA9IChpbmRleDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lcmdlV2l0aEluZGV4ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgbGV0IHdhbGxzID0gd2FsbF9pbmRleC5nZXQoaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdhbGxzID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCB3bGVuID0gd2FsbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvd2FsbCA9IHdhbGxzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZVNhbWVTbG9wZSh3YWxsLnZlY1swXSwgd2FsbC52ZWNbMV0sIG93YWxsLnZlY1swXSwgb3dhbGwudmVjWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VXaXRoSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobWVyZ2VXaXRoSW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbGV0IG13YWxsID0gd2FsbHNbbWVyZ2VXaXRoSW5kZXhdO1xuICAgICAgICAgICAgICAgIGxldCBtcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQobXdhbGwuZW50aXR5KSE7XG4gICAgICAgICAgICAgICAgbGV0IG1pbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHBvcy54O1xuICAgICAgICAgICAgICAgIGxldCB5ID0gcG9zLnk7XG4gICAgICAgICAgICAgICAgbGV0IGR4ID0gd2FsbC52ZWNbMF07XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0gd2FsbC52ZWNbMV07XG5cbiAgICAgICAgICAgICAgICBpZiAocDIgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgIHkgKz0gZHk7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gLWR4O1xuICAgICAgICAgICAgICAgICAgICBkeSA9IC1keTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobXBvcy54ID09PSB4ICYmIG1wb3MueSA9PT0geSkge1xuICAgICAgICAgICAgICAgICAgICBtcG9zLnggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgIG1wb3MueSArPSBkeTtcbiAgICAgICAgICAgICAgICAgICAgbWluQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbXdhbGwudmVjWzBdICs9IHdhbGwudmVjWzBdO1xuICAgICAgICAgICAgICAgICAgICBtd2FsbC52ZWNbMV0gKz0gd2FsbC52ZWNbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2FsbHMuc3BsaWNlKG1lcmdlV2l0aEluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBsZXQgcDtcbiAgICAgICAgICAgICAgICBpZiAobWluQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBwID0gbXBvcy54ICsgXCJAXCIgKyBtcG9zLnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IChtcG9zLnggKyBtd2FsbC52ZWNbMF0pICsgXCJAXCIgKyAobXBvcy55ICsgbXdhbGwudmVjWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwLCBtd2FsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5kZXNwYXduRW50aXR5KHdhbGwuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZHJhd1dhbGwobXdhbGwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodHJ5TWVyZ2UocDEpIHx8IHRyeU1lcmdlKHAyKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGluc2VydEluSW5kZXgocDEsIHdhbGwpO1xuICAgICAgICAgICAgaW5zZXJ0SW5JbmRleChwMiwgd2FsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaXhXYWxsUG9zdFRyYW5zbGF0aW9uKHdhbGxzOiBXYWxsQ29tcG9uZW50W10pIHtcbiAgICAgICAgLy8gUmVjb21wdXRlIGludGVyc2VjdGlvbnMgd2l0aCBvdGhlciB3YWxscy5cbiAgICAgICAgLy8gV2h5IG5vdCBhbGwgZXZlcnl0aGluZyBkaXJlY3RseT8gd2Ugd2FudCB0byBjb21wdXRlIGFsc28gdGhlIHNlbGYtaW50ZXJzZWN0aW9uc1xuXG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gW3Bvcy54LCBwb3MueSwgcG9zLnggKyB3YWxsLnZlY1swXSwgcG9zLnkgKyB3YWxsLnZlY1sxXV07XG4gICAgICAgICAgICB0aGlzLmZpeEludGVyc2VjdGlvbnMocG9pbnRzLCAwKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHBvcy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgICAgICBzaGFwZTogc2hhcGVMaW5lKG5ldyBMaW5lKHBvaW50c1swXSwgcG9pbnRzWzFdLCBwb2ludHNbMl0sIHBvaW50c1szXSkpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIHBvcy54ID0gcG9pbnRzWzBdO1xuICAgICAgICAgICAgICAgIHBvcy55ID0gcG9pbnRzWzFdO1xuICAgICAgICAgICAgICAgIHdhbGwudmVjWzBdID0gcG9pbnRzWzJdIC0gcG9zLng7XG4gICAgICAgICAgICAgICAgd2FsbC52ZWNbMV0gPSBwb2ludHNbM10gLSBwb3MueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWRyYXdXYWxsKHdhbGwpO1xuXG4gICAgICAgICAgICBsZXQgcGxlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgY0lkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDQ7IGkgPCBwbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBjSWRzLnB1c2godGhpcy5jcmVhdGVXYWxsKFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNbaSAtIDJdLCBwb2ludHNbaSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNbaV0sIHBvaW50c1tpICsgMV1cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyhjSWRzKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBvcHRpbWl6YXRpb24sIHVwZGF0ZSB0aGUgc2VsZWN0aW9uIG9ubHkgb25jZSFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudCh3YWxsLmVudGl0eSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidmlzaWJpbGl0eV9ibG9ja2VyXCIsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSAhPT0gV0FMTF9UWVBFICYmIGNvbXAudHlwZSAhPT0gUE9TSVRJT05fVFlQRSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB3YWxsLCBwb3NpdGlvbjtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gV0FMTF9UWVBFKSB7XG4gICAgICAgICAgICB3YWxsID0gY29tcCBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YWxsID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGNvbXAgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FsbCA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuaXNUcmFuc2xhdGluZykge1xuICAgICAgICAgICAgdGhpcy5maXhXYWxsUHJlVHJhbnNsYXRpb24oW3dhbGxdKTtcbiAgICAgICAgICAgIHRoaXMuZml4V2FsbFBvc3RUcmFuc2xhdGlvbihbd2FsbF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gV0FMTF9UWVBFICYmICd2ZWMnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3V2FsbCh3YWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVkcmF3V2FsbCh3YWxsOiBXYWxsQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBkaXNwbGF5ID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQpLmRpc3BsYXkgYXMgTGluZUVsZW1lbnQ7XG4gICAgICAgIGRpc3BsYXkudmVjID0geyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBHUkFQSElDX1RZUEUsIHtkaXNwbGF5fSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZmluZExvY2F0aW9uT25XYWxsKHBvaW50OiBQSVhJLlBvaW50LCByYWRpdXM6IG51bWJlcik6IFBJWEkuUG9pbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcG9pbnRzID0gdGhpcy5pbnRlcmFjdGlvblN5cy5xdWVyeShzaGFwZUFhYmIobmV3IEFhYmIoXG4gICAgICAgICAgICBwb2ludC54IC0gcmFkaXVzLCBwb2ludC55IC0gcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnQueCArIHJhZGl1cywgcG9pbnQueSArIHJhZGl1c1xuICAgICAgICApKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBiZXN0UG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBsZXQgYmVzdERpc3QgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgbGV0IHRtcFBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gKG5vZGUuc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFsaW5lLnByb2plY3RQb2ludChwb2ludCwgdG1wUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGlzdCA9IGRpc3RTcXVhcmVkMmQodG1wUG9pbnQueCwgdG1wUG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0IDwgYmVzdERpc3QgJiYgZGlzdCA8IHJhZGl1cykge1xuICAgICAgICAgICAgICAgIGJlc3RQb2ludC5jb3B5RnJvbSh0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgYmVzdERpc3QgPSBkaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlc3REaXN0ICE9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXN0UG9pbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgIT09IFdBTExfVFlQRSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB2YmxvY2tlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXBvbmVudC5lbnRpdHksIFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKTtcbiAgICAgICAgaWYgKHZibG9ja2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZibG9ja2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUJlZ2luKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSB0cnVlO1xuICAgICAgICBsZXQgd2FsbHMgPSBbLi4udGhpcy5zZWxlY3Rpb25TeXMuZ2V0U2VsZWN0ZWRCeVR5cGUoV0FMTF9UWVBFKV0gYXMgV2FsbENvbXBvbmVudFtdO1xuICAgICAgICB0aGlzLmZpeFdhbGxQcmVUcmFuc2xhdGlvbih3YWxscyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IHdhbGxzID0gWy4uLnRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKFdBTExfVFlQRSldIGFzIFdhbGxDb21wb25lbnRbXTtcbiAgICAgICAgdGhpcy5maXhXYWxsUG9zdFRyYW5zbGF0aW9uKHdhbGxzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcXVlcnlJbnRlcnNlY3Rpb25zKHBvc1g6IG51bWJlciwgcG9zWTogbnVtYmVyLCB2ZWNYOiBudW1iZXIsIHZlY1k6IG51bWJlcik6IG51bWJlcltdIHtcbiAgICAgICAgbGV0IHN0cmlwID0gW3Bvc1gsIHBvc1ksIHBvc1ggKyB2ZWNYLCBwb3NZICsgdmVjWV07XG4gICAgICAgIGxldCBpZHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICB0aGlzLmZpeEludGVyc2VjdGlvbnMoc3RyaXAsIDAsIHVuZGVmaW5lZCwgaWRzKTtcbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICB9XG5cbiAgICBmaXhJbnRlcnNlY3Rpb25zKHN0cmlwOiBudW1iZXJbXSwgc3RhcnQ6IG51bWJlciwgZW5kPzogbnVtYmVyLCB3YWxsSWRzPzogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICBsZXQgYWFiYiA9IG5ldyBBYWJiKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG5cbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBzdHJpcC5sZW5ndGggOiBlbmQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGFhYmIubWluWCA9IE1hdGgubWluKGFhYmIubWluWCwgc3RyaXBbaV0pO1xuICAgICAgICAgICAgYWFiYi5taW5ZID0gTWF0aC5taW4oYWFiYi5taW5ZLCBzdHJpcFtpICsgMV0pO1xuICAgICAgICAgICAgYWFiYi5tYXhYID0gTWF0aC5tYXgoYWFiYi5tYXhYLCBzdHJpcFtpXSk7XG4gICAgICAgICAgICBhYWJiLm1heFkgPSBNYXRoLm1heChhYWJiLm1heFksIHN0cmlwW2kgKyAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG1wTGluZSA9IG5ldyBMaW5lKDAsIDAsIDAsIDApO1xuICAgICAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiBxdWVyeSkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNoZWNraW5nIHdhbGw6IFwiLCB3YWxsLnRhZyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAyOyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLmZyb21YID0gc3RyaXBbaSAtIDJdO1xuICAgICAgICAgICAgICAgIHRtcExpbmUuZnJvbVkgPSBzdHJpcFtpIC0gMV07XG4gICAgICAgICAgICAgICAgdG1wTGluZS50b1ggPSBzdHJpcFtpXTtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLnRvWSA9IHN0cmlwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9ICh3YWxsLnNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCh0bXBMaW5lLCBsaW5lLCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb250aW51ZSBpZiB0aGUgaW50ZXJzZWN0aW9uIGlzIGluc2lkZSBvZiBib3RoIGxpbmVzIChub3Qgb24gdGhlIGVkZ2UpXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGluIHRoZSBzdHJpcFxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJGSVhJTkcgQVQ6IFwiICsgdG1wUG9pbnQueCArIFwiLCBcIiArIHRtcFBvaW50LnkpO1xuICAgICAgICAgICAgICAgIHN0cmlwLnNwbGljZShpLCAwLCB0bXBQb2ludC54LCB0bXBQb2ludC55KTtcbiAgICAgICAgICAgICAgICBpICs9IDI7Ly8gU2tpcCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgZW5kICs9IDI7XG4gICAgICAgICAgICAgICAgd2FsbElkcz8ucHVzaCh3YWxsLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9XG5cbiAgICBjcmVhdGVXYWxsKG1pblg6IG51bWJlciwgbWluWTogbnVtYmVyLCBtYXhYOiBudW1iZXIsIG1heFk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkLnNwYXduRW50aXR5KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBtaW5YLFxuICAgICAgICAgICAgICAgIHk6IG1pblksXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFdBTExfVFlQRSxcbiAgICAgICAgICAgICAgICB2ZWM6IFttYXhYIC0gbWluWCwgbWF4WSAtIG1pblldLFxuICAgICAgICAgICAgfSBhcyBXYWxsQ29tcG9uZW50LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVdhbGxUb29sRHJpdmVyIGltcGxlbWVudHMgVG9vbERyaXZlciB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuQ1JFQVRFX1dBTEw7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHN5czogV2FsbFN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBpeGlCb2FyZFN5czogUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgLy8gU3ByaXRlIG9mIHRoZSBwaW4gdG8gYmUgY3JlYXRlZFxuICAgIGNyZWF0ZWRJZHM6IG51bWJlcltdID0gW107XG4gICAgY3JlYXRlZExhc3RQb3M/OiBQb2ludDtcbiAgICBjcmVhdGVMYXN0TGluZURpc3BsYXk6IFBJWEkuR3JhcGhpY3M7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IFdhbGxTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMgPSBzeXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgfVxuXG4gICAgaW5pdENyZWF0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVuZENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgZW5kQ3JlYXRpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICB0aGlzLnN5cy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0aWVzKHRoaXMuY3JlYXRlZElkcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVkcmF3Q3JlYXRpb25MYXN0TGluZShwb3M6IFBJWEkuUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGcgPSB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheTtcbiAgICAgICAgZy5jbGVhcigpO1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRMYXN0UG9zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGcubW92ZVRvKHRoaXMuY3JlYXRlZExhc3RQb3NbMF0sIHRoaXMuY3JlYXRlZExhc3RQb3NbMV0pO1xuICAgICAgICAgICAgZy5saW5lU3R5bGUoNSwgU0VMRUNUSU9OX0NPTE9SKTtcbiAgICAgICAgICAgIGcubGluZVRvKHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cbiAgICAgICAgZy5saW5lU3R5bGUoMCk7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAwICYmIHRoaXMuY3JlYXRlZExhc3RQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZy5iZWdpbkZpbGwoMHhlNTEwMTApO1xuICAgICAgICAgICAgZy5kcmF3Q2lyY2xlKHRoaXMuY3JlYXRlZExhc3RQb3NbMF0sIHRoaXMuY3JlYXRlZExhc3RQb3NbMV0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBnLmJlZ2luRmlsbCgweDQwNUZGRSk7XG4gICAgICAgIGcuZHJhd0NpcmNsZShwb3MueCwgcG9zLnksIDEwKTtcbiAgICB9XG5cbiAgICBhZGRWZXJ0ZXgocG9pbnQ6IFBJWEkuUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGxwID0gdGhpcy5jcmVhdGVkTGFzdFBvcztcblxuICAgICAgICBpZiAobHAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgfSBlbHNlIGlmIChwb2ludC54ID09IGxwWzBdICYmIHBvaW50LnkgPT0gbHBbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb2ludHMgPSBbbHBbMF0sIGxwWzFdLCBwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgICAgIHRoaXMuc3lzLmZpeEludGVyc2VjdGlvbnMocG9pbnRzLCAwKTtcbiAgICAgICAgICAgIGxldCBwbGVuID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBwbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZWRJZHMucHVzaCh0aGlzLnN5cy5jcmVhdGVXYWxsKFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNbaSAtIDJdLCBwb2ludHNbaSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNbaSAgICBdLCBwb2ludHNbaSArIDFdXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5kb1ZlcnRleChwb2ludDogUElYSS5Qb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVkTGFzdFBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGFzdENyZWF0ZWQgPSB0aGlzLmNyZWF0ZWRJZHMucG9wKCkhO1xuXG4gICAgICAgICAgICBsZXQgd2FsbFBvcyA9IHRoaXMuc3lzLndvcmxkLmdldENvbXBvbmVudChsYXN0Q3JlYXRlZCwgUE9TSVRJT05fVFlQRSkhIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLnN5cy5zdG9yYWdlLmdldENvbXBvbmVudChsYXN0Q3JlYXRlZCkhO1xuXG4gICAgICAgICAgICBpZiAod2FsbFBvcy54ID09PSB0aGlzLmNyZWF0ZWRMYXN0UG9zWzBdICYmIHdhbGxQb3MueSA9PSB0aGlzLmNyZWF0ZWRMYXN0UG9zWzFdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgd2FsbFBvcy54ICsgd2FsbC52ZWNbMF0sXG4gICAgICAgICAgICAgICAgICAgIHdhbGxQb3MueSArIHdhbGwudmVjWzFdLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSBbXG4gICAgICAgICAgICAgICAgICAgIHdhbGxQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgd2FsbFBvcy55LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkobGFzdENyZWF0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWRyYXdDcmVhdGlvbkxhc3RMaW5lKHBvaW50KTtcbiAgICB9XG5cbiAgICBvblN0YXJ0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpIHtcbiAgICAgICAgbGV0IHBvaW50ID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLnN5cy53b3JsZCwgZXZlbnQpO1xuICAgICAgICB0aGlzLnJlZHJhd0NyZWF0aW9uTGFzdExpbmUocG9pbnQpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlckNsaWNrKGV2ZW50OiBQb2ludGVyQ2xpY2tFdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMuc3lzLndvcmxkLCBldmVudCk7XG4gICAgICAgIHRoaXMuYWRkVmVydGV4KHBvaW50KTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJSaWdodERvd24oZXZlbnQ6IFBvaW50ZXJSaWdodERvd25FdmVudCkge1xuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMuc3lzLndvcmxkLCBldmVudCk7XG4gICAgICAgIHRoaXMudW5kb1ZlcnRleChwb2ludCk7XG4gICAgfVxuXG4gICAgb25FbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW5kQ3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheS56SW5kZXggPSBEaXNwbGF5UHJlY2VkZW5jZS5XQUxMICsgMTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5hZGRDaGlsZCh0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheSk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLmJvYXJkLnNvcnRDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmRlc3Ryb3koREVTVFJPWV9BTEwpXG4gICAgfVxufSIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEUsIFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50LCBQb2ludGVyRG93bkV2ZW50LCBQb2ludGVyTW92ZUV2ZW50LCBQb2ludGVyVXBFdmVudH0gZnJvbSBcIi4uL3N5c3RlbXMvcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2xEcml2ZXJ9IGZyb20gXCIuLi9zeXN0ZW1zL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7ZmluZEVudGl0aWVzQXQsIGdldEJvYXJkUG9zRnJvbU9yaWdpbiwgZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbn0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4vdG9vbFR5cGVcIjtcblxuXG5leHBvcnQgY2xhc3MgSW5zcGVjdFRvb2xEcml2ZXIgaW1wbGVtZW50cyBUb29sRHJpdmVyIHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5JTlNQRUNUO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICBwcml2YXRlIGp1c3RTZWxlY3RlZDogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIGxhc3REb3duRW50aXRpZXM6IG51bWJlcltdID0gW107XG4gICAgcHJpdmF0ZSBpc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGNhbk1vdmVTZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgaXNNb3Zpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIG1vdmluZ1N0YXJ0ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICBwcml2YXRlIGxhc3RNb3ZlID0gbmV3IFBJWEkuUG9pbnQoKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgbGV0IGN0cmxQcmVzc2VkID0gISFldmVudC5kYXRhLm9yaWdpbmFsRXZlbnQuY3RybEtleTtcblxuICAgICAgICBsZXQgZW50aXRpZXMgPSB0aGlzLmxhc3REb3duRW50aXRpZXM7XG5cbiAgICAgICAgaWYgKGVudGl0aWVzLmxlbmd0aCA9PT0gMCAmJiAhY3RybFByZXNzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3RybFByZXNzZWQgJiYgZW50aXRpZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBsZXQgdG9SZW1vdmUgPSBbXVxuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuanVzdFNlbGVjdGVkLmluZGV4T2YoZW50aXR5KSAhPT0gLTEpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZS5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5yZW1vdmVFbnRpdGllcyh0b1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRG93bkV2ZW50KSB7XG4gICAgICAgIHRoaXMuaXNEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5qdXN0U2VsZWN0ZWQubGVuZ3RoID0gMDtcbiAgICAgICAgbGV0IHBvaW50ID0gZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luKHRoaXMud29ybGQsIGV2ZW50KTtcbiAgICAgICAgbGV0IGN0cmxQcmVzc2VkID0gISFldmVudC5kYXRhLm9yaWdpbmFsRXZlbnQuY3RybEtleTtcblxuICAgICAgICBsZXQgZW50aXRpZXMgPSBmaW5kRW50aXRpZXNBdCh0aGlzLndvcmxkLCBwb2ludCwgY3RybFByZXNzZWQpO1xuICAgICAgICB0aGlzLmxhc3REb3duRW50aXRpZXMgPSBlbnRpdGllcztcblxuICAgICAgICBpZiAodGhpcy5sYXN0RG93bkVudGl0aWVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoIWN0cmxQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eShlbnRpdGllc1swXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXM7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIHRoaXMubGFzdERvd25FbnRpdGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmp1c3RTZWxlY3RlZC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuYWRkRW50aXRpZXModGhpcy5qdXN0U2VsZWN0ZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiBiZXR0ZXIgbW92ZSBzeXN0ZW1cbiAgICAgICAgICAgIHRoaXMuY2FuTW92ZVNlbGVjdGVkID0gdGhpcy53b3JsZC5pc01hc3RlcjtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgbGV0IHBvaW50ID0gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih0aGlzLndvcmxkLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLm1vdmluZ1N0YXJ0LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdmUuc2V0KDAsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJVcEV2ZW50KSB7XG4gICAgICAgIHRoaXMuaXNEb3duID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ3Rvb2xfbW92ZV9lbmQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93biB8fCAhdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQgfHwgdGhpcy5sYXN0RG93bkVudGl0aWVzLmxlbmd0aCA9PT0gMCB8fCBldmVudC5jYW5CZWNvbWVDbGljaykgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgndG9vbF9tb3ZlX2JlZ2luJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9pbnQgPSBnZXRNYXBQb2ludEZyb21Nb3VzZUludGVyYWN0aW9uKHRoaXMud29ybGQsIGV2ZW50KTtcbiAgICAgICAgbGV0IGRpZmZYID0gcG9pbnQueCAtIHRoaXMubW92aW5nU3RhcnQueDtcbiAgICAgICAgbGV0IGRpZmZZID0gcG9pbnQueSAtIHRoaXMubW92aW5nU3RhcnQueTtcblxuICAgICAgICBsZXQgbW92ZVggPSBkaWZmWCAtIHRoaXMubGFzdE1vdmUueDtcbiAgICAgICAgbGV0IG1vdmVZID0gZGlmZlkgLSB0aGlzLmxhc3RNb3ZlLnk7XG4gICAgICAgIHRoaXMubGFzdE1vdmUuc2V0KGRpZmZYLCBkaWZmWSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLm1vdmVBbGwobW92ZVgsIG1vdmVZKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZW51bSBUb29sIHtcbiAgICBJTlNQRUNUPSAnaW5zcGVjdCcsXG4gICAgQ1JFQVRFX1dBTEwgPSAnY3JlYXRlX3dhbGwnLFxuICAgIENSRUFURV9QSU4gPSAnY3JlYXRlX3BpbicsXG4gICAgQ1JFQVRFX1BST1AgPSAnY3JlYXRlX3Byb3AnLFxuICAgIEdSSUQgPSAnZ3JpZCcsXG4gICAgTElHSFQgPSAnbGlnaHQnLFxuICAgIFBST1BfVEVMRVBPUlRfTElOSyA9ICdwcm9wX3RlbGVwb3J0X2xpbmsnLFxufVxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7UXVlcnlIaXRFdmVudH0gZnJvbSBcIi4uL2ludGVyYWN0aW9uXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7V0FMTF9UWVBFLCBXYWxsU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy93YWxsU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2xEcml2ZXJ9IGZyb20gXCIuLi9zeXN0ZW1zL3Rvb2xTeXN0ZW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFbnRpdGllc0F0KHdvcmxkOiBXb3JsZCwgcG9pbnQ6IFBJWEkuUG9pbnQsIG11bHRpOiBib29sZWFuKTogbnVtYmVyW10ge1xuICAgIGxldCBldmVudCA9IFF1ZXJ5SGl0RXZlbnQucXVlcnlQb2ludChwb2ludCwgbXVsdGkpO1xuXG4gICAgd29ybGQuZXZlbnRzLmVtaXQoJ3F1ZXJ5X2hpdCcsIGV2ZW50KTtcbiAgICByZXR1cm4gWy4uLmV2ZW50LmhpdHNdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luKHdvcmxkOiBXb3JsZCwgZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCwgb3JpZz86IFBJWEkuUG9pbnQpOiBQSVhJLlBvaW50IHtcbiAgICBsZXQgYm9hcmQgPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICByZXR1cm4gZXZlbnQuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKGJvYXJkLmJvYXJkLCBvcmlnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24od29ybGQ6IFdvcmxkLCBldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50LCBvcmlnPzogUElYSS5Qb2ludCk6IFBJWEkuUG9pbnQge1xuICAgIGxldCBwb2ludCA9IGdldEJvYXJkUG9zRnJvbU9yaWdpbih3b3JsZCwgZXZlbnQsIG9yaWcpO1xuXG4gICAgY29uc3QgaW50ZXJTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICBsZXQgbmVhcmVzdCA9IGludGVyU3lzLnNuYXBEYi5maW5kTmVhcmVzdChbcG9pbnQueCwgcG9pbnQueV0pO1xuICAgIGlmIChuZWFyZXN0ICE9PSB1bmRlZmluZWQgJiYgbmVhcmVzdFsxXSA8IDEwMCkge1xuICAgICAgICBwb2ludC5zZXQobmVhcmVzdFswXVswXSwgbmVhcmVzdFswXVsxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgd2FsbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFdBTExfVFlQRSkgYXMgV2FsbFN5c3RlbTtcbiAgICAgICAgbGV0IG9uV2FsbExvYyA9IHdhbGxTeXM/LmZpbmRMb2NhdGlvbk9uV2FsbChwb2ludCwgNTApO1xuICAgICAgICBpZiAob25XYWxsTG9jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvaW50LmNvcHlGcm9tKG9uV2FsbExvYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1wdHlEcml2ZXIobmFtZTogc3RyaW5nKTogVG9vbERyaXZlciB7XG4gICAgcmV0dXJuIG5ldyBFbXB0eVRvb2xEcml2ZXIobmFtZSk7XG59XG5cbmNsYXNzIEVtcHR5VG9vbERyaXZlciBpbXBsZW1lbnRzIFRvb2xEcml2ZXIge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbn1cbiIsIi8vIFdlbGNvbWUgdG8gdGhpcyB0YWxrLCBJJ2xsIHByZXNlbnQgdG8geW91OiBteSBzdHVwaWQgdmVyc2lvbiBvZiBFQ1MuXG4vLyBXaGF0IGFtIEkgdHJ5aW5nIHRvIHNvbHZlP1xuLy8gRXZlcnl0aGluZyBpbiB0aGUgbWFwIHdpbGwgbmVlZCB0byBob2xkIGluZm9ybWF0aW9uLCB0aGlzIG1pZ2h0IGJlIGEgcGxheWVyIGhvbGRpbmcgaW52ZW50b3J5IG9yIG1heWJlIGEgbW9uc3RlclxuLy8gaG9sZGluZyB0byBsaWZlcG9pbnRzIGFuZCBzdWNoLlxuLy8gV2hhdCdzIG1vcmU/IGV2ZXJ5IGVudGl0eSBtaWdodCBoYXZlIG11bHRpcGxlIG5hbWVzIGFuZCBvbmx5IHNvbWUgb2YgdGhlbSBtaWdodCBiZSBwdWJsaWNcbi8vIHNvIHdlIGFsc28gaGF2ZSBzb21ldGhpbmcgc2ltaWxhciB0byBhIFwibXVsdGlwbGUgY29tcG9uZW50XCIuXG5cbmltcG9ydCB7RWNzU3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7U3lzdGVtR3JhcGh9IGZyb20gXCIuL3N5c3RlbUdyYXBoXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4vc3lzdGVtXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5cblxuZXhwb3J0IHR5cGUgU2VyaWFsaXplZFdvcmxkID0ge1xuICAgIGVudGl0aWVzOiBudW1iZXJbXTtcbiAgICBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9O1xuICAgIHJlc291cmNlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBFY3NFbnRpdHlMaW5rZWQge1xuICAgIF9lY3NfZW50aXR5PzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBBbnlNYXBUeXBlID0ge1trZXk6IHN0cmluZ106IGFueX07XG5leHBvcnQgdHlwZSBNdWx0aUVkaXRUeXBlID0gQXJyYXk8e1xuICAgIHR5cGU6IHN0cmluZyxcbiAgICBjaGFuZ2VzOiBBbnlNYXBUeXBlLFxuICAgIG11bHRpSWQ/OiBudW1iZXIsXG4gICAgY2xlYXJDaGFuZ2VzPzogYm9vbGVhbixcbn0+O1xudHlwZSBNdWx0aUVkaXRUeXBlV29yayA9IE11bHRpRWRpdFR5cGUgJiBBcnJheTx7XG4gICAgX3NraXA/OiB0cnVlO1xuICAgIF9jb21wPzogQ29tcG9uZW50O1xufT47XG5cblxuZXhwb3J0IGNsYXNzIFdvcmxkIHtcbiAgICBzeXN0ZW1zID0gbmV3IFN5c3RlbUdyYXBoKCk7XG4gICAgc3RvcmFnZXMgPSBuZXcgTWFwPHN0cmluZywgRWNzU3RvcmFnZTxhbnk+PigpO1xuICAgIHN0b3JhZ2VMaXN0ID0gbmV3IEFycmF5PEVjc1N0b3JhZ2U8YW55Pj4oKTtcbiAgICBlbnRpdGllcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIHJlc291cmNlcyA9IG5ldyBNYXA8c3RyaW5nLCBSZXNvdXJjZT4oKTtcblxuICAgIHByaXZhdGUgc3lzdGVtc0ZpbmFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzRGVzZXJpYWxpemluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzTWFzdGVyOiBib29sZWFuO1xuXG4gICAgLy8gICAgICBFdmVudCBsaXN0OlxuICAgIC8vIGVudGl0eV9zcGF3bihpZClcbiAgICAvLyBlbnRpdHlfc3Bhd25lZChpZCkgLSBBZnRlciBhbiBlbnRpdHkgaXMgc3Bhd25lZFxuICAgIC8vIGVudGl0eV9kZXNwYXduKGlkKVxuICAgIC8vIGVudGl0eV9kZXNwYXduZWQoaWQpIC0gQWZ0ZXIgYW4gZW50aXR5IGlzIGRlc3Bhd25lZFxuICAgIC8vIGNvbXBvbmVudF9hZGQoY29tcG9uZW50KVxuICAgIC8vIGNvbXBvbmVudF9lZGl0KGNoYW5nZXMsIGNvbXBvbmVudCkgLSBCZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBlZGl0ZWRcbiAgICAvLyBjb21wb25lbnRfZWRpdGVkKGNvbXBvbmVudCwgY2hhbmdlcykgLSBBZnRlciB0aGUgY29tcG9uZW50IGlzIGVkaXRlZFxuICAgIC8vIGNvbXBvbmVudF9yZW1vdmUoY29tcG9uZW50KVxuICAgIC8vIGNvbXBvbmVudF9yZW1vdmVkKGNvbXBvbmVudClcbiAgICAvLyByZXNvdXJjZV9hZGQocmVzb3VyY2UpXG4gICAgLy8gcmVzb3VyY2VfYWRkZWQocmVzb3VyY2UpXG4gICAgLy8gcmVzb3VyY2VfZWRpdChvbGRSZXMsIG5ld1JlcylcbiAgICAvLyByZXNvdXJjZV9yZW1vdmUocmVzb3VyY2UpXG4gICAgLy8gcmVzb3VyY2VfcmVtb3ZlZChyZXNvdXJjZSlcbiAgICAvLyBjbGVhcigpXG4gICAgLy8gY2xlYXJlZCgpXG4gICAgLy8gc2VyaWFsaXplKClcbiAgICAvLyBzZXJpYWxpemVkKHJlcylcbiAgICAvLyBzZXJpYWxpemVfZW50aXR5KGVudGl0eSlcbiAgICAvLyBkZXNlcmlhbGl6ZShkYXRhKVxuICAgIC8vIGRlc2VyaWFsaXplZCgpXG4gICAgLy8gICAgICBFeHRlcm5hbCBldmVudHM6XG4gICAgLy8gcXVlcnlfaGl0KGV2ZW50OiBRdWVyeUhpdEV2ZW50KVxuICAgIC8vIHNlbGVjdGlvbl9iZWdpbihlbnRpdGllcylcbiAgICAvLyBzZWxlY3Rpb25fZW5kKGVudGl0aWVzKVxuICAgIC8vIHNlbGVjdGlvbl91cGRhdGUoKVxuICAgIC8vIHRvb2xfbW92ZV9iZWdpbigpXG4gICAgLy8gdG9vbF9tb3ZlX2VuZCgpXG4gICAgLy8gICAgICBUT0RPXG4gICAgLy8gYmF0Y2hfdXBkYXRlX2JlZ2luKClcbiAgICAvLyBiYXRjaF91cGRhdGVfZW5kKClcbiAgICBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3IoaXNNYXN0ZXI6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc01hc3RlciA9IGlzTWFzdGVyO1xuICAgIH1cblxuICAgIGdldFN0b3JhZ2UobmFtZTogc3RyaW5nKTogRWNzU3RvcmFnZTxDb21wb25lbnQ+IHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnN0b3JhZ2VzLmdldChuYW1lKTtcbiAgICAgICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBzdG9yYWdlIFwiICsgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICBzcGF3bkVudGl0eSguLi5jb21wb25lbnRzOiBBcnJheTxDb21wb25lbnQ+KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGlkID0gLTE7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuZW50aXRpZXMuaGFzKGlkKSlcblxuICAgICAgICB0aGlzLnNwYXduRW50aXR5TWFudWFsKGlkLCBjb21wb25lbnRzKTtcblxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgc3Bhd25FbnRpdHlNYW51YWwoaWQ6IG51bWJlciwgY29tcG9uZW50czogQXJyYXk8Q29tcG9uZW50Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmVudGl0aWVzLmFkZChpZCk7XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduJywgaWQpO1xuXG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcG9uZW50cykge1xuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoaWQsIGNvbXApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduZWQnLCBpZCk7XG4gICAgfVxuXG4gICAgZGVzcGF3bkVudGl0eShlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfZGVzcGF3bicsIGVudGl0eSk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0b3JhZ2VMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZUxpc3RbaV07XG4gICAgICAgICAgICBsZXQgY29tcHMgPSBbLi4uc3RvcmFnZS5nZXRDb21wb25lbnRzKGVudGl0eSldXG4gICAgICAgICAgICBpZiAoY29tcHMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmUnLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmFnZS51bnJlZ2lzdGVyQWxsT2YoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmVkJywgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVudGl0aWVzLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfZGVzcGF3bmVkJywgZW50aXR5KTtcbiAgICB9XG5cbiAgICBhZGRTeXN0ZW0oc3lzdGVtOiBTeXN0ZW0pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0ZpbmFsaXplZCkgdGhyb3cgJ1RvbyBsYXRlIHRvIGFkZCBhIHN5c3RlbSc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbXMucmVnaXN0ZXIoc3lzdGVtKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igd2hpbGUgbW91bnRpbmcgXCIgKyBzeXN0ZW0ubmFtZSArIFwiOiBcIiArIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFzQWxsQ29tcG9uZW50cyhlbnRpdHk6IG51bWJlciwgLi4udHlwZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGZvciAobGV0IHQgb2YgdHlwZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldENvbXBvbmVudChlbnRpdHksIHQpID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGNtcC5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5zdG9yYWdlcy5nZXQoY21wLnR5cGUpO1xuICAgICAgICBpZiAoc3RvcmFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyAnQ2Fubm90IHJlZ2lzdGVyIGNvbXBvbmVudCBvZiB0eXBlICcgKyBjbXAudHlwZSArICcsIG5vIHN0b3JhZ2UgZm91bmQnO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JhZ2UucmVnaXN0ZXIoY21wKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2FkZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmUnLCBjbXApO1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZShjbXAudHlwZSk7XG4gICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlcihjbXApO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50VHlwZShlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5nZXRTdG9yYWdlKHR5cGUpLmdldENvbXBvbmVudHMoZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRTdG9yYWdlKHN0b3JhZ2U6IEVjc1N0b3JhZ2U8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JhZ2VzLnNldChzdG9yYWdlLnR5cGUsIHN0b3JhZ2UpO1xuICAgICAgICB0aGlzLnN0b3JhZ2VMaXN0LnB1c2goc3RvcmFnZSk7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIG11bHRpSWQ/OiBudW1iZXIpOiBDb21wb25lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2UuZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5LCBtdWx0aUlkKTtcbiAgICB9XG5cbiAgICBnZXRBbGxDb21wb25lbnRzKGVudGl0eTogbnVtYmVyKTogQ29tcG9uZW50W10ge1xuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PENvbXBvbmVudD4oKTtcblxuICAgICAgICBmb3IgKGxldCBzdG9yYWdlIG9mIHRoaXMuc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLnN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZWRpdENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nLCBjaGFuZ2VzOiBBbnlNYXBUeXBlLCBtdWx0aUlkPzogbnVtYmVyLCBjbGVhckNoOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSwgdHlwZSwgbXVsdGlJZCk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93ICdDYW5ub3QgZmluZCBjb21wb25lbnQgJyArIHR5cGUgKyAnIG9mIGVudGl0eTogJyArIGVudGl0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGVhckNoICYmICFjbGVhckNoYW5nZXMoYywgY2hhbmdlcykpIHJldHVybjsvLyBObyByZWFsIGNoYW5nZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2VkaXQnLCBjLCBjaGFuZ2VzKTtcblxuICAgICAgICBsZXQgY2hhbmdlZCA9IGFzc2lnblN3YXAoYywgY2hhbmdlcyk7XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2VkaXRlZCcsIGMsIGNoYW5nZWQpO1xuICAgIH1cblxuICAgIGVkaXRDb21wb25lbnRNdWx0aXBsZShlbnRpdHk6IG51bWJlciwgY2hhbmdlczogTXVsdGlFZGl0VHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRDb21wb25lbnQoZW50aXR5LCBjaGFuZ2VzWzBdLnR5cGUsIGNoYW5nZXNbMF0uY2hhbmdlcywgY2hhbmdlc1swXS5tdWx0aUlkLCBjaGFuZ2VzWzBdLmNsZWFyQ2hhbmdlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNocyA9IGNoYW5nZXMgYXMgTXVsdGlFZGl0VHlwZVdvcms7XG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCBjaGFuZ2UudHlwZSwgY2hhbmdlLm11bHRpSWQpO1xuICAgICAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgZmluZCBjb21wb25lbnQgJyArIGNoYW5nZS50eXBlICsgJyBvZiBlbnRpdHk6ICcgKyBlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFuZ2UuX2NvbXAgPSBjO1xuXG4gICAgICAgICAgICBpZiAoY2hhbmdlLmNsZWFyQ2hhbmdlcyAmJiAhY2xlYXJDaGFuZ2VzKGMsIGNoYW5nZXMpKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlLl9za2lwID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaGFuZ2Ugb2YgY2hzKSB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlLl9za2lwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2VkaXQnLCBjaGFuZ2UuX2NvbXAhLCBjaGFuZ2UuY2hhbmdlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBjaGFuZ2Ugb2YgY2hzKSB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlLl9za2lwKSBjb250aW51ZTtcbiAgICAgICAgICAgIGFzc2lnblN3YXAoY2hhbmdlLl9jb21wISwgY2hhbmdlLmNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGNoYW5nZSBvZiBjaHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuX3NraXApIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2VkaXRlZCcsIGNoYW5nZS5fY29tcCEsIGNoYW5nZS5jaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFJlc291cmNlKHJlc291cmNlOiBSZXNvdXJjZSwgaWZQcmVzZW50OiBzdHJpbmcgPSAnZmFpbCcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzLmhhcyhyZXNvdXJjZS50eXBlKSkge1xuICAgICAgICAgICAgc3dpdGNoIChpZlByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpZ25vcmUnOiBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1cGRhdGUnOiB0aGlzLmVkaXRSZXNvdXJjZShyZXNvdXJjZS50eXBlLCByZXNvdXJjZSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93ICdSZXNvdXJjZSB0eXBlIGFscmVhZHkgcHJlc2VudCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9hZGQnLCByZXNvdXJjZSk7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlcy5oYXMocmVzb3VyY2UudHlwZSkpIHRocm93ICdcInJlc291cmNlX2FkZFwiIGV2ZW50IGhhcyBhZGRlZCBhIHJlc291cmNlIG9mIHRoZSBzYW1lIHR5cGUhJztcblxuICAgICAgICB0aGlzLnJlc291cmNlcy5zZXQocmVzb3VyY2UudHlwZSwgcmVzb3VyY2UpO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9hZGRlZCcsIHJlc291cmNlKTtcbiAgICB9XG5cbiAgICBnZXRSZXNvdXJjZSh0eXBlOiBzdHJpbmcpOiBSZXNvdXJjZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5nZXQodHlwZSk7XG4gICAgfVxuXG4gICAgZWRpdFJlc291cmNlKHR5cGU6IHN0cmluZywgY2hhbmdlczogQW55TWFwVHlwZSk6IHZvaWQge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5nZXRSZXNvdXJjZSh0eXBlKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGZpbmQgcmVzb3VyY2UgJyArIHR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNsZWFyQ2hhbmdlcyhyZXMsIGNoYW5nZXMpKSByZXR1cm47Ly8gTm8gcmVhbCBjaGFuZ2VzXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX2VkaXQnLCByZXMsIGNoYW5nZXMpO1xuICAgICAgICBhc3NpZ25Td2FwKHJlcywgY2hhbmdlcyk7Ly8gY2hhbmdlcyBub3cgaGFzIG9sZCB2YWx1ZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfZWRpdGVkJywgcmVzLCBjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICByZW1vdmVSZXNvdXJjZSh0eXBlOiBzdHJpbmcsIGZhaWxJZk5vdFByZXNlbnQ6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKHJlc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChmYWlsSWZOb3RQcmVzZW50KSB0aHJvdyAnUmVzb3VyY2UgdHlwZSBub3QgZm91bmQnO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX3JlbW92ZScsIHJlc291cmNlKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlcy5kZWxldGUodHlwZSk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Jlc291cmNlX3JlbW92ZWQnLCByZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBmb3IgKGxldCBzeXN0ZW0gb2YgdGhpcy5zeXN0ZW1zKSB7XG4gICAgICAgICAgICBzeXN0ZW0uZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zeXN0ZW1zLnNpemUoKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgc3lzdGVtID0gdGhpcy5zeXN0ZW1zLmdldEF0KGkpO1xuICAgICAgICAgICAgc3lzdGVtLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBTZXJpYWxpemVkV29ybGQge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzZXJpYWxpemUnLCAnc2F2ZScpO1xuXG4gICAgICAgIGxldCBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc2F2ZSkgY29udGludWU7XG4gICAgICAgICAgICBzdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0gc3RvcmFnZS5zZXJpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvdXJjZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IHJlc291cmNlIG9mIHRoaXMucmVzb3VyY2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuX3NhdmUgPT09IGZhbHNlKSBjb250aW51ZTsvLyB1bmRlZmluZWQgaXMgdHJlYXRlZCBhcyB0cnVlIHNvIHRoYXQgbG9hZGVkIHJlc291cmNlcyBnZXQgc2F2ZWQgYWdhaW5cbiAgICAgICAgICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAndHlwZScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJlc1tuYW1lXSA9IChyZXNvdXJjZSBhcyBhbnkpW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb3VyY2VzW3Jlc291cmNlLnR5cGVdID0gcmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IHtcbiAgICAgICAgICAgIGVudGl0aWVzOiBbLi4udGhpcy5lbnRpdGllc10sXG4gICAgICAgICAgICBzdG9yYWdlcyxcbiAgICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgfSBhcyBTZXJpYWxpemVkV29ybGQ7XG5cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplZCcsIHJlcyk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXJpYWxpemVDbGllbnQoKTogU2VyaWFsaXplZFdvcmxkIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplJywgJ2NsaWVudCcpO1xuXG4gICAgICAgIGxldCBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG5cbiAgICAgICAgbGV0IGhvc3RIaWRkZW4gPSB0aGlzLmdldFN0b3JhZ2UoJ2hvc3RfaGlkZGVuJyk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLnN0b3JhZ2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JhZ2Uuc2F2ZSB8fCAhc3RvcmFnZS5zeW5jKSBjb250aW51ZTtcbiAgICAgICAgICAgIHN0b3JhZ2VzW3N0b3JhZ2UudHlwZV0gPSBzdG9yYWdlLnNlcmlhbGl6ZUNsaWVudCgoZSkgPT4gaG9zdEhpZGRlbi5nZXRGaXJzdENvbXBvbmVudChlKSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvdXJjZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IHJlc291cmNlIG9mIHRoaXMucmVzb3VyY2VzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuX3NhdmUgPT09IGZhbHNlIHx8IHJlc291cmNlLl9zeW5jID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcmVzID0ge30gYXMgYW55O1xuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiByZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ3R5cGUnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXNbbmFtZV0gPSAocmVzb3VyY2UgYXMgYW55KVtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc291cmNlc1tyZXNvdXJjZS50eXBlXSA9IHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXMgPSB7XG4gICAgICAgICAgICBlbnRpdGllczogWy4uLnRoaXMuZW50aXRpZXNdLmZpbHRlcigoZSkgPT4gaG9zdEhpZGRlbi5nZXRGaXJzdENvbXBvbmVudChlKSA9PT0gdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIHN0b3JhZ2VzLFxuICAgICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICB9IGFzIFNlcmlhbGl6ZWRXb3JsZDtcblxuXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3NlcmlhbGl6ZWQnLCByZXMpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemUoZGF0YTogU2VyaWFsaXplZFdvcmxkKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pc0Rlc2VyaWFsaXppbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdkZXNlcmlhbGl6ZScsIGRhdGEpO1xuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gZGF0YS5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSBkYXRhLnJlc291cmNlc1t0eXBlXTtcbiAgICAgICAgICAgIHJlcy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2UocmVzLCAndXBkYXRlJyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhLmVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzLmFkZChlbnRpdHkpO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfc3Bhd24nLCBlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBkYXRhLnN0b3JhZ2VzKSB7XG4gICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZXMuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZGVzZXJpYWxpemUgc3RvcmFnZSB0eXBlOiBcIiArIHR5cGUgKyBcIiwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yYWdlLmRlc2VyaWFsaXplKHRoaXMsIGRhdGEuc3RvcmFnZXNbdHlwZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bmVkJywgZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNEZXNlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Rlc2VyaWFsaXplZCcpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjbGVhcicpO1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLnRoaXMuZW50aXRpZXNdKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Bhd25FbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSb3VuZCAyIChpZiBzb21lIGVudGl0eSBnZXRzIHNwYXduZWQgb24gZGVzcGF3bilcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIFsuLi50aGlzLmVudGl0aWVzXSkge1xuICAgICAgICAgICAgdGhpcy5kZXNwYXduRW50aXR5KGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW50aXRpZXMuc2l6ZSAhPT0gMCkgdGhyb3cgJ0VudGl0aWVzIHNwYXduZWQgd2hpbGUgY2xlYXJpbmchJztcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY2xlYXJlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRPRE86IHVzZSBWdWUgM1xuICAgICAqIE92ZXJyaWRlcyB0aGUgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopYCByZXN1bHQuXG4gICAgICogVGhpcyBpcyBkb25lIHRvIGhpZGUgdGhpcyBvYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIG9ic2VydmVycyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvaXNzdWVzLzI2MzcpXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSB0eXBlIG5hbWVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TeW1ib2wvdG9TdHJpbmdUYWd9XG4gICAgICovXG4gICAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgICAgICAvLyBBbnl0aGluZyBjYW4gZ28gaGVyZSByZWFsbHkgYXMgbG9uZyBhcyBpdCdzIG5vdCAnT2JqZWN0J1xuICAgICAgICByZXR1cm4gJ09iamVjdE5vT2JzZXJ2ZSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25Td2FwKG9iajogYW55LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHRtcCA9IGNoYW5nZXNbbmFtZV07XG4gICAgICAgIGNoYW5nZXNbbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICAgIG9ialtuYW1lXSA9IHRtcDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZXM7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQ2hhbmdlcyhmcm9tOiBBbnlNYXBUeXBlLCBjaGFuZ2VzOiBBbnlNYXBUeXBlKTogYm9vbGVhbiB7XG4gICAgbGV0IGNoYW5nZWMgPSAwO1xuICAgIGZvciAobGV0IGNoYW5nZSBpbiBjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChmcm9tW2NoYW5nZV0gPT09IGNoYW5nZXNbY2hhbmdlXSkge1xuICAgICAgICAgICAgZGVsZXRlIGNoYW5nZXNbY2hhbmdlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWMrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlYyAhPT0gMDtcbn1cblxuIiwiZXhwb3J0IGVudW0gR3JpZFR5cGUge1xuICAgIFNRVUFSRSxcbiAgICBIRVhBR09OLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRHcmFwaGljYWxPcHRpb25zIHtcbiAgICB2aXNpYmxlOiBib29sZWFuO1xuICAgIGdyaWRUeXBlOiBHcmlkVHlwZSxcbiAgICBjb2xvcjogbnVtYmVyO1xuICAgIHRoaWNrOiBudW1iZXI7XG4gICAgb3BhY2l0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRQbGFjZW1lbnRPcHRpb25zIHtcbiAgICBzaXplOiBudW1iZXI7XG4gICAgb2ZmWDogbnVtYmVyO1xuICAgIG9mZlk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9ucyBleHRlbmRzIEdyaWRHcmFwaGljYWxPcHRpb25zLCBHcmlkUGxhY2VtZW50T3B0aW9ucyB7fVxuXG5leHBvcnQgY29uc3QgU1RBTkRBUkRfR1JJRF9PUFRJT05TID0ge1xuICAgIHZpc2libGU6IHRydWUsXG4gICAgZ3JpZFR5cGU6IEdyaWRUeXBlLlNRVUFSRSxcbiAgICBjb2xvcjogMCxcbiAgICB0aGljazogMTAsXG4gICAgb3BhY2l0eTogMC43NSxcbiAgICBzaXplOiAxMjgsXG4gICAgb2ZmWDogMCxcbiAgICBvZmZZOiAwLFxufSBhcyBHcmlkT3B0aW9ucztcbiIsImltcG9ydCB7SzJkVHJlZX0gZnJvbSBcIi4uL3V0aWwvazJkVHJlZVwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBQb2ludH0gZnJvbSBcIi4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7R3JpZFN5c3RlbX0gZnJvbSBcIi4uL2Vjcy9zeXN0ZW1zL2dyaWRTeXN0ZW1cIjtcblxuXG5leHBvcnQgY2xhc3MgUG9pbnREQiB7XG4gICAgLy8gSW4ganMgd2UgY2Fubm90IGNyZWF0ZSBhIE1hcCB3aXRoIGEgY3VzdG9tIG9iamVjdCBhcyBrZXkgLV8tXG4gICAgcHJpdmF0ZSBjb3VudGVyID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBwcml2YXRlIHRyZWUgPSBuZXcgSzJkVHJlZSgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ3JpZD86IEdyaWRTeXN0ZW07XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihncmlkPzogR3JpZFN5c3RlbSkge1xuICAgICAgICB0aGlzLmdyaWQgPSBncmlkO1xuICAgIH1cblxuXG4gICAgaW5zZXJ0KHBvaW50OiBQb2ludCk6IHZvaWQge1xuICAgICAgICBsZXQgcHRyU3RyID0gcG9pbnRbMF0gKyAnfCcgKyBwb2ludFsxXTtcbiAgICAgICAgbGV0IHAgPSB0aGlzLmNvdW50ZXIuZ2V0KHB0clN0cikgfHwgMFxuICAgICAgICB0aGlzLmNvdW50ZXIuc2V0KHB0clN0ciwgcCArIDEpO1xuICAgICAgICBpZiAocCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWUuaW5zZXJ0KHBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgfVxuXG4gICAgcmVtb3ZlKHBvaW50OiBQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcHRyU3RyID0gcG9pbnRbMF0gKyAnfCcgKyBwb2ludFsxXTtcbiAgICAgICAgbGV0IHAgPSAodGhpcy5jb3VudGVyLmdldChwdHJTdHIpIHx8IDApIC0gMTtcbiAgICAgICAgaWYgKHAgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyLmRlbGV0ZShwdHJTdHIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyZWUucmVtb3ZlKHBvaW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgbm9kZTogJyArIHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyLnNldChwdHJTdHIsIHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudC0tO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdChwb2ludDogUG9pbnQpOiBbUG9pbnQsIG51bWJlcl0gfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgdHJlZU5lYXJlc3QgPSB0aGlzLnRyZWUubmVhcmVzdFBvaW50KHBvaW50KTtcblxuICAgICAgICBsZXQgZ3JpZE5lYXJlc3Q6IFBvaW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ncmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGdyaWROZWFyZXN0ID0gdGhpcy5ncmlkLmNsb3Nlc3RQb2ludChwb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ3JpZE5lYXJlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGdyaWREaXN0ID0gZGlzdFNxdWFyZWQyZChwb2ludFswXSwgcG9pbnRbMV0sIGdyaWROZWFyZXN0WzBdLCBncmlkTmVhcmVzdFsxXSk7XG4gICAgICAgICAgICBpZiAodHJlZU5lYXJlc3QgPT09IHVuZGVmaW5lZCB8fCBncmlkRGlzdCA8IHRyZWVOZWFyZXN0WzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtncmlkTmVhcmVzdCwgZ3JpZERpc3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyZWVOZWFyZXN0O1xuICAgIH1cbn0iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuaW1wb3J0IGhleDJyZ2IgPSBQSVhJLnV0aWxzLmhleDJyZ2I7XG5cbi8vIE90aGVyIG1ldGhvZHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9sd2pnbC1iYXNpY3Mvd2lraS8yRC1QaXhlbC1QZXJmZWN0LVNoYWRvd3NcbmNvbnN0IExJR0hUX1ZFUlRFWF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xuICAgIFxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG5cbiAgICB1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgIHZlY1BvcyA9IGFWZXJ0ZXhQb3NpdGlvbjtcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAgICB9XG5gO1xuXG5jb25zdCBMSUdIVF9GUkFHTUVOVF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdmVjUG9zO1xuICAgIFxuICAgIHVuaWZvcm0gdmVjMiBjZW50ZXI7XG4gICAgdW5pZm9ybSBmbG9hdCByYWRTcXVhcmVkO1xuICAgIHVuaWZvcm0gdmVjMyBjb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjMiBkaWZmID0gY2VudGVyIC0gdmVjUG9zO1xuICAgICAgICBmbG9hdCBkaXN0U3EgPSBkaWZmLnggKiBkaWZmLnggKyBkaWZmLnkgKiBkaWZmLnk7XG4gICAgICAgIGZsb2F0IGludGVuc2l0eSA9IDEuMCAtIGNsYW1wKGRpc3RTcSAvIHJhZFNxdWFyZWQsIDAuLCAxLik7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEpICogKGludGVuc2l0eSAqIGludGVuc2l0eSk7Ly8gUHJlIG11bHRpcGxpZWQgYWxwaGFcbiAgICB9XG5gO1xuXG5jb25zdCBDT05TVF9MSUdIVF9GUkFHTUVOVF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdmVjUG9zO1xuICAgIFxuICAgIHVuaWZvcm0gdmVjMiBjZW50ZXI7XG4gICAgdW5pZm9ybSBmbG9hdCByYWRTcXVhcmVkO1xuICAgIHVuaWZvcm0gdmVjMyBjb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjMiBkaWZmID0gY2VudGVyIC0gdmVjUG9zO1xuICAgICAgICBmbG9hdCBkaXN0U3EgPSBkaWZmLnggKiBkaWZmLnggKyBkaWZmLnkgKiBkaWZmLnk7XG4gICAgICAgIGZsb2F0IGludGVuc2l0eSA9IGZsb2F0KGRpc3RTcSA8PSByYWRTcXVhcmVkKTtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMSkgKiBpbnRlbnNpdHk7Ly8gUHJlIG11bHRpcGxpZWQgYWxwaGFcbiAgICB9XG5gO1xuXG5jb25zdCBQTEFZRVJfVklTX0ZSQUdNRU5UX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG4gICAgXG4gICAgdW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiAgICB1bmlmb3JtIGZsb2F0IHJhZFNxdWFyZWQ7XG4gICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWMyIGRpZmYgPSBjZW50ZXIgLSB2ZWNQb3M7XG4gICAgICAgIGZsb2F0IGRpc3RTcSA9IGRpZmYueCAqIGRpZmYueCArIGRpZmYueSAqIGRpZmYueTtcbiAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gMS4wIC0gc21vb3Roc3RlcCgwLjksIDEuMCwgY2xhbXAoZGlzdFNxIC8gcmFkU3F1YXJlZCwgMC4sIDEuKSk7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEpICogaW50ZW5zaXR5Oy8vIFByZSBtdWx0aXBsaWVkIGFscGhhXG4gICAgfVxuYDtcblxubGV0IGxpZ2h0UHJvZ3JhbTogUElYSS5Qcm9ncmFtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xubGV0IGNvbnN0TGlnaHRQcm9ncmFtOiBQSVhJLlByb2dyYW0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5sZXQgcGxheWVyVmlzUHJvZ3JhbTogUElYSS5Qcm9ncmFtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG50eXBlIExpZ2h0UHJvZ3JhbVR5cGUgPSAnbm9ybWFsJyB8ICdjb25zdCcgfCAncGxheWVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChsaWdodFByb2dyYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsaWdodFByb2dyYW0gPSBQSVhJLlByb2dyYW0uZnJvbShMSUdIVF9WRVJURVhfU0hBREVSLCBMSUdIVF9GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBjb25zdExpZ2h0UHJvZ3JhbSA9IFBJWEkuUHJvZ3JhbS5mcm9tKExJR0hUX1ZFUlRFWF9TSEFERVIsIENPTlNUX0xJR0hUX0ZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIHBsYXllclZpc1Byb2dyYW0gPSBQSVhJLlByb2dyYW0uZnJvbShMSUdIVF9WRVJURVhfU0hBREVSLCBQTEFZRVJfVklTX0ZSQUdNRU5UX1NIQURFUik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVzaChsaWdodFR5cGU6IExpZ2h0UHJvZ3JhbVR5cGUgPSAnbm9ybWFsJyk6IFBJWEkuTWVzaCB7XG4gICAgbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAgICBsZXQgYnVmZiA9IG5ldyBQSVhJLkJ1ZmZlcihuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIGJ1ZmYsIDIsIGZhbHNlLCBQSVhJLlRZUEVTLkZMT0FUKTtcblxuICAgIGxldCBwcm9ncmFtO1xuICAgIHN3aXRjaCAobGlnaHRUeXBlKSB7XG4gICAgICAgIGNhc2UgJ25vcm1hbCc6IHByb2dyYW0gPSBsaWdodFByb2dyYW07IGJyZWFrO1xuICAgICAgICBjYXNlICdjb25zdCc6IHByb2dyYW0gPSBjb25zdExpZ2h0UHJvZ3JhbTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BsYXllcic6IHByb2dyYW0gPSBwbGF5ZXJWaXNQcm9ncmFtOyBicmVhaztcbiAgICB9XG4gICAgLy8gV2UnbGwgY2hhbmdlIHRoZW0gYWxsLCBpbiBkdWUgdGltZVxuICAgIGxldCBzaGFkZXJzID0gbmV3IFBJWEkuU2hhZGVyKHByb2dyYW0sIHtcbiAgICAgICAgJ2NlbnRlcic6IG5ldyBGbG9hdDMyQXJyYXkoWzAuNSwgMC41XSksXG4gICAgICAgICdyYWRTcXVhcmVkJzogMTAsXG4gICAgICAgICdjb2xvcic6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDBdKSxcbiAgICB9KTtcblxuICAgIGxldCBtZXNoID0gbmV3IFBJWEkuTWVzaChnZW9tZXRyeSwgc2hhZGVycyBhcyBQSVhJLk1lc2hNYXRlcmlhbCwgdW5kZWZpbmVkLCBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOKTtcbiAgICBtZXNoLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgbWVzaC5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICByZXR1cm4gbWVzaDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1lc2hQb2x5Z29ucyhtZXNoOiBQSVhJLk1lc2gsIHBvczogUElYSS5JUG9pbnREYXRhLCBwb2x5OiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBidWZmZXIgPSBtZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG5cbiAgICBsZXQgZkJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkocG9seS5sZW5ndGggKyA0KTtcbiAgICBmQnVmZmVyWzBdID0gcG9zLng7XG4gICAgZkJ1ZmZlclsxXSA9IHBvcy55O1xuICAgIGZCdWZmZXIuc2V0KHBvbHksIDIpO1xuICAgIGZCdWZmZXJbcG9seS5sZW5ndGggKyAyXSA9IHBvbHlbMF07XG4gICAgZkJ1ZmZlcltwb2x5Lmxlbmd0aCArIDNdID0gcG9seVsxXTtcbiAgICBidWZmZXIudXBkYXRlKGZCdWZmZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWVzaFVuaWZvcm1zKG1lc2g6IFBJWEkuTWVzaCwgY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhbmdlU3F1YXJlZDogbnVtYmVyLCBjb2xvcjogbnVtYmVyKSB7XG4gICAgbGV0IHVuaSA9IG1lc2guc2hhZGVyLnVuaWZvcm1zO1xuICAgIGxldCBjID0gdW5pLmNlbnRlcjtcbiAgICBjWzBdID0gY2VudGVyLng7XG4gICAgY1sxXSA9IGNlbnRlci55O1xuICAgIHVuaS5yYWRTcXVhcmVkID0gcmFuZ2VTcXVhcmVkO1xuICAgIGhleDJyZ2IoY29sb3IsIHVuaS5jb2xvcik7XG59IiwiaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5cbmV4cG9ydCBjbGFzcyBBYWJiIHtcbiAgICBtaW5YOiBudW1iZXI7XG4gICAgbWluWTogbnVtYmVyO1xuICAgIG1heFg6IG51bWJlcjtcbiAgICBtYXhZOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XG4gICAgICAgIGlmICh4MSA+IHgyKSBbeDEsIHgyXSA9IFt4MiwgeDFdO1xuICAgICAgICBpZiAoeTEgPiB5MikgW3kxLCB5Ml0gPSBbeTIsIHkxXTtcblxuICAgICAgICB0aGlzLm1pblggPSB4MTtcbiAgICAgICAgdGhpcy5taW5ZID0geTE7XG4gICAgICAgIHRoaXMubWF4WCA9IHgyO1xuICAgICAgICB0aGlzLm1heFkgPSB5MjtcbiAgICB9XG5cbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YIDwgdGhpcy5tYXhYICYmIHRoaXMubWluWSA8IHRoaXMubWF4WTtcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICAgICAodGhpcy5taW5YICsgdGhpcy5tYXhYKSAvIDIsXG4gICAgICAgICAgICAodGhpcy5taW5ZICsgdGhpcy5tYXhZKSAvIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRQZXJpbWV0ZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1heFggLSB0aGlzLm1pblggKyB0aGlzLm1heFkgLSB0aGlzLm1pblkpICogMjtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHRhcmdldDogQWFiYik6IHZvaWQge1xuICAgICAgICB0YXJnZXQubWluWCA9IHRoaXMubWluWCArIHg7XG4gICAgICAgIHRhcmdldC5taW5ZID0gdGhpcy5taW5ZICsgeTtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSB0aGlzLm1heFggKyB4O1xuICAgICAgICB0YXJnZXQubWF4WSA9IHRoaXMubWF4WSArIHk7XG4gICAgfVxuXG4gICAgY29tYmluZShvdGhlcjogQWFiYiwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIHRhcmdldC5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBvdGhlci5taW5YKTtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIG90aGVyLm1pblkpO1xuICAgICAgICB0YXJnZXQubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgb3RoZXIubWF4WCk7XG4gICAgICAgIHRhcmdldC5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBvdGhlci5tYXhZKTtcbiAgICB9XG5cbiAgICBpbnRlcnNlY3Qob3RoZXI6IEFhYmIsIHRhcmdldDogQWFiYikge1xuICAgICAgICB0YXJnZXQubWluWCA9IE1hdGgubWF4KHRoaXMubWluWCwgb3RoZXIubWluWCk7XG4gICAgICAgIHRhcmdldC5taW5ZID0gTWF0aC5tYXgodGhpcy5taW5ZLCBvdGhlci5taW5ZKTtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSBNYXRoLm1pbih0aGlzLm1heFgsIG90aGVyLm1heFgpO1xuICAgICAgICB0YXJnZXQubWF4WSA9IE1hdGgubWluKHRoaXMubWF4WSwgb3RoZXIubWF4WSk7XG4gICAgfVxuXG4gICAgZXh0ZW5kKGFtb3VudDogbnVtYmVyLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSB0aGlzLm1pblggLSBhbW91bnQ7XG4gICAgICAgIHRhcmdldC5taW5ZID0gdGhpcy5taW5ZIC0gYW1vdW50O1xuICAgICAgICB0YXJnZXQubWF4WCA9IHRoaXMubWF4WCAtIGFtb3VudDtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSB0aGlzLm1heFkgLSBhbW91bnQ7XG4gICAgfVxuXG4gICAgc2NhbGUoZHg6IG51bWJlciwgZHk6IG51bWJlciwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIGxldCBjeCA9ICh0aGlzLm1pblggKyB0aGlzLm1heFgpIC8gMjtcbiAgICAgICAgbGV0IGN5ID0gKHRoaXMubWluWSArIHRoaXMubWF4WSkgLyAyO1xuICAgICAgICBsZXQgaHcgPSAodGhpcy5tYXhYIC0gdGhpcy5taW5YKSAvIDI7XG4gICAgICAgIGxldCBoaCA9ICh0aGlzLm1heFkgLSB0aGlzLm1pblkpIC8gMjtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSBjeCAtIGh3ICogZHg7XG4gICAgICAgIHRhcmdldC5taW5ZID0gY3kgLSBoaCAqIGR5O1xuICAgICAgICB0YXJnZXQubWF4WCA9IGN4ICsgaHcgKiBkeDtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSBjeSArIGhoICogZHk7XG4gICAgfVxuXG4gICAgY29weUZyb20ob3RoZXI6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5taW5YID0gb3RoZXIubWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gb3RoZXIubWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gb3RoZXIubWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gb3RoZXIubWF4WTtcbiAgICB9XG5cbiAgICByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5taW5YID0gMDtcbiAgICAgICAgdGhpcy5taW5ZID0gMDtcbiAgICAgICAgdGhpcy5tYXhYID0gMDtcbiAgICAgICAgdGhpcy5tYXhZID0gMDtcbiAgICB9XG5cbiAgICB3cmFwUG9seWdvbihwb2x5Z29uOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHRoaXMubWluWSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5tYXhYID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLm1heFkgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgbGV0IGxlbiA9IHBvbHlnb24ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvbHlnb25baV0pO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2x5Z29uW2kgKyAxXSk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvbHlnb25baV0pO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2x5Z29uW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb3B5KCk6IEFhYmIge1xuICAgICAgICBsZXQgb3RoZXIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgb3RoZXIuY29weUZyb20odGhpcyk7XG4gICAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJBQUJCKFwiICsgdGhpcy5taW5YLnRvRml4ZWQoMikgKyBcIiwgXCIgKyB0aGlzLm1pblkudG9GaXhlZCgyKSArIFwiLCBcIiArIHRoaXMubWF4WC50b0ZpeGVkKDIpICsgXCIsIFwiICsgdGhpcy5tYXhZLnRvRml4ZWQoMikgKyBcIilcIjtcbiAgICB9XG5cbiAgICBzdGF0aWMgemVybygpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKDAsIDAsIDAsIDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQm91bmRzKGI6IFBJWEkuUmVjdGFuZ2xlKTogQWFiYiB7XG4gICAgICAgIHJldHVybiBuZXcgQWFiYihiLmxlZnQsIGIudG9wLCBiLnJpZ2h0LCBiLmJvdHRvbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludChwOiBQSVhJLklQb2ludERhdGEpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKHAueCwgcC55LCBwLngsIHAueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludEFuY2hvcihwb3M6IFBJWEkuSVBvaW50RGF0YSwgc2l6ZTogUElYSS5JUG9pbnREYXRhLCBhbmNob3I6IFBJWEkuSVBvaW50RGF0YSk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIoXG4gICAgICAgICAgICBwb3MueCAtIHNpemUueCAqIGFuY2hvci54LFxuICAgICAgICAgICAgcG9zLnkgLSBzaXplLnkgKiBhbmNob3IueSxcbiAgICAgICAgICAgIHBvcy54ICsgc2l6ZS54ICogKDEgLSBhbmNob3IueCksXG4gICAgICAgICAgICBwb3MueSArIHNpemUueSAqICgxIC0gYW5jaG9yLnkpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7QWFiYn0gZnJvbSBcIi4vYWFiYlwiO1xuaW1wb3J0IHtQb2ludCwgU3R1cGlkUG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7RVBTSUxPTn0gZnJvbSBcIi4vdmlzaWJpbGl0eVBvbHlnb25cIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgcG9seWdvblBvaW50SW50ZXJzZWN0fSBmcm9tIFwiLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtPYmJ9IGZyb20gXCIuL29iYlwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQWFiYlZzQWFiYihhOiBBYWJiLCBiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLm1heFggJiYgYS5tYXhYID49IGIubWluWCAmJlxuICAgICAgICAgICBhLm1pblkgPD0gYi5tYXhZICYmIGEubWF4WSA+PSBiLm1pblk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0FhYmJWc0FhYmIoYTogQWFiYiwgYjogQWFiYik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhLm1pblggPD0gYi5taW5YICYmIGEubWF4WCA+PSBiLm1heFggJiZcbiAgICAgICAgICAgYS5taW5ZIDw9IGIubWluWSAmJiBhLm1heFkgPj0gYi5tYXhZO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcEFhYmJWc1BvaW50KGE6IEFhYmIsIGI6IFBJWEkuSVBvaW50RGF0YSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhLm1pblggPD0gYi54ICYmIGEubWluWSA8PSBiLnkgJiZcbiAgICAgICAgICAgYS5tYXhYID49IGIueCAmJiBhLm1heFkgPj0gYi55O1xufVxuXG5jb25zdCBJTlNJREUgPSAwO1xuY29uc3QgTEVGVCA9IDE7XG5jb25zdCBSSUdIVCA9IDI7XG5jb25zdCBCT1RUT00gPSA0O1xuY29uc3QgVE9QID0gODtcblxuZnVuY3Rpb24gY29tcHV0ZU91dENvZGUoYm94OiBBYWJiLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IGNvZGUgPSBJTlNJREU7XG5cbiAgICBpZiAgICAgICh4IDwgYm94Lm1pblgpIGNvZGUgfD0gTEVGVDtcbiAgICBlbHNlIGlmICh4ID4gYm94Lm1heFgpIGNvZGUgfD0gUklHSFQ7XG5cbiAgICBpZiAgICAgICh5IDwgYm94Lm1pblkpIGNvZGUgfD0gQk9UVE9NO1xuICAgIGVsc2UgaWYgKHkgPiBib3gubWF4WSkgY29kZSB8PSBUT1A7XG5cbiAgICByZXR1cm4gY29kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBBYWJiVnNMaW5lKGE6IEFhYmIsIGI6IExpbmUpOiBib29sZWFuIHtcbiAgICBsZXQgZmMgPSBjb21wdXRlT3V0Q29kZShhLCBiLmZyb21YLCBiLmZyb21ZKTtcbiAgICBsZXQgdGMgPSBjb21wdXRlT3V0Q29kZShhLCBiLnRvWCwgYi50b1kpO1xuXG4gICAgLy8gRmFzdCBwYXRoczpcbiAgICAvLyBPbmUgb2YgdGhlIHBvaW50cyBpcyBpbnNpZGVcbiAgICBpZiAoZmMgPT09IElOU0lERSB8fCB0YyA9PT0gSU5TSURFKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBiaXR3aXNlIEFORCBpcyBub3QgMDogYm90aCBwb2ludHMgc2hhcmUgYW4gb3V0c2lkZSB6b25lIChMRUZULCBSSUdIVCwgVE9QLFxuICAgIC8vIG9yIEJPVFRPTSksIHNvIGJvdGggbXVzdCBiZSBvdXRzaWRlIHdpbmRvd1xuICAgIGlmICgoZmMgJiB0YykgIT09IDApIHJldHVybiBmYWxzZTtcbiAgICAvLyBCb3RoIHBvaW50cyBhcmUgaW4gZGlyZWN0bHkgb3Bwb3NpdGUgc2l0ZXMgKGxlZnQvcmlnaHQgb3IgdG9wL2JvdHRvbSlcbiAgICBpZiAoKGZjIHwgdGMpID09PSAoTEVGVCB8IFJJR0hUKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKChmYyB8IHRjKSA9PT0gKFRPUCB8IEJPVFRPTSkpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5taW5YLCBhLm1pblksIGEubWluWCwgYS5tYXhZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIHx8XG4gICAgICAgICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5taW5YLCBhLm1heFksIGEubWF4WCwgYS5tYXhZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIHx8XG4gICAgICAgICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5tYXhYLCBhLm1heFksIGEubWF4WCwgYS5taW5ZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIHx8XG4gICAgICAgICAgIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobmV3IExpbmUoYS5tYXhYLCBhLm1pblksIGEubWluWCwgYS5taW5ZKSwgYikgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFBvaW50VnNDaXJjbGUocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSwgY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRpc3RTcXVhcmVkMmQocG9pbnQueCwgcG9pbnQueSwgY2VudGVyLngsIGNlbnRlci55KSA8IHJhZGl1cyAqIHJhZGl1cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBDaXJjbGVWc0FhYmIoY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhZGl1czogbnVtYmVyLCBhYWJiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgbGV0IGRpc3RYID0gTWF0aC5hYnMoY2VudGVyLnggLSAoYWFiYi5taW5YICsgYWFiYi5tYXhYKSAvIDIpO1xuICAgIGxldCBkaXN0WSA9IE1hdGguYWJzKGNlbnRlci55IC0gKGFhYmIubWluWSArIGFhYmIubWF4WSkgLyAyKTtcblxuICAgIGxldCBoYWxmVyA9IChhYWJiLm1heFggLSBhYWJiLm1pblgpIC8gMjtcbiAgICBsZXQgaGFsZkggPSAoYWFiYi5tYXhZIC0gYWFiYi5taW5ZKSAvIDI7XG5cbiAgICBpZiAoZGlzdFggPiBoYWxmVyArIHJhZGl1cykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChkaXN0WSA+IGhhbGZIICsgcmFkaXVzKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoZGlzdFggPCBoYWxmVyB8fCBkaXN0WSA8IGhhbGZIKSByZXR1cm4gdHJ1ZTtcblxuICAgIGxldCBkeCA9IGRpc3RYIC0gaGFsZlc7XG4gICAgbGV0IGR5ID0gZGlzdFkgLSBoYWxmSDtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcENpcmNsZVZzQ2lyY2xlKGFjOiBQSVhJLklQb2ludERhdGEsIGFyOiBudW1iZXIsIGJjOiBQSVhJLklQb2ludERhdGEsIGJyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBsZXQgZHggPSBhYy54IC0gYmMueDtcbiAgICBsZXQgZHkgPSBhYy55IC0gYmMueTtcbiAgICBsZXQgciA9IGFyICsgYnI7XG5cbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPCAgciAqIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uKGFjOiBQSVhJLklQb2ludERhdGEsIGFyOiBudW1iZXIsIHBvbHk6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgaWYgKHBvbHlnb25Qb2ludEludGVyc2VjdChhYywgcG9seSkpIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IHRtcExpbmUgPSBuZXcgTGluZSgwLCAwLCAwLCAwKTtcbiAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIGxldCByMiA9IGFyICogYXI7XG5cbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBvbHkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgdG1wTGluZS5mcm9tWCA9IHBvbHlbaSAtIDJdO1xuICAgICAgICB0bXBMaW5lLmZyb21ZID0gcG9seVtpIC0gMV07XG4gICAgICAgIHRtcExpbmUudG9YID0gcG9seVtpXTtcbiAgICAgICAgdG1wTGluZS50b1kgPSBwb2x5W2kgKyAxXTtcblxuICAgICAgICB0bXBMaW5lLnByb2plY3RQb2ludChhYywgdG1wUG9pbnQsIHRydWUpO1xuICAgICAgICBpZiAoZGlzdFNxdWFyZWQyZCh0bXBQb2ludC54LCB0bXBQb2ludC55LCBhYy54LCBhYy55KSA8PSByMikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwT2JiVnNQb2x5Z29uKG9iYjogT2JiLCBwb2x5OiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGxldCBwb2x5QWFiYiA9IEFhYmIuemVybygpO1xuICAgIHBvbHlBYWJiLndyYXBQb2x5Z29uKHBvbHkpO1xuICAgIC8vIEZhc3QgcGF0aFxuICAgIGlmICghb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYiwgcG9seUFhYmIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMikge1xuICAgICAgICBsZXQgcCA9IHtcbiAgICAgICAgICAgIHg6IG9iYi5yb3RWZXJ0ZXhbaV0sXG4gICAgICAgICAgICB5OiBvYmIucm90VmVydGV4W2kgKyAxXSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgYSBwb2ludCBvZiB0aGUgT0JCIGlzIGluc2lkZSB0aGUgcG9seWdvbiB0aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgaWYgKHBvbHlnb25Qb2ludEludGVyc2VjdChwLCBwb2x5KSkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2x5Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGxldCBwID0ge1xuICAgICAgICAgICAgeDogcG9seVtpXSxcbiAgICAgICAgICAgIHk6IHBvbHlbaSArIDFdLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIGEgcG9pbnQgb2YgdGhlIHBvbHlnb24gaXMgaW5zaWRlIHRoZSBPQkIgdGhlbiB3ZSdyZSBkb25lXG4gICAgICAgIGlmIChvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50KG9iYiwgcCkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgb2JiTGluZXMgPSBbXG4gICAgICAgIFswLCAyXSxcbiAgICAgICAgWzIsIDRdLFxuICAgICAgICBbNCwgNl0sXG4gICAgICAgIFs2LCAwXVxuICAgIF07XG5cbiAgICAvLyBDaGVjayBsaW5lIGludGVyc2VjdGlvbnNcbiAgICBmb3IgKGxldCBsaW5lIG9mIG9iYkxpbmVzKSB7XG4gICAgICAgIGxldCBvYmJMaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgICBvYmIucm90VmVydGV4W2xpbmVbMF1dLCBvYmIucm90VmVydGV4W2xpbmVbMF0gKyAxXSxcbiAgICAgICAgICAgIG9iYi5yb3RWZXJ0ZXhbbGluZVsxXV0sIG9iYi5yb3RWZXJ0ZXhbbGluZVsxXSArIDFdXG4gICAgICAgIClcbiAgICAgICAgaWYgKG92ZXJsYXBMaW5lVnNQb2x5Z29uKG9iYkxpbmUsIHBvbHkpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwTGluZVZzUG9seWdvbihsaW5lOiBMaW5lLCBwb2x5OiBudW1iZXJbXSkge1xuICAgIGxldCB0b3RMaW5lcyA9IHBvbHkubGVuZ3RoIC0gMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdExpbmVzOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHBvbExpbmUgPSBuZXcgTGluZShwb2x5W2ldLCBwb2x5W2krMV0sIHBvbHlbaSsyXSwgcG9seVtpKzNdKTtcbiAgICAgICAgaWYgKGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobGluZSwgcG9sTGluZSkgPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgcG9sTGluZSA9IG5ldyBMaW5lKHBvbHlbMF0sIHBvbHlbMV0sIHBvbHlbcG9seS5sZW5ndGgtMl0sIHBvbHlbcG9seS5sZW5ndGgtMV0pO1xuICAgIHJldHVybiBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KGxpbmUsIHBvbExpbmUpID09IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUG9pbnRCeU9yaWcobzogUElYSS5JUG9pbnREYXRhLCByb3Q6IG51bWJlciwgcDogUElYSS5JUG9pbnREYXRhKTogUElYSS5Qb2ludCB7XG4gICAgbGV0IHMgPSBNYXRoLnNpbigtcm90KTtcbiAgICBsZXQgYyA9IE1hdGguY29zKC1yb3QpO1xuXG4gICAgbGV0IHRyYW5zWCA9IHAueCAtIG8ueDtcbiAgICBsZXQgdHJhbnNZID0gcC55IC0gby55O1xuXG4gICAgcmV0dXJuIG5ldyBQSVhJLlBvaW50KFxuICAgICAgICAodHJhbnNYICogYyAtIHRyYW5zWSAqIHMpICsgby54LFxuICAgICAgICAodHJhbnNYICogcyArIHRyYW5zWSAqIGMpICsgby55XG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQob2JiOiBPYmIsIHA6IFBJWEkuSVBvaW50RGF0YSkge1xuICAgIGxldCByb3RhdGVkUG9pbnQgPSByb3RhdGVQb2ludEJ5T3JpZyhvYmIudW5yb3RhdGVkLmdldENlbnRlcigpLCBvYmIucm90YXRpb24sIHApO1xuXG4gICAgcmV0dXJuIG92ZXJsYXBBYWJiVnNQb2ludChvYmIudW5yb3RhdGVkLCByb3RhdGVkUG9pbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNDaXJjbGUob2JiOiBPYmIsIHBvczogUElYSS5JUG9pbnREYXRhLCByYWQ6IG51bWJlcikge1xuICAgIGxldCByb3RhdGVkUG9pbnQgPSByb3RhdGVQb2ludEJ5T3JpZyhvYmIudW5yb3RhdGVkLmdldENlbnRlcigpLCBvYmIucm90YXRpb24sIHBvcyk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcENpcmNsZVZzQWFiYihyb3RhdGVkUG9pbnQsIHJhZCwgb2JiLnVucm90YXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUm90YXRlZFJlY3RWc0xpbmUob2JiOiBPYmIsIGxpbmU6IExpbmUpIHtcbiAgICBsZXQgY2VudGVyID0gb2JiLnVucm90YXRlZC5nZXRDZW50ZXIoKTtcbiAgICBsZXQgcm90RnJvbSA9IHJvdGF0ZVBvaW50QnlPcmlnKGNlbnRlciwgb2JiLnJvdGF0aW9uLCB7eDogbGluZS5mcm9tWCwgeTogbGluZS5mcm9tWX0pO1xuICAgIGxldCByb3RUbyA9IHJvdGF0ZVBvaW50QnlPcmlnKGNlbnRlciwgb2JiLnJvdGF0aW9uLCB7eDogbGluZS50b1gsIHk6IGxpbmUudG9ZfSk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc0xpbmUob2JiLnVucm90YXRlZCwgbmV3IExpbmUocm90RnJvbS54LCByb3RGcm9tLnksIHJvdFRvLngsIHJvdFRvLnkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPYmJQb2ludHMoYWFiYjogQWFiYiwgcm90OiBudW1iZXIsIG9yaWdpbj86IFBJWEkuSVBvaW50RGF0YSk6IG51bWJlcltdIHtcbiAgICBsZXQgcmVzID0gbmV3IEFycmF5PG51bWJlcj4oOCk7XG5cbiAgICBsZXQgbyA9IG9yaWdpbiB8fCB7XG4gICAgICAgIHg6IChhYWJiLm1pblggKyBhYWJiLm1heFgpIC8gMixcbiAgICAgICAgeTogKGFhYmIubWluWSArIGFhYmIubWF4WSkgLyAyLFxuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBsZXQgbWluWCA9IChpICYgMSk7XG4gICAgICAgIGxldCBtaW5ZID0gKGkgJiAyKSA+Pj4gMTtcblxuICAgICAgICBsZXQgcCA9IHJvdGF0ZVBvaW50QnlPcmlnKG8sIHJvdCwge1xuICAgICAgICAgICAgeDogbWluWCA/IGFhYmIubWluWCA6IGFhYmIubWF4WCxcbiAgICAgICAgICAgIHk6IG1pblkgPyBhYWJiLm1pblkgOiBhYWJiLm1heFksXG4gICAgICAgIH0pO1xuICAgICAgICByZXNbaSAqIDIgICAgXSA9IHAueDtcbiAgICAgICAgcmVzW2kgKiAyICsgMV0gPSBwLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzQWFiYihvYmI6IE9iYiwgYWFiYjogQWFiYik6IGJvb2xlYW4ge1xuICAgIC8vIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtXG4gICAgbGV0IG90aGVyQWFiYiA9IEFhYmIuemVybygpO1xuXG4gICAgb3RoZXJBYWJiLndyYXBQb2x5Z29uKG9iYi5yb3RWZXJ0ZXgpO1xuICAgIGlmIChvdmVybGFwQWFiYlZzQWFiYihhYWJiLCBvdGhlckFhYmIpKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIEFwcGx5IHRoZSBpbnZlcnNlIHRyYW5zZm9ybSBvZiB0aGUgb2JiIHRvIHRoZSBhYWJiXG4gICAgbGV0IG9yaWdpbmFsSW52ID0gY29tcHV0ZU9iYlBvaW50cyhhYWJiLCBvYmIucm90YXRpb24sIG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCkpO1xuXG4gICAgb3RoZXJBYWJiLnJlc2V0KCk7XG4gICAgb3RoZXJBYWJiLndyYXBQb2x5Z29uKG9yaWdpbmFsSW52KTtcbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc0FhYmIob2JiLnVucm90YXRlZCwgb3RoZXJBYWJiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzUm90YXRlZFJlY3Qob2JiMTogT2JiLCBvYmIyOiBPYmIpOiBib29sZWFuIHtcbiAgICBsZXQgY2VudGVyID0gb2JiMi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCk7XG4gICAgbGV0IHJlcyA9IG9iYjIudW5yb3RhdGVkLmNvcHkoKTtcbiAgICByZXMudHJhbnNsYXRlKC1jZW50ZXIueCwgLWNlbnRlci55LCByZXMpO1xuXG4gICAgbGV0IG9iYjMgPSBPYmIucm90YXRlQWFiYihyZXMsIG9iYjIucm90YXRpb24gLSBvYmIxLnJvdGF0aW9uKTtcbiAgICByZXR1cm4gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYjMsIG9iYjEudW5yb3RhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBMaW5lVnNDaXJjbGUobGluZTogTGluZSwgcG9pbnQ6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgaWYgKCFsaW5lLnByb2plY3RQb2ludChwb2ludCwgdG1wUG9pbnQsIHRydWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGRpc3QgPSBkaXN0U3F1YXJlZDJkKHRtcFBvaW50LngsIHRtcFBvaW50LnksIHBvaW50LngsIHBvaW50LnkpO1xuICAgIHJldHVybiBkaXN0IDwgcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZW51bSBTZWdtZW50VnNTZWdtZW50UmVzIHtcbiAgICBOT05FLCBJTlRFUk4sIEVER0VfQSwgRURHRV9CID0gNCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoYTogTGluZSwgYjogTGluZSwgdGFyZ2V0PzogUG9pbnQpOiBTZWdtZW50VnNTZWdtZW50UmVzIHtcbiAgICBsZXQgZGVuID0gKGIudG9ZIC0gYi5mcm9tWSkgKiAoYS50b1ggLSBhLmZyb21YKSAtXG4gICAgICAgICAgICAgIChiLnRvWCAtIGIuZnJvbVgpICogKGEudG9ZIC0gYS5mcm9tWSk7XG5cbiAgICBpZiAoZGVuID09PSAwKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FOyAvLyBQYXJhbGxlbCAob3IgY29pbmNpZGVudClcblxuICAgIGNvbnN0IHMgPSAoXG4gICAgICAgIChiLnRvWCAtIGIuZnJvbVgpICogKGEuZnJvbVkgLSBiLmZyb21ZKSAtXG4gICAgICAgIChiLnRvWSAtIGIuZnJvbVkpICogKGEuZnJvbVggLSBiLmZyb21YKVxuICAgICkgLyBkZW47XG5cbiAgICBpZiAocyA8IC1FUFNJTE9OIHx8IHMgPiAxICsgRVBTSUxPTikgcmV0dXJuIFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORTtcblxuICAgIGNvbnN0IHUgPSAoXG4gICAgICAgIChhLnRvWCAtIGEuZnJvbVgpICogKGEuZnJvbVkgLSBiLmZyb21ZKSAtXG4gICAgICAgIChhLnRvWSAtIGEuZnJvbVkpICogKGEuZnJvbVggLSBiLmZyb21YKVxuICAgICkgLyBkZW47XG5cbiAgICBpZiAodSA8IC1FUFNJTE9OIHx8IHUgPiAxICsgRVBTSUxPTikgcmV0dXJuIFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORTtcblxuICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0YXJnZXQuc2V0KFxuICAgICAgICAgICAgYS5mcm9tWCArIHMgKiAoYS50b1ggLSBhLmZyb21YKSxcbiAgICAgICAgICAgIGEuZnJvbVkgKyBzICogKGEudG9ZIC0gYS5mcm9tWSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGVkZ2UgPSAwO1xuICAgIGlmIChzIDwgRVBTSUxPTiB8fCBzID4gMSAtIEVQU0lMT04pIGVkZ2UgfD0gU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0E7XG4gICAgaWYgKHUgPCBFUFNJTE9OIHx8IHUgPiAxIC0gRVBTSUxPTikgZWRnZSB8PSBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQjtcbiAgICByZXR1cm4gZWRnZSA9PT0gMCA/IFNlZ21lbnRWc1NlZ21lbnRSZXMuSU5URVJOIDogZWRnZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaWFuZ2xlQ29udGFpbnNQb2ludChwOiBTdHVwaWRQb2ludCwgcDA6IFN0dXBpZFBvaW50LCBwMTogU3R1cGlkUG9pbnQsIHAyOiBTdHVwaWRQb2ludCkge1xuICAgIGxldCBBID0gMS8yICogKC1wMS55ICogcDIueCArIHAwLnkgKiAoLXAxLnggKyBwMi54KSArIHAwLnggKiAocDEueSAtIHAyLnkpICsgcDEueCAqIHAyLnkpO1xuICAgIGxldCBzaWduID0gQSA8IDAgPyAtMSA6IDE7XG4gICAgbGV0IHMgPSAocDAueSAqIHAyLnggLSBwMC54ICogcDIueSArIChwMi55IC0gcDAueSkgKiBwLnggKyAocDAueCAtIHAyLngpICogcC55KSAqIHNpZ247XG4gICAgbGV0IHQgPSAocDAueCAqIHAxLnkgLSBwMC55ICogcDEueCArIChwMC55IC0gcDEueSkgKiBwLnggKyAocDEueCAtIHAwLngpICogcC55KSAqIHNpZ247XG5cbiAgICByZXR1cm4gcyAtIEVQU0lMT04gPiAwICYmIHQgLSBFUFNJTE9OID4gMCAmJiAocyArIHQpIDwgMiAqIEEgKiBzaWduIC0gRVBTSUxPTjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTYW1lU2xvcGUoYXg6IG51bWJlciwgYXk6IG51bWJlciwgYng6IG51bWJlciwgYnk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIFdlIG5lZWQgdG8gcmVtb3ZlIGRpdmlzaW9ucywgKHRoaXMgaXMgbm90IHJlYWwgY29kZSlcbiAgICAvLyBheSAvIGF4ID09IGJ5IC8gYnggID09PiBheSAqIGJ4ID09IGJ5ICogYXhcbiAgICByZXR1cm4gTWF0aC5hYnMoYXkgKiBieCAtIGJ5ICogYXgpIDwgRVBTSUxPTjtcbn1cblxuIiwiXG4vLyBBIHZlcnNpb24gaGlnaGx5IGluc3BpcmVkIGJ5IHBsYW5rLmpzIChodHRwczovL2dpdGh1Yi5jb20vc2hha2liYS9wbGFuY2suanMvYmxvYi9mNTc3Nzg4NGY1MzdkYjk3NjA4ZDgwMTZiZGE5NjBkMjUxZDQyZDRkL2xpYi9jb2xsaXNpb24vRHluYW1pY1RyZWUuanMpXG5cbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4vYWFiYlwiO1xuaW1wb3J0IHtjb250YWluc0FhYmJWc0FhYmIsIG92ZXJsYXBBYWJiVnNBYWJifSBmcm9tIFwiLi9jb2xsaXNpb25cIjtcbmltcG9ydCB7UG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5cbmNsYXNzIFRyZWVOb2RlPFQ+IHtcbiAgICBpZDogbnVtYmVyO1xuICAgIGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICB0YWc/OiBUO1xuXG4gICAgcGFyZW50PzogVHJlZU5vZGU8VD47XG4gICAgbGVmdD86IFRyZWVOb2RlPFQ+O1xuICAgIHJpZ2h0PzogVHJlZU5vZGU8VD47XG5cbiAgICBoZWlnaHQ6IG51bWJlciA9IC0xO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQgKyBcIjogXCIgKyB0aGlzLnRhZztcbiAgICB9XG5cbiAgICBpc0xlYWYoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQgPT09IHVuZGVmaW5lZDtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIER5bmFtaWNUcmVlPFQ+IHtcbiAgICByb290PzogVHJlZU5vZGU8VD47XG4gICAgbm9kZXMgPSBuZXcgTWFwPG51bWJlciwgVHJlZU5vZGU8VD4+KCk7XG4gICAgbGFzdFByb3h5SWQ6IG51bWJlciA9IDA7XG5cbiAgICBhYWJiRXh0ZW5zaW9uOiBudW1iZXI7XG4gICAgYWFiYk11bHRpcGxpZXI6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGFhYmJFeHRlbnNpb246IG51bWJlciA9IDAuMSwgYWFiYk11bHRpcGxpZXI6IG51bWJlciA9IDIpIHtcbiAgICAgICAgdGhpcy5hYWJiRXh0ZW5zaW9uID0gYWFiYkV4dGVuc2lvbjtcbiAgICAgICAgdGhpcy5hYWJiTXVsdGlwbGllciA9IGFhYmJNdWx0aXBsaWVyO1xuICAgIH1cblxuICAgIGdldFRhZyhpZDogbnVtYmVyKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmdldChpZCk/LnRhZztcbiAgICB9XG5cbiAgICBzZXRUYWcoaWQ6IG51bWJlciwgdGFnOiBUKSB7XG4gICAgICAgIHRoaXMubm9kZXMuZ2V0KGlkKSEudGFnID0gdGFnO1xuICAgIH1cblxuICAgIGdldEZhdEFhYmIoaWQ6IG51bWJlcik6IEFhYmIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5nZXQoaWQpPy5hYWJiO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWxsb2NhdGVOb2RlKCk6IFRyZWVOb2RlPFQ+IHtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgVHJlZU5vZGU8VD4oKyt0aGlzLmxhc3RQcm94eUlkKTtcbiAgICAgICAgdGhpcy5ub2Rlcy5zZXQobm9kZS5pZCwgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZnJlZU5vZGUobm9kZTogVHJlZU5vZGU8VD4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5kZWxldGUobm9kZS5pZCk7XG4gICAgfVxuXG4gICAgY3JlYXRlUHJveHkoYWFiYjogQWFiYiwgdGFnOiBUKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmFsbG9jYXRlTm9kZSgpO1xuXG4gICAgICAgIG5vZGUuYWFiYi5jb3B5RnJvbShhYWJiKTtcblxuICAgICAgICAvLyBGYXR0ZW4gdGhlIGFhYmJcbiAgICAgICAgbm9kZS5hYWJiLmV4dGVuZCh0aGlzLmFhYmJFeHRlbnNpb24sIG5vZGUuYWFiYik7XG5cbiAgICAgICAgbm9kZS50YWcgPSB0YWc7XG4gICAgICAgIG5vZGUuaGVpZ2h0ID0gMDtcblxuICAgICAgICB0aGlzLmluc2VydExlYWYobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlLmlkO1xuICAgIH1cblxuICAgIGRlc3Ryb3lQcm94eShpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlcy5nZXQoaWQpITtcblxuICAgICAgICB0aGlzLnJlbW92ZUxlYWYobm9kZSk7XG4gICAgICAgIHRoaXMuZnJlZU5vZGUobm9kZSk7XG4gICAgfVxuXG4gICAgbW92ZVByb3h5KGlkOiBudW1iZXIsIGFhYmI6IEFhYmIsIGQ6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlcy5nZXQoaWQpITtcblxuICAgICAgICBpZiAoY29udGFpbnNBYWJiVnNBYWJiKG5vZGUuYWFiYiwgYWFiYikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVtb3ZlTGVhZihub2RlKTtcbiAgICAgICAgbm9kZS5hYWJiLmNvcHlGcm9tKGFhYmIpO1xuXG4gICAgICAgIC8vIEZhdHRlblxuICAgICAgICBub2RlLmFhYmIuZXh0ZW5kKHRoaXMuYWFiYkV4dGVuc2lvbiwgbm9kZS5hYWJiKTtcblxuICAgICAgICAvLyBQcmVkaWN0IG1vdGlvblxuICAgICAgICBpZiAodGhpcy5hYWJiTXVsdGlwbGllciAhPT0gMSkge1xuICAgICAgICAgICAgaWYgKGQueCA8IDApIGFhYmIubWluWCArPSBkLnggKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICAgICAgZWxzZSBhYWJiLm1heFggKz0gZC54ICogdGhpcy5hYWJiTXVsdGlwbGllcjtcblxuICAgICAgICAgICAgaWYgKGQueSA8IDApIGFhYmIubWluWSArPSBkLnkgKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICAgICAgZWxzZSBhYWJiLm1heFkgKz0gZC55ICogdGhpcy5hYWJiTXVsdGlwbGllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5zZXJ0TGVhZihub2RlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydExlYWYobGVhZjogVHJlZU5vZGU8VD4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBsZWFmO1xuICAgICAgICAgICAgdGhpcy5yb290LnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZWFmQWFiYiA9IGxlYWYuYWFiYjtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5yb290O1xuXG4gICAgICAgIHdoaWxlICghaW5kZXguaXNMZWFmKCkpIHtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gaW5kZXgubGVmdCE7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBpbmRleC5yaWdodCE7XG5cbiAgICAgICAgICAgIGxldCBwZXIgPSBpbmRleC5hYWJiLmdldFBlcmltZXRlcigpO1xuXG5cbiAgICAgICAgICAgIGxldCBjb21iaW5lZEFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGluZGV4LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgIGxldCBjb21iaW5lZFBlciA9IGNvbWJpbmVkQWFiYi5nZXRQZXJpbWV0ZXIoKTtcblxuICAgICAgICAgICAgbGV0IGNvc3QgPSBjb21iaW5lZFBlciAqIDI7XG5cbiAgICAgICAgICAgIGxldCBpbmhlcml0YW5jZUNvc3QgPSAoY29tYmluZWRQZXIgLSBwZXIpICogMjtcblxuICAgICAgICAgICAgbGV0IGNvc3RMZWZ0O1xuICAgICAgICAgICAgaWYgKGxlZnQuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICBsZWZ0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBjb3N0TGVmdCA9IGNvbWJpbmVkQWFiYi5nZXRQZXJpbWV0ZXIoKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVmdC5hYWJiLmNvbWJpbmUobGVhZkFhYmIsIGNvbWJpbmVkQWFiYik7XG4gICAgICAgICAgICAgICAgbGV0IG9sZFBlcmltZXRlciA9IGxlZnQuYWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyaW1ldGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGNvc3RMZWZ0ID0gKG5ld1BlcmltZXRlciAtIG9sZFBlcmltZXRlcikgKyBpbmhlcml0YW5jZUNvc3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjb3N0UmlnaHQ7XG4gICAgICAgICAgICBpZiAocmlnaHQuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICByaWdodC5hYWJiLmNvbWJpbmUobGVhZkFhYmIsIGNvbWJpbmVkQWFiYik7XG4gICAgICAgICAgICAgICAgY29zdFJpZ2h0ID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByaWdodC5hYWJiLmNvbWJpbmUobGVhZkFhYmIsIGNvbWJpbmVkQWFiYik7XG4gICAgICAgICAgICAgICAgbGV0IG9sZFBlcmltZXRlciA9IHJpZ2h0LmFhYmIuZ2V0UGVyaW1ldGVyKCk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1BlcmltZXRlciA9IGNvbWJpbmVkQWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBjb3N0UmlnaHQgPSAobmV3UGVyaW1ldGVyIC0gb2xkUGVyaW1ldGVyKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvc3QgPCBjb3N0TGVmdCAmJiBjb3N0IDwgY29zdFJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb3N0TGVmdCA8IGNvc3RSaWdodCkgaW5kZXggPSBsZWZ0O1xuICAgICAgICAgICAgZWxzZSBpbmRleCA9IHJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpYmxpbmcgPSBpbmRleDtcbiAgICAgICAgbGV0IG9sZFBhcmVudCA9IHNpYmxpbmcucGFyZW50O1xuICAgICAgICBsZXQgbmV3UGFyZW50ID0gdGhpcy5hbGxvY2F0ZU5vZGUoKTtcblxuICAgICAgICBuZXdQYXJlbnQucGFyZW50ID0gb2xkUGFyZW50O1xuICAgICAgICBzaWJsaW5nLmFhYmIuY29tYmluZShsZWFmQWFiYiwgbmV3UGFyZW50LmFhYmIpO1xuICAgICAgICBuZXdQYXJlbnQuaGVpZ2h0ID0gc2libGluZy5oZWlnaHQgKyAxO1xuXG4gICAgICAgIGlmIChvbGRQYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVGhlIHNpYmxpbmcgd2FzIG5vdCB0aGUgcm9vdFxuICAgICAgICAgICAgaWYgKG9sZFBhcmVudC5sZWZ0ID09PSBzaWJsaW5nKSBvbGRQYXJlbnQubGVmdCA9IG5ld1BhcmVudDtcbiAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkUGFyZW50LnJpZ2h0ID0gbmV3UGFyZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhlIHNpYmxpbmcgd2FzIHRoZSByb290XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXdQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3UGFyZW50LmxlZnQgPSBzaWJsaW5nO1xuICAgICAgICBuZXdQYXJlbnQucmlnaHQgPSBsZWFmO1xuICAgICAgICBzaWJsaW5nLnBhcmVudCA9IG5ld1BhcmVudDtcbiAgICAgICAgbGVhZi5wYXJlbnQgPSBuZXdQYXJlbnQ7XG5cbiAgICAgICAgLy8gV2FsayBiYWNrIHVwIGZpeGluZyBoZWlnaHRzIGFuZCBBQUJCc1xuICAgICAgICBpbmRleCA9IGxlYWYucGFyZW50O1xuICAgICAgICB3aGlsZSAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJhbGFuY2UoaW5kZXgpO1xuXG4gICAgICAgICAgICBpbmRleC5oZWlnaHQgPSAxICsgTWF0aC5tYXgoaW5kZXgubGVmdCEuaGVpZ2h0LCBpbmRleC5yaWdodCEuaGVpZ2h0KTtcbiAgICAgICAgICAgIGluZGV4LmxlZnQhLmFhYmIuY29tYmluZShpbmRleC5yaWdodCEuYWFiYiwgaW5kZXguYWFiYik7XG5cbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXgucGFyZW50ITtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlTGVhZihsZWFmOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICBpZiAobGVhZiA9PT0gdGhpcy5yb290KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGFyZW50ID0gbGVhZi5wYXJlbnQhO1xuICAgICAgICBsZXQgZ3JhbmRQYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICBsZXQgc2libGluZztcbiAgICAgICAgaWYgKHBhcmVudC5sZWZ0ID09PSBsZWFmKSBzaWJsaW5nID0gcGFyZW50LnJpZ2h0ITtcbiAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nID0gcGFyZW50LmxlZnQhO1xuXG4gICAgICAgIGlmIChncmFuZFBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBEZXN0cm95IHBhcmVudCBhbmQgY29ubmVjdCBzaWJsaW5nIHRvIGdyYW5kUGFyZW50XG4gICAgICAgICAgICBpZiAoZ3JhbmRQYXJlbnQubGVmdCA9PT0gcGFyZW50KSBncmFuZFBhcmVudC5sZWZ0ID0gc2libGluZztcbiAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYW5kUGFyZW50LnJpZ2h0ID0gc2libGluZztcblxuICAgICAgICAgICAgc2libGluZy5wYXJlbnQgPSBncmFuZFBhcmVudDtcbiAgICAgICAgICAgIHRoaXMuZnJlZU5vZGUocGFyZW50KTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGFuY2VzdG9yIGJvdW5kc1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gZ3JhbmRQYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5iYWxhbmNlKGluZGV4KTtcblxuICAgICAgICAgICAgICAgIGluZGV4LmxlZnQhLmFhYmIuY29tYmluZShpbmRleC5yaWdodCEuYWFiYiwgaW5kZXguYWFiYik7XG4gICAgICAgICAgICAgICAgaW5kZXguaGVpZ2h0ID0gMSArIE1hdGgubWF4KGluZGV4LmxlZnQhLmhlaWdodCwgaW5kZXgucmlnaHQhLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4LnBhcmVudCE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBzaWJsaW5nO1xuICAgICAgICAgICAgc2libGluZy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmZyZWVOb2RlKHBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgcm90YXRpb24gaWYgY3VycmVudCBub2RlIGlzIGltYmFsYW5jZWQsIHJldHVybnMgdGhlIG5ldyBzdWItdHJlZSByb290LlxuICAgICAqIEBwYXJhbSBjdXJyZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGJhbGFuY2UoY3VycmVudDogVHJlZU5vZGU8VD4pOiBUcmVlTm9kZTxUPiB7XG4gICAgICAgIGxldCBhID0gY3VycmVudDtcblxuICAgICAgICBpZiAoYS5pc0xlYWYoKSB8fCBhLmhlaWdodCA8IDIpIHJldHVybiBhO1xuXG4gICAgICAgIGxldCBiID0gYS5sZWZ0ITtcbiAgICAgICAgbGV0IGMgPSBhLnJpZ2h0ITtcblxuICAgICAgICBsZXQgYmFsYW5jZSA9IGMuaGVpZ2h0IC0gYi5oZWlnaHQ7XG5cbiAgICAgICAgLy8gUm90YXRlIEMgdXBcbiAgICAgICAgaWYgKGJhbGFuY2UgPiAxKSB7XG4gICAgICAgICAgICBsZXQgZiA9IGMubGVmdCE7XG4gICAgICAgICAgICBsZXQgZyA9IGMucmlnaHQhO1xuXG4gICAgICAgICAgICAvLyBTd2FwIGEgYW5kIGNcbiAgICAgICAgICAgIGMubGVmdCA9IGE7XG4gICAgICAgICAgICBjLnBhcmVudCA9IGEucGFyZW50O1xuICAgICAgICAgICAgYS5wYXJlbnQgPSBjO1xuXG4gICAgICAgICAgICAvLyBhIHBhcmVudCBzaG91bGQgcG9pbnQgdG8gY1xuICAgICAgICAgICAgaWYgKGMucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5wYXJlbnQubGVmdCA9PT0gYSkgYy5wYXJlbnQubGVmdCA9IGM7XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgIGMucGFyZW50LnJpZ2h0ID0gYztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUm90YXRlXG4gICAgICAgICAgICBpZiAoZi5oZWlnaHQgPiBnLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGcucGFyZW50ID0gYTtcbiAgICAgICAgICAgICAgICBiLmFhYmIuY29tYmluZShnLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZi5hYWJiLCBjLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYi5oZWlnaHQsIGcuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZi5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjLnJpZ2h0ID0gZztcbiAgICAgICAgICAgICAgICBhLnJpZ2h0ID0gZjtcbiAgICAgICAgICAgICAgICBmLnBhcmVudCA9IGE7XG4gICAgICAgICAgICAgICAgYi5hYWJiLmNvbWJpbmUoZi5hYWJiLCBhLmFhYmIpO1xuICAgICAgICAgICAgICAgIGEuYWFiYi5jb21iaW5lKGcuYWFiYiwgYy5hYWJiKTtcblxuICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGIuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgYy5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYS5oZWlnaHQsIGcuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFsYW5jZSA8IC0xKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGIubGVmdCE7XG4gICAgICAgICAgICBsZXQgZSA9IGIucmlnaHQhO1xuXG4gICAgICAgICAgICAvLyBTd2FwIGEgYW5kIGJcbiAgICAgICAgICAgIGIubGVmdCA9IGE7XG4gICAgICAgICAgICBiLnBhcmVudCA9IGEucGFyZW50O1xuICAgICAgICAgICAgYS5wYXJlbnQgPSBiO1xuXG4gICAgICAgICAgICAvLyBhIHBhcmVudCBzaG91bGQgcG9pbnQgdG8gYlxuICAgICAgICAgICAgaWYgKGIucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYi5wYXJlbnQubGVmdCA9PT0gYSkgYi5wYXJlbnQubGVmdCA9IGI7XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgIGIucGFyZW50LnJpZ2h0ID0gYjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gYjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUm90YXRlXG4gICAgICAgICAgICBpZiAoZC5oZWlnaHQgPiBlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGIucmlnaHQgPSBkO1xuICAgICAgICAgICAgICAgIGEubGVmdCA9IGU7XG4gICAgICAgICAgICAgICAgZS5wYXJlbnQgPSBhO1xuXG4gICAgICAgICAgICAgICAgYy5hYWJiLmNvbWJpbmUoZS5hYWJiLCBhLmFhYmIpO1xuICAgICAgICAgICAgICAgIGEuYWFiYi5jb21iaW5lKGQuYWFiYiwgYi5hYWJiKTtcblxuICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGMuaGVpZ2h0LCBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgYi5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYS5oZWlnaHQsIGQuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYi5yaWdodCA9IGU7XG4gICAgICAgICAgICAgICAgYS5sZWZ0ID0gZDtcbiAgICAgICAgICAgICAgICBkLnBhcmVudCA9IGE7XG5cbiAgICAgICAgICAgICAgICBjLmFhYmIuY29tYmluZShkLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZS5hYWJiLCBiLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYy5oZWlnaHQsIGQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBiLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cblxuICAgICpxdWVyeShhYWJiOiBBYWJiKTogR2VuZXJhdG9yPFRyZWVOb2RlPFQ+PiB7XG4gICAgICAgIGxldCBzdGFjayA9IG5ldyBBcnJheTxUcmVlTm9kZTxUPj4oKTtcblxuICAgICAgICBpZiAodGhpcy5yb290ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3RhcnRpbmcgcXVlcnk6IFwiICsgYWFiYi50b1N0cmluZygpKTtcblxuICAgICAgICBzdGFjay5wdXNoKHRoaXMucm9vdCk7XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHN0YWNrLnBvcCgpITtcblxuICAgICAgICAgICAgbGV0IG92ZXJsYXAgPSBvdmVybGFwQWFiYlZzQWFiYihub2RlLmFhYmIsIGFhYmIpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlZpc2l0OiBcIiArIG5vZGUuaWQgKyBcIiA9IFwiICsgb3ZlcmxhcCk7XG4gICAgICAgICAgICBpZiAoIW92ZXJsYXApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAobm9kZS5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIG5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZS5sZWZ0ISk7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLnJpZ2h0ISk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCB7UG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgICBmcm9tWDogbnVtYmVyO1xuICAgIGZyb21ZOiBudW1iZXI7XG4gICAgdG9YOiBudW1iZXI7XG4gICAgdG9ZOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZnJvbVggPSBmeDtcbiAgICAgICAgdGhpcy5mcm9tWSA9IGZ5O1xuICAgICAgICB0aGlzLnRvWCA9IHR4O1xuICAgICAgICB0aGlzLnRvWSA9IHR5O1xuICAgIH1cblxuICAgIGRpc3RhbmNlKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkeCA9IHRoaXMudG9YIC0gdGhpcy5mcm9tWDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy50b1kgLSB0aGlzLmZyb21ZO1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICBkaXN0YW5jZVNxdWFyZWQoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy50b1ggLSB0aGlzLmZyb21YO1xuICAgICAgICBsZXQgZHkgPSB0aGlzLnRvWSAtIHRoaXMuZnJvbVk7XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9XG5cbiAgICBwcm9qZWN0UG9pbnQocDogUElYSS5JUG9pbnREYXRhLCB0YXJnZXQ6IFBvaW50LCBpZ25vcmVWYWxpZDogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmZyb21YID09PSB0aGlzLnRvWCAmJiB0aGlzLmZyb21ZID09PSB0aGlzLnRvWSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgdSA9ICgocC54IC0gdGhpcy5mcm9tWCkgKiAodGhpcy50b1ggLSB0aGlzLmZyb21YKSkgK1xuICAgICAgICAgICAgICAgICgocC55IC0gdGhpcy5mcm9tWSkgKiAodGhpcy50b1kgLSB0aGlzLmZyb21ZKSk7XG5cbiAgICAgICAgbGV0IHVkZW5vbSA9IHRoaXMuZGlzdGFuY2VTcXVhcmVkKCk7XG5cbiAgICAgICAgdSAvPSB1ZGVub207XG5cbiAgICAgICAgbGV0IHJ4ID0gdGhpcy5mcm9tWCArIHUgKiAodGhpcy50b1ggLSB0aGlzLmZyb21YKTtcbiAgICAgICAgbGV0IHJ5ID0gdGhpcy5mcm9tWSArIHUgKiAodGhpcy50b1kgLSB0aGlzLmZyb21ZKTtcblxuICAgICAgICBpZiAoaWdub3JlVmFsaWQpIHtcbiAgICAgICAgICAgIHRhcmdldC5zZXQocngsIHJ5KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1pbnggPSB0aGlzLmZyb21YLCBtYXh4ID0gdGhpcy50b1g7XG4gICAgICAgIGxldCBtaW55ID0gdGhpcy5mcm9tWSwgbWF4eSA9IHRoaXMudG9ZO1xuXG4gICAgICAgIGlmIChtaW54ID4gbWF4eCkgW21pbngsIG1heHhdID0gW21heHgsIG1pbnhdO1xuICAgICAgICBpZiAobWlueSA+IG1heHkpIFttaW55LCBtYXh5XSA9IFttYXh5LCBtaW55XTtcblxuICAgICAgICBsZXQgaXNWYWxpZCA9IChyeCA+PSBtaW54ICYmIHJ4IDw9IG1heHgpICYmIChyeSA+PSBtaW55ICYmIHJ5IDw9IG1heHkpO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICB0YXJnZXQuc2V0KHJ4LCByeSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHkoKTogTGluZSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluZShcbiAgICAgICAgICAgIHRoaXMuZnJvbVgsIHRoaXMuZnJvbVksXG4gICAgICAgICAgICB0aGlzLnRvWCwgdGhpcy50b1lcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge2NvbXB1dGVPYmJQb2ludHN9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xuXG5leHBvcnQgY2xhc3MgT2JiIHtcbiAgICB1bnJvdGF0ZWQ6IEFhYmI7XG4gICAgcm90YXRpb246IG51bWJlcjtcbiAgICByb3RWZXJ0ZXg6IEFycmF5PG51bWJlcj47XG5cbiAgICBjb25zdHJ1Y3Rvcih1bnJvdGF0ZWQ6IEFhYmIsIHJvdGF0aW9uOiBudW1iZXIsIHJvdFZlcnRleDogQXJyYXk8bnVtYmVyPikge1xuICAgICAgICB0aGlzLnVucm90YXRlZCA9IHVucm90YXRlZDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnJvdFZlcnRleCA9IHJvdFZlcnRleDtcbiAgICB9XG5cbiAgICByZWNvbXB1dGUoKSB7XG4gICAgICAgIHRoaXMucm90VmVydGV4ID0gY29tcHV0ZU9iYlBvaW50cyh0aGlzLnVucm90YXRlZCwgdGhpcy5yb3RhdGlvbik7XG4gICAgfVxuXG4gICAgY29weSgpOiBPYmIge1xuICAgICAgICByZXR1cm4gbmV3IE9iYih0aGlzLnVucm90YXRlZC5jb3B5KCksIHRoaXMucm90YXRpb24sIFsuLi50aGlzLnJvdFZlcnRleF0pO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHJvdGF0ZUFhYmIoYWFiYjogQWFiYiwgcm90OiBudW1iZXIpOiBPYmIge1xuICAgICAgICBpZiAocm90ID09PSAwKSByZXR1cm4gdGhpcy5mcm9tQWFiYihhYWJiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmIoYWFiYiwgcm90LCBjb21wdXRlT2JiUG9pbnRzKGFhYmIsIHJvdCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQWFiYihhYWJiOiBBYWJiKTogT2JiIHtcbiAgICAgICAgbGV0IHBvaW50cyA9IFtcbiAgICAgICAgICAgIGFhYmIubWluWCwgYWFiYi5taW5ZLFxuICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1heFksXG4gICAgICAgICAgICBhYWJiLm1heFgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5taW5ZXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBuZXcgT2JiKGFhYmIsIDAsIHBvaW50cyk7XG4gICAgfVxufSIsImltcG9ydCB7UG9pbnQsIFN0dXBpZFBvaW50fSBmcm9tIFwiLi9wb2ludFwiO1xuaW1wb3J0IHtMaW5lfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQge2ludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQsIFNlZ21lbnRWc1NlZ21lbnRSZXMsIHRyaWFuZ2xlQ29udGFpbnNQb2ludH0gZnJvbSBcIi4vY29sbGlzaW9uXCI7XG5pbXBvcnQge2Rpc3RTcXVhcmVkMmQsIGludGVyc2VjdExpbmVWc0xpbmV9IGZyb20gXCIuLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0JpbmFyeUhlYXB9IGZyb20gXCIuLi91dGlsL2JpbmFyeUhlYXBcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4vYWFiYlwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcblxuZXhwb3J0IGNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMDE7XG5cbmNsYXNzIEVuZFBvaW50IGV4dGVuZHMgUElYSS5Qb2ludCB7XG4gICAgYW5nbGU6IG51bWJlciA9IDA7XG4gICAgZGlzdDogbnVtYmVyID0gMDtcbiAgICBzZWdtZW50PzogU2VnbWVudDtcbn1cblxuY2xhc3MgU2VnbWVudCB7XG4gICAgZnJvbTogRW5kUG9pbnQ7XG4gICAgdG86IEVuZFBvaW50O1xuICAgIHVzZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihmOiBFbmRQb2ludCwgdDogRW5kUG9pbnQpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZjtcbiAgICAgICAgdGhpcy50byA9IHQ7XG4gICAgICAgIHRoaXMudXNlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gYSA8IGJcbmZ1bmN0aW9uIHNlZ21lbnRMdChhOiBTZWdtZW50LCBiOiBTZWdtZW50LCBvOiBTdHVwaWRQb2ludCk6IGJvb2xlYW4ge1xuICAgIC8vICpvcGVucyBwaGlsb3NvcGh5IGJvb2sqXG4gICAgLy8gQnV0IHdoYXQgZG9lcyBpdCBtZWFuIGZvciBhIHNlZ21lbnQgdG8gYmUgbGVzcyB0aGFuIGFub3RoZXIgb25lPyAocmVsYXRpdmUgdG8gYSBwb2ludClcbiAgICAvLyBUaGVyZSBhcmUgbXVsdGlwbGUgYWxnb3JpdGhtcyBmb3IgdGhpcywgdGhlIG9uZSB0aGF0IG1ha2VzIG1vc3Qgc2Vuc2UgdG8gbWUgaXMgd2hhdCBJIGNhbGwgdGhlXG4gICAgLy8gdHJpYW5ndWxhciBpbnRlcnNlY3Rpb246XG4gICAgLy8gR2l2ZW4gdHdvIHNlZ21lbnRzIGEsIGIgYW5kIGEgcG9pbnQgbyB3ZSBkZWZpbmUgYSA8IGIgPT0gdHJ1ZSBvbmx5IGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwb2ludCBpbiBiIHRoYXRcbiAgICAvLyBpcyBoaWRkZW4gYnkgYS5cbiAgICAvLyBGb3IgZXZlcnkgc2VnbWVudCB0aGVuIHRoZSBwcm9wZXJ0eSBhIDwgYiA9PiAhKGIgPCBhKSBpcyBtYWludGFpbmVkIG9ubHkgaWYgdGhlIHNlZ21lbnRzIGRvIG5vdCBpbnRlcnNlY3RcbiAgICAvLyAoYXMgdGhlIG9ubHkgd2F5IHRoYXQgdHdvIGxpbmVzIHdvdWxkIGhpZGUgZWFjaCBvdGhlciBpcyBpZiB0aGV5IG1lZXQgaW4gYSBwb2ludCkuXG4gICAgLy8gT24gYW5vdGhlciBub3RlLCB0aGUgcHJvcGVydHkgYSA8IGIsIGIgPCBjID0+IGEgPCBjIGlzIG5vdCBtYWludGFpbmVkIVxuICAgIC8vIEhvdyBjYW4gdGhpcyBiZSBjb21wdXRlZCwgdGhlbj9cblxuICAgIC8vIGEuZnJvbSBpcyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGZvcm1lZCBieSBiIGFuZCBvLCB0aGlzIG1lYW5zOlxuICAgIC8vIC0gYS50byBpcyBhbHNvIGluc2lkZSwgdGhlbiBhIDwgYlxuICAgIC8vIC0gYS50byBpcyBvdXRzaWRlLCB0aGVuIGEgPCBiXG4gICAgaWYgKHRyaWFuZ2xlQ29udGFpbnNQb2ludChhLmZyb20sIGIuZnJvbSwgYi50bywgbykpIHJldHVybiB0cnVlO1xuICAgIGlmICh0cmlhbmdsZUNvbnRhaW5zUG9pbnQoYS50bywgYi5mcm9tLCBiLnRvLCBvKSkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBJZiB3ZSBhcnJpdmUgaGVyZSB3ZSBjYW4gYmUgc3VyZSB0aGF0IG5laXRoZXIgcG9pbnRzIG9mIGEgaXMgaW5zaWRlIHRoZSB0cmlhbmdsZSxcbiAgICAvLyBBIHNlZ21lbnQgd2l0aCBib3RoIHBvaW50cyBvdXRzaWRlIG9mIHRoZSB0cmlhbmdsZSBjYW4gaW50ZXJzZWN0IGl0IG9ubHkgYnkgaW50ZXJzZWN0aW5nIHR3byBvZiB0aGUgdGhyZWVcbiAgICAvLyBsaW5lcy4gV2UgYWxyZWFkeSBhc3N1bWUgdGhhdCBhIGFuZCBiIGNhbm5vdCBpbnRlcnNlY3Qgc28gd2UgY2FuIGNoZWNrIGVpdGhlciAoYi5mcm9tLCBvKSBvciAoYi50bywgbykgYW5kIHNlZVxuICAgIC8vIGlmIGl0IGludGVyc2VjdHMgd2l0aCBhXG5cbiAgICBsZXQgYzEgPSBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KFxuICAgICAgICBuZXcgTGluZShiLmZyb20ueCwgYi5mcm9tLnksIG8ueCwgby55KSxcbiAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICApO1xuICAgIGlmIChjMSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IGMyID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChcbiAgICAgICAgbmV3IExpbmUoYi50by54LCBiLnRvLnksIG8ueCwgby55KSxcbiAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICApO1xuICAgIGlmIChjMiA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIHJldHVybiB0cnVlO1xuXG5cbiAgICAvLyBFZGdlIGNhc2U6IG9uZSBvZiB0aGUgZW5kIHBvaW50cyBvZiB0aGUgc2Vjb25kIGxpbmUgKHRoZSBzZWdtZW50IGEpIGxpZXNcbiAgICAvLyBpbiB0aGUgbGluZSAoYi5mcm9tLCBvKSwgdGhpcyBtaWdodCBtZWFuIHR3byB0aGluZ3M6XG4gICAgLy8gMTogdGhlIGxpbmUgc2hhcmVzIGEgcG9pbnQgYnV0IGRvZXMgbm90IGJsb2NrIHRoZSBzZWNvbmQgc2VnbWVudCdzIHZpZXdcbiAgICAvLyAyOiB0aGUgbGluZSBzaGFyZXMgYSBwb2ludCBhbmQgdGhlIG90aGVyIHBvaW50IGJsb2NrcyB0aGUgd2hvbGUgdmlldyAoaGl0dGluZyB0aGUgb3RoZXIgdHJpYW5nbGUgbGluZSlcbiAgICAvLyB3ZSB3YW50IHRvIGNoZWNrIHRoZSBzZWNvbmQgY2FzZSwgc28gbGV0J3MgdHJ5IHRoZSBzZWNvbmQgc2VnbWVudCBpbnRlcnNlY3RcbiAgICBpZiAoKGMxICYgU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0IpICE9PSAwICYmIGMyICE9PSBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgoYzIgJiBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQikgIT09IDAgJiYgYzEgIT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBFZGdlIGNhc2Ugbi4yIChJJ20ga2luZGEgaGF0aW5nIG9uIGdyaWRzKVxuICAgIC8vIFRoZSBzZWdtZW50IGEgY291bGQgbGF5IGEgcG9pbnQgb24gdGhlIGxpbmUgYmV0d2VlbiAoYi5mcm9tL3RvLCBvKSBhbmQgdGhlIG90aGVyIGluIGJcbiAgICAvLyBFZGdlIGNhc2Ugb2YgdGhlIGVkZ2UgY2FzZTogSWYgdGhlIHNlZ21lbnQgaXMgaW4gYW55IG9mIHRoZSBlbmRwb2ludHMgb2YgYiB0aGVuIGl0IGRvZXMgbm90IG9jY2x1ZGUgdGhlIHZpZXdcbiAgICBpZiAoKChjMSB8IGMyKSAmIChTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQiB8IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9BKSkgPT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CKSB7XG4gICAgICAgIGxldCBjMyA9IGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoXG4gICAgICAgICAgICBuZXcgTGluZShiLmZyb20ueCwgYi5mcm9tLnksIGIudG8ueCwgYi50by55KSxcbiAgICAgICAgICAgIG5ldyBMaW5lKGEuZnJvbS54LCBhLmZyb20ueSwgYS50by54LCBhLnRvLnkpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjMyAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIG1lYW5zIGEgPj0gYlxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5pdFNlZ21lbnQoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcG9zOiBTdHVwaWRQb2ludCk6IFNlZ21lbnQge1xuICAgIGxldCBhID0gbmV3IEVuZFBvaW50KHgxLCB5MSk7XG4gICAgbGV0IGIgPSBuZXcgRW5kUG9pbnQoeDIsIHkyKTtcblxuICAgIGEuYW5nbGUgPSBNYXRoLmF0YW4yKHBvcy55IC0gYS55LCBwb3MueCAtIGEueCk7XG4gICAgYi5hbmdsZSA9IE1hdGguYXRhbjIocG9zLnkgLSBiLnksIHBvcy54IC0gYi54KTtcbiAgICBhLmRpc3QgPSBkaXN0U3F1YXJlZDJkKHBvcy54LCBwb3MueSwgYS54LCBhLnkpO1xuICAgIGIuZGlzdCA9IGRpc3RTcXVhcmVkMmQocG9zLngsIHBvcy55LCBiLngsIGIueSk7XG5cbiAgICBsZXQgcyA9IG5ldyBTZWdtZW50KGEsIGIpO1xuICAgIGEuc2VnbWVudCA9IHM7XG4gICAgYi5zZWdtZW50ID0gcztcblxuICAgIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlMChwb3M6IFN0dXBpZFBvaW50LCBzZWdtZW50czogU2VnbWVudFtdKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgbGV0IHBvaW50cyA9IG5ldyBBcnJheTxFbmRQb2ludD4oKTtcbiAgICBmb3IgKGxldCBzIG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKHMuZnJvbSwgcy50byk7XG4gICAgfVxuXG4gICAgLy8gTyhObG9nKE4pKVxuICAgIHBvaW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLmFuZ2xlIC0gYi5hbmdsZTtcbiAgICB9KTtcblxuICAgIGxldCBzZWdtZW50UHJpb3JpdHlRdWV1ZSA9IG5ldyBCaW5hcnlIZWFwPFNlZ21lbnQ+KChhLCBiKSA9PiBzZWdtZW50THQoYSwgYiwgcG9zKSk7XG5cbiAgICAvLyBQb3B1bGF0ZSB0aGUgcHJpb3JpdHkgcXVldWUgTyhObG9nKE4pKVxuICAgIC8vIFRoZSBwcmlvcml0eSBxdWV1ZSBzaG91bGQgYWxyZWFkeSBoYXZlIGFsbCB0aGUgc2VnbWVudCBpdCBjb2xsaWRlcyB3aXRoLCBidXQgZG8gbm90IGZlYXIgYXNcbiAgICAvLyB0aGUgbWF0aCBpcyBxdWl0ZSBzaW1wbGUgYW5kIHN0cmFpZ2h0Zm9yd2FyZDpcbiAgICAvLyBXZSBzaG91bGQgY2hlY2sgdGhhdCB0aGUgc2VnbWVudCBjb2xsaWRlcyB3aXRoIHRoZSBsaW5lIHRoYXQgc3RhcnRzIGF0IHBvcyBhbmQgaGFzIGFuZ2xlID0gLU1hdGguUEkuXG4gICAgLy8gVG8gZG8gdGhhdCB3ZSBjYW4ganVzdCBjaGVjayB0aGUgYW5nbGVzIG9mIHRoZSB0d28gZW5kcG9pbnRzIChkcmF3IGl0IGluIGEgcGllY2Ugb2YgcGFwZXIsIGl0J3MgZWFzaWVyIGlmIHNob3duKS5cbiAgICBmb3IgKGxldCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIGxldCBmYSA9IHNlZ21lbnQuZnJvbS5hbmdsZTtcbiAgICAgICAgbGV0IHRhID0gc2VnbWVudC50by5hbmdsZTtcblxuICAgICAgICBsZXQgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaXNBY3RpdmUgfHw9IGZhIDw9IDAgJiYgdGEgPj0gMCAmJiB0YSAtIGZhID4gTWF0aC5QSTtcbiAgICAgICAgaXNBY3RpdmUgfHw9IHRhIDw9IDAgJiYgZmEgPj0gMCAmJiBmYSAtIHRhID4gTWF0aC5QSTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wdXNoKHNlZ21lbnQpO1xuICAgIH1cblxuICAgIGxldCBwb2x5Z29uID0gbmV3IEFycmF5PG51bWJlcj4oKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDspIHtcbiAgICAgICAgLy8gRXh0ZW5kIHNpZ25hbHMgdGhhdCB0aGUgZmlyc3Qgc2VnbWVudCBoYXMgZW5kZWRcbiAgICAgICAgLy8gd2Ugc2hvdWxkIHRoZW4gZXh0ZW5kIHRoZSBwb2x5Z29uIHRvIHRoZSBuZXcgZmlyc3QgdmlzaWJsZSBzZWdtZW50LlxuICAgICAgICBsZXQgZXh0ZW5kID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IG9yaWcgPSBpOy8vIFRoZSBvcmlnaW5hbCBwb2ludCBpbmRleFxuICAgICAgICBsZXQgdmVydGV4ID0gcG9pbnRzW2ldO1xuICAgICAgICBsZXQgb2xkU2VnbWVudCA9IHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSE7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGV0IGN1cnJTZWdtZW50ID0gcG9pbnRzW2ldLnNlZ21lbnQhXG4gICAgICAgICAgICBpZiAoc2VnbWVudFByaW9yaXR5UXVldWUuaGFzRWxlbShjdXJyU2VnbWVudCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclNlZ21lbnQgPT09IG9sZFNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wb3BFbGVtKGN1cnJTZWdtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudFByaW9yaXR5UXVldWUucHVzaChjdXJyU2VnbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGlmIChpID09PSBwb2ludHMubGVuZ3RoKSBicmVhaztcbiAgICAgICAgfSB3aGlsZSAocG9pbnRzW2ldLmFuZ2xlIDwgcG9pbnRzW29yaWddLmFuZ2xlICsgRVBTSUxPTik7XG5cbiAgICAgICAgc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpIS51c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGV4dGVuZCkge1xuICAgICAgICAgICAgLy8gVmVydGV4IGlzIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgb2xkIHNlZ21lbnQsIHdlIG5lZWQgdG8gcHVzaCB0aGlzIHJpZ2h0IGF3YXlcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaCh2ZXJ0ZXgueCwgdmVydGV4LnkpO1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgICAgIGxldCBmaXJzdFNlZyA9IHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSE7XG4gICAgICAgICAgICBpbnRlcnNlY3RMaW5lVnNMaW5lKGZpcnN0U2VnLmZyb20sIGZpcnN0U2VnLnRvLCBwb3MsIHZlcnRleCwgcG9pbnQpO1xuICAgICAgICAgICAgaWYgKCEoTWF0aC5hYnMocG9pbnQueCAtIHZlcnRleC54KSA8IEVQU0lMT04gJiYgTWF0aC5hYnMocG9pbnQueSAtIHZlcnRleC55KSA8IEVQU0lMT04pKSB7XG4gICAgICAgICAgICAgICAgcG9seWdvbi5wdXNoKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSAhPSBvbGRTZWdtZW50KSB7XG4gICAgICAgICAgICAvLyBBIG5ldyBzZWdtZW50IGhhcyBoaWRkZW4gdGhlIG9sZCBmaXJzdCBzZWdtZW50LlxuICAgICAgICAgICAgLy8gRmlyc3QgY29tcHV0ZSB3aGVyZSB0aGUgb2xkIHNlZ21lbnQgaGFzIGJlZW4gaGlkZGVuLCBhbmQgcHVzaCB0aGF0IHBvaW50IHRvIHRoZSBwb2x5Z29uXG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICAgICAgaW50ZXJzZWN0TGluZVZzTGluZShvbGRTZWdtZW50LmZyb20sIG9sZFNlZ21lbnQudG8sIHBvcywgdmVydGV4LCBwb2ludCk7XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2gocG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgICAgIC8vIFRoZW4gY29tcHV0ZSB3aGVyZSB0aGUgbmV3IHNlZ21lbnQgaW50ZXJzZWN0c1xuICAgICAgICAgICAgbGV0IG5ld0Nsb3Nlc3QgPSBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wZWVrKCkhO1xuICAgICAgICAgICAgbGV0IG5Qb2ludDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXdDbG9zZXN0LmZyb20uYW5nbGUgLSBwb2ludHNbb3JpZ10uYW5nbGUpIDwgRVBTSUxPTikge1xuICAgICAgICAgICAgICAgIG5Qb2ludCA9IG5ld0Nsb3Nlc3QuZnJvbTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgblBvaW50ID0gbmV3Q2xvc2VzdC50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKE1hdGguYWJzKHBvaW50LnggLSBuUG9pbnQueCkgPCBFUFNJTE9OICYmIE1hdGguYWJzKHBvaW50LnkgLSBuUG9pbnQueSkgPCBFUFNJTE9OKSkge1xuICAgICAgICAgICAgICAgIHBvbHlnb24ucHVzaChuUG9pbnQueCwgblBvaW50LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2x5Z29uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZShwb3M6IFBvaW50LCBpblNlZ21lbnRzOiBMaW5lW10pOiBBcnJheTxudW1iZXI+IHtcbiAgICBsZXQgc2VnbWVudHMgPSBuZXcgQXJyYXk8U2VnbWVudD4oaW5TZWdtZW50cy5sZW5ndGgpO1xuXG4gICAgLy8gTyhOKVxuICAgIGZvciAobGV0IHNlZ21lbnQgb2YgaW5TZWdtZW50cykge1xuICAgICAgICBsZXQgcyA9IGluaXRTZWdtZW50KHNlZ21lbnQuZnJvbVgsIHNlZ21lbnQuZnJvbVksIHNlZ21lbnQudG9YLCBzZWdtZW50LnRvWSwgcG9zKTtcblxuICAgICAgICBzZWdtZW50cy5wdXNoKHMpO1xuICAgIH1cblxuICAgIHJldHVybiBjb21wdXRlMChwb3MsIHNlZ21lbnRzKTtcbn1cblxuY29uc3QgSU5TSURFID0gMDtcbmNvbnN0IExFRlQgPSAxO1xuY29uc3QgUklHSFQgPSAyO1xuY29uc3QgQk9UVE9NID0gNDtcbmNvbnN0IFRPUCA9IDg7XG5cbmZ1bmN0aW9uIGNvbXB1dGVPdXRDb2RlKGJveDogQWFiYiwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBjb2RlID0gSU5TSURFO1xuXG4gICAgaWYgICAgICAoeCA8IGJveC5taW5YKSBjb2RlIHw9IExFRlQ7XG4gICAgZWxzZSBpZiAoeCA+IGJveC5tYXhYKSBjb2RlIHw9IFJJR0hUO1xuXG4gICAgaWYgICAgICAoeSA8IGJveC5taW5ZKSBjb2RlIHw9IEJPVFRPTTtcbiAgICBlbHNlIGlmICh5ID4gYm94Lm1heFkpIGNvZGUgfD0gVE9QO1xuXG4gICAgcmV0dXJuIGNvZGU7XG59XG5cbmZ1bmN0aW9uIGNsaXBTZWdtZW50KGxpbmU6IExpbmUsIGFhYmI6IEFhYmIsIGxpZ2h0OiBTdHVwaWRQb2ludCk6IFNlZ21lbnQgfCB1bmRlZmluZWQge1xuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvaGVuJUUyJTgwJTkzU3V0aGVybGFuZF9hbGdvcml0aG1cbiAgICBsZXQgeDAgPSBsaW5lLmZyb21YO1xuICAgIGxldCB5MCA9IGxpbmUuZnJvbVk7XG4gICAgbGV0IHgxID0gbGluZS50b1g7XG4gICAgbGV0IHkxID0gbGluZS50b1k7XG5cbiAgICBsZXQgY29kZTAgPSBjb21wdXRlT3V0Q29kZShhYWJiLCB4MCwgeTApO1xuICAgIGxldCBjb2RlMSA9IGNvbXB1dGVPdXRDb2RlKGFhYmIsIHgxLCB5MSk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoKGNvZGUwIHwgY29kZTEpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBiaXR3aXNlIE9SIGlzIDA6IGJvdGggcG9pbnRzIGluc2lkZSB3aW5kb3c7IHRyaXZpYWxseSBhY2NlcHQgYW5kIGV4aXQgbG9vcFxuICAgICAgICAgICAgcmV0dXJuIGluaXRTZWdtZW50KHgwLCB5MCwgeDEsIHkxLCBsaWdodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGNvZGUwICYgY29kZTEpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBmYWlsZWQgYm90aCB0ZXN0cywgc28gY2FsY3VsYXRlIHRoZSBsaW5lIHNlZ21lbnQgdG8gY2xpcFxuICAgICAgICAgICAgLy8gZnJvbSBhbiBvdXRzaWRlIHBvaW50IHRvIGFuIGludGVyc2VjdGlvbiB3aXRoIGNsaXAgZWRnZVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCB4ID0gMCwgeSA9IDA7XG5cbiAgICAgICAgICAgIC8vIEF0IGxlYXN0IG9uZSBlbmRwb2ludCBpcyBvdXRzaWRlIHRoZSBjbGlwIHJlY3RhbmdsZTsgcGljayBpdC5cbiAgICAgICAgICAgIGxldCBjb2RlT3V0ID0gY29kZTEgPiBjb2RlMCA/IGNvZGUxIDogY29kZTA7XG5cbiAgICAgICAgICAgIC8vIE5vdyBmaW5kIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQ7XG4gICAgICAgICAgICAvLyB1c2UgZm9ybXVsYXM6XG4gICAgICAgICAgICAvLyAgIHNsb3BlID0gKHkxIC0geTApIC8gKHgxIC0geDApXG4gICAgICAgICAgICAvLyAgIHggPSB4MCArICgxIC8gc2xvcGUpICogKHltIC0geTApLCB3aGVyZSB5bSBpcyB5bWluIG9yIHltYXhcbiAgICAgICAgICAgIC8vICAgeSA9IHkwICsgc2xvcGUgKiAoeG0gLSB4MCksIHdoZXJlIHhtIGlzIHhtaW4gb3IgeG1heFxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB3b3JyeSBhYm91dCBkaXZpZGUtYnktemVybyBiZWNhdXNlLCBpbiBlYWNoIGNhc2UsIHRoZVxuICAgICAgICAgICAgLy8gb3V0Y29kZSBiaXQgYmVpbmcgdGVzdGVkIGd1YXJhbnRlZXMgdGhlIGRlbm9taW5hdG9yIGlzIG5vbi16ZXJvXG5cbiAgICAgICAgICAgIGlmICgoY29kZU91dCAmIFRPUCkgIT09IDApIHsgICAgICAgICAgIC8vIHBvaW50IGlzIGFib3ZlIHRoZSBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHggPSB4MCArICh4MSAtIHgwKSAqIChhYWJiLm1heFkgLSB5MCkgLyAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgeSA9IGFhYmIubWF4WTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvZGVPdXQgJiBCT1RUT00pICE9PSAwKSB7IC8vIHBvaW50IGlzIGJlbG93IHRoZSBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHggPSB4MCArICh4MSAtIHgwKSAqIChhYWJiLm1pblkgLSB5MCkgLyAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgeSA9IGFhYmIubWluWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvZGVPdXQgJiBSSUdIVCkgIT09IDApIHsgIC8vIHBvaW50IGlzIHRvIHRoZSByaWdodCBvZiBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHkgPSB5MCArICh5MSAtIHkwKSAqIChhYWJiLm1heFggLSB4MCkgLyAoeDEgLSB4MCk7XG4gICAgICAgICAgICAgICAgeCA9IGFhYmIubWF4WDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvZGVPdXQgJiBMRUZUKSAhPT0gMCkgeyAgIC8vIHBvaW50IGlzIHRvIHRoZSBsZWZ0IG9mIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeSA9IHkwICsgKHkxIC0geTApICogKGFhYmIubWluWCAtIHgwKSAvICh4MSAtIHgwKTtcbiAgICAgICAgICAgICAgICB4ID0gYWFiYi5taW5YO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3cgd2UgbW92ZSBvdXRzaWRlIHBvaW50IHRvIGludGVyc2VjdGlvbiBwb2ludCB0byBjbGlwXG4gICAgICAgICAgICAvLyBhbmQgZ2V0IHJlYWR5IGZvciBuZXh0IHBhc3MuXG4gICAgICAgICAgICBsZXQgY29kZSA9IGNvbXB1dGVPdXRDb2RlKGFhYmIsIHgsIHkpO1xuICAgICAgICAgICAgaWYgKGNvZGVPdXQgPT09IGNvZGUwKSB7XG4gICAgICAgICAgICAgICAgeDAgPSB4O1xuICAgICAgICAgICAgICAgIHkwID0geTtcbiAgICAgICAgICAgICAgICBjb2RlMCA9IGNvZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHgxID0geDtcbiAgICAgICAgICAgICAgICB5MSA9IHk7XG4gICAgICAgICAgICAgICAgY29kZTEgPSBjb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVZpZXdwb3J0KGxpbmVzOiBMaW5lW10sIGFhYmI6IEFhYmIsIGxpZ2h0OiBTdHVwaWRQb2ludCwgdXNlZExpbmVzPzogbnVtYmVyW10pOiBBcnJheTxudW1iZXI+IHtcbiAgICAvL2NvbnNvbGUubG9nKFwiTGluZXM6IFwiICsgbGluZXMubGVuZ3RoKTtcbiAgICBsZXQgc2VnbWVudHMgPSBuZXcgQXJyYXk8U2VnbWVudD4oKTtcblxuICAgIGxldCBsaW5lTGVuID0gbGluZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZUxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gY2xpcFNlZ21lbnQobGluZXNbaV0sIGFhYmIsIGxpZ2h0KTtcbiAgICAgICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKHNlZ21lbnQgYXMgYW55KS5pbmRleCA9IGk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJEb25lXCIpO1xuICAgIC8vIFB1c2ggdmlld3BvcnQgc2VnbWVudHM6XG4gICAgc2VnbWVudHMucHVzaChcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5taW5YLCBhYWJiLm1pblksIGFhYmIubWluWCwgYWFiYi5tYXhZLCBsaWdodCksXG4gICAgICAgIGluaXRTZWdtZW50KGFhYmIubWluWCwgYWFiYi5tYXhZLCBhYWJiLm1heFgsIGFhYmIubWF4WSwgbGlnaHQpLFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1heFgsIGFhYmIubWF4WSwgYWFiYi5tYXhYLCBhYWJiLm1pblksIGxpZ2h0KSxcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5tYXhYLCBhYWJiLm1pblksIGFhYmIubWluWCwgYWFiYi5taW5ZLCBsaWdodCksXG4gICAgKTtcblxuICAgIC8vY29uc29sZS5sb2coXCJTRUdNRU5UUzogXCIsIHNlZ21lbnRzKTtcblxuICAgIGxldCBwb2x5ID0gY29tcHV0ZTAobGlnaHQsIHNlZ21lbnRzKTtcblxuICAgIGlmICh1c2VkTGluZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBDb21wdXRlIHdoYXQgbGluZXMgaGF2ZSBiZWVuIHVzZWRcbiAgICAgICAgbGV0IHNlZ0xlbiA9IHNlZ21lbnRzLmxlbmd0aCAtIDQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnTGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgICBpZiAocy51c2VkKSB1c2VkTGluZXMucHVzaCgocyBhcyBhbnkpLmluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwb2x5O1xufVxuIiwiLy8gQ29tbW9uIGluZm8gYWJvdXQgdGhlIGdyYXBoaWNhbCBzeXN0ZW1zLCB0aGlzIHNob3VsZCBiZSBhIHNlbWktYWJzdHJhY3Rpb24uXG4vLyBOT05FIE9GIFRISVMgU0hPVUxEIEJFIFNFUklBTElaRUQhIFRISVMgSVMgQUxMIFJVTlRJTUUgREVQRU5EQU5UISBERVRBSUxTIFdJTEwgQ0hBTkdFIEJFVFdFRU4gTUlOT1IgVkVSU0lPTlMhXG5cbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi9lY3MvY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFID0gJ3JlbWVtYmVyX2JpdF9ieV9iaXRfdmlzX3VwZGF0ZSc7XG5cbmV4cG9ydCB0eXBlIEdSQVBISUNfVFlQRSA9IFwiZ3JhcGhpY1wiO1xuZXhwb3J0IGNvbnN0IEdSQVBISUNfVFlQRSA9IFwiZ3JhcGhpY1wiO1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgZGlzcGxheTogRGlzcGxheUVsZW1lbnQ7XG4gICAgLy8gV2h5IGRvZXMgdGhpcyBmbGFnIGV4aXN0PyBnb29kIHRoaW5nIHlvdSBhc2tlZCEgV2FsbHMgaGF2ZSBhIHNwZWNpYWwgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgZG9lc1xuICAgIC8vIG5vdCB1c2UgaW1wcmVjaXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24sIHRoZXkgdXNlIGRhdGEgZXh0cmFjdGVkIGZyb20gdGhlIHZpc2liaWxpdHkgcG9seWdvbiBhbGdvcml0aG0uXG4gICAgLy8gSWYgeW91IHRoaW5rIGFib3V0IGl0IGEgYml0IGl0J3Mgbm90IHRoYXQgZmFyLWZldGNoZWQsIHRoZSBhbGdvcml0aG0gY29tcHV0ZXMgYWxsIG9mIHRoZSB2aXNpYmlsaXR5IHBhdGhzLCBpdFxuICAgIC8vIHNob3VsZCBhbHNvIGtub3cgd2hhdCB3YWxscyBhcmUgYmVpbmcgdXNlZCAoYW5kIHdlIGdldCB0aGF0IGluZm8gZm9yIGZyZWUhKS5cbiAgICBpc1dhbGw/OiB0cnVlO1xuICAgIGludGVyYWN0aXZlOiBib29sZWFuOy8vIFdoZW4gdHJ1ZSB0aGlzIGVsZW1lbnQgd2lsbCBiZSBhZGRlZCB0byB0aGUgSW50ZXJhY3Rpb24gc3lzdGVtXG59XG5cbmV4cG9ydCBlbnVtIEVsZW1lbnRUeXBlIHtcbiAgICBDT05UQUlORVIsXG4gICAgSU1BR0UsXG4gICAgTElORSxcbiAgICBQT0lOVCxcbiAgICBURVhULFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc3BsYXlFbGVtZW50IGV4dGVuZHMgVmlzaWJpbGl0eU9wdGlvbnMge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlO1xuICAgIGlnbm9yZTogYm9vbGVhbjtcbiAgICBwcmlvcml0eTogbnVtYmVyOy8vIChpZ25vcmVkIGlmIHRleHQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMpXG4gICAgb2Zmc2V0PzogUElYSS5JUG9pbnREYXRhO1xuICAgIGNoaWxkcmVuPzogRGlzcGxheUVsZW1lbnRbXTtcbiAgICAvLyBUaGVzZSBhcmUgYWtpbiB0byBmdW5jdGlvbiBjYWxscywgdXBvbiB1cGRhdGluZyB0aGUgc3lzdGVtIGluIGNoYXJnZSBvZlxuICAgIC8vIEdVSSBlZGl0aW5nIHdpbGwgYWRkL3JlbW92ZS9yZXBsYWNlIHRoZSBjaGlsZHJlbnMgY29udGFpbmVkXG4gICAgX2NoaWxkcmVuQWRkPzogRGlzcGxheUVsZW1lbnRbXTtcbiAgICBfY2hpbGRyZW5SZW1vdmU/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIF9jaGlsZHJlblJlcGxhY2U/OiBEaXNwbGF5RWxlbWVudFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuY2hvcmFibGVFbGVtZW50IHtcbiAgICBhbmNob3I6IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2xvcmFibGVFbGVtZW50IHtcbiAgICBjb2xvcjogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBWaXNpYmlsaXR5VHlwZSB7XG4gICAgLy8gWW91IG9ubHkgc2VlIG9uZSB0aGluZyB3aGVuIHlvdSBzZWUgaXQhIHNlZW1zIHN0dXBpZCBidXQgeW91IGNhbiBhbHNvIHJlbWVtYmVyIHRoaW5nc1xuICAgIE5PUk1BTCxcbiAgICAvLyBBIHBsYXllciBjYW4gYWx3YXlzIHNlZSBpdHNlbGYsIGV2ZW4gd2l0aCBubyBsaWdodCwgXCJJIHRoaW5rIHRoZXJlZm9yZSBJIGFtXCJcbiAgICBBTFdBWVNfVklTSUJMRSxcbiAgICAvLyBZb3UnbGwgcmVtZW1iZXIgb25jZSB5b3Ugc2VlIGl0XG4gICAgUkVNRU1CRVIsXG4gICAgLy8gVXNlZCBpbiBpbWFnZXMsIHlvdSBvbmx5IHJlbWVtYmVyIHdoYXQgeW91IHNlZSEgKG9ubHkgc3VwcG9ydCBpbWFnZXMgZm9yIG5vdylcbiAgICBSRU1FTUJFUl9CSVRfQllfQklULFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlPcHRpb25zIHtcbiAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGU7XG59XG5cbi8vIFJlYWwgY29tcG9uZW50c1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuQ09OVEFJTkVSO1xufVxuXG5leHBvcnQgZW51bSBJbWFnZVNjYWxlTW9kZSB7XG4gICAgLy8gMSBwaXhlbCA9IDEqc2NhbGUgcGl4ZWxzXG4gICAgUkVBTCxcbiAgICAvLyAxIHBpeGVsID0gMSpncmlkU2l6ZSpzY2FsZSBwaXhlbHNcbiAgICBHUklELFxufVxuXG4vLyBUT0RPOiBjcmVhdGUgYSBzaGFyZWQgcmVzb3VyY2VzIHJlc291cmNlIGFuZCBwdXQgdGV4dHVyZXMgaW4gdGhlbSAodGhlbiBwdXQgYmFja2dyb3VuZHMgaW4gaXQhKS5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQsIEFuY2hvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5JTUFHRTtcbiAgICBzY2FsZTogSW1hZ2VTY2FsZU1vZGU7XG4gICAgdGV4dHVyZTogUElYSS5UZXh0dXJlO1xuICAgIHNoYXJlZFRleHR1cmU/OiB0cnVlOy8vIElmIHRoaXMgZmllbGQgaXMgcHJlc2VudCB0aGUgdGV4dHVyZSB3b24ndCBiZSBkZXN0cm95ZWRcbiAgICB0aW50OiBudW1iZXI7XG4gICAgLy8gT3V0cHV0IG9mIHRoZSB2aXNpYmxlIGltYWdlLCBvbmx5IGF2YWlsYWJsZSBpZiB2aXNpYj1SRU1FTUJFUl9CSVRfQllfQklUIGFuZCBpdCdzIGFuIGltYWdlXG4gICAgLy8gdXBkYXRlZCB3aGVuIHRoZSBlbnRpdHkgaXMgc2VyaWFsaXplZCwgd2hlbiBpdCBpcyBFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFIGlzIGZpcmVkIHdpdGggYSBsaXN0XG4gICAgLy8gb2YgdXBkYXRlZCBlbnRpdGllcy5cbiAgICB2aXNNYXA/OiBVaW50MzJBcnJheTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lRWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50LCBDb2xvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5MSU5FO1xuICAgIHZlYzogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50RWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50LCBDb2xvcmFibGVFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5QT0lOVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0RWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50LCBBbmNob3JhYmxlRWxlbWVudCwgQ29sb3JhYmxlRWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuVEVYVDtcbiAgICB0ZXh0OiBzdHJpbmc7XG59XG4iLCJpbXBvcnQge1N0YWdlfSBmcm9tIFwiLi9waGFzZS9zdGFnZVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4vUElYSVwiO1xuXG5pbXBvcnQge0hvbWVQaGFzZX0gZnJvbSBcIi4vcGhhc2UvaG9tZVBoYXNlXCI7XG5cbmltcG9ydCB7RXZlbnRFbWl0dGVyV3JhcHBlcn0gZnJvbSBcIi4vdXRpbC9ldmVudEVtaXR0ZXJXcmFwcGVyXCI7XG5cbmltcG9ydCBWdWUgZnJvbSAndnVlJ1xuaW1wb3J0IHsgQm9vdHN0cmFwVnVlIH0gZnJvbSAnYm9vdHN0cmFwLXZ1ZSdcblxuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9jc3MvYWxsLmNzcydcbmltcG9ydCAnQGZvcnRhd2Vzb21lL2ZvbnRhd2Vzb21lLWZyZWUvanMvYWxsLmpzJ1xuXG5WdWUudXNlKEJvb3RzdHJhcFZ1ZSlcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFB1YmxpY1xuXG5pbXBvcnQgXCJQdWJsaWMvc3R5bGUuY3NzXCI7XG5pbXBvcnQge0NsaWVudEVkaXRNYXBQaGFzZX0gZnJvbSBcIi4vcGhhc2UvZWRpdE1hcC9jbGllbnRFZGl0TWFwUGhhc2VcIjtcbmltcG9ydCB7YWRkQ3VzdG9tQmxlbmRNb2Rlc30gZnJvbSBcIi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge2xvYWRBc3NldHN9IGZyb20gXCIuL2Fzc2V0c0xvYWRlclwiO1xuaW1wb3J0IHtMb2FkaW5nUGhhc2V9IGZyb20gXCIuL3BoYXNlL2xvYWRpbmdQaGFzZVwiO1xuaW1wb3J0IHtERUZBVUxUX0JBQ0tHUk9VTkR9IGZyb20gXCIuL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5cbmV4cG9ydCBjb25zdCB3aW5kb3dFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyV3JhcHBlcigoZXZlbnQsIGVtaXR0ZXIpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZGF0YSA9PiB7XG4gICAgICAgIGVtaXR0ZXIuZW1pdChldmVudCwgZGF0YSk7XG4gICAgfSk7XG59KTtcblxuLy8gUElYSVxuZXhwb3J0IGxldCBhcHA6IFBJWEkuQXBwbGljYXRpb247XG5cbi8vIE1haW5cbmV4cG9ydCBjb25zdCBzdGFnZSA9IG5ldyBTdGFnZShcIm1haW5cIik7XG5cbmZ1bmN0aW9uIG9uSGFzaENhaG5nZSgpIHtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgY29uc3Qgcm9vbUlkID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpOy8vIFJlbW92ZSAjXG4gICAgICAgIGlmIChyb29tSWQuc3RhcnRzV2l0aCgncCcpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpbmcgd2l0aDogcGVlcmoyXCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IENsaWVudEVkaXRNYXBQaGFzZShyb29tSWQuc3Vic3RyKDEpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgaGFzaFwiKVxuICAgICAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvbWVQaGFzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvbWVQaGFzZSgpKTtcbiAgICB9XG59XG5cbihhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIGRuZG1lOiBcIiArIF9fQ09NTUlUX0hBU0hfXyk7XG4gICAgLy8gV2UgY2Fubm90IHdvcmsgd2l0aG91dCB3ZWJnbFxuICAgIFBJWEkuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSBmYWxzZTtcbiAgICBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICAgIGFkZEN1c3RvbUJsZW5kTW9kZXMoKTtcbiAgICBhcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gREVGQVVMVF9CQUNLR1JPVU5EO1xuICAgIC8vIFRoZSBhcHAudmlldyAoY2FudmFzKSBpcyBvbmx5IGFwcGVuZGVkIHdoZW4gdGhlIGdhbWUtcGhhc2Ugc3RhcnRzLlxuXG4gICAgYXBwLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBzdGFnZS5zZXRQaGFzZShuZXcgTG9hZGluZ1BoYXNlKCkpO1xuXG4gICAgYXdhaXQgbG9hZEFzc2V0cygpO1xuXG4gICAgb25IYXNoQ2FobmdlKCk7XG5cbiAgICB3aW5kb3cub25oYXNoY2hhbmdlID0gZnVuY3Rpb24gKGU6IEhhc2hDaGFuZ2VFdmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkhhc2ggY2hhbmdlXCIgKyBlLm5ld1VSTCk7XG4gICAgICAgIG9uSGFzaENhaG5nZSgpO1xuICAgIH1cbn0pKCk7XG4iLCJpbXBvcnQge01hcExldmVsfSBmcm9tIFwiLi9tYXBMZXZlbFwiO1xuXG5pbXBvcnQge2RlY29kZSwgZW5jb2RlfSBmcm9tIFwiQG1zZ3BhY2svbXNncGFja1wiO1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcCB7XG4gICAgc3RhdGljIFNFUl9WRVJTSU9OID0gJzEuMCc7XG5cbiAgICBsZXZlbHMgPSBuZXcgTWFwPG51bWJlciwgTWFwTGV2ZWw+KCk7XG5cblxuICAgIHByaXZhdGUgY3JlYXRlRGF0YUpzb24oKTogVWludDhBcnJheSB7XG4gICAgICAgIGxldCBsZXZlbHM6IHsgW2lkOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IFtpZCwgbGV2ZWxdIG9mIHRoaXMubGV2ZWxzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgbGV2ZWxzW2lkXSA9IGxldmVsLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBHYW1lTWFwLlNFUl9WRVJTSU9OLFxuICAgICAgICAgICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBlbmNvZGUoZGF0YSk7XG4gICAgfVxuXG4gICAgc2F2ZVRvRmlsZSgpOiBQcm9taXNlPEJsb2I+IHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZURhdGFKc29uKCk7XG4gICAgICAgIGxldCB6aXAgPSBuZXcgSlNaaXAoKTtcbiAgICAgICAgemlwLmZpbGUoXCJkYXRhLm1zZ3BhY2tcIiwgZGF0YSk7XG4gICAgICAgIHJldHVybiB6aXAuZ2VuZXJhdGVBc3luYyh7XG4gICAgICAgICAgICB0eXBlOiBcImJsb2JcIixcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiAnREVGTEFURScsXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBicm93c2VyIGZyb20gcmVuYW1pbmcgdGhlIGV4dGVuc2lvblxuICAgICAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBsb2FkRnJvbUZpbGUoZnJvbTogRmlsZSk6IFByb21pc2U8R2FtZU1hcD4ge1xuICAgICAgICBsZXQgemlwID0gYXdhaXQgSlNaaXAubG9hZEFzeW5jKGZyb20pO1xuICAgICAgICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWFuYWdlbWVudFxuICAgICAgICBsZXQgZmlsZSA9IGF3YWl0IHppcC5maWxlKFwiZGF0YS5tc2dwYWNrXCIpIS5hc3luYygnYXJyYXlidWZmZXInKTtcbiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBkZWNvZGUoZmlsZSkgYXMgYW55O1xuXG4gICAgICAgIGlmIChkYXRhWyd2ZXJzaW9uJ10gIT09IHRoaXMuU0VSX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHRocm93ICdWZXJzaW9uIG5vdCBzdXBwb3J0ZWQnO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGdhbWVNYXAgPSBuZXcgR2FtZU1hcCgpO1xuXG4gICAgICAgIGxldCBsZXZlbHNEYXRhID0gZGF0YVtcImxldmVsc1wiXTtcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gbGV2ZWxzRGF0YSkge1xuICAgICAgICAgICAgbGV0IGxldmVsID0gbGV2ZWxzRGF0YVtpZF07XG4gICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgTWFwTGV2ZWwuZGVzZXJpYWxpemUocGFyc2VJbnQoaWQpLCBsZXZlbCk7XG4gICAgICAgICAgICBnYW1lTWFwLmxldmVscy5zZXQocmVzLmlkLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lTWFwO1xuICAgIH1cbn0iLCJpbXBvcnQge1NlcmlhbGl6ZWRXb3JsZCwgV29ybGR9IGZyb20gXCIuLi9lY3Mvd29ybGRcIjtcblxuZXhwb3J0IGNsYXNzIE1hcExldmVsIHtcbiAgICBpZDogbnVtYmVyO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgZWNzPzogU2VyaWFsaXplZFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgbG9hZEludG8oZWNzOiBXb3JsZCk6IHZvaWQge1xuICAgICAgICBlY3MuY2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMuZWNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVjcy5kZXNlcmlhbGl6ZSh0aGlzLmVjcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlRnJvbShlY3M6IFdvcmxkKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWNzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVjcyA9IGVjcy5zZXJpYWxpemUoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGVjczogdGhpcy5lY3NcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZShpZDogbnVtYmVyLCBkYXRhOiBhbnkpOiBNYXBMZXZlbCB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgTWFwTGV2ZWwoaWQpO1xuICAgICAgICByZXMubmFtZSA9IGRhdGFbJ25hbWUnXTtcbiAgICAgICAgcmVzLmVjcyA9IGRhdGFbJ2VjcyddO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn0iLCJpbXBvcnQgKiBhcyBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50ZW1pdHRlcjNcIlxuaW1wb3J0IHtQMnBDb25uZWN0aW9ufSBmcm9tIFwiLi9wMnBDb25uZWN0aW9uXCI7XG5pbXBvcnQge0Vycm9yUGFja2V0LCBQYWNrZXQsIFBhY2tldENvbnRhaW5lcn0gZnJvbSBcIi4uL3Byb3RvY29sL3BhY2tldFwiO1xuXG5leHBvcnQgY2xhc3MgQ2hhbm5lbCB7XG4gICAgY29ubmVjdGlvbnM6IFAycENvbm5lY3Rpb25bXSA9IFtdO1xuICAgIGNvbm5lY3Rpb25zQnlJZCA9IG5ldyBNYXA8bnVtYmVyLCBQMnBDb25uZWN0aW9uPigpO1xuXG4gICAgaXNIb3N0OiBib29sZWFuO1xuICAgIG15SWQ6IG51bWJlciA9IC0xO1xuXG4gICAgbmV4dEJyb2FkY2FzdFBhY2tldElkOiBudW1iZXIgPSAwO1xuXG4gICAgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgYnVmZmVyaW5nQ2hhbm5lbHM6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcihpc0hvc3Q6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc0hvc3QgPSBpc0hvc3Q7XG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5teUlkID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTWVzc2FnZShyYXc6IGFueSwgY29ubjogUDJwQ29ubmVjdGlvbikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwib25NZXNzYWdlXCIsIHJhdyk7XG4gICAgICAgIGxldCBwYWNrZXQgPSByYXcgYXMgUGFja2V0Q29udGFpbmVyOy8vIENoZWNrIGZvciBlcnJvcnM/XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICBwYWNrZXQuc2VuZGVyID0gY29ubi5jaGFubmVsSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhY2tldC5wYXlsb2FkLnR5cGUuc3RhcnRzV2l0aChcIl9cIikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgdHlwZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IHRoaW5rIG9mIGEgYmV0dGVyIHBhY2tldGlkIHN5c3RlbSwgd2UgaGF2ZSBzb21lIHByb2JsZW1zIHdpdGhcbiAgICAgICAgLy8gICAgICAgaG9zdCBmb3J3YXJkaW5nIGFzIHRoZSBpZCBjaGFuZ2VzLCB3ZSBjYW4gbm90IGhhdmUgcmVwbGllcy5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0ICYmIHBhY2tldC5yZWNlaXZlciAhPT0gdGhpcy5teUlkKSB7XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxJZCA9IHBhY2tldC5pZDtcbiAgICAgICAgICAgIGlmIChwYWNrZXQucmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhY2tldC5pZCA9IHRoaXMubmV4dEJyb2FkY2FzdFBhY2tldElkKys7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLmNvbm5lY3Rpb25zQnlJZC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0gY29ubikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5zZW5kKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZWN2ID0gdGhpcy5jb25uZWN0aW9uc0J5SWQuZ2V0KHBhY2tldC5yZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3YgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JUeXBlOiBcInVua25vd25fcmVjZWl2ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcGFja2V0LmlkLFxuICAgICAgICAgICAgICAgICAgICB9IGFzIEVycm9yUGFja2V0LCBjb25uLmNoYW5uZWxJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYWNrZXQuaWQgPSByZWN2Lm5leHRQYWNrZXRJZCsrO1xuICAgICAgICAgICAgICAgIHJlY3Yuc2VuZChwYWNrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFja2V0LmlkID0gb3JpZ2luYWxJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWNrZXQucmVjZWl2ZXIgPT09IHVuZGVmaW5lZCB8fCBwYWNrZXQucmVjZWl2ZXIgPT09IHRoaXMubXlJZCkge1xuICAgICAgICAgICAgbGV0IHBhY2tldFR5cGUgPSBwYWNrZXQucGF5bG9hZC50eXBlO1xuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVkVSQk9TRV9DSEFOTkVMID09PSBcIjFcIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVhZFwiLCBPYmplY3QuYXNzaWduKHt9LCBwYWNrZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJhbnlcIiwgcGFja2V0LnBheWxvYWQsIHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHBhY2tldFR5cGUsIHBhY2tldC5wYXlsb2FkLCBwYWNrZXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYnJvYWRjYXN0KHBhY2tldDogUGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5uZXh0QnJvYWRjYXN0UGFja2V0SWQsXG4gICAgICAgICAgICBwYXlsb2FkOiBwYWNrZXQsXG4gICAgICAgICAgICBzZW5kZXI6IHRoaXMubXlJZCxcbiAgICAgICAgfSBhcyBQYWNrZXRDb250YWluZXI7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52LlZFUkJPU0VfQ0hBTk5FTCA9PT0gXCIxXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VudFwiLCBPYmplY3QuYXNzaWduKHt9LCB3cmFwcGVkKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBjb25uIG9mIHRoaXMuY29ubmVjdGlvbnNCeUlkLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBjb25uLnNlbmQod3JhcHBlZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5leHRCcm9hZGNhc3RQYWNrZXRJZCsrO1xuICAgIH1cblxuICAgIHNlbmQocGFja2V0OiBQYWNrZXQsIHJlY2VpdmVySWQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCB3cmFwcGVkID0ge1xuICAgICAgICAgICAgaWQ6IDAsXG4gICAgICAgICAgICBwYXlsb2FkOiBwYWNrZXQsXG4gICAgICAgICAgICBzZW5kZXI6IHRoaXMubXlJZCxcbiAgICAgICAgfSBhcyBQYWNrZXRDb250YWluZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICBsZXQgY29ubiA9IHRoaXMuY29ubmVjdGlvbnNCeUlkLmdldChyZWNlaXZlcklkKTtcbiAgICAgICAgICAgIGlmIChjb25uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVua25vd24gcmVjZWl2ZXJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JhcHBlZC5pZCA9IGNvbm4uY2hhbm5lbElkKys7XG4gICAgICAgICAgICBjb25uLnNlbmQod3JhcHBlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVkLmlkID0gdGhpcy5uZXh0QnJvYWRjYXN0UGFja2V0SWQrKztcbiAgICAgICAgICAgIGZvciAobGV0IGNvbm4gb2YgdGhpcy5jb25uZWN0aW9uc0J5SWQudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25uLnNlbmQod3JhcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVkVSQk9TRV9DSEFOTkVMID09PSBcIjFcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW50XCIsIHdyYXBwZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbm5lY3Rpb25TdGF0dXNVcGRhdGUoaXNCdWZmZXJpbmc6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKGlzQnVmZmVyaW5nKSB0aGlzLmJ1ZmZlcmluZ0NoYW5uZWxzICs9IDE7XG4gICAgICAgIGVsc2UgdGhpcy5idWZmZXJpbmdDaGFubmVscyAtPSAxO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiX2J1ZmZlcmluZ191cGRhdGVcIiwgdGhpcy5idWZmZXJpbmdDaGFubmVscyk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJOZXdDb25uZWN0aW9uKGNvbm46IFAycENvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uc0J5SWQuc2V0KGNvbm4uY2hhbm5lbElkLCBjb25uKTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGNvbm4pO1xuXG4gICAgICAgIGNvbm4ub25kYXRhID0gdGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgY29ubi5uZXh0UGFja2V0SWQgPSAwO1xuICAgICAgICBjb25uLm9uQnVmZmVyQ2hhbmdlID0gdGhpcy5vbkNvbm5lY3Rpb25TdGF0dXNVcGRhdGUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiX2RldmljZV9qb2luXCIsIGNvbm4uY2hhbm5lbElkKTtcbiAgICB9XG5cbiAgICByZW1vdmVDb25uZWN0aW9uKGNvbm46IFAycENvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uc0J5SWQuZGVsZXRlKGNvbm4uY2hhbm5lbElkKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNvbm5lY3Rpb25zLmluZGV4T2YoY29ubik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcIl9kZXZpY2VfbGVmdFwiLCBjb25uLmNoYW5uZWxJZCk7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgUGVlciBmcm9tIFwicGVlcmpzXCI7XG5pbXBvcnQge1AycENvbm5lY3Rpb259IGZyb20gXCIuL3AycENvbm5lY3Rpb25cIjtcbmltcG9ydCB7Q2hhbm5lbH0gZnJvbSBcIi4vY2hhbm5lbFwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcbmltcG9ydCBFdmVudEVtaXR0ZXIgPSBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlcjtcblxuZXhwb3J0IGNsYXNzIE5ldHdvcmtNYW5hZ2VyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBwZWVyOiBQZWVyO1xuICAgIGlzSG9zdDogYm9vbGVhbjtcbiAgICBteUlkOiBudW1iZXIgPSAtMTtcblxuICAgIGNoYW5uZWw6IENoYW5uZWw7XG5cbiAgICAvLyBVc2VkIGlmIGlzIGhvc3Q6XG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwPG51bWJlciwgTmV0d29ya0Nvbm5lY3Rpb24+KCk7XG4gICAgbmV4dENvbm5lY3Rpb25JZDogbnVtYmVyID0gMTtcblxuICAgIC8vIElmIGNsaWVudDpcbiAgICBob3N0Q29ubmVjdGlvbj86IE5ldHdvcmtDb25uZWN0aW9uO1xuICAgIGNvbm5lY3RJZD86IHN0cmluZztcblxuXG4gICAgY29uc3RydWN0b3IoaXNIb3N0OiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gaXNIb3N0O1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBuZXcgQ2hhbm5lbChpc0hvc3QpO1xuICAgICAgICB0aGlzLnBlZXIgPSBuZXcgUGVlcih1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIGhvc3Q6ICdwZWVyanMuOTJrLmRlJyxcbiAgICAgICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgICAgIGRlYnVnOiAyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5teUlkID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGVlci5vbignY29ubmVjdGlvbicsIHRoaXMub25Db25uZWN0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBlZXIub24oJ29wZW4nLCB0aGlzLm9uUGVlckNvbm5lY3Rpb25PcGVuLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBlZXIub24oJ2Vycm9yJywgdGhpcy5vblBlZXJDb25uZWN0aW9uRXJyb3IuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBvbkNvbm5lY3Rpb24oY29ubjogUGVlci5EYXRhQ29ubmVjdGlvbikge1xuICAgICAgICBsZXQgaWQgPSAwO1xuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIGlkID0gdGhpcy5uZXh0Q29ubmVjdGlvbklkKys7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGMgPSBuZXcgTmV0d29ya0Nvbm5lY3Rpb24odGhpcywgaWQsIGNvbm4pO1xuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KGlkLCBjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdENvbm5lY3Rpb24gPSBjO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QZWVyQ29ubmVjdGlvbk9wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RSZWFkeSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdyZWFkeScpO1xuICAgIH1cblxuICAgIG9uUGVlckNvbm5lY3Rpb25FcnJvcihlcnI6IGFueSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICB9XG5cbiAgICBnZXRJZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wZWVyLmlkO1xuICAgIH1cblxuICAgIGNvbm5lY3RUbyhpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhyb3cgJ0EgaG9zdCBjYW5ub3Qgb3BlbiBhIGNvbm5lY3Rpb24sIGZvciBub3chJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBjb25uZWN0IHRvIG11bHRpcGxlIGhvc3RzJ1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdElkID0gaWQ7XG4gICAgICAgIGlmICh0aGlzLnBlZXIuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0UmVhZHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3QoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29ubmVjdElkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBlZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29ubmVjdFJlYWR5KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0SWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBsZXQgY29ubiA9IHRoaXMucGVlci5jb25uZWN0KHRoaXMuY29ubmVjdElkLCB7XG4gICAgICAgICAgICByZWxpYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ob3N0Q29ubmVjdGlvbiA9IG5ldyBOZXR3b3JrQ29ubmVjdGlvbih0aGlzLCB1bmRlZmluZWQsIGNvbm4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5ldHdvcmtDb25uZWN0aW9uIGltcGxlbWVudHMgUDJwQ29ubmVjdGlvbiB7XG4gICAgcGFyZW50OiBOZXR3b3JrTWFuYWdlcjtcbiAgICBjb25uZWN0aW9uOiBQZWVyLkRhdGFDb25uZWN0aW9uO1xuXG4gICAgb25kYXRhPzogKGRhdGE6IGFueSwgY29ubjogUDJwQ29ubmVjdGlvbikgPT4gdm9pZDtcbiAgICBjaGFubmVsSWQ6IG51bWJlcjtcbiAgICBuZXh0UGFja2V0SWQ6IG51bWJlciA9IC0xO1xuXG4gICAgYm9vdHN0cmFwOiBib29sZWFuID0gZmFsc2U7XG4gICAgYnVmZmVyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBvbkJ1ZmZlckNoYW5nZT86IChidWZmZXJlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogTmV0d29ya01hbmFnZXIsIGNoSWQ6IG51bWJlciB8IHVuZGVmaW5lZCwgY29ubmVjdGlvbjogUGVlci5EYXRhQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5jaGFubmVsSWQgPSBjaElkIHx8IDA7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgICAgIGlmIChwYXJlbnQuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLmJvb3RzdHJhcCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25uZWN0aW9uLm9uKCdvcGVuJywgdGhpcy5vbk9wZW4uYmluZCh0aGlzKSk7XG4gICAgICAgIGNvbm5lY3Rpb24ub24oJ2RhdGEnLCB0aGlzLm9uRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29ubmVjdGlvbi5vbignY2xvc2UnLCB0aGlzLm9uQ2xvc2UuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZGF0YUNoYW5uZWwub25idWZmZXJlZGFtb3VudGxvdyA9IHRoaXMudXBkYXRlQnVmZmVyZWQuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmQodGhpcy5jaGFubmVsSWQpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbC5yZWdpc3Rlck5ld0Nvbm5lY3Rpb24odGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRhdGEoZGF0YTogYW55KSB7XG4gICAgICAgIGlmICghdGhpcy5ib290c3RyYXApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Lm15SWQgPSBkYXRhIGFzIG51bWJlcjtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWwubXlJZCA9IGRhdGEgYXMgbnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5ib290c3RyYXAgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbC5yZWdpc3Rlck5ld0Nvbm5lY3Rpb24odGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vbmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vbmRhdGEoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsLnJlbW92ZUNvbm5lY3Rpb24odGhpcyk7XG4gICAgfVxuXG4gICAgc2VuZChkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmQoZGF0YSk7XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVyZWQoKTtcbiAgICB9XG5cbiAgICBidWZmZXJlZEJ5dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLmRhdGFDaGFubmVsLmJ1ZmZlcmVkQW1vdW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQnVmZmVyZWQoKSB7XG4gICAgICAgIGxldCBvbGRCdWZmZXJlZCA9IHRoaXMuYnVmZmVyZWQ7XG4gICAgICAgIGxldCBidWZmZXJlZEFtb3VudCA9IHRoaXMuY29ubmVjdGlvbi5idWZmZXJTaXplO1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uLmRhdGFDaGFubmVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGJ1ZmZlcmVkQW1vdW50ICs9IHRoaXMuY29ubmVjdGlvbi5kYXRhQ2hhbm5lbC5idWZmZXJlZEFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcmVkID0gYnVmZmVyZWRBbW91bnQgIT09IDA7XG4gICAgICAgIGlmIChvbGRCdWZmZXJlZCAhPT0gdGhpcy5idWZmZXJlZCAmJiB0aGlzLm9uQnVmZmVyQ2hhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25CdWZmZXJDaGFuZ2UodGhpcy5idWZmZXJlZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQge3JlZ2lzdGVyQ29tbW9uU3RvcmFnZX0gZnJvbSBcIi4uL2Vjcy9jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEVjc1BoYXNlIGV4dGVuZHMgUGhhc2Uge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaXNNYXN0ZXI6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMud29ybGQgPSBuZXcgV29ybGQoaXNNYXN0ZXIpO1xuXG4gICAgICAgIHRoaXMuZWNzU2V0dXAoKTtcbiAgICB9XG5cbiAgICBlY3NTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgcmVnaXN0ZXJDb21tb25TdG9yYWdlKHRoaXMud29ybGQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyU3lzdGVtcygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW1zKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgc3VwZXIuZW5hYmxlKCk7XG4gICAgICAgIHRoaXMud29ybGQuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLndvcmxkLmRlc3Ryb3koKTtcbiAgICB9XG59IiwiaW1wb3J0IHtFZGl0TWFwUGhhc2V9IGZyb20gXCIuL2VkaXRNYXBQaGFzZVwiO1xuaW1wb3J0IHtDbGllbnROZXR3b3JrU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvbmV0d29ya1N5c3RlbVwiO1xuXG5leHBvcnQgY2xhc3MgQ2xpZW50RWRpdE1hcFBoYXNlIGV4dGVuZHMgRWRpdE1hcFBoYXNlIHtcbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdlZGl0Q2xpZW50JywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMubmV0d29ya01hbmFnZXIuY29ubmVjdFRvKGlkKTtcbiAgICB9XG5cbiAgICByZWdpc3RlclN5c3RlbXMoKSB7XG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyU3lzdGVtcygpO1xuICAgICAgICB0aGlzLndvcmxkLmFkZFN5c3RlbShuZXcgQ2xpZW50TmV0d29ya1N5c3RlbSh0aGlzLndvcmxkLCB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwpKTtcbiAgICB9XG59IiwiXG5leHBvcnQgZW51bSBEaXNwbGF5UHJlY2VkZW5jZSB7XG4gICAgQkFDS0dST1VORCA9IDAsXG4gICAgR1JJRCA9IDEwLFxuICAgIExJR0hUID0gMTAwLFxuICAgIFdBTEwgPSAyMTAsXG4gICAgUFJPUCA9IDIyMCxcbiAgICBQSU5TID0gMjMwLFxuICAgIFdBTExfQ1JFQVRPUiA9IDI2MCxcbiAgICBURVhUID0gMzAwLFxufVxuXG4iLCJpbXBvcnQgRWRpdE1hcENvbXBvbmVudCBmcm9tIFwiLi4vLi4vdWkvZWRpdC9lZGl0TWFwLnZ1ZVwiO1xuaW1wb3J0IHtzdGFnZX0gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5pbXBvcnQge0JhY2tncm91bmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrZ3JvdW5kU3lzdGVtXCI7XG5pbXBvcnQge1NlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtOZXR3b3JrTWFuYWdlcn0gZnJvbSBcIi4uLy4uL25ldHdvcmsvbmV0d29ya01hbmFnZXJcIjtcbmltcG9ydCB7SG9zdEVkaXRNYXBQaGFzZX0gZnJvbSBcIi4vaG9zdEVkaXRNYXBQaGFzZVwiO1xuaW1wb3J0IHtHYW1lTWFwfSBmcm9tIFwiLi4vLi4vbWFwL2dhbWVNYXBcIjtcbmltcG9ydCB7UGluU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGluU3lzdGVtXCI7XG5pbXBvcnQge1dhbGxTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy93YWxsU3lzdGVtXCI7XG5pbXBvcnQge0xpZ2h0U3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7VGV4dFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3RleHRTeXN0ZW1cIjtcbmltcG9ydCB7VmlzaWJpbGl0eVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7SW50ZXJhY3Rpb25TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9pbnRlcmFjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtQbGF5ZXJTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7VmlzaWJpbGl0eUF3YXJlU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvdmlzaWJpbGl0eUF3YXJlU3lzdGVtXCI7XG5pbXBvcnQge0Rvb3JTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9kb29yU3lzdGVtXCI7XG5pbXBvcnQge1Byb3BTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wcm9wU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlHcmFwaGljU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcGl4aUdyYXBoaWNTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7RWNzUGhhc2V9IGZyb20gXCIuLi9lY3NQaGFzZVwiO1xuaW1wb3J0IHtQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9waXhpQm9hcmRTeXN0ZW1cIjtcblxuXG5leHBvcnQgY2xhc3MgRWRpdE1hcFBoYXNlIGV4dGVuZHMgRWNzUGhhc2Uge1xuICAgIG5ldHdvcmtNYW5hZ2VyITogTmV0d29ya01hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGlzSG9zdDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihuYW1lLCBpc0hvc3QpO1xuICAgIH1cblxuICAgIGVjc1NldHVwKCkge1xuICAgICAgICB0aGlzLnNldHVwTmV0d29ya01hbmFnZXIoKTtcblxuICAgICAgICBzdXBlci5lY3NTZXR1cCgpO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdzZWxlY3Rpb25fdXBkYXRlJywgKGdyb3VwOiBTZWxlY3Rpb25TeXN0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkRW50aXR5T3B0cyA9IGdyb3VwLmdldENvbW1vbkVudGl0eU9wdHMoKTtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkQ29tcG9uZW50cyA9IGdyb3VwLmdldENvbW1vbkNvbXBvbmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMudnVlLnNlbGVjdGVkQWRkYWJsZSA9IGdyb3VwLmdldEFkZGFibGVDb21wb25lbnRzKCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW1zKCkge1xuICAgICAgICBzdXBlci5yZWdpc3RlclN5c3RlbXMoKTtcbiAgICAgICAgbGV0IHcgPSB0aGlzLndvcmxkO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGl4aUJvYXJkU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFNlbGVjdGlvblN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBUb29sU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IEdyaWRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgSW50ZXJhY3Rpb25TeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgVGV4dFN5c3RlbSgpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlHcmFwaGljU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IExpZ2h0U3lzdGVtKHcpKTtcblxuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQmFja2dyb3VuZFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBXYWxsU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IERvb3JTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgVmlzaWJpbGl0eVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBWaXNpYmlsaXR5QXdhcmVTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGluU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFByb3BTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGxheWVyU3lzdGVtKHcpKTtcbiAgICB9XG5cbiAgICBzZXR1cE5ldHdvcmtNYW5hZ2VyKCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyID0gbmV3IE5ldHdvcmtNYW5hZ2VyKHRoaXMud29ybGQuaXNNYXN0ZXIpO1xuICAgICAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyLm9uKFwicmVhZHlcIiwgdGhpcy5vbk5ldHdvcmtSZWFkeSwgdGhpcyk7XG4gICAgICAgIHRoaXMubmV0d29ya01hbmFnZXIub24oXCJlcnJvclwiLCB0aGlzLm9uTmV0d29ya0Vycm9yLCB0aGlzKTtcblxuICAgICAgICBsZXQgY29ublVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudnVlLmNvbm5lY3Rpb25Db3VudCA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5jb25uZWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBjaEV2ZW50cyA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5ldmVudEVtaXR0ZXI7XG4gICAgICAgIGNoRXZlbnRzLm9uKCdfZGV2aWNlX2pvaW4nLCBjb25uVXBkYXRlKVxuICAgICAgICBjaEV2ZW50cy5vbignX2RldmljZV9sZWZ0JywgY29ublVwZGF0ZSlcbiAgICAgICAgY2hFdmVudHMub24oJ19idWZmZXJpbmdfdXBkYXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52dWUuY29ubmVjdGlvbkJ1ZmZlcmluZyA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5idWZmZXJpbmdDaGFubmVscyA+IDA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIG92ZXJyaWRlc1xuXG4gICAgcHJpdmF0ZSBvbk5ldHdvcmtSZWFkeSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJOZXR3b3JrIGlzIHJlYWR5ISBzaWRlOiBcIiArICh0aGlzLm5ldHdvcmtNYW5hZ2VyLmlzSG9zdCA/IFwibWFzdGVyXCIgOiBcInBsYXllclwiKSk7XG4gICAgICAgIGlmICh0aGlzLm5ldHdvcmtNYW5hZ2VyLmlzSG9zdCkge1xuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgJyNwJyArIHRoaXMubmV0d29ya01hbmFnZXIucGVlci5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTmV0d29ya0Vycm9yKGVycjogYW55KSB7XG4gICAgICAgIC8vIFRPRE86IG9wZW4gbW9kYWwgb3Igc29tZXRoaW5nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmcm9tIHBlZXJqczogXCIsIGVyci50eXBlKTtcbiAgICAgICAgaWYgKGVyci50eXBlID09PSAnc2VydmVyLWVycm9yJykge1xuICAgICAgICAgICAgYWxlcnQoXCJFcnJvciBjb25uZWN0aW5nIHRvIHBlZXJqcyBpbnN0YW5jZSwgeW91J3JlIG9mZmxpbmUgbm93XCIpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9zdEVkaXRNYXBQaGFzZShuZXcgR2FtZU1hcCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLnR5cGUgPT09ICdwZWVyLXVuYXZhaWxhYmxlJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIGludml0ZSBsaW5rXCIpO1xuXG4gICAgICAgICAgICBhbGVydChcIkludmFsaWQgaW52aXRlIGxpbmtcIik7XG5cbiAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsICcgJyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRQaGFzZShuZXcgSG9zdEVkaXRNYXBQaGFzZShuZXcgR2FtZU1hcCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLnR5ID09PSAnbmV0d29yaycpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiQ29ubmVjdGlvbiBsb3N0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgdWkoKSB7XG4gICAgICAgIGxldCB1aSA9IG5ldyBFZGl0TWFwQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHByb3BzRGF0YToge1xuICAgICAgICAgICAgICAgIHBoYXNlOiB0aGlzLFxuICAgICAgICAgICAgICAgIHdvcmxkOiB0aGlzLndvcmxkLFxuICAgICAgICAgICAgICAgIGlzQWRtaW46IHRoaXMud29ybGQuaXNNYXN0ZXIsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyh1aSBhcyBhbnkpLnBoYXNlID0gdGhpcztcbiAgICAgICAgLy8odWkgYXMgYW55KS5pc0FkbWluID0gdGhpcy53b3JsZC5pc01hc3RlcjtcbiAgICAgICAgcmV0dXJuIHVpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcblxuICAgICAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHtFZGl0TWFwUGhhc2V9IGZyb20gXCIuL2VkaXRNYXBQaGFzZVwiO1xuaW1wb3J0IHtOYW1lQ29tcG9uZW50LCBQb3NpdGlvbkNvbXBvbmVudCwgVHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrZ3JvdW5kU3lzdGVtXCI7XG5pbXBvcnQge2FwcH0gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5pbXBvcnQge0dhbWVNYXB9IGZyb20gXCIuLi8uLi9tYXAvZ2FtZU1hcFwiO1xuaW1wb3J0IHtNYXBMZXZlbH0gZnJvbSBcIi4uLy4uL21hcC9tYXBMZXZlbFwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtIb3N0TmV0d29ya1N5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL25ldHdvcmtTeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIEhvc3RFZGl0TWFwUGhhc2UgZXh0ZW5kcyBFZGl0TWFwUGhhc2Uge1xuICAgIG1hcDogR2FtZU1hcDtcbiAgICBjdXJyZW50TGV2ZWw6IE1hcExldmVsO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBHYW1lTWFwKSB7XG4gICAgICAgIHN1cGVyKCdlZGl0SG9zdCcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICBpZiAodGhpcy5tYXAubGV2ZWxzLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tYXAubGV2ZWxzLnNldCg0MiwgbmV3IE1hcExldmVsKDQyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwgPSB0aGlzLm1hcC5sZXZlbHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyU3lzdGVtcygpIHtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJTeXN0ZW1zKCk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRTeXN0ZW0obmV3IEhvc3ROZXR3b3JrU3lzdGVtKHRoaXMud29ybGQsIHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbCkpO1xuICAgIH1cblxuICAgIGFzeW5jIG9uRHJvcChldmVudDogRHJhZ0V2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxldCB4ID0gZXZlbnQucGFnZVg7XG4gICAgICAgIGxldCB5ID0gZXZlbnQucGFnZVk7XG5cbiAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2ZlciEuaXRlbXMpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGYgb2YgZXZlbnQuZGF0YVRyYW5zZmVyIS5pdGVtcykge1xuICAgICAgICAgICAgICAgIGxldCBmaWxlID0gZi5nZXRBc0ZpbGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5vbkZpbGVEcm9wKHJlcywgeCwgeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9uRmlsZURyb3AoZXZlbnQuZGF0YVRyYW5zZmVyIS5maWxlcywgeCwgeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRyYWdPdmVyKGV2ZW50OiBEcmFnRXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2ZlciEuZHJvcEVmZmVjdCA9IFwiY29weVwiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYXN5bmMgb25GaWxlRHJvcChmaWxlczogQWJzRmlsZUxpc3QsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuICAgICAgICBsZXQgZmlyc3RGaWxlID0gZmlsZXNbMF07XG5cbiAgICAgICAgLy8gU29tZXRpbWVzIHRoaXMgZG9lcyBub3Qgd29yayBidXQgdGhlIHByb2JsZW0gaXMgbm90IHRoZSBtYXRyaXggY2FsY3VsYXRpb24sIGl0J3MgdGhlIGJyb3dzZXIgY29vcmRzXG4gICAgICAgIC8vIHNvIGlmIHlvdSBoYXZlIGZpcmVmb3ggYW5kIGxpbnV4ICh0aGlzIHNlZW1zIHRvIGJlIHRoZSB3cm9uZyBzdGFjaykgYW5kIGhhdmUgc3BhcmUgdGltZSwgcGxzIGRlYnVnIHRoaXMuXG4gICAgICAgIC8vIENvdWxkIGJlIGNhdXNlZCBieTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTA1NTIxI2M4MFxuICAgICAgICBsZXQgcCA9IG5ldyBQSVhJLlBvaW50KHgsIHkpO1xuICAgICAgICBsZXQgcGl4aUJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgcGl4aUJvYXJkLmJvYXJkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICBwaXhpQm9hcmQuYm9hcmQudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwLCBwKTtcblxuICAgICAgICBpZiAoZmlyc3RGaWxlLnR5cGUuc3RhcnRzV2l0aChcImltYWdlL1wiKSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlyc3RGaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0gYXMgTmFtZUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicG9zaXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgeDogcC54LFxuICAgICAgICAgICAgICAgICAgICB5OiBwLnksXG4gICAgICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidHJhbnNmb3JtXCIsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICB9IGFzIFRyYW5zZm9ybUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFja2dyb3VuZF9pbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVR5cGU6IGZpcnN0RmlsZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogbmV3IFVpbnQ4QXJyYXkoYXdhaXQgZmlyc3RGaWxlLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgIH0gYXMgQmFja2dyb3VuZEltYWdlQ29tcG9uZW50LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW1hZ2UgbG9hZGVkXCIpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIGV4cG9ydE1hcCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwuc2F2ZUZyb20odGhpcy53b3JsZCk7XG4gICAgICAgIGxldCBibG9iID0gYXdhaXQgdGhpcy5tYXAuc2F2ZVRvRmlsZSgpO1xuICAgICAgICB0aGlzLnNhdmVCbG9iKGJsb2IsIFwibWFwLmRuZG1cIik7XG4gICAgfVxuXG4gICAgc2F2ZUJsb2IoYmxvYjogQmxvYiwgZmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICBsZXQgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkZGVuLWRvd25sb2FkLWxpbmtcIikgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuXG4gICAgICAgIGFwcC52aWV3Lm9uZHJvcCA9IHRoaXMub25Ecm9wLmJpbmQodGhpcyk7XG4gICAgICAgIGFwcC52aWV3Lm9uZHJhZ292ZXIgPSB0aGlzLm9uRHJhZ092ZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbC5sb2FkSW50byh0aGlzLndvcmxkKTtcblxuICAgICAgICAvL2xldCBjaCA9IHRoaXMubmV0d29ya01hbmFnZXIuY2hhbm5lbC5ldmVudEVtaXR0ZXI7XG4gICAgICAgIC8vY2gub24oXCJfZGV2aWNlX2pvaW5cIiwgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIC8vbGV0IGNoID0gdGhpcy5uZXR3b3JrTWFuYWdlci5jaGFubmVsLmV2ZW50RW1pdHRlcjtcbiAgICAgICAgLy9jaC5vZmYoXCJfZGV2aWNlX2pvaW5cIiwgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuXG4gICAgICAgIGFwcC52aWV3Lm9uZHJvcCA9ICgpID0+IHt9O1xuICAgICAgICBhcHAudmlldy5vbmRyYWdvdmVyID0gKCkgPT4ge307XG5cbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgIH1cblxufVxuXG5cbmludGVyZmFjZSBBYnNGaWxlTGlzdCB7XG4gICAgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgW2luZGV4OiBudW1iZXJdOiBGaWxlO1xufVxuIiwiaW1wb3J0IHtQaGFzZX0gZnJvbSBcIi4vcGhhc2VcIjtcbmltcG9ydCB7c3RhZ2V9IGZyb20gXCIuLi9pbmRleFwiXG5cbmltcG9ydCBIb21lQ29tcG9uZW50IGZyb20gXCIuLi91aS9ob21lL2hvbWUudnVlXCI7XG5pbXBvcnQge0dhbWVNYXB9IGZyb20gXCIuLi9tYXAvZ2FtZU1hcFwiO1xuaW1wb3J0IHtIb3N0RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwL2hvc3RFZGl0TWFwUGhhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEhvbWVQaGFzZSBleHRlbmRzIFBoYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImhvbWVcIik7XG4gICAgfVxuXG4gICAgdWkoKTogVnVlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb21lQ29tcG9uZW50KCkgYXMgdW5rbm93biBhcyBWdWU7XG4gICAgfVxuXG4gICAgY3JlYXRlTWFwKCkge1xuICAgICAgICBsZXQgbWFwID0gbmV3IEdhbWVNYXAoKTtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobWFwKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZWRpdE1hcChmaWxlOiBGaWxlKSB7XG4gICAgICAgIGxldCBtYXAgPSBhd2FpdCBHYW1lTWFwLmxvYWRGcm9tRmlsZShmaWxlKTtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobWFwKSk7XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdjcmVhdGVfbWFwJywgdGhpcy5jcmVhdGVNYXAsIHRoaXMpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdlZGl0JywgdGhpcy5lZGl0TWFwLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdlZGl0JywgdGhpcy5lZGl0TWFwLCB0aGlzKTtcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlci5vbignY3JlYXRlX21hcCcsIHRoaXMuY3JlYXRlTWFwLCB0aGlzKTtcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5pbXBvcnQgTG9hZGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiO1xuXG5leHBvcnQgY2xhc3MgTG9hZGluZ1BoYXNlIGV4dGVuZHMgUGhhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImxvYWRpbmdcIik7XG4gICAgfVxuXG4gICAgdWkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9hZGluZ0NvbXBvbmVudCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcbmltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG5leHBvcnQgY2xhc3MgUGhhc2Uge1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIHZ1ZTogYW55O1xuICAgIHVpRXZlbnRFbWl0dGVyOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgICAgICAvLyBDcmVhdGUgVnVlIGluc3RhbmNlIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGhhbmRsaW5nIHRoZSBVSSBldmVudHMgb2YgdGhlIGN1cnJlbnQgcGhhc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS92dWVqb2JzL2NyZWF0ZS1hLWdsb2JhbC1ldmVudC1idXMtaW4tdnVlLWpzLTgzOGE1ZDlhYjAzYVxuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cblxuICAgIGxvZyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIGAgKyBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB1aSgpOiBWdWUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5sb2coXCJFbmFibGluZ1wiKTtcblxuICAgICAgICAoVnVlLnByb3RvdHlwZSBhcyBhbnkpLmV2ZW50RW1pdHRlciA9IHRoaXMudWlFdmVudEVtaXR0ZXI7XG5cbiAgICAgICAgdGhpcy52dWUgPSB0aGlzLnVpKCk7XG4gICAgICAgIGlmICh0aGlzLnZ1ZSkge1xuICAgICAgICAgICAgdGhpcy52dWUuJG1vdW50KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudnVlLiRlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25lIF5eXG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIERpc2FibGluZ2ApO1xuICAgICAgICBpZiAodGhpcy52dWUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy52dWUuJGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKWAgcmVzdWx0LlxuICAgICAqIFRoaXMgaXMgZG9uZSB0byBoaWRlIHRoaXMgb2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSBvYnNlcnZlcnMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2lzc3Vlcy8yNjM3KVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gdHlwZSBuYW1lXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3ltYm9sL3RvU3RyaW5nVGFnfVxuICAgICAqL1xuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgY2FuIGdvIGhlcmUgcmVhbGx5IGFzIGxvbmcgYXMgaXQncyBub3QgJ09iamVjdCdcbiAgICAgICAgcmV0dXJuICdPYmplY3ROb09ic2VydmUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGFnZSBleHRlbmRzIFBoYXNlIHtcbiAgICBwaGFzZTogUGhhc2UgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICB9XG5cbiAgICBzZXRQaGFzZShwaGFzZTogUGhhc2UgfCBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLnBoYXNlKVxuICAgICAgICAgICAgdGhpcy5waGFzZS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMucGhhc2UgPSBwaGFzZTtcbiAgICAgICAgaWYgKHRoaXMucGhhc2UpXG4gICAgICAgICAgICB0aGlzLnBoYXNlLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN1cGVyLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5zZXRQaGFzZShudWxsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1Z1ZSwgV2F0Y2h9IGZyb20gXCJ2dWUtcHJvcGVydHktZGVjb3JhdG9yXCI7XG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XG5pbXBvcnQge1Z1ZURlY29yYXRvcn0gZnJvbSBcInZ1ZS1jbGFzcy1jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQaGFzZVZ1ZSB7XG4gICAgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXI7XG59XG5cbmV4cG9ydCB7XG4gICAgVnVlLFxuICAgIENvbXBvbmVudCBhcyBWQ29tcG9uZW50LFxuICAgIFByb3AgYXMgVlByb3AsXG4gICAgV2F0Y2ggYXMgVldhdGNoLFxuICAgIFJlZiBhcyBWUmVmLFxufSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBWV2F0Y2hJbW1lZGlhdGUobmFtZTogc3RyaW5nKTogVnVlRGVjb3JhdG9yIHtcbiAgICByZXR1cm4gV2F0Y2gobmFtZSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG59XG5cbiIsIlxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlSZW1vdmVFbGVtPFQ+KGFycjogVFtdLCBlbGVtOiBUKTogdm9pZCB7XG4gICAgbGV0IGluZGV4ID0gYXJyLmluZGV4T2YoZWxlbSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkgYXJyLnNwbGljZShpbmRleCwgMSk7XG59IiwiXG4vLyBCaW5hcnkgaGVhcCBpbXBsZW1lbnRhdGlvbiBmcm9tOlxuLy8gaHR0cDovL2Vsb3F1ZW50amF2YXNjcmlwdC5uZXQvYXBwZW5kaXgyLmh0bWxcblxuZXhwb3J0IGNsYXNzIEJpbmFyeUhlYXA8VD4ge1xuICAgIGNvbnRlbnQgPSBuZXcgQXJyYXk8VD4oKTtcbiAgICBlbGVtTWFwID0gbmV3IE1hcDxULCBudW1iZXI+KCk7XG4gICAgY21wTHQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY21wTHQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY21wTHQgPSBjbXBMdDtcbiAgICB9XG5cbiAgICBwdXNoKGVsZW1lbnQ6IFQpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgZWxlbWVudCB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbGVtZW50LCB0aGlzLmNvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2goZWxlbWVudCk7XG4gICAgICAgIC8vIEFsbG93IGl0IHRvIGJ1YmJsZSB1cC5cbiAgICAgICAgdGhpcy5idWJibGVVcCh0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgcG9wKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGZpcnN0IGVsZW1lbnQgc28gd2UgY2FuIHJldHVybiBpdCBsYXRlci5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29udGVudFswXTtcbiAgICAgICAgdGhpcy5lbGVtTWFwLmRlbGV0ZShyZXN1bHQpO1xuICAgICAgICAvLyBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCkhO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IGVsZW1lbnRzIGxlZnQsIHB1dCB0aGUgZW5kIGVsZW1lbnQgYXQgdGhlXG4gICAgICAgIC8vIHN0YXJ0LCBhbmQgbGV0IGl0IHNpbmsgZG93bi5cbiAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFswXSA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZW5kLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc2lua0Rvd24oMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwb3BFbGVtKGU6IFQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5lbGVtTWFwLmdldChlKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmVsZW1NYXAuZGVsZXRlKGUpO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5jb250ZW50LnBvcCgpITtcbiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmNvbnRlbnQubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jb250ZW50W2luZGV4XSA9IGVuZDtcbiAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5zaW5rRG93bihpbmRleCk7XG4gICAgICAgIHRoaXMuYnViYmxlVXAoaW5kZXgpOy8vIEZpeCwgc29tZSBzeXN0ZW1zIHdoZXJlIGEgPCBiLiBiIDwgYyA9PiBhIDwgYyBpcyBub3QgbWFpbnRhaW5lZFxuICAgIH1cblxuICAgIGhhc0VsZW0oZTogVCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtTWFwLmhhcyhlKTtcbiAgICB9XG5cbiAgICBwZWVrKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50WzBdO1xuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg7XG4gICAgfVxuXG4gICAgYnViYmxlVXAobjogbnVtYmVyKSB7XG4gICAgICAgIC8vIEZldGNoIHRoZSBlbGVtZW50IHRoYXQgaGFzIHRvIGJlIG1vdmVkLlxuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXTtcbiAgICAgICAgLy8gV2hlbiBhdCAwLCBhbiBlbGVtZW50IGNhbiBub3QgZ28gdXAgYW55IGZ1cnRoZXIuXG4gICAgICAgIHdoaWxlIChuID4gMCkge1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcGFyZW50IGVsZW1lbnQncyBpbmRleCwgYW5kIGZldGNoIGl0LlxuICAgICAgICAgICAgbGV0IHBhcmVudE4gPSBNYXRoLmZsb29yKChuICsgMSkgLyAyKSAtIDE7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5jb250ZW50W3BhcmVudE5dO1xuICAgICAgICAgICAgLy8gU3dhcCB0aGUgZWxlbWVudHMgaWYgdGhlIHBhcmVudCBpcyBncmVhdGVyLlxuICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoZWxlbWVudCwgcGFyZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtwYXJlbnROXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZWxlbWVudCwgcGFyZW50Tik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChwYXJlbnQsIG4pO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSAnbicgdG8gY29udGludWUgYXQgdGhlIG5ldyBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBuID0gcGFyZW50TjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvdW5kIGEgcGFyZW50IHRoYXQgaXMgbGVzcywgbm8gbmVlZCB0byBtb3ZlIGl0IGZ1cnRoZXIuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpbmtEb3duKG46IG51bWJlcikge1xuICAgICAgICAvLyBMb29rIHVwIHRoZSB0YXJnZXQgZWxlbWVudCBhbmQgaXRzIHNjb3JlLlxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmNvbnRlbnRbbl07XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIGluZGljZXMgb2YgdGhlIGNoaWxkIGVsZW1lbnRzLlxuICAgICAgICAgICAgbGV0IGNoaWxkMk4gPSAobiArIDEpICogMiwgY2hpbGQxTiA9IGNoaWxkMk4gLSAxO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAgICAvLyBpZiBhbnkuXG4gICAgICAgICAgICBsZXQgc3dhcCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY2hpbGQxOiBUIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpcnN0IGNoaWxkIGV4aXN0cyAoaXMgaW5zaWRlIHRoZSBhcnJheSkuLi5cbiAgICAgICAgICAgIGlmIChjaGlsZDFOIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9vayBpdCB1cCBhbmQgY29tcHV0ZSBpdHMgc2NvcmUuXG4gICAgICAgICAgICAgICAgY2hpbGQxID0gdGhpcy5jb250ZW50W2NoaWxkMU5dO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzY29yZSBpcyBsZXNzIHRoYW4gb3VyIGVsZW1lbnQncywgd2UgbmVlZCB0byBzd2FwLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNtcEx0KGNoaWxkMSwgZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgIHN3YXAgPSBjaGlsZDFOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdGhlIHNhbWUgY2hlY2tzIGZvciB0aGUgb3RoZXIgY2hpbGQuXG4gICAgICAgICAgICBpZiAoY2hpbGQyTiA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZDIgPSB0aGlzLmNvbnRlbnRbY2hpbGQyTl07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoY2hpbGQyLCBzd2FwID09IG51bGwgPyBlbGVtZW50IDogY2hpbGQxISkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IGNoaWxkMk47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBuZWVkcyB0byBiZSBtb3ZlZCwgc3dhcCBpdCwgYW5kIGNvbnRpbnVlLlxuICAgICAgICAgICAgaWYgKHN3YXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtuXSA9IHRoaXMuY29udGVudFtzd2FwXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbc3dhcF0gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQodGhpcy5jb250ZW50W25dLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVsZW1lbnQsIHN3YXApO1xuICAgICAgICAgICAgICAgIG4gPSBzd2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIi8qKlxuICogQmFzaWMgQml0U2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBCaXRTZXQge1xuICAgIGRhdGE6IFVpbnQzMkFycmF5O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YTogbnVtYmVyIHwgVWludDMyQXJyYXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KE1hdGguY2VpbChsZW5ndGggLyAzMikpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5mbG9vcihkYXRhLmJ5dGVMZW5ndGggLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgbGVuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoIDw8IDU7XG4gICAgfVxuXG4gICAgZ2V0KGk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpIHw9IDA7XG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIGlmICh3aSA+PSB0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBiID0gdGhpcy5kYXRhW3dpXTtcbiAgICAgICAgcmV0dXJuICEhKChiID4+PiBpKSAmIDEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZW5zdXJlQ2FwYWNpdHkod2k6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgbmV3TGVuID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKG5ld0xlbiA8IHdpKSBuZXdMZW4gKj0gMjtcbiAgICAgICAgaWYgKG5ld0xlbiA9PT0gdGhpcy5kYXRhLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBsZXQgbmV3RGF0YSA9IG5ldyBVaW50MzJBcnJheShuZXdMZW4pO1xuICAgICAgICBuZXdEYXRhLnNldCh0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXdEYXRhO1xuICAgIH1cblxuICAgIHNldChpOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaSB8PSAwO1xuXG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkod2kpO1xuICAgICAgICB0aGlzLmRhdGFbd2ldIHw9IDEgPDwgaTtcbiAgICB9XG5cbiAgICByZXNldChpOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaSB8PSAwO1xuXG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkod2kpO1xuICAgICAgICB0aGlzLmRhdGFbd2ldICY9IH4oMSA8PCBpKTtcbiAgICB9XG5cbiAgICBpc0FsbCh0YXJnZXQ6IGJvb2xlYW4sIHVudGlsPzogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgdCA9IDB4RkZGRkZGRkY7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbG9vcExhc3QgPSB1bnRpbCA9PT0gdW5kZWZpbmVkID8gdGhpcy5kYXRhLmxlbmd0aCA6ICh1bnRpbCA+Pj4gNSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb29wTGFzdDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhW2ldICE9PSB0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW50aWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgbGV0IGkgPSAoKHVudGlsIC0gMSkgPj4gNSkgKyAxO1xuICAgICAgICBsZXQgaWwgPSB1bnRpbCAmIDB4MUY7XG4gICAgICAgIGxldCBtYXNrID0gKDEgPDwgaWwpIC0gMTtcblxuICAgICAgICBsZXQgZCA9IHRoaXMuZGF0YVtpXTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZCA9IH5kO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChkICYgbWFzaykgPT09IDA7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG4vKipcbiAqIFRoZSB0YXNrIG9mIHRoaXMgZnVuY3Rpb24gaXMgdG8gYnJpbmcgdGhlIGV2ZW50IGZyb20gYSB0aGlyZC1wYXJ0eVxuICogRXZlbnRNYW5hZ2VyICh0aGF0IGNvdWxkIGJlIHRoZSBET00sIFZ1ZSBvciB3aGF0ZXZlcikgdG8gRXZlbnRFbWl0dGVyMy5cbiAqL1xudHlwZSBDYXRjaEV2ZW50Rm9yRW1pdHRlciA9IChldmVudDogYW55LCBlbWl0dGVyOiBFdmVudEVtaXR0ZXIpID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBFdmVudEVtaXR0ZXJXcmFwcGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICByZWFkb25seSBjYXRjaGVyOiBDYXRjaEV2ZW50Rm9yRW1pdHRlcjtcbiAgICBwcml2YXRlIGNhdWdodDogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cblxuICAgIGNvbnN0cnVjdG9yKGNhdGNoZXI6IENhdGNoRXZlbnRGb3JFbWl0dGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2F0Y2hlciA9IGNhdGNoZXI7XG4gICAgfVxuXG4gICAgY2F0Y2hFdmVudChldmVudDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2F0Y2hlcihldmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2F1Z2h0LmFkZChldmVudCk7XG4gICAgfVxuXG4gICAgb24oZXZlbnQ6IHN0cmluZywgZm46IEV2ZW50RW1pdHRlci5MaXN0ZW5lckZuLCBjb250ZXh0PzogYW55KTogdGhpcyB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBmbiwgY29udGV4dCk7XG4gICAgICAgIGlmICghdGhpcy5jYXVnaHQuaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBmbjogRXZlbnRFbWl0dGVyLkxpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgc3VwZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCF0aGlzLmNhdWdodC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQge1N0dXBpZFBvaW50fSBmcm9tIFwiLi4vZ2VvbWV0cnkvcG9pbnRcIjtcblxudHlwZSBQUG9pbnQgPSBQSVhJLlBvaW50O1xuZXhwb3J0IHR5cGUgUG9pbnQgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvblBvaW50SW50ZXJzZWN0KHBvaW50OiBQSVhJLklQb2ludERhdGEsIHBvbHlnb246IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeCA9IHBvaW50Lng7XG4gICAgY29uc3QgeSA9IHBvaW50Lnk7XG4gICAgbGV0IGluc2lkZSA9IGZhbHNlO1xuICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICBjb25zdCBsZW5ndGggPSBwb2x5Z29uLmxlbmd0aCAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgIGNvbnN0IHhpID0gcG9seWdvbltpICogMl07XG4gICAgICAgIGNvbnN0IHlpID0gcG9seWdvblsoaSAqIDIpICsgMV07XG4gICAgICAgIGNvbnN0IHhqID0gcG9seWdvbltqICogMl07XG4gICAgICAgIGNvbnN0IHlqID0gcG9seWdvblsoaiAqIDIpICsgMV07XG4gICAgICAgIGNvbnN0IGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPT0gKHlqID4geSkpICYmICh4IDwgKCh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkpICsgeGkpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYWJiQWFiYkludGVyc2VjdChhbDogbnVtYmVyLCBhdDogbnVtYmVyLCBhcjogbnVtYmVyLCBhYjogbnVtYmVyLFxuICAgIGJsOiBudW1iZXIsIGJ0OiBudW1iZXIsIGJyOiBudW1iZXIsIGJiOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYWwgPCBiciAmJiBhciA+IGJsICYmIGF0IDwgYmIgJiYgYWIgPiBidDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RTcXVhcmVkMmQoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHggPSB4MSAtIHgyO1xuICAgIGxldCB5ID0geTEgLSB5MjtcbiAgICByZXR1cm4geCAqIHggKyB5ICogeVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdFBvaW50T25TZWdtZW50KGF4OiBudW1iZXIsIGF5OiBudW1iZXIsIGJ4OiBudW1iZXIsIGJ5OiBudW1iZXIsIHB4OiBudW1iZXIsIHB5OiBudW1iZXIpOiBQb2ludCB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKGF4ID09IGJ4ICYmIGF5ID09IGF5KSBheCAtPSAwLjAwMDAxO1xuXG4gICAgbGV0IHUgPSAoKHB4IC0gYXgpICogKGJ4IC0gYXgpKSArICgocHkgLSBheSkgKiAoYnkgLSBheSkpO1xuXG4gICAgbGV0IHVkZW5vbSA9IE1hdGgucG93KGJ4IC0gYXgsIDIpICsgTWF0aC5wb3coYnkgLSBheSwgMik7XG5cbiAgICB1IC89IHVkZW5vbTtcblxuICAgIGxldCByeCA9IGF4ICsgKHUgKiAoYnggLSBheCkpO1xuICAgIGxldCByeSA9IGF5ICsgKHUgKiAoYnkgLSBheSkpO1xuXG4gICAgbGV0IG1pbngsIG1heHgsIG1pbnksIG1heHk7XG5cbiAgICBtaW54ID0gTWF0aC5taW4oYXgsIGJ4KTtcbiAgICBtYXh4ID0gTWF0aC5tYXgoYXgsIGJ4KTtcblxuICAgIG1pbnkgPSBNYXRoLm1pbihheSwgYnkpO1xuICAgIG1heHkgPSBNYXRoLm1heChheSwgYnkpO1xuXG4gICAgbGV0IGlzVmFsaWQgPSAocnggPj0gbWlueCAmJiByeCA8PSBtYXh4KSAmJiAocnkgPj0gbWlueSAmJiByeSA8PSBtYXh5KTtcblxuICAgIHJldHVybiBpc1ZhbGlkID8gW3J4LCByeV0gOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RMaW5lVnNMaW5lKGExOiBTdHVwaWRQb2ludCwgYTI6IFN0dXBpZFBvaW50LCBiMTogU3R1cGlkUG9pbnQsIGIyOiBTdHVwaWRQb2ludCwgdGFyZ2V0PzogUFBvaW50KTogYm9vbGVhbiB7XG4gICAgbGV0IGRieCA9IGIyLnggLSBiMS54O1xuICAgIGxldCBkYnkgPSBiMi55IC0gYjEueTtcbiAgICBsZXQgZGF4ID0gYTIueCAtIGExLng7XG4gICAgbGV0IGRheSA9IGEyLnkgLSBhMS55O1xuXG4gICAgbGV0IHVfYiA9IGRieSAqIGRheCAtIGRieCAqIGRheTtcbiAgICBpZiAodV9iID09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgdWEgPSAoZGJ4ICogKGExLnkgLSBiMS55KSAtIGRieSAqIChhMS54IC0gYjEueCkpIC8gdV9iO1xuXG4gICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldC5zZXQoYTEueCAtIHVhICogLWRheCwgYTEueSAtIHVhICogLWRheSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuIiwiXG50eXBlIFBvaW50ID0gW251bWJlciwgbnVtYmVyXTtcblxuY2xhc3MgTm9kZSB7XG4gICAgcG9pbnQ6IFBvaW50O1xuICAgIGxlZnQ/OiBOb2RlID0gdW5kZWZpbmVkO1xuICAgIHJpZ2h0PzogTm9kZSA9IHVuZGVmaW5lZDtcbiAgICBwYXJlbnQ/OiBOb2RlO1xuICAgIGRpbWVuc2lvbjogbnVtYmVyOy8vIDA6IFgsIDE6IFlcblxuICAgIGNvbnN0cnVjdG9yKHBvaW50OiBQb2ludCwgcGFyZW50OiBOb2RlIHwgdW5kZWZpbmVkLCBkaW1lbnNpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRpbWVuc2lvbiA9IGRpbWVuc2lvbjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBLMmRUcmVlIHtcbiAgICByb290PzogTm9kZSA9IHVuZGVmaW5lZDtcblxuICAgIHByaXZhdGUgZGlzdGFuY2UoYTogUG9pbnQsIGI6IFBvaW50KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gYVswXSAtIGJbMF07XG4gICAgICAgIGxldCBkeSA9IGFbMV0gLSBiWzFdO1xuICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0U2VhcmNoKHBvaW50OiBQb2ludCwgbm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgcGFyZW50OiBOb2RlIHwgdW5kZWZpbmVkKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmVudCA9IG5vZGU7XG4gICAgICAgICAgICBpZiAocG9pbnRbbm9kZS5kaW1lbnNpb25dIDwgbm9kZS5wb2ludFtub2RlLmRpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9kZVNlYXJjaChwb2ludDogUG9pbnQpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChwb2ludFswXSA9PT0gbm9kZS5wb2ludFswXSAmJiBwb2ludFsxXSA9PT0gbm9kZS5wb2ludFsxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvaW50W25vZGUuZGltZW5zaW9uXSA8IG5vZGUucG9pbnRbbm9kZS5kaW1lbnNpb25dKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpbnNlcnQocG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGxldCBpbnNlcnRQb3NpdGlvbiA9IHRoaXMubGFzdFNlYXJjaChwb2ludCwgdGhpcy5yb290LCB1bmRlZmluZWQpO1xuXG4gICAgICAgIGlmIChpbnNlcnRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXcgTm9kZShwb2ludCwgdW5kZWZpbmVkLCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdOb2RlID0gbmV3IE5vZGUocG9pbnQsIGluc2VydFBvc2l0aW9uLCAoaW5zZXJ0UG9zaXRpb24uZGltZW5zaW9uICsgMSkgJiAxKTtcbiAgICAgICAgbGV0IGRpbWVuc2lvbiA9IGluc2VydFBvc2l0aW9uLmRpbWVuc2lvbjtcblxuICAgICAgICBpZiAocG9pbnRbZGltZW5zaW9uXSA8IGluc2VydFBvc2l0aW9uLnBvaW50W2RpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgIGluc2VydFBvc2l0aW9uLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24ucmlnaHQgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGZpbmRNaW4obm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgZGltOiBudW1iZXIpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmRpbWVuc2lvbiA9PT0gZGltKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kTWluKG5vZGUubGVmdCwgZGltKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG93biA9IG5vZGUucG9pbnRbZGltXTtcbiAgICAgICAgbGV0IGxlZnQgPSB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBkaW0pO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLmZpbmRNaW4obm9kZS5yaWdodCwgZGltKTtcbiAgICAgICAgbGV0IG1pbiA9IG5vZGU7XG5cbiAgICAgICAgaWYgKGxlZnQgIT09IHVuZGVmaW5lZCAmJiBsZWZ0LnBvaW50W2RpbV0gPCBvd24pIHtcbiAgICAgICAgICAgIG1pbiA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgcmlnaHQucG9pbnRbZGltXSA8IG1pbi5wb2ludFtkaW1dKSB7XG4gICAgICAgICAgICBtaW4gPSByaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVOb2RlKG5vZGU6IE5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRpbSA9IG5vZGUucGFyZW50LmRpbWVuc2lvbjtcbiAgICAgICAgICAgIGlmIChub2RlLnBvaW50W2RpbV0gPCBub2RlLnBhcmVudC5wb2ludFtkaW1dKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQubGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQucmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcmlnaHQgc3VidHJlZSBpcyBub3QgZW1wdHksIHN3YXAgd2l0aCB0aGUgbWluaW11bSBlbGVtZW50IG9uIHRoZVxuICAgICAgICAvLyBub2RlJ3MgZGltZW5zaW9uLiBJZiBpdCBpcyBlbXB0eSwgd2Ugc3dhcCB0aGUgbGVmdCBhbmQgcmlnaHQgc3VidHJlZXMgYW5kXG4gICAgICAgIC8vIGRvIHRoZSBzYW1lLlxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgbmV4dE5vZGUgPSB0aGlzLmZpbmRNaW4obm9kZS5yaWdodCwgbm9kZS5kaW1lbnNpb24pITtcbiAgICAgICAgICAgIGxldCBuZXh0UG9pbnQgPSBuZXh0Tm9kZS5wb2ludDtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZShuZXh0Tm9kZSk7XG4gICAgICAgICAgICBub2RlLnBvaW50ID0gbmV4dFBvaW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5leHROb2RlID0gdGhpcy5maW5kTWluKG5vZGUubGVmdCwgbm9kZS5kaW1lbnNpb24pITtcbiAgICAgICAgICAgIGxldCBuZXh0UG9pbnQgPSBuZXh0Tm9kZS5wb2ludDtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZShuZXh0Tm9kZSk7XG4gICAgICAgICAgICBub2RlLnJpZ2h0ID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbm9kZS5wb2ludCA9IG5leHRQb2ludDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZShwb2ludDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVTZWFyY2gocG9pbnQpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBuZWFyZXN0UG9pbnQocG9pbnQ6IFBvaW50LCByb290PzogTm9kZSk6IFtQb2ludCwgbnVtYmVyXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJvb3QgPSByb290IHx8IHRoaXMucm9vdDtcbiAgICAgICAgaWYgKHJvb3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgb3duRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHJvb3QucG9pbnQsIHBvaW50KTtcbiAgICAgICAgaWYgKHJvb3QubGVmdCA9PT0gdW5kZWZpbmVkICYmIHJvb3QucmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtyb290LnBvaW50LCBvd25EaXN0YW5jZV07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYmVzdENoaWxkO1xuXG4gICAgICAgIGlmIChyb290LnJpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJlc3RDaGlsZCA9IHJvb3QubGVmdDtcbiAgICAgICAgfSBlbHNlIGlmIChyb290LmxlZnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5yaWdodFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvaW50W3Jvb3QuZGltZW5zaW9uXSA8IHJvb3QucG9pbnRbcm9vdC5kaW1lbnNpb25dKSB7XG4gICAgICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFtiZXN0Q2hpbGROb2RlLCBiZXN0Q2hpbGREaXN0XSA9IHRoaXMubmVhcmVzdFBvaW50KHBvaW50LCBiZXN0Q2hpbGQpITtcblxuICAgICAgICBsZXQgYmVzdE5vZGU7XG4gICAgICAgIGxldCBiZXN0RGlzdDtcbiAgICAgICAgaWYgKGJlc3RDaGlsZERpc3QgPCBvd25EaXN0YW5jZSkge1xuICAgICAgICAgICAgYmVzdE5vZGUgPSBiZXN0Q2hpbGROb2RlO1xuICAgICAgICAgICAgYmVzdERpc3QgPSBiZXN0Q2hpbGREaXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmVzdE5vZGUgPSByb290LnBvaW50O1xuICAgICAgICAgICAgYmVzdERpc3QgPSBvd25EaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlYXJjaGVkIHBvaW50IHByb2plY3RlZCB0byBvdXIgYXhpc1xuICAgICAgICBsZXQgbGluZWFyUG9pbnQ6IFBvaW50ID0gW3BvaW50WzBdLCBwb2ludFsxXV07XG4gICAgICAgIGxpbmVhclBvaW50W3Jvb3QuZGltZW5zaW9uXSA9IHJvb3QucG9pbnRbcm9vdC5kaW1lbnNpb25dO1xuXG4gICAgICAgIGxldCBsaW5lYXJEaXN0ID0gdGhpcy5kaXN0YW5jZShsaW5lYXJQb2ludCwgcG9pbnQpO1xuICAgICAgICBpZiAobGluZWFyRGlzdCA8IGJlc3REaXN0KSB7XG4gICAgICAgICAgICBsZXQgb3RoZXJDaGlsZDtcbiAgICAgICAgICAgIGlmIChiZXN0Q2hpbGQgPT09IHJvb3QubGVmdCkge1xuICAgICAgICAgICAgICAgIG90aGVyQ2hpbGQgPSByb290LnJpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdGhlckNoaWxkID0gcm9vdC5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG90aGVyQ2hpbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBbb3RoZXJOb2RlLCBvdGhlckRpc3RdID0gdGhpcy5uZWFyZXN0UG9pbnQocG9pbnQsIG90aGVyQ2hpbGQpITtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJEaXN0IDwgYmVzdERpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdE5vZGUgPSBvdGhlck5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGJlc3REaXN0ID0gb3RoZXJEaXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2Jlc3ROb2RlLCBiZXN0RGlzdF1cbiAgICB9XG59XG5cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQge2FwcH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBERVNUUk9ZX0FMTCA9IHtcbiAgICBjaGlsZHJlbjogdHJ1ZSxcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IERFU1RST1lfTUlOID0ge1xuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICB0ZXh0dXJlOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogZmFsc2UsXG59O1xuXG5jb25zdCBBTExPV0VEX0lNQUdFVFlQRVMgPSBbJ2pwZWcnLCAncG5nJywgJ3gtamcnLCAnYm1wJywgJ3gtaWNvbicsICdpZWYnLCAncGpwZWcnLCAneC1wb3J0YWJsZS1iaXRtYXAnLCAneC1yZ2InLCAndGlmZicsICd4LXRpZmYnXVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUltYWdlTWltZVR5cGUodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB0aHJvdyAnSW52YWxpZCB0eXBlOiBpdCBzaG91bGQgYmUgYW4gaW1hZ2UnO1xuICAgIGlmIChBTExPV0VEX0lNQUdFVFlQRVMuaW5kZXhPZih0eXBlLnN1YnN0cignaW1hZ2UvJy5sZW5ndGgpKSA8IDApIHRocm93ICdVbnN1cHBvcnRlZCBpbWFnZSB0eXBlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUZXh0dXJlKGRhdGE6IEFycmF5QnVmZmVyLCBkYXRhVHlwZTogc3RyaW5nKTogUHJvbWlzZTxQSVhJLlRleHR1cmU+IHtcbiAgICB2YWxpZGF0ZUltYWdlTWltZVR5cGUoZGF0YVR5cGUpO1xuICAgIGxldCB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgbGV0IGI2NCA9ICdkYXRhOicgKyBkYXRhVHlwZSArICc7YmFzZTY0LCcgKyBidG9hKHR5cGVkQXJyYXkucmVkdWNlKChkYXRhLCBieXRlKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhICsgU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTtcbiAgICB9LCAnJykpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFBJWEkuVGV4dHVyZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShuZXcgUElYSS5CYXNlVGV4dHVyZShuZXcgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZShpbWFnZSkpKTtcbiAgICAgICAgICAgIHJlc29sdmUodGV4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgaW1hZ2Uuc3JjID0gYjY0O1xuICAgIH0pO1xufVxuXG5leHBvcnQgZW51bSBDVVNUT01fQkxFTkRfTU9ERVMge1xuICAgIE1VTFRJUExZX0NPTE9SX09OTFkgPSAzMCxcbiAgICBBRERfV0hFUkVfQUxQSEFfMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEN1c3RvbUJsZW5kTW9kZXMoKSB7XG4gICAgbGV0IGdsID0gYXBwLnJlbmRlcmVyLmdsO1xuICAgIGxldCBhcnJheSA9IChhcHAucmVuZGVyZXIuc3RhdGUgYXMgYW55KS5ibGVuZE1vZGVzO1xuICAgIGFycmF5W0NVU1RPTV9CTEVORF9NT0RFUy5NVUxUSVBMWV9DT0xPUl9PTkxZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLlpFUk8sIGdsLk9ORSwgZ2wuWkVST107XG4gICAgYXJyYXlbQ1VTVE9NX0JMRU5EX01PREVTLkFERF9XSEVSRV9BTFBIQV8xXSA9IFtnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuWkVSTywgZ2wuT05FXTtcbn0iLCJcbnR5cGUgTGlzdGVuZXJGbiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEV2ZW50SGFuZGxlciB7XG4gICAgY2I6IExpc3RlbmVyRm47XG4gICAgc2VsZjogYW55O1xuICAgIG9uY2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhZmVFdmVudEVtaXR0ZXIge1xuICAgIGV2ZW50czoge1tuYW1lOiBzdHJpbmddOiBFdmVudEhhbmRsZXJbXX0gPSB7fTtcblxuICAgIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4uYXJnczogQXJyYXk8YW55Pik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCB8fCBsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYi5jYWxsKGxpc3RlbmVyLnNlbGYsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoYikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBjYWxsaW5nIGV2ZW50IFwiICsgZXZlbnQsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uY2UpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb24oZXZlbnQ6IHN0cmluZywgZm46IExpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGxpc3RlbmVycztcbiAgICAgICAgfVxuICAgICAgICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICBjYjogZm4sXG4gICAgICAgICAgICBzZWxmOiBjb250ZXh0LFxuICAgICAgICAgICAgb25jZTogZmFsc2UsXG4gICAgICAgIH0gYXMgRXZlbnRIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb25jZShldmVudDogc3RyaW5nLCBmbjogTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSk6IHRoaXMge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gbGlzdGVuZXJzO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgIGNiOiBmbixcbiAgICAgICAgICAgIHNlbGY6IGNvbnRleHQsXG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9IGFzIEV2ZW50SGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb2ZmKGV2ZW50OiBzdHJpbmcsIGZuOiBMaXN0ZW5lckZuLCBjb250ZXh0PzogYW55LCBvbmNlPzogYm9vbGVhbik6IHRoaXMge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHRocm93ICdDYW5ub3QgZmluZCBldmVudCAnICsgZXZlbnQ7XG4gICAgICAgIGxldCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIuY2IgPT09IGZuICYmIGxpc3RlbmVyLnNlbGYgPT09IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93ICdDYW5ub3QgZmluZCBldmVudCAnICsgZXZlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50Pzogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIGlmIChldmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDNkMzI0ZDYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDNkMzI0ZDYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjAzZDMyNGQ2XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwM2QzMjRkNicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwM2QzMjRkNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwM2QzMjRkNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAzZDMyNGQ2JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzAzZDMyNGQ2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWVmZDcwMTYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNWVmZDcwMTZcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzVlZmQ3MDE2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVlZmQ3MDE2JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzVlZmQ3MDE2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xODYyZThiNSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzRG9vci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjE4NjJlOGI1XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcxODYyZThiNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcxODYyZThiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcxODYyZThiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzRG9vci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MTg2MmU4YjUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMTg2MmU4YjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzI0ZTAxMWYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjcyNGUwMTFmXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc3MjRlMDExZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3MjRlMDExZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3MjRlMDExZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcyNGUwMTFmJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzcyNGUwMTFmJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NMaWdodC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTNlNzY4OTEyJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05hbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiM2U3Njg5MTJcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzNlNzY4OTEyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zZTc2ODkxMiZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczZTc2ODkxMicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJlZmZiMmY5JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMmVmZmIyZjlcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzJlZmZiMmY5JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzJlZmZiMmY5JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yZWZmYjJmOSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcyZWZmYjJmOScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjZkODhlNWUmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUGluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMjZkODhlNWVcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzI2ZDg4ZTVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzI2ZDg4ZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzI2ZDg4ZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI2ZDg4ZTVlJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzI2ZDg4ZTVlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTYzNmNlZWE4JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjYzNmNlZWE4XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc2MzZjZWVhOCcpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc2MzZjZWVhOCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc2MzZjZWVhOCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02MzZjZWVhOCZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc2MzZjZWVhOCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWU4MWU0ZGEwJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJlODFlNGRhMFwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZTgxZTRkYTAnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZTgxZTRkYTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lODFlNGRhMCZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdlODFlNGRhMCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA4YjJkMWI1JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjA4YjJkMWI1XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwOGIyZDFiNScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwOGIyZDFiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwOGIyZDFiNScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wOGIyZDFiNSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwOGIyZDFiNScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZWU4N2JmNSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCI0ZWU4N2JmNVwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNGVlODdiZjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNGVlODdiZjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNGVlODdiZjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGVlODdiZjUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNGVlODdiZjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM3ZTIyZTVlJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMzdlMjJlNWVcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzM3ZTIyZTVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzM3ZTIyZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzM3ZTIyZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zN2UyMmU1ZSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczN2UyMmU1ZScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzV2FsbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJjNDA3ZGJmYVwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9ydW4vbWVkaWEvc25vd3kvVm9sdW1lL21pc2MvcHJvZ2V0dGkvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnYzQwN2RiZmEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnYzQwN2RiZmEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnYzQwN2RiZmEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2M0MDdkYmZhJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjUzYjQ2MDUxXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1M2I0NjA1MScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1M2I0NjA1MScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1M2I0NjA1MScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTNiNDYwNTEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY5ZTZlMjIxJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZ3JpZEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzY5ZTZlMjIxJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzY5ZTZlMjIxJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzY5ZTZlMjIxJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjllNmUyMjEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNjllNmUyMjEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Zvb3Rlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjUzOWYyYmZmXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1MzlmMmJmZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MzlmMmJmZiZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1MzlmMmJmZicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9mb290ZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kODU1MGI0YSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1kODU1MGI0YSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiZDg1NTBiNGFcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvcnVuL21lZGlhL3Nub3d5L1ZvbHVtZS9taXNjL3Byb2dldHRpL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2Q4NTUwYjRhJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2Q4NTUwYjRhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2Q4NTUwYjRhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9ob21lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kODU1MGI0YSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdkODU1MGI0YScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9ob21lL2hvbWUudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9N2U5ZDQwNmMmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjdlOWQ0MDZjXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc3ZTlkNDA2YycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3ZTlkNDA2YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3ZTlkNDA2YycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTdlOWQ0MDZjJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzdlOWQ0MDZjJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiPHRlbXBsYXRlPlxuICAgIDwhLS10cmFuc2l0aW9uIG5hbWU9XCJtb2RhbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtbWFza1wiXG4gICAgICAgICAgICAgb25kcmFnZW50ZXI9XCJldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIlxuICAgICAgICAgICAgIG9uZHJhZ292ZXI9XCJldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIlxuICAgICAgICAgICAgIHYtb246b25kcm9wPVwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IG9uRHJvcChldmVudClcIlxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zZXJ0IG1hcCB0byBsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcCBsb2FkaW5nIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGZvb3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1kZWZhdWx0LWJ1dHRvblwiIEBjbGljaz1cIiRlbWl0KCdjYW5jZWwnKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC90cmFuc2l0aW9uLS0+XG4gICAgPGItbW9kYWwgcmVmPVwibXktbW9kYWxcIiBoaWRlLWZvb3RlciB0aXRsZT1cIkdpbW1lIHRoZSBtYXBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImQtYmxvY2sgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxoMz5JbnNlcnQgbWFwIHRvIGxvYWQ8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGItYnV0dG9uIGNsYXNzPVwibXQtM1wiIHZhcmlhbnQ9XCJvdXRsaW5lLWRhbmdlclwiIGJsb2NrIEBjbGljaz1cImhpZGVNb2RhbFwiPkNhbmNlbDwvYi1idXR0b24+XG4gICAgPC9iLW1vZGFsPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgICBleHBvcnQgZGVmYXVsdCB7XG4gICAgICAgIG5hbWU6IFwibWFwSW5wdXRcIixcbiAgICAgICAgZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgICAgb25Ecm9wOiBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGVNb2RhbDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJjbG9zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuPC9zdHlsZT4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWIxMGFmNDk2JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3J1bi9tZWRpYS9zbm93eS9Wb2x1bWUvbWlzYy9wcm9nZXR0aS9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdiMTBhZjQ5NicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdiMTBhZjQ5NicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdiMTBhZjQ5NicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjEwYWY0OTYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignYjEwYWY0OTYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaG9tZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL21hcElucHV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL21hcElucHV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfYyhcImRpdlwiLCBbXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJjb21wb25lbnQtaGVhZGVyXCIgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS52aXNpYmxlID0gIV92bS52aXNpYmxlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbX3ZtLl92KFwiIFwiICsgX3ZtLl9zKF92bS5jb21wb25lbnQudHlwZSkpXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZSAhPT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZ3JpZFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkhpZGUgY29tcG9uZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTaG93IGNvbXBvbmVudFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGllbnRWaXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiY29tcG9uZW50LmNsaWVudFZpc2libGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllXCIgfSldXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIV92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIiFjb21wb25lbnQuY2xpZW50VmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWUtc2xhc2hcIiB9KV1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRnVsbHNjcmVlblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC5faXNGdWxsc2NyZWVuID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXhwYW5kXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5fY2FuRGVsZXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2NhbkRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IFwiZGFuZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVtb3ZlQ29tcG9uZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbXBvbmVudC5tdWx0aUlkXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS10cmFzaFwiIH0pXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLWNvbGxhcHNlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJjb21wb25lbnQtYm9keVwiLFxuICAgICAgICAgIGF0dHJzOiB7IHZpc2libGU6IFwiXCIgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS52aXNpYmxlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICBfdm0udmlzaWJsZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwidmlzaWJsZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoX3ZtLmNvbXBvbmVudFR5cGUsIHtcbiAgICAgICAgICAgIHRhZzogXCJjb21wb25lbnRcIixcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIGNvbXBvbmVudDogX3ZtLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgaXNBZG1pbjogX3ZtLmlzQWRtaW4sXG4gICAgICAgICAgICAgIGFsbENvbXBzOiBfdm0uYWxsQ29tcHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcbiAgICAgICAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiLFxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzNdXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcInNwYW5cIiwgW192bS5fdihcIllvdXIgcmVndWxhciBiYWNrZ3JvdW5kIGltYWdlXCIpXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBUeXBlOlxcbiAgICBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIFtcbiAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgXCIgKyBfdm0uX3ModGhpcy5kb29yVHlwZU5hbWUpICsgXCJcXG4gICAgXCIpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJiLWZvcm0tc2VsZWN0XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJtYi0zXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZG9vclR5cGUsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS5kb29yVHlwZSA9ICQkdlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZG9vclR5cGVcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFwiYi1mb3JtLXNlbGVjdC1vcHRpb25cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJub3JtYWxsXCIgfSB9LCBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCJOb3JtYWxcIilcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFwiYi1mb3JtLXNlbGVjdC1vcHRpb25cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJub3JtYWxyXCIgfSB9LCBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCJOb3JtYWwgcmlnaHRcIilcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFwiYi1mb3JtLXNlbGVjdC1vcHRpb25cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJyb3RhdGVcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIlJvdGF0aW5nXCIpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKF92bS5vcGVuID8gXCJPcGVuXCIgOiBcIkNsb3NlZFwiKSldKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInRoaXMubG9ja2VkXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjVyZW1cIiB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9ja1wiIH0pXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgcHJlc3NlZDogX3ZtLm9wZW4gfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLm9wZW4gPSAkZXZlbnRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKF92bS5vcGVuID8gXCJPcGVuXCIgOiBcIkNsb3NlZFwiKSldXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyBwcmVzc2VkOiBfdm0ubG9ja2VkIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIFwidXBkYXRlOnByZXNzZWRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS5sb2NrZWQgPSAkZXZlbnRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmxvY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibG9ja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWxvY2tcIiB9KV1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICFfdm0ubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCIhbG9ja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWxvY2stb3BlblwiIH0pXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIENvbG9yOlxcbiAgICBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbG9yLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5jb2xvciA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb2xvclwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoX3ZtLmNvbG9yKSldKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFZpc2liaWxpdHkgUmFuZ2U6IFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnJhbmdlKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMVwiLCBtaW46IFwiMFwiLCBzaXplOiBcInNtXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnJhbmdlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5yYW5nZSA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJyYW5nZVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImItaW5wdXRcIiwge1xuICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sIHBsYWNlaG9sZGVyOiBcIkVudGl0eSBuYW1lXCIgfSxcbiAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgIG1vZGVsOiB7XG4gICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5uYW1lLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICBfdm0uJHNldChfdm0uY29tcG9uZW50LCBcIm5hbWVcIiwgJCR2KVxuICAgICAgfSxcbiAgICAgIGV4cHJlc3Npb246IFwiY29tcG9uZW50Lm5hbWVcIlxuICAgIH1cbiAgfSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXCJiLXRleHRhcmVhXCIsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJXcml0ZSBzb21ldGhpbmcgaGVyZS4uLlwiLFxuICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW5cbiAgICAgICAgfSxcbiAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICB2YWx1ZTogX3ZtLm5vdGUsXG4gICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgX3ZtLm5vdGUgPSAkJHZcbiAgICAgICAgICB9LFxuICAgICAgICAgIGV4cHJlc3Npb246IFwibm90ZVwiXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItbW9kYWxcIixcbiAgICAgICAge1xuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0aXRsZTogXCJOb3RlXCIsXG4gICAgICAgICAgICBcImRpYWxvZy1jbGFzc1wiOiBcIm1vZGFsLWZ1bGxzY3JlZW4gbW9kYWwteHhsXCIsXG4gICAgICAgICAgICBcImhpZGUtZm9vdGVyXCI6IFwiXCIsXG4gICAgICAgICAgICBcImhpZGUtaGVhZGVyXCI6IFwiXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBrZXk6IFwibW9kYWwtZm9vdGVyXCIsXG4gICAgICAgICAgICAgIGZuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHByb3h5OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSksXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4sXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgIF92bS4kc2V0KF92bS5jb21wb25lbnQsIFwiX2lzRnVsbHNjcmVlblwiLCAkJHYpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlblwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJiLXRleHRhcmVhXCIsIHtcbiAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGhlaWdodDogXCIxMDAlXCIsIHJlc2l6ZTogXCJub25lXCIgfSxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXCIsXG4gICAgICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS5ub3RlLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgX3ZtLm5vdGUgPSAkJHZcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJub3RlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgPyBbXG4gICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImNvbG9yXCIsIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbG9yLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5jb2xvciA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb2xvclwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sIHBsYWNlaG9sZGVyOiBcIkxhYmVsXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmxhYmVsLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5sYWJlbCA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJsYWJlbFwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXVxuICAgICAgICA6IF92bS5fZSgpXG4gICAgXSxcbiAgICAyXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgTmlnaHQgdmlzaW9uOlxcbiAgICBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItZm9ybS1jaGVja2JveFwiLCB7XG4gICAgICAgICAgICAgIG9uOiB7IGlucHV0OiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm5pZ2h0VmlzaW9uLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5uaWdodFZpc2lvbiA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJuaWdodFZpc2lvblwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLm5pZ2h0VmlzaW9uID8gXCJ5ZXNcIiA6IFwibm9cIikpXG4gICAgICAgICAgICBdKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFZpc2liaWxpdHkgUmFuZ2U6IFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnJhbmdlKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMVwiLCBtaW46IFwiMFwiLCBzaXplOiBcInNtXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnJhbmdlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5yYW5nZSA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJyYW5nZVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFg6IFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLngpKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJudW1iZXJcIiwgc3RlcDogXCIwLjAwMVwiLCBzaXplOiBcInNtXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLngsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLnggPSAkJHZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwieFwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFk6IFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiArIF92bS5fcyhfdm0ueSkpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcIm51bWJlclwiLCBzdGVwOiBcIjAuMDAxXCIsIHNpemU6IFwic21cIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ueSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICBfdm0ueSA9ICQkdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ5XCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICBdLFxuICAgICAgMVxuICAgIClcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSwgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVGFyZ2V0OiBcIiksXG4gICAgICAgIF9jKFwic3BhblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0uZm9jdXNUYXJnZXQgfSB9LCBbXG4gICAgICAgICAgX3ZtLl92KF92bS5fcyh0aGlzLmNvbXBvbmVudC50YXJnZXRQcm9wKSlcbiAgICAgICAgXSlcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYi1idXR0b25cIiwgeyBvbjogeyBjbGljazogX3ZtLmxpbmsgfSB9LCBbX3ZtLl92KFwiTGlua1wiKV0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYi1idXR0b25cIiwgeyBvbjogeyBjbGljazogX3ZtLnVzZSB9IH0sIFtfdm0uX3YoXCJVc2VcIildKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIEFuZ2xlOiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5yb3RhdGlvbikpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcIm51bWJlclwiLCBzdGVwOiBcIjAuMDAxXCIsIHNpemU6IFwic21cIiB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ucm90YXRpb24sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLnJvdGF0aW9uID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInJvdGF0aW9uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgU2NhbGU6IFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnNjYWxlKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zY2FsZSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICBfdm0uc2NhbGUgPSAkJHZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwic2NhbGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBXOiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS53KSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS53LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS53ID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIndcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIFwiYWxpZ24taXRlbXNcIjogXCJjZW50ZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBIOiBcIiksXG4gICAgICAgICFfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5oKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMDFcIiwgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5oLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgIF92bS5oID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImhcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50cy5sZW5ndGggPiAwLFxuICAgICAgICAgIGV4cHJlc3Npb246IFwiY29tcG9uZW50cy5sZW5ndGggPiAwXCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiY29tcG9uZW50LWJ0bi1oZWFkZXJcIiB9LFxuICAgICAgICBbXG4gICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgXCJ0b2dnbGUtY2xhc3NcIjogXCJyb3VuZGVkLTBcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIgfSxcbiAgICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiYnV0dG9uLWNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtcGx1c1wiIH0pXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgMTc3NDU1NDY0MVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0uc2VsZWN0ZWRBZGRhYmxlLCBmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZW1pdFNwZWNpYWwoXCJhZGRDb21wb25lbnRcIiwgeC50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiXFxuICAgICAgICBcIiArIF92bS5fcyh4Lm5hbWUpICsgXCJcXG4gICAgICBcIildXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJncmlkXCIgfSxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uZW50aXR5LmhpZGRlbiA/IFwiU2hvdyBlbnRpdHlcIiA6IFwiSGlkZSBlbnRpdHlcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTcGVjaWFsKFwiaGlkZGVuXCIsICFfdm0uZW50aXR5LmhpZGRlbilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIixcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogX3ZtLmVudGl0eS5oaWRkZW4gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllLXNsYXNoXCIgfSldXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IF92bS5lbnRpdHkuaGlkZGVuID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWV5ZVwiIH0pXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEZWxldGUgZW50aXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXRyYXNoXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIlxcblxcbiAgSWQ6IFwiICsgX3ZtLl9zKF92bS5lbnRpdHkuaWRzKSArIFwiXFxuICBcIiksXG4gICAgICBfdm0uX2woX3ZtLnJlbmRlcmVkQ29tcG9uZW50cywgZnVuY3Rpb24oY29tcCkge1xuICAgICAgICByZXR1cm4gX2MoXCJlY3MtY29tcG9uZW50LXdyYXBwZXJcIiwge1xuICAgICAgICAgIGtleTogY29tcC50eXBlICsgKGNvbXAubXVsdGlJZCB8fCBcIlwiKSxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY29tcG9uZW50OiBjb21wLFxuICAgICAgICAgICAgaXNBZG1pbjogX3ZtLmlzQWRtaW4sXG4gICAgICAgICAgICBhbGxDb21wczogX3ZtLmFsbENvbXBvbmVudHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcImVjcy1wcm9wZXJ0eS1jaGFuZ2VcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXG4gICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzNdXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIF0sXG4gICAgMlxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwiZ2FtZVwiIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiYi1idXR0b24tdG9vbGJhclwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYmctZGFya1wiLFxuICAgICAgICAgIHN0YXRpY1N0eWxlOiB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwidmFyKC0tdG9wYmFyLWhlaWdodClcIixcbiAgICAgICAgICAgIFwiei1pbmRleFwiOiBcIjEwMDBcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJkYXJrXCIsIHZhcmlhbnQ6IFwiaW5mb1wiLCBqdXN0aWZ5OiBcIlwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b24tZ3JvdXBcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLXJpZ2h0XCI6IFwiMnJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG5cIixcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJVbmRvXCIsIHNxdWFyZWQ6IFwiXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXVuZG9cIiB9KV1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiUmVkb1wiLCBzcXVhcmVkOiBcIlwiLCBkaXNhYmxlZDogXCJcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtcmVkb1wiIH0pXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uLWdyb3VwXCIsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiSW5zcGVjdFwiLCBzcXVhcmVkOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5jaGFuZ2VUb29sKFwiaW5zcGVjdFwiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWhhbmQtcG9pbnRlclwiIH0pXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiQWRkIHdhbGxcIiwgc3F1YXJlZDogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2hhbmdlVG9vbChcImNyZWF0ZV93YWxsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN2Z1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJzdmctaW5saW5lLS1mYSBmYS13LTE2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94OiBcIjAgMCAyMzQuODA5IDIzNC44MDlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJwYXRoXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTTcuNSw1My45ODhjLTQuMTM1LDAtNy41LTMuMzY0LTcuNS03LjVWMjAuNTcxYzAtNC4xMzYsMy4zNjUtNy41LDcuNS03LjVoOTQuOTA0YzQuMTM1LDAsNy41LDMuMzY0LDcuNSw3LjV2MjUuOTE3XFxuICAgICAgICAgICAgICAgICAgICBjMCw0LjEzNi0zLjM2NSw3LjUtNy41LDcuNUg3LjV6IE0yMjcuMzA5LDUzLjk4OGM0LjEzNSwwLDcuNS0zLjM2NCw3LjUtNy41VjIwLjU3MWMwLTQuMTM2LTMuMzY1LTcuNS03LjUtNy41aC05NC45MDRcXG4gICAgICAgICAgICAgICAgICAgIGMtNC4xMzUsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgyMjcuMzA5eiBNMTY0Ljg1NiwxMDkuOTA0YzQuMTM1LDAsNy41LTMuMzY1LDcuNS03LjVWNzYuNDg4XFxuICAgICAgICAgICAgICAgICAgICBjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNUg2OS45NTJjLTQuMTM1LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzUsMy4zNjUsNy41LDcuNSw3LjVIMTY0Ljg1NnogTTM5Ljk1MiwxMDkuOTA0XFxuICAgICAgICAgICAgICAgICAgICBjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNVY3Ni40ODhjMC00LjEzNi0zLjM2NC03LjUtNy41LTcuNUg4LjA0OGMtNC4xMzYsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNVxcbiAgICAgICAgICAgICAgICAgICAgSDM5Ljk1MnogTTIyNi43NjEsMTA5LjkwNGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41aC0zMS45MDRjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3XFxuICAgICAgICAgICAgICAgICAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgyMjYuNzYxeiBNMTAyLjQwNCwxNjUuODIxYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM1LTMuMzY1LTcuNS03LjUtNy41SDcuNVxcbiAgICAgICAgICAgICAgICAgICAgYy00LjEzNSwwLTcuNSwzLjM2NS03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDEwMi40MDR6IE0yMjcuMzA5LDE2NS44MjFjNC4xMzUsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3XFxuICAgICAgICAgICAgICAgICAgICBjMC00LjEzNS0zLjM2NS03LjUtNy41LTcuNWgtOTQuOTA0Yy00LjEzNSwwLTcuNSwzLjM2NS03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY1LDcuNSw3LjUsNy41SDIyNy4zMDl6IE0xNjQuODU2LDIyMS43MzhcXG4gICAgICAgICAgICAgICAgICAgIGM0LjEzNSwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNUg2OS45NTJjLTQuMTM1LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjUsNy41LDcuNSw3LjVcXG4gICAgICAgICAgICAgICAgICAgIEgxNjQuODU2eiBNMzkuOTUyLDIyMS43MzhjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVIOC4wNDhjLTQuMTM2LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3XFxuICAgICAgICAgICAgICAgICAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgzOS45NTJ6IE0yMjYuNzYxLDIyMS43MzhjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNXYtMjUuOTE3YzAtNC4xMzYtMy4zNjQtNy41LTcuNS03LjVoLTMxLjkwNFxcbiAgICAgICAgICAgICAgICAgICAgYy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0blwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkFkZCBvYmplY3RcIiwgc3F1YXJlZDogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2hhbmdlVG9vbChcImNyZWF0ZV9wcm9wXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXBsdXNcIiB9KV1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiQWRkIHBpblwiLCBzcXVhcmVkOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5jaGFuZ2VUb29sKFwiY3JlYXRlX3BpblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS10aHVtYnRhY2tcIiB9KV1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiRWRpdCBncmlkXCIsIHNxdWFyZWQ6IFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNoYW5nZVRvb2woXCJncmlkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWJvcmRlci1hbGxcIiB9KV1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiTGlnaHQgc2V0dGluZ3NcIiwgc3F1YXJlZDogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2hhbmdlVG9vbChcImxpZ2h0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWxpZ2h0YnVsYlwiIH0pXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4teHNcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkV4cG9ydCBtYXBcIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJzdWNjZXNzXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5waGFzZS5leHBvcnRNYXAoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWRvd25sb2FkXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY1N0eWxlOiB7IGZsZXg6IFwiMSAxIDBcIiB9IH0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcImItdG9nZ2xlXCIsXG4gICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtYi10b2dnbGUuc2lkZWJhci1yaWdodFwiLFxuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzOiB7IFwic2lkZWJhci1yaWdodFwiOiB0cnVlIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi14c1wiLFxuICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJUb2dnbGUgc2lkZWJhclwiLCB2YXJpYW50OiBcIndhcm5pbmdcIiB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1hbmdsZS1kb3VibGUtcmlnaHRcIiB9KV1cbiAgICAgICAgICApXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICBzdGF0aWNTdHlsZToge1xuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxMDB2aCAtIHZhcigtLXRvcGJhci1oZWlnaHQpKVwiXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7IGlkOiBcImNhbnZhcy1jb250YWluZXJcIiB9XG4gICAgICB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLXNpZGViYXJcIixcbiAgICAgICAge1xuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBpZDogXCJzaWRlYmFyLXJpZ2h0XCIsXG4gICAgICAgICAgICB0aXRsZTogXCJTaWRlYmFyXCIsXG4gICAgICAgICAgICBcImJnLXZhcmlhbnRcIjogXCJkYXJrXCIsXG4gICAgICAgICAgICBcInRleHQtdmFyaWFudFwiOiBcImxpZ2h0XCIsXG4gICAgICAgICAgICByaWdodDogXCJcIixcbiAgICAgICAgICAgIHZpc2libGU6IFwiXCIsXG4gICAgICAgICAgICBcIm5vLWhlYWRlclwiOiBcIlwiLFxuICAgICAgICAgICAgc2hhZG93OiBcIlwiLFxuICAgICAgICAgICAgXCJzaWRlYmFyLWNsYXNzXCI6IFwidW5kZXItbmF2YmFyXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBrZXk6IFwiZm9vdGVyXCIsXG4gICAgICAgICAgICAgIGZuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJzaWRlYmFyLWZvb3RlclwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICBcIiArIF92bS5fcyhfdm0uY29ubmVjdGlvbkNvdW50KSArIFwiXFxuICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IHJvdGF0ZTogX3ZtLmNvbm5lY3Rpb25CdWZmZXJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjJyZW1cIiB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXN5bmMtYWx0XCIgfSldXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwcm94eTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0pXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImdyaWQtZWRpdFwiLCB7XG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0udG9vbCA9PT0gXCJncmlkXCIsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnZ3JpZCdcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwicHgtMyBweS0yXCIsXG4gICAgICAgICAgICBhdHRyczogeyB3b3JsZDogX3ZtLndvcmxkIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0udG9vbCA9PT0gXCJpbnNwZWN0XCIsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInRvb2wgPT09ICdpbnNwZWN0J1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImVudGl0eS1pbnNwZWN0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogdGhpcy5zZWxlY3RlZENvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgICBlbnRpdHk6IHRoaXMuc2VsZWN0ZWRFbnRpdHlPcHRzLFxuICAgICAgICAgICAgICAgICAgaXNBZG1pbjogX3ZtLmlzQWRtaW4sXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZEFkZGFibGU6IF92bS5zZWxlY3RlZEFkZGFibGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uOiB7IFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiOiBfdm0ub25FY3NQcm9wZXJ0eUNoYW5nZSB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wgPT09IFwibGlnaHRcIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidG9vbCA9PT0gJ2xpZ2h0J1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJweC0zIHB5LTJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiTGlnaHQ6XCIpXSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiLCByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5saWdodC5hbWJpZW50TGlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmxpZ2h0LCBcImFtYmllbnRMaWdodFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImxpZ2h0LmFtYmllbnRMaWdodFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIk5lZWRzIGxpZ2h0OlwiKV0pLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFwiYi1mb3JtLWNoZWNrYm94XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgICAgICAgICAgICBvbjogeyBpbnB1dDogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5saWdodC5uZWVkc0xpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5saWdodCwgXCJuZWVkc0xpZ2h0XCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibGlnaHQubmVlZHNMaWdodFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIlZpc2lvbiB0eXBlOlwiKV0pLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc3NlZDogX3ZtLmxpZ2h0LnJvbGVwbGF5VmlzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0uaXNBZG1pblxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXBkYXRlOnByZXNzZWRcIjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJHNldChfdm0ubGlnaHQsIFwicm9sZXBsYXlWaXNpb25cIiwgJGV2ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5saWdodC5yb2xlcGxheVZpc2lvbiA/IFwiUm9sZXBsYXllclwiIDogXCJNYXN0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIkJhY2tncm91bmQ6XCIpXSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiLCByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQW1iaWVudExpZ2h0Q2hhbmdlIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5saWdodC5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5saWdodCwgXCJiYWNrZ3JvdW5kXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibGlnaHQuYmFja2dyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJiLWJ1dHRvblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0ub25MaWdodFNldHRpbmdzUmVzZXQgfSB9LCBbXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIlJlc2V0XCIpXG4gICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYVwiLCB7XG4gICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0sXG4gICAgICAgIGF0dHJzOiB7IGlkOiBcImhpZGRlbi1kb3dubG9hZC1saW5rXCIgfVxuICAgICAgfSlcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfdm0uX3YoXCJcXG4gIFR5cGU6XFxuICBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLXJhZGlvLWdyb3VwXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBhdHRyczogeyBpZDogXCJncmlkLXR5cGUtcmFkaW9cIiwgYnV0dG9uczogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQudHlwZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwidHlwZVwiLCAkJHYpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnR5cGVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiYi1yYWRpb1wiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vbmVcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1ib3JkZXItbm9uZVwiIH0pXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImItcmFkaW9cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJzcXVhcmVcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhciBmYS1zcXVhcmVcIiB9KVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJiLXJhZGlvXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwiaGV4XCIgfSB9LCBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJzdmdcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLWhleGFnb24gZmEtdy0xOFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICByb2xlOiBcImltZ1wiLFxuICAgICAgICAgICAgICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU3NiA1MTJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFwicGF0aFwiLCB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgICAgICAgICBkOlxuICAgICAgICAgICAgICAgICAgICAgIFwiTTQ0MS41IDM5LjhDNDMyLjkgMjUuMSA0MTcuMSAxNiA0MDAgMTZIMTc2Yy0xNy4xIDAtMzIuOSA5LjEtNDEuNSAyMy44bC0xMTIgMTkyYy04LjcgMTQuOS04LjcgMzMuNCAwIDQ4LjRsMTEyIDE5MmM4LjYgMTQuNyAyNC40IDIzLjggNDEuNSAyMy44aDIyNGMxNy4xIDAgMzIuOS05LjEgNDEuNS0yMy44bDExMi0xOTJjOC43LTE0LjkgOC43LTMzLjQgMC00OC40bC0xMTItMTkyek00MDAgNDQ4SDE3Nkw2NCAyNTYgMTc2IDY0aDIyNGwxMTIgMTkyLTExMiAxOTJ6XCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSlcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfdm0uZ3JpZC50eXBlICE9PSBcIm5vbmVcIlxuICAgICAgICA/IF9jKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiU2l6ZTpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIxMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjUxMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInNpemVcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5zaXplXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMTBcIiwgbWF4OiBcIjUxMlwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5zaXplLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJzaXplXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQuc2l6ZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIFtfdm0uX3YoXCJYb2Zmc2V0OlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiBcIjAuMDAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZlhcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIwXCIsIG1heDogXCIxXCIsIHN0ZXA6IFwiMC4wMDFcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWCxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZlhcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIllvZmZzZXQ6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IFwiMC4wMDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZZLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZZXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWVwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwicmFuZ2VcIiwgbWluOiBcIjBcIiwgbWF4OiBcIjFcIiwgc3RlcDogXCIwLjAwMVwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZZLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZZXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuXFxuICAgIENvbG9yOiBcIiArIF92bS5fcyhfdm0uZ3JpZC5jb2xvcikgKyBcIlxcbiAgICBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5jb2xvcixcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwiY29sb3JcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5jb2xvclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiT3BhY2l0eTpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogXCIwLjAwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9wYWNpdHlcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vcGFjaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMFwiLCBtYXg6IFwiMVwiLCBzdGVwOiBcIjAuMDAxXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9wYWNpdHlcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vcGFjaXR5XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJUaGlja25lc3M6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjIwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnRoaWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ0aGlja1wiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnRoaWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMVwiLCBtYXg6IFwiMjAwXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnRoaWNrLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJ0aGlja1wiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnRoaWNrXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfdm0uX20oMClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZm9vdGVyXCIgfSwgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjcmVkaXRzXCIgfSwgW1xuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxpbmtzXCIgfSwgW1xuICAgICAgICAgIF9jKFwiYVwiLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnaXRodWJcIixcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL1Nub3d5Q29kZXIvZG5kbWVcIixcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwic21hbGxcIiwgeyBzdGF0aWNTdHlsZTogeyBjb2xvcjogXCJsaWdodGdyYXlcIiB9IH0sIFtcbiAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBEZXZlbG9wZWQgYnkgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInByb2ZpbGVcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2RlclwiLCB0YXJnZXQ6IFwiX2JsYW5rXCIgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfdm0uX3YoXCJSb3NzaSBMb3JlbnpvXCIpXVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLl92KFwiIC9cXG4gICAgICBEcmF3aW5ncyBieSBcIiksXG4gICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiB9IH0sIFtcbiAgICAgICAgICAgIF92bS5fdihcIkdpb3JnaWEgTml6em9saVwiKVxuICAgICAgICAgIF0pXG4gICAgICAgIF0pXG4gICAgICBdKVxuICAgIF0pXG4gIH1cbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwicGhhc2UtY29udGFpbmVyIHRleHQtY2VudGVyXCIgfSxcbiAgICBbXG4gICAgICBfdm0uX20oMCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuLWVudHJ5XCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7IHZhcmlhbnQ6IFwid2FybmluZ1wiLCBzaXplOiBcImxnXCIgfSxcbiAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5vbkNyZWF0ZU1hcCB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW192bS5fdihcIkNyZWF0ZSBNYXBcIildXG4gICAgICAgICAgKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1lbnRyeVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcImluZm9cIiwgc2l6ZTogXCJsZ1wiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ub25FZGl0TWFwIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX3ZtLl92KFwiRWRpdCBNYXBcIildXG4gICAgICAgICAgKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItbW9kYWxcIixcbiAgICAgICAge1xuICAgICAgICAgIHJlZjogXCJtYXAtbG9hZC1tb2RhbFwiLFxuICAgICAgICAgIGF0dHJzOiB7IFwiaGlkZS1mb290ZXJcIjogXCJcIiwgdGl0bGU6IFwiR2ltbWUgdGhlIG1hcFwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiYi1mb3JtLWZpbGVcIiwge1xuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgc3RhdGU6IEJvb2xlYW4oX3ZtLmZpbGUpLFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJDaG9vc2UgYSBmaWxlIG9yIGRyb3AgaXQgaGVyZS4uLlwiLFxuICAgICAgICAgICAgICBcImRyb3AtcGxhY2Vob2xkZXJcIjogXCJEcm9wIGZpbGUgaGVyZS4uLlwiLFxuICAgICAgICAgICAgICBhY2NlcHQ6IFwiLmRuZG1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0uZmlsZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgIF92bS5maWxlID0gJCR2XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZmlsZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImZvb3Rlci1jb21wb25lbnRcIilcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ0aXRsZS1jb250YWluZXJcIiB9LCBbXG4gICAgICBfYyhcImgxXCIsIHsgc3RhdGljQ2xhc3M6IFwidGl0bGUgaDFcIiB9LCBbX3ZtLl92KFwiRHJhd05EaWNlXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJwXCIsIHt9LCBbX3ZtLl92KFwiRG5kIG1hZGUgZXohXCIpXSlcbiAgICBdKVxuICB9XG5dXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJiLW1vZGFsXCIsXG4gICAgeyByZWY6IFwibXktbW9kYWxcIiwgYXR0cnM6IHsgXCJoaWRlLWZvb3RlclwiOiBcIlwiLCB0aXRsZTogXCJHaW1tZSB0aGUgbWFwXCIgfSB9LFxuICAgIFtcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1ibG9jayB0ZXh0LWNlbnRlclwiIH0sIFtcbiAgICAgICAgX2MoXCJoM1wiLCBbX3ZtLl92KFwiSW5zZXJ0IG1hcCB0byBsb2FkXCIpXSlcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJtdC0zXCIsXG4gICAgICAgICAgYXR0cnM6IHsgdmFyaWFudDogXCJvdXRsaW5lLWRhbmdlclwiLCBibG9jazogXCJcIiB9LFxuICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0uaGlkZU1vZGFsIH1cbiAgICAgICAgfSxcbiAgICAgICAgW192bS5fdihcIkNhbmNlbFwiKV1cbiAgICAgIClcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX3ZtLl9tKDApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW1xuICBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3ZtID0gdGhpc1xuICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICAgIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInRpdGxlLWNvbnRhaW5lclwiIH0sIFtcbiAgICAgICAgX2MoXCJoMVwiLCB7IHN0YXRpY0NsYXNzOiBcInRpdGxlXCIgfSwgW192bS5fdihcIkNhcmNhc3Nvbm5lXCIpXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwic21hbGxcIiwgW192bS5fdihcIkxvYWRpbmcuLi5cIildKVxuICAgICAgXSlcbiAgICBdKVxuICB9XG5dXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wM2QzMjRkNiZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMjBhZGJhMzZcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTAzZDMyNGQ2JnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wM2QzMjRkNiZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9YzQwN2RiZmEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjBlOGE0N2I2XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM0MDdkYmZhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01M2I0NjA1MSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiY2Y5OGI2YmFcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTNiNDYwNTEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjdjNjgxNDY4XCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTM5ZjJiZmYmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01MzlmMmJmZiZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZDg1NTBiNGEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjYxMjNkZWRiXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWQ4NTUwYjRhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWQ4NTUwYjRhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiNTExZjM5MGVcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbi8vIEl0J3MgZW1wdHkgYXMgc29tZSBydW50aW1lIG1vZHVsZSBoYW5kbGVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSB4ID0+IHt9O1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHRcIm1haW5cIjogMFxufTtcblxudmFyIGRlZmVycmVkTW9kdWxlcyA9IFtcblx0W1wiLi9zcmMvYXBwL2luZGV4LnRzXCIsXCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19mb3J0YXdlc29tZV9mb250YXdlc29tZS1mcmVlX2pzX2FsbF9qcy1ub2RlX21vZHVsZXNfbXNncGFja19tc2dwYWNrX2Rpc3QtMWE0Y2M5XCJdXG5dO1xuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxudmFyIGNoZWNrRGVmZXJyZWRNb2R1bGVzID0geCA9PiB7fTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWUsIGV4ZWN1dGVNb2R1bGVzXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG5cdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuXHR9XG5cblx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuXHRpZihleGVjdXRlTW9kdWxlcykgZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyk7XG5cblx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG5cdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2RyYXduZGljZVwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtkcmF3bmRpY2VcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpO1xuXG5mdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlc0ltcGwoKSB7XG5cdHZhciByZXN1bHQ7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcblx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcblx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuXHRcdH1cblx0fVxuXHRpZihkZWZlcnJlZE1vZHVsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54ID0geCA9PiB7fTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxudmFyIHN0YXJ0dXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIHJlc2V0IHN0YXJ0dXAgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGNhbGxlZCBhZ2FpbiB3aGVuIG1vcmUgc3RhcnR1cCBjb2RlIGlzIGFkZGVkXG5cdF9fd2VicGFja19yZXF1aXJlX18ueCA9IHN0YXJ0dXAgfHwgKHggPT4ge30pO1xuXHRyZXR1cm4gKGNoZWNrRGVmZXJyZWRNb2R1bGVzID0gY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsKSgpO1xufTsiLCIvLyBydW4gc3RhcnR1cFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLngoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=