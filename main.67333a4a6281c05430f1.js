/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.cwrapper_component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n.cwrapper_component-arrow {\n  width: 0;\n  height: 0;\n  border-top: 0.3em solid transparent;\n  border-bottom: 0.3em solid transparent;\n  border-right: 0.3em solid #eeeeee;\n  margin-left: 0.3em;\n  margin-top: 0.175em;\n  transition: 0.3s;\n}\n.cwrapper_component-header button:last-child {\n  margin-right: 10px;\n}\n.cwrapper_component-body {\n  margin-left: 6px;\n  border-left: 4px solid #545b62;\n  padding-left: 6px;\n  border-radius: 0 0 0 4px;\n  margin-right: 12px;\n}\n.cwrapper_rotate {\n  transform: rotate(-90deg);\n  transition: 0.3s ease;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/compWrapper.vue"],"names":[],"mappings":";AAuEA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,QAAA;EACA,SAAA;EACA,mCAAA;EACA,sCAAA;EACA,iCAAA;EACA,kBAAA;EACA,mBAAA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,gBAAA;EACA,8BAAA;EACA,iBAAA;EACA,wBAAA;EACA,kBAAA;AACA;AAEA;EACA,yBAAA;EACA,qBAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"cwrapper_component-header\">\n        <div @click=\"visible = !visible\"> {{ component.typeName }}</div>\n        <div class=\"cwrapper_component-arrow\" :class=\"{cwrapper_rotate: visible}\" ></div>\n        <div style=\"width: 100%\"></div>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" style=\"display: grid;\"\n                  :title=\"component.clientVisible ? 'Hide component' : 'Show component'\"\n                  v-show=\"component.clientVisible !== undefined\"\n                  @click=\"$emit('ecs-property-change', component.type, 'clientVisible', !component.clientVisible, component.multiId)\">\n          <div class=\"g11\" v-show=\"component.clientVisible\"><i class=\"fas fa-eye\"/></div>\n          <div class=\"g11\" v-show=\"!component.clientVisible\"><i class=\"fas fa-eye-slash\"/></div>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"primary\" title=\"Fullscreen\"\n                  v-show=\"component._isFullscreen !== undefined\" @click=\"component._isFullscreen = true\">\n          <i class=\"fas fa-expand\"/>\n        </b-button>\n        <b-button v-if=\"isAdmin\" squared size=\"sm\" variant=\"danger\" title=\"Delete\" v-show=\"component._canDelete\"\n                  @click=\"$emit('ecs-property-change', '$', 'removeComponent', component.type, component.multiId)\">\n          <i class=\"fas fa-trash\"/>\n        </b-button>\n      </div>\n    </div>\n    <b-collapse v-model=\"visible\" class=\"cwrapper_component-body\" visible>\n      <component v-bind:is=\"componentType\" v-bind:component=\"component\" v-bind:isAdmin=\"isAdmin\"\n                 v-on:ecs-property-change=\"$emit('ecs-property-change', arguments[0], arguments[1], arguments[2], arguments[3])\">\n\n      </component>\n    </b-collapse>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport ecsName from \"./ecsName.vue\";\nimport ecsNote from \"./ecsNote.vue\";\nimport ecsPosition from \"./ecsPosition.vue\";\nimport ecsWall from \"./ecsWall.vue\";\nimport ecsBackgroundImage from \"./ecsBackgroundImage.vue\";\nimport ecsPin from \"./ecsPin.vue\";\nimport ecsTransform from \"./ecsTransform.vue\";\nimport ecsLight from \"./ecsLight.vue\";\nimport ecsPlayer from \"./ecsPlayer.vue\";\nimport ecsDoor from \"./ecsDoor.vue\";\nimport ecsProp from \"./ecsProp.vue\";\nimport ecsPropTeleport from \"./ecsPropTeleport.vue\";\nimport {Component} from \"../../ecs/component\"\nimport {Vue, VComponent, VProp} from \"../vue\";\n\n@VComponent({\n  components: {\n    ecsName, ecsNote, ecsPosition, ecsWall, ecsBackgroundImage, ecsPin, ecsTransform, ecsLight, ecsPlayer, ecsDoor,\n    ecsProp, ecsPropTeleport\n  }\n})\nexport default class EcsComponentWrapper extends Vue {\n  @VProp({required: true})\n  component!: Component;\n\n  @VProp({default: false})\n  isAdmin!: boolean;\n\n  visible = true;\n\n  get componentType(): string {\n    return 'ecs-' + this.component.type.replace('_', '-');\n  }\n}\n</script>\n\n<style>\n.cwrapper_component-header {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  margin-bottom: 2px;\n}\n\n.cwrapper_component-arrow {\n  width: 0;\n  height: 0;\n  border-top: 0.3em solid transparent;\n  border-bottom: 0.3em solid transparent;\n  border-right: 0.3em solid #eeeeee;\n  margin-left: 0.3em;\n  margin-top: 0.175em;\n  transition: 0.3s;\n}\n\n.cwrapper_component-header button:last-child {\n  margin-right: 10px;\n}\n\n.cwrapper_component-body {\n  margin-left: 6px;\n  border-left: 4px solid #545b62;\n  padding-left: 6px;\n  border-radius: 0 0 0 4px;\n  margin-right: 12px;\n}\n\n.cwrapper_rotate {\n  transform: rotate(-90deg);\n  transition: 0.3s ease;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.modal-content-dark {\n  background-color: #545b62 !important;\n}\n.hprior.ecs-note_textarea {\n  color: white !important;\n  background-color: transparent !important;\n  outline: none;\n  border-radius: 0;\n  border-color: transparent;\n}\n.hprior.ecs-note_textarea::placeholder {\n  color: #eeeeee;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/ecsNote.vue"],"names":[],"mappings":";AAyCA;EACA,oCAAA;AACA;AAEA;EACA,uBAAA;EACA,wCAAA;EACA,aAAA;EACA,gBAAA;EACA,yBAAA;AACA;AAEA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <b-textarea placeholder=\"Write something here...\" v-model=\"note\" :readonly=\"!isAdmin\" class=\"hprior ecs-note_textarea\"\n                @change=\"onChange\"/>\n    <b-modal title=\"Note\" v-model=\"component._isFullscreen\" hide-footer hide-header\n             dialog-class=\"modal-fullscreen modal-xxl\" content-class=\"modal-content-dark\">\n      <b-textarea placeholder=\"Write something here...\" v-model=\"note\" :readonly=\"!isAdmin\"\n                  @change=\"onChange\" style=\"height: 100%; resize: none;\" class=\"hprior ecs-note_textarea\"/>\n      <template v-slot:modal-footer>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {VComponent, VWatchImmediate, VProp, Vue} from \"../vue\";\nimport {NoteComponent} from \"../../ecs/component\";\n\n@VComponent\nexport default class EcsNote extends Vue {\n  @VProp({required: true})\n  component!: NoteComponent;\n\n  @VProp({required: true})\n  isAdmin!: boolean;\n\n  note: string = '';\n\n  @VWatchImmediate('component.note')\n  onCNoteChanged(val: string) {\n    this.note = val;\n  }\n\n  onChange() {\n    this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);\n  }\n}\n</script>\n\n<style>\n\n.modal-content-dark {\n  background-color: #545b62 !important;\n}\n\n.hprior.ecs-note_textarea {\n  color: white !important;\n  background-color: transparent !important;\n  outline: none;\n  border-radius: 0;\n  border-color: transparent;\n}\n\n.hprior.ecs-note_textarea::placeholder {\n  color: #eeeeee;\n}\n\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.entity-inspect_component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/ecs/entityInspect.vue"],"names":[],"mappings":";AA2FA;EACA,cAAA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <div v-show=\"data.components.length > 0\">\n    <div class=\"entity-inspect_component-btn-header\">\n      <b-dropdown toggle-class=\"rounded-0\" variant=\"success\" v-if=\"world.isMaster\">\n        <template v-slot:button-content>\n          <i class=\"fas fa-plus\"></i>\n        </template>\n        <b-dropdown-item v-for=\"x in data.addable\" :key=\"x.type\" @click=\"emitSpecial('addComponent', x.type)\">\n          {{ x.name }}\n        </b-dropdown-item>\n      </b-dropdown>\n      <b-button squared :title=\"data.hidden ? 'Show entity' : 'Hide entity'\" style=\"display: grid\" v-if=\"world.isMaster\"\n                @click=\"emitSpecial('hidden', !data.hidden)\">\n        <div class=\"g11\" :style=\"{visibility: data.hidden ? 'visible' : 'hidden'}\"><i class=\"fas fa-eye-slash\"/></div>\n        <div class=\"g11\" :style=\"{visibility: data.hidden ? 'hidden' : 'visible'}\"><i class=\"fas fa-eye\"/></div>\n      </b-button>\n      <b-button v-if=\"world.isMaster\" variant=\"danger\" title=\"Delete entity\" squared\n                @click=\"emitSpecial('delete')\">\n        <i class=\"fas fa-trash\"></i>\n      </b-button>\n      <b-button v-if=\"world.isMaster\" variand=\"danger\" title=\"Forget entity\" squared\n                @click=\"emitSpecial('forget')\">\n        <i class=\"fas fa-eraser\"></i>\n      </b-button>\n    </div>\n\n    <ecs-component-wrapper v-for=\"comp of data.components\" v-bind:key=\"comp.type + (comp.multiId || '')\"\n                           v-bind:component=\"comp\" v-bind:isAdmin=\"world.isMaster\"\n                           @ecs-property-change=\"onEcsPropertyChange(arguments[0], arguments[1], arguments[2], arguments[3])\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport EcsComponentWrapper from \"./compWrapper.vue\";\nimport {VComponent, VProp, Vue} from \"../vue\";\nimport {World} from \"../../ecs/world\";\nimport {\n  SELECTION_TYPE,\n  SELECTION_UI_DATA_TYPE,\n  SelectionSystem,\n  SelectionUiData\n} from \"../../ecs/systems/back/selectionSystem\";\nimport {Resource} from \"../../ecs/resource\";\nimport {componentClone} from \"../../ecs/ecsUtil\";\n\n@VComponent({\n  components: {\n    EcsComponentWrapper,\n  }\n})\nexport default class EntityInspect extends Vue {\n  @VProp({required: true})\n  world!: World;\n\n  data: SelectionUiData = {\n    type: SELECTION_UI_DATA_TYPE,\n    selectedEntities: [],\n    hidden: false,\n    addable: [],\n    components: [],\n    _save: false,\n    _sync: false,\n  };\n\n  onEcsPropertyChange(type: string, property: string, value: any, multiId?: number) {\n    let selectionSys = this.world.systems.get(SELECTION_TYPE) as SelectionSystem;\n    selectionSys.setProperty(this.data.selectedEntities, type, property, value, multiId);\n  }\n\n  emitSpecial(name: string, par: unknown) {\n    this.onEcsPropertyChange('$', name, par);\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === SELECTION_UI_DATA_TYPE) {\n      this.data = componentClone(res) as SelectionUiData;\n    }\n  }\n\n  mounted() {\n    this.data = componentClone(this.world.getResource(SELECTION_UI_DATA_TYPE) as SelectionUiData);\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n  }\n}\n</script>\n\n<style>\n.entity-inspect_component-btn-header {\n  margin: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.edit-map_game {\n  user-select: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/editMap.vue"],"names":[],"mappings":";AAgCA;EACA,iBAAA;AACA","sourcesContent":["<template>\n  <div class=\"edit-map_game\">\n\n    <tool-bar v-bind:world=\"world\">\n    </tool-bar>\n\n    <div id=\"canvas-container\" style=\"width: 100%; height: calc(100vh - var(--topbar-height));\">\n    </div>\n\n    <side-bar v-bind:world=\"world\">\n    </side-bar>\n\n    <reconnection-modal v-if=\"!world.isMaster\" v-bind:world=\"world\">\n    </reconnection-modal>\n\n    <a id=\"hidden-download-link\" style=\"display: none;\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport ToolBar from \"./toolBar.vue\";\nimport SideBar from \"./sideBar.vue\";\nimport ReconnectionModal from \"./reconnectionModal.vue\";\n\nexport default Vue.extend({\n  components: {ToolBar, SideBar, ReconnectionModal},\n  props: ['world'],\n});\n</script>\n\n<style>\n.edit-map_game {\n  user-select: none;\n}\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/sideBar.vue"],"names":[],"mappings":";AAgFA;EACA,aAAA;EACA,mBAAA;EACA,sBAAA;AACA","sourcesContent":["<template>\n  <b-sidebar id=\"sidebar-right\" title=\"Sidebar\"\n             bg-variant=\"dark\" text-variant=\"light\" right visible no-header shadow\n             sidebar-class=\"under-navbar\">\n    <!----------------------------------      GRID CONTROL      ---------------------------------->\n    <grid-edit class=\"px-3 py-2\" v-show=\"tool === 'grid'\" v-bind:world=\"world\"/>\n    <!----------------------------------      ENTITY INSPECTOR      ---------------------------------->\n    <div v-show=\"tool === 'inspect'\">\n      <entity-inspect v-bind:world=\"world\"/>\n    </div>\n    <!----------------------------------      LIGHT SETTINGS      ---------------------------------->\n    <light-settings-edit  v-show=\"tool === 'light'\" v-bind:world=\"world\"/>\n    <!----------------------------------      CREATION OPTIONS      ---------------------------------->\n    <creation-options class=\"px-3 py-2\" v-bind:world=\"world\"/>\n\n    <template v-slot:footer>\n      <div class=\"sidebar-footer\">\n        {{ trackerCount }}\n        <div style=\"margin-left: 0.2rem\">\n          <i class=\"fas fa-server\"></i>\n        </div>\n        {{ connectionCount }}\n        <div v-bind:class=\"{ rotate: connectionBuffering }\" style=\"margin-left: 0.2rem\">\n          <i class=\"fas fa-sync-alt\"></i>\n        </div>\n      </div>\n    </template>\n  </b-sidebar>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Resource} from \"../../ecs/resource\";\nimport {World} from \"../../ecs/world\";\nimport {TOOL_TYPE, ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport GridEdit from \"./gridEdit.vue\";\nimport CreationOptions from \"./creationOptions.vue\";\nimport LightSettingsEdit from \"./lightSettingsEdit.vue\";\nimport EntityInspect from \"../ecs/entityInspect.vue\";\nimport {NETWORK_STATUS_TYPE, NetworkStatusResource} from \"../../ecs/systems/back/networkSystem\";\n\n@VComponent({\n  components: {\n    GridEdit, EntityInspect, LightSettingsEdit, CreationOptions\n  }\n})\nexport default class ToolBar extends Vue {\n  @VProp({ required: true })\n  world!: World;\n\n  tool = 'inspect';\n  connectionCount = 0;\n  trackerCount = 0;\n  connectionBuffering = false;\n\n  mounted() {\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === TOOL_TYPE) {\n      this.tool = (res as ToolResource).tool!;\n    } else if (res.type === NETWORK_STATUS_TYPE) {\n      let r = res as NetworkStatusResource;\n      this.trackerCount = r.trackerCount;\n      this.connectionCount = r.connectionCount;\n      this.connectionBuffering = r.isBuffering;\n    }\n  }\n}\n</script>\n\n\n<style>\n\n.sidebar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: right;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.toolbar-btn.plz-prioritize {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n.plz-prioritize.undo-redo-btn.disabled, .plz-prioritize.undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/edit/toolBar.vue"],"names":[],"mappings":";AA8HA;EACA,WAAA;EACA,yBAAA;EACA,qBAAA;AACA;AAGA;EACA,yBAAA;EACA,qBAAA;EACA,gBAAA;AACA","sourcesContent":["<template>\n  <b-button-toolbar type=\"dark\" variant=\"info\" class=\"bg-dark\"\n                    style=\"width: 100%; height: var(--topbar-height); z-index: 1000;\" justify>\n    <b-button-group v-if=\"world.isMaster\" style=\"margin-right: 2rem\">\n      <b-button title=\"Undo\" squared class=\"toolbar-btn plz-prioritize undo-redo-btn\" :disabled=\"!this.canUndo\" v-on:click=\"undo()\">\n        <i class=\"fas fa-undo\"></i>\n      </b-button>\n      <b-button title=\"Redo\" squared class=\"toolbar-btn plz-prioritize undo-redo-btn\" :disabled=\"!this.canRedo\" v-on:click=\"redo()\">\n        <i class=\"fas fa-redo\"></i>\n      </b-button>\n    </b-button-group>\n\n    <b-radio-group buttons v-model=\"tool\">\n      <b-radio ref=\"radioinspect\" title=\"Inspect\" value=\"inspect\" squared\n               :class=\"{'toolbar-btn': this.backgroundLocked, 'btn-warning': !this.backgroundLocked}\">\n        <i class=\"fas fa-hand-pointer\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add wall\" value=\"create_wall\" squared class=\"toolbar-btn plz-prioritize\">\n        <wall-icon/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add prop\" value=\"create_prop\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-couch\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Add pin\" value=\"create_pin\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-thumbtack\"></i>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Edit grid\" value=\"grid\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-border-all\"/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Light settings\" value=\"light\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-lightbulb\"/>\n      </b-radio>\n      <b-radio v-if=\"world.isMaster\" title=\"Measure\" value=\"measure\" squared class=\"toolbar-btn plz-prioritize\">\n        <i class=\"fas fa-ruler\"/>\n      </b-radio>\n      <b-radio title=\"Mouse trail\" value=\"mouse_trail\" squared class=\"toolbar-btn plz-prioritize\">\n        <mouse-trail-icon/>\n      </b-radio>\n    </b-radio-group>\n    <b-button title=\"Export map\" squared variant=\"success\" class=\"btn-xs\"\n              v-on:click=\"world.events.emit('export_map')\" v-if=\"world.isMaster\">\n      <i class=\"fas fa-download\"/>\n    </b-button>\n\n    <div style=\"flex: 1 1 0;\"/> <!-- Spacing -->\n    <b-button title=\"Toggle sidebar\" variant=\"warning\" class=\"btn-xs\" v-b-toggle.sidebar-right>\n      <i class=\"fas fa-angle-double-right\"/>\n    </b-button>\n  </b-button-toolbar>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue, VWatch} from \"../vue\";\nimport {Resource} from \"../../ecs/resource\";\nimport {World} from \"../../ecs/world\";\nimport {BACKGROUND_LAYER_TYPE, BackgroundLayerResource} from \"../../ecs/systems/back/layerSystem\";\nimport {TOOL_TYPE, ToolResource} from \"../../ecs/systems/back/toolSystem\";\nimport {Tool} from \"../../ecs/tools/toolType\";\n\nimport MouseTrailIcon from \"../icons/mouseTrailIcon.vue\";\nimport WallIcon from \"../icons/wallIcon.vue\";\n\n\n@VComponent({\n  components: {MouseTrailIcon, WallIcon}\n})\nexport default class ToolBar extends Vue {\n  @VProp({ required: true })\n  world!: World;\n\n  tool = 'inspect';\n  backgroundLocked: boolean = true;\n\n  canUndo = false;\n  canRedo = false;\n\n  mounted() {\n    this.world.events.on('resource_edited', this.onResourceEdited, this);\n    this.world.events.on('command_history_change', this.onCommandHistoryChange, this);\n\n    let x = (this.$refs.radioinspect as Vue);\n    x.$el.addEventListener('click', (e) => {\n      if (!(e.target instanceof HTMLInputElement)) return;\n      if (this.tool === 'inspect') {\n        let locked = (this.world.getResource(BACKGROUND_LAYER_TYPE) as BackgroundLayerResource).locked;\n        this.world.editResource(BACKGROUND_LAYER_TYPE, { locked: !locked });\n      }\n    });\n  }\n\n  unmounted() {\n    this.world.events.off('resource_edited', this.onResourceEdited, this);\n    this.world.events.off('command_history_change', this.onCommandHistoryChange, this);\n  }\n\n  onCommandHistoryChange(canUndo: boolean, canRedo: boolean) {\n    this.canUndo = canUndo;\n    this.canRedo = canRedo;\n  }\n\n  onResourceEdited(res: Resource) {\n    if (res.type === BACKGROUND_LAYER_TYPE) {\n      this.backgroundLocked = (res as BackgroundLayerResource).locked;\n    } else if (res.type === TOOL_TYPE) {\n      this.tool = (res as ToolResource).tool!;\n    }\n  }\n\n  @VWatch('tool')\n  onToolEdit(tool: Tool) {\n    this.world.editResource('tool', {tool});\n  }\n\n  undo() {\n    this.world.events.emit('command_undo');\n  }\n\n  redo() {\n    this.world.events.emit('command_redo');\n  }\n}\n</script>\n\n<style>\n\n.toolbar-btn.plz-prioritize {\n  color: #fff;\n  background-color: #2C3E50;\n  border-color: #2C3E50;\n}\n\n\n.plz-prioritize.undo-redo-btn.disabled, .plz-prioritize.undo-redo-btn:disabled {\n  background-color: #343a40;\n  border-color: #343a40;\n  box-shadow: none;\n}\n</style>"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../public/images/GitHub-Mark-Light-32px.png */ "./src/public/images/GitHub-Mark-Light-32px.png");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_public_images_GitHub_Mark_Light_32px_png__WEBPACK_IMPORTED_MODULE_3__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.footer_credits {\n  text-align: right;\n  padding: 20px;\n}\n.footer_github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n}\n.footer_github:hover {\n  opacity: 0.5;\n}\n.footer_profile {\n  color: white;\n}\n.footer_profile:hover {\n  opacity: 0.5;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/footer.vue"],"names":[],"mappings":";AAqBA;EACA,iBAAA;EACA,aAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,yDAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA","sourcesContent":["<template>\n  <div class=\"footer\">\n    <div class=\"footer_credits\">\n      <div class=\"links\">\n        <a href=\"https://github.com/SnowyCoder/dndme\" target=\"_blank\" class=\"footer_github\"></a>\n      </div>\n      <small style=\"color: lightgray\">\n        Developed by <a href=\"https://github.com/SnowyCoder\" target=\"_blank\" class=\"footer_profile\">Rossi Lorenzo</a> /\n        Drawings by <span style=\"color: white\">Giorgia Nizzoli</span>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nexport default Vue.extend({});\n</script>\n\n<style>\n.footer_credits {\n  text-align: right;\n  padding: 20px;\n}\n\n.footer_github {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background-image: url(\"~Public/images/GitHub-Mark-Light-32px.png\");\n}\n\n.footer_github:hover {\n  opacity: 0.5;\n}\n\n.footer_profile {\n  color: white;\n}\n\n.footer_profile:hover {\n  opacity: 0.5;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.s-home-container {\n  color: white;\n}\n.s-home-text {\n  color: white;\n}\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n", "",{"version":3,"sources":["webpack://./src/app/ui/home/home.vue"],"names":[],"mappings":";AA0EA;EACA,YAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,mBAAA;AACA","sourcesContent":["<template>\n  <div class=\"phase-container text-center flex-column align-items-center justify-content-center row\" style=\"height: 100vh; margin: 0;\">\n    <div class=\"text-white\">\n      <p class=\"title\" style=\"font-size: 3.5em; margin: 0;\">DRAW&DICE</p>\n      <p class=\"\" style=\"font-size: 2em;\">Dnd made ez!</p>\n    </div>\n\n    <div>\n      <b-button variant=\"warning\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onCreateMap\">Create Map</b-button>\n    </div>\n    <div>\n      <b-button variant=\"info\" size=\"lg\" class=\"btn-entry\" v-on:click=\"onEditMap\">Edit Map</b-button>\n    </div>\n\n    <b-modal ref=\"map-load-modal\" hide-footer title=\"Gimme the map\">\n      <b-form-file\n          v-model=\"file\"\n          :state=\"Boolean(file)\"\n          placeholder=\"Choose a file or drop it here...\"\n          drop-placeholder=\"Drop file here...\"\n          accept=\".dndm\"\n      ></b-form-file>\n    </b-modal>\n\n    <footer-component></footer-component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport FooterComponent from \"../footer.vue\";\nimport MapInput from \"./mapInput.vue\";\n\n\nimport {VComponent, Vue, PhaseVue, VWatch, VRef} from \"../vue\";\nimport EventEmitter = PIXI.utils.EventEmitter;\nimport {BModal} from \"bootstrap-vue\";\n\n@VComponent({\n  components: { MapInput, FooterComponent }\n})\nexport default class HomeComponent extends Vue implements PhaseVue {\n  @VRef('map-load-modal') readonly mapLoadModal!: BModal;\n\n  file: any = null;\n  pendingOp: string = \"\";\n  eventEmitter!: EventEmitter;\n\n  onCreateMap() {\n    this.eventEmitter.emit(\"create_map\");\n  }\n\n  onEditMap() {\n    this.pendingOp = 'edit';\n    this.mapLoadModal.show();\n    this.eventEmitter.emit(\"edit_map\");\n  }\n\n  mapLoadCancel() {\n    this.mapLoadModal.hide();\n  }\n\n  @VWatch('file')\n  onFileChanged(val: any) {\n    if (val == null) return;\n\n    console.log(\"File dropped, loading: \" + this.pendingOp);\n    this.eventEmitter.emit(this.pendingOp, this.file);\n    this.file = null;\n    this.mapLoadCancel();\n  }\n}\n</script>\n\n<style>\n.s-home-container {\n  color: white;\n}\n\n.s-home-text {\n  color: white;\n}\n\n.btn-entry {\n  margin-bottom: 10px;\n}\n\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.sloading-container {\n  color: white;\n  height: 100vh;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.sloading-title {\n  font-size: 5em;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/loading/loading.vue"],"names":[],"mappings":";AAwCA;EACA,YAAA;EACA,aAAA;;EAEA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,sBAAA;AACA;AACA;EACA,cAAA;AACA","sourcesContent":["<template>\n  <div>\n    <div class=\"sloading-container\">\n      <h1 class=\"sloading-title\">DRAW&DICE</h1>\n      <h2>{{message}}</h2>\n      <h5>Loading</h5>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport {VComponent} from \"../vue\";\n\nconst LOADING_PHRASES = [\n  \"Persuading dragons to cooperate...\",\n  \"A Dwarf, an Elf and a Dragonbord enter a tavern... \\\"We're looking for a quest\\\"\",\n  \"An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways\",\n  \"Recharging spell slots...\",\n  \"Roll a Charisma saving throw...\",\n  \"Long rest in progress...\",\n  \"Fitting out the goblin army...\",\n  \"The last boss you killed met a 20th level chieric... The rest is up to you! ;)\",\n  \"This map only costs 25gp!\",\n  \"Sorry, you'd better create a new character sheet\",\n];\n\nfunction randomMex() {\n  const i = Math.floor(Math.random() * LOADING_PHRASES.length);\n  return LOADING_PHRASES[i];\n}\n\n@VComponent\nexport default class Loading extends Vue {\n  message = randomMex();\n}\n\n</script>\n\n<style>\n  .sloading-container {\n    color: white;\n    height: 100vh;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n  .sloading-title {\n    font-size: 5em;\n  }\n</style>\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.util_ecolor {\n  background-color: transparent !important;\n  outline: none !important;\n  border: none !important;\n  padding: 0.125rem !important;\n  box-shadow: none !important;\n  height: calc(1.5em + 0.75rem + 2px);\n  width: calc(1.5em + 0.75rem + 2px);\n  margin-left: 0.5em;\n\n  -webkit-appearance: none;\n}\n.util_ecolor::-moz-color-swatch, .util_ecolor::-webkit-color-swatch, .util_ecolor::-webkit-color-swatch-wrapper {\n  border: 0;\n  padding: 0;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/util/editableColor.vue"],"names":[],"mappings":";AAyBA;EACA,wCAAA;EACA,wBAAA;EACA,uBAAA;EACA,4BAAA;EACA,2BAAA;EACA,mCAAA;EACA,kCAAA;EACA,kBAAA;;EAEA,wBAAA;AACA;AAEA;EACA,SAAA;EACA,UAAA;AACA","sourcesContent":["<template>\n  <input type=\"color\" v-bind:value=\"value\" v-on:input=\"$emit('input', $event.target.value)\"\n         :readonly=\"readonly\" :placeholder=\"placeholder\" @change=\"$emit('change')\"\n         class=\"util_ecolor\">\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue} from \"../vue\";\n\n@VComponent\nexport default class EditableColor extends Vue {\n  @VProp({required: true})\n  value!: string;\n\n  @VProp({default: false})\n  readonly!: boolean;\n\n  @VProp({default: ''})\n  placeholder!: string;\n}\n\n</script>\n\n<style>\n.util_ecolor {\n  background-color: transparent !important;\n  outline: none !important;\n  border: none !important;\n  padding: 0.125rem !important;\n  box-shadow: none !important;\n  height: calc(1.5em + 0.75rem + 2px);\n  width: calc(1.5em + 0.75rem + 2px);\n  margin-left: 0.5em;\n\n  -webkit-appearance: none;\n}\n\n.util_ecolor::-moz-color-swatch, .util_ecolor::-webkit-color-swatch, .util_ecolor::-webkit-color-swatch-wrapper {\n  border: 0;\n  padding: 0;\n}\n</style>\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n.util_editable-text_div {\n  position: relative;\n  margin: 5px;\n  width: 100%;\n}\n.util_editable-text_border {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 1px;\n\n  border: 1px solid transparent;\n  transition: width 0.2s, border 0s 0.2s;\n}\n.util_editable-text_input:focus ~ .util_editable-text_border {\n  border-color: #4285F4;\n  width: 100%;\n  transition: width 0.3s;\n}\n.hprior.util_editable-text_input {\n  color: white;\n  padding: 3px 10px;\n  margin: 0;\n  border-bottom: solid 1px #eeeeee;\n  outline: none;\n}\n", "",{"version":3,"sources":["webpack://./src/app/ui/util/editableText.vue"],"names":[],"mappings":";AAuCA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;AACA;AAEA;EACA,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,WAAA;;EAEA,6BAAA;EACA,sCAAA;AACA;AAEA;EACA,qBAAA;EACA,WAAA;EACA,sBAAA;AACA;AAEA;EACA,YAAA;EACA,iBAAA;EACA,SAAA;EACA,gCAAA;EACA,aAAA;AACA","sourcesContent":["<template>\n  <div class=\"util_editable-text_div\">\n    <input type=\"text\" v-bind:value=\"value\" v-on:input=\"onEvent('input', $event)\"\n             :readonly=\"readonly\" :placeholder=\"placeholder\" @change=\"onEvent('change', $event)\"\n             class=\"form-control-plaintext hprior util_editable-text_input\">\n    <span class=\"util_editable-text_border\"></span>\n  </div>\n</template>\n\n<script lang=\"ts\">\n\nimport {VComponent, VProp, Vue} from \"../vue\";\n\n@VComponent\nexport default class EditableText extends Vue {\n  @VProp({required: true})\n  value!: string;\n\n  @VProp({default: false})\n  readonly!: boolean;\n\n  @VProp({default: ''})\n  placeholder!: string\n\n  @VProp({default: undefined})\n  filter?: (text: string) => string;\n\n  onEvent(ev: string, event: InputEvent) {\n    const et = event.target as any;\n    if (this.filter !== undefined) {\n      et.value = this.filter(et.value);\n    }\n    this.$emit(ev, et.value);\n  }\n}\n\n</script>\n\n<style>\n.util_editable-text_div {\n  position: relative;\n  margin: 5px;\n  width: 100%;\n}\n\n.util_editable-text_border {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 1px;\n\n  border: 1px solid transparent;\n  transition: width 0.2s, border 0s 0.2s;\n}\n\n.util_editable-text_input:focus ~ .util_editable-text_border {\n  border-color: #4285F4;\n  width: 100%;\n  transition: width 0.3s;\n}\n\n.hprior.util_editable-text_input {\n  color: white;\n  padding: 3px 10px;\n  margin: 0;\n  border-bottom: solid 1px #eeeeee;\n  outline: none;\n}\n</style>\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/public/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap/dist/css/bootstrap.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap/dist/css/bootstrap.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../../node_modules/bootstrap-vue/dist/bootstrap-vue.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/bootstrap-vue/dist/bootstrap-vue.css");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Merienda+One&display=swap);"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_2__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_node_modules_bootstrap_vue_dist_bootstrap_vue_css__WEBPACK_IMPORTED_MODULE_3__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.g11 {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n", "",{"version":3,"sources":["webpack://./src/public/style.css"],"names":[],"mappings":"AAIA;IACI,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;AACxC;;AAEA;IACI,YAAY;;IAEZ,6MAA6M;IAC7M,oCAAoC;AACxC;;AAEA;AACA;;AAEA;IACI,eAAe;IACf,SAAS;AACb;;;AAGA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,WAAW;IACX,qCAAqC;AACzC;;AAEA;IACI,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;IACf,oBAAoB;AACxB;;AAEA;IACI,WAAW;AACf;AACA;IACI,YAAY;AAChB;AACA;IACI,qBAAqB;IACrB,yBAAyB;AAC7B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,sCAAsC;AAC1C;;AAEA,iBAAiB;;AAEjB;IACI;QACI,uBAAuB;IAC3B;IACA;QACI,yBAAyB;IAC7B;AACJ","sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Merienda+One&display=swap');\n@import '~bootstrap/dist/css/bootstrap.css';\n@import '~bootstrap-vue/dist/bootstrap-vue.css';\n\n:root {\n    --topbar-height: 40px;\n}\n\n* {\n    font-family: 'Merienda One', cursive;\n}\n\nbody {\n    color: white;\n\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAPklEQVQoU2NkYGAwZmBgOMsAASD2cwYGhmcwPiOUIcXAwCCJpBDOhynA0AkzCaQA2QoMk0AKQIJwO+nvBmMAk2YWvDhYBRoAAAAASUVORK5CYII=);\n    background-color: #6e472c !important;\n}\n\n.phase-container {\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n}\n\n\n@media screen and (max-height: 600px) {\n    .footer {\n        position: static;\n    }\n}\n\n.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\ndiv.under-navbar {\n    margin-top: var(--topbar-height) !important;\n}\n\n.b-sidebar.under-navbar {\n    height: calc(100vh - var(--topbar-height));\n}\n\n.footer, .game-footer {\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n}\n\n.btn-xs {\n    padding: .25rem .4rem;\n    font-size: .875rem;\n    line-height: .5;\n    border-radius: .2rem;\n}\n\n.modal-fullscreen {\n    height: 92%;\n}\n.modal-fullscreen .modal-content {\n    height: 100%;\n}\n.modal-xxl {\n    width: 92% !important;\n    max-width: 92% !important;\n}\n\n#canvas-container canvas {\n    vertical-align: top;\n}\n\n.g11 {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.rotate {\n    animation: rotation 1s infinite linear;\n}\n\n/** ANIMATIONS **/\n\n@keyframes rotation {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(359deg);\n    }\n}\n\n\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/public/images/GitHub-Mark-Light-32px.png":
/*!******************************************************!*\
  !*** ./src/public/images/GitHub-Mark-Light-32px.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "266ca63177bca6f330a74e83fdc63178.png");

/***/ }),

/***/ "./src/public/images/props.png":
/*!*************************************!*\
  !*** ./src/public/images/props.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "461f357929f9f8d63da20b81e743a099.png");

/***/ }),

/***/ "./src/public/images/trail.png":
/*!*************************************!*\
  !*** ./src/public/images/trail.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "da16798f46c6672323f9563cc8c838b9.png");

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue */ "./src/app/ui/ecs/ecsName.vue");
/* harmony import */ var _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue */ "./src/app/ui/ecs/ecsNote.vue");
/* harmony import */ var _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsPosition.vue */ "./src/app/ui/ecs/ecsPosition.vue");
/* harmony import */ var _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ecsWall.vue */ "./src/app/ui/ecs/ecsWall.vue");
/* harmony import */ var _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ecsBackgroundImage.vue */ "./src/app/ui/ecs/ecsBackgroundImage.vue");
/* harmony import */ var _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ecsPin.vue */ "./src/app/ui/ecs/ecsPin.vue");
/* harmony import */ var _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ecsTransform.vue */ "./src/app/ui/ecs/ecsTransform.vue");
/* harmony import */ var _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ecsLight.vue */ "./src/app/ui/ecs/ecsLight.vue");
/* harmony import */ var _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ecsPlayer.vue */ "./src/app/ui/ecs/ecsPlayer.vue");
/* harmony import */ var _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ecsDoor.vue */ "./src/app/ui/ecs/ecsDoor.vue");
/* harmony import */ var _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ecsProp.vue */ "./src/app/ui/ecs/ecsProp.vue");
/* harmony import */ var _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ecsPropTeleport.vue */ "./src/app/ui/ecs/ecsPropTeleport.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













let EcsComponentWrapper = class EcsComponentWrapper extends _vue__WEBPACK_IMPORTED_MODULE_12__.Vue {
    constructor() {
        super(...arguments);
        this.visible = true;
    }
    get componentType() {
        return 'ecs-' + this.component.type.replace('_', '-');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ required: true })
], EcsComponentWrapper.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VProp)({ default: false })
], EcsComponentWrapper.prototype, "isAdmin", void 0);
EcsComponentWrapper = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_12__.VComponent)({
        components: {
            ecsName: _ecsName_vue__WEBPACK_IMPORTED_MODULE_0__["default"], ecsNote: _ecsNote_vue__WEBPACK_IMPORTED_MODULE_1__["default"], ecsPosition: _ecsPosition_vue__WEBPACK_IMPORTED_MODULE_2__["default"], ecsWall: _ecsWall_vue__WEBPACK_IMPORTED_MODULE_3__["default"], ecsBackgroundImage: _ecsBackgroundImage_vue__WEBPACK_IMPORTED_MODULE_4__["default"], ecsPin: _ecsPin_vue__WEBPACK_IMPORTED_MODULE_5__["default"], ecsTransform: _ecsTransform_vue__WEBPACK_IMPORTED_MODULE_6__["default"], ecsLight: _ecsLight_vue__WEBPACK_IMPORTED_MODULE_7__["default"], ecsPlayer: _ecsPlayer_vue__WEBPACK_IMPORTED_MODULE_8__["default"], ecsDoor: _ecsDoor_vue__WEBPACK_IMPORTED_MODULE_9__["default"],
            ecsProp: _ecsProp_vue__WEBPACK_IMPORTED_MODULE_10__["default"], ecsPropTeleport: _ecsPropTeleport_vue__WEBPACK_IMPORTED_MODULE_11__["default"]
        }
    })
], EcsComponentWrapper);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsComponentWrapper);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsDoor = class EcsDoor extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.doorType = _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT;
        this.open = false;
        this.locked = false;
    }
    onChange() {
        if (this.component.doorType !== this.doorType) {
            this.$emit('ecs-property-change', 'door', 'doorType', this.doorType);
        }
        if (this.component.open !== this.open) {
            this.$emit('ecs-property-change', 'door', 'open', this.open);
        }
        if (this.component.locked !== this.locked) {
            this.$emit('ecs-property-change', 'door', 'locked', this.locked);
        }
    }
    get doorTypeName() {
        switch (this.doorType) {
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_LEFT:
                return "Normal";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.NORMAL_RIGHT:
                return "Normal right";
            case _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_0__.DoorType.ROTATE:
                return "Rotating";
            default:
                return "Unknown??";
        }
    }
    onCDoorTypeChanged(val) {
        this.doorType = val;
    }
    onCOpenChanged(val) {
        this.open = val;
    }
    onCLockedChanged(val) {
        this.locked = val;
    }
    onDoorTypeChanged() {
        this.onChange();
    }
    onOpenChanged() {
        this.onChange();
    }
    onLockedChanged() {
        this.onChange();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsDoor.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.doorType')
], EcsDoor.prototype, "onCDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.open')
], EcsDoor.prototype, "onCOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.locked')
], EcsDoor.prototype, "onCLockedChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('doorType')
], EcsDoor.prototype, "onDoorTypeChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('open')
], EcsDoor.prototype, "onOpenChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('locked')
], EcsDoor.prototype, "onLockedChanged", null);
EcsDoor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], EcsDoor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsDoor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableColor.vue */ "./src/app/ui/util/editableColor.vue");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.string2hex;


let EcsLight = class EcsLight extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
        this.range = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'light', 'color', c);
        }
        let r = parseFloat(this.range);
        if (this.component.range !== r && this.range !== '') {
            this.$emit('ecs-property-change', 'light', 'range', r);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? '' : hex2string(val);
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsLight.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsLight.prototype, "onCColorChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.range')
], EcsLight.prototype, "onCRangeChanged", null);
EcsLight = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableColor: _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_2__["default"], EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_3__["default"],
        }
    })
], EcsLight);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsLight);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableText_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableText.vue */ "./src/app/ui/util/editableText.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsName = class EcsName extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.name = '';
    }
    onCNameChanged(val) {
        this.name = val !== null && val !== void 0 ? val : '';
    }
    onChange() {
        this.$emit('ecs-property-change', 'name', 'name', this.name, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsName.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.name')
], EcsName.prototype, "onCNameChanged", null);
EcsName = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableText: _util_editableText_vue__WEBPACK_IMPORTED_MODULE_1__["default"]
        }
    })
], EcsName);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsName);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsNote = class EcsNote extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.note = '';
    }
    onCNoteChanged(val) {
        this.note = val;
    }
    onChange() {
        this.$emit('ecs-property-change', 'note', 'note', this.note, this.component.multiId);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsNote.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.note')
], EcsNote.prototype, "onCNoteChanged", null);
EcsNote = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsNote);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsNote);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableText_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableText.vue */ "./src/app/ui/util/editableText.vue");
/* harmony import */ var _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/editableColor.vue */ "./src/app/ui/util/editableColor.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var hex2string = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.hex2string;
var string2hex = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.string2hex;


let EcsPin = class EcsPin extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.color = '';
    }
    onChange() {
        let c = string2hex(this.color);
        if (this.component.color !== c && this.color !== '') {
            this.$emit('ecs-property-change', 'pin', 'color', c);
        }
    }
    onCColorChanged(val) {
        this.color = val === undefined ? "" : hex2string(val);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsPin.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.color')
], EcsPin.prototype, "onCColorChanged", null);
EcsPin = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableText: _util_editableText_vue__WEBPACK_IMPORTED_MODULE_2__["default"], EditableColor: _util_editableColor_vue__WEBPACK_IMPORTED_MODULE_3__["default"]
        }
    })
], EcsPin);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPin);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsPlayer = class EcsPlayer extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.nightVision = false;
        this.range = '';
    }
    onChange() {
        if (this.component.nightVision !== this.nightVision) {
            this.$emit('ecs-property-change', 'player', 'nightVision', this.nightVision);
        }
        let c = parseFloat(this.range);
        if (this.component.range !== c && this.range !== '') {
            this.$emit('ecs-property-change', 'player', 'range', c);
        }
    }
    onCNightVisionChanged(val) {
        this.nightVision = !!val;
    }
    onCRangeChanged(val) {
        this.range = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPlayer.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.nightVision')
], EcsPlayer.prototype, "onCNightVisionChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.range')
], EcsPlayer.prototype, "onCRangeChanged", null);
EcsPlayer = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__["default"]
        }
    })
], EcsPlayer);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPlayer);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsPosition = class EcsPosition extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.x = '';
        this.y = '';
    }
    onChange() {
        let x = parseFloat(this.x);
        if (this.component.x !== x && this.x !== '') {
            this.$emit('ecs-property-change', 'position', 'x', x);
        }
        let y = parseFloat(this.y);
        if (this.component.y !== y && this.y !== '') {
            this.$emit('ecs-property-change', 'position', 'y', y);
        }
    }
    onCxChanged(val) {
        this.x = (val !== null && val !== void 0 ? val : '') + '';
    }
    onCyChanged(val) {
        this.y = (val !== null && val !== void 0 ? val : '') + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPosition.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.x')
], EcsPosition.prototype, "onCxChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.y')
], EcsPosition.prototype, "onCyChanged", null);
EcsPosition = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__["default"],
        }
    })
], EcsPosition);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPosition);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsBackgroundImage = class EcsBackgroundImage extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsBackgroundImage.prototype, "component", void 0);
EcsBackgroundImage = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsBackgroundImage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsBackgroundImage);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EcsPropTeleport = class EcsPropTeleport extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    focusTarget() {
        console.warn("TODO: focus target");
    }
    link() {
        this.$emit('ecs-property-change', '@', 'prop_teleport_link', this.component.entity);
    }
    use() {
        this.$emit('ecs-property-change', '@', 'prop_use', this.component.entity);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsPropTeleport.prototype, "isAdmin", void 0);
EcsPropTeleport = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EcsPropTeleport);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsPropTeleport);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let EcsTransform = class EcsTransform extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.rotation = '';
        this.scale = '';
    }
    onChange() {
        if (this.rotation !== '') {
            let r = (((parseFloat(this.rotation) % 360) + 360) % 360);
            if (this.component.rotation !== r) {
                this.$emit('ecs-property-change', 'transform', 'rotation', r * pixi_js__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD);
            }
        }
        if (this.scale !== '') {
            let s = parseFloat(this.scale);
            if (this.component.scale !== s) {
                this.$emit('ecs-property-change', 'transform', 'scale', s);
            }
        }
    }
    onCRotationChanged(val) {
        this.rotation = (val !== null && val !== void 0 ? val : 0) * pixi_js__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG + '';
    }
    onCScaleChanged(val) {
        this.scale = (val !== null && val !== void 0 ? val : 0) + '';
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EcsTransform.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.rotation')
], EcsTransform.prototype, "onCRotationChanged", null);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatchImmediate)('component.scale')
], EcsTransform.prototype, "onCScaleChanged", null);
EcsTransform = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_2__["default"],
        }
    })
], EcsTransform);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsTransform);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \***************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/editableNumber.vue */ "./src/app/ui/util/editableNumber.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EcsWall = class EcsWall extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.w = '';
        this.h = '';
    }
    onChange() {
        let w = parseFloat(this.w);
        let h = parseFloat(this.h);
        if ((this.component.vec[0] !== w && this.w !== '') || (this.component.vec[1] !== h && this.h !== '')) {
            this.$emit('ecs-property-change', 'wall', 'vec', [w, h]);
        }
    }
    onCxChanged(vec) {
        if (vec === undefined) {
            this.w = '';
            this.h = '';
        }
        else {
            this.w = vec[0] + '';
            this.h = vec[1] + '';
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "component", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EcsWall.prototype, "isAdmin", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatchImmediate)('component.vec')
], EcsWall.prototype, "onCxChanged", null);
EcsWall = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableNumber: _util_editableNumber_vue__WEBPACK_IMPORTED_MODULE_1__["default"],
        }
    })
], EcsWall);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EcsWall);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue */ "./src/app/ui/ecs/compWrapper.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/ecsUtil */ "./src/app/ecs/ecsUtil.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




let EntityInspect = class EntityInspect extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.data = {
            type: _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE,
            selectedEntities: [],
            hidden: false,
            addable: [],
            components: [],
            _save: false,
            _sync: false,
        };
    }
    onEcsPropertyChange(type, property, value, multiId) {
        let selectionSys = this.world.systems.get(_ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_TYPE);
        selectionSys.setProperty(this.data.selectedEntities, type, property, value, multiId);
    }
    emitSpecial(name, par) {
        this.onEcsPropertyChange('$', name, par);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE) {
            this.data = (0,_ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.componentClone)(res);
        }
    }
    mounted() {
        this.data = (0,_ecs_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.componentClone)(this.world.getResource(_ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SELECTION_UI_DATA_TYPE));
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], EntityInspect.prototype, "world", void 0);
EntityInspect = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: {
            EcsComponentWrapper: _compWrapper_vue__WEBPACK_IMPORTED_MODULE_0__["default"],
        }
    })
], EntityInspect);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EntityInspect);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts& ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/resource */ "./src/app/ecs/resource.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.visible = false;
        this.exitAfterCreation = false;
    }
    reloadResource() {
        var _a;
        const info = this.world.getResource(_ecs_resource__WEBPACK_IMPORTED_MODULE_1__.CREATION_INFO_TYPE);
        this.exitAfterCreation = (_a = info === null || info === void 0 ? void 0 : info.exitAfterCreation) !== null && _a !== void 0 ? _a : true;
    }
    onChange() {
        this.world.addResource({
            type: _ecs_resource__WEBPACK_IMPORTED_MODULE_1__.CREATION_INFO_TYPE,
            exitAfterCreation: this.exitAfterCreation,
        }, 'update');
    }
    mounted() {
        this.reloadResource();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_resource__WEBPACK_IMPORTED_MODULE_1__.CREATION_INFO_TYPE)
            this.reloadResource();
        else if (res.type === 'tool') {
            this.visible = this.world.systems.get('tool').isToolPartEnabled('creation_flag');
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _toolBar_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolBar.vue */ "./src/app/ui/edit/toolBar.vue");
/* harmony import */ var _sideBar_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sideBar.vue */ "./src/app/ui/edit/sideBar.vue");
/* harmony import */ var _reconnectionModal_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reconnectionModal.vue */ "./src/app/ui/edit/reconnectionModal.vue");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_3__["default"].extend({
    components: { ToolBar: _toolBar_vue__WEBPACK_IMPORTED_MODULE_0__["default"], SideBar: _sideBar_vue__WEBPACK_IMPORTED_MODULE_1__["default"], ReconnectionModal: _reconnectionModal_vue__WEBPACK_IMPORTED_MODULE_2__["default"] },
    props: ['world'],
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _icons_hexagonIcon_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../icons/hexagonIcon.vue */ "./src/app/ui/icons/hexagonIcon.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.grid = {
            type: "none",
            unit: '0 m',
            size: 1,
            offX: 0,
            offY: 0,
            color: '#000000',
            opacity: 0.5,
            thick: 2,
        };
        this.disableWatchSave = false;
    }
    reloadGrid() {
        this.disableWatchSave = true;
        let grid = this.world.getResource('grid');
        switch (grid.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.HEXAGON:
                this.grid.type = 'hex';
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.SQUARE:
                this.grid.type = 'square';
                break;
        }
        if (!grid.visible) {
            this.grid.type = 'none';
        }
        let opts = grid;
        this.grid.unit = grid.unitMul + ' ' + grid.unitName;
        this.grid.size = opts.size;
        this.grid.offX = opts.offX;
        this.grid.offY = opts.offY;
        this.grid.color = hex2string(opts.color);
        this.grid.opacity = opts.opacity;
        this.grid.thick = opts.thick;
        this.disableWatchSave = false;
    }
    mounted() {
        this.reloadGrid();
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'grid')
            this.reloadGrid();
    }
    parseUnit(s) {
        const pattern = /^\s*([0-9.,]+)(.+)$/g;
        let res = pattern.exec(s);
        if (res == null)
            return undefined;
        let mul = 1;
        try {
            mul = parseFloat(res[1]);
        }
        catch (e) { }
        return {
            name: res[2].trim(),
            mul,
        };
    }
    onGridChange(newGrid) {
        if (this.disableWatchSave)
            return;
        newGrid.offX = Math.min(newGrid.offX, newGrid.size);
        newGrid.offY = Math.min(newGrid.offY, newGrid.size);
        let type;
        switch (newGrid.type) {
            case 'none':
                type = undefined;
                break;
            case 'hex':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.HEXAGON;
                break;
            case 'square':
                type = _game_grid__WEBPACK_IMPORTED_MODULE_2__.GridType.SQUARE;
                break;
        }
        let cmd = {
            kind: 'redit',
            add: [], remove: [],
            edit: {},
        };
        if (type !== undefined) {
            cmd.edit['grid'] = {
                visible: true,
                gridType: type,
                size: newGrid.size,
                offX: newGrid.offX,
                offY: newGrid.offY,
                color: string2hex(newGrid.color),
                opacity: parseFloat(newGrid.opacity),
                thick: newGrid.thick,
            };
            let unit = this.parseUnit(newGrid.unit);
            if (unit !== undefined) {
                let grid = cmd.edit.grid;
                grid.unitMul = unit.mul;
                grid.unitName = unit.name;
            }
        }
        else {
            cmd.edit['grid'] = {
                visible: false,
            };
        }
        this.world.events.emit('command_log', cmd);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VWatch)('grid', { deep: true })
], GridEdit.prototype, "onGridChange", null);
GridEdit = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VComponent)({
        components: { HexagonIcon: _icons_hexagonIcon_vue__WEBPACK_IMPORTED_MODULE_0__["default"] }
    })
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var string2hex = PIXI.utils.string2hex;
var hex2string = PIXI.utils.hex2string;
let GridEdit = class GridEdit extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.ambientLight = '#000000';
        this.needsLight = true;
        this.roleplayVision = false;
        this.background = '#000000';
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.reloadLight();
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === 'light_settings' || res.type === 'local_light_settings') {
            this.reloadLight();
        }
    }
    reloadLight() {
        let light = this.world.getResource('light_settings');
        this.ambientLight = hex2string(light.ambientLight);
        this.needsLight = light.needsLight;
        this.background = hex2string(light.background);
        let llight = this.world.getResource('local_light_settings');
        this.roleplayVision = llight.visionType === 'rp';
    }
    onAmbientLightChange() {
        this.world.addResource({
            type: 'light_settings',
            ambientLight: string2hex(this.ambientLight),
            needsLight: this.needsLight,
            background: string2hex(this.background),
        }, 'update');
    }
    onLightSettingsReset() {
        this.world.addResource(Object.assign({
            type: 'light_settings',
        }, _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LIGHT_SETTINGS), 'update');
        this.reloadLight();
    }
    onRPVisChange() {
        let visionType = this.roleplayVision ? 'rp' : 'dm';
        this.world.editResource('local_light_settings', { visionType });
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], GridEdit.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('roleplayVision')
], GridEdit.prototype, "onRPVisChange", null);
GridEdit = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], GridEdit);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridEdit);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts& ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../index */ "./src/app/index.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let ReconnectionModal = class ReconnectionModal extends _vue__WEBPACK_IMPORTED_MODULE_1__.Vue {
    constructor() {
        super(...arguments);
        this.trackerCount = 0;
        this.connectionCount = 0;
        this.isBootstrapped = false;
    }
    get shouldBeShown() {
        return !_vue__WEBPACK_IMPORTED_MODULE_1__.networkStatus.isOnline || this.connectionCount === 0 || !this.isBootstrapped;
    }
    get bodyMessage() {
        let msg = 'Connecting...';
        if (!_vue__WEBPACK_IMPORTED_MODULE_1__.networkStatus.isOnline) {
            msg = 'Check your internet connection';
        }
        else if (this.trackerCount === 0 && this.connectionCount === 0) {
            msg = 'Connecting to trackers...';
        }
        else if (this.connectionCount === 0) {
            msg = 'Waiting for master...';
        }
        else if (!this.isBootstrapped) {
            msg = 'Downloading data...';
        }
        return msg;
    }
    stop() {
        history.pushState(null, "", '#');
        (0,_index__WEBPACK_IMPORTED_MODULE_2__.onHashChange)();
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_0__.NETWORK_STATUS_TYPE) {
            const status = res;
            this.trackerCount = status.trackerCount;
            this.connectionCount = status.connectionCount;
            this.isBootstrapped = status.isBootstrapDone;
        }
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_1__.VProp)({ required: true })
], ReconnectionModal.prototype, "world", void 0);
ReconnectionModal = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_1__.VComponent
], ReconnectionModal);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReconnectionModal);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _gridEdit_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gridEdit.vue */ "./src/app/ui/edit/gridEdit.vue");
/* harmony import */ var _creationOptions_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./creationOptions.vue */ "./src/app/ui/edit/creationOptions.vue");
/* harmony import */ var _lightSettingsEdit_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lightSettingsEdit.vue */ "./src/app/ui/edit/lightSettingsEdit.vue");
/* harmony import */ var _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ecs/entityInspect.vue */ "./src/app/ui/ecs/entityInspect.vue");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







let ToolBar = class ToolBar extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.tool = 'inspect';
        this.connectionCount = 0;
        this.trackerCount = 0;
        this.connectionBuffering = false;
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_1__.TOOL_TYPE) {
            this.tool = res.tool;
        }
        else if (res.type === _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_STATUS_TYPE) {
            let r = res;
            this.trackerCount = r.trackerCount;
            this.connectionCount = r.connectionCount;
            this.connectionBuffering = r.isBuffering;
        }
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], ToolBar.prototype, "world", void 0);
ToolBar = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            GridEdit: _gridEdit_vue__WEBPACK_IMPORTED_MODULE_2__["default"], EntityInspect: _ecs_entityInspect_vue__WEBPACK_IMPORTED_MODULE_5__["default"], LightSettingsEdit: _lightSettingsEdit_vue__WEBPACK_IMPORTED_MODULE_4__["default"], CreationOptions: _creationOptions_vue__WEBPACK_IMPORTED_MODULE_3__["default"]
        }
    })
], ToolBar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolBar);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts& ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _icons_mouseTrailIcon_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../icons/mouseTrailIcon.vue */ "./src/app/ui/icons/mouseTrailIcon.vue");
/* harmony import */ var _icons_wallIcon_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../icons/wallIcon.vue */ "./src/app/ui/icons/wallIcon.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





let ToolBar = class ToolBar extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.tool = 'inspect';
        this.backgroundLocked = true;
        this.canUndo = false;
        this.canRedo = false;
    }
    mounted() {
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on('command_history_change', this.onCommandHistoryChange, this);
        let x = this.$refs.radioinspect;
        x.$el.addEventListener('click', (e) => {
            if (!(e.target instanceof HTMLInputElement))
                return;
            if (this.tool === 'inspect') {
                let locked = this.world.getResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE).locked;
                this.world.editResource(_ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE, { locked: !locked });
            }
        });
    }
    unmounted() {
        this.world.events.off('resource_edited', this.onResourceEdited, this);
        this.world.events.off('command_history_change', this.onCommandHistoryChange, this);
    }
    onCommandHistoryChange(canUndo, canRedo) {
        this.canUndo = canUndo;
        this.canRedo = canRedo;
    }
    onResourceEdited(res) {
        if (res.type === _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE) {
            this.backgroundLocked = res.locked;
        }
        else if (res.type === _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE) {
            this.tool = res.tool;
        }
    }
    onToolEdit(tool) {
        this.world.editResource('tool', { tool });
    }
    undo() {
        this.world.events.emit('command_undo');
    }
    redo() {
        this.world.events.emit('command_redo');
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], ToolBar.prototype, "world", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VWatch)('tool')
], ToolBar.prototype, "onToolEdit", null);
ToolBar = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: { MouseTrailIcon: _icons_mouseTrailIcon_vue__WEBPACK_IMPORTED_MODULE_3__["default"], WallIcon: _icons_wallIcon_vue__WEBPACK_IMPORTED_MODULE_4__["default"] }
    })
], ToolBar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolBar);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../footer.vue */ "./src/app/ui/footer.vue");
/* harmony import */ var _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue */ "./src/app/ui/home/mapInput.vue");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



let HomeComponent = class HomeComponent extends _vue__WEBPACK_IMPORTED_MODULE_2__.Vue {
    constructor() {
        super(...arguments);
        this.file = null;
        this.pendingOp = "";
    }
    onCreateMap() {
        this.eventEmitter.emit("create_map");
    }
    onEditMap() {
        this.pendingOp = 'edit';
        this.mapLoadModal.show();
        this.eventEmitter.emit("edit_map");
    }
    mapLoadCancel() {
        this.mapLoadModal.hide();
    }
    onFileChanged(val) {
        if (val == null)
            return;
        console.log("File dropped, loading: " + this.pendingOp);
        this.eventEmitter.emit(this.pendingOp, this.file);
        this.file = null;
        this.mapLoadCancel();
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VRef)('map-load-modal')
], HomeComponent.prototype, "mapLoadModal", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VWatch)('file')
], HomeComponent.prototype, "onFileChanged", null);
HomeComponent = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_2__.VComponent)({
        components: { MapInput: _mapInput_vue__WEBPACK_IMPORTED_MODULE_1__["default"], FooterComponent: _footer_vue__WEBPACK_IMPORTED_MODULE_0__["default"] }
    })
], HomeComponent);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HomeComponent);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts& ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&":
/*!******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts& ***!
  \******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


const LOADING_PHRASES = [
    "Persuading dragons to cooperate...",
    "A Dwarf, an Elf and a Dragonbord enter a tavern... \"We're looking for a quest\"",
    "An ancient legend tells that if you insult a dragon to exhaustion... they'll eat you anyways",
    "Recharging spell slots...",
    "Roll a Charisma saving throw...",
    "Long rest in progress...",
    "Fitting out the goblin army...",
    "The last boss you killed met a 20th level chieric... The rest is up to you! ;)",
    "This map only costs 25gp!",
    "Sorry, you'd better create a new character sheet",
];
function randomMex() {
    const i = Math.floor(Math.random() * LOADING_PHRASES.length);
    return LOADING_PHRASES[i];
}
let Loading = class Loading extends vue__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor() {
        super(...arguments);
        this.message = randomMex();
    }
};
Loading = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], Loading);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&":
/*!**********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EditableColor = class EditableColor extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableColor.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableColor.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableColor.prototype, "placeholder", void 0);
EditableColor = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EditableColor);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableColor);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
/* harmony import */ var _editableText_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableText.vue */ "./src/app/ui/util/editableText.vue");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let EditableNumber = class EditableNumber extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    constructor() {
        super(...arguments);
        this.filter = (s) => {
            let neg = false;
            if (s[0] === '-') {
                neg = this.canBeNegative;
                s = s.substr(1);
            }
            const prefix = neg ? '-' : '';
            return prefix + s.split('.', 2)
                .map(x => x.replace(/[^0-9]*/g, ''))
                .join('.');
        };
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableNumber.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableNumber.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableNumber.prototype, "placeholder", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: true })
], EditableNumber.prototype, "canBeNegative", void 0);
EditableNumber = __decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VComponent)({
        components: {
            EditableText: _editableText_vue__WEBPACK_IMPORTED_MODULE_1__["default"]
        }
    })
], EditableNumber);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableNumber);


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&":
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vue */ "./src/app/ui/vue.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let EditableText = class EditableText extends _vue__WEBPACK_IMPORTED_MODULE_0__.Vue {
    onEvent(ev, event) {
        const et = event.target;
        if (this.filter !== undefined) {
            et.value = this.filter(et.value);
        }
        this.$emit(ev, et.value);
    }
};
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ required: true })
], EditableText.prototype, "value", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: false })
], EditableText.prototype, "readonly", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: '' })
], EditableText.prototype, "placeholder", void 0);
__decorate([
    (0,_vue__WEBPACK_IMPORTED_MODULE_0__.VProp)({ default: undefined })
], EditableText.prototype, "filter", void 0);
EditableText = __decorate([
    _vue__WEBPACK_IMPORTED_MODULE_0__.VComponent
], EditableText);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditableText);


/***/ }),

/***/ "./src/app/PIXI.ts":
/*!*************************!*\
  !*** ./src/app/PIXI.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi-layers */ "./node_modules/pixi-layers/dist/pixi-layers.js");
/* harmony import */ var pixi_layers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_layers__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pixi_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./src/app/assetsLoader.ts":
/*!*********************************!*\
  !*** ./src/app/assetsLoader.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAssets": () => (/* binding */ loadAssets)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Public/images/props.png */ "./src/public/images/props.png");
/* harmony import */ var Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Public/spritesheets/props.json */ "./src/public/spritesheets/props.json");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



var BaseTexture = pixi_js__WEBPACK_IMPORTED_MODULE_0__.BaseTexture;
var ImageResource = pixi_js__WEBPACK_IMPORTED_MODULE_0__.resources.ImageResource;
function loadSpritesheet(loader, name, imgUrl, data) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            console.log("[Spritesheet] Loading: " + name);
            const imgElm = new Image();
            imgElm.crossOrigin = 'anonymous';
            imgElm.onload = () => {
                const tex = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Texture(new BaseTexture(new ImageResource(imgElm)));
                const spritesheet = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Spritesheet(tex, data);
                loader.resources[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.LoaderResource(name, "");
                loader.resources[name].spritesheet = spritesheet;
                spritesheet.parse(() => {
                    console.log("[Spritesheet] Loaded: " + name);
                    resolve(spritesheet);
                });
            };
            imgElm.src = imgUrl; // When the listeners are set, we can finally start downloading the image.
        });
    });
}
function loadAssets() {
    return __awaiter(this, void 0, void 0, function* () {
        const loader = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Loader.shared;
        yield Promise.all([
            loadSpritesheet(loader, "props", Public_images_props_png__WEBPACK_IMPORTED_MODULE_1__["default"], Public_spritesheets_props_json__WEBPACK_IMPORTED_MODULE_2__),
        ]);
    });
}


/***/ }),

/***/ "./src/app/ecs/component.ts":
/*!**********************************!*\
  !*** ./src/app/ecs/component.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "POSITION_TYPE": () => (/* binding */ POSITION_TYPE),
/* harmony export */   "TRANSFORM_TYPE": () => (/* binding */ TRANSFORM_TYPE),
/* harmony export */   "NAME_TYPE": () => (/* binding */ NAME_TYPE),
/* harmony export */   "NOTE_TYPE": () => (/* binding */ NOTE_TYPE),
/* harmony export */   "FOLLOW_MOUSE_TYPE": () => (/* binding */ FOLLOW_MOUSE_TYPE),
/* harmony export */   "HOST_HIDDEN_TYPE": () => (/* binding */ HOST_HIDDEN_TYPE),
/* harmony export */   "registerCommonStorage": () => (/* binding */ registerCommonStorage)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/app/ecs/storage.ts");

const POSITION_TYPE = "position";
const TRANSFORM_TYPE = "transform";
const NAME_TYPE = "name";
const NOTE_TYPE = "note";
const FOLLOW_MOUSE_TYPE = "follow_mouse";
const HOST_HIDDEN_TYPE = "host_hidden";
function registerCommonStorage(ecs) {
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(POSITION_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(TRANSFORM_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NAME_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(NOTE_TYPE));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(FOLLOW_MOUSE_TYPE, false, false));
    ecs.addStorage(new _storage__WEBPACK_IMPORTED_MODULE_0__.FlagEcsStorage(HOST_HIDDEN_TYPE, false, false));
}


/***/ }),

/***/ "./src/app/ecs/ecsUtil.ts":
/*!********************************!*\
  !*** ./src/app/ecs/ecsUtil.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterComponentKeepEntity": () => (/* binding */ filterComponentKeepEntity),
/* harmony export */   "filterComponent": () => (/* binding */ filterComponent),
/* harmony export */   "generateRandomId": () => (/* binding */ generateRandomId),
/* harmony export */   "componentClone": () => (/* binding */ componentClone)
/* harmony export */ });
function filterComponentKeepEntity(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function filterComponent(comp) {
    let res = {};
    for (let name in comp) {
        if (name[0] === '_' || name === 'entity' || name === 'clientVisible')
            continue;
        res[name] = comp[name];
    }
    return res;
}
function generateRandomId() {
    return Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
}
function componentClone(obj) {
    return JSON.parse(JSON.stringify(obj));
}


/***/ }),

/***/ "./src/app/ecs/interaction.ts":
/*!************************************!*\
  !*** ./src/app/ecs/interaction.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeomertyQueryType": () => (/* binding */ GeomertyQueryType),
/* harmony export */   "QueryHitEvent": () => (/* binding */ QueryHitEvent)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

var GeomertyQueryType;
(function (GeomertyQueryType) {
    GeomertyQueryType[GeomertyQueryType["POINT"] = 0] = "POINT";
    GeomertyQueryType[GeomertyQueryType["AABB"] = 1] = "AABB";
})(GeomertyQueryType || (GeomertyQueryType = {}));
class QueryHitEvent {
    constructor(type, multi, aabb, data) {
        this.hits = new Map();
        this.type = type;
        this.multi = multi;
        this.aabb = aabb;
        this.data = data || aabb;
    }
    shouldContinue() {
        return this.multi || this.hits.size === 0;
    }
    addHit(entity, priority) {
        if (!this.shouldContinue())
            return;
        if (this.hits.has(entity)) {
            let oldPrior = this.hits.get(entity);
            if (oldPrior >= priority)
                return;
        }
        this.hits.set(entity, priority);
    }
    getSorted() {
        return [...this.hits.entries()].sort(x => -x[1]).map(x => x[0]);
    }
    static queryPoint(point, multi) {
        return new QueryHitEvent(GeomertyQueryType.POINT, multi, new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(point.x, point.y, point.x, point.y), point);
    }
    static queryAabb(aabb, multi) {
        return new QueryHitEvent(GeomertyQueryType.AABB, multi, aabb);
    }
}


/***/ }),

/***/ "./src/app/ecs/resource.ts":
/*!*********************************!*\
  !*** ./src/app/ecs/resource.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RECTANGULAR_SELECTION_TYPE": () => (/* binding */ RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "MEASURE_TYPE": () => (/* binding */ MEASURE_TYPE),
/* harmony export */   "CREATION_INFO_TYPE": () => (/* binding */ CREATION_INFO_TYPE)
/* harmony export */ });
const RECTANGULAR_SELECTION_TYPE = "rectangular_selection";
const MEASURE_TYPE = "measure";
const CREATION_INFO_TYPE = "creation_info";


/***/ }),

/***/ "./src/app/ecs/storage.ts":
/*!********************************!*\
  !*** ./src/app/ecs/storage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "serializeObj": () => (/* binding */ serializeObj),
/* harmony export */   "MultiEcsStorage": () => (/* binding */ MultiEcsStorage),
/* harmony export */   "SingleEcsStorage": () => (/* binding */ SingleEcsStorage),
/* harmony export */   "FlagEcsStorage": () => (/* binding */ FlagEcsStorage)
/* harmony export */ });
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/jsobj */ "./src/app/util/jsobj.ts");



function serializeObj(obj, removeClientVisible) {
    let res = {};
    for (let name in obj) {
        if (name[0] === '_' || name === 'entity' ||
            name === 'type' || (removeClientVisible && name === 'clientVisible'))
            continue;
        res[name] = obj[name];
    }
    return res;
}
class MultiEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getFirstComponent(entity, multiId) {
        if (multiId !== undefined) {
            return this.getComponent(entity, multiId);
        }
        let e = this.data.get(entity);
        if (e === undefined)
            return undefined;
        return e[0];
    }
    getComponent(entity, multiId) {
        let cmps = this.data.get(entity);
        if (cmps === undefined)
            return undefined;
        for (let cmp of cmps) {
            if (cmp.multiId === multiId)
                return cmp;
        }
        return undefined;
    }
    getComponents(entity) {
        if (entity !== undefined) {
            return this.data.get(entity) || [];
        }
        else {
            return this.allComponents();
        }
    }
    *allComponents() {
        for (let comps of this.data.values()) {
            for (let comp of comps) {
                yield comp;
            }
        }
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (component.multiId >= 0) { // Pre-assigned multi-id
            if (arr === undefined) {
                this.data.set(component.entity, [component]);
            }
            else {
                for (let c of arr) {
                    if (c.multiId === component.multiId)
                        throw Error('Invalid pre-assigned multiId ' + c.multiId);
                }
                arr.push(component);
            }
            return;
        }
        if (arr === undefined) {
            component.multiId = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_0__.generateRandomId)();
            this.data.set(component.entity, [component]);
        }
        else {
            let id;
            let found;
            do {
                id = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_0__.generateRandomId)();
                found = false;
                for (let x of arr) {
                    if (x.multiId === id) {
                        found = true;
                        break;
                    }
                }
            } while (found);
            component.multiId = id;
            arr.push(component);
        }
    }
    unregister(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            return;
        }
        if (arr.length === 1 && arr[0] === component) {
            this.data.delete(component.entity);
        }
        else {
            arr.splice(arr.indexOf(component), 1);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize(sdata) {
        let res = {};
        const stripClient = sdata.options.stripClient;
        const ser = (comps) => {
            let entityRes = new Array();
            for (let component of comps) {
                if (stripClient &&
                    component.clientVisible === false)
                    continue;
                entityRes.push(serializeObj(component, stripClient));
            }
            return entityRes;
        };
        const remap = sdata.options.remap;
        let isPresent = false;
        if (sdata.options.only !== undefined) {
            let i = 0;
            for (let entity of sdata.options.only) {
                i += 1;
                let comps = this.data.get(entity);
                if (comps === undefined)
                    continue;
                if (sdata.shouldIgnore(entity))
                    continue;
                const x = ser(comps);
                if (x.length === 0)
                    continue;
                let e = remap ? i : entity;
                res[e] = x;
                isPresent = true;
            }
        }
        else {
            for (let [entity, comps] of this.data.entries()) {
                if (sdata.shouldIgnore(entity))
                    continue;
                const x = ser(comps);
                if (x.length === 0)
                    continue;
                let e = remap ? sdata.entityMapping(entity) : entity;
                res[e] = x;
                isPresent = true;
            }
        }
        if (!isPresent)
            return undefined;
        return res;
    }
    deserialize(ecs, dsdata, data) {
        if (data === undefined)
            return;
        for (let entity in data) {
            let e = parseInt(entity);
            for (let comp of data[entity]) {
                let obj = Object.assign({}, comp, {
                    type: this.type
                });
                ecs.addComponent(dsdata.entityMapping(e), obj);
            }
        }
    }
    serializedMerge(to, from) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectMerge)(to, from);
    }
    serializedStrip(data, filter) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectFilterInplace)(data, (name, val) => {
            if (!filter(parseInt(name)))
                return false;
            (0,_util_array__WEBPACK_IMPORTED_MODULE_1__.arrayFilterInPlace)(val, x => {
                if (x.clientVisible === false) {
                    return false;
                }
                else {
                    delete x['clientVisible'];
                    return true;
                }
            });
            return val.length !== 0;
        });
    }
}
class SingleEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.data.get(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.data.get(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        let arr = this.data.get(component.entity);
        if (arr === undefined) {
            this.data.set(component.entity, component);
        }
        else {
            throw new Error('Component of same type already registered');
        }
    }
    unregister(component) {
        let c = this.data.get(component.entity);
        if (c === undefined) {
            return;
        }
        if (c === component) {
            this.data.delete(component.entity);
        }
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize(sdata) {
        let res = {};
        const stripClient = sdata.options.stripClient;
        const remap = sdata.options.remap;
        let isPresent = false;
        if (sdata.options.only !== undefined) {
            let i = 0;
            for (let entity of sdata.options.only) {
                i += 1;
                const comp = this.data.get(entity);
                if (comp === undefined)
                    continue;
                if (stripClient &&
                    (sdata.shouldIgnore(comp.entity) ||
                        comp.clientVisible === false))
                    continue;
                let e = remap ? i : entity;
                res[e] = serializeObj(comp, stripClient);
                isPresent = true;
            }
        }
        else {
            for (let comp of this.data.values()) {
                if (stripClient &&
                    (sdata.shouldIgnore(comp.entity) ||
                        comp.clientVisible === false))
                    continue;
                let e = remap ? sdata.entityMapping(comp.entity) : comp.entity;
                res[e] = serializeObj(comp, stripClient);
                isPresent = true;
            }
        }
        if (!isPresent)
            return undefined;
        return res;
    }
    deserialize(ecs, dsData, data) {
        if (data === undefined)
            return;
        for (let entity in data) {
            let obj = Object.assign({}, data[entity], {
                type: this.type
            });
            ecs.addComponent(dsData.entityMapping(parseInt(entity)), obj);
        }
    }
    serializedMerge(to, from) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectMerge)(to, from);
    }
    serializedStrip(data, filter) {
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectFilterInplace)(data, (name, val) => {
            if (!filter(parseInt(name)))
                return false;
            if (val.clientVisible === false)
                return false;
            return true;
        });
    }
}
class FlagEcsStorage {
    constructor(type, sync = true, save = true) {
        this.data = new Map();
        this.type = type;
        this.sync = sync;
        this.save = save;
    }
    getComponent(entity) {
        return this.data.get(entity);
    }
    getFirstComponent(entity) {
        return this.getComponent(entity);
    }
    getComponents(entity) {
        if (entity !== undefined) {
            let res = this.getComponent(entity);
            if (res === undefined)
                return [];
            else
                return [res];
        }
        else {
            return this.allComponents();
        }
    }
    allComponents() {
        return this.data.values();
    }
    register(component) {
        if (this.data.has(component.entity))
            throw new Error('Component of same type already registered');
        this.data.set(component.entity, component);
    }
    unregister(component) {
        this.data.delete(component.entity);
    }
    unregisterAllOf(entity) {
        this.data.delete(entity);
    }
    serialize(sdata) {
        let data;
        if (sdata.options.only === undefined) {
            data = [...this.data.keys()];
            if (sdata.options.stripClient) {
                data = data.filter(e => !sdata.shouldIgnore(e));
            }
            if (sdata.options.remap) {
                data = data.map(sdata.entityMapping);
            }
        }
        else {
            data = [];
            let i = 0;
            for (let e of sdata.options.only) {
                i += 1;
                if (!this.data.has(e) || sdata.shouldIgnore(e))
                    continue;
                data.push(sdata.options.remap ? i : e);
            }
        }
        if (data.length === 0)
            return undefined;
        return data;
    }
    deserialize(ecs, dsData, data) {
        if (data === undefined)
            return;
        for (let entity of data) {
            ecs.addComponent(dsData.entityMapping(entity), {
                type: this.type,
                entity: -1
            });
        }
    }
    serializedMerge(to, from) {
        to.push(...from);
    }
    serializedStrip(data, filter) {
        (0,_util_array__WEBPACK_IMPORTED_MODULE_1__.arrayFilterInPlace)(data, filter);
    }
}


/***/ }),

/***/ "./src/app/ecs/systemGraph.ts":
/*!************************************!*\
  !*** ./src/app/ecs/systemGraph.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SystemGraph": () => (/* binding */ SystemGraph)
/* harmony export */ });
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
class SystemGraph {
    constructor() {
        this.systemsByName = new Map();
        this.systems = new Array();
        this.unfulfilledDeps = new Set();
    }
    get(name) {
        return this.systemsByName.get(name);
    }
    register(system) {
        let depName = system.name;
        let unfulfilled = this.unfulfilledDeps.has(system.name);
        if (!unfulfilled && system.provides !== undefined) {
            for (let dep of system.provides) {
                depName = dep;
                unfulfilled = this.unfulfilledDeps.has(dep);
                if (unfulfilled)
                    break;
            }
        }
        if (unfulfilled) {
            throw new Error(`Some previous system optionally depended on ${depName}, please order your systems correctly`);
        }
        for (let dep of system.dependencies) {
            if (!this.systemsByName.has(dep))
                throw new Error('Unfulfilled dependency: ' + dep);
        }
        if (system.optionalDependencies !== undefined) {
            for (let dep of system.optionalDependencies) {
                if (this.systemsByName.has(dep))
                    continue;
                this.unfulfilledDeps.add(dep);
            }
        }
        let sys = this.systemsByName.get(system.name);
        if (sys != null) {
            if (sys.name === system.name)
                throw new Error('System name conflict');
            console.warn(`System ${system.name} has been already registered under ${sys.name}, overriding`);
        }
        this.systemsByName.set(system.name, system);
        this.systems.push(system);
        if (system.provides) {
            for (let prov of system.provides) {
                if (this.systemsByName.has(prov)) {
                    throw new Error(`Service ${prov} is already provided by ${this.systemsByName.get(prov).name}, cannot override with ${system.name}`);
                }
                this.systemsByName.set(prov, system);
            }
        }
    }
    [Symbol.iterator]() {
        return this.systems[Symbol.iterator]();
    }
    getAt(index) {
        return this.systems[index];
    }
    size() {
        return this.systems.length;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/bigStorageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/bigStorageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BigEntryFlags": () => (/* binding */ BigEntryFlags),
/* harmony export */   "BIG_STORAGE_TYPE": () => (/* binding */ BIG_STORAGE_TYPE),
/* harmony export */   "BigStorageSystem": () => (/* binding */ BigStorageSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




var BigEntryFlags;
(function (BigEntryFlags) {
    BigEntryFlags[BigEntryFlags["READONLY"] = 1] = "READONLY";
    /// If it's not shared it's owned as a CoW
    BigEntryFlags[BigEntryFlags["SHARED"] = 2] = "SHARED";
    // If present the object will not be shared with the other
    //  (but it's still SAVE so it will be sent at the beginning,
    //   use case: visibility map)
    BigEntryFlags[BigEntryFlags["NO_SYNC"] = 4] = "NO_SYNC";
})(BigEntryFlags || (BigEntryFlags = {}));
const BIG_STORAGE_TYPE = 'big_storage';
class BigStorageSystem {
    constructor(world) {
        this.name = BIG_STORAGE_TYPE;
        this.dependencies = [];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.MultiEcsStorage(BIG_STORAGE_TYPE, true, true);
        this.res = {
            type: BIG_STORAGE_TYPE,
            entity: -1,
            _save: true,
            _sync: true,
        };
        this.world = world;
        world.addStorage(this.storage);
        world.addResource(this.res);
        world.events.on('deserialized', this.onDeserialized, this);
    }
    create(data, flags = 0, own = true) {
        if (!this.world.isMaster) {
            throw Error("Trying to create a big entry on a non-master world");
        }
        if (this.res.entity <= 0) {
            console.log("Creating big storage");
            let entity = this.world.allocateId();
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, {
                kind: 'spawn',
                data: {
                    entities: [entity],
                    storages: {},
                }
            }, true);
            let cmd = {
                kind: 'redit',
                add: [],
                edit: {},
                remove: [],
            };
            cmd.edit[BIG_STORAGE_TYPE] = { entity };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, cmd, true);
        }
        let x = {
            multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_3__.generateRandomId)(),
            type: BIG_STORAGE_TYPE,
            entity: this.res.entity,
            data,
            flags,
            _users: own ? 1 : 0,
        };
        (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.emitCommand)(this.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_1__.componentEditCommand)([x]), !(flags & BigEntryFlags.NO_SYNC));
        return x;
    }
    request(id) {
        return this.storage.getComponent(this.res.entity, id);
    }
    requestUse(id) {
        const r = this.request(id);
        if (r === undefined)
            return undefined;
        if (this.world.isMaster) {
            r._users = ((r._users || 0) + 1);
        }
        return r;
    }
    replace(id, newData, ignoreReadonly = false) {
        const r = this.request(id);
        if (r === undefined) {
            throw Error("undefined id");
        }
        if (r.flags & BigEntryFlags.READONLY && !ignoreReadonly) {
            throw Error("Trying to replace readonly resurce");
        }
        if ((r.flags & BigEntryFlags.SHARED) === 0 && r._users > 1) {
            r._users -= 1;
            const entry = this.create(newData, r.flags);
            return entry.multiId;
        }
        r.data = newData;
        return r.multiId;
    }
    dropUse(id, forceDrop = false) {
        if (!this.world.isMaster)
            return;
        const r = this.request(id);
        if (r === undefined)
            return;
        r._users = ((r._users || 0) - 1);
        // Don't, this might be reused by the commands
        if (forceDrop && r._users <= 0) {
            this.storage.unregister(r);
        }
    }
    onDeserialized() {
        let toRemove = [];
        for (let r of this.storage.getComponents(this.res.entity)) {
            if (r._users === undefined || r._users <= 0) {
                toRemove.push(r);
            }
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_1__.componentEditCommand)([], [], toRemove);
        // TODO: please check if this works, I'm too scared
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/interactionSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/interactionSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShapeType": () => (/* binding */ ShapeType),
/* harmony export */   "shapePoint": () => (/* binding */ shapePoint),
/* harmony export */   "shapeAabb": () => (/* binding */ shapeAabb),
/* harmony export */   "shapeCircle": () => (/* binding */ shapeCircle),
/* harmony export */   "shapeLine": () => (/* binding */ shapeLine),
/* harmony export */   "shapePolygon": () => (/* binding */ shapePolygon),
/* harmony export */   "shapeObb": () => (/* binding */ shapeObb),
/* harmony export */   "shapeIntersect": () => (/* binding */ shapeIntersect),
/* harmony export */   "shapeToAabb": () => (/* binding */ shapeToAabb),
/* harmony export */   "INTERACTION_TYPE": () => (/* binding */ INTERACTION_TYPE),
/* harmony export */   "InteractionSystem": () => (/* binding */ InteractionSystem)
/* harmony export */ });
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _game_pointDB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/pointDB */ "./src/app/game/pointDB.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");










var ShapeType;
(function (ShapeType) {
    ShapeType[ShapeType["POINT"] = 0] = "POINT";
    ShapeType[ShapeType["AABB"] = 1] = "AABB";
    ShapeType[ShapeType["CIRCLE"] = 2] = "CIRCLE";
    ShapeType[ShapeType["LINE"] = 3] = "LINE";
    ShapeType[ShapeType["POLYGON"] = 4] = "POLYGON";
    ShapeType[ShapeType["OBB"] = 5] = "OBB";
})(ShapeType || (ShapeType = {}));
function shapePoint(pos) {
    return {
        type: ShapeType.POINT,
        pos,
    };
}
function shapeAabb(aabb) {
    return {
        type: ShapeType.AABB,
        data: aabb,
    };
}
function shapeCircle(center, radius) {
    return {
        type: ShapeType.CIRCLE,
        pos: center,
        radius: radius,
    };
}
function shapeLine(line) {
    return {
        type: ShapeType.LINE,
        data: line,
    };
}
function shapePolygon(polygon) {
    return {
        type: ShapeType.POLYGON,
        polygon,
    };
}
function shapeObb(obb) {
    return {
        type: ShapeType.OBB,
        data: obb,
    };
}
function shapeIntersect(shape1, shape2) {
    if (shape2.type < shape1.type)
        [shape2, shape1] = [shape1, shape2];
    let s1t = shape1.type;
    let s2t = shape2.type;
    // TODO: polygon vs polygon
    if (s1t === ShapeType.POINT) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POINT: return false;
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsPoint)(shape2.data, s1.pos);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapPointVsCircle)(s1.pos, shape2.pos, shape2.radius);
            case ShapeType.LINE: return false;
            case ShapeType.POLYGON: return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.polygonPointIntersect)(s1.pos, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsPoint)(shape2.data, s1.pos);
        }
    }
    else if (s1t === ShapeType.AABB) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.AABB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsAabb)(shape2.data, s1.data);
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsAabb)(shape2.pos, shape2.radius, s1.data);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapAabbVsLine)(s1.data, shape2.data);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(_geometry_obb__WEBPACK_IMPORTED_MODULE_3__.Obb.fromAabb(s1.data), shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsAabb)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.CIRCLE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.CIRCLE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsCircle)(shape2.pos, shape2.radius, s1.pos, s1.radius);
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsCircle)(shape2.data, s1.pos, s1.radius);
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapCircleVsPolygon)(s1.pos, s1.radius, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsCircle)(shape2.data, s1.pos, s1.radius);
        }
    }
    else if (s1t === ShapeType.LINE) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.LINE: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.intersectSegmentVsSegment)(s1.data, shape2.data) == _geometry_collision__WEBPACK_IMPORTED_MODULE_0__.SegmentVsSegmentRes.INTERN;
            case ShapeType.POLYGON: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapLineVsPolygon)(s1.data, shape2.polygon);
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsLine)(shape2.data, s1.data);
        }
    }
    else if (s1t === ShapeType.POLYGON) {
        let s1 = shape1;
        switch (s2t) {
            case ShapeType.POLYGON: break;
            case ShapeType.OBB: return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapObbVsPolygon)(shape2.data, s1.polygon);
        }
    }
    else if (s1t === ShapeType.OBB) {
        return (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_0__.overlapRotatedRectVsRotatedRect)(shape1.data, shape2.data);
    }
    // Polygon vs Polygon
    throw new Error('Query not implemented: ' + s1t + ' vs ' + s2t);
}
function shapeToAabb(shape) {
    switch (shape.type) {
        case ShapeType.POINT: return _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.fromPoint(shape.pos);
        case ShapeType.AABB: return shape.data;
        case ShapeType.CIRCLE: {
            let s = shape;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.pos.x - s.radius, s.pos.y - s.radius, s.pos.x + s.radius, s.pos.y + s.radius);
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(s.fromX, s.fromY, s.toX, s.toY);
        }
        case ShapeType.POLYGON: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.polygon);
            return aabb;
        }
        case ShapeType.OBB: {
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb.zero();
            aabb.wrapPolygon(shape.data.rotVertex);
            return aabb;
        }
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
function shapeToSnaps(shape) {
    switch (shape.type) {
        case ShapeType.POINT:
        case ShapeType.CIRCLE: {
            let p = shape;
            return [p.pos.x, p.pos.y];
        }
        case ShapeType.AABB: {
            let aabb = shape.data;
            return [
                aabb.minX, aabb.minY,
                aabb.minX, aabb.maxY,
                aabb.maxX, aabb.minY,
                aabb.maxX, aabb.maxY,
            ];
        }
        case ShapeType.LINE: {
            let s = shape.data;
            return [
                s.fromX, s.fromY,
                s.toX, s.toY,
            ];
        }
        case ShapeType.POLYGON: {
            let pol = shape.polygon;
            let data = new Array();
            for (let i = 0; i < pol.length; i += 2) {
                data.push(pol[i], pol[i + 1]);
            }
            return data;
        }
        case ShapeType.OBB: {
            let pol = shape.data.rotVertex;
            let data = new Array(8);
            for (let i = 0; i < 8; i++) {
                data[i] = pol[i];
            }
            return data;
        }
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
function shapeTranslate(shape, x, y) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            s.pos.x += x;
            s.pos.y += y;
            break;
        }
        case ShapeType.AABB: {
            let s = shape.data;
            s.translate(x, y, s);
            break;
        }
        case ShapeType.LINE: {
            let s = shape.data;
            s.fromX += x;
            s.fromY += y;
            s.toX += x;
            s.toY += y;
            break;
        }
        case ShapeType.POLYGON: {
            let s = shape;
            let slen = s.polygon.length;
            for (let i = 0; i < slen; i += 2) {
                s.polygon[i] += x;
                s.polygon[i + 1] += y;
            }
            break;
        }
        case ShapeType.OBB: {
            let s = shape.data;
            s.unrotated.translate(x, y, s.unrotated);
            let pol = s.rotVertex;
            for (let i = 0; i < 8; i += 2) {
                pol[i] += x;
                pol[i + 1] += y;
            }
            break;
        }
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
function shapeClone(shape) {
    switch (shape.type) {
        case ShapeType.CIRCLE:
        case ShapeType.POINT: {
            let s = shape;
            return {
                type: ShapeType.POINT,
                pos: new PIXI.Point(s.pos.x, s.pos.y),
            };
        }
        case ShapeType.AABB: return shapeAabb(shape.data.copy());
        case ShapeType.LINE: return shapeLine(shape.data.copy());
        case ShapeType.POLYGON: return shapePolygon([...shape.polygon]);
        case ShapeType.OBB: return shapeObb(shape.data.copy());
        default: throw new Error('Unknown shape type: ' + shape.type);
    }
}
const INTERACTION_TYPE = 'interaction';
class InteractionSystem {
    constructor(world) {
        this.name = INTERACTION_TYPE;
        this.dependencies = [_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE, _selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_5__.SingleEcsStorage('interaction', false, false);
        this.isTranslating = false;
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        this.world = world;
        this.selectionSys = this.world.systems.get(_selectionSystem__WEBPACK_IMPORTED_MODULE_9__.SELECTION_TYPE);
        this.snapDb = new _game_pointDB__WEBPACK_IMPORTED_MODULE_7__.PointDB(this.world.systems.get(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE));
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
        world.events.on('query_hit', this.onQueryHit, this);
    }
    registerSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.insert([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterSnapPoints(snaps) {
        let slen = snaps.length;
        for (let i = 0; i < slen; i += 2) {
            this.snapDb.remove([snaps[i], snaps[i + 1]]);
        }
    }
    unregisterComponent(comp) {
        if (comp._snaps) {
            this.unregisterSnapPoints(comp._snaps);
            comp._snaps = undefined;
        }
        if (comp._treeId !== undefined) {
            this.aabbTree.destroyProxy(comp._treeId);
            comp._treeId = undefined;
        }
    }
    updateComponent(comp) {
        this.unregisterComponent(comp);
        if (comp.shape === undefined)
            return;
        comp._treeId = this.aabbTree.createProxy(shapeToAabb(comp.shape), comp);
        if (comp.snapEnabled) {
            comp._snaps = shapeToSnaps(comp.shape);
            this.registerSnapPoints(comp._snaps);
        }
    }
    onComponentAdd(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.updateComponent(comp);
    }
    onComponentEdited(comp, changed) {
        if (comp.type === INTERACTION_TYPE) {
            let c = comp;
            if ('shape' in changed) {
                this.updateComponent(c);
            }
        }
        else if (comp.type === 'position') {
            let pos = comp;
            let inter = this.storage.getComponent(pos.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let oldX = changed.x !== undefined ? changed.x : pos.x;
            let oldY = changed.y !== undefined ? changed.y : pos.y;
            let diffX = pos.x - oldX;
            let diffY = pos.y - oldY;
            if (diffX !== 0 || diffY !== 0) {
                // TODO: trigger component change(?)
                shapeTranslate(inter.shape, diffX, diffY);
                if (!(this.isTranslating && this.selectionSys.selectedEntities.has(pos.entity))) {
                    this.updateComponent(inter);
                }
            }
            return;
        }
        else if (comp.type === 'transform') {
            let trans = comp;
            let inter = this.storage.getComponent(trans.entity);
            if (inter === undefined || inter.shape === undefined)
                return;
            let shape = inter.shape;
            if (shape.type === ShapeType.POINT)
                return;
            if (shape.type === ShapeType.CIRCLE) {
                let s = shape;
                if ('scale' in changed) {
                    s.radius = s.radius * trans.scale / changed.scale;
                    this.updateComponent(inter);
                }
            }
            else if (shape.type === ShapeType.OBB) {
                let s = shape;
                if ('scale' in changed) {
                    let diffScale = trans.scale / changed.scale;
                    s.data.unrotated.scale(diffScale, diffScale, s.data.unrotated);
                }
                s.data.rotation = trans.rotation;
                s.data.recompute();
                this.updateComponent(inter);
            }
            else {
                console.warn("Unable to auto-rotate other shapes than OBB, watch your components!");
                return;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type !== INTERACTION_TYPE)
            return;
        this.unregisterComponent(comp);
    }
    onToolMoveBegin() {
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.unregisterComponent(c);
        }
        this.isTranslating = true;
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        for (let comp of this.selectionSys.getSelectedByType(INTERACTION_TYPE)) {
            let c = comp;
            this.updateComponent(c);
        }
    }
    singleHitQuery(shape, event) {
        let bestPrior = Number.NEGATIVE_INFINITY;
        let best = -1;
        let iter = this.queryVisible(shape, (c) => (c.selectPriority || 0) > bestPrior);
        for (let item of iter) {
            best = item.entity;
            bestPrior = item.selectPriority || 0;
        }
        if (best !== -1) {
            event.addHit(best, bestPrior);
        }
    }
    multiHitQuery(shape, event) {
        let iter = this.queryVisible(shape, (c) => c.selectPriority !== undefined);
        for (let item of iter) {
            event.addHit(item.entity, item.selectPriority);
            if (!event.shouldContinue())
                return;
        }
    }
    onQueryHit(event) {
        if (!event.shouldContinue())
            return;
        let shape;
        switch (event.type) {
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.POINT:
                shape = shapeCircle(event.data, 20);
                break;
            //case GeomertyQueryType.POINT: shape = shapePoint(event.data as PIXI.IPointData); break; // ENABLE THIS FOR POINT-PRECISION CLICKING
            case _interaction__WEBPACK_IMPORTED_MODULE_6__.GeomertyQueryType.AABB:
                shape = shapeAabb(event.data);
                break;
            default: throw new Error('Unknown query type');
        }
        if (event.multi) {
            this.multiHitQuery(shape, event);
        }
        else {
            this.singleHitQuery(shape, event);
        }
    }
    queryVisible(shape, preCheck) {
        let playerVis = undefined;
        if (!this.world.isMaster) {
            playerVis = this.world.storages.get('player_visible');
        }
        if (playerVis === undefined)
            return this.query(shape, preCheck);
        return this.query(shape, c => {
            let visC = playerVis.getComponent(c.entity);
            if (visC !== undefined && !visC.visible)
                return false;
            return preCheck === undefined ? true : preCheck(c);
        });
    }
    *query(shape, preCheck) {
        let aabb = shapeToAabb(shape);
        for (let c of this.aabbTree.query(aabb)) {
            let tag = c.tag;
            if (preCheck && !preCheck(tag))
                continue;
            if (!shapeIntersect(tag.shape, shape))
                continue;
            let qc = tag.queryCheck;
            if (qc && !qc(shape))
                continue;
            yield tag;
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/keyboardSystem.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/back/keyboardSystem.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KEYBOARD_KEY_UP": () => (/* binding */ KEYBOARD_KEY_UP),
/* harmony export */   "KEYBOARD_KEY_DOWN": () => (/* binding */ KEYBOARD_KEY_DOWN),
/* harmony export */   "KEYBOARD_TYPE": () => (/* binding */ KEYBOARD_TYPE),
/* harmony export */   "WEB_KEYBOARD_TYPE": () => (/* binding */ WEB_KEYBOARD_TYPE),
/* harmony export */   "WebKeyboardSystem": () => (/* binding */ WebKeyboardSystem)
/* harmony export */ });
const KEYBOARD_KEY_UP = 'keyboard_key_up';
const KEYBOARD_KEY_DOWN = 'keyboard_key_down';
const KEYBOARD_TYPE = 'keyboard';
const WEB_KEYBOARD_TYPE = 'web_keyboard';
class WebKeyboardSystem {
    constructor(world) {
        this.dependencies = [];
        this.name = WEB_KEYBOARD_TYPE;
        this.provides = [KEYBOARD_TYPE];
        this.world = world;
        this.keyboard = {
            type: KEYBOARD_TYPE,
            _save: false,
            _sync: false,
            pressedKeys: new Set(),
            shift: false,
            ctrl: false,
        };
        this.world.addResource(this.keyboard);
    }
    onKeyDown(event) {
        if (event.target instanceof HTMLInputElement) {
            return;
        }
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            this.keyboard.pressedKeys.add(key);
            this.world.events.emit(KEYBOARD_KEY_UP, key);
        }
    }
    onKeyUp(event) {
        let edit = {
            shift: event.shiftKey,
            ctrl: event.ctrlKey,
        };
        this.world.editResource(KEYBOARD_TYPE, edit);
        if (event.key) {
            let key = event.key.toLowerCase();
            if (this.keyboard.pressedKeys.delete(key)) {
                this.world.events.emit(KEYBOARD_KEY_DOWN, key);
            }
        }
    }
    onBlur(event) {
        if (this.keyboard.shift || this.keyboard.ctrl) {
            const edit = {
                shift: false, ctrl: false,
            };
            this.world.editResource(KEYBOARD_TYPE, edit);
        }
        let pressedKeys = [...this.keyboard.pressedKeys];
        for (let key of pressedKeys) {
            this.keyboard.pressedKeys.delete(key);
            this.world.events.emit(KEYBOARD_KEY_DOWN, key);
        }
    }
    enable() {
        this.keyDownListener = this.onKeyDown.bind(this);
        document.addEventListener('keydown', this.keyDownListener);
        this.keyUpListener = this.onKeyUp.bind(this);
        document.addEventListener('keyup', this.keyUpListener);
        this.blurListener = this.onBlur.bind(this);
        document.addEventListener('blur', this.blurListener);
    }
    destroy() {
        document.removeEventListener('keydown', this.keyDownListener);
        document.removeEventListener('keyup', this.keyUpListener);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/layerSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/back/layerSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LAYER_TYPE": () => (/* binding */ LAYER_TYPE),
/* harmony export */   "PARENT_LAYER_TYPE": () => (/* binding */ PARENT_LAYER_TYPE),
/* harmony export */   "BACKGROUND_LAYER_TYPE": () => (/* binding */ BACKGROUND_LAYER_TYPE),
/* harmony export */   "SELECTED_LAYER_TYPE": () => (/* binding */ SELECTED_LAYER_TYPE),
/* harmony export */   "LayerSystem": () => (/* binding */ LayerSystem),
/* harmony export */   "findForeground": () => (/* binding */ findForeground)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




const LAYER_TYPE = "layer";
const PARENT_LAYER_TYPE = "layer_p";
const BACKGROUND_LAYER_TYPE = "layer_bkg";
const SELECTED_LAYER_TYPE = "layer_sel";
class LayerSystem {
    // TODO: optimize clear
    constructor(world) {
        this.name = LAYER_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [];
        this.layerStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(LAYER_TYPE);
        this.parentStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PARENT_LAYER_TYPE);
        this.layerByName = new Map();
        this.world = world;
        this.backgroundLayer = {
            type: BACKGROUND_LAYER_TYPE,
            entity: -1,
            name: "Background",
            priority: _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__.LayerOrder.BACKGROUND,
            locked: true,
            _save: true,
            _sync: true,
        };
        this.selectedLayer = {
            type: SELECTED_LAYER_TYPE,
            layer: -1,
        };
        world.addStorage(this.layerStorage);
        world.addStorage(this.parentStorage);
        world.addResource(this.backgroundLayer);
        world.addResource(this.selectedLayer);
        const events = world.events;
        events.on('component_add', this.onComponentAdd, this);
        events.on('component_edited', this.onComponentEdited, this);
        events.on('component_remove', this.onComponentRemove, this);
        events.on('resource_edited', this.onResourceEdited, this);
    }
    onLayerEdited(l, edits) {
        if ('name' in edits) {
            let oldName = edits.name;
            if (oldName !== undefined) {
                this.layerByName.delete(oldName);
            }
            if (l.name !== undefined) {
                if (this.layerByName.has(l.name)) {
                    console.warn("Layer name conflict");
                    l.name = undefined;
                    return;
                }
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentAdd(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            if (l.name !== undefined) {
                this.layerByName.set(l.name, l);
            }
        }
    }
    onComponentEdited(c, edited) {
        if (c.type === LAYER_TYPE) {
            this.onLayerEdited(c, edited);
        }
    }
    onComponentRemove(c) {
        if (c.type === LAYER_TYPE) {
            let l = c;
            let cmd = {
                kind: 'despawn',
                entities: [],
            };
            for (let child of this.parentStorage.allComponents()) {
                if (child.layer !== l.entity)
                    continue;
                cmd.entities.push(child.entity);
            }
            if (cmd.entities.length !== 0) {
                (0,_command_command__WEBPACK_IMPORTED_MODULE_1__.commandRegisterPreConsequence)(this.world, cmd);
            }
        }
    }
    onResourceEdited(r, edited) {
        if (r.type === BACKGROUND_LAYER_TYPE) {
            this.onLayerEdited(r, edited);
        }
    }
    getEntityLayer(entity) {
        let cmp = this.parentStorage.getComponent(entity);
        if (cmp === undefined) {
            return this.backgroundLayer;
        }
        let layer = this.layerStorage.getComponent(cmp.layer);
        if (layer === undefined) {
            console.warn("Invalid parent layer of " + cmp.entity + ": " + cmp.layer);
            return this.backgroundLayer;
        }
        return layer;
    }
    getLayerById(id) {
        if (id === -1)
            return this.backgroundLayer;
        let layer = this.layerStorage.getComponent(id);
        if (layer === undefined) {
            console.warn("Invalid layer id: " + id);
            return this.backgroundLayer;
        }
        return layer;
    }
    enable() {
    }
    destroy() {
    }
}
function findForeground(world) {
    let sto = world.getStorage(LAYER_TYPE);
    if (sto === undefined)
        return -1;
    for (let x of sto.getComponents()) {
        return x.entity; // There's only 1 layer for now (foreground)
    }
    // If it's not present we need to create it
    let cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__.SpawnCommandKind.from(world, [{
            type: LAYER_TYPE,
            name: 'Foreground',
            priority: _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_2__.LayerOrder.FOREGROUND,
            locked: false,
        }]);
    (0,_command_command__WEBPACK_IMPORTED_MODULE_1__.emitCommand)(world, cmd, true);
    return cmd.data.entities[0];
}


/***/ }),

/***/ "./src/app/ecs/systems/back/linkRelocationSystem.ts":
/*!**********************************************************!*\
  !*** ./src/app/ecs/systems/back/linkRelocationSystem.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LINK_RELOCATION_TYPE": () => (/* binding */ LINK_RELOCATION_TYPE),
/* harmony export */   "LinkRelocationSystem": () => (/* binding */ LinkRelocationSystem)
/* harmony export */ });
const LINK_RELOCATION_TYPE = 'link_relocation';
class LinkRelocationSystem {
    constructor(world) {
        this.dependencies = [];
        this.name = LINK_RELOCATION_TYPE;
        this.links = new Map();
        this.world = world;
        world.events.on('serialized', this.onSerialized, this);
        world.events.on('deserialize', this.onDeserialize, this);
    }
    addLink(storageName, path) {
        const paths = path.split('.');
        let storageData = this.links.get(storageName);
        if (storageData === undefined) {
            storageData = [];
            this.links.set(storageName, storageData);
        }
        storageData.push(paths);
    }
    adjustLink(mapping, obj, name) {
        if (obj[name] === undefined || typeof obj[name] !== 'number')
            return;
        let newId = mapping(obj[name]);
        if (newId > 0) {
            obj[name] = newId;
        }
    }
    foreachPathObj(baseObj, path, then) {
        const explore = (obj, i) => {
            if (obj === undefined)
                return;
            const p = path[i];
            if (i === path.length - 1) {
                then(obj, p);
                return;
            }
            if (p == '*') {
                for (let name in obj) {
                    explore(obj[name], i + 1);
                }
            }
            else {
                explore(obj[p], i + 1);
            }
        };
        explore(baseObj, 0);
    }
    adjustSerializedPaths(mapping, world) {
        for (let [sname, sdata] of this.links.entries()) {
            const storage = world.storages[sname];
            if (storage === undefined)
                continue;
            for (let entityId in storage) {
                const obj = storage[entityId];
                for (let path of sdata) {
                    this.foreachPathObj(obj, path, (o, n) => this.adjustLink(mapping, o, n));
                }
            }
        }
    }
    onSerialized(data) {
        if (!data.options.remap)
            return;
        this.adjustSerializedPaths(data.entityMapping, data.result);
    }
    onDeserialize(data) {
        if (!data.options.remap)
            return;
        this.adjustSerializedPaths(data.entityMapping, data.data);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/nameAsLabelSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/nameAsLabelSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NAME_AS_LABEL_TYPE": () => (/* binding */ NAME_AS_LABEL_TYPE),
/* harmony export */   "NameAsLabelSystem": () => (/* binding */ NameAsLabelSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




const NAME_AS_LABEL_TYPE = 'name_as_label';
class NameAsLabelSystem {
    constructor(world) {
        this.name = NAME_AS_LABEL_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(NAME_AS_LABEL_TYPE, false, false);
        this.isMasterView = true;
        this.world = world;
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    onComponentAdd(c) {
        if (c.type === NAME_AS_LABEL_TYPE) {
            this.updateElement(c);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE) {
            const comp = this.storage.getComponent(c.entity);
            if (comp !== undefined)
                this.updateElement(comp);
        }
    }
    onComponentEdited(c) {
        if (c.type === NAME_AS_LABEL_TYPE) {
            this.updateElement(c);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE) {
            const comp = this.storage.getComponent(c.entity);
            if (comp !== undefined)
                this.updateElement(comp);
        }
    }
    onComponentRemoved(c) {
        if (c.type === NAME_AS_LABEL_TYPE) {
            if (this.world.isDespawning.includes(c.entity))
                return;
            const g = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE);
            if (g === undefined)
                return;
            for (let elem of (g.display.children || [])) {
                if (elem.tag !== 'name')
                    continue;
                if (g.display._childrenRemove === undefined)
                    g.display._childrenRemove = [];
                g.display._childrenRemove.push(elem);
                break;
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE) {
            const comp = this.storage.getComponent(c.entity);
            if (comp !== undefined)
                this.updateElement(comp);
        }
    }
    onResourceEdited(res, edited) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_3__.LOCAL_LIGHT_SETTINGS_TYPE && 'visionType' in edited) {
            this.isMasterView = res.visionType !== 'rp';
            for (let c of this.storage.allComponents()) {
                this.updateElement(c);
            }
        }
    }
    updateElement(c) {
        let dis = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE);
        if (dis === undefined) {
            console.warn("Error, found text_as_label component on an element withot a graphic type," +
                "please first create your graphic type, then add a text_as_label component");
            dis = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_1__.GRAPHIC_TYPE,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_1__.ElementType.CONTAINER,
                    ignore: false,
                    priority: 0,
                },
                interactive: false,
            };
            this.world.addComponent(c.entity, dis);
        }
        const nameStorage = this.world.getStorage(_component__WEBPACK_IMPORTED_MODULE_2__.NAME_TYPE);
        let compositeName = '';
        for (let name of nameStorage.getComponents(c.entity)) {
            if (name.name === '')
                continue;
            if (!this.isMasterView && name.clientVisible === false)
                continue;
            if (compositeName !== '')
                compositeName += '\n';
            compositeName += name.name;
        }
        this.updateElement0(c, dis, compositeName);
    }
    updateElement0(e, graphic, names) {
        const display = graphic.display;
        let elem = undefined;
        // Search element
        for (let c of (display.children || [])) {
            if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_1__.ElementType.TEXT && c.tag === 'name') {
                elem = c;
                break;
            }
        }
        // Or create one
        if (elem === undefined) {
            elem = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_1__.ElementType.TEXT,
                tag: 'name',
                ignore: false,
                priority: 0,
                color: 0,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_1__.VisibilityType.NORMAL,
                text: '',
                anchor: { x: 0.5, y: 1 },
                lineAlign: 'center',
            };
            if (display._childrenAdd === undefined)
                display._childrenAdd = [];
            display._childrenAdd.push(elem);
        }
        elem.offset = e.initialOffset;
        elem.text = names;
        this.world.editComponent(graphic.entity, graphic.type, { display: graphic.display }, undefined, false);
    }
    enable() {
        var _a;
        this.isMasterView = ((_a = this.world.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_3__.LOCAL_LIGHT_SETTINGS_TYPE)) === null || _a === void 0 ? void 0 : _a.visionType) !== 'rp';
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/networkSystem.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/systems/back/networkSystem.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NETWORK_TYPE": () => (/* binding */ NETWORK_TYPE),
/* harmony export */   "NETWORK_ENTITY_TYPE": () => (/* binding */ NETWORK_ENTITY_TYPE),
/* harmony export */   "NETWORK_STATUS_TYPE": () => (/* binding */ NETWORK_STATUS_TYPE),
/* harmony export */   "CommonNetworkSystem": () => (/* binding */ CommonNetworkSystem),
/* harmony export */   "HOST_NETWORK_TYPE": () => (/* binding */ HOST_NETWORK_TYPE),
/* harmony export */   "HostNetworkSystem": () => (/* binding */ HostNetworkSystem),
/* harmony export */   "CLIENT_NETWORK_TYPE": () => (/* binding */ CLIENT_NETWORK_TYPE),
/* harmony export */   "ClientNetworkSystem": () => (/* binding */ ClientNetworkSystem)
/* harmony export */ });
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");



const NETWORK_TYPE = 'network';
const NETWORK_ENTITY_TYPE = 'network_entity';
const NETWORK_STATUS_TYPE = 'network_status';
class CommonNetworkSystem {
    constructor(world, channel) {
        this.name = NETWORK_TYPE;
        this.dependencies = [];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(NETWORK_ENTITY_TYPE, true, false);
        this.channel = channel;
        this.world = world;
        this.world.addStorage(this.storage);
        this.res = {
            type: NETWORK_STATUS_TYPE,
            connectionCount: 0,
            trackerCount: this.channel.discovery.connectedTrackers,
            isBuffering: false,
            entityIndex: new Map(),
            _save: false,
            _sync: false,
        };
        world.addResource(this.res);
        this.channel.events.on('tracker_connections', trackerCount => {
            this.world.editResource(this.res.type, {
                trackerCount,
            });
        });
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('populate', this.onPopulate, this);
        if (world.isMaster) {
            world.addSystem(new HostNetworkSystem(world, channel));
        }
        else {
            world.addSystem(new ClientNetworkSystem(world, channel));
        }
    }
    onComponentAdd(c) {
        if (c.type === NETWORK_ENTITY_TYPE) {
            const comp = c;
            this.res.entityIndex.set(comp.networkId, comp.entity);
        }
    }
    onComponentRemove(c) {
        if (c.type === NETWORK_ENTITY_TYPE) {
            const comp = c;
            this.res.entityIndex.delete(comp.networkId);
        }
    }
    onPopulate() {
        this.res.myId = this.channel.myId;
        if (this.world.isMaster) {
            this.spawnDeviceEntity(this.res.myId);
            for (let pid of this.channel.connections.keys()) {
                this.spawnDeviceEntity(pid);
            }
        }
    }
    updateConnectionCount() {
        const connectionCount = this.channel.connections.size;
        this.world.editResource(NETWORK_STATUS_TYPE, { connectionCount });
    }
    spawnDeviceEntity(peerId) {
        const cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_2__.SpawnCommandKind.from(this.world, [
            {
                type: NETWORK_ENTITY_TYPE,
                networkId: peerId,
                color: Math.floor(Math.random() * 0xFFFFFF),
            }
        ]);
        (0,_command_command__WEBPACK_IMPORTED_MODULE_0__.emitCommand)(this.world, cmd, true);
    }
    onDeviceJoin(connId) {
        this.updateConnectionCount();
        if (this.world.isMaster) {
            this.spawnDeviceEntity(connId);
        }
    }
    onDeviceLeave(connId) {
        this.updateConnectionCount();
        if (this.world.isMaster) {
            const eid = this.res.entityIndex.get(connId);
            if (eid === undefined) {
                console.warn("Device " + connId + " had no associated entity");
                return;
            }
            const cmd = {
                kind: 'despawn',
                entities: [eid],
            };
            this.world.events.emit('command_emit', cmd);
        }
    }
    onDeviceBufferUpdate() {
        // TODO: buffering
        const isBuffering = false; // this.channel.bufferingChannels > 0;
        this.world.editResource(NETWORK_STATUS_TYPE, { isBuffering });
    }
    isOnline() {
        return this.channel.connections.size !== 0;
    }
    enable() {
        let chEvents = this.channel.events;
        chEvents.on('device_join', this.onDeviceJoin, this);
        chEvents.on('device_left', this.onDeviceLeave, this);
        chEvents.on('buffering_update', this.onDeviceBufferUpdate, this);
        //this.channel.events.on('message', x => console.log("RECEIVED: " + JSON.stringify(x)));
    }
    destroy() {
        let chEvents = this.channel.events;
        chEvents.off('device_join', this.onDeviceJoin, this);
        chEvents.off('device_left', this.onDeviceLeave, this);
        chEvents.off('buffering_update', this.onDeviceBufferUpdate, this);
    }
}
const HOST_NETWORK_TYPE = 'host_network';
class HostNetworkSystem {
    constructor(world, ch) {
        this.name = HOST_NETWORK_TYPE;
        this.dependencies = [];
        this.world = world;
        this.channel = ch;
        this.world.events.on('command_share', this.onCommandShare, this);
    }
    // ---------------------------------- EVENT LISTENERS ----------------------------------
    onDeviceJoin(chId) {
        this.channel.send({
            type: "ecs_bootstrap",
            payload: this.world.serialize({
                requireSync: true,
                stripClient: true,
                resources: true,
            }),
        }, chId);
    }
    onCommandPacket(pkt, info) {
        const sender = info.senderId;
        for (let cmd of pkt.data) {
            if (!this.checkCommand(sender, cmd))
                continue;
            this.world.events.emit("command_emit", cmd, false);
        }
    }
    checkCommand(sender, command) {
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    onCommandShare(command) {
        if (command.length === 0)
            return;
        this.channel.broadcast({
            type: 'cmd',
            data: command,
        });
    }
    enable() {
        this.channel.events.on('device_join', this.onDeviceJoin, this);
        this.channel.packets.on('cmd', this.onCommandPacket, this);
        this.world.editResource(NETWORK_STATUS_TYPE, { isBootstrapDone: true });
    }
    destroy() {
        this.channel.events.off('device_join', this.onDeviceJoin, this);
        this.channel.packets.off('cmd', this.onCommandPacket, this);
    }
}
const CLIENT_NETWORK_TYPE = 'client_network';
class ClientNetworkSystem {
    constructor(ecs, channel) {
        this.name = CLIENT_NETWORK_TYPE;
        this.dependencies = [];
        this.world = ecs;
        this.channel = channel;
    }
    onEcsBootstrap(packet, info) {
        if (info.senderId !== 0)
            return; // Only admin
        this.world.clear();
        this.world.deserialize(packet.payload, {});
        this.world.editResource(NETWORK_STATUS_TYPE, { isBootstrapDone: true });
        this.world.events.emit('focus_on_random_party');
    }
    onCmd(packet, info) {
        for (let cmd of packet.data) {
            if (!this.checkCommand(info.senderId, cmd))
                continue;
            this.world.events.emit("command_emit", cmd);
        }
    }
    onDeviceLeave(connId) {
        this.world.editResource(NETWORK_STATUS_TYPE, { isBootstrapDone: false });
    }
    checkCommand(sender, command) {
        if (sender === 0)
            return true;
        console.warn("Received command from non-admin: ", command);
        return false;
    }
    enable() {
        let packets = this.channel.packets;
        packets.on('ecs_bootstrap', this.onEcsBootstrap, this);
        packets.on('cmd', this.onCmd, this);
        let chEvents = this.channel.events;
        chEvents.on('device_left', this.onDeviceLeave, this);
    }
    destroy() {
        let packets = this.channel.packets;
        packets.off('ecs_bootstrap', this.onEcsBootstrap, this);
        packets.off('cmd', this.onCmd, this);
        let chEvents = this.channel.events;
        chEvents.off('device_left', this.onDeviceLeave, this);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiBoardSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiBoardSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointerEvents": () => (/* binding */ PointerEvents),
/* harmony export */   "BOARD_TRANSFORM_TYPE": () => (/* binding */ BOARD_TRANSFORM_TYPE),
/* harmony export */   "BOARD_SIZE_TYPE": () => (/* binding */ BOARD_SIZE_TYPE),
/* harmony export */   "PIXI_BOARD_TYPE": () => (/* binding */ PIXI_BOARD_TYPE),
/* harmony export */   "PixiBoardSystem": () => (/* binding */ PixiBoardSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* harmony import */ var _keyboardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");







var PointerEvents;
(function (PointerEvents) {
    PointerEvents["POINTER_MOVE"] = "pointer_move";
    PointerEvents["POINTER_DOWN"] = "pointer_down";
    PointerEvents["POINTER_UP"] = "pointer_up";
    PointerEvents["POINTER_RIGHT_DOWN"] = "pointer_right_down";
    PointerEvents["POINTER_RIGHT_UP"] = "pointer_right_up";
    PointerEvents["POINTER_CLICK"] = "pointer_click";
})(PointerEvents || (PointerEvents = {}));
const BOARD_TRANSFORM_TYPE = 'board_transform';
const BOARD_SIZE_TYPE = 'board_size';
const PIXI_BOARD_TYPE = 'pixi_board';
class PixiBoardSystem {
    constructor(world) {
        this.name = PIXI_BOARD_TYPE;
        this.dependencies = [];
        this.pointers = new Map();
        this.mouseLastX = 0;
        this.mouseLastY = 0;
        this.isDraggingBoard = false;
        this.world = world;
        this.world.events.on('req_board_center', this.centerBoard, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        this.world.events.on(_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_KEY_DOWN, this.onKeyDown, this);
        this.world.addResource({
            type: BOARD_TRANSFORM_TYPE,
            _save: true,
            _sync: false,
            posX: 0,
            posY: 0,
            scaleX: 1,
            scaleY: 1,
        });
        this.world.addResource({
            type: BOARD_SIZE_TYPE,
            _save: false,
            _sync: false,
            width: 100,
            height: 100,
        });
        // We cannot work without webgl
        _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
        this.renderer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Renderer({
            backgroundColor: _lightSystem__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_BACKGROUND,
        });
        (0,_util_pixi__WEBPACK_IMPORTED_MODULE_4__.addCustomBlendModes)(this.renderer);
        this.renderer.view.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        this.ticker = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Ticker();
        this.root = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Stage();
        this.root.interactive = false;
        this.root.interactiveChildren = false;
        this.root.sortableChildren = true;
        this.root.group.enableSort = true;
        this.root.interactive = true;
        this.root.hitArea = {
            contains(x, y) {
                return true;
            }
        };
        this.ticker.add(() => {
            this.renderer.render(this.root);
        }, _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].UPDATE_PRIORITY.LOW);
        // TODO: we should create render phases, one for the world (using the projection matrix to move the camera)
        //       and the other for the GUI (or other things that do not depend on camera position, as the GridSystem(?)).
        //       to create a custom game loop: https://github.com/pixijs/pixi.js/wiki/v5-Custom-Application-GameLoop
        this.board = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Container();
        this.board.interactive = false;
        this.board.interactiveChildren = false;
        this.board.position.set(0, 0);
        this.board.sortableChildren = true;
        this.toolForegroundGroup = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_6__.LayerOrder.TOOLS, false);
        const toolLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Layer(this.toolForegroundGroup);
        toolLayer.interactive = false;
        toolLayer.interactiveChildren = false;
        this.root.addChild(toolLayer);
        this.root.addChild(this.board);
    }
    onKeyDown(key) {
        let keyboard = this.world.getResource(_keyboardSystem__WEBPACK_IMPORTED_MODULE_3__.KEYBOARD_TYPE);
        if (keyboard === undefined)
            return;
        let ctrl = keyboard.ctrl;
        let shift = keyboard.shift;
        let event_name = undefined;
        if (ctrl) {
            switch (key) {
                case 'z':
                    if (shift)
                        event_name = 'command_redo';
                    else
                        event_name = 'command_undo';
                    break;
                case 'y':
                    event_name = 'command_redo';
                    break;
            }
        }
        else {
            switch (key) {
                case 'delete':
                    event_name = 'delete';
                    break;
            }
        }
        if (event_name !== undefined) {
            this.world.events.emit(event_name);
        }
    }
    toGeneralEvent(pixi) {
        const boardPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.getBoardPosFromOrigin)(this.world, pixi);
        let hoveredCache = undefined;
        const entitiesHovered = () => {
            if (hoveredCache === undefined) {
                hoveredCache = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.findEntitiesAt)(this.world, boardPos, true);
            }
            return hoveredCache;
        };
        return {
            globalPos: pixi.data.global,
            boardPos,
            pointerId: pixi.data.pointerId,
            pointerType: pixi.data.pointerType,
            originalEvent: pixi.data.originalEvent,
            entitiesHovered,
        };
    }
    canBecomeClick(pdata, p) {
        let now = Date.now();
        let timeDiff = now - (this.lastMouseDownTime || 0);
        let diffX = p.x - pdata.firstX;
        let diffY = p.y - pdata.firstY;
        let diffPos = Math.sqrt(diffX * diffX + diffY * diffY);
        return diffPos < 5 && timeDiff < 500;
    }
    zoom(dScale, centerX, centerY) {
        const minScale = 0.05;
        const maxScale = 3;
        if (this.board.scale.x < minScale && dScale < 1 || this.board.scale.x > maxScale && dScale > 1)
            return;
        // Before scaling adjust the position:
        // Takes the vector that goes from the board position (upper-left) to the cursor.
        // Apply the dScale factor to that vector and find the new board position.
        // Finally, the cursor position plus the vector obtained is the new board position.
        let padX = this.board.position.x - centerX;
        let padY = this.board.position.y - centerY;
        padX *= dScale;
        padY *= dScale;
        const position = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(padX + centerX, padY + centerY);
        const scale = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(this.board.scale.x * dScale, this.board.scale.y * dScale);
        // TODO
        /*if (this.board.isBoardLost(position, scale)) {
            console.log("You can't no more scale in this direction, you're loosing the board!");
            return;
        }*/
        this.world.editResource(BOARD_TRANSFORM_TYPE, {
            posX: position.x,
            posY: position.y,
            scaleX: scale.x,
            scaleY: scale.y,
        });
    }
    /**
     * Function called when the mouse scrolls.
     * The map is zoomed in and out based on the scroll direction.
     */
    onMouseWheel(event) {
        const scalingSpeed = 0.1;
        const dScale = 1 - Math.sign(event.deltaY) * scalingSpeed;
        this.zoom(dScale, event.clientX, event.clientY);
    }
    onPointerDown(event) {
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            let prde = this.toGeneralEvent(event);
            prde.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_RIGHT_DOWN, prde);
            return;
        }
        let pos = event.data.global;
        this.pointers.set(event.data.pointerId, {
            firstX: pos.x,
            firstY: pos.y,
            lastX: pos.x,
            lastY: pos.y,
        });
        this.lastMouseDownTime = Date.now();
        let e = this.toGeneralEvent(event);
        e.consumed = false;
        e.consumeDragBoard = false;
        if (event.data.pointerType === 'mouse' && event.data.button === 1) {
            // If middle button is pressed ignore, we force it to drag the board
            // (and prevent the paste event)
            event.data.originalEvent.preventDefault();
            event.data.originalEvent.stopPropagation();
            e.consumeDragBoard = true; // middle click to drag is always enabled
        }
        else {
            this.world.events.emit(PointerEvents.POINTER_DOWN, e);
        }
        if (e.consumeDragBoard && this.pointers.size === 1) {
            this.isDraggingBoard = true;
        }
    }
    onPointerUp(event, isInside = true) {
        const e = this.toGeneralEvent(event);
        e.isInside = isInside;
        if (event.data.pointerType === 'mouse' && event.data.button === 2) {
            // Right button
            this.world.events.emit(PointerEvents.POINTER_RIGHT_UP, e);
        }
        else if (event.data.pointerType === 'mouse' && event.data.button === 1) {
            // If middle button is pressed ignore, we force it to drag the board
            // (and prevent the paste event)
            event.data.originalEvent.preventDefault();
            event.data.originalEvent.stopPropagation();
            // of course every browser ignores the preventDefault so we have to ignore it ourself
            this.world.events.emit('ignore_next_paste');
        }
        let pdata = this.pointers.get(event.data.pointerId);
        if (pdata === undefined)
            return;
        this.pointers.delete(event.data.pointerId);
        if (this.lastMouseDownTime === undefined)
            return;
        if (this.pointers.size === 0) {
            this.isDraggingBoard = false;
            let isClick = this.canBecomeClick(pdata, event.data.global);
            let pue = e;
            pue.lastPosition = {
                x: pdata.lastX,
                y: pdata.lastY
            };
            pue.isClick = isClick;
            pue.consumed = false;
            this.world.events.emit(PointerEvents.POINTER_UP, pue);
            if (isClick) {
                let pce = pue;
                this.world.events.emit(PointerEvents.POINTER_CLICK, pce);
            }
        }
    }
    onPointerUpOutside(event) {
        this.onPointerUp(event, false);
    }
    /** Function called when the cursor moves around the map. */
    onPointerMove(e) {
        let pos = e.data.global;
        let event = this.toGeneralEvent(e);
        // TODO: magnet snap system
        let localPos = (0,_tools_utils__WEBPACK_IMPORTED_MODULE_2__.snapPoint)(this.world, event.boardPos);
        this.updatePointerFollowers(localPos);
        let pdata = this.pointers.get(e.data.pointerId);
        if (this.pointers.size <= 1 && !this.isDraggingBoard) {
            let pme = event;
            pme.lastPosition = {
                x: this.mouseLastX, y: this.mouseLastY,
            };
            pme.canBecomeClick = pdata === undefined ? false : this.canBecomeClick(pdata, pos);
            this.world.events.emit(PointerEvents.POINTER_MOVE, pme);
            this.mouseLastX = pos.x;
            this.mouseLastY = pos.y;
        }
        if (pdata === undefined)
            return;
        if (this.pointers.size === 1) { // Move
            if (this.isDraggingBoard) {
                const newPosX = this.board.position.x + (pos.x - pdata.lastX);
                const newPosY = this.board.position.y + (pos.y - pdata.lastY);
                /*if (this.board.isBoardLost(new PIXI.Point(newPosX, newPosY), this.scale)) {
                    //console.log("You can't go further than this, you'll loose the board!");
                    return;
                }*/
                this.world.editResource(BOARD_TRANSFORM_TYPE, {
                    posX: newPosX,
                    posY: newPosY,
                });
            }
        }
        let firstDist = 0;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            firstDist = Math.sqrt(dx * dx + dy * dy);
        }
        pdata.lastX = pos.x;
        pdata.lastY = pos.y;
        if (this.pointers.size === 2) {
            let [pa, pb] = this.pointers.values();
            let dx = pa.lastX - pb.lastX;
            let dy = pa.lastY - pb.lastY;
            let secondDist = Math.sqrt(dx * dx + dy * dy);
            let center = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point((pa.lastX + pb.lastX) / 2, (pa.lastY + pb.lastY) / 2);
            this.zoom((secondDist / firstDist), center.x, center.y);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type !== BOARD_TRANSFORM_TYPE)
            return;
        let t = res;
        this.board.position.set(t.posX, t.posY);
        this.board.scale.set(t.scaleX, t.scaleY);
    }
    updatePointerFollowers(point) {
        for (let c of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE).allComponents()) {
            this.world.editComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE, {
                x: point.x,
                y: point.y,
            });
        }
    }
    /**
     * Make the board's center and the window's center overlap.
     * This way the initial board position is centered to the root card.
     */
    centerBoard() {
        let boardScreenWidth = this.renderer.width;
        let boardScreenHeight = this.renderer.height;
        let screenMidPointWidth = boardScreenWidth / 2;
        let screenMidPointHeight = boardScreenHeight / 2;
        let bounds = this.board.getBounds();
        this.board.position.set(screenMidPointWidth - bounds.x - bounds.width / 2, screenMidPointHeight - bounds.y - bounds.height / 2);
    }
    applyCanvasStyle(canvas) {
        const s = canvas.style;
        s.width = "100%";
        s.height = "100%";
    }
    resize() {
        if (this.resizeReqId !== undefined)
            return;
        this.resizeReqId = requestAnimationFrame(this.doResize.bind(this));
    }
    doResize() {
        if (this.resizeReqId !== undefined) {
            this.resizeReqId = undefined;
        }
        let { clientWidth, clientHeight } = this.renderer.view;
        this.renderer.resize(clientWidth, clientHeight);
        this.world.editResource(BOARD_SIZE_TYPE, {
            width: clientWidth,
            height: clientHeight,
        });
    }
    enable() {
        const canvas = this.renderer.view;
        this.applyCanvasStyle(canvas);
        let cnt = document.getElementById('canvas-container');
        if (cnt === null) {
            throw new Error("Cannot find canvas container");
        }
        cnt.appendChild(canvas);
        // PIXI
        this.root.on("pointermove", this.onPointerMove, this);
        this.root.on("pointerdown", this.onPointerDown, this);
        this.root.on("pointerup", this.onPointerUp, this);
        this.root.on("pointerupoutside", this.onPointerUpOutside, this);
        this.wheelListener = this.onMouseWheel.bind(this);
        canvas.addEventListener("wheel", this.wheelListener);
        this.resizeListener = this.resize.bind(this);
        window.addEventListener("resize", this.resizeListener);
        this.resize();
        this.ticker.start();
    }
    destroy() {
        this.ticker.stop();
        window.removeEventListener("resize", this.resizeListener);
        this.root.off("pointermove", this.onPointerMove, this);
        this.root.off("pointerdown", this.onPointerDown, this);
        this.root.off("pointerup", this.onPointerUp, this);
        this.root.off("pointerupoutside", this.onPointerUpOutside, this);
        this.renderer.view.removeEventListener('wheel', this.wheelListener);
        let cnt = document.getElementById('canvas-container');
        cnt === null || cnt === void 0 ? void 0 : cnt.removeChild(this.renderer.view);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiGraphicSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiGraphicSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REMEMBER_TYPE": () => (/* binding */ REMEMBER_TYPE),
/* harmony export */   "POINT_RADIUS": () => (/* binding */ POINT_RADIUS),
/* harmony export */   "PIXI_GRAPHIC_TYPE": () => (/* binding */ PIXI_GRAPHIC_TYPE),
/* harmony export */   "PixiGraphicSystem": () => (/* binding */ PixiGraphicSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_bitSet__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/bitSet */ "./src/app/util/bitSet.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_obb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/obb */ "./src/app/geometry/obb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _textSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./textSystem */ "./src/app/ecs/systems/back/textSystem.ts");
/* harmony import */ var _visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");



















const REMEMBER_TYPE = 'remember';
var VisibListenerLevel;
(function (VisibListenerLevel) {
    VisibListenerLevel[VisibListenerLevel["NOT_NEEDED"] = 0] = "NOT_NEEDED";
    VisibListenerLevel[VisibListenerLevel["REMEMBER"] = 1] = "REMEMBER";
    VisibListenerLevel[VisibListenerLevel["PERSISTENT"] = 2] = "PERSISTENT";
})(VisibListenerLevel || (VisibListenerLevel = {}));
function lerpColor(a, b, t) {
    let tr = ((a >> 16) & 0xFF) * (1 - t) + ((b >> 16) & 0xFF) * t;
    let tg = ((a >> 8) & 0xFF) * (1 - t) + ((b >> 8) & 0xFF) * t;
    let tb = (a & 0xFF) * (1 - t) + (b & 0xFF) * t;
    return tr << 16 | tg << 8 | tb;
}
const POINT_RADIUS = 12;
const PIXI_GRAPHIC_TYPE = 'pixi_graphic';
/**
 * Manages:
 * - Drawing elements
 * - Selection highlighting
 * - Element visibility/remembering
 * - Layer ordering
 * - Position/Translation updates
 * - Bit-by-bit remembering (background discovery)
 * - Interaction setup
 *
 * TODO: we could use a ParticleSystem in some instances
 */
class PixiGraphicSystem {
    constructor(world) {
        this.name = PIXI_GRAPHIC_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__.PIXI_BOARD_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE];
        this.provides = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, false, false);
        this.rememberStorage = new _storage__WEBPACK_IMPORTED_MODULE_1__.FlagEcsStorage(REMEMBER_TYPE, true, true);
        this.renderTexturePool = new pixi_js__WEBPACK_IMPORTED_MODULE_4__.RenderTexturePool();
        this.masterVisibility = false;
        this.world = world;
        this.textSystem = world.systems.get(_textSystem__WEBPACK_IMPORTED_MODULE_17__.TEXT_TYPE);
        this.pixiBoardSystem = world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_16__.PIXI_BOARD_TYPE);
        this.interactionSystem = world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        world.addStorage(this.rememberStorage);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('selection_begin', this.onSelectionBegin, this);
        world.events.on('selection_end', this.onSelectionEnd, this);
        world.events.on(_playerSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_VISIBILITY_SPREAD, this.onBBBVisibilitySpread, this);
        world.events.on('serialize', this.onSerialize, this);
        world.events.on('forget', this.onForget, this);
    }
    onComponentAdd(c) {
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            this.updateVisibilityListener(com);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.world.getComponent(c.entity, REMEMBER_TYPE) !== undefined;
            this.updateElementVisibility(com, com.display, true, !!(pv === null || pv === void 0 ? void 0 : pv.visible), remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === REMEMBER_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            this.updateElementVisibility(com, com.display, true, true, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // TODO: here?
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentEdited(c, changes) {
        var _a;
        let spreadVis = false;
        let com = undefined;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            com = c;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.runMethods(com, com.display); // run delayed methods (like _childrenAdd, _childrenReplace & co).
            this.updateInteractive(com, pos, trans);
            this.updateElement(com, com.display, pos, trans, true);
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.rememberStorage.getComponent(c.entity) !== undefined;
            this.updateElementVisibility(com, com.display, true, (_a = pv === null || pv === void 0 ? void 0 : pv.visible) !== null && _a !== void 0 ? _a : true, remembered);
            com._bitByBit = this.needsBitByBit(com, com.display);
            spreadVis = com._bitByBit;
            if ('interactive' in changes) {
                this.updateInteractive(com, pos, trans);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = c;
            let trans = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = c;
            this.updateElement(com, com.display, pos, trans, true);
            spreadVis = !!com._bitByBit;
        }
        else if (c.type === _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE) {
            let pv = c;
            com = this.storage.getComponent(pv.entity);
            if (com === undefined)
                return;
            let remembered = false;
            if (com._visibListener === VisibListenerLevel.REMEMBER && pv.visible) {
                this.world.addComponent(c.entity, {
                    type: REMEMBER_TYPE,
                    entity: c.entity,
                });
                this.playerSystem.removePlayerVisListener(c.entity);
                remembered = true;
            }
            if (!this.masterVisibility) {
                this.updateElementVisibility(com, com.display, true, pv.visible, remembered);
            }
        }
        if (spreadVis && com !== undefined) {
            this.updateBBBVisAround(com);
        }
    }
    onComponentRemoved(c) {
        var _a;
        if (c.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE) {
            this.destroyElement(c.display, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined)
                return;
            let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            this.updateElement(com, com.display, pos, c, true);
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            let com = this.storage.getComponent(c.entity);
            if (com === undefined || !com._bitByBit)
                return;
            // Now you're visible! say hello
            this.updateBBBVisAround(com);
        }
        else if (c.type === REMEMBER_TYPE && this.world.isDespawning.indexOf(c.entity) < 0) {
            const comp = this.storage.getComponent(c.entity);
            if (comp === undefined)
                return;
            if (comp._visibListener === VisibListenerLevel.REMEMBER) {
                this.playerSystem.addPlayerVisListener(comp.entity, comp.isWall);
                (_a = this.world.systems.get(_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_18__.VISIBILITY_AWARE_TYPE)) === null || _a === void 0 ? void 0 : _a.manualRecomputeWall(comp.entity);
            }
            let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
            let remembered = this.world.getComponent(c.entity, REMEMBER_TYPE) !== undefined;
            this.updateElementVisibility(comp, comp.display, true, !!(pv === null || pv === void 0 ? void 0 : pv.visible), remembered);
        }
    }
    onResourceEdited(res, changes) {
        if (res.type === 'local_light_settings') {
            let set = res;
            if (!('visionType' in changes))
                return;
            if (set.visionType === 'dm') {
                this.masterVisibility = true;
                for (let c of this.storage.allComponents()) {
                    this.updateElementVisibility(c, c.display, true, true, true);
                }
            }
            else if (set.visionType === 'rp') {
                this.masterVisibility = false;
                for (let c of this.storage.allComponents()) {
                    let pv = this.world.getComponent(c.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_VISIBLE_TYPE);
                    let rem = this.rememberStorage.getComponent(c.entity);
                    this.updateElementVisibility(c, c.display, true, pv === null || pv === void 0 ? void 0 : pv.visible, rem !== undefined);
                }
            }
            else {
                throw new Error('Unknown vision type');
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE) {
            if (!('width' in changes))
                return;
            // You are literally satan, I hate you.
            let posSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let tranSto = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            for (let c of this.storage.allComponents()) {
                this.forEachEl(c, c.display, e => {
                    if (e.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && e.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                        let pos = posSto.getComponent(c.entity);
                        let tran = tranSto.getComponent(c.entity);
                        this.updateElement(c, e, pos, tran, false);
                        this.world.editComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, { shape: this.createShape(e, pos, tran) });
                    }
                });
            }
        }
    }
    onSelectionBegin(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = true;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onSelectionEnd(entity) {
        let c = this.storage.getComponent(entity);
        if (c !== undefined) {
            c._selected = false;
            let pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            let trans = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.TRANSFORM_TYPE);
            this.updateElement(c, c.display, pos, trans, true);
        }
    }
    onForget(data) {
        for (let entity of data.entities) {
            const comp = this.storage.getComponent(entity);
            if (comp === undefined)
                continue;
            const rem = this.rememberStorage.getComponent(entity);
            if (rem !== undefined) {
                // We remember this!
                this.world.removeComponent(rem);
                /*let pv = this.world.getComponent(comp.entity, PLAYER_VISIBLE_TYPE) as PlayerVisibleComponent | undefined;
                let remembered = this.rememberStorage.getComponent(comp.entity) !== undefined;
                this.updateElementVisibility(comp, comp.display, true, pv?.visible ?? true, remembered);

                this.updateVisibilityListener(comp);*/
            }
            if (comp._bitByBit) {
                this.doOnBitByBit(comp, comp.display, (img) => {
                    let w = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
                    this.pixiBoardSystem.renderer.render(w, img._renTex, true);
                    img._visMapChanged = true;
                });
                this.updateBBBVisAround(comp);
            }
        }
    }
    onBBBVisibilitySpread(data) {
        let iter = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(data.aabb), c => {
            let com = this.storage.getComponent(c.entity);
            return com !== undefined && com._bitByBit === true;
        });
        for (let c of iter) {
            // If we are here then the component exists, we checked it in the iterator
            let cmp = this.storage.getComponent(c.entity);
            this.doOnBitByBit(cmp, cmp.display, (img) => this.updateBBBVisibility(data, cmp, img));
        }
    }
    onSerialize(data) {
        const changedList = [];
        const processComp = (com) => {
            if (!com._bitByBit)
                return;
            let changed = false;
            this.doOnBitByBit(com, com.display, (img) => changed || (changed = this.extractVisibility(img)));
            if (changed)
                changedList.push(com.entity);
        };
        if (data.options.only !== undefined) {
            for (let entity of data.options.only) {
                const comp = this.storage.getComponent(entity);
                if (comp === undefined)
                    continue;
                processComp(comp);
            }
        }
        else {
            for (let com of this.storage.allComponents()) {
                ;
                processComp(com);
            }
        }
        if (changedList) {
            this.world.events.emit(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, changedList);
        }
    }
    // -------------------------- LISTENERS DONE --------------------------
    updateInteractive(comp, pos, trans) {
        let interactiveCmp = this.world.getComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        if (comp.interactive && interactiveCmp === undefined) {
            this.world.addComponent(comp.entity, {
                type: _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE,
                selectPriority: comp.display.priority,
                snapEnabled: true,
                shape: this.createShape(comp.display, pos, trans),
            });
        }
        else if (!comp.interactive && interactiveCmp !== undefined) {
            this.world.removeComponent(interactiveCmp);
        }
        else if (comp.interactive) {
            // Check for component changes in interactor
            if (comp.display.type === _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE) {
                // If the texture has changed we need to update the interactor.
                let el = comp.display;
                if (el.texture !== el._oldTex) {
                    this.world.editComponent(comp.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, { shape: this.createShape(el, pos, trans) });
                }
            }
        }
    }
    createShape(comp, pos, trans) {
        switch (comp.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                // Only the root element can be made interactive, the others are ignored
                throw new Error('Cannot make interactive container');
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                throw new Error('Cannot make interactive text');
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let c = comp;
                let w = c.texture.width;
                let h = c.texture.height;
                let aabb;
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                if (c.scale == _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(c.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE);
                    let gsize = c.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_11__.Aabb.fromPointAnchor(pos, { x: w, y: h }, c.anchor);
                aabb.scale(sx, sy, aabb);
                let obb = _geometry_obb__WEBPACK_IMPORTED_MODULE_12__.Obb.rotateAabb(aabb.copy(), (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0);
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeObb)(obb);
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let c = comp;
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_13__.Line(pos.x, pos.y, pos.x + c.vec.x, pos.y + c.vec.y));
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                return (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapePoint)(new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Point(pos.x, pos.y));
            }
        }
    }
    /**
     * Extracts visibility from the rendertexture of the image (must be VISBLE_BIT_BY_BIT).
     *
     * @param c the image from which the visibility map will be extracted.
     * @return true only if the visibility map has been modified.
     * @private
     */
    extractVisibility(c) {
        if (c._visMapChanged !== true)
            return false;
        c.visMap = undefined;
        const renderer = this.pixiBoardSystem.renderer;
        const tex = c._renTex;
        if (tex === undefined)
            return false;
        let frame = tex.frame;
        renderer.renderTexture.bind(tex);
        let webglPixels = new Uint8Array(tex.width * tex.height * 4);
        const gl = renderer.gl;
        gl.readPixels(frame.x, frame.y, frame.width, frame.height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
        let fuckLen = webglPixels.length / 4;
        let newLen = ((webglPixels.length / 4 - 1) >>> 5) + 1;
        let target = new Uint32Array(newLen);
        for (let i = 0; i < fuckLen; i++) {
            let pixel = webglPixels[i * 4 + 3];
            if ((pixel & 0x80) !== 0) {
                target[i >>> 5] |= 1 << (i & 0b11111);
            }
        }
        c.visMap = new Uint8Array(target.buffer);
        c._visMapChanged = false;
        return true;
    }
    loadVisibility(c) {
        const width = c.texture.width;
        const height = c.texture.height;
        if (c._renTex === undefined) {
            c._renTex = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].RenderTexture.create({
                width, height,
                scaleMode: c.texture.baseTexture.scaleMode,
            });
            let bt = c._renTex.baseTexture;
            bt.clearColor = [0.0, 0.0, 0.0, 0.0];
        }
        if (c.visMap === undefined)
            return;
        let texOpts = {
            width, height,
            format: _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].FORMATS.RGBA,
        };
        let texData = new Uint32Array(c.texture.width * c.texture.height);
        let visMap = c.visMap;
        if ((c.visMap.byteOffset & (0x4 - 1)) !== 0) {
            // Not aligned, realign
            visMap = c.visMap.slice(0);
        }
        let set = new _util_bitSet__WEBPACK_IMPORTED_MODULE_10__.BitSet(new Uint32Array(visMap.buffer, visMap.byteOffset, visMap.byteLength / 4));
        let len = texData.length;
        for (let i = 0; i < len; i++) {
            texData[i] = set.get(i) ? 0xFFFFFFFF : 0;
        }
        let byteData = new Uint8Array(texData.buffer);
        let resource = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].resources.BufferResource(byteData, { width, height });
        let baseTexture = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BaseTexture(resource, texOpts);
        let tex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Texture(baseTexture);
        let lumSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(tex);
        lumSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.SRC_IN;
        let mapSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(c.texture);
        let cnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        cnt.addChild(mapSprite, lumSprite);
        this.pixiBoardSystem.renderer.render(cnt, c._renTex, true);
        lumSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_ALL);
        c._visMapChanged = false;
    }
    forEachEl(com, img, f) {
        f(img);
        if (img.children) {
            for (let c of img.children) {
                this.forEachEl(com, c, f);
            }
        }
    }
    doOnBitByBit(com, img, f) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            f(img);
        }
        if (img.children) {
            for (let c of img.children) {
                this.doOnBitByBit(com, c, f);
            }
        }
    }
    needsBitByBit(com, img) {
        if (img.type == _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE && img.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            return true;
        }
        if (img.children) {
            for (let c of img.children) {
                if (this.needsBitByBit(com, c))
                    return true;
            }
        }
        return false;
    }
    updateBBBVisAround(com) {
        let inter = this.world.getComponent(com.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        let aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeToAabb)(inter.shape);
        this.playerSystem.getSpreadDataForAabb(aabb, data => {
            this.doOnBitByBit(com, com.display, (img) => this.updateBBBVisibility(data, com, img));
        });
    }
    updateBBBVisibility(data, com, img) {
        //      Part 1. What?
        // So, what does this spaghetti mess do? Good question!
        // We have players and lights, some players can see without lights and others can't
        // The task is to update the rendertexture of the background component adding the visible spots to it.
        // The visible spots are: The meshes of the players with night vision enabled and the intersection of the
        // union of the vision mesh of the normal players with the union of the vison meshes of the lights.
        // Common case: 1 NV player 0 lights, 1 player multiple lights, multiple players 1 light
        // Possible (but uncommon) cases: x NV players, y normal players, z lights (with x, y, z naturals).
        //      Part 2. How?
        // The initial idea is simple, render anything on the bkg._renTex and then render the original texture with
        // blendMode = SRC_IN, any spot with alpha = 1 will then be replaced with the correct texture.
        // The night vision players rendering is quite simple, just render the meshes before the final texture render
        // The normal players will be a bit different since we need to intersect their meshes with the light mesh.
        // To do that we can render all the players meshes in a framebuffer A, then render all of the lights in another
        // frame buffer B, then render A onto B with blendMode = SRC_IN to create a sort of union of the two.
        // Once that is done we can render B into the bkg._renTex and proceed normally.
        // Another way to do this using only a single rendertexture is to use the stencil buffer, but it will double the
        // mesh render calls (and since they are not buffered, it's a slow operation)
        // I don't think that there is another way to perform this in the general case, please prove me wrong.
        // TODO: maybe we can optimize this when only 1 player and 1 light is present (like, avoiding 1 of the 2 framebuffers).
        // Skip EVERYTHING if this entity is hidden.
        if (this.world.getComponent(com.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        //console.time('updateVisibility');
        let renderer = this.pixiBoardSystem.renderer;
        let localCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        // Setup local transform
        let m = new pixi_js__WEBPACK_IMPORTED_MODULE_4__.Matrix();
        let pixi = img._pixi;
        m.translate(-pixi.position.x, -pixi.position.y);
        m.rotate(-pixi.rotation);
        let invScale = 1 / pixi.scale.x;
        m.scale(invScale, invScale);
        m.translate(img.texture.width / 2, img.texture.height / 2);
        localCnt.transform.setFromMatrix(m);
        let worldCnt = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        // If there are any players without night vision (and there are lights) render them (THIS IS SLOW!)
        let tex, tex2, nightSprite;
        if (data.players.length !== 0 && data.lights.length !== 0) {
            tex = this.renderTexturePool.getOptimalTexture(pixi.texture.width, pixi.texture.height);
            tex2 = this.renderTexturePool.getOptimalTexture(pixi.texture.width, pixi.texture.height);
            for (let player of data.players) {
                localCnt.addChild(player.mesh);
            }
            // Render the players visibility meshes onto tex
            renderer.render(localCnt, tex, true);
            localCnt.removeChildren();
            for (let light of data.lights) {
                light.mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.ADD;
                localCnt.addChild(light.mesh);
            }
            let playerSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(tex);
            playerSprite.blendMode = pixi_js__WEBPACK_IMPORTED_MODULE_4__.BLEND_MODES.SRC_IN;
            // Render the lights onto tex2, then render tex as BLEND_MODE.SRC_IN to filter out where the lights were not
            // present.
            worldCnt.addChild(localCnt, playerSprite);
            renderer.render(worldCnt, tex2, true);
            worldCnt.removeChildren();
            localCnt.removeChildren();
            // Add tex2 to the main phase
            nightSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(tex2);
            nightSprite.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.ADD;
            worldCnt.addChild(nightSprite);
        }
        for (let player of data.nightVisPlayers) {
            localCnt.addChild(player.mesh);
        }
        let origTex = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(img.texture);
        origTex.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.SRC_IN;
        worldCnt.addChild(localCnt, origTex);
        // Render everything to bkg._renTex and then redraw the original only where is alpha=1.
        this.pixiBoardSystem.renderer.render(worldCnt, img._renTex, false);
        img._visMapChanged = true;
        // Cleanup time (don't worry, I'm recycling and there's a garbage cleaner, we're eco friendly!)
        worldCnt.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        origTex.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        if (tex !== undefined)
            this.renderTexturePool.returnTexture(tex);
        if (tex2 !== undefined)
            this.renderTexturePool.returnTexture(tex2);
        if (nightSprite !== undefined)
            nightSprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
        //console.timeEnd('updateVisibility');
    }
    computeVisibilityListener(c) {
        let level;
        switch (c.visib) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                // Already maximum level, no need for further checking
                return VisibListenerLevel.PERSISTENT;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                level = VisibListenerLevel.NOT_NEEDED;
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                level = VisibListenerLevel.REMEMBER;
                break;
        }
        if (c.children) {
            for (let ch of c.children) {
                level = Math.max(level, this.computeVisibilityListener(ch));
                if (level === VisibListenerLevel.PERSISTENT)
                    break; // Already maxed out.
            }
        }
        return level;
    }
    destroyElement(desc, recursive) {
        let elem = desc._pixi;
        if (elem === undefined)
            return;
        switch (desc._oldType) {
            case undefined:
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let im = desc;
                let destroyTex = im.sharedTexture !== true;
                elem.destroy({
                    children: false,
                    texture: destroyTex,
                    baseTexture: destroyTex,
                });
                if (im._renTex !== undefined) {
                    im._renTex.destroy(true);
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                elem.destroy({
                    children: false,
                    texture: true,
                    baseTexture: true,
                });
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                elem.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_5__.DESTROY_MIN);
                break;
        }
        desc._pixi = undefined;
        desc._oldType = undefined;
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.destroyElement(el, true);
            }
        }
    }
    createElement(cmp, desc) {
        this.destroyElement(desc, false);
        let defLayer = true;
        let res;
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Graphics();
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(this.circleTex);
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT:
                res = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Text("");
                res.parentLayer = this.textSystem.textLayer;
                defLayer = false;
                break;
        }
        if (defLayer && cmp._layer !== undefined) {
            res.parentGroup = cmp._layer;
        }
        res.interactive = false;
        res.interactiveChildren = false;
        res.zIndex = desc.priority;
        desc._pixi = res;
        desc._oldType = desc.type;
        this.pixiBoardSystem.board.addChild(res);
        this.pixiBoardSystem.board.sortChildren();
    }
    textureUpdateGridSize(tex) {
        let texId = tex._updateID;
        if (tex.gridSize !== undefined && tex.gridSize.updateId !== texId)
            return;
        tex.gridSize = {
            x: Math.ceil(tex.width / _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS.size) / tex.width,
            y: Math.ceil(tex.height / _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS.size) / tex.height,
            updateId: texId,
        };
    }
    updateElementVisibility(par, desc, recursive, currentlyVisible, remembered) {
        let isVisible;
        if (currentlyVisible || this.masterVisibility) {
            isVisible = true;
        }
        else {
            switch (desc.visib) {
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL:
                    isVisible = currentlyVisible;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE:
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT:
                    isVisible = true;
                    break;
                case _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER:
                    isVisible = remembered;
                    break;
            }
        }
        let pixi = desc._pixi;
        pixi.visible = isVisible;
        if (desc.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
            let im = desc;
            im._pixi.texture = this.masterVisibility ? im.texture : im._renTex;
        }
        if (recursive && desc.children) {
            for (let c of desc.children) {
                this.updateElementVisibility(par, c, true, currentlyVisible, remembered);
            }
        }
    }
    updateVisibilityListener(el) {
        let listLevel = this.computeVisibilityListener(el.display);
        let oldListLevel = el._visibListener || VisibListenerLevel.NOT_NEEDED;
        if (listLevel === oldListLevel)
            return; // No changes reported.
        let isRemembered = this.rememberStorage.getComponent(el.entity);
        let listenerNeeded;
        switch (listLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                listenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                listenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                listenerNeeded = true;
                break;
        }
        let oldListenerNeeded;
        switch (oldListLevel) {
            case VisibListenerLevel.NOT_NEEDED:
                oldListenerNeeded = false;
                break;
            case VisibListenerLevel.REMEMBER:
                oldListenerNeeded = !isRemembered;
                break;
            case VisibListenerLevel.PERSISTENT:
                oldListenerNeeded = true;
                break;
        }
        // Why before? good question!
        // when we add the listener we could discover instantly that the visibility is present, thus calling
        // a callback to this system saying "hi, this element in which there's a visibility listener is visible"
        // if we set the listener after this the system will say "oh really, but there's no listener on this element"
        // (yeah I spent way too much time to debug this)
        el._visibListener = listLevel;
        if (listenerNeeded && !oldListenerNeeded) {
            this.playerSystem.addPlayerVisListener(el.entity, el.isWall);
        }
        else if (!listenerNeeded && oldListenerNeeded) {
            this.playerSystem.removePlayerVisListener(el.entity);
        }
    }
    runMethods(par, el) {
        if (el._childrenReplace) {
            if (el.children) {
                for (let c of el.children) {
                    this.destroyElement(c, true);
                }
                el.children.length = 0;
            }
            el._childrenAdd = el._childrenReplace;
            el._childrenReplace = undefined;
        }
        if (el._childrenAdd) {
            if (el.children === undefined)
                el.children = [];
            el.children.push(...el._childrenAdd);
            el._childrenAdd = undefined;
        }
        if (el._childrenRemove) {
            if (el.children === undefined)
                return;
            for (let c of el._childrenRemove) {
                this.destroyElement(c, true);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_14__.arrayRemoveElem)(el.children, c);
            }
            el._childrenRemove = undefined;
        }
        if (el.children) {
            for (let c of el.children) {
                this.runMethods(par, c);
            }
        }
    }
    updateElement(par, desc, pos, trans, recursive) {
        if (desc._oldType !== desc.type) {
            this.createElement(par, desc);
        }
        let d = desc._pixi;
        if (desc.offset !== undefined) {
            d.position.set(pos.x + desc.offset.x, pos.y + desc.offset.y);
        }
        else {
            d.position.set(pos.x, pos.y);
        }
        switch (desc.type) {
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.CONTAINER:
                break;
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE: {
                let dim = d;
                let el = desc;
                if (el.visib == _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    dim.texture = this.masterVisibility ? el.texture : el._renTex;
                }
                else {
                    dim.texture = el.texture;
                }
                dim.anchor.copyFrom(el.anchor);
                let sx = (trans === null || trans === void 0 ? void 0 : trans.scale) || 1;
                let sy = sx;
                if (el.scale === _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.GRID) {
                    this.textureUpdateGridSize(dim.texture);
                    let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GRID_TYPE);
                    let gsize = dim.texture.gridSize;
                    sx = gsize.x * grid.size * sx;
                    sy = gsize.y * grid.size * sy;
                }
                dim.rotation = (trans === null || trans === void 0 ? void 0 : trans.rotation) || 0;
                dim.scale.set(sx, sy);
                dim.tint = par._selected ? 0x7986CB : 0xFFFFFF;
                if (el.visib === _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT) {
                    if (el._oldTex !== el.texture) {
                        this.loadVisibility(el);
                    }
                }
                else if (el._renTex !== undefined) {
                    el._renTex.destroy(true);
                    el._renTex = undefined;
                }
                el._oldTex = el.texture;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.LINE: {
                let g = d;
                let el = desc;
                g.clear();
                g.moveTo(0, 0);
                g.lineStyle(5, el.color);
                g.lineTo(el.vec.x, el.vec.y);
                if (par._selected) {
                    g.lineStyle(0);
                    g.beginFill(0xe51010);
                    g.drawCircle(0, 0, 10);
                    g.endFill();
                    g.beginFill(el.color);
                    g.drawCircle(el.vec.x, el.vec.y, 10);
                    g.endFill();
                }
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT: {
                let color = desc.color;
                if (par._selected) {
                    color = lerpColor(color, 0x7986CB, 0.3);
                }
                d.tint = color;
                break;
            }
            case _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.TEXT: {
                let el = desc;
                let g = d;
                g.text = el.text;
                g.anchor.copyFrom(el.anchor);
                g.tint = el.color;
                g.style.align = el.lineAlign;
                break;
            }
        }
        if (recursive && desc.children) {
            for (let el of desc.children) {
                this.updateElement(par, el, pos, trans, true);
            }
        }
    }
    enable() {
        this.playerSystem = this.world.systems.get(_playerSystem__WEBPACK_IMPORTED_MODULE_7__.PLAYER_TYPE);
        this.masterVisibility = this.world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_8__.LIGHT_TYPE).localLightSettings.visionType === 'dm';
        let g = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Graphics();
        g.beginFill(0xFFFFFF);
        g.lineStyle(0);
        g.drawCircle(POINT_RADIUS, POINT_RADIUS, POINT_RADIUS);
        this.circleTex = this.pixiBoardSystem.renderer.generateTexture(g, _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].SCALE_MODES.LINEAR, 1);
        this.circleTex.defaultAnchor.set(0.5, 0.5);
    }
    destroy() {
        for (let elem of this.storage.allComponents()) {
            this.destroyElement(elem.display, true);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiLayerSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiLayerSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_LAYER_TYPE": () => (/* binding */ PIXI_LAYER_TYPE),
/* harmony export */   "PixiLayerSystem": () => (/* binding */ PixiLayerSystem)
/* harmony export */ });
/* harmony import */ var _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../graphics */ "./src/app/graphics.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");




const PIXI_LAYER_TYPE = 'pixi_layer';
class PixiLayerSystem {
    constructor(world) {
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE, _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE, _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE];
        this.name = PIXI_LAYER_TYPE;
        this.world = world;
        this.pixiBoard = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
        this.pixiGraphic = this.world.systems.get(_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE);
        this.layerSys = this.world.systems.get(_layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edit', this.onResourceEdit, this);
    }
    getLayer(layer) {
        if (layer._pixiLayer === undefined) {
            const group = new PIXI.display.Group(layer.priority, false);
            layer._pixiLayer = new PIXI.display.Layer(group);
            this.pixiBoard.root.addChild(layer._pixiLayer);
        }
        return layer._pixiLayer;
    }
    updateLayer(layer) {
        const pixiLayer = this.getLayer(layer);
        pixiLayer.group.zIndex = layer.priority;
        return pixiLayer;
    }
    getParentLayer(layer) {
        let l = this.layerSys.getLayerById(layer === undefined ? -1 : layer.layer);
        return this.getLayer(l);
    }
    getEntityParentLayer(entity) {
        return this.getParentLayer(this.world.getComponent(entity, _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE));
    }
    applyParent(obj, parent) {
        var _a;
        if (obj.type !== _graphics__WEBPACK_IMPORTED_MODULE_3__.ElementType.TEXT) {
            if (obj._pixi !== undefined) {
                obj._pixi.parentGroup = parent;
            }
        }
        for (let ch of (_a = obj.children) !== null && _a !== void 0 ? _a : []) {
            this.applyParent(ch, parent);
        }
    }
    onComponentAdd(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            this.updateLayer(c);
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const c = cmp;
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            let parent = this.getParentLayer(c);
            this.applyParent(g.display, parent.group);
        }
        else if (cmp.type === _pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_GRAPHIC_TYPE) {
            const c = cmp;
            const parent = this.getEntityParentLayer(cmp.entity);
            this.applyParent(c.display, parent.group);
            c._layer = parent.group;
        }
    }
    onComponentEdited(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const c = cmp;
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            let parent = this.getParentLayer(c);
            this.applyParent(g.display, parent.group);
            g._layer = parent.group;
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            this.updateLayer(c);
        }
    }
    onComponentRemove(cmp) {
        if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.LAYER_TYPE) {
            const c = cmp;
            if (c._pixiLayer !== undefined) {
                c._pixiLayer.destroy();
                c._pixiLayer = undefined;
            }
        }
        else if (cmp.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.PARENT_LAYER_TYPE) {
            const g = this.pixiGraphic.storage.getComponent(cmp.entity);
            if (g === undefined)
                return;
            const layer = this.getParentLayer(undefined);
            this.applyParent(g.display, layer.group);
            g._layer = layer.group;
        }
    }
    onResourceEdit(res) {
        if (res.type === _layerSystem__WEBPACK_IMPORTED_MODULE_1__.BACKGROUND_LAYER_TYPE) {
            const r = res;
            this.updateLayer(r);
        }
    }
    enable() {
        this.updateLayer(this.layerSys.backgroundLayer);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiMeasureSystem.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiMeasureSystem.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_MEASURE_TYPE": () => (/* binding */ PIXI_MEASURE_TYPE),
/* harmony export */   "PixiMeasureSystem": () => (/* binding */ PixiMeasureSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





const PIXI_MEASURE_TYPE = "pixi_measure";
class PixiMeasureSystem {
    constructor(world) {
        this.name = PIXI_MEASURE_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.gridSize = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.size;
        this.gridUnitMul = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.unitMul;
        this.gridUnitName = _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS.unitName;
        this.boardScale = 1;
        this.world = world;
        const pixiBoard = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        this.display = new PIXI.Graphics();
        this.display.parentGroup = pixiBoard.toolForegroundGroup;
        this.text = new PIXI.Text("");
        this.text.anchor.set(0.5, 1);
        this.text.style.fill = 0xff0000;
        this.text.style.fontSize = 40;
        this.text.parentGroup = pixiBoard.toolForegroundGroup;
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    setEnabled(enabled) {
        this.display.visible = enabled;
        this.text.visible = enabled;
    }
    redraw(fromX, fromY, toX, toY) {
        this.setEnabled(true);
        this.display.clear();
        const midX = (fromX + toX) / 2;
        const midY = (fromY + toY) / 2;
        let distSq = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(fromX, fromY, toX, toY) / (Math.pow(this.gridSize, 2));
        const scale = 1 / this.boardScale;
        this.text.scale.set(scale);
        if (distSq < Math.pow(0.1, 2)) {
            this.display.beginFill(0xff0000);
            this.display.drawCircle(midX, midY, 10 * scale);
            this.display.endFill();
            this.text.rotation = 0;
            this.text.text = (midX / this.gridSize).toFixed(4) + ", " + (midY / this.gridSize).toFixed(4);
            this.text.position.set(midX, midY - 10);
        }
        else {
            this.display.beginFill(0xff0000);
            this.display.drawCircle(fromX, fromY, 10 * scale);
            this.display.endFill();
            this.display.beginFill(0xff0000);
            this.display.drawCircle(toX, toY, 10 * scale);
            this.display.endFill();
            this.display.lineStyle(3 * scale, 0xff0000);
            this.display.moveTo(fromX, fromY);
            this.display.lineTo(toX, toY);
            let rot = Math.atan2(toY - fromY, toX - fromX);
            if (rot < Math.PI / 2)
                rot += Math.PI;
            if (rot > Math.PI / 2)
                rot -= Math.PI;
            this.text.position.set(midX, midY);
            this.text.rotation = rot;
            this.text.text = (Math.sqrt(distSq) * this.gridUnitMul).toFixed(4) + ' ' + this.gridUnitName;
        }
    }
    redrawRes(res) {
        this.redraw(res.fromX, res.fromY, res.toX, res.toY);
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            let r = res;
            this.redrawRes(r);
        }
    }
    onResourceEdit(res) {
        let redraw = false;
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            this.redrawRes(res);
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_4__.GRID_TYPE) {
            let grid = res;
            this.gridSize = grid.size;
            this.gridUnitMul = grid.unitMul;
            this.gridUnitName = grid.unitName;
            redraw = true;
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE) {
            this.boardScale = res.scaleX || 1;
            redraw = true;
        }
        if (redraw) {
            const r = this.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE);
            if (r !== undefined)
                this.redrawRes(r);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.MEASURE_TYPE) {
            this.setEnabled(false);
        }
        else if (res.type === _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE) {
            const r = res;
            this.boardScale = r.scaleX;
        }
    }
    enable() {
        var _a;
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        board.board.addChild(this.display);
        board.board.addChild(this.text);
        let grid = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_4__.GRID_TYPE);
        if (grid !== undefined) {
            this.gridSize = grid.size;
        }
        this.boardScale = ((_a = this.world.getResource(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.BOARD_TRANSFORM_TYPE)) === null || _a === void 0 ? void 0 : _a.scaleX) || 1;
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/back/pixiRectSelectionSystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIXI_RECTANGULAR_SELECTION_TYPE": () => (/* binding */ PIXI_RECTANGULAR_SELECTION_TYPE),
/* harmony export */   "PixiRectSelectionSystem": () => (/* binding */ PixiRectSelectionSystem)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource */ "./src/app/ecs/resource.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");


const PIXI_RECTANGULAR_SELECTION_TYPE = "pixi_rect_selection";
class PixiRectSelectionSystem {
    constructor(world) {
        this.name = PIXI_RECTANGULAR_SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE];
        this.world = world;
        this.display = new PIXI.Graphics();
        world.events.on('resource_add', this.onResourceAdd, this);
        world.events.on('resource_edited', this.onResourceEdit, this);
        world.events.on('resource_removed', this.onResourceRemove, this);
    }
    redraw(box) {
        this.display.clear();
        this.display.beginFill(0x7986CB, 0.2);
        this.display.drawRect(box.minX, box.minY, box.maxX - box.minX, box.maxY - box.minY);
        this.display.endFill();
    }
    onResourceAdd(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceEdit(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            let r = res;
            this.redraw(r.aabb);
        }
    }
    onResourceRemove(res) {
        if (res.type === _resource__WEBPACK_IMPORTED_MODULE_1__.RECTANGULAR_SELECTION_TYPE) {
            this.display.clear();
        }
    }
    enable() {
        let board = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE);
        this.display.parentGroup = board.toolForegroundGroup;
        board.board.addChild(this.display);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/selectionSystem.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/back/selectionSystem.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECTION_UI_DATA_TYPE": () => (/* binding */ SELECTION_UI_DATA_TYPE),
/* harmony export */   "SELECTION_TYPE": () => (/* binding */ SELECTION_TYPE),
/* harmony export */   "SelectionSystem": () => (/* binding */ SelectionSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _doorSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _propSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_commandSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _layerSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");














const MULTI_TYPES = ['name', 'note'];
const ELIMINABLE_TYPES = ['name', 'note', 'player', 'light', 'door', _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE];
const FULLSCREENABLE_TYPES = ['note'];
const SELECTION_UI_DATA_TYPE = 'selection_ui_data';
const SELECTION_TYPE = 'selection';
class SelectionSystem {
    constructor(ecs) {
        this.name = SELECTION_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_12__.PIXI_BOARD_TYPE];
        this.selectedEntities = new Set();
        this.dataByType = new Map();
        this.translations = {};
        this.isTranslating = false;
        this.translateDirty = false;
        this.uiResDirty = true;
        this.ecs = ecs;
        this.boardSys = ecs.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_12__.PIXI_BOARD_TYPE);
        this.ecs.events.on('tool_move_begin', () => this.isTranslating = true);
        this.ecs.events.on('tool_move_end', () => {
            this.isTranslating = false;
            if (this.translateDirty) {
                this.translateDirty = false;
                this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_COMMAND_PARTIAL_END);
                this.update();
            }
        });
        this.ecs.events.on('component_add', this.onComponentAdd, this);
        this.ecs.events.on('component_edited', this.onComponentUpdate, this);
        this.ecs.events.on('component_removed', this.onComponentRemove, this);
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        this.ecs.events.on('deserialized', (d) => {
            if (d.options.thenSelect) {
                this.setOnlyEntities(d.data.entities.map(d.entityMapping));
            }
        });
        if (ecs.isMaster) {
            this.ecs.events.on('command_post_execute', (c) => {
                // a spawn command has been executed
                if (c === undefined || c.kind !== 'despawn')
                    return;
                this.setOnlyEntities(c.entities);
            });
            this.ecs.events.on('delete', () => {
                const cmd = {
                    kind: 'despawn',
                    entities: [...this.selectedEntities],
                };
                this.clear();
                (0,_command_command__WEBPACK_IMPORTED_MODULE_6__.executeAndLogCommand)(this.ecs, cmd);
            });
        }
        this.ecs.events.on('entity_despawn', this.onEntityDespawn, this);
        this.boardSys.ticker.add(this.onRender, this, _PIXI__WEBPACK_IMPORTED_MODULE_13__["default"].UPDATE_PRIORITY.LOW);
        this.setupTranslations();
        this.uiResDirty = true;
        this.onRender();
    }
    setupTranslations() {
        this.translations[_layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE] = 'foreground';
    }
    onRender() {
        if (!this.uiResDirty)
            return;
        this.uiResDirty = false;
        let hostHidden = this.dataByType.get(_component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
        this.ecs.addResource({
            type: SELECTION_UI_DATA_TYPE,
            selectedEntities: [...this.selectedEntities],
            components: this.getCommonComponents(),
            hidden: hostHidden !== undefined && hostHidden.entities.size === this.selectedEntities.size,
            addable: this.getAddableComponents(),
            _save: false,
            _sync: false,
        }, 'update');
    }
    updateUi() {
        this.uiResDirty = true;
    }
    canSelect(entity) {
        if (this.ecs.isMaster) {
            return true;
        }
        // Make walls not selectable unless a known door is present, this
        // prevents players from bruteforcing wall structures to find doors
        // TODO: other options: merge adiacent walls when possible
        let wallC = this.ecs.getComponent(entity, _wallSystem__WEBPACK_IMPORTED_MODULE_8__.WALL_TYPE);
        if (wallC !== undefined) {
            let door = this.ecs.getComponent(entity, _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE);
            return door !== undefined;
        }
        return true;
    }
    update() {
        if (this.isTranslating)
            this.translateDirty = true;
        else {
            this.updateUi();
            this.ecs.events.emit('selection_update', this);
        }
    }
    onComponentAdd(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.getOrCreateData(component.type).entities.add(component);
        this.update();
    }
    onComponentUpdate(component) {
        if (this.selectedEntities.has(component.entity)) {
            if (!this.canSelect(component.entity)) {
                this.removeEntities([component.entity]);
                return;
            }
            this.update();
        }
    }
    onComponentRemove(component) {
        if (!this.selectedEntities.has(component.entity))
            return;
        let data = this.dataByType.get(component.type);
        data.entities.delete(component);
        if (data.entities.size === 0)
            this.dataByType.delete(component.type);
        if (!this.canSelect(component.entity)) {
            this.removeEntities([component.entity]);
            return;
        }
        this.update();
    }
    onEntityDespawn(entity) {
        if (!this.selectedEntities.has(entity))
            return;
        this.removeEntities([entity]);
    }
    clear(callListeners = true, update = true) {
        if (callListeners) {
            for (let id of this.selectedEntities) {
                this.ecs.events.emit('selection_end', id);
            }
        }
        this.selectedEntities.clear();
        this.dataByType.clear();
        if (update) {
            this.update();
        }
    }
    setOnlyEntity(id) {
        this.clear(true, false);
        this.addEntities([id]);
    }
    setOnlyEntities(ids) {
        let idSet = new Set(ids);
        let removeIds = new Array();
        for (let id of this.selectedEntities) {
            if (!idSet.has(id))
                removeIds.push(id);
        }
        this.removeEntities(removeIds, false);
        this.addEntities(ids, false);
        this.update();
    }
    toggleEntities(ids, update = true) {
        for (let id of ids) {
            if (this.selectedEntities.has(id)) {
                this.removeEntities([id], false);
            }
            else {
                this.addEntities([id], false);
            }
        }
        if (update)
            this.update();
    }
    addEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (id === undefined) {
                console.warn("Trying to add undefined entity");
                continue;
            }
            if (this.selectedEntities.has(id))
                continue;
            if (!this.canSelect(id)) {
                continue;
            }
            count++;
            this.selectedEntities.add(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                this.getOrCreateData(c.type).entities.add(c);
            }
            this.ecs.events.emit('selection_begin', id);
        }
        if (update && count !== 0)
            this.update();
    }
    removeEntities(ids, update = true) {
        let count = 0;
        for (let id of ids) {
            if (!this.selectedEntities.has(id))
                continue;
            count++;
            this.selectedEntities.delete(id);
            let comps = this.ecs.getAllComponents(id);
            for (let c of comps) {
                let data = this.dataByType.get(c.type);
                data.entities.delete(c);
                if (data.entities.size === 0)
                    this.dataByType.delete(c.type);
            }
            this.ecs.events.emit('selection_end', id);
        }
        if (update && count !== 0)
            this.update();
    }
    getSelectedByType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return [];
        return data.entities;
    }
    initialComponent(type) {
        return {
            _canDelete: ELIMINABLE_TYPES.indexOf(type) >= 0,
            _isFullscreen: FULLSCREENABLE_TYPES.indexOf(type) >= 0 ? false : undefined,
        };
    }
    addTranslations(cmps) {
        for (let cmp of cmps) {
            let trans = this.translations[cmp.type];
            if (trans === undefined) {
                trans = cmp.type;
            }
            cmp.typeName = trans;
        }
        return cmps;
    }
    storagePredicate(storage) {
        if (storage.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE)
            return false;
        return storage.save && storage.sync;
    }
    getSingleComponents() {
        let res = new Array();
        let entity = this.selectedEntities.values().next().value;
        for (let storage of this.ecs.storages.values()) {
            if (!this.storagePredicate(storage))
                continue;
            let comps = storage.getComponents(entity);
            for (let comp of comps) {
                let c = res.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.componentClone)(removePrivate(this.initialComponent(storage.type), comp)));
            }
        }
        return this.addTranslations(res);
    }
    getCommonComponents() {
        if (this.selectedEntities.size === 0)
            return [];
        let selCount = this.selectedEntities.size;
        if (selCount === 1)
            return this.getSingleComponents();
        let commonTypes = new Array();
        for (let sto of this.ecs.storages.values()) {
            if (!this.storagePredicate(sto))
                continue;
            const type = sto.type;
            let data = this.dataByType.get(type);
            if (data != undefined && data.entities.size === selCount && MULTI_TYPES.indexOf(type) === -1) {
                commonTypes.push(sto);
            }
        }
        let res = new Array();
        for (let sto of commonTypes) {
            let component = undefined;
            for (let entity of this.selectedEntities) {
                let comps = sto.getComponents(entity);
                for (let comp of comps) {
                    if (component === undefined) {
                        component = removePrivate(this.initialComponent(sto.type), comp); // copy
                    }
                    else {
                        biFilterObj(component, comp);
                    }
                }
            }
            res.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.componentClone)(component));
        }
        return this.addTranslations(res);
    }
    getAddableComponents() {
        let res = new Array();
        res.push({
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
            name: 'Name'
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
            name: 'Note'
        });
        if (!this.hasComponentType(_layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE)) {
            // TODO: layers
            res.push({
                type: _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE,
                name: 'Foreground'
            });
        }
        if (this.hasEveryoneType(_pinSystem__WEBPACK_IMPORTED_MODULE_9__.PIN_TYPE) && !(this.hasComponentType(_lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE) || this.hasComponentType(_playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE))) {
            res.push({
                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                name: 'Light'
            }, {
                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                name: 'Player',
            });
        }
        else if (this.hasEveryoneType(_wallSystem__WEBPACK_IMPORTED_MODULE_8__.WALL_TYPE) && !this.hasComponentType(_doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE)) {
            res.push({
                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                name: "Door"
            });
        }
        else if (this.hasEveryoneType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TYPE) && !this.hasComponentType(_propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE)) {
            res.push({
                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                name: "Teleporter",
            });
        }
        return res;
    }
    setProperty(entities, type, propertyName, propertyValue, multiId) {
        if (type === '$') {
            // Special management
            switch (propertyName) {
                case 'hidden': {
                    let add = [];
                    let remove = [];
                    for (let entity of entities) {
                        let cmp = this.ecs.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE);
                        if (cmp !== undefined) {
                            remove.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                            this.ecs.removeComponent(cmp);
                        }
                        else {
                            add.push({
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE,
                                entity: entity,
                            });
                        }
                    }
                    let cmd = {
                        kind: "cedit",
                        add, remove,
                        edit: [],
                    };
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'delete': {
                    let cmd = {
                        kind: 'despawn',
                        entities: [...entities],
                    };
                    this.clear();
                    this.ecs.events.emit("command_log", cmd);
                    break;
                }
                case 'forget': {
                    const res = confirm("Do you want the roleplayers to forget " + this.selectedEntities.size + " entities?\nThis cannot be undone");
                    if (res) {
                        (0,_command_command__WEBPACK_IMPORTED_MODULE_6__.emitCommand)(this.ecs, {
                            kind: 'event',
                            do: { name: 'forget', args: [{ entities: [...entities] }] },
                            undo: { name: '', args: [] },
                        }, true);
                    }
                    break;
                }
                case 'addComponent': {
                    let comp;
                    switch (propertyValue) {
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NAME_TYPE,
                                name: '',
                                clientVisible: true,
                                multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.generateRandomId)(),
                            };
                            break;
                        case _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE:
                            comp = {
                                type: _component__WEBPACK_IMPORTED_MODULE_0__.NOTE_TYPE,
                                note: '',
                                clientVisible: true,
                                multiId: (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_11__.generateRandomId)(),
                            };
                            break;
                        case _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE:
                            comp = {
                                type: _lightSystem__WEBPACK_IMPORTED_MODULE_1__.LIGHT_TYPE,
                                color: 0xFFFFFF,
                                range: 2,
                            };
                            break;
                        case _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE:
                            comp = {
                                type: _playerSystem__WEBPACK_IMPORTED_MODULE_2__.PLAYER_TYPE,
                                nightVision: false,
                                range: 50,
                            };
                            break;
                        case _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE:
                            comp = {
                                type: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DOOR_TYPE,
                                doorType: _doorSystem__WEBPACK_IMPORTED_MODULE_3__.DoorType.NORMAL_LEFT,
                                locked: false,
                                open: false,
                                clientVisible: true,
                            };
                            break;
                        case _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE:
                            comp = {
                                type: _layerSystem__WEBPACK_IMPORTED_MODULE_10__.PARENT_LAYER_TYPE,
                                layer: (0,_layerSystem__WEBPACK_IMPORTED_MODULE_10__.findForeground)(this.ecs),
                            };
                            break;
                        case _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE:
                            comp = {
                                type: _propSystem__WEBPACK_IMPORTED_MODULE_4__.PROP_TELEPORT_TYPE,
                                targetProp: -1,
                            };
                            break;
                        default:
                            throw new Error('Cannot add unknown component: ' + propertyValue);
                    }
                    let add = [];
                    for (let entity of [...entities]) {
                        add.push(Object.assign({ entity }, comp));
                    }
                    this.ecs.events.emit("command_log", (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(add));
                    break;
                }
                case 'removeComponent':
                    let remove = [];
                    for (let entity of [...entities]) {
                        let comp = this.ecs.getComponent(entity, propertyValue, multiId);
                        if (comp === undefined)
                            continue;
                        remove.push({
                            type: comp.type,
                            entity: comp.entity,
                            multiId: multiId,
                        });
                    }
                    let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_5__.componentEditCommand)(undefined, undefined, remove);
                    this.ecs.events.emit("command_log", cmd);
                    break;
                default:
                    console.warn("Unknown special event: " + propertyName);
            }
            return;
        }
        else if (type === '@') {
            // Event call (yeah I know this is ugly) TODO please next me clean it up
            // TODO: command log
            this.ecs.events.emit(propertyName, propertyValue, multiId);
            return;
        }
        let edit = [];
        for (let entity of entities) {
            let changes = {};
            changes[propertyName] = propertyValue;
            edit.push({
                type,
                entity,
                multiId,
                changes
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        this.ecs.events.emit("command_log", cmd);
        this.update();
    }
    moveAll(diffX, diffY, entities) {
        let edit = [];
        let posSto = this.ecs.getStorage(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        for (let entity of entities) {
            let pos = posSto.getComponent(entity);
            if (pos === undefined)
                continue;
            edit.push({
                type: _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE,
                entity: entity,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                },
            });
        }
        let cmd = {
            kind: 'cedit',
            edit,
        };
        // partial = isTranslating (and ignore the results)
        this.ecs.events.emit(_command_commandSystem__WEBPACK_IMPORTED_MODULE_7__.EVENT_COMMAND_LOG, cmd, undefined, this.isTranslating);
        if (this.isTranslating)
            this.translateDirty = true;
        else
            this.update();
    }
    getOrCreateData(type) {
        let data = this.dataByType.get(type);
        if (data === undefined) {
            data = {
                entities: new Set(),
            };
            this.dataByType.set(type, data);
        }
        return data;
    }
    hasComponentType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size > 0;
    }
    hasEveryoneType(type) {
        let data = this.dataByType.get(type);
        if (data === undefined)
            return false;
        return data.entities.size === this.selectedEntities.size;
    }
    enable() {
    }
    destroy() {
    }
}
function removePrivate(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        target[name] = filter[name];
    }
    return target;
}
function biFilterObj(target, filter) {
    for (let name in filter) {
        if (name[0] === '_')
            continue;
        if (target[name] !== filter[name]) {
            target[name] = undefined;
        }
    }
    for (let name in target) {
        if (name[0] === '_')
            continue;
        if (filter[name] === undefined) {
            target[name] = undefined;
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/textSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/textSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_TYPE": () => (/* binding */ TEXT_TYPE),
/* harmony export */   "TextSystem": () => (/* binding */ TextSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");




const TEXT_TYPE = 'text';
class TextSystem {
    constructor(world) {
        this.name = TEXT_TYPE;
        this.dependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE];
        this.world = world;
        this.textLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Layer();
    }
    enable() {
        this.textLayer.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_3__.LayerOrder.TEXT;
        this.textLayer.interactive = false;
        this.textLayer.interactiveChildren = false;
        let boardSys = this.world.systems.get(_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
        boardSys.root.addChild(this.textLayer);
    }
    destroy() {
        this.textLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/toolSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/back/toolSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TOOL_TYPE": () => (/* binding */ TOOL_TYPE),
/* harmony export */   "ToolSystem": () => (/* binding */ ToolSystem),
/* harmony export */   "FlagToolPart": () => (/* binding */ FlagToolPart)
/* harmony export */ });
/* harmony import */ var _pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_inspect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/inspect */ "./src/app/ecs/tools/inspect.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/measure */ "./src/app/ecs/tools/measure.ts");
/* harmony import */ var _keyboardSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");







const TOOL_TYPE = 'tool';
class ToolSystem {
    constructor(world) {
        this.name = TOOL_TYPE;
        this.dependencies = [_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE];
        this.optionalDependencies = [_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_0__.PIXI_BOARD_TYPE, _keyboardSystem__WEBPACK_IMPORTED_MODULE_5__.KEYBOARD_TYPE];
        this.initialized = false;
        this.subEvents = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_6__["default"]();
        this.standardTool = _tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT;
        this.parts = new Map();
        this.tools = new Map();
        this.currentParts = new Array();
        this.world = world;
        world.addResource({
            type: TOOL_TYPE,
            _save: true,
            _sync: false,
            tool: undefined,
        });
        const events = world.events;
        events.on('resource_edited', this.onResourceEdited, this);
        const keyboard = this.world.getResource(_keyboardSystem__WEBPACK_IMPORTED_MODULE_5__.KEYBOARD_TYPE);
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.FilteredPanPart(world, 'click_pan', () => true));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.FilteredPanPart(world, 'space_pan', () => { var _a; return !!((_a = keyboard === null || keyboard === void 0 ? void 0 : keyboard.pressedKeys) === null || _a === void 0 ? void 0 : _a.has(' ')); }));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.FilteredPanPart(world, 'touch_pan', (w, e) => {
            return e.originalEvent.pointerType !== "mouse" || !this.world.isMaster;
        }));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.InteractPart(world));
        this.addToolPart(new _tools_inspect__WEBPACK_IMPORTED_MODULE_2__.SelectPart(world));
        this.addToolPart(new _tools_measure__WEBPACK_IMPORTED_MODULE_4__.MeasureToolPart(world));
        this.addToolPart(new FlagToolPart('creation_flag'));
        this.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.INSPECT, ['space_pan', 'select', 'touch_pan', 'interact']);
        this.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_3__.Tool.MEASURE, ['space_pan', 'interact', 'measure']);
    }
    addToolPart(tool) {
        this.parts.set(tool.name, tool);
        if (this.initialized) {
            console.warn("Adding tool part after initialization");
            tool.initialize(this.subEvents);
        }
    }
    addTool(name, parts) {
        let p = [...parts];
        for (let part of p) {
            if (!this.parts.has(part)) {
                console.warn("Cannot find part " + part);
            }
        }
        this.tools.set(name, p);
    }
    addToolAsCopy(name, original) {
        const parts = this.tools.get(original);
        if (parts === undefined)
            throw new Error("Original tool not found");
        this.tools.set(name, parts);
    }
    isToolPartEnabled(name) {
        return this.currentParts.includes(name);
    }
    onResourceEdited(r, edited) {
        if (r.type === TOOL_TYPE) {
            let ct = r;
            let toolName = ct.tool || this.standardTool;
            let parts = this.tools.get(toolName);
            if (parts === undefined) {
                console.warn("Unregistered tool requested: " + ct.tool);
                toolName = this.standardTool;
                parts = this.tools.get(this.standardTool);
            }
            if (toolName === this.currentTool) {
                return;
            }
            console.log("Changing tool from " + (this.currentTool || 'none') + " to " + toolName);
            this.currentTool = toolName;
            // Disable all old parts
            for (let x of this.parts.values()) {
                const oldEnabled = this.currentParts.includes(x.name);
                const newEnable = parts.includes(x.name);
                if (oldEnabled && !newEnable) {
                    x.onDisable();
                }
            }
            // Enable all new parts
            for (let x of this.parts.values()) {
                const oldEnabled = this.currentParts.includes(x.name);
                const newEnable = parts.includes(x.name);
                if (!oldEnabled && newEnable) {
                    x.onEnable();
                }
            }
            this.currentParts = parts;
            // Reorder events
            const order = parts.map((x) => this.parts.get(x)).reverse();
            this.subEvents.reorderObjects(order, _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_6__.PRIORITY_DISABLED);
        }
    }
    enable() {
        this.initialized = true;
        this.world.events.addChild(this.subEvents);
        for (let part of this.parts.values()) {
            part.initialize(this.subEvents);
        }
        if (this.currentTool === undefined) {
            this.world.editResource(TOOL_TYPE, {
                tool: this.standardTool,
            });
        }
    }
    destroy() {
        for (let part of this.parts.values()) {
            part.destroy();
        }
        this.world.events.removeChild(this.subEvents);
    }
}
class FlagToolPart {
    constructor(name) {
        this.name = name;
    }
    initialize(events) {
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilityAwareSystem.ts":
/*!***********************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilityAwareSystem.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_AWARE_TYPE": () => (/* binding */ VISIBILITY_AWARE_TYPE),
/* harmony export */   "newVisibilityAwareComponent": () => (/* binding */ newVisibilityAwareComponent),
/* harmony export */   "VisibilityAwareSystem": () => (/* binding */ VisibilityAwareSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");









const VISIBILITY_AWARE_TYPE = 'visibility_aware';
function newVisibilityAwareComponent(isWall = false) {
    return {
        type: VISIBILITY_AWARE_TYPE,
        entity: -1,
        visibleBy: [],
        isWall,
    };
}
class VisibilityAwareSystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_AWARE_TYPE;
        this.dependencies = [_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_AWARE_TYPE, false, false);
        /**
         * Events:
         * aware_update(component, added, removed)
         *   Called when a VisibilityAware entity is updated
         *   why can't we do this with a normal component_edit event?
         *   It's easier not to build component diffs.
         *   If you want to track old values do it on your own.
         */
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_8__["default"]();
        this.world = world;
        this.visibilitySys = this.world.systems.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        this.interactionSys = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        world.addStorage(this.storage);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_7__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    visibilityChange(viewer, polygon, range) {
        range *= this.gridSize;
        if (polygon === undefined) {
            // Player visibility null
            let oldCanSee = viewer._canSee;
            viewer._canSee = [];
            for (let x of oldCanSee) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let oldCanSee = viewer._canSee;
        viewer._canSee = [];
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let interStorage = this.world.storages.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let viewerPos = posStorage.getComponent(viewer.entity);
        let viewerPoly = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(polygon);
        let viewerCircle = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(viewerPos, range);
        // Check if old awares can still be seen
        for (let i of oldCanSee) {
            let shape = interStorage.getComponent(i).shape;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerPoly, shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape)) {
                viewer._canSee.push(i);
            }
            else {
                let target = this.storage.getComponent(i);
                // No need to remove target.entity from player._canSee as it's already been removed
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
        }
        let iter = this.interactionSys.query(viewerPoly, c => {
            let target = this.storage.getComponent(c.entity);
            return target !== undefined && target.isWall !== true && oldCanSee.indexOf(c.entity) === -1;
        });
        for (let e of iter) {
            let shape = interStorage.getComponent(e.entity).shape;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(viewerCircle, shape))
                continue;
            let target = this.storage.getComponent(e.entity);
            viewer._canSee.push(e.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    visibleElementMove(aware) {
        var _a;
        if (aware.isWall === true)
            return;
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
        let pos = posStorage.getComponent(aware.entity);
        let shape = this.world.getComponent(aware.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let oldVisibleBy = aware.visibleBy;
        aware.visibleBy = [];
        let added = [];
        let removed = [];
        // Search for new players
        for (let p of this.visibilitySys.aabbTree.query(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos))) {
            let entity = p.tag.entity;
            let vis = visStorage.getComponent(entity);
            if (vis === undefined || oldVisibleBy.indexOf(entity) !== -1)
                continue;
            let ppos = posStorage.getComponent(entity);
            let pvis = visStorage.getComponent(entity);
            let range = pvis.range * this.gridSize;
            if (!(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) || !(0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)((_a = p.tag) === null || _a === void 0 ? void 0 : _a.polygon)))
                continue;
            vis._canSee.push(aware.entity);
            aware.visibleBy.push(vis.entity);
            added.push(vis.entity);
        }
        // Check for old players
        for (let p of oldVisibleBy) {
            let vis = visStorage.getComponent(p);
            let ppos = posStorage.getComponent(p);
            let pvis = visStorage.getComponent(p);
            let range = pvis.range * this.gridSize;
            if ((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeCircle)(ppos, range), shape) && (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeIntersect)(shape, (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePolygon)(pvis.polygon))) {
                aware.visibleBy.push(p);
                continue;
            }
            // No need to remove e._visibleBy as it's already been cleared
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, aware.entity);
            removed.push(vis.entity);
        }
        if (added.length + removed.length > 0) {
            this.events.emit('aware_update', aware, added, removed);
        }
    }
    onViewBlockerEdited(viewer, newWalls, oldWalls) {
        oldWalls = oldWalls || [];
        if (newWalls.length === 0) {
            // Player visibility null
            for (let x of oldWalls) {
                let target = this.storage.getComponent(x);
                if (target === undefined)
                    continue;
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
                this.events.emit('aware_update', target, [], [viewer.entity]);
            }
            return;
        }
        let commonWalls = [];
        // Check if old awares can still be seen
        for (let i of oldWalls) {
            if (newWalls.includes(i)) {
                //console.log("| =" + i);
                commonWalls.push(i);
                continue;
            }
            let target = this.storage.getComponent(i);
            if (target === undefined) {
                //console.log("| %" + i);
                continue;
            }
            //console.log("| -" + target.entity);
            (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(target.visibleBy, viewer.entity);
            this.events.emit('aware_update', target, [], [viewer.entity]);
        }
        for (let e of newWalls) {
            if (commonWalls.includes(e))
                continue;
            let target = this.storage.getComponent(e);
            if (target === undefined) {
                //console.log("| ^" + e);
                continue;
            }
            //console.log("| +" + target.entity);
            target.visibleBy.push(viewer.entity);
            this.events.emit('aware_update', target, [viewer.entity], []);
        }
    }
    onComponentAdd(comp) {
        if (comp.type === VISIBILITY_AWARE_TYPE) {
            this.visibleElementMove(comp);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            if ('polygon' in changed) {
                this.visibilityChange(vis, vis.polygon, vis.range);
            }
            if ('_canSeeWalls' in changed) {
                this.onViewBlockerEdited(vis, vis._canSeeWalls, changed._canSeeWalls);
            }
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let visAware = this.storage.getComponent(comp.entity);
            if (visAware === undefined)
                return;
            this.visibleElementMove(visAware);
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE) {
            let vis = comp;
            this.visibilityChange(vis, undefined, 0);
            this.onViewBlockerEdited(vis, [], vis._canSeeWalls);
        }
        else if (comp.type === VISIBILITY_AWARE_TYPE) {
            let va = comp;
            let visStorage = this.world.storages.get(_visibilitySystem__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_TYPE);
            for (let p of va.visibleBy) {
                let vis = visStorage.getComponent(p);
                (0,_util_array__WEBPACK_IMPORTED_MODULE_3__.arrayRemoveElem)(vis._canSee, va.entity);
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_6__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
    }
    manualRecomputeWall(entity) {
        var _a;
        const c = this.storage.getComponent(entity);
        if (c === undefined || !c.isWall)
            return;
        const newWalls = [];
        const inter = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        if (inter === undefined || inter.shape.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_4__.ShapeType.LINE)
            return;
        const aabb = (0,_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapeToAabb)(inter.shape);
        for (let node of [...this.visibilitySys.aabbTree.query(aabb)]) {
            const comp = node.tag;
            if ((_a = comp._canSeeWalls) === null || _a === void 0 ? void 0 : _a.includes(c.entity)) {
                newWalls.push(comp.entity);
            }
        }
        const removedElements = c.visibleBy.filter(x => !newWalls.includes(x));
        const addedElements = newWalls.filter(x => !c.visibleBy.includes(x));
        this.events.emit('aware_update', c, addedElements, removedElements);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/back/visibilitySystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/back/visibilitySystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VISIBILITY_TYPE": () => (/* binding */ VISIBILITY_TYPE),
/* harmony export */   "VISIBILITY_BLOCKER_TYPE": () => (/* binding */ VISIBILITY_BLOCKER_TYPE),
/* harmony export */   "VisibilitySystem": () => (/* binding */ VisibilitySystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _interactionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");








const VISIBILITY_TYPE = 'visibility';
const VISIBILITY_BLOCKER_TYPE = 'visibility_blocker';
/**
 * Please don't stick a visibility component to an entity with a wall component (or vice-versa),
 * they don't go along together too much, for a lot of reasons.
 *
 * This system queries every entity with a VisibilityComponent and keeps it updated, by that I mean:
 * - Recompute the visibility polygon when the range changes
 * - Recompute the visibility polygon when the walls change
 *
 * Little note on visibility polygon algorithms:
 * General polygons are a mess to deal with, but the visibility polygon is a bit easier than most.
 * Since there are no portals nor mirrors in the game (yet!) each point in the polygon is visible from the center.
 * How can this property help in any way? Let me make an example:
 * We can easily compute if a point is inside of this polygon by doing a binary search on the angles, so the algorithm
 * becomes of complexity O(log(n)) where n are the polygon points.
 * Another property that I'm using is that a visibility polygon is much easier to triangulate!
 * Cut off all those ear cutting algorithms, just make triangles starting from the center!
 */
class VisibilitySystem {
    constructor(world) {
        var _a;
        this.name = VISIBILITY_TYPE;
        this.dependencies = [_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_TYPE, false, false);
        this.blockerStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(VISIBILITY_BLOCKER_TYPE, false, false);
        this.aabbTree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_3__.DynamicTree();
        this.world = world;
        this.interactionSystem = this.world.systems.get(_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_6__.STANDARD_GRID_OPTIONS).size;
        world.addStorage(this.storage);
        world.addStorage(this.blockerStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_removed', this.onComponentRemoved, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    removeTreePolygon(c) {
        if (c._aabbTreeId !== undefined) {
            this.aabbTree.destroyProxy(c._aabbTreeId);
            c._aabbTreeId = undefined;
        }
    }
    updatePolygon(c) {
        // Ignore if it's hidden.
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        if (pos === undefined)
            return;
        // We will recreate it later (if necessary)
        this.removeTreePolygon(c);
        if (c.range <= 0) {
            this.world.editComponent(c.entity, c.type, {
                polygon: undefined,
                polygonAabb: undefined,
                aabb: undefined,
            });
            return;
        }
        let range = c.range * this.gridSize;
        let viewport = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x - range, pos.y - range, pos.x + range, pos.y + range);
        let lines = new Array();
        let blockerIds = new Array();
        let query = this.interactionSystem.query((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeAabb)(viewport), c => {
            return this.blockerStorage.getComponent(c.entity) !== undefined;
        });
        for (let entry of query) {
            let s = entry.shape;
            if (s.type !== _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.ShapeType.LINE)
                throw new Error('Only line is supported as light blocker shape');
            let lineData = s.data;
            // TODO: check if entity is IN wall.
            lines.push(lineData);
            blockerIds.push(entry.entity);
        }
        let usedBlockers;
        if (c.trackWalls === true) {
            usedBlockers = new Array();
        }
        else {
            usedBlockers = undefined;
        }
        let polygon = (0,_geometry_visibilityPolygon__WEBPACK_IMPORTED_MODULE_4__.computeViewport)(lines, viewport, pos, usedBlockers);
        // Recycle the unused viewport object
        viewport.wrapPolygon(polygon);
        if (usedBlockers !== undefined) {
            for (let i = 0; i < usedBlockers.length; i++) {
                usedBlockers[i] = blockerIds[usedBlockers[i]];
            }
        }
        this.world.editComponent(c.entity, c.type, {
            polygon,
            aabb: viewport,
            _canSeeWalls: usedBlockers,
        });
        c._aabbTreeId = this.aabbTree.createProxy(viewport, c);
    }
    recomputeArea(aabb) {
        for (let node of [...this.aabbTree.query(aabb)]) {
            this.updatePolygon(node.tag);
        }
    }
    onComponentAdd(c) {
        if (c.type === VISIBILITY_TYPE) {
            let v = c;
            v._canSee = [];
            this.updatePolygon(v);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
            if (cmp !== undefined) {
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(c.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Component hidden is like component missing, they won't be able to see a thing
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.removeVisibility(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                this.removeVisibilityBlocker(blo);
            }
        }
    }
    onComponentEdited(c, changes) {
        if (this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE))
            return;
        if (c.type === VISIBILITY_TYPE) {
            if ('range' in changes) {
                let vc = c;
                if (isNaN(vc.range) || vc.range === undefined) {
                    vc.range = 50;
                }
                this.updatePolygon(c);
            }
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blk = this.blockerStorage.getComponent(c.entity);
            if (blk !== undefined) {
                let inter = this.world.getComponent(blk.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(inter.shape));
            }
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && 'shape' in changes && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
    }
    onComponentRemoved(c) {
        if (c.type === VISIBILITY_TYPE) {
            this.removeVisibility(c);
        }
        else if (c.type === VISIBILITY_BLOCKER_TYPE) {
            this.removeVisibilityBlocker(c);
        }
        else if (c.type === _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE && this.blockerStorage.getComponent(c.entity) !== undefined) {
            let i = c;
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(i.shape));
        }
        else if (c.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) {
            // Welcome to the visible!
            let vis = this.storage.getComponent(c.entity);
            if (vis !== undefined) {
                this.updatePolygon(vis);
            }
            let blo = this.blockerStorage.getComponent(c.entity);
            if (blo !== undefined) {
                let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
                if (cmp !== undefined) {
                    this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
                }
            }
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_7__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
            // Update everything in the next tick so that everyone sees the changes first
            PIXI.Ticker.shared.addOnce(() => {
                for (let c of this.storage.allComponents()) {
                    this.updatePolygon(c);
                }
            });
        }
    }
    removeVisibility(c) {
        this.removeTreePolygon(c);
        this.world.editComponent(c.entity, c.type, {
            polygon: undefined,
            polygonAabb: undefined,
            aabb: undefined,
        });
    }
    removeVisibilityBlocker(c) {
        let cmp = this.world.getComponent(c.entity, _interactionSystem__WEBPACK_IMPORTED_MODULE_5__.INTERACTION_TYPE);
        if (cmp !== undefined) {
            this.recomputeArea((0,_interactionSystem__WEBPACK_IMPORTED_MODULE_5__.shapeToAabb)(cmp.shape));
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/backgroundImageSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/backgroundImageSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BACKGROUND_IMAGE_TYPE": () => (/* binding */ BACKGROUND_IMAGE_TYPE),
/* harmony export */   "BackgroundImageSystem": () => (/* binding */ BackgroundImageSystem)
/* harmony export */ });
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* harmony import */ var _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/nameAsLabelSystem */ "./src/app/ecs/systems/back/nameAsLabelSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};






const BACKGROUND_IMAGE_TYPE = 'background_image';
class BackgroundImageSystem {
    constructor(world) {
        this.name = BACKGROUND_IMAGE_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE];
        this.world = world;
        this.bigStorage = world.systems.get(_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BIG_STORAGE_TYPE);
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_1__.SingleEcsStorage(BACKGROUND_IMAGE_TYPE, true, true);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        if (this.world.isMaster) {
            this.world.events.on(_graphics__WEBPACK_IMPORTED_MODULE_2__.EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE, this.onRememberBBBUpdate, this);
        }
    }
    onComponentAdd(c) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            if (c.type !== BACKGROUND_IMAGE_TYPE)
                return;
            let bkgImg = c;
            if (typeof bkgImg.image !== 'number') {
                if (Uint8Array.prototype.isPrototypeOf(bkgImg.image)) {
                    // previous versions did not have BigStorageSystem, let's fix that
                    console.info("Converting background to BigStorage...");
                    bkgImg.image = this.bigStorage.create(bkgImg.image).multiId;
                    bkgImg.visMap = this.bigStorage.create(bkgImg.visMap, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BigEntryFlags.SHARED | _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BigEntryFlags.READONLY).multiId;
                    delete bkgImg['visibilityMap'];
                }
                else if (bkgImg.image === undefined) {
                    console.warn("This image has no texture, deleting");
                    this.world.removeComponent(c);
                    return;
                }
                else {
                    console.warn("Error, could not convert bkgImage! Resetting", bkgImg.image);
                    bkgImg.image = 0;
                    this.world.removeComponent(c);
                    return;
                }
            }
            let image = this.bigStorage.requestUse(bkgImg.image).data;
            if (image.image !== undefined || image.byteLength === 0) {
                // old version of background, unsupported
                console.log("Removing empty/unsupported background " + bkgImg.entity);
                this.bigStorage.dropUse(bkgImg.entity, true);
                this.world.despawnEntity(bkgImg.entity);
                return;
            }
            let visMap = undefined;
            if (bkgImg.visMap !== undefined) {
                visMap = (_a = this.bigStorage.requestUse(bkgImg.visMap)) === null || _a === void 0 ? void 0 : _a.data;
            }
            let tex;
            try {
                tex = yield (0,_util_pixi__WEBPACK_IMPORTED_MODULE_0__.loadTexture)(image, bkgImg.imageType);
            }
            catch (e) {
                console.error("Failed to load image: ", e);
                this.world.removeComponent(c);
                return;
            }
            this.world.addComponent(c.entity, {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                interactive: true,
                entity: c.entity,
                display: {
                    type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.IMAGE,
                    ignore: false,
                    priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_3__.DisplayPrecedence.BACKGROUND,
                    scale: _graphics__WEBPACK_IMPORTED_MODULE_2__.ImageScaleMode.REAL,
                    visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.REMEMBER_BIT_BY_BIT,
                    visMap,
                    texture: tex,
                    anchor: { x: 0.5, y: 0.5 },
                    tint: 0xFFFFFF,
                },
            });
            this.world.addComponent(c.entity, {
                type: _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_5__.NAME_AS_LABEL_TYPE,
                initialOffset: { x: 0, y: -tex.height / 2 }
            });
        });
    }
    onComponentRemove(c) {
        if (c.type !== BACKGROUND_IMAGE_TYPE)
            return;
        let bkgImg = c;
        if (bkgImg.image !== undefined) {
            this.bigStorage.dropUse(bkgImg.image);
        }
        if (bkgImg.visMap !== undefined) {
            this.bigStorage.dropUse(bkgImg.visMap);
        }
    }
    onRememberBBBUpdate(entities) {
        var _a, _b;
        let gstor = this.world.storages.get(_graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        for (let e of entities) {
            let c = this.storage.getComponent(e);
            if (c === undefined)
                continue;
            const visData = (_b = (_a = gstor.getComponent(e)) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.visMap;
            if (c.visMap === undefined) {
                c.visMap = this.bigStorage.create(visData, _back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_4__.BigEntryFlags.NO_SYNC).multiId;
            }
            else {
                c.visMap = this.bigStorage.replace(c.visMap, visData);
            }
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/command.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/command/command.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "executeAndLogCommand": () => (/* binding */ executeAndLogCommand),
/* harmony export */   "emitCommand": () => (/* binding */ emitCommand),
/* harmony export */   "commandRegisterPreConsequence": () => (/* binding */ commandRegisterPreConsequence),
/* harmony export */   "commandRegisterPostConsequence": () => (/* binding */ commandRegisterPostConsequence)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");

function executeAndLogCommand(world, command) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_LOG, command, res);
    return res.inverted;
}
function emitCommand(world, command, share) {
    let res = {};
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, command, res, share);
    return res.inverted;
}
function commandRegisterPreConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_PRE_CONSEQUENCE, command);
}
function commandRegisterPostConsequence(world, command) {
    world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_ADD_POST_CONSEQUENCE, command);
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandHistorySystem.ts":
/*!*************************************************************!*\
  !*** ./src/app/ecs/systems/command/commandHistorySystem.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COMMAND_HISTORY_TYPE": () => (/* binding */ COMMAND_HISTORY_TYPE),
/* harmony export */   "CommandHistorySystem": () => (/* binding */ CommandHistorySystem)
/* harmony export */ });
/* harmony import */ var _commandSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");

const HISTORY_LIMIT = 128;
const COMMAND_HISTORY_TYPE = 'command_history';
class CommandHistorySystem {
    constructor(world) {
        this.name = COMMAND_HISTORY_TYPE;
        this.dependencies = [_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE];
        this.isLastPartial = false;
        this.index = 0;
        this.world = world;
        this.history = new Array();
        this.commandSys = this.world.systems.get(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.COMMAND_TYPE);
        this.commandSys.logger = this;
        this.world.events.on("command_undo", this.onUndo, this);
        this.world.events.on("command_redo", this.onRedo, this);
    }
    historyPush(cmd) {
        if (this.history.length !== this.index) {
            this.history.length = this.index;
        }
        this.history.push(cmd);
        this.index++;
        if (this.index > HISTORY_LIMIT) {
            this.index--;
            // TODO: use some kind of random-access splice-able deque?
            this.history.shift();
        }
    }
    historyReplacePrev(cmd) {
        this.history[this.index - 1] = cmd;
    }
    historyUndo(replace) {
        this.historyReplacePrev(replace);
        this.index--;
    }
    historyRedo(replace) {
        this.index++;
        this.historyReplacePrev(replace);
    }
    historyPeekPrev() {
        if (this.index <= 0)
            return undefined;
        return this.history[this.index - 1];
    }
    historyPeekNext() {
        if (this.index >= this.history.length)
            return undefined;
        return this.history[this.index];
    }
    notifyHistoryChange() {
        this.world.events.emit("command_history_change", this.canUndo(), this.canRedo());
    }
    closePartial() {
        this.isLastPartial = false;
    }
    processPartial(cmd, partial) {
        if (this.isLastPartial && !partial) {
            this.isLastPartial = false;
            // continue, this is the last partial round
        }
        else {
            // it's not partial (but also the last one was also not a partial)
            if (!partial)
                return false;
            // the last one was not partial but this one is,
            // add the command to the queue and wait for the next
            if (!this.isLastPartial && partial) {
                this.isLastPartial = true;
                return false;
            }
        }
        let lastCmd = this.historyPeekPrev();
        if (cmd.kind !== lastCmd.cmd.kind) {
            console.warn("Warning: processing a partial with a wrong last kind, did you forget to log the last partial command");
            return false;
        }
        let kind = this.commandSys.getKind(cmd.kind);
        kind.merge(cmd, lastCmd.cmd);
        this.historyReplacePrev({
            cmd,
        });
        return true;
    }
    logPrepare(partial) {
        // TODO
        /*this.prepared = {
            cmd: { kind: 'none'} as NoneCommand,
            post: [], pre: [],
        };*/
    }
    logCommit(cmd, partial) {
        //console.log("LOG", JSON.stringify(cmd));
        if (cmd === undefined) {
            if (!partial) {
                this.closePartial();
            }
            return;
        }
        if (this.processPartial(cmd, partial)) {
            return;
        }
        this.historyPush({ cmd });
        this.notifyHistoryChange();
    }
    executeEmit(cmd) {
        let res = {};
        this.world.events.emit(_commandSystem__WEBPACK_IMPORTED_MODULE_0__.EVENT_COMMAND_EMIT, cmd, res);
        return res.inverted || { kind: 'none' };
    }
    onUndo() {
        let cmd = this.historyPeekPrev();
        if (cmd === undefined) {
            console.log("Nothing to undo");
            return;
        }
        this.historyUndo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    onRedo() {
        let cmd = this.historyPeekNext();
        if (cmd === undefined) {
            console.log("Nothing to redo");
            return;
        }
        this.historyRedo({ cmd: this.executeEmit(cmd.cmd) });
        this.notifyHistoryChange();
    }
    canRedo() {
        return this.history.length > this.index;
    }
    canUndo() {
        return this.index > 0;
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/commandSystem.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/commandSystem.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_COMMAND_EMIT": () => (/* binding */ EVENT_COMMAND_EMIT),
/* harmony export */   "EVENT_COMMAND_LOG": () => (/* binding */ EVENT_COMMAND_LOG),
/* harmony export */   "EVENT_COMMAND_PARTIAL_END": () => (/* binding */ EVENT_COMMAND_PARTIAL_END),
/* harmony export */   "EVENT_COMMAND_ADD_PRE_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_PRE_CONSEQUENCE),
/* harmony export */   "EVENT_COMMAND_ADD_POST_CONSEQUENCE": () => (/* binding */ EVENT_COMMAND_ADD_POST_CONSEQUENCE),
/* harmony export */   "COMMAND_TYPE": () => (/* binding */ COMMAND_TYPE),
/* harmony export */   "CommandSystem": () => (/* binding */ CommandSystem)
/* harmony export */ });
/* harmony import */ var _spawnCommand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _despawnCommand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./despawnCommand */ "./src/app/ecs/systems/command/despawnCommand.ts");
/* harmony import */ var _componentEdit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resourceEditCommand */ "./src/app/ecs/systems/command/resourceEditCommand.ts");
/* harmony import */ var _eventCommand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./eventCommand */ "./src/app/ecs/systems/command/eventCommand.ts");
/* harmony import */ var _noneCommand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./noneCommand */ "./src/app/ecs/systems/command/noneCommand.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");







const EVENT_COMMAND_EMIT = 'command_emit';
const EVENT_COMMAND_LOG = 'command_log';
const EVENT_COMMAND_PARTIAL_END = 'command_partial_end';
const EVENT_COMMAND_ADD_PRE_CONSEQUENCE = 'command_add_precons';
const EVENT_COMMAND_ADD_POST_CONSEQUENCE = 'command_add_poscons';
const COMMAND_TYPE = 'command';
class CommandSystem {
    constructor(world) {
        this.name = COMMAND_TYPE;
        this.dependencies = [];
        this.optionalDependencies = [_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE];
        this.commands = new Map();
        this.world = world;
        this.registerDefaultCommands();
        this.world.events.on(EVENT_COMMAND_EMIT, this.onEmit, this);
        this.world.events.on(EVENT_COMMAND_LOG, this.onLog, this);
        this.world.events.on(EVENT_COMMAND_PARTIAL_END, this.onPartialEnd, this);
        this.networkSys = world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_6__.NETWORK_TYPE);
    }
    registerCommandKind(kind) {
        this.commands.set(kind.kind, kind);
    }
    registerDefaultCommands() {
        this.registerCommandKind(new _spawnCommand__WEBPACK_IMPORTED_MODULE_0__.SpawnCommandKind(this.world));
        this.registerCommandKind(new _despawnCommand__WEBPACK_IMPORTED_MODULE_1__.DeSpawnCommandKind(this.world));
        this.registerCommandKind(new _componentEdit__WEBPACK_IMPORTED_MODULE_2__.ComponentEditCommandKind(this.world));
        this.registerCommandKind(new _resourceEditCommand__WEBPACK_IMPORTED_MODULE_3__.ResourceEditCommandKind(this.world));
        this.registerCommandKind(new _eventCommand__WEBPACK_IMPORTED_MODULE_4__.EventCommandKind(this.world));
        this.registerCommandKind(new _noneCommand__WEBPACK_IMPORTED_MODULE_5__.NoneCommandKind());
    }
    onEmit(command, res, share) {
        var _a;
        let kind = this.commands.get(command.kind);
        if (kind === undefined) {
            console.warn("Error executing command: unknown kind " + kind);
            return undefined;
        }
        if (kind.isNull(command))
            return;
        // console.log("EMIT", JSON.stringify(command));
        if (((_a = this.networkSys) === null || _a === void 0 ? void 0 : _a.isOnline()) === true && share) {
            let stripped = kind.stripClient(command);
            if (stripped.length !== 0) {
                this.world.events.emit("command_share", stripped);
            }
        }
        this.world.events.emit('command_pre_execute');
        let inv;
        try {
            inv = kind.applyInvert(command);
        }
        catch (e) {
            console.warn("Cannot apply command", command, e);
            inv = undefined;
        }
        if (res !== undefined) {
            res.inverted = inv;
        }
        this.world.events.emit('command_post_execute', inv);
    }
    onLog(command, res, partial = false) {
        var _a, _b;
        let result = res || {};
        this.onEmit(command, result, true);
        if (result.inverted !== undefined) {
            let inv = result.inverted;
            let kind = this.commands.get(inv.kind);
            if (kind === undefined) {
                console.warn("Invalid inverted command! " + kind);
                return;
            }
            if (!kind.isNull(inv)) {
                (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(result.inverted, partial);
            }
            else {
                (_b = this.logger) === null || _b === void 0 ? void 0 : _b.logCommit(undefined, partial);
            }
        }
    }
    onPartialEnd() {
        var _a;
        (_a = this.logger) === null || _a === void 0 ? void 0 : _a.logCommit(undefined, false);
    }
    getKind(kind) {
        return this.commands.get(kind);
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/componentEdit.ts":
/*!******************************************************!*\
  !*** ./src/app/ecs/systems/command/componentEdit.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "componentEditCommand": () => (/* binding */ componentEditCommand),
/* harmony export */   "singleEditCommand": () => (/* binding */ singleEditCommand),
/* harmony export */   "ComponentEditCommandKind": () => (/* binding */ ComponentEditCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/jsobj */ "./src/app/util/jsobj.ts");



function componentEditCommand(add, edit, remove, parallel) {
    return {
        kind: 'cedit',
        add,
        edit,
        remove,
        multi: parallel
    };
}
function singleEditCommand(edit) {
    return componentEditCommand(undefined, [edit]);
}
class ComponentEditCommandKind {
    constructor(world) {
        this.kind = 'cedit';
        this.world = world;
    }
    applyInvert(cmd) {
        var _a, _b, _c, _d, _e, _f;
        let inv = {
            kind: 'cedit',
        };
        for (let c of (_a = cmd.add) !== null && _a !== void 0 ? _a : []) {
            inv.remove = (_b = inv.remove) !== null && _b !== void 0 ? _b : [];
            inv.remove.push({
                entity: c.entity,
                type: c.type,
                multiId: c.multiId,
            });
            this.world.addComponent(c.entity, c);
        }
        if (!cmd.multi) {
            for (let c of (_c = cmd.edit) !== null && _c !== void 0 ? _c : []) {
                this.world.editComponent(c.entity, c.type, c.changes, c.multiId, false);
            }
        }
        else {
            let entityMap = new Map();
            for (let c of (_d = cmd.edit) !== null && _d !== void 0 ? _d : []) {
                let x = entityMap.get(c.entity);
                if (x === undefined) {
                    x = [];
                    entityMap.set(c.entity, x);
                }
                x.push({
                    type: c.type,
                    multiId: c.multiId,
                    changes: c.changes,
                });
            }
            for (let [key, val] of entityMap.entries()) {
                this.world.editComponentMultiple(key, val);
            }
        }
        inv.edit = cmd.edit;
        for (let c of (_e = cmd.remove) !== null && _e !== void 0 ? _e : []) {
            let component = this.world.getComponent(c.entity, c.type, c.multiId);
            if (component !== undefined) {
                this.world.removeComponent(component);
                inv.add = (_f = inv.add) !== null && _f !== void 0 ? _f : [];
                inv.add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(component));
            }
        }
        return inv;
    }
    stripClient(cmd) {
        var _a, _b, _c, _d, _e, _f, _g;
        // Get all of the new entitites that have been hidden
        let host_hidden = (_b = (_a = cmd.add) === null || _a === void 0 ? void 0 : _a.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _b !== void 0 ? _b : [];
        // Get all fof the new entities that have been un-hidden (shown)
        let non_host_hidden = (_d = (_c = cmd.remove) === null || _c === void 0 ? void 0 : _c.filter(x => x.type === _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE).map(x => x.entity)) !== null && _d !== void 0 ? _d : [];
        // Checks if a component is visible (a component is bisible if clientVisible !== false and if it's
        //   not host-hidden)
        let predicate = (x) => {
            if (x.clientVisible === false)
                return false;
            if (host_hidden.indexOf(x.entity) > -1)
                return false;
            if (non_host_hidden.indexOf(x.entity) > -1)
                return true;
            return this.world.getComponent(x.entity, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined;
        };
        // Filters a component based on the old component, for example:
        // if the old component is hidden and the new edits do not change that, the component is filtered
        // if the old component is hidden and the new edits might change it,  it's not hidden
        // if the old component is not hidden, it's not hidden
        let partialPredicate = (entity, type, multiId, changes) => {
            let real = this.world.getComponent(entity, type, multiId);
            if (real.clientVisible === false && !('clientVisible' in changes))
                return false;
            return predicate({ entity, type });
        };
        // get added components that are only visible to the client
        let add = (_e = cmd.add) === null || _e === void 0 ? void 0 : _e.filter(predicate);
        // get edited components that are only visible to the client
        let edit = (_f = cmd.edit) === null || _f === void 0 ? void 0 : _f.filter(x => partialPredicate(x.entity, x.type, x.multiId, x.changes));
        // get removed components that are only visible to the client
        let remove = (_g = cmd.remove) === null || _g === void 0 ? void 0 : _g.filter(x => x.type !== _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE && partialPredicate(x.entity, x.type, x.multiId, {}));
        // If we set clientVisible === false in a component we need a way to remove it on the client
        //  and we also need to do the same thing in reverse
        // We need to propagate the changes in edit to add and remove components with clientVisible
        edit = edit === null || edit === void 0 ? void 0 : edit.filter(x => {
            // if the edits did not change the visibility the old filter has finished all of the work
            if (!('clientVisible' in x.changes))
                return true;
            let orig = this.world.getComponent(x.entity, x.type, x.multiId);
            if (orig === undefined)
                return false;
            if (x.changes.clientVisible === false && orig.clientVisible !== false) {
                // if the edits have hidden the component (and it wasn't hidden already) then remove it
                remove = remove !== null && remove !== void 0 ? remove : [];
                remove.push({
                    entity: x.entity,
                    type: x.type,
                    multiId: x.multiId,
                });
            }
            else if (x.changes.clientVisible !== false && orig.clientVisible === false) {
                // If the edits have unhidden the component (and it was hidden before) then add it
                add = add !== null && add !== void 0 ? add : [];
                add.push((0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.filterComponentKeepEntity)(orig));
            }
            return false;
        });
        let res = new Array();
        if (host_hidden.length !== 0) {
            res.push({
                kind: 'despawn',
                entities: host_hidden,
            });
        }
        if (non_host_hidden.length !== 0) {
            res.push(this.createEntitySpawnPacket(non_host_hidden));
        }
        if (((add === null || add === void 0 ? void 0 : add.length) || 0) + ((edit === null || edit === void 0 ? void 0 : edit.length) || 0) + ((remove === null || remove === void 0 ? void 0 : remove.length) || 0) !== 0) {
            let cedit = {
                kind: 'cedit'
            };
            if (add !== undefined && add.length > 0)
                cedit.add = add.map(_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectClone);
            if (edit !== undefined && edit.length > 0) {
                cedit.edit = edit.map(_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectClone);
                if (cmd.multi)
                    cedit.multi = true;
            }
            if (remove !== undefined && remove.length > 0)
                cedit.remove = remove.map(_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.objectClone);
            res.push(cedit);
        }
        return res;
    }
    merge(to, from) {
        if (to.multi !== from.multi)
            return false;
        // TODO: from should remove entities added in to.
        //       handle entities edited in to but removed in from
        to.add = mergeNullableArrays(to.add, from.add);
        to.remove = mergeNullableArrays(to.remove, from.remove);
        if (from.edit !== undefined) {
            if (to.edit === undefined) {
                to.edit = from.edit;
            }
            else {
                for (let x of from.edit) {
                    let z = to.edit.find(y => x.entity === y.entity && x.type === y.type && x.multiId === y.multiId);
                    if (z === undefined) {
                        to.edit.push(x);
                    }
                    else {
                        Object.assign(z.changes, x.changes);
                    }
                }
            }
        }
        return true;
    }
    isNull(command) {
        var _a, _b, _c;
        if ((((_a = command.add) === null || _a === void 0 ? void 0 : _a.length) || 0) + (((_b = command.remove) === null || _b === void 0 ? void 0 : _b.length) || 0) !== 0)
            return false;
        for (let edit of (_c = command.edit) !== null && _c !== void 0 ? _c : []) {
            for (let c in edit.changes) {
                return false;
            }
        }
        return true;
    }
    createEntitySpawnPacket(entities) {
        let data = this.world.serialize({
            requireSync: true,
            stripClient: true,
            ignoreHostHidden: true,
            only: new Set(entities),
        });
        return {
            kind: 'spawn',
            data,
        };
    }
}
function mergeNullableArrays(a, b) {
    if (a === undefined)
        return b;
    if (b === undefined)
        return a;
    a.push(...b);
    return a;
}


/***/ }),

/***/ "./src/app/ecs/systems/command/despawnCommand.ts":
/*!*******************************************************!*\
  !*** ./src/app/ecs/systems/command/despawnCommand.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DeSpawnCommandKind": () => (/* binding */ DeSpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");

class DeSpawnCommandKind {
    constructor(world) {
        this.kind = 'despawn';
        this.world = world;
    }
    applyInvert(cmd) {
        const data = this.world.serialize({
            only: new Set(cmd.entities),
            requireSave: true,
        });
        for (let e of cmd.entities) {
            this.world.despawnEntity(e);
        }
        return {
            kind: 'spawn',
            data,
        };
    }
    stripClient(command) {
        let entities = command.entities.filter(x => this.world.getComponent(x, _component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE) === undefined);
        if (entities.length === 0)
            return [];
        return [{
                kind: 'despawn',
                entities,
            }];
    }
    merge(to, from) {
        to.entities.push(...from.entities);
        return true;
    }
    isNull(command) {
        return command.entities.length === 0;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/eventCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/eventCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventCommandKind": () => (/* binding */ EventCommandKind)
/* harmony export */ });
class EventCommandKind {
    constructor(world) {
        this.kind = 'event';
        this.world = world;
    }
    applyInvert(cmd) {
        this.world.events.emit(cmd.do.name, ...cmd.do.args);
        return {
            kind: 'event',
            do: cmd.undo,
            undo: cmd.do,
        };
    }
    stripClient(command) {
        return [command];
    }
    merge(to, from) {
        return false;
    }
    isNull(command) {
        return false;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/noneCommand.ts":
/*!****************************************************!*\
  !*** ./src/app/ecs/systems/command/noneCommand.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoneCommandKind": () => (/* binding */ NoneCommandKind)
/* harmony export */ });
class NoneCommandKind {
    constructor() {
        this.kind = 'none';
    }
    applyInvert(cmd) {
        return cmd;
    }
    stripClient(command) {
        return [];
    }
    merge(to, from) {
        return true;
    }
    isNull(command) {
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/resourceEditCommand.ts":
/*!************************************************************!*\
  !*** ./src/app/ecs/systems/command/resourceEditCommand.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResourceEditCommandKind": () => (/* binding */ ResourceEditCommandKind)
/* harmony export */ });
class ResourceEditCommandKind {
    constructor(world) {
        this.kind = 'redit';
        this.world = world;
    }
    applyInvert(cmd) {
        let inv = {
            kind: 'redit',
            add: [],
            edit: [],
            remove: [],
        };
        for (let c of cmd.add) {
            inv.remove.push(c.type);
            this.world.addResource(c);
        }
        for (let name in cmd.edit) {
            // Data gets swapped with the changes
            let data = cmd.edit[name];
            this.world.editResource(name, data);
        }
        inv.edit = cmd.edit;
        for (let c of cmd.remove) {
            let res = this.world.getResource(c);
            if (res === undefined)
                continue;
            inv.add.push(res);
            this.world.removeResource(c);
        }
        return inv;
    }
    stripClient(cmd) {
        var _a;
        let add = cmd.add.filter(x => x._sync);
        let edit = {};
        let editc = 0;
        for (let type in cmd.edit) {
            if ((_a = this.world.getResource(type)) === null || _a === void 0 ? void 0 : _a._sync) {
                editc += 1;
                edit[type] = cmd.edit[type];
            }
        }
        let remove = cmd.remove.filter(x => { var _a; return (_a = this.world.getResource(x)) === null || _a === void 0 ? void 0 : _a._sync; });
        if (add.length + editc + remove.length === 0) {
            return [];
        }
        return [{
                kind: 'redit',
                add, edit, remove,
            }];
    }
    merge(to, from) {
        to.add.push(...from.add);
        to.remove.push(...from.remove);
        for (let type in from.edit) {
            if (type in to.edit) {
                Object.assign(to.edit[type], from.edit[type]);
            }
            else {
                to.edit[type] = from.edit[type];
            }
        }
        return true;
    }
    isNull(command) {
        if (command.add.length + command.remove.length !== 0)
            return false;
        for (let type in command.edit) {
            for (let change in command.edit[type]) {
                return false;
            }
        }
        return true;
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/command/spawnCommand.ts":
/*!*****************************************************!*\
  !*** ./src/app/ecs/systems/command/spawnCommand.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpawnCommandKind": () => (/* binding */ SpawnCommandKind)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/jsobj */ "./src/app/util/jsobj.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




class SpawnCommandKind {
    constructor(world) {
        this.kind = 'spawn';
        this.world = world;
    }
    applyInvert(cmd) {
        this.world.deserialize(cmd.data, {});
        return {
            kind: 'despawn',
            entities: cmd.data.entities,
        };
    }
    stripClient(command) {
        const hostHidden = command.data.storages[_component__WEBPACK_IMPORTED_MODULE_0__.HOST_HIDDEN_TYPE];
        const entityFilter = (x) => hostHidden === undefined || hostHidden.indexOf(x) < 0;
        let newEntities = command.data.entities.filter(entityFilter);
        if (newEntities.length === 0) {
            return [];
        }
        let newStorages = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_3__.objectClone)(command.data.storages);
        (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_3__.objectFilterInplace)(newStorages, (storName, data) => {
            const storage = this.world.getStorage(storName);
            if (!storage.sync)
                return false;
            storage.serializedStrip(data, entityFilter);
            return true;
        });
        return [{
                kind: 'spawn',
                data: {
                    entities: newEntities,
                    storages: newStorages,
                }
            }];
    }
    merge(to, from) {
        to.data.entities.push(...from.data.entities);
        for (let storageName in from.data.storages) {
            const fromStorage = from.data.storages[storageName];
            const toStorage = to.data.storages[storageName];
            if (toStorage === undefined) {
                to.data.storages[storageName] = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_1__.componentClone)(fromStorage);
                continue;
            }
            this.world.getStorage(storageName)
                .serializedMerge(toStorage, fromStorage);
        }
        return true;
    }
    isNull(command) {
        return command.data.entities.length === 0;
    }
    static from(world, components) {
        const entity = world.allocateId();
        const cmd = {
            entities: [entity],
            storages: {},
        };
        for (let comp of components) {
            const storage = world.getStorage(comp.type);
            delete comp.type;
            if (storage instanceof _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage) {
                cmd.storages[storage.type] = {};
                cmd.storages[storage.type][entity] = comp;
            }
            else if (storage instanceof _storage__WEBPACK_IMPORTED_MODULE_2__.MultiEcsStorage) {
                let data = cmd.storages[storage.type];
                if (data === undefined) {
                    data = {};
                    data[entity] = [];
                    cmd.storages[storage.type] = data;
                }
                data[entity].push(comp);
            }
            else if (storage instanceof _storage__WEBPACK_IMPORTED_MODULE_2__.FlagEcsStorage) {
                cmd.storages[storage.type] = [entity];
            }
            else {
                console.warn("Unknown storage type: " + storage.type);
            }
        }
        return {
            kind: 'spawn',
            data: cmd,
        };
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/copyPasteSystem.ts":
/*!************************************************!*\
  !*** ./src/app/ecs/systems/copyPasteSystem.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COPY_PASTE_TYPE": () => (/* binding */ COPY_PASTE_TYPE),
/* harmony export */   "CopyPasteSystem": () => (/* binding */ CopyPasteSystem)
/* harmony export */ });
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _back_keyboardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");






const CLIPBOARD_DATA = 'dndme-clip';
const COPY_PASTE_TYPE = 'copy_paste';
class CopyPasteSystem {
    constructor(world) {
        this.name = COPY_PASTE_TYPE;
        this.dependencies = [_back_selectionSystem__WEBPACK_IMPORTED_MODULE_0__.SELECTION_TYPE, _back_keyboardSystem__WEBPACK_IMPORTED_MODULE_1__.KEYBOARD_TYPE];
        this.isActive = false;
        this.lastIgnorePaste = 0;
        this.world = world;
        this.keyboard = world.getResource(_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_1__.KEYBOARD_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_0__.SELECTION_TYPE);
        this.world.events.on('ignore_next_paste', this.onIgnoreNextPaste, this);
    }
    onIgnoreNextPaste() {
        this.lastIgnorePaste = Date.now();
    }
    onPaste(e) {
        if (e.target instanceof HTMLInputElement || e.clipboardData == null) {
            return;
        }
        if (Date.now() < this.lastIgnorePaste + 300) {
            this.lastIgnorePaste = 0;
            return;
        }
        const text = e.clipboardData.getData('text/plain');
        let parsed;
        try {
            parsed = JSON.parse(text);
            if (parsed.format !== CLIPBOARD_DATA) {
                console.warn("Invalid JSON format");
                return;
            }
            if (parsed.ver !== 1) {
                console.warn("Invalid pasted version");
                return;
            }
        }
        catch (e) {
            console.warn("Copied content is not valid dndme data");
            return;
        }
        const transform = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_5__.BOARD_TRANSFORM_TYPE);
        if (transform !== undefined) {
            const boardSize = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_5__.BOARD_SIZE_TYPE);
            const randX = Math.random() + 0.5;
            const randY = Math.random() + 0.5;
            this.moveSerialized(parsed.data, (boardSize.width * randX / 2 - transform.posX) / transform.scaleX, (boardSize.height * randY / 2 - transform.posY) / transform.scaleY);
        }
        this.world.deserialize(parsed.data, {
            remap: true,
            thenSelect: true,
        });
    }
    copyOrCut(del) {
        const data = this.world.serialize({
            requireSave: true,
            remap: true,
            only: this.selectionSys.selectedEntities,
        });
        this.repositionSerialized(data);
        const ser = JSON.stringify({
            format: CLIPBOARD_DATA,
            ver: 1,
            data,
        });
        if (del) {
            const cmd = {
                kind: 'despawn',
                entities: [...this.selectionSys.selectedEntities],
            };
            (0,_command_command__WEBPACK_IMPORTED_MODULE_2__.executeAndLogCommand)(this.world, cmd);
        }
        return ser;
    }
    onCopy(e) {
        if (e.target instanceof HTMLInputElement || e.clipboardData == null) {
            return;
        }
        e.preventDefault();
        const ser = this.copyOrCut(false);
        e.clipboardData.setData("text/plain", ser);
    }
    onCut(e) {
        if (e.target instanceof HTMLInputElement || e.clipboardData == null) {
            return;
        }
        e.preventDefault();
        const ser = this.copyOrCut(true);
        e.clipboardData.setData("text/plain", ser);
    }
    repositionSerialized(ser) {
        const posStorage = ser.storages[_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE];
        if (posStorage === undefined)
            return;
        let bb = undefined;
        for (let name in posStorage) {
            const data = posStorage[name];
            if (bb === undefined) {
                bb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_4__.Aabb.fromPoint(data);
            }
            else {
                bb.intersect(_geometry_aabb__WEBPACK_IMPORTED_MODULE_4__.Aabb.fromPoint(data), bb);
            }
        }
        if (bb === undefined)
            return;
        const center = bb.getCenter();
        this.moveSerialized(ser, -center.x, -center.y);
    }
    moveSerialized(ser, dx, dy) {
        const posStorage = ser.storages[_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE];
        if (posStorage === undefined)
            return;
        for (let name in posStorage) {
            const data = posStorage[name];
            data.x += dx;
            data.y += dy;
        }
    }
    enable() {
        this.copyListener = this.onCopy.bind(this);
        document.addEventListener('copy', this.copyListener);
        this.cutListener = this.onCut.bind(this);
        document.addEventListener('cut', this.cutListener);
        this.pasteListener = this.onPaste.bind(this);
        document.addEventListener('paste', this.pasteListener);
    }
    destroy() {
        document.removeEventListener('copy', this.copyListener);
        document.removeEventListener('cut', this.cutListener);
        document.removeEventListener('paste', this.pasteListener);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/doorSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/doorSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoorType": () => (/* binding */ DoorType),
/* harmony export */   "DOOR_TYPE": () => (/* binding */ DOOR_TYPE),
/* harmony export */   "DoorSystem": () => (/* binding */ DoorSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _wallSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");













var DoorType;
(function (DoorType) {
    DoorType["NORMAL_LEFT"] = "normall";
    DoorType["NORMAL_RIGHT"] = "normalr";
    DoorType["ROTATE"] = "rotate";
})(DoorType || (DoorType = {}));
const DOOR_TYPE = 'door';
class DoorSystem {
    constructor(ecs) {
        this.name = DOOR_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(DOOR_TYPE, true, true);
        this.isMasterView = false;
        this.world = ecs;
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.DETAILS, false));
        this.displayContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        this.pixiBoardSys = ecs.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_9__.PIXI_BOARD_TYPE);
        this.wallSys = ecs.systems.get(_wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        this.world.addStorage(this.storage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        if (ecs.isMaster) {
            this.world.events.on('interact', this.onInteract, this);
        }
    }
    redrawComponent(door) {
        var _a;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let visible = this.isMasterView ||
            (this.world.getComponent(door.entity, _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__.REMEMBER_TYPE) !== undefined && door.clientVisible !== false);
        if (!visible) {
            (_a = door._display) === null || _a === void 0 ? void 0 : _a.clear();
            return;
        }
        // TODO: use interaction shape? (might bug out on translations)
        let line = new _geometry_line__WEBPACK_IMPORTED_MODULE_4__.Line(pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]);
        this.drawLines(door, line);
    }
    drawLines(door, line) {
        let g = door._display;
        if (g === undefined)
            return;
        g.clear();
        g.lineStyle(2, 0, 0.5);
        switch (door.doorType) {
            case DoorType.NORMAL_LEFT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.toY - line.fromY, line.toX - line.fromX);
                if (door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.fromX, line.fromY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let r = line.distance();
                let startAngle = Math.atan2(line.fromY - line.toY, line.fromX - line.toX);
                if (!door.open)
                    startAngle -= Math.PI / 2;
                g.arc(line.toX, line.toY, r, startAngle, startAngle + Math.PI / 2);
                break;
            }
            case DoorType.ROTATE: {
                let r = line.distance() / 2;
                let cx = (line.fromX + line.toX) / 2;
                let cy = (line.fromY + line.toY) / 2;
                g.drawCircle(cx, cy, r);
                break;
            }
            default:
                console.warn("Unknown door type: " + door.doorType);
        }
    }
    openDoor(door, doorType, open) {
        var _a, _b, _c, _d;
        let wall = this.world.getComponent(door.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
        let pos = this.world.getComponent(door.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let newPos = undefined;
        let newVec = undefined;
        switch (doorType) {
            case DoorType.NORMAL_LEFT: {
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, Math.PI / 2 * (open ? -1 : 1), { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.NORMAL_RIGHT: {
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] }, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)({ x: 0, y: 0 }, angle, { x: wall.vec[0], y: wall.vec[1] });
                break;
            }
            case DoorType.ROTATE: {
                let hvx = wall.vec[0] / 2;
                let hvy = wall.vec[1] / 2;
                let origin = { x: pos.x + hvx, y: pos.y + hvy };
                let angle = Math.PI / 2 * (open ? 1 : -1);
                newPos = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x, y: pos.y });
                newVec = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_6__.rotatePointByOrig)(origin, angle, { x: pos.x + wall.vec[0], y: pos.y + wall.vec[1] });
                newVec.x -= newPos.x;
                newVec.y -= newPos.y;
                break;
            }
            default:
                console.warn("Unknown door type: " + doorType);
        }
        let px = (_a = newPos === null || newPos === void 0 ? void 0 : newPos.x) !== null && _a !== void 0 ? _a : pos.x;
        let py = (_b = newPos === null || newPos === void 0 ? void 0 : newPos.y) !== null && _b !== void 0 ? _b : pos.y;
        let vx = (_c = newVec === null || newVec === void 0 ? void 0 : newVec.x) !== null && _c !== void 0 ? _c : wall.vec[0];
        let vy = (_d = newVec === null || newVec === void 0 ? void 0 : newVec.y) !== null && _d !== void 0 ? _d : wall.vec[1];
        let intersectWith = this.wallSys.queryIntersections(px, py, vx, vy);
        if (!(intersectWith.length === 0 || (intersectWith.length === 1 && intersectWith[0] === door.entity))) {
            console.log("Door stuck");
            // Collision, don't split the door pls.
            return false;
        }
        let changes = [];
        if (newPos !== undefined) {
            changes.push({
                entity: door.entity,
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                changes: {
                    x: newPos.x,
                    y: newPos.y,
                },
            });
        }
        if (newVec !== undefined) {
            changes.push({
                entity: door.entity,
                type: _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE,
                changes: {
                    vec: [newVec.x, newVec.y],
                },
            });
        }
        // Commit the edits at the same time to prevent the wall from being split (multi = true)
        // (if we commit position before rotation it might create an overlap situation that should
        // not be there).
        let cmd = {
            kind: 'cedit',
            edit: changes,
            multi: true,
        };
        // Why are we using share?
        // We're editing another synced component, but this (the door) might be hidden.
        // If the master opens a hidden door the "open" message will not be shared but the door should still open for
        // the roleplayers.
        // Addendum: what if the entity is hidden? Then the command will edit a hidden entity so it will be stripped away.
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.emitCommand)(this.world, cmd, !door.clientVisible);
        return true;
    }
    onComponentAdd(comp) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            d._display = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Graphics();
            this.displayContainer.addChild(d._display);
            // Do NOT re-open the door, if it is open it means that it has been loaded from file and the wall is
            // already in the "door open" state. Bad snowy, wtf were you thinking
            this.redrawComponent(d);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            if (wall !== undefined)
                wall._dontMerge++;
        }
        else if (comp.type === _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_7__.REMEMBER_TYPE) {
            let door = this.storage.getComponent(comp.entity);
            if (door !== undefined) {
                this.redrawComponent(door);
            }
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            if ('open' in changed) {
                if (!this.openDoor(d, d.doorType, d.open)) {
                    // TODO: well, this does not work right with the GUI
                    d.open = !d.open;
                }
            }
            if ('doorType' in changed) {
                if (d.open) {
                    this.openDoor(d, changed['doorType'], false) && this.openDoor(d, d.doorType, true);
                }
            }
            this.redrawComponent(d);
        }
        else if (comp.type === 'wall') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
        else if (comp.type === 'position') {
            let d = this.storage.getComponent(comp.entity);
            if (d !== undefined)
                this.redrawComponent(d);
        }
    }
    onComponentRemove(comp) {
        var _a;
        if (comp.type === DOOR_TYPE) {
            let d = comp;
            (_a = d._display) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
            let wall = this.world.getComponent(comp.entity, _wallSystem__WEBPACK_IMPORTED_MODULE_5__.WALL_TYPE);
            wall._dontMerge--;
        }
    }
    onResourceEdited(res, edited) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_8__.LOCAL_LIGHT_SETTINGS_TYPE && 'visionType' in edited) {
            this.isMasterView = res.visionType !== 'rp';
            for (let c of this.storage.allComponents()) {
                this.redrawComponent(c);
            }
        }
    }
    onInteract(entities) {
        for (let entity of entities) {
            let door = this.storage.getComponent(entity);
            if (door === undefined)
                continue;
            let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_10__.singleEditCommand)({
                entity,
                type: DOOR_TYPE,
                changes: {
                    open: !door.open,
                }
            });
            (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.world, cmd);
        }
    }
    enable() {
        var _a;
        this.layer.interactive = false;
        this.pixiBoardSys.root.addChild(this.layer);
        this.displayContainer.parentLayer = this.layer;
        this.displayContainer.interactive = false;
        this.displayContainer.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.displayContainer);
        this.isMasterView = ((_a = this.world.getResource(_lightSystem__WEBPACK_IMPORTED_MODULE_8__.LOCAL_LIGHT_SETTINGS_TYPE)) === null || _a === void 0 ? void 0 : _a.visionType) !== 'rp';
    }
    destroy() {
        this.displayContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
        this.layer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/gridSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/gridSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GRID_TYPE": () => (/* binding */ GRID_TYPE),
/* harmony export */   "GridSystem": () => (/* binding */ GridSystem)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");









const SQRT3 = Math.sqrt(3);
const GRID_TYPE = 'grid';
class GridSystem {
    constructor(world) {
        this.name = GRID_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.PIXI_BOARD_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_6__.SELECTION_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE];
        this.internalScale = 1;
        this.posX = 0;
        this.posY = 0;
        this.scaleX = 1;
        this.scaleY = 1;
        this.world = world;
        this.boardSys = world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.PIXI_BOARD_TYPE);
        let screen = this.boardSys.renderer.screen;
        this.sprite = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].TilingSprite(_PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture.EMPTY, screen.width, screen.height);
        this.sprite.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_8__.LayerOrder.GRID;
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
        toolSys.addToolAsCopy(_tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.GRID, _tools_toolType__WEBPACK_IMPORTED_MODULE_7__.Tool.INSPECT);
        world.events.on('resource_edited', this.onResourceEdited, this);
        world.events.on('resource_remove', this.onResourceRemove, this);
        this.gridRes = Object.assign({
            type: GRID_TYPE,
            _save: true,
            _sync: true,
        }, _game_grid__WEBPACK_IMPORTED_MODULE_3__.STANDARD_GRID_OPTIONS);
        world.addResource(this.gridRes);
        this.updateTex();
        this.updatePos();
    }
    onResourceEdited(res, changed) {
        if (res.type === GRID_TYPE) {
            // Redraw
            this.updateTex();
            this.updatePos();
        }
        else if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_4__.BOARD_TRANSFORM_TYPE) {
            this.onBoardTransform(res);
        }
    }
    onResourceRemove(res) {
        if (res.type !== GRID_TYPE)
            return;
        throw new Error('Fool! Thou shall not remove thy grid!');
    }
    onBoardTransform(data) {
        this.posX = data.posX;
        this.posY = data.posY;
        this.scaleX = data.scaleX;
        this.scaleY = data.scaleY;
        this.updatePos();
    }
    onResize(width, height) {
        this.sprite.width = width;
        this.sprite.height = height;
    }
    updateTex() {
        this.sprite.texture.destroy(true);
        if (!this.gridRes.visible) {
            this.sprite.texture = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture.EMPTY;
            return;
        }
        let tex = drawGridTexture(512, this.gridRes.gridType, this.gridRes);
        this.internalScale = this.gridRes.size / 512;
        this.sprite.texture = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture(tex);
    }
    updatePos() {
        this.sprite.tileScale.set(this.scaleX * this.internalScale, this.scaleY * this.internalScale);
        this.sprite.tilePosition.set(this.posX + this.scaleX * this.gridRes.offX * this.gridRes.size, this.posY + this.scaleY * this.gridRes.offY * this.gridRes.size);
    }
    closestPoint(point) {
        if (this.gridRes === undefined)
            return undefined;
        let pnt = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(point[0], point[1]);
        this.sprite.worldTransform.apply(pnt, pnt);
        let pointX = pnt.x / this.gridRes.size - this.gridRes.offX;
        let pointY = pnt.y / this.gridRes.size - this.gridRes.offY;
        let resX;
        let resY;
        switch (this.gridRes.gridType) {
            case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.SQUARE:
                {
                    let fx = Math.floor(pointX);
                    let fy = Math.floor(pointY);
                    resX = fx;
                    resY = fy;
                    if (pointX > fx + 0.5) {
                        resX += 1;
                    }
                    if (pointY > fy + 0.5) {
                        resY += 1;
                    }
                    // Also check grid center
                    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(pointX, pointY, fx + 0.5, fy + 0.5) < (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(pointX, pointY, resX, resY)) {
                        resX = fx + 0.5;
                        resY = fy + 0.5;
                    }
                }
                break;
            case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.HEXAGON:
                {
                    // The algorithm here is quite complex and I couldn't find any of this online, so this is my own solution:
                    // (note: hexagon side = 1 because of the initial transformation).
                    // First we can notice that if we colour each point in a different colour depending on which vertex
                    // is closer to him (in a hexagonal grid) we find a grid of equilateral triangles of side 1.
                    // We then transform our grid by 2 / sqrt(3) on the horizontal side so that the height of the triangles
                    // will be the same as their base.
                    // With that done we can put a square grid on top of our triangle grid, each square will hold one
                    // triangle at its center and two halfes at the top and bottom.
                    // We can see which square the point belongs to by flooring the transformed x and y components, then
                    // we can check which triangle the points belongs to by chechinkg if the point is above or below
                    // the diagonal lines of equation: y < 0.5 - x/2 and y > x/2 + 0.5
                    // Note that each triangle column has half of a hexagon so the odd-ones will be flipped.
                    const s = 1 / SQRT3; // Hexagon Side = 1/sqrt(3)
                    let px = (pointX - s / 2) * 2 / SQRT3; // align the point with the triangle grid, and transform the grid
                    let py = pointY;
                    let sx = Math.floor(px);
                    let sy = Math.floor(py);
                    let gx = (px - sx);
                    let gy = (py - sy);
                    let rx = sx * SQRT3 / 2 + s / 2;
                    if (sx % 2 == 0) {
                        // Left side hexagon
                        if (gy < 0.5 - gx / 2) {
                            resY = sy;
                            resX = rx + s / 2;
                        }
                        else if (gy > gx / 2 + 0.5) {
                            resY = sy + 1;
                            resX = rx + s / 2;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s;
                        }
                    }
                    else {
                        // Flipped hexagon: right side hex.
                        if (gy > 1 - gx / 2) {
                            resY = sy + 1;
                            resX = rx + s;
                        }
                        else if (gy < gx / 2) {
                            resY = sy;
                            resX = rx + s;
                        }
                        else {
                            resY = sy + 0.5;
                            resX = rx + s / 2;
                        }
                    }
                }
                break;
        }
        pnt.set((resX + this.gridRes.offX) * this.gridRes.size, (resY + this.gridRes.offY) * this.gridRes.size);
        this.sprite.worldTransform.applyInverse(pnt, pnt);
        return [pnt.x, pnt.y];
    }
    enable() {
        this.boardSys.renderer.on('resize', this.onResize, this);
        const layer = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_8__.LayerOrder.GRID, false));
        this.sprite.parentLayer = layer;
        this.boardSys.root.addChild(layer, this.sprite);
        const screen = this.boardSys.renderer.screen;
        this.onResize(screen.width, screen.height);
    }
    destroy() {
        this.sprite.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_2__.DESTROY_ALL);
    }
}
// ----------------------------------------- DRAW -----------------------------------------
function drawGridTexture(size, type, options) {
    let canvas;
    switch (type) {
        case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.HEXAGON:
            canvas = drawHex(size, options);
            break;
        case _game_grid__WEBPACK_IMPORTED_MODULE_3__.GridType.SQUARE:
            canvas = drawSquare(size, options);
            break;
        default:
            throw new Error('Cannot draw unknown type: ' + type);
    }
    return _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].BaseTexture.fromBuffer(new Uint8Array(canvas.data.buffer), canvas.width, canvas.height);
}
function drawSquare(size, opt) {
    //let canvas = new OffscreenCanvas(size, size);
    let canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.strokeRect(0, 0, size + 1, size + 1);
    return ctx.getImageData(0, 0, size, size);
}
function drawHex(size, opt) {
    let s = size / SQRT3; // Side
    let width = Math.floor(3 * s);
    //let canvas = new OffscreenCanvas(width, size);
    let canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = size;
    let ctx = canvas.getContext("2d");
    let d = size;
    ctx.lineWidth = opt.thick;
    ctx.strokeStyle = colorToHex(opt.color, opt.opacity);
    ctx.moveTo(0, 0);
    ctx.lineTo(s, 0);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.lineTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, 0);
    ctx.moveTo(0, d);
    ctx.lineTo(s, d);
    ctx.lineTo(s + s / 2, d / 2);
    ctx.moveTo(2 * s + s / 2, d / 2);
    ctx.lineTo(3 * s, d);
    // Lines before the image:
    ctx.moveTo(0, 0);
    ctx.lineTo(-s / 2, d / 2);
    ctx.lineTo(0, d);
    ctx.stroke();
    return ctx.getImageData(0, 0, width, size);
}
function colorToHex(color, opacity) {
    return '#' + color.toString(16).padStart(6, '0')
        + ((255 * opacity) | 0).toString(16).padStart(2, '0');
}


/***/ }),

/***/ "./src/app/ecs/systems/lightSystem.ts":
/*!********************************************!*\
  !*** ./src/app/ecs/systems/lightSystem.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_BACKGROUND": () => (/* binding */ DEFAULT_BACKGROUND),
/* harmony export */   "DEFAULT_LIGHT_SETTINGS": () => (/* binding */ DEFAULT_LIGHT_SETTINGS),
/* harmony export */   "LIGHT_TYPE": () => (/* binding */ LIGHT_TYPE),
/* harmony export */   "LIGHT_SETTINGS_TYPE": () => (/* binding */ LIGHT_SETTINGS_TYPE),
/* harmony export */   "LOCAL_LIGHT_SETTINGS_TYPE": () => (/* binding */ LOCAL_LIGHT_SETTINGS_TYPE),
/* harmony export */   "LightSystem": () => (/* binding */ LightSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");








var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].utils.hex2rgb;





const DEFAULT_BACKGROUND = 0x6e472c;
const DEFAULT_LIGHT_SETTINGS = {
    ambientLight: 0x555555,
    background: DEFAULT_BACKGROUND,
    needsLight: true,
};
const LIGHT_TYPE = 'light';
const LIGHT_SETTINGS_TYPE = 'light_settings';
const LOCAL_LIGHT_SETTINGS_TYPE = 'local_light_settings';
/**
 * How is light rendered?
 * There are three logical passes on a separate framebuffer.
 * Then this framebuffer is pasted onto the real screen.
 * 1. Clear the RGBA channels with the ambient light.
 * 2. Draw only in the ALPHA channel every player mesh (achieved by setting the color to 0)
 * 3. Draw the light only where the ALPHA channel is 1 (using a custom blend mode)
 * 4. Draw the framebuffer on the screen ignoring the ALPHA channel (using a custom blend mode)
 *
 * Why is this usage of the alpha channel used?
 * We need to render light only where visible, so in the RP-view the players vision polygons should be used as a
 * mask for the light (you can't see a light that no player sees). So when the RP-view is enabled the framebuffer is
 * cleared with alpha=0 and the player's vision will fill in the alpha (they should be rendered BEFORE the lights).
 * When the DM-view is enabled the framebuffer is rendered with alpha=1 and the player's view is not drawn.
 *
 * Why isn't the visibility polygon rendering batched?
 * We need uniforms in the shaders to know the distance from the light center: remember that visibility mesh is not only
 * the visibility polygon, it also calculates the distance form the center of the light (to render a proper circle).
 * So yeah, no batched uniforms in WebGL it seems. (TODO: explore more possibilities)
 */
class LightSystem {
    constructor(world) {
        var _a;
        this.name = LIGHT_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE, _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(LIGHT_TYPE);
        this.world = world;
        this.boardSys = world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE);
        this.lightLayer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.LIGHT, false));
        this.playerContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        this.lightContainer = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Container();
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_8__.TOOL_TYPE);
        toolSys.addToolAsCopy(_tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.LIGHT, _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT);
        world.addStorage(this.storage);
        this.lightSettings = Object.assign({
            type: LIGHT_SETTINGS_TYPE,
            _save: true, _sync: true,
        }, DEFAULT_LIGHT_SETTINGS);
        world.addResource(this.lightSettings);
        this.localLightSettings = {
            type: LOCAL_LIGHT_SETTINGS_TYPE,
            visionType: this.world.isMaster ? 'dm' : 'rp',
            _save: true, _sync: false,
        };
        world.addResource(this.localLightSettings);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_10__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_11__.STANDARD_GRID_OPTIONS).size;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
    }
    createLightVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.createMesh();
        mesh.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1;
        this.lightContainer.addChild(mesh);
        return mesh;
    }
    createPlayerVisMesh() {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.createMesh('player');
        mesh.blendMode = _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].BLEND_MODES.ADD;
        this.playerContainer.addChild(mesh);
        return mesh;
    }
    updateVisMesh(mesh, pos, poly) {
        mesh.visible = true;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.updateMeshPolygons(mesh, pos, poly);
    }
    updateVisUniforms(mesh, center, rangeSquared, color) {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.updateMeshUniforms(mesh, center, rangeSquared, color);
    }
    disableVisMesh(mesh) {
        mesh.visible = false;
    }
    updateVisPolygon(entity, target, color, pos, vis) {
        if (pos === undefined) {
            pos = this.world.getComponent(entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
            if (pos === undefined)
                return;
        }
        if (vis === undefined) {
            vis = this.world.getComponent(entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis === undefined) {
                this.disableVisMesh(target);
                return;
            }
        }
        if (vis.polygon === undefined) {
            this.disableVisMesh(target);
        }
        else {
            let range = vis.range * this.gridSize;
            this.updateVisMesh(target, pos, vis.polygon);
            this.updateVisUniforms(target, pos, range * range, color);
        }
    }
    updateLightVisPolygon(light, pos, vis) {
        this.updateVisPolygon(light.entity, light._lightDisplay, light.color, pos, vis);
    }
    updatePlayerVisPolygon(player, pos, vis) {
        if (player._lightVisionDisplay === undefined) {
            player._lightVisionDisplay = this.createPlayerVisMesh();
        }
        this.updateVisPolygon(player.entity, player._lightVisionDisplay, 0, pos, vis);
    }
    onComponentAdd(comp) {
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            light._lightDisplay = this.createLightVisMesh();
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE,
                range: light.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
            this.updateLightVisPolygon(light, undefined, vis);
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE) {
            let player = comp;
            if (player._lightVisionDisplay === undefined) {
                player._lightVisionDisplay = this.createPlayerVisMesh();
            }
            let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis === undefined) {
                console.error("Player does not have a visibility type");
            }
            this.updatePlayerVisPolygon(player, undefined, vis);
        }
    }
    onComponentEdited(comp, changes) {
        if (comp.type === LIGHT_TYPE) {
            let c = comp;
            if ('range' in changes) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let range = vis.range * this.gridSize;
                    this.updateVisUniforms(c._lightDisplay, pos, range * range, c.color);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changes))
                return;
            let light = this.storage.getComponent(vis.entity);
            if (light !== undefined) {
                this.updateLightVisPolygon(light, undefined, vis);
            }
            else {
                let player = this.world.getComponent(vis.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE);
                if (player !== undefined) {
                    this.updatePlayerVisPolygon(player, undefined, vis);
                }
            }
        }
    }
    onResourceEdited(comp, changed) {
        if (comp.type === _gridSystem__WEBPACK_IMPORTED_MODULE_10__.GRID_TYPE) {
            if (!('size' in changed))
                return;
            let grid = comp;
            this.gridSize = grid.size;
            // We don't really care, the visibility polygons will change on their own
        }
        else if (comp.type === LIGHT_SETTINGS_TYPE || comp.type === LOCAL_LIGHT_SETTINGS_TYPE) {
            let arr = [0.0, 0.0, 0.0, 0.0];
            if (this.localLightSettings.visionType === 'dm')
                arr[3] = 1.0;
            hex2rgb(this.lightSettings.ambientLight, arr);
            this.lightLayer.clearColor = arr;
            this.playerContainer.visible = this.localLightSettings.visionType !== 'dm';
            this.boardSys.renderer.backgroundColor = this.lightSettings.background;
        }
    }
    onComponentRemove(comp) {
        var _a, _b;
        if (comp.type === LIGHT_TYPE) {
            let light = comp;
            (_a = light._lightDisplay) === null || _a === void 0 ? void 0 : _a.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_4__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No light visibility found on removal");
            }
        }
        else if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_6__.PLAYER_TYPE) {
            let player = comp;
            (_b = player._lightVisionDisplay) === null || _b === void 0 ? void 0 : _b.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_5__.setup();
        this.lightLayer.useRenderTexture = true;
        this.lightLayer.interactive = false;
        this.lightLayer.interactiveChildren = false;
        this.playerContainer.interactive = false;
        this.playerContainer.interactiveChildren = false;
        let lightSystem = this.world.systems.get(LIGHT_TYPE);
        this.playerContainer.parentLayer = lightSystem.lightLayer;
        this.lightContainer.interactive = false;
        this.lightContainer.interactiveChildren = false;
        this.lightContainer.parentLayer = this.lightLayer;
        this.onResourceEdited(this.lightSettings, {}); // Update the clearColor
        let lightingSprite = new _PIXI__WEBPACK_IMPORTED_MODULE_3__["default"].Sprite(this.lightLayer.getRenderTexture());
        lightingSprite.blendMode = _util_pixi__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY;
        lightingSprite.zIndex = _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_12__.LayerOrder.LIGHT;
        lightingSprite.interactive = false;
        lightingSprite.interactiveChildren = false;
        let board = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PIXI_BOARD_TYPE);
        board.board.addChild(this.playerContainer, this.lightContainer, this.lightLayer);
        this.boardSys.root.addChild(lightingSprite);
    }
    destroy() {
        this.lightContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.playerContainer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
        this.lightLayer.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/mouseTrailSystem.ts":
/*!*************************************************!*\
  !*** ./src/app/ecs/systems/mouseTrailSystem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MOUSE_TRAIL_TYPE": () => (/* binding */ MOUSE_TRAIL_TYPE),
/* harmony export */   "MouseTrailSystem": () => (/* binding */ MouseTrailSystem),
/* harmony export */   "MouseTrailToolPart": () => (/* binding */ MouseTrailToolPart)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../phase/editMap/layerOrder */ "./src/app/phase/editMap/layerOrder.ts");
/* harmony import */ var Public_images_trail_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! Public/images/trail.png */ "./src/public/images/trail.png");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");









const MOUSE_TRAIL_TYPE = 'mouse_trail';
const ROPE_SIZE = 100;
const HISTORY_SIZE = 20;
const SEND_HISTORY_AFTER_MS = 100;
class MouseTrailSystem {
    constructor(world) {
        this.name = MOUSE_TRAIL_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE, _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE, _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(MOUSE_TRAIL_TYPE, false, false);
        this.boardScale = 1;
        this.toUpdate = [];
        // our "future" to send to others (yes it will have 100ms latency)
        this.selfFuture = [];
        // last time we sent a future
        this.futureLastSend = 0;
        this.world = world;
        this.pixiBoardSys = this.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.PIXI_BOARD_TYPE);
        this.networkSys = this.world.systems.get(_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_TYPE);
        this.layer = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].display.Layer(new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].display.Group(_phase_editMap_layerOrder__WEBPACK_IMPORTED_MODULE_7__.LayerOrder.TOOLS, false));
        this.container = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].Container();
        // Add system
        let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_2__.TOOL_TYPE);
        toolSys.addToolPart(new MouseTrailToolPart(this));
        toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_4__.Tool.MOUSE_TRAIL, ['space_pan', 'mouse_trail']);
        // Add listeners
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('resource_edited', this.onResourceEdited, this);
        // Paint texture
        this.tex = _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].Texture.from(Public_images_trail_png__WEBPACK_IMPORTED_MODULE_8__["default"]);
    }
    onSelfInput(x, y) {
        const netres = this.networkStatusResource;
        this.onFuture(netres.myId, [x, y]);
    }
    onFuture(senderNetId, moves) {
        const netres = this.networkStatusResource;
        const entityId = netres.entityIndex.get(senderNetId);
        if (entityId === undefined) {
            console.warn("Cannot find entity of network player " + senderNetId, netres.entityIndex);
            return;
        }
        let data = this.storage.getComponent(entityId);
        if (moves.length % 2 !== 0) {
            console.warn("Client " + senderNetId + " sent unaligned xy moves");
            moves.length = moves.length - 1;
        }
        data.futurexy.push(...moves);
        if (this.toUpdate.indexOf(entityId) < 0) {
            this.toUpdate.push(entityId);
        }
    }
    createSimpleRope() {
        const points = new Array(ROPE_SIZE);
        for (let i = 0; i < ROPE_SIZE; i++) {
            points[i] = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].Point();
        }
        const rope = new _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].SimpleRope(this.tex, points);
        rope.blendmode = _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].BLEND_MODES.ADD;
        this.container.addChild(rope);
        return rope;
    }
    updateRope(c, netwEntity = undefined) {
        const rope = c._g;
        const geom = rope.geometry;
        const ropePoints = geom.points;
        const historySize = c.historyx.length;
        const ropeSize = ropePoints.length;
        for (let i = 0; i < ropeSize; i++) {
            const p = ropePoints[i];
            const x = cubicInterpolation(c.historyx, i / ropeSize * historySize) * this.boardScale;
            const y = cubicInterpolation(c.historyy, i / ropeSize * historySize) * this.boardScale;
            p.x = x;
            p.y = y;
        }
        rope.scale.set(1 / this.boardScale);
        geom.updateVertices();
        if (netwEntity === undefined) {
            netwEntity = this.world.getComponent(c.entity, _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE);
        }
        rope.tint = netwEntity.color;
    }
    onSelfPosition(posx, posy) {
        this.selfFuture.push(posx, posy);
        const now = Date.now();
        if (this.futureLastSend + SEND_HISTORY_AFTER_MS < now) {
            const pkt = {
                type: 'mtrail',
                fut: this.selfFuture,
            };
            this.networkSys.channel.broadcast(pkt);
            this.selfFuture = [];
            this.futureLastSend = now;
        }
    }
    onTick() {
        if (this.toUpdate.length === 0)
            return;
        let netres = this.networkStatusResource;
        const myEntityId = netres.entityIndex.get(netres.myId);
        for (let i = this.toUpdate.length - 1; i >= 0; i--) {
            const entity = this.toUpdate[i];
            const trail = this.storage.getComponent(entity);
            let prevx = trail.historyx[HISTORY_SIZE - 1];
            let prevy = trail.historyy[HISTORY_SIZE - 1];
            let nextx = prevx;
            let nexty = prevy;
            let different = false;
            if (trail.futurexy.length !== 0) {
                nextx = trail.futurexy[0];
                nexty = trail.futurexy[1];
                trail.futurexy.splice(0, 2);
                different = Math.abs(nextx - prevx) + Math.abs(nexty - prevy) > Number.EPSILON;
            }
            if (entity === myEntityId && trail.lastinput < HISTORY_SIZE) {
                this.onSelfPosition(nextx, nexty);
            }
            trail.historyx.pop();
            trail.historyy.pop();
            trail.historyx.unshift(nextx);
            trail.historyy.unshift(nexty);
            if (different) {
                trail.lastinput = 0;
                trail._g.visible = true;
            }
            else {
                // If no update has been found in the last 20 frames remove the player from the update list
                // it will be re-added if we get another change
                trail.lastinput += 1;
                if (trail.lastinput > HISTORY_SIZE) {
                    this.toUpdate.splice(i, 1);
                    trail._g.visible = false;
                    continue;
                }
            }
            this.updateRope(trail);
        }
    }
    onComponentAdd(c) {
        if (c.type === _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE) {
            const _g = this.createSimpleRope();
            const com = {
                type: MOUSE_TRAIL_TYPE,
                entity: -1,
                color: 0xFFFFFF,
                historyx: new Array(HISTORY_SIZE).fill(0),
                historyy: new Array(HISTORY_SIZE).fill(0),
                futurexy: [],
                lastinput: HISTORY_SIZE,
                _g,
            };
            this.updateRope(com, c);
            this.world.addComponent(c.entity, com);
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === MOUSE_TRAIL_TYPE) {
            let c = comp;
            this.updateRope(c);
        }
        else if (comp.type === _back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_ENTITY_TYPE) {
            if ('color' in changed) {
                const mtc = this.storage.getComponent(comp.entity);
                if (mtc !== undefined) {
                    this.updateRope(mtc, comp);
                }
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === MOUSE_TRAIL_TYPE) {
            let c = comp;
            c._g.destroy();
        }
    }
    changeScales() {
        for (let c of this.storage.allComponents()) {
            this.updateRope(c);
        }
    }
    onResourceEdited(res) {
        if (res.type === _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_3__.BOARD_TRANSFORM_TYPE) {
            this.boardScale = res.scaleX || 1;
            this.changeScales();
        }
    }
    onMouseTrailPacket(pkt, info) {
        this.onFuture(info.senderId, pkt.fut);
    }
    enable() {
        this.layer.interactive = false;
        this.layer.interactiveChildren = false;
        this.pixiBoardSys.root.addChild(this.layer);
        this.pixiBoardSys.board.addChild(this.container);
        this.container.interactive = false;
        this.container.interactiveChildren = false;
        this.container.parentLayer = this.layer;
        this.networkStatusResource = this.world.getResource(_back_networkSystem__WEBPACK_IMPORTED_MODULE_5__.NETWORK_STATUS_TYPE);
        this.pixiBoardSys.ticker.add(this.onTick, this);
        this.networkSys.channel.packets.on('mtrail', this.onMouseTrailPacket, this);
    }
    destroy() {
        this.networkSys.channel.packets.off('mtrail', this.onMouseTrailPacket, this);
        this.pixiBoardSys.ticker.remove(this.onTick, this);
    }
}
class MouseTrailToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_4__.Tool.MOUSE_TRAIL;
        this.follower = -1;
        this.sys = sys;
    }
    initFollower() {
        this.killFollower();
        this.follower = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    killFollower() {
        if (this.follower > 0) {
            this.sys.world.despawnEntity(this.follower);
            this.follower = -1;
        }
    }
    onTick() {
        const pos = this.sys.world.getComponent(this.follower, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (!Number.isFinite(pos.x) || !Number.isFinite(pos.y))
            return;
        this.sys.onSelfInput(pos.x, pos.y);
    }
    onEnable() {
        this.initFollower();
        this.sys.pixiBoardSys.ticker.add(this.onTick, this, _PIXI__WEBPACK_IMPORTED_MODULE_6__["default"].UPDATE_PRIORITY.HIGH);
    }
    onDisable() {
        this.sys.pixiBoardSys.ticker.remove(this.onTick, this);
        this.killFollower();
    }
    initialize(events) {
    }
    destroy() {
    }
}
/**
 * Cubic interpolation based on https://github.com/osuushi/Smooth.js
 */
function clipInput(k, arr) {
    if (k < 0)
        k = 0;
    if (k > arr.length - 1)
        k = arr.length - 1;
    return arr[k];
}
function getTangent(k, factor, array) {
    return factor * (clipInput(k + 1, array) - clipInput(k - 1, array)) / 2;
}
function cubicInterpolation(array, t, tangentFactor = 1) {
    const k = Math.floor(t);
    const m = [getTangent(k, tangentFactor, array), getTangent(k + 1, tangentFactor, array)];
    const p = [clipInput(k, array), clipInput(k + 1, array)];
    t -= k;
    const t2 = t * t;
    const t3 = t * t2;
    return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];
}


/***/ }),

/***/ "./src/app/ecs/systems/pinSystem.ts":
/*!******************************************!*\
  !*** ./src/app/ecs/systems/pinSystem.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PIN_TYPE": () => (/* binding */ PIN_TYPE),
/* harmony export */   "PinSystem": () => (/* binding */ PinSystem),
/* harmony export */   "CreatePinToolPart": () => (/* binding */ CreatePinToolPart)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/nameAsLabelSystem */ "./src/app/ecs/systems/back/nameAsLabelSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");














const PIN_TYPE = 'pin';
class PinSystem {
    constructor(world) {
        this.name = PIN_TYPE;
        this.dependencies = [_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_7__.SELECTION_TYPE, _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_12__.NAME_AS_LABEL_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PIN_TYPE, true, true);
        this.world = world;
        this.selectionSys = this.world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_7__.SELECTION_TYPE);
        if (world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE);
            toolSys.addToolPart(new CreatePinToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.CREATE_PIN, ['space_pan', 'create_pin', 'creation_flag']);
        }
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
    }
    onComponentAdd(c) {
        if (c.type !== PIN_TYPE)
            return;
        let pin = c;
        let pos = this.world.getComponent(c.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        if (pos === undefined)
            return;
        let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        if (display === undefined) {
            display = {
                type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
                entity: -1,
                interactive: true,
                display: this.createElement()
            };
            this.world.addComponent(c.entity, display);
        }
        this.redrawComponent(pin, display.display);
        this.world.addComponent(c.entity, {
            type: _back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_12__.NAME_AS_LABEL_TYPE,
            initialOffset: { x: 0, y: -_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_3__.POINT_RADIUS },
        });
        // In some older versions there was a label field that was printed on top of the point,
        // this has been removed in favour of the "name" components (and the 'name_as_label' system)
        // so if you find a label that is not listed in the names add it to keep compatibility
        if (pin.label !== undefined) {
            const label = pin.label;
            let isNameFound = false;
            for (let name of this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.NAME_TYPE).getComponents(pin.entity)) {
                if (name === label) {
                    isNameFound = true;
                    break;
                }
            }
            if (!isNameFound) {
                this.world.addComponent(pin.entity, {
                    type: _component__WEBPACK_IMPORTED_MODULE_1__.NAME_TYPE,
                    name: label,
                });
            }
            delete pin.label;
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PIN_TYPE) {
            let pin = comp;
            let grapc = this.world.getComponent(comp.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
            let pinDisplay = grapc.display;
            this.redrawComponent(pin, pinDisplay);
        }
    }
    createElement() {
        return {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.ElementType.POINT,
            priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_4__.DisplayPrecedence.PINS,
            visib: _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.NORMAL,
            ignore: false,
            interactive: true,
            color: 0xFFFFFF,
            children: [],
        };
    }
    redrawComponent(pin, display) {
        display.color = pin.color;
        this.world.editComponent(pin.entity, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePinToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.CREATE_PIN;
        // Entity of the pin to be created (or -1)
        this.createPin = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        let color = Math.floor(Math.random() * 0xFFFFFF);
        let display = this.sys.createElement();
        display.color = color;
        display.visib = _graphics__WEBPACK_IMPORTED_MODULE_2__.VisibilityType.ALWAYS_VISIBLE;
        this.createPin = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
            entity: -1,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_1__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createPin !== -1) {
            this.sys.world.despawnEntity(this.createPin);
            this.createPin = -1;
        }
    }
    confirmCreation() {
        var _a;
        if (this.createPin === -1)
            return;
        const world = this.sys.world;
        let id = this.createPin;
        let g = world.getComponent(id, _graphics__WEBPACK_IMPORTED_MODULE_2__.GRAPHIC_TYPE);
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        world.despawnEntity(id);
        const cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_9__.SpawnCommandKind.from(world, [
            {
                type: _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE,
                x: loc.x,
                y: loc.y,
            },
            {
                type: PIN_TYPE,
                color: g.display.color,
            },
            {
                type: _back_layerSystem__WEBPACK_IMPORTED_MODULE_11__.PARENT_LAYER_TYPE,
                layer: (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_11__.findForeground)(this.sys.world),
            },
        ]);
        this.createPin = -1;
        const creationInfo = this.sys.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_13__.CREATION_INFO_TYPE);
        if ((_a = creationInfo === null || creationInfo === void 0 ? void 0 : creationInfo.exitAfterCreation) !== null && _a !== void 0 ? _a : true) {
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_5__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_8__.Tool.INSPECT,
            });
        }
        else {
            this.initCreation();
        }
        (0,_command_command__WEBPACK_IMPORTED_MODULE_10__.executeAndLogCommand)(world, cmd);
    }
    onEnable() {
        this.initCreation();
    }
    onDisable() {
        this.cancelCreation();
    }
    onPointerUp(event) {
        if (event.isInside) {
            this.confirmCreation();
        }
    }
    initialize(events) {
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_6__.PointerEvents.POINTER_UP, this.onPointerUp, this);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerLocator.ts":
/*!**********************************************!*\
  !*** ./src/app/ecs/systems/playerLocator.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_LOCATOR_TYPE": () => (/* binding */ PLAYER_LOCATOR_TYPE),
/* harmony export */   "PlayerLocatorSystem": () => (/* binding */ PlayerLocatorSystem)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_UnionFindSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/UnionFindSet */ "./src/app/util/UnionFindSet.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _playerSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/dynamicTree */ "./src/app/geometry/dynamicTree.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");







// If two points are closer than this they are in the same cluster
const CLUSTER_DISTANCE = 10 * 1.5 * 128; // 1 grid = 1.5m;
const PLAYER_LOCATOR_TYPE = 'player_locator';
// TODO: should we always compute clusters using https://en.wikipedia.org/wiki/Dynamic_connectivity ?
class PlayerLocatorSystem {
    constructor(world) {
        this.name = PLAYER_LOCATOR_TYPE;
        this.dependencies = [_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE, _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE];
        this.world = world;
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('focus_on_random_party', this.onFocusOnRandomParty, this);
    }
    onComponentAdd(comp) {
        if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE) {
            this.clusters = undefined;
        }
    }
    onComponentEdited(comp) {
        if (this.clusters !== undefined)
            return;
        if (comp.type === _component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE) {
            if (this.world.getComponent(comp.entity, _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE) !== undefined) {
                this.clusters = undefined;
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === _playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE) {
            this.clusters = undefined;
        }
    }
    onFocusOnRandomParty() {
        const clusters = this.ensureClusters();
        if (clusters.length === 0)
            return;
        const cluster = (0,_util_array__WEBPACK_IMPORTED_MODULE_6__.arrayRandomElement)(clusters);
        const center = cluster.getCenter();
        const trans = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.BOARD_TRANSFORM_TYPE);
        const size = this.world.getResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.BOARD_SIZE_TYPE);
        let changes = {
            posX: -center.x * trans.scaleX + size.width / 2,
            posY: -center.y * trans.scaleY + size.height / 2,
        };
        this.world.editResource(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.BOARD_TRANSFORM_TYPE, changes);
    }
    ensureClusters() {
        if (this.clusters === undefined)
            this.buildClusters();
        return this.clusters;
    }
    buildClusters() {
        this.clusters = [];
        const playerStorage = this.world.getStorage(_playerSystem__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TYPE);
        const posStorage = this.world.getStorage(_component__WEBPACK_IMPORTED_MODULE_0__.POSITION_TYPE);
        // I expect there to be a low number of players (<<30) and of clusters (<<10),
        // so any algorithm will do with some cache.
        // This is a O(P*N*log(P)) (where P = n. of players and N = avg. n. of players near a player)
        // algorithm that uses an UnionFindSet to compute the different sets and a differen
        // bounding box array to store the sets bounding box (that is only used to compute the cluster center)
        // The algorithm is divided into 2 parts:
        // 1.  All of the players are put into an Aabb Tree and are enumerated in a 1..P range
        // 1.5 A new UnionFindSet is built (with length P) that uses the newly enumerated players
        // 2.  For each player search all of the near players (with distance < CLUSTER_DISTANCE)
        //       and merge their sets together (updating the bounding boxes accordingly)
        let tree = new _geometry_dynamicTree__WEBPACK_IMPORTED_MODULE_4__.DynamicTree();
        let playerMap = new Map();
        // Used for nothing else than finding the center.
        let bounds = new Array();
        for (let player of playerStorage.getComponents()) {
            let pos = posStorage.getComponent(player.entity);
            if (pos === undefined)
                continue;
            tree.createProxy(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos), player);
            bounds.push(_geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos));
            playerMap.set(player.entity, playerMap.size);
        }
        let set = new _util_UnionFindSet__WEBPACK_IMPORTED_MODULE_1__.UnionFindSet(playerMap.size);
        // TODO: should we build another tree or should we use the
        // generic one? the cost is the same but the generic une is (much) taller
        for (let player of playerStorage.getComponents()) {
            let pos = posStorage.getComponent(player.entity);
            if (pos === undefined)
                continue;
            let aabb = _geometry_aabb__WEBPACK_IMPORTED_MODULE_5__.Aabb.fromPoint(pos);
            aabb.extend(CLUSTER_DISTANCE / 2, aabb);
            const aset = set.find(playerMap.get(player.entity));
            // The query's complexity should be O(log(N)) theoretically
            // for an infinitely small Aabb
            for (let near of tree.query(aabb)) {
                if (near.tag === undefined || near.tag === player)
                    continue;
                // join player and near
                const bset = set.find(playerMap.get(near.tag.entity));
                let unionParent = set.union(aset, bset);
                if (unionParent < 0)
                    continue;
                let other = unionParent === aset ? bset : aset;
                // Merge bounds and store them in the parent's bound
                bounds[unionParent].combine(bounds[other], bounds[unionParent]);
            }
        }
        // Get results
        // The resulting AABBs are stored in the leaders of the various sets
        // (or the tree roots if you're thinking about the UFS as a forest)
        for (let i = 0; i < bounds.length; i++) {
            if (set.parents[i] !== i)
                continue; // Not the root
            this.clusters.push(bounds[i]);
        }
    }
    enable() {
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/playerSystem.ts":
/*!*********************************************!*\
  !*** ./src/app/ecs/systems/playerSystem.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PLAYER_TYPE": () => (/* binding */ PLAYER_TYPE),
/* harmony export */   "PLAYER_VISIBLE_TYPE": () => (/* binding */ PLAYER_VISIBLE_TYPE),
/* harmony export */   "EVENT_VISIBILITY_SPREAD": () => (/* binding */ EVENT_VISIBILITY_SPREAD),
/* harmony export */   "PlayerSystem": () => (/* binding */ PlayerSystem)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../game/pointLightRenderer */ "./src/app/game/pointLightRenderer.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _lightSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _pinSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _gridSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _game_grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../game/grid */ "./src/app/game/grid.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");










const PLAYER_TYPE = 'player';
/**
 * Added to every object that might be visible by a player, it tracks how many players and how many lights
 * are seeing it.
 */
const PLAYER_VISIBLE_TYPE = 'player_visible';
const EVENT_VISIBILITY_SPREAD = 'visibility_spread';
class PlayerSystem {
    constructor(world) {
        var _a;
        this.name = PLAYER_TYPE;
        this.dependencies = [_pinSystem__WEBPACK_IMPORTED_MODULE_7__.PIN_TYPE, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_TYPE, true, true);
        this.visibleStorage = new _storage__WEBPACK_IMPORTED_MODULE_0__.SingleEcsStorage(PLAYER_VISIBLE_TYPE, false, false);
        // If false a player can see a thing only if it's illuminated by artificial light
        this.ambientIlluminated = false;
        this.world = world;
        this.lightSystem = world.systems.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        this.visibilitySystem = world.systems.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        this.gridSize = ((_a = this.world.getResource(_gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE)) !== null && _a !== void 0 ? _a : _game_grid__WEBPACK_IMPORTED_MODULE_9__.STANDARD_GRID_OPTIONS).size;
        this.world.addStorage(this.storage);
        this.world.addStorage(this.visibleStorage);
        this.world.events.on('component_add', this.onComponentAdd, this);
        this.world.events.on('component_edited', this.onComponentEdited, this);
        this.world.events.on('component_remove', this.onComponentRemove, this);
        this.world.events.on('resource_edited', this.onResourceEdited, this);
        let visAware = world.systems.get(_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
        visAware.events.on('aware_update', this.onVisibilityAwareUpdate, this);
    }
    onPlayerVisibleCountersUpdate(t) {
        let newVisible = t._playerNightVisionCount > 0 ||
            ((this.ambientIlluminated || t._lightCount > 0 || t.isWall) && t._playerCount > 0);
        if (this.world.isMaster && this.world.getComponent(t.entity, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE) !== undefined) {
            newVisible = false;
        }
        if (newVisible !== t.visible) {
            this.world.editComponent(t.entity, t.type, {
                visible: newVisible,
            });
        }
    }
    onVisibilityAwareUpdate(target, added, removed) {
        let playerVisible = this.visibleStorage.getComponent(target.entity);
        if (playerVisible === undefined)
            return;
        for (let e of added) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount += 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount += 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount += 1;
            }
        }
        for (let e of removed) {
            let player = this.storage.getComponent(e);
            if (player !== undefined) {
                playerVisible._playerCount -= 1;
                if (player.nightVision)
                    playerVisible._playerNightVisionCount -= 1;
                continue;
            }
            let light = this.world.getComponent(e, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                playerVisible._lightCount -= 1;
            }
        }
        this.onPlayerVisibleCountersUpdate(playerVisible);
    }
    onNightVisionUpdate(player) {
        let vis = this.world.getComponent(player.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let diff = player.nightVision ? +1 : -1;
        let fun = (t) => {
            let playerVisible = this.visibleStorage.getComponent(t);
            if (playerVisible === undefined)
                return;
            playerVisible._playerNightVisionCount += diff;
            this.onPlayerVisibleCountersUpdate(playerVisible);
        };
        for (let t of vis._canSee)
            fun(t);
        if (vis._canSeeWalls)
            for (let t of vis._canSeeWalls)
                fun(t);
    }
    createVisMeshFrom(pos, vis) {
        let mesh = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(mesh, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(mesh, pos, r * r, 0xFFFFFF);
        return mesh;
    }
    spreadPlayerVisibility(player, pos, vis, nightVision) {
        if (this.world.getComponent(player, _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE))
            return; // Ignore hidden players
        let playerVis = _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.createMesh('const');
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshPolygons(playerVis, pos, vis.polygon);
        let r = vis.range * this.gridSize;
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.updateMeshUniforms(playerVis, pos, r * r, 0xFFFFFF);
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let playerData = {
            mesh: playerVis,
            vis,
            pos,
        };
        let players = [];
        let nightVisPlayers = [];
        let lights = [];
        let aabb;
        if (!nightVision && !this.ambientIlluminated) {
            players.push(playerData);
            aabb = undefined;
            for (let c of this.visibilitySystem.aabbTree.query(vis.aabb)) {
                let visComponent = c.tag;
                let lightComponent = lightStorage.getComponent(visComponent.entity);
                if (lightComponent === undefined || visComponent.range <= 0)
                    continue;
                let pos = posStorage.getComponent(visComponent.entity);
                if (aabb === undefined)
                    aabb = visComponent.aabb.copy();
                else
                    aabb.combine(visComponent.aabb, aabb);
                let mesh = this.createVisMeshFrom(pos, visComponent);
                lights.push({
                    mesh,
                    pos,
                    vis: visComponent,
                });
            }
            if (lights.length === 0)
                return; // no night vision AND no lights = can't see a thing!
            aabb.intersect(vis.aabb, aabb);
        }
        else {
            nightVisPlayers.push(playerData);
            aabb = vis.aabb;
        }
        let data = {
            aabb,
            lights,
            players,
            nightVisPlayers,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        playerData.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let light of data.lights)
            light.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadLightVisibility(lightVis) {
        // Quite similar to spreadPlayerVisibility but follows a light instead of a player,
        // When a light visibility polygon is changed this will query each player in the polygon's reach and
        // spread the visibility (only with that light!)
        if (this.ambientIlluminated)
            return; // Who needs lights?
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let lightPos = posStorage.getComponent(lightVis.entity);
        let lightMesh = this.createVisMeshFrom(lightPos, lightVis);
        let lightData = [{
                mesh: lightMesh,
                pos: lightPos,
                vis: lightVis,
            }];
        let aabb = undefined;
        let players = [];
        for (let c of this.visibilitySystem.aabbTree.query(lightVis.aabb)) {
            let visComponent = c.tag;
            let player = this.storage.getComponent(visComponent.entity);
            if (player === undefined || visComponent.range <= 0 || player.nightVision)
                continue;
            if (aabb === undefined)
                aabb = visComponent.aabb.copy();
            else
                aabb.combine(visComponent.aabb, aabb);
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(player.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            players.push({
                mesh,
                pos,
                vis,
            });
        }
        if (players.length === 0)
            return;
        aabb.intersect(lightVis.aabb, aabb);
        let data = {
            aabb,
            lights: lightData,
            players,
            nightVisPlayers: [],
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        lightData[0].mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let player of players)
            player.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    spreadAfterLightNotNeeded() {
        // Something changed, light is not needed anymore
        // this means that most of the things that were not visible anymore now are
        // but what? and where? this is the questions i will answer today
        let players = [];
        let visStorage = this.world.storages.get(_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        let aabb = undefined;
        for (let player of this.storage.allComponents()) {
            if (player.nightVision)
                continue;
            let vis = visStorage.getComponent(player.entity);
            let pos = posStorage.getComponent(vis.entity);
            let mesh = this.createVisMeshFrom(pos, vis);
            if (aabb === undefined)
                aabb = vis.aabb.copy();
            else
                aabb.combine(vis.aabb, aabb);
            let data = { mesh, pos, vis };
            players.push(data);
        }
        if (aabb === undefined)
            return; // Not enough players
        let data = {
            aabb,
            lights: [],
            players: [],
            nightVisPlayers: players,
            nightVision: false,
        };
        this.world.events.emit(EVENT_VISIBILITY_SPREAD, data);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    getSpreadDataForAabb(aabb, cb) {
        let nightVisPlayers = [];
        let players = [];
        let lights = [];
        let lightsNeeded = !this.ambientIlluminated;
        let lightStorage = this.world.storages.get(_lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
        for (let c of this.visibilitySystem.aabbTree.query(aabb)) {
            let vis = c.tag;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                let pos = posStorage.getComponent(vis.entity);
                let mesh = this.createVisMeshFrom(pos, vis);
                let data = { mesh, pos, vis };
                if (player.nightVision || !lightsNeeded)
                    nightVisPlayers.push(data);
                else
                    players.push(data);
                continue;
            }
            if (lightsNeeded) {
                let light = lightStorage.getComponent(vis.entity);
                if (light !== undefined) {
                    let pos = posStorage.getComponent(vis.entity);
                    let mesh = this.createVisMeshFrom(pos, vis);
                    let data = { mesh, pos, vis };
                    lights.push(data);
                }
            }
        }
        let realPlayers = players;
        let realLights = lights;
        if (players.length === 0 || lights.length == 0) {
            realPlayers = [];
            realLights = [];
        }
        let data = {
            aabb,
            lights: realLights,
            players: realPlayers,
            nightVisPlayers,
        };
        cb(data);
        for (let x of lights)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of players)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
        for (let x of nightVisPlayers)
            x.mesh.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_4__.DESTROY_ALL);
    }
    onComponentAdd(comp) {
        if (comp.type === PLAYER_TYPE) {
            let player = comp;
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined) {
                console.error("Added player to pin without player visibility! " + comp.entity);
                return;
            }
            pv._playerNightVisionCount++; // A bit hackish, but it works ;)
            this.onPlayerVisibleCountersUpdate(pv);
            // We need a visibility component, create one if it does not already exist
            let vis = {
                type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE,
                range: player.range,
                trackWalls: true,
            };
            this.world.addComponent(comp.entity, vis);
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            let c = comp;
            c._lightCount = 0;
            c._playerCount = 0;
            c._playerNightVisionCount = 0;
            this.world.addComponent(c.entity, (0,_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.newVisibilityAwareComponent)(c.isWall === true));
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE) {
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv !== undefined) {
                this.onPlayerVisibleCountersUpdate(pv);
            }
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type === PLAYER_TYPE) {
            let c = comp;
            if ('nightVision' in changed) {
                this.onNightVisionUpdate(c);
            }
            if ('range' in changed) {
                this.world.editComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE, {
                    range: c.range
                });
            }
            else {
                let vis = this.world.getComponent(c.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, c.nightVision);
                }
            }
        }
        else if (comp.type === _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE) {
            let vis = comp;
            if (!('polygon' in changed))
                return;
            let player = this.storage.getComponent(vis.entity);
            if (player !== undefined) {
                if (vis.polygon !== undefined) {
                    let pos = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_1__.POSITION_TYPE);
                    this.spreadPlayerVisibility(comp.entity, pos, vis, player.nightVision);
                }
                return;
            }
            let light = this.world.getComponent(vis.entity, _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_TYPE);
            if (light !== undefined) {
                this.spreadLightVisibility(vis);
            }
        }
    }
    onComponentRemove(comp) {
        if (comp.type === PLAYER_TYPE) {
            let vis = this.world.getComponent(comp.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_2__.VISIBILITY_TYPE);
            if (vis !== undefined) {
                this.world.removeComponent(vis);
            }
            else {
                console.warn("No player visibility found on removal");
            }
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv === undefined)
                return;
            pv._playerNightVisionCount--; // Gotta undo those hacks
            this.onPlayerVisibleCountersUpdate(pv);
        }
        else if (comp.type === _component__WEBPACK_IMPORTED_MODULE_1__.HOST_HIDDEN_TYPE) {
            let pv = this.visibleStorage.getComponent(comp.entity);
            if (pv !== undefined) {
                this.onPlayerVisibleCountersUpdate(pv);
            }
        }
        else if (comp.type === PLAYER_VISIBLE_TYPE) {
            const visAware = this.world.getComponent(comp.entity, _back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_5__.VISIBILITY_AWARE_TYPE);
            if (visAware !== undefined)
                this.world.removeComponent(visAware);
        }
    }
    onResourceEdited(res, changed) {
        if (res.type === _lightSystem__WEBPACK_IMPORTED_MODULE_6__.LIGHT_SETTINGS_TYPE && 'needsLight' in changed) {
            let light = res;
            this.ambientIlluminated = !light.needsLight;
            for (let comp of this.visibleStorage.allComponents()) {
                this.onPlayerVisibleCountersUpdate(comp);
            }
            if (!light.needsLight) {
                this.spreadAfterLightNotNeeded();
            }
        }
        else if (res.type === _gridSystem__WEBPACK_IMPORTED_MODULE_8__.GRID_TYPE && 'size' in changed) {
            let grid = res;
            this.gridSize = grid.size;
        }
    }
    // PUBLIC INTERFACE
    addPlayerVisListener(entity, isWall = false) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined) {
            c = {
                type: PLAYER_VISIBLE_TYPE,
                entity,
                visible: false,
                isWall,
                _refCount: 1,
                _lightCount: 0,
                _playerCount: 0,
                _playerNightVisionCount: 0,
            };
            this.world.addComponent(entity, c);
            return c;
        }
        else {
            c._refCount++;
        }
        return c;
    }
    removePlayerVisListener(entity) {
        let c = this.visibleStorage.getComponent(entity);
        if (c === undefined)
            return;
        c._refCount--;
        if (c._refCount === 0) {
            this.world.removeComponent(c);
        }
    }
    enable() {
        _game_pointLightRenderer__WEBPACK_IMPORTED_MODULE_3__.setup();
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/propSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/propSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PROP_TYPE": () => (/* binding */ PROP_TYPE),
/* harmony export */   "PROP_TELEPORT_TYPE": () => (/* binding */ PROP_TELEPORT_TYPE),
/* harmony export */   "PropSystem": () => (/* binding */ PropSystem),
/* harmony export */   "CreatePropToolPart": () => (/* binding */ CreatePropToolPart),
/* harmony export */   "PropTeleportLinkToolPart": () => (/* binding */ PropTeleportLinkToolPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_componentEdit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./command/componentEdit */ "./src/app/ecs/systems/command/componentEdit.ts");
/* harmony import */ var _back_layerSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./back/linkRelocationSystem */ "./src/app/ecs/systems/back/linkRelocationSystem.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
















const PROP_TYPE = 'prop';
const PROP_TELEPORT_TYPE = 'prop_teleport';
class PropSystem {
    constructor(world) {
        this.name = PROP_TYPE;
        this.dependencies = [_graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE, _back_layerSystem__WEBPACK_IMPORTED_MODULE_13__.LAYER_TYPE];
        this.optionalDependencies = [_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_14__.LINK_RELOCATION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TYPE, true, true);
        this.teleportStorage = new _storage__WEBPACK_IMPORTED_MODULE_2__.SingleEcsStorage(PROP_TELEPORT_TYPE, true, true);
        this.defaultPropType = "ladder_down";
        this.world = world;
        if (world.isMaster) {
            const toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE);
            toolSys.addToolPart(new CreatePropToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP, ['space_pan', _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP, 'creation_flag']);
            toolSys.addToolPart(new PropTeleportLinkToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK, ['space_pan', _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK]);
        }
        let linkReloc = this.world.systems.get(_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_14__.LINK_RELOCATION_TYPE);
        if (linkReloc !== undefined) {
            linkReloc.addLink(PROP_TELEPORT_TYPE, 'targetProp');
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_8__.SELECTION_TYPE);
        this.layerSys = world.systems.get(_back_layerSystem__WEBPACK_IMPORTED_MODULE_13__.LAYER_TYPE);
        this.propTypes = new Map();
        this.loadPropTypes();
        world.addStorage(this.storage);
        world.addStorage(this.teleportStorage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('prop_use', this.onPropUse, this);
    }
    registerPropType(propType) {
        this.propTypes.set(propType.id, propType);
    }
    loadPropTypes() {
        const atlas = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Loader.shared.resources.props.spritesheet;
        const props = [
            {
                id: 'ladder_up',
                name: 'Ladder Up',
                texture: atlas.textures['ladder_up.png'],
            },
            {
                id: 'ladder_down',
                name: 'Ladder Down',
                texture: atlas.textures['ladder_down.png'],
            },
        ];
        for (let prop of props)
            this.registerPropType(prop);
    }
    getPropType(p) {
        let pType = this.propTypes.get(p.propType);
        if (pType === undefined) {
            console.warn(`Cannot find prop type: ${p.propType}`);
            pType = this.propTypes.get(this.defaultPropType);
            if (pType === undefined) {
                throw new Error("Default prop type is invalid!");
            }
        }
        return pType;
    }
    onComponentAdd(c) {
        if (c.type !== 'prop')
            return;
        let prop = c;
        let propType = this.getPropType(prop);
        this.world.addComponent(c.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: true,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.REMEMBER,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        });
    }
    onComponentEdited(c, changed) {
        if (c.type === PROP_TYPE) {
            let prop = c;
            let pType = this.getPropType(prop);
            let display = this.world.getComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE).display;
            display.texture = pType.texture;
            this.world.editComponent(c.entity, _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE, { display }, undefined, false);
        }
    }
    onComponentRemove(c) {
        if (c.type === 'prop') {
            let tp = this.teleportStorage.getComponent(c.entity);
            if (tp !== undefined)
                this.world.removeComponent(tp);
        }
    }
    onPropUse(entity) {
        let prop = this.storage.getComponent(entity);
        let teleport = this.teleportStorage.getComponent(entity);
        if (prop === undefined || teleport === undefined)
            return;
        let target = this.storage.getComponent(teleport.entity);
        if (target === undefined) {
            console.warn("Unlinked teleporter!");
            return;
        }
        let positions = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let posFrom = positions.getComponent(entity);
        let posTo = positions.getComponent(teleport.targetProp);
        let diffX = posTo.x - posFrom.x;
        let diffY = posTo.y - posFrom.y;
        let shape = this.world.getComponent(entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE).shape;
        let pinStorage = this.world.storages.get('pin');
        let foreground = (0,_back_layerSystem__WEBPACK_IMPORTED_MODULE_13__.findForeground)(this.world);
        let query = this.interactionSys.query(shape, x => {
            return pinStorage.getComponent(x.entity) !== undefined &&
                this.layerSys.getEntityLayer(x.entity).entity == foreground;
        });
        let edit = [];
        for (let q of query) {
            let pos = positions.getComponent(q.entity);
            edit.push({
                entity: q.entity,
                type: pos.type,
                changes: {
                    x: pos.x + diffX,
                    y: pos.y + diffY,
                }
            });
        }
        let cmd = (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_12__.componentEditCommand)(undefined, edit);
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.world, cmd);
    }
    enable() {
    }
    destroy() {
    }
}
class CreatePropToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.CREATE_PROP;
        // Entity of the prop to be created
        this.createProp = -1;
        this.sys = sys;
    }
    initCreation() {
        this.cancelCreation();
        this.createPropType = this.sys.defaultPropType;
        let propType = this.sys.propTypes.get(this.createPropType);
        if (propType === undefined)
            throw new Error('Illegal prop type: ' + this.createPropType);
        this.createProp = this.sys.world.spawnEntity({
            type: _component__WEBPACK_IMPORTED_MODULE_3__.HOST_HIDDEN_TYPE,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
            x: Number.NEGATIVE_INFINITY,
            y: Number.NEGATIVE_INFINITY,
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
            rotation: 0,
            scale: 1,
        }, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_5__.GRAPHIC_TYPE,
            entity: -1,
            interactive: false,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_5__.ElementType.IMAGE,
                ignore: false,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_1__.DisplayPrecedence.PROP,
                scale: _graphics__WEBPACK_IMPORTED_MODULE_5__.ImageScaleMode.GRID,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_5__.VisibilityType.ALWAYS_VISIBLE,
                texture: propType.texture,
                sharedTexture: true,
                anchor: { x: 0.5, y: 0.5 },
                tint: 0xFFFFFF,
            },
        }, {
            type: _component__WEBPACK_IMPORTED_MODULE_3__.FOLLOW_MOUSE_TYPE,
        });
    }
    cancelCreation() {
        if (this.createProp !== -1) {
            this.sys.world.despawnEntity(this.createProp);
            this.createProp = -1;
        }
    }
    confirmCreation() {
        var _a;
        if (this.createProp === undefined)
            return;
        const id = this.createProp;
        const world = this.sys.world;
        let loc = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE);
        let tran = world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE);
        world.despawnEntity(id);
        this.createProp = -1;
        const cmd = _command_spawnCommand__WEBPACK_IMPORTED_MODULE_10__.SpawnCommandKind.from(world, [
            {
                type: _component__WEBPACK_IMPORTED_MODULE_3__.POSITION_TYPE,
                x: loc.x,
                y: loc.y,
            },
            {
                type: _component__WEBPACK_IMPORTED_MODULE_3__.TRANSFORM_TYPE,
                scale: tran.scale,
                rotation: tran.rotation,
            },
            {
                type: PROP_TYPE,
                propType: this.createPropType,
            },
        ]);
        const creationInfo = this.sys.world.getResource(_resource__WEBPACK_IMPORTED_MODULE_15__.CREATION_INFO_TYPE);
        if ((_a = creationInfo === null || creationInfo === void 0 ? void 0 : creationInfo.exitAfterCreation) !== null && _a !== void 0 ? _a : true) {
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
        }
        else {
            this.initCreation();
        }
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(world, cmd);
    }
    onPointerUp(event) {
        if (this.createProp === -1)
            return;
        if (event.isInside) {
            this.confirmCreation();
        }
    }
    onEnable() {
        this.initCreation();
    }
    onDisable() {
        this.cancelCreation();
    }
    initialize(events) {
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PointerEvents.POINTER_UP, this.onPointerUp, this);
    }
    destroy() {
    }
}
class PropTeleportLinkToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK;
        this.currentTarget = -1;
        this.sys = sys;
    }
    onPropTeleportLink(entity) {
        let tp = this.sys.teleportStorage.getComponent(entity);
        if (tp === undefined) {
            console.warn("Called teleport link on a non-teleport prop, ignoring");
            return;
        }
        this.currentTarget = entity;
        this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
            tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.PROP_TELEPORT_LINK,
        });
    }
    linkTo(target) {
        if (this.sys.storage.getComponent(target) === undefined) {
            console.warn("Trying to link teleport to a non-prop, ignoring");
            return;
        }
        let tper = this.sys.teleportStorage.getComponent(this.currentTarget);
        if (tper === undefined) {
            console.warn("Teleporter has been destroyed");
            return;
        }
        // If the target is itself then delete the link
        let edit = [];
        edit.push({
            entity: tper.entity,
            type: tper.type,
            changes: {
                targetProp: target === this.currentTarget ? -1 : target
            }
        });
        (0,_command_command__WEBPACK_IMPORTED_MODULE_11__.executeAndLogCommand)(this.sys.world, (0,_command_componentEdit__WEBPACK_IMPORTED_MODULE_12__.componentEditCommand)(undefined, edit));
        this.currentTarget = -1;
    }
    linkCancel() {
        this.currentTarget = -1;
    }
    onPointerClick(event) {
        let point = event.boardPos;
        let interactionSystem = this.sys.world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.INTERACTION_TYPE);
        let query = interactionSystem.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_4__.shapePoint)(point), x => {
            return this.sys.world.getComponent(x.entity, 'prop') !== undefined;
        });
        for (let found of query) {
            let oldTper = this.currentTarget;
            this.linkTo(found.entity);
            this.sys.selectionSys.setOnlyEntity(oldTper);
            this.sys.world.editResource(_back_toolSystem__WEBPACK_IMPORTED_MODULE_6__.TOOL_TYPE, {
                tool: _tools_toolType__WEBPACK_IMPORTED_MODULE_9__.Tool.INSPECT,
            });
            return;
        }
    }
    onEnable() {
        document.body.style.cursor = 'crosshair';
    }
    onDisable() {
        this.linkCancel();
        document.body.style.cursor = 'auto';
    }
    initialize(events) {
        this.sys.world.events.on('prop_teleport_link', this.onPropTeleportLink, this);
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_7__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/systems/wallSystem.ts":
/*!*******************************************!*\
  !*** ./src/app/ecs/systems/wallSystem.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WALL_TYPE": () => (/* binding */ WALL_TYPE),
/* harmony export */   "WallSystem": () => (/* binding */ WallSystem),
/* harmony export */   "CreateWallToolPart": () => (/* binding */ CreateWallToolPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _util_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/pixi */ "./src/app/util/pixi.ts");
/* harmony import */ var _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../phase/editMap/displayPrecedence */ "./src/app/phase/editMap/displayPrecedence.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../storage */ "./src/app/ecs/storage.ts");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../component */ "./src/app/ecs/component.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _geometry_line__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/line */ "./src/app/geometry/line.ts");
/* harmony import */ var _geometry_collision__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../graphics */ "./src/app/graphics.ts");
/* harmony import */ var _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _back_selectionSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _tools_toolType__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/toolType */ "./src/app/ecs/tools/toolType.ts");
/* harmony import */ var _command_command__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _command_spawnCommand__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _util_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../util/array */ "./src/app/util/array.ts");
/* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../tools/utils */ "./src/app/ecs/tools/utils.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");




















const WALL_TYPE = 'wall';
const SELECTION_COLOR = 0x7986CB;
class WallSystem {
    constructor(world) {
        this.name = WALL_TYPE;
        this.dependencies = [_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, _back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE, _back_selectionSystem__WEBPACK_IMPORTED_MODULE_14__.SELECTION_TYPE];
        this.storage = new _storage__WEBPACK_IMPORTED_MODULE_3__.SingleEcsStorage(WALL_TYPE);
        this.isTranslating = false;
        this.world = world;
        // Only masters can create walls
        if (this.world.isMaster) {
            let toolSys = world.systems.get(_back_toolSystem__WEBPACK_IMPORTED_MODULE_12__.TOOL_TYPE);
            toolSys.addToolPart(new CreateWallToolPart(this));
            toolSys.addTool(_tools_toolType__WEBPACK_IMPORTED_MODULE_15__.Tool.CREATE_WALL, ['space_pan', _tools_toolType__WEBPACK_IMPORTED_MODULE_15__.Tool.CREATE_WALL]);
        }
        this.interactionSys = world.systems.get(_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE);
        this.selectionSys = world.systems.get(_back_selectionSystem__WEBPACK_IMPORTED_MODULE_14__.SELECTION_TYPE);
        world.addStorage(this.storage);
        world.events.on('component_add', this.onComponentAdd, this);
        world.events.on('component_edited', this.onComponentEdited, this);
        world.events.on('component_remove', this.onComponentRemove, this);
        world.events.on('tool_move_begin', this.onToolMoveBegin, this);
        world.events.on('tool_move_end', this.onToolMoveEnd, this);
    }
    onComponentAdd(component) {
        if (component.type !== WALL_TYPE)
            return;
        let wall = component;
        let pos = this.world.getComponent(wall.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        if (pos === undefined) {
            console.warn("Found wall without position, please add first the position, then the wall");
            return;
        }
        wall._dontMerge = 0;
        this.world.addComponent(component.entity, {
            type: _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE,
            entity: -1,
            display: {
                type: _graphics__WEBPACK_IMPORTED_MODULE_11__.ElementType.LINE,
                ignore: false,
                visib: _graphics__WEBPACK_IMPORTED_MODULE_11__.VisibilityType.REMEMBER,
                priority: _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL,
                vec: { x: wall.vec[0], y: wall.vec[1] },
            },
            interactive: true,
            isWall: true,
        });
        this.world.addComponent(component.entity, {
            type: _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE,
            entity: -1
        });
    }
    fixWallPreTranslation(walls) {
        for (let wall of walls) {
            let visBlock = this.world.getComponent(wall.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
            if (visBlock !== undefined)
                this.world.removeComponent(visBlock);
        }
        // what changes here? a little bittle thing:
        // we need to unfix the wall (remove the intersection breaks).
        let wall_index = new Map();
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        let insertInIndex = (index, wall) => {
            let list = wall_index.get(index);
            if (list === undefined) {
                list = [];
                wall_index.set(index, list);
            }
            list.push(wall);
        };
        for (let wall of walls) {
            if (wall._dontMerge !== 0)
                continue;
            let pos = posStorage.getComponent(wall.entity);
            let p1 = pos.x + "@" + pos.y;
            let p2 = (pos.x + wall.vec[0]) + "@" + (pos.y + wall.vec[1]);
            let tryMerge = (index) => {
                let mergeWithIndex = undefined;
                let walls = wall_index.get(index);
                if (walls === undefined)
                    return false;
                let wlen = walls.length;
                for (let i = 0; i < wlen; i++) {
                    let owall = walls[i];
                    if ((0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.lineSameSlope)(wall.vec[0], wall.vec[1], owall.vec[0], owall.vec[1])) {
                        mergeWithIndex = i;
                        break;
                    }
                }
                if (mergeWithIndex === undefined)
                    return false;
                let mwall = walls[mergeWithIndex];
                let mpos = posStorage.getComponent(mwall.entity);
                let minChanged = false;
                let x = pos.x;
                let y = pos.y;
                let dx = wall.vec[0];
                let dy = wall.vec[1];
                if (p2 === index) {
                    x += dx;
                    y += dy;
                    dx = -dx;
                    dy = -dy;
                }
                if (mpos.x === x && mpos.y === y) {
                    mpos.x += dx;
                    mpos.y += dy;
                    minChanged = true;
                }
                else {
                    mwall.vec[0] += wall.vec[0];
                    mwall.vec[1] += wall.vec[1];
                }
                walls.splice(mergeWithIndex, 1);
                let p;
                if (minChanged) {
                    p = mpos.x + "@" + mpos.y;
                }
                else {
                    p = (mpos.x + mwall.vec[0]) + "@" + (mpos.y + mwall.vec[1]);
                }
                insertInIndex(p, mwall);
                this.world.despawnEntity(wall.entity);
                this.redrawWall(mwall);
                return true;
            };
            if (tryMerge(p1) || tryMerge(p2))
                continue;
            insertInIndex(p1, wall);
            insertInIndex(p2, wall);
        }
    }
    fixWallPostTranslation(walls) {
        // Recompute intersections with other walls.
        // Why not all everything directly? we want to compute also the self-intersections
        let posStorage = this.world.storages.get(_component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        for (let wall of walls) {
            let pos = posStorage.getComponent(wall.entity);
            let points = [pos.x, pos.y, pos.x + wall.vec[0], pos.y + wall.vec[1]];
            this.fixIntersections(points, 0);
            this.world.editComponent(pos.entity, _back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.INTERACTION_TYPE, {
                shape: (0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeLine)(new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(points[0], points[1], points[2], points[3])),
            });
            if (points.length > 4) {
                pos.x = points[0];
                pos.y = points[1];
                wall.vec[0] = points[2] - pos.x;
                wall.vec[1] = points[3] - pos.y;
            }
            this.redrawWall(wall);
            const plen = points.length;
            const cIds = [];
            for (let i = 4; i < plen; i += 2) {
                let cmd = this.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                cIds.push(cmd.data.entities[0]);
                this.world.deserialize(cmd.data, { remap: false });
            }
            if (cIds.length > 0) {
                this.selectionSys.addEntities(cIds);
                // TODO: optimization, update the selection only once!
            }
        }
        for (let wall of walls) {
            this.world.addComponent(wall.entity, {
                type: "visibility_blocker",
                entity: -1
            });
        }
    }
    onComponentEdited(comp, changed) {
        if (comp.type !== WALL_TYPE && comp.type !== _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE)
            return;
        let wall, position;
        if (comp.type === WALL_TYPE) {
            wall = comp;
            position = this.world.getComponent(comp.entity, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
        }
        else {
            wall = this.storage.getComponent(comp.entity);
            position = comp;
        }
        if (wall === undefined || position === undefined)
            return;
        if (!this.isTranslating) {
            this.fixWallPreTranslation([wall]);
            this.fixWallPostTranslation([wall]);
        }
        if (comp.type === WALL_TYPE && 'vec' in changed) {
            this.redrawWall(wall);
        }
    }
    redrawWall(wall) {
        let display = this.world.getComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE).display;
        display.vec = { x: wall.vec[0], y: wall.vec[1] };
        this.world.editComponent(wall.entity, _graphics__WEBPACK_IMPORTED_MODULE_11__.GRAPHIC_TYPE, { display }, undefined, false);
    }
    findLocationOnWall(point, radius) {
        let points = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(point.x - radius, point.y - radius, point.x + radius, point.y + radius)), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        let bestPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        let bestDist = Number.POSITIVE_INFINITY;
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        for (let node of points) {
            let line = node.shape.data;
            if (!line.projectPoint(point, tmpPoint)) {
                continue;
            }
            let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_5__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
            if (dist < bestDist && dist < radius) {
                bestPoint.copyFrom(tmpPoint);
                bestDist = dist;
            }
        }
        if (bestDist !== Number.POSITIVE_INFINITY) {
            return bestPoint;
        }
        else {
            return undefined;
        }
    }
    onComponentRemove(component) {
        if (component.type !== WALL_TYPE)
            return;
        let vblocker = this.world.getComponent(component.entity, _back_visibilitySystem__WEBPACK_IMPORTED_MODULE_10__.VISIBILITY_BLOCKER_TYPE);
        if (vblocker !== undefined) {
            this.world.removeComponent(vblocker);
        }
    }
    onToolMoveBegin() {
        this.isTranslating = true;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPreTranslation(walls);
    }
    onToolMoveEnd() {
        this.isTranslating = false;
        let walls = [...this.selectionSys.getSelectedByType(WALL_TYPE)];
        this.fixWallPostTranslation(walls);
    }
    queryIntersections(posX, posY, vecX, vecY) {
        let strip = [posX, posY, posX + vecX, posY + vecY];
        let ids = new Array();
        this.fixIntersections(strip, 0, undefined, ids);
        return ids;
    }
    fixIntersections(strip, start, end, wallIds) {
        let aabb = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_6__.Aabb(Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);
        end = end === undefined ? strip.length : end;
        for (let i = start; i < end; i += 2) {
            aabb.minX = Math.min(aabb.minX, strip[i]);
            aabb.minY = Math.min(aabb.minY, strip[i + 1]);
            aabb.maxX = Math.max(aabb.maxX, strip[i]);
            aabb.maxY = Math.max(aabb.maxY, strip[i + 1]);
        }
        let tmpLine = new _geometry_line__WEBPACK_IMPORTED_MODULE_7__.Line(0, 0, 0, 0);
        let tmpPoint = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        let query = this.interactionSys.query((0,_back_interactionSystem__WEBPACK_IMPORTED_MODULE_9__.shapeAabb)(aabb), c => {
            return this.storage.getComponent(c.entity) !== undefined;
        });
        for (let wall of query) {
            //console.log("Checking wall: ", wall.tag);
            for (let i = start + 2; i < end; i += 2) {
                tmpLine.fromX = strip[i - 2];
                tmpLine.fromY = strip[i - 1];
                tmpLine.toX = strip[i];
                tmpLine.toY = strip[i + 1];
                let line = wall.shape.data;
                let res = (0,_geometry_collision__WEBPACK_IMPORTED_MODULE_8__.intersectSegmentVsSegment)(tmpLine, line, tmpPoint);
                // Only continue if the intersection is inside of both lines (not on the edge)
                if (res !== _geometry_collision__WEBPACK_IMPORTED_MODULE_8__.SegmentVsSegmentRes.INTERN)
                    continue;
                // Insert the intersection point in the strip
                //console.log("FIXING AT: " + tmpPoint.x + ", " + tmpPoint.y);
                strip.splice(i, 0, tmpPoint.x, tmpPoint.y);
                i += 2; // Skip this point
                end += 2;
                wallIds === null || wallIds === void 0 ? void 0 : wallIds.push(wall.entity);
            }
        }
        return end;
    }
    createWall(minX, minY, maxX, maxY) {
        let components = [
            {
                entity: -1,
                x: minX,
                y: minY,
                type: _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE,
            },
            {
                type: WALL_TYPE,
                vec: [maxX - minX, maxY - minY],
            },
        ];
        return _command_spawnCommand__WEBPACK_IMPORTED_MODULE_17__.SpawnCommandKind.from(this.world, components);
    }
    enable() {
    }
    destroy() {
    }
}
class CreateWallToolPart {
    constructor(sys) {
        this.name = _tools_toolType__WEBPACK_IMPORTED_MODULE_15__.Tool.CREATE_WALL;
        // Sprite of the pin to be created
        this.createdIds = [];
        this.isActive = false;
        this.mouseLastPos = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.sys = sys;
        this.createLastLineDisplay = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Graphics();
        this.pixiBoardSys = sys.world.systems.get(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PIXI_BOARD_TYPE);
        sys.world.events.on('component_add', (c) => {
            if (this.isActive && c.type === 'wall') {
                this.createdIds.push(c.entity);
            }
        });
        sys.world.events.on('component_remove', (c) => {
            if (this.isActive && c.type === 'wall' && (0,_util_array__WEBPACK_IMPORTED_MODULE_18__.arrayRemoveElem)(this.createdIds, c.entity)) {
                this.recomputeCreatedLastPos();
            }
        });
    }
    initCreation() {
        this.endCreation();
    }
    endCreation() {
        this.createLastLineDisplay.clear();
        this.createdLastPos = undefined;
        if (this.createdIds.length === 0)
            return;
        this.sys.selectionSys.setOnlyEntities(this.createdIds);
        this.createdIds.length = 0;
        this.createdLastPos = undefined;
        // don't change tool
        /*this.sys.world.editResource(TOOL_TYPE, {
            tool: Tool.INSPECT,
        })*/
    }
    redrawCreationLastLine(pos) {
        this.mouseLastPos = pos;
        let g = this.createLastLineDisplay;
        g.clear();
        if (this.createdLastPos !== undefined) {
            g.moveTo(this.createdLastPos[0], this.createdLastPos[1]);
            g.lineStyle(5, SELECTION_COLOR);
            g.lineTo(pos.x, pos.y);
        }
        g.lineStyle(0);
        if (this.createdIds.length === 0 && this.createdLastPos !== undefined) {
            g.beginFill(0xe51010);
            g.drawCircle(this.createdLastPos[0], this.createdLastPos[1], 10);
        }
        g.beginFill(0x405FFE);
        g.drawCircle(pos.x, pos.y, 10);
    }
    addVertex(point) {
        let lp = this.createdLastPos;
        if (lp === undefined) {
            this.createdLastPos = [point.x, point.y];
        }
        else if (point.x == lp[0] && point.y == lp[1]) {
            this.endCreation();
        }
        else {
            let points = [lp[0], lp[1], point.x, point.y];
            this.sys.fixIntersections(points, 0);
            let plen = points.length;
            for (let i = 2; i < plen; i += 2) {
                let cmd = this.sys.createWall(points[i - 2], points[i - 1], points[i], points[i + 1]);
                (0,_command_command__WEBPACK_IMPORTED_MODULE_16__.executeAndLogCommand)(this.sys.world, cmd);
            }
            this.createdLastPos = [point.x, point.y];
        }
    }
    undoVertex(point) {
        if (this.createdLastPos === undefined)
            return;
        this.mouseLastPos = point;
        let recomputeLast = true;
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
            return;
        }
        else if (this.createdIds.length === 1) {
            const wall = this.sys.world.getComponent(this.createdIds[0], _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            this.createdLastPos = [wall.x, wall.y];
            recomputeLast = false;
        }
        let cmd = {
            kind: 'despawn',
            entities: [this.createdIds.pop()],
        };
        (0,_command_command__WEBPACK_IMPORTED_MODULE_16__.executeAndLogCommand)(this.sys.world, cmd);
        if (recomputeLast) {
            this.recomputeCreatedLastPos();
        }
        else {
            this.redrawCreationLastLine(this.mouseLastPos);
        }
    }
    recomputeCreatedLastPos() {
        if (this.createdIds.length === 0) {
            this.createdLastPos = undefined;
        }
        else {
            let id = this.createdIds[this.createdIds.length - 1];
            let wallPos = this.sys.world.getComponent(id, _component__WEBPACK_IMPORTED_MODULE_4__.POSITION_TYPE);
            let wall = this.sys.storage.getComponent(id);
            this.createdLastPos = [
                wallPos.x + wall.vec[0],
                wallPos.y + wall.vec[1],
            ];
        }
        this.redrawCreationLastLine(this.mouseLastPos);
    }
    onPointerMove(event) {
        this.redrawCreationLastLine((0,_tools_utils__WEBPACK_IMPORTED_MODULE_19__.snapPoint)(this.sys.world, event.boardPos));
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        event.consumed = true;
        this.addVertex((0,_tools_utils__WEBPACK_IMPORTED_MODULE_19__.snapPoint)(this.sys.world, event.boardPos));
    }
    onPointerRightDown(event) {
        if (event.consumed)
            return;
        event.consumed = true;
        this.undoVertex((0,_tools_utils__WEBPACK_IMPORTED_MODULE_19__.snapPoint)(this.sys.world, event.boardPos));
    }
    onEnable() {
        this.isActive = true;
        this.initCreation();
    }
    onDisable() {
        this.endCreation();
        this.isActive = false;
    }
    initialize(events) {
        this.createLastLineDisplay.zIndex = _phase_editMap_displayPrecedence__WEBPACK_IMPORTED_MODULE_2__.DisplayPrecedence.WALL + 1;
        this.createLastLineDisplay.interactive = false;
        this.createLastLineDisplay.interactiveChildren = false;
        this.pixiBoardSys.board.addChild(this.createLastLineDisplay);
        this.pixiBoardSys.board.sortChildren();
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_13__.PointerEvents.POINTER_RIGHT_DOWN, this.onPointerRightDown, this);
    }
    destroy() {
        this.createLastLineDisplay.destroy(_util_pixi__WEBPACK_IMPORTED_MODULE_1__.DESTROY_ALL);
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/inspect.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/inspect.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FilteredPanPart": () => (/* binding */ FilteredPanPart),
/* harmony export */   "InteractPart": () => (/* binding */ InteractPart),
/* harmony export */   "SelectPart": () => (/* binding */ SelectPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _rectangularSelection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rectangularSelection */ "./src/app/ecs/tools/rectangularSelection.ts");
/* harmony import */ var _systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");






class FilteredPanPart {
    constructor(world, name, filter, priority = 0) {
        this.isPanning = false;
        this.name = name;
        this.world = world;
        this.filter = filter;
        this.priority = priority;
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        this.isPanning = this.filter(this.world, event);
        if (this.isPanning) {
            event.consumed = true;
            event.consumeDragBoard = true;
        }
    }
    onPointerUp(event) {
        if (event.isClick) {
            event.consumed = true;
        }
        this.isPanning = false;
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_DOWN, this.onPointerDown, this, this.priority);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_UP, this.onPointerUp, this, this.priority);
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}
class InteractPart {
    constructor(world) {
        this.name = "interact";
        this.lastClick = 0;
        this.world = world;
    }
    onPointerClick(event) {
        const now = Date.now();
        if (now - this.lastClick < 800) {
            // double click!
            this.lastClick = 0;
            this.world.events.emit("interact", event.entitiesHovered());
        }
        else {
            this.lastClick = now;
        }
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_CLICK, this.onPointerClick, this);
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}
class SelectPart {
    constructor(world) {
        this.name = "select";
        this.isDown = false;
        this.lastDownEntities = [];
        this.lastDownSelected = [];
        this.canMoveSelected = false;
        this.isMoving = false;
        this.movingStart = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.lastMove = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.world = world;
        this.layerSys = world.systems.get(_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_4__.LAYER_TYPE);
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_1__.SELECTION_TYPE);
        this.keyboard = this.world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_5__.KEYBOARD_TYPE);
        this.rectSelection = new _rectangularSelection__WEBPACK_IMPORTED_MODULE_3__.RectangularSelection(world);
        this.rectSelection.predicate = id => !this.layerSys.getEntityLayer(id).locked;
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        this.isDown = true;
        this.lastDownEntities.length = 0;
        this.lastDownSelected.length = 0;
        this.justSelected = undefined;
        for (let entity of event.entitiesHovered()) {
            if (this.layerSys.getEntityLayer(entity).locked) {
                this.lastDownEntities.push(entity);
            }
            else {
                this.lastDownSelected.push(entity);
            }
        }
        if (this.lastDownSelected.length === 0 && this.world.isMaster) {
            this.rectSelection.begin(event.boardPos);
            event.consumed = true;
        }
        // Clients can't move anything (TODO: this should be false)
        event.consumed || (event.consumed = this.world.isMaster);
        // event.consumed = true;
        const ctrlPressed = this.keyboard.ctrl;
        if (ctrlPressed) {
            let selected = this.selectionSys.selectedEntities;
            let e = [];
            for (let entity of this.lastDownSelected) {
                if (!selected.has(entity)) {
                    e.push(entity);
                }
            }
            this.selectionSys.addEntities(e);
        }
        else if (this.lastDownSelected.length > 0) {
            const entity = this.lastDownSelected[0];
            this.justSelected = entity;
        }
        // TODO: better move system
        this.canMoveSelected = this.world.isMaster && !ctrlPressed;
        if (!this.canMoveSelected)
            return;
        this.movingStart.copyFrom(event.boardPos);
        this.lastMove.set(0, 0);
    }
    onPointerUp(event) {
        this.canMoveSelected = false;
        this.isDown = false;
        if (event.isClick) {
            if (event.entitiesHovered().length === 0) {
                this.selectionSys.clear();
            }
            else if (this.justSelected !== undefined) {
                this.selectionSys.setOnlyEntity(this.justSelected);
            }
        }
        if (this.rectSelection.isActive) {
            this.rectSelection.done();
        }
        if (this.isMoving) {
            this.isMoving = false;
            this.world.events.emit('tool_move_end');
        }
    }
    onPointerMove(event) {
        if (!this.isDown || !this.canMoveSelected || event.canBecomeClick)
            return;
        if (this.lastDownSelected.length === 0) {
            if (!this.rectSelection.isActive) {
                this.rectSelection.begin(this.movingStart);
            }
            this.rectSelection.moveEnd(event.boardPos);
        }
        else {
            if (!this.isMoving) {
                if (this.justSelected !== undefined && !this.selectionSys.selectedEntities.has(this.justSelected)) {
                    this.selectionSys.setOnlyEntity(this.justSelected);
                }
                this.isMoving = true;
                this.world.events.emit('tool_move_begin');
            }
            let diffX = event.boardPos.x - this.movingStart.x;
            let diffY = event.boardPos.y - this.movingStart.y;
            let moveX = diffX - this.lastMove.x;
            let moveY = diffY - this.lastMove.y;
            this.lastMove.set(diffX, diffY);
            this.selectionSys.moveAll(moveX, moveY, this.selectionSys.selectedEntities);
        }
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PointerEvents.POINTER_UP, this.onPointerUp, this);
    }
    destroy() {
    }
    onEnable() {
    }
    onDisable() {
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/measure.ts":
/*!**************************************!*\
  !*** ./src/app/ecs/tools/measure.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MEASURE_TYPE": () => (/* binding */ MEASURE_TYPE),
/* harmony export */   "MeasureToolPart": () => (/* binding */ MeasureToolPart)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/app/ecs/tools/utils.ts");




const MEASURE_TYPE = "measure";
class MeasureToolPart {
    constructor(world) {
        this.name = MEASURE_TYPE;
        this.startMeasure = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.lastMeasure = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point();
        this.isDown = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_2__.KEYBOARD_TYPE);
    }
    pushRes() {
        this.world.addResource({
            type: MEASURE_TYPE,
            fromX: this.startMeasure.x,
            fromY: this.startMeasure.y,
            toX: this.lastMeasure.x,
            toY: this.lastMeasure.y,
            _save: false,
            _sync: false,
        }, 'update');
    }
    removeRes() {
        this.world.removeResource(MEASURE_TYPE, false);
    }
    onPointerDown(event) {
        if (event.consumed)
            return;
        event.consumed = true;
        this.isDown = true;
        this.startMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.snapPoint)(this.world, event.boardPos);
        this.lastMeasure = this.startMeasure;
        this.pushRes();
    }
    onPointerUp(event) {
        if (!this.isDown)
            return;
        this.isDown = false;
        this.lastMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.snapPoint)(this.world, event.boardPos);
        this.pushRes();
    }
    onPointerMove(event) {
        if (!this.isDown)
            return;
        this.lastMeasure = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.snapPoint)(this.world, event.boardPos);
        this.pushRes();
    }
    onEnable() {
    }
    onDisable() {
        this.removeRes();
    }
    initialize(events) {
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PointerEvents.POINTER_DOWN, this.onPointerDown, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PointerEvents.POINTER_UP, this.onPointerUp, this);
        events.on(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_1__.PointerEvents.POINTER_MOVE, this.onPointerMove, this);
    }
    destroy() {
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/rectangularSelection.ts":
/*!***************************************************!*\
  !*** ./src/app/ecs/tools/rectangularSelection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RectangularSelection": () => (/* binding */ RectangularSelection)
/* harmony export */ });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _resource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resource */ "./src/app/ecs/resource.ts");
/* harmony import */ var _systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");







class RectangularSelection {
    constructor(world) {
        this.isActive = false;
        this.startPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.endPoint = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Point();
        this.predicate = _ => true;
        this.entitiesInside = new Set();
        this.entitiesSelected = new Set();
        this.isMultiple = false;
        this.world = world;
        this.keyboard = world.getResource(_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_TYPE);
        this.display = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
        this.selectionSys = world.systems.get(_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_5__.SELECTION_TYPE);
    }
    begin(pos) {
        this.entitiesSelected.clear();
        this.isActive = true;
        this.world.addResource({
            type: _resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE,
            aabb: new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(pos.x, pos.y, pos.x, pos.y),
            _save: false,
            _sync: false,
        }, 'update');
        this.startPoint = pos;
        this.endPoint = pos;
        this.isMultiple = this.keyboard.ctrl;
        if (!this.isMultiple) {
            this.selectionSys.clear();
        }
    }
    moveEnd(pos) {
        let added = [];
        let removed = [];
        (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.aabbSameOriginDifference)(this.startPoint, this.endPoint, pos, added, removed);
        const newAabb = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_1__.Aabb(this.startPoint.x, this.startPoint.y, pos.x, pos.y);
        for (let x of added) {
            this.addRect(x);
        }
        for (let x of removed) {
            this.removeRect(x, newAabb);
        }
        this.endPoint = pos;
        this.world.editResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE, {
            aabb: newAabb,
        });
    }
    done() {
        this.isActive = false;
        this.world.removeResource(_resource__WEBPACK_IMPORTED_MODULE_4__.RECTANGULAR_SELECTION_TYPE);
        this.entitiesInside.clear();
        this.entitiesSelected.clear();
    }
    onEntityEnter(id) {
        if (this.selectionSys.selectedEntities.has(id)) {
            return;
        }
        this.entitiesSelected.add(id);
        this.selectionSys.addEntities([id]);
    }
    onEntityLeave(id) {
        if (this.entitiesSelected.delete(id)) {
            this.selectionSys.removeEntities([id]);
        }
    }
    addRect(aabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            if (this.entitiesInside.has(c.entity))
                return false;
            return this.predicate(c.entity);
        });
        for (let c of ents) {
            this.entitiesInside.add(c.entity);
            this.onEntityEnter(c.entity);
        }
    }
    removeRect(aabb, newAabb) {
        let sys = this.world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.INTERACTION_TYPE);
        let ents = sys.queryVisible((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(aabb), c => {
            return this.entitiesInside.has(c.entity) &&
                !(0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeIntersect)((0,_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_2__.shapeAabb)(newAabb), c.shape);
        });
        for (let c of ents) {
            this.entitiesInside.delete(c.entity);
            this.onEntityLeave(c.entity);
        }
    }
}


/***/ }),

/***/ "./src/app/ecs/tools/toolType.ts":
/*!***************************************!*\
  !*** ./src/app/ecs/tools/toolType.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tool": () => (/* binding */ Tool)
/* harmony export */ });
var Tool;
(function (Tool) {
    Tool["INSPECT"] = "inspect";
    Tool["CREATE_WALL"] = "create_wall";
    Tool["CREATE_PIN"] = "create_pin";
    Tool["CREATE_PROP"] = "create_prop";
    Tool["GRID"] = "grid";
    Tool["LIGHT"] = "light";
    Tool["MEASURE"] = "measure";
    Tool["PROP_TELEPORT_LINK"] = "prop_teleport_link";
    Tool["MOUSE_TRAIL"] = "mouse_trail";
})(Tool || (Tool = {}));


/***/ }),

/***/ "./src/app/ecs/tools/utils.ts":
/*!************************************!*\
  !*** ./src/app/ecs/tools/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findEntitiesAt": () => (/* binding */ findEntitiesAt),
/* harmony export */   "getBoardPosFromOrigin": () => (/* binding */ getBoardPosFromOrigin),
/* harmony export */   "getMapPointFromMouseInteraction": () => (/* binding */ getMapPointFromMouseInteraction),
/* harmony export */   "snapPoint": () => (/* binding */ snapPoint)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PIXI */ "./src/app/PIXI.ts");
/* harmony import */ var _interaction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interaction */ "./src/app/ecs/interaction.ts");
/* harmony import */ var _systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");





function findEntitiesAt(world, point, multi) {
    let event = _interaction__WEBPACK_IMPORTED_MODULE_1__.QueryHitEvent.queryPoint(point, multi);
    world.events.emit('query_hit', event);
    return event.getSorted();
}
function getBoardPosFromOrigin(world, event, orig) {
    let board = world.systems.get(_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
    return event.data.getLocalPosition(board.board, orig);
}
function getMapPointFromMouseInteraction(world, event, orig) {
    let point = getBoardPosFromOrigin(world, event, orig);
    return snapPoint(world, point);
}
function snapPoint(world, p, useWall = true) {
    const point = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point(p.x, p.y);
    const interSys = world.systems.get(_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_3__.INTERACTION_TYPE);
    let nearest = interSys.snapDb.findNearest([point.x, point.y]);
    if (nearest !== undefined && nearest[1] < 100) {
        point.set(nearest[0][0], nearest[0][1]);
    }
    else if (useWall) {
        const wallSys = world.systems.get(_systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__.WALL_TYPE);
        let onWallLoc = wallSys === null || wallSys === void 0 ? void 0 : wallSys.findLocationOnWall(point, 50);
        if (onWallLoc !== undefined) {
            point.copyFrom(onWallLoc);
        }
    }
    return point;
}


/***/ }),

/***/ "./src/app/ecs/world.ts":
/*!******************************!*\
  !*** ./src/app/ecs/world.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "World": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _systemGraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./systemGraph */ "./src/app/ecs/systemGraph.ts");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* harmony import */ var _ecsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsUtil */ "./src/app/ecs/ecsUtil.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
// Welcome to this talk, I'll present to you: my stupid version of ECS.
// What am I trying to solve?
// Everything in the map will need to hold information, this might be a player holding inventory or maybe a monster
// holding to lifepoints and such.
// What's more? every entity might have multiple names and only some of them might be public
// so we also have something similar to a "multiple component".



const DEFAULT_SERIALIZE_OPTIONS = {
    requireSync: false,
    requireSave: false,
    remap: false,
    stripClient: false,
    ignoreHostHidden: false,
    resources: false,
};
const DEFAULT_DESERIALIZE_OPTIONS = {
    remap: false,
    thenSelect: false,
};
class World {
    constructor(isMaster) {
        this.systems = new _systemGraph__WEBPACK_IMPORTED_MODULE_0__.SystemGraph();
        this.storages = new Map();
        this.storageList = new Array();
        this.entities = new Set();
        this.resources = new Map();
        this.systemsFinalized = false;
        this.isDeserializing = false;
        this.isDespawning = [];
        //      Event list:
        // entity_spawn(id)
        // entity_spawned(id) - After an entity is spawned
        // entity_despawn(id)
        // entity_despawned(id) - After an entity is despawned
        // component_add(component)
        // component_edit(changes, component) - Before the component is edited
        // component_edited(component, changes) - After the component is edited
        // component_remove(component)
        // component_removed(component)
        // resource_add(resource)
        // resource_added(resource)
        // resource_edit(oldRes, newRes)
        // resource_remove(resource)
        // resource_removed(resource)
        // clear()
        // cleared()
        // serialize(data)
        // serialized(data)
        // deserialize(data)
        // deserialized(data)
        //      External events:
        // query_hit(event: QueryHitEvent)
        // selection_begin(entities)
        // selection_end(entities)
        // selection_update()
        // tool_move_begin()
        // tool_move_end()
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.isMaster = isMaster;
    }
    getStorage(name) {
        let s = this.storages.get(name);
        if (s === undefined) {
            throw new Error("Cannot find storage " + name);
        }
        return s;
    }
    allocateId() {
        let id = -1;
        do {
            id = (0,_ecsUtil__WEBPACK_IMPORTED_MODULE_2__.generateRandomId)();
        } while (this.entities.has(id));
        return id;
    }
    spawnEntity(...components) {
        let id = this.allocateId();
        this.spawnEntityManual(id, components);
        return id;
    }
    spawnEntityManual(id, components) {
        this.entities.add(id);
        this.events.emit('entity_spawn', id);
        for (let comp of components) {
            this.addComponent(id, comp);
        }
        this.events.emit('entity_spawned', id);
    }
    despawnEntity(entity) {
        this.isDespawning.push(entity);
        this.events.emit('entity_despawn', entity);
        for (let i = this.storageList.length - 1; i >= 0; --i) {
            let storage = this.storageList[i];
            let comps = [...storage.getComponents(entity)];
            if (comps.length === 0)
                continue;
            for (let component of comps) {
                this.events.emit('component_remove', component);
            }
            storage.unregisterAllOf(entity);
            for (let component of comps) {
                this.events.emit('component_removed', component);
            }
        }
        this.entities.delete(entity);
        if (this.isDespawning.pop() !== entity) {
            console.error("Error despawning entity, despawn queue modified");
        }
        this.events.emit('entity_despawned', entity);
    }
    addSystem(system) {
        if (this.systemsFinalized)
            throw new Error('Too late to add a system');
        try {
            this.systems.register(system);
        }
        catch (e) {
            throw new Error("Error while mounting " + system.name + ": " + e);
        }
    }
    hasAllComponents(entity, ...types) {
        for (let t of types) {
            if (this.getComponent(entity, t) === undefined)
                return false;
        }
        return true;
    }
    addComponent(entity, cmp) {
        if (!this.entities.has(entity)) {
            throw new Error("Entity not present");
        }
        cmp.entity = entity;
        let storage = this.storages.get(cmp.type);
        if (storage === undefined) {
            throw new Error('Cannot register component of type ' + cmp.type + ', no storage found');
        }
        storage.register(cmp);
        this.events.emit('component_add', cmp);
    }
    removeComponent(cmp) {
        this.events.emit('component_remove', cmp);
        let storage = this.getStorage(cmp.type);
        storage.unregister(cmp);
        this.events.emit('component_removed', cmp);
    }
    removeComponentType(entity, type) {
        for (let c of this.getStorage(type).getComponents(entity)) {
            this.removeComponent(c);
        }
    }
    addStorage(storage) {
        this.storages.set(storage.type, storage);
        this.storageList.push(storage);
    }
    getComponent(entity, type, multiId) {
        let storage = this.getStorage(type);
        return storage.getFirstComponent(entity, multiId);
    }
    getAllComponents(entity) {
        let res = new Array();
        for (let storage of this.storages.values()) {
            res.push(...storage.getComponents(entity));
        }
        return res;
    }
    editComponent(entity, type, changes, multiId, clearCh = true) {
        let c = this.getComponent(entity, type, multiId);
        if (c === undefined) {
            throw new Error('Cannot find component ' + type + ' of entity: ' + entity);
        }
        if (clearCh && !clearChanges(c, changes))
            return; // No real changes
        this.events.emit('component_edit', c, changes);
        let changed = assignSwap(c, changes);
        this.events.emit('component_edited', c, changed);
    }
    editComponentMultiple(entity, changes) {
        if (changes.length === 0)
            return;
        if (changes.length === 1) {
            this.editComponent(entity, changes[0].type, changes[0].changes, changes[0].multiId, changes[0].clearChanges);
            return;
        }
        let chs = changes;
        for (let change of chs) {
            let c = this.getComponent(entity, change.type, change.multiId);
            if (c === undefined) {
                throw new Error('Cannot find component ' + change.type + ' of entity: ' + entity);
            }
            change._comp = c;
            if (change.clearChanges && !clearChanges(c, changes)) {
                change._skip = true;
            }
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edit', change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            assignSwap(change._comp, change.changes);
        }
        for (let change of chs) {
            if (change._skip)
                continue;
            this.events.emit('component_edited', change._comp, change.changes);
        }
    }
    addResource(resource, ifPresent = 'fail') {
        if (this.resources.has(resource.type)) {
            switch (ifPresent) {
                case 'ignore': break;
                case 'update':
                    this.editResource(resource.type, resource);
                    break;
                default: throw new Error('Resource type already present');
            }
            return;
        }
        this.events.emit('resource_add', resource);
        if (this.resources.has(resource.type))
            throw new Error('"resource_add" event has added a resource of the same type!');
        this.resources.set(resource.type, resource);
        this.events.emit('resource_added', resource);
    }
    getResource(type) {
        return this.resources.get(type);
    }
    editResource(type, changes) {
        let res = this.getResource(type);
        if (res === undefined) {
            throw new Error('Cannot find resource ' + type);
        }
        if (!clearChanges(res, changes))
            return; // No real changes
        this.events.emit('resource_edit', res, changes);
        assignSwap(res, changes); // changes now has old values
        this.events.emit('resource_edited', res, changes);
    }
    removeResource(type, failIfNotPresent = true) {
        let resource = this.resources.get(type);
        if (resource === undefined) {
            if (failIfNotPresent)
                throw new Error('Resource type not found');
            return;
        }
        this.events.emit('resource_remove', resource);
        this.resources.delete(type);
        this.events.emit('resource_removed', resource);
    }
    enable() {
        for (let system of this.systems) {
            system.enable();
        }
    }
    destroy() {
        for (let i = this.systems.size() - 1; i >= 0; i--) {
            let system = this.systems.getAt(i);
            system.destroy();
        }
    }
    serialize(options) {
        options = Object.assign({}, DEFAULT_SERIALIZE_OPTIONS, options);
        let entities;
        if (options.only === undefined) {
            entities = [...this.entities];
        }
        else {
            entities = [...options.only];
        }
        let resEnt = entities;
        let mapping = (x) => x;
        if (options.remap) {
            resEnt = Array.from(Array(entities.length), (e, i) => i + 1);
            mapping = (x) => entities.indexOf(x) + 1;
        }
        let shouldIgnore = (x) => false;
        if (options.stripClient && !options.ignoreHostHidden) {
            const hostHidden = this.getStorage('host_hidden');
            shouldIgnore = (e) => hostHidden.getFirstComponent(e) !== undefined;
        }
        let sdata = {
            options,
            entityMapping: mapping,
            shouldIgnore,
        };
        this.events.emit('serialize', sdata);
        let storages = {};
        for (let storage of this.storages.values()) {
            if ((options.requireSync && !storage.sync) || (options.requireSave && !storage.save))
                continue;
            let data = storage.serialize(sdata);
            if (data === undefined)
                continue;
            storages[storage.type] = data;
        }
        let resources = undefined;
        if (options.resources) {
            resources = {};
            for (let resource of this.resources.values()) {
                // undefined is treated as true so that loaded resources get saved again
                if ((options.requireSave && !resource._save) || (options.requireSync && !resource._sync))
                    continue;
                let res = {};
                for (let name in resource) {
                    if (name[0] === '_' || name === 'type')
                        continue;
                    res[name] = resource[name];
                }
                resources[resource.type] = res;
            }
        }
        let res = {
            entities: resEnt,
            storages,
        };
        if (resources !== undefined)
            res.resources = resources;
        sdata.result = res;
        this.events.emit('serialized', sdata);
        return res;
    }
    deserialize(data, options) {
        options = Object.assign({}, DEFAULT_DESERIALIZE_OPTIONS, options);
        let mapping = (x) => x;
        if (options.remap) {
            let remapsUndup = new Set();
            let remaps = new Array();
            for (let i = 0; i < data.entities.length; i++) {
                let id = this.allocateId();
                if (remapsUndup.has(id)) {
                    i--;
                    continue;
                }
                remapsUndup.add(id);
                remaps.push(id);
            }
            mapping = (x) => remaps[x - 1];
        }
        let dsData = {
            options,
            data,
            entityMapping: mapping,
        };
        this.isDeserializing = true;
        this.events.emit('deserialize', dsData);
        if (data.resources !== undefined) {
            for (let type in data.resources) {
                let res = data.resources[type];
                res.type = type;
                this.addResource(res, 'update');
            }
        }
        for (let entity of data.entities) {
            let realEnt = mapping(entity);
            this.entities.add(realEnt);
            this.events.emit('entity_spawn', realEnt);
        }
        for (let type in data.storages) {
            let storage = this.storages.get(type);
            if (storage === undefined) {
                console.error("Cannot deserialize storage type: " + type + ", ignoring");
                continue;
            }
            storage.deserialize(this, dsData, data.storages[type]);
        }
        for (let entity of data.entities) {
            this.events.emit('entity_spawned', mapping(entity));
        }
        this.isDeserializing = false;
        this.events.emit('deserialized', dsData);
    }
    populate() {
        this.events.emit('populate');
    }
    clear() {
        this.events.emit('clear');
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        // Round 2 (if some entity gets spawned on despawn)
        for (let entity of [...this.entities]) {
            this.despawnEntity(entity);
        }
        if (this.entities.size !== 0)
            throw new Error('Entities spawned while clearing!');
        // TODO: also clear resources
        this.events.emit('cleared');
        this.populate();
    }
    /**
     * TODO: use Vue 3
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}
function assignSwap(obj, changes) {
    for (let name in changes) {
        let tmp = changes[name];
        changes[name] = obj[name];
        obj[name] = tmp;
    }
    return changes;
}
function clearChanges(from, changes) {
    let changec = 0;
    for (let change in changes) {
        if (from[change] === changes[change]) {
            delete changes[change];
        }
        else {
            changec++;
        }
    }
    return changec !== 0;
}


/***/ }),

/***/ "./src/app/game/grid.ts":
/*!******************************!*\
  !*** ./src/app/game/grid.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridType": () => (/* binding */ GridType),
/* harmony export */   "STANDARD_GRID_OPTIONS": () => (/* binding */ STANDARD_GRID_OPTIONS)
/* harmony export */ });
var GridType;
(function (GridType) {
    GridType[GridType["SQUARE"] = 0] = "SQUARE";
    GridType[GridType["HEXAGON"] = 1] = "HEXAGON";
})(GridType || (GridType = {}));
const STANDARD_GRID_OPTIONS = {
    visible: true,
    gridType: GridType.SQUARE,
    color: 0,
    thick: 10,
    opacity: 0.75,
    size: 128,
    offX: 0,
    offY: 0,
    unitMul: 1.5,
    unitName: 'm',
};


/***/ }),

/***/ "./src/app/game/pointDB.ts":
/*!*********************************!*\
  !*** ./src/app/game/pointDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PointDB": () => (/* binding */ PointDB)
/* harmony export */ });
/* harmony import */ var _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/k2dTree */ "./src/app/util/k2dTree.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");


class PointDB {
    constructor(grid) {
        // In js we cannot create a Map with a custom object as key -_-
        this.counter = new Map();
        this.tree = new _util_k2dTree__WEBPACK_IMPORTED_MODULE_0__.K2dTree();
        this.count = 0;
        this.grid = grid;
    }
    insert(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = this.counter.get(ptrStr) || 0;
        this.counter.set(ptrStr, p + 1);
        if (p == 0) {
            this.tree.insert(point);
        }
        this.count++;
    }
    remove(point) {
        let ptrStr = point[0] + '|' + point[1];
        let p = (this.counter.get(ptrStr) || 0) - 1;
        if (p == 0) {
            this.counter.delete(ptrStr);
            if (!this.tree.remove(point)) {
                console.error('Failed to remove node: ' + point);
            }
        }
        else if (p > 0) {
            this.counter.set(ptrStr, p);
        }
        else {
            return false;
        }
        this.count--;
        return true;
    }
    findNearest(point) {
        let treeNearest = this.tree.nearestPoint(point);
        let gridNearest = undefined;
        if (this.grid !== undefined) {
            gridNearest = this.grid.closestPoint(point);
        }
        if (gridNearest !== undefined) {
            let gridDist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_1__.distSquared2d)(point[0], point[1], gridNearest[0], gridNearest[1]);
            if (treeNearest === undefined || gridDist < treeNearest[1]) {
                return [gridNearest, gridDist];
            }
        }
        return treeNearest;
    }
}


/***/ }),

/***/ "./src/app/game/pointLightRenderer.ts":
/*!********************************************!*\
  !*** ./src/app/game/pointLightRenderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setup": () => (/* binding */ setup),
/* harmony export */   "createMesh": () => (/* binding */ createMesh),
/* harmony export */   "updateMeshPolygons": () => (/* binding */ updateMeshPolygons),
/* harmony export */   "updateMeshUniforms": () => (/* binding */ updateMeshUniforms)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

var hex2rgb = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].utils.hex2rgb;
// Other methods: https://github.com/mattdesl/lwjgl-basics/wiki/2D-Pixel-Perfect-Shadows
const LIGHT_VERTEX_SHADER = `
    precision mediump float;
    attribute vec2 aVertexPosition;
    
    varying vec2 vecPos;

    uniform mat3 translationMatrix;
    uniform mat3 projectionMatrix;

    void main() {
        vecPos = aVertexPosition;
        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    }
`;
const LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - clamp(distSq / radSquared, 0., 1.);
        gl_FragColor = vec4(color, 1) * (intensity * intensity);// Pre multiplied alpha
    }
`;
const CONST_LIGHT_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = float(distSq <= radSquared);
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
const PLAYER_VIS_FRAGMENT_SHADER = `
    precision mediump float;

    varying vec2 vecPos;
    
    uniform vec2 center;
    uniform float radSquared;
    uniform vec3 color;

    void main() {
        vec2 diff = center - vecPos;
        float distSq = diff.x * diff.x + diff.y * diff.y;
        float intensity = 1.0 - smoothstep(0.9, 1.0, clamp(distSq / radSquared, 0., 1.));
        gl_FragColor = vec4(color, 1) * intensity;// Pre multiplied alpha
    }
`;
let lightProgram = undefined;
let constLightProgram = undefined;
let playerVisProgram = undefined;
function setup() {
    if (lightProgram === undefined) {
        lightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Program.from(LIGHT_VERTEX_SHADER, LIGHT_FRAGMENT_SHADER);
        constLightProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Program.from(LIGHT_VERTEX_SHADER, CONST_LIGHT_FRAGMENT_SHADER);
        playerVisProgram = _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Program.from(LIGHT_VERTEX_SHADER, PLAYER_VIS_FRAGMENT_SHADER);
    }
}
function createMesh(lightType = 'normal') {
    let geometry = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Geometry();
    let buff = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Buffer(new Float32Array(1));
    geometry.addAttribute('aVertexPosition', buff, 2, false, _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].TYPES.FLOAT);
    let program;
    switch (lightType) {
        case 'normal':
            program = lightProgram;
            break;
        case 'const':
            program = constLightProgram;
            break;
        case 'player':
            program = playerVisProgram;
            break;
    }
    // We'll change them all, in due time
    let shaders = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Shader(program, {
        'center': new Float32Array([0.5, 0.5]),
        'radSquared': 10,
        'color': new Float32Array([0, 0, 0]),
    });
    let mesh = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Mesh(geometry, shaders, undefined, _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].DRAW_MODES.TRIANGLE_FAN);
    mesh.interactive = false;
    mesh.interactiveChildren = false;
    return mesh;
}
function updateMeshPolygons(mesh, pos, poly) {
    let buffer = mesh.geometry.getBuffer('aVertexPosition');
    let fBuffer = new Float32Array(poly.length + 4);
    fBuffer[0] = pos.x;
    fBuffer[1] = pos.y;
    fBuffer.set(poly, 2);
    fBuffer[poly.length + 2] = poly[0];
    fBuffer[poly.length + 3] = poly[1];
    buffer.update(fBuffer);
}
function updateMeshUniforms(mesh, center, rangeSquared, color) {
    let uni = mesh.shader.uniforms;
    let c = uni.center;
    c[0] = center.x;
    c[1] = center.y;
    uni.radSquared = rangeSquared;
    hex2rgb(color, uni.color);
}


/***/ }),

/***/ "./src/app/geometry/aabb.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/aabb.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Aabb": () => (/* binding */ Aabb)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");

class Aabb {
    constructor(x1, y1, x2, y2) {
        if (x1 > x2)
            [x1, x2] = [x2, x1];
        if (y1 > y2)
            [y1, y2] = [y2, y1];
        this.minX = x1;
        this.minY = y1;
        this.maxX = x2;
        this.maxY = y2;
    }
    isValid() {
        return this.minX < this.maxX && this.minY < this.maxY;
    }
    getCenter() {
        return new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Point((this.minX + this.maxX) / 2, (this.minY + this.maxY) / 2);
    }
    getPerimeter() {
        return (this.maxX - this.minX + this.maxY - this.minY) * 2;
    }
    distancePoint(p) {
        const dx = Math.max(this.minX - p.x, 0, p.x - this.maxX);
        const dy = Math.max(this.minY - p.y, 0, p.y - this.maxY);
        return Math.sqrt(dx * dx + dy * dy);
    }
    translate(x, y, target) {
        target.minX = this.minX + x;
        target.minY = this.minY + y;
        target.maxX = this.maxX + x;
        target.maxY = this.maxY + y;
    }
    combine(other, target) {
        target.minX = Math.min(this.minX, other.minX);
        target.minY = Math.min(this.minY, other.minY);
        target.maxX = Math.max(this.maxX, other.maxX);
        target.maxY = Math.max(this.maxY, other.maxY);
    }
    intersect(other, target) {
        target.minX = Math.max(this.minX, other.minX);
        target.minY = Math.max(this.minY, other.minY);
        target.maxX = Math.min(this.maxX, other.maxX);
        target.maxY = Math.min(this.maxY, other.maxY);
    }
    extend(amount, target) {
        target.minX = this.minX - amount;
        target.minY = this.minY - amount;
        target.maxX = this.maxX + amount;
        target.maxY = this.maxY + amount;
    }
    scale(dx, dy, target) {
        let cx = (this.minX + this.maxX) / 2;
        let cy = (this.minY + this.maxY) / 2;
        let hw = (this.maxX - this.minX) / 2;
        let hh = (this.maxY - this.minY) / 2;
        target.minX = cx - hw * dx;
        target.minY = cy - hh * dy;
        target.maxX = cx + hw * dx;
        target.maxY = cy + hh * dy;
    }
    copyFrom(other) {
        this.minX = other.minX;
        this.minY = other.minY;
        this.maxX = other.maxX;
        this.maxY = other.maxY;
    }
    reset() {
        this.minX = 0;
        this.minY = 0;
        this.maxX = 0;
        this.maxY = 0;
    }
    wrapPolygon(polygon) {
        this.minX = Number.POSITIVE_INFINITY;
        this.minY = Number.POSITIVE_INFINITY;
        this.maxX = Number.NEGATIVE_INFINITY;
        this.maxY = Number.NEGATIVE_INFINITY;
        let len = polygon.length;
        for (let i = 0; i < len; i += 2) {
            this.minX = Math.min(this.minX, polygon[i]);
            this.minY = Math.min(this.minY, polygon[i + 1]);
            this.maxX = Math.max(this.maxX, polygon[i]);
            this.maxY = Math.max(this.maxY, polygon[i + 1]);
        }
    }
    copy() {
        let other = Aabb.zero();
        other.copyFrom(this);
        return other;
    }
    toString() {
        return "AABB(" + this.minX.toFixed(2) + ", " + this.minY.toFixed(2) + ", " + this.maxX.toFixed(2) + ", " + this.maxY.toFixed(2) + ")";
    }
    static zero() {
        return new Aabb(0, 0, 0, 0);
    }
    static fromBounds(b) {
        return new Aabb(b.left, b.top, b.right, b.bottom);
    }
    static fromPoint(p) {
        return new Aabb(p.x, p.y, p.x, p.y);
    }
    static fromPointAnchor(pos, size, anchor) {
        return new Aabb(pos.x - size.x * anchor.x, pos.y - size.y * anchor.y, pos.x + size.x * (1 - anchor.x), pos.y + size.y * (1 - anchor.y));
    }
}


/***/ }),

/***/ "./src/app/geometry/collision.ts":
/*!***************************************!*\
  !*** ./src/app/geometry/collision.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "overlapAabbVsAabb": () => (/* binding */ overlapAabbVsAabb),
/* harmony export */   "containsAabbVsAabb": () => (/* binding */ containsAabbVsAabb),
/* harmony export */   "overlapAabbVsPoint": () => (/* binding */ overlapAabbVsPoint),
/* harmony export */   "overlapAabbVsLine": () => (/* binding */ overlapAabbVsLine),
/* harmony export */   "overlapPointVsCircle": () => (/* binding */ overlapPointVsCircle),
/* harmony export */   "overlapCircleVsAabb": () => (/* binding */ overlapCircleVsAabb),
/* harmony export */   "overlapCircleVsCircle": () => (/* binding */ overlapCircleVsCircle),
/* harmony export */   "overlapCircleVsPolygon": () => (/* binding */ overlapCircleVsPolygon),
/* harmony export */   "overlapObbVsPolygon": () => (/* binding */ overlapObbVsPolygon),
/* harmony export */   "overlapLineVsPolygon": () => (/* binding */ overlapLineVsPolygon),
/* harmony export */   "rotatePointByOrig": () => (/* binding */ rotatePointByOrig),
/* harmony export */   "overlapRotatedRectVsPoint": () => (/* binding */ overlapRotatedRectVsPoint),
/* harmony export */   "overlapRotatedRectVsCircle": () => (/* binding */ overlapRotatedRectVsCircle),
/* harmony export */   "overlapRotatedRectVsLine": () => (/* binding */ overlapRotatedRectVsLine),
/* harmony export */   "computeObbPoints": () => (/* binding */ computeObbPoints),
/* harmony export */   "overlapRotatedRectVsAabb": () => (/* binding */ overlapRotatedRectVsAabb),
/* harmony export */   "overlapRotatedRectVsRotatedRect": () => (/* binding */ overlapRotatedRectVsRotatedRect),
/* harmony export */   "overlapLineVsCircle": () => (/* binding */ overlapLineVsCircle),
/* harmony export */   "SegmentVsSegmentRes": () => (/* binding */ SegmentVsSegmentRes),
/* harmony export */   "intersectSegmentVsSegment": () => (/* binding */ intersectSegmentVsSegment),
/* harmony export */   "triangleContainsPoint": () => (/* binding */ triangleContainsPoint),
/* harmony export */   "lineSameSlope": () => (/* binding */ lineSameSlope)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./visibilityPolygon */ "./src/app/geometry/visibilityPolygon.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _obb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./obb */ "./src/app/geometry/obb.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");





function overlapAabbVsAabb(a, b) {
    return a.minX <= b.maxX && a.maxX >= b.minX &&
        a.minY <= b.maxY && a.maxY >= b.minY;
}
function containsAabbVsAabb(a, b) {
    return a.minX <= b.minX && a.maxX >= b.maxX &&
        a.minY <= b.minY && a.maxY >= b.maxY;
}
function overlapAabbVsPoint(a, b) {
    return a.minX <= b.x && a.minY <= b.y &&
        a.maxX >= b.x && a.maxY >= b.y;
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function overlapAabbVsLine(a, b) {
    let fc = computeOutCode(a, b.fromX, b.fromY);
    let tc = computeOutCode(a, b.toX, b.toY);
    // Fast paths:
    // One of the points is inside
    if (fc === INSIDE || tc === INSIDE)
        return true;
    // bitwise AND is not 0: both points share an outside zone (LEFT, RIGHT, TOP,
    // or BOTTOM), so both must be outside window
    if ((fc & tc) !== 0)
        return false;
    // Both points are in directly opposite sites (left/right or top/bottom)
    if ((fc | tc) === (LEFT | RIGHT))
        return true;
    if ((fc | tc) === (TOP | BOTTOM))
        return true;
    return intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.minY, a.minX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.minX, a.maxY, a.maxX, a.maxY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.maxY, a.maxX, a.minY), b) === SegmentVsSegmentRes.INTERN ||
        intersectSegmentVsSegment(new _line__WEBPACK_IMPORTED_MODULE_1__.Line(a.maxX, a.minY, a.minX, a.minY), b) === SegmentVsSegmentRes.INTERN;
}
function overlapPointVsCircle(point, center, radius) {
    return (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(point.x, point.y, center.x, center.y) < radius * radius;
}
function overlapCircleVsAabb(center, radius, aabb) {
    let distX = Math.abs(center.x - (aabb.minX + aabb.maxX) / 2);
    let distY = Math.abs(center.y - (aabb.minY + aabb.maxY) / 2);
    let halfW = (aabb.maxX - aabb.minX) / 2;
    let halfH = (aabb.maxY - aabb.minY) / 2;
    if (distX > halfW + radius)
        return false;
    if (distY > halfH + radius)
        return false;
    if (distX < halfW || distY < halfH)
        return true;
    let dx = distX - halfW;
    let dy = distY - halfH;
    return dx * dx + dy * dy <= radius * radius;
}
function overlapCircleVsCircle(ac, ar, bc, br) {
    let dx = ac.x - bc.x;
    let dy = ac.y - bc.y;
    let r = ar + br;
    return dx * dx + dy * dy < r * r;
}
function overlapCircleVsPolygon(ac, ar, poly) {
    if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(ac, poly))
        return true;
    let tmpLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(0, 0, 0, 0);
    let tmpPoint = new PIXI.Point();
    let r2 = ar * ar;
    for (let i = 2; i < poly.length; i += 2) {
        tmpLine.fromX = poly[i - 2];
        tmpLine.fromY = poly[i - 1];
        tmpLine.toX = poly[i];
        tmpLine.toY = poly[i + 1];
        tmpLine.projectPoint(ac, tmpPoint, true);
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, ac.x, ac.y) <= r2) {
            return true;
        }
    }
    return false;
}
function overlapObbVsPolygon(obb, poly) {
    let polyAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    polyAabb.wrapPolygon(poly);
    // Fast path
    if (!overlapRotatedRectVsAabb(obb, polyAabb))
        return false;
    for (let i = 0; i < 8; i += 2) {
        let p = {
            x: obb.rotVertex[i],
            y: obb.rotVertex[i + 1],
        };
        // If a point of the OBB is inside the polygon then we're done
        if ((0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.polygonPointIntersect)(p, poly))
            return true;
    }
    for (let i = 0; i < poly.length; i += 2) {
        let p = {
            x: poly[i],
            y: poly[i + 1],
        };
        // If a point of the polygon is inside the OBB then we're done
        if (overlapRotatedRectVsPoint(obb, p))
            return true;
    }
    let obbLines = [
        [0, 2],
        [2, 4],
        [4, 6],
        [6, 0]
    ];
    // Check line intersections
    for (let line of obbLines) {
        let obbLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(obb.rotVertex[line[0]], obb.rotVertex[line[0] + 1], obb.rotVertex[line[1]], obb.rotVertex[line[1] + 1]);
        if (overlapLineVsPolygon(obbLine, poly))
            return true;
    }
    return false;
}
function overlapLineVsPolygon(line, poly) {
    let totLines = poly.length - 2;
    for (let i = 0; i < totLines; i += 2) {
        let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[i], poly[i + 1], poly[i + 2], poly[i + 3]);
        if (intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN)
            return true;
    }
    let polLine = new _line__WEBPACK_IMPORTED_MODULE_1__.Line(poly[0], poly[1], poly[poly.length - 2], poly[poly.length - 1]);
    return intersectSegmentVsSegment(line, polLine) == SegmentVsSegmentRes.INTERN;
}
function rotatePointByOrig(o, rot, p) {
    let s = Math.sin(-rot);
    let c = Math.cos(-rot);
    let transX = p.x - o.x;
    let transY = p.y - o.y;
    return new PIXI.Point((transX * c - transY * s) + o.x, (transX * s + transY * c) + o.y);
}
function overlapRotatedRectVsPoint(obb, p) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, p);
    return overlapAabbVsPoint(obb.unrotated, rotatedPoint);
}
function overlapRotatedRectVsCircle(obb, pos, rad) {
    let rotatedPoint = rotatePointByOrig(obb.unrotated.getCenter(), obb.rotation, pos);
    return overlapCircleVsAabb(rotatedPoint, rad, obb.unrotated);
}
function overlapRotatedRectVsLine(obb, line) {
    let center = obb.unrotated.getCenter();
    let rotFrom = rotatePointByOrig(center, obb.rotation, { x: line.fromX, y: line.fromY });
    let rotTo = rotatePointByOrig(center, obb.rotation, { x: line.toX, y: line.toY });
    return overlapAabbVsLine(obb.unrotated, new _line__WEBPACK_IMPORTED_MODULE_1__.Line(rotFrom.x, rotFrom.y, rotTo.x, rotTo.y));
}
function computeObbPoints(aabb, rot, origin) {
    let res = new Array(8);
    let o = origin || {
        x: (aabb.minX + aabb.maxX) / 2,
        y: (aabb.minY + aabb.maxY) / 2,
    };
    for (let i = 0; i < 4; i++) {
        let minX = (i & 1);
        let minY = (i & 2) >>> 1;
        let p = rotatePointByOrig(o, rot, {
            x: minX ? aabb.minX : aabb.maxX,
            y: minY ? aabb.minY : aabb.maxY,
        });
        res[i * 2] = p.x;
        res[i * 2 + 1] = p.y;
    }
    return res;
}
function overlapRotatedRectVsAabb(obb, aabb) {
    // Separating Axis Theorem
    let otherAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
    otherAabb.wrapPolygon(obb.rotVertex);
    if (overlapAabbVsAabb(aabb, otherAabb))
        return true;
    // Apply the inverse transform of the obb to the aabb
    let originalInv = computeObbPoints(aabb, obb.rotation, obb.unrotated.getCenter());
    otherAabb.reset();
    otherAabb.wrapPolygon(originalInv);
    return overlapAabbVsAabb(obb.unrotated, otherAabb);
}
function overlapRotatedRectVsRotatedRect(obb1, obb2) {
    let center = obb2.unrotated.getCenter();
    let res = obb2.unrotated.copy();
    res.translate(-center.x, -center.y, res);
    let obb3 = _obb__WEBPACK_IMPORTED_MODULE_4__.Obb.rotateAabb(res, obb2.rotation - obb1.rotation);
    return overlapRotatedRectVsAabb(obb3, obb1.unrotated);
}
function overlapLineVsCircle(line, point, radius) {
    let tmpPoint = new PIXI.Point();
    if (!line.projectPoint(point, tmpPoint, true)) {
        return false;
    }
    let dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_3__.distSquared2d)(tmpPoint.x, tmpPoint.y, point.x, point.y);
    return dist < radius * radius;
}
var SegmentVsSegmentRes;
(function (SegmentVsSegmentRes) {
    SegmentVsSegmentRes[SegmentVsSegmentRes["NONE"] = 0] = "NONE";
    SegmentVsSegmentRes[SegmentVsSegmentRes["INTERN"] = 1] = "INTERN";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_A"] = 2] = "EDGE_A";
    SegmentVsSegmentRes[SegmentVsSegmentRes["EDGE_B"] = 4] = "EDGE_B";
})(SegmentVsSegmentRes || (SegmentVsSegmentRes = {}));
function intersectSegmentVsSegment(a, b, target) {
    let den = (b.toY - b.fromY) * (a.toX - a.fromX) -
        (b.toX - b.fromX) * (a.toY - a.fromY);
    if (den === 0)
        return SegmentVsSegmentRes.NONE; // Parallel (or coincident)
    const s = ((b.toX - b.fromX) * (a.fromY - b.fromY) -
        (b.toY - b.fromY) * (a.fromX - b.fromX)) / den;
    if (s < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    const u = ((a.toX - a.fromX) * (a.fromY - b.fromY) -
        (a.toY - a.fromY) * (a.fromX - b.fromX)) / den;
    if (u < -_visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 + _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        return SegmentVsSegmentRes.NONE;
    if (target !== undefined) {
        target.set(a.fromX + s * (a.toX - a.fromX), a.fromY + s * (a.toY - a.fromY));
    }
    let edge = 0;
    if (s < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || s > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_A;
    if (u < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON || u > 1 - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON)
        edge |= SegmentVsSegmentRes.EDGE_B;
    return edge === 0 ? SegmentVsSegmentRes.INTERN : edge;
}
function triangleContainsPoint(p, p0, p1, p2) {
    let A = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);
    let sign = A < 0 ? -1 : 1;
    let s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;
    let t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;
    return s - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && t - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON > 0 && (s + t) < 2 * A * sign - _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}
function lineSameSlope(ax, ay, bx, by) {
    // We need to remove divisions, (this is not real code)
    // ay / ax == by / bx  ==> ay * bx == by * ax
    return Math.abs(ay * bx - by * ax) < _visibilityPolygon__WEBPACK_IMPORTED_MODULE_2__.EPSILON;
}


/***/ }),

/***/ "./src/app/geometry/dynamicTree.ts":
/*!*****************************************!*\
  !*** ./src/app/geometry/dynamicTree.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DynamicTree": () => (/* binding */ DynamicTree)
/* harmony export */ });
/* harmony import */ var _aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aabb */ "./src/app/geometry/aabb.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
// A version highly inspired by plank.js (https://github.com/shakiba/planck.js/blob/f5777884f537db97608d8016bda960d251d42d4d/lib/collision/DynamicTree.js)


class TreeNode {
    constructor(id) {
        this.aabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
        this.height = -1;
        this.id = id;
    }
    toString() {
        return this.id + ": " + this.tag;
    }
    isLeaf() {
        return this.left === undefined;
    }
}
class DynamicTree {
    constructor(aabbExtension = 0.1, aabbMultiplier = 2) {
        this.nodes = new Map();
        this.lastProxyId = 0;
        this.aabbExtension = aabbExtension;
        this.aabbMultiplier = aabbMultiplier;
    }
    getTag(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.tag;
    }
    setTag(id, tag) {
        this.nodes.get(id).tag = tag;
    }
    getFatAabb(id) {
        var _a;
        return (_a = this.nodes.get(id)) === null || _a === void 0 ? void 0 : _a.aabb;
    }
    allocateNode() {
        let node = new TreeNode(++this.lastProxyId);
        this.nodes.set(node.id, node);
        return node;
    }
    freeNode(node) {
        this.nodes.delete(node.id);
    }
    createProxy(aabb, tag) {
        let node = this.allocateNode();
        node.aabb.copyFrom(aabb);
        // Fatten the aabb
        node.aabb.extend(this.aabbExtension, node.aabb);
        node.tag = tag;
        node.height = 0;
        this.insertLeaf(node);
        return node.id;
    }
    destroyProxy(id) {
        let node = this.nodes.get(id);
        this.removeLeaf(node);
        this.freeNode(node);
    }
    moveProxy(id, aabb, d) {
        let node = this.nodes.get(id);
        if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.containsAabbVsAabb)(node.aabb, aabb)) {
            return false;
        }
        this.removeLeaf(node);
        node.aabb.copyFrom(aabb);
        // Fatten
        node.aabb.extend(this.aabbExtension, node.aabb);
        // Predict motion
        if (this.aabbMultiplier !== 1) {
            if (d.x < 0)
                aabb.minX += d.x * this.aabbMultiplier;
            else
                aabb.maxX += d.x * this.aabbMultiplier;
            if (d.y < 0)
                aabb.minY += d.y * this.aabbMultiplier;
            else
                aabb.maxY += d.y * this.aabbMultiplier;
        }
        this.insertLeaf(node);
        return true;
    }
    insertLeaf(leaf) {
        if (this.root === undefined) {
            this.root = leaf;
            this.root.parent = undefined;
            return;
        }
        let leafAabb = leaf.aabb;
        let index = this.root;
        while (!index.isLeaf()) {
            let left = index.left;
            let right = index.right;
            let per = index.aabb.getPerimeter();
            let combinedAabb = _aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb.zero();
            index.aabb.combine(leafAabb, combinedAabb);
            let combinedPer = combinedAabb.getPerimeter();
            let cost = combinedPer * 2;
            let inheritanceCost = (combinedPer - per) * 2;
            let costLeft;
            if (left.isLeaf()) {
                left.aabb.combine(leafAabb, combinedAabb);
                costLeft = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                left.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = left.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costLeft = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            let costRight;
            if (right.isLeaf()) {
                right.aabb.combine(leafAabb, combinedAabb);
                costRight = combinedAabb.getPerimeter() + inheritanceCost;
            }
            else {
                right.aabb.combine(leafAabb, combinedAabb);
                let oldPerimeter = right.aabb.getPerimeter();
                let newPerimeter = combinedAabb.getPerimeter();
                costRight = (newPerimeter - oldPerimeter) + inheritanceCost;
            }
            if (cost < costLeft && cost < costRight) {
                break;
            }
            if (costLeft < costRight)
                index = left;
            else
                index = right;
        }
        let sibling = index;
        let oldParent = sibling.parent;
        let newParent = this.allocateNode();
        newParent.parent = oldParent;
        sibling.aabb.combine(leafAabb, newParent.aabb);
        newParent.height = sibling.height + 1;
        if (oldParent !== undefined) {
            // The sibling was not the root
            if (oldParent.left === sibling)
                oldParent.left = newParent;
            else
                oldParent.right = newParent;
        }
        else {
            // the sibling was the root
            this.root = newParent;
        }
        newParent.left = sibling;
        newParent.right = leaf;
        sibling.parent = newParent;
        leaf.parent = newParent;
        // Walk back up fixing heights and AABBs
        index = leaf.parent;
        while (index !== undefined) {
            index = this.balance(index);
            index.height = 1 + Math.max(index.left.height, index.right.height);
            index.left.aabb.combine(index.right.aabb, index.aabb);
            index = index.parent;
        }
    }
    removeLeaf(leaf) {
        if (leaf === this.root) {
            this.root = undefined;
            return;
        }
        let parent = leaf.parent;
        let grandParent = parent.parent;
        let sibling;
        if (parent.left === leaf)
            sibling = parent.right;
        else
            sibling = parent.left;
        if (grandParent !== undefined) {
            // Destroy parent and connect sibling to grandParent
            if (grandParent.left === parent)
                grandParent.left = sibling;
            else
                grandParent.right = sibling;
            sibling.parent = grandParent;
            this.freeNode(parent);
            // Adjust ancestor bounds
            let index = grandParent;
            while (index !== undefined) {
                index = this.balance(index);
                index.left.aabb.combine(index.right.aabb, index.aabb);
                index.height = 1 + Math.max(index.left.height, index.right.height);
                index = index.parent;
            }
        }
        else {
            this.root = sibling;
            sibling.parent = undefined;
            this.freeNode(parent);
        }
    }
    /**
     * Perform a rotation if current node is imbalanced, returns the new sub-tree root.
     * @param current
     * @private
     */
    balance(current) {
        let a = current;
        if (a.isLeaf() || a.height < 2)
            return a;
        let b = a.left;
        let c = a.right;
        let balance = c.height - b.height;
        // Rotate C up
        if (balance > 1) {
            let f = c.left;
            let g = c.right;
            // Swap a and c
            c.left = a;
            c.parent = a.parent;
            a.parent = c;
            // a parent should point to c
            if (c.parent !== undefined) {
                if (c.parent.left === a)
                    c.parent.left = c;
                else
                    c.parent.right = c;
            }
            else {
                this.root = c;
            }
            // Rotate
            if (f.height > g.height) {
                c.right = f;
                a.right = g;
                g.parent = a;
                b.aabb.combine(g.aabb, a.aabb);
                a.aabb.combine(f.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, g.height);
                c.height = 1 + Math.max(a.height, f.height);
            }
            else {
                c.right = g;
                a.right = f;
                f.parent = a;
                b.aabb.combine(f.aabb, a.aabb);
                a.aabb.combine(g.aabb, c.aabb);
                a.height = 1 + Math.max(b.height, f.height);
                c.height = 1 + Math.max(a.height, g.height);
            }
            return c;
        }
        if (balance < -1) {
            let d = b.left;
            let e = b.right;
            // Swap a and b
            b.left = a;
            b.parent = a.parent;
            a.parent = b;
            // a parent should point to b
            if (b.parent !== undefined) {
                if (b.parent.left === a)
                    b.parent.left = b;
                else
                    b.parent.right = b;
            }
            else {
                this.root = b;
            }
            // Rotate
            if (d.height > e.height) {
                b.right = d;
                a.left = e;
                e.parent = a;
                c.aabb.combine(e.aabb, a.aabb);
                a.aabb.combine(d.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, e.height);
                b.height = 1 + Math.max(a.height, d.height);
            }
            else {
                b.right = e;
                a.left = d;
                d.parent = a;
                c.aabb.combine(d.aabb, a.aabb);
                a.aabb.combine(e.aabb, b.aabb);
                a.height = 1 + Math.max(c.height, d.height);
                b.height = 1 + Math.max(a.height, e.height);
            }
            return b;
        }
        return a;
    }
    *query(aabb) {
        let stack = new Array();
        if (this.root === undefined)
            return;
        //console.log("Starting query: " + aabb.toString());
        stack.push(this.root);
        while (stack.length > 0) {
            let node = stack.pop();
            let overlap = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.overlapAabbVsAabb)(node.aabb, aabb);
            //console.log("Visit: " + node.id + " = " + overlap);
            if (!overlap)
                continue;
            if (node.isLeaf()) {
                yield node;
            }
            else {
                stack.push(node.left);
                stack.push(node.right);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/geometry/line.ts":
/*!**********************************!*\
  !*** ./src/app/geometry/line.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Line": () => (/* binding */ Line)
/* harmony export */ });
class Line {
    constructor(fx, fy, tx, ty) {
        this.fromX = fx;
        this.fromY = fy;
        this.toX = tx;
        this.toY = ty;
    }
    distance() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    distanceSquared() {
        let dx = this.toX - this.fromX;
        let dy = this.toY - this.fromY;
        return dx * dx + dy * dy;
    }
    projectPoint(p, target, ignoreValid = false) {
        if (this.fromX === this.toX && this.fromY === this.toY)
            return false;
        let u = ((p.x - this.fromX) * (this.toX - this.fromX)) +
            ((p.y - this.fromY) * (this.toY - this.fromY));
        let udenom = this.distanceSquared();
        u /= udenom;
        let rx = this.fromX + u * (this.toX - this.fromX);
        let ry = this.fromY + u * (this.toY - this.fromY);
        if (ignoreValid) {
            target.set(rx, ry);
            return true;
        }
        let minx = this.fromX, maxx = this.toX;
        let miny = this.fromY, maxy = this.toY;
        if (minx > maxx)
            [minx, maxx] = [maxx, minx];
        if (miny > maxy)
            [miny, maxy] = [maxy, miny];
        let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
        if (isValid) {
            target.set(rx, ry);
            return true;
        }
        else {
            return false;
        }
    }
    copy() {
        return new Line(this.fromX, this.fromY, this.toX, this.toY);
    }
}


/***/ }),

/***/ "./src/app/geometry/obb.ts":
/*!*********************************!*\
  !*** ./src/app/geometry/obb.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Obb": () => (/* binding */ Obb)
/* harmony export */ });
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");

class Obb {
    constructor(unrotated, rotation, rotVertex) {
        this.unrotated = unrotated;
        this.rotation = rotation;
        this.rotVertex = rotVertex;
    }
    recompute() {
        this.rotVertex = (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(this.unrotated, this.rotation);
    }
    copy() {
        return new Obb(this.unrotated.copy(), this.rotation, [...this.rotVertex]);
    }
    static rotateAabb(aabb, rot) {
        if (rot === 0)
            return this.fromAabb(aabb);
        return new Obb(aabb, rot, (0,_collision__WEBPACK_IMPORTED_MODULE_0__.computeObbPoints)(aabb, rot));
    }
    static fromAabb(aabb) {
        let points = [
            aabb.minX, aabb.minY,
            aabb.minX, aabb.maxY,
            aabb.maxX, aabb.maxY,
            aabb.maxX, aabb.minY
        ];
        return new Obb(aabb, 0, points);
    }
}


/***/ }),

/***/ "./src/app/geometry/visibilityPolygon.ts":
/*!***********************************************!*\
  !*** ./src/app/geometry/visibilityPolygon.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EPSILON": () => (/* binding */ EPSILON),
/* harmony export */   "compute": () => (/* binding */ compute),
/* harmony export */   "computeViewport": () => (/* binding */ computeViewport)
/* harmony export */ });
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./line */ "./src/app/geometry/line.ts");
/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ "./src/app/geometry/collision.ts");
/* harmony import */ var _util_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/geometry */ "./src/app/util/geometry.ts");
/* harmony import */ var _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/binaryHeap */ "./src/app/util/binaryHeap.ts");
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");





const EPSILON = 0.0000001;
class EndPoint extends _PIXI__WEBPACK_IMPORTED_MODULE_4__["default"].Point {
    constructor() {
        super(...arguments);
        this.angle = 0;
        this.dist = 0;
    }
}
class Segment {
    constructor(f, t) {
        this.from = f;
        this.to = t;
        this.used = false;
    }
}
// a < b
function segmentLt(a, b, o) {
    // *opens philosophy book*
    // But what does it mean for a segment to be less than another one? (relative to a point)
    // There are multiple algorithms for this, the one that makes most sense to me is what I call the
    // triangular intersection:
    // Given two segments a, b and a point o we define a < b == true only if there is at least one point in b that
    // is hidden by a.
    // For every segment then the property a < b => !(b < a) is maintained only if the segments do not intersect
    // (as the only way that two lines would hide each other is if they meet in a point).
    // On another note, the property a < b, b < c => a < c is not maintained!
    // How can this be computed, then?
    // a.from is inside the triangle formed by b and o, this means:
    // - a.to is also inside, then a < b
    // - a.to is outside, then a < b
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.from, b.from, b.to, o))
        return true;
    if ((0,_collision__WEBPACK_IMPORTED_MODULE_1__.triangleContainsPoint)(a.to, b.from, b.to, o))
        return true;
    // If we arrive here we can be sure that neither points of a is inside the triangle,
    // A segment with both points outside of the triangle can intersect it only by intersecting two of the three
    // lines. We already assume that a and b cannot intersect so we can check either (b.from, o) or (b.to, o) and see
    // if it intersects with a
    let c1 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c1 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    let c2 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.to.x, b.to.y, o.x, o.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
    if (c2 === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.INTERN)
        return true;
    // Edge case: one of the end points of the second line (the segment a) lies
    // in the line (b.from, o), this might mean two things:
    // 1: the line shares a point but does not block the second segment's view
    // 2: the line shares a point and the other point blocks the whole view (hitting the other triangle line)
    // we want to check the second case, so let's try the second segment intersect
    if ((c1 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c2 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    if ((c2 & _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) !== 0 && c1 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE) {
        return true;
    }
    // Edge case n.2 (I'm kinda hating on grids)
    // The segment a could lay a point on the line between (b.from/to, o) and the other in b
    // Edge case of the edge case: If the segment is in any of the endpoints of b then it does not occlude the view
    if (((c1 | c2) & (_collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B | _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_A)) === _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.EDGE_B) {
        let c3 = (0,_collision__WEBPACK_IMPORTED_MODULE_1__.intersectSegmentVsSegment)(new _line__WEBPACK_IMPORTED_MODULE_0__.Line(b.from.x, b.from.y, b.to.x, b.to.y), new _line__WEBPACK_IMPORTED_MODULE_0__.Line(a.from.x, a.from.y, a.to.x, a.to.y));
        if (c3 !== _collision__WEBPACK_IMPORTED_MODULE_1__.SegmentVsSegmentRes.NONE)
            return true;
    }
    // This means a >= b
    return false;
}
function initSegment(x1, y1, x2, y2, pos) {
    let a = new EndPoint(x1, y1);
    let b = new EndPoint(x2, y2);
    a.angle = Math.atan2(pos.y - a.y, pos.x - a.x);
    b.angle = Math.atan2(pos.y - b.y, pos.x - b.x);
    a.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, a.x, a.y);
    b.dist = (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.distSquared2d)(pos.x, pos.y, b.x, b.y);
    let s = new Segment(a, b);
    a.segment = s;
    b.segment = s;
    return s;
}
function compute0(pos, segments) {
    let points = new Array();
    for (let s of segments) {
        points.push(s.from, s.to);
    }
    // O(Nlog(N))
    points.sort((a, b) => {
        return a.angle - b.angle;
    });
    let segmentPriorityQueue = new _util_binaryHeap__WEBPACK_IMPORTED_MODULE_3__.BinaryHeap((a, b) => segmentLt(a, b, pos));
    // Populate the priority queue O(Nlog(N))
    // The priority queue should already have all the segment it collides with, but do not fear as
    // the math is quite simple and straightforward:
    // We should check that the segment collides with the line that starts at pos and has angle = -Math.PI.
    // To do that we can just check the angles of the two endpoints (draw it in a piece of paper, it's easier if shown).
    for (let segment of segments) {
        let fa = segment.from.angle;
        let ta = segment.to.angle;
        let isActive = false;
        isActive || (isActive = fa <= 0 && ta >= 0 && ta - fa > Math.PI);
        isActive || (isActive = ta <= 0 && fa >= 0 && fa - ta > Math.PI);
        if (isActive)
            segmentPriorityQueue.push(segment);
    }
    let polygon = new Array();
    for (let i = 0; i < points.length;) {
        // Extend signals that the first segment has ended
        // we should then extend the polygon to the new first visible segment.
        let extend = false;
        let orig = i; // The original point index
        let vertex = points[i];
        let oldSegment = segmentPriorityQueue.peek();
        if (oldSegment === undefined) {
            // Should be impossible but becomes possible when NaN is around
            throw new Error("No old segment");
        }
        do {
            let currSegment = points[i].segment;
            if (segmentPriorityQueue.hasElem(currSegment)) {
                if (currSegment === oldSegment) {
                    extend = true;
                    vertex = points[i];
                }
                segmentPriorityQueue.popElem(currSegment);
            }
            else {
                segmentPriorityQueue.push(currSegment);
            }
            i++;
            if (i === points.length)
                break;
        } while (points[i].angle < points[orig].angle + EPSILON);
        segmentPriorityQueue.peek().used = true;
        if (extend) {
            // Vertex is the first point of the old segment, we need to push this right away
            polygon.push(vertex.x, vertex.y);
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__["default"].Point();
            let firstSeg = segmentPriorityQueue.peek();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(firstSeg.from, firstSeg.to, pos, vertex, point);
            if (!(Math.abs(point.x - vertex.x) < EPSILON && Math.abs(point.y - vertex.y) < EPSILON)) {
                polygon.push(point.x, point.y);
            }
        }
        else if (segmentPriorityQueue.peek() != oldSegment) {
            // A new segment has hidden the old first segment.
            // First compute where the old segment has been hidden, and push that point to the polygon
            let point = new _PIXI__WEBPACK_IMPORTED_MODULE_4__["default"].Point();
            (0,_util_geometry__WEBPACK_IMPORTED_MODULE_2__.intersectLineVsLine)(oldSegment.from, oldSegment.to, pos, vertex, point);
            polygon.push(point.x, point.y);
            // Then compute where the new segment intersects
            let newClosest = segmentPriorityQueue.peek();
            let nPoint;
            if (Math.abs(newClosest.from.angle - points[orig].angle) < EPSILON) {
                nPoint = newClosest.from;
            }
            else {
                nPoint = newClosest.to;
            }
            if (!(Math.abs(point.x - nPoint.x) < EPSILON && Math.abs(point.y - nPoint.y) < EPSILON)) {
                polygon.push(nPoint.x, nPoint.y);
            }
        }
    }
    return polygon;
}
function compute(pos, inSegments) {
    let segments = new Array(inSegments.length);
    // O(N)
    for (let segment of inSegments) {
        let s = initSegment(segment.fromX, segment.fromY, segment.toX, segment.toY, pos);
        segments.push(s);
    }
    return compute0(pos, segments);
}
const INSIDE = 0;
const LEFT = 1;
const RIGHT = 2;
const BOTTOM = 4;
const TOP = 8;
function computeOutCode(box, x, y) {
    let code = INSIDE;
    if (x < box.minX)
        code |= LEFT;
    else if (x > box.maxX)
        code |= RIGHT;
    if (y < box.minY)
        code |= BOTTOM;
    else if (y > box.maxY)
        code |= TOP;
    return code;
}
function clipSegment(line, aabb, light) {
    // https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm
    let x0 = line.fromX;
    let y0 = line.fromY;
    let x1 = line.toX;
    let y1 = line.toY;
    let code0 = computeOutCode(aabb, x0, y0);
    let code1 = computeOutCode(aabb, x1, y1);
    while (true) {
        if ((code0 | code1) === 0) {
            // bitwise OR is 0: both points inside window; trivially accept and exit loop
            return initSegment(x0, y0, x1, y1, light);
        }
        else if ((code0 & code1) !== 0) {
            // failed both tests, so calculate the line segment to clip
            // from an outside point to an intersection with clip edge
            return undefined;
        }
        else {
            let x = 0, y = 0;
            // At least one endpoint is outside the clip rectangle; pick it.
            let codeOut = code1 > code0 ? code1 : code0;
            // Now find the intersection point;
            // use formulas:
            //   slope = (y1 - y0) / (x1 - x0)
            //   x = x0 + (1 / slope) * (ym - y0), where ym is ymin or ymax
            //   y = y0 + slope * (xm - x0), where xm is xmin or xmax
            // No need to worry about divide-by-zero because, in each case, the
            // outcode bit being tested guarantees the denominator is non-zero
            if ((codeOut & TOP) !== 0) { // point is above the clip window
                x = x0 + (x1 - x0) * (aabb.maxY - y0) / (y1 - y0);
                y = aabb.maxY;
            }
            else if ((codeOut & BOTTOM) !== 0) { // point is below the clip window
                x = x0 + (x1 - x0) * (aabb.minY - y0) / (y1 - y0);
                y = aabb.minY;
            }
            else if ((codeOut & RIGHT) !== 0) { // point is to the right of clip window
                y = y0 + (y1 - y0) * (aabb.maxX - x0) / (x1 - x0);
                x = aabb.maxX;
            }
            else if ((codeOut & LEFT) !== 0) { // point is to the left of clip window
                y = y0 + (y1 - y0) * (aabb.minX - x0) / (x1 - x0);
                x = aabb.minX;
            }
            // Now we move outside point to intersection point to clip
            // and get ready for next pass.
            let code = computeOutCode(aabb, x, y);
            if (codeOut === code0) {
                x0 = x;
                y0 = y;
                code0 = code;
            }
            else {
                x1 = x;
                y1 = y;
                code1 = code;
            }
        }
    }
}
function computeViewport(lines, aabb, light, usedLines) {
    //console.log("Lines: " + lines.length);
    let segments = new Array();
    let lineLen = lines.length;
    for (let i = 0; i < lineLen; i++) {
        let segment = clipSegment(lines[i], aabb, light);
        if (segment !== undefined) {
            segment.index = i;
            segments.push(segment);
        }
    }
    //console.log("Done");
    // Push viewport segments:
    segments.push(initSegment(aabb.minX, aabb.minY, aabb.minX, aabb.maxY, light), initSegment(aabb.minX, aabb.maxY, aabb.maxX, aabb.maxY, light), initSegment(aabb.maxX, aabb.maxY, aabb.maxX, aabb.minY, light), initSegment(aabb.maxX, aabb.minY, aabb.minX, aabb.minY, light));
    //console.log("SEGMENTS: ", segments);
    let poly = compute0(light, segments);
    if (usedLines !== undefined) {
        // Compute what lines have been used
        let segLen = segments.length - 4;
        for (let i = 0; i < segLen; i++) {
            let s = segments[i];
            if (s.used)
                usedLines.push(s.index);
        }
    }
    return poly;
}


/***/ }),

/***/ "./src/app/graphics.ts":
/*!*****************************!*\
  !*** ./src/app/graphics.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE": () => (/* binding */ EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE),
/* harmony export */   "GRAPHIC_TYPE": () => (/* binding */ GRAPHIC_TYPE),
/* harmony export */   "ElementType": () => (/* binding */ ElementType),
/* harmony export */   "VisibilityType": () => (/* binding */ VisibilityType),
/* harmony export */   "ImageScaleMode": () => (/* binding */ ImageScaleMode)
/* harmony export */ });
// Common info about the graphical systems, this should be a semi-abstraction.
// NONE OF THIS SHOULD BE SERIALIZED! THIS IS ALL RUNTIME DEPENDANT! DETAILS WILL CHANGE BETWEEN MINOR VERSIONS!
const EVENT_REMEMBER_BIT_BY_BIY_MASK_UPDATE = 'remember_bit_by_bit_vis_update';
const GRAPHIC_TYPE = "graphic";
var ElementType;
(function (ElementType) {
    ElementType[ElementType["CONTAINER"] = 0] = "CONTAINER";
    ElementType[ElementType["IMAGE"] = 1] = "IMAGE";
    ElementType[ElementType["LINE"] = 2] = "LINE";
    ElementType[ElementType["POINT"] = 3] = "POINT";
    ElementType[ElementType["TEXT"] = 4] = "TEXT";
})(ElementType || (ElementType = {}));
var VisibilityType;
(function (VisibilityType) {
    // You only see one thing when you see it! seems stupid but you can also remember things
    VisibilityType[VisibilityType["NORMAL"] = 0] = "NORMAL";
    // A player can always see itself, even with no light, "I think therefore I am"
    VisibilityType[VisibilityType["ALWAYS_VISIBLE"] = 1] = "ALWAYS_VISIBLE";
    // You'll remember once you see it
    VisibilityType[VisibilityType["REMEMBER"] = 2] = "REMEMBER";
    // Used in images, you only remember what you see! (only support images for now)
    VisibilityType[VisibilityType["REMEMBER_BIT_BY_BIT"] = 3] = "REMEMBER_BIT_BY_BIT";
})(VisibilityType || (VisibilityType = {}));
var ImageScaleMode;
(function (ImageScaleMode) {
    // 1 pixel = 1*scale pixels
    ImageScaleMode[ImageScaleMode["REAL"] = 0] = "REAL";
    // 1 pixel = 1*gridSize*scale pixels
    ImageScaleMode[ImageScaleMode["GRID"] = 1] = "GRID";
})(ImageScaleMode || (ImageScaleMode = {}));


/***/ }),

/***/ "./src/app/index.ts":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "windowEventEmitter": () => (/* binding */ windowEventEmitter),
/* harmony export */   "stage": () => (/* binding */ stage),
/* harmony export */   "onHashChange": () => (/* binding */ onHashChange)
/* harmony export */ });
/* harmony import */ var _phase_stage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase/stage */ "./src/app/phase/stage.ts");
/* harmony import */ var _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phase/homePhase */ "./src/app/phase/homePhase.ts");
/* harmony import */ var _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/eventEmitterWrapper */ "./src/app/util/eventEmitterWrapper.ts");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var bootstrap_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bootstrap-vue */ "./node_modules/bootstrap-vue/esm/index.js");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/fontawesome-free/css/all.css */ "./node_modules/@fortawesome/fontawesome-free/css/all.css");
/* harmony import */ var _fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_css_all_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/fontawesome-free/js/all.js */ "./node_modules/@fortawesome/fontawesome-free/js/all.js");
/* harmony import */ var _fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_fortawesome_fontawesome_free_js_all_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! Public/style.css */ "./src/public/style.css");
/* harmony import */ var Public_style_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(Public_style_css__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./phase/editMap/clientEditMapPhase */ "./src/app/phase/editMap/clientEditMapPhase.ts");
/* harmony import */ var _assetsLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./assetsLoader */ "./src/app/assetsLoader.ts");
/* harmony import */ var _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./phase/loadingPhase */ "./src/app/phase/loadingPhase.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};







vue__WEBPACK_IMPORTED_MODULE_5__["default"].use(bootstrap_vue__WEBPACK_IMPORTED_MODULE_6__.BootstrapVue);
// ================================================================================================ Public




const windowEventEmitter = new _util_eventEmitterWrapper__WEBPACK_IMPORTED_MODULE_2__.EventEmitterWrapper((event, emitter) => {
    window.addEventListener(event, data => {
        emitter.emit(event, data);
    });
});
// Main
const stage = new _phase_stage__WEBPACK_IMPORTED_MODULE_0__.Stage("main");
function onHashChange() {
    if (window.location.hash) {
        const roomId = window.location.hash.substr(1); // Remove #
        if (roomId.startsWith('t')) {
            console.log("Connecting with: torrent");
            stage.setPhase(new _phase_editMap_clientEditMapPhase__WEBPACK_IMPORTED_MODULE_8__.ClientEditMapPhase(roomId.substr(1)));
        }
        else {
            console.log("Invalid hash");
            stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__.HomePhase());
        }
    }
    else {
        stage.setPhase(new _phase_homePhase__WEBPACK_IMPORTED_MODULE_1__.HomePhase());
    }
}
(function () {
    return __awaiter(this, void 0, void 0, function* () {
        console.log("Loading dndme: " + "v1.2.0-4-gc8e93fe");
        stage.setPhase(new _phase_loadingPhase__WEBPACK_IMPORTED_MODULE_10__.LoadingPhase());
        yield (0,_assetsLoader__WEBPACK_IMPORTED_MODULE_9__.loadAssets)();
        onHashChange();
        window.onhashchange = function () {
            console.log("Hash change" + location.hash);
            onHashChange();
        };
    });
})();


/***/ }),

/***/ "./src/app/map/gameMap.ts":
/*!********************************!*\
  !*** ./src/app/map/gameMap.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GameMap": () => (/* binding */ GameMap)
/* harmony export */ });
/* harmony import */ var _mapLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/dist/jszip.min.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



class GameMap {
    constructor() {
        this.levels = new Map();
    }
    createDataJson() {
        let levels = {};
        for (let [id, level] of this.levels.entries()) {
            levels[id] = level.serialize();
        }
        let data = {
            version: GameMap.SER_VERSION,
            levels: levels,
        };
        return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(data);
    }
    saveToFile() {
        let data = this.createDataJson();
        let zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
        zip.file("data.msgpack", data);
        return zip.generateAsync({
            type: "blob",
            compression: 'DEFLATE',
            // Prevent the browser from renaming the extension
            mimeType: 'application/octet-stream',
        });
    }
    static loadFromFile(from) {
        return __awaiter(this, void 0, void 0, function* () {
            let zip = yield jszip__WEBPACK_IMPORTED_MODULE_1___default().loadAsync(from);
            // TODO: better error management
            let file = yield zip.file("data.msgpack").async('arraybuffer');
            let data = yield (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_3__.decode)(file);
            if (data['version'] !== this.SER_VERSION) {
                throw new Error('Version not supported');
            }
            let gameMap = new GameMap();
            let levelsData = data["levels"];
            for (let id in levelsData) {
                let level = levelsData[id];
                let res = yield _mapLevel__WEBPACK_IMPORTED_MODULE_0__.MapLevel.deserialize(parseInt(id), level);
                gameMap.levels.set(res.id, res);
            }
            return gameMap;
        });
    }
}
GameMap.SER_VERSION = '1.0';


/***/ }),

/***/ "./src/app/map/mapLevel.ts":
/*!*********************************!*\
  !*** ./src/app/map/mapLevel.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLevel": () => (/* binding */ MapLevel)
/* harmony export */ });
class MapLevel {
    constructor(id) {
        this.id = id;
    }
    loadInto(ecs) {
        ecs.clear();
        if (this.ecs !== undefined) {
            ecs.deserialize(this.ecs, {});
        }
    }
    saveFrom(ecs) {
        this.ecs = undefined;
        this.ecs = ecs.serialize({
            requireSave: true,
            resources: true,
        });
    }
    serialize() {
        return {
            name: this.name,
            ecs: this.ecs
        };
    }
    static deserialize(id, data) {
        let res = new MapLevel(id);
        res.name = data['name'];
        res.ecs = data['ecs'];
        return res;
    }
}


/***/ }),

/***/ "./src/app/network/webtorrent/WTChannel.ts":
/*!*************************************************!*\
  !*** ./src/app/network/webtorrent/WTChannel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WTChannel": () => (/* binding */ WTChannel)
/* harmony export */ });
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* harmony import */ var _WTDiscovery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WTDiscovery */ "./src/app/network/webtorrent/WTDiscovery.ts");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/jsobj */ "./src/app/util/jsobj.ts");
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");





/**
 * Header structure:
 * flags: 1 byte
 * from: 4 bytes
 * to: 4 bytes (-1 = broadcast)
 * partial_size: 4 bytes (only if flags contains PARTIAL)
 *
 */
var ChunkFlags;
(function (ChunkFlags) {
    ChunkFlags[ChunkFlags["PARTIAL"] = 1] = "PARTIAL";
})(ChunkFlags || (ChunkFlags = {}));
const MIN_HEADER_LENGTH = 1 + 4 + 4;
const RECEIVER_BROADCAST = 4294967295;
const ENDIANESS = true;
/**
 * WebRTC data channel limit beyond which data is split into chunks
 * Chose 16KB considering Chromium
 * https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_data_channels#Concerns_with_large_messages
 */
const MAX_MESSAGE_LENGTH = 16300;
class WTChannel {
    constructor() {
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.packets = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.connections = new Map();
        this.nextId = -1;
        this.myId = -1;
        this.peers = new Map();
        this.connectedSecret = buffer__WEBPACK_IMPORTED_MODULE_3__.Buffer.from([]);
        this.discovery = new _WTDiscovery__WEBPACK_IMPORTED_MODULE_1__.WTDiscovery();
        this.discovery.onPeerCallback = this.onPeer.bind(this);
        this.discovery.onTrackerConnectionCountEdit = (c) => this.events.emit('tracker_connections', c);
    }
    startMaster() {
        this.connectedSecret = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.randombytes)(20);
        this.discovery.start(true, this.connectedSecret.toString('hex'));
        this.myId = 0;
        this.nextId = 1;
    }
    startClient(connectTo) {
        if (typeof connectTo == 'string') {
            connectTo = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.base64UrlToBuffer)(connectTo);
        }
        this.connectedSecret = connectTo;
        this.discovery.start(false, connectTo.toString('hex'));
    }
    getConnectSecret() {
        return (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_2__.bufferToBase64Url)(this.connectedSecret);
    }
    send(data, to) {
        const receiver = this.connections.get(to);
        if (receiver === undefined) {
            throw new Error("Cannot find reciver");
        }
        const encoded = (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_4__.encode)(data);
        this.sendRaw(encoded, receiver);
    }
    broadcast(data) {
        this.sendRaw((0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_4__.encode)(data));
    }
    destroy() {
        this.discovery.stop();
        for (let p of this.peers.values()) {
            p.socket.destroy();
        }
    }
    sendRaw(data, onlyTo) {
        // We don't have to worry here about forwarded packets
        // they are handled on the receiving end.
        if (data.byteLength <= MAX_MESSAGE_LENGTH - MIN_HEADER_LENGTH) {
            const packet = new Uint8Array(data.byteLength + MIN_HEADER_LENGTH);
            packet.set(data, MIN_HEADER_LENGTH);
            const view = new DataView(packet.buffer);
            view.setUint32(1, this.myId, ENDIANESS);
            this.sendPacketRaw(packet, onlyTo);
            return;
        }
        // Yaay, let's split things!
        const packet = new Uint8Array(MAX_MESSAGE_LENGTH);
        const view = new DataView(packet.buffer);
        packet[0] = ChunkFlags.PARTIAL;
        view.setUint32(1, this.myId, ENDIANESS);
        view.setUint32(MIN_HEADER_LENGTH, data.length, ENDIANESS);
        let sent = MAX_MESSAGE_LENGTH - MIN_HEADER_LENGTH - 4;
        packet.set(data.subarray(0, sent), MIN_HEADER_LENGTH + 4);
        this.sendPacketRaw(packet, onlyTo, true);
        while (sent < data.byteLength) {
            const subarr = data.subarray(sent, sent + MAX_MESSAGE_LENGTH);
            sent += subarr.byteLength;
            this.sendPacketRaw(subarr, onlyTo, false);
        }
    }
    sendPacketRaw(packet, onlyTo, adjustFlags = true, broadcastExclde) {
        const sendRaw = (x) => {
            if (x.sending) {
                x.packets.push(packet);
            }
            else {
                x.sending = true;
                x.socket.write(packet, undefined, x.afterSendBounded);
            }
        };
        let dataView = adjustFlags ? new DataView(packet.buffer, packet.byteOffset) : null;
        if (onlyTo === undefined) {
            dataView === null || dataView === void 0 ? void 0 : dataView.setUint32(1 + 4, RECEIVER_BROADCAST, ENDIANESS);
            for (let x of this.peers.values()) {
                if (x === broadcastExclde)
                    continue;
                sendRaw(x);
            }
        }
        else {
            dataView === null || dataView === void 0 ? void 0 : dataView.setUint32(1 + 4, onlyTo.id, ENDIANESS);
            sendRaw(onlyTo);
        }
    }
    afterDataSend(peer, e) {
        const nextData = peer.packets.shift();
        if (nextData === undefined) {
            peer.sending = false;
            return;
        }
        peer.socket.write(nextData, undefined, peer.afterSendBounded);
    }
    onPeer(peer, peerId) {
        const data = {
            peerId,
            id: this.discovery.isMaster ? this.nextId++ : 0,
            socket: peer,
            packets: [],
            sending: false,
            afterSendBounded: _ => { },
        };
        data.afterSendBounded = e => this.afterDataSend(data, e);
        this.peers.set(peerId, data);
        peer.once('connect', () => {
            if (this.discovery.isMaster) {
                peer.send('' + data.id);
                postBootstrap();
            }
            else {
                this.discovery.pause();
            }
        });
        const postBootstrap = () => {
            this.connections.set(data.id, data);
            this.events.emit('device_join', data.id);
            peer.on('data', (chunk) => {
                this.onPeerData(data, chunk);
            });
        };
        if (!this.discovery.isMaster) {
            peer.once('data', (chunk) => {
                this.myId = parseInt(chunk);
                postBootstrap();
            });
        }
        peer.on('close', () => {
            console.info("Peer closed");
            this.connections.delete(data.id);
            this.peers.delete(peerId);
            this.events.emit('device_left', data.id);
            // Re-listen for master
            this.discovery.resume();
        });
        peer.on('error', (e) => {
            console.error("Peer error", e);
        });
    }
    onPeerData(peer, chunk) {
        if (peer.partial) {
            this.onPartialData(peer, chunk);
            return;
        }
        const flags = chunk[0];
        const headerView = new DataView(chunk.buffer, chunk.byteOffset);
        const sender = headerView.getUint32(1, ENDIANESS);
        const receiver = headerView.getUint32(1 + 4, ENDIANESS);
        let header = MIN_HEADER_LENGTH;
        let pktInfo = {
            isBroadcast: receiver === RECEIVER_BROADCAST,
            senderId: sender,
        };
        const needsForward = receiver !== this.myId && !pktInfo.isBroadcast;
        if (flags & ChunkFlags.PARTIAL) {
            let size = headerView.getUint32(header, ENDIANESS);
            peer.partial = {
                index: 0,
                buffer: !needsForward ? new Uint8Array(size) : undefined,
                info: pktInfo,
                size,
            };
            header += 4;
        }
        if (needsForward) {
            if (!this.discovery.isMaster) {
                console.warn("Asket a non-master to forward");
                return;
            }
            const recv = this.connections.get(receiver);
            if (recv === undefined) {
                console.warn("Asked to forward to unknown peer");
                return;
            }
            if (peer.partial) {
                peer.partial.forwardTo = receiver;
            }
            else {
                this.sendPacketRaw(chunk, recv, false);
            }
            return;
        }
        if (this.discovery.isMaster && pktInfo.isBroadcast) {
            this.sendPacketRaw(chunk, undefined, false, peer);
        }
        if (peer.partial) {
            this.onPartialData(peer, chunk.subarray(header));
            return;
        }
        this.onMessage(chunk.subarray(header), pktInfo);
    }
    onPartialData(peer, chunk) {
        if (!peer.partial)
            throw new Error('wrong state: nor partial');
        let oldIndex = peer.partial.index;
        peer.partial.index += chunk.length;
        const isDone = peer.partial.size <= peer.partial.index;
        if (peer.partial.buffer !== undefined) {
            peer.partial.buffer.set(chunk, oldIndex);
        }
        else {
            let target = this.connections.get(peer.partial.forwardTo);
            if (target === undefined)
                return;
            this.sendPacketRaw(chunk, target, false);
        }
        if (isDone) {
            if (peer.partial.size < peer.partial.index) {
                console.warn("Partial is longer than expected");
            }
            const partial = peer.partial;
            peer.partial = undefined;
            if (partial.buffer !== undefined) {
                this.onMessage(partial.buffer, partial.info);
            }
        }
    }
    onMessage(buffer, info) {
        let obj;
        try {
            obj = (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_5__.decode)(buffer);
        }
        catch (e) {
            console.error("Received wrong data", e);
            return;
        }
        this.events.emit('message', obj, info);
        const packetType = obj.type;
        if (packetType && typeof packetType === 'string') {
            this.packets.emit(packetType, obj, info);
        }
    }
}


/***/ }),

/***/ "./src/app/network/webtorrent/WTDiscovery.ts":
/*!***************************************************!*\
  !*** ./src/app/network/webtorrent/WTDiscovery.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WTDiscovery": () => (/* binding */ WTDiscovery)
/* harmony export */ });
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/jsobj */ "./src/app/util/jsobj.ts");
/* harmony import */ var _WebTorrentTracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WebTorrentTracker */ "./src/app/network/webtorrent/WebTorrentTracker.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



// https://github.com/ngosang/trackerslist/blob/master/trackers_all_ws.txt
const TRACKERS = [
    //'ws://localhost:8000',
    'wss://tracker.openwebtorrent.com',
    'wss://tracker.btorrent.xyz',
];
const WAITING_FOR_INIT = {};
class WTDiscovery {
    constructor() {
        this.peers = new Map();
        this.onPeerCallback = () => { };
        this.onTrackerConnectionCountEdit = () => { };
        this.isMaster = false;
        this.isPaused = true;
        this.trackers = {};
        let peerId = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_1__.randombytes)(20);
        this.trackerConfig = {
            peerIdBinary: peerId.toString('binary'),
            infoHashBinary: '',
            defAnnounceOptions: {},
            peerOptions: {
                channelConfig: {
                    ordered: true,
                },
            },
            offerData: {},
        };
        this.peerId = peerId.toString('hex');
        this.connectedTrackers = 0;
    }
    setInfoHash(str) {
        return __awaiter(this, void 0, void 0, function* () {
            const buffer = new TextEncoder().encode(str);
            const digest = yield crypto.subtle.digest('SHA-1', buffer);
            // Convert digest to hex string
            this.trackerConfig.infoHashBinary = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(digest).toString('binary');
        });
    }
    addTracker(trackerUrl) {
        if (trackerUrl in this.trackers) {
            return;
        }
        const tracker = new _WebTorrentTracker__WEBPACK_IMPORTED_MODULE_2__.WebTorrentTracker(trackerUrl, this.trackerConfig);
        this.trackers[trackerUrl] = tracker;
        tracker.events.on('connect', () => {
            console.log('Tracker connection established ' + trackerUrl);
            this.connectedTrackers++;
            this.onTrackerConnectionCountEdit(this.connectedTrackers);
        });
        tracker.events.on('disconnect', (ev) => {
            console.log("Tracker closed", ev);
            this.connectedTrackers--;
            this.onTrackerConnectionCountEdit(this.connectedTrackers);
        });
        tracker.events.on('error', x => {
            console.error('Tracker error', x);
        });
        tracker.events.on('offer_filter', (e) => {
            if ((!!e.offer.master) === this.isMaster) {
                console.log("Offer rejected (non-master): " + e.offer);
                e.continue = false;
                return;
            }
            if (this.peers.has(e.peerId)) {
                // already have one
                e.continue = false;
                console.log("Offer rejected (already present): " + e.offer);
                return;
            }
            this.peers.set(e.peerId, WAITING_FOR_INIT);
        });
        tracker.events.on('offer_timeout', (peerId) => {
            // someone passed offer_filter, received an answer but didn't reply back
            this.peers.delete(peerId);
        });
        tracker.events.on('peer', (peer, peerId) => {
            const oldPeerData = this.peers.get(peerId);
            if (oldPeerData !== undefined && oldPeerData !== WAITING_FOR_INIT) {
                console.error("Opened another socket for an already connected peer");
                peer.destroy();
                return;
            }
            console.log('Peer connected', peerId);
            this.peers.set(peerId, peer);
            peer.once('connect', () => {
                if (!this.isMaster) {
                    console.log("Master connected, pausing.");
                    this.pause();
                }
            });
            this.onPeerCallback(peer, peerId);
            peer.once('close', () => {
                this.peers.delete(peerId);
            });
        });
        tracker.events.on('warning', x => {
            console.warn('warning', x);
        });
    }
    pause() {
        if (this.isPaused)
            return Promise.resolve();
        this.isPaused = true;
        const promises = [];
        for (let trackerName in this.trackers) {
            const tracker = this.trackers[trackerName];
            promises.push(tracker.stop());
        }
        return Promise.all(promises).then(() => { });
    }
    resumeTracker(tracker) {
        tracker.start();
        tracker.announce({
            event: 'started',
        });
    }
    resume() {
        if (!this.isPaused)
            return;
        this.isPaused = false;
        for (let trackerName in this.trackers) {
            const tracker = this.trackers[trackerName];
            this.resumeTracker(tracker);
        }
    }
    start(isMaster, identifier) {
        return __awaiter(this, void 0, void 0, function* () {
            this.isMaster = isMaster;
            this.trackerConfig.defAnnounceOptions.numwant = isMaster ? 0 : 10;
            this.trackerConfig.offerData.master = isMaster;
            this.setInfoHash(identifier);
            for (let url of TRACKERS) {
                this.addTracker(url);
            }
            this.resume();
        });
    }
    stop() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.pause();
            this.trackers = {};
        });
    }
}


/***/ }),

/***/ "./src/app/network/webtorrent/WebTorrentTracker.ts":
/*!*********************************************************!*\
  !*** ./src/app/network/webtorrent/WebTorrentTracker.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebTorrentTracker": () => (/* binding */ WebTorrentTracker)
/* harmony export */ });
/* harmony import */ var simple_peer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! simple-peer */ "./node_modules/simple-peer/index.js");
/* harmony import */ var simple_peer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(simple_peer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_jsobj__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/jsobj */ "./src/app/util/jsobj.ts");
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
/* harmony import */ var _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/safeEventEmitter */ "./src/app/util/safeEventEmitter.ts");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};




const RECONNECT_MINIMUM = 5 * 1000;
const RECONNECT_MAXIMUM = 60 * 1000;
const RECONNECT_VARIANCE = 10 * 1000;
const OFFER_TIMEOUT = 30 * 1000;
/*
 * Protocol: 3-way handshake
 * originally there was only a 2-way handshake:
 * client A ---offer --> client B (offer = WebRTC offer)
 * client A <--answer--- client B (answer = WebRTC answer)
 * connection established
 *
 * but after the offer the client might not continue the answer,
 * maybe because it's already connected or because it's searching someone else.
 * So the WebRTC offer will be wasted (and that's a bit of waste in resource).
 *
 * To mitigate this we'll make the actual offer only after we're sure that the
 * client will receive it.
 * A ---offer --> B  (offer = custom data)
 * A <--answer--- B  (answer=WebRTC offer)
 * A ---answer--> B  (answer=WebRTC response)
 *
 * The server does not store any data regarding offers/answers so this is compatible.
 * About the cross-client compatibility: we don't have work with real webtorrent clients.
 *
 */
class WebTorrentTracker {
    constructor(announceUrl, config) {
        this.isConnected = false;
        this.destroyed = false;
        this.expectingResponse = false;
        this.reconnecting = false;
        this.reconnectRetries = 0;
        this.reconnectTimer = null;
        this.config = config;
        this.announceUrl = announceUrl;
        this.connectingPeers = {};
        this.events = new _util_safeEventEmitter__WEBPACK_IMPORTED_MODULE_3__["default"]();
    }
    start() {
        if (this.socket !== undefined) {
            throw new Error("Already started");
        }
        this.openSocket();
    }
    setInterval(intervalMs) {
        if (intervalMs == null)
            intervalMs = 30 * 1000; // 30 seconds
        clearInterval(this.interval);
        if (intervalMs) {
            this.interval = setInterval(() => {
                this.announce();
            }, intervalMs);
        }
    }
    stop() {
        return __awaiter(this, void 0, void 0, function* () {
            this.announce({ event: 'stopped' });
            yield this.destroy();
        });
    }
    destroy() {
        return new Promise(resolve => {
            var _a;
            if (this.destroyed)
                return resolve();
            if (this.isConnected) {
                this.isConnected = false;
                this.events.emit('disconnect');
            }
            this.destroyed = true;
            clearInterval(this.interval);
            clearTimeout(this.reconnectTimer);
            for (const peerId in this.connectingPeers) {
                const peer = this.connectingPeers[peerId];
                clearTimeout(peer.offerTimeout);
                (_a = peer.peer) === null || _a === void 0 ? void 0 : _a.destroy();
            }
            this.connectingPeers = {};
            let socket = this.socket;
            if (!socket)
                return resolve();
            socket.onopen = noop;
            socket.onmessage = noop;
            socket.onclose = noop;
            socket.onerror = noop;
            this.socket = undefined;
            if (socket.readyState === WebSocket.CLOSED || socket.readyState === WebSocket.CLOSING) {
                return resolve();
            }
            socket.onclose = () => resolve();
            let timeout;
            // If there is no data response expected, destroy immediately.
            if (!this.expectingResponse)
                return destroyCleanup();
            // Otherwise, wait a short time for potential responses to come in from the
            // server, then force close the socket.
            timeout = setTimeout(destroyCleanup, 1000);
            // But, if a response comes from the server before the timeout fires, do cleanup
            // right away.
            socket.onmessage = destroyCleanup;
            function destroyCleanup() {
                if (timeout) {
                    clearTimeout(timeout);
                    timeout = null;
                }
                if (socket) {
                    socket.onmessage = noop;
                    if (socket.readyState === WebSocket.CLOSED) {
                        socket.close();
                    }
                }
            }
        });
    }
    onSocketConnect() {
        if (this.destroyed)
            return;
        this.isConnected = true;
        this.events.emit('connect');
        if (this.reconnecting) {
            this.reconnecting = false;
            this.reconnectRetries = 0;
            this.announce({});
        }
    }
    onSocketError(err) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.destroyed)
                return;
            console.error("WTT: Socket error", err);
            this.events.emit('error', err);
            yield this.destroy();
            // errors will often happen if a tracker is offline, so don't treat it as fatal
            this.startReconnecting();
        });
    }
    onSocketData(chunk) {
        if (this.destroyed)
            return;
        this.expectingResponse = false;
        let data;
        try {
            data = JSON.parse(chunk.data);
        }
        catch (err) {
            console.warn(new Error("Invalid tracker response"));
            return;
        }
        if (data.action == 'announce') {
            this.onAnnounceResponse(data);
        }
        else if (data.action === 'scrape') {
            // ignore
        }
        else {
            this.onSocketError(new Error(`invalid action in WS response: ${data.action}`));
        }
    }
    onSocketClose(ev) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.destroyed)
                return;
            console.log("Tracker closed", ev);
            yield this.destroy();
            this.startReconnecting();
        });
    }
    startReconnecting() {
        const ms = Math.floor(Math.random() * RECONNECT_VARIANCE) + Math.min(Math.pow(2, this.reconnectRetries) * RECONNECT_MINIMUM, RECONNECT_MAXIMUM);
        console.log("Reconnecting in " + ms / 1000);
        this.reconnecting = true;
        clearTimeout(this.reconnectTimer);
        this.reconnectTimer = setTimeout(() => {
            console.log("Reconnecting...");
            this.reconnectRetries++;
            this.openSocket();
        }, ms);
    }
    announce(options = {}) {
        var _a, _b;
        if (this.destroyed || this.reconnecting)
            return;
        if (((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) != WebSocket.OPEN) {
            this.events.once('connect', () => this.announce(options));
            return;
        }
        // console.log("Announcing: " + Buffer.from(this.config.infoHashBinary, 'binary').toString('hex'));
        const params = Object.assign({
            action: 'announce',
            info_hash: this.config.infoHashBinary,
            peer_id: this.config.peerIdBinary,
        }, this.config.defAnnounceOptions, options);
        if (this.trackerId)
            params.trackerId = this.trackerId;
        if (options.event !== 'stopped' && options.event !== 'completed') {
            params.numwant = (_b = options.numwant) !== null && _b !== void 0 ? _b : 10;
            const offers = [];
            for (let i = 0; i < params.numwant; i++) {
                let offerId = (0,_util_jsobj__WEBPACK_IMPORTED_MODULE_1__.randombytes)(20);
                this.connectingPeers[offerId.toString('hex')] = {};
                offers.push({
                    offer_id: offerId.toString('binary'),
                    offer: this.config.offerData,
                });
            }
            params.offers = offers;
        }
        // console.log("  Offers: " + JSON.stringify(params.offers));
        this.send(params);
    }
    onAnnounceResponse(data) {
        return __awaiter(this, void 0, void 0, function* () {
            //console.log("Announce response: " + JSON.stringify(data));
            if (data.info_hash !== this.config.infoHashBinary) {
                return;
            }
            if (data.peer_id && data.peer_id === this.config.peerIdBinary) {
                // ignore offers/answers from this client
                return;
            }
            const failure = data['failure reason'];
            if (failure) {
                this.onSocketError(new Error(failure));
                return;
            }
            const warning = data['warning message'];
            if (warning) {
                this.events.emit('warning', new Error(warning));
            }
            const interval = data.interval || data['min interval'];
            if (interval)
                this.setInterval(interval * 1000);
            const trackerId = data['tracker id'];
            if (trackerId) {
                // If absent, do not discard previous trackerId value
                this.trackerId = trackerId;
            }
            if (data.offer && data.peer_id) {
                const peerId = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.peer_id, 'binary').toString('hex');
                const eventData = {
                    peerId,
                    offer: data.offer,
                    continue: true,
                };
                this.events.emit('offer_filter', eventData);
                if (!eventData.continue) {
                    console.log("Discarding offer");
                    return;
                }
                const offer = yield this.createInitPeer(peerId, buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.offer_id, 'binary'), {});
                const params = {
                    action: 'announce',
                    info_hash: this.config.infoHashBinary,
                    peer_id: this.config.peerIdBinary,
                    to_peer_id: data.peer_id,
                    answer: offer,
                    offer_id: data.offer_id,
                };
                if (this.trackerId)
                    params.trackerId = this.trackerId;
                //console.log("Answering offer");
                this.send(params);
            }
            if (data.answer && data.peer_id) {
                //console.log("Received answer");
                const offerId = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.offer_id, 'binary').toString('hex');
                let offerData = this.connectingPeers[offerId];
                const peerId = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(data.peer_id, 'binary').toString('hex');
                if (offerData == undefined) {
                    this.events.emit('warning', new Error("Got answer for unknown offer from " + peerId));
                }
                delete this.connectingPeers[offerId];
                if (offerData.peer === undefined) {
                    //console.log("Received second");
                    // Received the second message of the 3-way handshake!
                    const peer = this.createPeer({});
                    peer.once('signal', answer => {
                        const params = {
                            action: 'announce',
                            info_hash: this.config.infoHashBinary,
                            peer_id: this.config.peerIdBinary,
                            to_peer_id: data.peer_id,
                            answer,
                            offer_id: data.offer_id,
                        };
                        if (this.trackerId)
                            params.trackerId = this.trackerId;
                        this.send(params);
                        //console.log("Sending third message");
                    });
                    peer.signal(data.answer);
                    this.events.emit('peer', peer, peerId);
                }
                else {
                    //console.log("Received third");
                    clearTimeout(offerData.offerTimeout);
                    this.events.emit('peer', offerData.peer, peerId);
                    offerData.peer.signal(data.answer);
                }
            }
        });
    }
    send(data) {
        if (this.destroyed)
            return;
        this.expectingResponse = data.answer === undefined;
        const message = JSON.stringify(data);
        this.socket.send(message);
    }
    createPeer(options) {
        const peerOpts = Object.assign({}, options, this.config.peerOptions);
        peerOpts.trickle = false;
        let peer = new (simple_peer__WEBPACK_IMPORTED_MODULE_0___default())(peerOpts);
        const onErr = (err) => {
            console.error(err);
            peer.destroy();
        };
        peer.once('error', onErr);
        peer.once('connect', () => {
            peer.removeListener('error', onErr);
        });
        return peer;
    }
    createInitPeer(peerId, offerId, options) {
        return new Promise(resolve => {
            const offerHex = offerId.toString('hex');
            const peer = this.createPeer(Object.assign({ initiator: true }, options));
            peer.once('signal', offer => {
                resolve(offer);
            });
            const offerTimeout = setTimeout(() => {
                delete this.connectingPeers[offerHex];
                peer.destroy();
                this.events.emit('offer_timeout', peerId);
            }, OFFER_TIMEOUT);
            const connPeer = {
                peer,
                offerTimeout,
            };
            this.connectingPeers[offerHex] = connPeer;
        });
    }
    openSocket() {
        this.destroyed = false;
        this.socket = new WebSocket(this.announceUrl);
        this.socket.binaryType = 'arraybuffer';
        this.socket.onopen = this.onSocketConnect.bind(this);
        this.socket.onmessage = this.onSocketData.bind(this);
        this.socket.onclose = this.onSocketClose.bind(this);
        this.socket.onerror = () => this.onSocketError(new Error("Error connecting to " + this.announceUrl));
    }
}
function noop() { }


/***/ }),

/***/ "./src/app/phase/ecsPhase.ts":
/*!***********************************!*\
  !*** ./src/app/phase/ecsPhase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EcsPhase": () => (/* binding */ EcsPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ecs_world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ecs/world */ "./src/app/ecs/world.ts");
/* harmony import */ var _ecs_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ecs/component */ "./src/app/ecs/component.ts");



class EcsPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name, isMaster) {
        super(name);
        this.world = new _ecs_world__WEBPACK_IMPORTED_MODULE_1__.World(isMaster);
    }
    ecsSetup() {
        (0,_ecs_component__WEBPACK_IMPORTED_MODULE_2__.registerCommonStorage)(this.world);
        this.registerSystems();
        this.world.populate();
    }
    registerSystems() {
    }
    enable() {
        this.ecsSetup();
        super.enable();
        this.world.enable();
    }
    disable() {
        super.disable();
        this.world.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/clientEditMapPhase.ts":
/*!*****************************************************!*\
  !*** ./src/app/phase/editMap/clientEditMapPhase.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClientEditMapPhase": () => (/* binding */ ClientEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");

class ClientEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(id) {
        super('editClient', id);
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/displayPrecedence.ts":
/*!****************************************************!*\
  !*** ./src/app/phase/editMap/displayPrecedence.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayPrecedence": () => (/* binding */ DisplayPrecedence)
/* harmony export */ });
var DisplayPrecedence;
(function (DisplayPrecedence) {
    DisplayPrecedence[DisplayPrecedence["BACKGROUND"] = 0] = "BACKGROUND";
    DisplayPrecedence[DisplayPrecedence["GRID"] = 10] = "GRID";
    DisplayPrecedence[DisplayPrecedence["WALL"] = 210] = "WALL";
    DisplayPrecedence[DisplayPrecedence["PROP"] = 220] = "PROP";
    DisplayPrecedence[DisplayPrecedence["PINS"] = 230] = "PINS";
    DisplayPrecedence[DisplayPrecedence["WALL_CREATOR"] = 260] = "WALL_CREATOR";
})(DisplayPrecedence || (DisplayPrecedence = {}));


/***/ }),

/***/ "./src/app/phase/editMap/editMapPhase.ts":
/*!***********************************************!*\
  !*** ./src/app/phase/editMap/editMapPhase.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditMapPhase": () => (/* binding */ EditMapPhase)
/* harmony export */ });
/* harmony import */ var _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/edit/editMap.vue */ "./src/app/ui/edit/editMap.vue");
/* harmony import */ var _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ecs/systems/backgroundImageSystem */ "./src/app/ecs/systems/backgroundImageSystem.ts");
/* harmony import */ var _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/selectionSystem */ "./src/app/ecs/systems/back/selectionSystem.ts");
/* harmony import */ var _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/pinSystem */ "./src/app/ecs/systems/pinSystem.ts");
/* harmony import */ var _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/wallSystem */ "./src/app/ecs/systems/wallSystem.ts");
/* harmony import */ var _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ecs/systems/lightSystem */ "./src/app/ecs/systems/lightSystem.ts");
/* harmony import */ var _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ecs/systems/back/textSystem */ "./src/app/ecs/systems/back/textSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ecs/systems/back/visibilitySystem */ "./src/app/ecs/systems/back/visibilitySystem.ts");
/* harmony import */ var _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ecs/systems/back/interactionSystem */ "./src/app/ecs/systems/back/interactionSystem.ts");
/* harmony import */ var _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ecs/systems/playerSystem */ "./src/app/ecs/systems/playerSystem.ts");
/* harmony import */ var _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ecs/systems/back/visibilityAwareSystem */ "./src/app/ecs/systems/back/visibilityAwareSystem.ts");
/* harmony import */ var _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ecs/systems/doorSystem */ "./src/app/ecs/systems/doorSystem.ts");
/* harmony import */ var _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ecs/systems/propSystem */ "./src/app/ecs/systems/propSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ecs/systems/back/pixiGraphicSystem */ "./src/app/ecs/systems/back/pixiGraphicSystem.ts");
/* harmony import */ var _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ecs/systems/back/toolSystem */ "./src/app/ecs/systems/back/toolSystem.ts");
/* harmony import */ var _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ecs/systems/gridSystem */ "./src/app/ecs/systems/gridSystem.ts");
/* harmony import */ var _ecsPhase__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ecsPhase */ "./src/app/phase/ecsPhase.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ecs/systems/command/commandSystem */ "./src/app/ecs/systems/command/commandSystem.ts");
/* harmony import */ var _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ecs/systems/command/commandHistorySystem */ "./src/app/ecs/systems/command/commandHistorySystem.ts");
/* harmony import */ var _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../ecs/systems/back/layerSystem */ "./src/app/ecs/systems/back/layerSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../ecs/systems/back/pixiRectSelectionSystem */ "./src/app/ecs/systems/back/pixiRectSelectionSystem.ts");
/* harmony import */ var _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../ecs/systems/back/keyboardSystem */ "./src/app/ecs/systems/back/keyboardSystem.ts");
/* harmony import */ var _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../ecs/systems/back/networkSystem */ "./src/app/ecs/systems/back/networkSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiMeasureSystem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../ecs/systems/back/pixiMeasureSystem */ "./src/app/ecs/systems/back/pixiMeasureSystem.ts");
/* harmony import */ var _ecs_systems_back_pixiLayerSystem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../ecs/systems/back/pixiLayerSystem */ "./src/app/ecs/systems/back/pixiLayerSystem.ts");
/* harmony import */ var _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../ecs/systems/back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* harmony import */ var _ecs_systems_mouseTrailSystem__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../ecs/systems/mouseTrailSystem */ "./src/app/ecs/systems/mouseTrailSystem.ts");
/* harmony import */ var _ecs_systems_copyPasteSystem__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../ecs/systems/copyPasteSystem */ "./src/app/ecs/systems/copyPasteSystem.ts");
/* harmony import */ var _ecs_systems_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../ecs/systems/back/linkRelocationSystem */ "./src/app/ecs/systems/back/linkRelocationSystem.ts");
/* harmony import */ var _ecs_systems_back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../ecs/systems/back/nameAsLabelSystem */ "./src/app/ecs/systems/back/nameAsLabelSystem.ts");
/* harmony import */ var _network_webtorrent_WTChannel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../network/webtorrent/WTChannel */ "./src/app/network/webtorrent/WTChannel.ts");
/* harmony import */ var _ecs_systems_playerLocator__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../ecs/systems/playerLocator */ "./src/app/ecs/systems/playerLocator.ts");

































class EditMapPhase extends _ecsPhase__WEBPACK_IMPORTED_MODULE_16__.EcsPhase {
    constructor(name, gameId) {
        super(name, gameId === undefined);
        this.gameId = gameId;
    }
    ecsSetup() {
        this.setupNetworkManager();
        super.ecsSetup();
    }
    registerSystems() {
        super.registerSystems();
        let w = this.world;
        w.addSystem(new _ecs_systems_back_networkSystem__WEBPACK_IMPORTED_MODULE_23__.CommonNetworkSystem(w, this.channel));
        w.addSystem(new _ecs_systems_command_commandSystem__WEBPACK_IMPORTED_MODULE_18__.CommandSystem(w));
        if (w.isMaster) {
            w.addSystem(new _ecs_systems_command_commandHistorySystem__WEBPACK_IMPORTED_MODULE_19__.CommandHistorySystem(w));
        }
        w.addSystem(new _ecs_systems_back_keyboardSystem__WEBPACK_IMPORTED_MODULE_22__.WebKeyboardSystem(w));
        w.addSystem(new _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_26__.BigStorageSystem(w));
        w.addSystem(new _ecs_systems_back_linkRelocationSystem__WEBPACK_IMPORTED_MODULE_29__.LinkRelocationSystem(w));
        w.addSystem(new _ecs_systems_back_layerSystem__WEBPACK_IMPORTED_MODULE_20__.LayerSystem(w));
        w.addSystem(new _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_17__.PixiBoardSystem(w));
        w.addSystem(new _ecs_systems_back_selectionSystem__WEBPACK_IMPORTED_MODULE_2__.SelectionSystem(w));
        if (w.isMaster) {
            w.addSystem(new _ecs_systems_copyPasteSystem__WEBPACK_IMPORTED_MODULE_28__.CopyPasteSystem(w));
        }
        w.addSystem(new _ecs_systems_back_pixiRectSelectionSystem__WEBPACK_IMPORTED_MODULE_21__.PixiRectSelectionSystem(w));
        w.addSystem(new _ecs_systems_back_pixiMeasureSystem__WEBPACK_IMPORTED_MODULE_24__.PixiMeasureSystem(w));
        w.addSystem(new _ecs_systems_back_toolSystem__WEBPACK_IMPORTED_MODULE_14__.ToolSystem(w));
        w.addSystem(new _ecs_systems_mouseTrailSystem__WEBPACK_IMPORTED_MODULE_27__.MouseTrailSystem(w));
        w.addSystem(new _ecs_systems_gridSystem__WEBPACK_IMPORTED_MODULE_15__.GridSystem(w));
        w.addSystem(new _ecs_systems_back_interactionSystem__WEBPACK_IMPORTED_MODULE_8__.InteractionSystem(w));
        w.addSystem(new _ecs_systems_back_textSystem__WEBPACK_IMPORTED_MODULE_6__.TextSystem(w));
        w.addSystem(new _ecs_systems_back_pixiGraphicSystem__WEBPACK_IMPORTED_MODULE_13__.PixiGraphicSystem(w));
        w.addSystem(new _ecs_systems_back_pixiLayerSystem__WEBPACK_IMPORTED_MODULE_25__.PixiLayerSystem(w));
        w.addSystem(new _ecs_systems_back_nameAsLabelSystem__WEBPACK_IMPORTED_MODULE_30__.NameAsLabelSystem(w));
        w.addSystem(new _ecs_systems_backgroundImageSystem__WEBPACK_IMPORTED_MODULE_1__.BackgroundImageSystem(w));
        w.addSystem(new _ecs_systems_wallSystem__WEBPACK_IMPORTED_MODULE_4__.WallSystem(w));
        w.addSystem(new _ecs_systems_doorSystem__WEBPACK_IMPORTED_MODULE_11__.DoorSystem(w));
        w.addSystem(new _ecs_systems_back_visibilitySystem__WEBPACK_IMPORTED_MODULE_7__.VisibilitySystem(w));
        w.addSystem(new _ecs_systems_back_visibilityAwareSystem__WEBPACK_IMPORTED_MODULE_10__.VisibilityAwareSystem(w));
        w.addSystem(new _ecs_systems_pinSystem__WEBPACK_IMPORTED_MODULE_3__.PinSystem(w));
        w.addSystem(new _ecs_systems_propSystem__WEBPACK_IMPORTED_MODULE_12__.PropSystem(w));
        w.addSystem(new _ecs_systems_playerSystem__WEBPACK_IMPORTED_MODULE_9__.PlayerSystem(w));
        w.addSystem(new _ecs_systems_playerLocator__WEBPACK_IMPORTED_MODULE_32__.PlayerLocatorSystem(w));
        w.addSystem(new _ecs_systems_lightSystem__WEBPACK_IMPORTED_MODULE_5__.LightSystem(w));
    }
    setupNetworkManager() {
        this.channel = new _network_webtorrent_WTChannel__WEBPACK_IMPORTED_MODULE_31__.WTChannel();
        if (this.world.isMaster) {
            this.channel.startMaster();
            history.replaceState(null, "", '#t' + this.channel.getConnectSecret());
        }
        else {
            this.channel.startClient(this.gameId);
        }
    }
    // overrides
    ui() {
        return new _ui_edit_editMap_vue__WEBPACK_IMPORTED_MODULE_0__["default"]({
            propsData: {
                world: this.world,
            }
        });
    }
    disable() {
        super.disable();
        this.channel.destroy();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/hostEditMapPhase.ts":
/*!***************************************************!*\
  !*** ./src/app/phase/editMap/hostEditMapPhase.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HostEditMapPhase": () => (/* binding */ HostEditMapPhase)
/* harmony export */ });
/* harmony import */ var _editMapPhase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMapPhase */ "./src/app/phase/editMap/editMapPhase.ts");
/* harmony import */ var _map_mapLevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../map/mapLevel */ "./src/app/map/mapLevel.ts");
/* harmony import */ var _ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ecs/systems/back/pixiBoardSystem */ "./src/app/ecs/systems/back/pixiBoardSystem.ts");
/* harmony import */ var _ecs_systems_command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ecs/systems/command/spawnCommand */ "./src/app/ecs/systems/command/spawnCommand.ts");
/* harmony import */ var _ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ecs/systems/command/command */ "./src/app/ecs/systems/command/command.ts");
/* harmony import */ var _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ecs/systems/back/bigStorageSystem */ "./src/app/ecs/systems/back/bigStorageSystem.ts");
/* provided dependency */ var PIXI = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/pixi.es.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};






class HostEditMapPhase extends _editMapPhase__WEBPACK_IMPORTED_MODULE_0__.EditMapPhase {
    constructor(map) {
        super('editHost', undefined);
        this.map = map;
        if (this.map.levels.size == 0) {
            this.map.levels.set(42, new _map_mapLevel__WEBPACK_IMPORTED_MODULE_1__.MapLevel(42));
        }
        this.currentLevel = this.map.levels.values().next().value;
        this.world.events.on('export_map', () => {
            void this.exportMap();
        });
    }
    onDrop(event) {
        return __awaiter(this, void 0, void 0, function* () {
            event.stopPropagation();
            event.preventDefault();
            let x = event.pageX;
            let y = event.pageY;
            if (event.dataTransfer.items) {
                let res = [];
                for (let f of event.dataTransfer.items) {
                    let file = f.getAsFile();
                    if (file != null) {
                        res.push(file);
                    }
                }
                yield this.onFileDrop(res, x, y);
            }
            else {
                yield this.onFileDrop(event.dataTransfer.files, x, y);
            }
        });
    }
    onDragOver(event) {
        event.stopPropagation();
        event.preventDefault();
        event.dataTransfer.dropEffect = "copy";
        return false;
    }
    onFileDrop(files, x, y) {
        return __awaiter(this, void 0, void 0, function* () {
            if (files.length == 0)
                return;
            let firstFile = files[0];
            // Sometimes this does not work but the problem is not the matrix calculation, it's the browser coords
            // so if you have firefox and linux (this seems to be the wrong stack) and have spare time, pls debug this.
            // Could be caused by: https://bugzilla.mozilla.org/show_bug.cgi?id=505521#c80
            let p = new PIXI.Point(x, y);
            let pixiBoard = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE);
            pixiBoard.board.updateTransform();
            pixiBoard.board.transform.worldTransform.applyInverse(p, p);
            if (firstFile.type.startsWith("image/")) {
                let data = new Uint8Array(yield firstFile.arrayBuffer());
                let bigStorage = this.world.systems.get(_ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__.BIG_STORAGE_TYPE);
                let dataId = bigStorage.create(data, _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__.BigEntryFlags.READONLY | _ecs_systems_back_bigStorageSystem__WEBPACK_IMPORTED_MODULE_5__.BigEntryFlags.SHARED, false).multiId;
                const cmd = _ecs_systems_command_spawnCommand__WEBPACK_IMPORTED_MODULE_3__.SpawnCommandKind.from(this.world, [
                    {
                        type: 'name',
                        name: firstFile.name,
                        clientVisible: false,
                    },
                    {
                        type: "position",
                        x: p.x,
                        y: p.y,
                    },
                    {
                        type: "transform",
                        rotation: 0,
                        scale: 1,
                    },
                    {
                        type: "background_image",
                        entity: -1,
                        image: dataId,
                        imageType: firstFile.type,
                    },
                ]);
                (0,_ecs_systems_command_command__WEBPACK_IMPORTED_MODULE_4__.executeAndLogCommand)(this.world, cmd);
                console.log("Image loaded");
            }
        });
    }
    exportMap() {
        return __awaiter(this, void 0, void 0, function* () {
            this.currentLevel.saveFrom(this.world);
            let blob = yield this.map.saveToFile();
            this.saveBlob(blob, "map.dndm");
        });
    }
    saveBlob(blob, fileName) {
        let a = document.getElementById("hidden-download-link");
        let url = window.URL.createObjectURL(blob);
        a.href = url;
        a.download = fileName;
        a.click();
        window.URL.revokeObjectURL(url);
    }
    enable() {
        super.enable();
        const canvas = this.world.systems.get(_ecs_systems_back_pixiBoardSystem__WEBPACK_IMPORTED_MODULE_2__.PIXI_BOARD_TYPE).renderer.view;
        canvas.ondrop = this.onDrop.bind(this);
        canvas.ondragover = this.onDragOver.bind(this);
        this.beforeUnloadListener = (event) => {
            event.preventDefault();
            event.returnValue = 'pls';
        };
        window.addEventListener('beforeunload', this.beforeUnloadListener);
        this.currentLevel.loadInto(this.world);
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.on("_device_join", this.onDeviceJoin, this);
    }
    disable() {
        //let ch = this.networkManager.channel.eventEmitter;
        //ch.off("_device_join", this.onDeviceJoin, this);
        window.removeEventListener('beforeunload', this.beforeUnloadListener);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/editMap/layerOrder.ts":
/*!*********************************************!*\
  !*** ./src/app/phase/editMap/layerOrder.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LayerOrder": () => (/* binding */ LayerOrder)
/* harmony export */ });
var LayerOrder;
(function (LayerOrder) {
    LayerOrder[LayerOrder["BACKGROUND"] = 0] = "BACKGROUND";
    LayerOrder[LayerOrder["GRID"] = 10] = "GRID";
    LayerOrder[LayerOrder["FOREGROUND"] = 100] = "FOREGROUND";
    LayerOrder[LayerOrder["DETAILS"] = 110] = "DETAILS";
    LayerOrder[LayerOrder["LIGHT"] = 200] = "LIGHT";
    LayerOrder[LayerOrder["TOOLS"] = 250] = "TOOLS";
    LayerOrder[LayerOrder["TEXT"] = 300] = "TEXT";
})(LayerOrder || (LayerOrder = {}));


/***/ }),

/***/ "./src/app/phase/homePhase.ts":
/*!************************************!*\
  !*** ./src/app/phase/homePhase.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HomePhase": () => (/* binding */ HomePhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index */ "./src/app/index.ts");
/* harmony import */ var _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/home/home.vue */ "./src/app/ui/home/home.vue");
/* harmony import */ var _map_gameMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../map/gameMap */ "./src/app/map/gameMap.ts");
/* harmony import */ var _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editMap/hostEditMapPhase */ "./src/app/phase/editMap/hostEditMapPhase.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class HomePhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("home");
    }
    ui() {
        return new _ui_home_home_vue__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    createMap() {
        let map = new _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap();
        _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
    }
    editMap(file) {
        return __awaiter(this, void 0, void 0, function* () {
            let map = yield _map_gameMap__WEBPACK_IMPORTED_MODULE_3__.GameMap.loadFromFile(file);
            _index__WEBPACK_IMPORTED_MODULE_1__.stage.setPhase(new _editMap_hostEditMapPhase__WEBPACK_IMPORTED_MODULE_4__.HostEditMapPhase(map));
        });
    }
    enable() {
        super.enable();
        this.uiEventEmitter.on('create_map', this.createMap, this);
        this.uiEventEmitter.on('edit', this.editMap, this);
    }
    disable() {
        this.uiEventEmitter.on('edit', this.editMap, this);
        this.uiEventEmitter.on('create_map', this.createMap, this);
        super.disable();
    }
}


/***/ }),

/***/ "./src/app/phase/loadingPhase.ts":
/*!***************************************!*\
  !*** ./src/app/phase/loadingPhase.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadingPhase": () => (/* binding */ LoadingPhase)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");
/* harmony import */ var _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/loading/loading.vue */ "./src/app/ui/loading/loading.vue");


class LoadingPhase extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor() {
        super("loading");
    }
    ui() {
        return new _ui_loading_loading_vue__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
}


/***/ }),

/***/ "./src/app/phase/phase.ts":
/*!********************************!*\
  !*** ./src/app/phase/phase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Phase": () => (/* binding */ Phase)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");


class Phase {
    constructor(name) {
        this.name = name;
        // Create Vue instance that is responsible for handling the UI events of the current phase.
        // https://medium.com/vuejobs/create-a-global-event-bus-in-vue-js-838a5d9ab03a
        this.uiEventEmitter = new eventemitter3__WEBPACK_IMPORTED_MODULE_0__();
    }
    log(message) {
        console.log(`[${this.name}] ` + message);
    }
    ui() {
        return undefined;
    }
    enable() {
        this.log("Enabling");
        vue__WEBPACK_IMPORTED_MODULE_1__["default"].prototype.eventEmitter = this.uiEventEmitter;
        this.vue = this.ui();
        if (this.vue) {
            this.vue.$mount();
            document.body.appendChild(this.vue.$el);
        }
        // Done ^^
    }
    disable() {
        console.log(`[${this.name}] Disabling`);
        if (this.vue) {
            this.vue.$destroy();
            document.body.removeChild(this.vue.$el);
        }
    }
    /**
     * Overrides the `Object.prototype.toString.call(obj)` result.
     * This is done to hide this object and its children from observers (see https://github.com/vuejs/vue/issues/2637)
     * @returns {string} - type name
     * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag}
     */
    get [Symbol.toStringTag]() {
        // Anything can go here really as long as it's not 'Object'
        return 'ObjectNoObserve';
    }
}


/***/ }),

/***/ "./src/app/phase/stage.ts":
/*!********************************!*\
  !*** ./src/app/phase/stage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stage": () => (/* binding */ Stage)
/* harmony export */ });
/* harmony import */ var _phase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./phase */ "./src/app/phase/phase.ts");

class Stage extends _phase__WEBPACK_IMPORTED_MODULE_0__.Phase {
    constructor(name) {
        super(name);
        this.phase = null;
    }
    setPhase(phase) {
        if (this.phase)
            this.phase.disable();
        this.phase = phase;
        if (this.phase)
            this.phase.enable();
    }
    disable() {
        super.disable();
        this.setPhase(null);
    }
}


/***/ }),

/***/ "./src/app/ui/vue.ts":
/*!***************************!*\
  !*** ./src/app/ui/vue.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Vue": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue),
/* harmony export */   "VComponent": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Component),
/* harmony export */   "VProp": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Prop),
/* harmony export */   "VWatch": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch),
/* harmony export */   "VRef": () => (/* reexport safe */ vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Ref),
/* harmony export */   "VWatchImmediate": () => (/* binding */ VWatchImmediate),
/* harmony export */   "networkStatus": () => (/* binding */ networkStatus)
/* harmony export */ });
/* harmony import */ var vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue-property-decorator */ "./node_modules/vue-property-decorator/lib/index.js");


function VWatchImmediate(name) {
    return (0,vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Watch)(name, { immediate: true });
}
const networkStatus = vue_property_decorator__WEBPACK_IMPORTED_MODULE_0__.Vue.observable({
    isOnline: navigator.onLine,
});
window.addEventListener('online', () => networkStatus.isOnline = true);
window.addEventListener('offline', () => networkStatus.isOnline = false);


/***/ }),

/***/ "./src/app/util/UnionFindSet.ts":
/*!**************************************!*\
  !*** ./src/app/util/UnionFindSet.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UnionFindSet": () => (/* binding */ UnionFindSet)
/* harmony export */ });
class UnionFindSet {
    constructor(length) {
        this.parents = new Array(length);
        this.ranks = new Array(length);
        for (let i = 0; i < length; i++) {
            this.parents[i] = i;
            this.ranks[i] = 1;
        }
    }
    find(x) {
        /*
        Path splitting:

        while x.parent  x do
            (x, x.parent) := (x.parent, x.parent.parent)
        end while
        return x
        */
        let parent = this.parents[x];
        while (parent !== x) {
            const newpar = this.parents[parent];
            this.parents[x] = this.parents[newpar];
            x = parent;
            parent = newpar;
        }
        return parent;
    }
    union(a, b) {
        a = this.find(a);
        b = this.find(b);
        if (a == b) {
            return -1;
        }
        let arank = this.ranks[a];
        let brank = this.ranks[b];
        if (arank < brank) {
            [a, b] = [b, a];
            // Do not swap ranks, we will not use their ordering later
        }
        this.parents[b] = a;
        if (arank === brank) {
            this.ranks[a] += 1;
        }
        return a;
    }
}


/***/ }),

/***/ "./src/app/util/array.ts":
/*!*******************************!*\
  !*** ./src/app/util/array.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arrayRemoveElem": () => (/* binding */ arrayRemoveElem),
/* harmony export */   "arrayFilterInPlace": () => (/* binding */ arrayFilterInPlace),
/* harmony export */   "arrayRandomElement": () => (/* binding */ arrayRandomElement)
/* harmony export */ });
function arrayRemoveElem(arr, elem) {
    let index = arr.indexOf(elem);
    if (index !== -1)
        arr.splice(index, 1);
    return index !== -1;
}
function arrayFilterInPlace(a, condition) {
    let i = 0, j = 0;
    while (i < a.length) {
        const val = a[i];
        if (condition(val))
            a[j++] = val;
        i++;
    }
    a.length = j;
    return a;
}
function arrayRandomElement(a) {
    return a[Math.floor(Math.random() * a.length)];
}


/***/ }),

/***/ "./src/app/util/binaryHeap.ts":
/*!************************************!*\
  !*** ./src/app/util/binaryHeap.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinaryHeap": () => (/* binding */ BinaryHeap)
/* harmony export */ });
// Binary heap implementation from:
// http://eloquentjavascript.net/appendix2.html
class BinaryHeap {
    constructor(cmpLt) {
        this.content = new Array();
        this.elemMap = new Map();
        this.cmpLt = cmpLt;
    }
    push(element) {
        // Add the new element to the end of the array.
        this.elemMap.set(element, this.content.length);
        this.content.push(element);
        // Allow it to bubble up.
        this.bubbleUp(this.content.length - 1);
    }
    pop() {
        if (this.content.length === 0)
            return undefined;
        // Store the first element so we can return it later.
        let result = this.content[0];
        this.elemMap.delete(result);
        // Get the element at the end of the array.
        let end = this.content.pop();
        // If there are any elements left, put the end element at the
        // start, and let it sink down.
        if (this.content.length !== 0) {
            this.content[0] = end;
            this.elemMap.set(end, 0);
            this.sinkDown(0);
        }
        return result;
    }
    popElem(e) {
        let index = this.elemMap.get(e);
        if (index === undefined)
            return;
        this.elemMap.delete(e);
        let end = this.content.pop();
        if (index === this.content.length)
            return;
        this.content[index] = end;
        this.elemMap.set(end, index);
        this.sinkDown(index);
        this.bubbleUp(index); // Fix, some systems where a < b. b < c => a < c is not maintained
    }
    hasElem(e) {
        return this.elemMap.has(e);
    }
    peek() {
        return this.content[0];
    }
    size() {
        return this.content.length;
    }
    bubbleUp(n) {
        // Fetch the element that has to be moved.
        let element = this.content[n];
        // When at 0, an element can not go up any further.
        while (n > 0) {
            // Compute the parent element's index, and fetch it.
            let parentN = Math.floor((n + 1) / 2) - 1;
            let parent = this.content[parentN];
            // Swap the elements if the parent is greater.
            if (this.cmpLt(element, parent)) {
                this.content[parentN] = element;
                this.content[n] = parent;
                this.elemMap.set(element, parentN);
                this.elemMap.set(parent, n);
                // Update 'n' to continue at the new position.
                n = parentN;
            }
            // Found a parent that is less, no need to move it further.
            else {
                break;
            }
        }
    }
    sinkDown(n) {
        // Look up the target element and its score.
        let length = this.content.length;
        let element = this.content[n];
        while (true) {
            // Compute the indices of the child elements.
            let child2N = (n + 1) * 2, child1N = child2N - 1;
            // This is used to store the new position of the element,
            // if any.
            let swap = null;
            let child1 = undefined;
            // If the first child exists (is inside the array)...
            if (child1N < length) {
                // Look it up and compute its score.
                child1 = this.content[child1N];
                // If the score is less than our element's, we need to swap.
                if (this.cmpLt(child1, element))
                    swap = child1N;
            }
            // Do the same checks for the other child.
            if (child2N < length) {
                let child2 = this.content[child2N];
                if (this.cmpLt(child2, swap == null ? element : child1)) {
                    swap = child2N;
                }
            }
            // If the element needs to be moved, swap it, and continue.
            if (swap != null) {
                this.content[n] = this.content[swap];
                this.content[swap] = element;
                this.elemMap.set(this.content[n], n);
                this.elemMap.set(element, swap);
                n = swap;
            }
            // Otherwise, we are done.
            else {
                break;
            }
        }
    }
}


/***/ }),

/***/ "./src/app/util/bitSet.ts":
/*!********************************!*\
  !*** ./src/app/util/bitSet.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitSet": () => (/* binding */ BitSet)
/* harmony export */ });
/**
 * Basic BitSet
 */
class BitSet {
    constructor(data) {
        if (typeof data === 'number') {
            this.data = new Uint32Array(Math.ceil(length / 32));
        }
        else if (data.BYTES_PER_ELEMENT === 4) {
            this.data = data;
        }
        else {
            let len = Math.floor(data.byteLength / Uint32Array.BYTES_PER_ELEMENT);
            this.data = new Uint32Array(data.buffer, data.byteOffset, len);
        }
    }
    get size() {
        return this.data.length << 5;
    }
    get(i) {
        i |= 0;
        let wi = i >>> 5;
        if (wi >= this.data.length)
            return false;
        let b = this.data[wi];
        return !!((b >>> i) & 1);
    }
    ensureCapacity(wi) {
        let newLen = this.data.length;
        while (newLen < wi)
            newLen *= 2;
        if (newLen === this.data.length)
            return;
        let newData = new Uint32Array(newLen);
        newData.set(this.data);
        this.data = newData;
    }
    set(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] |= 1 << i;
    }
    reset(i) {
        i |= 0;
        let wi = i >>> 5;
        this.ensureCapacity(wi);
        this.data[wi] &= ~(1 << i);
    }
    isAll(target, until) {
        let t = 0;
        if (target) {
            t = 0xFFFFFFFF;
        }
        let loopLast = until === undefined ? this.data.length : (until >>> 5);
        for (let i = 0; i < loopLast; i++) {
            if (this.data[i] !== t)
                return false;
        }
        if (until === undefined)
            return true;
        let i = ((until - 1) >> 5) + 1;
        let il = until & 0x1F;
        let mask = (1 << il) - 1;
        let d = this.data[i];
        if (target) {
            d = ~d;
        }
        return (d & mask) === 0;
    }
}


/***/ }),

/***/ "./src/app/util/eventEmitterWrapper.ts":
/*!*********************************************!*\
  !*** ./src/app/util/eventEmitterWrapper.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventEmitterWrapper": () => (/* binding */ EventEmitterWrapper)
/* harmony export */ });
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);

class EventEmitterWrapper extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__ {
    constructor(catcher) {
        super();
        this.caught = new Set();
        this.catcher = catcher;
    }
    catchEvent(event) {
        this.catcher(event, this);
        this.caught.add(event);
    }
    on(event, fn, context) {
        super.on(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
    addListener(event, fn, context) {
        super.addListener(event, fn, context);
        if (!this.caught.has(event)) {
            this.catchEvent(event);
        }
        return this;
    }
}


/***/ }),

/***/ "./src/app/util/geometry.ts":
/*!**********************************!*\
  !*** ./src/app/util/geometry.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "polygonPointIntersect": () => (/* binding */ polygonPointIntersect),
/* harmony export */   "aabbAabbIntersect": () => (/* binding */ aabbAabbIntersect),
/* harmony export */   "distSquared2d": () => (/* binding */ distSquared2d),
/* harmony export */   "projectPointOnSegment": () => (/* binding */ projectPointOnSegment),
/* harmony export */   "intersectLineVsLine": () => (/* binding */ intersectLineVsLine),
/* harmony export */   "aabbSameOriginDifference": () => (/* binding */ aabbSameOriginDifference)
/* harmony export */ });
/* harmony import */ var _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/aabb */ "./src/app/geometry/aabb.ts");

function polygonPointIntersect(point, polygon) {
    const x = point.x;
    const y = point.y;
    let inside = false;
    // use some raycasting to test hits
    // https://github.com/substack/point-in-polygon/blob/master/index.js
    const length = polygon.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
        const xi = polygon[i * 2];
        const yi = polygon[(i * 2) + 1];
        const xj = polygon[j * 2];
        const yj = polygon[(j * 2) + 1];
        const intersect = ((yi > y) !== (yj > y)) && (x < ((xj - xi) * ((y - yi) / (yj - yi))) + xi);
        if (intersect) {
            inside = !inside;
        }
    }
    return inside;
}
function aabbAabbIntersect(al, at, ar, ab, bl, bt, br, bb) {
    return al < br && ar > bl && at < bb && ab > bt;
}
function distSquared2d(x1, y1, x2, y2) {
    let x = x1 - x2;
    let y = y1 - y2;
    return x * x + y * y;
}
function projectPointOnSegment(ax, ay, bx, by, px, py) {
    if (ax == bx && ay == ay)
        ax -= 0.00001;
    let u = ((px - ax) * (bx - ax)) + ((py - ay) * (by - ay));
    let udenom = Math.pow(bx - ax, 2) + Math.pow(by - ay, 2);
    u /= udenom;
    let rx = ax + (u * (bx - ax));
    let ry = ay + (u * (by - ay));
    let minx, maxx, miny, maxy;
    minx = Math.min(ax, bx);
    maxx = Math.max(ax, bx);
    miny = Math.min(ay, by);
    maxy = Math.max(ay, by);
    let isValid = (rx >= minx && rx <= maxx) && (ry >= miny && ry <= maxy);
    return isValid ? [rx, ry] : undefined;
}
function intersectLineVsLine(a1, a2, b1, b2, target) {
    let dbx = b2.x - b1.x;
    let dby = b2.y - b1.y;
    let dax = a2.x - a1.x;
    let day = a2.y - a1.y;
    let u_b = dby * dax - dbx * day;
    if (u_b == 0) {
        return false;
    }
    let ua = (dbx * (a1.y - b1.y) - dby * (a1.x - b1.x)) / u_b;
    if (target !== undefined) {
        target.set(a1.x - ua * -dax, a1.y - ua * -day);
    }
    return true;
}
function aabbSameOriginDifference(orig, last, now, added, removed) {
    let xAct = 0;
    if (now.x != last.x) {
        let xBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(now.x, orig.y, last.x, last.y);
        let add = (now.x > last.x) == (orig.x < now.x);
        if (add) {
            xAct = 1;
            added.push(xBox);
        }
        else {
            xAct = -1;
            removed.push(xBox);
        }
    }
    let yAct = 0;
    if (now.y != last.y) {
        let yBox = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(orig.x, last.y, last.x, now.y);
        let add = (now.y > last.y) == (orig.y < last.y);
        if (add) {
            yAct = 1;
            added.push(yBox);
        }
        else {
            yAct = -1;
            removed.push(yBox);
        }
    }
    if (xAct == yAct) {
        let box = new _geometry_aabb__WEBPACK_IMPORTED_MODULE_0__.Aabb(last.x, last.y, now.x, now.y);
        if (xAct > 0) {
            added.push(box);
        }
        else {
            removed.push(box);
        }
    }
}


/***/ }),

/***/ "./src/app/util/jsobj.ts":
/*!*******************************!*\
  !*** ./src/app/util/jsobj.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "objectMerge": () => (/* binding */ objectMerge),
/* harmony export */   "objectFilterInplace": () => (/* binding */ objectFilterInplace),
/* harmony export */   "objectClone": () => (/* binding */ objectClone),
/* harmony export */   "randombytes": () => (/* binding */ randombytes),
/* harmony export */   "bufferToBase64Url": () => (/* binding */ bufferToBase64Url),
/* harmony export */   "base64UrlToBuffer": () => (/* binding */ base64UrlToBuffer)
/* harmony export */ });
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");
/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @msgpack/msgpack */ "./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");


function objectMerge(to, from) {
    for (let i in from) {
        to[i] = from[i];
    }
}
function objectFilterInplace(x, filter) {
    for (let name in x) {
        if (!filter(name, x[name])) {
            delete x[name];
        }
    }
}
function objectClone(obj) {
    // Yes, really, thanks js.
    return (0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_1__.decode)((0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_2__.encode)(obj));
    //return JSON.parse(JSON.stringify(obj));
}
function randombytes(num) {
    let buffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.allocUnsafe(num);
    crypto.getRandomValues(buffer);
    return buffer;
}
// base 64
function bufferToBase64Url(input) {
    return input.toString("base64")
        .replace(/=/g, "")
        .replace(/\+/g, "-")
        .replace(/\//g, "_");
}
;
function base64UrlToBuffer(base64url) {
    const base64 = b64PadString(base64url)
        .replace(/\-/g, "+")
        .replace(/_/g, "/");
    return buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(base64, "base64");
}
function b64PadString(input) {
    let segmentLength = 4;
    let stringLength = input.length;
    let diff = stringLength % segmentLength;
    if (!diff) {
        return input;
    }
    let position = stringLength;
    let padLength = segmentLength - diff;
    let paddedStringLength = stringLength + padLength;
    let buffer = buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.alloc(paddedStringLength);
    buffer.write(input);
    while (padLength--) {
        buffer.write("=", position++);
    }
    return buffer.toString();
}


/***/ }),

/***/ "./src/app/util/k2dTree.ts":
/*!*********************************!*\
  !*** ./src/app/util/k2dTree.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K2dTree": () => (/* binding */ K2dTree)
/* harmony export */ });
class Node {
    constructor(point, parent, dimension) {
        this.left = undefined;
        this.right = undefined;
        this.point = point;
        this.parent = parent;
        this.dimension = dimension;
    }
}
class K2dTree {
    constructor() {
        this.root = undefined;
    }
    distance(a, b) {
        let dx = a[0] - b[0];
        let dy = a[1] - b[1];
        return dx * dx + dy * dy;
    }
    lastSearch(point, node, parent) {
        while (node !== undefined) {
            parent = node;
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return parent;
    }
    nodeSearch(point) {
        let node = this.root;
        while (node !== undefined) {
            if (point[0] === node.point[0] && point[1] === node.point[1]) {
                return node;
            }
            if (point[node.dimension] < node.point[node.dimension]) {
                node = node.left;
            }
            else {
                node = node.right;
            }
        }
        return undefined;
    }
    insert(point) {
        let insertPosition = this.lastSearch(point, this.root, undefined);
        if (insertPosition === undefined) {
            this.root = new Node(point, undefined, 0);
            return;
        }
        let newNode = new Node(point, insertPosition, (insertPosition.dimension + 1) & 1);
        let dimension = insertPosition.dimension;
        if (point[dimension] < insertPosition.point[dimension]) {
            insertPosition.left = newNode;
        }
        else {
            insertPosition.right = newNode;
        }
    }
    findMin(node, dim) {
        if (node === undefined) {
            return undefined;
        }
        if (node.dimension === dim) {
            if (node.left !== undefined) {
                return this.findMin(node.left, dim);
            }
            return node;
        }
        let own = node.point[dim];
        let left = this.findMin(node.left, dim);
        let right = this.findMin(node.right, dim);
        let min = node;
        if (left !== undefined && left.point[dim] < own) {
            min = left;
        }
        if (right !== undefined && right.point[dim] < min.point[dim]) {
            min = right;
        }
        return min;
    }
    removeNode(node) {
        if (node.left === undefined && node.right === undefined) {
            if (node.parent === undefined) {
                this.root = undefined;
                return;
            }
            let dim = node.parent.dimension;
            if (node.point[dim] < node.parent.point[dim]) {
                node.parent.left = undefined;
            }
            else {
                node.parent.right = undefined;
            }
            return;
        }
        // If the right subtree is not empty, swap with the minimum element on the
        // node's dimension. If it is empty, we swap the left and right subtrees and
        // do the same.
        if (node.right !== undefined) {
            let nextNode = this.findMin(node.right, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.point = nextPoint;
        }
        else {
            let nextNode = this.findMin(node.left, node.dimension);
            let nextPoint = nextNode.point;
            this.removeNode(nextNode);
            node.right = node.left;
            node.left = undefined;
            node.point = nextPoint;
        }
    }
    remove(point) {
        let node = this.nodeSearch(point);
        if (node === undefined)
            return false;
        this.removeNode(node);
        return true;
    }
    nearestPoint(point, root) {
        root = root || this.root;
        if (root === undefined)
            return undefined;
        let ownDistance = this.distance(root.point, point);
        if (root.left === undefined && root.right === undefined) {
            return [root.point, ownDistance];
        }
        let bestChild;
        if (root.right === undefined) {
            bestChild = root.left;
        }
        else if (root.left === undefined) {
            bestChild = root.right;
        }
        else {
            if (point[root.dimension] < root.point[root.dimension]) {
                bestChild = root.left;
            }
            else {
                bestChild = root.right;
            }
        }
        let [bestChildNode, bestChildDist] = this.nearestPoint(point, bestChild);
        let bestNode;
        let bestDist;
        if (bestChildDist < ownDistance) {
            bestNode = bestChildNode;
            bestDist = bestChildDist;
        }
        else {
            bestNode = root.point;
            bestDist = ownDistance;
        }
        // Searched point projected to our axis
        let linearPoint = [point[0], point[1]];
        linearPoint[root.dimension] = root.point[root.dimension];
        let linearDist = this.distance(linearPoint, point);
        if (linearDist < bestDist) {
            let otherChild;
            if (bestChild === root.left) {
                otherChild = root.right;
            }
            else {
                otherChild = root.left;
            }
            if (otherChild !== undefined) {
                let [otherNode, otherDist] = this.nearestPoint(point, otherChild);
                if (otherDist < bestDist) {
                    bestNode = otherNode;
                    bestDist = otherDist;
                }
            }
        }
        return [bestNode, bestDist];
    }
}


/***/ }),

/***/ "./src/app/util/pixi.ts":
/*!******************************!*\
  !*** ./src/app/util/pixi.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DESTROY_ALL": () => (/* binding */ DESTROY_ALL),
/* harmony export */   "DESTROY_MIN": () => (/* binding */ DESTROY_MIN),
/* harmony export */   "loadTexture": () => (/* binding */ loadTexture),
/* harmony export */   "CUSTOM_BLEND_MODES": () => (/* binding */ CUSTOM_BLEND_MODES),
/* harmony export */   "addCustomBlendModes": () => (/* binding */ addCustomBlendModes)
/* harmony export */ });
/* harmony import */ var _PIXI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PIXI */ "./src/app/PIXI.ts");
/* provided dependency */ var Buffer = __webpack_require__(/*! ./node_modules/buffer/index.js */ "./node_modules/buffer/index.js")["Buffer"];

const DESTROY_ALL = {
    children: true,
    texture: true,
    baseTexture: true,
};
const DESTROY_MIN = {
    children: false,
    texture: false,
    baseTexture: false,
};
const ALLOWED_IMAGETYPES = ['jpeg', 'png', 'x-jg', 'bmp', 'x-icon', 'ief', 'pjpeg', 'x-portable-bitmap', 'x-rgb', 'tiff', 'x-tiff'];
function validateImageMimeType(type) {
    if (!type.startsWith('image/'))
        throw new Error('Invalid type: it should be an image');
    if (ALLOWED_IMAGETYPES.indexOf(type.substr('image/'.length)) < 0)
        throw new Error('Unsupported image type');
}
function loadTexture(data, dataType) {
    validateImageMimeType(dataType);
    let b64 = 'data:' + dataType + ';base64,' + Buffer.from(data).toString('base64');
    return new Promise((resolve, reject) => {
        let image = new Image();
        image.onload = () => {
            const tex = new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].Texture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].BaseTexture(new _PIXI__WEBPACK_IMPORTED_MODULE_0__["default"].resources.ImageResource(image)));
            resolve(tex);
        };
        image.onerror = reject;
        image.src = b64;
    });
}
var CUSTOM_BLEND_MODES;
(function (CUSTOM_BLEND_MODES) {
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["MULTIPLY_COLOR_ONLY"] = 30] = "MULTIPLY_COLOR_ONLY";
    CUSTOM_BLEND_MODES[CUSTOM_BLEND_MODES["ADD_WHERE_ALPHA_1"] = 31] = "ADD_WHERE_ALPHA_1";
})(CUSTOM_BLEND_MODES || (CUSTOM_BLEND_MODES = {}));
function addCustomBlendModes(renderer) {
    let gl = renderer.gl;
    let array = renderer.state.blendModes;
    array[CUSTOM_BLEND_MODES.MULTIPLY_COLOR_ONLY] = [gl.DST_COLOR, gl.ZERO, gl.ONE, gl.ZERO];
    array[CUSTOM_BLEND_MODES.ADD_WHERE_ALPHA_1] = [gl.DST_ALPHA, gl.ONE, gl.ZERO, gl.ONE];
}


/***/ }),

/***/ "./src/app/util/safeEventEmitter.ts":
/*!******************************************!*\
  !*** ./src/app/util/safeEventEmitter.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PRIORITY_DISABLED": () => (/* binding */ PRIORITY_DISABLED),
/* harmony export */   "default": () => (/* binding */ SafeEventEmitter)
/* harmony export */ });
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
const PRIORITY_DISABLED = -Infinity;
class SafeEventEmitter {
    constructor() {
        this.events = {};
        this.children = [];
    }
    emit(event, ...args) {
        let received = false;
        for (let c of this.children) {
            let x = c.emit(event, ...args);
            received || (received = x);
        }
        let listeners = this.events[event];
        if (listeners === undefined || listeners.length === 0)
            return received;
        let length = listeners.length;
        for (let i = 0; i < length;) {
            let listener = listeners[i];
            if (listener.priority === PRIORITY_DISABLED) {
                i++;
                continue;
            }
            try {
                listener.cb.call(listener.self, ...args);
            }
            catch (b) {
                console.error("Error while calling event " + event);
                console.error(b);
            }
            if (listener.once) {
                listeners.splice(i, 1);
                length--;
            }
            else {
                i++;
            }
        }
        return true;
    }
    insertHandler(event, handler) {
        let listeners = this.events[event];
        if (listeners === undefined) {
            listeners = [handler];
            this.events[event] = listeners;
            return;
        }
        let i = listeners.length - 1;
        for (; i >= 0; i--) {
            if (listeners[i].priority >= handler.priority)
                break;
        }
        // Add at position
        listeners.splice(i, 0, handler);
    }
    /**
     * Add a listener for a given event.
     */
    on(event, fn, context, priority = 0) {
        this.insertHandler(event, {
            cb: fn,
            self: context,
            once: false,
            priority,
        });
        return this;
    }
    /**
     * Add a one-time listener for a given event.
     */
    once(event, fn, context) {
        this.insertHandler(event, {
            cb: fn,
            self: context,
            once: true,
        });
        return this;
    }
    /**
     * Remove the listeners of a given event.
     */
    off(event, fn, context, once) {
        let listeners = this.events[event];
        if (listeners === undefined)
            throw new Error('Cannot find event ' + event);
        let length = listeners.length;
        for (let i = 0; i < length; i++) {
            let listener = listeners[i];
            if (listener.cb === fn && listener.self === context) {
                listeners.splice(i, 1);
                return this;
            }
        }
        throw new Error('Cannot find event ' + event);
    }
    /**
     * Remove all listeners, or those of the specified event.
     */
    removeAllListeners(event) {
        if (event !== undefined) {
            this.events[event] = [];
        }
        else {
            this.events = {};
        }
        return this;
    }
    reorderObjects(priorityList, defaultPriority = -1) {
        for (let name in this.events) {
            const listeners = this.events[name];
            for (let listener of listeners) {
                listener.priority = priorityList.indexOf(listener.self);
                if (listener.priority < 0)
                    listener.priority = defaultPriority;
            }
            // decrescent order
            listeners.sort((a, b) => b.priority - a.priority);
        }
    }
    addChild(emitter) {
        this.children.push(emitter);
    }
    removeChild(emitter) {
        let index = this.children.indexOf(emitter);
        if (index >= 0)
            this.children.splice(index, 1);
    }
}


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=template&id=03d324d6& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&");
/* harmony import */ var _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
/* harmony import */ var _compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.render,
  _compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/compWrapper.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=template&id=5efd7016& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&");
/* harmony import */ var _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsBackgroundImage.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=template&id=1862e8b5& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&");
/* harmony import */ var _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsDoor.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsDoor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue":
/*!*************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=template&id=724e011f& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&");
/* harmony import */ var _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsLight.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsLight.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsName.vue?vue&type=template&id=3e768912& */ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&");
/* harmony import */ var _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsName.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsName.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=template&id=2effb2f9& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&");
/* harmony import */ var _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
/* harmony import */ var _ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsNote.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue":
/*!***********************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=template&id=26d88e5e& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&");
/* harmony import */ var _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPin.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPin.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue":
/*!**************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=template&id=636ceea8& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&");
/* harmony import */ var _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPlayer.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPlayer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue":
/*!****************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=template&id=e81e4da0& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&");
/* harmony import */ var _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPosition.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPosition.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=template&id=d4f0f42c& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&");
/* harmony import */ var _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsProp.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsProp.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue":
/*!********************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");
/* harmony import */ var _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  "08b2d1b5",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsPropTeleport.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue":
/*!*****************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=template&id=4ee87bf5& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&");
/* harmony import */ var _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsTransform.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsTransform.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue":
/*!************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=template&id=37e22e5e& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&");
/* harmony import */ var _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ecsWall.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.render,
  _ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/ecsWall.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue":
/*!******************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=template&id=c407dbfa& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&");
/* harmony import */ var _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=script&lang=ts& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
/* harmony import */ var _entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.render,
  _entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/ecs/entityInspect.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/creationOptions.vue":
/*!*********************************************!*\
  !*** ./src/app/ui/edit/creationOptions.vue ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./creationOptions.vue?vue&type=template&id=5d73769e& */ "./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&");
/* harmony import */ var _creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./creationOptions.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.render,
  _creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/creationOptions.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/editMap.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editMap.vue?vue&type=template&id=53b46051& */ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&");
/* harmony import */ var _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editMap.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editMap.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.render,
  _editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/editMap.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue":
/*!**************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=template&id=69e6e221& */ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");
/* harmony import */ var _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render,
  _gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/gridEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lightSettingsEdit.vue?vue&type=template&id=52a50522& */ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&");
/* harmony import */ var _lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lightSettingsEdit.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.render,
  _lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/lightSettingsEdit.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/reconnectionModal.vue":
/*!***********************************************!*\
  !*** ./src/app/ui/edit/reconnectionModal.vue ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reconnectionModal.vue?vue&type=template&id=4d4c0f7b& */ "./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&");
/* harmony import */ var _reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reconnectionModal.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.render,
  _reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/reconnectionModal.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sideBar.vue?vue&type=template&id=075598ca& */ "./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&");
/* harmony import */ var _sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sideBar.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&");
/* harmony import */ var _sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sideBar.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.render,
  _sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/sideBar.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue":
/*!*************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolBar.vue?vue&type=template&id=fde8e78c& */ "./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&");
/* harmony import */ var _toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolBar.vue?vue&type=script&lang=ts& */ "./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&");
/* harmony import */ var _toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolBar.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.render,
  _toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/edit/toolBar.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/footer.vue":
/*!*******************************!*\
  !*** ./src/app/ui/footer.vue ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer.vue?vue&type=template&id=539f2bff& */ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&");
/* harmony import */ var _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./footer.vue?vue&type=script&lang=ts& */ "./src/app/ui/footer.vue?vue&type=script&lang=ts&");
/* harmony import */ var _footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./footer.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.render,
  _footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/footer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/home.vue":
/*!**********************************!*\
  !*** ./src/app/ui/home/home.vue ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=d8550b4a& */ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");
/* harmony import */ var _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=ts& */ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
/* harmony import */ var _home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render,
  _home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/home.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue":
/*!**************************************!*\
  !*** ./src/app/ui/home/mapInput.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapInput.vue?vue&type=template&id=7e9d406c& */ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&");
/* harmony import */ var _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapInput.vue?vue&type=script&lang=js& */ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.render,
  _mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/home/mapInput.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    name: "mapInput",
    data() {
        return {
            file: null,
        }
    },
    methods: {
        onDrop: function (event) {

        },
        hideModal: function (event) {
          this.$emit("close");
        }
    }
});


/***/ }),

/***/ "./src/app/ui/icons/hexagonIcon.vue":
/*!******************************************!*\
  !*** ./src/app/ui/icons/hexagonIcon.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hexagonIcon.vue?vue&type=template&id=7c718f10& */ "./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&");
/* harmony import */ var _hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hexagonIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.render,
  _hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/hexagonIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue":
/*!*********************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mouseTrailIcon.vue?vue&type=template&id=5673bb73& */ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&");
/* harmony import */ var _mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mouseTrailIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.render,
  _mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/mouseTrailIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue":
/*!***************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wallIcon.vue?vue&type=template&id=15dccc9c& */ "./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&");
/* harmony import */ var _wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wallIcon.vue?vue&type=script&lang=ts& */ "./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.render,
  _wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/icons/wallIcon.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/loading/loading.vue":
/*!****************************************!*\
  !*** ./src/app/ui/loading/loading.vue ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=b10af496& */ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");
/* harmony import */ var _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.vue?vue&type=script&lang=ts& */ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableColor.vue":
/*!*******************************************!*\
  !*** ./src/app/ui/util/editableColor.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableColor.vue?vue&type=template&id=b8ad6e14& */ "./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&");
/* harmony import */ var _editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableColor.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editableColor.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableColor.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue":
/*!********************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableNumber.vue?vue&type=template&id=6fe10046& */ "./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&");
/* harmony import */ var _editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableNumber.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableNumber.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/util/editableText.vue":
/*!******************************************!*\
  !*** ./src/app/ui/util/editableText.vue ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editableText.vue?vue&type=template&id=c769652c& */ "./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&");
/* harmony import */ var _editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editableText.vue?vue&type=script&lang=ts& */ "./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&");
/* harmony import */ var _editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editableText.vue?vue&type=style&index=0&lang=css& */ "./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__["default"],
  _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.render,
  _editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/ui/util/editableText.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&":
/*!************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts& ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&":
/*!*************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts& ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creationOptions.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&":
/*!***************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lightSettingsEdit.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&":
/*!************************************************************************!*\
  !*** ./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reconnectionModal.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&":
/*!**************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=script&lang=ts&":
/*!********************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=script&lang=ts& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=script&lang=ts&":
/*!***********************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=script&lang=ts& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hexagonIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouseTrailIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&":
/*!****************************************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts& ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallIcon.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=script&lang=ts& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&":
/*!********************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableNumber.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=script&lang=ts& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=script&lang=ts& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=script&lang=ts&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_template_id_03d324d6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=template&id=03d324d6& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsBackgroundImage_vue_vue_type_template_id_5efd7016___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsBackgroundImage.vue?vue&type=template&id=5efd7016& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsDoor_vue_vue_type_template_id_1862e8b5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsDoor.vue?vue&type=template&id=1862e8b5& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&":
/*!********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsLight_vue_vue_type_template_id_724e011f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsLight.vue?vue&type=template&id=724e011f& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsName_vue_vue_type_template_id_3e768912___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsName.vue?vue&type=template&id=3e768912& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_template_id_2effb2f9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=template&id=2effb2f9& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&":
/*!******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e& ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPin_vue_vue_type_template_id_26d88e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPin.vue?vue&type=template&id=26d88e5e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPlayer_vue_vue_type_template_id_636ceea8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPlayer.vue?vue&type=template&id=636ceea8& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPosition_vue_vue_type_template_id_e81e4da0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPosition.vue?vue&type=template&id=e81e4da0& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsProp_vue_vue_type_template_id_d4f0f42c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsProp.vue?vue&type=template&id=d4f0f42c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!***************************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsPropTeleport_vue_vue_type_template_id_08b2d1b5_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&":
/*!************************************************************************!*\
  !*** ./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5& ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsTransform_vue_vue_type_template_id_4ee87bf5___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsTransform.vue?vue&type=template&id=4ee87bf5& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&");


/***/ }),

/***/ "./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsWall_vue_vue_type_template_id_37e22e5e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsWall.vue?vue&type=template&id=37e22e5e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&");


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_template_id_c407dbfa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=template&id=c407dbfa& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&");


/***/ }),

/***/ "./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_creationOptions_vue_vue_type_template_id_5d73769e___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creationOptions.vue?vue&type=template&id=5d73769e& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&");


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_template_id_53b46051___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=template&id=53b46051& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&");


/***/ }),

/***/ "./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_gridEdit_vue_vue_type_template_id_69e6e221___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gridEdit.vue?vue&type=template&id=69e6e221& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&");


/***/ }),

/***/ "./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_lightSettingsEdit_vue_vue_type_template_id_52a50522___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lightSettingsEdit.vue?vue&type=template&id=52a50522& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&");


/***/ }),

/***/ "./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&":
/*!******************************************************************************!*\
  !*** ./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_reconnectionModal_vue_vue_type_template_id_4d4c0f7b___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reconnectionModal.vue?vue&type=template&id=4d4c0f7b& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&");


/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_template_id_075598ca___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=template&id=075598ca& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&");


/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&":
/*!********************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_template_id_fde8e78c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=template&id=fde8e78c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&");


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=template&id=539f2bff&":
/*!**************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=template&id=539f2bff& ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_template_id_539f2bff___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=template&id=539f2bff& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&");


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!*****************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_template_id_d8550b4a___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=template&id=d8550b4a& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&");


/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=script&lang=js& */ "./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mapInput_vue_vue_type_template_id_7e9d406c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapInput.vue?vue&type=template&id=7e9d406c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&");


/***/ }),

/***/ "./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_hexagonIcon_vue_vue_type_template_id_7c718f10___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hexagonIcon.vue?vue&type=template&id=7c718f10& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&");


/***/ }),

/***/ "./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_mouseTrailIcon_vue_vue_type_template_id_5673bb73___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouseTrailIcon.vue?vue&type=template&id=5673bb73& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&");


/***/ }),

/***/ "./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_wallIcon_vue_vue_type_template_id_15dccc9c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallIcon.vue?vue&type=template&id=15dccc9c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&");


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!***********************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_b10af496___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=b10af496& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&");


/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&":
/*!**************************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_template_id_b8ad6e14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=template&id=b8ad6e14& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&");


/***/ }),

/***/ "./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableNumber_vue_vue_type_template_id_6fe10046___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableNumber.vue?vue&type=template&id=6fe10046& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&");


/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_template_id_c769652c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=template&id=c769652c& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&");


/***/ }),

/***/ "./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_compWrapper_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!*********************************************************************!*\
  !*** ./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ecsNote_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_entityInspect_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editMap_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_sideBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************!*\
  !*** ./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_toolBar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************!*\
  !*** ./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_footer_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************!*\
  !*** ./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************!*\
  !*** ./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************!*\
  !*** ./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableColor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************!*\
  !*** ./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editableText_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=template&id=03d324d6& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", [
        _c(
          "div",
          { staticClass: "cwrapper_component-header" },
          [
            _c(
              "div",
              {
                on: {
                  click: function ($event) {
                    _vm.visible = !_vm.visible
                  },
                },
              },
              [_vm._v(" " + _vm._s(_vm.component.typeName))]
            ),
            _vm._v(" "),
            _c("div", {
              staticClass: "cwrapper_component-arrow",
              class: { cwrapper_rotate: _vm.visible },
            }),
            _vm._v(" "),
            _c("div", { staticStyle: { width: "100%" } }),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component.clientVisible !== undefined,
                        expression: "component.clientVisible !== undefined",
                      },
                    ],
                    staticStyle: { display: "grid" },
                    attrs: {
                      squared: "",
                      size: "sm",
                      title: _vm.component.clientVisible
                        ? "Hide component"
                        : "Show component",
                    },
                    on: {
                      click: function ($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          _vm.component.type,
                          "clientVisible",
                          !_vm.component.clientVisible,
                          _vm.component.multiId
                        )
                      },
                    },
                  },
                  [
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: _vm.component.clientVisible,
                            expression: "component.clientVisible",
                          },
                        ],
                        staticClass: "g11",
                      },
                      [_c("i", { staticClass: "fas fa-eye" })]
                    ),
                    _vm._v(" "),
                    _c(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: !_vm.component.clientVisible,
                            expression: "!component.clientVisible",
                          },
                        ],
                        staticClass: "g11",
                      },
                      [_c("i", { staticClass: "fas fa-eye-slash" })]
                    ),
                  ]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._isFullscreen !== undefined,
                        expression: "component._isFullscreen !== undefined",
                      },
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "primary",
                      title: "Fullscreen",
                    },
                    on: {
                      click: function ($event) {
                        _vm.component._isFullscreen = true
                      },
                    },
                  },
                  [_c("i", { staticClass: "fas fa-expand" })]
                )
              : _vm._e(),
            _vm._v(" "),
            _vm.isAdmin
              ? _c(
                  "b-button",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.component._canDelete,
                        expression: "component._canDelete",
                      },
                    ],
                    attrs: {
                      squared: "",
                      size: "sm",
                      variant: "danger",
                      title: "Delete",
                    },
                    on: {
                      click: function ($event) {
                        return _vm.$emit(
                          "ecs-property-change",
                          "$",
                          "removeComponent",
                          _vm.component.type,
                          _vm.component.multiId
                        )
                      },
                    },
                  },
                  [_c("i", { staticClass: "fas fa-trash" })]
                )
              : _vm._e(),
          ],
          1
        ),
      ]),
      _vm._v(" "),
      _c(
        "b-collapse",
        {
          staticClass: "cwrapper_component-body",
          attrs: { visible: "" },
          model: {
            value: _vm.visible,
            callback: function ($$v) {
              _vm.visible = $$v
            },
            expression: "visible",
          },
        },
        [
          _c(_vm.componentType, {
            tag: "component",
            attrs: { component: _vm.component, isAdmin: _vm.isAdmin },
            on: {
              "ecs-property-change": function ($event) {
                return _vm.$emit(
                  "ecs-property-change",
                  arguments[0],
                  arguments[1],
                  arguments[2],
                  arguments[3]
                )
              },
            },
          }),
        ],
        1
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsBackgroundImage.vue?vue&type=template&id=5efd7016& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("span", [_vm._v("Your regular background image")])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsDoor.vue?vue&type=template&id=1862e8b5& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Type:\n    "),
        !_vm.isAdmin
          ? _c("span", [
              _vm._v("\n      " + _vm._s(this.doorTypeName) + "\n    "),
            ])
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-form-select",
              {
                staticClass: "mb-3",
                model: {
                  value: _vm.doorType,
                  callback: function ($$v) {
                    _vm.doorType = $$v
                  },
                  expression: "doorType",
                },
              },
              [
                _c("b-form-select-option", { attrs: { value: "normall" } }, [
                  _vm._v("Normal"),
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "normalr" } }, [
                  _vm._v("Normal right"),
                ]),
                _vm._v(" "),
                _c("b-form-select-option", { attrs: { value: "rotate" } }, [
                  _vm._v("Rotating"),
                ]),
              ],
              1
            )
          : _vm._e(),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        !_vm.isAdmin
          ? _c("span", [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))])
          : _vm._e(),
        _vm._v(" "),
        !_vm.isAdmin
          ? _c(
              "span",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: this.locked,
                    expression: "this.locked",
                  },
                ],
                staticStyle: { "margin-left": "0.5rem" },
              },
              [_c("i", { staticClass: "fas fa-lock" })]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.open },
                on: {
                  "update:pressed": function ($event) {
                    _vm.open = $event
                  },
                },
              },
              [_vm._v(_vm._s(_vm.open ? "Open" : "Closed"))]
            )
          : _vm._e(),
        _vm._v(" "),
        _vm.isAdmin
          ? _c(
              "b-button",
              {
                attrs: { pressed: _vm.locked },
                on: {
                  "update:pressed": function ($event) {
                    _vm.locked = $event
                  },
                },
              },
              [
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.locked,
                        expression: "locked",
                      },
                    ],
                  },
                  [_c("i", { staticClass: "fas fa-lock" })]
                ),
                _vm._v(" "),
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: !_vm.locked,
                        expression: "!locked",
                      },
                    ],
                  },
                  [_c("i", { staticClass: "fas fa-lock-open" })]
                ),
              ]
            )
          : _vm._e(),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsLight.vue?vue&type=template&id=724e011f& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      [
        _vm._v("\n    Color:\n    "),
        _c("editable-color", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.color,
            callback: function ($$v) {
              _vm.color = $$v
            },
            expression: "color",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range:\n    "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin, isNegative: "false" },
          on: { change: _vm.onChange },
          model: {
            value: _vm.range,
            callback: function ($$v) {
              _vm.range = $$v
            },
            expression: "range",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsName.vue?vue&type=template&id=3e768912& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("editable-text", {
    attrs: { readonly: !_vm.isAdmin, placeholder: "Entity name" },
    on: { change: _vm.onChange },
    model: {
      value: _vm.component.name,
      callback: function ($$v) {
        _vm.$set(_vm.component, "name", $$v)
      },
      expression: "component.name",
    },
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=template&id=2effb2f9& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("b-textarea", {
        staticClass: "hprior ecs-note_textarea",
        attrs: {
          placeholder: "Write something here...",
          readonly: !_vm.isAdmin,
        },
        on: { change: _vm.onChange },
        model: {
          value: _vm.note,
          callback: function ($$v) {
            _vm.note = $$v
          },
          expression: "note",
        },
      }),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          attrs: {
            title: "Note",
            "hide-footer": "",
            "hide-header": "",
            "dialog-class": "modal-fullscreen modal-xxl",
            "content-class": "modal-content-dark",
          },
          scopedSlots: _vm._u([
            {
              key: "modal-footer",
              fn: function () {
                return undefined
              },
              proxy: true,
            },
          ]),
          model: {
            value: _vm.component._isFullscreen,
            callback: function ($$v) {
              _vm.$set(_vm.component, "_isFullscreen", $$v)
            },
            expression: "component._isFullscreen",
          },
        },
        [
          _c("b-textarea", {
            staticClass: "hprior ecs-note_textarea",
            staticStyle: { height: "100%", resize: "none" },
            attrs: {
              placeholder: "Write something here...",
              readonly: !_vm.isAdmin,
            },
            on: { change: _vm.onChange },
            model: {
              value: _vm.note,
              callback: function ($$v) {
                _vm.note = $$v
              },
              expression: "note",
            },
          }),
        ],
        1
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e&":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPin.vue?vue&type=template&id=26d88e5e& ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm.isAdmin
        ? [
            _c(
              "div",
              { staticClass: "d-flex align-items-center" },
              [
                _vm._v("\n      Color:\n      "),
                _c("editable-color", {
                  attrs: { readonly: !_vm.isAdmin },
                  on: { change: _vm.onChange },
                  model: {
                    value: _vm.color,
                    callback: function ($$v) {
                      _vm.color = $$v
                    },
                    expression: "color",
                  },
                }),
              ],
              1
            ),
          ]
        : _vm._e(),
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPlayer.vue?vue&type=template&id=636ceea8& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Night vision:\n    "),
        _vm.isAdmin
          ? _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.nightVision,
                callback: function ($$v) {
                  _vm.nightVision = $$v
                },
                expression: "nightVision",
              },
            })
          : _c("span", { staticStyle: { "margin-left": "0.5rem" } }, [
              _vm._v(_vm._s(_vm.nightVision ? "yes" : "no")),
            ]),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticStyle: { display: "flex", "align-items": "center" } },
      [
        _vm._v("\n    Visibility Range:\n    "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin, isNegative: "false" },
          on: { change: _vm.onChange },
          model: {
            value: _vm.range,
            callback: function ($$v) {
              _vm.range = $$v
            },
            expression: "range",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPosition.vue?vue&type=template&id=e81e4da0& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    X: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.x,
            callback: function ($$v) {
              _vm.x = $$v
            },
            expression: "x",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Y: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.y,
            callback: function ($$v) {
              _vm.y = $$v
            },
            expression: "y",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsProp.vue?vue&type=template&id=d4f0f42c& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div")
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true&":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsPropTeleport.vue?vue&type=template&id=08b2d1b5&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _c("div", { staticStyle: { display: "flex", "align-items": "center" } }, [
        _vm._v("\n    Target: "),
        _c("span", { on: { click: _vm.focusTarget } }, [
          _vm._v(_vm._s(this.component.targetProp)),
        ]),
      ]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.link } }, [_vm._v("Link")]),
      _vm._v(" "),
      _c("b-button", { on: { click: _vm.use } }, [_vm._v("Use")]),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5&":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsTransform.vue?vue&type=template&id=4ee87bf5& ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Angle: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.rotation,
            callback: function ($$v) {
              _vm.rotation = $$v
            },
            expression: "rotation",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    Scale: "),
        _c("editable-number", {
          attrs: { readonly: !_vm.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.scale,
            callback: function ($$v) {
              _vm.scale = $$v
            },
            expression: "scale",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e&":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsWall.vue?vue&type=template&id=37e22e5e& ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    W: "),
        _c("editable-number", {
          attrs: { readonly: !this.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.w,
            callback: function ($$v) {
              _vm.w = $$v
            },
            expression: "w",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex align-items-center" },
      [
        _vm._v("\n    H: "),
        _c("editable-number", {
          attrs: { readonly: !this.isAdmin },
          on: { change: _vm.onChange },
          model: {
            value: _vm.h,
            callback: function ($$v) {
              _vm.h = $$v
            },
            expression: "h",
          },
        }),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=template&id=c407dbfa& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      directives: [
        {
          name: "show",
          rawName: "v-show",
          value: _vm.data.components.length > 0,
          expression: "data.components.length > 0",
        },
      ],
    },
    [
      _c(
        "div",
        { staticClass: "entity-inspect_component-btn-header" },
        [
          _vm.world.isMaster
            ? _c(
                "b-dropdown",
                {
                  attrs: { "toggle-class": "rounded-0", variant: "success" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "button-content",
                        fn: function () {
                          return [_c("i", { staticClass: "fas fa-plus" })]
                        },
                        proxy: true,
                      },
                    ],
                    null,
                    false,
                    1774554641
                  ),
                },
                [
                  _vm._v(" "),
                  _vm._l(_vm.data.addable, function (x) {
                    return _c(
                      "b-dropdown-item",
                      {
                        key: x.type,
                        on: {
                          click: function ($event) {
                            return _vm.emitSpecial("addComponent", x.type)
                          },
                        },
                      },
                      [_vm._v("\n        " + _vm._s(x.name) + "\n      ")]
                    )
                  }),
                ],
                2
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  staticStyle: { display: "grid" },
                  attrs: {
                    squared: "",
                    title: _vm.data.hidden ? "Show entity" : "Hide entity",
                  },
                  on: {
                    click: function ($event) {
                      return _vm.emitSpecial("hidden", !_vm.data.hidden)
                    },
                  },
                },
                [
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.data.hidden ? "visible" : "hidden",
                      },
                    },
                    [_c("i", { staticClass: "fas fa-eye-slash" })]
                  ),
                  _vm._v(" "),
                  _c(
                    "div",
                    {
                      staticClass: "g11",
                      style: {
                        visibility: _vm.data.hidden ? "hidden" : "visible",
                      },
                    },
                    [_c("i", { staticClass: "fas fa-eye" })]
                  ),
                ]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  attrs: {
                    variant: "danger",
                    title: "Delete entity",
                    squared: "",
                  },
                  on: {
                    click: function ($event) {
                      return _vm.emitSpecial("delete")
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-trash" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-button",
                {
                  attrs: {
                    variand: "danger",
                    title: "Forget entity",
                    squared: "",
                  },
                  on: {
                    click: function ($event) {
                      return _vm.emitSpecial("forget")
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-eraser" })]
              )
            : _vm._e(),
        ],
        1
      ),
      _vm._v(" "),
      _vm._l(_vm.data.components, function (comp) {
        return _c("ecs-component-wrapper", {
          key: comp.type + (comp.multiId || ""),
          attrs: { component: comp, isAdmin: _vm.world.isMaster },
          on: {
            "ecs-property-change": function ($event) {
              return _vm.onEcsPropertyChange(
                arguments[0],
                arguments[1],
                arguments[2],
                arguments[3]
              )
            },
          },
        })
      }),
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e&":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/creationOptions.vue?vue&type=template&id=5d73769e& ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm.visible
    ? _c("section", [
        _c(
          "div",
          { staticStyle: { display: "flex", "align-items": "center" } },
          [
            _vm._v("\n    Create once:\n    "),
            _c("b-form-checkbox", {
              on: { input: _vm.onChange },
              model: {
                value: _vm.exitAfterCreation,
                callback: function ($$v) {
                  _vm.exitAfterCreation = $$v
                },
                expression: "exitAfterCreation",
              },
            }),
          ],
          1
        ),
      ])
    : _vm._e()
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=template&id=53b46051& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "edit-map_game" },
    [
      _c("tool-bar", { attrs: { world: _vm.world } }),
      _vm._v(" "),
      _c("div", {
        staticStyle: {
          width: "100%",
          height: "calc(100vh - var(--topbar-height))",
        },
        attrs: { id: "canvas-container" },
      }),
      _vm._v(" "),
      _c("side-bar", { attrs: { world: _vm.world } }),
      _vm._v(" "),
      !_vm.world.isMaster
        ? _c("reconnection-modal", { attrs: { world: _vm.world } })
        : _vm._e(),
      _vm._v(" "),
      _c("a", {
        staticStyle: { display: "none" },
        attrs: { id: "hidden-download-link" },
      }),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/gridEdit.vue?vue&type=template&id=69e6e221& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    [
      _vm._v("\n  Type:\n  "),
      _c(
        "b-radio-group",
        {
          attrs: { id: "grid-type-radio", buttons: "" },
          model: {
            value: _vm.grid.type,
            callback: function ($$v) {
              _vm.$set(_vm.grid, "type", $$v)
            },
            expression: "grid.type",
          },
        },
        [
          _c("b-radio", { attrs: { value: "none" } }, [
            _c("i", { staticClass: "fas fa-border-none" }),
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "square" } }, [
            _c("i", { staticClass: "far fa-square" }),
          ]),
          _vm._v(" "),
          _c("b-radio", { attrs: { value: "hex" } }, [_c("hexagon-icon")], 1),
        ],
        1
      ),
      _vm._v(" "),
      _vm.grid.type !== "none"
        ? _c(
            "div",
            [
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Unit:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: { size: "sm" },
                      model: {
                        value: _vm.grid.unit,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "unit", $$v)
                        },
                        expression: "grid.unit",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Size:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "10",
                        max: "512",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.size,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "size", $$v)
                        },
                        expression: "grid.size",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "10", max: "512" },
                model: {
                  value: _vm.grid.size,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "size", $$v)
                  },
                  expression: "grid.size",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", [_vm._v("Xoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.offX,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "offX", $$v)
                        },
                        expression: "grid.offX",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offX,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "offX", $$v)
                  },
                  expression: "grid.offX",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Yoffset:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.offY,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "offY", $$v)
                        },
                        expression: "grid.offY",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.offY,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "offY", $$v)
                  },
                  expression: "grid.offY",
                },
              }),
              _vm._v("\n\n    Color: " + _vm._s(_vm.grid.color) + "\n    "),
              _c("b-input", {
                attrs: { type: "color" },
                model: {
                  value: _vm.grid.color,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "color", $$v)
                  },
                  expression: "grid.color",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Opacity:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "0",
                        max: "1",
                        step: "0.001",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.opacity,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "opacity", $$v)
                        },
                        expression: "grid.opacity",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "0", max: "1", step: "0.001" },
                model: {
                  value: _vm.grid.opacity,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "opacity", $$v)
                  },
                  expression: "grid.opacity",
                },
              }),
              _vm._v(" "),
              _c("div", { staticClass: "d-flex flex-row align-items-center" }, [
                _c("div", {}, [_vm._v("Thickness:")]),
                _vm._v(" "),
                _c(
                  "div",
                  { staticClass: "p-2" },
                  [
                    _c("b-input", {
                      attrs: {
                        type: "number",
                        min: "1",
                        max: "200",
                        size: "sm",
                      },
                      model: {
                        value: _vm.grid.thick,
                        callback: function ($$v) {
                          _vm.$set(_vm.grid, "thick", $$v)
                        },
                        expression: "grid.thick",
                      },
                    }),
                  ],
                  1
                ),
              ]),
              _vm._v(" "),
              _c("b-input", {
                attrs: { type: "range", min: "1", max: "200" },
                model: {
                  value: _vm.grid.thick,
                  callback: function ($$v) {
                    _vm.$set(_vm.grid, "thick", $$v)
                  },
                  expression: "grid.thick",
                },
              }),
            ],
            1
          )
        : _vm._e(),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/lightSettingsEdit.vue?vue&type=template&id=52a50522& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "px-3 py-2" }, [
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Light:")]),
        _vm._v(" "),
        _c("b-input", {
          attrs: { type: "color", readonly: !_vm.world.isMaster },
          on: { change: _vm.onAmbientLightChange },
          model: {
            value: _vm.ambientLight,
            callback: function ($$v) {
              _vm.ambientLight = $$v
            },
            expression: "ambientLight",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Needs light:")]),
        _vm._v(" "),
        _c("b-form-checkbox", {
          attrs: { readonly: !_vm.world.isMaster },
          on: { input: _vm.onAmbientLightChange },
          model: {
            value: _vm.needsLight,
            callback: function ($$v) {
              _vm.needsLight = $$v
            },
            expression: "needsLight",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Vision type:")]),
        _vm._v(" "),
        _c(
          "b-button",
          {
            attrs: {
              pressed: _vm.roleplayVision,
              readonly: !_vm.world.isMaster,
            },
            on: {
              "update:pressed": function ($event) {
                _vm.roleplayVision = $event
              },
            },
          },
          [
            _vm._v(
              "\n      " +
                _vm._s(_vm.roleplayVision ? "Roleplayer" : "Master") +
                "\n    "
            ),
          ]
        ),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "d-flex flex-row align-items-center" },
      [
        _c("div", {}, [_vm._v("Background:")]),
        _vm._v(" "),
        _c("b-input", {
          attrs: { type: "color", readonly: !_vm.world.isMaster },
          on: { change: _vm.onAmbientLightChange },
          model: {
            value: _vm.background,
            callback: function ($$v) {
              _vm.background = $$v
            },
            expression: "background",
          },
        }),
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      [
        _c("b-button", { on: { click: _vm.onLightSettingsReset } }, [
          _vm._v("Reset"),
        ]),
      ],
      1
    ),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b&":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/reconnectionModal.vue?vue&type=template&id=4d4c0f7b& ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    {
      attrs: {
        "no-close-on-backdrop": "",
        "no-close-on-esc": "",
        "hide-header-close": "",
        "header-bg-variant": "dark",
        "header-text-variant": "light",
        "header-class": "border-bottom-0",
        "body-bg-variant": "dark",
        "body-text-variant": "light",
        "footer-bg-variant": "dark",
        "footer-text-variant": "light",
        "footer-class": "border-top-0",
        title: "Connecting...",
      },
      scopedSlots: _vm._u([
        {
          key: "modal-footer",
          fn: function () {
            return [
              _c(
                "b-button",
                {
                  attrs: { size: "sm", variant: "outline-secondary" },
                  on: {
                    click: function ($event) {
                      return _vm.stop()
                    },
                  },
                },
                [_vm._v("\n      Cancel\n    ")]
              ),
            ]
          },
          proxy: true,
        },
      ]),
      model: {
        value: _vm.shouldBeShown,
        callback: function ($$v) {
          _vm.shouldBeShown = $$v
        },
        expression: "shouldBeShown",
      },
    },
    [_vm._v("\n  " + _vm._s(_vm.bodyMessage) + "\n\n  ")]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=template&id=075598ca& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-sidebar",
    {
      attrs: {
        id: "sidebar-right",
        title: "Sidebar",
        "bg-variant": "dark",
        "text-variant": "light",
        right: "",
        visible: "",
        "no-header": "",
        shadow: "",
        "sidebar-class": "under-navbar",
      },
      scopedSlots: _vm._u([
        {
          key: "footer",
          fn: function () {
            return [
              _c("div", { staticClass: "sidebar-footer" }, [
                _vm._v("\n      " + _vm._s(_vm.trackerCount) + "\n      "),
                _c("div", { staticStyle: { "margin-left": "0.2rem" } }, [
                  _c("i", { staticClass: "fas fa-server" }),
                ]),
                _vm._v("\n      " + _vm._s(_vm.connectionCount) + "\n      "),
                _c(
                  "div",
                  {
                    class: { rotate: _vm.connectionBuffering },
                    staticStyle: { "margin-left": "0.2rem" },
                  },
                  [_c("i", { staticClass: "fas fa-sync-alt" })]
                ),
              ]),
            ]
          },
          proxy: true,
        },
      ]),
    },
    [
      _c("grid-edit", {
        directives: [
          {
            name: "show",
            rawName: "v-show",
            value: _vm.tool === "grid",
            expression: "tool === 'grid'",
          },
        ],
        staticClass: "px-3 py-2",
        attrs: { world: _vm.world },
      }),
      _vm._v(" "),
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.tool === "inspect",
              expression: "tool === 'inspect'",
            },
          ],
        },
        [_c("entity-inspect", { attrs: { world: _vm.world } })],
        1
      ),
      _vm._v(" "),
      _c("light-settings-edit", {
        directives: [
          {
            name: "show",
            rawName: "v-show",
            value: _vm.tool === "light",
            expression: "tool === 'light'",
          },
        ],
        attrs: { world: _vm.world },
      }),
      _vm._v(" "),
      _c("creation-options", {
        staticClass: "px-3 py-2",
        attrs: { world: _vm.world },
      }),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c&":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=template&id=fde8e78c& ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-button-toolbar",
    {
      staticClass: "bg-dark",
      staticStyle: {
        width: "100%",
        height: "var(--topbar-height)",
        "z-index": "1000",
      },
      attrs: { type: "dark", variant: "info", justify: "" },
    },
    [
      _vm.world.isMaster
        ? _c(
            "b-button-group",
            { staticStyle: { "margin-right": "2rem" } },
            [
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn plz-prioritize undo-redo-btn",
                  attrs: {
                    title: "Undo",
                    squared: "",
                    disabled: !this.canUndo,
                  },
                  on: {
                    click: function ($event) {
                      return _vm.undo()
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-undo" })]
              ),
              _vm._v(" "),
              _c(
                "b-button",
                {
                  staticClass: "toolbar-btn plz-prioritize undo-redo-btn",
                  attrs: {
                    title: "Redo",
                    squared: "",
                    disabled: !this.canRedo,
                  },
                  on: {
                    click: function ($event) {
                      return _vm.redo()
                    },
                  },
                },
                [_c("i", { staticClass: "fas fa-redo" })]
              ),
            ],
            1
          )
        : _vm._e(),
      _vm._v(" "),
      _c(
        "b-radio-group",
        {
          attrs: { buttons: "" },
          model: {
            value: _vm.tool,
            callback: function ($$v) {
              _vm.tool = $$v
            },
            expression: "tool",
          },
        },
        [
          _c(
            "b-radio",
            {
              ref: "radioinspect",
              class: {
                "toolbar-btn": this.backgroundLocked,
                "btn-warning": !this.backgroundLocked,
              },
              attrs: { title: "Inspect", value: "inspect", squared: "" },
            },
            [_c("i", { staticClass: "fas fa-hand-pointer" })]
          ),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Add wall",
                    value: "create_wall",
                    squared: "",
                  },
                },
                [_c("wall-icon")],
                1
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Add prop",
                    value: "create_prop",
                    squared: "",
                  },
                },
                [_c("i", { staticClass: "fas fa-couch" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Add pin", value: "create_pin", squared: "" },
                },
                [_c("i", { staticClass: "fas fa-thumbtack" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Edit grid", value: "grid", squared: "" },
                },
                [_c("i", { staticClass: "fas fa-border-all" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: {
                    title: "Light settings",
                    value: "light",
                    squared: "",
                  },
                },
                [_c("i", { staticClass: "fas fa-lightbulb" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _vm.world.isMaster
            ? _c(
                "b-radio",
                {
                  staticClass: "toolbar-btn plz-prioritize",
                  attrs: { title: "Measure", value: "measure", squared: "" },
                },
                [_c("i", { staticClass: "fas fa-ruler" })]
              )
            : _vm._e(),
          _vm._v(" "),
          _c(
            "b-radio",
            {
              staticClass: "toolbar-btn plz-prioritize",
              attrs: {
                title: "Mouse trail",
                value: "mouse_trail",
                squared: "",
              },
            },
            [_c("mouse-trail-icon")],
            1
          ),
        ],
        1
      ),
      _vm._v(" "),
      _vm.world.isMaster
        ? _c(
            "b-button",
            {
              staticClass: "btn-xs",
              attrs: { title: "Export map", squared: "", variant: "success" },
              on: {
                click: function ($event) {
                  return _vm.world.events.emit("export_map")
                },
              },
            },
            [_c("i", { staticClass: "fas fa-download" })]
          )
        : _vm._e(),
      _vm._v(" "),
      _c("div", { staticStyle: { flex: "1 1 0" } }),
      _vm._v(" "),
      _c(
        "b-button",
        {
          directives: [
            {
              name: "b-toggle",
              rawName: "v-b-toggle.sidebar-right",
              modifiers: { "sidebar-right": true },
            },
          ],
          staticClass: "btn-xs",
          attrs: { title: "Toggle sidebar", variant: "warning" },
        },
        [_c("i", { staticClass: "fas fa-angle-double-right" })]
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff&":
/*!*****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=template&id=539f2bff& ***!
  \*****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm._m(0)
}
var staticRenderFns = [
  function () {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "footer" }, [
      _c("div", { staticClass: "footer_credits" }, [
        _c("div", { staticClass: "links" }, [
          _c("a", {
            staticClass: "footer_github",
            attrs: {
              href: "https://github.com/SnowyCoder/dndme",
              target: "_blank",
            },
          }),
        ]),
        _vm._v(" "),
        _c("small", { staticStyle: { color: "lightgray" } }, [
          _vm._v("\n      Developed by "),
          _c(
            "a",
            {
              staticClass: "footer_profile",
              attrs: {
                href: "https://github.com/SnowyCoder",
                target: "_blank",
              },
            },
            [_vm._v("Rossi Lorenzo")]
          ),
          _vm._v(" /\n      Drawings by "),
          _c("span", { staticStyle: { color: "white" } }, [
            _vm._v("Giorgia Nizzoli"),
          ]),
        ]),
      ]),
    ])
  },
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a&":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=template&id=d8550b4a& ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      staticClass:
        "phase-container text-center flex-column align-items-center justify-content-center row",
      staticStyle: { height: "100vh", margin: "0" },
    },
    [
      _vm._m(0),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "warning", size: "lg" },
              on: { click: _vm.onCreateMap },
            },
            [_vm._v("Create Map")]
          ),
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "div",
        [
          _c(
            "b-button",
            {
              staticClass: "btn-entry",
              attrs: { variant: "info", size: "lg" },
              on: { click: _vm.onEditMap },
            },
            [_vm._v("Edit Map")]
          ),
        ],
        1
      ),
      _vm._v(" "),
      _c(
        "b-modal",
        {
          ref: "map-load-modal",
          attrs: { "hide-footer": "", title: "Gimme the map" },
        },
        [
          _c("b-form-file", {
            attrs: {
              state: Boolean(_vm.file),
              placeholder: "Choose a file or drop it here...",
              "drop-placeholder": "Drop file here...",
              accept: ".dndm",
            },
            model: {
              value: _vm.file,
              callback: function ($$v) {
                _vm.file = $$v
              },
              expression: "file",
            },
          }),
        ],
        1
      ),
      _vm._v(" "),
      _c("footer-component"),
    ],
    1
  )
}
var staticRenderFns = [
  function () {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("div", { staticClass: "text-white" }, [
      _c(
        "p",
        {
          staticClass: "title",
          staticStyle: { "font-size": "3.5em", margin: "0" },
        },
        [_vm._v("DRAW&DICE")]
      ),
      _vm._v(" "),
      _c("p", { staticStyle: { "font-size": "2em" } }, [
        _vm._v("Dnd made ez!"),
      ]),
    ])
  },
]
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c&":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/mapInput.vue?vue&type=template&id=7e9d406c& ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "b-modal",
    { ref: "my-modal", attrs: { "hide-footer": "", title: "Gimme the map" } },
    [
      _c("div", { staticClass: "d-block text-center" }, [
        _c("h3", [_vm._v("Insert map to load")]),
      ]),
      _vm._v(" "),
      _c(
        "b-button",
        {
          staticClass: "mt-3",
          attrs: { variant: "outline-danger", block: "" },
          on: { click: _vm.hideModal },
        },
        [_vm._v("Cancel")]
      ),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/hexagonIcon.vue?vue&type=template&id=7c718f10& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-hexagon fa-w-18",
      attrs: {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 576 512",
      },
    },
    [
      _c("path", {
        attrs: {
          fill: "currentColor",
          d: "M441.5 39.8C432.9 25.1 417.1 16 400 16H176c-17.1 0-32.9 9.1-41.5 23.8l-112 192c-8.7 14.9-8.7 33.4 0 48.4l112 192c8.6 14.7 24.4 23.8 41.5 23.8h224c17.1 0 32.9-9.1 41.5-23.8l112-192c8.7-14.9 8.7-33.4 0-48.4l-112-192zM400 448H176L64 256 176 64h224l112 192-112 192z",
        },
      }),
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73&":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/mouseTrailIcon.vue?vue&type=template&id=5673bb73& ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-w-16",
      attrs: {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 217.46 200.1",
      },
    },
    [
      _c("g", [
        _c("circle", {
          staticStyle: { fill: "#fff" },
          attrs: { cx: "37.78", cy: "38.23", r: "37.78" },
        }),
        _vm._v(" "),
        _c("path", {
          staticStyle: { fill: "#fff" },
          attrs: {
            d: "M236.41,291h2.24l2,0,3.91.09q3.88.11,7.71.27c5.12.22,10.2.5,15.29.85,10.17.69,20.33,1.62,30.55,2.88S318.6,297.92,329,300a258,258,0,0,1,31.7,8.25,155.6,155.6,0,0,1,16.5,6.55,101,101,0,0,1,17.24,10.1,72.14,72.14,0,0,1,8.76,7.59c1.44,1.48,2.85,3.07,4.22,4.79a56.73,56.73,0,0,1,3.88,5.58,50.71,50.71,0,0,1,5.69,13.3,49.09,49.09,0,0,1,1.57,14.24c0,1.14-.12,2.27-.24,3.37l-.08.82-.1.69-.21,1.35c-.25,1.76-.67,3.65-1.07,5.49a59.86,59.86,0,0,1-4.11,11.58,49.21,49.21,0,0,1-7.37,11.21,48.09,48.09,0,0,1-10,8.65,53.58,53.58,0,0,1-10.59,5.28,67.38,67.38,0,0,1-9.94,2.8,105.43,105.43,0,0,1-17.53,1.87c-10.87.3-20.64-.37-30-.78a243.31,243.31,0,0,0-26.81-.15c-8.45.58-16.36,2-23.14,5a44,44,0,0,0-4.87,2.53c-.78.47-1.53,1-2.28,1.49l-1.1.81c-.37.26-.78.61-1.17.91a40.18,40.18,0,0,0-7.73,7.78,17.34,17.34,0,0,0-2.11,3.79,9.67,9.67,0,0,0-.74,3.57c-.08,2.41,1.1,5.44,3.4,8.45a43.34,43.34,0,0,0,9,8.48,94,94,0,0,0,11.54,7.11,180.1,180.1,0,0,0,26,10.92,272.23,272.23,0,0,0,27.62,7.71A272.74,272.74,0,0,1,306,488.53a186.62,186.62,0,0,1-28.77-6.27A106.25,106.25,0,0,1,263,476.77a58.87,58.87,0,0,1-13.75-8.86,36.86,36.86,0,0,1-6.09-6.93,28.73,28.73,0,0,1-4.13-9.4,28.36,28.36,0,0,1-.46-10.69,36.66,36.66,0,0,1,2.79-9.65A60.59,60.59,0,0,1,251,416.37c.47-.53.89-1.06,1.41-1.59l1.55-1.61c1.06-1.05,2.16-2.07,3.29-3a67.75,67.75,0,0,1,7.11-5.35A81.08,81.08,0,0,1,279.84,397a118.09,118.09,0,0,1,15.78-4.74A268.45,268.45,0,0,1,326,387.52c9.7-1.09,19.1-2,27.28-3.57A62.06,62.06,0,0,0,364,381c2.94-1.16,4.92-2.55,5.57-3.51a1.86,1.86,0,0,0,.42-1.12c0-.29,0-.58,0-1.08l0-2.13c0-.53,0-1-.07-1.61l0-.44v-.2l0-.07a.85.85,0,0,0-.13-.22c-.2-.22-.4-.1-.53.09s-.25.39-.46.39c-.4,0-1.61-.8-3.76-1.75a57.31,57.31,0,0,0-8.31-2.89,103.35,103.35,0,0,0-10.79-2.29,203.75,203.75,0,0,0-24.7-2.28c-8.6-.32-17.43-.27-26.33.06s-17.88.91-26.84,1.72q-6.74.62-13.42,1.39l-6.64.82-3.25.45-1.58.23-.76.11c-.22,0-.52.08-.59.11Z",
            transform: "translate(-201.13 -290.98)",
          },
        }),
      ]),
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c&":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/icons/wallIcon.vue?vue&type=template&id=15dccc9c& ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "svg",
    {
      staticClass: "svg-inline--fa fa-w-16",
      attrs: {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 234.809 234.809",
        "xml:space": "preserve",
      },
    },
    [
      _c("path", {
        attrs: {
          fill: "currentColor",
          d: "M7.5,53.988c-4.135,0-7.5-3.364-7.5-7.5V20.571c0-4.136,3.365-7.5,7.5-7.5h94.904c4.135,0,7.5,3.364,7.5,7.5v25.917\n    c0,4.136-3.365,7.5-7.5,7.5H7.5z M227.309,53.988c4.135,0,7.5-3.364,7.5-7.5V20.571c0-4.136-3.365-7.5-7.5-7.5h-94.904\n    c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,109.904c4.135,0,7.5-3.365,7.5-7.5V76.488\n    c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.135,3.365,7.5,7.5,7.5H164.856z M39.952,109.904\n    c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5\n    H39.952z M226.761,109.904c4.136,0,7.5-3.364,7.5-7.5V76.488c0-4.136-3.364-7.5-7.5-7.5h-31.904c-4.136,0-7.5,3.364-7.5,7.5v25.917\n    c0,4.136,3.364,7.5,7.5,7.5H226.761z M102.404,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.135-3.365-7.5-7.5-7.5H7.5\n    c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H102.404z M227.309,165.821c4.135,0,7.5-3.364,7.5-7.5v-25.917\n    c0-4.135-3.365-7.5-7.5-7.5h-94.904c-4.135,0-7.5,3.365-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5H227.309z M164.856,221.738\n    c4.135,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.365-7.5-7.5-7.5H69.952c-4.135,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.365,7.5,7.5,7.5\n    H164.856z M39.952,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5H8.048c-4.136,0-7.5,3.364-7.5,7.5v25.917\n    c0,4.136,3.364,7.5,7.5,7.5H39.952z M226.761,221.738c4.136,0,7.5-3.364,7.5-7.5v-25.917c0-4.136-3.364-7.5-7.5-7.5h-31.904\n    c-4.136,0-7.5,3.364-7.5,7.5v25.917c0,4.136,3.364,7.5,7.5,7.5H226.761z",
        },
      }),
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=template&id=b10af496& ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", [
    _c("div", { staticClass: "sloading-container" }, [
      _c("h1", { staticClass: "sloading-title" }, [_vm._v("DRAW&DICE")]),
      _vm._v(" "),
      _c("h2", [_vm._v(_vm._s(_vm.message))]),
      _vm._v(" "),
      _c("h5", [_vm._v("Loading")]),
    ]),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=template&id=b8ad6e14& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("input", {
    staticClass: "util_ecolor",
    attrs: {
      type: "color",
      readonly: _vm.readonly,
      placeholder: _vm.placeholder,
    },
    domProps: { value: _vm.value },
    on: {
      input: function ($event) {
        return _vm.$emit("input", $event.target.value)
      },
      change: function ($event) {
        return _vm.$emit("change")
      },
    },
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableNumber.vue?vue&type=template&id=6fe10046& ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("editable-text", {
    attrs: {
      value: _vm.value,
      readonly: _vm.readonly,
      placeholder: _vm.placeholder,
      filter: _vm.filter,
    },
    on: {
      change: function ($event) {
        _vm.$emit("change", parseFloat($event))
      },
      input: function ($event) {
        return _vm.$emit("input", $event)
      },
    },
  })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c&":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=template&id=c769652c& ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "util_editable-text_div" }, [
    _c("input", {
      staticClass: "form-control-plaintext hprior util_editable-text_input",
      attrs: {
        type: "text",
        readonly: _vm.readonly,
        placeholder: _vm.placeholder,
      },
      domProps: { value: _vm.value },
      on: {
        input: function ($event) {
          return _vm.onEvent("input", $event)
        },
        change: function ($event) {
          return _vm.onEvent("change", $event)
        },
      },
    }),
    _vm._v(" "),
    _c("span", { staticClass: "util_editable-text_border" }),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compWrapper.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/compWrapper.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("6a032da6", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ecsNote.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/ecsNote.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("1c5d82b3", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./entityInspect.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/ecs/entityInspect.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("34a434f2", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editMap.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/editMap.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("7a2423ac", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/sideBar.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("14f2376c", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolBar.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/edit/toolBar.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("0f7a11e8", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footer.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/footer.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("349ead5c", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/home/home.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("3421859f", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/loading/loading.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("13877244", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableColor.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableColor.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("d6181bf8", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editableText.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/ui/util/editableText.vue?vue&type=style&index=0&lang=css&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("ed5fdd00", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/public/style.css":
/*!******************************!*\
  !*** ./src/public/style.css ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/public/style.css");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = (__webpack_require__(/*! !../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js")["default"])
var update = add("511f390e", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "?6e84":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?2581":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./src/public/spritesheets/props.json":
/*!********************************************!*\
  !*** ./src/public/spritesheets/props.json ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"frames":{"ladder_down.png":{"frame":{"x":0,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}},"ladder_up.png":{"frame":{"x":64,"y":0,"w":64,"h":64},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":64,"h":64},"sourceSize":{"w":64,"h":64}}},"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"1.0","image":"props.png","format":"RGBA8888","size":{"w":128,"h":64},"scale":"1","smartupdate":"$TexturePacker:SmartUpdate:e4f96f20e593ddd42c4cf1d50d2d8f26:7e60e2d391e00eeed0a16270f3c0f13d:f4c39b94f5b79b4c461da96ae5609d50$"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkdrawndice"] = self["webpackChunkdrawndice"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_fortawesome_fontawesome-free_js_all_js-node_modules_bootstrap-vue_esm_in-b7fb82"], () => (__webpack_require__("./src/app/index.ts")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQztTQUNKO1FBRUQsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBRWxCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQzFCLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUV0QyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDN0IsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVwQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUMxQixJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7WUFFdEMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzdCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUM3QixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBRTlDLElBQUksTUFBTSxHQUFHLElBQUksbURBQVUsQ0FDdkIsQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3pC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QUFHLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDMUIsR0FBRyxDQUFDLFdBQVcsR0FBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFHdEQsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0IsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM3QixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRXJCLDBCQUEwQjtJQUMxQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMs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QUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQVcsRUFBRSxNQUFZO1FBQy9CLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQWMsRUFBRSxNQUFZO1FBQy9CLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7UUFDakMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7SUFDckMsQ0FBQztJQUVELEtBQUssQ0FBQyxFQUFVLEVBQUUsRUFBVSxFQUFFLE1BQVk7UUFDdEMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDM0IsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQVc7UUFDaEIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQzNCLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFD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Ozs7QUNBakIsQ0FBQyxpRUFBZSxzTUFBRyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDQTFCLENBQUMsaUVBQWUsZ01BQUcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0FyQixDQUFDLGlFQUFlLCtMQUFHLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBZCxDQUFDLGlFQUFlLHFNQUFHLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBbkIsQ0FBQyxpRUFBZSxzTUFBRyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDQXRCLENBQUMsaUVBQWUsb01BQUcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBakcsQ0FBQyxpRUFBZSxzSUFBRyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Q0E7V0FDQTtXQUNBO1dBQ0EsTUFBTSxxQkFBcUI7V0FDM0I7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7Ozs7O1VFaERBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/OTU1OSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZT9jZjI3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlPzNjMTIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzFiYmUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlPzAyYTciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlPzQyNTMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlP2EzNDkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlPzA5YTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2M1Y2YiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzcwOTQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/YWQ3NiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL2ltYWdlcy9HaXRIdWItTWFyay1MaWdodC0zMnB4LnBuZyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL2ltYWdlcy9wcm9wcy5wbmciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL3B1YmxpYy9pbWFnZXMvdHJhaWwucG5nIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZT9hOTBhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/NWYxMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZT8wYjg3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZT9kZmFhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05hbWUudnVlPzc5MGUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/OWI1NiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlPzQ2N2MiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZT8yNTQzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZT81MGM5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlP2MyMDYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZT8wYjk4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWU/MmQ5ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZT8zMTI0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlP2U3YmIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2NyZWF0aW9uT3B0aW9ucy52dWU/YzcwMCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWU/YWI2ZCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlPzIxY2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT81ZGZjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/OTYwNyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvc2lkZUJhci52dWU/ZTAzOSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWU/NGM3YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/NjE3NSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/YzZhMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL2hleGFnb25JY29uLnZ1ZT8xNDJiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvbW91c2VUcmFpbEljb24udnVlPzE4N2UiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy93YWxsSWNvbi52dWU/YzQ4OCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWU/MWMxZiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWU/NDljZiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlP2VjY2QiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/MGY2NyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL1BJWEkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9hc3NldHNMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvY29tcG9uZW50LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL2Vjc1V0aWwudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvaW50ZXJhY3Rpb24udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvcmVzb3VyY2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3RvcmFnZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1HcmFwaC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svYmlnU3RvcmFnZVN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svbGlua1JlbG9jYXRpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL25hbWVBc0xhYmVsU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9uZXR3b3JrU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlHcmFwaGljU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9waXhpTGF5ZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlNZWFzdXJlU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay9waXhpUmVjdFNlbGVjdGlvblN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay90ZXh0U3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvYmFjay92aXNpYmlsaXR5QXdhcmVTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrL3Zpc2liaWxpdHlTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9iYWNrZ3JvdW5kSW1hZ2VTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRIaXN0b3J5U3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9jb21tYW5kU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9jb21wb25lbnRFZGl0LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9kZXNwYXduQ29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvZXZlbnRDb21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29tbWFuZC9ub25lQ29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvcmVzb3VyY2VFZGl0Q29tbWFuZC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2NvbW1hbmQvc3Bhd25Db21tYW5kLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvY29weVBhc3RlU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvZG9vclN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL2dyaWRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL21vdXNlVHJhaWxTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9waW5TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3Mvc3lzdGVtcy9wbGF5ZXJMb2NhdG9yLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvcGxheWVyU3lzdGVtLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3N5c3RlbXMvcHJvcFN5c3RlbS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy9zeXN0ZW1zL3dhbGxTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9lY3MvdG9vbHMvaW5zcGVjdC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2Vjcy90b29scy9tZWFzdXJlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL3JlY3Rhbmd1bGFyU2VsZWN0aW9uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL3Rvb2xUeXBlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3Rvb2xzL3V0aWxzLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZWNzL3dvcmxkLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2FtZS9ncmlkLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2FtZS9wb2ludERCLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9hYWJiLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvY29sbGlzaW9uLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvZHluYW1pY1RyZWUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9nZW9tZXRyeS9saW5lLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvb2JiLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvZ2VvbWV0cnkvdmlzaWJpbGl0eVBvbHlnb24udHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9ncmFwaGljcy50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL2luZGV4LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbWFwL2dhbWVNYXAudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9tYXAvbWFwTGV2ZWwudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9uZXR3b3JrL3dlYnRvcnJlbnQvV1RDaGFubmVsLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbmV0d29yay93ZWJ0b3JyZW50L1dURGlzY292ZXJ5LnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvbmV0d29yay93ZWJ0b3JyZW50L1dlYlRvcnJlbnRUcmFja2VyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2UvZWNzUGhhc2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2NsaWVudEVkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC9waGFzZS9lZGl0TWFwL2VkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvaG9zdEVkaXRNYXBQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2VkaXRNYXAvbGF5ZXJPcmRlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2hvbWVQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL2xvYWRpbmdQaGFzZS50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3BoYXNlL3BoYXNlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvcGhhc2Uvc3RhZ2UudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS92dWUudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL1VuaW9uRmluZFNldC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvYXJyYXkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2JpbmFyeUhlYXAudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2JpdFNldC50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvZXZlbnRFbWl0dGVyV3JhcHBlci50cyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3V0aWwvZ2VvbWV0cnkudHMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91dGlsL2pzb2JqLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9rMmRUcmVlLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9waXhpLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdXRpbC9zYWZlRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOYW1lLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1BsYXllci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvY3JlYXRpb25PcHRpb25zLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvbGlnaHRTZXR0aW5nc0VkaXQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9yZWNvbm5lY3Rpb25Nb2RhbC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC90b29sQmFyLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy9oZXhhZ29uSWNvbi52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy9tb3VzZVRyYWlsSWNvbi52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy93YWxsSWNvbi52dWUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZUNvbG9yLnZ1ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZVRleHQudnVlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2NvbXBXcmFwcGVyLnZ1ZT9mYWMyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/MTNkNCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NEb29yLnZ1ZT83MjkyIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0xpZ2h0LnZ1ZT8xYjVjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc05hbWUudnVlP2Q3Y2MiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWU/ODBlMiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlP2U5OTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUGxheWVyLnZ1ZT8zMDUzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZT8zMzFjIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlP2Y1OWEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcFRlbGVwb3J0LnZ1ZT9mZGFiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWU/MTQ3YiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZT8yNzQzIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlP2ZiYWEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2NyZWF0aW9uT3B0aW9ucy52dWU/OTNiYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWU/MDZjYiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvZ3JpZEVkaXQudnVlP2E4N2IiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT9kYmNkIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/ZDE1NyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvc2lkZUJhci52dWU/NWQxOSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvdG9vbEJhci52dWU/YzRmYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Zvb3Rlci52dWU/MjgxNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvaG9tZS52dWU/ZjM0YyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL2hleGFnb25JY29uLnZ1ZT9jNGQ2Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvbW91c2VUcmFpbEljb24udnVlPzU5OTEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy93YWxsSWNvbi52dWU/NWY0MCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWU/ZDJjMyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWU/NTEzOCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlP2VlMjUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/ZDYzMCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2hvbWUvbWFwSW5wdXQudnVlPzIzODAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlPzllOWMiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT80MjI0Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc0Rvb3IudnVlPzFjMWEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTGlnaHQudnVlPzkwMDAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWU/NWU5ZSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZT9hZGQ3Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1Bpbi52dWU/MmI4NSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQbGF5ZXIudnVlPzNmODgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUG9zaXRpb24udnVlP2RhMmEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzUHJvcC52dWU/ZDFkOCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NQcm9wVGVsZXBvcnQudnVlP2M5NDEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZWNzVHJhbnNmb3JtLnZ1ZT8yMDkxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2Vjc1dhbGwudnVlPzU2NDIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWU/MGNhMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvY3JlYXRpb25PcHRpb25zLnZ1ZT9hMzZlIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9lZGl0TWFwLnZ1ZT8yZDhiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9ncmlkRWRpdC52dWU/ZDhiMSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2VkaXQvbGlnaHRTZXR0aW5nc0VkaXQudnVlP2E5MTciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3JlY29ubmVjdGlvbk1vZGFsLnZ1ZT8zZDBhIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZT9jNjZiIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWRpdC90b29sQmFyLnZ1ZT83ZmIxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZm9vdGVyLnZ1ZT9hN2MxIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9ob21lLnZ1ZT83Nzc5Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaG9tZS9tYXBJbnB1dC52dWU/ZDgyNyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2ljb25zL2hleGFnb25JY29uLnZ1ZT8wNTQ4Iiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvaWNvbnMvbW91c2VUcmFpbEljb24udnVlP2QwMjkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9pY29ucy93YWxsSWNvbi52dWU/OTFiYyIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWU/ZjBkNiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVDb2xvci52dWU/MTlmOCIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlPzc3OTkiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/MDdhNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9jb21wV3JhcHBlci52dWU/NWYyNiIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvYXBwL3VpL2Vjcy9lY3NOb3RlLnZ1ZT85MzljIiwid2VicGFjazovL2RyYXduZGljZS8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlPzFiZmUiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlPzE3YWIiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3NpZGVCYXIudnVlPzBmZjQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlPzEwNmYiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9mb290ZXIudnVlP2I1ZGEiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlP2RlMTQiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS9sb2FkaW5nL2xvYWRpbmcudnVlP2NlMjgiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlPzA2OTAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWU/MDkyNSIsIndlYnBhY2s6Ly9kcmF3bmRpY2UvLi9zcmMvcHVibGljL3N0eWxlLmNzcz9iYjAzIiwid2VicGFjazovL2RyYXduZGljZS9pZ25vcmVkfC9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy9zaW1wbGUtcGVlci9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zfHV0aWwiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL2lnbm9yZWR8L21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3NpbXBsZS1wZWVyL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGlifHV0aWwiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL2RyYXduZGljZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vZHJhd25kaWNlL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9kcmF3bmRpY2Uvd2VicGFjay9hZnRlci1zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLmN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xcbn1cXG4uY3dyYXBwZXJfY29tcG9uZW50LWFycm93IHtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLXRvcDogMC4zZW0gc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiAwLjNlbSBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogMC4zZW0gc29saWQgI2VlZWVlZTtcXG4gIG1hcmdpbi1sZWZ0OiAwLjNlbTtcXG4gIG1hcmdpbi10b3A6IDAuMTc1ZW07XFxuICB0cmFuc2l0aW9uOiAwLjNzO1xcbn1cXG4uY3dyYXBwZXJfY29tcG9uZW50LWhlYWRlciBidXR0b246bGFzdC1jaGlsZCB7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcbi5jd3JhcHBlcl9jb21wb25lbnQtYm9keSB7XFxuICBtYXJnaW4tbGVmdDogNnB4O1xcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjNTQ1YjYyO1xcbiAgcGFkZGluZy1sZWZ0OiA2cHg7XFxuICBib3JkZXItcmFkaXVzOiAwIDAgMCA0cHg7XFxuICBtYXJnaW4tcmlnaHQ6IDEycHg7XFxufVxcbi5jd3JhcHBlcl9yb3RhdGUge1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcXG4gIHRyYW5zaXRpb246IDAuM3MgZWFzZTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUF1RUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsbUNBQUE7RUFDQSxzQ0FBQTtFQUNBLGlDQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FBQ0E7QUFFQTtFQUNBLGtCQUFBO0FBQ0E7QUFFQTtFQUNBLGdCQUFBO0VBQ0EsOEJBQUE7RUFDQSxpQkFBQTtFQUNBLHdCQUFBO0VBQ0Esa0JBQUE7QUFDQTtBQUVBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXY+XFxuICAgIDxkaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY3dyYXBwZXJfY29tcG9uZW50LWhlYWRlclxcXCI+XFxuICAgICAgICA8ZGl2IEBjbGljaz1cXFwidmlzaWJsZSA9ICF2aXNpYmxlXFxcIj4ge3sgY29tcG9uZW50LnR5cGVOYW1lIH19PC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjd3JhcHBlcl9jb21wb25lbnQtYXJyb3dcXFwiIDpjbGFzcz1cXFwie2N3cmFwcGVyX3JvdGF0ZTogdmlzaWJsZX1cXFwiID48L2Rpdj5cXG4gICAgICAgIDxkaXYgc3R5bGU9XFxcIndpZHRoOiAxMDAlXFxcIj48L2Rpdj5cXG4gICAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiBzcXVhcmVkIHNpemU9XFxcInNtXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogZ3JpZDtcXFwiXFxuICAgICAgICAgICAgICAgICAgOnRpdGxlPVxcXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZSA/ICdIaWRlIGNvbXBvbmVudCcgOiAnU2hvdyBjb21wb25lbnQnXFxcIlxcbiAgICAgICAgICAgICAgICAgIHYtc2hvdz1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGUgIT09IHVuZGVmaW5lZFxcXCJcXG4gICAgICAgICAgICAgICAgICBAY2xpY2s9XFxcIiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgY29tcG9uZW50LnR5cGUsICdjbGllbnRWaXNpYmxlJywgIWNvbXBvbmVudC5jbGllbnRWaXNpYmxlLCBjb21wb25lbnQubXVsdGlJZClcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIHYtc2hvdz1cXFwiY29tcG9uZW50LmNsaWVudFZpc2libGVcXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllXFxcIi8+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImcxMVxcXCIgdi1zaG93PVxcXCIhY29tcG9uZW50LmNsaWVudFZpc2libGVcXFwiPjxpIGNsYXNzPVxcXCJmYXMgZmEtZXllLXNsYXNoXFxcIi8+PC9kaXY+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgICAgPGItYnV0dG9uIHYtaWY9XFxcImlzQWRtaW5cXFwiIHNxdWFyZWQgc2l6ZT1cXFwic21cXFwiIHZhcmlhbnQ9XFxcInByaW1hcnlcXFwiIHRpdGxlPVxcXCJGdWxsc2NyZWVuXFxcIlxcbiAgICAgICAgICAgICAgICAgIHYtc2hvdz1cXFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW4gIT09IHVuZGVmaW5lZFxcXCIgQGNsaWNrPVxcXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiA9IHRydWVcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWV4cGFuZFxcXCIvPlxcbiAgICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJpc0FkbWluXFxcIiBzcXVhcmVkIHNpemU9XFxcInNtXFxcIiB2YXJpYW50PVxcXCJkYW5nZXJcXFwiIHRpdGxlPVxcXCJEZWxldGVcXFwiIHYtc2hvdz1cXFwiY29tcG9uZW50Ll9jYW5EZWxldGVcXFwiXFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICckJywgJ3JlbW92ZUNvbXBvbmVudCcsIGNvbXBvbmVudC50eXBlLCBjb21wb25lbnQubXVsdGlJZClcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRyYXNoXFxcIi8+XFxuICAgICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGItY29sbGFwc2Ugdi1tb2RlbD1cXFwidmlzaWJsZVxcXCIgY2xhc3M9XFxcImN3cmFwcGVyX2NvbXBvbmVudC1ib2R5XFxcIiB2aXNpYmxlPlxcbiAgICAgIDxjb21wb25lbnQgdi1iaW5kOmlzPVxcXCJjb21wb25lbnRUeXBlXFxcIiB2LWJpbmQ6Y29tcG9uZW50PVxcXCJjb21wb25lbnRcXFwiIHYtYmluZDppc0FkbWluPVxcXCJpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgdi1vbjplY3MtcHJvcGVydHktY2hhbmdlPVxcXCIkZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSlcXFwiPlxcblxcbiAgICAgIDwvY29tcG9uZW50PlxcbiAgICA8L2ItY29sbGFwc2U+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBlY3NOYW1lIGZyb20gXFxcIi4vZWNzTmFtZS52dWVcXFwiO1xcbmltcG9ydCBlY3NOb3RlIGZyb20gXFxcIi4vZWNzTm90ZS52dWVcXFwiO1xcbmltcG9ydCBlY3NQb3NpdGlvbiBmcm9tIFxcXCIuL2Vjc1Bvc2l0aW9uLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1dhbGwgZnJvbSBcXFwiLi9lY3NXYWxsLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0JhY2tncm91bmRJbWFnZSBmcm9tIFxcXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWVcXFwiO1xcbmltcG9ydCBlY3NQaW4gZnJvbSBcXFwiLi9lY3NQaW4udnVlXFxcIjtcXG5pbXBvcnQgZWNzVHJhbnNmb3JtIGZyb20gXFxcIi4vZWNzVHJhbnNmb3JtLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0xpZ2h0IGZyb20gXFxcIi4vZWNzTGlnaHQudnVlXFxcIjtcXG5pbXBvcnQgZWNzUGxheWVyIGZyb20gXFxcIi4vZWNzUGxheWVyLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc0Rvb3IgZnJvbSBcXFwiLi9lY3NEb29yLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1Byb3AgZnJvbSBcXFwiLi9lY3NQcm9wLnZ1ZVxcXCI7XFxuaW1wb3J0IGVjc1Byb3BUZWxlcG9ydCBmcm9tIFxcXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWVcXFwiO1xcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFxcXCIuLi8uLi9lY3MvY29tcG9uZW50XFxcIlxcbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7XFxuICAgIGVjc05hbWUsIGVjc05vdGUsIGVjc1Bvc2l0aW9uLCBlY3NXYWxsLCBlY3NCYWNrZ3JvdW5kSW1hZ2UsIGVjc1BpbiwgZWNzVHJhbnNmb3JtLCBlY3NMaWdodCwgZWNzUGxheWVyLCBlY3NEb29yLFxcbiAgICBlY3NQcm9wLCBlY3NQcm9wVGVsZXBvcnRcXG4gIH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0NvbXBvbmVudFdyYXBwZXIgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXFxuICBjb21wb25lbnQhOiBDb21wb25lbnQ7XFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcXG4gIGlzQWRtaW4hOiBib29sZWFuO1xcblxcbiAgdmlzaWJsZSA9IHRydWU7XFxuXFxuICBnZXQgY29tcG9uZW50VHlwZSgpOiBzdHJpbmcge1xcbiAgICByZXR1cm4gJ2Vjcy0nICsgdGhpcy5jb21wb25lbnQudHlwZS5yZXBsYWNlKCdfJywgJy0nKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5jd3JhcHBlcl9jb21wb25lbnQtaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuXFxuLmN3cmFwcGVyX2NvbXBvbmVudC1hcnJvdyB7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci10b3A6IDAuM2VtIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogMC4zZW0gc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDAuM2VtIHNvbGlkICNlZWVlZWU7XFxuICBtYXJnaW4tbGVmdDogMC4zZW07XFxuICBtYXJnaW4tdG9wOiAwLjE3NWVtO1xcbiAgdHJhbnNpdGlvbjogMC4zcztcXG59XFxuXFxuLmN3cmFwcGVyX2NvbXBvbmVudC1oZWFkZXIgYnV0dG9uOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG4uY3dyYXBwZXJfY29tcG9uZW50LWJvZHkge1xcbiAgbWFyZ2luLWxlZnQ6IDZweDtcXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzU0NWI2MjtcXG4gIHBhZGRpbmctbGVmdDogNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDAgNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG5cXG4uY3dyYXBwZXJfcm90YXRlIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XFxuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XFxufVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLm1vZGFsLWNvbnRlbnQtZGFyayB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTQ1YjYyICFpbXBvcnRhbnQ7XFxufVxcbi5ocHJpb3IuZWNzLW5vdGVfdGV4dGFyZWEge1xcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG4uaHByaW9yLmVjcy1ub3RlX3RleHRhcmVhOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2VlZWVlZTtcXG59XFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lY3MvZWNzTm90ZS52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQXlDQTtFQUNBLG9DQUFBO0FBQ0E7QUFFQTtFQUNBLHVCQUFBO0VBQ0Esd0NBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtBQUNBO0FBRUE7RUFDQSxjQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdj5cXG4gICAgPGItdGV4dGFyZWEgcGxhY2Vob2xkZXI9XFxcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXFxcIiB2LW1vZGVsPVxcXCJub3RlXFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIiBjbGFzcz1cXFwiaHByaW9yIGVjcy1ub3RlX3RleHRhcmVhXFxcIlxcbiAgICAgICAgICAgICAgICBAY2hhbmdlPVxcXCJvbkNoYW5nZVxcXCIvPlxcbiAgICA8Yi1tb2RhbCB0aXRsZT1cXFwiTm90ZVxcXCIgdi1tb2RlbD1cXFwiY29tcG9uZW50Ll9pc0Z1bGxzY3JlZW5cXFwiIGhpZGUtZm9vdGVyIGhpZGUtaGVhZGVyXFxuICAgICAgICAgICAgIGRpYWxvZy1jbGFzcz1cXFwibW9kYWwtZnVsbHNjcmVlbiBtb2RhbC14eGxcXFwiIGNvbnRlbnQtY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnQtZGFya1xcXCI+XFxuICAgICAgPGItdGV4dGFyZWEgcGxhY2Vob2xkZXI9XFxcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXFxcIiB2LW1vZGVsPVxcXCJub3RlXFxcIiA6cmVhZG9ubHk9XFxcIiFpc0FkbWluXFxcIlxcbiAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XFxcIm9uQ2hhbmdlXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAxMDAlOyByZXNpemU6IG5vbmU7XFxcIiBjbGFzcz1cXFwiaHByaW9yIGVjcy1ub3RlX3RleHRhcmVhXFxcIi8+XFxuICAgICAgPHRlbXBsYXRlIHYtc2xvdDptb2RhbC1mb290ZXI+XFxuICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgPC9iLW1vZGFsPlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5pbXBvcnQge05vdGVDb21wb25lbnR9IGZyb20gXFxcIi4uLy4uL2Vjcy9jb21wb25lbnRcXFwiO1xcblxcbkBWQ29tcG9uZW50XFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTm90ZSBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIGNvbXBvbmVudCE6IE5vdGVDb21wb25lbnQ7XFxuXFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIGlzQWRtaW4hOiBib29sZWFuO1xcblxcbiAgbm90ZTogc3RyaW5nID0gJyc7XFxuXFxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubm90ZScpXFxuICBvbkNOb3RlQ2hhbmdlZCh2YWw6IHN0cmluZykge1xcbiAgICB0aGlzLm5vdGUgPSB2YWw7XFxuICB9XFxuXFxuICBvbkNoYW5nZSgpIHtcXG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdub3RlJywgJ25vdGUnLCB0aGlzLm5vdGUsIHRoaXMuY29tcG9uZW50Lm11bHRpSWQpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuXFxuLm1vZGFsLWNvbnRlbnQtZGFyayB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTQ1YjYyICFpbXBvcnRhbnQ7XFxufVxcblxcbi5ocHJpb3IuZWNzLW5vdGVfdGV4dGFyZWEge1xcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4uaHByaW9yLmVjcy1ub3RlX3RleHRhcmVhOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2VlZWVlZTtcXG59XFxuXFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uZW50aXR5LWluc3BlY3RfY29tcG9uZW50LWJ0bi1oZWFkZXIge1xcbiAgbWFyZ2luOiAwLjVyZW07XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWNzL2VudGl0eUluc3BlY3QudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUEyRkE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IHYtc2hvdz1cXFwiZGF0YS5jb21wb25lbnRzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJlbnRpdHktaW5zcGVjdF9jb21wb25lbnQtYnRuLWhlYWRlclxcXCI+XFxuICAgICAgPGItZHJvcGRvd24gdG9nZ2xlLWNsYXNzPVxcXCJyb3VuZGVkLTBcXFwiIHZhcmlhbnQ9XFxcInN1Y2Nlc3NcXFwiIHYtaWY9XFxcIndvcmxkLmlzTWFzdGVyXFxcIj5cXG4gICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6YnV0dG9uLWNvbnRlbnQ+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtcGx1c1xcXCI+PC9pPlxcbiAgICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICAgIDxiLWRyb3Bkb3duLWl0ZW0gdi1mb3I9XFxcInggaW4gZGF0YS5hZGRhYmxlXFxcIiA6a2V5PVxcXCJ4LnR5cGVcXFwiIEBjbGljaz1cXFwiZW1pdFNwZWNpYWwoJ2FkZENvbXBvbmVudCcsIHgudHlwZSlcXFwiPlxcbiAgICAgICAgICB7eyB4Lm5hbWUgfX1cXG4gICAgICAgIDwvYi1kcm9wZG93bi1pdGVtPlxcbiAgICAgIDwvYi1kcm9wZG93bj5cXG4gICAgICA8Yi1idXR0b24gc3F1YXJlZCA6dGl0bGU9XFxcImRhdGEuaGlkZGVuID8gJ1Nob3cgZW50aXR5JyA6ICdIaWRlIGVudGl0eSdcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBncmlkXFxcIiB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCJcXG4gICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJlbWl0U3BlY2lhbCgnaGlkZGVuJywgIWRhdGEuaGlkZGVuKVxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnMTFcXFwiIDpzdHlsZT1cXFwie3Zpc2liaWxpdHk6IGRhdGEuaGlkZGVuID8gJ3Zpc2libGUnIDogJ2hpZGRlbid9XFxcIj48aSBjbGFzcz1cXFwiZmFzIGZhLWV5ZS1zbGFzaFxcXCIvPjwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZzExXFxcIiA6c3R5bGU9XFxcInt2aXNpYmlsaXR5OiBkYXRhLmhpZGRlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnfVxcXCI+PGkgY2xhc3M9XFxcImZhcyBmYS1leWVcXFwiLz48L2Rpdj5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDxiLWJ1dHRvbiB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdmFyaWFudD1cXFwiZGFuZ2VyXFxcIiB0aXRsZT1cXFwiRGVsZXRlIGVudGl0eVxcXCIgc3F1YXJlZFxcbiAgICAgICAgICAgICAgICBAY2xpY2s9XFxcImVtaXRTcGVjaWFsKCdkZWxldGUnKVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXRyYXNoXFxcIj48L2k+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgICA8Yi1idXR0b24gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHZhcmlhbmQ9XFxcImRhbmdlclxcXCIgdGl0bGU9XFxcIkZvcmdldCBlbnRpdHlcXFwiIHNxdWFyZWRcXG4gICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJlbWl0U3BlY2lhbCgnZm9yZ2V0JylcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1lcmFzZXJcXFwiPjwvaT5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGVjcy1jb21wb25lbnQtd3JhcHBlciB2LWZvcj1cXFwiY29tcCBvZiBkYXRhLmNvbXBvbmVudHNcXFwiIHYtYmluZDprZXk9XFxcImNvbXAudHlwZSArIChjb21wLm11bHRpSWQgfHwgJycpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtYmluZDpjb21wb25lbnQ9XFxcImNvbXBcXFwiIHYtYmluZDppc0FkbWluPVxcXCJ3b3JsZC5pc01hc3RlclxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBAZWNzLXByb3BlcnR5LWNoYW5nZT1cXFwib25FY3NQcm9wZXJ0eUNoYW5nZShhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10pXFxcIi8+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBFY3NDb21wb25lbnRXcmFwcGVyIGZyb20gXFxcIi4vY29tcFdyYXBwZXIudnVlXFxcIjtcXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcXFwiLi4vLi4vZWNzL3dvcmxkXFxcIjtcXG5pbXBvcnQge1xcbiAgU0VMRUNUSU9OX1RZUEUsXFxuICBTRUxFQ1RJT05fVUlfREFUQV9UWVBFLFxcbiAgU2VsZWN0aW9uU3lzdGVtLFxcbiAgU2VsZWN0aW9uVWlEYXRhXFxufSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVxcXCI7XFxuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3Jlc291cmNlXFxcIjtcXG5pbXBvcnQge2NvbXBvbmVudENsb25lfSBmcm9tIFxcXCIuLi8uLi9lY3MvZWNzVXRpbFxcXCI7XFxuXFxuQFZDb21wb25lbnQoe1xcbiAgY29tcG9uZW50czoge1xcbiAgICBFY3NDb21wb25lbnRXcmFwcGVyLFxcbiAgfVxcbn0pXFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5SW5zcGVjdCBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcXG4gIHdvcmxkITogV29ybGQ7XFxuXFxuICBkYXRhOiBTZWxlY3Rpb25VaURhdGEgPSB7XFxuICAgIHR5cGU6IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXFxuICAgIHNlbGVjdGVkRW50aXRpZXM6IFtdLFxcbiAgICBoaWRkZW46IGZhbHNlLFxcbiAgICBhZGRhYmxlOiBbXSxcXG4gICAgY29tcG9uZW50czogW10sXFxuICAgIF9zYXZlOiBmYWxzZSxcXG4gICAgX3N5bmM6IGZhbHNlLFxcbiAgfTtcXG5cXG4gIG9uRWNzUHJvcGVydHlDaGFuZ2UodHlwZTogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogYW55LCBtdWx0aUlkPzogbnVtYmVyKSB7XFxuICAgIGxldCBzZWxlY3Rpb25TeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XFxuICAgIHNlbGVjdGlvblN5cy5zZXRQcm9wZXJ0eSh0aGlzLmRhdGEuc2VsZWN0ZWRFbnRpdGllcywgdHlwZSwgcHJvcGVydHksIHZhbHVlLCBtdWx0aUlkKTtcXG4gIH1cXG5cXG4gIGVtaXRTcGVjaWFsKG5hbWU6IHN0cmluZywgcGFyOiB1bmtub3duKSB7XFxuICAgIHRoaXMub25FY3NQcm9wZXJ0eUNoYW5nZSgnJCcsIG5hbWUsIHBhcik7XFxuICB9XFxuXFxuICBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UpIHtcXG4gICAgaWYgKHJlcy50eXBlID09PSBTRUxFQ1RJT05fVUlfREFUQV9UWVBFKSB7XFxuICAgICAgdGhpcy5kYXRhID0gY29tcG9uZW50Q2xvbmUocmVzKSBhcyBTZWxlY3Rpb25VaURhdGE7XFxuICAgIH1cXG4gIH1cXG5cXG4gIG1vdW50ZWQoKSB7XFxuICAgIHRoaXMuZGF0YSA9IGNvbXBvbmVudENsb25lKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSkgYXMgU2VsZWN0aW9uVWlEYXRhKTtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XFxuICB9XFxuXFxuICB1bm1vdW50ZWQoKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gIH1cXG59XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5lbnRpdHktaW5zcGVjdF9jb21wb25lbnQtYnRuLWhlYWRlciB7XFxuICBtYXJnaW46IDAuNXJlbTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcXG59XFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uZWRpdC1tYXBfZ2FtZSB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lZGl0L2VkaXRNYXAudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFnQ0E7RUFDQSxpQkFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcImVkaXQtbWFwX2dhbWVcXFwiPlxcblxcbiAgICA8dG9vbC1iYXIgdi1iaW5kOndvcmxkPVxcXCJ3b3JsZFxcXCI+XFxuICAgIDwvdG9vbC1iYXI+XFxuXFxuICAgIDxkaXYgaWQ9XFxcImNhbnZhcy1jb250YWluZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0tdG9wYmFyLWhlaWdodCkpO1xcXCI+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8c2lkZS1iYXIgdi1iaW5kOndvcmxkPVxcXCJ3b3JsZFxcXCI+XFxuICAgIDwvc2lkZS1iYXI+XFxuXFxuICAgIDxyZWNvbm5lY3Rpb24tbW9kYWwgdi1pZj1cXFwiIXdvcmxkLmlzTWFzdGVyXFxcIiB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIj5cXG4gICAgPC9yZWNvbm5lY3Rpb24tbW9kYWw+XFxuXFxuICAgIDxhIGlkPVxcXCJoaWRkZW4tZG93bmxvYWQtbGlua1xcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIi8+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBWdWUgZnJvbSBcXFwidnVlXFxcIjtcXG5pbXBvcnQgVG9vbEJhciBmcm9tIFxcXCIuL3Rvb2xCYXIudnVlXFxcIjtcXG5pbXBvcnQgU2lkZUJhciBmcm9tIFxcXCIuL3NpZGVCYXIudnVlXFxcIjtcXG5pbXBvcnQgUmVjb25uZWN0aW9uTW9kYWwgZnJvbSBcXFwiLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWVcXFwiO1xcblxcbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe1xcbiAgY29tcG9uZW50czoge1Rvb2xCYXIsIFNpZGVCYXIsIFJlY29ubmVjdGlvbk1vZGFsfSxcXG4gIHByb3BzOiBbJ3dvcmxkJ10sXFxufSk7XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi5lZGl0LW1hcF9nYW1lIHtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5zaWRlYmFyLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogcmlnaHQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBZ0ZBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8Yi1zaWRlYmFyIGlkPVxcXCJzaWRlYmFyLXJpZ2h0XFxcIiB0aXRsZT1cXFwiU2lkZWJhclxcXCJcXG4gICAgICAgICAgICAgYmctdmFyaWFudD1cXFwiZGFya1xcXCIgdGV4dC12YXJpYW50PVxcXCJsaWdodFxcXCIgcmlnaHQgdmlzaWJsZSBuby1oZWFkZXIgc2hhZG93XFxuICAgICAgICAgICAgIHNpZGViYXItY2xhc3M9XFxcInVuZGVyLW5hdmJhclxcXCI+XFxuICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgIEdSSUQgQ09OVFJPTCAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XFxuICAgIDxncmlkLWVkaXQgY2xhc3M9XFxcInB4LTMgcHktMlxcXCIgdi1zaG93PVxcXCJ0b29sID09PSAnZ3JpZCdcXFwiIHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiLz5cXG4gICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgRU5USVRZIElOU1BFQ1RPUiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XFxuICAgIDxkaXYgdi1zaG93PVxcXCJ0b29sID09PSAnaW5zcGVjdCdcXFwiPlxcbiAgICAgIDxlbnRpdHktaW5zcGVjdCB2LWJpbmQ6d29ybGQ9XFxcIndvcmxkXFxcIi8+XFxuICAgIDwvZGl2PlxcbiAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICBMSUdIVCBTRVRUSU5HUyAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XFxuICAgIDxsaWdodC1zZXR0aW5ncy1lZGl0ICB2LXNob3c9XFxcInRvb2wgPT09ICdsaWdodCdcXFwiIHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiLz5cXG4gICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgQ1JFQVRJT04gT1BUSU9OUyAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XFxuICAgIDxjcmVhdGlvbi1vcHRpb25zIGNsYXNzPVxcXCJweC0zIHB5LTJcXFwiIHYtYmluZDp3b3JsZD1cXFwid29ybGRcXFwiLz5cXG5cXG4gICAgPHRlbXBsYXRlIHYtc2xvdDpmb290ZXI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwic2lkZWJhci1mb290ZXJcXFwiPlxcbiAgICAgICAge3sgdHJhY2tlckNvdW50IH19XFxuICAgICAgICA8ZGl2IHN0eWxlPVxcXCJtYXJnaW4tbGVmdDogMC4ycmVtXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zZXJ2ZXJcXFwiPjwvaT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAge3sgY29ubmVjdGlvbkNvdW50IH19XFxuICAgICAgICA8ZGl2IHYtYmluZDpjbGFzcz1cXFwieyByb3RhdGU6IGNvbm5lY3Rpb25CdWZmZXJpbmcgfVxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OiAwLjJyZW1cXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXN5bmMtYWx0XFxcIj48L2k+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC90ZW1wbGF0ZT5cXG4gIDwvYi1zaWRlYmFyPlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuXFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcXFwiLi4vLi4vZWNzL3Jlc291cmNlXFxcIjtcXG5pbXBvcnQge1dvcmxkfSBmcm9tIFxcXCIuLi8uLi9lY3Mvd29ybGRcXFwiO1xcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUmVzb3VyY2V9IGZyb20gXFxcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVxcXCI7XFxuaW1wb3J0IEdyaWRFZGl0IGZyb20gXFxcIi4vZ3JpZEVkaXQudnVlXFxcIjtcXG5pbXBvcnQgQ3JlYXRpb25PcHRpb25zIGZyb20gXFxcIi4vY3JlYXRpb25PcHRpb25zLnZ1ZVxcXCI7XFxuaW1wb3J0IExpZ2h0U2V0dGluZ3NFZGl0IGZyb20gXFxcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlXFxcIjtcXG5pbXBvcnQgRW50aXR5SW5zcGVjdCBmcm9tIFxcXCIuLi9lY3MvZW50aXR5SW5zcGVjdC52dWVcXFwiO1xcbmltcG9ydCB7TkVUV09SS19TVEFUVVNfVFlQRSwgTmV0d29ya1N0YXR1c1Jlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cXFwiO1xcblxcbkBWQ29tcG9uZW50KHtcXG4gIGNvbXBvbmVudHM6IHtcXG4gICAgR3JpZEVkaXQsIEVudGl0eUluc3BlY3QsIExpZ2h0U2V0dGluZ3NFZGl0LCBDcmVhdGlvbk9wdGlvbnNcXG4gIH1cXG59KVxcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xCYXIgZXh0ZW5kcyBWdWUge1xcbiAgQFZQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcXG4gIHdvcmxkITogV29ybGQ7XFxuXFxuICB0b29sID0gJ2luc3BlY3QnO1xcbiAgY29ubmVjdGlvbkNvdW50ID0gMDtcXG4gIHRyYWNrZXJDb3VudCA9IDA7XFxuICBjb25uZWN0aW9uQnVmZmVyaW5nID0gZmFsc2U7XFxuXFxuICBtb3VudGVkKCkge1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcXG4gIH1cXG5cXG4gIHVubW91bnRlZCgpIHtcXG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xcbiAgfVxcblxcbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XFxuICAgIGlmIChyZXMudHlwZSA9PT0gVE9PTF9UWVBFKSB7XFxuICAgICAgdGhpcy50b29sID0gKHJlcyBhcyBUb29sUmVzb3VyY2UpLnRvb2whO1xcbiAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBORVRXT1JLX1NUQVRVU19UWVBFKSB7XFxuICAgICAgbGV0IHIgPSByZXMgYXMgTmV0d29ya1N0YXR1c1Jlc291cmNlO1xcbiAgICAgIHRoaXMudHJhY2tlckNvdW50ID0gci50cmFja2VyQ291bnQ7XFxuICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnQgPSByLmNvbm5lY3Rpb25Db3VudDtcXG4gICAgICB0aGlzLmNvbm5lY3Rpb25CdWZmZXJpbmcgPSByLmlzQnVmZmVyaW5nO1xcbiAgICB9XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcblxcbjxzdHlsZT5cXG5cXG4uc2lkZWJhci1mb290ZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xcbn1cXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi50b29sYmFyLWJ0bi5wbHotcHJpb3JpdGl6ZSB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XFxuICBib3JkZXItY29sb3I6ICMyQzNFNTA7XFxufVxcbi5wbHotcHJpb3JpdGl6ZS51bmRvLXJlZG8tYnRuLmRpc2FibGVkLCAucGx6LXByaW9yaXRpemUudW5kby1yZWRvLWJ0bjpkaXNhYmxlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQzYTQwO1xcbiAgYm9yZGVyLWNvbG9yOiAjMzQzYTQwO1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUE4SEE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtBQUNBO0FBR0E7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8Yi1idXR0b24tdG9vbGJhciB0eXBlPVxcXCJkYXJrXFxcIiB2YXJpYW50PVxcXCJpbmZvXFxcIiBjbGFzcz1cXFwiYmctZGFya1xcXCJcXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiB2YXIoLS10b3BiYXItaGVpZ2h0KTsgei1pbmRleDogMTAwMDtcXFwiIGp1c3RpZnk+XFxuICAgIDxiLWJ1dHRvbi1ncm91cCB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgc3R5bGU9XFxcIm1hcmdpbi1yaWdodDogMnJlbVxcXCI+XFxuICAgICAgPGItYnV0dG9uIHRpdGxlPVxcXCJVbmRvXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZSB1bmRvLXJlZG8tYnRuXFxcIiA6ZGlzYWJsZWQ9XFxcIiF0aGlzLmNhblVuZG9cXFwiIHYtb246Y2xpY2s9XFxcInVuZG8oKVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXVuZG9cXFwiPjwvaT5cXG4gICAgICA8L2ItYnV0dG9uPlxcbiAgICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiUmVkb1xcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemUgdW5kby1yZWRvLWJ0blxcXCIgOmRpc2FibGVkPVxcXCIhdGhpcy5jYW5SZWRvXFxcIiB2LW9uOmNsaWNrPVxcXCJyZWRvKClcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1yZWRvXFxcIj48L2k+XFxuICAgICAgPC9iLWJ1dHRvbj5cXG4gICAgPC9iLWJ1dHRvbi1ncm91cD5cXG5cXG4gICAgPGItcmFkaW8tZ3JvdXAgYnV0dG9ucyB2LW1vZGVsPVxcXCJ0b29sXFxcIj5cXG4gICAgICA8Yi1yYWRpbyByZWY9XFxcInJhZGlvaW5zcGVjdFxcXCIgdGl0bGU9XFxcIkluc3BlY3RcXFwiIHZhbHVlPVxcXCJpbnNwZWN0XFxcIiBzcXVhcmVkXFxuICAgICAgICAgICAgICAgOmNsYXNzPVxcXCJ7J3Rvb2xiYXItYnRuJzogdGhpcy5iYWNrZ3JvdW5kTG9ja2VkLCAnYnRuLXdhcm5pbmcnOiAhdGhpcy5iYWNrZ3JvdW5kTG9ja2VkfVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWhhbmQtcG9pbnRlclxcXCI+PC9pPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdGl0bGU9XFxcIkFkZCB3YWxsXFxcIiB2YWx1ZT1cXFwiY3JlYXRlX3dhbGxcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDx3YWxsLWljb24vPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdGl0bGU9XFxcIkFkZCBwcm9wXFxcIiB2YWx1ZT1cXFwiY3JlYXRlX3Byb3BcXFwiIHNxdWFyZWQgY2xhc3M9XFxcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtY291Y2hcXFwiPjwvaT5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHRpdGxlPVxcXCJBZGQgcGluXFxcIiB2YWx1ZT1cXFwiY3JlYXRlX3BpblxcXCIgc3F1YXJlZCBjbGFzcz1cXFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS10aHVtYnRhY2tcXFwiPjwvaT5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHRpdGxlPVxcXCJFZGl0IGdyaWRcXFwiIHZhbHVlPVxcXCJncmlkXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWJvcmRlci1hbGxcXFwiLz5cXG4gICAgICA8L2ItcmFkaW8+XFxuICAgICAgPGItcmFkaW8gdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiIHRpdGxlPVxcXCJMaWdodCBzZXR0aW5nc1xcXCIgdmFsdWU9XFxcImxpZ2h0XFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWxpZ2h0YnVsYlxcXCIvPlxcbiAgICAgIDwvYi1yYWRpbz5cXG4gICAgICA8Yi1yYWRpbyB2LWlmPVxcXCJ3b3JsZC5pc01hc3RlclxcXCIgdGl0bGU9XFxcIk1lYXN1cmVcXFwiIHZhbHVlPVxcXCJtZWFzdXJlXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXJ1bGVyXFxcIi8+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICAgIDxiLXJhZGlvIHRpdGxlPVxcXCJNb3VzZSB0cmFpbFxcXCIgdmFsdWU9XFxcIm1vdXNlX3RyYWlsXFxcIiBzcXVhcmVkIGNsYXNzPVxcXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVxcXCI+XFxuICAgICAgICA8bW91c2UtdHJhaWwtaWNvbi8+XFxuICAgICAgPC9iLXJhZGlvPlxcbiAgICA8L2ItcmFkaW8tZ3JvdXA+XFxuICAgIDxiLWJ1dHRvbiB0aXRsZT1cXFwiRXhwb3J0IG1hcFxcXCIgc3F1YXJlZCB2YXJpYW50PVxcXCJzdWNjZXNzXFxcIiBjbGFzcz1cXFwiYnRuLXhzXFxcIlxcbiAgICAgICAgICAgICAgdi1vbjpjbGljaz1cXFwid29ybGQuZXZlbnRzLmVtaXQoJ2V4cG9ydF9tYXAnKVxcXCIgdi1pZj1cXFwid29ybGQuaXNNYXN0ZXJcXFwiPlxcbiAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZG93bmxvYWRcXFwiLz5cXG4gICAgPC9iLWJ1dHRvbj5cXG5cXG4gICAgPGRpdiBzdHlsZT1cXFwiZmxleDogMSAxIDA7XFxcIi8+IDwhLS0gU3BhY2luZyAtLT5cXG4gICAgPGItYnV0dG9uIHRpdGxlPVxcXCJUb2dnbGUgc2lkZWJhclxcXCIgdmFyaWFudD1cXFwid2FybmluZ1xcXCIgY2xhc3M9XFxcImJ0bi14c1xcXCIgdi1iLXRvZ2dsZS5zaWRlYmFyLXJpZ2h0PlxcbiAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYW5nbGUtZG91YmxlLXJpZ2h0XFxcIi8+XFxuICAgIDwvYi1idXR0b24+XFxuICA8L2ItYnV0dG9uLXRvb2xiYXI+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWUsIFZXYXRjaH0gZnJvbSBcXFwiLi4vdnVlXFxcIjtcXG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3MvcmVzb3VyY2VcXFwiO1xcbmltcG9ydCB7V29ybGR9IGZyb20gXFxcIi4uLy4uL2Vjcy93b3JsZFxcXCI7XFxuaW1wb3J0IHtCQUNLR1JPVU5EX0xBWUVSX1RZUEUsIEJhY2tncm91bmRMYXllclJlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXFxcIjtcXG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFJlc291cmNlfSBmcm9tIFxcXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cXFwiO1xcbmltcG9ydCB7VG9vbH0gZnJvbSBcXFwiLi4vLi4vZWNzL3Rvb2xzL3Rvb2xUeXBlXFxcIjtcXG5cXG5pbXBvcnQgTW91c2VUcmFpbEljb24gZnJvbSBcXFwiLi4vaWNvbnMvbW91c2VUcmFpbEljb24udnVlXFxcIjtcXG5pbXBvcnQgV2FsbEljb24gZnJvbSBcXFwiLi4vaWNvbnMvd2FsbEljb24udnVlXFxcIjtcXG5cXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7TW91c2VUcmFpbEljb24sIFdhbGxJY29ufVxcbn0pXFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbEJhciBleHRlbmRzIFZ1ZSB7XFxuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxcbiAgd29ybGQhOiBXb3JsZDtcXG5cXG4gIHRvb2wgPSAnaW5zcGVjdCc7XFxuICBiYWNrZ3JvdW5kTG9ja2VkOiBib29sZWFuID0gdHJ1ZTtcXG5cXG4gIGNhblVuZG8gPSBmYWxzZTtcXG4gIGNhblJlZG8gPSBmYWxzZTtcXG5cXG4gIG1vdW50ZWQoKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tbWFuZF9oaXN0b3J5X2NoYW5nZScsIHRoaXMub25Db21tYW5kSGlzdG9yeUNoYW5nZSwgdGhpcyk7XFxuXFxuICAgIGxldCB4ID0gKHRoaXMuJHJlZnMucmFkaW9pbnNwZWN0IGFzIFZ1ZSk7XFxuICAgIHguJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcXG4gICAgICBpZiAoIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XFxuICAgICAgaWYgKHRoaXMudG9vbCA9PT0gJ2luc3BlY3QnKSB7XFxuICAgICAgICBsZXQgbG9ja2VkID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQkFDS0dST1VORF9MQVlFUl9UWVBFKSBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSkubG9ja2VkO1xcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoQkFDS0dST1VORF9MQVlFUl9UWVBFLCB7IGxvY2tlZDogIWxvY2tlZCB9KTtcXG4gICAgICB9XFxuICAgIH0pO1xcbiAgfVxcblxcbiAgdW5tb3VudGVkKCkge1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZignY29tbWFuZF9oaXN0b3J5X2NoYW5nZScsIHRoaXMub25Db21tYW5kSGlzdG9yeUNoYW5nZSwgdGhpcyk7XFxuICB9XFxuXFxuICBvbkNvbW1hbmRIaXN0b3J5Q2hhbmdlKGNhblVuZG86IGJvb2xlYW4sIGNhblJlZG86IGJvb2xlYW4pIHtcXG4gICAgdGhpcy5jYW5VbmRvID0gY2FuVW5kbztcXG4gICAgdGhpcy5jYW5SZWRvID0gY2FuUmVkbztcXG4gIH1cXG5cXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xcbiAgICBpZiAocmVzLnR5cGUgPT09IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkge1xcbiAgICAgIHRoaXMuYmFja2dyb3VuZExvY2tlZCA9IChyZXMgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UpLmxvY2tlZDtcXG4gICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gVE9PTF9UWVBFKSB7XFxuICAgICAgdGhpcy50b29sID0gKHJlcyBhcyBUb29sUmVzb3VyY2UpLnRvb2whO1xcbiAgICB9XFxuICB9XFxuXFxuICBAVldhdGNoKCd0b29sJylcXG4gIG9uVG9vbEVkaXQodG9vbDogVG9vbCkge1xcbiAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZSgndG9vbCcsIHt0b29sfSk7XFxuICB9XFxuXFxuICB1bmRvKCkge1xcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3VuZG8nKTtcXG4gIH1cXG5cXG4gIHJlZG8oKSB7XFxuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfcmVkbycpO1xcbiAgfVxcbn1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuXFxuLnRvb2xiYXItYnRuLnBsei1wcmlvcml0aXplIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcXG4gIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcXG59XFxuXFxuXFxuLnBsei1wcmlvcml0aXplLnVuZG8tcmVkby1idG4uZGlzYWJsZWQsIC5wbHotcHJpb3JpdGl6ZS51bmRvLXJlZG8tYnRuOmRpc2FibGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzNDNhNDA7XFxuICBib3JkZXItY29sb3I6ICMzNDNhNDA7XFxuICBib3gtc2hhZG93OiBub25lO1xcbn1cXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gZnJvbSBcIi4uLy4uL3B1YmxpYy9pbWFnZXMvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmdcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uZm9vdGVyX2NyZWRpdHMge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICBwYWRkaW5nOiAyMHB4O1xcbn1cXG4uZm9vdGVyX2dpdGh1YiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxufVxcbi5mb290ZXJfZ2l0aHViOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuLmZvb3Rlcl9wcm9maWxlIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuLmZvb3Rlcl9wcm9maWxlOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9mb290ZXIudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUFxQkE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7QUFDQTtBQUVBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlEQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0FBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyX2NyZWRpdHNcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImxpbmtzXFxcIj5cXG4gICAgICAgIDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9Tbm93eUNvZGVyL2RuZG1lXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImZvb3Rlcl9naXRodWJcXFwiPjwvYT5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8c21hbGwgc3R5bGU9XFxcImNvbG9yOiBsaWdodGdyYXlcXFwiPlxcbiAgICAgICAgRGV2ZWxvcGVkIGJ5IDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9Tbm93eUNvZGVyXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImZvb3Rlcl9wcm9maWxlXFxcIj5Sb3NzaSBMb3JlbnpvPC9hPiAvXFxuICAgICAgICBEcmF3aW5ncyBieSA8c3BhbiBzdHlsZT1cXFwiY29sb3I6IHdoaXRlXFxcIj5HaW9yZ2lhIE5penpvbGk8L3NwYW4+XFxuICAgICAgPC9zbWFsbD5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBWdWUgZnJvbSBcXFwidnVlXFxcIjtcXG5cXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHt9KTtcXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuLmZvb3Rlcl9jcmVkaXRzIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuLmZvb3Rlcl9naXRodWIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDMycHg7XFxuICBoZWlnaHQ6IDMycHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcIn5QdWJsaWMvaW1hZ2VzL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nXFxcIik7XFxufVxcblxcbi5mb290ZXJfZ2l0aHViOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuLmZvb3Rlcl9wcm9maWxlIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmZvb3Rlcl9wcm9maWxlOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuPC9zdHlsZT5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4ucy1ob21lLWNvbnRhaW5lciB7XFxuICBjb2xvcjogd2hpdGU7XFxufVxcbi5zLWhvbWUtdGV4dCB7XFxuICBjb2xvcjogd2hpdGU7XFxufVxcbi5idG4tZW50cnkge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS9ob21lL2hvbWUudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCI7QUEwRUE7RUFDQSxZQUFBO0FBQ0E7QUFFQTtFQUNBLFlBQUE7QUFDQTtBQUVBO0VBQ0EsbUJBQUE7QUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJwaGFzZS1jb250YWluZXIgdGV4dC1jZW50ZXIgZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgcm93XFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAxMDB2aDsgbWFyZ2luOiAwO1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRleHQtd2hpdGVcXFwiPlxcbiAgICAgIDxwIGNsYXNzPVxcXCJ0aXRsZVxcXCIgc3R5bGU9XFxcImZvbnQtc2l6ZTogMy41ZW07IG1hcmdpbjogMDtcXFwiPkRSQVcmRElDRTwvcD5cXG4gICAgICA8cCBjbGFzcz1cXFwiXFxcIiBzdHlsZT1cXFwiZm9udC1zaXplOiAyZW07XFxcIj5EbmQgbWFkZSBleiE8L3A+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2PlxcbiAgICAgIDxiLWJ1dHRvbiB2YXJpYW50PVxcXCJ3YXJuaW5nXFxcIiBzaXplPVxcXCJsZ1xcXCIgY2xhc3M9XFxcImJ0bi1lbnRyeVxcXCIgdi1vbjpjbGljaz1cXFwib25DcmVhdGVNYXBcXFwiPkNyZWF0ZSBNYXA8L2ItYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdj5cXG4gICAgICA8Yi1idXR0b24gdmFyaWFudD1cXFwiaW5mb1xcXCIgc2l6ZT1cXFwibGdcXFwiIGNsYXNzPVxcXCJidG4tZW50cnlcXFwiIHYtb246Y2xpY2s9XFxcIm9uRWRpdE1hcFxcXCI+RWRpdCBNYXA8L2ItYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGItbW9kYWwgcmVmPVxcXCJtYXAtbG9hZC1tb2RhbFxcXCIgaGlkZS1mb290ZXIgdGl0bGU9XFxcIkdpbW1lIHRoZSBtYXBcXFwiPlxcbiAgICAgIDxiLWZvcm0tZmlsZVxcbiAgICAgICAgICB2LW1vZGVsPVxcXCJmaWxlXFxcIlxcbiAgICAgICAgICA6c3RhdGU9XFxcIkJvb2xlYW4oZmlsZSlcXFwiXFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJDaG9vc2UgYSBmaWxlIG9yIGRyb3AgaXQgaGVyZS4uLlxcXCJcXG4gICAgICAgICAgZHJvcC1wbGFjZWhvbGRlcj1cXFwiRHJvcCBmaWxlIGhlcmUuLi5cXFwiXFxuICAgICAgICAgIGFjY2VwdD1cXFwiLmRuZG1cXFwiXFxuICAgICAgPjwvYi1mb3JtLWZpbGU+XFxuICAgIDwvYi1tb2RhbD5cXG5cXG4gICAgPGZvb3Rlci1jb21wb25lbnQ+PC9mb290ZXItY29tcG9uZW50PlxcbiAgPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5pbXBvcnQgRm9vdGVyQ29tcG9uZW50IGZyb20gXFxcIi4uL2Zvb3Rlci52dWVcXFwiO1xcbmltcG9ydCBNYXBJbnB1dCBmcm9tIFxcXCIuL21hcElucHV0LnZ1ZVxcXCI7XFxuXFxuXFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWdWUsIFBoYXNlVnVlLCBWV2F0Y2gsIFZSZWZ9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xcbmltcG9ydCB7Qk1vZGFsfSBmcm9tIFxcXCJib290c3RyYXAtdnVlXFxcIjtcXG5cXG5AVkNvbXBvbmVudCh7XFxuICBjb21wb25lbnRzOiB7IE1hcElucHV0LCBGb290ZXJDb21wb25lbnQgfVxcbn0pXFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZUNvbXBvbmVudCBleHRlbmRzIFZ1ZSBpbXBsZW1lbnRzIFBoYXNlVnVlIHtcXG4gIEBWUmVmKCdtYXAtbG9hZC1tb2RhbCcpIHJlYWRvbmx5IG1hcExvYWRNb2RhbCE6IEJNb2RhbDtcXG5cXG4gIGZpbGU6IGFueSA9IG51bGw7XFxuICBwZW5kaW5nT3A6IHN0cmluZyA9IFxcXCJcXFwiO1xcbiAgZXZlbnRFbWl0dGVyITogRXZlbnRFbWl0dGVyO1xcblxcbiAgb25DcmVhdGVNYXAoKSB7XFxuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXFxcImNyZWF0ZV9tYXBcXFwiKTtcXG4gIH1cXG5cXG4gIG9uRWRpdE1hcCgpIHtcXG4gICAgdGhpcy5wZW5kaW5nT3AgPSAnZWRpdCc7XFxuICAgIHRoaXMubWFwTG9hZE1vZGFsLnNob3coKTtcXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcXFwiZWRpdF9tYXBcXFwiKTtcXG4gIH1cXG5cXG4gIG1hcExvYWRDYW5jZWwoKSB7XFxuICAgIHRoaXMubWFwTG9hZE1vZGFsLmhpZGUoKTtcXG4gIH1cXG5cXG4gIEBWV2F0Y2goJ2ZpbGUnKVxcbiAgb25GaWxlQ2hhbmdlZCh2YWw6IGFueSkge1xcbiAgICBpZiAodmFsID09IG51bGwpIHJldHVybjtcXG5cXG4gICAgY29uc29sZS5sb2coXFxcIkZpbGUgZHJvcHBlZCwgbG9hZGluZzogXFxcIiArIHRoaXMucGVuZGluZ09wKTtcXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCh0aGlzLnBlbmRpbmdPcCwgdGhpcy5maWxlKTtcXG4gICAgdGhpcy5maWxlID0gbnVsbDtcXG4gICAgdGhpcy5tYXBMb2FkQ2FuY2VsKCk7XFxuICB9XFxufVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4ucy1ob21lLWNvbnRhaW5lciB7XFxuICBjb2xvcjogd2hpdGU7XFxufVxcblxcbi5zLWhvbWUtdGV4dCB7XFxuICBjb2xvcjogd2hpdGU7XFxufVxcblxcbi5idG4tZW50cnkge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuPC9zdHlsZT5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uc2xvYWRpbmctY29udGFpbmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGhlaWdodDogMTAwdmg7XFxuXFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XFxuLnNsb2FkaW5nLXRpdGxlIHtcXG4gIGZvbnQtc2l6ZTogNWVtO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL2xvYWRpbmcvbG9hZGluZy52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQXdDQTtFQUNBLFlBQUE7RUFDQSxhQUFBOztFQUVBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7QUFDQTtBQUNBO0VBQ0EsY0FBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNsb2FkaW5nLWNvbnRhaW5lclxcXCI+XFxuICAgICAgPGgxIGNsYXNzPVxcXCJzbG9hZGluZy10aXRsZVxcXCI+RFJBVyZESUNFPC9oMT5cXG4gICAgICA8aDI+e3ttZXNzYWdlfX08L2gyPlxcbiAgICAgIDxoNT5Mb2FkaW5nPC9oNT5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcbjxzY3JpcHQgbGFuZz1cXFwidHNcXFwiPlxcbmltcG9ydCBWdWUgZnJvbSBcXFwidnVlXFxcIjtcXG5pbXBvcnQge1ZDb21wb25lbnR9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuXFxuY29uc3QgTE9BRElOR19QSFJBU0VTID0gW1xcbiAgXFxcIlBlcnN1YWRpbmcgZHJhZ29ucyB0byBjb29wZXJhdGUuLi5cXFwiLFxcbiAgXFxcIkEgRHdhcmYsIGFuIEVsZiBhbmQgYSBEcmFnb25ib3JkIGVudGVyIGEgdGF2ZXJuLi4uIFxcXFxcXFwiV2UncmUgbG9va2luZyBmb3IgYSBxdWVzdFxcXFxcXFwiXFxcIixcXG4gIFxcXCJBbiBhbmNpZW50IGxlZ2VuZCB0ZWxscyB0aGF0IGlmIHlvdSBpbnN1bHQgYSBkcmFnb24gdG8gZXhoYXVzdGlvbi4uLiB0aGV5J2xsIGVhdCB5b3UgYW55d2F5c1xcXCIsXFxuICBcXFwiUmVjaGFyZ2luZyBzcGVsbCBzbG90cy4uLlxcXCIsXFxuICBcXFwiUm9sbCBhIENoYXJpc21hIHNhdmluZyB0aHJvdy4uLlxcXCIsXFxuICBcXFwiTG9uZyByZXN0IGluIHByb2dyZXNzLi4uXFxcIixcXG4gIFxcXCJGaXR0aW5nIG91dCB0aGUgZ29ibGluIGFybXkuLi5cXFwiLFxcbiAgXFxcIlRoZSBsYXN0IGJvc3MgeW91IGtpbGxlZCBtZXQgYSAyMHRoIGxldmVsIGNoaWVyaWMuLi4gVGhlIHJlc3QgaXMgdXAgdG8geW91ISA7KVxcXCIsXFxuICBcXFwiVGhpcyBtYXAgb25seSBjb3N0cyAyNWdwIVxcXCIsXFxuICBcXFwiU29ycnksIHlvdSdkIGJldHRlciBjcmVhdGUgYSBuZXcgY2hhcmFjdGVyIHNoZWV0XFxcIixcXG5dO1xcblxcbmZ1bmN0aW9uIHJhbmRvbU1leCgpIHtcXG4gIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBMT0FESU5HX1BIUkFTRVMubGVuZ3RoKTtcXG4gIHJldHVybiBMT0FESU5HX1BIUkFTRVNbaV07XFxufVxcblxcbkBWQ29tcG9uZW50XFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZyBleHRlbmRzIFZ1ZSB7XFxuICBtZXNzYWdlID0gcmFuZG9tTWV4KCk7XFxufVxcblxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4gIC5zbG9hZGluZy1jb250YWluZXIge1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGhlaWdodDogMTAwdmg7XFxuXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgfVxcbiAgLnNsb2FkaW5nLXRpdGxlIHtcXG4gICAgZm9udC1zaXplOiA1ZW07XFxuICB9XFxuPC9zdHlsZT5cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcXG4udXRpbF9lY29sb3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcXG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcXG4gIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xcbiAgcGFkZGluZzogMC4xMjVyZW0gIWltcG9ydGFudDtcXG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcXG4gIGhlaWdodDogY2FsYygxLjVlbSArIDAuNzVyZW0gKyAycHgpO1xcbiAgd2lkdGg6IGNhbGMoMS41ZW0gKyAwLjc1cmVtICsgMnB4KTtcXG4gIG1hcmdpbi1sZWZ0OiAwLjVlbTtcXG5cXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuLnV0aWxfZWNvbG9yOjotbW96LWNvbG9yLXN3YXRjaCwgLnV0aWxfZWNvbG9yOjotd2Via2l0LWNvbG9yLXN3YXRjaCwgLnV0aWxfZWNvbG9yOjotd2Via2l0LWNvbG9yLXN3YXRjaC13cmFwcGVyIHtcXG4gIGJvcmRlcjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZUNvbG9yLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBeUJBO0VBQ0Esd0NBQUE7RUFDQSx3QkFBQTtFQUNBLHVCQUFBO0VBQ0EsNEJBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7RUFDQSxrQkFBQTs7RUFFQSx3QkFBQTtBQUNBO0FBRUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxpbnB1dCB0eXBlPVxcXCJjb2xvclxcXCIgdi1iaW5kOnZhbHVlPVxcXCJ2YWx1ZVxcXCIgdi1vbjppbnB1dD1cXFwiJGVtaXQoJ2lucHV0JywgJGV2ZW50LnRhcmdldC52YWx1ZSlcXFwiXFxuICAgICAgICAgOnJlYWRvbmx5PVxcXCJyZWFkb25seVxcXCIgOnBsYWNlaG9sZGVyPVxcXCJwbGFjZWhvbGRlclxcXCIgQGNoYW5nZT1cXFwiJGVtaXQoJ2NoYW5nZScpXFxcIlxcbiAgICAgICAgIGNsYXNzPVxcXCJ1dGlsX2Vjb2xvclxcXCI+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0IGxhbmc9XFxcInRzXFxcIj5cXG5cXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXFxcIi4uL3Z1ZVxcXCI7XFxuXFxuQFZDb21wb25lbnRcXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0YWJsZUNvbG9yIGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxcbiAgdmFsdWUhOiBzdHJpbmc7XFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcXG5cXG4gIEBWUHJvcCh7ZGVmYXVsdDogJyd9KVxcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmc7XFxufVxcblxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4udXRpbF9lY29sb3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcXG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcXG4gIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xcbiAgcGFkZGluZzogMC4xMjVyZW0gIWltcG9ydGFudDtcXG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcXG4gIGhlaWdodDogY2FsYygxLjVlbSArIDAuNzVyZW0gKyAycHgpO1xcbiAgd2lkdGg6IGNhbGMoMS41ZW0gKyAwLjc1cmVtICsgMnB4KTtcXG4gIG1hcmdpbi1sZWZ0OiAwLjVlbTtcXG5cXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuXFxuLnV0aWxfZWNvbG9yOjotbW96LWNvbG9yLXN3YXRjaCwgLnV0aWxfZWNvbG9yOjotd2Via2l0LWNvbG9yLXN3YXRjaCwgLnV0aWxfZWNvbG9yOjotd2Via2l0LWNvbG9yLXN3YXRjaC13cmFwcGVyIHtcXG4gIGJvcmRlcjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbjwvc3R5bGU+XFxuXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLnV0aWxfZWRpdGFibGUtdGV4dF9kaXYge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgbWFyZ2luOiA1cHg7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLnV0aWxfZWRpdGFibGUtdGV4dF9ib3JkZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAxcHg7XFxuXFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHRyYW5zaXRpb246IHdpZHRoIDAuMnMsIGJvcmRlciAwcyAwLjJzO1xcbn1cXG4udXRpbF9lZGl0YWJsZS10ZXh0X2lucHV0OmZvY3VzIH4gLnV0aWxfZWRpdGFibGUtdGV4dF9ib3JkZXIge1xcbiAgYm9yZGVyLWNvbG9yOiAjNDI4NUY0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xcbn1cXG4uaHByaW9yLnV0aWxfZWRpdGFibGUtdGV4dF9pbnB1dCB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBwYWRkaW5nOiAzcHggMTBweDtcXG4gIG1hcmdpbjogMDtcXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjZWVlZWVlO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC91aS91dGlsL2VkaXRhYmxlVGV4dC52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQXVDQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUFDQTtBQUVBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxXQUFBOztFQUVBLDZCQUFBO0VBQ0Esc0NBQUE7QUFDQTtBQUVBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0VBQ0EsYUFBQTtBQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcInV0aWxfZWRpdGFibGUtdGV4dF9kaXZcXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdi1iaW5kOnZhbHVlPVxcXCJ2YWx1ZVxcXCIgdi1vbjppbnB1dD1cXFwib25FdmVudCgnaW5wdXQnLCAkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICA6cmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcIiA6cGxhY2Vob2xkZXI9XFxcInBsYWNlaG9sZGVyXFxcIiBAY2hhbmdlPVxcXCJvbkV2ZW50KCdjaGFuZ2UnLCAkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICBjbGFzcz1cXFwiZm9ybS1jb250cm9sLXBsYWludGV4dCBocHJpb3IgdXRpbF9lZGl0YWJsZS10ZXh0X2lucHV0XFxcIj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcInV0aWxfZWRpdGFibGUtdGV4dF9ib3JkZXJcXFwiPjwvc3Bhbj5cXG4gIDwvZGl2PlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdCBsYW5nPVxcXCJ0c1xcXCI+XFxuXFxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFxcXCIuLi92dWVcXFwiO1xcblxcbkBWQ29tcG9uZW50XFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVUZXh0IGV4dGVuZHMgVnVlIHtcXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxcbiAgdmFsdWUhOiBzdHJpbmc7XFxuXFxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcXG5cXG4gIEBWUHJvcCh7ZGVmYXVsdDogJyd9KVxcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmdcXG5cXG4gIEBWUHJvcCh7ZGVmYXVsdDogdW5kZWZpbmVkfSlcXG4gIGZpbHRlcj86ICh0ZXh0OiBzdHJpbmcpID0+IHN0cmluZztcXG5cXG4gIG9uRXZlbnQoZXY6IHN0cmluZywgZXZlbnQ6IElucHV0RXZlbnQpIHtcXG4gICAgY29uc3QgZXQgPSBldmVudC50YXJnZXQgYXMgYW55O1xcbiAgICBpZiAodGhpcy5maWx0ZXIgIT09IHVuZGVmaW5lZCkge1xcbiAgICAgIGV0LnZhbHVlID0gdGhpcy5maWx0ZXIoZXQudmFsdWUpO1xcbiAgICB9XFxuICAgIHRoaXMuJGVtaXQoZXYsIGV0LnZhbHVlKTtcXG4gIH1cXG59XFxuXFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbi51dGlsX2VkaXRhYmxlLXRleHRfZGl2IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogNXB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcbi51dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMXB4O1xcblxcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzLCBib3JkZXIgMHMgMC4ycztcXG59XFxuXFxuLnV0aWxfZWRpdGFibGUtdGV4dF9pbnB1dDpmb2N1cyB+IC51dGlsX2VkaXRhYmxlLXRleHRfYm9yZGVyIHtcXG4gIGJvcmRlci1jb2xvcjogIzQyODVGNDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdHJhbnNpdGlvbjogd2lkdGggMC4zcztcXG59XFxuXFxuLmhwcmlvci51dGlsX2VkaXRhYmxlLXRleHRfaW5wdXQge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgcGFkZGluZzogM3B4IDEwcHg7XFxuICBtYXJnaW46IDA7XFxuICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggI2VlZWVlZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbjwvc3R5bGU+XFxuXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3NcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzFfX18gZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC12dWUvZGlzdC9ib290c3RyYXAtdnVlLmNzc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TWVyaWVuZGErT25lJmRpc3BsYXk9c3dhcCk7XCJdKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIjpyb290IHtcXG4gICAgLS10b3BiYXItaGVpZ2h0OiA0MHB4O1xcbn1cXG5cXG4qIHtcXG4gICAgZm9udC1mYW1pbHk6ICdNZXJpZW5kYSBPbmUnLCBjdXJzaXZlO1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgY29sb3I6IHdoaXRlO1xcblxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBZ0FBQUFJQ0FZQUFBREVENzZMQUFBQVBrbEVRVlFvVTJOa1lHQXdabUJnT01zQUFTRDJjd1lHaG1jd1BpT1VJY1hBd0NDSnBCRE9oeW5BMEFrekNhUUEyUW9NazBBS1FJSndPK252Qm1NQWsyWVd2RGhZQlJvQUFBQUFTVVZPUks1Q1lJST0pO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU0NzJjICFpbXBvcnRhbnQ7XFxufVxcblxcbi5waGFzZS1jb250YWluZXIge1xcbn1cXG5cXG4uZm9vdGVyIHtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICBib3R0b206IDA7XFxufVxcblxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA2MDBweCkge1xcbiAgICAuZm9vdGVyIHtcXG4gICAgICAgIHBvc2l0aW9uOiBzdGF0aWM7XFxuICAgIH1cXG59XFxuXFxuLnVuZGVyLW5hdmJhciB7XFxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvcGJhci1oZWlnaHQpICFpbXBvcnRhbnQ7XFxufVxcblxcbmRpdi51bmRlci1uYXZiYXIge1xcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS10b3BiYXItaGVpZ2h0KSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYi1zaWRlYmFyLnVuZGVyLW5hdmJhciB7XFxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIHZhcigtLXRvcGJhci1oZWlnaHQpKTtcXG59XFxuXFxuLmZvb3RlciwgLmdhbWUtZm9vdGVyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5idG4teHMge1xcbiAgICBwYWRkaW5nOiAuMjVyZW0gLjRyZW07XFxuICAgIGZvbnQtc2l6ZTogLjg3NXJlbTtcXG4gICAgbGluZS1oZWlnaHQ6IC41O1xcbiAgICBib3JkZXItcmFkaXVzOiAuMnJlbTtcXG59XFxuXFxuLm1vZGFsLWZ1bGxzY3JlZW4ge1xcbiAgICBoZWlnaHQ6IDkyJTtcXG59XFxuLm1vZGFsLWZ1bGxzY3JlZW4gLm1vZGFsLWNvbnRlbnQge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5tb2RhbC14eGwge1xcbiAgICB3aWR0aDogOTIlICFpbXBvcnRhbnQ7XFxuICAgIG1heC13aWR0aDogOTIlICFpbXBvcnRhbnQ7XFxufVxcblxcbiNjYW52YXMtY29udGFpbmVyIGNhbnZhcyB7XFxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxufVxcblxcbi5nMTEge1xcbiAgICBncmlkLWNvbHVtbjogMTtcXG4gICAgZ3JpZC1yb3c6IDE7XFxufVxcblxcbi5yb3RhdGUge1xcbiAgICBhbmltYXRpb246IHJvdGF0aW9uIDFzIGluZmluaXRlIGxpbmVhcjtcXG59XFxuXFxuLyoqIEFOSU1BVElPTlMgKiovXFxuXFxuQGtleWZyYW1lcyByb3RhdGlvbiB7XFxuICAgIGZyb20ge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICAgIH1cXG4gICAgdG8ge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzU5ZGVnKTtcXG4gICAgfVxcbn1cXG5cXG5cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvcHVibGljL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFJQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLFlBQVk7O0lBRVosNk1BQTZNO0lBQzdNLG9DQUFvQztBQUN4Qzs7QUFFQTtBQUNBOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFNBQVM7QUFDYjs7O0FBR0E7SUFDSTtRQUNJLGdCQUFnQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMENBQTBDO0FBQzlDOztBQUVBO0lBQ0ksV0FBVztJQUNYLHFDQUFxQztBQUN6Qzs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZjtBQUNBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxzQ0FBc0M7QUFDMUM7O0FBRUEsaUJBQWlCOztBQUVqQjtJQUNJO1FBQ0ksdUJBQXVCO0lBQzNCO0lBQ0E7UUFDSSx5QkFBeUI7SUFDN0I7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NZXJpZW5kYStPbmUmZGlzcGxheT1zd2FwJyk7XFxuQGltcG9ydCAnfmJvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAuY3NzJztcXG5AaW1wb3J0ICd+Ym9vdHN0cmFwLXZ1ZS9kaXN0L2Jvb3RzdHJhcC12dWUuY3NzJztcXG5cXG46cm9vdCB7XFxuICAgIC0tdG9wYmFyLWhlaWdodDogNDBweDtcXG59XFxuXFxuKiB7XFxuICAgIGZvbnQtZmFtaWx5OiAnTWVyaWVuZGEgT25lJywgY3Vyc2l2ZTtcXG59XFxuXFxuYm9keSB7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG5cXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWdBQUFBSUNBWUFBQURFRDc2TEFBQUFQa2xFUVZRb1UyTmtZR0F3Wm1CZ09Nc0FBU0QyY3dZR2htY3dQaU9VSWNYQXdDQ0pwQkRPaHluQTBBa3pDYVFBMlFvTWswQUtRSUp3TytudkJtTUFrMllXdkRoWUJSb0FBQUFBU1VWT1JLNUNZSUk9KTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNDcyYyAhaW1wb3J0YW50O1xcbn1cXG5cXG4ucGhhc2UtY29udGFpbmVyIHtcXG59XFxuXFxuLmZvb3RlciB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm90dG9tOiAwO1xcbn1cXG5cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNjAwcHgpIHtcXG4gICAgLmZvb3RlciB7XFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcbiAgICB9XFxufVxcblxcbi51bmRlci1uYXZiYXIge1xcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS10b3BiYXItaGVpZ2h0KSAhaW1wb3J0YW50O1xcbn1cXG5cXG5kaXYudW5kZXItbmF2YmFyIHtcXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tdG9wYmFyLWhlaWdodCkgIWltcG9ydGFudDtcXG59XFxuXFxuLmItc2lkZWJhci51bmRlci1uYXZiYXIge1xcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSk7XFxufVxcblxcbi5mb290ZXIsIC5nYW1lLWZvb3RlciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4uYnRuLXhzIHtcXG4gICAgcGFkZGluZzogLjI1cmVtIC40cmVtO1xcbiAgICBmb250LXNpemU6IC44NzVyZW07XFxuICAgIGxpbmUtaGVpZ2h0OiAuNTtcXG4gICAgYm9yZGVyLXJhZGl1czogLjJyZW07XFxufVxcblxcbi5tb2RhbC1mdWxsc2NyZWVuIHtcXG4gICAgaGVpZ2h0OiA5MiU7XFxufVxcbi5tb2RhbC1mdWxsc2NyZWVuIC5tb2RhbC1jb250ZW50IHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4ubW9kYWwteHhsIHtcXG4gICAgd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbiAgICBtYXgtd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xcbn1cXG5cXG4jY2FudmFzLWNvbnRhaW5lciBjYW52YXMge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbn1cXG5cXG4uZzExIHtcXG4gICAgZ3JpZC1jb2x1bW46IDE7XFxuICAgIGdyaWQtcm93OiAxO1xcbn1cXG5cXG4ucm90YXRlIHtcXG4gICAgYW5pbWF0aW9uOiByb3RhdGlvbiAxcyBpbmZpbml0ZSBsaW5lYXI7XFxufVxcblxcbi8qKiBBTklNQVRJT05TICoqL1xcblxcbkBrZXlmcmFtZXMgcm90YXRpb24ge1xcbiAgICBmcm9tIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7XFxuICAgIH1cXG59XFxuXFxuXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyNjZjYTYzMTc3YmNhNmYzMzBhNzRlODNmZGM2MzE3OC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDYxZjM1NzkyOWY5ZjhkNjNkYTIwYjgxZTc0M2EwOTkucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImRhMTY3OThmNDZjNjY3MjMyM2Y5NTYzY2M4YzgzOGI5LnBuZ1wiOyIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IGVjc05hbWUgZnJvbSBcIi4vZWNzTmFtZS52dWVcIjtcbmltcG9ydCBlY3NOb3RlIGZyb20gXCIuL2Vjc05vdGUudnVlXCI7XG5pbXBvcnQgZWNzUG9zaXRpb24gZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlXCI7XG5pbXBvcnQgZWNzV2FsbCBmcm9tIFwiLi9lY3NXYWxsLnZ1ZVwiO1xuaW1wb3J0IGVjc0JhY2tncm91bmRJbWFnZSBmcm9tIFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXCI7XG5pbXBvcnQgZWNzUGluIGZyb20gXCIuL2Vjc1Bpbi52dWVcIjtcbmltcG9ydCBlY3NUcmFuc2Zvcm0gZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZVwiO1xuaW1wb3J0IGVjc0xpZ2h0IGZyb20gXCIuL2Vjc0xpZ2h0LnZ1ZVwiO1xuaW1wb3J0IGVjc1BsYXllciBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlXCI7XG5pbXBvcnQgZWNzRG9vciBmcm9tIFwiLi9lY3NEb29yLnZ1ZVwiO1xuaW1wb3J0IGVjc1Byb3AgZnJvbSBcIi4vZWNzUHJvcC52dWVcIjtcbmltcG9ydCBlY3NQcm9wVGVsZXBvcnQgZnJvbSBcIi4vZWNzUHJvcFRlbGVwb3J0LnZ1ZVwiO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCJcbmltcG9ydCB7VnVlLCBWQ29tcG9uZW50LCBWUHJvcH0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBlY3NOYW1lLCBlY3NOb3RlLCBlY3NQb3NpdGlvbiwgZWNzV2FsbCwgZWNzQmFja2dyb3VuZEltYWdlLCBlY3NQaW4sIGVjc1RyYW5zZm9ybSwgZWNzTGlnaHQsIGVjc1BsYXllciwgZWNzRG9vcixcbiAgICBlY3NQcm9wLCBlY3NQcm9wVGVsZXBvcnRcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0NvbXBvbmVudFdyYXBwZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7ZGVmYXVsdDogZmFsc2V9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICB2aXNpYmxlID0gdHJ1ZTtcblxuICBnZXQgY29tcG9uZW50VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnZWNzLScgKyB0aGlzLmNvbXBvbmVudC50eXBlLnJlcGxhY2UoJ18nLCAnLScpO1xuICB9XG59XG4iLCJcblxuXG5cblxuaW1wb3J0IHtWdWUsIFZDb21wb25lbnQsIFZQcm9wfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9jb21wb25lbnRcIjtcbmltcG9ydCB7QmFja2dyb3VuZEltYWdlQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFja2dyb3VuZEltYWdlU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NCYWNrZ3JvdW5kSW1hZ2UgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgY29tcG9uZW50ITogQmFja2dyb3VuZEltYWdlQ29tcG9uZW50O1xufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtEb29yQ29tcG9uZW50LCBEb29yVHlwZX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2Rvb3JTeXN0ZW1cIjtcbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXCIuLi92dWVcIjtcblxuQFZDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc0Rvb3IgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgY29tcG9uZW50ITogRG9vckNvbXBvbmVudDtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIGRvb3JUeXBlOiBEb29yVHlwZSA9IERvb3JUeXBlLk5PUk1BTF9SSUdIVDtcbiAgb3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICBsb2NrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBvbkNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnQuZG9vclR5cGUgIT09IHRoaXMuZG9vclR5cGUpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnZG9vcicsICdkb29yVHlwZScsIHRoaXMuZG9vclR5cGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb21wb25lbnQub3BlbiAhPT0gdGhpcy5vcGVuKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2Rvb3InLCAnb3BlbicsIHRoaXMub3Blbik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbXBvbmVudC5sb2NrZWQgIT09IHRoaXMubG9ja2VkKSB7XG4gICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ2Rvb3InLCAnbG9ja2VkJywgdGhpcy5sb2NrZWQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBkb29yVHlwZU5hbWUoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMuZG9vclR5cGUpIHtcbiAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX0xFRlQ6XG4gICAgICAgIHJldHVybiBcIk5vcm1hbFwiO1xuICAgICAgY2FzZSBEb29yVHlwZS5OT1JNQUxfUklHSFQ6XG4gICAgICAgIHJldHVybiBcIk5vcm1hbCByaWdodFwiO1xuICAgICAgY2FzZSBEb29yVHlwZS5ST1RBVEU6XG4gICAgICAgIHJldHVybiBcIlJvdGF0aW5nXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJVbmtub3duPz9cIlxuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5kb29yVHlwZScpXG4gIG9uQ0Rvb3JUeXBlQ2hhbmdlZCh2YWw6IERvb3JUeXBlKSB7XG4gICAgdGhpcy5kb29yVHlwZSA9IHZhbDtcbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5vcGVuJylcbiAgb25DT3BlbkNoYW5nZWQodmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5vcGVuID0gdmFsO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LmxvY2tlZCcpXG4gIG9uQ0xvY2tlZENoYW5nZWQodmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5sb2NrZWQgPSB2YWw7XG4gIH1cblxuICBAVldhdGNoKCdkb29yVHlwZScpXG4gIG9uRG9vclR5cGVDaGFuZ2VkKCkge1xuICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgfVxuXG4gIEBWV2F0Y2goJ29wZW4nKVxuICBvbk9wZW5DaGFuZ2VkKCkge1xuICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgfVxuXG4gIEBWV2F0Y2goJ2xvY2tlZCcpXG4gIG9uTG9ja2VkQ2hhbmdlZCgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7TGlnaHRDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcbmltcG9ydCBFZGl0YWJsZUNvbG9yIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlQ29sb3IudnVlXCI7XG5pbXBvcnQgRWRpdGFibGVOdW1iZXIgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlQ29sb3IsIEVkaXRhYmxlTnVtYmVyLFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTGlnaHQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogTGlnaHRDb21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIGNvbG9yOiBzdHJpbmcgPSAnJztcbiAgcmFuZ2U6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGxldCBjID0gc3RyaW5nMmhleCh0aGlzLmNvbG9yKTtcbiAgICBpZiAodGhpcy5jb21wb25lbnQuY29sb3IgIT09IGMgJiYgdGhpcy5jb2xvciAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnbGlnaHQnLCAnY29sb3InLCBjKTtcbiAgICB9XG4gICAgbGV0IHIgPSBwYXJzZUZsb2F0KHRoaXMucmFuZ2UpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5yYW5nZSAhPT0gciAmJiB0aGlzLnJhbmdlICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdsaWdodCcsICdyYW5nZScsIHIpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5jb2xvcicpXG4gIG9uQ0NvbG9yQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuY29sb3IgPSB2YWwgPT09IHVuZGVmaW5lZCA/ICcnIDogaGV4MnN0cmluZyh2YWwpO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnJhbmdlJylcbiAgb25DUmFuZ2VDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5yYW5nZSA9ICh2YWwgPz8gJycpICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtOYW1lQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IEVkaXRhYmxlVGV4dCBmcm9tIFwiLi4vdXRpbC9lZGl0YWJsZVRleHQudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlVGV4dFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTmFtZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBOYW1lQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBuYW1lOiBzdHJpbmcgPSAnJztcblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubmFtZScpXG4gIG9uQ05hbWVDaGFuZ2VkKHZhbDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5uYW1lID0gdmFsID8/ICcnO1xuICB9XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICduYW1lJywgJ25hbWUnLCB0aGlzLm5hbWUsIHRoaXMuY29tcG9uZW50Lm11bHRpSWQpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtOb3RlQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzTm90ZSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBOb3RlQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBub3RlOiBzdHJpbmcgPSAnJztcblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubm90ZScpXG4gIG9uQ05vdGVDaGFuZ2VkKHZhbDogc3RyaW5nKSB7XG4gICAgdGhpcy5ub3RlID0gdmFsO1xuICB9XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdub3RlJywgJ25vdGUnLCB0aGlzLm5vdGUsIHRoaXMuY29tcG9uZW50Lm11bHRpSWQpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZXYXRjaEltbWVkaWF0ZSwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IHtQaW5Db21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9waW5TeXN0ZW1cIjtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuaW1wb3J0IHN0cmluZzJoZXggPSBQSVhJLnV0aWxzLnN0cmluZzJoZXg7XG5cbmltcG9ydCBFZGl0YWJsZVRleHQgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZVwiO1xuaW1wb3J0IEVkaXRhYmxlQ29sb3IgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVDb2xvci52dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWRpdGFibGVUZXh0LCBFZGl0YWJsZUNvbG9yXG4gIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NQaW4gZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgY29tcG9uZW50ITogUGluQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICBjb2xvcjogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IGMgPSBzdHJpbmcyaGV4KHRoaXMuY29sb3IpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5jb2xvciAhPT0gYyAmJiB0aGlzLmNvbG9yICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwaW4nLCAnY29sb3InLCBjKTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQuY29sb3InKVxuICBvbkNDb2xvckNoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmNvbG9yID0gdmFsID09PSB1bmRlZmluZWQgPyBcIlwiIDogaGV4MnN0cmluZyh2YWwpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1BsYXllckNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IEVkaXRhYmxlTnVtYmVyIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZU51bWJlclxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUGxheWVyIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBsYXllckNvbXBvbmVudDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgbmlnaHRWaXNpb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgcmFuZ2U6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5uaWdodFZpc2lvbiAhPT0gdGhpcy5uaWdodFZpc2lvbikge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwbGF5ZXInLCAnbmlnaHRWaXNpb24nLCB0aGlzLm5pZ2h0VmlzaW9uKTtcbiAgICB9XG4gICAgbGV0IGMgPSBwYXJzZUZsb2F0KHRoaXMucmFuZ2UpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC5yYW5nZSAhPT0gYyAmJiB0aGlzLnJhbmdlICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwbGF5ZXInLCAncmFuZ2UnLCBjKTtcbiAgICB9XG4gIH1cblxuICBAVldhdGNoSW1tZWRpYXRlKCdjb21wb25lbnQubmlnaHRWaXNpb24nKVxuICBvbkNOaWdodFZpc2lvbkNoYW5nZWQodmFsOiBib29sZWFuIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5uaWdodFZpc2lvbiA9ICEhdmFsO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnJhbmdlJylcbiAgb25DUmFuZ2VDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5yYW5nZSA9ICh2YWwgPz8gJycpICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Bvc2l0aW9uQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IEVkaXRhYmxlTnVtYmVyIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZU51bWJlcixcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1Bvc2l0aW9uIGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFBvc2l0aW9uQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICB4OiBzdHJpbmcgPSAnJztcbiAgeTogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IHggPSBwYXJzZUZsb2F0KHRoaXMueCk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50LnggIT09IHggJiYgdGhpcy54ICE9PSAnJykge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICdwb3NpdGlvbicsICd4JywgeCk7XG4gICAgfVxuICAgIGxldCB5ID0gcGFyc2VGbG9hdCh0aGlzLnkpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudC55ICE9PSB5ICYmIHRoaXMueSAhPT0gJycpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAncG9zaXRpb24nLCAneScsIHkpO1xuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC54JylcbiAgb25DeENoYW5nZWQodmFsOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnggPSAodmFsID8/ICcnKSArICcnO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnknKVxuICBvbkN5Q2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMueSA9ICh2YWwgPz8gJycpICsgJyc7XG4gIH1cbn1cbiIsIlxuXG5cblxuaW1wb3J0IHtWdWUsIFZDb21wb25lbnQsIFZQcm9wfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Byb3BDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wcm9wU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFY3NCYWNrZ3JvdW5kSW1hZ2UgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSkgY29tcG9uZW50ITogUHJvcENvbXBvbmVudDtcbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQge1ZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UHJvcFRlbGVwb3J0fSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcHJvcFN5c3RlbVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzUHJvcFRlbGVwb3J0IGV4dGVuZHMgVnVlIHtcbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGNvbXBvbmVudCE6IFByb3BUZWxlcG9ydDtcblxuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgaXNBZG1pbiE6IGJvb2xlYW47XG5cbiAgZm9jdXNUYXJnZXQoKSB7XG4gICAgY29uc29sZS53YXJuKFwiVE9ETzogZm9jdXMgdGFyZ2V0XCIpXG4gIH1cblxuICBsaW5rKCkge1xuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnQCcsICdwcm9wX3RlbGVwb3J0X2xpbmsnLCB0aGlzLmNvbXBvbmVudC5lbnRpdHkpO1xuICB9XG5cbiAgdXNlKCkge1xuICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAnQCcsICdwcm9wX3VzZScsIHRoaXMuY29tcG9uZW50LmVudGl0eSk7XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7REVHX1RPX1JBRCwgUkFEX1RPX0RFR30gZnJvbSBcInBpeGkuanNcIjtcblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWV2F0Y2hJbW1lZGlhdGUsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7VHJhbnNmb3JtQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vZWNzL2NvbXBvbmVudFwiO1xuaW1wb3J0IEVkaXRhYmxlTnVtYmVyIGZyb20gXCIuLi91dGlsL2VkaXRhYmxlTnVtYmVyLnZ1ZVwiO1xuXG5AVkNvbXBvbmVudCh7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBFZGl0YWJsZU51bWJlcixcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVjc1RyYW5zZm9ybSBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBUcmFuc2Zvcm1Db21wb25lbnQ7XG5cbiAgQFZQcm9wKHtyZXF1aXJlZDogdHJ1ZX0pXG4gIGlzQWRtaW4hOiBib29sZWFuO1xuXG4gIHJvdGF0aW9uOiBzdHJpbmcgPSAnJztcbiAgc2NhbGU6IHN0cmluZyA9ICcnO1xuXG4gIG9uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLnJvdGF0aW9uICE9PSAnJykge1xuICAgICAgbGV0IHIgPSAoKChwYXJzZUZsb2F0KHRoaXMucm90YXRpb24pICUgMzYwKSArIDM2MCkgJSAzNjApO1xuICAgICAgaWYgKHRoaXMuY29tcG9uZW50LnJvdGF0aW9uICE9PSByKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2Vjcy1wcm9wZXJ0eS1jaGFuZ2UnLCAndHJhbnNmb3JtJywgJ3JvdGF0aW9uJywgciAqIERFR19UT19SQUQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zY2FsZSAhPT0gJycpIHtcbiAgICAgIGxldCBzID0gcGFyc2VGbG9hdCh0aGlzLnNjYWxlKTtcbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5zY2FsZSAhPT0gcykge1xuICAgICAgICB0aGlzLiRlbWl0KCdlY3MtcHJvcGVydHktY2hhbmdlJywgJ3RyYW5zZm9ybScsICdzY2FsZScsIHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBWV2F0Y2hJbW1lZGlhdGUoJ2NvbXBvbmVudC5yb3RhdGlvbicpXG4gIG9uQ1JvdGF0aW9uQ2hhbmdlZCh2YWw6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucm90YXRpb24gPSAodmFsID8/IDApICogUkFEX1RPX0RFRyArICcnO1xuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnNjYWxlJylcbiAgb25DU2NhbGVDaGFuZ2VkKHZhbDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zY2FsZSA9ICh2YWwgPz8gMCkgKyAnJztcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVldhdGNoSW1tZWRpYXRlLCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1dhbGxDb21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy93YWxsU3lzdGVtXCI7XG5pbXBvcnQgRWRpdGFibGVOdW1iZXIgZnJvbSBcIi4uL3V0aWwvZWRpdGFibGVOdW1iZXIudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlTnVtYmVyLFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWNzV2FsbCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBjb21wb25lbnQhOiBXYWxsQ29tcG9uZW50O1xuXG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICBpc0FkbWluITogYm9vbGVhbjtcblxuICB3OiBzdHJpbmcgPSAnJztcbiAgaDogc3RyaW5nID0gJyc7XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgbGV0IHcgPSBwYXJzZUZsb2F0KHRoaXMudyk7XG4gICAgbGV0IGggPSBwYXJzZUZsb2F0KHRoaXMuaCk7XG4gICAgaWYgKCh0aGlzLmNvbXBvbmVudC52ZWNbMF0gIT09IHcgJiYgdGhpcy53ICE9PSAnJykgfHwgKHRoaXMuY29tcG9uZW50LnZlY1sxXSAhPT0gaCAmJiB0aGlzLmggIT09ICcnKSkge1xuICAgICAgdGhpcy4kZW1pdCgnZWNzLXByb3BlcnR5LWNoYW5nZScsICd3YWxsJywgJ3ZlYycsIFt3LCBoXSk7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaEltbWVkaWF0ZSgnY29tcG9uZW50LnZlYycpXG4gIG9uQ3hDaGFuZ2VkKHZlYzogW251bWJlciwgbnVtYmVyXSB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh2ZWMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy53ID0gJyc7XG4gICAgICB0aGlzLmggPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53ID0gdmVjWzBdICsgJyc7XG4gICAgICB0aGlzLmggPSB2ZWNbMV0gKyAnJztcbiAgICB9XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBFY3NDb21wb25lbnRXcmFwcGVyIGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQge1xuICBTRUxFQ1RJT05fVFlQRSxcbiAgU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSxcbiAgU2VsZWN0aW9uU3lzdGVtLFxuICBTZWxlY3Rpb25VaURhdGFcbn0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQge2NvbXBvbmVudENsb25lfSBmcm9tIFwiLi4vLi4vZWNzL2Vjc1V0aWxcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWNzQ29tcG9uZW50V3JhcHBlcixcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eUluc3BlY3QgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgd29ybGQhOiBXb3JsZDtcblxuICBkYXRhOiBTZWxlY3Rpb25VaURhdGEgPSB7XG4gICAgdHlwZTogU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSxcbiAgICBzZWxlY3RlZEVudGl0aWVzOiBbXSxcbiAgICBoaWRkZW46IGZhbHNlLFxuICAgIGFkZGFibGU6IFtdLFxuICAgIGNvbXBvbmVudHM6IFtdLFxuICAgIF9zYXZlOiBmYWxzZSxcbiAgICBfc3luYzogZmFsc2UsXG4gIH07XG5cbiAgb25FY3NQcm9wZXJ0eUNoYW5nZSh0eXBlOiBzdHJpbmcsIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBhbnksIG11bHRpSWQ/OiBudW1iZXIpIHtcbiAgICBsZXQgc2VsZWN0aW9uU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgIHNlbGVjdGlvblN5cy5zZXRQcm9wZXJ0eSh0aGlzLmRhdGEuc2VsZWN0ZWRFbnRpdGllcywgdHlwZSwgcHJvcGVydHksIHZhbHVlLCBtdWx0aUlkKTtcbiAgfVxuXG4gIGVtaXRTcGVjaWFsKG5hbWU6IHN0cmluZywgcGFyOiB1bmtub3duKSB7XG4gICAgdGhpcy5vbkVjc1Byb3BlcnR5Q2hhbmdlKCckJywgbmFtZSwgcGFyKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSkge1xuICAgICAgdGhpcy5kYXRhID0gY29tcG9uZW50Q2xvbmUocmVzKSBhcyBTZWxlY3Rpb25VaURhdGE7XG4gICAgfVxuICB9XG5cbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLmRhdGEgPSBjb21wb25lbnRDbG9uZSh0aGlzLndvcmxkLmdldFJlc291cmNlKFNFTEVDVElPTl9VSV9EQVRBX1RZUEUpIGFzIFNlbGVjdGlvblVpRGF0YSk7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICB1bm1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0NyZWF0aW9uSW5mb1Jlc291cmNlLCBDUkVBVElPTl9JTkZPX1RZUEUsIEdyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9lY3Mvd29ybGRcIjtcbmltcG9ydCB7IFRvb2xTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkRWRpdCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgdmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBleGl0QWZ0ZXJDcmVhdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHJlbG9hZFJlc291cmNlKCkge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLndvcmxkLmdldFJlc291cmNlKENSRUFUSU9OX0lORk9fVFlQRSkgYXMgQ3JlYXRpb25JbmZvUmVzb3VyY2UgfCB1bmRlZmluZWQ7XG4gICAgdGhpcy5leGl0QWZ0ZXJDcmVhdGlvbiA9IGluZm8/LmV4aXRBZnRlckNyZWF0aW9uID8/IHRydWU7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgIHR5cGU6IENSRUFUSU9OX0lORk9fVFlQRSxcbiAgICAgICAgICBleGl0QWZ0ZXJDcmVhdGlvbjogdGhpcy5leGl0QWZ0ZXJDcmVhdGlvbixcbiAgICAgIH0gYXMgQ3JlYXRpb25JbmZvUmVzb3VyY2UsICd1cGRhdGUnKTtcbiAgfVxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5yZWxvYWRSZXNvdXJjZSgpO1xuXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICB1bm1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XG4gICAgaWYgKHJlcy50eXBlID09PSBDUkVBVElPTl9JTkZPX1RZUEUpIHRoaXMucmVsb2FkUmVzb3VyY2UoKTtcbiAgICBlbHNlIGlmIChyZXMudHlwZSA9PT0gJ3Rvb2wnKSB7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9ICh0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KCd0b29sJykgYXMgVG9vbFN5c3RlbSkuaXNUb29sUGFydEVuYWJsZWQoJ2NyZWF0aW9uX2ZsYWcnKTtcbiAgICB9XG4gIH1cbn1cbiIsIlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcbmltcG9ydCBUb29sQmFyIGZyb20gXCIuL3Rvb2xCYXIudnVlXCI7XG5pbXBvcnQgU2lkZUJhciBmcm9tIFwiLi9zaWRlQmFyLnZ1ZVwiO1xuaW1wb3J0IFJlY29ubmVjdGlvbk1vZGFsIGZyb20gXCIuL3JlY29ubmVjdGlvbk1vZGFsLnZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHtcbiAgY29tcG9uZW50czoge1Rvb2xCYXIsIFNpZGVCYXIsIFJlY29ubmVjdGlvbk1vZGFsfSxcbiAgcHJvcHM6IFsnd29ybGQnXSxcbn0pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBIZXhhZ29uSWNvbiBmcm9tIFwiLi4vaWNvbnMvaGV4YWdvbkljb24udnVlXCI7XG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge0dyaWRUeXBlfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCBzdHJpbmcyaGV4ID0gUElYSS51dGlscy5zdHJpbmcyaGV4O1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2Vjcy93b3JsZFwiO1xuaW1wb3J0IGhleDJzdHJpbmcgPSBQSVhJLnV0aWxzLmhleDJzdHJpbmc7XG5pbXBvcnQge1Jlc291cmNlRWRpdENvbW1hbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL3Jlc291cmNlRWRpdENvbW1hbmRcIjtcblxudHlwZSBSZW5kZXJHcmlkT3B0cyA9IHtcbiAgdHlwZTogc3RyaW5nO1xuICB1bml0OiBzdHJpbmc7XG4gIHNpemU6IG51bWJlcjtcbiAgb2ZmWDogbnVtYmVyO1xuICBvZmZZOiBudW1iZXI7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgdGhpY2s6IG51bWJlcjtcbn1cblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7IEhleGFnb25JY29uIH1cbn0pXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkRWRpdCBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pXG4gIHdvcmxkITogV29ybGQ7XG5cbiAgZ3JpZDogUmVuZGVyR3JpZE9wdHMgPSB7XG4gICAgdHlwZTogXCJub25lXCIsXG4gICAgdW5pdDogJzAgbScsXG4gICAgc2l6ZTogMSxcbiAgICBvZmZYOiAwLFxuICAgIG9mZlk6IDAsXG4gICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgdGhpY2s6IDIsXG4gIH07XG4gIGRpc2FibGVXYXRjaFNhdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICByZWxvYWRHcmlkKCkge1xuICAgIHRoaXMuZGlzYWJsZVdhdGNoU2F2ZSA9IHRydWU7XG5cbiAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoJ2dyaWQnKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgc3dpdGNoIChncmlkLmdyaWRUeXBlKSB7XG4gICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046XG4gICAgICAgIHRoaXMuZ3JpZC50eXBlID0gJ2hleCdcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdyaWRUeXBlLlNRVUFSRTpcbiAgICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnc3F1YXJlJ1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoIWdyaWQudmlzaWJsZSkge1xuICAgICAgdGhpcy5ncmlkLnR5cGUgPSAnbm9uZSc7XG4gICAgfVxuICAgIGxldCBvcHRzID0gZ3JpZDtcbiAgICB0aGlzLmdyaWQudW5pdCA9IGdyaWQudW5pdE11bCArICcgJyArIGdyaWQudW5pdE5hbWU7XG4gICAgdGhpcy5ncmlkLnNpemUgPSBvcHRzLnNpemU7XG4gICAgdGhpcy5ncmlkLm9mZlggPSBvcHRzLm9mZlg7XG4gICAgdGhpcy5ncmlkLm9mZlkgPSBvcHRzLm9mZlk7XG4gICAgdGhpcy5ncmlkLmNvbG9yID0gaGV4MnN0cmluZyhvcHRzLmNvbG9yKTtcbiAgICB0aGlzLmdyaWQub3BhY2l0eSA9IG9wdHMub3BhY2l0eTtcbiAgICB0aGlzLmdyaWQudGhpY2sgPSBvcHRzLnRoaWNrO1xuXG4gICAgdGhpcy5kaXNhYmxlV2F0Y2hTYXZlID0gZmFsc2U7XG4gIH1cblxuICBtb3VudGVkKCkge1xuICAgIHRoaXMucmVsb2FkR3JpZCgpO1xuXG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICB1bm1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XG4gICAgaWYgKHJlcy50eXBlID09PSAnZ3JpZCcpIHRoaXMucmVsb2FkR3JpZCgpO1xuICB9XG5cbiAgcGFyc2VVbml0KHM6IHN0cmluZyk6IHsgbmFtZTogc3RyaW5nLCBtdWw6IG51bWJlcn0gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHBhdHRlcm4gPSAvXlxccyooWzAtOS4sXSspKC4rKSQvZztcblxuICAgIGxldCByZXMgPSBwYXR0ZXJuLmV4ZWMocyk7XG4gICAgaWYgKHJlcyA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGxldCBtdWwgPSAxO1xuICAgIHRyeSB7XG4gICAgICBtdWwgPSBwYXJzZUZsb2F0KHJlc1sxXSk7XG4gICAgfSBjYXRjaChlKSB7fVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHJlc1syXS50cmltKCksXG4gICAgICBtdWwsXG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaCgnZ3JpZCcsIHsgZGVlcDogdHJ1ZSB9KVxuICBvbkdyaWRDaGFuZ2UobmV3R3JpZDogYW55KSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZVdhdGNoU2F2ZSkgcmV0dXJuO1xuICAgIG5ld0dyaWQub2ZmWCA9IE1hdGgubWluKG5ld0dyaWQub2ZmWCwgbmV3R3JpZC5zaXplKTtcbiAgICBuZXdHcmlkLm9mZlkgPSBNYXRoLm1pbihuZXdHcmlkLm9mZlksIG5ld0dyaWQuc2l6ZSk7XG5cbiAgICBsZXQgdHlwZTtcbiAgICBzd2l0Y2ggKG5ld0dyaWQudHlwZSkge1xuICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgdHlwZSA9IEdyaWRUeXBlLkhFWEFHT047XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3F1YXJlJzpcbiAgICAgICAgdHlwZSA9IEdyaWRUeXBlLlNRVUFSRTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxldCBjbWQgPSB7XG4gICAgICBraW5kOiAncmVkaXQnLFxuICAgICAgYWRkOiBbXSwgcmVtb3ZlOiBbXSxcbiAgICAgIGVkaXQ6IHt9LFxuICAgIH0gYXMgUmVzb3VyY2VFZGl0Q29tbWFuZDtcbiAgICBpZiAodHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbWQuZWRpdFsnZ3JpZCddID0ge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBncmlkVHlwZTogdHlwZSxcbiAgICAgICAgc2l6ZTogbmV3R3JpZC5zaXplLFxuICAgICAgICBvZmZYOiBuZXdHcmlkLm9mZlgsXG4gICAgICAgIG9mZlk6IG5ld0dyaWQub2ZmWSxcbiAgICAgICAgY29sb3I6IHN0cmluZzJoZXgobmV3R3JpZC5jb2xvciksXG4gICAgICAgIG9wYWNpdHk6IHBhcnNlRmxvYXQobmV3R3JpZC5vcGFjaXR5KSxcbiAgICAgICAgdGhpY2s6IG5ld0dyaWQudGhpY2ssXG4gICAgICB9IGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgIGxldCB1bml0ID0gdGhpcy5wYXJzZVVuaXQobmV3R3JpZC51bml0KTtcbiAgICAgIGlmICh1bml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IGdyaWQgPSBjbWQuZWRpdC5ncmlkIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgZ3JpZC51bml0TXVsID0gdW5pdC5tdWw7XG4gICAgICAgIGdyaWQudW5pdE5hbWUgPSB1bml0Lm5hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNtZC5lZGl0WydncmlkJ10gPSB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9sb2cnLCBjbWQpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQge0RFRkFVTFRfTElHSFRfU0VUVElOR1MsIExpZ2h0U2V0dGluZ3MsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQgc3RyaW5nMmhleCA9IFBJWEkudXRpbHMuc3RyaW5nMmhleDtcbmltcG9ydCBoZXgyc3RyaW5nID0gUElYSS51dGlscy5oZXgyc3RyaW5nO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZEVkaXQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuXG4gIGFtYmllbnRMaWdodCA9ICcjMDAwMDAwJztcbiAgbmVlZHNMaWdodCA9IHRydWU7XG4gIHJvbGVwbGF5VmlzaW9uID0gZmFsc2U7XG4gIGJhY2tncm91bmQgPSAnIzAwMDAwMCc7XG5cbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XG4gIH1cblxuICB1bm1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlKSB7XG4gICAgaWYgKHJlcy50eXBlID09PSAnbGlnaHRfc2V0dGluZ3MnIHx8IHJlcy50eXBlID09PSAnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSB7XG4gICAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XG4gICAgfVxuICB9XG5cbiAgcmVsb2FkTGlnaHQoKSB7XG4gICAgbGV0IGxpZ2h0ID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZSgnbGlnaHRfc2V0dGluZ3MnKSBhcyBMaWdodFNldHRpbmdzO1xuICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gaGV4MnN0cmluZyhsaWdodC5hbWJpZW50TGlnaHQpO1xuICAgIHRoaXMubmVlZHNMaWdodCA9IGxpZ2h0Lm5lZWRzTGlnaHQ7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gaGV4MnN0cmluZyhsaWdodC5iYWNrZ3JvdW5kKTtcbiAgICBsZXQgbGxpZ2h0ID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZSgnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XG4gICAgdGhpcy5yb2xlcGxheVZpc2lvbiA9IGxsaWdodC52aXNpb25UeXBlID09PSAncnAnO1xuICB9XG5cbiAgb25BbWJpZW50TGlnaHRDaGFuZ2UoKSB7XG4gICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICB0eXBlOiAnbGlnaHRfc2V0dGluZ3MnLFxuICAgICAgYW1iaWVudExpZ2h0OiBzdHJpbmcyaGV4KHRoaXMuYW1iaWVudExpZ2h0KSxcbiAgICAgIG5lZWRzTGlnaHQ6IHRoaXMubmVlZHNMaWdodCxcbiAgICAgIGJhY2tncm91bmQ6IHN0cmluZzJoZXgodGhpcy5iYWNrZ3JvdW5kKSxcbiAgICB9IGFzIExpZ2h0U2V0dGluZ3MsICd1cGRhdGUnKTtcbiAgfVxuXG4gIG9uTGlnaHRTZXR0aW5nc1Jlc2V0KCkge1xuICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UoT2JqZWN0LmFzc2lnbih7XG4gICAgICB0eXBlOiAnbGlnaHRfc2V0dGluZ3MnLFxuICAgIH0sIERFRkFVTFRfTElHSFRfU0VUVElOR1MpIGFzIExpZ2h0U2V0dGluZ3MsICd1cGRhdGUnKTtcbiAgICB0aGlzLnJlbG9hZExpZ2h0KCk7XG4gIH1cblxuICBAVldhdGNoKCdyb2xlcGxheVZpc2lvbicpXG4gIG9uUlBWaXNDaGFuZ2UoKSB7XG4gICAgbGV0IHZpc2lvblR5cGUgPSB0aGlzLnJvbGVwbGF5VmlzaW9uID8gJ3JwJyA6ICdkbSc7XG5cbiAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZSgnbG9jYWxfbGlnaHRfc2V0dGluZ3MnLCB7dmlzaW9uVHlwZX0pO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7IFJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2Vjcy9yZXNvdXJjZVwiO1xuaW1wb3J0IHsgTmV0d29ya1N0YXR1c1Jlc291cmNlLCBORVRXT1JLX1NUQVRVU19UWVBFIH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svbmV0d29ya1N5c3RlbVwiO1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tIFwiLi4vLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQge25ldHdvcmtTdGF0dXMsIFZDb21wb25lbnQsIFZQcm9wLCBWdWV9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7IG9uSGFzaENoYW5nZSB9IGZyb20gXCIuLi8uLi9pbmRleFwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjb25uZWN0aW9uTW9kYWwgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuICB0cmFja2VyQ291bnQ6IG51bWJlciA9IDA7XG4gIGNvbm5lY3Rpb25Db3VudDogbnVtYmVyID0gMDtcbiAgaXNCb290c3RyYXBwZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBnZXQgc2hvdWxkQmVTaG93bigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIW5ldHdvcmtTdGF0dXMuaXNPbmxpbmUgfHwgdGhpcy5jb25uZWN0aW9uQ291bnQgPT09IDAgfHwgIXRoaXMuaXNCb290c3RyYXBwZWQ7XG4gIH1cblxuICBnZXQgYm9keU1lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICBsZXQgbXNnID0gJ0Nvbm5lY3RpbmcuLi4nO1xuICAgIGlmICghbmV0d29ya1N0YXR1cy5pc09ubGluZSkge1xuICAgICAgbXNnID0gJ0NoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbic7XG4gICAgfSBlbHNlIGlmICh0aGlzLnRyYWNrZXJDb3VudCA9PT0gMCAmJiB0aGlzLmNvbm5lY3Rpb25Db3VudCA9PT0gMCkge1xuICAgICAgbXNnID0gJ0Nvbm5lY3RpbmcgdG8gdHJhY2tlcnMuLi4nO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25uZWN0aW9uQ291bnQgPT09IDApIHtcbiAgICAgIG1zZyA9ICdXYWl0aW5nIGZvciBtYXN0ZXIuLi4nO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNCb290c3RyYXBwZWQpIHtcbiAgICAgIG1zZyA9ICdEb3dubG9hZGluZyBkYXRhLi4uJztcbiAgICB9XG4gICAgcmV0dXJuIG1zZztcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgXCJcIiwgJyMnKTtcbiAgICBvbkhhc2hDaGFuZ2UoKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gTkVUV09SS19TVEFUVVNfVFlQRSkge1xuICAgICAgY29uc3Qgc3RhdHVzID0gcmVzIGFzIE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcbiAgICAgIHRoaXMudHJhY2tlckNvdW50ID0gc3RhdHVzLnRyYWNrZXJDb3VudDtcbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ID0gc3RhdHVzLmNvbm5lY3Rpb25Db3VudDtcbiAgICAgIHRoaXMuaXNCb290c3RyYXBwZWQgPSBzdGF0dXMuaXNCb290c3RyYXBEb25lO1xuICAgIH1cbiAgfVxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gIH1cblxuICB1bm1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlLCBWV2F0Y2h9IGZyb20gXCIuLi92dWVcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3MvcmVzb3VyY2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9lY3Mvd29ybGRcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCBHcmlkRWRpdCBmcm9tIFwiLi9ncmlkRWRpdC52dWVcIjtcbmltcG9ydCBDcmVhdGlvbk9wdGlvbnMgZnJvbSBcIi4vY3JlYXRpb25PcHRpb25zLnZ1ZVwiO1xuaW1wb3J0IExpZ2h0U2V0dGluZ3NFZGl0IGZyb20gXCIuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZVwiO1xuaW1wb3J0IEVudGl0eUluc3BlY3QgZnJvbSBcIi4uL2Vjcy9lbnRpdHlJbnNwZWN0LnZ1ZVwiO1xuaW1wb3J0IHtORVRXT1JLX1NUQVRVU19UWVBFLCBOZXR3b3JrU3RhdHVzUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7XG4gICAgR3JpZEVkaXQsIEVudGl0eUluc3BlY3QsIExpZ2h0U2V0dGluZ3NFZGl0LCBDcmVhdGlvbk9wdGlvbnNcbiAgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xCYXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuXG4gIHRvb2wgPSAnaW5zcGVjdCc7XG4gIGNvbm5lY3Rpb25Db3VudCA9IDA7XG4gIHRyYWNrZXJDb3VudCA9IDA7XG4gIGNvbm5lY3Rpb25CdWZmZXJpbmcgPSBmYWxzZTtcblxuICBtb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICB9XG5cbiAgdW5tb3VudGVkKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLm9mZigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gVE9PTF9UWVBFKSB7XG4gICAgICB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XG4gICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gTkVUV09SS19TVEFUVVNfVFlQRSkge1xuICAgICAgbGV0IHIgPSByZXMgYXMgTmV0d29ya1N0YXR1c1Jlc291cmNlO1xuICAgICAgdGhpcy50cmFja2VyQ291bnQgPSByLnRyYWNrZXJDb3VudDtcbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ID0gci5jb25uZWN0aW9uQ291bnQ7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25CdWZmZXJpbmcgPSByLmlzQnVmZmVyaW5nO1xuICAgIH1cbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZSwgVldhdGNofSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3Jlc291cmNlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vZWNzL3dvcmxkXCI7XG5pbXBvcnQge0JBQ0tHUk9VTkRfTEFZRVJfVFlQRSwgQmFja2dyb3VuZExheWVyUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFJlc291cmNlfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi8uLi9lY3MvdG9vbHMvdG9vbFR5cGVcIjtcblxuaW1wb3J0IE1vdXNlVHJhaWxJY29uIGZyb20gXCIuLi9pY29ucy9tb3VzZVRyYWlsSWNvbi52dWVcIjtcbmltcG9ydCBXYWxsSWNvbiBmcm9tIFwiLi4vaWNvbnMvd2FsbEljb24udnVlXCI7XG5cblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7TW91c2VUcmFpbEljb24sIFdhbGxJY29ufVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xCYXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3AoeyByZXF1aXJlZDogdHJ1ZSB9KVxuICB3b3JsZCE6IFdvcmxkO1xuXG4gIHRvb2wgPSAnaW5zcGVjdCc7XG4gIGJhY2tncm91bmRMb2NrZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNhblVuZG8gPSBmYWxzZTtcbiAgY2FuUmVkbyA9IGZhbHNlO1xuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub24oJ2NvbW1hbmRfaGlzdG9yeV9jaGFuZ2UnLCB0aGlzLm9uQ29tbWFuZEhpc3RvcnlDaGFuZ2UsIHRoaXMpO1xuXG4gICAgbGV0IHggPSAodGhpcy4kcmVmcy5yYWRpb2luc3BlY3QgYXMgVnVlKTtcbiAgICB4LiRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XG4gICAgICBpZiAodGhpcy50b29sID09PSAnaW5zcGVjdCcpIHtcbiAgICAgICAgbGV0IGxvY2tlZCA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkgYXMgQmFja2dyb3VuZExheWVyUmVzb3VyY2UpLmxvY2tlZDtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoQkFDS0dST1VORF9MQVlFUl9UWVBFLCB7IGxvY2tlZDogIWxvY2tlZCB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVubW91bnRlZCgpIHtcbiAgICB0aGlzLndvcmxkLmV2ZW50cy5vZmYoJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgdGhpcy53b3JsZC5ldmVudHMub2ZmKCdjb21tYW5kX2hpc3RvcnlfY2hhbmdlJywgdGhpcy5vbkNvbW1hbmRIaXN0b3J5Q2hhbmdlLCB0aGlzKTtcbiAgfVxuXG4gIG9uQ29tbWFuZEhpc3RvcnlDaGFuZ2UoY2FuVW5kbzogYm9vbGVhbiwgY2FuUmVkbzogYm9vbGVhbikge1xuICAgIHRoaXMuY2FuVW5kbyA9IGNhblVuZG87XG4gICAgdGhpcy5jYW5SZWRvID0gY2FuUmVkbztcbiAgfVxuXG4gIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSkge1xuICAgIGlmIChyZXMudHlwZSA9PT0gQkFDS0dST1VORF9MQVlFUl9UWVBFKSB7XG4gICAgICB0aGlzLmJhY2tncm91bmRMb2NrZWQgPSAocmVzIGFzIEJhY2tncm91bmRMYXllclJlc291cmNlKS5sb2NrZWQ7XG4gICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gVE9PTF9UWVBFKSB7XG4gICAgICB0aGlzLnRvb2wgPSAocmVzIGFzIFRvb2xSZXNvdXJjZSkudG9vbCE7XG4gICAgfVxuICB9XG5cbiAgQFZXYXRjaCgndG9vbCcpXG4gIG9uVG9vbEVkaXQodG9vbDogVG9vbCkge1xuICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKCd0b29sJywge3Rvb2x9KTtcbiAgfVxuXG4gIHVuZG8oKSB7XG4gICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF91bmRvJyk7XG4gIH1cblxuICByZWRvKCkge1xuICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2NvbW1hbmRfcmVkbycpO1xuICB9XG59XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7fSk7XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IEZvb3RlckNvbXBvbmVudCBmcm9tIFwiLi4vZm9vdGVyLnZ1ZVwiO1xuaW1wb3J0IE1hcElucHV0IGZyb20gXCIuL21hcElucHV0LnZ1ZVwiO1xuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVnVlLCBQaGFzZVZ1ZSwgVldhdGNoLCBWUmVmfSBmcm9tIFwiLi4vdnVlXCI7XG5pbXBvcnQgRXZlbnRFbWl0dGVyID0gUElYSS51dGlscy5FdmVudEVtaXR0ZXI7XG5pbXBvcnQge0JNb2RhbH0gZnJvbSBcImJvb3RzdHJhcC12dWVcIjtcblxuQFZDb21wb25lbnQoe1xuICBjb21wb25lbnRzOiB7IE1hcElucHV0LCBGb290ZXJDb21wb25lbnQgfVxufSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWVDb21wb25lbnQgZXh0ZW5kcyBWdWUgaW1wbGVtZW50cyBQaGFzZVZ1ZSB7XG4gIEBWUmVmKCdtYXAtbG9hZC1tb2RhbCcpIHJlYWRvbmx5IG1hcExvYWRNb2RhbCE6IEJNb2RhbDtcblxuICBmaWxlOiBhbnkgPSBudWxsO1xuICBwZW5kaW5nT3A6IHN0cmluZyA9IFwiXCI7XG4gIGV2ZW50RW1pdHRlciE6IEV2ZW50RW1pdHRlcjtcblxuICBvbkNyZWF0ZU1hcCgpIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiY3JlYXRlX21hcFwiKTtcbiAgfVxuXG4gIG9uRWRpdE1hcCgpIHtcbiAgICB0aGlzLnBlbmRpbmdPcCA9ICdlZGl0JztcbiAgICB0aGlzLm1hcExvYWRNb2RhbC5zaG93KCk7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImVkaXRfbWFwXCIpO1xuICB9XG5cbiAgbWFwTG9hZENhbmNlbCgpIHtcbiAgICB0aGlzLm1hcExvYWRNb2RhbC5oaWRlKCk7XG4gIH1cblxuICBAVldhdGNoKCdmaWxlJylcbiAgb25GaWxlQ2hhbmdlZCh2YWw6IGFueSkge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgY29uc29sZS5sb2coXCJGaWxlIGRyb3BwZWQsIGxvYWRpbmc6IFwiICsgdGhpcy5wZW5kaW5nT3ApO1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQodGhpcy5wZW5kaW5nT3AsIHRoaXMuZmlsZSk7XG4gICAgdGhpcy5maWxlID0gbnVsbDtcbiAgICB0aGlzLm1hcExvYWRDYW5jZWwoKTtcbiAgfVxufVxuIiwiXG5cblxuXG5cblxuXG5cblxuXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7fSk7XG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe30pO1xuIiwiXG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHtWQ29tcG9uZW50fSBmcm9tIFwiLi4vdnVlXCI7XG5cbmNvbnN0IExPQURJTkdfUEhSQVNFUyA9IFtcbiAgXCJQZXJzdWFkaW5nIGRyYWdvbnMgdG8gY29vcGVyYXRlLi4uXCIsXG4gIFwiQSBEd2FyZiwgYW4gRWxmIGFuZCBhIERyYWdvbmJvcmQgZW50ZXIgYSB0YXZlcm4uLi4gXFxcIldlJ3JlIGxvb2tpbmcgZm9yIGEgcXVlc3RcXFwiXCIsXG4gIFwiQW4gYW5jaWVudCBsZWdlbmQgdGVsbHMgdGhhdCBpZiB5b3UgaW5zdWx0IGEgZHJhZ29uIHRvIGV4aGF1c3Rpb24uLi4gdGhleSdsbCBlYXQgeW91IGFueXdheXNcIixcbiAgXCJSZWNoYXJnaW5nIHNwZWxsIHNsb3RzLi4uXCIsXG4gIFwiUm9sbCBhIENoYXJpc21hIHNhdmluZyB0aHJvdy4uLlwiLFxuICBcIkxvbmcgcmVzdCBpbiBwcm9ncmVzcy4uLlwiLFxuICBcIkZpdHRpbmcgb3V0IHRoZSBnb2JsaW4gYXJteS4uLlwiLFxuICBcIlRoZSBsYXN0IGJvc3MgeW91IGtpbGxlZCBtZXQgYSAyMHRoIGxldmVsIGNoaWVyaWMuLi4gVGhlIHJlc3QgaXMgdXAgdG8geW91ISA7KVwiLFxuICBcIlRoaXMgbWFwIG9ubHkgY29zdHMgMjVncCFcIixcbiAgXCJTb3JyeSwgeW91J2QgYmV0dGVyIGNyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgc2hlZXRcIixcbl07XG5cbmZ1bmN0aW9uIHJhbmRvbU1leCgpIHtcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExPQURJTkdfUEhSQVNFUy5sZW5ndGgpO1xuICByZXR1cm4gTE9BRElOR19QSFJBU0VTW2ldO1xufVxuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZyBleHRlbmRzIFZ1ZSB7XG4gIG1lc3NhZ2UgPSByYW5kb21NZXgoKTtcbn1cblxuIiwiXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuXG5AVkNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVDb2xvciBleHRlbmRzIFZ1ZSB7XG4gIEBWUHJvcCh7cmVxdWlyZWQ6IHRydWV9KVxuICB2YWx1ZSE6IHN0cmluZztcblxuICBAVlByb3Aoe2RlZmF1bHQ6IGZhbHNlfSlcbiAgcmVhZG9ubHkhOiBib29sZWFuO1xuXG4gIEBWUHJvcCh7ZGVmYXVsdDogJyd9KVxuICBwbGFjZWhvbGRlciE6IHN0cmluZztcbn1cblxuIiwiXG5cblxuXG5cblxuXG5cbmltcG9ydCB7VkNvbXBvbmVudCwgVlByb3AsIFZ1ZX0gZnJvbSBcIi4uL3Z1ZVwiO1xuaW1wb3J0IEVkaXRhYmxlVGV4dCBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlXCI7XG5cbkBWQ29tcG9uZW50KHtcbiAgY29tcG9uZW50czoge1xuICAgIEVkaXRhYmxlVGV4dFxuICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVOdW1iZXIgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgdmFsdWUhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcblxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiB0cnVlfSlcbiAgY2FuQmVOZWdhdGl2ZSE6IGJvb2xlYW47XG5cbiAgZmlsdGVyID0gKHM6IHN0cmluZykgPT4ge1xuICAgIGxldCBuZWcgPSBmYWxzZTtcbiAgICBpZiAoc1swXSA9PT0gJy0nKSB7XG4gICAgICBuZWcgPSB0aGlzLmNhbkJlTmVnYXRpdmU7XG4gICAgICBzID0gcy5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeCA9IG5lZyA/ICctJyA6ICcnO1xuICAgIHJldHVybiBwcmVmaXggKyBzLnNwbGl0KCcuJywgMilcbiAgICAgICAgLm1hcCh4ID0+IHgucmVwbGFjZSgvW14wLTldKi9nLCAnJykpXG4gICAgICAgIC5qb2luKCcuJyk7XG4gIH1cblxufVxuXG4iLCJcblxuXG5cblxuXG5cblxuXG5cblxuaW1wb3J0IHtWQ29tcG9uZW50LCBWUHJvcCwgVnVlfSBmcm9tIFwiLi4vdnVlXCI7XG5cbkBWQ29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0YWJsZVRleHQgZXh0ZW5kcyBWdWUge1xuICBAVlByb3Aoe3JlcXVpcmVkOiB0cnVlfSlcbiAgdmFsdWUhOiBzdHJpbmc7XG5cbiAgQFZQcm9wKHtkZWZhdWx0OiBmYWxzZX0pXG4gIHJlYWRvbmx5ITogYm9vbGVhbjtcblxuICBAVlByb3Aoe2RlZmF1bHQ6ICcnfSlcbiAgcGxhY2Vob2xkZXIhOiBzdHJpbmdcblxuICBAVlByb3Aoe2RlZmF1bHQ6IHVuZGVmaW5lZH0pXG4gIGZpbHRlcj86ICh0ZXh0OiBzdHJpbmcpID0+IHN0cmluZztcblxuICBvbkV2ZW50KGV2OiBzdHJpbmcsIGV2ZW50OiBJbnB1dEV2ZW50KSB7XG4gICAgY29uc3QgZXQgPSBldmVudC50YXJnZXQgYXMgYW55O1xuICAgIGlmICh0aGlzLmZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBldC52YWx1ZSA9IHRoaXMuZmlsdGVyKGV0LnZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy4kZW1pdChldiwgZXQudmFsdWUpO1xuICB9XG59XG5cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgJ3BpeGktbGF5ZXJzJ1xuXG5leHBvcnQgZGVmYXVsdCBQSVhJOyIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcblxuaW1wb3J0IFByb3BzSW1hZ2UgZnJvbSBcIlB1YmxpYy9pbWFnZXMvcHJvcHMucG5nXCI7XG5pbXBvcnQgUHJvcHNTcHJpdGVzaGVldCBmcm9tIFwiUHVibGljL3Nwcml0ZXNoZWV0cy9wcm9wcy5qc29uXCI7XG5cbmltcG9ydCBCYXNlVGV4dHVyZSA9IFBJWEkuQmFzZVRleHR1cmU7XG5pbXBvcnQgSW1hZ2VSZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2U7XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTcHJpdGVzaGVldChsb2FkZXI6IFBJWEkuTG9hZGVyLCBuYW1lOiBzdHJpbmcsIGltZ1VybDogc3RyaW5nLCBkYXRhOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltTcHJpdGVzaGVldF0gTG9hZGluZzogXCIgKyBuYW1lKTtcbiAgICAgICAgY29uc3QgaW1nRWxtID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZ0VsbS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICBpbWdFbG0ub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IEltYWdlUmVzb3VyY2UoaW1nRWxtKSkpO1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlc2hlZXQgPSBuZXcgUElYSS5TcHJpdGVzaGVldCh0ZXgsIGRhdGEpO1xuICAgICAgICAgICAgbG9hZGVyLnJlc291cmNlc1tuYW1lXSA9IG5ldyAoUElYSS5Mb2FkZXJSZXNvdXJjZSBhcyBhbnkpKG5hbWUsIFwiXCIpO1xuICAgICAgICAgICAgbG9hZGVyLnJlc291cmNlc1tuYW1lXS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1Nwcml0ZXNoZWV0XSBMb2FkZWQ6IFwiICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzcHJpdGVzaGVldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nRWxtLnNyYyA9IGltZ1VybDsgLy8gV2hlbiB0aGUgbGlzdGVuZXJzIGFyZSBzZXQsIHdlIGNhbiBmaW5hbGx5IHN0YXJ0IGRvd25sb2FkaW5nIHRoZSBpbWFnZS5cbiAgICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRBc3NldHMoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgbG9hZFNwcml0ZXNoZWV0KGxvYWRlciwgXCJwcm9wc1wiLCBQcm9wc0ltYWdlLCBQcm9wc1Nwcml0ZXNoZWV0KSxcbiAgICBdKTtcbn0iLCJpbXBvcnQge1dvcmxkfSBmcm9tIFwiLi93b3JsZFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZSwgTXVsdGlFY3NTdG9yYWdlLCBTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZW50aXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXVsdGlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIG11bHRpSWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaWRlYWJsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY2xpZW50VmlzaWJsZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OX1RZUEUgPSBcInBvc2l0aW9uXCI7XG5leHBvcnQgdHlwZSBQT1NJVElPTl9UWVBFID0gdHlwZW9mIFBPU0lUSU9OX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQT1NJVElPTl9UWVBFO1xuXG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFRSQU5TRk9STV9UWVBFID0gXCJ0cmFuc2Zvcm1cIjtcbmV4cG9ydCB0eXBlIFRSQU5TRk9STV9UWVBFID0gdHlwZW9mIFRSQU5TRk9STV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2Zvcm1Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFRSQU5TRk9STV9UWVBFO1xuXG4gICAgc2NhbGU6IG51bWJlcjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgTkFNRV9UWVBFID0gXCJuYW1lXCI7XG5leHBvcnQgdHlwZSBOQU1FX1RZUEUgPSB0eXBlb2YgTkFNRV9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBOYW1lQ29tcG9uZW50IGV4dGVuZHMgSGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50IHtcbiAgICB0eXBlOiBOQU1FX1RZUEU7XG5cbiAgICBuYW1lOiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IGNvbnN0IE5PVEVfVFlQRSA9IFwibm90ZVwiO1xuZXhwb3J0IHR5cGUgTk9URV9UWVBFID0gdHlwZW9mIE5PVEVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZUNvbXBvbmVudCBleHRlbmRzIEhpZGVhYmxlQ29tcG9uZW50LCBNdWx0aUNvbXBvbmVudCB7XG4gICAgdHlwZTogTk9URV9UWVBFO1xuXG4gICAgbm90ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgRk9MTE9XX01PVVNFX1RZUEUgPSBcImZvbGxvd19tb3VzZVwiO1xuZXhwb3J0IHR5cGUgRk9MTE9XX01PVVNFX1RZUEUgPSB0eXBlb2YgRk9MTE9XX01PVVNFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEZvbGxvd01vdXNlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRTtcbn1cblxuZXhwb3J0IGNvbnN0IEhPU1RfSElEREVOX1RZUEUgPSBcImhvc3RfaGlkZGVuXCI7XG5leHBvcnQgdHlwZSBIT1NUX0hJRERFTl9UWVBFID0gdHlwZW9mIEhPU1RfSElEREVOX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIaWRkZW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckNvbW1vblN0b3JhZ2UoZWNzOiBXb3JsZCkge1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBTaW5nbGVFY3NTdG9yYWdlKFBPU0lUSU9OX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgU2luZ2xlRWNzU3RvcmFnZShUUkFOU0ZPUk1fVFlQRSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBNdWx0aUVjc1N0b3JhZ2UoTkFNRV9UWVBFKSk7XG4gICAgZWNzLmFkZFN0b3JhZ2UobmV3IE11bHRpRWNzU3RvcmFnZShOT1RFX1RZUEUpKTtcbiAgICBlY3MuYWRkU3RvcmFnZShuZXcgRmxhZ0Vjc1N0b3JhZ2UoRk9MTE9XX01PVVNFX1RZUEUsIGZhbHNlLCBmYWxzZSkpO1xuICAgIGVjcy5hZGRTdG9yYWdlKG5ldyBGbGFnRWNzU3RvcmFnZShIT1NUX0hJRERFTl9UWVBFLCBmYWxzZSwgZmFsc2UpKTtcbn1cbiIsImltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQ29tcG9uZW50S2VlcEVudGl0eShjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudChjb21wOiBDb21wb25lbnQpOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjb21wKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycgfHwgbmFtZSA9PT0gJ2VudGl0eScgfHwgbmFtZSA9PT0gJ2NsaWVudFZpc2libGUnKSBjb250aW51ZTtcbiAgICAgICAgcmVzW25hbWVdID0gKGNvbXAgYXMgYW55KVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50Q2xvbmUob2JqOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufSIsImltcG9ydCB7QWFiYn0gZnJvbSBcIi4uL2dlb21ldHJ5L2FhYmJcIjtcblxuZXhwb3J0IGVudW0gR2VvbWVydHlRdWVyeVR5cGUge1xuICAgIFBPSU5ULCBBQUJCLFxufVxuXG5leHBvcnQgY2xhc3MgUXVlcnlIaXRFdmVudCB7XG4gICAgcmVhZG9ubHkgdHlwZTogR2VvbWVydHlRdWVyeVR5cGU7XG4gICAgcmVhZG9ubHkgbXVsdGk6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgYWFiYjogQWFiYjsvLyBJZiBpdCdzIGEgcG9pbnQgbWluWCA9IG1heFggJiYgbWluWSA9IG1heFlcbiAgICByZWFkb25seSBkYXRhOiBQSVhJLklQb2ludERhdGEgfCBBYWJiO1xuXG4gICAgaGl0cyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHR5cGU6IEdlb21lcnR5UXVlcnlUeXBlLCBtdWx0aTogYm9vbGVhbiwgYWFiYjogQWFiYiwgZGF0YT86IFBJWEkuSVBvaW50RGF0YSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLm11bHRpID0gbXVsdGk7XG4gICAgICAgIHRoaXMuYWFiYiA9IGFhYmI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgYWFiYjtcbiAgICB9XG5cbiAgICBzaG91bGRDb250aW51ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGkgfHwgdGhpcy5oaXRzLnNpemUgPT09IDA7XG4gICAgfVxuXG4gICAgYWRkSGl0KGVudGl0eTogbnVtYmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRDb250aW51ZSgpKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmhpdHMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIGxldCBvbGRQcmlvciA9IHRoaXMuaGl0cy5nZXQoZW50aXR5KSE7XG4gICAgICAgICAgICBpZiAob2xkUHJpb3IgPj0gcHJpb3JpdHkpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpdHMuc2V0KGVudGl0eSwgcHJpb3JpdHkpO1xuICAgIH1cblxuICAgIGdldFNvcnRlZCgpOiBBcnJheTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmhpdHMuZW50cmllcygpXS5zb3J0KHggPT4gLXhbMV0pLm1hcCh4ID0+IHhbMF0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVyeVBvaW50KHBvaW50OiBQSVhJLklQb2ludERhdGEsIG11bHRpOiBib29sZWFuKTogUXVlcnlIaXRFdmVudCB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlIaXRFdmVudChHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVCwgbXVsdGksIG5ldyBBYWJiKHBvaW50LngsIHBvaW50LnksIHBvaW50LngsIHBvaW50LnkpLCBwb2ludCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHF1ZXJ5QWFiYihhYWJiOiBBYWJiLCBtdWx0aTogYm9vbGVhbik6IFF1ZXJ5SGl0RXZlbnQge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SGl0RXZlbnQoR2VvbWVydHlRdWVyeVR5cGUuQUFCQiwgbXVsdGksIGFhYmIpO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtHcmlkT3B0aW9uc30gZnJvbSBcIi4uL2dhbWUvZ3JpZFwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuL3N5c3RlbXMvZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vZ2VvbWV0cnkvYWFiYlwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgX3NhdmU6IGJvb2xlYW47XG4gICAgX3N5bmM6IGJvb2xlYW47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSwgR3JpZE9wdGlvbnMge1xuICAgIHR5cGU6IEdSSURfVFlQRTtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogdHJ1ZTtcbn1cblxuXG5cbmV4cG9ydCBjb25zdCBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IFwicmVjdGFuZ3VsYXJfc2VsZWN0aW9uXCI7XG5leHBvcnQgdHlwZSBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSA9IHR5cGVvZiBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRTtcbiAgICBhYWJiOiBBYWJiO1xuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG59XG5cbmV4cG9ydCBjb25zdCBNRUFTVVJFX1RZUEUgPSBcIm1lYXN1cmVcIjtcbmV4cG9ydCB0eXBlIE1FQVNVUkVfVFlQRSA9IHR5cGVvZiBNRUFTVVJFX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIE1lYXN1cmVSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBNRUFTVVJFX1RZUEU7XG4gICAgZnJvbVg6IG51bWJlcjtcbiAgICBmcm9tWTogbnVtYmVyO1xuICAgIHRvWDogbnVtYmVyO1xuICAgIHRvWTogbnVtYmVyO1xuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG59XG5cblxuZXhwb3J0IGNvbnN0IENSRUFUSU9OX0lORk9fVFlQRSA9IFwiY3JlYXRpb25faW5mb1wiO1xuZXhwb3J0IHR5cGUgQ1JFQVRJT05fSU5GT19UWVBFID0gdHlwZW9mIENSRUFUSU9OX0lORk9fVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRpb25JbmZvUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogQ1JFQVRJT05fSU5GT19UWVBFO1xuICAgIGV4aXRBZnRlckNyZWF0aW9uOiBib29sZWFuO1xuICAgIF9zYXZlOiB0cnVlO1xuICAgIF9zeW5jOiBmYWxzZTtcbn0iLCJpbXBvcnQge0NvbXBvbmVudCwgSGlkZWFibGVDb21wb25lbnQsIE11bHRpQ29tcG9uZW50fSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7RGVzZXJpYWxpemVEYXRhLCBEZXNlcmlhbGl6ZU9wdGlvbnMsIFNlcmlhbGl6ZURhdGEsIFNlcmlhbGl6ZU9wdGlvbnMsIFdvcmxkfSBmcm9tIFwiLi93b3JsZFwiO1xuaW1wb3J0IHtnZW5lcmF0ZVJhbmRvbUlkfSBmcm9tIFwiLi9lY3NVdGlsXCI7XG5pbXBvcnQgeyBhcnJheUZpbHRlckluUGxhY2UgfSBmcm9tIFwiLi4vdXRpbC9hcnJheVwiO1xuaW1wb3J0IHsgb2JqZWN0RmlsdGVySW5wbGFjZSwgb2JqZWN0TWVyZ2UgfSBmcm9tIFwiLi4vdXRpbC9qc29ialwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVPYmoob2JqOiBDb21wb25lbnQsIHJlbW92ZUNsaWVudFZpc2libGU6IGJvb2xlYW4pOiBhbnkge1xuICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdfJyB8fCBuYW1lID09PSAnZW50aXR5JyB8fFxuICAgICAgICAgICAgbmFtZSA9PT0gJ3R5cGUnIHx8IChyZW1vdmVDbGllbnRWaXNpYmxlICYmIG5hbWUgPT09ICdjbGllbnRWaXNpYmxlJykpIGNvbnRpbnVlO1xuICAgICAgICByZXNbbmFtZV0gPSAob2JqIGFzIGFueSlbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWNzU3RvcmFnZTxDIGV4dGVuZHMgQ29tcG9uZW50PiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIGdldEZpcnN0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBtdWx0aUlkPzogbnVtYmVyKTogQyB8IHVuZGVmaW5lZDtcblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Qz5cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQ7XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQyk6IHZvaWQ7XG5cbiAgICB1bnJlZ2lzdGVyQWxsT2YoZW50aXR5OiBudW1iZXIpOiB2b2lkO1xuXG4gICAgc2VyaWFsaXplKG9wdGlvbnM6IFNlcmlhbGl6ZURhdGEpOiBhbnkgfCB1bmRlZmluZWQ7XG5cbiAgICBkZXNlcmlhbGl6ZShlY3M6IFdvcmxkLCBkc0RhdGE6IERlc2VyaWFsaXplRGF0YSwgcmF3OiBhbnkpOiB2b2lkO1xuXG4gICAgc2VyaWFsaXplZE1lcmdlKHRvOiBhbnksIGZyb206IGFueSk6IHZvaWQ7XG5cbiAgICBzZXJpYWxpemVkU3RyaXAoZGF0YTogYW55LCBmaWx0ZXI6ICh4OiBudW1iZXIpID0+IGJvb2xlYW4pOiB2b2lkO1xufVxuXG50eXBlIE11bHRpRWNzU3RvcmFnZVNlcmlhbGl6ZWQgPSB7W2VudGl0eTogbnVtYmVyXTogYW55W119O1xuZXhwb3J0IGNsYXNzIE11bHRpRWNzU3RvcmFnZTxDIGV4dGVuZHMgTXVsdGlDb21wb25lbnQ+IGltcGxlbWVudHMgRWNzU3RvcmFnZTxDPiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgZGF0YSA9IG5ldyBNYXA8bnVtYmVyLCBBcnJheTxDPj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5OiBudW1iZXIsIG11bHRpSWQ/OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKG11bHRpSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSwgbXVsdGlJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGUgPSB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgIGlmIChlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBlWzBdO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgbXVsdGlJZDogbnVtYmVyKTogQyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBjbXBzID0gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoY21wcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBjbXAgb2YgY21wcykge1xuICAgICAgICAgICAgaWYgKGNtcC5tdWx0aUlkID09PSBtdWx0aUlkKSByZXR1cm4gY21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50cyhlbnRpdHk/OiBudW1iZXIpOiBJdGVyYWJsZTxDPiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KSB8fCBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICphbGxDb21wb25lbnRzKCk6IEdlbmVyYXRvcjxDPiB7XG4gICAgICAgIGZvciAobGV0IGNvbXBzIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNvbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudC5tdWx0aUlkID49IDApIHsvLyBQcmUtYXNzaWduZWQgbXVsdGktaWRcbiAgICAgICAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgW2NvbXBvbmVudF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIGFycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy5tdWx0aUlkID09PSBjb21wb25lbnQubXVsdGlJZCkgdGhyb3cgRXJyb3IoJ0ludmFsaWQgcHJlLWFzc2lnbmVkIG11bHRpSWQgJyArIGMubXVsdGlJZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXJyLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcG9uZW50Lm11bHRpSWQgPSBnZW5lcmF0ZVJhbmRvbUlkKCk7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2V0KGNvbXBvbmVudC5lbnRpdHksIFtjb21wb25lbnRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpZDtcbiAgICAgICAgICAgIGxldCBmb3VuZDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZCA9IGdlbmVyYXRlUmFuZG9tSWQoKTtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggb2YgYXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4Lm11bHRpSWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKGZvdW5kKTtcbiAgICAgICAgICAgIGNvbXBvbmVudC5tdWx0aUlkID0gaWQ7XG4gICAgICAgICAgICBhcnIucHVzaChjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAxICYmIGFyclswXSA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyLnNwbGljZShhcnIuaW5kZXhPZihjb21wb25lbnQpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVucmVnaXN0ZXJBbGxPZihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKHNkYXRhOiBTZXJpYWxpemVEYXRhKTogTXVsdGlFY3NTdG9yYWdlU2VyaWFsaXplZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCByZXM6IE11bHRpRWNzU3RvcmFnZVNlcmlhbGl6ZWQgPSB7fTtcblxuICAgICAgICBjb25zdCBzdHJpcENsaWVudCA9IHNkYXRhLm9wdGlvbnMuc3RyaXBDbGllbnQ7XG4gICAgICAgIGNvbnN0IHNlciA9IChjb21wczogQ1tdKTogQXJyYXk8YW55PiA9PiB7XG4gICAgICAgICAgICBsZXQgZW50aXR5UmVzID0gbmV3IEFycmF5PGFueT4oKTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIGlmIChzdHJpcENsaWVudCAmJlxuICAgICAgICAgICAgICAgICAgICAoY29tcG9uZW50IGFzIENvbXBvbmVudCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVudGl0eVJlcy5wdXNoKHNlcmlhbGl6ZU9iaihjb21wb25lbnQsIHN0cmlwQ2xpZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5UmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVtYXAgPSBzZGF0YS5vcHRpb25zLnJlbWFwO1xuICAgICAgICBsZXQgaXNQcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChzZGF0YS5vcHRpb25zLm9ubHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIHNkYXRhLm9wdGlvbnMub25seSkge1xuICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICBsZXQgY29tcHMgPSB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBzID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChzZGF0YS5zaG91bGRJZ25vcmUoZW50aXR5KSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gc2VyKGNvbXBzKTtcbiAgICAgICAgICAgICAgICBpZiAoeC5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IGUgPSByZW1hcCA/IGkgOiBlbnRpdHk7XG4gICAgICAgICAgICAgICAgcmVzW2VdID0geDtcbiAgICAgICAgICAgICAgICBpc1ByZXNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgW2VudGl0eSwgY29tcHNdIG9mIHRoaXMuZGF0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2RhdGEuc2hvdWxkSWdub3JlKGVudGl0eSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHNlcihjb21wcyk7XG4gICAgICAgICAgICAgICAgaWYgKHgubGVuZ3RoID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxldCBlID0gcmVtYXAgPyBzZGF0YS5lbnRpdHlNYXBwaW5nKGVudGl0eSkgOiBlbnRpdHk7XG4gICAgICAgICAgICAgICAgcmVzW2VdID0geDtcbiAgICAgICAgICAgICAgICBpc1ByZXNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQcmVzZW50KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGRlc2VyaWFsaXplKGVjczogV29ybGQsIGRzZGF0YTogRGVzZXJpYWxpemVEYXRhLCBkYXRhOiBNdWx0aUVjc1N0b3JhZ2VTZXJpYWxpemVkIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGxldCBlID0gcGFyc2VJbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgZGF0YVtlbnRpdHldKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGNvbXAsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWNzLmFkZENvbXBvbmVudChkc2RhdGEuZW50aXR5TWFwcGluZyhlKSwgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZWRNZXJnZSh0bzogTXVsdGlFY3NTdG9yYWdlU2VyaWFsaXplZCwgZnJvbTogTXVsdGlFY3NTdG9yYWdlU2VyaWFsaXplZCkge1xuICAgICAgICBvYmplY3RNZXJnZSh0bywgZnJvbSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplZFN0cmlwKGRhdGE6IE11bHRpRWNzU3RvcmFnZVNlcmlhbGl6ZWQsIGZpbHRlcjogKHg6IG51bWJlcikgPT4gYm9vbGVhbikge1xuICAgICAgICBvYmplY3RGaWx0ZXJJbnBsYWNlKGRhdGEsIChuYW1lLCB2YWwpID0+IHtcbiAgICAgICAgICAgIGlmICghZmlsdGVyKHBhcnNlSW50KG5hbWUpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgYXJyYXlGaWx0ZXJJblBsYWNlKHZhbCwgeCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCh4IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICh4IGFzIGFueSlbJ2NsaWVudFZpc2libGUnXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWwubGVuZ3RoICE9PSAwO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQgPSB7W2VudGl0eTogbnVtYmVyXTogYW55fTtcbmV4cG9ydCBjbGFzcyBTaW5nbGVFY3NTdG9yYWdlPEMgZXh0ZW5kcyBDb21wb25lbnQ+IGltcGxlbWVudHMgRWNzU3RvcmFnZTxDPiB7XG4gICAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHN5bmM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgc2F2ZTogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgZGF0YSA9IG5ldyBNYXA8bnVtYmVyLCBDPigpO1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBzeW5jOiBib29sZWFuID0gdHJ1ZSwgc2F2ZTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zeW5jID0gc3luYztcbiAgICAgICAgdGhpcy5zYXZlID0gc2F2ZTtcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnQoZW50aXR5OiBudW1iZXIpOiBDIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlcik6IEMgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldChlbnRpdHkpO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Qz4ge1xuICAgICAgICBpZiAoZW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsQ29tcG9uZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsQ29tcG9uZW50cygpOiBJdGVyYWJsZUl0ZXJhdG9yPEM+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS52YWx1ZXMoKTtcbiAgICB9XG5cbiAgICByZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZGF0YS5nZXQoY29tcG9uZW50LmVudGl0eSk7XG4gICAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNldChjb21wb25lbnQuZW50aXR5LCBjb21wb25lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnQgb2Ygc2FtZSB0eXBlIGFscmVhZHkgcmVnaXN0ZXJlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3Rlcihjb21wb25lbnQ6IEMpOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLmRhdGEuZ2V0KGNvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09IGNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmRlbGV0ZShjb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVucmVnaXN0ZXJBbGxPZihlbnRpdHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKHNkYXRhOiBTZXJpYWxpemVEYXRhKTogU2luZ2xlRWNzU3RvcmFnZVNlcmlhbHplZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCByZXM6IFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQgPSB7fTtcblxuICAgICAgICBjb25zdCBzdHJpcENsaWVudCA9IHNkYXRhLm9wdGlvbnMuc3RyaXBDbGllbnQ7XG4gICAgICAgIGNvbnN0IHJlbWFwID0gc2RhdGEub3B0aW9ucy5yZW1hcDtcbiAgICAgICAgbGV0IGlzUHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2RhdGEub3B0aW9ucy5vbmx5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBzZGF0YS5vcHRpb25zLm9ubHkpIHtcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuZGF0YS5nZXQoZW50aXR5KVxuICAgICAgICAgICAgICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChzdHJpcENsaWVudCAmJlxuICAgICAgICAgICAgICAgICAgICAoc2RhdGEuc2hvdWxkSWdub3JlKGNvbXAuZW50aXR5KSB8fFxuICAgICAgICAgICAgICAgICAgICAoY29tcCBhcyBDb21wb25lbnQgYXMgSGlkZWFibGVDb21wb25lbnQpLmNsaWVudFZpc2libGUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgZSA9IHJlbWFwID8gaSA6IGVudGl0eTtcbiAgICAgICAgICAgICAgICByZXNbZV0gPSBzZXJpYWxpemVPYmooY29tcCwgc3RyaXBDbGllbnQpO1xuICAgICAgICAgICAgICAgIGlzUHJlc2VudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMuZGF0YS52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChzdHJpcENsaWVudCAmJlxuICAgICAgICAgICAgICAgICAgICAoc2RhdGEuc2hvdWxkSWdub3JlKGNvbXAuZW50aXR5KSB8fFxuICAgICAgICAgICAgICAgICAgICAoY29tcCBhcyBDb21wb25lbnQgYXMgSGlkZWFibGVDb21wb25lbnQpLmNsaWVudFZpc2libGUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgZSA9IHJlbWFwID8gc2RhdGEuZW50aXR5TWFwcGluZyhjb21wLmVudGl0eSkgOiBjb21wLmVudGl0eTtcbiAgICAgICAgICAgICAgICByZXNbZV0gPSBzZXJpYWxpemVPYmooY29tcCwgc3RyaXBDbGllbnQpO1xuICAgICAgICAgICAgICAgIGlzUHJlc2VudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1ByZXNlbnQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemUoZWNzOiBXb3JsZCwgZHNEYXRhOiBEZXNlcmlhbGl6ZURhdGEsIGRhdGE6IFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBlbnRpdHkgaW4gZGF0YSkge1xuICAgICAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGFbZW50aXR5XSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGVjcy5hZGRDb21wb25lbnQoZHNEYXRhLmVudGl0eU1hcHBpbmcocGFyc2VJbnQoZW50aXR5KSksIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemVkTWVyZ2UodG86IFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQsIGZyb206IFNpbmdsZUVjc1N0b3JhZ2VTZXJpYWx6ZWQpIHtcbiAgICAgICAgb2JqZWN0TWVyZ2UodG8sIGZyb20pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZWRTdHJpcChkYXRhOiBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkLCBmaWx0ZXI6ICh4OiBudW1iZXIpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgb2JqZWN0RmlsdGVySW5wbGFjZShkYXRhLCAobmFtZSwgdmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZpbHRlcihwYXJzZUludChuYW1lKSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICgodmFsIGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBGbGFnRWNzU3RvcmFnZVNlcmlhbHplZCA9IG51bWJlcltdO1xuZXhwb3J0IGNsYXNzIEZsYWdFY3NTdG9yYWdlIGltcGxlbWVudHMgRWNzU3RvcmFnZTxDb21wb25lbnQ+IHtcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc3luYzogYm9vbGVhbjtcbiAgICByZWFkb25seSBzYXZlOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBkYXRhID0gbmV3IE1hcDxudW1iZXIsIENvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgc3luYzogYm9vbGVhbiA9IHRydWUsIHNhdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3luYyA9IHN5bmM7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyKTogQ29tcG9uZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoZW50aXR5KTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdENvbXBvbmVudChlbnRpdHk6IG51bWJlcik6IENvbXBvbmVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudHMoZW50aXR5PzogbnVtYmVyKTogSXRlcmFibGU8Q29tcG9uZW50PiB7XG4gICAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsQ29tcG9uZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsQ29tcG9uZW50cygpOiBJdGVyYWJsZUl0ZXJhdG9yPENvbXBvbmVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnZhbHVlcygpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBvZiBzYW1lIHR5cGUgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgICAgIHRoaXMuZGF0YS5zZXQoY29tcG9uZW50LmVudGl0eSwgY29tcG9uZW50KTtcbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyKGNvbXBvbmVudDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoY29tcG9uZW50LmVudGl0eSk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbE9mKGVudGl0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS5kZWxldGUoZW50aXR5KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoc2RhdGE6IFNlcmlhbGl6ZURhdGEpOiBudW1iZXJbXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICBpZiAoc2RhdGEub3B0aW9ucy5vbmx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEgPSBbLi4udGhpcy5kYXRhLmtleXMoKV07XG4gICAgICAgICAgICBpZiAoc2RhdGEub3B0aW9ucy5zdHJpcENsaWVudCkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLmZpbHRlcihlID0+ICFzZGF0YS5zaG91bGRJZ25vcmUoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNkYXRhLm9wdGlvbnMucmVtYXApIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5tYXAoc2RhdGEuZW50aXR5TWFwcGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBlIG9mIHNkYXRhLm9wdGlvbnMub25seSkge1xuICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGF0YS5oYXMoZSkgfHwgc2RhdGEuc2hvdWxkSWdub3JlKGUpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goc2RhdGEub3B0aW9ucy5yZW1hcCA/IGkgOiBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemUoZWNzOiBXb3JsZCwgZHNEYXRhOiBEZXNlcmlhbGl6ZURhdGEsIGRhdGE6IG51bWJlcltdIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEpIHtcbiAgICAgICAgICAgIGVjcy5hZGRDb21wb25lbnQoZHNEYXRhLmVudGl0eU1hcHBpbmcoZW50aXR5KSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZWRNZXJnZSh0bzogRmxhZ0Vjc1N0b3JhZ2VTZXJpYWx6ZWQsIGZyb206IEZsYWdFY3NTdG9yYWdlU2VyaWFsemVkKSB7XG4gICAgICAgIHRvLnB1c2goLi4uZnJvbSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplZFN0cmlwKGRhdGE6IEZsYWdFY3NTdG9yYWdlU2VyaWFsemVkLCBmaWx0ZXI6ICh4OiBudW1iZXIpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgYXJyYXlGaWx0ZXJJblBsYWNlKGRhdGEsIGZpbHRlcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuL3N5c3RlbVwiO1xuXG5leHBvcnQgY2xhc3MgU3lzdGVtR3JhcGgge1xuICAgIHByaXZhdGUgc3lzdGVtc0J5TmFtZSA9IG5ldyBNYXA8c3RyaW5nLCBTeXN0ZW0+KCk7XG4gICAgcHJpdmF0ZSBzeXN0ZW1zID0gbmV3IEFycmF5PFN5c3RlbT4oKTtcbiAgICBwcml2YXRlIHVuZnVsZmlsbGVkRGVwcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gICAgZ2V0KG5hbWU6IHN0cmluZyk6IFN5c3RlbSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbXNCeU5hbWUuZ2V0KG5hbWUpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKHN5c3RlbTogU3lzdGVtKTogdm9pZCB7XG4gICAgICAgIGxldCBkZXBOYW1lID0gc3lzdGVtLm5hbWU7XG4gICAgICAgIGxldCB1bmZ1bGZpbGxlZCA9IHRoaXMudW5mdWxmaWxsZWREZXBzLmhhcyhzeXN0ZW0ubmFtZSk7XG5cbiAgICAgICAgaWYgKCF1bmZ1bGZpbGxlZCAmJiBzeXN0ZW0ucHJvdmlkZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgZGVwIG9mIHN5c3RlbS5wcm92aWRlcykge1xuICAgICAgICAgICAgICAgIGRlcE5hbWUgPSBkZXA7XG4gICAgICAgICAgICAgICAgdW5mdWxmaWxsZWQgPSB0aGlzLnVuZnVsZmlsbGVkRGVwcy5oYXMoZGVwKTtcbiAgICAgICAgICAgICAgICBpZiAodW5mdWxmaWxsZWQpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1bmZ1bGZpbGxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTb21lIHByZXZpb3VzIHN5c3RlbSBvcHRpb25hbGx5IGRlcGVuZGVkIG9uICR7ZGVwTmFtZX0sIHBsZWFzZSBvcmRlciB5b3VyIHN5c3RlbXMgY29ycmVjdGx5YCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBkZXAgb2Ygc3lzdGVtLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN5c3RlbXNCeU5hbWUuaGFzKGRlcCkpIHRocm93IG5ldyBFcnJvcignVW5mdWxmaWxsZWQgZGVwZW5kZW5jeTogJyArIGRlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN5c3RlbS5vcHRpb25hbERlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkZXAgb2Ygc3lzdGVtLm9wdGlvbmFsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3lzdGVtc0J5TmFtZS5oYXMoZGVwKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy51bmZ1bGZpbGxlZERlcHMuYWRkKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3lzID0gdGhpcy5zeXN0ZW1zQnlOYW1lLmdldChzeXN0ZW0ubmFtZSk7XG4gICAgICAgIGlmIChzeXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHN5cy5uYW1lID09PSBzeXN0ZW0ubmFtZSkgdGhyb3cgbmV3IEVycm9yKCdTeXN0ZW0gbmFtZSBjb25mbGljdCcpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTeXN0ZW0gJHtzeXN0ZW0ubmFtZX0gaGFzIGJlZW4gYWxyZWFkeSByZWdpc3RlcmVkIHVuZGVyICR7c3lzLm5hbWV9LCBvdmVycmlkaW5nYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zeXN0ZW1zQnlOYW1lLnNldChzeXN0ZW0ubmFtZSwgc3lzdGVtKTtcbiAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzdGVtKTtcbiAgICAgICAgaWYgKHN5c3RlbS5wcm92aWRlcykge1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvdiBvZiBzeXN0ZW0ucHJvdmlkZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zeXN0ZW1zQnlOYW1lLmhhcyhwcm92KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZpY2UgJHtwcm92fSBpcyBhbHJlYWR5IHByb3ZpZGVkIGJ5ICR7dGhpcy5zeXN0ZW1zQnlOYW1lLmdldChwcm92KSEubmFtZX0sIGNhbm5vdCBvdmVycmlkZSB3aXRoICR7c3lzdGVtLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtc0J5TmFtZS5zZXQocHJvdiwgc3lzdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8U3lzdGVtPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH1cblxuICAgIGdldEF0KGluZGV4OiBudW1iZXIpOiBTeXN0ZW0ge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1zW2luZGV4XTtcbiAgICB9XG5cbiAgICBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbXMubGVuZ3RoO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge011bHRpRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7TXVsdGlDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge2NvbXBvbmVudEVkaXRDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9jb21wb25lbnRFZGl0XCI7XG5pbXBvcnQge1Jlc291cmNlRWRpdENvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL3Jlc291cmNlRWRpdENvbW1hbmRcIjtcbmltcG9ydCB7ZW1pdENvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7IG9iamVjdENsb25lIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvanNvYmpcIjtcbmltcG9ydCB7IFNwYXduQ29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21JZCB9IGZyb20gXCIuLi8uLi9lY3NVdGlsXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlnRW50cnk8WD4ge1xuICAgIG11bHRpSWQ6IEJpZ1N0b3JhZ2VJbmRleDxYPjtcbiAgICBkYXRhOiBYO1xuICAgIGZsYWdzOiBCaWdFbnRyeUZsYWdzO1xuICAgIF91c2Vycz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWdFbnRyeUNvbXBvbmVudCBleHRlbmRzIE11bHRpQ29tcG9uZW50LCBCaWdFbnRyeTxhbnk+IHtcbiAgICB0eXBlOiBCSUdfU1RPUkFHRV9UWVBFO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpZ0VudHJ5UmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogQklHX1NUT1JBR0VfVFlQRTtcbiAgICBlbnRpdHk6IG51bWJlcjtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogdHJ1ZTtcbn1cblxuZXhwb3J0IGVudW0gQmlnRW50cnlGbGFncyB7XG4gICAgUkVBRE9OTFkgPSAxLFxuICAgIC8vLyBJZiBpdCdzIG5vdCBzaGFyZWQgaXQncyBvd25lZCBhcyBhIENvV1xuICAgIFNIQVJFRCA9IDIsXG4gICAgLy8gSWYgcHJlc2VudCB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIHRoZSBvdGhlclxuICAgIC8vICAoYnV0IGl0J3Mgc3RpbGwgU0FWRSBzbyBpdCB3aWxsIGJlIHNlbnQgYXQgdGhlIGJlZ2lubmluZyxcbiAgICAvLyAgIHVzZSBjYXNlOiB2aXNpYmlsaXR5IG1hcClcbiAgICBOT19TWU5DID0gNCxcbn1cblxuZXhwb3J0IHR5cGUgQmlnU3RvcmFnZUluZGV4PFg+ID0gbnVtYmVyO1xuXG5leHBvcnQgY29uc3QgQklHX1NUT1JBR0VfVFlQRSA9ICdiaWdfc3RvcmFnZSc7XG5leHBvcnQgdHlwZSBCSUdfU1RPUkFHRV9UWVBFID0gdHlwZW9mIEJJR19TVE9SQUdFX1RZUEU7XG5leHBvcnQgY2xhc3MgQmlnU3RvcmFnZVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IEJJR19TVE9SQUdFX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW107XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBzdG9yYWdlID0gbmV3IE11bHRpRWNzU3RvcmFnZTxCaWdFbnRyeUNvbXBvbmVudD4oQklHX1NUT1JBR0VfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICByZXM6IEJpZ0VudHJ5UmVzb3VyY2UgPSB7XG4gICAgICAgIHR5cGU6IEJJR19TVE9SQUdFX1RZUEUsXG4gICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgIF9zYXZlOiB0cnVlLFxuICAgICAgICBfc3luYzogdHJ1ZSxcbiAgICB9O1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5yZXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2Rlc2VyaWFsaXplZCcsIHRoaXMub25EZXNlcmlhbGl6ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZTxYPihkYXRhOiBYLCBmbGFnczogQmlnRW50cnlGbGFncyA9IDAsIG93biA9IHRydWUpOiBCaWdFbnRyeTxYPiB7XG4gICAgICAgIGlmICghdGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgYmlnIGVudHJ5IG9uIGEgbm9uLW1hc3RlciB3b3JsZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXMuZW50aXR5IDw9IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgYmlnIHN0b3JhZ2VcIik7XG4gICAgICAgICAgICBsZXQgZW50aXR5ID0gdGhpcy53b3JsZC5hbGxvY2F0ZUlkKCk7XG4gICAgICAgICAgICBlbWl0Q29tbWFuZCh0aGlzLndvcmxkLCB7XG4gICAgICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbZW50aXR5XSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZXM6IHt9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgU3Bhd25Db21tYW5kLCB0cnVlKTtcbiAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ3JlZGl0JyxcbiAgICAgICAgICAgICAgICBhZGQ6IFtdLFxuICAgICAgICAgICAgICAgIGVkaXQ6IHt9LFxuICAgICAgICAgICAgICAgIHJlbW92ZTogW10sXG4gICAgICAgICAgICB9IGFzIFJlc291cmNlRWRpdENvbW1hbmQ7XG4gICAgICAgICAgICBjbWQuZWRpdFtCSUdfU1RPUkFHRV9UWVBFXSA9IHsgZW50aXR5IH07XG4gICAgICAgICAgICBlbWl0Q29tbWFuZCh0aGlzLndvcmxkLCBjbWQsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHggPSB7XG4gICAgICAgICAgICBtdWx0aUlkOiBnZW5lcmF0ZVJhbmRvbUlkKCksXG4gICAgICAgICAgICB0eXBlOiBCSUdfU1RPUkFHRV9UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLnJlcy5lbnRpdHksXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgICBfdXNlcnM6IG93biA/IDEgOiAwLFxuICAgICAgICB9IGFzIEJpZ0VudHJ5Q29tcG9uZW50O1xuXG4gICAgICAgIGVtaXRDb21tYW5kKHRoaXMud29ybGQsIGNvbXBvbmVudEVkaXRDb21tYW5kKFt4XSksICEoZmxhZ3MgJiBCaWdFbnRyeUZsYWdzLk5PX1NZTkMpKTtcblxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICByZXF1ZXN0PFg+KGlkOiBCaWdTdG9yYWdlSW5kZXg8WD4pOiBCaWdFbnRyeTxYPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRoaXMucmVzLmVudGl0eSwgaWQpO1xuICAgIH1cblxuICAgIHJlcXVlc3RVc2U8WD4oaWQ6IEJpZ1N0b3JhZ2VJbmRleDxYPik6IEJpZ0VudHJ5PFg+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucmVxdWVzdDxYPihpZCk7XG4gICAgICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHIuX3VzZXJzID0gKChyLl91c2VycyB8fCAwKSAgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICByZXBsYWNlPFg+KGlkOiBCaWdTdG9yYWdlSW5kZXg8WD4sIG5ld0RhdGE6IFgsIGlnbm9yZVJlYWRvbmx5ID0gZmFsc2UpOiBCaWdTdG9yYWdlSW5kZXg8WD4ge1xuICAgICAgICBjb25zdCByID0gdGhpcy5yZXF1ZXN0PFg+KGlkKTtcbiAgICAgICAgaWYgKHIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJ1bmRlZmluZWQgaWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIuZmxhZ3MgJiBCaWdFbnRyeUZsYWdzLlJFQURPTkxZICYmICFpZ25vcmVSZWFkb25seSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUcnlpbmcgdG8gcmVwbGFjZSByZWFkb25seSByZXN1cmNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChyLmZsYWdzICYgQmlnRW50cnlGbGFncy5TSEFSRUQpID09PSAwICYmIHIuX3VzZXJzISEgPiAxKSB7XG4gICAgICAgICAgICByLl91c2VycyEhIC09IDE7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuY3JlYXRlKG5ld0RhdGEsIHIuZmxhZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5Lm11bHRpSWQ7XG4gICAgICAgIH1cblxuICAgICAgICByLmRhdGEgPSBuZXdEYXRhO1xuICAgICAgICByZXR1cm4gci5tdWx0aUlkO1xuICAgIH1cblxuICAgIGRyb3BVc2U8WD4oaWQ6IEJpZ1N0b3JhZ2VJbmRleDxYPiwgZm9yY2VEcm9wOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLndvcmxkLmlzTWFzdGVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMucmVxdWVzdChpZCk7XG4gICAgICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgci5fdXNlcnMgPSAoKHIuX3VzZXJzIHx8IDApIC0gMSk7XG4gICAgICAgIC8vIERvbid0LCB0aGlzIG1pZ2h0IGJlIHJldXNlZCBieSB0aGUgY29tbWFuZHNcbiAgICAgICAgaWYgKGZvcmNlRHJvcCAmJiByLl91c2VycyA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UudW5yZWdpc3RlcihyIGFzIEJpZ0VudHJ5Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25EZXNlcmlhbGl6ZWQoKSB7XG4gICAgICAgIGxldCB0b1JlbW92ZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCByIG9mIHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnRzKHRoaXMucmVzLmVudGl0eSkpIHtcbiAgICAgICAgICAgIGlmIChyLl91c2VycyA9PT0gdW5kZWZpbmVkIHx8IHIuX3VzZXJzIDw9IDApIHtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZS5wdXNoKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBjbWQgPSBjb21wb25lbnRFZGl0Q29tbWFuZChbXSwgW10sIHRvUmVtb3ZlKTtcbiAgICAgICAgLy8gVE9ETzogcGxlYXNlIGNoZWNrIGlmIHRoaXMgd29ya3MsIEknbSB0b28gc2NhcmVkXG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIFBvc2l0aW9uQ29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7XG4gICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCxcbiAgICBvdmVybGFwQWFiYlZzQWFiYixcbiAgICBvdmVybGFwQWFiYlZzTGluZSxcbiAgICBvdmVybGFwQWFiYlZzUG9pbnQsXG4gICAgb3ZlcmxhcENpcmNsZVZzQWFiYixcbiAgICBvdmVybGFwQ2lyY2xlVnNDaXJjbGUsXG4gICAgb3ZlcmxhcENpcmNsZVZzUG9seWdvbixcbiAgICBvdmVybGFwTGluZVZzQ2lyY2xlLFxuICAgIG92ZXJsYXBMaW5lVnNQb2x5Z29uLFxuICAgIG92ZXJsYXBPYmJWc1BvbHlnb24sXG4gICAgb3ZlcmxhcFBvaW50VnNDaXJjbGUsXG4gICAgb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzQ2lyY2xlLFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzTGluZSxcbiAgICBvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50LFxuICAgIG92ZXJsYXBSb3RhdGVkUmVjdFZzUm90YXRlZFJlY3QsXG4gICAgU2VnbWVudFZzU2VnbWVudFJlc1xufSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvY29sbGlzaW9uXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge3BvbHlnb25Qb2ludEludGVyc2VjdH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7T2JifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvb2JiXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7RHluYW1pY1RyZWV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9keW5hbWljVHJlZVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7R2VvbWVydHlRdWVyeVR5cGUsIFF1ZXJ5SGl0RXZlbnR9IGZyb20gXCIuLi8uLi9pbnRlcmFjdGlvblwiO1xuaW1wb3J0IHtQbGF5ZXJWaXNpYmxlQ29tcG9uZW50fSBmcm9tIFwiLi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50REJ9IGZyb20gXCIuLi8uLi8uLi9nYW1lL3BvaW50REJcIjtcbmltcG9ydCB7R1JJRF9UWVBFLCBHcmlkU3lzdGVtfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9zZWxlY3Rpb25TeXN0ZW1cIjtcblxuZXhwb3J0IGVudW0gU2hhcGVUeXBlIHtcbiAgICBQT0lOVCwgQUFCQiwgQ0lSQ0xFLCBMSU5FLCBQT0xZR09OLCBPQkIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgIHR5cGU6IFNoYXBlVHlwZS5QT0lOVDtcbiAgICBwb3M6IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBYWJiU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgdHlwZTogU2hhcGVUeXBlLkFBQkI7XG4gICAgZGF0YTogQWFiYjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaXJjbGVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuQ0lSQ0xFO1xuICAgIHBvczogUElYSS5JUG9pbnREYXRhO1xuICAgIHJhZGl1czogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuTElORTtcbiAgICBkYXRhOiBMaW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvbHlnb25TaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuUE9MWUdPTjtcbiAgICBwb2x5Z29uOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYmJTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICB0eXBlOiBTaGFwZVR5cGUuT0JCO1xuICAgIGRhdGE6IE9iYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlUG9pbnQocG9zOiBQSVhJLklQb2ludERhdGEpOiBQb2ludFNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBTaGFwZVR5cGUuUE9JTlQsXG4gICAgICAgIHBvcyxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVBYWJiKGFhYmI6IEFhYmIpOiBBYWJiU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5BQUJCLFxuICAgICAgICBkYXRhOiBhYWJiLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUNpcmNsZShjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBDaXJjbGVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkNJUkNMRSxcbiAgICAgICAgcG9zOiBjZW50ZXIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUxpbmUobGluZTogTGluZSk6IExpbmVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLkxJTkUsXG4gICAgICAgIGRhdGE6IGxpbmUsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlUG9seWdvbihwb2x5Z29uOiBudW1iZXJbXSk6IFBvbHlnb25TaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU2hhcGVUeXBlLlBPTFlHT04sXG4gICAgICAgIHBvbHlnb24sXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlT2JiKG9iYjogT2JiKTogT2JiU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5PQkIsXG4gICAgICAgIGRhdGE6IG9iYixcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVJbnRlcnNlY3Qoc2hhcGUxOiBTaGFwZSwgc2hhcGUyOiBTaGFwZSk6IGJvb2xlYW4ge1xuICAgIGlmIChzaGFwZTIudHlwZSA8IHNoYXBlMS50eXBlKSBbc2hhcGUyLCBzaGFwZTFdID0gW3NoYXBlMSwgc2hhcGUyXTtcbiAgICBsZXQgczF0ID0gc2hhcGUxLnR5cGU7XG4gICAgbGV0IHMydCA9IHNoYXBlMi50eXBlO1xuXG4gICAgLy8gVE9ETzogcG9seWdvbiB2cyBwb2x5Z29uXG4gICAgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLlBPSU5UKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBQb2ludFNoYXBlO1xuICAgICAgICBzd2l0Y2ggKHMydCkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiBvdmVybGFwQWFiYlZzUG9pbnQoKHNoYXBlMiBhcyBBYWJiU2hhcGUpLmRhdGEsIHMxLnBvcyk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwUG9pbnRWc0NpcmNsZShzMS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBwb2x5Z29uUG9pbnRJbnRlcnNlY3QoczEucG9zLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc1BvaW50KChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEsIHMxLnBvcyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkFBQkIpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIEFhYmJTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkFBQkI6IHJldHVybiBvdmVybGFwQWFiYlZzQWFiYigoc2hhcGUyIGFzIEFhYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5DSVJDTEU6IHJldHVybiBvdmVybGFwQ2lyY2xlVnNBYWJiKChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnBvcywgKHNoYXBlMiBhcyBDaXJjbGVTaGFwZSkucmFkaXVzLCBzMS5kYXRhKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBvdmVybGFwQWFiYlZzTGluZShzMS5kYXRhLCAoc2hhcGUyIGFzIExpbmVTaGFwZSkuZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiByZXR1cm4gb3ZlcmxhcE9iYlZzUG9seWdvbihPYmIuZnJvbUFhYmIoczEuZGF0YSksIChzaGFwZTIgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjogcmV0dXJuIG92ZXJsYXBSb3RhdGVkUmVjdFZzQWFiYigoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuQ0lSQ0xFKSB7XG4gICAgICAgIGxldCBzMSA9IHNoYXBlMSBhcyBDaXJjbGVTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRTogcmV0dXJuIG92ZXJsYXBDaXJjbGVWc0NpcmNsZSgoc2hhcGUyIGFzIENpcmNsZVNoYXBlKS5wb3MsIChzaGFwZTIgYXMgQ2lyY2xlU2hhcGUpLnJhZGl1cywgczEucG9zLCBzMS5yYWRpdXMpO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIG92ZXJsYXBMaW5lVnNDaXJjbGUoKHNoYXBlMiBhcyBMaW5lU2hhcGUpLmRhdGEsIHMxLnBvcywgczEucmFkaXVzKTtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwQ2lyY2xlVnNQb2x5Z29uKHMxLnBvcywgczEucmFkaXVzLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZSgoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb3MsIHMxLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLkxJTkUpIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIExpbmVTaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHJldHVybiBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KHMxLmRhdGEsIChzaGFwZTIgYXMgTGluZVNoYXBlKS5kYXRhKSA9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTjtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBvdmVybGFwTGluZVZzUG9seWdvbihzMS5kYXRhLCAoc2hhcGUyIGFzIFBvbHlnb25TaGFwZSkucG9seWdvbik7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0xpbmUoKHNoYXBlMiBhcyBPYmJTaGFwZSkuZGF0YSwgczEuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMxdCA9PT0gU2hhcGVUeXBlLlBPTFlHT04pIHtcbiAgICAgICAgbGV0IHMxID0gc2hhcGUxIGFzIFBvbHlnb25TaGFwZTtcbiAgICAgICAgc3dpdGNoIChzMnQpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gb3ZlcmxhcE9iYlZzUG9seWdvbigoc2hhcGUyIGFzIE9iYlNoYXBlKS5kYXRhLCBzMS5wb2x5Z29uKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoczF0ID09PSBTaGFwZVR5cGUuT0JCKSB7XG4gICAgICAgIHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc1JvdGF0ZWRSZWN0KChzaGFwZTEgYXMgT2JiU2hhcGUpLmRhdGEsIChzaGFwZTIgYXMgT2JiU2hhcGUpLmRhdGEpO1xuICAgIH1cbiAgICAvLyBQb2x5Z29uIHZzIFBvbHlnb25cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1F1ZXJ5IG5vdCBpbXBsZW1lbnRlZDogJyArIHMxdCArICcgdnMgJyArIHMydCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZVRvQWFiYihzaGFwZTogU2hhcGUpOiBBYWJiIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6IHJldHVybiBBYWJiLmZyb21Qb2ludCgoc2hhcGUgYXMgUG9pbnRTaGFwZSkucG9zKTtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjogcmV0dXJuIChzaGFwZSBhcyBBYWJiU2hhcGUpLmRhdGE7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRToge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBDaXJjbGVTaGFwZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWFiYihcbiAgICAgICAgICAgICAgICBzLnBvcy54IC0gcy5yYWRpdXMsIHMucG9zLnkgLSBzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBzLnBvcy54ICsgcy5yYWRpdXMsIHMucG9zLnkgKyBzLnJhZGl1c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFhYmIocy5mcm9tWCwgcy5mcm9tWSwgcy50b1gsIHMudG9ZKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBsZXQgYWFiYiA9IEFhYmIuemVybygpO1xuICAgICAgICAgICAgYWFiYi53cmFwUG9seWdvbigoc2hhcGUgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uKTtcbiAgICAgICAgICAgIHJldHVybiBhYWJiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjoge1xuICAgICAgICAgICAgbGV0IGFhYmIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgICAgIGFhYmIud3JhcFBvbHlnb24oKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhLnJvdFZlcnRleCk7XG4gICAgICAgICAgICByZXR1cm4gYWFiYjtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc2hhcGUgdHlwZTogJyArIHNoYXBlLnR5cGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVUb1NuYXBzKHNoYXBlOiBTaGFwZSk6IG51bWJlcltdIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuUE9JTlQ6XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkNJUkNMRToge1xuICAgICAgICAgICAgbGV0IHAgPSBzaGFwZSBhcyBQb2ludFNoYXBlO1xuICAgICAgICAgICAgcmV0dXJuIFtwLnBvcy54LCBwLnBvcy55XTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5BQUJCOiB7XG4gICAgICAgICAgICBsZXQgYWFiYiA9IChzaGFwZSBhcyBBYWJiU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGFhYmIubWluWCwgYWFiYi5taW5ZLFxuICAgICAgICAgICAgICAgIGFhYmIubWluWCwgYWFiYi5tYXhZLFxuICAgICAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5taW5ZLFxuICAgICAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5tYXhZLFxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLkxJTkU6IHtcbiAgICAgICAgICAgIGxldCBzID0gKHNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgcy5mcm9tWCwgcy5mcm9tWSxcbiAgICAgICAgICAgICAgICBzLnRvWCwgcy50b1ksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGxldCBwb2wgPSAoc2hhcGUgYXMgUG9seWdvblNoYXBlKS5wb2x5Z29uO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2wubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2gocG9sW2ldLCBwb2xbaSArIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLk9CQjoge1xuICAgICAgICAgICAgbGV0IHBvbCA9IChzaGFwZSBhcyBPYmJTaGFwZSkuZGF0YS5yb3RWZXJ0ZXg7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBBcnJheTxudW1iZXI+KDgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhW2ldID0gcG9sW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNoYXBlVHJhbnNsYXRlKHNoYXBlOiBTaGFwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBQb2ludFNoYXBlO1xuICAgICAgICAgICAgcy5wb3MueCArPSB4O1xuICAgICAgICAgICAgcy5wb3MueSArPSB5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQUFCQjoge1xuICAgICAgICAgICAgbGV0IHMgPSAoc2hhcGUgYXMgQWFiYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy50cmFuc2xhdGUoeCwgeSwgcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5MSU5FOiB7XG4gICAgICAgICAgICBsZXQgcyA9IChzaGFwZSBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICBzLmZyb21YICs9IHg7XG4gICAgICAgICAgICBzLmZyb21ZICs9IHk7XG4gICAgICAgICAgICBzLnRvWCArPSB4O1xuICAgICAgICAgICAgcy50b1kgKz0geTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGxldCBzID0gc2hhcGUgYXMgUG9seWdvblNoYXBlO1xuICAgICAgICAgICAgbGV0IHNsZW4gPSBzLnBvbHlnb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBzLnBvbHlnb25baV0gKz0geDtcbiAgICAgICAgICAgICAgICBzLnBvbHlnb25baSArIDFdICs9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5PQkI6IHtcbiAgICAgICAgICAgIGxldCBzID0gKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgcy51bnJvdGF0ZWQudHJhbnNsYXRlKHgsIHksIHMudW5yb3RhdGVkKTtcbiAgICAgICAgICAgIGxldCBwb2wgPSBzLnJvdFZlcnRleDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgcG9sW2kgICAgXSArPSB4O1xuICAgICAgICAgICAgICAgIHBvbFtpICsgMV0gKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biBzaGFwZSB0eXBlOiAnICsgc2hhcGUudHlwZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaGFwZUNsb25lKHNoYXBlOiBTaGFwZSk6IFNoYXBlIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuQ0lSQ0xFOlxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBQb2ludFNoYXBlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTaGFwZVR5cGUuUE9JTlQsXG4gICAgICAgICAgICAgICAgcG9zOiBuZXcgUElYSS5Qb2ludChzLnBvcy54LCBzLnBvcy55KSxcbiAgICAgICAgICAgIH0gYXMgUG9pbnRTaGFwZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNoYXBlVHlwZS5BQUJCOiByZXR1cm4gc2hhcGVBYWJiKChzaGFwZSBhcyBBYWJiU2hhcGUpLmRhdGEuY29weSgpKTtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuTElORTogcmV0dXJuIHNoYXBlTGluZSgoc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhLmNvcHkoKSk7XG4gICAgICAgIGNhc2UgU2hhcGVUeXBlLlBPTFlHT046IHJldHVybiBzaGFwZVBvbHlnb24oWy4uLihzaGFwZSBhcyBQb2x5Z29uU2hhcGUpLnBvbHlnb25dKTtcbiAgICAgICAgY2FzZSBTaGFwZVR5cGUuT0JCOiByZXR1cm4gc2hhcGVPYmIoKHNoYXBlIGFzIE9iYlNoYXBlKS5kYXRhLmNvcHkoKSlcbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNoYXBlIHR5cGU6ICcgKyBzaGFwZS50eXBlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBJTlRFUkFDVElPTl9UWVBFID0gJ2ludGVyYWN0aW9uJztcbmV4cG9ydCB0eXBlIElOVEVSQUNUSU9OX1RZUEUgPSAnaW50ZXJhY3Rpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBJTlRFUkFDVElPTl9UWVBFO1xuXG4gICAgc2VsZWN0UHJpb3JpdHk6IG51bWJlcjsvLyBJZiB0cnVlIHRoZW4gdGhlIGl0ZW0gaXMgc2VsZWN0YWJsZVxuICAgIHNuYXBFbmFibGVkOiBib29sZWFuOy8vIGlmIHRydWUgdGhlbiB0aGUgc25hcERiIHJlZ2lzdHJhdGlvbiBpcyBhdmFpbGFibGUuXG4gICAgc2hhcGU6IFNoYXBlO1xuICAgIC8vIEFkZGl0aW9uYWwgY2hlY2tzIChub3QgcmVxdWlyZWQpXG4gICAgcXVlcnlDaGVjaz86IChzaGFwZTogU2hhcGUpID0+IGJvb2xlYW47XG5cbiAgICBfdHJlZUlkPzogbnVtYmVyO1xuICAgIF9zbmFwcz86IG51bWJlcltdO1xufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25TeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gSU5URVJBQ1RJT05fVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JJRF9UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPEludGVyYWN0aW9uQ29tcG9uZW50PignaW50ZXJhY3Rpb24nLCBmYWxzZSwgZmFsc2UpO1xuICAgIGlzVHJhbnNsYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHNuYXBEYjogUG9pbnREQjtcbiAgICBhYWJiVHJlZSA9IG5ldyBEeW5hbWljVHJlZTxJbnRlcmFjdGlvbkNvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLnNuYXBEYiA9IG5ldyBQb2ludERCKHRoaXMud29ybGQuc3lzdGVtcy5nZXQoR1JJRF9UWVBFKSBhcyBHcmlkU3lzdGVtKTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2JlZ2luJywgdGhpcy5vblRvb2xNb3ZlQmVnaW4sIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Rvb2xfbW92ZV9lbmQnLCB0aGlzLm9uVG9vbE1vdmVFbmQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3F1ZXJ5X2hpdCcsIHRoaXMub25RdWVyeUhpdCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3RlclNuYXBQb2ludHMoc25hcHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBzbGVuID0gc25hcHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgdGhpcy5zbmFwRGIuaW5zZXJ0KFtzbmFwc1tpXSwgc25hcHNbaSArIDFdXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVucmVnaXN0ZXJTbmFwUG9pbnRzKHNuYXBzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgc2xlbiA9IHNuYXBzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGVuOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHRoaXMuc25hcERiLnJlbW92ZShbc25hcHNbaV0sIHNuYXBzW2kgKyAxXV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bnJlZ2lzdGVyQ29tcG9uZW50KGNvbXA6IEludGVyYWN0aW9uQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLl9zbmFwcykge1xuICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyU25hcFBvaW50cyhjb21wLl9zbmFwcyk7XG4gICAgICAgICAgICBjb21wLl9zbmFwcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcC5fdHJlZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWFiYlRyZWUuZGVzdHJveVByb3h5KGNvbXAuX3RyZWVJZCk7XG4gICAgICAgICAgICBjb21wLl90cmVlSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNvbXBvbmVudChjb21wOiBJbnRlcmFjdGlvbkNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVucmVnaXN0ZXJDb21wb25lbnQoY29tcCk7XG4gICAgICAgIGlmIChjb21wLnNoYXBlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgY29tcC5fdHJlZUlkID0gdGhpcy5hYWJiVHJlZS5jcmVhdGVQcm94eShzaGFwZVRvQWFiYihjb21wLnNoYXBlKSwgY29tcCk7XG4gICAgICAgIGlmIChjb21wLnNuYXBFbmFibGVkKSB7XG4gICAgICAgICAgICBjb21wLl9zbmFwcyA9IHNoYXBlVG9TbmFwcyhjb21wLnNoYXBlKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJTbmFwUG9pbnRzKGNvbXAuX3NuYXBzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgIT09IElOVEVSQUNUSU9OX1RZUEUpIHJldHVybjtcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoY29tcCBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBJTlRFUkFDVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIGlmICgnc2hhcGUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09ICdwb3NpdGlvbicpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBjb21wIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IGludGVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChwb3MuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChpbnRlciA9PT0gdW5kZWZpbmVkIHx8IGludGVyLnNoYXBlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBvbGRYID0gY2hhbmdlZC54ICE9PSB1bmRlZmluZWQgPyBjaGFuZ2VkLnggOiBwb3MueDtcbiAgICAgICAgICAgIGxldCBvbGRZID0gY2hhbmdlZC55ICE9PSB1bmRlZmluZWQgPyBjaGFuZ2VkLnkgOiBwb3MueTtcbiAgICAgICAgICAgIGxldCBkaWZmWCA9IHBvcy54IC0gb2xkWDtcbiAgICAgICAgICAgIGxldCBkaWZmWSA9IHBvcy55IC0gb2xkWTtcblxuICAgICAgICAgICAgaWYgKGRpZmZYICE9PSAwIHx8IGRpZmZZICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdHJpZ2dlciBjb21wb25lbnQgY2hhbmdlKD8pXG4gICAgICAgICAgICAgICAgc2hhcGVUcmFuc2xhdGUoaW50ZXIuc2hhcGUsIGRpZmZYLCBkaWZmWSk7XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc1RyYW5zbGF0aW5nICYmIHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKHBvcy5lbnRpdHkpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChpbnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSAndHJhbnNmb3JtJykge1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gY29tcCBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRyYW5zLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoaW50ZXIgPT09IHVuZGVmaW5lZCB8fCBpbnRlci5zaGFwZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBpbnRlci5zaGFwZTtcbiAgICAgICAgICAgIGlmIChzaGFwZS50eXBlID09PSBTaGFwZVR5cGUuUE9JTlQpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChzaGFwZS50eXBlID09PSBTaGFwZVR5cGUuQ0lSQ0xFKSB7XG4gICAgICAgICAgICAgICAgbGV0IHMgPSBzaGFwZSBhcyBDaXJjbGVTaGFwZTtcbiAgICAgICAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHMucmFkaXVzID0gcy5yYWRpdXMgKiB0cmFucy5zY2FsZSAvIGNoYW5nZWQuc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGludGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoYXBlLnR5cGUgPT09IFNoYXBlVHlwZS5PQkIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcyA9IHNoYXBlIGFzIE9iYlNoYXBlO1xuICAgICAgICAgICAgICAgIGlmICgnc2NhbGUnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZmZTY2FsZSA9IHRyYW5zLnNjYWxlIC8gY2hhbmdlZC5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgcy5kYXRhLnVucm90YXRlZC5zY2FsZShkaWZmU2NhbGUsIGRpZmZTY2FsZSwgcy5kYXRhLnVucm90YXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMuZGF0YS5yb3RhdGlvbiA9IHRyYW5zLnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIHMuZGF0YS5yZWNvbXB1dGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChpbnRlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBhdXRvLXJvdGF0ZSBvdGhlciBzaGFwZXMgdGhhbiBPQkIsIHdhdGNoIHlvdXIgY29tcG9uZW50cyFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSAhPT0gSU5URVJBQ1RJT05fVFlQRSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnVucmVnaXN0ZXJDb21wb25lbnQoY29tcCBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlQmVnaW4oKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy5zZWxlY3Rpb25TeXMuZ2V0U2VsZWN0ZWRCeVR5cGUoSU5URVJBQ1RJT05fVFlQRSkpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlckNvbXBvbmVudChjKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUVuZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy5zZWxlY3Rpb25TeXMuZ2V0U2VsZWN0ZWRCeVR5cGUoSU5URVJBQ1RJT05fVFlQRSkpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHNpbmdsZUhpdFF1ZXJ5KHNoYXBlOiBTaGFwZSwgZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGJlc3RQcmlvcjogbnVtYmVyID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICBsZXQgYmVzdDogbnVtYmVyID0gLTE7XG5cbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLnF1ZXJ5VmlzaWJsZShzaGFwZSwgKGMpID0+IChjLnNlbGVjdFByaW9yaXR5IHx8IDApID4gYmVzdFByaW9yKTtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVyKSB7XG4gICAgICAgICAgICBiZXN0ID0gaXRlbS5lbnRpdHk7XG4gICAgICAgICAgICBiZXN0UHJpb3IgPSBpdGVtLnNlbGVjdFByaW9yaXR5IHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVzdCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGV2ZW50LmFkZEhpdChiZXN0LCBiZXN0UHJpb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtdWx0aUhpdFF1ZXJ5KHNoYXBlOiBTaGFwZSwgZXZlbnQ6IFF1ZXJ5SGl0RXZlbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGl0ZXIgPSB0aGlzLnF1ZXJ5VmlzaWJsZShzaGFwZSwgKGMpID0+IGMuc2VsZWN0UHJpb3JpdHkgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcikge1xuICAgICAgICAgICAgZXZlbnQuYWRkSGl0KGl0ZW0uZW50aXR5LCBpdGVtLnNlbGVjdFByaW9yaXR5KTtcbiAgICAgICAgICAgIGlmICghZXZlbnQuc2hvdWxkQ29udGludWUoKSkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblF1ZXJ5SGl0KGV2ZW50OiBRdWVyeUhpdEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICghZXZlbnQuc2hvdWxkQ29udGludWUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBzaGFwZTogU2hhcGU7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVDogc2hhcGUgPSBzaGFwZUNpcmNsZShldmVudC5kYXRhIGFzIFBJWEkuSVBvaW50RGF0YSwgMjApOyBicmVhaztcbiAgICAgICAgICAgIC8vY2FzZSBHZW9tZXJ0eVF1ZXJ5VHlwZS5QT0lOVDogc2hhcGUgPSBzaGFwZVBvaW50KGV2ZW50LmRhdGEgYXMgUElYSS5JUG9pbnREYXRhKTsgYnJlYWs7IC8vIEVOQUJMRSBUSElTIEZPUiBQT0lOVC1QUkVDSVNJT04gQ0xJQ0tJTkdcbiAgICAgICAgICAgIGNhc2UgR2VvbWVydHlRdWVyeVR5cGUuQUFCQjogc2hhcGUgPSBzaGFwZUFhYmIoZXZlbnQuZGF0YSBhcyBBYWJiKTsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gcXVlcnkgdHlwZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50Lm11bHRpKSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpSGl0UXVlcnkoc2hhcGUsIGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlSGl0UXVlcnkoc2hhcGUsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcXVlcnlWaXNpYmxlKHNoYXBlOiBTaGFwZSwgcHJlQ2hlY2s/OiAoYzogSW50ZXJhY3Rpb25Db21wb25lbnQpID0+IGJvb2xlYW4pOiBHZW5lcmF0b3I8SW50ZXJhY3Rpb25Db21wb25lbnQ+IHtcbiAgICAgICAgbGV0IHBsYXllclZpczogU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJWaXNpYmxlQ29tcG9uZW50PiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCF0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICBwbGF5ZXJWaXMgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldCgncGxheWVyX3Zpc2libGUnKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllclZpc2libGVDb21wb25lbnQ+O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllclZpcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5xdWVyeShzaGFwZSwgcHJlQ2hlY2spO1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeShzaGFwZSwgYyA9PiB7XG4gICAgICAgICAgICBsZXQgdmlzQyA9IHBsYXllclZpcyEuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXNDICE9PSB1bmRlZmluZWQgJiYgIXZpc0MudmlzaWJsZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHByZUNoZWNrID09PSB1bmRlZmluZWQgPyB0cnVlIDogcHJlQ2hlY2soYyk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgKnF1ZXJ5KHNoYXBlOiBTaGFwZSwgcHJlQ2hlY2s/OiAoYzogSW50ZXJhY3Rpb25Db21wb25lbnQpID0+IGJvb2xlYW4pOiBHZW5lcmF0b3I8SW50ZXJhY3Rpb25Db21wb25lbnQ+IHtcbiAgICAgICAgbGV0IGFhYmIgPSBzaGFwZVRvQWFiYihzaGFwZSk7XG5cbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLmFhYmJUcmVlLnF1ZXJ5KGFhYmIpKSB7XG4gICAgICAgICAgICBsZXQgdGFnID0gYy50YWchO1xuICAgICAgICAgICAgaWYgKHByZUNoZWNrICYmICFwcmVDaGVjayh0YWcpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghc2hhcGVJbnRlcnNlY3QodGFnLnNoYXBlISwgc2hhcGUpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBxYyA9IHRhZy5xdWVyeUNoZWNrO1xuICAgICAgICAgICAgaWYgKHFjICYmICFxYyhzaGFwZSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgeWllbGQgdGFnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuXG5leHBvcnQgY29uc3QgS0VZQk9BUkRfS0VZX1VQID0gJ2tleWJvYXJkX2tleV91cCc7XG5leHBvcnQgY29uc3QgS0VZQk9BUkRfS0VZX0RPV04gPSAna2V5Ym9hcmRfa2V5X2Rvd24nO1xuXG5leHBvcnQgY29uc3QgS0VZQk9BUkRfVFlQRSA9ICdrZXlib2FyZCc7XG5leHBvcnQgdHlwZSBLRVlCT0FSRF9UWVBFID0gdHlwZW9mIEtFWUJPQVJEX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIEtleWJvYXJkUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogS0VZQk9BUkRfVFlQRTtcbiAgICBfc2F2ZTogZmFsc2U7XG4gICAgX3N5bmM6IGZhbHNlO1xuXG4gICAgcHJlc3NlZEtleXM6IFNldDxzdHJpbmc+O1xuICAgIHNoaWZ0OiBib29sZWFuO1xuICAgIGN0cmw6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBXRUJfS0VZQk9BUkRfVFlQRSA9ICd3ZWJfa2V5Ym9hcmQnO1xuZXhwb3J0IHR5cGUgV0VCX0tFWUJPQVJEX1RZUEUgPSB0eXBlb2YgV0VCX0tFWUJPQVJEX1RZUEU7XG5leHBvcnQgY2xhc3MgV2ViS2V5Ym9hcmRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBXRUJfS0VZQk9BUkRfVFlQRTtcbiAgICByZWFkb25seSBwcm92aWRlcyA9IFtLRVlCT0FSRF9UWVBFXTtcblxuICAgIHByaXZhdGUgd29ybGQ6IFdvcmxkO1xuXG4gICAgcHJpdmF0ZSBrZXlEb3duTGlzdGVuZXI6IGFueTtcbiAgICBwcml2YXRlIGtleVVwTGlzdGVuZXI6IGFueTtcbiAgICBwcml2YXRlIGJsdXJMaXN0ZW5lcjogYW55O1xuXG4gICAgcHJpdmF0ZSBrZXlib2FyZDogS2V5Ym9hcmRSZXNvdXJjZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHtcbiAgICAgICAgICAgIHR5cGU6IEtFWUJPQVJEX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG5cbiAgICAgICAgICAgIHByZXNzZWRLZXlzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBzaGlmdDogZmFsc2UsXG4gICAgICAgICAgICBjdHJsOiBmYWxzZSxcbiAgICAgICAgfSBhcyBLZXlib2FyZFJlc291cmNlO1xuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHRoaXMua2V5Ym9hcmQpO1xuICAgIH1cblxuICAgIG9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlZGl0ID0ge1xuICAgICAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgY3RybDogZXZlbnQuY3RybEtleSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSwgZWRpdCk7XG4gICAgICAgIGlmIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGxldCBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQucHJlc3NlZEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEtFWUJPQVJEX0tFWV9VUCwga2V5KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25LZXlVcChldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgZWRpdCA9IHtcbiAgICAgICAgICAgIHNoaWZ0OiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgIGN0cmw6IGV2ZW50LmN0cmxLZXksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEtFWUJPQVJEX1RZUEUsIGVkaXQpO1xuXG4gICAgICAgIGlmIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGxldCBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleWJvYXJkLnByZXNzZWRLZXlzLmRlbGV0ZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChLRVlCT0FSRF9LRVlfRE9XTiwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQmx1cihldmVudDogRm9jdXNFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5rZXlib2FyZC5zaGlmdCB8fCB0aGlzLmtleWJvYXJkLmN0cmwpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkaXQgPSB7XG4gICAgICAgICAgICAgICAgc2hpZnQ6IGZhbHNlLCBjdHJsOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFLCBlZGl0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJlc3NlZEtleXMgPSBbLi4udGhpcy5rZXlib2FyZC5wcmVzc2VkS2V5c107XG4gICAgICAgIGZvciAobGV0IGtleSBvZiBwcmVzc2VkS2V5cykge1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5wcmVzc2VkS2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoS0VZQk9BUkRfS0VZX0RPV04sIGtleSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMua2V5RG93bkxpc3RlbmVyID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5RG93bkxpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLmtleVVwTGlzdGVuZXIgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVVwTGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMuYmx1ckxpc3RlbmVyID0gdGhpcy5vbkJsdXIuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuYmx1ckxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlEb3duTGlzdGVuZXIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5VXBMaXN0ZW5lcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtEZVNwYXduQ29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7Y29tbWFuZFJlZ2lzdGVyUHJlQ29uc2VxdWVuY2UsIGVtaXRDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcbmltcG9ydCB7IFNwYXduQ29tbWFuZEtpbmQgfSBmcm9tIFwiLi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcblxuXG5leHBvcnQgY29uc3QgTEFZRVJfVFlQRSA9IFwibGF5ZXJcIjtcbmV4cG9ydCB0eXBlIExBWUVSX1RZUEUgPSB0eXBlb2YgTEFZRVJfVFlQRTtcblxuZXhwb3J0IGludGVyZmFjZSBMYXllciB7XG4gICAgZW50aXR5OiBudW1iZXI7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIGxvY2tlZDogYm9vbGVhbjtcbn1cblxuXG5leHBvcnQgY29uc3QgUEFSRU5UX0xBWUVSX1RZUEUgPSBcImxheWVyX3BcIjtcbmV4cG9ydCB0eXBlIFBBUkVOVF9MQVlFUl9UWVBFID0gdHlwZW9mIFBBUkVOVF9MQVlFUl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBQYXJlbnRMYXllckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEU7XG4gICAgbGF5ZXI6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXllckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCwgTGF5ZXIge1xuICAgIHR5cGU6IExBWUVSX1RZUEUsXG59XG5cblxuZXhwb3J0IGNvbnN0IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSA9IFwibGF5ZXJfYmtnXCI7XG5leHBvcnQgdHlwZSBCQUNLR1JPVU5EX0xBWUVSX1RZUEUgPSB0eXBlb2YgQkFDS0dST1VORF9MQVlFUl9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlLCBMYXllciB7XG4gICAgdHlwZTogQkFDS0dST1VORF9MQVlFUl9UWVBFO1xuXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IHRydWUsXG59XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RFRF9MQVlFUl9UWVBFID0gXCJsYXllcl9zZWxcIjtcbmV4cG9ydCB0eXBlIFNFTEVDVEVEX0xBWUVSX1RZUEUgPSB0eXBlb2YgU0VMRUNURURfTEFZRVJfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0ZWRMYXllclJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIGxheWVyPzogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBMYXllclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IExBWUVSX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmVhZG9ubHkgb3B0aW9uYWxEZXBlbmRlbmNpZXMgPSBbXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgbGF5ZXJTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8TGF5ZXJDb21wb25lbnQ+KExBWUVSX1RZUEUpO1xuICAgIHBhcmVudFN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQYXJlbnRMYXllckNvbXBvbmVudD4oUEFSRU5UX0xBWUVSX1RZUEUpO1xuXG4gICAgYmFja2dyb3VuZExheWVyOiBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZTtcbiAgICBzZWxlY3RlZExheWVyOiBTZWxlY3RlZExheWVyUmVzb3VyY2U7XG4gICAgbGF5ZXJCeU5hbWUgPSBuZXcgTWFwPHN0cmluZywgTGF5ZXI+KCk7XG5cbiAgICAvLyBUT0RPOiBvcHRpbWl6ZSBjbGVhclxuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRMYXllciA9IHtcbiAgICAgICAgICAgIHR5cGU6IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICBuYW1lOiBcIkJhY2tncm91bmRcIixcbiAgICAgICAgICAgIHByaW9yaXR5OiBMYXllck9yZGVyLkJBQ0tHUk9VTkQsXG4gICAgICAgICAgICBsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiB0cnVlLFxuICAgICAgICB9IGFzIEJhY2tncm91bmRMYXllclJlc291cmNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkTGF5ZXIgPSB7XG4gICAgICAgICAgICB0eXBlOiBTRUxFQ1RFRF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgbGF5ZXI6IC0xLFxuICAgICAgICB9IGFzIFNlbGVjdGVkTGF5ZXJSZXNvdXJjZTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMubGF5ZXJTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnBhcmVudFN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmJhY2tncm91bmRMYXllcik7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMuc2VsZWN0ZWRMYXllcik7XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gd29ybGQuZXZlbnRzO1xuICAgICAgICBldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxheWVyRWRpdGVkKGw6IExheWVyLCBlZGl0czogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICgnbmFtZScgaW4gZWRpdHMpIHtcbiAgICAgICAgICAgIGxldCBvbGROYW1lID0gZWRpdHMubmFtZTtcbiAgICAgICAgICAgIGlmIChvbGROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnlOYW1lLmRlbGV0ZShvbGROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxheWVyQnlOYW1lLmhhcyhsLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkxheWVyIG5hbWUgY29uZmxpY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIGwubmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnlOYW1lLnNldChsLm5hbWUsIGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGwgPSBjIGFzIExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGwubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllckJ5TmFtZS5zZXQobC5uYW1lLCBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50LCBlZGl0ZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGF5ZXJFZGl0ZWQoYyBhcyBMYXllckNvbXBvbmVudCwgZWRpdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBsID0gYyBhcyBMYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbXSxcbiAgICAgICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLnBhcmVudFN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmxheWVyICE9PSBsLmVudGl0eSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY21kLmVudGl0aWVzLnB1c2goY2hpbGQuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbWQuZW50aXRpZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZFJlZ2lzdGVyUHJlQ29uc2VxdWVuY2UodGhpcy53b3JsZCwgY21kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyOiBSZXNvdXJjZSwgZWRpdGVkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHIudHlwZSA9PT0gQkFDS0dST1VORF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGF5ZXJFZGl0ZWQociBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSwgZWRpdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEVudGl0eUxheWVyKGVudGl0eTogbnVtYmVyKTogTGF5ZXIge1xuICAgICAgICBsZXQgY21wID0gdGhpcy5wYXJlbnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoY21wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXllciA9IHRoaXMubGF5ZXJTdG9yYWdlLmdldENvbXBvbmVudChjbXAubGF5ZXIpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBwYXJlbnQgbGF5ZXIgb2YgXCIgKyBjbXAuZW50aXR5ICsgXCI6IFwiICsgY21wLmxheWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgfVxuXG4gICAgZ2V0TGF5ZXJCeUlkKGlkOiBudW1iZXIpOiBMYXllciB7XG4gICAgICAgIGlmIChpZCA9PT0gLTEpIHJldHVybiB0aGlzLmJhY2tncm91bmRMYXllcjtcblxuICAgICAgICBsZXQgbGF5ZXIgPSB0aGlzLmxheWVyU3RvcmFnZS5nZXRDb21wb25lbnQoaWQpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBsYXllciBpZDogXCIgKyBpZCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcblxuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRm9yZWdyb3VuZCh3b3JsZDogV29ybGQpOiBudW1iZXIge1xuICAgIGxldCBzdG8gPSB3b3JsZC5nZXRTdG9yYWdlKExBWUVSX1RZUEUpO1xuICAgIGlmIChzdG8gPT09IHVuZGVmaW5lZCkgcmV0dXJuIC0xO1xuICAgIGZvciAobGV0IHggb2Ygc3RvLmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICByZXR1cm4geC5lbnRpdHk7Ly8gVGhlcmUncyBvbmx5IDEgbGF5ZXIgZm9yIG5vdyAoZm9yZWdyb3VuZClcbiAgICB9XG4gICAgLy8gSWYgaXQncyBub3QgcHJlc2VudCB3ZSBuZWVkIHRvIGNyZWF0ZSBpdFxuICAgIGxldCBjbWQgPSBTcGF3bkNvbW1hbmRLaW5kLmZyb20od29ybGQsIFt7XG4gICAgICAgIHR5cGU6IExBWUVSX1RZUEUsXG4gICAgICAgIG5hbWU6ICdGb3JlZ3JvdW5kJyxcbiAgICAgICAgcHJpb3JpdHk6IExheWVyT3JkZXIuRk9SRUdST1VORCxcbiAgICAgICAgbG9ja2VkOiBmYWxzZSxcbiAgICB9IGFzIExheWVyQ29tcG9uZW50XSk7XG5cbiAgICBlbWl0Q29tbWFuZCh3b3JsZCwgY21kLCB0cnVlKTtcbiAgICByZXR1cm4gY21kLmRhdGEuZW50aXRpZXNbMF07XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtEZXNlcmlhbGl6ZURhdGEsIFNlcmlhbGl6ZURhdGEsIFNlcmlhbGl6ZWRXb3JsZCwgV29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuXG5cbnR5cGUgTGlua1BhdGggPSBBcnJheTxzdHJpbmc+O1xuXG5leHBvcnQgY29uc3QgTElOS19SRUxPQ0FUSU9OX1RZUEUgPSAnbGlua19yZWxvY2F0aW9uJztcbmV4cG9ydCB0eXBlIExJTktfUkVMT0NBVElPTl9UWVBFID0gdHlwZW9mIExJTktfUkVMT0NBVElPTl9UWVBFO1xuZXhwb3J0IGNsYXNzIExpbmtSZWxvY2F0aW9uU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZWFkb25seSBuYW1lID0gTElOS19SRUxPQ0FUSU9OX1RZUEU7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIHByaXZhdGUgbGlua3MgPSBuZXcgTWFwPHN0cmluZywgQXJyYXk8TGlua1BhdGg+PigpO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3NlcmlhbGl6ZWQnLCB0aGlzLm9uU2VyaWFsaXplZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignZGVzZXJpYWxpemUnLCB0aGlzLm9uRGVzZXJpYWxpemUsIHRoaXMpO1xuICAgIH1cblxuICAgIGFkZExpbmsoc3RvcmFnZU5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBhdGhzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICBsZXQgc3RvcmFnZURhdGEgPSB0aGlzLmxpbmtzLmdldChzdG9yYWdlTmFtZSk7XG4gICAgICAgIGlmIChzdG9yYWdlRGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdG9yYWdlRGF0YSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5saW5rcy5zZXQoc3RvcmFnZU5hbWUsIHN0b3JhZ2VEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yYWdlRGF0YS5wdXNoKHBhdGhzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkanVzdExpbmsobWFwcGluZzogKHg6IG51bWJlcikgPT4gbnVtYmVyLCBvYmo6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChvYmpbbmFtZV0gPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb2JqW25hbWVdICE9PSAnbnVtYmVyJykgcmV0dXJuO1xuICAgICAgICBsZXQgbmV3SWQgPSBtYXBwaW5nKG9ialtuYW1lXSk7XG4gICAgICAgIGlmIChuZXdJZCA+IDApIHtcbiAgICAgICAgICAgIG9ialtuYW1lXSA9IG5ld0lkO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGZvcmVhY2hQYXRoT2JqKGJhc2VPYmo6IGFueSwgcGF0aDogTGlua1BhdGgsIHRoZW46IChvYmo6IGFueSwgbmFtZTogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgICAgIGNvbnN0IGV4cGxvcmUgPSAob2JqOiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwID0gcGF0aFtpXTtcbiAgICAgICAgICAgIGlmIChpID09PSBwYXRoLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGVuKG9iaiwgcClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocCA9PSAnKicpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICBleHBsb3JlKG9ialtuYW1lXSwgaSArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhwbG9yZShvYmpbcF0sIGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV4cGxvcmUoYmFzZU9iaiwgMCk7XG4gICAgfVxuXG5cblxuICAgIGFkanVzdFNlcmlhbGl6ZWRQYXRocyhtYXBwaW5nOiAoeDogbnVtYmVyKSA9PiBudW1iZXIsIHdvcmxkOiBTZXJpYWxpemVkV29ybGQpIHtcbiAgICAgICAgZm9yIChsZXQgW3NuYW1lLCBzZGF0YV0gb2YgdGhpcy5saW5rcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB3b3JsZC5zdG9yYWdlc1tzbmFtZV07XG4gICAgICAgICAgICBpZiAoc3RvcmFnZSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5SWQgaW4gc3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHN0b3JhZ2VbZW50aXR5SWRdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGF0aCBvZiBzZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmVhY2hQYXRoT2JqKG9iaiwgcGF0aCwgKG8sIG4pID0+IHRoaXMuYWRqdXN0TGluayhtYXBwaW5nLCBvLCBuKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2VyaWFsaXplZChkYXRhOiBTZXJpYWxpemVEYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5vcHRpb25zLnJlbWFwKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5hZGp1c3RTZXJpYWxpemVkUGF0aHMoZGF0YS5lbnRpdHlNYXBwaW5nLCBkYXRhLnJlc3VsdCEhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRGVzZXJpYWxpemUoZGF0YTogRGVzZXJpYWxpemVEYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5vcHRpb25zLnJlbWFwKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5hZGp1c3RTZXJpYWxpemVkUGF0aHMoZGF0YS5lbnRpdHlNYXBwaW5nLCBkYXRhLmRhdGEpO1xuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtNdWx0aUVjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge0VsZW1lbnRUeXBlLCBHUkFQSElDX1RZUEUsIEdyYXBoaWNDb21wb25lbnQsIFBvaW50RWxlbWVudCwgVGV4dEVsZW1lbnQsIFZpc2liaWxpdHlUeXBlLCBEaXNwbGF5RWxlbWVudH0gZnJvbSBcIi4uLy4uLy4uL2dyYXBoaWNzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIE5hbWVDb21wb25lbnQsIE5BTUVfVFlQRSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IElQb2ludERhdGEgfSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7IExvY2FsTGlnaHRTZXR0aW5ncywgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSB9IGZyb20gXCIuLi9saWdodFN5c3RlbVwiO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTmFtZUFzTGFiZWxDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IE5BTUVfQVNfTEFCRUxfVFlQRTtcbiAgICBpbml0aWFsT2Zmc2V0OiBJUG9pbnREYXRhO1xufVxuXG5leHBvcnQgY29uc3QgTkFNRV9BU19MQUJFTF9UWVBFID0gJ25hbWVfYXNfbGFiZWwnO1xuZXhwb3J0IHR5cGUgTkFNRV9BU19MQUJFTF9UWVBFID0gdHlwZW9mIE5BTUVfQVNfTEFCRUxfVFlQRTtcbmV4cG9ydCBjbGFzcyBOYW1lQXNMYWJlbFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IE5BTUVfQVNfTEFCRUxfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbR1JBUEhJQ19UWVBFXTtcblxuICAgIHByaXZhdGUgd29ybGQ6IFdvcmxkO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPE5hbWVBc0xhYmVsQ29tcG9uZW50PihOQU1FX0FTX0xBQkVMX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBwcml2YXRlIGlzTWFzdGVyVmlldzogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmVkJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTkFNRV9BU19MQUJFTF9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYyBhcyBOYW1lQXNMYWJlbENvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBOQU1FX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb21wICE9PSB1bmRlZmluZWQpIHRoaXMudXBkYXRlRWxlbWVudChjb21wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5BTUVfQVNfTEFCRUxfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMgYXMgTmFtZUFzTGFiZWxDb21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gTkFNRV9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tcCAhPT0gdW5kZWZpbmVkKSB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlZChjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTkFNRV9BU19MQUJFTF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3JsZC5pc0Rlc3Bhd25pbmcuaW5jbHVkZXMoYy5lbnRpdHkpKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBnID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGZvciAobGV0IGVsZW0gb2YgKGcuZGlzcGxheS5jaGlsZHJlbiB8fCBbXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS50YWcgIT09ICduYW1lJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGcuZGlzcGxheS5fY2hpbGRyZW5SZW1vdmUgPT09IHVuZGVmaW5lZCkgZy5kaXNwbGF5Ll9jaGlsZHJlblJlbW92ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGcuZGlzcGxheS5fY2hpbGRyZW5SZW1vdmUucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IE5BTUVfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXAgIT09IHVuZGVmaW5lZCkgdGhpcy51cGRhdGVFbGVtZW50KGNvbXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGVkaXRlZDogYW55KSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSAmJiAndmlzaW9uVHlwZScgaW4gZWRpdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzTWFzdGVyVmlldyA9IChyZXMgYXMgTG9jYWxMaWdodFNldHRpbmdzKS52aXNpb25UeXBlICE9PSAncnAnO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRWxlbWVudChjOiBOYW1lQXNMYWJlbENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgZGlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEdSQVBISUNfVFlQRSkgYXMgR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgaWYgKGRpcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciwgZm91bmQgdGV4dF9hc19sYWJlbCBjb21wb25lbnQgb24gYW4gZWxlbWVudCB3aXRob3QgYSBncmFwaGljIHR5cGUsXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIFwicGxlYXNlIGZpcnN0IGNyZWF0ZSB5b3VyIGdyYXBoaWMgdHlwZSwgdGhlbiBhZGQgYSB0ZXh0X2FzX2xhYmVsIGNvbXBvbmVudFwiKTtcbiAgICAgICAgICAgIGRpcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5DT05UQUlORVIsXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIGRpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZVN0b3JhZ2UgPSB0aGlzLndvcmxkLmdldFN0b3JhZ2UoTkFNRV9UWVBFKSBhcyBNdWx0aUVjc1N0b3JhZ2U8TmFtZUNvbXBvbmVudD47XG4gICAgICAgIGxldCBjb21wb3NpdGVOYW1lID0gJyc7XG4gICAgICAgIGZvciAobGV0IG5hbWUgb2YgbmFtZVN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhjLmVudGl0eSkpIHtcbiAgICAgICAgICAgIGlmIChuYW1lLm5hbWUgPT09ICcnKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc01hc3RlclZpZXcgJiYgbmFtZS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoY29tcG9zaXRlTmFtZSAhPT0gJycpIGNvbXBvc2l0ZU5hbWUgKz0gJ1xcbic7XG4gICAgICAgICAgICBjb21wb3NpdGVOYW1lICs9IG5hbWUubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQwKGMsIGRpcywgY29tcG9zaXRlTmFtZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVFbGVtZW50MChlOiBOYW1lQXNMYWJlbENvbXBvbmVudCwgZ3JhcGhpYzogR3JhcGhpY0NvbXBvbmVudCwgbmFtZXM6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaXNwbGF5ID0gZ3JhcGhpYy5kaXNwbGF5O1xuXG4gICAgICAgIGxldCBlbGVtOiBUZXh0RWxlbWVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBTZWFyY2ggZWxlbWVudFxuICAgICAgICBmb3IgKGxldCBjIG9mIChkaXNwbGF5LmNoaWxkcmVuIHx8IFtdKSkge1xuICAgICAgICAgICAgaWYgKGMudHlwZSA9PT0gRWxlbWVudFR5cGUuVEVYVCAmJiBjLnRhZyA9PT0gJ25hbWUnKSB7XG4gICAgICAgICAgICAgICAgZWxlbSA9IGMgYXMgVGV4dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3IgY3JlYXRlIG9uZVxuICAgICAgICBpZiAoZWxlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbGVtID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLlRFWFQsXG4gICAgICAgICAgICAgICAgdGFnOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgaWdub3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogMCxcbiAgICAgICAgICAgICAgICB2aXNpYjogVmlzaWJpbGl0eVR5cGUuTk9STUFMLFxuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogeyB4OiAwLjUsIHk6IDEgfSxcbiAgICAgICAgICAgICAgICBsaW5lQWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgfSBhcyBUZXh0RWxlbWVudDtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5Ll9jaGlsZHJlbkFkZCA9PT0gdW5kZWZpbmVkKSBkaXNwbGF5Ll9jaGlsZHJlbkFkZCA9IFtdO1xuICAgICAgICAgICAgZGlzcGxheS5fY2hpbGRyZW5BZGQucHVzaChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtLm9mZnNldCA9IGUuaW5pdGlhbE9mZnNldDtcblxuICAgICAgICBlbGVtLnRleHQgPSBuYW1lcztcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGdyYXBoaWMuZW50aXR5LCBncmFwaGljLnR5cGUsIHsgZGlzcGxheTogZ3JhcGhpYy5kaXNwbGF5IH0sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc01hc3RlclZpZXcgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFKSBhcyBMb2NhbExpZ2h0U2V0dGluZ3MpPy52aXNpb25UeXBlICE9PSAncnAnO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxuXG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0ICogYXMgUCBmcm9tIFwiLi4vLi4vLi4vcHJvdG9jb2wvZ2FtZVwiO1xuaW1wb3J0IHtDb21tYW5kLCBlbWl0Q29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuLi9jb21tYW5kL2Rlc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQgeyBQYWNrZXRJbmZvLCBXVENoYW5uZWwgfSBmcm9tIFwiLi4vLi4vLi4vbmV0d29yay93ZWJ0b3JyZW50L1dUQ2hhbm5lbFwiO1xuXG5leHBvcnQgY29uc3QgTkVUV09SS19UWVBFID0gJ25ldHdvcmsnO1xuZXhwb3J0IHR5cGUgTkVUV09SS19UWVBFID0gdHlwZW9mIE5FVFdPUktfVFlQRTtcblxuZXhwb3J0IGludGVyZmFjZSBOZXR3b3JrU3lzdGVtIGV4dGVuZHMgU3lzdGVte1xuICAgIGlzT25saW5lKCk6IGJvb2xlYW47XG5cbiAgICByZWFkb25seSBjaGFubmVsOiBXVENoYW5uZWw7XG59XG5cbmV4cG9ydCBjb25zdCBORVRXT1JLX0VOVElUWV9UWVBFID0gJ25ldHdvcmtfZW50aXR5JztcbmV4cG9ydCB0eXBlIE5FVFdPUktfRU5USVRZX1RZUEUgPSB0eXBlb2YgTkVUV09SS19FTlRJVFlfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya0VudGl0eUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogTkVUV09SS19FTlRJVFlfVFlQRTtcbiAgICBuZXR3b3JrSWQ6IG51bWJlcjtcbiAgICBjb2xvcjogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjb25zdCBORVRXT1JLX1NUQVRVU19UWVBFID0gJ25ldHdvcmtfc3RhdHVzJztcbmV4cG9ydCB0eXBlIE5FVFdPUktfU1RBVFVTX1RZUEUgPSB0eXBlb2YgTkVUV09SS19TVEFUVVNfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya1N0YXR1c1Jlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICAgIHR5cGU6IE5FVFdPUktfU1RBVFVTX1RZUEU7XG4gICAgY29ubmVjdGlvbkNvdW50OiBudW1iZXI7XG4gICAgdHJhY2tlckNvdW50OiBudW1iZXI7XG4gICAgaXNCdWZmZXJpbmc6IGJvb2xlYW47XG4gICAgbXlJZDogbnVtYmVyO1xuICAgIGVudGl0eUluZGV4OiBNYXA8bnVtYmVyLCBudW1iZXI+O1xuXG4gICAgaXNCb290c3RyYXBEb25lOiBib29sZWFuO1xuXG4gICAgX3NhdmU6IGZhbHNlO1xuICAgIF9zeW5jOiBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbW1vbk5ldHdvcmtTeXN0ZW0gaW1wbGVtZW50cyBOZXR3b3JrU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gTkVUV09SS19UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgcmVhZG9ubHkgY2hhbm5lbDogV1RDaGFubmVsO1xuICAgIHByaXZhdGUgd29ybGQ6IFdvcmxkO1xuXG4gICAgcHJpdmF0ZSByZXM6IE5ldHdvcmtTdGF0dXNSZXNvdXJjZTtcblxuICAgIHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxOZXR3b3JrRW50aXR5Q29tcG9uZW50PihORVRXT1JLX0VOVElUWV9UWVBFLCB0cnVlLCBmYWxzZSk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQsIGNoYW5uZWw6IFdUQ2hhbm5lbCkge1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG5cbiAgICAgICAgdGhpcy5yZXMgPSB7XG4gICAgICAgICAgICB0eXBlOiBORVRXT1JLX1NUQVRVU19UWVBFLFxuICAgICAgICAgICAgY29ubmVjdGlvbkNvdW50OiAwLFxuICAgICAgICAgICAgdHJhY2tlckNvdW50OiB0aGlzLmNoYW5uZWwuZGlzY292ZXJ5LmNvbm5lY3RlZFRyYWNrZXJzLFxuICAgICAgICAgICAgaXNCdWZmZXJpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZW50aXR5SW5kZXg6IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCksXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgIH0gYXMgTmV0d29ya1N0YXR1c1Jlc291cmNlO1xuXG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMucmVzKTtcblxuICAgICAgICB0aGlzLmNoYW5uZWwuZXZlbnRzLm9uKCd0cmFja2VyX2Nvbm5lY3Rpb25zJywgdHJhY2tlckNvdW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKHRoaXMucmVzLnR5cGUsIHtcbiAgICAgICAgICAgICAgICB0cmFja2VyQ291bnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3BvcHVsYXRlJywgdGhpcy5vblBvcHVsYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHdvcmxkLmFkZFN5c3RlbShuZXcgSG9zdE5ldHdvcmtTeXN0ZW0od29ybGQsIGNoYW5uZWwpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdvcmxkLmFkZFN5c3RlbShuZXcgQ2xpZW50TmV0d29ya1N5c3RlbSh3b3JsZCwgY2hhbm5lbCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjOiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gTkVUV09SS19FTlRJVFlfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IGMgYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy5yZXMuZW50aXR5SW5kZXguc2V0KGNvbXAubmV0d29ya0lkLCBjb21wLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGM6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoYy50eXBlID09PSBORVRXT1JLX0VOVElUWV9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gYyBhcyBOZXR3b3JrRW50aXR5Q29tcG9uZW50O1xuXG4gICAgICAgICAgICB0aGlzLnJlcy5lbnRpdHlJbmRleC5kZWxldGUoY29tcC5uZXR3b3JrSWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvcHVsYXRlKCkge1xuICAgICAgICB0aGlzLnJlcy5teUlkID0gdGhpcy5jaGFubmVsLm15SWQ7XG5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3Bhd25EZXZpY2VFbnRpdHkodGhpcy5yZXMubXlJZCk7XG4gICAgICAgICAgICBmb3IgKGxldCBwaWQgb2YgdGhpcy5jaGFubmVsLmNvbm5lY3Rpb25zLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25EZXZpY2VFbnRpdHkocGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ29ubmVjdGlvbkNvdW50KCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uQ291bnQgPSB0aGlzLmNoYW5uZWwuY29ubmVjdGlvbnMuc2l6ZTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoTkVUV09SS19TVEFUVVNfVFlQRSwgeyBjb25uZWN0aW9uQ291bnQgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcGF3bkRldmljZUVudGl0eShwZWVySWQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBjbWQgPSBTcGF3bkNvbW1hbmRLaW5kLmZyb20odGhpcy53b3JsZCwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IE5FVFdPUktfRU5USVRZX1RZUEUsXG4gICAgICAgICAgICAgICAgbmV0d29ya0lkOiBwZWVySWQsXG4gICAgICAgICAgICAgICAgY29sb3I6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGKSxcbiAgICAgICAgICAgIH0gYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudFxuICAgICAgICBdKTtcbiAgICAgICAgZW1pdENvbW1hbmQodGhpcy53b3JsZCwgY21kLCB0cnVlKTtcbiAgICB9XG5cbiAgICBvbkRldmljZUpvaW4oY29ubklkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uQ291bnQoKTtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgdGhpcy5zcGF3bkRldmljZUVudGl0eShjb25uSWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EZXZpY2VMZWF2ZShjb25uSWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25Db3VudCgpO1xuICAgICAgICBpZiAodGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgY29uc3QgZWlkID0gdGhpcy5yZXMuZW50aXR5SW5kZXguZ2V0KGNvbm5JZCk7XG4gICAgICAgICAgICBpZiAoZWlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEZXZpY2UgXCIgKyBjb25uSWQgKyBcIiBoYWQgbm8gYXNzb2NpYXRlZCBlbnRpdHlcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY21kID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogW2VpZF0sXG4gICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgnY29tbWFuZF9lbWl0JywgY21kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGV2aWNlQnVmZmVyVXBkYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiBidWZmZXJpbmdcbiAgICAgICAgY29uc3QgaXNCdWZmZXJpbmcgPSBmYWxzZTsgLy8gdGhpcy5jaGFubmVsLmJ1ZmZlcmluZ0NoYW5uZWxzID4gMDtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoTkVUV09SS19TVEFUVVNfVFlQRSwgeyBpc0J1ZmZlcmluZyB9KTtcbiAgICB9XG5cbiAgICBpc09ubGluZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbC5jb25uZWN0aW9ucy5zaXplICE9PSAwO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNoRXZlbnRzID0gdGhpcy5jaGFubmVsLmV2ZW50cztcbiAgICAgICAgY2hFdmVudHMub24oJ2RldmljZV9qb2luJywgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgICAgICBjaEV2ZW50cy5vbignZGV2aWNlX2xlZnQnLCB0aGlzLm9uRGV2aWNlTGVhdmUsIHRoaXMpO1xuICAgICAgICBjaEV2ZW50cy5vbignYnVmZmVyaW5nX3VwZGF0ZScsIHRoaXMub25EZXZpY2VCdWZmZXJVcGRhdGUsIHRoaXMpO1xuICAgICAgICAvL3RoaXMuY2hhbm5lbC5ldmVudHMub24oJ21lc3NhZ2UnLCB4ID0+IGNvbnNvbGUubG9nKFwiUkVDRUlWRUQ6IFwiICsgSlNPTi5zdHJpbmdpZnkoeCkpKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBsZXQgY2hFdmVudHMgPSB0aGlzLmNoYW5uZWwuZXZlbnRzO1xuICAgICAgICBjaEV2ZW50cy5vZmYoJ2RldmljZV9qb2luJywgdGhpcy5vbkRldmljZUpvaW4sIHRoaXMpO1xuICAgICAgICBjaEV2ZW50cy5vZmYoJ2RldmljZV9sZWZ0JywgdGhpcy5vbkRldmljZUxlYXZlLCB0aGlzKTtcbiAgICAgICAgY2hFdmVudHMub2ZmKCdidWZmZXJpbmdfdXBkYXRlJywgdGhpcy5vbkRldmljZUJ1ZmZlclVwZGF0ZSwgdGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSE9TVF9ORVRXT1JLX1RZUEUgPSAnaG9zdF9uZXR3b3JrJztcbmV4cG9ydCB0eXBlIEhPU1RfTkVUV09SS19UWVBFID0gdHlwZW9mIEhPU1RfTkVUV09SS19UWVBFO1xuZXhwb3J0IGNsYXNzIEhvc3ROZXR3b3JrU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gSE9TVF9ORVRXT1JLX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW10gYXMgc3RyaW5nW107XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBjaGFubmVsOiBXVENoYW5uZWw7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQsIGNoOiBXVENoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaDtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tbWFuZF9zaGFyZScsIHRoaXMub25Db21tYW5kU2hhcmUsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRVZFTlQgTElTVEVORVJTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgb25EZXZpY2VKb2luKGNoSWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICB0eXBlOiBcImVjc19ib290c3RyYXBcIixcbiAgICAgICAgICAgIHBheWxvYWQ6IHRoaXMud29ybGQuc2VyaWFsaXplKHtcbiAgICAgICAgICAgICAgICByZXF1aXJlU3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdHJpcENsaWVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZXM6IHRydWUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSBhcyBQLkVjc0Jvb3Ryc3RyYXAsIGNoSWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21tYW5kUGFja2V0KHBrdDogUC5Db21tYW5kUGFja2V0LCBpbmZvOiBQYWNrZXRJbmZvKSB7XG4gICAgICAgIGNvbnN0IHNlbmRlciA9IGluZm8uc2VuZGVySWQ7XG4gICAgICAgIGZvciAobGV0IGNtZCBvZiBwa3QuZGF0YSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQ29tbWFuZChzZW5kZXIsIGNtZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImNvbW1hbmRfZW1pdFwiLCBjbWQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tDb21tYW5kKHNlbmRlcjogbnVtYmVyLCBjb21tYW5kOiBDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlJlY2VpdmVkIGNvbW1hbmQgZnJvbSBub24tYWRtaW46IFwiLCBjb21tYW5kKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21tYW5kU2hhcmUoY29tbWFuZDogQ29tbWFuZFtdKTogdm9pZCB7XG4gICAgICAgIGlmIChjb21tYW5kLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5uZWwuYnJvYWRjYXN0KHtcbiAgICAgICAgICAgIHR5cGU6ICdjbWQnLFxuICAgICAgICAgICAgZGF0YTogY29tbWFuZCxcbiAgICAgICAgfSBhcyBQLkNvbW1hbmRQYWNrZXQpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGFubmVsLmV2ZW50cy5vbignZGV2aWNlX2pvaW4nLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5wYWNrZXRzLm9uKCdjbWQnLCB0aGlzLm9uQ29tbWFuZFBhY2tldCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKE5FVFdPUktfU1RBVFVTX1RZUEUsIHsgaXNCb290c3RyYXBEb25lOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5ldmVudHMub2ZmKCdkZXZpY2Vfam9pbicsIHRoaXMub25EZXZpY2VKb2luLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jaGFubmVsLnBhY2tldHMub2ZmKCdjbWQnLCB0aGlzLm9uQ29tbWFuZFBhY2tldCwgdGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgQ0xJRU5UX05FVFdPUktfVFlQRSA9ICdjbGllbnRfbmV0d29yayc7XG5leHBvcnQgdHlwZSBDTElFTlRfTkVUV09SS19UWVBFID0gdHlwZW9mIENMSUVOVF9ORVRXT1JLX1RZUEU7XG5leHBvcnQgY2xhc3MgQ2xpZW50TmV0d29ya1N5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IENMSUVOVF9ORVRXT1JLX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW10gYXMgc3RyaW5nW107XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBjaGFubmVsOiBXVENoYW5uZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihlY3M6IFdvcmxkLCBjaGFubmVsOiBXVENoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IGVjcztcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRWNzQm9vdHN0cmFwKHBhY2tldDogUC5FY3NCb290cnN0cmFwLCBpbmZvOiBQYWNrZXRJbmZvKTogdm9pZCB7XG4gICAgICAgIGlmIChpbmZvLnNlbmRlcklkICE9PSAwKSByZXR1cm47IC8vIE9ubHkgYWRtaW5cblxuICAgICAgICB0aGlzLndvcmxkLmNsZWFyKCk7XG4gICAgICAgIHRoaXMud29ybGQuZGVzZXJpYWxpemUocGFja2V0LnBheWxvYWQsIHt9KTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoTkVUV09SS19TVEFUVVNfVFlQRSwgeyBpc0Jvb3RzdHJhcERvbmU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ2ZvY3VzX29uX3JhbmRvbV9wYXJ0eScpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25DbWQocGFja2V0OiBQLkNvbW1hbmRQYWNrZXQsIGluZm86IFBhY2tldEluZm8pOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgY21kIG9mIHBhY2tldC5kYXRhKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tDb21tYW5kKGluZm8uc2VuZGVySWQsIGNtZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImNvbW1hbmRfZW1pdFwiLCBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkRldmljZUxlYXZlKGNvbm5JZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKE5FVFdPUktfU1RBVFVTX1RZUEUsIHsgaXNCb290c3RyYXBEb25lOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQ29tbWFuZChzZW5kZXI6IG51bWJlciwgY29tbWFuZDogQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoc2VuZGVyID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiUmVjZWl2ZWQgY29tbWFuZCBmcm9tIG5vbi1hZG1pbjogXCIsIGNvbW1hbmQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBsZXQgcGFja2V0cyA9IHRoaXMuY2hhbm5lbC5wYWNrZXRzO1xuICAgICAgICBwYWNrZXRzLm9uKCdlY3NfYm9vdHN0cmFwJywgdGhpcy5vbkVjc0Jvb3RzdHJhcCwgdGhpcyk7XG4gICAgICAgIHBhY2tldHMub24oJ2NtZCcsIHRoaXMub25DbWQsIHRoaXMpO1xuICAgICAgICBsZXQgY2hFdmVudHMgPSB0aGlzLmNoYW5uZWwuZXZlbnRzO1xuICAgICAgICBjaEV2ZW50cy5vbignZGV2aWNlX2xlZnQnLCB0aGlzLm9uRGV2aWNlTGVhdmUsIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGxldCBwYWNrZXRzID0gdGhpcy5jaGFubmVsLnBhY2tldHM7XG4gICAgICAgIHBhY2tldHMub2ZmKCdlY3NfYm9vdHN0cmFwJywgdGhpcy5vbkVjc0Jvb3RzdHJhcCwgdGhpcyk7XG4gICAgICAgIHBhY2tldHMub2ZmKCdjbWQnLCB0aGlzLm9uQ21kLCB0aGlzKTtcbiAgICAgICAgbGV0IGNoRXZlbnRzID0gdGhpcy5jaGFubmVsLmV2ZW50cztcbiAgICAgICAgY2hFdmVudHMub2ZmKCdkZXZpY2VfbGVmdCcsIHRoaXMub25EZXZpY2VMZWF2ZSwgdGhpcyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQge0lIaXRBcmVhLCBJUG9pbnREYXRhfSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7Rk9MTE9XX01PVVNFX1RZUEUsIFBPU0lUSU9OX1RZUEV9IGZyb20gXCIuLi8uLi9jb21wb25lbnRcIjtcbmltcG9ydCB7RmxhZ0Vjc1N0b3JhZ2V9IGZyb20gXCIuLi8uLi9zdG9yYWdlXCI7XG5pbXBvcnQge2ZpbmRFbnRpdGllc0F0LCBnZXRCb2FyZFBvc0Zyb21PcmlnaW4sIGdldE1hcFBvaW50RnJvbU1vdXNlSW50ZXJhY3Rpb24sIHNuYXBQb2ludH0gZnJvbSBcIi4uLy4uL3Rvb2xzL3V0aWxzXCI7XG5pbXBvcnQge0tFWUJPQVJEX0tFWV9ET1dOLCBLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi9rZXlib2FyZFN5c3RlbVwiO1xuaW1wb3J0IHthZGRDdXN0b21CbGVuZE1vZGVzfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge0RFRkFVTFRfQkFDS0dST1VORH0gZnJvbSBcIi4uL2xpZ2h0U3lzdGVtXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuaW50ZXJmYWNlIFBvaW50ZXJEYXRhIHtcbiAgICBmaXJzdFg6IG51bWJlcixcbiAgICBmaXJzdFk6IG51bWJlcixcbiAgICBsYXN0WDogbnVtYmVyLFxuICAgIGxhc3RZOiBudW1iZXIsXG59XG5cbmV4cG9ydCBlbnVtIFBvaW50ZXJFdmVudHMge1xuICAgIFBPSU5URVJfTU9WRSA9ICdwb2ludGVyX21vdmUnLFxuICAgIFBPSU5URVJfRE9XTiA9ICdwb2ludGVyX2Rvd24nLFxuICAgIFBPSU5URVJfVVAgPSAncG9pbnRlcl91cCcsXG4gICAgUE9JTlRFUl9SSUdIVF9ET1dOID0gJ3BvaW50ZXJfcmlnaHRfZG93bicsXG4gICAgUE9JTlRFUl9SSUdIVF9VUCA9ICdwb2ludGVyX3JpZ2h0X3VwJyxcbiAgICBQT0lOVEVSX0NMSUNLID0gJ3BvaW50ZXJfY2xpY2snLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50ZXJJbnRlcmFjdGlvbkV2ZW50IHtcbiAgICBnbG9iYWxQb3M6IFBJWEkuSVBvaW50RGF0YTtcbiAgICBib2FyZFBvczogUElYSS5JUG9pbnREYXRhO1xuICAgIHBvaW50ZXJJZDogbnVtYmVyO1xuICAgIHBvaW50ZXJUeXBlOiBzdHJpbmc7XG4gICAgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCBQb2ludGVyRXZlbnQ7XG4gICAgLy8gbGF6eSBhbmQgY2FjaGVkXG4gICAgZW50aXRpZXNIb3ZlcmVkOiAoKSA9PiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25zdW1hYmxlRXZlbnQge1xuICAgIGNvbnN1bWVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0xhc3RQb3NpdGlvbiB7XG4gICAgbGFzdFBvc2l0aW9uOiBQSVhJLklQb2ludERhdGE7XG59XG5cbmV4cG9ydCB0eXBlIFBvaW50ZXJEb3duRXZlbnQgPSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCAmIENvbnN1bWFibGVFdmVudCAmIHtcbiAgICAvLyBJZiBzZXQgdG8gdHJ1ZSBhZnRlciB0aGUgZXZlbnQgdGhlIGludGVyYWN0aW9uIHdpbGwgYmUgdXNlZCB0byBkcmFnIHRoZSBtYXAgYXJvdW5kXG4gICAgY29uc3VtZURyYWdCb2FyZDogYm9vbGVhbjtcbn07XG5leHBvcnQgdHlwZSBQb2ludGVyVXBFdmVudCA9IFBvaW50ZXJJbnRlcmFjdGlvbkV2ZW50ICYgSGFzTGFzdFBvc2l0aW9uICYgQ29uc3VtYWJsZUV2ZW50ICYge1xuICAgIGlzSW5zaWRlOiBib29sZWFuO1xuICAgIGlzQ2xpY2s6IGJvb2xlYW47XG59O1xuZXhwb3J0IHR5cGUgUG9pbnRlck1vdmVFdmVudCA9IFBvaW50ZXJJbnRlcmFjdGlvbkV2ZW50ICYgSGFzTGFzdFBvc2l0aW9uICYge1xuICAgIGNhbkJlY29tZUNsaWNrOiBib29sZWFuO1xufTtcbmV4cG9ydCB0eXBlIFBvaW50ZXJSaWdodERvd25FdmVudCA9IFBvaW50ZXJJbnRlcmFjdGlvbkV2ZW50ICYgQ29uc3VtYWJsZUV2ZW50O1xuZXhwb3J0IHR5cGUgUG9pbnRlclJpZ2h0VXBFdmVudCA9IFBvaW50ZXJJbnRlcmFjdGlvbkV2ZW50ICYgQ29uc3VtYWJsZUV2ZW50O1xuZXhwb3J0IHR5cGUgUG9pbnRlckNsaWNrRXZlbnQgPSBQb2ludGVySW50ZXJhY3Rpb25FdmVudCAmIENvbnN1bWFibGVFdmVudDtcblxuZXhwb3J0IGNvbnN0IEJPQVJEX1RSQU5TRk9STV9UWVBFID0gJ2JvYXJkX3RyYW5zZm9ybSc7XG5leHBvcnQgdHlwZSBCT0FSRF9UUkFOU0ZPUk1fVFlQRSA9IHR5cGVvZiBCT0FSRF9UUkFOU0ZPUk1fVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBCT0FSRF9UUkFOU0ZPUk1fVFlQRTtcbiAgICBfc2F2ZTogdHJ1ZTtcbiAgICBfc3luYzogZmFsc2U7XG5cbiAgICBwb3NYOiBudW1iZXI7XG4gICAgcG9zWTogbnVtYmVyO1xuICAgIHNjYWxlWDogbnVtYmVyO1xuICAgIHNjYWxlWTogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgQk9BUkRfU0laRV9UWVBFID0gJ2JvYXJkX3NpemUnO1xuZXhwb3J0IHR5cGUgQk9BUkRfU0laRV9UWVBFID0gdHlwZW9mIEJPQVJEX1NJWkVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgQm9hcmRTaXplUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogQk9BUkRfU0laRV9UWVBFO1xuICAgIF9zYXZlOiBmYWxzZTtcbiAgICBfc3luYzogZmFsc2U7XG5cbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBQSVhJX0JPQVJEX1RZUEUgPSAncGl4aV9ib2FyZCc7XG5leHBvcnQgY29uc3QgUElYSV9CT0FSRF9UWVBFID0gJ3BpeGlfYm9hcmQnO1xuZXhwb3J0IGNsYXNzIFBpeGlCb2FyZFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgbmFtZSA9IFBJWElfQk9BUkRfVFlQRTtcbiAgICBkZXBlbmRlbmNpZXMgPSBbXSBhcyBzdHJpbmdbXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcblxuICAgIHJlbmRlcmVyOiBQSVhJLlJlbmRlcmVyO1xuICAgIHRpY2tlcjogUElYSS5UaWNrZXI7XG4gICAgcHJpdmF0ZSByZXNpemVSZXFJZD86IG51bWJlcjtcblxuICAgIHJvb3Q6IFBJWEkuZGlzcGxheS5TdGFnZTtcbiAgICBib2FyZDogUElYSS5Db250YWluZXI7XG4gICAgdG9vbEZvcmVncm91bmRHcm91cDogUElYSS5kaXNwbGF5Lkdyb3VwO1xuXG4gICAgcHJpdmF0ZSB3aGVlbExpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSByZXNpemVMaXN0ZW5lcjogYW55O1xuICAgIHBvaW50ZXJzID0gbmV3IE1hcDxudW1iZXIsIFBvaW50ZXJEYXRhPigpO1xuICAgIG1vdXNlTGFzdFg6IG51bWJlciA9IDA7XG4gICAgbW91c2VMYXN0WTogbnVtYmVyID0gMDtcbiAgICBsYXN0TW91c2VEb3duVGltZT86IG51bWJlcjtcbiAgICBpc0RyYWdnaW5nQm9hcmQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3JlcV9ib2FyZF9jZW50ZXInLCB0aGlzLmNlbnRlckJvYXJkLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEtFWUJPQVJEX0tFWV9ET1dOLCB0aGlzLm9uS2V5RG93biwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBCT0FSRF9UUkFOU0ZPUk1fVFlQRSxcbiAgICAgICAgICAgIF9zYXZlOiB0cnVlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICAgICAgcG9zWDogMCxcbiAgICAgICAgICAgIHBvc1k6IDAsXG4gICAgICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgICAgICBzY2FsZVk6IDEsXG4gICAgICAgIH0gYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBCT0FSRF9TSVpFX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgIH0gYXMgQm9hcmRTaXplUmVzb3VyY2UpO1xuXG4gICAgICAgIC8vIFdlIGNhbm5vdCB3b3JrIHdpdGhvdXQgd2ViZ2xcbiAgICAgICAgUElYSS5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFBJWEkuUmVuZGVyZXIoe1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBERUZBVUxUX0JBQ0tHUk9VTkQsXG4gICAgICAgIH0pO1xuICAgICAgICBhZGRDdXN0b21CbGVuZE1vZGVzKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aWNrZXIgPSBuZXcgUElYSS5UaWNrZXIoKTtcblxuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgUElYSS5kaXNwbGF5LlN0YWdlKCk7XG4gICAgICAgIHRoaXMucm9vdC5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvb3QuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvb3Quc29ydGFibGVDaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIHRoaXMucm9vdC5ncm91cC5lbmFibGVTb3J0ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnJvb3QuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnJvb3QuaGl0QXJlYSA9IHtcbiAgICAgICAgICAgIGNvbnRhaW5zKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gYXMgSUhpdEFyZWE7XG5cbiAgICAgICAgdGhpcy50aWNrZXIuYWRkKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMucm9vdCk7XG4gICAgICAgIH0sIFBJWEkuVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG5cbiAgICAgICAgLy8gVE9ETzogd2Ugc2hvdWxkIGNyZWF0ZSByZW5kZXIgcGhhc2VzLCBvbmUgZm9yIHRoZSB3b3JsZCAodXNpbmcgdGhlIHByb2plY3Rpb24gbWF0cml4IHRvIG1vdmUgdGhlIGNhbWVyYSlcbiAgICAgICAgLy8gICAgICAgYW5kIHRoZSBvdGhlciBmb3IgdGhlIEdVSSAob3Igb3RoZXIgdGhpbmdzIHRoYXQgZG8gbm90IGRlcGVuZCBvbiBjYW1lcmEgcG9zaXRpb24sIGFzIHRoZSBHcmlkU3lzdGVtKD8pKS5cbiAgICAgICAgLy8gICAgICAgdG8gY3JlYXRlIGEgY3VzdG9tIGdhbWUgbG9vcDogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3VzdG9tLUFwcGxpY2F0aW9uLUdhbWVMb29wXG4gICAgICAgIHRoaXMuYm9hcmQgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgdGhpcy5ib2FyZC5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJvYXJkLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ib2FyZC5wb3NpdGlvbi5zZXQoMCwgMCk7XG4gICAgICAgIHRoaXMuYm9hcmQuc29ydGFibGVDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgdGhpcy50b29sRm9yZWdyb3VuZEdyb3VwID0gbmV3IFBJWEkuZGlzcGxheS5Hcm91cChMYXllck9yZGVyLlRPT0xTLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRvb2xMYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIodGhpcy50b29sRm9yZWdyb3VuZEdyb3VwKTtcbiAgICAgICAgdG9vbExheWVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRvb2xMYXllci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucm9vdC5hZGRDaGlsZCh0b29sTGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucm9vdC5hZGRDaGlsZCh0aGlzLmJvYXJkKTtcbiAgICB9XG5cbiAgICBvbktleURvd24oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGtleWJvYXJkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSBhcyBLZXlib2FyZFJlc291cmNlIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoa2V5Ym9hcmQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBjdHJsID0ga2V5Ym9hcmQuY3RybDtcbiAgICAgICAgbGV0IHNoaWZ0ID0ga2V5Ym9hcmQuc2hpZnQ7XG4gICAgICAgIGxldCBldmVudF9uYW1lID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjdHJsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpZnQpIGV2ZW50X25hbWUgPSAnY29tbWFuZF9yZWRvJztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBldmVudF9uYW1lID0gJ2NvbW1hbmRfdW5kbyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3knOiBldmVudF9uYW1lID0gJ2NvbW1hbmRfcmVkbyc7ICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRfbmFtZSA9ICdkZWxldGUnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRfbmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KGV2ZW50X25hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9HZW5lcmFsRXZlbnQocGl4aTogUElYSS5JbnRlcmFjdGlvbkV2ZW50KTogUG9pbnRlckludGVyYWN0aW9uRXZlbnQge1xuICAgICAgICBjb25zdCBib2FyZFBvcyA9IGdldEJvYXJkUG9zRnJvbU9yaWdpbih0aGlzLndvcmxkLCBwaXhpKTtcblxuICAgICAgICBsZXQgaG92ZXJlZENhY2hlOiBudW1iZXJbXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgZW50aXRpZXNIb3ZlcmVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVyZWRDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJlZENhY2hlID0gZmluZEVudGl0aWVzQXQodGhpcy53b3JsZCwgYm9hcmRQb3MsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvdmVyZWRDYWNoZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbG9iYWxQb3M6IHBpeGkuZGF0YS5nbG9iYWwsXG4gICAgICAgICAgICBib2FyZFBvcyxcbiAgICAgICAgICAgIHBvaW50ZXJJZDogcGl4aS5kYXRhLnBvaW50ZXJJZCxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBwaXhpLmRhdGEucG9pbnRlclR5cGUsXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBwaXhpLmRhdGEub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICAgIGVudGl0aWVzSG92ZXJlZCxcbiAgICAgICAgfSBhcyBQb2ludGVySW50ZXJhY3Rpb25FdmVudDtcbiAgICB9XG5cbiAgICBjYW5CZWNvbWVDbGljayhwZGF0YTogUG9pbnRlckRhdGEsIHA6IElQb2ludERhdGEpIHtcbiAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgICAgbGV0IHRpbWVEaWZmID0gbm93IC0gKHRoaXMubGFzdE1vdXNlRG93blRpbWUgfHwgMCk7XG5cbiAgICAgICAgbGV0IGRpZmZYID0gcC54IC0gcGRhdGEuZmlyc3RYO1xuICAgICAgICBsZXQgZGlmZlkgPSBwLnkgLSBwZGF0YS5maXJzdFk7XG4gICAgICAgIGxldCBkaWZmUG9zID0gTWF0aC5zcXJ0KGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZKTtcblxuICAgICAgICByZXR1cm4gZGlmZlBvcyA8IDUgJiYgdGltZURpZmYgPCA1MDA7XG4gICAgfVxuXG4gICAgem9vbShkU2NhbGU6IG51bWJlciwgY2VudGVyWDogbnVtYmVyLCBjZW50ZXJZOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbWluU2NhbGUgPSAwLjA1O1xuICAgICAgICBjb25zdCBtYXhTY2FsZSA9IDM7XG5cbiAgICAgICAgaWYgKHRoaXMuYm9hcmQuc2NhbGUueCA8IG1pblNjYWxlICYmIGRTY2FsZSA8IDEgfHwgdGhpcy5ib2FyZC5zY2FsZS54ID4gbWF4U2NhbGUgJiYgZFNjYWxlID4gMSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBCZWZvcmUgc2NhbGluZyBhZGp1c3QgdGhlIHBvc2l0aW9uOlxuICAgICAgICAvLyBUYWtlcyB0aGUgdmVjdG9yIHRoYXQgZ29lcyBmcm9tIHRoZSBib2FyZCBwb3NpdGlvbiAodXBwZXItbGVmdCkgdG8gdGhlIGN1cnNvci5cbiAgICAgICAgLy8gQXBwbHkgdGhlIGRTY2FsZSBmYWN0b3IgdG8gdGhhdCB2ZWN0b3IgYW5kIGZpbmQgdGhlIG5ldyBib2FyZCBwb3NpdGlvbi5cbiAgICAgICAgLy8gRmluYWxseSwgdGhlIGN1cnNvciBwb3NpdGlvbiBwbHVzIHRoZSB2ZWN0b3Igb2J0YWluZWQgaXMgdGhlIG5ldyBib2FyZCBwb3NpdGlvbi5cblxuICAgICAgICBsZXQgcGFkWCA9IHRoaXMuYm9hcmQucG9zaXRpb24ueCAtIGNlbnRlclg7XG4gICAgICAgIGxldCBwYWRZID0gdGhpcy5ib2FyZC5wb3NpdGlvbi55IC0gY2VudGVyWTtcblxuICAgICAgICBwYWRYICo9IGRTY2FsZTtcbiAgICAgICAgcGFkWSAqPSBkU2NhbGU7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludChwYWRYICsgY2VudGVyWCwgcGFkWSArIGNlbnRlclkpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IG5ldyBQSVhJLlBvaW50KHRoaXMuYm9hcmQuc2NhbGUueCAqIGRTY2FsZSwgdGhpcy5ib2FyZC5zY2FsZS55ICogZFNjYWxlKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8qaWYgKHRoaXMuYm9hcmQuaXNCb2FyZExvc3QocG9zaXRpb24sIHNjYWxlKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJZb3UgY2FuJ3Qgbm8gbW9yZSBzY2FsZSBpbiB0aGlzIGRpcmVjdGlvbiwgeW91J3JlIGxvb3NpbmcgdGhlIGJvYXJkIVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSovXG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoQk9BUkRfVFJBTlNGT1JNX1RZUEUsIHtcbiAgICAgICAgICAgIHBvc1g6IHBvc2l0aW9uLngsXG4gICAgICAgICAgICBwb3NZOiBwb3NpdGlvbi55LFxuICAgICAgICAgICAgc2NhbGVYOiBzY2FsZS54LFxuICAgICAgICAgICAgc2NhbGVZOiBzY2FsZS55LFxuICAgICAgICB9IGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBzY3JvbGxzLlxuICAgICAqIFRoZSBtYXAgaXMgem9vbWVkIGluIGFuZCBvdXQgYmFzZWQgb24gdGhlIHNjcm9sbCBkaXJlY3Rpb24uXG4gICAgICovXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50OiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHNjYWxpbmdTcGVlZCA9IDAuMTtcbiAgICAgICAgY29uc3QgZFNjYWxlID0gMSAtIE1hdGguc2lnbihldmVudC5kZWx0YVkpICogc2NhbGluZ1NwZWVkO1xuICAgICAgICB0aGlzLnpvb20oZFNjYWxlLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZXZlbnQuZGF0YS5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgIC8vIFJpZ2h0IGJ1dHRvblxuICAgICAgICAgICAgbGV0IHByZGUgPSB0aGlzLnRvR2VuZXJhbEV2ZW50KGV2ZW50KSBhcyBQb2ludGVyUmlnaHREb3duRXZlbnQ7XG4gICAgICAgICAgICBwcmRlLmNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9ET1dOLCBwcmRlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3MgPSBldmVudC5kYXRhLmdsb2JhbDtcbiAgICAgICAgdGhpcy5wb2ludGVycy5zZXQoZXZlbnQuZGF0YS5wb2ludGVySWQsIHtcbiAgICAgICAgICAgIGZpcnN0WDogcG9zLngsXG4gICAgICAgICAgICBmaXJzdFk6IHBvcy55LFxuICAgICAgICAgICAgbGFzdFg6IHBvcy54LFxuICAgICAgICAgICAgbGFzdFk6IHBvcy55LFxuICAgICAgICB9IGFzIFBvaW50ZXJEYXRhKTtcblxuICAgICAgICB0aGlzLmxhc3RNb3VzZURvd25UaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBsZXQgZSA9IHRoaXMudG9HZW5lcmFsRXZlbnQoZXZlbnQpIGFzIFBvaW50ZXJEb3duRXZlbnQ7XG4gICAgICAgIGUuY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgZS5jb25zdW1lRHJhZ0JvYXJkID0gZmFsc2U7XG4gICAgICAgIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiBtaWRkbGUgYnV0dG9uIGlzIHByZXNzZWQgaWdub3JlLCB3ZSBmb3JjZSBpdCB0byBkcmFnIHRoZSBib2FyZFxuICAgICAgICAgICAgLy8gKGFuZCBwcmV2ZW50IHRoZSBwYXN0ZSBldmVudClcbiAgICAgICAgICAgIGV2ZW50LmRhdGEub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5jb25zdW1lRHJhZ0JvYXJkID0gdHJ1ZTsvLyBtaWRkbGUgY2xpY2sgdG8gZHJhZyBpcyBhbHdheXMgZW5hYmxlZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jb25zdW1lRHJhZ0JvYXJkICYmIHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nQm9hcmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXAoZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCwgaXNJbnNpZGU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnRvR2VuZXJhbEV2ZW50KGV2ZW50KSBhcyBQb2ludGVyVXBFdmVudDtcbiAgICAgICAgZS5pc0luc2lkZSA9IGlzSW5zaWRlO1xuXG4gICAgICAgIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgICAvLyBSaWdodCBidXR0b25cbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoUG9pbnRlckV2ZW50cy5QT0lOVEVSX1JJR0hUX1VQLCBlIGFzIFBvaW50ZXJSaWdodFVwRXZlbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZXZlbnQuZGF0YS5idXR0b24gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIElmIG1pZGRsZSBidXR0b24gaXMgcHJlc3NlZCBpZ25vcmUsIHdlIGZvcmNlIGl0IHRvIGRyYWcgdGhlIGJvYXJkXG4gICAgICAgICAgICAvLyAoYW5kIHByZXZlbnQgdGhlIHBhc3RlIGV2ZW50KVxuICAgICAgICAgICAgZXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5kYXRhLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAvLyBvZiBjb3Vyc2UgZXZlcnkgYnJvd3NlciBpZ25vcmVzIHRoZSBwcmV2ZW50RGVmYXVsdCBzbyB3ZSBoYXZlIHRvIGlnbm9yZSBpdCBvdXJzZWxmXG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdpZ25vcmVfbmV4dF9wYXN0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBkYXRhID0gdGhpcy5wb2ludGVycy5nZXQoZXZlbnQuZGF0YS5wb2ludGVySWQpO1xuICAgICAgICBpZiAocGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMucG9pbnRlcnMuZGVsZXRlKGV2ZW50LmRhdGEucG9pbnRlcklkKTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0TW91c2VEb3duVGltZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nQm9hcmQgPSBmYWxzZTtcblxuICAgICAgICAgICAgbGV0IGlzQ2xpY2sgPSB0aGlzLmNhbkJlY29tZUNsaWNrKHBkYXRhLCBldmVudC5kYXRhLmdsb2JhbCk7XG5cbiAgICAgICAgICAgIGxldCBwdWUgPSBlIGFzIFBvaW50ZXJVcEV2ZW50O1xuICAgICAgICAgICAgcHVlLmxhc3RQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBwZGF0YS5sYXN0WCxcbiAgICAgICAgICAgICAgICB5OiBwZGF0YS5sYXN0WVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHB1ZS5pc0NsaWNrID0gaXNDbGljaztcbiAgICAgICAgICAgIHB1ZS5jb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHB1ZSk7XG4gICAgICAgICAgICBpZiAoaXNDbGljaykge1xuICAgICAgICAgICAgICAgIGxldCBwY2UgPSBwdWUgYXMgUG9pbnRlckNsaWNrRXZlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChQb2ludGVyRXZlbnRzLlBPSU5URVJfQ0xJQ0ssIHBjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcE91dHNpZGUoZXZlbnQ6IFBJWEkuSW50ZXJhY3Rpb25FdmVudCkge1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwKGV2ZW50LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgYXJvdW5kIHRoZSBtYXAuICovXG4gICAgb25Qb2ludGVyTW92ZShlOiBQSVhJLkludGVyYWN0aW9uRXZlbnQpIHtcbiAgICAgICAgbGV0IHBvcyA9IGUuZGF0YS5nbG9iYWw7XG4gICAgICAgIGxldCBldmVudCA9IHRoaXMudG9HZW5lcmFsRXZlbnQoZSk7XG5cbiAgICAgICAgLy8gVE9ETzogbWFnbmV0IHNuYXAgc3lzdGVtXG4gICAgICAgIGxldCBsb2NhbFBvcyA9IHNuYXBQb2ludCh0aGlzLndvcmxkLCBldmVudC5ib2FyZFBvcyk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRlckZvbGxvd2Vycyhsb2NhbFBvcyk7XG5cbiAgICAgICAgbGV0IHBkYXRhID0gdGhpcy5wb2ludGVycy5nZXQoZS5kYXRhLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA8PSAxICYmICF0aGlzLmlzRHJhZ2dpbmdCb2FyZCkge1xuICAgICAgICAgICAgbGV0IHBtZSA9IGV2ZW50IGFzIFBvaW50ZXJNb3ZlRXZlbnQ7XG4gICAgICAgICAgICBwbWUubGFzdFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubW91c2VMYXN0WCwgeTogdGhpcy5tb3VzZUxhc3RZLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBtZS5jYW5CZWNvbWVDbGljayA9IHBkYXRhID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRoaXMuY2FuQmVjb21lQ2xpY2socGRhdGEsIHBvcyk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFBvaW50ZXJFdmVudHMuUE9JTlRFUl9NT1ZFLCBwbWUpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZUxhc3RYID0gcG9zLng7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTGFzdFkgPSBwb3MueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMuc2l6ZSA9PT0gMSkgey8vIE1vdmVcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmdCb2FyZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bvc1ggPSB0aGlzLmJvYXJkLnBvc2l0aW9uLnggKyAocG9zLnggLSBwZGF0YS5sYXN0WCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UG9zWSA9IHRoaXMuYm9hcmQucG9zaXRpb24ueSArIChwb3MueSAtIHBkYXRhLmxhc3RZKTtcblxuICAgICAgICAgICAgICAgIC8qaWYgKHRoaXMuYm9hcmQuaXNCb2FyZExvc3QobmV3IFBJWEkuUG9pbnQobmV3UG9zWCwgbmV3UG9zWSksIHRoaXMuc2NhbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJZb3UgY2FuJ3QgZ28gZnVydGhlciB0aGFuIHRoaXMsIHlvdSdsbCBsb29zZSB0aGUgYm9hcmQhXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSwge1xuICAgICAgICAgICAgICAgICAgICBwb3NYOiBuZXdQb3NYLFxuICAgICAgICAgICAgICAgICAgICBwb3NZOiBuZXdQb3NZLFxuICAgICAgICAgICAgICAgIH0gYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmlyc3REaXN0ID0gMDtcblxuICAgICAgICBpZiAodGhpcy5wb2ludGVycy5zaXplID09PSAyKSB7XG4gICAgICAgICAgICBsZXQgW3BhLCBwYl0gPSB0aGlzLnBvaW50ZXJzLnZhbHVlcygpO1xuXG4gICAgICAgICAgICBsZXQgZHggPSBwYS5sYXN0WCAtIHBiLmxhc3RYO1xuICAgICAgICAgICAgbGV0IGR5ID0gcGEubGFzdFkgLSBwYi5sYXN0WTtcbiAgICAgICAgICAgIGZpcnN0RGlzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIH1cblxuICAgICAgICBwZGF0YS5sYXN0WCA9IHBvcy54O1xuICAgICAgICBwZGF0YS5sYXN0WSA9IHBvcy55O1xuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJzLnNpemUgPT09IDIpIHtcbiAgICAgICAgICAgIGxldCBbcGEsIHBiXSA9IHRoaXMucG9pbnRlcnMudmFsdWVzKCk7XG5cbiAgICAgICAgICAgIGxldCBkeCA9IHBhLmxhc3RYIC0gcGIubGFzdFg7XG4gICAgICAgICAgICBsZXQgZHkgPSBwYS5sYXN0WSAtIHBiLmxhc3RZO1xuICAgICAgICAgICAgbGV0IHNlY29uZERpc3QgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgICAgICAgICBsZXQgY2VudGVyID0gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICAgICAgICAgKHBhLmxhc3RYICsgcGIubGFzdFgpIC8gMixcbiAgICAgICAgICAgICAgICAocGEubGFzdFkgKyBwYi5sYXN0WSkgLyAyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuem9vbSgoc2Vjb25kRGlzdCAvIGZpcnN0RGlzdCksIGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMudHlwZSAhPT0gQk9BUkRfVFJBTlNGT1JNX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IHQgPSByZXMgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZTtcbiAgICAgICAgdGhpcy5ib2FyZC5wb3NpdGlvbi5zZXQodC5wb3NYLCB0LnBvc1kpO1xuICAgICAgICB0aGlzLmJvYXJkLnNjYWxlLnNldCh0LnNjYWxlWCwgdC5zY2FsZVkpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBvaW50ZXJGb2xsb3dlcnMocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSkge1xuICAgICAgICBmb3IgKGxldCBjIG9mICh0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChGT0xMT1dfTU9VU0VfVFlQRSkgYXMgRmxhZ0Vjc1N0b3JhZ2UpLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFLCB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHRoZSBib2FyZCdzIGNlbnRlciBhbmQgdGhlIHdpbmRvdydzIGNlbnRlciBvdmVybGFwLlxuICAgICAqIFRoaXMgd2F5IHRoZSBpbml0aWFsIGJvYXJkIHBvc2l0aW9uIGlzIGNlbnRlcmVkIHRvIHRoZSByb290IGNhcmQuXG4gICAgICovXG4gICAgY2VudGVyQm9hcmQoKSB7XG4gICAgICAgIGxldCBib2FyZFNjcmVlbldpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgbGV0IGJvYXJkU2NyZWVuSGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IHNjcmVlbk1pZFBvaW50V2lkdGggPSBib2FyZFNjcmVlbldpZHRoIC8gMjtcbiAgICAgICAgbGV0IHNjcmVlbk1pZFBvaW50SGVpZ2h0ID0gYm9hcmRTY3JlZW5IZWlnaHQgLyAyO1xuXG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLmJvYXJkLmdldEJvdW5kcygpO1xuXG4gICAgICAgIHRoaXMuYm9hcmQucG9zaXRpb24uc2V0KFxuICAgICAgICAgICAgc2NyZWVuTWlkUG9pbnRXaWR0aCAtIGJvdW5kcy54IC0gYm91bmRzLndpZHRoIC8gMixcbiAgICAgICAgICAgIHNjcmVlbk1pZFBvaW50SGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFwcGx5Q2FudmFzU3R5bGUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzID0gY2FudmFzLnN0eWxlO1xuICAgICAgICBzLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHMuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgfVxuXG4gICAgcmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemVSZXFJZCAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHRoaXMucmVzaXplUmVxSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kb1Jlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRvUmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemVSZXFJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVJlcUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUoY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCk7XG4gICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKEJPQVJEX1NJWkVfVFlQRSwge1xuICAgICAgICAgICAgd2lkdGg6IGNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjbGllbnRIZWlnaHQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB0aGlzLmFwcGx5Q2FudmFzU3R5bGUoY2FudmFzKTtcbiAgICAgICAgbGV0IGNudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgICAgIGlmIChjbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGNhbnZhcyBjb250YWluZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgY250LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICAgICAgLy8gUElYSVxuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLnJvb3Qub24oXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vbihcInBvaW50ZXJ1cG91dHNpZGVcIiwgdGhpcy5vblBvaW50ZXJVcE91dHNpZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMud2hlZWxMaXN0ZW5lciA9IHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy53aGVlbExpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5yZXNpemVMaXN0ZW5lciA9IHRoaXMucmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplTGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMudGlja2VyLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50aWNrZXIuc3RvcCgpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLnJvb3Qub2ZmKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5yb290Lm9mZihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vZmYoXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vdC5vZmYoXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMub25Qb2ludGVyVXBPdXRzaWRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLndoZWVsTGlzdGVuZXIpO1xuXG4gICAgICAgIGxldCBjbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgICAgICBjbnQ/LnJlbW92ZUNoaWxkKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfVxufSIsImltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEhPU1RfSElEREVOX1RZUEUsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICBUUkFOU0ZPUk1fVFlQRSxcbiAgICBUcmFuc2Zvcm1Db21wb25lbnRcbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtGbGFnRWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Rm9yZ2V0RGF0YSwgU2VyaWFsaXplRGF0YSwgV29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgRGlzcGxheUVsZW1lbnQsXG4gICAgRWxlbWVudFR5cGUsXG4gICAgRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSxcbiAgICBHUkFQSElDX1RZUEUsXG4gICAgR3JhcGhpY0NvbXBvbmVudCxcbiAgICBJbWFnZUVsZW1lbnQsXG4gICAgSW1hZ2VTY2FsZU1vZGUsXG4gICAgTGluZUVsZW1lbnQsXG4gICAgUG9pbnRFbGVtZW50LFxuICAgIFRleHRFbGVtZW50LFxuICAgIFZpc2liaWxpdHlUeXBlXG59IGZyb20gXCIuLi8uLi8uLi9ncmFwaGljc1wiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi8uLi9QSVhJXCI7XG5pbXBvcnQge0JMRU5EX01PREVTLCBJUG9pbnREYXRhLCBNYXRyaXgsIFJlbmRlclRleHR1cmUsIFJlbmRlclRleHR1cmVQb29sLCBUZXh0dXJlfSBmcm9tIFwicGl4aS5qc1wiO1xuaW1wb3J0IHtERVNUUk9ZX0FMTCwgREVTVFJPWV9NSU59IGZyb20gXCIuLi8uLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge1xuICAgIEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELFxuICAgIFBMQVlFUl9UWVBFLFxuICAgIFBMQVlFUl9WSVNJQkxFX1RZUEUsXG4gICAgUGxheWVyU3lzdGVtLFxuICAgIFBsYXllclZpc2libGVDb21wb25lbnQsXG4gICAgVmlzaWJpbGl0eVNwcmVhZERhdGFcbn0gZnJvbSBcIi4uL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtMSUdIVF9UWVBFLCBMaWdodFN5c3RlbSwgTG9jYWxMaWdodFNldHRpbmdzfSBmcm9tIFwiLi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgSU5URVJBQ1RJT05fVFlQRSxcbiAgICBJbnRlcmFjdGlvbkNvbXBvbmVudCxcbiAgICBJbnRlcmFjdGlvblN5c3RlbSxcbiAgICBTaGFwZSxcbiAgICBzaGFwZUFhYmIsXG4gICAgc2hhcGVMaW5lLFxuICAgIHNoYXBlT2JiLFxuICAgIHNoYXBlUG9pbnQsXG4gICAgc2hhcGVUb0FhYmJcbn0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7Qml0U2V0fSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9iaXRTZXRcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7T2JifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvb2JiXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge2FycmF5UmVtb3ZlRWxlbX0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvYXJyYXlcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1RFWFRfVFlQRSwgVGV4dFN5c3RlbX0gZnJvbSBcIi4vdGV4dFN5c3RlbVwiO1xuaW1wb3J0IHsgVmlzaWJpbGl0eUF3YXJlU3lzdGVtLCBWSVNJQklMSVRZX0FXQVJFX1RZUEUgfSBmcm9tIFwiLi92aXNpYmlsaXR5QXdhcmVTeXN0ZW1cIjtcblxuZXhwb3J0IGludGVyZmFjZSBQaXhpR3JhcGhpY0NvbXBvbmVudCBleHRlbmRzIEdyYXBoaWNDb21wb25lbnQge1xuICAgIF9zZWxlY3RlZDogYm9vbGVhbjtcbiAgICBfdmlzaWJMaXN0ZW5lcj86IFZpc2liTGlzdGVuZXJMZXZlbDsvLyBEZWZhdWx0OiBOT1RfTkVFREVEXG4gICAgX2JpdEJ5Qml0PzogYm9vbGVhbjtcbiAgICBfbGF5ZXI/OiBQSVhJLmRpc3BsYXkuR3JvdXA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGl4aURpc3BsYXlFbGVtZW50IGV4dGVuZHMgRGlzcGxheUVsZW1lbnQge1xuICAgIF9vbGRUeXBlPzogRWxlbWVudFR5cGU7XG4gICAgX3BpeGk/OiBQSVhJLkRpc3BsYXlPYmplY3Q7XG59XG5cbmludGVyZmFjZSBQaXhpSW1hZ2VFbGVtZW50IGV4dGVuZHMgSW1hZ2VFbGVtZW50LCBQaXhpRGlzcGxheUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFOy8vIGludGVyZmVyZW5jZSBiZXR3ZWVuIGludGVyZmFjZXMgKGdvb2Qtb2xkIGRpYW1vbmQgcHJvYmxlbT8pXG4gICAgX29sZFRleD86IFRleHR1cmUsXG4gICAgX3JlblRleD86IFJlbmRlclRleHR1cmU7XG4gICAgX3Zpc01hcENoYW5nZWQ/OiBib29sZWFuO1xuICAgIF9waXhpPzogUElYSS5TcHJpdGU7XG59XG5cbmludGVyZmFjZSBDdXN0b21UZXh0dXJlIGV4dGVuZHMgUElYSS5UZXh0dXJlIHtcbiAgICBncmlkU2l6ZT86IHtcbiAgICAgICAgeDogbnVtYmVyO1xuICAgICAgICB5OiBudW1iZXI7XG4gICAgICAgIHVwZGF0ZUlkOiBudW1iZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUkVNRU1CRVJfVFlQRSA9ICdyZW1lbWJlcic7XG5leHBvcnQgdHlwZSBSRU1FTUJFUl9UWVBFID0gJ3JlbWVtYmVyJztcbmV4cG9ydCBpbnRlcmZhY2UgUmVtZW1iZXJDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IFJFTUVNQkVSX1RZUEUsXG59XG5cbmVudW0gVmlzaWJMaXN0ZW5lckxldmVsIHtcbiAgICBOT1RfTkVFREVELFxuICAgIFJFTUVNQkVSLFxuICAgIFBFUlNJU1RFTlQsXG59XG5cbmZ1bmN0aW9uIGxlcnBDb2xvcihhOiBudW1iZXIsIGI6IG51bWJlciwgdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgdHIgPSAoKGEgPj4gMTYpICYgMHhGRikgKiAoMSAtIHQpICsgKChiID4+IDE2KSAmIDB4RkYpICogdDtcbiAgICBsZXQgdGcgPSAoKGEgPj4gOCkgJiAweEZGKSAqICgxIC0gdCkgKyAoKGIgPj4gOCkgJiAweEZGKSAqIHQ7XG4gICAgbGV0IHRiID0gKGEgJiAweEZGKSAqICgxIC0gdCkgKyAoYiAmIDB4RkYpICogdDtcbiAgICByZXR1cm4gdHIgPDwgMTYgfCB0ZyA8PCA4IHwgdGI7XG59XG5cbmV4cG9ydCBjb25zdCBQT0lOVF9SQURJVVMgPSAxMjtcblxuZXhwb3J0IGNvbnN0IFBJWElfR1JBUEhJQ19UWVBFID0gJ3BpeGlfZ3JhcGhpYyc7XG5leHBvcnQgdHlwZSBQSVhJX0dSQVBISUNfVFlQRSA9IHR5cGVvZiBQSVhJX0dSQVBISUNfVFlQRTtcblxuLyoqXG4gKiBNYW5hZ2VzOlxuICogLSBEcmF3aW5nIGVsZW1lbnRzXG4gKiAtIFNlbGVjdGlvbiBoaWdobGlnaHRpbmdcbiAqIC0gRWxlbWVudCB2aXNpYmlsaXR5L3JlbWVtYmVyaW5nXG4gKiAtIExheWVyIG9yZGVyaW5nXG4gKiAtIFBvc2l0aW9uL1RyYW5zbGF0aW9uIHVwZGF0ZXNcbiAqIC0gQml0LWJ5LWJpdCByZW1lbWJlcmluZyAoYmFja2dyb3VuZCBkaXNjb3ZlcnkpXG4gKiAtIEludGVyYWN0aW9uIHNldHVwXG4gKlxuICogVE9ETzogd2UgY291bGQgdXNlIGEgUGFydGljbGVTeXN0ZW0gaW4gc29tZSBpbnN0YW5jZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFBpeGlHcmFwaGljU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gUElYSV9HUkFQSElDX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgSU5URVJBQ1RJT05fVFlQRV07XG4gICAgcmVhZG9ubHkgcHJvdmlkZXMgPSBbR1JBUEhJQ19UWVBFXTtcblxuICAgIHdvcmxkOiBXb3JsZDtcbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGl4aUdyYXBoaWNDb21wb25lbnQ+KEdSQVBISUNfVFlQRSwgZmFsc2UsIGZhbHNlKTtcbiAgICByZW1lbWJlclN0b3JhZ2UgPSBuZXcgRmxhZ0Vjc1N0b3JhZ2UoUkVNRU1CRVJfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICB0ZXh0U3lzdGVtOiBUZXh0U3lzdGVtO1xuICAgIHBpeGlCb2FyZFN5c3RlbTogUGl4aUJvYXJkU3lzdGVtO1xuICAgIGludGVyYWN0aW9uU3lzdGVtOiBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICBwbGF5ZXJTeXN0ZW0/OiBQbGF5ZXJTeXN0ZW07XG4gICAgcmVuZGVyVGV4dHVyZVBvb2wgPSBuZXcgUmVuZGVyVGV4dHVyZVBvb2woKTtcbiAgICBjaXJjbGVUZXg/OiBQSVhJLlRleHR1cmU7XG5cbiAgICBtYXN0ZXJWaXNpYmlsaXR5OiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy50ZXh0U3lzdGVtID0gd29ybGQuc3lzdGVtcy5nZXQoVEVYVF9UWVBFKSBhcyBUZXh0U3lzdGVtO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uU3lzdGVtID0gd29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnJlbWVtYmVyU3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmVkJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignc2VsZWN0aW9uX2JlZ2luJywgdGhpcy5vblNlbGVjdGlvbkJlZ2luLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdzZWxlY3Rpb25fZW5kJywgdGhpcy5vblNlbGVjdGlvbkVuZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbihFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgdGhpcy5vbkJCQlZpc2liaWxpdHlTcHJlYWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3NlcmlhbGl6ZScsIHRoaXMub25TZXJpYWxpemUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2ZvcmdldCcsIHRoaXMub25Gb3JnZXQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBzcHJlYWRWaXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNvbTogUGl4aUdyYXBoaWNDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGMudHlwZSA9PT0gR1JBUEhJQ19UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSBjIGFzIFBpeGlHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcmFjdGl2ZShjb20sIHBvcywgdHJhbnMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5TGlzdGVuZXIoY29tKTtcblxuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBMQVlFUl9WSVNJQkxFX1RZUEUpIGFzIFBsYXllclZpc2libGVDb21wb25lbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgcmVtZW1iZXJlZCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBSRU1FTUJFUl9UWVBFKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCAhIXB2Py52aXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgICAgIGNvbS5fYml0QnlCaXQgPSB0aGlzLm5lZWRzQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSBjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbSA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICBzcHJlYWRWaXMgPSAhIWNvbS5fYml0QnlCaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBSRU1FTUJFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShjb20sIGNvbS5kaXNwbGF5LCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGhlcmU/XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ByZWFkVmlzICYmIGNvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgc3ByZWFkVmlzID0gZmFsc2U7XG4gICAgICAgIGxldCBjb206IFBpeGlHcmFwaGljQ29tcG9uZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgY29tID0gYyBhcyBQaXhpR3JhcGhpY0NvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMucnVuTWV0aG9kcyhjb20sIGNvbS5kaXNwbGF5KTsvLyBydW4gZGVsYXllZCBtZXRob2RzIChsaWtlIF9jaGlsZHJlbkFkZCwgX2NoaWxkcmVuUmVwbGFjZSAmIGNvKS5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3RpdmUoY29tLCBwb3MsIHRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQTEFZRVJfVklTSUJMRV9UWVBFKSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IHJlbWVtYmVyZWQgPSB0aGlzLnJlbWVtYmVyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGNvbSwgY29tLmRpc3BsYXksIHRydWUsIHB2Py52aXNpYmxlID8/IHRydWUsIHJlbWVtYmVyZWQpO1xuICAgICAgICAgICAgY29tLl9iaXRCeUJpdCA9IHRoaXMubmVlZHNCaXRCeUJpdChjb20sIGNvbS5kaXNwbGF5KTtcbiAgICAgICAgICAgIHNwcmVhZFZpcyA9IGNvbS5fYml0QnlCaXQ7XG5cbiAgICAgICAgICAgIGlmICgnaW50ZXJhY3RpdmUnIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aXZlKGNvbSwgcG9zLCB0cmFucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBQT1NJVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvcyA9IGMgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjb20sIGNvbS5kaXNwbGF5LCBwb3MsIHRyYW5zLCB0cnVlKTtcbiAgICAgICAgICAgIHNwcmVhZFZpcyA9ICEhY29tLl9iaXRCeUJpdDtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFRSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IGMgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGNvbSwgY29tLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICAgICAgc3ByZWFkVmlzID0gISFjb20uX2JpdEJ5Qml0O1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gUExBWUVSX1ZJU0lCTEVfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHB2ID0gYyBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHB2LmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAgICAgbGV0IHJlbWVtYmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb20uX3Zpc2liTGlzdGVuZXIgPT09IFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUiAmJiBwdi52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUkVNRU1CRVJfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBjLmVudGl0eSxcbiAgICAgICAgICAgICAgICB9IGFzIFJlbWVtYmVyQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEucmVtb3ZlUGxheWVyVmlzTGlzdGVuZXIoYy5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJlbWVtYmVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMubWFzdGVyVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tLCBjb20uZGlzcGxheSwgdHJ1ZSwgcHYudmlzaWJsZSwgcmVtZW1iZXJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ByZWFkVmlzICYmIGNvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZWQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IEdSQVBISUNfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudCgoYyBhcyBHcmFwaGljQ29tcG9uZW50KS5kaXNwbGF5LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFRSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoY29tLCBjb20uZGlzcGxheSwgcG9zLCAoYyBhcyBUcmFuc2Zvcm1Db21wb25lbnQpLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjb20gPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb20gPT09IHVuZGVmaW5lZCB8fCAhY29tLl9iaXRCeUJpdCkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gTm93IHlvdSdyZSB2aXNpYmxlISBzYXkgaGVsbG9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlQkJCVmlzQXJvdW5kKGNvbSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBSRU1FTUJFUl9UWVBFICYmIHRoaXMud29ybGQuaXNEZXNwYXduaW5nLmluZGV4T2YoYy5lbnRpdHkpIDwgMCkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGNvbXAuX3Zpc2liTGlzdGVuZXIgPT09IFZpc2liTGlzdGVuZXJMZXZlbC5SRU1FTUJFUikge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyU3lzdGVtIS5hZGRQbGF5ZXJWaXNMaXN0ZW5lcihjb21wLmVudGl0eSwgY29tcC5pc1dhbGwpO1xuICAgICAgICAgICAgICAgICh0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkgYXMgVmlzaWJpbGl0eUF3YXJlU3lzdGVtKT8ubWFudWFsUmVjb21wdXRlV2FsbChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQTEFZRVJfVklTSUJMRV9UWVBFKSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IHJlbWVtYmVyZWQgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUkVNRU1CRVJfVFlQRSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tcCwgY29tcC5kaXNwbGF5LCB0cnVlLCAhIXB2Py52aXNpYmxlLCByZW1lbWJlcmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSAnbG9jYWxfbGlnaHRfc2V0dGluZ3MnKSB7XG4gICAgICAgICAgICBsZXQgc2V0ID0gcmVzIGFzIExvY2FsTGlnaHRTZXR0aW5ncztcbiAgICAgICAgICAgIGlmICghKCd2aXNpb25UeXBlJyBpbiBjaGFuZ2VzKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoc2V0LnZpc2lvblR5cGUgPT09ICdkbScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc3RlclZpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KGMsIGMuZGlzcGxheSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZXQudmlzaW9uVHlwZSA9PT0gJ3JwJykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFzdGVyVmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHYgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUExBWUVSX1ZJU0lCTEVfVFlQRSkgYXMgUGxheWVyVmlzaWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbSA9IHRoaXMucmVtZW1iZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoYywgYy5kaXNwbGF5LCB0cnVlLCBwdj8udmlzaWJsZSwgcmVtICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHZpc2lvbiB0eXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCEoJ3dpZHRoJyBpbiBjaGFuZ2VzKSkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gWW91IGFyZSBsaXRlcmFsbHkgc2F0YW4sIEkgaGF0ZSB5b3UuXG5cbiAgICAgICAgICAgIGxldCBwb3NTdG8gPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgICAgIGxldCB0cmFuU3RvID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoVFJBTlNGT1JNX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VHJhbnNmb3JtQ29tcG9uZW50PjtcblxuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JFYWNoRWwoYywgYy5kaXNwbGF5LGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbGVtZW50VHlwZS5JTUFHRSAmJiAoZSBhcyBJbWFnZUVsZW1lbnQpLnNjYWxlID09PSBJbWFnZVNjYWxlTW9kZS5HUklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvLmdldENvbXBvbmVudChjLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYW4gPSB0cmFuU3RvLmdldENvbXBvbmVudChjLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMsIGUsIHBvcywgdHJhbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFLCB7IHNoYXBlOiB0aGlzLmNyZWF0ZVNoYXBlKGUsIHBvcywgdHJhbil9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlbGVjdGlvbkJlZ2luKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjLl9zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB0cmFucyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgVFJBTlNGT1JNX1RZUEUpIGFzIFRyYW5zZm9ybUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChjLCBjLmRpc3BsYXksIHBvcywgdHJhbnMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblNlbGVjdGlvbkVuZChlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZW50aXR5LCBUUkFOU0ZPUk1fVFlQRSkgYXMgVHJhbnNmb3JtQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGMsIGMuZGlzcGxheSwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRm9yZ2V0KGRhdGE6IEZvcmdldERhdGEpIHtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGRhdGEuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tcCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgcmVtID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAocmVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSByZW1lbWJlciB0aGlzIVxuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHJlbSk7XG5cbiAgICAgICAgICAgICAgICAvKmxldCBwdiA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQTEFZRVJfVklTSUJMRV9UWVBFKSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCByZW1lbWJlcmVkID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFZpc2liaWxpdHkoY29tcCwgY29tcC5kaXNwbGF5LCB0cnVlLCBwdj8udmlzaWJsZSA/PyB0cnVlLCByZW1lbWJlcmVkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eUxpc3RlbmVyKGNvbXApOyovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb21wLl9iaXRCeUJpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9PbkJpdEJ5Qml0KGNvbXAsIGNvbXAuZGlzcGxheSwgKGltZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlci5yZW5kZXIodywgaW1nLl9yZW5UZXgsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpbWcuX3Zpc01hcENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJCQlZpc0Fyb3VuZChjb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25CQkJWaXNpYmlsaXR5U3ByZWFkKGRhdGE6IFZpc2liaWxpdHlTcHJlYWREYXRhKTogdm9pZCB7XG4gICAgICAgIGxldCBpdGVyID0gdGhpcy5pbnRlcmFjdGlvblN5c3RlbS5xdWVyeShzaGFwZUFhYmIoZGF0YS5hYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICBsZXQgY29tID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gY29tICE9PSB1bmRlZmluZWQgJiYgY29tLl9iaXRCeUJpdCA9PT0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGMgb2YgaXRlcikge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGhlcmUgdGhlbiB0aGUgY29tcG9uZW50IGV4aXN0cywgd2UgY2hlY2tlZCBpdCBpbiB0aGUgaXRlcmF0b3JcbiAgICAgICAgICAgIGxldCBjbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSE7XG4gICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjbXAsIGNtcC5kaXNwbGF5LCAoaW1nKSA9PiB0aGlzLnVwZGF0ZUJCQlZpc2liaWxpdHkoZGF0YSwgY21wLCBpbWcpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZXJpYWxpemUoZGF0YTogU2VyaWFsaXplRGF0YSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjaGFuZ2VkTGlzdDogbnVtYmVyW10gPSBbXTtcblxuICAgICAgICBjb25zdCBwcm9jZXNzQ29tcCA9IChjb206IFBpeGlHcmFwaGljQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbS5fYml0QnlCaXQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRvT25CaXRCeUJpdChjb20sIGNvbS5kaXNwbGF5LCAoaW1nKSA9PiBjaGFuZ2VkIHx8PSB0aGlzLmV4dHJhY3RWaXNpYmlsaXR5KGltZykpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWQpIGNoYW5nZWRMaXN0LnB1c2goY29tLmVudGl0eSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRhdGEub3B0aW9ucy5vbmx5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBkYXRhLm9wdGlvbnMub25seSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXAoY29tcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb20gb2YgdGhpcy5zdG9yYWdlLmFsbENvbXBvbmVudHMoKSkge1xuICAgICAgICAgICAgICAgIDtwcm9jZXNzQ29tcChjb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWRMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUsIGNoYW5nZWRMaXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBMSVNURU5FUlMgRE9ORSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVJbnRlcmFjdGl2ZShjb21wOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgcG9zOiBJUG9pbnREYXRhLCB0cmFuczogVHJhbnNmb3JtQ29tcG9uZW50IHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBpbnRlcmFjdGl2ZUNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICBpZiAoY29tcC5pbnRlcmFjdGl2ZSAmJiBpbnRlcmFjdGl2ZUNtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wLmVudGl0eSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IElOVEVSQUNUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgc2VsZWN0UHJpb3JpdHk6IGNvbXAuZGlzcGxheS5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICBzbmFwRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaGFwZTogdGhpcy5jcmVhdGVTaGFwZShjb21wLmRpc3BsYXksIHBvcywgdHJhbnMpLFxuICAgICAgICAgICAgfSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNvbXAuaW50ZXJhY3RpdmUgJiYgaW50ZXJhY3RpdmVDbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoaW50ZXJhY3RpdmVDbXApO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb21wb25lbnQgY2hhbmdlcyBpbiBpbnRlcmFjdG9yXG4gICAgICAgICAgICBpZiAoY29tcC5kaXNwbGF5LnR5cGUgPT09IEVsZW1lbnRUeXBlLklNQUdFKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRleHR1cmUgaGFzIGNoYW5nZWQgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGludGVyYWN0b3IuXG4gICAgICAgICAgICAgICAgbGV0IGVsID0gY29tcC5kaXNwbGF5IGFzIFBpeGlJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnRleHR1cmUgIT09IGVsLl9vbGRUZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFLCB7c2hhcGU6IHRoaXMuY3JlYXRlU2hhcGUoZWwsIHBvcywgdHJhbnMpfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaGFwZShjb21wOiBQaXhpRGlzcGxheUVsZW1lbnQsIHBvczogSVBvaW50RGF0YSwgdHJhbnM6IFRyYW5zZm9ybUNvbXBvbmVudCB8IHVuZGVmaW5lZCk6IFNoYXBlIHtcbiAgICAgICAgc3dpdGNoIChjb21wLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIC8vIE9ubHkgdGhlIHJvb3QgZWxlbWVudCBjYW4gYmUgbWFkZSBpbnRlcmFjdGl2ZSwgdGhlIG90aGVycyBhcmUgaWdub3JlZFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1ha2UgaW50ZXJhY3RpdmUgY29udGFpbmVyJyk7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbWFrZSBpbnRlcmFjdGl2ZSB0ZXh0Jyk7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIEltYWdlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgdyA9IGMudGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICBsZXQgaCA9IGMudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IGFhYmI7XG5cbiAgICAgICAgICAgICAgICBsZXQgc3ggPSB0cmFucz8uc2NhbGUgfHwgMTtcbiAgICAgICAgICAgICAgICBsZXQgc3kgPSB0cmFucz8uc2NhbGUgfHwgMTtcblxuICAgICAgICAgICAgICAgIGlmIChjLnNjYWxlID09IEltYWdlU2NhbGVNb2RlLkdSSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlR3JpZFNpemUoYy50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEdSSURfVFlQRSkgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3NpemUgPSAoYy50ZXh0dXJlIGFzIEN1c3RvbVRleHR1cmUpLmdyaWRTaXplISE7XG4gICAgICAgICAgICAgICAgICAgIHN4ID0gZ3NpemUueCAqIGdyaWQuc2l6ZSAqIHN4O1xuICAgICAgICAgICAgICAgICAgICBzeSA9IGdzaXplLnkgKiBncmlkLnNpemUgKiBzeTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhYWJiID0gQWFiYi5mcm9tUG9pbnRBbmNob3IocG9zLCB7eDogdywgeTogaH0sIGMuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBhYWJiLnNjYWxlKHN4LCBzeSwgYWFiYik7XG4gICAgICAgICAgICAgICAgbGV0IG9iYiA9IE9iYi5yb3RhdGVBYWJiKGFhYmIuY29weSgpLCB0cmFucz8ucm90YXRpb24gfHwgMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlT2JiKG9iYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkxJTkU6IHtcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgTGluZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlTGluZShuZXcgTGluZShcbiAgICAgICAgICAgICAgICAgICAgcG9zLngsIHBvcy55LCBwb3MueCArIGMudmVjLngsIHBvcy55ICsgYy52ZWMueVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5QT0lOVDoge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZVBvaW50KG5ldyBQSVhJLlBvaW50KHBvcy54LCBwb3MueSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdmlzaWJpbGl0eSBmcm9tIHRoZSByZW5kZXJ0ZXh0dXJlIG9mIHRoZSBpbWFnZSAobXVzdCBiZSBWSVNCTEVfQklUX0JZX0JJVCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYyB0aGUgaW1hZ2UgZnJvbSB3aGljaCB0aGUgdmlzaWJpbGl0eSBtYXAgd2lsbCBiZSBleHRyYWN0ZWQuXG4gICAgICogQHJldHVybiB0cnVlIG9ubHkgaWYgdGhlIHZpc2liaWxpdHkgbWFwIGhhcyBiZWVuIG1vZGlmaWVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBleHRyYWN0VmlzaWJpbGl0eShjOiBQaXhpSW1hZ2VFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChjLl92aXNNYXBDaGFuZ2VkICE9PSB0cnVlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgYy52aXNNYXAgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgdGV4ID0gYy5fcmVuVGV4O1xuICAgICAgICBpZiAodGV4ID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBsZXQgZnJhbWUgPSB0ZXguZnJhbWU7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHRleCk7XG4gICAgICAgIGxldCB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KHRleC53aWR0aCAqIHRleC5oZWlnaHQgKiA0KTtcblxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICAgICAgZnJhbWUueCxcbiAgICAgICAgICAgIGZyYW1lLnksXG4gICAgICAgICAgICBmcmFtZS53aWR0aCxcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCxcbiAgICAgICAgICAgIGdsLlJHQkEsXG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgZnVja0xlbiA9IHdlYmdsUGl4ZWxzLmxlbmd0aCAvIDQ7XG4gICAgICAgIGxldCBuZXdMZW4gPSAoKHdlYmdsUGl4ZWxzLmxlbmd0aCAvIDQgLSAxKSA+Pj4gNSkgKyAxO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gbmV3IFVpbnQzMkFycmF5KG5ld0xlbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVja0xlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGl4ZWwgPSB3ZWJnbFBpeGVsc1tpICogNCArIDNdO1xuXG4gICAgICAgICAgICBpZiAoKHBpeGVsICYgMHg4MCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaSA+Pj4gNV0gfD0gMSA8PCAoaSAmIDBiMTExMTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGMudmlzTWFwID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0LmJ1ZmZlcik7XG4gICAgICAgIGMuX3Zpc01hcENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkVmlzaWJpbGl0eShjOiBQaXhpSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYy50ZXh0dXJlLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBjLnRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChjLl9yZW5UZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYy5fcmVuVGV4ID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBidCA9IGMuX3JlblRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIChidCBhcyBhbnkpLmNsZWFyQ29sb3IgPSBbMC4wLCAwLjAsIDAuMCwgMC4wXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjLnZpc01hcCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHRleE9wdHMgPSB7XG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgZm9ybWF0OiBQSVhJLkZPUk1BVFMuUkdCQSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdGV4RGF0YSA9IG5ldyBVaW50MzJBcnJheShjLnRleHR1cmUud2lkdGggKiBjLnRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICBsZXQgdmlzTWFwID0gYy52aXNNYXA7XG4gICAgICAgIGlmICgoYy52aXNNYXAuYnl0ZU9mZnNldCAmICgweDQgLSAxKSkgIT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vdCBhbGlnbmVkLCByZWFsaWduXG4gICAgICAgICAgICB2aXNNYXAgPSBjLnZpc01hcC5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2V0ID0gbmV3IEJpdFNldChuZXcgVWludDMyQXJyYXkodmlzTWFwLmJ1ZmZlciwgdmlzTWFwLmJ5dGVPZmZzZXQsIHZpc01hcC5ieXRlTGVuZ3RoIC8gNCkpO1xuICAgICAgICBsZXQgbGVuID0gdGV4RGF0YS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRleERhdGFbaV0gPSBzZXQuZ2V0KGkpID8gMHhGRkZGRkZGRiA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnl0ZURhdGEgPSBuZXcgVWludDhBcnJheSh0ZXhEYXRhLmJ1ZmZlcik7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IG5ldyBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZShieXRlRGF0YSwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICBsZXQgYmFzZVRleHR1cmUgPSBuZXcgUElYSS5CYXNlVGV4dHVyZShyZXNvdXJjZSwgdGV4T3B0cylcblxuICAgICAgICBsZXQgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIGxldCBsdW1TcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4KTtcbiAgICAgICAgbHVtU3ByaXRlLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuU1JDX0lOO1xuXG4gICAgICAgIGxldCBtYXBTcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoYy50ZXh0dXJlKTtcbiAgICAgICAgbGV0IGNudCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICBjbnQuYWRkQ2hpbGQobWFwU3ByaXRlLCBsdW1TcHJpdGUpO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLnJlbmRlcmVyLnJlbmRlcihjbnQsIGMuX3JlblRleCwgdHJ1ZSk7XG5cbiAgICAgICAgbHVtU3ByaXRlLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuXG4gICAgICAgIGMuX3Zpc01hcENoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvckVhY2hFbChjb206IFBpeGlHcmFwaGljQ29tcG9uZW50LCBpbWc6IFBpeGlEaXNwbGF5RWxlbWVudCwgZjogKGltZzogUGl4aURpc3BsYXlFbGVtZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGYoaW1nKTtcbiAgICAgICAgaWYgKGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvckVhY2hFbChjb20sIGMsIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkb09uQml0QnlCaXQoY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBQaXhpRGlzcGxheUVsZW1lbnQsIGY6IChpbWc6IFBpeGlJbWFnZUVsZW1lbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGltZy50eXBlID09IEVsZW1lbnRUeXBlLklNQUdFICYmIChpbWcgYXMgUGl4aUltYWdlRWxlbWVudCkudmlzaWIgPT09IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQpIHtcbiAgICAgICAgICAgIGYoaW1nIGFzIFBpeGlJbWFnZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgaW1nLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY29tLCBjLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbmVlZHNCaXRCeUJpdChjb206IFBpeGlHcmFwaGljQ29tcG9uZW50LCBpbWc6IFBpeGlEaXNwbGF5RWxlbWVudCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaW1nLnR5cGUgPT0gRWxlbWVudFR5cGUuSU1BR0UgJiYgKGltZyBhcyBQaXhpSW1hZ2VFbGVtZW50KS52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltZy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBpbWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZWVkc0JpdEJ5Qml0KGNvbSwgYykpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUJCQlZpc0Fyb3VuZChjb206IFBpeGlHcmFwaGljQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBpbnRlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbS5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICBsZXQgYWFiYiA9IHNoYXBlVG9BYWJiKGludGVyLnNoYXBlKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLmdldFNwcmVhZERhdGFGb3JBYWJiKGFhYmIsIGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb09uQml0QnlCaXQoY29tLCBjb20uZGlzcGxheSwgKGltZykgPT4gdGhpcy51cGRhdGVCQkJWaXNpYmlsaXR5KGRhdGEsIGNvbSwgaW1nKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQkJCVmlzaWJpbGl0eShkYXRhOiBWaXNpYmlsaXR5U3ByZWFkRGF0YSwgY29tOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgaW1nOiBQaXhpSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIC8vICAgICAgUGFydCAxLiBXaGF0P1xuICAgICAgICAvLyBTbywgd2hhdCBkb2VzIHRoaXMgc3BhZ2hldHRpIG1lc3MgZG8/IEdvb2QgcXVlc3Rpb24hXG4gICAgICAgIC8vIFdlIGhhdmUgcGxheWVycyBhbmQgbGlnaHRzLCBzb21lIHBsYXllcnMgY2FuIHNlZSB3aXRob3V0IGxpZ2h0cyBhbmQgb3RoZXJzIGNhbid0XG4gICAgICAgIC8vIFRoZSB0YXNrIGlzIHRvIHVwZGF0ZSB0aGUgcmVuZGVydGV4dHVyZSBvZiB0aGUgYmFja2dyb3VuZCBjb21wb25lbnQgYWRkaW5nIHRoZSB2aXNpYmxlIHNwb3RzIHRvIGl0LlxuICAgICAgICAvLyBUaGUgdmlzaWJsZSBzcG90cyBhcmU6IFRoZSBtZXNoZXMgb2YgdGhlIHBsYXllcnMgd2l0aCBuaWdodCB2aXNpb24gZW5hYmxlZCBhbmQgdGhlIGludGVyc2VjdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gdW5pb24gb2YgdGhlIHZpc2lvbiBtZXNoIG9mIHRoZSBub3JtYWwgcGxheWVycyB3aXRoIHRoZSB1bmlvbiBvZiB0aGUgdmlzb24gbWVzaGVzIG9mIHRoZSBsaWdodHMuXG4gICAgICAgIC8vIENvbW1vbiBjYXNlOiAxIE5WIHBsYXllciAwIGxpZ2h0cywgMSBwbGF5ZXIgbXVsdGlwbGUgbGlnaHRzLCBtdWx0aXBsZSBwbGF5ZXJzIDEgbGlnaHRcbiAgICAgICAgLy8gUG9zc2libGUgKGJ1dCB1bmNvbW1vbikgY2FzZXM6IHggTlYgcGxheWVycywgeSBub3JtYWwgcGxheWVycywgeiBsaWdodHMgKHdpdGggeCwgeSwgeiBuYXR1cmFscykuXG5cbiAgICAgICAgLy8gICAgICBQYXJ0IDIuIEhvdz9cbiAgICAgICAgLy8gVGhlIGluaXRpYWwgaWRlYSBpcyBzaW1wbGUsIHJlbmRlciBhbnl0aGluZyBvbiB0aGUgYmtnLl9yZW5UZXggYW5kIHRoZW4gcmVuZGVyIHRoZSBvcmlnaW5hbCB0ZXh0dXJlIHdpdGhcbiAgICAgICAgLy8gYmxlbmRNb2RlID0gU1JDX0lOLCBhbnkgc3BvdCB3aXRoIGFscGhhID0gMSB3aWxsIHRoZW4gYmUgcmVwbGFjZWQgd2l0aCB0aGUgY29ycmVjdCB0ZXh0dXJlLlxuICAgICAgICAvLyBUaGUgbmlnaHQgdmlzaW9uIHBsYXllcnMgcmVuZGVyaW5nIGlzIHF1aXRlIHNpbXBsZSwganVzdCByZW5kZXIgdGhlIG1lc2hlcyBiZWZvcmUgdGhlIGZpbmFsIHRleHR1cmUgcmVuZGVyXG4gICAgICAgIC8vIFRoZSBub3JtYWwgcGxheWVycyB3aWxsIGJlIGEgYml0IGRpZmZlcmVudCBzaW5jZSB3ZSBuZWVkIHRvIGludGVyc2VjdCB0aGVpciBtZXNoZXMgd2l0aCB0aGUgbGlnaHQgbWVzaC5cbiAgICAgICAgLy8gVG8gZG8gdGhhdCB3ZSBjYW4gcmVuZGVyIGFsbCB0aGUgcGxheWVycyBtZXNoZXMgaW4gYSBmcmFtZWJ1ZmZlciBBLCB0aGVuIHJlbmRlciBhbGwgb2YgdGhlIGxpZ2h0cyBpbiBhbm90aGVyXG4gICAgICAgIC8vIGZyYW1lIGJ1ZmZlciBCLCB0aGVuIHJlbmRlciBBIG9udG8gQiB3aXRoIGJsZW5kTW9kZSA9IFNSQ19JTiB0byBjcmVhdGUgYSBzb3J0IG9mIHVuaW9uIG9mIHRoZSB0d28uXG4gICAgICAgIC8vIE9uY2UgdGhhdCBpcyBkb25lIHdlIGNhbiByZW5kZXIgQiBpbnRvIHRoZSBia2cuX3JlblRleCBhbmQgcHJvY2VlZCBub3JtYWxseS5cbiAgICAgICAgLy8gQW5vdGhlciB3YXkgdG8gZG8gdGhpcyB1c2luZyBvbmx5IGEgc2luZ2xlIHJlbmRlcnRleHR1cmUgaXMgdG8gdXNlIHRoZSBzdGVuY2lsIGJ1ZmZlciwgYnV0IGl0IHdpbGwgZG91YmxlIHRoZVxuICAgICAgICAvLyBtZXNoIHJlbmRlciBjYWxscyAoYW5kIHNpbmNlIHRoZXkgYXJlIG5vdCBidWZmZXJlZCwgaXQncyBhIHNsb3cgb3BlcmF0aW9uKVxuICAgICAgICAvLyBJIGRvbid0IHRoaW5rIHRoYXQgdGhlcmUgaXMgYW5vdGhlciB3YXkgdG8gcGVyZm9ybSB0aGlzIGluIHRoZSBnZW5lcmFsIGNhc2UsIHBsZWFzZSBwcm92ZSBtZSB3cm9uZy5cbiAgICAgICAgLy8gVE9ETzogbWF5YmUgd2UgY2FuIG9wdGltaXplIHRoaXMgd2hlbiBvbmx5IDEgcGxheWVyIGFuZCAxIGxpZ2h0IGlzIHByZXNlbnQgKGxpa2UsIGF2b2lkaW5nIDEgb2YgdGhlIDIgZnJhbWVidWZmZXJzKS5cblxuICAgICAgICAvLyBTa2lwIEVWRVJZVEhJTkcgaWYgdGhpcyBlbnRpdHkgaXMgaGlkZGVuLlxuICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tLmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkpIHJldHVybjtcblxuICAgICAgICAvL2NvbnNvbGUudGltZSgndXBkYXRlVmlzaWJpbGl0eScpO1xuXG4gICAgICAgIGxldCByZW5kZXJlciA9IHRoaXMucGl4aUJvYXJkU3lzdGVtLnJlbmRlcmVyO1xuXG4gICAgICAgIGxldCBsb2NhbENudCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICAvLyBTZXR1cCBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgICAgbGV0IG0gPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIGxldCBwaXhpID0gaW1nLl9waXhpITtcbiAgICAgICAgbS50cmFuc2xhdGUoXG4gICAgICAgICAgICAtcGl4aS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgLXBpeGkucG9zaXRpb24ueVxuICAgICAgICApO1xuICAgICAgICBtLnJvdGF0ZSgtcGl4aS5yb3RhdGlvbik7XG4gICAgICAgIGxldCBpbnZTY2FsZSA9IDEvcGl4aS5zY2FsZS54O1xuICAgICAgICBtLnNjYWxlKGludlNjYWxlLCBpbnZTY2FsZSk7XG4gICAgICAgIG0udHJhbnNsYXRlKGltZy50ZXh0dXJlLndpZHRoIC8gMiwgaW1nLnRleHR1cmUuaGVpZ2h0IC8gMik7XG4gICAgICAgIGxvY2FsQ250LnRyYW5zZm9ybS5zZXRGcm9tTWF0cml4KG0pO1xuXG4gICAgICAgIGxldCB3b3JsZENudCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgcGxheWVycyB3aXRob3V0IG5pZ2h0IHZpc2lvbiAoYW5kIHRoZXJlIGFyZSBsaWdodHMpIHJlbmRlciB0aGVtIChUSElTIElTIFNMT1chKVxuICAgICAgICBsZXQgdGV4LCB0ZXgyLCBuaWdodFNwcml0ZTtcbiAgICAgICAgaWYgKGRhdGEucGxheWVycy5sZW5ndGggIT09IDAgJiYgZGF0YS5saWdodHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB0ZXggPSAodGhpcy5yZW5kZXJUZXh0dXJlUG9vbCBhcyBhbnkpLmdldE9wdGltYWxUZXh0dXJlKHBpeGkudGV4dHVyZS53aWR0aCwgcGl4aS50ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICB0ZXgyID0gKHRoaXMucmVuZGVyVGV4dHVyZVBvb2wgYXMgYW55KS5nZXRPcHRpbWFsVGV4dHVyZShwaXhpLnRleHR1cmUud2lkdGgsIHBpeGkudGV4dHVyZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgZGF0YS5wbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxDbnQuYWRkQ2hpbGQocGxheWVyLm1lc2gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW5kZXIgdGhlIHBsYXllcnMgdmlzaWJpbGl0eSBtZXNoZXMgb250byB0ZXhcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihsb2NhbENudCwgdGV4LCB0cnVlKTtcbiAgICAgICAgICAgIGxvY2FsQ250LnJlbW92ZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGxpZ2h0IG9mIGRhdGEubGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgbGlnaHQubWVzaC5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgICAgICAgICBsb2NhbENudC5hZGRDaGlsZChsaWdodC5tZXNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHBsYXllclNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLlNSQ19JTjtcblxuICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBsaWdodHMgb250byB0ZXgyLCB0aGVuIHJlbmRlciB0ZXggYXMgQkxFTkRfTU9ERS5TUkNfSU4gdG8gZmlsdGVyIG91dCB3aGVyZSB0aGUgbGlnaHRzIHdlcmUgbm90XG4gICAgICAgICAgICAvLyBwcmVzZW50LlxuICAgICAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobG9jYWxDbnQsIHBsYXllclNwcml0ZSk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIod29ybGRDbnQsIHRleDIsIHRydWUpO1xuICAgICAgICAgICAgd29ybGRDbnQucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIGxvY2FsQ250LnJlbW92ZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIC8vIEFkZCB0ZXgyIHRvIHRoZSBtYWluIHBoYXNlXG4gICAgICAgICAgICBuaWdodFNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXgyKTtcbiAgICAgICAgICAgIG5pZ2h0U3ByaXRlLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuICAgICAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobmlnaHRTcHJpdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIGRhdGEubmlnaHRWaXNQbGF5ZXJzKSB7XG4gICAgICAgICAgICBsb2NhbENudC5hZGRDaGlsZChwbGF5ZXIubWVzaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3JpZ1RleCA9IG5ldyBQSVhJLlNwcml0ZShpbWcudGV4dHVyZSk7XG4gICAgICAgIG9yaWdUZXguYmxlbmRNb2RlID0gUElYSS5CTEVORF9NT0RFUy5TUkNfSU47XG5cbiAgICAgICAgd29ybGRDbnQuYWRkQ2hpbGQobG9jYWxDbnQsIG9yaWdUZXgpXG5cbiAgICAgICAgLy8gUmVuZGVyIGV2ZXJ5dGhpbmcgdG8gYmtnLl9yZW5UZXggYW5kIHRoZW4gcmVkcmF3IHRoZSBvcmlnaW5hbCBvbmx5IHdoZXJlIGlzIGFscGhhPTEuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLnJlbmRlcmVyLnJlbmRlcih3b3JsZENudCwgaW1nLl9yZW5UZXgsIGZhbHNlKTtcbiAgICAgICAgaW1nLl92aXNNYXBDaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICAvLyBDbGVhbnVwIHRpbWUgKGRvbid0IHdvcnJ5LCBJJ20gcmVjeWNsaW5nIGFuZCB0aGVyZSdzIGEgZ2FyYmFnZSBjbGVhbmVyLCB3ZSdyZSBlY28gZnJpZW5kbHkhKVxuICAgICAgICB3b3JsZENudC5kZXN0cm95KERFU1RST1lfTUlOKTtcbiAgICAgICAgb3JpZ1RleC5kZXN0cm95KERFU1RST1lfTUlOKTtcblxuICAgICAgICBpZiAodGV4ICE9PSB1bmRlZmluZWQpIHRoaXMucmVuZGVyVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZSh0ZXgpO1xuICAgICAgICBpZiAodGV4MiAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlbmRlclRleHR1cmVQb29sLnJldHVyblRleHR1cmUodGV4Mik7XG4gICAgICAgIGlmIChuaWdodFNwcml0ZSAhPT0gdW5kZWZpbmVkKSBuaWdodFNwcml0ZS5kZXN0cm95KERFU1RST1lfTUlOKTtcblxuICAgICAgICAvL2NvbnNvbGUudGltZUVuZCgndXBkYXRlVmlzaWJpbGl0eScpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZVZpc2liaWxpdHlMaXN0ZW5lcihjOiBEaXNwbGF5RWxlbWVudCk6IFZpc2liTGlzdGVuZXJMZXZlbCB7XG4gICAgICAgIGxldCBsZXZlbDtcbiAgICAgICAgc3dpdGNoIChjLnZpc2liKSB7XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAvLyBBbHJlYWR5IG1heGltdW0gbGV2ZWwsIG5vIG5lZWQgZm9yIGZ1cnRoZXIgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gVmlzaWJMaXN0ZW5lckxldmVsLlBFUlNJU1RFTlQ7XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLkFMV0FZU19WSVNJQkxFOlxuICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUOlxuICAgICAgICAgICAgICAgIGxldmVsID0gVmlzaWJMaXN0ZW5lckxldmVsLk5PVF9ORUVERUQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSOlxuICAgICAgICAgICAgICAgIGxldmVsID0gVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNoIG9mIGMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBsZXZlbCA9IE1hdGgubWF4KGxldmVsLCB0aGlzLmNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoY2gpKTtcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UKSBicmVhazsvLyBBbHJlYWR5IG1heGVkIG91dC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlc3Ryb3lFbGVtZW50KGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCwgcmVjdXJzaXZlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGxldCBlbGVtID0gZGVzYy5fcGl4aTtcblxuICAgICAgICBpZiAoZWxlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgc3dpdGNoIChkZXNjLl9vbGRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRToge1xuICAgICAgICAgICAgICAgIGxldCBpbSA9IGRlc2MgYXMgUGl4aUltYWdlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgZGVzdHJveVRleCA9IGltLnNoYXJlZFRleHR1cmUgIT09IHRydWU7XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5TcHJpdGUpLmRlc3Ryb3koe1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IGRlc3Ryb3lUZXgsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlOiBkZXN0cm95VGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbS5fcmVuVGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW0uX3JlblRleC5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuTElORTpcbiAgICAgICAgICAgICAgICAoZWxlbSBhcyBQSVhJLkdyYXBoaWNzKS5kZXN0cm95KHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgKGVsZW0gYXMgUElYSS5TcHJpdGUpLmRlc3Ryb3koREVTVFJPWV9NSU4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIChlbGVtIGFzIFBJWEkuVGV4dCkuZGVzdHJveShERVNUUk9ZX01JTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjLl9waXhpID0gdW5kZWZpbmVkO1xuICAgICAgICBkZXNjLl9vbGRUeXBlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChyZWN1cnNpdmUgJiYgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUVsZW1lbnQoZWwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50KGNtcDogUGl4aUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGRlc2MsIGZhbHNlKTtcblxuICAgICAgICBsZXQgZGVmTGF5ZXIgPSB0cnVlO1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICBzd2l0Y2ggKGRlc2MudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5MSU5FOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLmNpcmNsZVRleCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IFBJWEkuVGV4dChcIlwiKTtcbiAgICAgICAgICAgICAgICByZXMucGFyZW50TGF5ZXIgPSB0aGlzLnRleHRTeXN0ZW0udGV4dExheWVyO1xuICAgICAgICAgICAgICAgIGRlZkxheWVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZkxheWVyICYmIGNtcC5fbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzLnBhcmVudEdyb3VwID0gY21wLl9sYXllcjtcbiAgICAgICAgfVxuICAgICAgICByZXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgcmVzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgcmVzLnpJbmRleCA9IGRlc2MucHJpb3JpdHk7XG4gICAgICAgIGRlc2MuX3BpeGkgPSByZXM7XG4gICAgICAgIGRlc2MuX29sZFR5cGUgPSBkZXNjLnR5cGU7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLmJvYXJkLmFkZENoaWxkKHJlcyk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzdGVtLmJvYXJkLnNvcnRDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGV4dHVyZVVwZGF0ZUdyaWRTaXplKHRleDogQ3VzdG9tVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBsZXQgdGV4SWQgPSAodGV4IGFzIGFueSkuX3VwZGF0ZUlEO1xuICAgICAgICBpZiAodGV4LmdyaWRTaXplICE9PSB1bmRlZmluZWQgJiYgdGV4LmdyaWRTaXplLnVwZGF0ZUlkICE9PSB0ZXhJZCkgcmV0dXJuO1xuXG4gICAgICAgIHRleC5ncmlkU2l6ZSA9IHtcbiAgICAgICAgICAgIHg6IE1hdGguY2VpbCh0ZXgud2lkdGggLyBTVEFOREFSRF9HUklEX09QVElPTlMuc2l6ZSkgLyB0ZXgud2lkdGgsXG4gICAgICAgICAgICB5OiBNYXRoLmNlaWwodGV4LmhlaWdodCAvIFNUQU5EQVJEX0dSSURfT1BUSU9OUy5zaXplKSAvIHRleC5oZWlnaHQsXG4gICAgICAgICAgICB1cGRhdGVJZDogdGV4SWQsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUVsZW1lbnRWaXNpYmlsaXR5KHBhcjogUGl4aUdyYXBoaWNDb21wb25lbnQsIGRlc2M6IFBpeGlEaXNwbGF5RWxlbWVudCwgcmVjdXJzaXZlOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5VmlzaWJsZTogYm9vbGVhbiwgcmVtZW1iZXJlZDogYm9vbGVhbikge1xuICAgICAgICBsZXQgaXNWaXNpYmxlO1xuICAgICAgICBpZiAoY3VycmVudGx5VmlzaWJsZSB8fCB0aGlzLm1hc3RlclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGRlc2MudmlzaWIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gY3VycmVudGx5VmlzaWJsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRTpcbiAgICAgICAgICAgICAgICBjYXNlIFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQ6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVI6XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHJlbWVtYmVyZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBwaXhpID0gZGVzYy5fcGl4aSE7XG4gICAgICAgIHBpeGkudmlzaWJsZSA9IGlzVmlzaWJsZTtcblxuICAgICAgICBpZiAoZGVzYy52aXNpYiA9PT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgbGV0IGltID0gKGRlc2MgYXMgUGl4aUltYWdlRWxlbWVudCk7XG4gICAgICAgICAgICBpbS5fcGl4aSEudGV4dHVyZSA9IHRoaXMubWFzdGVyVmlzaWJpbGl0eSA/IGltLnRleHR1cmUgOiBpbS5fcmVuVGV4ITtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWN1cnNpdmUgJiYgZGVzYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBkZXNjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VmlzaWJpbGl0eShwYXIsIGMsIHRydWUsIGN1cnJlbnRseVZpc2libGUsIHJlbWVtYmVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVWaXNpYmlsaXR5TGlzdGVuZXIoZWw6IFBpeGlHcmFwaGljQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBsaXN0TGV2ZWwgPSB0aGlzLmNvbXB1dGVWaXNpYmlsaXR5TGlzdGVuZXIoZWwuZGlzcGxheSk7XG4gICAgICAgIGxldCBvbGRMaXN0TGV2ZWwgPSBlbC5fdmlzaWJMaXN0ZW5lciB8fCBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDtcbiAgICAgICAgaWYgKGxpc3RMZXZlbCA9PT0gb2xkTGlzdExldmVsKSByZXR1cm47Ly8gTm8gY2hhbmdlcyByZXBvcnRlZC5cblxuICAgICAgICBsZXQgaXNSZW1lbWJlcmVkID0gdGhpcy5yZW1lbWJlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVsLmVudGl0eSk7XG5cbiAgICAgICAgbGV0IGxpc3RlbmVyTmVlZGVkO1xuICAgICAgICBzd2l0Y2ggKGxpc3RMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDogbGlzdGVuZXJOZWVkZWQgPSBmYWxzZTsgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSOiAgIGxpc3RlbmVyTmVlZGVkID0gIWlzUmVtZW1iZXJlZDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UOiBsaXN0ZW5lck5lZWRlZCA9IHRydWU7ICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZExpc3RlbmVyTmVlZGVkO1xuICAgICAgICBzd2l0Y2ggKG9sZExpc3RMZXZlbCkge1xuICAgICAgICAgICAgY2FzZSBWaXNpYkxpc3RlbmVyTGV2ZWwuTk9UX05FRURFRDogb2xkTGlzdGVuZXJOZWVkZWQgPSBmYWxzZTsgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVmlzaWJMaXN0ZW5lckxldmVsLlJFTUVNQkVSOiAgIG9sZExpc3RlbmVyTmVlZGVkID0gIWlzUmVtZW1iZXJlZDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZpc2liTGlzdGVuZXJMZXZlbC5QRVJTSVNURU5UOiBvbGRMaXN0ZW5lck5lZWRlZCA9IHRydWU7ICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2h5IGJlZm9yZT8gZ29vZCBxdWVzdGlvbiFcbiAgICAgICAgLy8gd2hlbiB3ZSBhZGQgdGhlIGxpc3RlbmVyIHdlIGNvdWxkIGRpc2NvdmVyIGluc3RhbnRseSB0aGF0IHRoZSB2aXNpYmlsaXR5IGlzIHByZXNlbnQsIHRodXMgY2FsbGluZ1xuICAgICAgICAvLyBhIGNhbGxiYWNrIHRvIHRoaXMgc3lzdGVtIHNheWluZyBcImhpLCB0aGlzIGVsZW1lbnQgaW4gd2hpY2ggdGhlcmUncyBhIHZpc2liaWxpdHkgbGlzdGVuZXIgaXMgdmlzaWJsZVwiXG4gICAgICAgIC8vIGlmIHdlIHNldCB0aGUgbGlzdGVuZXIgYWZ0ZXIgdGhpcyB0aGUgc3lzdGVtIHdpbGwgc2F5IFwib2ggcmVhbGx5LCBidXQgdGhlcmUncyBubyBsaXN0ZW5lciBvbiB0aGlzIGVsZW1lbnRcIlxuICAgICAgICAvLyAoeWVhaCBJIHNwZW50IHdheSB0b28gbXVjaCB0aW1lIHRvIGRlYnVnIHRoaXMpXG4gICAgICAgIGVsLl92aXNpYkxpc3RlbmVyID0gbGlzdExldmVsO1xuICAgICAgICBpZiAobGlzdGVuZXJOZWVkZWQgJiYgIW9sZExpc3RlbmVyTmVlZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllclN5c3RlbSEuYWRkUGxheWVyVmlzTGlzdGVuZXIoZWwuZW50aXR5LCBlbC5pc1dhbGwpO1xuICAgICAgICB9IGVsc2UgaWYgKCFsaXN0ZW5lck5lZWRlZCAmJiBvbGRMaXN0ZW5lck5lZWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0hLnJlbW92ZVBsYXllclZpc0xpc3RlbmVyKGVsLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJ1bk1ldGhvZHMocGFyOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgZWw6IFBpeGlEaXNwbGF5RWxlbWVudCkge1xuICAgICAgICBpZiAoZWwuX2NoaWxkcmVuUmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGMsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbC5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwuX2NoaWxkcmVuQWRkID0gZWwuX2NoaWxkcmVuUmVwbGFjZTtcbiAgICAgICAgICAgIGVsLl9jaGlsZHJlblJlcGxhY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlbkFkZCkge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuID09PSB1bmRlZmluZWQpIGVsLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICBlbC5jaGlsZHJlbi5wdXNoKC4uLmVsLl9jaGlsZHJlbkFkZCk7XG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5BZGQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLl9jaGlsZHJlblJlbW92ZSkge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZWwuX2NoaWxkcmVuUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95RWxlbWVudChjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0oZWwuY2hpbGRyZW4sIGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbC5fY2hpbGRyZW5SZW1vdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5NZXRob2RzKHBhciwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUVsZW1lbnQocGFyOiBQaXhpR3JhcGhpY0NvbXBvbmVudCwgZGVzYzogUGl4aURpc3BsYXlFbGVtZW50LCBwb3M6IElQb2ludERhdGEsIHRyYW5zOiBUcmFuc2Zvcm1Db21wb25lbnQgfCB1bmRlZmluZWQsIHJlY3Vyc2l2ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAoZGVzYy5fb2xkVHlwZSAhPT0gZGVzYy50eXBlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQocGFyLCBkZXNjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkID0gZGVzYy5fcGl4aSE7XG5cbiAgICAgICAgaWYgKGRlc2Mub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGQucG9zaXRpb24uc2V0KHBvcy54ICsgZGVzYy5vZmZzZXQueCwgcG9zLnkgKyBkZXNjLm9mZnNldC55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGQucG9zaXRpb24uc2V0KHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGRlc2MudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLklNQUdFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGRpbSA9IChkIGFzIFBJWEkuU3ByaXRlKTtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSAoZGVzYyBhcyBQaXhpSW1hZ2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZWwudmlzaWIgPT0gVmlzaWJpbGl0eVR5cGUuUkVNRU1CRVJfQklUX0JZX0JJVCkge1xuICAgICAgICAgICAgICAgICAgICBkaW0udGV4dHVyZSA9IHRoaXMubWFzdGVyVmlzaWJpbGl0eSA/IGVsLnRleHR1cmUgOiBlbC5fcmVuVGV4ITtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaW0udGV4dHVyZSA9IGVsLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpbS5hbmNob3IuY29weUZyb20oZWwuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgc3ggPSB0cmFucz8uc2NhbGUgfHwgMTtcbiAgICAgICAgICAgICAgICBsZXQgc3kgPSBzeDtcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2NhbGUgPT09IEltYWdlU2NhbGVNb2RlLkdSSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlR3JpZFNpemUoZGltLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBnc2l6ZSA9IChkaW0udGV4dHVyZSBhcyBDdXN0b21UZXh0dXJlKS5ncmlkU2l6ZSEhO1xuICAgICAgICAgICAgICAgICAgICBzeCA9IGdzaXplLnggKiBncmlkLnNpemUgKiBzeDtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSBnc2l6ZS55ICogZ3JpZC5zaXplICogc3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpbS5yb3RhdGlvbiA9IHRyYW5zPy5yb3RhdGlvbiB8fCAwO1xuICAgICAgICAgICAgICAgIGRpbS5zY2FsZS5zZXQoc3gsIHN5KTtcbiAgICAgICAgICAgICAgICBkaW0udGludCA9IHBhci5fc2VsZWN0ZWQgPyAweDc5ODZDQiA6IDB4RkZGRkZGO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsLnZpc2liID09PSBWaXNpYmlsaXR5VHlwZS5SRU1FTUJFUl9CSVRfQllfQklUKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5fb2xkVGV4ICE9PSBlbC50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRWaXNpYmlsaXR5KGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuX3JlblRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLl9yZW5UZXguZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuX3JlblRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuX29sZFRleCA9IGVsLnRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuTElORToge1xuICAgICAgICAgICAgICAgIGxldCBnID0gKGQgYXMgUElYSS5HcmFwaGljcyk7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gKGRlc2MgYXMgTGluZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgZy5jbGVhcigpO1xuXG4gICAgICAgICAgICAgICAgZy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgICAgICAgICAgZy5saW5lU3R5bGUoNSwgZWwuY29sb3IpO1xuICAgICAgICAgICAgICAgIGcubGluZVRvKGVsLnZlYy54LCBlbC52ZWMueSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyLl9zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBnLmxpbmVTdHlsZSgwKTtcblxuICAgICAgICAgICAgICAgICAgICBnLmJlZ2luRmlsbCgweGU1MTAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGcuZHJhd0NpcmNsZSgwLCAwLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGcuZW5kRmlsbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGcuYmVnaW5GaWxsKGVsLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgZy5kcmF3Q2lyY2xlKGVsLnZlYy54LCBlbC52ZWMueSwgMTApO1xuICAgICAgICAgICAgICAgICAgICBnLmVuZEZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuUE9JTlQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSAoZGVzYyBhcyBQb2ludEVsZW1lbnQpLmNvbG9yO1xuICAgICAgICAgICAgICAgIGlmIChwYXIuX3NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gbGVycENvbG9yKGNvbG9yLCAweDc5ODZDQiwgMC4zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKGQgYXMgUElYSS5TcHJpdGUpLnRpbnQgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRWxlbWVudFR5cGUuVEVYVDoge1xuICAgICAgICAgICAgICAgIGxldCBlbCA9IChkZXNjIGFzIFRleHRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBsZXQgZyA9IChkIGFzIFBJWEkuVGV4dCk7XG4gICAgICAgICAgICAgICAgZy50ZXh0ID0gZWwudGV4dDtcbiAgICAgICAgICAgICAgICBnLmFuY2hvci5jb3B5RnJvbShlbC5hbmNob3IpO1xuICAgICAgICAgICAgICAgIGcudGludCA9IGVsLmNvbG9yO1xuICAgICAgICAgICAgICAgIGcuc3R5bGUuYWxpZ24gPSBlbC5saW5lQWxpZ247XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVsIG9mIGRlc2MuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQocGFyLCBlbCwgcG9zLCB0cmFucywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJTeXN0ZW0gPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBMQVlFUl9UWVBFKSBhcyBQbGF5ZXJTeXN0ZW07XG4gICAgICAgIHRoaXMubWFzdGVyVmlzaWJpbGl0eSA9ICh0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KExJR0hUX1RZUEUpIGFzIExpZ2h0U3lzdGVtKS5sb2NhbExpZ2h0U2V0dGluZ3MudmlzaW9uVHlwZSA9PT0gJ2RtJztcblxuICAgICAgICBsZXQgZyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIGcuYmVnaW5GaWxsKDB4RkZGRkZGKTtcbiAgICAgICAgZy5saW5lU3R5bGUoMCk7XG4gICAgICAgIGcuZHJhd0NpcmNsZShQT0lOVF9SQURJVVMsIFBPSU5UX1JBRElVUywgUE9JTlRfUkFESVVTKTtcbiAgICAgICAgdGhpcy5jaXJjbGVUZXggPSB0aGlzLnBpeGlCb2FyZFN5c3RlbS5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUoZywgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVIsIDEpO1xuICAgICAgICB0aGlzLmNpcmNsZVRleC5kZWZhdWx0QW5jaG9yLnNldCgwLjUsIDAuNSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lFbGVtZW50KGVsZW0uZGlzcGxheSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IHtQSVhJX0dSQVBISUNfVFlQRSwgUGl4aURpc3BsYXlFbGVtZW50LCBQaXhpR3JhcGhpY0NvbXBvbmVudCwgUGl4aUdyYXBoaWNTeXN0ZW19IGZyb20gXCIuL3BpeGlHcmFwaGljU3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSxcbiAgICBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSxcbiAgICBMYXllcixcbiAgICBMQVlFUl9UWVBFLFxuICAgIExheWVyQ29tcG9uZW50LFxuICAgIExheWVyU3lzdGVtLFxuICAgIFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgIFBhcmVudExheWVyQ29tcG9uZW50XG59IGZyb20gXCIuL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZX0gZnJvbSBcIi4uLy4uLy4uL2dyYXBoaWNzXCI7XG5cbmV4cG9ydCB0eXBlIEN1c3RvbUxheWVyID0gTGF5ZXIgJiB7XG4gICAgX3BpeGlMYXllcj86IFBJWEkuZGlzcGxheS5MYXllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBQSVhJX0xBWUVSX1RZUEUgPSAncGl4aV9sYXllcic7XG5leHBvcnQgdHlwZSBQSVhJX0xBWUVSX1RZUEUgPSAncGl4aV9sYXllcic7XG5leHBvcnQgY2xhc3MgUGl4aUxheWVyU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBQSVhJX0dSQVBISUNfVFlQRSwgTEFZRVJfVFlQRV07XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJWElfTEFZRVJfVFlQRTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGl4aUJvYXJkOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBwaXhpR3JhcGhpYzogUGl4aUdyYXBoaWNTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBsYXllclN5czogTGF5ZXJTeXN0ZW07XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgdGhpcy5waXhpR3JhcGhpYyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9HUkFQSElDX1RZUEUpIGFzIFBpeGlHcmFwaGljU3lzdGVtO1xuICAgICAgICB0aGlzLmxheWVyU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChMQVlFUl9UWVBFKSBhcyBMYXllclN5c3RlbTtcblxuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldExheWVyKGxheWVyOiBDdXN0b21MYXllcik6IFBJWEkuZGlzcGxheS5MYXllciB7XG4gICAgICAgIGlmIChsYXllci5fcGl4aUxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFBJWEkuZGlzcGxheS5Hcm91cChsYXllci5wcmlvcml0eSwgZmFsc2UpO1xuICAgICAgICAgICAgbGF5ZXIuX3BpeGlMYXllciA9IG5ldyBQSVhJLmRpc3BsYXkuTGF5ZXIoZ3JvdXApO1xuICAgICAgICAgICAgdGhpcy5waXhpQm9hcmQucm9vdC5hZGRDaGlsZChsYXllci5fcGl4aUxheWVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGF5ZXIuX3BpeGlMYXllcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUxheWVyKGxheWVyOiBDdXN0b21MYXllcik6IFBJWEkuZGlzcGxheS5MYXllciB7XG4gICAgICAgIGNvbnN0IHBpeGlMYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXIpO1xuICAgICAgICBwaXhpTGF5ZXIuZ3JvdXAuekluZGV4ID0gbGF5ZXIucHJpb3JpdHk7XG4gICAgICAgIHJldHVybiBwaXhpTGF5ZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQYXJlbnRMYXllcihsYXllcjogUGFyZW50TGF5ZXJDb21wb25lbnQgfCB1bmRlZmluZWQpOiBQSVhJLmRpc3BsYXkuTGF5ZXIge1xuICAgICAgICBsZXQgbCA9IHRoaXMubGF5ZXJTeXMuZ2V0TGF5ZXJCeUlkKGxheWVyID09PSB1bmRlZmluZWQgPyAtMSA6IGxheWVyLmxheWVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIobCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRFbnRpdHlQYXJlbnRMYXllcihlbnRpdHk6IG51bWJlcik6IFBJWEkuZGlzcGxheS5MYXllciB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudExheWVyKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgUEFSRU5UX0xBWUVSX1RZUEUpIGFzIFBhcmVudExheWVyQ29tcG9uZW50IHwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5UGFyZW50KG9iajogUGl4aURpc3BsYXlFbGVtZW50LCBwYXJlbnQ6IFBJWEkuZGlzcGxheS5Hcm91cCkge1xuICAgICAgICBpZiAob2JqLnR5cGUgIT09IEVsZW1lbnRUeXBlLlRFWFQpIHtcbiAgICAgICAgICAgIGlmIChvYmouX3BpeGkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9iai5fcGl4aS5wYXJlbnRHcm91cCA9IHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaCBvZiBvYmouY2hpbGRyZW4gPz8gW10pIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQYXJlbnQoY2gsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjbXAudHlwZSA9PT0gTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IGNtcCBhcyBMYXllckNvbXBvbmVudCBhcyBDdXN0b21MYXllcjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5ZXIoYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY21wLnR5cGUgPT09IFBBUkVOVF9MQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY21wIGFzIFBhcmVudExheWVyQ29tcG9uZW50O1xuICAgICAgICAgICAgY29uc3QgZyA9IHRoaXMucGl4aUdyYXBoaWMuc3RvcmFnZS5nZXRDb21wb25lbnQoY21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRMYXllcihjKTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQYXJlbnQoZy5kaXNwbGF5IGFzIFBpeGlEaXNwbGF5RWxlbWVudCwgcGFyZW50Lmdyb3VwKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAudHlwZSA9PT0gUElYSV9HUkFQSElDX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgUGl4aUdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldEVudGl0eVBhcmVudExheWVyKGNtcC5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5hcHBseVBhcmVudChjLmRpc3BsYXkgYXMgUGl4aURpc3BsYXlFbGVtZW50LCBwYXJlbnQuZ3JvdXApO1xuICAgICAgICAgICAgYy5fbGF5ZXIgPSBwYXJlbnQuZ3JvdXA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjbXAudHlwZSA9PT0gUEFSRU5UX0xBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgUGFyZW50TGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBjb25zdCBnID0gdGhpcy5waXhpR3JhcGhpYy5zdG9yYWdlLmdldENvbXBvbmVudChjbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChnID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudExheWVyKGMpO1xuICAgICAgICAgICAgdGhpcy5hcHBseVBhcmVudChnLmRpc3BsYXkgYXMgUGl4aURpc3BsYXlFbGVtZW50LCBwYXJlbnQuZ3JvdXApO1xuICAgICAgICAgICAgZy5fbGF5ZXIgPSBwYXJlbnQuZ3JvdXA7XG4gICAgICAgIH0gZWxzZSBpZiAoY21wLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgTGF5ZXJDb21wb25lbnQgYXMgQ3VzdG9tTGF5ZXI7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheWVyKGMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjbXA6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoY21wLnR5cGUgPT09IExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjbXAgYXMgTGF5ZXJDb21wb25lbnQgYXMgQ3VzdG9tTGF5ZXI7XG4gICAgICAgICAgICBpZiAoYy5fcGl4aUxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjLl9waXhpTGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGMuX3BpeGlMYXllciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjbXAudHlwZSA9PT0gUEFSRU5UX0xBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IGcgPSB0aGlzLnBpeGlHcmFwaGljLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNtcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGcgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldFBhcmVudExheWVyKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB0aGlzLmFwcGx5UGFyZW50KGcuZGlzcGxheSwgbGF5ZXIuZ3JvdXApO1xuICAgICAgICAgICAgZy5fbGF5ZXIgPSBsYXllci5ncm91cDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEJBQ0tHUk9VTkRfTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgY29uc3QgciA9IHJlcyBhcyBCYWNrZ3JvdW5kTGF5ZXJSZXNvdXJjZSBhcyBDdXN0b21MYXllcjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5ZXIocik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5ZXIodGhpcy5sYXllclN5cy5iYWNrZ3JvdW5kTGF5ZXIgYXMgQ3VzdG9tTGF5ZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtCT0FSRF9UUkFOU0ZPUk1fVFlQRSwgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSwgUElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBNRUFTVVJFX1RZUEUsIE1lYXN1cmVSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi8uLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuXG5cbmV4cG9ydCBjb25zdCBQSVhJX01FQVNVUkVfVFlQRSA9IFwicGl4aV9tZWFzdXJlXCI7XG5leHBvcnQgdHlwZSBQSVhJX01FQVNVUkVfVFlQRSA9IHR5cGVvZiBQSVhJX01FQVNVUkVfVFlQRTtcbmV4cG9ydCBjbGFzcyBQaXhpTWVhc3VyZVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBJWElfTUVBU1VSRV9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBkaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuICAgIHByaXZhdGUgdGV4dDogUElYSS5UZXh0O1xuXG4gICAgcHJpdmF0ZSBncmlkU2l6ZTogbnVtYmVyID0gU1RBTkRBUkRfR1JJRF9PUFRJT05TLnNpemU7XG4gICAgcHJpdmF0ZSBncmlkVW5pdE11bDogbnVtYmVyID0gU1RBTkRBUkRfR1JJRF9PUFRJT05TLnVuaXRNdWw7XG4gICAgcHJpdmF0ZSBncmlkVW5pdE5hbWU6IHN0cmluZyA9IFNUQU5EQVJEX0dSSURfT1BUSU9OUy51bml0TmFtZTtcbiAgICBwcml2YXRlIGJvYXJkU2NhbGU6IG51bWJlciA9IDE7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICBjb25zdCBwaXhpQm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIHRoaXMuZGlzcGxheS5wYXJlbnRHcm91cCA9IHBpeGlCb2FyZC50b29sRm9yZWdyb3VuZEdyb3VwO1xuICAgICAgICB0aGlzLnRleHQgPSBuZXcgUElYSS5UZXh0KFwiXCIpO1xuICAgICAgICB0aGlzLnRleHQuYW5jaG9yLnNldCgwLjUsIDEpO1xuICAgICAgICB0aGlzLnRleHQuc3R5bGUuZmlsbCA9IDB4ZmYwMDAwO1xuICAgICAgICB0aGlzLnRleHQuc3R5bGUuZm9udFNpemUgPSA0MDtcbiAgICAgICAgdGhpcy50ZXh0LnBhcmVudEdyb3VwID0gcGl4aUJvYXJkLnRvb2xGb3JlZ3JvdW5kR3JvdXA7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9hZGQnLCB0aGlzLm9uUmVzb3VyY2VBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Jlc291cmNlX3JlbW92ZWQnLCB0aGlzLm9uUmVzb3VyY2VSZW1vdmUsIHRoaXMpO1xuICAgIH1cblxuICAgIHNldEVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmRpc3BsYXkudmlzaWJsZSA9IGVuYWJsZWQ7XG4gICAgICAgIHRoaXMudGV4dC52aXNpYmxlID0gZW5hYmxlZDtcbiAgICB9XG5cbiAgICByZWRyYXcoZnJvbVg6IG51bWJlciwgZnJvbVk6IG51bWJlciwgdG9YOiBudW1iZXIsIHRvWTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmNsZWFyKCk7XG5cbiAgICAgICAgY29uc3QgbWlkWCA9IChmcm9tWCArIHRvWCkgLyAyO1xuICAgICAgICBjb25zdCBtaWRZID0gKGZyb21ZICsgdG9ZKSAvIDI7XG4gICAgICAgIGxldCBkaXN0U3EgPSBkaXN0U3F1YXJlZDJkKGZyb21YLCBmcm9tWSwgdG9YLCB0b1kpIC8gKHRoaXMuZ3JpZFNpemUgKiogMik7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSAxL3RoaXMuYm9hcmRTY2FsZTtcbiAgICAgICAgdGhpcy50ZXh0LnNjYWxlLnNldChzY2FsZSk7XG5cbiAgICAgICAgaWYgKGRpc3RTcSA8IDAuMSoqMikge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmJlZ2luRmlsbCgweGZmMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZHJhd0NpcmNsZShtaWRYLCBtaWRZLCAxMCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5lbmRGaWxsKCk7XG4gICAgICAgICAgICB0aGlzLnRleHQucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnRleHQgPSAobWlkWCAvIHRoaXMuZ3JpZFNpemUpLnRvRml4ZWQoNCkgKyBcIiwgXCIgKyAobWlkWSAvIHRoaXMuZ3JpZFNpemUpLnRvRml4ZWQoNCk7XG4gICAgICAgICAgICB0aGlzLnRleHQucG9zaXRpb24uc2V0KG1pZFgsIG1pZFkgLSAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuYmVnaW5GaWxsKDB4ZmYwMDAwKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5kcmF3Q2lyY2xlKGZyb21YLCBmcm9tWSwgMTAgKiBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuZW5kRmlsbCgpO1xuXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuYmVnaW5GaWxsKDB4ZmYwMDAwKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5kcmF3Q2lyY2xlKHRvWCwgdG9ZLCAxMCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5lbmRGaWxsKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5saW5lU3R5bGUoMyAqIHNjYWxlLCAweGZmMDAwMClcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5tb3ZlVG8oZnJvbVgsIGZyb21ZKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5saW5lVG8odG9YLCB0b1kpO1xuXG4gICAgICAgICAgICBsZXQgcm90ID0gTWF0aC5hdGFuMih0b1kgLSBmcm9tWSwgdG9YIC0gZnJvbVgpO1xuICAgICAgICAgICAgaWYgKHJvdCA8IE1hdGguUEkgLyAyKSByb3QgKz0gTWF0aC5QSTtcbiAgICAgICAgICAgIGlmIChyb3QgPiBNYXRoLlBJIC8gMikgcm90IC09IE1hdGguUEk7XG4gICAgICAgICAgICB0aGlzLnRleHQucG9zaXRpb24uc2V0KG1pZFgsIG1pZFkpO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnJvdGF0aW9uID0gcm90O1xuICAgICAgICAgICAgdGhpcy50ZXh0LnRleHQgPSAoTWF0aC5zcXJ0KGRpc3RTcSkgKiB0aGlzLmdyaWRVbml0TXVsKS50b0ZpeGVkKDQpICsgJyAnICsgdGhpcy5ncmlkVW5pdE5hbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWRyYXdSZXMocmVzOiBNZWFzdXJlUmVzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5yZWRyYXcocmVzLmZyb21YLCByZXMuZnJvbVksIHJlcy50b1gsIHJlcy50b1kpO1xuICAgIH1cblxuICAgIG9uUmVzb3VyY2VBZGQocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IE1FQVNVUkVfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHIgPSByZXMgYXMgTWVhc3VyZVJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdSZXMocik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlc291cmNlRWRpdChyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGxldCByZWRyYXcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBNRUFTVVJFX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3UmVzKHJlcyBhcyBNZWFzdXJlUmVzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBncmlkID0gcmVzIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG4gICAgICAgICAgICB0aGlzLmdyaWRVbml0TXVsID0gZ3JpZC51bml0TXVsO1xuICAgICAgICAgICAgdGhpcy5ncmlkVW5pdE5hbWUgPSBncmlkLnVuaXROYW1lO1xuICAgICAgICAgICAgcmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gQk9BUkRfVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmRTY2FsZSA9IChyZXMgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSkuc2NhbGVYIHx8IDE7XG4gICAgICAgICAgICByZWRyYXcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZHJhdykge1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoTUVBU1VSRV9UWVBFKSBhcyBNZWFzdXJlUmVzb3VyY2UgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAociAhPT0gdW5kZWZpbmVkKSB0aGlzLnJlZHJhd1JlcyhyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVzb3VyY2VSZW1vdmUocmVzOiBSZXNvdXJjZSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IE1FQVNVUkVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMudHlwZSA9PT0gQk9BUkRfVFJBTlNGT1JNX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSByZXMgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuYm9hcmRTY2FsZSA9IHIuc2NhbGVYO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBib2FyZC5ib2FyZC5hZGRDaGlsZCh0aGlzLmRpc3BsYXkpO1xuICAgICAgICBib2FyZC5ib2FyZC5hZGRDaGlsZCh0aGlzLnRleHQpO1xuXG4gICAgICAgIGxldCBncmlkID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpO1xuICAgICAgICBpZiAoZ3JpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmdyaWRTaXplID0gKGdyaWQgYXMgR3JpZFJlc291cmNlKS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm9hcmRTY2FsZSA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKEJPQVJEX1RSQU5TRk9STV9UWVBFKSBhcyBCb2FyZFRyYW5zZm9ybVJlc291cmNlIHwgdW5kZWZpbmVkKT8uc2NhbGVYIHx8IDE7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1JFQ1RBTkdVTEFSX1NFTEVDVElPTl9UWVBFLCBSZWN0YW5ndWxhclNlbGVjdGlvblJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5cblxuZXhwb3J0IGNvbnN0IFBJWElfUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUgPSBcInBpeGlfcmVjdF9zZWxlY3Rpb25cIjtcbmV4cG9ydCB0eXBlIFBJWElfUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUgPSB0eXBlb2YgUElYSV9SRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRTtcbmV4cG9ydCBjbGFzcyBQaXhpUmVjdFNlbGVjdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgbmFtZSA9IFBJWElfUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEU7XG4gICAgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRV07XG5cbiAgICB3b3JsZDogV29ybGQ7XG4gICAgZGlzcGxheTogUElYSS5HcmFwaGljcztcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuZGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfYWRkJywgdGhpcy5vblJlc291cmNlQWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0LCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9yZW1vdmVkJywgdGhpcy5vblJlc291cmNlUmVtb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZWRyYXcoYm94OiBBYWJiKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheS5jbGVhcigpO1xuICAgICAgICB0aGlzLmRpc3BsYXkuYmVnaW5GaWxsKDB4Nzk4NkNCLCAwLjIpO1xuICAgICAgICB0aGlzLmRpc3BsYXkuZHJhd1JlY3QoYm94Lm1pblgsIGJveC5taW5ZLCBib3gubWF4WCAtIGJveC5taW5YLCBib3gubWF4WSAtIGJveC5taW5ZKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmVuZEZpbGwoKTtcbiAgICB9XG5cbiAgICBvblJlc291cmNlQWRkKHJlczogUmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHIgPSByZXMgYXMgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3KHIuYWFiYik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlc291cmNlRWRpdChyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCByID0gcmVzIGFzIFJlY3Rhbmd1bGFyU2VsZWN0aW9uUmVzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLnJlZHJhdyhyLmFhYmIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZVJlbW92ZShyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICB0aGlzLmRpc3BsYXkucGFyZW50R3JvdXAgPSBib2FyZC50b29sRm9yZWdyb3VuZEdyb3VwO1xuICAgICAgICBib2FyZC5ib2FyZC5hZGRDaGlsZCh0aGlzLmRpc3BsYXkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7RGVzZXJpYWxpemVEYXRhLCBXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCwgSE9TVF9ISURERU5fVFlQRSwgTXVsdGlDb21wb25lbnQsXG4gICAgTkFNRV9UWVBFLFxuICAgIE5hbWVDb21wb25lbnQsXG4gICAgTk9URV9UWVBFLFxuICAgIE5vdGVDb21wb25lbnQsXG4gICAgUE9TSVRJT05fVFlQRSxcbiAgICBQb3NpdGlvbkNvbXBvbmVudFxufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0xJR0hUX1RZUEUsIExpZ2h0Q29tcG9uZW50fSBmcm9tIFwiLi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7UExBWUVSX1RZUEUsIFBsYXllckNvbXBvbmVudH0gZnJvbSBcIi4uL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtET09SX1RZUEUsIERvb3JDb21wb25lbnQsIERvb3JUeXBlfSBmcm9tIFwiLi4vZG9vclN5c3RlbVwiO1xuaW1wb3J0IHtQUk9QX1RFTEVQT1JUX1RZUEUsIFBST1BfVFlQRSwgUHJvcFRlbGVwb3J0fSBmcm9tIFwiLi4vcHJvcFN5c3RlbVwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7Y29tcG9uZW50RWRpdENvbW1hbmQsIENvbXBvbmVudEVkaXRDb21tYW5kLCBFZGl0VHlwZX0gZnJvbSBcIi4uL2NvbW1hbmQvY29tcG9uZW50RWRpdFwiO1xuaW1wb3J0IHtEZVNwYXduQ29tbWFuZH0gZnJvbSBcIi4uL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7Q29tbWFuZCwgZW1pdENvbW1hbmQsIGV4ZWN1dGVBbmRMb2dDb21tYW5kfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kXCI7XG5pbXBvcnQge0VWRU5UX0NPTU1BTkRfTE9HLCBFVkVOVF9DT01NQU5EX1BBUlRJQUxfRU5EfSBmcm9tIFwiLi4vY29tbWFuZC9jb21tYW5kU3lzdGVtXCI7XG5pbXBvcnQge1dBTExfVFlQRX0gZnJvbSBcIi4uL3dhbGxTeXN0ZW1cIjtcbmltcG9ydCB7RWNzU3RvcmFnZSwgU2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7UElOX1RZUEV9IGZyb20gXCIuLi9waW5TeXN0ZW1cIjtcbmltcG9ydCB7ZmluZEZvcmVncm91bmQsIFBBUkVOVF9MQVlFUl9UWVBFLCBQYXJlbnRMYXllckNvbXBvbmVudH0gZnJvbSBcIi4vbGF5ZXJTeXN0ZW1cIjtcbmltcG9ydCB7Y29tcG9uZW50Q2xvbmUsIGdlbmVyYXRlUmFuZG9tSWR9IGZyb20gXCIuLi8uLi9lY3NVdGlsXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uLy4uL1BJWElcIjtcbmltcG9ydCB7IEV2ZW50Q29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kL2V2ZW50Q29tbWFuZFwiO1xuXG5jb25zdCBNVUxUSV9UWVBFUyA9IFsnbmFtZScsICdub3RlJ107XG5jb25zdCBFTElNSU5BQkxFX1RZUEVTID0gWyduYW1lJywgJ25vdGUnLCAncGxheWVyJywgJ2xpZ2h0JywgJ2Rvb3InLCBQQVJFTlRfTEFZRVJfVFlQRV07XG5jb25zdCBGVUxMU0NSRUVOQUJMRV9UWVBFUyA9IFsnbm90ZSddO1xuXG4vLyBuYW1lXG4vLyBub3RlIC0+IG5vdGUsIHBvc2l0aW9uXG4vLyBwb3NpdGlvblxuLy8gcm9vbSAtPiByb29tLCBwb3NpdGlvblxuLy8gYmtnX2ltZyA9PiBia2dfaW1nLCBwb3NpdGlvblxuXG4vLyBQb3NzaWJsZSBjb25maWd1cmF0aW9uczogKD8gPSAwLzEsICogPSAwKywgbGlrZSByZWdleClcbi8vIChia2dfaW1nLCBwb3MsIHRyYW5zZm9ybSwgbmFtZSosIG5vdGVzKilcbi8vIChwaW4sIHBvcywgbGlnaHR8cGxheWVyLCBuYW1lKiwgbm90ZXMqKVxuLy8gKHByb3AsIHBvcywgdHJhbnNmb3JtLCB0ZWxlcG9ydD8sIG5hbWUqLCBub3RlcyopXG4vLyAod2FsbCwgcG9zLCBkb29yPylcblxuaW50ZXJmYWNlIFR5cGVEYXRhIHtcbiAgICBlbnRpdGllczogU2V0PENvbXBvbmVudD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkQ29tcG9uZW50IHtcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxufVxuXG5leHBvcnQgY29uc3QgU0VMRUNUSU9OX1VJX0RBVEFfVFlQRSA9ICdzZWxlY3Rpb25fdWlfZGF0YSc7XG5leHBvcnQgdHlwZSBTRUxFQ1RJT05fVUlfREFUQV9UWVBFID0gdHlwZW9mIFNFTEVDVElPTl9VSV9EQVRBX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvblVpRGF0YSBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBTRUxFQ1RJT05fVUlfREFUQV9UWVBFO1xuICAgIHNlbGVjdGVkRW50aXRpZXM6IEFycmF5PG51bWJlcj47XG4gICAgY29tcG9uZW50czogQ29tcG9uZW50W107XG4gICAgaGlkZGVuOiBib29sZWFuO1xuICAgIGFkZGFibGU6IEFycmF5PEFkZENvbXBvbmVudD47XG5cbiAgICBfc2F2ZTogZmFsc2UsXG4gICAgX3N5bmM6IGZhbHNlO1xufVxuXG5leHBvcnQgY29uc3QgU0VMRUNUSU9OX1RZUEUgPSAnc2VsZWN0aW9uJztcbmV4cG9ydCB0eXBlIFNFTEVDVElPTl9UWVBFID0gdHlwZW9mIFNFTEVDVElPTl9UWVBFO1xuZXhwb3J0IGNsYXNzIFNlbGVjdGlvblN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBlY3M6IFdvcmxkO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBTRUxFQ1RJT05fVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFXSBhcyBzdHJpbmdbXTtcblxuICAgIHByaXZhdGUgYm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcblxuICAgIHNlbGVjdGVkRW50aXRpZXMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBkYXRhQnlUeXBlID0gbmV3IE1hcDxzdHJpbmcsIFR5cGVEYXRhPigpO1xuICAgIHRyYW5zbGF0aW9uczoge1t0eXBlOiBzdHJpbmddOiBzdHJpbmd9ID0ge307XG5cbiAgICBwcml2YXRlIGlzVHJhbnNsYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHRyYW5zbGF0ZURpcnR5OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSB1aVJlc0RpcnR5OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKGVjczogV29ybGQpIHtcbiAgICAgICAgdGhpcy5lY3MgPSBlY3M7XG5cbiAgICAgICAgdGhpcy5ib2FyZFN5cyA9IGVjcy5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcblxuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ3Rvb2xfbW92ZV9iZWdpbicsICgpID0+IHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWUpO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ3Rvb2xfbW92ZV9lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zbGF0ZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfUEFSVElBTF9FTkQpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudFVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZWQnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdlbnRpdHlfZGVzcGF3bicsIHRoaXMub25FbnRpdHlEZXNwYXduLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdkZXNlcmlhbGl6ZWQnLCAoZDogRGVzZXJpYWxpemVEYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZC5vcHRpb25zLnRoZW5TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9ubHlFbnRpdGllcyhkLmRhdGEuZW50aXRpZXMubWFwKGQuZW50aXR5TWFwcGluZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGVjcy5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhpcy5lY3MuZXZlbnRzLm9uKCdjb21tYW5kX3Bvc3RfZXhlY3V0ZScsIChjOiBDb21tYW5kIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYSBzcGF3biBjb21tYW5kIGhhcyBiZWVuIGV4ZWN1dGVkXG4gICAgICAgICAgICAgICAgaWYgKGMgPT09IHVuZGVmaW5lZCB8fCBjLmtpbmQgIT09ICdkZXNwYXduJykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0T25seUVudGl0aWVzKChjIGFzIERlU3Bhd25Db21tYW5kKS5lbnRpdGllcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5vbignZGVsZXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdGllczogWy4uLnRoaXMuc2VsZWN0ZWRFbnRpdGllc10sXG4gICAgICAgICAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZDtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy5lY3MsIGNtZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVjcy5ldmVudHMub24oJ2VudGl0eV9kZXNwYXduJywgdGhpcy5vbkVudGl0eURlc3Bhd24sIHRoaXMpO1xuICAgICAgICB0aGlzLmJvYXJkU3lzLnRpY2tlci5hZGQodGhpcy5vblJlbmRlciwgdGhpcywgUElYSS5VUERBVEVfUFJJT1JJVFkuTE9XKTtcblxuICAgICAgICB0aGlzLnNldHVwVHJhbnNsYXRpb25zKCk7XG5cbiAgICAgICAgdGhpcy51aVJlc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblJlbmRlcigpO1xuICAgIH1cblxuICAgIHNldHVwVHJhbnNsYXRpb25zKCkge1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uc1tQQVJFTlRfTEFZRVJfVFlQRV0gPSAnZm9yZWdyb3VuZCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVpUmVzRGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy51aVJlc0RpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGhvc3RIaWRkZW4gPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KEhPU1RfSElEREVOX1RZUEUpO1xuXG4gICAgICAgIHRoaXMuZWNzLmFkZFJlc291cmNlKHtcbiAgICAgICAgICAgIHR5cGU6IFNFTEVDVElPTl9VSV9EQVRBX1RZUEUsXG4gICAgICAgICAgICBzZWxlY3RlZEVudGl0aWVzOiBbLi4udGhpcy5zZWxlY3RlZEVudGl0aWVzXSxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IHRoaXMuZ2V0Q29tbW9uQ29tcG9uZW50cygpLFxuICAgICAgICAgICAgaGlkZGVuOiBob3N0SGlkZGVuICE9PSB1bmRlZmluZWQgJiYgaG9zdEhpZGRlbi5lbnRpdGllcy5zaXplID09PSB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZSxcbiAgICAgICAgICAgIGFkZGFibGU6IHRoaXMuZ2V0QWRkYWJsZUNvbXBvbmVudHMoKSxcbiAgICAgICAgICAgIF9zYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgfSBhcyBTZWxlY3Rpb25VaURhdGEsICd1cGRhdGUnKTtcbiAgICB9XG5cbiAgICB1cGRhdGVVaSgpIHtcbiAgICAgICAgdGhpcy51aVJlc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjYW5TZWxlY3QoZW50aXR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZWNzLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugd2FsbHMgbm90IHNlbGVjdGFibGUgdW5sZXNzIGEga25vd24gZG9vciBpcyBwcmVzZW50LCB0aGlzXG4gICAgICAgIC8vIHByZXZlbnRzIHBsYXllcnMgZnJvbSBicnV0ZWZvcmNpbmcgd2FsbCBzdHJ1Y3R1cmVzIHRvIGZpbmQgZG9vcnNcbiAgICAgICAgLy8gVE9ETzogb3RoZXIgb3B0aW9uczogbWVyZ2UgYWRpYWNlbnQgd2FsbHMgd2hlbiBwb3NzaWJsZVxuICAgICAgICBsZXQgd2FsbEMgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBXQUxMX1RZUEUpO1xuICAgICAgICBpZiAod2FsbEMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGRvb3IgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBET09SX1RZUEUpO1xuICAgICAgICAgICAgcmV0dXJuIGRvb3IgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUcmFuc2xhdGluZykgdGhpcy50cmFuc2xhdGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVaSgpXG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdCgnc2VsZWN0aW9uX3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Db21wb25lbnRBZGQoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGNvbXBvbmVudC5lbnRpdHkpKSByZXR1cm47XG4gICAgICAgIGlmICghdGhpcy5jYW5TZWxlY3QoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2NvbXBvbmVudC5lbnRpdHldKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlRGF0YShjb21wb25lbnQudHlwZSkuZW50aXRpZXMuYWRkKGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgb25Db21wb25lbnRVcGRhdGUoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5TZWxlY3QoY29tcG9uZW50LmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0aWVzKFtjb21wb25lbnQuZW50aXR5XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXBvbmVudDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhjb21wb25lbnQuZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YUJ5VHlwZS5nZXQoY29tcG9uZW50LnR5cGUpITtcbiAgICAgICAgZGF0YS5lbnRpdGllcy5kZWxldGUoY29tcG9uZW50KTtcbiAgICAgICAgaWYgKGRhdGEuZW50aXRpZXMuc2l6ZSA9PT0gMCkgdGhpcy5kYXRhQnlUeXBlLmRlbGV0ZShjb21wb25lbnQudHlwZSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdChjb21wb25lbnQuZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbY29tcG9uZW50LmVudGl0eV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eURlc3Bhd24oZW50aXR5OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGVudGl0eSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhbZW50aXR5XSk7XG4gICAgfVxuXG4gICAgY2xlYXIoY2FsbExpc3RlbmVyczogYm9vbGVhbiA9IHRydWUsIHVwZGF0ZTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKGNhbGxMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkIG9mIHRoaXMuc2VsZWN0ZWRFbnRpdGllcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fZW5kJywgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdGllcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmRhdGFCeVR5cGUuY2xlYXIoKTtcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldE9ubHlFbnRpdHkoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNsZWFyKHRydWUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5hZGRFbnRpdGllcyhbaWRdKTtcbiAgICB9XG5cbiAgICBzZXRPbmx5RW50aXRpZXMoaWRzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgaWRTZXQgPSBuZXcgU2V0KGlkcyk7XG5cbiAgICAgICAgbGV0IHJlbW92ZUlkcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIHRoaXMuc2VsZWN0ZWRFbnRpdGllcykge1xuICAgICAgICAgICAgaWYgKCFpZFNldC5oYXMoaWQpKSByZW1vdmVJZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVFbnRpdGllcyhyZW1vdmVJZHMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5hZGRFbnRpdGllcyhpZHMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB0b2dnbGVFbnRpdGllcyhpZHM6IG51bWJlcltdLCB1cGRhdGU6IGJvb2xlYW49dHJ1ZSk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRW50aXRpZXMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXRpZXMoW2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVudGl0aWVzKFtpZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlKSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGFkZEVudGl0aWVzKGlkczogbnVtYmVyW10sIHVwZGF0ZTogYm9vbGVhbj10cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUcnlpbmcgdG8gYWRkIHVuZGVmaW5lZCBlbnRpdHlcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLmhhcyhpZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdChpZCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRW50aXRpZXMuYWRkKGlkKTtcblxuICAgICAgICAgICAgbGV0IGNvbXBzID0gdGhpcy5lY3MuZ2V0QWxsQ29tcG9uZW50cyhpZCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPckNyZWF0ZURhdGEoYy50eXBlKS5lbnRpdGllcy5hZGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdCgnc2VsZWN0aW9uX2JlZ2luJywgaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUgJiYgY291bnQgIT09IDApIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRW50aXRpZXMoaWRzOiBudW1iZXJbXSwgdXBkYXRlOiBib29sZWFuPXRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoaWQpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRW50aXRpZXMuZGVsZXRlKGlkKVxuICAgICAgICAgICAgbGV0IGNvbXBzID0gdGhpcy5lY3MuZ2V0QWxsQ29tcG9uZW50cyhpZCk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNvbXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KGMudHlwZSkhO1xuICAgICAgICAgICAgICAgIGRhdGEuZW50aXRpZXMuZGVsZXRlKGMpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVudGl0aWVzLnNpemUgPT09IDApIHRoaXMuZGF0YUJ5VHlwZS5kZWxldGUoYy50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KCdzZWxlY3Rpb25fZW5kJywgaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUgJiYgY291bnQgIT09IDApIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWRCeVR5cGUodHlwZTogc3RyaW5nKTogSXRlcmFibGU8Q29tcG9uZW50PiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFtdO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRpYWxDb21wb25lbnQodHlwZTogc3RyaW5nKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9jYW5EZWxldGU6IEVMSU1JTkFCTEVfVFlQRVMuaW5kZXhPZih0eXBlKSA+PSAwLFxuICAgICAgICAgICAgX2lzRnVsbHNjcmVlbjogRlVMTFNDUkVFTkFCTEVfVFlQRVMuaW5kZXhPZih0eXBlKSA+PSAwID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRUcmFuc2xhdGlvbnMoY21wczogQ29tcG9uZW50W10pOiBDb21wb25lbnRbXSB7XG4gICAgICAgIGZvciAobGV0IGNtcCBvZiBjbXBzKSB7XG4gICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLnRyYW5zbGF0aW9uc1tjbXAudHlwZV07XG4gICAgICAgICAgICBpZiAodHJhbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRyYW5zID0gY21wLnR5cGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIChjbXAgYXMgYW55KS50eXBlTmFtZSA9IHRyYW5zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbXBzO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RvcmFnZVByZWRpY2F0ZShzdG9yYWdlOiBFY3NTdG9yYWdlPENvbXBvbmVudD4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHN0b3JhZ2UudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gc3RvcmFnZS5zYXZlICYmIHN0b3JhZ2Uuc3luYztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNpbmdsZUNvbXBvbmVudHMoKTogQ29tcG9uZW50W10ge1xuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PENvbXBvbmVudD4oKTtcbiAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMuc2VsZWN0ZWRFbnRpdGllcy52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZSBvZiB0aGlzLmVjcy5zdG9yYWdlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3JhZ2VQcmVkaWNhdGUoc3RvcmFnZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgY29tcHMgPSBzdG9yYWdlLmdldENvbXBvbmVudHMoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgYyA9XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goY29tcG9uZW50Q2xvbmUocmVtb3ZlUHJpdmF0ZSh0aGlzLmluaXRpYWxDb21wb25lbnQoc3RvcmFnZS50eXBlKSwgY29tcCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZFRyYW5zbGF0aW9ucyhyZXMpO1xuICAgIH1cblxuICAgIGdldENvbW1vbkNvbXBvbmVudHMoKTogQ29tcG9uZW50W10ge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVudGl0aWVzLnNpemUgPT09IDApIHJldHVybiBbXTtcblxuICAgICAgICBsZXQgc2VsQ291bnQgPSB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZTtcblxuICAgICAgICBpZiAoc2VsQ291bnQgPT09IDEpIHJldHVybiB0aGlzLmdldFNpbmdsZUNvbXBvbmVudHMoKTtcbiAgICAgICAgbGV0IGNvbW1vblR5cGVzID0gbmV3IEFycmF5PEVjc1N0b3JhZ2U8Q29tcG9uZW50Pj4oKTtcblxuICAgICAgICBmb3IgKGxldCBzdG8gb2YgdGhpcy5lY3Muc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdG9yYWdlUHJlZGljYXRlKHN0bykpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gc3RvLnR5cGU7XG5cbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGlmIChkYXRhICE9IHVuZGVmaW5lZCAmJiBkYXRhLmVudGl0aWVzLnNpemUgPT09IHNlbENvdW50ICYmIE1VTFRJX1RZUEVTLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29tbW9uVHlwZXMucHVzaChzdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9IG5ldyBBcnJheTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgc3RvIG9mIGNvbW1vblR5cGVzKSB7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIHRoaXMuc2VsZWN0ZWRFbnRpdGllcykge1xuICAgICAgICAgICAgICAgIGxldCBjb21wcyA9IHN0by5nZXRDb21wb25lbnRzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29tcCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHJlbW92ZVByaXZhdGUodGhpcy5pbml0aWFsQ29tcG9uZW50KHN0by50eXBlKSwgY29tcCk7Ly8gY29weVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmlGaWx0ZXJPYmooY29tcG9uZW50LCBjb21wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5wdXNoKGNvbXBvbmVudENsb25lKGNvbXBvbmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkVHJhbnNsYXRpb25zKHJlcyk7XG4gICAgfVxuXG4gICAgZ2V0QWRkYWJsZUNvbXBvbmVudHMoKTogQXJyYXk8QWRkQ29tcG9uZW50PiB7XG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8QWRkQ29tcG9uZW50PigpO1xuXG4gICAgICAgIHJlcy5wdXNoKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IE5BTUVfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTmFtZSdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgIHR5cGU6IE5PVEVfVFlQRSxcbiAgICAgICAgICAgICAgIG5hbWU6ICdOb3RlJ1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghdGhpcy5oYXNDb21wb25lbnRUeXBlKFBBUkVOVF9MQVlFUl9UWVBFKSkge1xuICAgICAgICAgICAgLy8gVE9ETzogbGF5ZXJzXG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUEFSRU5UX0xBWUVSX1RZUEUsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0ZvcmVncm91bmQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZShQSU5fVFlQRSkgJiYgISh0aGlzLmhhc0NvbXBvbmVudFR5cGUoTElHSFRfVFlQRSkgfHwgdGhpcy5oYXNDb21wb25lbnRUeXBlKFBMQVlFUl9UWVBFKSkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBMSUdIVF9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMaWdodCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQTEFZRVJfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUGxheWVyJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzRXZlcnlvbmVUeXBlKFdBTExfVFlQRSkgJiYgIXRoaXMuaGFzQ29tcG9uZW50VHlwZShET09SX1RZUEUpKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogRE9PUl9UWVBFLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiRG9vclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V2ZXJ5b25lVHlwZShQUk9QX1RZUEUpICYmICF0aGlzLmhhc0NvbXBvbmVudFR5cGUoUFJPUF9URUxFUE9SVF9UWVBFKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFBST1BfVEVMRVBPUlRfVFlQRSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlRlbGVwb3J0ZXJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzZXRQcm9wZXJ0eShlbnRpdGllczogbnVtYmVyW10sIHR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIHByb3BlcnR5VmFsdWU6IGFueSwgbXVsdGlJZD86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodHlwZSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIG1hbmFnZW1lbnRcbiAgICAgICAgICAgIHN3aXRjaCAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaGlkZGVuJzoge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY21wID0gdGhpcy5lY3MuZ2V0Q29tcG9uZW50KGVudGl0eSwgSE9TVF9ISURERU5fVFlQRSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSE9TVF9ISURERU5fVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lY3MucmVtb3ZlQ29tcG9uZW50KGNtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSE9TVF9ISURERU5fVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiY2VkaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZCwgcmVtb3ZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdDogW10sXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgQ29tcG9uZW50RWRpdENvbW1hbmQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9sb2dcIiwgY21kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbLi4uZW50aXRpZXNdLFxuICAgICAgICAgICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9sb2dcIiwgY21kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZvcmdldCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gY29uZmlybShcIkRvIHlvdSB3YW50IHRoZSByb2xlcGxheWVycyB0byBmb3JnZXQgXCIgKyB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZSArIFwiIGVudGl0aWVzP1xcblRoaXMgY2Fubm90IGJlIHVuZG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdENvbW1hbmQodGhpcy5lY3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnZXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvOiB7IG5hbWU6ICdmb3JnZXQnLCBhcmdzOiBbeyBlbnRpdGllczogWy4uLmVudGl0aWVzXSB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZG86IHsgbmFtZTogJycsIGFyZ3M6IFtdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIEV2ZW50Q29tbWFuZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZENvbXBvbmVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXA6IENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5BTUVfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBOQU1FX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aUlkOiBnZW5lcmF0ZVJhbmRvbUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBOYW1lQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOT1RFX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTk9URV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlJZDogZ2VuZXJhdGVSYW5kb21JZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTm90ZUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTElHSFRfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBMSUdIVF9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFBMQVlFUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBMQVlFUl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWdodFZpc2lvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIFBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRE9PUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IERPT1JfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9vclR5cGU6IERvb3JUeXBlLk5PUk1BTF9MRUZULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIERvb3JDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFBBUkVOVF9MQVlFUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogZmluZEZvcmVncm91bmQodGhpcy5lY3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUGFyZW50TGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFBST1BfVEVMRVBPUlRfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQUk9QX1RFTEVQT1JUX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFByb3A6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUHJvcFRlbGVwb3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgdW5rbm93biBjb21wb25lbnQ6ICcgKyBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4uZW50aXRpZXNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQucHVzaChPYmplY3QuYXNzaWduKHsgZW50aXR5IH0sIGNvbXApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNvbXBvbmVudEVkaXRDb21tYW5kKGFkZCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlQ29tcG9uZW50JzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgWy4uLmVudGl0aWVzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmVjcy5nZXRDb21wb25lbnQoZW50aXR5LCBwcm9wZXJ0eVZhbHVlLCBtdWx0aUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbXAudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGNvbXAuZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IG11bHRpSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIE11bHRpQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0gY29tcG9uZW50RWRpdENvbW1hbmQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHJlbW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWNzLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9sb2dcIiwgY21kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBzcGVjaWFsIGV2ZW50OiBcIiArIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAvLyBFdmVudCBjYWxsICh5ZWFoIEkga25vdyB0aGlzIGlzIHVnbHkpIFRPRE8gcGxlYXNlIG5leHQgbWUgY2xlYW4gaXQgdXBcbiAgICAgICAgICAgIC8vIFRPRE86IGNvbW1hbmQgbG9nXG4gICAgICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUsIG11bHRpSWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVkaXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgY2hhbmdlcyA9IHt9IGFzIGFueTtcbiAgICAgICAgICAgIGNoYW5nZXNbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIG11bHRpSWQsXG4gICAgICAgICAgICAgICAgY2hhbmdlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0LFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICB0aGlzLmVjcy5ldmVudHMuZW1pdChcImNvbW1hbmRfbG9nXCIsIGNtZCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbW92ZUFsbChkaWZmWDogbnVtYmVyLCBkaWZmWTogbnVtYmVyLCBlbnRpdGllczogSXRlcmFibGU8bnVtYmVyPikge1xuICAgICAgICBsZXQgZWRpdCA9IFtdO1xuXG4gICAgICAgIGxldCBwb3NTdG8gPSB0aGlzLmVjcy5nZXRTdG9yYWdlKFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0by5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGVkaXQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgZGlmZlgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgZGlmZlksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNtZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjZWRpdCcsXG4gICAgICAgICAgICBlZGl0LFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAvLyBwYXJ0aWFsID0gaXNUcmFuc2xhdGluZyAoYW5kIGlnbm9yZSB0aGUgcmVzdWx0cylcbiAgICAgICAgdGhpcy5lY3MuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9MT0csIGNtZCwgdW5kZWZpbmVkLCB0aGlzLmlzVHJhbnNsYXRpbmcpO1xuICAgICAgICBpZiAodGhpcy5pc1RyYW5zbGF0aW5nKSB0aGlzLnRyYW5zbGF0ZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0T3JDcmVhdGVEYXRhKHR5cGU6IHN0cmluZyk6IFR5cGVEYXRhIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBuZXcgU2V0PENvbXBvbmVudD4oKSxcbiAgICAgICAgICAgIH0gYXMgVHlwZURhdGE7XG4gICAgICAgICAgICB0aGlzLmRhdGFCeVR5cGUuc2V0KHR5cGUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGhhc0NvbXBvbmVudFR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcy5zaXplID4gMDtcbiAgICB9XG5cbiAgICBoYXNFdmVyeW9uZVR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhQnlUeXBlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5lbnRpdGllcy5zaXplID09PSB0aGlzLnNlbGVjdGVkRW50aXRpZXMuc2l6ZTtcbiAgICB9XG5cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZSh0YXJnZXQ6IGFueSwgZmlsdGVyOiBhbnkpOiBhbnkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBmaWx0ZXJbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGJpRmlsdGVyT2JqKHRhcmdldDogYW55LCBmaWx0ZXI6IGFueSk6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAodGFyZ2V0W25hbWVdICE9PSBmaWx0ZXJbbmFtZV0pIHtcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBuYW1lIGluIHRhcmdldCkge1xuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGZpbHRlcltuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uLy4uL3N5c3RlbVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uLy4uL1BJWElcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuZXhwb3J0IGNvbnN0IFRFWFRfVFlQRSA9ICd0ZXh0JztcbmV4cG9ydCB0eXBlIFRFWFRfVFlQRSA9IHR5cGVvZiBURVhUX1RZUEU7XG5leHBvcnQgY2xhc3MgVGV4dFN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgbmFtZSA9IFRFWFRfVFlQRTtcbiAgICBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFXSBhcyBzdHJpbmdbXTtcblxuICAgIHByaXZhdGUgd29ybGQ6IFdvcmxkO1xuICAgIHRleHRMYXllcjogUElYSS5kaXNwbGF5LkxheWVyO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy50ZXh0TGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLnRleHRMYXllci56SW5kZXggPSBMYXllck9yZGVyLlRFWFQ7XG4gICAgICAgIHRoaXMudGV4dExheWVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGV4dExheWVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICBsZXQgYm9hcmRTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBib2FyZFN5cy5yb290LmFkZENoaWxkKHRoaXMudGV4dExheWVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRleHRMYXllci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgUElYSV9CT0FSRF9UWVBFLCBQb2ludGVyRG93bkV2ZW50LFxufSBmcm9tIFwiLi9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRX0gZnJvbSBcIi4vc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7RmlsdGVyZWRQYW5QYXJ0LCBJbnRlcmFjdFBhcnQsIFNlbGVjdFBhcnR9IGZyb20gXCIuLi8uLi90b29scy9pbnNwZWN0XCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi8uLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtNZWFzdXJlVG9vbFBhcnR9IGZyb20gXCIuLi8uLi90b29scy9tZWFzdXJlXCI7XG5pbXBvcnQgeyBLZXlib2FyZFJlc291cmNlLCBLRVlCT0FSRF9UWVBFIH0gZnJvbSBcIi4va2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyLCB7IFBSSU9SSVRZX0RJU0FCTEVEIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgICBpbml0aWFsaXplKGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcik6IHZvaWQ7XG4gICAgZGVzdHJveSgpOiB2b2lkO1xuXG4gICAgb25FbmFibGUoKTogdm9pZDtcbiAgICBvbkRpc2FibGUoKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gICAgdHlwZTogVE9PTF9UWVBFO1xuICAgIF9zYXZlOiB0cnVlO1xuICAgIF9zeW5jOiBmYWxzZTtcblxuICAgIHRvb2w/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBUT09MX1RZUEUgPSAndG9vbCc7XG5leHBvcnQgdHlwZSBUT09MX1RZUEUgPSB0eXBlb2YgVE9PTF9UWVBFO1xuZXhwb3J0IGNsYXNzIFRvb2xTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUT09MX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1NFTEVDVElPTl9UWVBFXTtcbiAgICByZWFkb25seSBvcHRpb25hbERlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIEtFWUJPQVJEX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc3ViRXZlbnRzID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKTtcblxuICAgIHN0YW5kYXJkVG9vbDogVG9vbCA9IFRvb2wuSU5TUEVDVDtcbiAgICBwYXJ0cyA9IG5ldyBNYXA8c3RyaW5nLCBUb29sUGFydD4oKTtcbiAgICB0b29scyA9IG5ldyBNYXA8c3RyaW5nLCBBcnJheTxzdHJpbmc+PigpO1xuICAgIGN1cnJlbnRUb29sPzogc3RyaW5nO1xuICAgIGN1cnJlbnRQYXJ0cyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh7XG4gICAgICAgICAgICB0eXBlOiBUT09MX1RZUEUsXG4gICAgICAgICAgICBfc2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIF9zeW5jOiBmYWxzZSxcblxuICAgICAgICAgICAgdG9vbDogdW5kZWZpbmVkLFxuICAgICAgICB9IGFzIFRvb2xSZXNvdXJjZSk7XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gd29ybGQuZXZlbnRzO1xuICAgICAgICBldmVudHMub24oJ3Jlc291cmNlX2VkaXRlZCcsIHRoaXMub25SZXNvdXJjZUVkaXRlZCwgdGhpcyk7XG5cbiAgICAgICAgY29uc3Qga2V5Ym9hcmQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEtFWUJPQVJEX1RZUEUpIGFzIEtleWJvYXJkUmVzb3VyY2UgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5hZGRUb29sUGFydChuZXcgRmlsdGVyZWRQYW5QYXJ0KHdvcmxkLCAnY2xpY2tfcGFuJywgKCkgPT4gdHJ1ZSkpO1xuICAgICAgICB0aGlzLmFkZFRvb2xQYXJ0KG5ldyBGaWx0ZXJlZFBhblBhcnQod29ybGQsICdzcGFjZV9wYW4nLCAoKSA9PiAhIWtleWJvYXJkPy5wcmVzc2VkS2V5cz8uaGFzKCcgJykpKTtcbiAgICAgICAgdGhpcy5hZGRUb29sUGFydChuZXcgRmlsdGVyZWRQYW5QYXJ0KHdvcmxkLCAndG91Y2hfcGFuJywgKHc6IFdvcmxkLCBlOiBQb2ludGVyRG93bkV2ZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGUub3JpZ2luYWxFdmVudCBhcyBQb2ludGVyRXZlbnQpLnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIgfHwgIXRoaXMud29ybGQuaXNNYXN0ZXI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5hZGRUb29sUGFydChuZXcgSW50ZXJhY3RQYXJ0KHdvcmxkKSk7XG4gICAgICAgIHRoaXMuYWRkVG9vbFBhcnQobmV3IFNlbGVjdFBhcnQod29ybGQpKTtcbiAgICAgICAgdGhpcy5hZGRUb29sUGFydChuZXcgTWVhc3VyZVRvb2xQYXJ0KHdvcmxkKSk7XG4gICAgICAgIHRoaXMuYWRkVG9vbFBhcnQobmV3IEZsYWdUb29sUGFydCgnY3JlYXRpb25fZmxhZycpKTtcblxuICAgICAgICB0aGlzLmFkZFRvb2woVG9vbC5JTlNQRUNULCBbJ3NwYWNlX3BhbicsICdzZWxlY3QnLCAndG91Y2hfcGFuJywgJ2ludGVyYWN0J10pXG4gICAgICAgIHRoaXMuYWRkVG9vbChUb29sLk1FQVNVUkUsIFsnc3BhY2VfcGFuJywgJ2ludGVyYWN0JywgJ21lYXN1cmUnXSlcbiAgICB9XG5cbiAgICBhZGRUb29sUGFydCh0b29sOiBUb29sUGFydCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBhcnRzLnNldCh0b29sLm5hbWUsIHRvb2wpO1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQWRkaW5nIHRvb2wgcGFydCBhZnRlciBpbml0aWFsaXphdGlvblwiKTtcbiAgICAgICAgICAgIHRvb2wuaW5pdGlhbGl6ZSh0aGlzLnN1YkV2ZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRUb29sKG5hbWU6IHN0cmluZywgcGFydHM6IEl0ZXJhYmxlPHN0cmluZz4pOiB2b2lkIHtcbiAgICAgICAgbGV0IHAgPSBbLi4ucGFydHNdO1xuICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIHApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJ0cy5oYXMocGFydCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3QgZmluZCBwYXJ0IFwiICsgcGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b29scy5zZXQobmFtZSwgcCk7XG4gICAgfVxuXG4gICAgYWRkVG9vbEFzQ29weShuYW1lOiBzdHJpbmcsIG9yaWdpbmFsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnRvb2xzLmdldChvcmlnaW5hbCk7XG4gICAgICAgIGlmIChwYXJ0cyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoXCJPcmlnaW5hbCB0b29sIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgdGhpcy50b29scy5zZXQobmFtZSwgcGFydHMpO1xuICAgIH1cblxuICAgIGlzVG9vbFBhcnRFbmFibGVkKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFydHMuaW5jbHVkZXMobmFtZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHI6IFJlc291cmNlLCBlZGl0ZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoci50eXBlID09PSBUT09MX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjdCA9IHIgYXMgVG9vbFJlc291cmNlO1xuXG4gICAgICAgICAgICBsZXQgdG9vbE5hbWUgPSBjdC50b29sIHx8IHRoaXMuc3RhbmRhcmRUb29sO1xuXG4gICAgICAgICAgICBsZXQgcGFydHMgPSB0aGlzLnRvb2xzLmdldCh0b29sTmFtZSk7XG4gICAgICAgICAgICBpZiAocGFydHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVucmVnaXN0ZXJlZCB0b29sIHJlcXVlc3RlZDogXCIgKyBjdC50b29sKTtcbiAgICAgICAgICAgICAgICB0b29sTmFtZSA9IHRoaXMuc3RhbmRhcmRUb29sO1xuICAgICAgICAgICAgICAgIHBhcnRzID0gdGhpcy50b29scy5nZXQodGhpcy5zdGFuZGFyZFRvb2wpITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRvb2xOYW1lID09PSB0aGlzLmN1cnJlbnRUb29sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoYW5naW5nIHRvb2wgZnJvbSBcIiArICh0aGlzLmN1cnJlbnRUb29sIHx8ICdub25lJykgICsgXCIgdG8gXCIgKyB0b29sTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sID0gdG9vbE5hbWU7XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgYWxsIG9sZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiB0aGlzLnBhcnRzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkRW5hYmxlZCA9IHRoaXMuY3VycmVudFBhcnRzLmluY2x1ZGVzKHgubmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RW5hYmxlID0gcGFydHMuaW5jbHVkZXMoeC5uYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmIChvbGRFbmFibGVkICYmICFuZXdFbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgeC5vbkRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFbmFibGUgYWxsIG5ldyBwYXJ0c1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiB0aGlzLnBhcnRzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkRW5hYmxlZCA9IHRoaXMuY3VycmVudFBhcnRzLmluY2x1ZGVzKHgubmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RW5hYmxlID0gcGFydHMuaW5jbHVkZXMoeC5uYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmICghb2xkRW5hYmxlZCAmJiBuZXdFbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgeC5vbkVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhcnRzID0gcGFydHM7XG4gICAgICAgICAgICAvLyBSZW9yZGVyIGV2ZW50c1xuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBwYXJ0cy5tYXAoKHgpID0+IHRoaXMucGFydHMuZ2V0KHgpKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICB0aGlzLnN1YkV2ZW50cy5yZW9yZGVyT2JqZWN0cyhvcmRlciwgUFJJT1JJVFlfRElTQUJMRUQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5hZGRDaGlsZCh0aGlzLnN1YkV2ZW50cyk7XG4gICAgICAgIGZvciAobGV0IHBhcnQgb2YgdGhpcy5wYXJ0cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcGFydC5pbml0aWFsaXplKHRoaXMuc3ViRXZlbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUb29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgICAgIHRvb2w6IHRoaXMuc3RhbmRhcmRUb29sLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIHRoaXMucGFydHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHBhcnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLnJlbW92ZUNoaWxkKHRoaXMuc3ViRXZlbnRzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbGFnVG9vbFBhcnQgaW1wbGVtZW50cyBUb29sUGFydCB7XG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBpbml0aWFsaXplKGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcik6IHZvaWQge1xuICAgIH1cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnQsIFZpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uLy4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7YXJyYXlSZW1vdmVFbGVtfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9hcnJheVwiO1xuaW1wb3J0IHtcbiAgICBJTlRFUkFDVElPTl9UWVBFLFxuICAgIEludGVyYWN0aW9uQ29tcG9uZW50LFxuICAgIEludGVyYWN0aW9uU3lzdGVtLFxuICAgIHNoYXBlQ2lyY2xlLFxuICAgIHNoYXBlSW50ZXJzZWN0LFxuICAgIHNoYXBlUG9seWdvbixcbiAgICBTaGFwZVR5cGUsXG4gICAgc2hhcGVUb0FhYmJcbn0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCB7R1JJRF9UWVBFfSBmcm9tIFwiLi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtHcmlkUmVzb3VyY2UsIFJlc291cmNlfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5cblxuZXhwb3J0IGNvbnN0IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSA9ICd2aXNpYmlsaXR5X2F3YXJlJztcbmV4cG9ydCB0eXBlIFZJU0lCSUxJVFlfQVdBUkVfVFlQRSA9ICd2aXNpYmlsaXR5X2F3YXJlJztcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBWSVNJQklMSVRZX0FXQVJFX1RZUEU7XG4gICAgdmlzaWJsZUJ5OiBudW1iZXJbXTtcbiAgICBpc1dhbGw6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQoaXNXYWxsOiBib29sZWFuID0gZmFsc2UpOiBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSxcbiAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgdmlzaWJsZUJ5OiBbXSxcbiAgICAgICAgaXNXYWxsLFxuICAgIH0gYXMgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBWaXNpYmlsaXR5QXdhcmVTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBWSVNJQklMSVRZX0FXQVJFX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1ZJU0lCSUxJVFlfVFlQRSwgSU5URVJBQ1RJT05fVFlQRV07XG5cbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIHZpc2liaWxpdHlTeXM6IFZpc2liaWxpdHlTeXN0ZW07XG4gICAgcHJpdmF0ZSBpbnRlcmFjdGlvblN5czogSW50ZXJhY3Rpb25TeXN0ZW07XG5cbiAgICBwcml2YXRlIGdyaWRTaXplOiBudW1iZXI7XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50PihWSVNJQklMSVRZX0FXQVJFX1RZUEUsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudHM6XG4gICAgICogYXdhcmVfdXBkYXRlKGNvbXBvbmVudCwgYWRkZWQsIHJlbW92ZWQpXG4gICAgICogICBDYWxsZWQgd2hlbiBhIFZpc2liaWxpdHlBd2FyZSBlbnRpdHkgaXMgdXBkYXRlZFxuICAgICAqICAgd2h5IGNhbid0IHdlIGRvIHRoaXMgd2l0aCBhIG5vcm1hbCBjb21wb25lbnRfZWRpdCBldmVudD9cbiAgICAgKiAgIEl0J3MgZWFzaWVyIG5vdCB0byBidWlsZCBjb21wb25lbnQgZGlmZnMuXG4gICAgICogICBJZiB5b3Ugd2FudCB0byB0cmFjayBvbGQgdmFsdWVzIGRvIGl0IG9uIHlvdXIgb3duLlxuICAgICAqL1xuICAgIGV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIHRoaXMudmlzaWJpbGl0eVN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5U3lzdGVtO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uU3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZSA/PyBTVEFOREFSRF9HUklEX09QVElPTlMpLnNpemU7XG5cbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdmlzaWJpbGl0eUNoYW5nZSh2aWV3ZXI6IFZpc2liaWxpdHlDb21wb25lbnQsIHBvbHlnb246IG51bWJlcltdIHwgdW5kZWZpbmVkLCByYW5nZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHJhbmdlICo9IHRoaXMuZ3JpZFNpemU7XG4gICAgICAgIGlmIChwb2x5Z29uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIFBsYXllciB2aXNpYmlsaXR5IG51bGxcbiAgICAgICAgICAgIGxldCBvbGRDYW5TZWUgPSB2aWV3ZXIuX2NhblNlZTtcbiAgICAgICAgICAgIHZpZXdlci5fY2FuU2VlID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCB4IG9mIG9sZENhblNlZSkge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHgpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2xkQ2FuU2VlID0gdmlld2VyLl9jYW5TZWU7XG4gICAgICAgIHZpZXdlci5fY2FuU2VlID0gW107XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCBpbnRlclN0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPEludGVyYWN0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgbGV0IHZpZXdlclBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpZXdlci5lbnRpdHkpITtcblxuICAgICAgICBsZXQgdmlld2VyUG9seSA9IHNoYXBlUG9seWdvbihwb2x5Z29uKTtcbiAgICAgICAgbGV0IHZpZXdlckNpcmNsZSA9IHNoYXBlQ2lyY2xlKHZpZXdlclBvcywgcmFuZ2UpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIG9sZCBhd2FyZXMgY2FuIHN0aWxsIGJlIHNlZW5cbiAgICAgICAgZm9yIChsZXQgaSBvZiBvbGRDYW5TZWUpIHtcbiAgICAgICAgICAgIGxldCBzaGFwZSA9IGludGVyU3RvcmFnZS5nZXRDb21wb25lbnQoaSkhLnNoYXBlO1xuXG4gICAgICAgICAgICBpZiAoc2hhcGVJbnRlcnNlY3Qodmlld2VyUG9seSwgc2hhcGUpICYmIHNoYXBlSW50ZXJzZWN0KHZpZXdlckNpcmNsZSwgc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgdmlld2VyLl9jYW5TZWUucHVzaChpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoaSkhO1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gcmVtb3ZlIHRhcmdldC5lbnRpdHkgZnJvbSBwbGF5ZXIuX2NhblNlZSBhcyBpdCdzIGFscmVhZHkgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW10sIFt2aWV3ZXIuZW50aXR5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXRlciA9IHRoaXMuaW50ZXJhY3Rpb25TeXMucXVlcnkodmlld2VyUG9seSwgYyA9PiB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gIHRhcmdldCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldC5pc1dhbGwgIT09IHRydWUgJiYgb2xkQ2FuU2VlLmluZGV4T2YoYy5lbnRpdHkpID09PSAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGUgb2YgaXRlcikge1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gaW50ZXJTdG9yYWdlLmdldENvbXBvbmVudChlLmVudGl0eSkhLnNoYXBlO1xuICAgICAgICAgICAgaWYgKCFzaGFwZUludGVyc2VjdCh2aWV3ZXJDaXJjbGUsIHNoYXBlKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUuZW50aXR5KSE7XG4gICAgICAgICAgICB2aWV3ZXIuX2NhblNlZS5wdXNoKGUuZW50aXR5KTtcbiAgICAgICAgICAgIHRhcmdldC52aXNpYmxlQnkucHVzaCh2aWV3ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2F3YXJlX3VwZGF0ZScsIHRhcmdldCwgW3ZpZXdlci5lbnRpdHldLCBbXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHZpc2libGVFbGVtZW50TW92ZShhd2FyZTogVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChhd2FyZS5pc1dhbGwgPT09IHRydWUpIHJldHVybjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcbiAgICAgICAgbGV0IHZpc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGF3YXJlLmVudGl0eSkhO1xuICAgICAgICBsZXQgc2hhcGUgPSAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoYXdhcmUuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudCkuc2hhcGU7XG5cbiAgICAgICAgbGV0IG9sZFZpc2libGVCeSA9IGF3YXJlLnZpc2libGVCeTtcbiAgICAgICAgYXdhcmUudmlzaWJsZUJ5ID0gW107XG5cbiAgICAgICAgbGV0IGFkZGVkID0gW107XG4gICAgICAgIGxldCByZW1vdmVkID0gW107XG5cbiAgICAgICAgLy8gU2VhcmNoIGZvciBuZXcgcGxheWVyc1xuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMudmlzaWJpbGl0eVN5cy5hYWJiVHJlZS5xdWVyeShBYWJiLmZyb21Qb2ludChwb3MpKSkge1xuICAgICAgICAgICAgbGV0IGVudGl0eSA9IHAudGFnIS5lbnRpdHk7XG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCB8fCBvbGRWaXNpYmxlQnkuaW5kZXhPZihlbnRpdHkpICE9PSAtMSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCBwcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcHZpcyA9IHZpc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSkhO1xuXG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBwdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgICAgIGlmICghc2hhcGVJbnRlcnNlY3Qoc2hhcGVDaXJjbGUocHBvcywgcmFuZ2UpLCBzaGFwZSkgfHwgIXNoYXBlSW50ZXJzZWN0KHNoYXBlLCBzaGFwZVBvbHlnb24ocC50YWc/LnBvbHlnb24hKSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2aXMuX2NhblNlZS5wdXNoKGF3YXJlLmVudGl0eSk7XG4gICAgICAgICAgICBhd2FyZS52aXNpYmxlQnkucHVzaCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGFkZGVkLnB1c2godmlzLmVudGl0eSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3Igb2xkIHBsYXllcnNcbiAgICAgICAgZm9yIChsZXQgcCBvZiBvbGRWaXNpYmxlQnkpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChwKSE7XG4gICAgICAgICAgICBsZXQgcHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHApITtcbiAgICAgICAgICAgIGxldCBwdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocCkhO1xuXG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBwdmlzLnJhbmdlICogdGhpcy5ncmlkU2l6ZTtcbiAgICAgICAgICAgIGlmIChzaGFwZUludGVyc2VjdChzaGFwZUNpcmNsZShwcG9zLCByYW5nZSksIHNoYXBlKSAmJiBzaGFwZUludGVyc2VjdChzaGFwZSwgc2hhcGVQb2x5Z29uKHB2aXMucG9seWdvbiEpKSkge1xuICAgICAgICAgICAgICAgIGF3YXJlLnZpc2libGVCeS5wdXNoKHApO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIHJlbW92ZSBlLl92aXNpYmxlQnkgYXMgaXQncyBhbHJlYWR5IGJlZW4gY2xlYXJlZFxuICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHZpcy5fY2FuU2VlLCBhd2FyZS5lbnRpdHkpO1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKHZpcy5lbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFkZGVkLmxlbmd0aCArIHJlbW92ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgYXdhcmUsIGFkZGVkLCByZW1vdmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25WaWV3QmxvY2tlckVkaXRlZCh2aWV3ZXI6IFZpc2liaWxpdHlDb21wb25lbnQsIG5ld1dhbGxzOiBudW1iZXJbXSwgb2xkV2FsbHM/OiBudW1iZXJbXSkge1xuICAgICAgICBvbGRXYWxscyA9IG9sZFdhbGxzIHx8IFtdO1xuICAgICAgICBpZiAobmV3V2FsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBQbGF5ZXIgdmlzaWJpbGl0eSBudWxsXG4gICAgICAgICAgICBmb3IgKGxldCB4IG9mIG9sZFdhbGxzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoeCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZUVsZW0odGFyZ2V0LnZpc2libGVCeSwgdmlld2VyLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbXSwgW3ZpZXdlci5lbnRpdHldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tbW9uV2FsbHMgPSBbXTtcblxuICAgICAgICAvLyBDaGVjayBpZiBvbGQgYXdhcmVzIGNhbiBzdGlsbCBiZSBzZWVuXG4gICAgICAgIGZvciAobGV0IGkgb2Ygb2xkV2FsbHMpIHtcbiAgICAgICAgICAgIGlmIChuZXdXYWxscy5pbmNsdWRlcyhpKSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ8ID1cIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbW1vbldhbGxzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGkpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgJVwiICsgaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCAtXCIgKyB0YXJnZXQuZW50aXR5KTtcblxuICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHRhcmdldC52aXNpYmxlQnksIHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbXSwgW3ZpZXdlci5lbnRpdHldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGUgb2YgbmV3V2FsbHMpIHtcbiAgICAgICAgICAgIGlmIChjb21tb25XYWxscy5pbmNsdWRlcyhlKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGUpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInwgXlwiICsgZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwifCArXCIgKyB0YXJnZXQuZW50aXR5KTtcblxuICAgICAgICAgICAgdGFyZ2V0LnZpc2libGVCeS5wdXNoKHZpZXdlci5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnYXdhcmVfdXBkYXRlJywgdGFyZ2V0LCBbdmlld2VyLmVudGl0eV0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudE1vdmUoY29tcCBhcyBWaXNpYmlsaXR5QXdhcmVDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcblxuICAgICAgICAgICAgaWYgKCdwb2x5Z29uJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlKHZpcywgdmlzLnBvbHlnb24sIHZpcy5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ19jYW5TZWVXYWxscycgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25WaWV3QmxvY2tlckVkaXRlZCh2aXMsIHZpcy5fY2FuU2VlV2FsbHMhLCBjaGFuZ2VkLl9jYW5TZWVXYWxscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQT1NJVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzQXdhcmUgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXNBd2FyZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRNb3ZlKHZpc0F3YXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGNvbXAgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZSh2aXMsIHVuZGVmaW5lZCwgMCk7XG4gICAgICAgICAgICB0aGlzLm9uVmlld0Jsb2NrZXJFZGl0ZWQodmlzLCBbXSwgdmlzLl9jYW5TZWVXYWxscyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBWSVNJQklMSVRZX0FXQVJFX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2YSA9IGNvbXAgYXMgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHZpc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD47XG4gICAgICAgICAgICBmb3IgKGxldCBwIG9mIHZhLnZpc2libGVCeSkge1xuICAgICAgICAgICAgICAgIGxldCB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChwKSE7XG4gICAgICAgICAgICAgICAgYXJyYXlSZW1vdmVFbGVtKHZpcy5fY2FuU2VlLCB2YS5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSAmJiAnc2l6ZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgbGV0IGdyaWQgPSByZXMgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcblxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgcmVhbGx5IGNhcmUsIHRoZSB2aXNpYmlsaXR5IHBvbHlnb25zIHdpbGwgY2hhbmdlIG9uIHRoZWlyIG93blxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFudWFsUmVjb21wdXRlV2FsbChlbnRpdHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkIHx8ICFjLmlzV2FsbCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5ld1dhbGxzOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGludGVyID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAoaW50ZXIgPT09IHVuZGVmaW5lZCB8fCBpbnRlci5zaGFwZS50eXBlICE9PSBTaGFwZVR5cGUuTElORSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBhYWJiID0gc2hhcGVUb0FhYmIoaW50ZXIuc2hhcGUpO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIFsuLi50aGlzLnZpc2liaWxpdHlTeXMuYWFiYlRyZWUucXVlcnkoYWFiYildKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gbm9kZS50YWchIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoY29tcC5fY2FuU2VlV2FsbHM/LmluY2x1ZGVzKGMuZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2goY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCByZW1vdmVkRWxlbWVudHMgPSBjLnZpc2libGVCeS5maWx0ZXIoeCA9PiAhbmV3V2FsbHMuaW5jbHVkZXMoeCkpO1xuICAgICAgICBjb25zdCBhZGRlZEVsZW1lbnRzID0gbmV3V2FsbHMuZmlsdGVyKHggPT4gIWMudmlzaWJsZUJ5LmluY2x1ZGVzKHgpKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdhd2FyZV91cGRhdGUnLCBjLCBhZGRlZEVsZW1lbnRzLCByZW1vdmVkRWxlbWVudHMpO1xuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7Q29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtEeW5hbWljVHJlZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2R5bmFtaWNUcmVlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L2xpbmVcIjtcbmltcG9ydCB7Y29tcHV0ZVZpZXdwb3J0fSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvdmlzaWJpbGl0eVBvbHlnb25cIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vLi4vc3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIElOVEVSQUNUSU9OX1RZUEUsXG4gICAgSW50ZXJhY3Rpb25Db21wb25lbnQsXG4gICAgSW50ZXJhY3Rpb25TeXN0ZW0sXG4gICAgTGluZVNoYXBlLFxuICAgIHNoYXBlQWFiYixcbiAgICBzaGFwZVRvQWFiYixcbiAgICBTaGFwZVR5cGVcbn0gZnJvbSBcIi4vaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4uL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uLy4uL3Jlc291cmNlXCI7XG5cblxuZXhwb3J0IGNvbnN0IFZJU0lCSUxJVFlfVFlQRSA9ICd2aXNpYmlsaXR5JztcbmV4cG9ydCB0eXBlIFZJU0lCSUxJVFlfVFlQRSA9ICd2aXNpYmlsaXR5JztcbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9UWVBFO1xuICAgIHJhbmdlOiBudW1iZXI7Ly8gSW4gZ3JpZHMgKGJ5IGRlZmF1bHQgMSBncmlkID0gMTI4IHBpeGVscylcbiAgICB0cmFja1dhbGxzOiBib29sZWFuO1xuICAgIHBvbHlnb24/OiBudW1iZXJbXTtcbiAgICBhYWJiPzogQWFiYjtcbiAgICBfYWFiYlRyZWVJZD86IG51bWJlcjtcbiAgICBfY2FuU2VlOiBudW1iZXJbXTsvLyBWaXNpYmlsaXR5IGF3YXJlIGNvbXBvbmVudHNcbiAgICBfY2FuU2VlV2FsbHM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFID0gJ3Zpc2liaWxpdHlfYmxvY2tlcic7XG5leHBvcnQgdHlwZSBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSA9ICd2aXNpYmlsaXR5X2Jsb2NrZXInO1xuZXhwb3J0IGludGVyZmFjZSBWaXNpYmlsaXR5QmxvY2tlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogVklTSUJJTElUWV9CTE9DS0VSX1RZUEU7XG59XG5cblxuLyoqXG4gKiBQbGVhc2UgZG9uJ3Qgc3RpY2sgYSB2aXNpYmlsaXR5IGNvbXBvbmVudCB0byBhbiBlbnRpdHkgd2l0aCBhIHdhbGwgY29tcG9uZW50IChvciB2aWNlLXZlcnNhKSxcbiAqIHRoZXkgZG9uJ3QgZ28gYWxvbmcgdG9nZXRoZXIgdG9vIG11Y2gsIGZvciBhIGxvdCBvZiByZWFzb25zLlxuICpcbiAqIFRoaXMgc3lzdGVtIHF1ZXJpZXMgZXZlcnkgZW50aXR5IHdpdGggYSBWaXNpYmlsaXR5Q29tcG9uZW50IGFuZCBrZWVwcyBpdCB1cGRhdGVkLCBieSB0aGF0IEkgbWVhbjpcbiAqIC0gUmVjb21wdXRlIHRoZSB2aXNpYmlsaXR5IHBvbHlnb24gd2hlbiB0aGUgcmFuZ2UgY2hhbmdlc1xuICogLSBSZWNvbXB1dGUgdGhlIHZpc2liaWxpdHkgcG9seWdvbiB3aGVuIHRoZSB3YWxscyBjaGFuZ2VcbiAqXG4gKiBMaXR0bGUgbm90ZSBvbiB2aXNpYmlsaXR5IHBvbHlnb24gYWxnb3JpdGhtczpcbiAqIEdlbmVyYWwgcG9seWdvbnMgYXJlIGEgbWVzcyB0byBkZWFsIHdpdGgsIGJ1dCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIGlzIGEgYml0IGVhc2llciB0aGFuIG1vc3QuXG4gKiBTaW5jZSB0aGVyZSBhcmUgbm8gcG9ydGFscyBub3IgbWlycm9ycyBpbiB0aGUgZ2FtZSAoeWV0ISkgZWFjaCBwb2ludCBpbiB0aGUgcG9seWdvbiBpcyB2aXNpYmxlIGZyb20gdGhlIGNlbnRlci5cbiAqIEhvdyBjYW4gdGhpcyBwcm9wZXJ0eSBoZWxwIGluIGFueSB3YXk/IExldCBtZSBtYWtlIGFuIGV4YW1wbGU6XG4gKiBXZSBjYW4gZWFzaWx5IGNvbXB1dGUgaWYgYSBwb2ludCBpcyBpbnNpZGUgb2YgdGhpcyBwb2x5Z29uIGJ5IGRvaW5nIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgYW5nbGVzLCBzbyB0aGUgYWxnb3JpdGhtXG4gKiBiZWNvbWVzIG9mIGNvbXBsZXhpdHkgTyhsb2cobikpIHdoZXJlIG4gYXJlIHRoZSBwb2x5Z29uIHBvaW50cy5cbiAqIEFub3RoZXIgcHJvcGVydHkgdGhhdCBJJ20gdXNpbmcgaXMgdGhhdCBhIHZpc2liaWxpdHkgcG9seWdvbiBpcyBtdWNoIGVhc2llciB0byB0cmlhbmd1bGF0ZSFcbiAqIEN1dCBvZmYgYWxsIHRob3NlIGVhciBjdXR0aW5nIGFsZ29yaXRobXMsIGp1c3QgbWFrZSB0cmlhbmdsZXMgc3RhcnRpbmcgZnJvbSB0aGUgY2VudGVyIVxuICovXG5leHBvcnQgY2xhc3MgVmlzaWJpbGl0eVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFZJU0lCSUxJVFlfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbSU5URVJBQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD4oVklTSUJJTElUWV9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuICAgIGJsb2NrZXJTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUJsb2NrZXI+KFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgaW50ZXJhY3Rpb25TeXN0ZW06IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIGdyaWRTaXplOiBudW1iZXI7XG4gICAgYWFiYlRyZWUgPSBuZXcgRHluYW1pY1RyZWU8VmlzaWJpbGl0eUNvbXBvbmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXN0ZW0gPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHRoaXMuZ3JpZFNpemUgPSAodGhpcy53b3JsZC5nZXRSZXNvdXJjZShHUklEX1RZUEUpIGFzIEdyaWRSZXNvdXJjZSA/PyBTVEFOREFSRF9HUklEX09QVElPTlMpLnNpemU7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuYmxvY2tlclN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9hZGQnLCB0aGlzLm9uQ29tcG9uZW50QWRkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZWQnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVRyZWVQb2x5Z29uKGM6IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMuX2FhYmJUcmVlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hYWJiVHJlZS5kZXN0cm95UHJveHkoYy5fYWFiYlRyZWVJZCk7XG4gICAgICAgICAgICBjLl9hYWJiVHJlZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUG9seWdvbihjOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIC8vIElnbm9yZSBpZiBpdCdzIGhpZGRlbi5cbiAgICAgICAgaWYgKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBIT1NUX0hJRERFTl9UWVBFKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFdlIHdpbGwgcmVjcmVhdGUgaXQgbGF0ZXIgKGlmIG5lY2Vzc2FyeSlcbiAgICAgICAgdGhpcy5yZW1vdmVUcmVlUG9seWdvbihjKTtcblxuICAgICAgICBpZiAoYy5yYW5nZSA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIGMudHlwZSwge1xuICAgICAgICAgICAgICAgIHBvbHlnb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwb2x5Z29uQWFiYjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGFhYmI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJhbmdlID0gYy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG5cbiAgICAgICAgbGV0IHZpZXdwb3J0ID0gbmV3IEFhYmIocG9zLnggLSByYW5nZSwgcG9zLnkgLSByYW5nZSwgcG9zLnggKyByYW5nZSwgcG9zLnkgKyByYW5nZSk7XG5cbiAgICAgICAgbGV0IGxpbmVzID0gbmV3IEFycmF5PExpbmU+KCk7XG4gICAgICAgIGxldCBibG9ja2VySWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcblxuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzdGVtLnF1ZXJ5KHNoYXBlQWFiYih2aWV3cG9ydCksIGMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgbGV0IHMgPSBlbnRyeS5zaGFwZTtcbiAgICAgICAgICAgIGlmIChzLnR5cGUgIT09IFNoYXBlVHlwZS5MSU5FKSB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgbGluZSBpcyBzdXBwb3J0ZWQgYXMgbGlnaHQgYmxvY2tlciBzaGFwZScpXG4gICAgICAgICAgICBsZXQgbGluZURhdGEgPSAocyBhcyBMaW5lU2hhcGUpLmRhdGE7XG4gICAgICAgICAgICAvLyBUT0RPOiBjaGVjayBpZiBlbnRpdHkgaXMgSU4gd2FsbC5cblxuICAgICAgICAgICAgbGluZXMucHVzaChsaW5lRGF0YSk7XG4gICAgICAgICAgICBibG9ja2VySWRzLnB1c2goZW50cnkuZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlZEJsb2NrZXJzO1xuICAgICAgICBpZiAoYy50cmFja1dhbGxzID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1c2VkQmxvY2tlcnMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlZEJsb2NrZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwb2x5Z29uID0gY29tcHV0ZVZpZXdwb3J0KGxpbmVzLCB2aWV3cG9ydCwgcG9zLCB1c2VkQmxvY2tlcnMpO1xuXG4gICAgICAgIC8vIFJlY3ljbGUgdGhlIHVudXNlZCB2aWV3cG9ydCBvYmplY3RcbiAgICAgICAgdmlld3BvcnQud3JhcFBvbHlnb24ocG9seWdvbik7XG5cbiAgICAgICAgaWYgKHVzZWRCbG9ja2VycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZWRCbG9ja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHVzZWRCbG9ja2Vyc1tpXSA9IGJsb2NrZXJJZHNbdXNlZEJsb2NrZXJzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgYy50eXBlLCB7XG4gICAgICAgICAgICBwb2x5Z29uLFxuICAgICAgICAgICAgYWFiYjogdmlld3BvcnQsXG4gICAgICAgICAgICBfY2FuU2VlV2FsbHM6IHVzZWRCbG9ja2VycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYy5fYWFiYlRyZWVJZCA9IHRoaXMuYWFiYlRyZWUuY3JlYXRlUHJveHkodmlld3BvcnQsIGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVjb21wdXRlQXJlYShhYWJiOiBBYWJiKSB7XG4gICAgICAgIGZvciAobGV0IG5vZGUgb2YgWy4uLnRoaXMuYWFiYlRyZWUucXVlcnkoYWFiYildKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24obm9kZS50YWchKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHYgPSBjIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICB2Ll9jYW5TZWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbih2KTtcbiAgICAgICAgfSBlbHNlIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgY21wID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGNtcC5zaGFwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSAmJiB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKChjIGFzIEludGVyYWN0aW9uQ29tcG9uZW50KS5zaGFwZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgLy8gQ29tcG9uZW50IGhpZGRlbiBpcyBsaWtlIGNvbXBvbmVudCBtaXNzaW5nLCB0aGV5IHdvbid0IGJlIGFibGUgdG8gc2VlIGEgdGhpbmdcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eSh2aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmxvID0gdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGJsbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWaXNpYmlsaXR5QmxvY2tlcihibG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47XG4gICAgICAgIGlmIChjLnR5cGUgPT09IFZJU0lCSUxJVFlfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCdyYW5nZScgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGxldCB2YyA9IGMgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmMucmFuZ2UpIHx8IHZjLnJhbmdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmMucmFuZ2UgPSA1MDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKGMgYXMgVmlzaWJpbGl0eUNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBQT1NJVElPTl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24odmlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBibGsgPSB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXIgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChibGsuZW50aXR5LElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihpbnRlci5zaGFwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gSU5URVJBQ1RJT05fVFlQRSAmJiAnc2hhcGUnIGluIGNoYW5nZXMgJiYgdGhpcy5ibG9ja2VyU3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpID0gYyBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVBcmVhKHNoYXBlVG9BYWJiKGkuc2hhcGUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmVkKGM6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoYy50eXBlID09PSBWSVNJQklMSVRZX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eShjIGFzIFZpc2liaWxpdHlDb21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGMudHlwZSA9PT0gVklTSUJJTElUWV9CTE9DS0VSX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJpbGl0eUJsb2NrZXIoYyBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBJTlRFUkFDVElPTl9UWVBFICYmIHRoaXMuYmxvY2tlclN0b3JhZ2UuZ2V0Q29tcG9uZW50KGMuZW50aXR5KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgaSA9IGMgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlQXJlYShzaGFwZVRvQWFiYihpLnNoYXBlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYy50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKSB7XG4gICAgICAgICAgICAvLyBXZWxjb21lIHRvIHRoZSB2aXNpYmxlIVxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKHZpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBibG8gPSB0aGlzLmJsb2NrZXJTdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY21wID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmIChjbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoY21wLnNoYXBlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSkge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSAmJiAnc2l6ZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgbGV0IGdyaWQgPSByZXMgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGV2ZXJ5dGhpbmcgaW4gdGhlIG5leHQgdGljayBzbyB0aGF0IGV2ZXJ5b25lIHNlZXMgdGhlIGNoYW5nZXMgZmlyc3RcbiAgICAgICAgICAgIFBJWEkuVGlja2VyLnNoYXJlZC5hZGRPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5Z29uKGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVWaXNpYmlsaXR5KGM6IFZpc2liaWxpdHlDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVUcmVlUG9seWdvbihjKTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIHtcbiAgICAgICAgICAgIHBvbHlnb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvbHlnb25BYWJiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhYWJiOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlVmlzaWJpbGl0eUJsb2NrZXIoYzogVmlzaWJpbGl0eUJsb2NrZXIpIHtcbiAgICAgICAgbGV0IGNtcCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKGNtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUFyZWEoc2hhcGVUb0FhYmIoY21wLnNoYXBlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG4iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge2xvYWRUZXh0dXJlfSBmcm9tIFwiLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtcbiAgICBFbGVtZW50VHlwZSxcbiAgICBFVkVOVF9SRU1FTUJFUl9CSVRfQllfQklZX01BU0tfVVBEQVRFLFxuICAgIEdSQVBISUNfVFlQRSxcbiAgICBHcmFwaGljQ29tcG9uZW50LFxuICAgIEltYWdlRWxlbWVudCxcbiAgICBJbWFnZVNjYWxlTW9kZSxcbiAgICBWaXNpYmlsaXR5VHlwZVxufSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge0JJR19TVE9SQUdFX1RZUEUsIEJpZ1N0b3JhZ2VJbmRleCwgQmlnU3RvcmFnZVN5c3RlbSwgQmlnRW50cnlGbGFnc30gZnJvbSBcIi4vYmFjay9iaWdTdG9yYWdlU3lzdGVtXCI7XG5pbXBvcnQgeyBOYW1lQXNMYWJlbENvbXBvbmVudCwgTmFtZUFzTGFiZWxTeXN0ZW0sIE5BTUVfQVNfTEFCRUxfVFlQRSB9IGZyb20gXCIuL2JhY2svbmFtZUFzTGFiZWxTeXN0ZW1cIjtcblxuZXhwb3J0IHR5cGUgQkFDS0dST1VORF9UWVBFID0gJ2JhY2tncm91bmRfaW1hZ2UnO1xuZXhwb3J0IGNvbnN0IEJBQ0tHUk9VTkRfSU1BR0VfVFlQRSA9ICdiYWNrZ3JvdW5kX2ltYWdlJztcblxuZXhwb3J0IGludGVyZmFjZSBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEJBQ0tHUk9VTkRfVFlQRTtcbiAgICBpbWFnZTogQmlnU3RvcmFnZUluZGV4PFVpbnQ4QXJyYXk+O1xuICAgIHZpc01hcDogQmlnU3RvcmFnZUluZGV4PFVpbnQ4QXJyYXk+IHwgdW5kZWZpbmVkO1xuICAgIGltYWdlVHlwZTogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kSW1hZ2VTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBCQUNLR1JPVU5EX0lNQUdFX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0dSQVBISUNfVFlQRSwgQklHX1NUT1JBR0VfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgc3RvcmFnZTogU2luZ2xlRWNzU3RvcmFnZTxCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYmlnU3RvcmFnZTogQmlnU3RvcmFnZVN5c3RlbTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuYmlnU3RvcmFnZSA9IHdvcmxkLnN5c3RlbXMuZ2V0KEJJR19TVE9SQUdFX1RZUEUpIGFzIEJpZ1N0b3JhZ2VTeXN0ZW07XG5cbiAgICAgICAgdGhpcy5zdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8QmFja2dyb3VuZEltYWdlQ29tcG9uZW50PihCQUNLR1JPVU5EX0lNQUdFX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X3JlbW92ZScsIHRoaXMub25Db21wb25lbnRSZW1vdmUsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy53b3JsZC5pc01hc3Rlcikge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oRVZFTlRfUkVNRU1CRVJfQklUX0JZX0JJWV9NQVNLX1VQREFURSwgdGhpcy5vblJlbWVtYmVyQkJCVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChjLnR5cGUgIT09IEJBQ0tHUk9VTkRfSU1BR0VfVFlQRSkgcmV0dXJuO1xuICAgICAgICBsZXQgYmtnSW1nID0gYyBhcyBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBia2dJbWcuaW1hZ2UgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoVWludDhBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihia2dJbWcuaW1hZ2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgdmVyc2lvbnMgZGlkIG5vdCBoYXZlIEJpZ1N0b3JhZ2VTeXN0ZW0sIGxldCdzIGZpeCB0aGF0XG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiQ29udmVydGluZyBiYWNrZ3JvdW5kIHRvIEJpZ1N0b3JhZ2UuLi5cIik7XG4gICAgICAgICAgICAgICAgYmtnSW1nLmltYWdlID0gdGhpcy5iaWdTdG9yYWdlLmNyZWF0ZShia2dJbWcuaW1hZ2UpLm11bHRpSWQ7XG4gICAgICAgICAgICAgICAgYmtnSW1nLnZpc01hcCA9IHRoaXMuYmlnU3RvcmFnZS5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgIGJrZ0ltZy52aXNNYXAsXG4gICAgICAgICAgICAgICAgICAgIEJpZ0VudHJ5RmxhZ3MuU0hBUkVEIHwgQmlnRW50cnlGbGFncy5SRUFET05MWVxuICAgICAgICAgICAgICAgICkubXVsdGlJZDtcblxuICAgICAgICAgICAgICAgIGRlbGV0ZSAoYmtnSW1nIGFzIGFueSlbJ3Zpc2liaWxpdHlNYXAnXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmtnSW1nLmltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGlzIGltYWdlIGhhcyBubyB0ZXh0dXJlLCBkZWxldGluZ1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yLCBjb3VsZCBub3QgY29udmVydCBia2dJbWFnZSEgUmVzZXR0aW5nXCIsIGJrZ0ltZy5pbWFnZSk7XG4gICAgICAgICAgICAgICAgYmtnSW1nLmltYWdlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW1hZ2UgPSB0aGlzLmJpZ1N0b3JhZ2UucmVxdWVzdFVzZTxVaW50OEFycmF5Pihia2dJbWcuaW1hZ2UpISEuZGF0YTtcbiAgICAgICAgaWYgKChpbWFnZSBhcyBhbnkpLmltYWdlICE9PSB1bmRlZmluZWQgfHwgaW1hZ2UuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gb2xkIHZlcnNpb24gb2YgYmFja2dyb3VuZCwgdW5zdXBwb3J0ZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZpbmcgZW1wdHkvdW5zdXBwb3J0ZWQgYmFja2dyb3VuZCBcIiArIGJrZ0ltZy5lbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5iaWdTdG9yYWdlLmRyb3BVc2UoYmtnSW1nLmVudGl0eSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmRlc3Bhd25FbnRpdHkoYmtnSW1nLmVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmlzTWFwOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYmtnSW1nLnZpc01hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2aXNNYXAgPSB0aGlzLmJpZ1N0b3JhZ2UucmVxdWVzdFVzZTxVaW50OEFycmF5Pihia2dJbWcudmlzTWFwKT8uZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZXg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ZXggPSBhd2FpdCBsb2FkVGV4dHVyZShpbWFnZSwgYmtnSW1nLmltYWdlVHlwZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBpbWFnZTogXCIsIGUpO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb21wb25lbnQoYyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBlbnRpdHk6IGMuZW50aXR5LFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFLFxuICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLkJBQ0tHUk9VTkQsXG4gICAgICAgICAgICAgICAgc2NhbGU6IEltYWdlU2NhbGVNb2RlLlJFQUwsXG4gICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSX0JJVF9CWV9CSVQsXG4gICAgICAgICAgICAgICAgdmlzTWFwLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHRleCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IHsgeDogMC41LCB5OiAwLjUgfSxcbiAgICAgICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIH0gYXMgSW1hZ2VFbGVtZW50LFxuICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBOQU1FX0FTX0xBQkVMX1RZUEUsXG4gICAgICAgICAgICBpbml0aWFsT2Zmc2V0OiB7IHg6IDAsIHk6IC10ZXguaGVpZ2h0IC8gMn1cbiAgICAgICAgfSBhcyBOYW1lQXNMYWJlbENvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSAhPT0gQkFDS0dST1VORF9JTUFHRV9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCBia2dJbWcgPSBjIGFzIEJhY2tncm91bmRJbWFnZUNvbXBvbmVudDtcblxuICAgICAgICBpZiAoYmtnSW1nLmltYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmlnU3RvcmFnZS5kcm9wVXNlKGJrZ0ltZy5pbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJrZ0ltZy52aXNNYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5iaWdTdG9yYWdlLmRyb3BVc2UoYmtnSW1nLnZpc01hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVtZW1iZXJCQkJVcGRhdGUoZW50aXRpZXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIGxldCBnc3RvciA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KEdSQVBISUNfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxHcmFwaGljQ29tcG9uZW50PjtcblxuICAgICAgICBmb3IgKGxldCBlIG9mIGVudGl0aWVzKSB7XG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZSk7XG4gICAgICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHZpc0RhdGEgPSAoZ3N0b3IuZ2V0Q29tcG9uZW50KGUpPy5kaXNwbGF5IGFzIEltYWdlRWxlbWVudCk/LnZpc01hcDtcblxuICAgICAgICAgICAgaWYgKGMudmlzTWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjLnZpc01hcCA9IHRoaXMuYmlnU3RvcmFnZS5jcmVhdGUodmlzRGF0YSwgQmlnRW50cnlGbGFncy5OT19TWU5DKS5tdWx0aUlkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjLnZpc01hcCA9IHRoaXMuYmlnU3RvcmFnZS5yZXBsYWNlKGMudmlzTWFwLCB2aXNEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cbiIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtcbiAgICBDb21tYW5kUmVzdWx0LFxuICAgIEVWRU5UX0NPTU1BTkRfQUREX1BPU1RfQ09OU0VRVUVOQ0UsXG4gICAgRVZFTlRfQ09NTUFORF9BRERfUFJFX0NPTlNFUVVFTkNFLFxuICAgIEVWRU5UX0NPTU1BTkRfRU1JVCxcbiAgICBFVkVOVF9DT01NQU5EX0xPR1xufSBmcm9tIFwiLi9jb21tYW5kU3lzdGVtXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZCB7XG4gICAga2luZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBDQUxMSU5HIFRISVMgQ09OU1VNRVMgVEhFIEFSR1VNRU5UIVxuICAgICAqL1xuICAgIGFwcGx5SW52ZXJ0KGNvbW1hbmQ6IENvbW1hbmQpOiBDb21tYW5kO1xuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogQ29tbWFuZCk6IENvbW1hbmRbXTtcblxuICAgIG1lcmdlKHRvOiBDb21tYW5kLCBmcm9tOiBDb21tYW5kKTogYm9vbGVhbjtcblxuICAgIGlzTnVsbChjb21tYW5kOiBDb21tYW5kKTogYm9vbGVhbjtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUFuZExvZ0NvbW1hbmQod29ybGQ6IFdvcmxkLCBjb21tYW5kOiBDb21tYW5kKTogQ29tbWFuZCB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IHJlcyA9IHt9IGFzIENvbW1hbmRSZXN1bHQ7XG4gICAgd29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfQ09NTUFORF9MT0csIGNvbW1hbmQsIHJlcyk7XG4gICAgcmV0dXJuIHJlcy5pbnZlcnRlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRDb21tYW5kKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCwgc2hhcmU6IGJvb2xlYW4pOiBDb21tYW5kIHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgcmVzID0ge30gYXMgQ29tbWFuZFJlc3VsdDtcbiAgICB3b3JsZC5ldmVudHMuZW1pdChFVkVOVF9DT01NQU5EX0VNSVQsIGNvbW1hbmQsIHJlcywgc2hhcmUpO1xuICAgIHJldHVybiByZXMuaW52ZXJ0ZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kUmVnaXN0ZXJQcmVDb25zZXF1ZW5jZSh3b3JsZDogV29ybGQsIGNvbW1hbmQ6IENvbW1hbmQpOiB2b2lkIHtcbiAgICB3b3JsZC5ldmVudHMuZW1pdChFVkVOVF9DT01NQU5EX0FERF9QUkVfQ09OU0VRVUVOQ0UsIGNvbW1hbmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tbWFuZFJlZ2lzdGVyUG9zdENvbnNlcXVlbmNlKHdvcmxkOiBXb3JsZCwgY29tbWFuZDogQ29tbWFuZCk6IHZvaWQge1xuICAgIHdvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX0NPTU1BTkRfQUREX1BPU1RfQ09OU0VRVUVOQ0UsIGNvbW1hbmQpO1xufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge0NPTU1BTkRfVFlQRSwgQ29tbWFuZFJlc3VsdCwgQ29tbWFuZFN5c3RlbSwgRVZFTlRfQ09NTUFORF9FTUlULCBMb2dIb29rfSBmcm9tIFwiLi9jb21tYW5kU3lzdGVtXCI7XG5pbXBvcnQge05vbmVDb21tYW5kfSBmcm9tIFwiLi9ub25lQ29tbWFuZFwiO1xuXG5jb25zdCBISVNUT1JZX0xJTUlUID0gMTI4O1xuXG5pbnRlcmZhY2UgSGlzdG9yeUVudHJ5IHtcbiAgICBjbWQ6IENvbW1hbmQsXG4gICAgLy8gTWFuYWdlcyBkZXBlbmRlbmNpZXMgYW5kIHJlbGF0aW9uc1xuICAgIC8vcHJlOiBDb21tYW5kW10sXG4gICAgLy9wb3N0OiBDb21tYW5kW10sXG59XG5cbmV4cG9ydCBjb25zdCBDT01NQU5EX0hJU1RPUllfVFlQRSA9ICdjb21tYW5kX2hpc3RvcnknO1xuZXhwb3J0IHR5cGUgQ09NTUFORF9ISVNUT1JZX1RZUEUgPSB0eXBlb2YgQ09NTUFORF9ISVNUT1JZX1RZUEU7XG5leHBvcnQgY2xhc3MgQ29tbWFuZEhpc3RvcnlTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0sIExvZ0hvb2sge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gQ09NTUFORF9ISVNUT1JZX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0NPTU1BTkRfVFlQRV07XG5cbiAgICAvL3ByaXZhdGUgcHJlcGFyZWQ/OiBIaXN0b3J5RW50cnk7XG4gICAgY29tbWFuZFN5czogQ29tbWFuZFN5c3RlbTtcbiAgICBoaXN0b3J5OiBBcnJheTxIaXN0b3J5RW50cnk+O1xuICAgIGlzTGFzdFBhcnRpYWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpbmRleDogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IEFycmF5PEhpc3RvcnlFbnRyeT4oKTtcblxuICAgICAgICB0aGlzLmNvbW1hbmRTeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KENPTU1BTkRfVFlQRSkgYXMgQ29tbWFuZFN5c3RlbTtcbiAgICAgICAgdGhpcy5jb21tYW5kU3lzLmxvZ2dlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMub24oXCJjb21tYW5kX3VuZG9cIiwgdGhpcy5vblVuZG8sIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihcImNvbW1hbmRfcmVkb1wiLCB0aGlzLm9uUmVkbywgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UHVzaChjbWQ6IEhpc3RvcnlFbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5oaXN0b3J5Lmxlbmd0aCAhPT0gdGhpcy5pbmRleCkge1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5Lmxlbmd0aCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goY21kKTtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA+IEhJU1RPUllfTElNSVQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXgtLTtcbiAgICAgICAgICAgIC8vIFRPRE86IHVzZSBzb21lIGtpbmQgb2YgcmFuZG9tLWFjY2VzcyBzcGxpY2UtYWJsZSBkZXF1ZT9cbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UmVwbGFjZVByZXYoY21kOiBIaXN0b3J5RW50cnkpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5W3RoaXMuaW5kZXggLSAxXSA9IGNtZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpc3RvcnlVbmRvKHJlcGxhY2U6IEhpc3RvcnlFbnRyeSkge1xuICAgICAgICB0aGlzLmhpc3RvcnlSZXBsYWNlUHJldihyZXBsYWNlKTtcbiAgICAgICAgdGhpcy5pbmRleC0tO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGlzdG9yeVJlZG8ocmVwbGFjZTogSGlzdG9yeUVudHJ5KSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgdGhpcy5oaXN0b3J5UmVwbGFjZVByZXYocmVwbGFjZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UGVla1ByZXYoKTogSGlzdG9yeUVudHJ5IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPD0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4IC0gMV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaXN0b3J5UGVla05leHQoKTogSGlzdG9yeUVudHJ5IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPj0gdGhpcy5oaXN0b3J5Lmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmluZGV4XTtcbiAgICB9XG5cbiAgICBub3RpZnlIaXN0b3J5Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KFwiY29tbWFuZF9oaXN0b3J5X2NoYW5nZVwiLCB0aGlzLmNhblVuZG8oKSwgdGhpcy5jYW5SZWRvKCkpO1xuICAgIH1cblxuICAgIGNsb3NlUGFydGlhbCgpIHtcbiAgICAgICAgdGhpcy5pc0xhc3RQYXJ0aWFsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvY2Vzc1BhcnRpYWwoY21kOiBDb21tYW5kLCBwYXJ0aWFsOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzTGFzdFBhcnRpYWwgJiYgIXBhcnRpYWwpIHtcbiAgICAgICAgICAgIHRoaXMuaXNMYXN0UGFydGlhbCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY29udGludWUsIHRoaXMgaXMgdGhlIGxhc3QgcGFydGlhbCByb3VuZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaXQncyBub3QgcGFydGlhbCAoYnV0IGFsc28gdGhlIGxhc3Qgb25lIHdhcyBhbHNvIG5vdCBhIHBhcnRpYWwpXG4gICAgICAgICAgICBpZiAoIXBhcnRpYWwpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gdGhlIGxhc3Qgb25lIHdhcyBub3QgcGFydGlhbCBidXQgdGhpcyBvbmUgaXMsXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGNvbW1hbmQgdG8gdGhlIHF1ZXVlIGFuZCB3YWl0IGZvciB0aGUgbmV4dFxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTGFzdFBhcnRpYWwgJiYgcGFydGlhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNMYXN0UGFydGlhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBsYXN0Q21kID0gdGhpcy5oaXN0b3J5UGVla1ByZXYoKSE7XG4gICAgICAgIGlmIChjbWQua2luZCAhPT0gbGFzdENtZC5jbWQua2luZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV2FybmluZzogcHJvY2Vzc2luZyBhIHBhcnRpYWwgd2l0aCBhIHdyb25nIGxhc3Qga2luZCwgZGlkIHlvdSBmb3JnZXQgdG8gbG9nIHRoZSBsYXN0IHBhcnRpYWwgY29tbWFuZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBraW5kID0gdGhpcy5jb21tYW5kU3lzLmdldEtpbmQoY21kLmtpbmQpITtcbiAgICAgICAga2luZC5tZXJnZShjbWQsIGxhc3RDbWQuY21kKTtcbiAgICAgICAgdGhpcy5oaXN0b3J5UmVwbGFjZVByZXYoe1xuICAgICAgICAgICAgY21kLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsb2dQcmVwYXJlKHBhcnRpYWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvKnRoaXMucHJlcGFyZWQgPSB7XG4gICAgICAgICAgICBjbWQ6IHsga2luZDogJ25vbmUnfSBhcyBOb25lQ29tbWFuZCxcbiAgICAgICAgICAgIHBvc3Q6IFtdLCBwcmU6IFtdLFxuICAgICAgICB9OyovXG4gICAgfVxuXG5cbiAgICBsb2dDb21taXQoY21kOiBDb21tYW5kIHwgdW5kZWZpbmVkLCBwYXJ0aWFsOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJMT0dcIiwgSlNPTi5zdHJpbmdpZnkoY21kKSk7XG4gICAgICAgIGlmIChjbWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBhcnRpYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NQYXJ0aWFsKGNtZCwgcGFydGlhbCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpc3RvcnlQdXNoKHsgY21kIH0pO1xuICAgICAgICB0aGlzLm5vdGlmeUhpc3RvcnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV4ZWN1dGVFbWl0KGNtZDogQ29tbWFuZCk6IENvbW1hbmQge1xuICAgICAgICBsZXQgcmVzID0ge30gYXMgQ29tbWFuZFJlc3VsdDtcbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9DT01NQU5EX0VNSVQsIGNtZCwgcmVzKTtcbiAgICAgICAgcmV0dXJuIHJlcy5pbnZlcnRlZCB8fCB7IGtpbmQ6ICdub25lJyB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25VbmRvKCkge1xuICAgICAgICBsZXQgY21kID0gdGhpcy5oaXN0b3J5UGVla1ByZXYoKTtcblxuICAgICAgICBpZiAoY21kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90aGluZyB0byB1bmRvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oaXN0b3J5VW5kbyh7IGNtZDogdGhpcy5leGVjdXRlRW1pdChjbWQuY21kKX0pO1xuICAgICAgICB0aGlzLm5vdGlmeUhpc3RvcnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVkbygpIHtcbiAgICAgICAgbGV0IGNtZCA9IHRoaXMuaGlzdG9yeVBlZWtOZXh0KCk7XG4gICAgICAgIGlmIChjbWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3RoaW5nIHRvIHJlZG9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhpc3RvcnlSZWRvKHsgY21kOiB0aGlzLmV4ZWN1dGVFbWl0KGNtZC5jbWQpIH0pO1xuICAgICAgICB0aGlzLm5vdGlmeUhpc3RvcnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBjYW5SZWRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5Lmxlbmd0aCA+IHRoaXMuaW5kZXg7XG4gICAgfVxuXG4gICAgY2FuVW5kbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPiAwO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi8uLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtDb21wb25lbnRFZGl0Q29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7UmVzb3VyY2VFZGl0Q29tbWFuZEtpbmR9IGZyb20gXCIuL3Jlc291cmNlRWRpdENvbW1hbmRcIjtcbmltcG9ydCB7RXZlbnRDb21tYW5kS2luZH0gZnJvbSBcIi4vZXZlbnRDb21tYW5kXCI7XG5pbXBvcnQge05vbmVDb21tYW5kS2luZH0gZnJvbSBcIi4vbm9uZUNvbW1hbmRcIjtcbmltcG9ydCB7TkVUV09SS19UWVBFLCBOZXR3b3JrU3lzdGVtfSBmcm9tIFwiLi4vYmFjay9uZXR3b3JrU3lzdGVtXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZFJlc3VsdCB7XG4gICAgaW52ZXJ0ZWQ/OiBDb21tYW5kO1xufVxuXG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9FTUlUID0gJ2NvbW1hbmRfZW1pdCc7XG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9MT0cgPSAnY29tbWFuZF9sb2cnO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfUEFSVElBTF9FTkQgPSAnY29tbWFuZF9wYXJ0aWFsX2VuZCc7XG5leHBvcnQgY29uc3QgRVZFTlRfQ09NTUFORF9BRERfUFJFX0NPTlNFUVVFTkNFID0gJ2NvbW1hbmRfYWRkX3ByZWNvbnMnO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0NPTU1BTkRfQUREX1BPU1RfQ09OU0VRVUVOQ0UgPSAnY29tbWFuZF9hZGRfcG9zY29ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nSG9vayB7XG4gICAgbG9nUHJlcGFyZShwYXJ0aWFsOiBib29sZWFuKTogdm9pZDtcblxuICAgIGxvZ0NvbW1pdChjbWQ6IENvbW1hbmQgfCB1bmRlZmluZWQsIHBhcnRpYWw6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5cbmV4cG9ydCBjb25zdCBDT01NQU5EX1RZUEUgPSAnY29tbWFuZCc7XG5leHBvcnQgdHlwZSBDT01NQU5EX1RZUEUgPSB0eXBlb2YgQ09NTUFORF9UWVBFO1xuZXhwb3J0IGNsYXNzIENvbW1hbmRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gQ09NTUFORF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJlYWRvbmx5IG9wdGlvbmFsRGVwZW5kZW5jaWVzID0gW05FVFdPUktfVFlQRV1cblxuICAgIGxvZ2dlcj86IExvZ0hvb2s7XG5cbiAgICBwcml2YXRlIGNvbW1hbmRzID0gbmV3IE1hcDxzdHJpbmcsIENvbW1hbmRLaW5kPigpO1xuICAgIHByaXZhdGUgbmV0d29ya1N5czogTmV0d29ya1N5c3RlbSB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRGVmYXVsdENvbW1hbmRzKCk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEVWRU5UX0NPTU1BTkRfRU1JVCwgdGhpcy5vbkVtaXQsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbihFVkVOVF9DT01NQU5EX0xPRywgdGhpcy5vbkxvZywgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKEVWRU5UX0NPTU1BTkRfUEFSVElBTF9FTkQsIHRoaXMub25QYXJ0aWFsRW5kLCB0aGlzKTtcblxuICAgICAgICB0aGlzLm5ldHdvcmtTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChORVRXT1JLX1RZUEUpIGFzIE5ldHdvcmtTeXN0ZW0gfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJDb21tYW5kS2luZChraW5kOiBDb21tYW5kS2luZCkge1xuICAgICAgICB0aGlzLmNvbW1hbmRzLnNldChraW5kLmtpbmQsIGtpbmQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJEZWZhdWx0Q29tbWFuZHMoKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgU3Bhd25Db21tYW5kS2luZCh0aGlzLndvcmxkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kS2luZChuZXcgRGVTcGF3bkNvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBDb21wb25lbnRFZGl0Q29tbWFuZEtpbmQodGhpcy53b3JsZCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZEtpbmQobmV3IFJlc291cmNlRWRpdENvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBFdmVudENvbW1hbmRLaW5kKHRoaXMud29ybGQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmRLaW5kKG5ldyBOb25lQ29tbWFuZEtpbmQoKSk7XG4gICAgfVxuXG4gICAgb25FbWl0KGNvbW1hbmQ6IENvbW1hbmQsIHJlcz86IENvbW1hbmRSZXN1bHQsIHNoYXJlPzogYm9vbGVhbikge1xuICAgICAgICBsZXQga2luZCA9IHRoaXMuY29tbWFuZHMuZ2V0KGNvbW1hbmQua2luZCk7XG4gICAgICAgIGlmIChraW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGV4ZWN1dGluZyBjb21tYW5kOiB1bmtub3duIGtpbmQgXCIgKyBraW5kKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtpbmQuaXNOdWxsKGNvbW1hbmQpKSByZXR1cm47XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJFTUlUXCIsIEpTT04uc3RyaW5naWZ5KGNvbW1hbmQpKTtcblxuICAgICAgICBpZiAodGhpcy5uZXR3b3JrU3lzPy5pc09ubGluZSgpID09PSB0cnVlICYmIHNoYXJlKSB7XG4gICAgICAgICAgICBsZXQgc3RyaXBwZWQgPSBraW5kLnN0cmlwQ2xpZW50KGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHN0cmlwcGVkLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoXCJjb21tYW5kX3NoYXJlXCIsIHN0cmlwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3ByZV9leGVjdXRlJyk7XG4gICAgICAgIGxldCBpbnY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnYgPSBraW5kLmFwcGx5SW52ZXJ0KGNvbW1hbmQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3QgYXBwbHkgY29tbWFuZFwiLCBjb21tYW5kLCBlKTtcbiAgICAgICAgICAgIGludiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcy5pbnZlcnRlZCA9IGludjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KCdjb21tYW5kX3Bvc3RfZXhlY3V0ZScsIGludik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxvZyhjb21tYW5kOiBDb21tYW5kLCByZXM/OiBDb21tYW5kUmVzdWx0LCBwYXJ0aWFsOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5vbkVtaXQoY29tbWFuZCwgcmVzdWx0LCB0cnVlKTtcblxuICAgICAgICBpZiAocmVzdWx0LmludmVydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBpbnYgPSByZXN1bHQuaW52ZXJ0ZWQ7XG4gICAgICAgICAgICBsZXQga2luZCA9IHRoaXMuY29tbWFuZHMuZ2V0KGludi5raW5kKTtcbiAgICAgICAgICAgIGlmIChraW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIGludmVydGVkIGNvbW1hbmQhIFwiICsga2luZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFraW5kLmlzTnVsbChpbnYpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmxvZ0NvbW1pdChyZXN1bHQuaW52ZXJ0ZWQsIHBhcnRpYWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcj8ubG9nQ29tbWl0KHVuZGVmaW5lZCwgcGFydGlhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUGFydGlhbEVuZCgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXI/LmxvZ0NvbW1pdCh1bmRlZmluZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBnZXRLaW5kKGtpbmQ6IHN0cmluZyk6IENvbW1hbmRLaW5kIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZHMuZ2V0KGtpbmQpXG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFLCBNdWx0aUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtBbnlNYXBUeXBlLCBNdWx0aUVkaXRUeXBlLCBXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmR9IGZyb20gXCIuL3NwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHtmaWx0ZXJDb21wb25lbnQsIGZpbHRlckNvbXBvbmVudEtlZXBFbnRpdHl9IGZyb20gXCIuLi8uLi9lY3NVdGlsXCI7XG5pbXBvcnQgeyBvYmplY3RDbG9uZSB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2pzb2JqXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRFZGl0Q29tbWFuZChcbiAgICBhZGQ/OiBDb21wb25lbnRbXSxcbiAgICBlZGl0PzogRWRpdFR5cGVbXSxcbiAgICByZW1vdmU/OiBDb21wb25lbnRbXSxcbiAgICBwYXJhbGxlbD86IGJvb2xlYW4sXG4pOiBDb21wb25lbnRFZGl0Q29tbWFuZCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogJ2NlZGl0JyxcbiAgICAgICAgYWRkLFxuICAgICAgICBlZGl0LFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIG11bHRpOiBwYXJhbGxlbFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGVFZGl0Q29tbWFuZChlZGl0OiBFZGl0VHlwZSkge1xuICAgIHJldHVybiBjb21wb25lbnRFZGl0Q29tbWFuZCh1bmRlZmluZWQsIFtlZGl0XSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdFR5cGUge1xuICAgIGVudGl0eTogbnVtYmVyO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBtdWx0aUlkPzogbnVtYmVyO1xuICAgIGNoYW5nZXM6IEFueU1hcFR5cGUsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50RWRpdENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBraW5kOiAnY2VkaXQnO1xuICAgIGFkZD86IENvbXBvbmVudFtdO1xuICAgIG11bHRpPzogYm9vbGVhbjtcbiAgICBlZGl0PzogRWRpdFR5cGVbXTtcbiAgICBwZWRpdD86IHtbaWQ6IG51bWJlcl06IE11bHRpRWRpdFR5cGV9O1xuICAgIHJlbW92ZT86IENvbXBvbmVudFtdO1xufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50RWRpdENvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnY2VkaXQnO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBhcHBseUludmVydChjbWQ6IENvbXBvbmVudEVkaXRDb21tYW5kKTogQ29tcG9uZW50RWRpdENvbW1hbmQge1xuICAgICAgICBsZXQgaW52ID0ge1xuICAgICAgICAgICAga2luZDogJ2NlZGl0JyxcbiAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQuYWRkID8/IFtdKSB7XG4gICAgICAgICAgICBpbnYucmVtb3ZlID0gaW52LnJlbW92ZSA/PyBbXTtcbiAgICAgICAgICAgIGludi5yZW1vdmUucHVzaCh7XG4gICAgICAgICAgICAgICAgZW50aXR5OiBjLmVudGl0eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBjLnR5cGUsXG4gICAgICAgICAgICAgICAgbXVsdGlJZDogKGMgYXMgTXVsdGlDb21wb25lbnQpLm11bHRpSWQsXG4gICAgICAgICAgICB9IGFzIE11bHRpQ29tcG9uZW50KTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNtZC5tdWx0aSkge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQuZWRpdCA/PyBbXSkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChjLmVudGl0eSwgYy50eXBlLCBjLmNoYW5nZXMsIGMubXVsdGlJZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVudGl0eU1hcCA9IG5ldyBNYXA8bnVtYmVyLCBNdWx0aUVkaXRUeXBlPigpO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQuZWRpdCA/PyBbXSkge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gZW50aXR5TWFwLmdldChjLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU1hcC5zZXQoYy5lbnRpdHksIHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IGMubXVsdGlJZCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogYy5jaGFuZ2VzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRpdHlNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50TXVsdGlwbGUoa2V5LCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGludi5lZGl0ID0gY21kLmVkaXQ7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY21kLnJlbW92ZSA/PyBbXSkge1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBjLnR5cGUsIChjIGFzIE11bHRpQ29tcG9uZW50KS5tdWx0aUlkKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgaW52LmFkZCA9IGludi5hZGQgPz8gW107XG4gICAgICAgICAgICAgICAgaW52LmFkZC5wdXNoKGZpbHRlckNvbXBvbmVudEtlZXBFbnRpdHkoY29tcG9uZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludjtcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjbWQ6IENvbXBvbmVudEVkaXRDb21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgbmV3IGVudGl0aXRlcyB0aGF0IGhhdmUgYmVlbiBoaWRkZW5cbiAgICAgICAgbGV0IGhvc3RfaGlkZGVuID0gY21kLmFkZD8uZmlsdGVyKHggPT4geC50eXBlID09PSBIT1NUX0hJRERFTl9UWVBFKS5tYXAoeCA9PiB4LmVudGl0eSkgPz8gW107XG4gICAgICAgIC8vIEdldCBhbGwgZm9mIHRoZSBuZXcgZW50aXRpZXMgdGhhdCBoYXZlIGJlZW4gdW4taGlkZGVuIChzaG93bilcbiAgICAgICAgbGV0IG5vbl9ob3N0X2hpZGRlbiA9IGNtZC5yZW1vdmU/LmZpbHRlcih4ID0+IHgudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkubWFwKHggPT4geC5lbnRpdHkpID8/IFtdO1xuXG4gICAgICAgIC8vIENoZWNrcyBpZiBhIGNvbXBvbmVudCBpcyB2aXNpYmxlIChhIGNvbXBvbmVudCBpcyBiaXNpYmxlIGlmIGNsaWVudFZpc2libGUgIT09IGZhbHNlIGFuZCBpZiBpdCdzXG4gICAgICAgIC8vICAgbm90IGhvc3QtaGlkZGVuKVxuICAgICAgICBsZXQgcHJlZGljYXRlID0gKHg6IENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCh4IGFzIEhpZGVhYmxlQ29tcG9uZW50KS5jbGllbnRWaXNpYmxlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKGhvc3RfaGlkZGVuLmluZGV4T2YoeC5lbnRpdHkpID4gLTEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChub25faG9zdF9oaWRkZW4uaW5kZXhPZih4LmVudGl0eSkgPiAtMSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoeC5lbnRpdHksIEhPU1RfSElEREVOX1RZUEUpID09PSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEZpbHRlcnMgYSBjb21wb25lbnQgYmFzZWQgb24gdGhlIG9sZCBjb21wb25lbnQsIGZvciBleGFtcGxlOlxuICAgICAgICAvLyBpZiB0aGUgb2xkIGNvbXBvbmVudCBpcyBoaWRkZW4gYW5kIHRoZSBuZXcgZWRpdHMgZG8gbm90IGNoYW5nZSB0aGF0LCB0aGUgY29tcG9uZW50IGlzIGZpbHRlcmVkXG4gICAgICAgIC8vIGlmIHRoZSBvbGQgY29tcG9uZW50IGlzIGhpZGRlbiBhbmQgdGhlIG5ldyBlZGl0cyBtaWdodCBjaGFuZ2UgaXQsICBpdCdzIG5vdCBoaWRkZW5cbiAgICAgICAgLy8gaWYgdGhlIG9sZCBjb21wb25lbnQgaXMgbm90IGhpZGRlbiwgaXQncyBub3QgaGlkZGVuXG4gICAgICAgIGxldCBwYXJ0aWFsUHJlZGljYXRlID0gKGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIG11bHRpSWQ6IG51bWJlciB8IHVuZGVmaW5lZCwgY2hhbmdlczogQW55TWFwVHlwZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlYWwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIHR5cGUsIG11bHRpSWQpITtcbiAgICAgICAgICAgIGlmICgocmVhbCBhcyBIaWRlYWJsZUNvbXBvbmVudCkuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UgJiYgISgnY2xpZW50VmlzaWJsZScgaW4gY2hhbmdlcykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUoeyBlbnRpdHksIHR5cGUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgYWRkZWQgY29tcG9uZW50cyB0aGF0IGFyZSBvbmx5IHZpc2libGUgdG8gdGhlIGNsaWVudFxuICAgICAgICBsZXQgYWRkID0gY21kLmFkZD8uZmlsdGVyKHByZWRpY2F0ZSk7XG4gICAgICAgIC8vIGdldCBlZGl0ZWQgY29tcG9uZW50cyB0aGF0IGFyZSBvbmx5IHZpc2libGUgdG8gdGhlIGNsaWVudFxuICAgICAgICBsZXQgZWRpdCA9IGNtZC5lZGl0Py5maWx0ZXIoeCA9PiBwYXJ0aWFsUHJlZGljYXRlKHguZW50aXR5LCB4LnR5cGUsIHgubXVsdGlJZCwgeC5jaGFuZ2VzKSk7XG4gICAgICAgIC8vIGdldCByZW1vdmVkIGNvbXBvbmVudHMgdGhhdCBhcmUgb25seSB2aXNpYmxlIHRvIHRoZSBjbGllbnRcbiAgICAgICAgbGV0IHJlbW92ZSA9IGNtZC5yZW1vdmU/LmZpbHRlcih4ID0+IHgudHlwZSAhPT0gSE9TVF9ISURERU5fVFlQRSAmJiBwYXJ0aWFsUHJlZGljYXRlKHguZW50aXR5LCB4LnR5cGUsICh4IGFzIE11bHRpQ29tcG9uZW50KS5tdWx0aUlkLCB7fSkpO1xuXG4gICAgICAgIC8vIElmIHdlIHNldCBjbGllbnRWaXNpYmxlID09PSBmYWxzZSBpbiBhIGNvbXBvbmVudCB3ZSBuZWVkIGEgd2F5IHRvIHJlbW92ZSBpdCBvbiB0aGUgY2xpZW50XG4gICAgICAgIC8vICBhbmQgd2UgYWxzbyBuZWVkIHRvIGRvIHRoZSBzYW1lIHRoaW5nIGluIHJldmVyc2VcbiAgICAgICAgLy8gV2UgbmVlZCB0byBwcm9wYWdhdGUgdGhlIGNoYW5nZXMgaW4gZWRpdCB0byBhZGQgYW5kIHJlbW92ZSBjb21wb25lbnRzIHdpdGggY2xpZW50VmlzaWJsZVxuICAgICAgICBlZGl0ID0gZWRpdD8uZmlsdGVyKHggPT4ge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGVkaXRzIGRpZCBub3QgY2hhbmdlIHRoZSB2aXNpYmlsaXR5IHRoZSBvbGQgZmlsdGVyIGhhcyBmaW5pc2hlZCBhbGwgb2YgdGhlIHdvcmtcbiAgICAgICAgICAgIGlmICghKCdjbGllbnRWaXNpYmxlJyBpbiB4LmNoYW5nZXMpKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgbGV0IG9yaWcgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudCh4LmVudGl0eSwgeC50eXBlLCB4Lm11bHRpSWQpIGFzIEhpZGVhYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKG9yaWcgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoeC5jaGFuZ2VzLmNsaWVudFZpc2libGUgPT09IGZhbHNlICYmIG9yaWcuY2xpZW50VmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZWRpdHMgaGF2ZSBoaWRkZW4gdGhlIGNvbXBvbmVudCAoYW5kIGl0IHdhc24ndCBoaWRkZW4gYWxyZWFkeSkgdGhlbiByZW1vdmUgaXRcbiAgICAgICAgICAgICAgICByZW1vdmUgPSByZW1vdmUgPz8gW107XG4gICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IHguZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB4LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpSWQ6IHgubXVsdGlJZCxcbiAgICAgICAgICAgICAgICB9IGFzIE11bHRpQ29tcG9uZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeC5jaGFuZ2VzLmNsaWVudFZpc2libGUgIT09IGZhbHNlICYmIG9yaWcuY2xpZW50VmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWRpdHMgaGF2ZSB1bmhpZGRlbiB0aGUgY29tcG9uZW50IChhbmQgaXQgd2FzIGhpZGRlbiBiZWZvcmUpIHRoZW4gYWRkIGl0XG4gICAgICAgICAgICAgICAgYWRkID0gYWRkID8/IFtdO1xuICAgICAgICAgICAgICAgIGFkZC5wdXNoKGZpbHRlckNvbXBvbmVudEtlZXBFbnRpdHkob3JpZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KVxuXG4gICAgICAgIGxldCByZXMgPSBuZXcgQXJyYXk8Q29tbWFuZD4oKTtcbiAgICAgICAgaWYgKGhvc3RfaGlkZGVuLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdkZXNwYXduJyxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogaG9zdF9oaWRkZW4sXG4gICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kKVxuICAgICAgICB9XG4gICAgICAgIGlmIChub25faG9zdF9oaWRkZW4ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXMucHVzaCh0aGlzLmNyZWF0ZUVudGl0eVNwYXduUGFja2V0KG5vbl9ob3N0X2hpZGRlbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoYWRkPy5sZW5ndGggfHwgMCkgKyAoZWRpdD8ubGVuZ3RoIHx8IDApICsgKHJlbW92ZT8ubGVuZ3RoIHx8IDApICE9PSAwKSB7XG4gICAgICAgICAgICBsZXQgY2VkaXQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ2NlZGl0J1xuICAgICAgICAgICAgfSBhcyBDb21wb25lbnRFZGl0Q29tbWFuZDtcbiAgICAgICAgICAgIGlmIChhZGQgIT09IHVuZGVmaW5lZCAmJiBhZGQubGVuZ3RoID4gMCkgY2VkaXQuYWRkID0gYWRkLm1hcChvYmplY3RDbG9uZSk7XG4gICAgICAgICAgICBpZiAoZWRpdCAhPT0gdW5kZWZpbmVkICYmIGVkaXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNlZGl0LmVkaXQgPSBlZGl0Lm1hcChvYmplY3RDbG9uZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNtZC5tdWx0aSkgY2VkaXQubXVsdGkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW92ZSAhPT0gdW5kZWZpbmVkICYmIHJlbW92ZS5sZW5ndGggPiAwKSBjZWRpdC5yZW1vdmUgPSByZW1vdmUubWFwKG9iamVjdENsb25lKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKGNlZGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IENvbXBvbmVudEVkaXRDb21tYW5kLCBmcm9tOiBDb21wb25lbnRFZGl0Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodG8ubXVsdGkgIT09IGZyb20ubXVsdGkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBUT0RPOiBmcm9tIHNob3VsZCByZW1vdmUgZW50aXRpZXMgYWRkZWQgaW4gdG8uXG4gICAgICAgIC8vICAgICAgIGhhbmRsZSBlbnRpdGllcyBlZGl0ZWQgaW4gdG8gYnV0IHJlbW92ZWQgaW4gZnJvbVxuICAgICAgICB0by5hZGQgPSBtZXJnZU51bGxhYmxlQXJyYXlzKHRvLmFkZCwgZnJvbS5hZGQpO1xuICAgICAgICB0by5yZW1vdmUgPSBtZXJnZU51bGxhYmxlQXJyYXlzKHRvLnJlbW92ZSwgZnJvbS5yZW1vdmUpO1xuXG4gICAgICAgIGlmIChmcm9tLmVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRvLmVkaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRvLmVkaXQgPSBmcm9tLmVkaXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggb2YgZnJvbS5lZGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB6ID0gdG8uZWRpdC5maW5kKHkgPT4geC5lbnRpdHkgPT09IHkuZW50aXR5ICYmIHgudHlwZSA9PT0geS50eXBlICYmIHgubXVsdGlJZCA9PT0geS5tdWx0aUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8uZWRpdC5wdXNoKHgpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHouY2hhbmdlcywgeC5jaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgaXNOdWxsKGNvbW1hbmQ6IENvbXBvbmVudEVkaXRDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICgoY29tbWFuZC5hZGQ/Lmxlbmd0aCB8fCAwKSArIChjb21tYW5kLnJlbW92ZT8ubGVuZ3RoIHx8IDApICE9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGVkaXQgb2YgY29tbWFuZC5lZGl0ID8/IFtdKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIGluIGVkaXQuY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUVudGl0eVNwYXduUGFja2V0KGVudGl0aWVzOiBudW1iZXJbXSk6IFNwYXduQ29tbWFuZCAge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMud29ybGQuc2VyaWFsaXplKHtcbiAgICAgICAgICAgIHJlcXVpcmVTeW5jOiB0cnVlLFxuICAgICAgICAgICAgc3RyaXBDbGllbnQ6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVIb3N0SGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgb25seTogbmV3IFNldChlbnRpdGllcyksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ3NwYXduJyxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZU51bGxhYmxlQXJyYXlzPFQ+KGE/OiBUW10sIGI/OiBUW10pOiBUW10gfCB1bmRlZmluZWQge1xuICAgIGlmIChhID09PSB1bmRlZmluZWQpIHJldHVybiBiO1xuICAgIGlmIChiID09PSB1bmRlZmluZWQpIHJldHVybiBhO1xuICAgIGEucHVzaCguLi5iKTtcbiAgICByZXR1cm4gYTtcbn1cbiIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtIT1NUX0hJRERFTl9UWVBFfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZH0gZnJvbSBcIi4vc3Bhd25Db21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVTcGF3bkNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBraW5kOiAnZGVzcGF3bic7XG4gICAgZW50aXRpZXM6IG51bWJlcltdO1xufVxuXG5leHBvcnQgY2xhc3MgRGVTcGF3bkNvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnZGVzcGF3bic7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogRGVTcGF3bkNvbW1hbmQpOiBTcGF3bkNvbW1hbmQge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy53b3JsZC5zZXJpYWxpemUoe1xuICAgICAgICAgICAgb25seTogbmV3IFNldChjbWQuZW50aXRpZXMpLFxuICAgICAgICAgICAgcmVxdWlyZVNhdmU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGNtZC5lbnRpdGllcykge1xuICAgICAgICAgICAgdGhpcy53b3JsZC5kZXNwYXduRW50aXR5KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICB7XG4gICAgICAgICAgICBraW5kOiAnc3Bhd24nLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmRcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBEZVNwYXduQ29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIGxldCBlbnRpdGllcyA9IGNvbW1hbmQuZW50aXRpZXMuZmlsdGVyKHggPT4gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoeCwgSE9TVF9ISURERU5fVFlQRSkgPT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChlbnRpdGllcy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllcyxcbiAgICAgICAgfSBhcyBEZVNwYXduQ29tbWFuZF07XG4gICAgfVxuXG4gICAgbWVyZ2UodG86IERlU3Bhd25Db21tYW5kLCBmcm9tOiBEZVNwYXduQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICB0by5lbnRpdGllcy5wdXNoKC4uLmZyb20uZW50aXRpZXMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogRGVTcGF3bkNvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbW1hbmQuZW50aXRpZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi93b3JsZFwiO1xuaW1wb3J0IHtDb21tYW5kLCBDb21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50Q2FsbCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGFyZ3M6IGFueVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdldmVudCc7XG4gICAgZG86IEV2ZW50Q2FsbDtcbiAgICB1bmRvOiBFdmVudENhbGw7XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudENvbW1hbmRLaW5kIGltcGxlbWVudHMgQ29tbWFuZEtpbmQge1xuICAgIHJlYWRvbmx5IGtpbmQgPSAnZXZlbnQnO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBhcHBseUludmVydChjbWQ6IEV2ZW50Q29tbWFuZCk6IEV2ZW50Q29tbWFuZCB7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoY21kLmRvLm5hbWUsIC4uLmNtZC5kby5hcmdzKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ2V2ZW50JyxcbiAgICAgICAgICAgIGRvOiBjbWQudW5kbyxcbiAgICAgICAgICAgIHVuZG86IGNtZC5kbyxcbiAgICAgICAgfSBhcyBFdmVudENvbW1hbmQ7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY29tbWFuZDogRXZlbnRDb21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgcmV0dXJuIFtjb21tYW5kXTtcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogRXZlbnRDb21tYW5kLCBmcm9tOiBFdmVudENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBFdmVudENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tbWFuZCwgQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBOb25lQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdub25lJztcbn1cblxuZXhwb3J0IGNsYXNzIE5vbmVDb21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ25vbmUnO1xuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBOb25lQ29tbWFuZCk6IE5vbmVDb21tYW5kIHtcbiAgICAgICAgcmV0dXJuIGNtZDtcbiAgICB9XG5cbiAgICBzdHJpcENsaWVudChjb21tYW5kOiBOb25lQ29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtZXJnZSh0bzogTm9uZUNvbW1hbmQsIGZyb206IE5vbmVDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzTnVsbChjb21tYW5kOiBDb21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi8uLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtBbnlNYXBUeXBlLCBXb3JsZH0gZnJvbSBcIi4uLy4uL3dvcmxkXCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VFZGl0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdyZWRpdCc7XG4gICAgYWRkOiBSZXNvdXJjZVtdO1xuICAgIGVkaXQ6IHtbdHlwZTogc3RyaW5nXTogYW55fTtcbiAgICByZW1vdmU6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgUmVzb3VyY2VFZGl0Q29tbWFuZEtpbmQgaW1wbGVtZW50cyBDb21tYW5kS2luZCB7XG4gICAgcmVhZG9ubHkga2luZCA9ICdyZWRpdCc7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIH1cblxuICAgIGFwcGx5SW52ZXJ0KGNtZDogUmVzb3VyY2VFZGl0Q29tbWFuZCk6IFJlc291cmNlRWRpdENvbW1hbmQge1xuICAgICAgICBsZXQgaW52ID0ge1xuICAgICAgICAgICAga2luZDogJ3JlZGl0JyxcbiAgICAgICAgICAgIGFkZDogW10sXG4gICAgICAgICAgICBlZGl0OiBbXSxcbiAgICAgICAgICAgIHJlbW92ZTogW10sXG4gICAgICAgIH0gYXMgUmVzb3VyY2VFZGl0Q29tbWFuZDtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbWQuYWRkKSB7XG4gICAgICAgICAgICBpbnYucmVtb3ZlLnB1c2goYy50eXBlKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBjbWQuZWRpdCkge1xuICAgICAgICAgICAgLy8gRGF0YSBnZXRzIHN3YXBwZWQgd2l0aCB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBjbWQuZWRpdFtuYW1lXTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdFJlc291cmNlKG5hbWUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGludi5lZGl0ID0gY21kLmVkaXQ7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY21kLnJlbW92ZSkge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoYyk7XG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaW52LmFkZC5wdXNoKHJlcyk7XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZVJlc291cmNlKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnY7XG4gICAgfVxuXG4gICAgc3RyaXBDbGllbnQoY21kOiBSZXNvdXJjZUVkaXRDb21tYW5kKTogQ29tbWFuZFtdIHtcbiAgICAgICAgbGV0IGFkZCA9IGNtZC5hZGQuZmlsdGVyKHggPT4geC5fc3luYyk7XG4gICAgICAgIGxldCBlZGl0ID0ge30gYXMgQW55TWFwVHlwZTtcblxuICAgICAgICBsZXQgZWRpdGMgPSAwO1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGNtZC5lZGl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3JsZC5nZXRSZXNvdXJjZSh0eXBlKT8uX3N5bmMpIHtcbiAgICAgICAgICAgICAgICBlZGl0YyArPSAxO1xuICAgICAgICAgICAgICAgIGVkaXRbdHlwZV0gPSBjbWQuZWRpdFt0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZW1vdmUgPSBjbWQucmVtb3ZlLmZpbHRlcih4ID0+IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoeCk/Ll9zeW5jKTtcblxuICAgICAgICBpZiAoYWRkLmxlbmd0aCArIGVkaXRjICsgcmVtb3ZlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAga2luZDogJ3JlZGl0JyxcbiAgICAgICAgICAgIGFkZCwgZWRpdCwgcmVtb3ZlLFxuICAgICAgICB9IGFzIFJlc291cmNlRWRpdENvbW1hbmRdXG4gICAgfVxuXG4gICAgbWVyZ2UodG86IFJlc291cmNlRWRpdENvbW1hbmQsIGZyb206IFJlc291cmNlRWRpdENvbW1hbmQpOiBib29sZWFuIHtcbiAgICAgICAgdG8uYWRkLnB1c2goLi4uZnJvbS5hZGQpXG4gICAgICAgIHRvLnJlbW92ZS5wdXNoKC4uLmZyb20ucmVtb3ZlKVxuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGZyb20uZWRpdCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgaW4gdG8uZWRpdCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG8uZWRpdFt0eXBlXSwgZnJvbS5lZGl0W3R5cGVdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG8uZWRpdFt0eXBlXSA9IGZyb20uZWRpdFt0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogUmVzb3VyY2VFZGl0Q29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoY29tbWFuZC5hZGQubGVuZ3RoICsgY29tbWFuZC5yZW1vdmUubGVuZ3RoICE9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gY29tbWFuZC5lZGl0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGFuZ2UgaW4gY29tbWFuZC5lZGl0W3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U2VyaWFsaXplZEVudGl0aWVzLCBTZXJpYWxpemVkV29ybGQsIFdvcmxkfSBmcm9tIFwiLi4vLi4vd29ybGRcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBIT1NUX0hJRERFTl9UWVBFfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50XCI7XG5pbXBvcnQge0NvbW1hbmQsIENvbW1hbmRLaW5kfSBmcm9tIFwiLi9jb21tYW5kXCI7XG5pbXBvcnQge0RlU3Bhd25Db21tYW5kfSBmcm9tIFwiLi9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHsgY29tcG9uZW50Q2xvbmUgfSBmcm9tIFwiLi4vLi4vZWNzVXRpbFwiO1xuaW1wb3J0IHsgRmxhZ0Vjc1N0b3JhZ2UsIEZsYWdFY3NTdG9yYWdlU2VyaWFsemVkLCBNdWx0aUVjc1N0b3JhZ2UsIFNpbmdsZUVjc1N0b3JhZ2UgfSBmcm9tIFwiLi4vLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgb2JqZWN0Q2xvbmUsIG9iamVjdEZpbHRlcklucGxhY2UgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9qc29ialwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNwYXduQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIGtpbmQ6ICdzcGF3bic7XG4gICAgZGF0YTogU2VyaWFsaXplZEVudGl0aWVzO1xufVxuXG5leHBvcnQgY2xhc3MgU3Bhd25Db21tYW5kS2luZCBpbXBsZW1lbnRzIENvbW1hbmRLaW5kIHtcbiAgICByZWFkb25seSBraW5kID0gJ3NwYXduJztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlJbnZlcnQoY21kOiBTcGF3bkNvbW1hbmQpOiBEZVNwYXduQ29tbWFuZCB7XG4gICAgICAgIHRoaXMud29ybGQuZGVzZXJpYWxpemUoY21kLmRhdGEsIHt9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgZW50aXRpZXM6IGNtZC5kYXRhLmVudGl0aWVzLFxuICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgIH1cblxuICAgIHN0cmlwQ2xpZW50KGNvbW1hbmQ6IFNwYXduQ29tbWFuZCk6IENvbW1hbmRbXSB7XG4gICAgICAgIGNvbnN0IGhvc3RIaWRkZW4gPSBjb21tYW5kLmRhdGEuc3RvcmFnZXNbSE9TVF9ISURERU5fVFlQRV0gYXMgRmxhZ0Vjc1N0b3JhZ2VTZXJpYWx6ZWQ7XG5cbiAgICAgICAgY29uc3QgZW50aXR5RmlsdGVyID0gKHg6IG51bWJlcikgPT4gaG9zdEhpZGRlbiA9PT0gdW5kZWZpbmVkIHx8IGhvc3RIaWRkZW4uaW5kZXhPZih4KSA8IDA7XG4gICAgICAgIGxldCBuZXdFbnRpdGllcyA9IGNvbW1hbmQuZGF0YS5lbnRpdGllcy5maWx0ZXIoZW50aXR5RmlsdGVyKTtcblxuICAgICAgICBpZiAobmV3RW50aXRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3U3RvcmFnZXMgPSBvYmplY3RDbG9uZShjb21tYW5kLmRhdGEuc3RvcmFnZXMpO1xuXG4gICAgICAgIG9iamVjdEZpbHRlcklucGxhY2UobmV3U3RvcmFnZXMsIChzdG9yTmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLndvcmxkLmdldFN0b3JhZ2Uoc3Rvck5hbWUpO1xuICAgICAgICAgICAgaWYgKCFzdG9yYWdlLnN5bmMpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgc3RvcmFnZS5zZXJpYWxpemVkU3RyaXAoZGF0YSwgZW50aXR5RmlsdGVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IG5ld0VudGl0aWVzLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VzOiBuZXdTdG9yYWdlcyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBhcyBTcGF3bkNvbW1hbmRdO1xuICAgIH1cblxuICAgIG1lcmdlKHRvOiBTcGF3bkNvbW1hbmQsIGZyb206IFNwYXduQ29tbWFuZCk6IGJvb2xlYW4ge1xuICAgICAgICB0by5kYXRhLmVudGl0aWVzLnB1c2goLi4uZnJvbS5kYXRhLmVudGl0aWVzKTtcbiAgICAgICAgZm9yIChsZXQgc3RvcmFnZU5hbWUgaW4gZnJvbS5kYXRhLnN0b3JhZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tU3RvcmFnZSA9IGZyb20uZGF0YS5zdG9yYWdlc1tzdG9yYWdlTmFtZV07XG4gICAgICAgICAgICBjb25zdCB0b1N0b3JhZ2UgPSB0by5kYXRhLnN0b3JhZ2VzW3N0b3JhZ2VOYW1lXTtcbiAgICAgICAgICAgIGlmICh0b1N0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRvLmRhdGEuc3RvcmFnZXNbc3RvcmFnZU5hbWVdID0gY29tcG9uZW50Q2xvbmUoZnJvbVN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLndvcmxkLmdldFN0b3JhZ2Uoc3RvcmFnZU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgLnNlcmlhbGl6ZWRNZXJnZSh0b1N0b3JhZ2UsIGZyb21TdG9yYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc051bGwoY29tbWFuZDogU3Bhd25Db21tYW5kKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb21tYW5kLmRhdGEuZW50aXRpZXMubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tKHdvcmxkOiBXb3JsZCwgY29tcG9uZW50czogQ29tcG9uZW50W10pOiBTcGF3bkNvbW1hbmQge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB3b3JsZC5hbGxvY2F0ZUlkKCk7XG4gICAgICAgIGNvbnN0IGNtZCA9IHtcbiAgICAgICAgICAgIGVudGl0aWVzOiBbZW50aXR5XSxcbiAgICAgICAgICAgIHN0b3JhZ2VzOiB7fSxcbiAgICAgICAgfSBhcyBTZXJpYWxpemVkV29ybGQ7XG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgY29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHdvcmxkLmdldFN0b3JhZ2UoY29tcC50eXBlKTtcbiAgICAgICAgICAgIGRlbGV0ZSAoY29tcCBhcyBhbnkpLnR5cGU7XG4gICAgICAgICAgICBpZiAoc3RvcmFnZSBpbnN0YW5jZW9mIFNpbmdsZUVjc1N0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICBjbWQuc3RvcmFnZXNbc3RvcmFnZS50eXBlXSA9IHt9XG4gICAgICAgICAgICAgICAgY21kLnN0b3JhZ2VzW3N0b3JhZ2UudHlwZV1bZW50aXR5XSA9IGNvbXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0b3JhZ2UgaW5zdGFuY2VvZiBNdWx0aUVjc1N0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGNtZC5zdG9yYWdlc1tzdG9yYWdlLnR5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbZW50aXR5XSA9IFtdXG4gICAgICAgICAgICAgICAgICAgIGNtZC5zdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YVtlbnRpdHldLnB1c2goY29tcCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0b3JhZ2UgaW5zdGFuY2VvZiBGbGFnRWNzU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGNtZC5zdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0gW2VudGl0eV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVua25vd24gc3RvcmFnZSB0eXBlOiBcIiArIHN0b3JhZ2UudHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6ICdzcGF3bicsXG4gICAgICAgICAgICBkYXRhOiBjbWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiXG5pbXBvcnQge1NlcmlhbGl6ZWRFbnRpdGllcywgU2VyaWFsaXplZFdvcmxkLCBXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0tFWUJPQVJEX1RZUEUsIEtleWJvYXJkUmVzb3VyY2V9IGZyb20gXCIuL2JhY2sva2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7IERlU3Bhd25Db21tYW5kIH0gZnJvbSBcIi4vY29tbWFuZC9kZXNwYXduQ29tbWFuZFwiO1xuaW1wb3J0IHsgZXhlY3V0ZUFuZExvZ0NvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7IFBPU0lUSU9OX1RZUEUgfSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkIH0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IEFhYmIgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHsgQm9hcmRTaXplUmVzb3VyY2UsIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UsIEJPQVJEX1NJWkVfVFlQRSwgQk9BUkRfVFJBTlNGT1JNX1RZUEUgfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuXG5jb25zdCBDTElQQk9BUkRfREFUQSA9ICdkbmRtZS1jbGlwJztcblxuaW50ZXJmYWNlIEN1c3RvbUNsaXBib2FyZERhdGEge1xuICAgIGZvcm1hdDogdHlwZW9mIENMSVBCT0FSRF9EQVRBO1xuICAgIHZlcjogMSxcbiAgICBkYXRhOiBTZXJpYWxpemVkRW50aXRpZXM7XG59XG5cbmV4cG9ydCBjb25zdCBDT1BZX1BBU1RFX1RZUEUgPSAnY29weV9wYXN0ZSc7XG5leHBvcnQgdHlwZSBDT1BZX1BBU1RFX1RZUEUgPSB0eXBlb2YgQ09QWV9QQVNURV9UWVBFO1xuZXhwb3J0IGNsYXNzIENvcHlQYXN0ZVN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IENPUFlfUEFTVEVfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbU0VMRUNUSU9OX1RZUEUsIEtFWUJPQVJEX1RZUEVdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuXG4gICAgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgY29weUxpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSBwYXN0ZUxpc3RlbmVyOiBhbnk7XG4gICAgcHJpdmF0ZSBjdXRMaXN0ZW5lcjogYW55O1xuXG4gICAgcHJpdmF0ZSBsYXN0SWdub3JlUGFzdGU6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmtleWJvYXJkID0gd29ybGQuZ2V0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSkgYXMgS2V5Ym9hcmRSZXNvdXJjZTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdpZ25vcmVfbmV4dF9wYXN0ZScsIHRoaXMub25JZ25vcmVOZXh0UGFzdGUsIHRoaXMpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbklnbm9yZU5leHRQYXN0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sYXN0SWdub3JlUGFzdGUgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIG9uUGFzdGUoZTogQ2xpcGJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBlLmNsaXBib2FyZERhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKERhdGUubm93KCkgPCB0aGlzLmxhc3RJZ25vcmVQYXN0ZSArIDMwMCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0SWdub3JlUGFzdGUgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHQgPSBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuXG4gICAgICAgIGxldCBwYXJzZWQ6IEN1c3RvbUNsaXBib2FyZERhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpIGFzIEN1c3RvbUNsaXBib2FyZERhdGE7XG4gICAgICAgICAgICBpZiAocGFyc2VkLmZvcm1hdCAhPT0gQ0xJUEJPQVJEX0RBVEEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIEpTT04gZm9ybWF0XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQudmVyICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBwYXN0ZWQgdmVyc2lvblwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNvcGllZCBjb250ZW50IGlzIG5vdCB2YWxpZCBkbmRtZSBkYXRhXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSkgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBib2FyZFNpemUgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKEJPQVJEX1NJWkVfVFlQRSkgYXMgQm9hcmRTaXplUmVzb3VyY2U7XG4gICAgICAgICAgICBjb25zdCByYW5kWCA9IE1hdGgucmFuZG9tKCkgKyAwLjU7XG4gICAgICAgICAgICBjb25zdCByYW5kWSA9IE1hdGgucmFuZG9tKCkgKyAwLjU7XG4gICAgICAgICAgICB0aGlzLm1vdmVTZXJpYWxpemVkKFxuICAgICAgICAgICAgICAgIHBhcnNlZC5kYXRhLFxuICAgICAgICAgICAgICAgIChib2FyZFNpemUud2lkdGggICogcmFuZFggLyAyIC0gdHJhbnNmb3JtLnBvc1gpIC8gdHJhbnNmb3JtLnNjYWxlWCxcbiAgICAgICAgICAgICAgICAoYm9hcmRTaXplLmhlaWdodCAqIHJhbmRZIC8gMiAtIHRyYW5zZm9ybS5wb3NZKSAvIHRyYW5zZm9ybS5zY2FsZVlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkLmRlc2VyaWFsaXplKHBhcnNlZC5kYXRhLCB7XG4gICAgICAgICAgICByZW1hcDogdHJ1ZSxcbiAgICAgICAgICAgIHRoZW5TZWxlY3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvcHlPckN1dChkZWw6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy53b3JsZC5zZXJpYWxpemUoe1xuICAgICAgICAgICAgcmVxdWlyZVNhdmU6IHRydWUsXG4gICAgICAgICAgICByZW1hcDogdHJ1ZSxcbiAgICAgICAgICAgIG9ubHk6IHRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVwb3NpdGlvblNlcmlhbGl6ZWQoZGF0YSk7XG4gICAgICAgIGNvbnN0IHNlciA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGZvcm1hdDogQ0xJUEJPQVJEX0RBVEEsXG4gICAgICAgICAgICB2ZXI6IDEsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICB9IGFzIEN1c3RvbUNsaXBib2FyZERhdGEpO1xuICAgICAgICBpZiAoZGVsKSB7XG4gICAgICAgICAgICBjb25zdCBjbWQgPSB7XG4gICAgICAgICAgICAgICAga2luZDogJ2Rlc3Bhd24nLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBbLi4udGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllc10sXG4gICAgICAgICAgICB9IGFzIERlU3Bhd25Db21tYW5kO1xuICAgICAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy53b3JsZCwgY21kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VyO1xuICAgIH1cblxuICAgIG9uQ29weShlOiBDbGlwYm9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IGUuY2xpcGJvYXJkRGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHNlciA9IHRoaXMuY29weU9yQ3V0KGZhbHNlKTtcblxuICAgICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgc2VyKTtcbiAgICB9XG5cbiAgICBvbkN1dChlOiBDbGlwYm9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IGUuY2xpcGJvYXJkRGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHNlciA9IHRoaXMuY29weU9yQ3V0KHRydWUpO1xuXG4gICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBzZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVwb3NpdGlvblNlcmlhbGl6ZWQoc2VyOiBTZXJpYWxpemVkV29ybGQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcG9zU3RvcmFnZSA9IHNlci5zdG9yYWdlc1tQT1NJVElPTl9UWVBFXSBhcyBTaW5nbGVFY3NTdG9yYWdlU2VyaWFsemVkO1xuICAgICAgICBpZiAocG9zU3RvcmFnZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGJiOiBBYWJiIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gcG9zU3RvcmFnZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBvc1N0b3JhZ2VbbmFtZV07XG4gICAgICAgICAgICBpZiAoYmIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJiID0gQWFiYi5mcm9tUG9pbnQoZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJiLmludGVyc2VjdChBYWJiLmZyb21Qb2ludChkYXRhKSwgYmIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJiID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBiYi5nZXRDZW50ZXIoKTtcbiAgICAgICAgdGhpcy5tb3ZlU2VyaWFsaXplZChzZXIsIC1jZW50ZXIueCwgLWNlbnRlci55KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1vdmVTZXJpYWxpemVkKHNlcjogU2VyaWFsaXplZFdvcmxkLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBvc1N0b3JhZ2UgPSBzZXIuc3RvcmFnZXNbUE9TSVRJT05fVFlQRV0gYXMgU2luZ2xlRWNzU3RvcmFnZVNlcmlhbHplZDtcbiAgICAgICAgaWYgKHBvc1N0b3JhZ2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gcG9zU3RvcmFnZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBvc1N0b3JhZ2VbbmFtZV07XG5cbiAgICAgICAgICAgIGRhdGEueCArPSBkeDtcbiAgICAgICAgICAgIGRhdGEueSArPSBkeTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5jb3B5TGlzdGVuZXIgPSB0aGlzLm9uQ29weS5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5jb3B5TGlzdGVuZXIpO1xuXG5cbiAgICAgICAgdGhpcy5jdXRMaXN0ZW5lciA9IHRoaXMub25DdXQuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY3V0JywgdGhpcy5jdXRMaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy5wYXN0ZUxpc3RlbmVyID0gdGhpcy5vblBhc3RlLmJpbmQodGhpcyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgdGhpcy5wYXN0ZUxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5jb3B5TGlzdGVuZXIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjdXQnLCB0aGlzLmN1dExpc3RlbmVyKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFzdGUnLCB0aGlzLnBhc3RlTGlzdGVuZXIpXG4gICAgfVxufSIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U2luZ2xlRWNzU3RvcmFnZX0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7Q29tcG9uZW50LCBIaWRlYWJsZUNvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge1dBTExfVFlQRSwgV2FsbENvbXBvbmVudCwgV2FsbFN5c3RlbX0gZnJvbSBcIi4vd2FsbFN5c3RlbVwiO1xuaW1wb3J0IHtyb3RhdGVQb2ludEJ5T3JpZ30gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2NvbGxpc2lvblwiO1xuaW1wb3J0IHtSRU1FTUJFUl9UWVBFfSBmcm9tIFwiLi9iYWNrL3BpeGlHcmFwaGljU3lzdGVtXCI7XG5pbXBvcnQge0xPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcbmltcG9ydCB7Q29tcG9uZW50RWRpdENvbW1hbmQsIHNpbmdsZUVkaXRDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7ZW1pdENvbW1hbmQsIGV4ZWN1dGVBbmRMb2dDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7TGF5ZXJPcmRlcn0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvbGF5ZXJPcmRlclwiO1xuXG5cbmV4cG9ydCBlbnVtIERvb3JUeXBlIHtcbiAgICBOT1JNQUxfTEVGVCA9IFwibm9ybWFsbFwiLFxuICAgIE5PUk1BTF9SSUdIVCA9IFwibm9ybWFsclwiLFxuICAgIFJPVEFURSA9IFwicm90YXRlXCIsXG59XG5cbmV4cG9ydCBjb25zdCBET09SX1RZUEUgPSAnZG9vcic7XG5leHBvcnQgdHlwZSBET09SX1RZUEUgPSB0eXBlb2YgRE9PUl9UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIERvb3JDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQsIEhpZGVhYmxlQ29tcG9uZW50IHtcbiAgICB0eXBlOiBET09SX1RZUEU7XG4gICAgZG9vclR5cGU6IERvb3JUeXBlO1xuICAgIGxvY2tlZDogYm9vbGVhbjtcbiAgICBvcGVuOiBib29sZWFuO1xuICAgIGNsaWVudFZpc2libGU6IGJvb2xlYW47XG4gICAgX2Rpc3BsYXk/OiBQSVhJLkdyYXBoaWNzO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBEb29yU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgbmFtZSA9IERPT1JfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBXQUxMX1RZUEVdO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPERvb3JDb21wb25lbnQ+KERPT1JfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBwaXhpQm9hcmRTeXM6IFBpeGlCb2FyZFN5c3RlbTtcbiAgICB3YWxsU3lzOiBXYWxsU3lzdGVtO1xuICAgIGlzTWFzdGVyVmlldzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgbGF5ZXI6IFBJWEkuZGlzcGxheS5MYXllcjtcbiAgICBkaXNwbGF5Q29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcblxuICAgIGNvbnN0cnVjdG9yKGVjczogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IGVjcztcblxuICAgICAgICB0aGlzLmxheWVyID0gbmV3IFBJWEkuZGlzcGxheS5MYXllcihuZXcgUElYSS5kaXNwbGF5Lkdyb3VwKExheWVyT3JkZXIuREVUQUlMUywgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMgPSBlY3Muc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHRoaXMud2FsbFN5cyA9IGVjcy5zeXN0ZW1zLmdldChXQUxMX1RZUEUpIGFzIFdhbGxTeXN0ZW07XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuICAgICAgICBpZiAoZWNzLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignaW50ZXJhY3QnLCB0aGlzLm9uSW50ZXJhY3QsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVkcmF3Q29tcG9uZW50KGRvb3I6IERvb3JDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IHdhbGwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgV0FMTF9UWVBFKSBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZG9vci5lbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuXG4gICAgICAgIGxldCB2aXNpYmxlID0gdGhpcy5pc01hc3RlclZpZXcgfHxcbiAgICAgICAgICAgICh0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgUkVNRU1CRVJfVFlQRSkgIT09IHVuZGVmaW5lZCAmJiBkb29yLmNsaWVudFZpc2libGUgIT09IGZhbHNlKTtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICBkb29yLl9kaXNwbGF5Py5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogdXNlIGludGVyYWN0aW9uIHNoYXBlPyAobWlnaHQgYnVnIG91dCBvbiB0cmFuc2xhdGlvbnMpXG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgICBwb3MueCwgcG9zLnksXG4gICAgICAgICAgICBwb3MueCArIHdhbGwudmVjWzBdLCBwb3MueSArIHdhbGwudmVjWzFdXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGRvb3IsIGxpbmUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd0xpbmVzKGRvb3I6IERvb3JDb21wb25lbnQsIGxpbmU6IExpbmUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGcgPSBkb29yLl9kaXNwbGF5O1xuICAgICAgICBpZiAoZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGcuY2xlYXIoKTtcbiAgICAgICAgZy5saW5lU3R5bGUoMiwgMCwgMC41KTtcbiAgICAgICAgc3dpdGNoIChkb29yLmRvb3JUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9MRUZUOiB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBsaW5lLmRpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKGxpbmUudG9ZIC0gbGluZS5mcm9tWSwgbGluZS50b1ggLSBsaW5lLmZyb21YKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9vci5vcGVuKSBzdGFydEFuZ2xlIC09IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgICAgIGcuYXJjKGxpbmUuZnJvbVgsIGxpbmUuZnJvbVksIHIsIHN0YXJ0QW5nbGUsIHN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9SSUdIVDoge1xuICAgICAgICAgICAgICAgIGxldCByID0gbGluZS5kaXN0YW5jZSgpO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihsaW5lLmZyb21ZIC0gbGluZS50b1ksIGxpbmUuZnJvbVggLSBsaW5lLnRvWCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkb29yLm9wZW4pIHN0YXJ0QW5nbGUgLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICAgICAgZy5hcmMobGluZS50b1gsIGxpbmUudG9ZLCByLCBzdGFydEFuZ2xlLCBzdGFydEFuZ2xlICsgTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEb29yVHlwZS5ST1RBVEU6IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGxpbmUuZGlzdGFuY2UoKSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IGN4ID0gKGxpbmUuZnJvbVggKyBsaW5lLnRvWCkgLyAyO1xuICAgICAgICAgICAgICAgIGxldCBjeSA9IChsaW5lLmZyb21ZICsgbGluZS50b1kpIC8gMjtcbiAgICAgICAgICAgICAgICBnLmRyYXdDaXJjbGUoY3gsIGN5LCByKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBkb29yIHR5cGU6IFwiICsgZG9vci5kb29yVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5Eb29yKGRvb3I6IERvb3JDb21wb25lbnQsIGRvb3JUeXBlOiBEb29yVHlwZSwgb3BlbjogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgd2FsbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGRvb3IuZW50aXR5LCBXQUxMX1RZUEUpIGFzIFdhbGxDb21wb25lbnQ7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChkb29yLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG5cbiAgICAgICAgbGV0IG5ld1BvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG5ld1ZlYyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBzd2l0Y2ggKGRvb3JUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLk5PUk1BTF9MRUZUOiB7XG4gICAgICAgICAgICAgICAgbmV3VmVjID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICBNYXRoLlBJIC8gMiAqIChvcGVuID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgICAgICAgeyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRG9vclR5cGUuTk9STUFMX1JJR0hUOiB7XG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5QSSAvIDIgKiAob3BlbiA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgbmV3UG9zID0gcm90YXRlUG9pbnRCeU9yaWcoXG4gICAgICAgICAgICAgICAgICAgIHsgeDogcG9zLnggKyB3YWxsLnZlY1swXSwgeTogcG9zLnkgKyB3YWxsLnZlY1sxXSB9LFxuICAgICAgICAgICAgICAgICAgICBhbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgeyB4OiBwb3MueCwgeTogcG9zLnkgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBuZXdWZWMgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHdhbGwudmVjWzBdLCB5OiB3YWxsLnZlY1sxXSB9XG4gICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIERvb3JUeXBlLlJPVEFURToge1xuICAgICAgICAgICAgICAgIGxldCBodnggPSB3YWxsLnZlY1swXSAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IGh2eSA9IHdhbGwudmVjWzFdIC8gMjtcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luID0geyB4OiBwb3MueCArIGh2eCwgeTogcG9zLnkgKyBodnkgfTtcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLlBJIC8gMiAqIChvcGVuID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICBuZXdQb3MgPSByb3RhdGVQb2ludEJ5T3JpZyhcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luLCBhbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgeyB4OiBwb3MueCwgeTogcG9zLnkgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG5ld1ZlYyA9IHJvdGF0ZVBvaW50QnlPcmlnKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4sIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB7IHg6IHBvcy54ICsgd2FsbC52ZWNbMF0sIHk6IHBvcy55ICsgd2FsbC52ZWNbMV0gfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbmV3VmVjLnggLT0gbmV3UG9zLng7XG4gICAgICAgICAgICAgICAgbmV3VmVjLnkgLT0gbmV3UG9zLnk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBkb29yIHR5cGU6IFwiICsgZG9vclR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBweCA9IG5ld1Bvcz8ueCA/PyBwb3MueDtcbiAgICAgICAgbGV0IHB5ID0gbmV3UG9zPy55ID8/IHBvcy55O1xuICAgICAgICBsZXQgdnggPSBuZXdWZWM/LnggPz8gd2FsbC52ZWNbMF07XG4gICAgICAgIGxldCB2eSA9IG5ld1ZlYz8ueSA/PyB3YWxsLnZlY1sxXTtcbiAgICAgICAgbGV0IGludGVyc2VjdFdpdGggPSB0aGlzLndhbGxTeXMucXVlcnlJbnRlcnNlY3Rpb25zKHB4LCBweSwgdngsIHZ5KTtcbiAgICAgICAgaWYgKCEoaW50ZXJzZWN0V2l0aC5sZW5ndGggPT09IDAgfHwgKGludGVyc2VjdFdpdGgubGVuZ3RoID09PSAxICYmIGludGVyc2VjdFdpdGhbMF0gPT09IGRvb3IuZW50aXR5KSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9vciBzdHVja1wiKTtcbiAgICAgICAgICAgIC8vIENvbGxpc2lvbiwgZG9uJ3Qgc3BsaXQgdGhlIGRvb3IgcGxzLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNoYW5nZXMgPSBbXTtcblxuICAgICAgICBpZiAobmV3UG9zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZW50aXR5OiBkb29yLmVudGl0eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogbmV3UG9zLngsXG4gICAgICAgICAgICAgICAgICAgIHk6IG5ld1Bvcy55LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VmVjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZW50aXR5OiBkb29yLmVudGl0eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBXQUxMX1RZUEUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB2ZWM6IFtuZXdWZWMueCwgbmV3VmVjLnldLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbW1pdCB0aGUgZWRpdHMgYXQgdGhlIHNhbWUgdGltZSB0byBwcmV2ZW50IHRoZSB3YWxsIGZyb20gYmVpbmcgc3BsaXQgKG11bHRpID0gdHJ1ZSlcbiAgICAgICAgLy8gKGlmIHdlIGNvbW1pdCBwb3NpdGlvbiBiZWZvcmUgcm90YXRpb24gaXQgbWlnaHQgY3JlYXRlIGFuIG92ZXJsYXAgc2l0dWF0aW9uIHRoYXQgc2hvdWxkXG4gICAgICAgIC8vIG5vdCBiZSB0aGVyZSkuXG4gICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnY2VkaXQnLFxuICAgICAgICAgICAgZWRpdDogY2hhbmdlcyxcbiAgICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICB9IGFzIENvbXBvbmVudEVkaXRDb21tYW5kO1xuICAgICAgICAvLyBXaHkgYXJlIHdlIHVzaW5nIHNoYXJlP1xuICAgICAgICAvLyBXZSdyZSBlZGl0aW5nIGFub3RoZXIgc3luY2VkIGNvbXBvbmVudCwgYnV0IHRoaXMgKHRoZSBkb29yKSBtaWdodCBiZSBoaWRkZW4uXG4gICAgICAgIC8vIElmIHRoZSBtYXN0ZXIgb3BlbnMgYSBoaWRkZW4gZG9vciB0aGUgXCJvcGVuXCIgbWVzc2FnZSB3aWxsIG5vdCBiZSBzaGFyZWQgYnV0IHRoZSBkb29yIHNob3VsZCBzdGlsbCBvcGVuIGZvclxuICAgICAgICAvLyB0aGUgcm9sZXBsYXllcnMuXG4gICAgICAgIC8vIEFkZGVuZHVtOiB3aGF0IGlmIHRoZSBlbnRpdHkgaXMgaGlkZGVuPyBUaGVuIHRoZSBjb21tYW5kIHdpbGwgZWRpdCBhIGhpZGRlbiBlbnRpdHkgc28gaXQgd2lsbCBiZSBzdHJpcHBlZCBhd2F5LlxuICAgICAgICBlbWl0Q29tbWFuZCh0aGlzLndvcmxkLCBjbWQsICFkb29yLmNsaWVudFZpc2libGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IERPT1JfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGQgPSBjb21wIGFzIERvb3JDb21wb25lbnQ7XG4gICAgICAgICAgICBkLl9kaXNwbGF5ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5hZGRDaGlsZChkLl9kaXNwbGF5KTtcbiAgICAgICAgICAgIC8vIERvIE5PVCByZS1vcGVuIHRoZSBkb29yLCBpZiBpdCBpcyBvcGVuIGl0IG1lYW5zIHRoYXQgaXQgaGFzIGJlZW4gbG9hZGVkIGZyb20gZmlsZSBhbmQgdGhlIHdhbGwgaXNcbiAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gdGhlIFwiZG9vciBvcGVuXCIgc3RhdGUuIEJhZCBzbm93eSwgd3RmIHdlcmUgeW91IHRoaW5raW5nXG4gICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChkKTtcblxuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgV0FMTF9UWVBFKSBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHdhbGwgIT09IHVuZGVmaW5lZCkgd2FsbC5fZG9udE1lcmdlKys7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBSRU1FTUJFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGRvb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KGRvb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IERPT1JfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGQgPSBjb21wIGFzIERvb3JDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoJ29wZW4nIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3BlbkRvb3IoZCwgZC5kb29yVHlwZSwgZC5vcGVuKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3ZWxsLCB0aGlzIGRvZXMgbm90IHdvcmsgcmlnaHQgd2l0aCB0aGUgR1VJXG4gICAgICAgICAgICAgICAgICAgIGQub3BlbiA9ICFkLm9wZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdkb29yVHlwZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGlmIChkLm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRG9vcihkLCBjaGFuZ2VkWydkb29yVHlwZSddLCBmYWxzZSkgJiYgdGhpcy5vcGVuRG9vcihkLCBkLmRvb3JUeXBlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZHJhd0NvbXBvbmVudChkKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09ICd3YWxsJykge1xuICAgICAgICAgICAgbGV0IGQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChkICE9PSB1bmRlZmluZWQpIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgbGV0IGQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChkICE9PSB1bmRlZmluZWQpIHRoaXMucmVkcmF3Q29tcG9uZW50KGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gRE9PUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgZCA9IGNvbXAgYXMgRG9vckNvbXBvbmVudDtcblxuICAgICAgICAgICAgZC5fZGlzcGxheT8uZGVzdHJveShERVNUUk9ZX0FMTCk7XG5cbiAgICAgICAgICAgIGxldCB3YWxsID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoY29tcC5lbnRpdHksIFdBTExfVFlQRSkgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgICAgIHdhbGwuX2RvbnRNZXJnZS0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc291cmNlRWRpdGVkKHJlczogUmVzb3VyY2UsIGVkaXRlZDogYW55KSB7XG4gICAgICAgIGlmIChyZXMudHlwZSA9PT0gTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSAmJiAndmlzaW9uVHlwZScgaW4gZWRpdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzTWFzdGVyVmlldyA9IChyZXMgYXMgTG9jYWxMaWdodFNldHRpbmdzKS52aXNpb25UeXBlICE9PSAncnAnO1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uSW50ZXJhY3QoZW50aXRpZXM6IG51bWJlcltdKSB7XG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgbGV0IGRvb3IgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZG9vciA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBjbWQgPSBzaW5nbGVFZGl0Q29tbWFuZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIHR5cGU6IERPT1JfVFlQRSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wZW46ICFkb29yLm9wZW4sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLndvcmxkLCBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGF5ZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMucm9vdC5hZGRDaGlsZCh0aGlzLmxheWVyKTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIucGFyZW50TGF5ZXIgPSB0aGlzLmxheWVyO1xuICAgICAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMuYm9hcmQuYWRkQ2hpbGQodGhpcy5kaXNwbGF5Q29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLmlzTWFzdGVyVmlldyA9ICh0aGlzLndvcmxkLmdldFJlc291cmNlKExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUpIGFzIExvY2FsTGlnaHRTZXR0aW5ncyk/LnZpc2lvblR5cGUgIT09ICdycCc7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICB0aGlzLmxheWVyLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cbn0iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBQb2ludH0gZnJvbSBcIi4uLy4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7R3JpZEdyYXBoaWNhbE9wdGlvbnMsIEdyaWRUeXBlLCBTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi9nYW1lL2dyaWRcIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge0JPQVJEX1RSQU5TRk9STV9UWVBFLCBCb2FyZFRyYW5zZm9ybVJlc291cmNlLCBQSVhJX0JPQVJEX1RZUEUsIFBpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4vYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEV9IGZyb20gXCIuL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtMYXllck9yZGVyfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9sYXllck9yZGVyXCI7XG5cblxuY29uc3QgU1FSVDMgPSBNYXRoLnNxcnQoMyk7XG5cbmV4cG9ydCBjb25zdCBHUklEX1RZUEUgPSAnZ3JpZCc7XG5leHBvcnQgdHlwZSBHUklEX1RZUEUgPSAnZ3JpZCc7XG5cblxuZXhwb3J0IGNsYXNzIEdyaWRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBHUklEX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1BJWElfQk9BUkRfVFlQRSwgU0VMRUNUSU9OX1RZUEUsIFRPT0xfVFlQRV07XG5cbiAgICB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSBib2FyZFN5czogUGl4aUJvYXJkU3lzdGVtO1xuICAgIHNwcml0ZTogUElYSS5UaWxpbmdTcHJpdGU7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGdyaWRSZXM6IEdyaWRSZXNvdXJjZTtcbiAgICBwcml2YXRlIGludGVybmFsU2NhbGU6IG51bWJlciA9IDE7XG5cbiAgICBwb3NYOiBudW1iZXIgPSAwO1xuICAgIHBvc1k6IG51bWJlciA9IDA7XG4gICAgc2NhbGVYOiBudW1iZXIgPSAxO1xuICAgIHNjYWxlWTogbnVtYmVyID0gMTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuYm9hcmRTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcbiAgICAgICAgbGV0IHNjcmVlbiA9IHRoaXMuYm9hcmRTeXMucmVuZGVyZXIuc2NyZWVuO1xuXG4gICAgICAgIHRoaXMuc3ByaXRlID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKFBJWEkuVGV4dHVyZS5FTVBUWSwgc2NyZWVuLndpZHRoLCBzY3JlZW4uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zcHJpdGUuekluZGV4ID0gTGF5ZXJPcmRlci5HUklEO1xuXG4gICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICB0b29sU3lzLmFkZFRvb2xBc0NvcHkoVG9vbC5HUklELCBUb29sLklOU1BFQ1QpO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9yZW1vdmUnLCB0aGlzLm9uUmVzb3VyY2VSZW1vdmUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFJlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdHlwZTogR1JJRF9UWVBFLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsXG4gICAgICAgICAgICBfc3luYzogdHJ1ZSxcbiAgICAgICAgfSwgU1RBTkRBUkRfR1JJRF9PUFRJT05TKSAgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICB3b3JsZC5hZGRSZXNvdXJjZSh0aGlzLmdyaWRSZXMpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4KCk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIFJlZHJhd1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXgoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9uQm9hcmRUcmFuc2Zvcm0ocmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNvdXJjZVJlbW92ZShyZXM6IFJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXMudHlwZSAhPT0gR1JJRF9UWVBFKSByZXR1cm47XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRm9vbCEgVGhvdSBzaGFsbCBub3QgcmVtb3ZlIHRoeSBncmlkIScpO1xuICAgIH1cblxuICAgIG9uQm9hcmRUcmFuc2Zvcm0oZGF0YTogQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSkge1xuICAgICAgICB0aGlzLnBvc1ggPSBkYXRhLnBvc1g7XG4gICAgICAgIHRoaXMucG9zWSA9IGRhdGEucG9zWTtcbiAgICAgICAgdGhpcy5zY2FsZVggPSBkYXRhLnNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSBkYXRhLnNjYWxlWTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3MoKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNwcml0ZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNwcml0ZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUZXgoKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUuZGVzdHJveSh0cnVlKTtcblxuICAgICAgICBpZiAoIXRoaXMuZ3JpZFJlcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlID0gUElYSS5UZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleCA9IGRyYXdHcmlkVGV4dHVyZSg1MTIsIHRoaXMuZ3JpZFJlcy5ncmlkVHlwZSwgdGhpcy5ncmlkUmVzKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFNjYWxlID0gdGhpcy5ncmlkUmVzLnNpemUgLyA1MTI7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKHRleCk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zKCkge1xuICAgICAgICB0aGlzLnNwcml0ZS50aWxlU2NhbGUuc2V0KHRoaXMuc2NhbGVYICogdGhpcy5pbnRlcm5hbFNjYWxlLCB0aGlzLnNjYWxlWSAqIHRoaXMuaW50ZXJuYWxTY2FsZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlLnRpbGVQb3NpdGlvbi5zZXQodGhpcy5wb3NYICsgdGhpcy5zY2FsZVggKiB0aGlzLmdyaWRSZXMub2ZmWCAgKiB0aGlzLmdyaWRSZXMuc2l6ZSAsIHRoaXMucG9zWSArIHRoaXMuc2NhbGVZICogdGhpcy5ncmlkUmVzLm9mZlkgKiB0aGlzLmdyaWRSZXMuc2l6ZSk7XG4gICAgfVxuXG4gICAgY2xvc2VzdFBvaW50KHBvaW50OiBQb2ludCk6IFBvaW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JpZFJlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcG50ID0gbmV3IFBJWEkuUG9pbnQocG9pbnRbMF0sIHBvaW50WzFdKTtcbiAgICAgICAgdGhpcy5zcHJpdGUud29ybGRUcmFuc2Zvcm0uYXBwbHkocG50LCBwbnQpO1xuXG4gICAgICAgIGxldCBwb2ludFggPSBwbnQueCAvIHRoaXMuZ3JpZFJlcy5zaXplIC0gdGhpcy5ncmlkUmVzLm9mZlg7XG4gICAgICAgIGxldCBwb2ludFkgPSBwbnQueSAvIHRoaXMuZ3JpZFJlcy5zaXplIC0gdGhpcy5ncmlkUmVzLm9mZlk7XG5cbiAgICAgICAgbGV0IHJlc1g6IG51bWJlcjtcbiAgICAgICAgbGV0IHJlc1k6IG51bWJlcjtcbiAgICAgICAgc3dpdGNoICh0aGlzLmdyaWRSZXMuZ3JpZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgR3JpZFR5cGUuU1FVQVJFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGZ4ID0gTWF0aC5mbG9vcihwb2ludFgpO1xuICAgICAgICAgICAgICAgIGxldCBmeSA9IE1hdGguZmxvb3IocG9pbnRZKTtcblxuICAgICAgICAgICAgICAgIHJlc1ggPSBmeDtcbiAgICAgICAgICAgICAgICByZXNZID0gZnk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRYID4gZnggKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9pbnRZID4gZnkgKyAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzWSArPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgZ3JpZCBjZW50ZXJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdFNxdWFyZWQyZChwb2ludFgsIHBvaW50WSwgZnggKyAwLjUsIGZ5ICsgMC41KSA8IGRpc3RTcXVhcmVkMmQocG9pbnRYLCBwb2ludFksIHJlc1gsIHJlc1kpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1ggPSBmeCArIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgcmVzWSA9IGZ5ICsgMC41O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdyaWRUeXBlLkhFWEFHT046IHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYWxnb3JpdGhtIGhlcmUgaXMgcXVpdGUgY29tcGxleCBhbmQgSSBjb3VsZG4ndCBmaW5kIGFueSBvZiB0aGlzIG9ubGluZSwgc28gdGhpcyBpcyBteSBvd24gc29sdXRpb246XG4gICAgICAgICAgICAgICAgLy8gKG5vdGU6IGhleGFnb24gc2lkZSA9IDEgYmVjYXVzZSBvZiB0aGUgaW5pdGlhbCB0cmFuc2Zvcm1hdGlvbikuXG4gICAgICAgICAgICAgICAgLy8gRmlyc3Qgd2UgY2FuIG5vdGljZSB0aGF0IGlmIHdlIGNvbG91ciBlYWNoIHBvaW50IGluIGEgZGlmZmVyZW50IGNvbG91ciBkZXBlbmRpbmcgb24gd2hpY2ggdmVydGV4XG4gICAgICAgICAgICAgICAgLy8gaXMgY2xvc2VyIHRvIGhpbSAoaW4gYSBoZXhhZ29uYWwgZ3JpZCkgd2UgZmluZCBhIGdyaWQgb2YgZXF1aWxhdGVyYWwgdHJpYW5nbGVzIG9mIHNpZGUgMS5cbiAgICAgICAgICAgICAgICAvLyBXZSB0aGVuIHRyYW5zZm9ybSBvdXIgZ3JpZCBieSAyIC8gc3FydCgzKSBvbiB0aGUgaG9yaXpvbnRhbCBzaWRlIHNvIHRoYXQgdGhlIGhlaWdodCBvZiB0aGUgdHJpYW5nbGVzXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGVpciBiYXNlLlxuICAgICAgICAgICAgICAgIC8vIFdpdGggdGhhdCBkb25lIHdlIGNhbiBwdXQgYSBzcXVhcmUgZ3JpZCBvbiB0b3Agb2Ygb3VyIHRyaWFuZ2xlIGdyaWQsIGVhY2ggc3F1YXJlIHdpbGwgaG9sZCBvbmVcbiAgICAgICAgICAgICAgICAvLyB0cmlhbmdsZSBhdCBpdHMgY2VudGVyIGFuZCB0d28gaGFsZmVzIGF0IHRoZSB0b3AgYW5kIGJvdHRvbS5cbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gc2VlIHdoaWNoIHNxdWFyZSB0aGUgcG9pbnQgYmVsb25ncyB0byBieSBmbG9vcmluZyB0aGUgdHJhbnNmb3JtZWQgeCBhbmQgeSBjb21wb25lbnRzLCB0aGVuXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIGNoZWNrIHdoaWNoIHRyaWFuZ2xlIHRoZSBwb2ludHMgYmVsb25ncyB0byBieSBjaGVjaGlua2cgaWYgdGhlIHBvaW50IGlzIGFib3ZlIG9yIGJlbG93XG4gICAgICAgICAgICAgICAgLy8gdGhlIGRpYWdvbmFsIGxpbmVzIG9mIGVxdWF0aW9uOiB5IDwgMC41IC0geC8yIGFuZCB5ID4geC8yICsgMC41XG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGVhY2ggdHJpYW5nbGUgY29sdW1uIGhhcyBoYWxmIG9mIGEgaGV4YWdvbiBzbyB0aGUgb2RkLW9uZXMgd2lsbCBiZSBmbGlwcGVkLlxuXG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IDEgLyBTUVJUMzsvLyBIZXhhZ29uIFNpZGUgPSAxL3NxcnQoMylcbiAgICAgICAgICAgICAgICBsZXQgcHggPSAocG9pbnRYIC0gcyAvIDIpICogMiAvIFNRUlQzOy8vIGFsaWduIHRoZSBwb2ludCB3aXRoIHRoZSB0cmlhbmdsZSBncmlkLCBhbmQgdHJhbnNmb3JtIHRoZSBncmlkXG4gICAgICAgICAgICAgICAgbGV0IHB5ID0gcG9pbnRZO1xuXG4gICAgICAgICAgICAgICAgbGV0IHN4ID0gTWF0aC5mbG9vcihweCk7XG4gICAgICAgICAgICAgICAgbGV0IHN5ID0gTWF0aC5mbG9vcihweSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZ3ggPSAocHggLSBzeCk7XG4gICAgICAgICAgICAgICAgbGV0IGd5ID0gKHB5IC0gc3kpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJ4ID0gc3ggKiBTUVJUMyAvIDIgKyBzIC8gMjtcbiAgICAgICAgICAgICAgICBpZiAoc3ggJSAyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBzaWRlIGhleGFnb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGd5IDwgMC41IC0gZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3k7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChneSA+IGd4IC8gMiArIDAuNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ggPSByeCArIHMgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZsaXBwZWQgaGV4YWdvbjogcmlnaHQgc2lkZSBoZXguXG4gICAgICAgICAgICAgICAgICAgIGlmIChneSA+IDEgLSBneCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1kgPSBzeSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGd5IDwgZ3ggLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNZID0gc3k7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNYID0gcnggKyBzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWSA9IHN5ICsgMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzWCA9IHJ4ICsgcyAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBudC5zZXQoXG4gICAgICAgICAgICAocmVzWCArIHRoaXMuZ3JpZFJlcy5vZmZYKSAqIHRoaXMuZ3JpZFJlcy5zaXplLFxuICAgICAgICAgICAgKHJlc1kgKyB0aGlzLmdyaWRSZXMub2ZmWSkgKiB0aGlzLmdyaWRSZXMuc2l6ZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnNwcml0ZS53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG50LCBwbnQpO1xuXG4gICAgICAgIHJldHVybiBbcG50LngsIHBudC55XTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuYm9hcmRTeXMucmVuZGVyZXIub24oJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUsIHRoaXMpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gbmV3IFBJWEkuZGlzcGxheS5MYXllcihuZXcgUElYSS5kaXNwbGF5Lkdyb3VwKExheWVyT3JkZXIuR1JJRCwgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5zcHJpdGUucGFyZW50TGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdGhpcy5ib2FyZFN5cy5yb290LmFkZENoaWxkKGxheWVyLCB0aGlzLnNwcml0ZSk7XG4gICAgICAgIGNvbnN0IHNjcmVlbiA9IHRoaXMuYm9hcmRTeXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB0aGlzLm9uUmVzaXplKHNjcmVlbi53aWR0aCwgc2NyZWVuLmhlaWdodCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBEUkFXIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGRyYXdHcmlkVGV4dHVyZShzaXplOiBudW1iZXIsIHR5cGU6IEdyaWRUeXBlLCBvcHRpb25zOiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IFBJWEkuQmFzZVRleHR1cmUge1xuICAgIGxldCBjYW52YXM6IEltYWdlRGF0YTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBHcmlkVHlwZS5IRVhBR09OOlxuICAgICAgICAgICAgY2FudmFzID0gZHJhd0hleChzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdyaWRUeXBlLlNRVUFSRTpcbiAgICAgICAgICAgIGNhbnZhcyA9IGRyYXdTcXVhcmUoc2l6ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGRyYXcgdW5rbm93biB0eXBlOiAnICsgdHlwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBJWEkuQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihuZXcgVWludDhBcnJheShjYW52YXMuZGF0YS5idWZmZXIpLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xufVxuXG5mdW5jdGlvbiBkcmF3U3F1YXJlKHNpemU6IG51bWJlciwgb3B0OiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IEltYWdlRGF0YSB7XG4gICAgLy9sZXQgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyhzaXplLCBzaXplKTtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG5cbiAgICBjdHgubGluZVdpZHRoID0gb3B0LnRoaWNrO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yVG9IZXgob3B0LmNvbG9yLCBvcHQub3BhY2l0eSk7XG5cbiAgICBjdHguc3Ryb2tlUmVjdCgwLCAwLCBzaXplICsgMSwgc2l6ZSArIDEpO1xuICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpO1xufVxuXG5mdW5jdGlvbiBkcmF3SGV4KHNpemU6IG51bWJlciwgb3B0OiBHcmlkR3JhcGhpY2FsT3B0aW9ucyk6IEltYWdlRGF0YSB7XG4gICAgbGV0IHMgPSBzaXplIC8gU1FSVDM7Ly8gU2lkZVxuXG4gICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcigzICogcyk7XG4gICAgLy9sZXQgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgc2l6ZSk7XG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplO1xuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgIGxldCBkID0gc2l6ZTtcblxuICAgIGN0eC5saW5lV2lkdGggPSBvcHQudGhpY2s7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gIGNvbG9yVG9IZXgob3B0LmNvbG9yLCBvcHQub3BhY2l0eSk7XG5cblxuICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgY3R4LmxpbmVUbyhzLCAwKTtcbiAgICBjdHgubGluZVRvKHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMiAqIHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMyAqIHMsIDApO1xuICAgIGN0eC5tb3ZlVG8oMCwgZCk7XG4gICAgY3R4LmxpbmVUbyhzLCBkKTtcbiAgICBjdHgubGluZVRvKHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5tb3ZlVG8oMiAqIHMgKyBzIC8gMiwgZCAvIDIpO1xuICAgIGN0eC5saW5lVG8oMyAqIHMsIGQpO1xuXG4gICAgLy8gTGluZXMgYmVmb3JlIHRoZSBpbWFnZTpcbiAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgIGN0eC5saW5lVG8oLXMgLyAyLCBkIC8gMik7XG4gICAgY3R4LmxpbmVUbygwLCBkKTtcblxuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBzaXplKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb0hleChjb2xvcjogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiAnIycgKyBjb2xvci50b1N0cmluZygxNikucGFkU3RhcnQoNiwgJzAnKVxuICAgICAgICArICgoMjU1ICogb3BhY2l0eSkgfCAwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBQT1NJVElPTl9UWVBFLCBQb3NpdGlvbkNvbXBvbmVudH0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtDVVNUT01fQkxFTkRfTU9ERVMsIERFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge1N0dXBpZFBvaW50fSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcG9pbnRcIjtcbmltcG9ydCB7R3JpZFJlc291cmNlLCBSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtWSVNJQklMSVRZX1RZUEUsIFZpc2liaWxpdHlDb21wb25lbnR9IGZyb20gXCIuL2JhY2svdmlzaWJpbGl0eVN5c3RlbVwiO1xuaW1wb3J0ICogYXMgUG9pbnRMaWdodFJlbmRlciBmcm9tIFwiLi4vLi4vZ2FtZS9wb2ludExpZ2h0UmVuZGVyZXJcIjtcbmltcG9ydCB7UExBWUVSX1RZUEUsIFBsYXllckNvbXBvbmVudH0gZnJvbSBcIi4vcGxheWVyU3lzdGVtXCI7XG5pbXBvcnQge01lc2h9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1BpeGlCb2FyZFN5c3RlbSwgUElYSV9CT0FSRF9UWVBFfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IGhleDJyZ2IgPSBQSVhJLnV0aWxzLmhleDJyZ2I7XG5pbXBvcnQge1RPT0xfVFlQRSwgVG9vbFN5c3RlbX0gZnJvbSBcIi4vYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2x9IGZyb20gXCIuLi90b29scy90b29sVHlwZVwiO1xuaW1wb3J0IHtHUklEX1RZUEV9IGZyb20gXCIuL2dyaWRTeXN0ZW1cIjtcbmltcG9ydCB7U1RBTkRBUkRfR1JJRF9PUFRJT05TfSBmcm9tIFwiLi4vLi4vZ2FtZS9ncmlkXCI7XG5pbXBvcnQge0xheWVyT3JkZXJ9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2xheWVyT3JkZXJcIjtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQkFDS0dST1VORCA9IDB4NmU0NzJjO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9MSUdIVF9TRVRUSU5HUyA9IHtcbiAgICBhbWJpZW50TGlnaHQ6IDB4NTU1NTU1LFxuICAgIGJhY2tncm91bmQ6IERFRkFVTFRfQkFDS0dST1VORCxcbiAgICBuZWVkc0xpZ2h0OiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IExJR0hUX1RZUEUgPSAnbGlnaHQnO1xuZXhwb3J0IHR5cGUgTElHSFRfVFlQRSA9ICdsaWdodCc7XG5leHBvcnQgaW50ZXJmYWNlIExpZ2h0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBMSUdIVF9UWVBFO1xuICAgIGNvbG9yOiBudW1iZXI7XG4gICAgcmFuZ2U6IG51bWJlcjtcblxuICAgIF9saWdodERpc3BsYXk/OiBQSVhJLk1lc2g7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tUGxheWVyQ29tcG9uZW50IGV4dGVuZHMgUGxheWVyQ29tcG9uZW50IHtcbiAgICBfbGlnaHRWaXNpb25EaXNwbGF5PzogUElYSS5NZXNoO1xufVxuXG5leHBvcnQgY29uc3QgTElHSFRfU0VUVElOR1NfVFlQRSA9ICdsaWdodF9zZXR0aW5ncyc7XG5leHBvcnQgdHlwZSBMSUdIVF9TRVRUSU5HU19UWVBFID0gJ2xpZ2h0X3NldHRpbmdzJztcbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRTZXR0aW5ncyBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBMSUdIVF9TRVRUSU5HU19UWVBFLFxuICAgIGFtYmllbnRMaWdodDogbnVtYmVyLFxuICAgIG5lZWRzTGlnaHQ6IGJvb2xlYW4sXG4gICAgYmFja2dyb3VuZDogbnVtYmVyLFxuICAgIF9zYXZlOiB0cnVlLFxuICAgIF9zeW5jOiB0cnVlLFxufVxuXG50eXBlIFZpc2lvblR5cGUgPSAnZG0nIHwgJ3JwJztcblxuZXhwb3J0IGNvbnN0IExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUgPSAnbG9jYWxfbGlnaHRfc2V0dGluZ3MnO1xuZXhwb3J0IHR5cGUgTE9DQUxfTElHSFRfU0VUVElOR1NfVFlQRSA9ICdsb2NhbF9saWdodF9zZXR0aW5ncyc7XG5leHBvcnQgaW50ZXJmYWNlIExvY2FsTGlnaHRTZXR0aW5ncyBleHRlbmRzIFJlc291cmNlIHtcbiAgICB0eXBlOiBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFLFxuICAgIHZpc2lvblR5cGU6IFZpc2lvblR5cGUsXG4gICAgX3NhdmU6IHRydWUsXG4gICAgX3N5bmM6IGZhbHNlLFxufVxuXG5cbi8qKlxuICogSG93IGlzIGxpZ2h0IHJlbmRlcmVkP1xuICogVGhlcmUgYXJlIHRocmVlIGxvZ2ljYWwgcGFzc2VzIG9uIGEgc2VwYXJhdGUgZnJhbWVidWZmZXIuXG4gKiBUaGVuIHRoaXMgZnJhbWVidWZmZXIgaXMgcGFzdGVkIG9udG8gdGhlIHJlYWwgc2NyZWVuLlxuICogMS4gQ2xlYXIgdGhlIFJHQkEgY2hhbm5lbHMgd2l0aCB0aGUgYW1iaWVudCBsaWdodC5cbiAqIDIuIERyYXcgb25seSBpbiB0aGUgQUxQSEEgY2hhbm5lbCBldmVyeSBwbGF5ZXIgbWVzaCAoYWNoaWV2ZWQgYnkgc2V0dGluZyB0aGUgY29sb3IgdG8gMClcbiAqIDMuIERyYXcgdGhlIGxpZ2h0IG9ubHkgd2hlcmUgdGhlIEFMUEhBIGNoYW5uZWwgaXMgMSAodXNpbmcgYSBjdXN0b20gYmxlbmQgbW9kZSlcbiAqIDQuIERyYXcgdGhlIGZyYW1lYnVmZmVyIG9uIHRoZSBzY3JlZW4gaWdub3JpbmcgdGhlIEFMUEhBIGNoYW5uZWwgKHVzaW5nIGEgY3VzdG9tIGJsZW5kIG1vZGUpXG4gKlxuICogV2h5IGlzIHRoaXMgdXNhZ2Ugb2YgdGhlIGFscGhhIGNoYW5uZWwgdXNlZD9cbiAqIFdlIG5lZWQgdG8gcmVuZGVyIGxpZ2h0IG9ubHkgd2hlcmUgdmlzaWJsZSwgc28gaW4gdGhlIFJQLXZpZXcgdGhlIHBsYXllcnMgdmlzaW9uIHBvbHlnb25zIHNob3VsZCBiZSB1c2VkIGFzIGFcbiAqIG1hc2sgZm9yIHRoZSBsaWdodCAoeW91IGNhbid0IHNlZSBhIGxpZ2h0IHRoYXQgbm8gcGxheWVyIHNlZXMpLiBTbyB3aGVuIHRoZSBSUC12aWV3IGlzIGVuYWJsZWQgdGhlIGZyYW1lYnVmZmVyIGlzXG4gKiBjbGVhcmVkIHdpdGggYWxwaGE9MCBhbmQgdGhlIHBsYXllcidzIHZpc2lvbiB3aWxsIGZpbGwgaW4gdGhlIGFscGhhICh0aGV5IHNob3VsZCBiZSByZW5kZXJlZCBCRUZPUkUgdGhlIGxpZ2h0cykuXG4gKiBXaGVuIHRoZSBETS12aWV3IGlzIGVuYWJsZWQgdGhlIGZyYW1lYnVmZmVyIGlzIHJlbmRlcmVkIHdpdGggYWxwaGE9MSBhbmQgdGhlIHBsYXllcidzIHZpZXcgaXMgbm90IGRyYXduLlxuICpcbiAqIFdoeSBpc24ndCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIHJlbmRlcmluZyBiYXRjaGVkP1xuICogV2UgbmVlZCB1bmlmb3JtcyBpbiB0aGUgc2hhZGVycyB0byBrbm93IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBsaWdodCBjZW50ZXI6IHJlbWVtYmVyIHRoYXQgdmlzaWJpbGl0eSBtZXNoIGlzIG5vdCBvbmx5XG4gKiB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uLCBpdCBhbHNvIGNhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGZvcm0gdGhlIGNlbnRlciBvZiB0aGUgbGlnaHQgKHRvIHJlbmRlciBhIHByb3BlciBjaXJjbGUpLlxuICogU28geWVhaCwgbm8gYmF0Y2hlZCB1bmlmb3JtcyBpbiBXZWJHTCBpdCBzZWVtcy4gKFRPRE86IGV4cGxvcmUgbW9yZSBwb3NzaWJpbGl0aWVzKVxuICovXG5leHBvcnQgY2xhc3MgTGlnaHRTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBMSUdIVF9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSVhJX0JPQVJEX1RZUEUsIFBMQVlFUl9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICBwcml2YXRlIGJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG5cbiAgICBzdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8TGlnaHRDb21wb25lbnQ+KExJR0hUX1RZUEUpO1xuXG4gICAgbGlnaHRMYXllcjogUElYSS5kaXNwbGF5LkxheWVyO1xuICAgIHBsYXllckNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG4gICAgbGlnaHRDb250YWluZXI6IFBJWEkuQ29udGFpbmVyO1xuXG4gICAgbGlnaHRTZXR0aW5nczogTGlnaHRTZXR0aW5ncztcbiAgICBsb2NhbExpZ2h0U2V0dGluZ3M6IExvY2FsTGlnaHRTZXR0aW5ncztcblxuICAgIHByaXZhdGUgZ3JpZFNpemU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMuYm9hcmRTeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbTtcblxuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAoTGF5ZXJPcmRlci5MSUdIVCwgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICB0b29sU3lzLmFkZFRvb2xBc0NvcHkoVG9vbC5MSUdIVCwgVG9vbC5JTlNQRUNUKTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHRoaXMubGlnaHRTZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdHlwZTogTElHSFRfU0VUVElOR1NfVFlQRSxcbiAgICAgICAgICAgIF9zYXZlOiB0cnVlLCBfc3luYzogdHJ1ZSxcbiAgICAgICAgfSwgREVGQVVMVF9MSUdIVF9TRVRUSU5HUykgYXMgTGlnaHRTZXR0aW5ncztcbiAgICAgICAgd29ybGQuYWRkUmVzb3VyY2UodGhpcy5saWdodFNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICB0eXBlOiBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFLFxuICAgICAgICAgICAgdmlzaW9uVHlwZTogdGhpcy53b3JsZC5pc01hc3RlciA/ICdkbScgOiAncnAnLFxuICAgICAgICAgICAgX3NhdmU6IHRydWUsIF9zeW5jOiBmYWxzZSxcbiAgICAgICAgfSBhcyBMb2NhbExpZ2h0U2V0dGluZ3M7XG4gICAgICAgIHdvcmxkLmFkZFJlc291cmNlKHRoaXMubG9jYWxMaWdodFNldHRpbmdzKTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMaWdodFZpc01lc2goKTogUElYSS5NZXNoIHtcbiAgICAgICAgbGV0IG1lc2ggPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goKTtcblxuICAgICAgICBtZXNoLmJsZW5kTW9kZSA9IENVU1RPTV9CTEVORF9NT0RFUy5BRERfV0hFUkVfQUxQSEFfMTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5hZGRDaGlsZChtZXNoKTtcblxuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBjcmVhdGVQbGF5ZXJWaXNNZXNoKCk6IFBJWEkuTWVzaCB7XG4gICAgICAgIGxldCBtZXNoID0gUG9pbnRMaWdodFJlbmRlci5jcmVhdGVNZXNoKCdwbGF5ZXInKTtcblxuICAgICAgICBtZXNoLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lci5hZGRDaGlsZChtZXNoKTtcblxuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNNZXNoKG1lc2g6IFBJWEkuTWVzaCwgcG9zOiBTdHVwaWRQb2ludCwgcG9seTogbnVtYmVyW10pIHtcbiAgICAgICAgbWVzaC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgUG9pbnRMaWdodFJlbmRlci51cGRhdGVNZXNoUG9seWdvbnMobWVzaCwgcG9zLCBwb2x5KTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNVbmlmb3JtcyhtZXNoOiBQSVhJLk1lc2gsIGNlbnRlcjogU3R1cGlkUG9pbnQsIHJhbmdlU3F1YXJlZDogbnVtYmVyLCBjb2xvcjogbnVtYmVyKSB7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFVuaWZvcm1zKG1lc2gsIGNlbnRlciwgcmFuZ2VTcXVhcmVkLCBjb2xvcik7XG4gICAgfVxuXG4gICAgZGlzYWJsZVZpc01lc2gobWVzaDogUElYSS5NZXNoKSB7XG4gICAgICAgIG1lc2gudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc1BvbHlnb24oZW50aXR5OiBudW1iZXIsIHRhcmdldDogTWVzaCwgY29sb3I6IG51bWJlciwgcG9zPzogUG9zaXRpb25Db21wb25lbnQsIHZpcz86IFZpc2liaWxpdHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChlbnRpdHksIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgVklTSUJJTElUWV9UWVBFKSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKHZpcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlVmlzTWVzaCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aXMucG9seWdvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVWaXNNZXNoKHRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNNZXNoKHRhcmdldCwgcG9zLCB2aXMucG9seWdvbik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc1VuaWZvcm1zKHRhcmdldCwgcG9zLCByYW5nZSAqIHJhbmdlLCBjb2xvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVMaWdodFZpc1BvbHlnb24obGlnaHQ6IExpZ2h0Q29tcG9uZW50LCBwb3M/OiBQb3NpdGlvbkNvbXBvbmVudCwgdmlzPzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpc1BvbHlnb24obGlnaHQuZW50aXR5LCBsaWdodC5fbGlnaHREaXNwbGF5ISwgbGlnaHQuY29sb3IsIHBvcywgdmlzKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQbGF5ZXJWaXNQb2x5Z29uKHBsYXllcjogQ3VzdG9tUGxheWVyQ29tcG9uZW50LCBwb3M/OiBQb3NpdGlvbkNvbXBvbmVudCwgdmlzPzogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAocGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPSB0aGlzLmNyZWF0ZVBsYXllclZpc01lc2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVZpc1BvbHlnb24ocGxheWVyLmVudGl0eSwgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXksIDAsIHBvcywgdmlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50QWRkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBMSUdIVF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSBjb21wIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgbGlnaHQuX2xpZ2h0RGlzcGxheSA9IHRoaXMuY3JlYXRlTGlnaHRWaXNNZXNoKCk7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogVklTSUJJTElUWV9UWVBFLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBsaWdodC5yYW5nZSxcbiAgICAgICAgICAgICAgICB0cmFja1dhbGxzOiB0cnVlLFxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcC5lbnRpdHksIHZpcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0VmlzUG9seWdvbihsaWdodCwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBjb21wIGFzIEN1c3RvbVBsYXllckNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLl9saWdodFZpc2lvbkRpc3BsYXkgPSB0aGlzLmNyZWF0ZVBsYXllclZpc01lc2goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHBsYXllci5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICh2aXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQbGF5ZXIgZG9lcyBub3QgaGF2ZSBhIHZpc2liaWxpdHkgdHlwZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJWaXNQb2x5Z29uKHBsYXllciwgdW5kZWZpbmVkLCB2aXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBMSUdIVF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAoJ3JhbmdlJyBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGMucmFuZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBsZXQgdmlzID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoYy5lbnRpdHksIFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodmlzLnBvbHlnb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc1VuaWZvcm1zKGMuX2xpZ2h0RGlzcGxheSEsIHBvcywgcmFuZ2UgKiByYW5nZSwgYy5jb2xvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCEoJ3BvbHlnb24nIGluIGNoYW5nZXMpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpICB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaWdodFZpc1BvbHlnb24obGlnaHQsIHVuZGVmaW5lZCwgdmlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHksIFBMQVlFUl9UWVBFKSBhcyBDdXN0b21QbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVyVmlzUG9seWdvbihwbGF5ZXIsIHVuZGVmaW5lZCwgdmlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQoY29tcDogUmVzb3VyY2UsIGNoYW5nZWQ6IGFueSkge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBHUklEX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghKCdzaXplJyBpbiBjaGFuZ2VkKSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGdyaWQgPSBjb21wIGFzIEdyaWRSZXNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkLnNpemU7XG5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBjYXJlLCB0aGUgdmlzaWJpbGl0eSBwb2x5Z29ucyB3aWxsIGNoYW5nZSBvbiB0aGVpciBvd25cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IExJR0hUX1NFVFRJTkdTX1RZUEUgfHwgY29tcC50eXBlID09PSBMT0NBTF9MSUdIVF9TRVRUSU5HU19UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYXJyID0gWzAuMCwgMC4wLCAwLjAsIDAuMF07XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NhbExpZ2h0U2V0dGluZ3MudmlzaW9uVHlwZSA9PT0gJ2RtJykgYXJyWzNdID0gMS4wO1xuICAgICAgICAgICAgaGV4MnJnYih0aGlzLmxpZ2h0U2V0dGluZ3MuYW1iaWVudExpZ2h0LCBhcnIpO1xuICAgICAgICAgICAgdGhpcy5saWdodExheWVyLmNsZWFyQ29sb3IgPSBhcnI7XG5cbiAgICAgICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLnZpc2libGUgPSB0aGlzLmxvY2FsTGlnaHRTZXR0aW5ncy52aXNpb25UeXBlICE9PSAnZG0nO1xuXG4gICAgICAgICAgICB0aGlzLmJvYXJkU3lzLnJlbmRlcmVyLmJhY2tncm91bmRDb2xvciA9IHRoaXMubGlnaHRTZXR0aW5ncy5iYWNrZ3JvdW5kO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50UmVtb3ZlKGNvbXA6IENvbXBvbmVudCkge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBMSUdIVF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSBjb21wIGFzIExpZ2h0Q29tcG9uZW50O1xuICAgICAgICAgICAgbGlnaHQuX2xpZ2h0RGlzcGxheT8uZGVzdHJveShERVNUUk9ZX0FMTCk7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGxpZ2h0IHZpc2liaWxpdHkgZm91bmQgb24gcmVtb3ZhbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gY29tcCBhcyBDdXN0b21QbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBwbGF5ZXIuX2xpZ2h0VmlzaW9uRGlzcGxheT8uZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIuc2V0dXAoKTtcblxuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIudXNlUmVuZGVyVGV4dHVyZSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlnaHRMYXllci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxpZ2h0TGF5ZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGxpZ2h0U3lzdGVtID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChMSUdIVF9UWVBFKSBhcyBMaWdodFN5c3RlbTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIucGFyZW50TGF5ZXIgPSBsaWdodFN5c3RlbS5saWdodExheWVyO1xuXG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGlnaHRDb250YWluZXIucGFyZW50TGF5ZXIgPSB0aGlzLmxpZ2h0TGF5ZXJcblxuICAgICAgICB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQodGhpcy5saWdodFNldHRpbmdzLCB7fSk7Ly8gVXBkYXRlIHRoZSBjbGVhckNvbG9yXG5cbiAgICAgICAgbGV0IGxpZ2h0aW5nU3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRoaXMubGlnaHRMYXllci5nZXRSZW5kZXJUZXh0dXJlKCkpO1xuICAgICAgICBsaWdodGluZ1Nwcml0ZS5ibGVuZE1vZGUgPSBDVVNUT01fQkxFTkRfTU9ERVMuTVVMVElQTFlfQ09MT1JfT05MWTtcbiAgICAgICAgbGlnaHRpbmdTcHJpdGUuekluZGV4ID0gTGF5ZXJPcmRlci5MSUdIVDtcbiAgICAgICAgbGlnaHRpbmdTcHJpdGUuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgbGlnaHRpbmdTcHJpdGUuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBib2FyZCA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG5cbiAgICAgICAgYm9hcmQuYm9hcmQuYWRkQ2hpbGQodGhpcy5wbGF5ZXJDb250YWluZXIsIHRoaXMubGlnaHRDb250YWluZXIsIHRoaXMubGlnaHRMYXllcik7XG4gICAgICAgIHRoaXMuYm9hcmRTeXMucm9vdC5hZGRDaGlsZChsaWdodGluZ1Nwcml0ZSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saWdodENvbnRhaW5lci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuZGVzdHJveShERVNUUk9ZX0FMTCk7XG4gICAgICAgIHRoaXMubGlnaHRMYXllci5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG59IiwiaW1wb3J0IHtTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi93b3JsZFwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgSE9TVF9ISURERU5fVFlQRSxcbiAgICBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtUT09MX1RZUEUsIFRvb2xTeXN0ZW0sIFRvb2xQYXJ0fSBmcm9tIFwiLi9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7XG4gICAgQk9BUkRfVFJBTlNGT1JNX1RZUEUsXG4gICAgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZSxcbiAgICBQSVhJX0JPQVJEX1RZUEUsXG4gICAgUGl4aUJvYXJkU3lzdGVtLFxufSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7XG4gICAgTkVUV09SS19FTlRJVFlfVFlQRSxcbiAgICBORVRXT1JLX1NUQVRVU19UWVBFLFxuICAgIE5FVFdPUktfVFlQRSwgTmV0d29ya0VudGl0eUNvbXBvbmVudCxcbiAgICBOZXR3b3JrU3RhdHVzUmVzb3VyY2UsIE5ldHdvcmtTeXN0ZW0sXG59IGZyb20gXCIuL2JhY2svbmV0d29ya1N5c3RlbVwiO1xuaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7TGF5ZXJPcmRlcn0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvbGF5ZXJPcmRlclwiO1xuXG5pbXBvcnQgVHJhaWxJbWFnZSBmcm9tIFwiUHVibGljL2ltYWdlcy90cmFpbC5wbmdcIjtcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0ICogYXMgUCBmcm9tIFwiLi4vLi4vcHJvdG9jb2wvZ2FtZVwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHsgUGFja2V0SW5mbyB9IGZyb20gXCIuLi8uLi9uZXR3b3JrL3dlYnRvcnJlbnQvV1RDaGFubmVsXCI7XG5cbmV4cG9ydCBjb25zdCBNT1VTRV9UUkFJTF9UWVBFID0gJ21vdXNlX3RyYWlsJztcbmV4cG9ydCB0eXBlIE1PVVNFX1RSQUlMX1RZUEUgPSB0eXBlb2YgTU9VU0VfVFJBSUxfVFlQRTtcblxuY29uc3QgUk9QRV9TSVpFID0gMTAwO1xuY29uc3QgSElTVE9SWV9TSVpFID0gMjA7XG5jb25zdCBTRU5EX0hJU1RPUllfQUZURVJfTVMgPSAxMDA7XG5cbi8vIFRPRE86IGRvbid0IHVzZSB0aWNrZXIsIHVzZSByZWFsIHdvcmxkIGNsb2NrXG4vLyBUT0RPOiBiZXR0ZXIgaW50ZXJwb2xhdGlvbiBzeXN0ZW0sIGl0IHNob3VsZCB0YWtlIHRpbWUgaW50byBhY2NvdW50IChyaWdodD8pXG5cbmV4cG9ydCBpbnRlcmZhY2UgTW91c2VUcmFpbENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogTU9VU0VfVFJBSUxfVFlQRTtcblxuICAgIGZ1dHVyZXh5OiBudW1iZXJbXSwvLyBpbnRlcmxlYXZlZCBbeDEsIHkxLCB4MiwgeTJdXG4gICAgaGlzdG9yeXg6IG51bWJlcltdO1xuICAgIGhpc3Rvcnl5OiBudW1iZXJbXTtcbiAgICBsYXN0aW5wdXQ6IG51bWJlciwvLyBob3cgbWFueSBmcmFtZXMgaGF2ZSBwYXNzZWQgc2luY2UgYW4gaW5wdXRcbiAgICBfZzogUElYSS5TaW1wbGVSb3BlO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBNb3VzZVRyYWlsU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gTU9VU0VfVFJBSUxfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbVE9PTF9UWVBFLCBQSVhJX0JPQVJEX1RZUEUsIE5FVFdPUktfVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgcGl4aUJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG4gICAgcmVhZG9ubHkgbmV0d29ya1N5czogTmV0d29ya1N5c3RlbTtcblxuICAgIHJlYWRvbmx5IHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxNb3VzZVRyYWlsQ29tcG9uZW50PihNT1VTRV9UUkFJTF9UWVBFLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgbmV0d29ya1N0YXR1c1Jlc291cmNlPzogTmV0d29ya1N0YXR1c1Jlc291cmNlO1xuXG4gICAgbGF5ZXI6IFBJWEkuZGlzcGxheS5MYXllcjtcbiAgICBjb250YWluZXI6IFBJWEkuQ29udGFpbmVyO1xuXG4gICAgcHJpdmF0ZSB0ZXg6IFBJWEkuVGV4dHVyZTtcbiAgICBwcml2YXRlIGJvYXJkU2NhbGU6IG51bWJlciA9IDE7XG5cbiAgICBwcml2YXRlIHRvVXBkYXRlOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgLy8gb3VyIFwiZnV0dXJlXCIgdG8gc2VuZCB0byBvdGhlcnMgKHllcyBpdCB3aWxsIGhhdmUgMTAwbXMgbGF0ZW5jeSlcbiAgICBwcml2YXRlIHNlbGZGdXR1cmU6IG51bWJlcltdID0gW107XG4gICAgLy8gbGFzdCB0aW1lIHdlIHNlbnQgYSBmdXR1cmVcbiAgICBwcml2YXRlIGZ1dHVyZUxhc3RTZW5kOiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoUElYSV9CT0FSRF9UWVBFKSBhcyBQaXhpQm9hcmRTeXN0ZW07XG4gICAgICAgIHRoaXMubmV0d29ya1N5cyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoTkVUV09SS19UWVBFKSBhcyBOZXR3b3JrU3lzdGVtO1xuXG4gICAgICAgIHRoaXMubGF5ZXIgPSBuZXcgUElYSS5kaXNwbGF5LkxheWVyKG5ldyBQSVhJLmRpc3BsYXkuR3JvdXAoTGF5ZXJPcmRlci5UT09MUywgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblxuICAgICAgICAvLyBBZGQgc3lzdGVtXG4gICAgICAgIGxldCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICB0b29sU3lzLmFkZFRvb2xQYXJ0KG5ldyBNb3VzZVRyYWlsVG9vbFBhcnQodGhpcykpO1xuICAgICAgICB0b29sU3lzLmFkZFRvb2woVG9vbC5NT1VTRV9UUkFJTCwgWydzcGFjZV9wYW4nLCAnbW91c2VfdHJhaWwnXSk7XG5cbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigncmVzb3VyY2VfZWRpdGVkJywgdGhpcy5vblJlc291cmNlRWRpdGVkLCB0aGlzKTtcblxuICAgICAgICAvLyBQYWludCB0ZXh0dXJlXG4gICAgICAgIHRoaXMudGV4ID0gUElYSS5UZXh0dXJlLmZyb20oVHJhaWxJbWFnZSk7XG4gICAgfVxuXG4gICAgb25TZWxmSW5wdXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbmV0cmVzID0gdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UhITtcbiAgICAgICAgdGhpcy5vbkZ1dHVyZShuZXRyZXMubXlJZCwgW3gsIHldKTtcbiAgICB9XG5cbiAgICBvbkZ1dHVyZShzZW5kZXJOZXRJZDogbnVtYmVyLCBtb3ZlczogbnVtYmVyW10pIHtcbiAgICAgICAgY29uc3QgbmV0cmVzID0gdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UhITtcbiAgICAgICAgY29uc3QgZW50aXR5SWQgPSBuZXRyZXMuZW50aXR5SW5kZXguZ2V0KHNlbmRlck5ldElkKTtcbiAgICAgICAgaWYgKGVudGl0eUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCBmaW5kIGVudGl0eSBvZiBuZXR3b3JrIHBsYXllciBcIiArIHNlbmRlck5ldElkLCBuZXRyZXMuZW50aXR5SW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eUlkKSEhO1xuXG4gICAgICAgIGlmIChtb3Zlcy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDbGllbnQgXCIgKyBzZW5kZXJOZXRJZCArIFwiIHNlbnQgdW5hbGlnbmVkIHh5IG1vdmVzXCIpO1xuICAgICAgICAgICAgbW92ZXMubGVuZ3RoID0gbW92ZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZnV0dXJleHkucHVzaCguLi5tb3Zlcyk7XG4gICAgICAgIGlmICh0aGlzLnRvVXBkYXRlLmluZGV4T2YoZW50aXR5SWQpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy50b1VwZGF0ZS5wdXNoKGVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU2ltcGxlUm9wZSgpOiBQSVhJLlNpbXBsZVJvcGUge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBuZXcgQXJyYXk8UElYSS5Qb2ludD4oUk9QRV9TSVpFKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBST1BFX1NJWkU7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRzW2ldID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5TaW1wbGVSb3BlKHRoaXMudGV4LCBwb2ludHMpO1xuICAgICAgICAocm9wZSBhcyBhbnkpLmJsZW5kbW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHJvcGUpO1xuXG4gICAgICAgIHJldHVybiByb3BlO1xuICAgIH1cblxuICAgICB1cGRhdGVSb3BlKGM6IE1vdXNlVHJhaWxDb21wb25lbnQsIG5ldHdFbnRpdHk6IE5ldHdvcmtFbnRpdHlDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgcm9wZSA9IGMuX2c7XG4gICAgICAgIGNvbnN0IGdlb20gPSByb3BlLmdlb21ldHJ5IGFzIFBJWEkuUm9wZUdlb21ldHJ5O1xuICAgICAgICBjb25zdCByb3BlUG9pbnRzID0gZ2VvbS5wb2ludHM7XG5cbiAgICAgICAgY29uc3QgaGlzdG9yeVNpemUgPSBjLmhpc3Rvcnl4Lmxlbmd0aDtcbiAgICAgICAgY29uc3Qgcm9wZVNpemUgPSByb3BlUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3BlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gcm9wZVBvaW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgeCA9IGN1YmljSW50ZXJwb2xhdGlvbihjLmhpc3Rvcnl4LCBpIC8gcm9wZVNpemUgKiBoaXN0b3J5U2l6ZSkgKiB0aGlzLmJvYXJkU2NhbGU7XG4gICAgICAgICAgICBjb25zdCB5ID0gY3ViaWNJbnRlcnBvbGF0aW9uKGMuaGlzdG9yeXksIGkgLyByb3BlU2l6ZSAqIGhpc3RvcnlTaXplKSAqIHRoaXMuYm9hcmRTY2FsZTtcblxuICAgICAgICAgICAgcC54ID0geDtcbiAgICAgICAgICAgIHAueSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgcm9wZS5zY2FsZS5zZXQoMS90aGlzLmJvYXJkU2NhbGUpO1xuXG4gICAgICAgIGdlb20udXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgaWYgKG5ldHdFbnRpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV0d0VudGl0eSA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBORVRXT1JLX0VOVElUWV9UWVBFKSBhcyBOZXR3b3JrRW50aXR5Q29tcG9uZW50O1xuICAgICAgICB9XG4gICAgICAgIHJvcGUudGludCA9IG5ldHdFbnRpdHkuY29sb3I7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uU2VsZlBvc2l0aW9uKHBvc3g6IG51bWJlciwgcG9zeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2VsZkZ1dHVyZS5wdXNoKHBvc3gsIHBvc3kpO1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5mdXR1cmVMYXN0U2VuZCArIFNFTkRfSElTVE9SWV9BRlRFUl9NUyA8IG5vdykge1xuICAgICAgICAgICAgY29uc3QgcGt0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtdHJhaWwnLFxuICAgICAgICAgICAgICAgIGZ1dDogdGhpcy5zZWxmRnV0dXJlLFxuICAgICAgICAgICAgfSBhcyBQLk1vdXNlVHJhaWxQYWNrZXQ7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtTeXMuY2hhbm5lbC5icm9hZGNhc3QocGt0KTtcbiAgICAgICAgICAgIHRoaXMuc2VsZkZ1dHVyZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mdXR1cmVMYXN0U2VuZCA9IG5vdztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25UaWNrKCkge1xuICAgICAgICBpZiAodGhpcy50b1VwZGF0ZS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBsZXQgbmV0cmVzID0gdGhpcy5uZXR3b3JrU3RhdHVzUmVzb3VyY2UhITtcbiAgICAgICAgY29uc3QgbXlFbnRpdHlJZCA9IG5ldHJlcy5lbnRpdHlJbmRleC5nZXQobmV0cmVzLm15SWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b1VwZGF0ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy50b1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHRyYWlsID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpITtcblxuICAgICAgICAgICAgbGV0IHByZXZ4ID0gdHJhaWwuaGlzdG9yeXhbSElTVE9SWV9TSVpFIC0gMV07XG4gICAgICAgICAgICBsZXQgcHJldnkgPSB0cmFpbC5oaXN0b3J5eVtISVNUT1JZX1NJWkUgLSAxXTtcblxuICAgICAgICAgICAgbGV0IG5leHR4ID0gcHJldng7XG4gICAgICAgICAgICBsZXQgbmV4dHkgPSBwcmV2eTtcbiAgICAgICAgICAgIGxldCBkaWZmZXJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0cmFpbC5mdXR1cmV4eS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBuZXh0eCA9IHRyYWlsLmZ1dHVyZXh5WzBdO1xuICAgICAgICAgICAgICAgIG5leHR5ID0gdHJhaWwuZnV0dXJleHlbMV07XG4gICAgICAgICAgICAgICAgdHJhaWwuZnV0dXJleHkuc3BsaWNlKDAsIDIpO1xuICAgICAgICAgICAgICAgIGRpZmZlcmVudCA9IE1hdGguYWJzKG5leHR4IC0gcHJldngpICsgTWF0aC5hYnMobmV4dHkgLSBwcmV2eSkgPiBOdW1iZXIuRVBTSUxPTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRpdHkgPT09IG15RW50aXR5SWQgJiYgdHJhaWwubGFzdGlucHV0IDwgSElTVE9SWV9TSVpFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNlbGZQb3NpdGlvbihuZXh0eCwgbmV4dHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFpbC5oaXN0b3J5eC5wb3AoKTtcbiAgICAgICAgICAgIHRyYWlsLmhpc3Rvcnl5LnBvcCgpO1xuICAgICAgICAgICAgdHJhaWwuaGlzdG9yeXgudW5zaGlmdChuZXh0eCk7XG4gICAgICAgICAgICB0cmFpbC5oaXN0b3J5eS51bnNoaWZ0KG5leHR5KTtcblxuICAgICAgICAgICAgaWYgKGRpZmZlcmVudCkge1xuICAgICAgICAgICAgICAgIHRyYWlsLmxhc3RpbnB1dCA9IDA7XG4gICAgICAgICAgICAgICAgdHJhaWwuX2cudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIHVwZGF0ZSBoYXMgYmVlbiBmb3VuZCBpbiB0aGUgbGFzdCAyMCBmcmFtZXMgcmVtb3ZlIHRoZSBwbGF5ZXIgZnJvbSB0aGUgdXBkYXRlIGxpc3RcbiAgICAgICAgICAgICAgICAvLyBpdCB3aWxsIGJlIHJlLWFkZGVkIGlmIHdlIGdldCBhbm90aGVyIGNoYW5nZVxuICAgICAgICAgICAgICAgIHRyYWlsLmxhc3RpbnB1dCArPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0cmFpbC5sYXN0aW5wdXQgPiBISVNUT1JZX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b1VwZGF0ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWlsLl9nLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUm9wZSh0cmFpbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IE5FVFdPUktfRU5USVRZX1RZUEUpIHtcbiAgICAgICAgICAgIGNvbnN0IF9nID0gdGhpcy5jcmVhdGVTaW1wbGVSb3BlKCk7XG4gICAgICAgICAgICBjb25zdCBjb20gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTU9VU0VfVFJBSUxfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgICAgICBoaXN0b3J5eDogbmV3IEFycmF5KEhJU1RPUllfU0laRSkuZmlsbCgwKSxcbiAgICAgICAgICAgICAgICBoaXN0b3J5eTogbmV3IEFycmF5KEhJU1RPUllfU0laRSkuZmlsbCgwKSxcbiAgICAgICAgICAgICAgICBmdXR1cmV4eTogW10sXG4gICAgICAgICAgICAgICAgbGFzdGlucHV0OiBISVNUT1JZX1NJWkUsXG4gICAgICAgICAgICAgICAgX2csXG4gICAgICAgICAgICB9IGFzIE1vdXNlVHJhaWxDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUm9wZShjb20sIGMgYXMgTmV0d29ya0VudGl0eUNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGMuZW50aXR5LCBjb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBNT1VTRV9UUkFJTF9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNvbXAgYXMgTW91c2VUcmFpbENvbXBvbmVudDtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVSb3BlKGMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gTkVUV09SS19FTlRJVFlfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCdjb2xvcicgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG10YyA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChtdGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJvcGUobXRjLCBjb21wIGFzIE5ldHdvcmtFbnRpdHlDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRSZW1vdmUoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IE1PVVNFX1RSQUlMX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBjID0gY29tcCBhcyBNb3VzZVRyYWlsQ29tcG9uZW50O1xuICAgICAgICAgICAgYy5fZy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYW5nZVNjYWxlcygpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLnN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJvcGUoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb3VyY2VFZGl0ZWQocmVzOiBSZXNvdXJjZSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzLnR5cGUgPT09IEJPQVJEX1RSQU5TRk9STV9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkU2NhbGUgPSAocmVzIGFzIEJvYXJkVHJhbnNmb3JtUmVzb3VyY2UpLnNjYWxlWCB8fCAxO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTY2FsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZVRyYWlsUGFja2V0KHBrdDogUC5Nb3VzZVRyYWlsUGFja2V0LCBpbmZvOiBQYWNrZXRJbmZvKTogdm9pZCB7XG4gICAgICAgIHRoaXMub25GdXR1cmUoaW5mby5zZW5kZXJJZCwgcGt0LmZ1dCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxheWVyLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGF5ZXIuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5yb290LmFkZENoaWxkKHRoaXMubGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzLmJvYXJkLmFkZENoaWxkKHRoaXMuY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnBhcmVudExheWVyID0gdGhpcy5sYXllcjtcblxuICAgICAgICB0aGlzLm5ldHdvcmtTdGF0dXNSZXNvdXJjZSA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoTkVUV09SS19TVEFUVVNfVFlQRSkgYXMgTmV0d29ya1N0YXR1c1Jlc291cmNlO1xuXG5cbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMudGlja2VyLmFkZCh0aGlzLm9uVGljaywgdGhpcyk7XG4gICAgICAgIHRoaXMubmV0d29ya1N5cy5jaGFubmVsLnBhY2tldHMub24oJ210cmFpbCcsIHRoaXMub25Nb3VzZVRyYWlsUGFja2V0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLm5ldHdvcmtTeXMuY2hhbm5lbC5wYWNrZXRzLm9mZignbXRyYWlsJywgdGhpcy5vbk1vdXNlVHJhaWxQYWNrZXQsIHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy50aWNrZXIucmVtb3ZlKHRoaXMub25UaWNrLCB0aGlzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3VzZVRyYWlsVG9vbFBhcnQgaW1wbGVtZW50cyBUb29sUGFydCB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuTU9VU0VfVFJBSUw7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzeXM6IE1vdXNlVHJhaWxTeXN0ZW07XG5cbiAgICBmb2xsb3dlcjogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IE1vdXNlVHJhaWxTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdEZvbGxvd2VyKCkge1xuICAgICAgICB0aGlzLmtpbGxGb2xsb3dlcigpO1xuXG4gICAgICAgIHRoaXMuZm9sbG93ZXIgPSB0aGlzLnN5cy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAga2lsbEZvbGxvd2VyKCkge1xuICAgICAgICBpZiAodGhpcy5mb2xsb3dlciA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5mb2xsb3dlcik7XG4gICAgICAgICAgICB0aGlzLmZvbGxvd2VyID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVGljaygpIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5zeXMud29ybGQuZ2V0Q29tcG9uZW50KHRoaXMuZm9sbG93ZXIsIFBPU0lUSU9OX1RZUEUpIGFzIFBvc2l0aW9uQ29tcG9uZW50O1xuICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShwb3MueCkgfHwgIU51bWJlci5pc0Zpbml0ZShwb3MueSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5zeXMub25TZWxmSW5wdXQocG9zLngsIHBvcy55KTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0Rm9sbG93ZXIoKTtcbiAgICAgICAgdGhpcy5zeXMucGl4aUJvYXJkU3lzLnRpY2tlci5hZGQodGhpcy5vblRpY2ssIHRoaXMsIFBJWEkuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zeXMucGl4aUJvYXJkU3lzLnRpY2tlci5yZW1vdmUodGhpcy5vblRpY2ssIHRoaXMpO1xuICAgICAgICB0aGlzLmtpbGxGb2xsb3dlcigpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBDdWJpYyBpbnRlcnBvbGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9vc3V1c2hpL1Ntb290aC5qc1xuICovXG5mdW5jdGlvbiBjbGlwSW5wdXQ8WD4oazogbnVtYmVyLCBhcnI6IFhbXSk6IFgge1xuICAgIGlmIChrIDwgMCkgayA9IDA7XG4gICAgaWYgKGsgPiBhcnIubGVuZ3RoIC0gMSkgayA9IGFyci5sZW5ndGggLSAxO1xuICAgIHJldHVybiBhcnJba107XG59XG5cbmZ1bmN0aW9uIGdldFRhbmdlbnQoazogbnVtYmVyLCBmYWN0b3I6IG51bWJlciwgYXJyYXk6IG51bWJlcltdKSB7XG4gICAgcmV0dXJuIGZhY3RvciAqIChjbGlwSW5wdXQoayArIDEsIGFycmF5KSAtIGNsaXBJbnB1dChrIC0gMSwgYXJyYXkpKSAvIDI7XG59XG5cbmZ1bmN0aW9uIGN1YmljSW50ZXJwb2xhdGlvbihhcnJheTogbnVtYmVyW10sIHQ6IG51bWJlciwgdGFuZ2VudEZhY3RvcjogbnVtYmVyID0gMSkge1xuICAgIGNvbnN0IGsgPSBNYXRoLmZsb29yKHQpO1xuICAgIGNvbnN0IG0gPSBbZ2V0VGFuZ2VudChrLCB0YW5nZW50RmFjdG9yLCBhcnJheSksIGdldFRhbmdlbnQoayArIDEsIHRhbmdlbnRGYWN0b3IsIGFycmF5KV07XG4gICAgY29uc3QgcCA9IFtjbGlwSW5wdXQoaywgYXJyYXkpLCBjbGlwSW5wdXQoayArIDEsIGFycmF5KV07XG4gICAgdCAtPSBrO1xuICAgIGNvbnN0IHQyID0gdCAqIHQ7XG4gICAgY29uc3QgdDMgPSB0ICogdDI7XG4gICAgcmV0dXJuICgyICogdDMgLSAzICogdDIgKyAxKSAqIHBbMF0gKyAodDMgLSAyICogdDIgKyB0KSAqIG1bMF0gKyAoLTIgKiB0MyArIDMgKiB0MikgKiBwWzFdICsgKHQzIC0gdDIpICogbVsxXTtcbn1cbiIsImltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7TXVsdGlFY3NTdG9yYWdlLCBTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgSE9TVF9ISURERU5fVFlQRSxcbiAgICBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnQsXG4gICAgTkFNRV9UWVBFLFxuICAgIE5hbWVDb21wb25lbnRcbn0gZnJvbSBcIi4uL2NvbXBvbmVudFwiO1xuaW1wb3J0IHtFbGVtZW50VHlwZSwgR1JBUEhJQ19UWVBFLCBHcmFwaGljQ29tcG9uZW50LCBQb2ludEVsZW1lbnQsIFRleHRFbGVtZW50LCBWaXNpYmlsaXR5VHlwZX0gZnJvbSBcIi4uLy4uL2dyYXBoaWNzXCI7XG5pbXBvcnQge1BPSU5UX1JBRElVU30gZnJvbSBcIi4vYmFjay9waXhpR3JhcGhpY1N5c3RlbVwiO1xuaW1wb3J0IHtEaXNwbGF5UHJlY2VkZW5jZX0gZnJvbSBcIi4uLy4uL3BoYXNlL2VkaXRNYXAvZGlzcGxheVByZWNlZGVuY2VcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sU3lzdGVtLCBUb29sUGFydH0gZnJvbSBcIi4vYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJFdmVudHMsIFBvaW50ZXJVcEV2ZW50fSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7U3Bhd25Db21tYW5kS2luZH0gZnJvbSBcIi4vY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7ZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtmaW5kRm9yZWdyb3VuZCwgUEFSRU5UX0xBWUVSX1RZUEUsIFBhcmVudExheWVyQ29tcG9uZW50fSBmcm9tIFwiLi9iYWNrL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQgeyBOYW1lQXNMYWJlbENvbXBvbmVudCwgTkFNRV9BU19MQUJFTF9UWVBFIH0gZnJvbSBcIi4vYmFjay9uYW1lQXNMYWJlbFN5c3RlbVwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHsgQ3JlYXRpb25JbmZvUmVzb3VyY2UsIENSRUFUSU9OX0lORk9fVFlQRSB9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuXG5leHBvcnQgY29uc3QgUElOX1RZUEUgPSAncGluJztcbmV4cG9ydCB0eXBlIFBJTl9UWVBFID0gdHlwZW9mIFBJTl9UWVBFO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBpbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUElOX1RZUEU7XG4gICAgY29sb3I6IG51bWJlcjtcbn1cblxuXG5leHBvcnQgY2xhc3MgUGluU3lzdGVtIGltcGxlbWVudHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBuYW1lID0gUElOX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW1RPT0xfVFlQRSwgR1JBUEhJQ19UWVBFLCBTRUxFQ1RJT05fVFlQRSwgTkFNRV9BU19MQUJFTF9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcblxuICAgIHJlYWRvbmx5IHN0b3JhZ2UgPSBuZXcgU2luZ2xlRWNzU3RvcmFnZTxQaW5Db21wb25lbnQ+KFBJTl9UWVBFLCB0cnVlLCB0cnVlKTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFNFTEVDVElPTl9UWVBFKSBhcyBTZWxlY3Rpb25TeXN0ZW07XG5cbiAgICAgICAgaWYgKHdvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbFBhcnQobmV3IENyZWF0ZVBpblRvb2xQYXJ0KHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChUb29sLkNSRUFURV9QSU4sIFsnc3BhY2VfcGFuJywgJ2NyZWF0ZV9waW4nLCAnY3JlYXRpb25fZmxhZyddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmxkLmFkZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgIT09IFBJTl9UWVBFKSByZXR1cm47XG4gICAgICAgIGxldCBwaW4gPSBjIGFzIFBpbkNvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGRpc3BsYXkgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICBpZiAoZGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkaXNwbGF5ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuY3JlYXRlRWxlbWVudCgpXG4gICAgICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwgZGlzcGxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWRyYXdDb21wb25lbnQocGluLCBkaXNwbGF5LmRpc3BsYXkgYXMgUG9pbnRFbGVtZW50KTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogTkFNRV9BU19MQUJFTF9UWVBFLFxuICAgICAgICAgICAgaW5pdGlhbE9mZnNldDoge3g6IDAsIHk6IC1QT0lOVF9SQURJVVN9LFxuICAgICAgICB9IGFzIE5hbWVBc0xhYmVsQ29tcG9uZW50KTtcblxuICAgICAgICAvLyBJbiBzb21lIG9sZGVyIHZlcnNpb25zIHRoZXJlIHdhcyBhIGxhYmVsIGZpZWxkIHRoYXQgd2FzIHByaW50ZWQgb24gdG9wIG9mIHRoZSBwb2ludCxcbiAgICAgICAgLy8gdGhpcyBoYXMgYmVlbiByZW1vdmVkIGluIGZhdm91ciBvZiB0aGUgXCJuYW1lXCIgY29tcG9uZW50cyAoYW5kIHRoZSAnbmFtZV9hc19sYWJlbCcgc3lzdGVtKVxuICAgICAgICAvLyBzbyBpZiB5b3UgZmluZCBhIGxhYmVsIHRoYXQgaXMgbm90IGxpc3RlZCBpbiB0aGUgbmFtZXMgYWRkIGl0IHRvIGtlZXAgY29tcGF0aWJpbGl0eVxuICAgICAgICBpZiAoKHBpbiBhcyBhbnkpLmxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gKHBpbiBhcyBhbnkpLmxhYmVsO1xuICAgICAgICAgICAgbGV0IGlzTmFtZUZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mICh0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChOQU1FX1RZUEUpIGFzIE11bHRpRWNzU3RvcmFnZTxOYW1lQ29tcG9uZW50PikuZ2V0Q29tcG9uZW50cyhwaW4uZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSBsYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBpc05hbWVGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc05hbWVGb3VuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KHBpbi5lbnRpdHksIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTkFNRV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsYWJlbCxcbiAgICAgICAgICAgICAgICB9IGFzIE5hbWVDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgKHBpbiBhcyBhbnkpLmxhYmVsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQSU5fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHBpbiA9IGNvbXAgYXMgUGluQ29tcG9uZW50O1xuXG4gICAgICAgICAgICBsZXQgZ3JhcGMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICAgICAgbGV0IHBpbkRpc3BsYXkgPSBncmFwYy5kaXNwbGF5IGFzIFBvaW50RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q29tcG9uZW50KHBpbiwgcGluRGlzcGxheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVFbGVtZW50KCk6IFBvaW50RWxlbWVudCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5QT0lOVCxcbiAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5QSU5TLFxuICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLk5PUk1BTCxcbiAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgfSBhcyBQb2ludEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWRyYXdDb21wb25lbnQocGluOiBQaW5Db21wb25lbnQsIGRpc3BsYXk6IFBvaW50RWxlbWVudCk6IHZvaWQge1xuICAgICAgICBkaXNwbGF5LmNvbG9yID0gcGluLmNvbG9yO1xuXG4gICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChwaW4uZW50aXR5LCBHUkFQSElDX1RZUEUsIHsgZGlzcGxheSB9LCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQaW5Ub29sUGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5DUkVBVEVfUElOO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQaW5TeXN0ZW07XG5cbiAgICAvLyBFbnRpdHkgb2YgdGhlIHBpbiB0byBiZSBjcmVhdGVkIChvciAtMSlcbiAgICBjcmVhdGVQaW46IG51bWJlciA9IC0xO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBQaW5TeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgaW5pdENyZWF0aW9uKCkge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgICAgIGxldCBjb2xvciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGKTtcblxuICAgICAgICBsZXQgZGlzcGxheSA9IHRoaXMuc3lzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICAgICAgZGlzcGxheS5jb2xvciA9IGNvbG9yO1xuICAgICAgICBkaXNwbGF5LnZpc2liID0gVmlzaWJpbGl0eVR5cGUuQUxXQVlTX1ZJU0lCTEU7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSB0aGlzLnN5cy53b3JsZC5zcGF3bkVudGl0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBIT1NUX0hJRERFTl9UWVBFLFxuICAgICAgICAgICAgfSBhcyBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHUkFQSElDX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICAgIH0gYXMgR3JhcGhpY0NvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGT0xMT1dfTU9VU0VfVFlQRSxcbiAgICAgICAgICAgIH0gYXMgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2FuY2VsQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVBpbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmRlc3Bhd25FbnRpdHkodGhpcy5jcmVhdGVQaW4pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQaW4gPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbmZpcm1DcmVhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlUGluID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5zeXMud29ybGQ7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuY3JlYXRlUGluO1xuICAgICAgICBsZXQgZyA9IHdvcmxkLmdldENvbXBvbmVudChpZCwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50O1xuICAgICAgICBsZXQgbG9jID0gd29ybGQuZ2V0Q29tcG9uZW50KGlkLCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgd29ybGQuZGVzcGF3bkVudGl0eShpZCk7XG5cbiAgICAgICAgY29uc3QgY21kID0gU3Bhd25Db21tYW5kS2luZC5mcm9tKHdvcmxkLCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICB4OiBsb2MueCxcbiAgICAgICAgICAgICAgICB5OiBsb2MueSxcbiAgICAgICAgICAgIH0gYXMgUG9zaXRpb25Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUElOX1RZUEUsXG4gICAgICAgICAgICAgICAgY29sb3I6IChnLmRpc3BsYXkgYXMgUG9pbnRFbGVtZW50KS5jb2xvcixcbiAgICAgICAgICAgIH0gYXMgUGluQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBBUkVOVF9MQVlFUl9UWVBFLFxuICAgICAgICAgICAgICAgIGxheWVyOiBmaW5kRm9yZWdyb3VuZCh0aGlzLnN5cy53b3JsZCksXG4gICAgICAgICAgICB9IGFzIFBhcmVudExheWVyQ29tcG9uZW50LFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVBpbiA9IC0xO1xuICAgICAgICBjb25zdCBjcmVhdGlvbkluZm8gPSB0aGlzLnN5cy53b3JsZC5nZXRSZXNvdXJjZShDUkVBVElPTl9JTkZPX1RZUEUpIGFzIENyZWF0aW9uSW5mb1Jlc291cmNlIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoY3JlYXRpb25JbmZvPy5leGl0QWZ0ZXJDcmVhdGlvbiA/PyB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICAgICAgdG9vbDogVG9vbC5JTlNQRUNULFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHdvcmxkLCBjbWQpO1xuICAgIH1cblxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5pdENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhbmNlbENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJVcEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5pc0luc2lkZSkge1xuICAgICAgICAgICAgdGhpcy5jb25maXJtQ3JlYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemUoZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgfVxufSIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1cIjtcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQgeyBTaW5nbGVFY3NTdG9yYWdlIH0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBVbmlvbkZpbmRTZXQgfSBmcm9tIFwiLi4vLi4vdXRpbC9VbmlvbkZpbmRTZXRcIjtcbmltcG9ydCB7IEJvYXJkU2l6ZVJlc291cmNlLCBCb2FyZFRyYW5zZm9ybVJlc291cmNlLCBCT0FSRF9TSVpFX1RZUEUsIEJPQVJEX1RSQU5TRk9STV9UWVBFLCBQSVhJX0JPQVJEX1RZUEUgfSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tcG9uZW50LCBQTEFZRVJfVFlQRSB9IGZyb20gXCIuL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHsgRHluYW1pY1RyZWUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvZHluYW1pY1RyZWVcIjtcbmltcG9ydCB7IEFhYmIgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvYWFiYlwiO1xuaW1wb3J0IHsgYXJyYXlSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uLy4uL3V0aWwvYXJyYXlcIjtcblxuLy8gSWYgdHdvIHBvaW50cyBhcmUgY2xvc2VyIHRoYW4gdGhpcyB0aGV5IGFyZSBpbiB0aGUgc2FtZSBjbHVzdGVyXG5jb25zdCBDTFVTVEVSX0RJU1RBTkNFID0gMTAgKiAxLjUgKiAxMjg7Ly8gMSBncmlkID0gMS41bTtcblxuZXhwb3J0IGNvbnN0IFBMQVlFUl9MT0NBVE9SX1RZUEUgPSAncGxheWVyX2xvY2F0b3InO1xuZXhwb3J0IHR5cGUgUExBWUVSX0xPQ0FUT1JfVFlQRSA9IHR5cGVvZiBQTEFZRVJfTE9DQVRPUl9UWVBFO1xuXG4vLyBUT0RPOiBzaG91bGQgd2UgYWx3YXlzIGNvbXB1dGUgY2x1c3RlcnMgdXNpbmcgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRHluYW1pY19jb25uZWN0aXZpdHkgP1xuZXhwb3J0IGNsYXNzIFBsYXllckxvY2F0b3JTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBuYW1lID0gUExBWUVSX0xPQ0FUT1JfVFlQRTtcbiAgICByZWFkb25seSBkZXBlbmRlbmNpZXMgPSBbUElYSV9CT0FSRF9UWVBFLCBQTEFZRVJfVFlQRV07XG5cbiAgICAvLyBXaGVuIHRoZSBkYXRhIGlzIGRpcnR5IHRoaXMgaXMgc2V0IHRvIHVuZGVmaW5lZC5cbiAgICAvLyBUaGlzIGlzIGFuIGFycmF5IG9mIGRpc2pvaW50IEFBQkJzIHJlcHJlc2VudGluZyBjbHVzdGVyc1xuICAgIGNsdXN0ZXJzOiBBcnJheTxBYWJiPiB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignZm9jdXNfb25fcmFuZG9tX3BhcnR5JywgdGhpcy5vbkZvY3VzT25SYW5kb21QYXJ0eSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEFkZChjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGNvbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jbHVzdGVycyAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBPU0lUSU9OX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUExBWUVSX1RZUEUpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsdXN0ZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRm9jdXNPblJhbmRvbVBhcnR5KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IHRoaXMuZW5zdXJlQ2x1c3RlcnMoKTtcblxuICAgICAgICBpZiAoY2x1c3RlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsdXN0ZXIgPSBhcnJheVJhbmRvbUVsZW1lbnQoY2x1c3RlcnMpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBjbHVzdGVyLmdldENlbnRlcigpO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSkgYXMgQm9hcmRUcmFuc2Zvcm1SZXNvdXJjZTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQk9BUkRfU0laRV9UWVBFKSBhcyBCb2FyZFNpemVSZXNvdXJjZTtcblxuICAgICAgICBsZXQgY2hhbmdlcyA9IHtcbiAgICAgICAgICAgIHBvc1g6IC1jZW50ZXIueCAqIHRyYW5zLnNjYWxlWCArIHNpemUud2lkdGggLyAyLFxuICAgICAgICAgICAgcG9zWTogLWNlbnRlci55ICogdHJhbnMuc2NhbGVZICsgc2l6ZS5oZWlnaHQgLyAyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndvcmxkLmVkaXRSZXNvdXJjZShCT0FSRF9UUkFOU0ZPUk1fVFlQRSwgY2hhbmdlcyk7XG4gICAgfVxuXG4gICAgZW5zdXJlQ2x1c3RlcnMoKTogQXJyYXk8QWFiYj4ge1xuICAgICAgICBpZiAodGhpcy5jbHVzdGVycyA9PT0gdW5kZWZpbmVkKSB0aGlzLmJ1aWxkQ2x1c3RlcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2x1c3RlcnMhITtcbiAgICB9XG5cbiAgICBidWlsZENsdXN0ZXJzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsdXN0ZXJzID0gW107XG5cbiAgICAgICAgY29uc3QgcGxheWVyU3RvcmFnZSA9IHRoaXMud29ybGQuZ2V0U3RvcmFnZShQTEFZRVJfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQbGF5ZXJDb21wb25lbnQ+O1xuICAgICAgICBjb25zdCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5nZXRTdG9yYWdlKFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIC8vIEkgZXhwZWN0IHRoZXJlIHRvIGJlIGEgbG93IG51bWJlciBvZiBwbGF5ZXJzICg8PDMwKSBhbmQgb2YgY2x1c3RlcnMgKDw8MTApLFxuICAgICAgICAvLyBzbyBhbnkgYWxnb3JpdGhtIHdpbGwgZG8gd2l0aCBzb21lIGNhY2hlLlxuICAgICAgICAvLyBUaGlzIGlzIGEgTyhQKk4qbG9nKFApKSAod2hlcmUgUCA9IG4uIG9mIHBsYXllcnMgYW5kIE4gPSBhdmcuIG4uIG9mIHBsYXllcnMgbmVhciBhIHBsYXllcilcbiAgICAgICAgLy8gYWxnb3JpdGhtIHRoYXQgdXNlcyBhbiBVbmlvbkZpbmRTZXQgdG8gY29tcHV0ZSB0aGUgZGlmZmVyZW50IHNldHMgYW5kIGEgZGlmZmVyZW5cbiAgICAgICAgLy8gYm91bmRpbmcgYm94IGFycmF5IHRvIHN0b3JlIHRoZSBzZXRzIGJvdW5kaW5nIGJveCAodGhhdCBpcyBvbmx5IHVzZWQgdG8gY29tcHV0ZSB0aGUgY2x1c3RlciBjZW50ZXIpXG4gICAgICAgIC8vIFRoZSBhbGdvcml0aG0gaXMgZGl2aWRlZCBpbnRvIDIgcGFydHM6XG4gICAgICAgIC8vIDEuICBBbGwgb2YgdGhlIHBsYXllcnMgYXJlIHB1dCBpbnRvIGFuIEFhYmIgVHJlZSBhbmQgYXJlIGVudW1lcmF0ZWQgaW4gYSAxLi5QIHJhbmdlXG4gICAgICAgIC8vIDEuNSBBIG5ldyBVbmlvbkZpbmRTZXQgaXMgYnVpbHQgKHdpdGggbGVuZ3RoIFApIHRoYXQgdXNlcyB0aGUgbmV3bHkgZW51bWVyYXRlZCBwbGF5ZXJzXG4gICAgICAgIC8vIDIuICBGb3IgZWFjaCBwbGF5ZXIgc2VhcmNoIGFsbCBvZiB0aGUgbmVhciBwbGF5ZXJzICh3aXRoIGRpc3RhbmNlIDwgQ0xVU1RFUl9ESVNUQU5DRSlcbiAgICAgICAgLy8gICAgICAgYW5kIG1lcmdlIHRoZWlyIHNldHMgdG9nZXRoZXIgKHVwZGF0aW5nIHRoZSBib3VuZGluZyBib3hlcyBhY2NvcmRpbmdseSlcblxuICAgICAgICBsZXQgdHJlZSA9IG5ldyBEeW5hbWljVHJlZTxQbGF5ZXJDb21wb25lbnQ+KCk7XG4gICAgICAgIGxldCBwbGF5ZXJNYXAgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuICAgICAgICAvLyBVc2VkIGZvciBub3RoaW5nIGVsc2UgdGhhbiBmaW5kaW5nIHRoZSBjZW50ZXIuXG4gICAgICAgIGxldCBib3VuZHMgPSBuZXcgQXJyYXk8QWFiYj4oKTtcblxuICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgcGxheWVyU3RvcmFnZS5nZXRDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIHRyZWUuY3JlYXRlUHJveHkoQWFiYi5mcm9tUG9pbnQocG9zKSwgcGxheWVyKTtcbiAgICAgICAgICAgIGJvdW5kcy5wdXNoKEFhYmIuZnJvbVBvaW50KHBvcykpO1xuICAgICAgICAgICAgcGxheWVyTWFwLnNldChwbGF5ZXIuZW50aXR5LCBwbGF5ZXJNYXAuc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2V0ID0gbmV3IFVuaW9uRmluZFNldChwbGF5ZXJNYXAuc2l6ZSk7XG4gICAgICAgIC8vIFRPRE86IHNob3VsZCB3ZSBidWlsZCBhbm90aGVyIHRyZWUgb3Igc2hvdWxkIHdlIHVzZSB0aGVcbiAgICAgICAgLy8gZ2VuZXJpYyBvbmU/IHRoZSBjb3N0IGlzIHRoZSBzYW1lIGJ1dCB0aGUgZ2VuZXJpYyB1bmUgaXMgKG11Y2gpIHRhbGxlclxuICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgcGxheWVyU3RvcmFnZS5nZXRDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCBhYWJiID0gQWFiYi5mcm9tUG9pbnQocG9zKTtcbiAgICAgICAgICAgIGFhYmIuZXh0ZW5kKENMVVNURVJfRElTVEFOQ0UgLyAyLCBhYWJiKTtcbiAgICAgICAgICAgIGNvbnN0IGFzZXQgPSBzZXQuZmluZChwbGF5ZXJNYXAuZ2V0KHBsYXllci5lbnRpdHkpISEpO1xuXG4gICAgICAgICAgICAvLyBUaGUgcXVlcnkncyBjb21wbGV4aXR5IHNob3VsZCBiZSBPKGxvZyhOKSkgdGhlb3JldGljYWxseVxuICAgICAgICAgICAgLy8gZm9yIGFuIGluZmluaXRlbHkgc21hbGwgQWFiYlxuICAgICAgICAgICAgZm9yIChsZXQgbmVhciBvZiB0cmVlLnF1ZXJ5KGFhYmIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5lYXIudGFnID09PSB1bmRlZmluZWQgfHwgbmVhci50YWcgPT09IHBsYXllcikgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gam9pbiBwbGF5ZXIgYW5kIG5lYXJcblxuICAgICAgICAgICAgICAgIGNvbnN0IGJzZXQgPSBzZXQuZmluZChwbGF5ZXJNYXAuZ2V0KG5lYXIudGFnLmVudGl0eSkhISk7XG4gICAgICAgICAgICAgICAgbGV0IHVuaW9uUGFyZW50ID0gc2V0LnVuaW9uKGFzZXQsIGJzZXQpO1xuICAgICAgICAgICAgICAgIGlmICh1bmlvblBhcmVudCA8IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IHVuaW9uUGFyZW50ID09PSBhc2V0ID8gYnNldCA6IGFzZXQ7XG5cbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBib3VuZHMgYW5kIHN0b3JlIHRoZW0gaW4gdGhlIHBhcmVudCdzIGJvdW5kXG4gICAgICAgICAgICAgICAgYm91bmRzW3VuaW9uUGFyZW50XS5jb21iaW5lKGJvdW5kc1tvdGhlcl0sIGJvdW5kc1t1bmlvblBhcmVudF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHJlc3VsdHNcbiAgICAgICAgLy8gVGhlIHJlc3VsdGluZyBBQUJCcyBhcmUgc3RvcmVkIGluIHRoZSBsZWFkZXJzIG9mIHRoZSB2YXJpb3VzIHNldHNcbiAgICAgICAgLy8gKG9yIHRoZSB0cmVlIHJvb3RzIGlmIHlvdSdyZSB0aGlua2luZyBhYm91dCB0aGUgVUZTIGFzIGEgZm9yZXN0KVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNldC5wYXJlbnRzW2ldICE9PSBpKSBjb250aW51ZTsgLy8gTm90IHRoZSByb290XG4gICAgICAgICAgICB0aGlzLmNsdXN0ZXJzLnB1c2goYm91bmRzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn0iLCJpbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge0NvbXBvbmVudCwgSE9TVF9ISURERU5fVFlQRSwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7VklTSUJJTElUWV9UWVBFLCBWaXNpYmlsaXR5Q29tcG9uZW50LCBWaXNpYmlsaXR5U3lzdGVtfSBmcm9tIFwiLi9iYWNrL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCAqIGFzIFBvaW50TGlnaHRSZW5kZXIgZnJvbSBcIi4uLy4uL2dhbWUvcG9pbnRMaWdodFJlbmRlcmVyXCI7XG5pbXBvcnQge0RFU1RST1lfQUxMfSBmcm9tIFwiLi4vLi4vdXRpbC9waXhpXCI7XG5pbXBvcnQge1xuICAgIG5ld1Zpc2liaWxpdHlBd2FyZUNvbXBvbmVudCxcbiAgICBWSVNJQklMSVRZX0FXQVJFX1RZUEUsXG4gICAgVmlzaWJpbGl0eUF3YXJlQ29tcG9uZW50LFxuICAgIFZpc2liaWxpdHlBd2FyZVN5c3RlbVxufSBmcm9tIFwiLi9iYWNrL3Zpc2liaWxpdHlBd2FyZVN5c3RlbVwiO1xuaW1wb3J0IHtMSUdIVF9TRVRUSU5HU19UWVBFLCBMSUdIVF9UWVBFLCBMaWdodENvbXBvbmVudCwgTGlnaHRTZXR0aW5ncywgTGlnaHRTeXN0ZW0sIExPQ0FMX0xJR0hUX1NFVFRJTkdTX1RZUEUsIExvY2FsTGlnaHRTZXR0aW5nc30gZnJvbSBcIi4vbGlnaHRTeXN0ZW1cIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L2FhYmJcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge0dyaWRSZXNvdXJjZSwgUmVzb3VyY2V9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtQSU5fVFlQRX0gZnJvbSBcIi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge0dSSURfVFlQRX0gZnJvbSBcIi4vZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtTVEFOREFSRF9HUklEX09QVElPTlN9IGZyb20gXCIuLi8uLi9nYW1lL2dyaWRcIjtcblxuZXhwb3J0IGNvbnN0IFBMQVlFUl9UWVBFID0gJ3BsYXllcic7XG5leHBvcnQgdHlwZSBQTEFZRVJfVFlQRSA9IHR5cGVvZiBQTEFZRVJfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQTEFZRVJfVFlQRTtcbiAgICBuaWdodFZpc2lvbjogYm9vbGVhbjtcbiAgICByYW5nZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEFkZGVkIHRvIGV2ZXJ5IG9iamVjdCB0aGF0IG1pZ2h0IGJlIHZpc2libGUgYnkgYSBwbGF5ZXIsIGl0IHRyYWNrcyBob3cgbWFueSBwbGF5ZXJzIGFuZCBob3cgbWFueSBsaWdodHNcbiAqIGFyZSBzZWVpbmcgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCBQTEFZRVJfVklTSUJMRV9UWVBFID0gJ3BsYXllcl92aXNpYmxlJztcbmV4cG9ydCB0eXBlIFBMQVlFUl9WSVNJQkxFX1RZUEUgPSB0eXBlb2YgUExBWUVSX1ZJU0lCTEVfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyVmlzaWJsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUExBWUVSX1ZJU0lCTEVfVFlQRTtcbiAgICB2aXNpYmxlOiBib29sZWFuO1xuICAgIGlzV2FsbD86IGJvb2xlYW47Ly8gTm9uIG1vZGlmaWFibGVcbiAgICBfcmVmQ291bnQ6IG51bWJlcjtcbiAgICBfbGlnaHRDb3VudDogbnVtYmVyO1xuICAgIF9wbGF5ZXJDb3VudDogbnVtYmVyO1xuICAgIF9wbGF5ZXJOaWdodFZpc2lvbkNvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eVNwcmVhZERhdGEge1xuICAgIG5pZ2h0VmlzaW9uOiBib29sZWFuO1xuICAgIGFhYmI6IEFhYmIsXG4gICAgbGlnaHRzOiBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhW107XG4gICAgcGxheWVyczogVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YVtdO1xuICAgIG5pZ2h0VmlzUGxheWVyczogVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGEge1xuICAgIG1lc2g6IFBJWEkuTWVzaDtcbiAgICBwb3M6IFBJWEkuSVBvaW50RGF0YTtcbiAgICB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQsXG59XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCA9ICd2aXNpYmlsaXR5X3NwcmVhZCc7XG5leHBvcnQgdHlwZSBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCA9IHR5cGVvZiBFVkVOVF9WSVNJQklMSVRZX1NQUkVBRDtcblxuZXhwb3J0IGNsYXNzIFBsYXllclN5c3RlbSBpbXBsZW1lbnRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFBMQVlFUl9UWVBFO1xuICAgIHJlYWRvbmx5IGRlcGVuZGVuY2llcyA9IFtQSU5fVFlQRSwgVklTSUJJTElUWV9UWVBFLCBWSVNJQklMSVRZX0FXQVJFX1RZUEVdO1xuXG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBsaWdodFN5c3RlbTogTGlnaHRTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSB2aXNpYmlsaXR5U3lzdGVtOiBWaXNpYmlsaXR5U3lzdGVtO1xuXG4gICAgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFBsYXllckNvbXBvbmVudD4oUExBWUVSX1RZUEUsIHRydWUsIHRydWUpO1xuICAgIHZpc2libGVTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UGxheWVyVmlzaWJsZUNvbXBvbmVudD4oUExBWUVSX1ZJU0lCTEVfVFlQRSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIHByaXZhdGUgZ3JpZFNpemU6IG51bWJlcjtcblxuICAgIC8vIElmIGZhbHNlIGEgcGxheWVyIGNhbiBzZWUgYSB0aGluZyBvbmx5IGlmIGl0J3MgaWxsdW1pbmF0ZWQgYnkgYXJ0aWZpY2lhbCBsaWdodFxuICAgIGFtYmllbnRJbGx1bWluYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICB0aGlzLmxpZ2h0U3lzdGVtID0gd29ybGQuc3lzdGVtcy5nZXQoTElHSFRfVFlQRSkgYXMgTGlnaHRTeXN0ZW07XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eVN5c3RlbSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgVmlzaWJpbGl0eVN5c3RlbTtcblxuICAgICAgICB0aGlzLmdyaWRTaXplID0gKHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoR1JJRF9UWVBFKSBhcyBHcmlkUmVzb3VyY2UgPz8gU1RBTkRBUkRfR1JJRF9PUFRJT05TKS5zaXplO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLndvcmxkLmFkZFN0b3JhZ2UodGhpcy52aXNpYmxlU3RvcmFnZSk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfZWRpdGVkJywgdGhpcy5vbkNvbXBvbmVudEVkaXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLm9uKCdyZXNvdXJjZV9lZGl0ZWQnLCB0aGlzLm9uUmVzb3VyY2VFZGl0ZWQsIHRoaXMpO1xuXG4gICAgICAgIGxldCB2aXNBd2FyZSA9IHdvcmxkLnN5c3RlbXMuZ2V0KFZJU0lCSUxJVFlfQVdBUkVfVFlQRSkgYXMgVmlzaWJpbGl0eUF3YXJlU3lzdGVtO1xuICAgICAgICB2aXNBd2FyZS5ldmVudHMub24oJ2F3YXJlX3VwZGF0ZScsIHRoaXMub25WaXNpYmlsaXR5QXdhcmVVcGRhdGUsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUodDogUGxheWVyVmlzaWJsZUNvbXBvbmVudCkge1xuICAgICAgICBsZXQgbmV3VmlzaWJsZSA9IHQuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQgPiAwIHx8XG4gICAgICAgICAgICAoKHRoaXMuYW1iaWVudElsbHVtaW5hdGVkIHx8IHQuX2xpZ2h0Q291bnQgPiAwIHx8IHQuaXNXYWxsKSAmJiB0Ll9wbGF5ZXJDb3VudCA+IDApO1xuICAgICAgICBpZiAodGhpcy53b3JsZC5pc01hc3RlciAmJiB0aGlzLndvcmxkLmdldENvbXBvbmVudCh0LmVudGl0eSwgSE9TVF9ISURERU5fVFlQRSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdWaXNpYmxlICE9PSB0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudCh0LmVudGl0eSwgdC50eXBlLCB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogbmV3VmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblZpc2liaWxpdHlBd2FyZVVwZGF0ZSh0YXJnZXQ6IFZpc2liaWxpdHlBd2FyZUNvbXBvbmVudCwgYWRkZWQ6IG51bWJlcltdLCByZW1vdmVkOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICBsZXQgcGxheWVyVmlzaWJsZSA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRhcmdldC5lbnRpdHkpO1xuICAgICAgICBpZiAocGxheWVyVmlzaWJsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChsZXQgZSBvZiBhZGRlZCkge1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZSk7XG4gICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIubmlnaHRWaXNpb24pIHBsYXllclZpc2libGUuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZSwgTElHSFRfVFlQRSkgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX2xpZ2h0Q291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGUgb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQoZSk7XG4gICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLl9wbGF5ZXJDb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIubmlnaHRWaXNpb24pIHBsYXllclZpc2libGUuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQoZSwgTElHSFRfVFlQRSkgYXMgTGlnaHRDb21wb25lbnQ7XG4gICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXllclZpc2libGUuX2xpZ2h0Q291bnQgLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25QbGF5ZXJWaXNpYmxlQ291bnRlcnNVcGRhdGUocGxheWVyVmlzaWJsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk5pZ2h0VmlzaW9uVXBkYXRlKHBsYXllcjogUGxheWVyQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG5cbiAgICAgICAgbGV0IGRpZmYgPSBwbGF5ZXIubmlnaHRWaXNpb24gPyArMSA6IC0xO1xuXG4gICAgICAgIGxldCBmdW4gPSAodDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGxheWVyVmlzaWJsZSA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KHQpO1xuICAgICAgICAgICAgaWYgKHBsYXllclZpc2libGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgcGxheWVyVmlzaWJsZS5fcGxheWVyTmlnaHRWaXNpb25Db3VudCArPSBkaWZmO1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwbGF5ZXJWaXNpYmxlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgdCBvZiB2aXMuX2NhblNlZSkgZnVuKHQpO1xuICAgICAgICBpZiAodmlzLl9jYW5TZWVXYWxscykgZm9yIChsZXQgdCBvZiB2aXMuX2NhblNlZVdhbGxzKSBmdW4odCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVWaXNNZXNoRnJvbShwb3M6IFBJWEkuSVBvaW50RGF0YSwgdmlzOiBWaXNpYmlsaXR5Q29tcG9uZW50KTogUElYSS5NZXNoIHtcbiAgICAgICAgbGV0IG1lc2ggPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goJ2NvbnN0Jyk7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFBvbHlnb25zKG1lc2gsIHBvcywgdmlzLnBvbHlnb24hKTtcbiAgICAgICAgbGV0IHIgPSB2aXMucmFuZ2UgKiB0aGlzLmdyaWRTaXplO1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnVwZGF0ZU1lc2hVbmlmb3JtcyhtZXNoLCBwb3MsIHIqciwgMHhGRkZGRkYpO1xuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwcmVhZFBsYXllclZpc2liaWxpdHkocGxheWVyOiBudW1iZXIsIHBvczogUElYSS5JUG9pbnREYXRhLCB2aXM6IFZpc2liaWxpdHlDb21wb25lbnQsIG5pZ2h0VmlzaW9uOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLndvcmxkLmdldENvbXBvbmVudChwbGF5ZXIsIEhPU1RfSElEREVOX1RZUEUpKSByZXR1cm47Ly8gSWdub3JlIGhpZGRlbiBwbGF5ZXJzXG4gICAgICAgIGxldCBwbGF5ZXJWaXMgPSBQb2ludExpZ2h0UmVuZGVyLmNyZWF0ZU1lc2goJ2NvbnN0Jyk7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFBvbHlnb25zKHBsYXllclZpcywgcG9zLCB2aXMucG9seWdvbiEpO1xuICAgICAgICBsZXQgciA9IHZpcy5yYW5nZSAqIHRoaXMuZ3JpZFNpemU7XG4gICAgICAgIFBvaW50TGlnaHRSZW5kZXIudXBkYXRlTWVzaFVuaWZvcm1zKHBsYXllclZpcywgcG9zLCByICogciwgMHhGRkZGRkYpO1xuXG4gICAgICAgIGxldCBsaWdodFN0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChMSUdIVF9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPExpZ2h0Q29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgcGxheWVyRGF0YSA9IHtcbiAgICAgICAgICAgIG1lc2g6IHBsYXllclZpcyxcbiAgICAgICAgICAgIHZpcyxcbiAgICAgICAgICAgIHBvcyxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhO1xuXG5cbiAgICAgICAgbGV0IHBsYXllcnMgPSBbXTtcbiAgICAgICAgbGV0IG5pZ2h0VmlzUGxheWVycyA9IFtdO1xuXG4gICAgICAgIGxldCBsaWdodHMgPSBbXTtcbiAgICAgICAgbGV0IGFhYmI7XG4gICAgICAgIGlmICghbmlnaHRWaXNpb24gJiYgIXRoaXMuYW1iaWVudElsbHVtaW5hdGVkKSB7XG4gICAgICAgICAgICBwbGF5ZXJzLnB1c2gocGxheWVyRGF0YSk7XG5cbiAgICAgICAgICAgIGFhYmIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMudmlzaWJpbGl0eVN5c3RlbS5hYWJiVHJlZS5xdWVyeSh2aXMuYWFiYiEpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpc0NvbXBvbmVudCA9IGMudGFnITtcbiAgICAgICAgICAgICAgICBsZXQgbGlnaHRDb21wb25lbnQgPSBsaWdodFN0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpc0NvbXBvbmVudC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodENvbXBvbmVudCA9PT0gdW5kZWZpbmVkIHx8IHZpc0NvbXBvbmVudC5yYW5nZSA8PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzQ29tcG9uZW50LmVudGl0eSkhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFhYmIgPT09IHVuZGVmaW5lZCkgYWFiYiA9IHZpc0NvbXBvbmVudC5hYWJiIS5jb3B5KCk7XG4gICAgICAgICAgICAgICAgZWxzZSBhYWJiLmNvbWJpbmUodmlzQ29tcG9uZW50LmFhYmIhLCBhYWJiKTtcblxuICAgICAgICAgICAgICAgbGV0IG1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKHBvcywgdmlzQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgICAgIGxpZ2h0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaCxcbiAgICAgICAgICAgICAgICAgICAgcG9zLFxuICAgICAgICAgICAgICAgICAgICB2aXM6IHZpc0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpZ2h0cy5sZW5ndGggPT09IDApIHJldHVybjsvLyBubyBuaWdodCB2aXNpb24gQU5EIG5vIGxpZ2h0cyA9IGNhbid0IHNlZSBhIHRoaW5nIVxuICAgICAgICAgICAgYWFiYiEuaW50ZXJzZWN0KHZpcy5hYWJiISwgYWFiYiEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzLnB1c2gocGxheWVyRGF0YSlcbiAgICAgICAgICAgIGFhYmIgPSB2aXMuYWFiYjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0cyxcbiAgICAgICAgICAgIHBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnMsXG4gICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZERhdGE7XG5cbiAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChFVkVOVF9WSVNJQklMSVRZX1NQUkVBRCwgZGF0YSk7XG5cbiAgICAgICAgcGxheWVyRGF0YS5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCBsaWdodCBvZiBkYXRhLmxpZ2h0cykgbGlnaHQubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwcmVhZExpZ2h0VmlzaWJpbGl0eShsaWdodFZpczogVmlzaWJpbGl0eUNvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICAvLyBRdWl0ZSBzaW1pbGFyIHRvIHNwcmVhZFBsYXllclZpc2liaWxpdHkgYnV0IGZvbGxvd3MgYSBsaWdodCBpbnN0ZWFkIG9mIGEgcGxheWVyLFxuICAgICAgICAvLyBXaGVuIGEgbGlnaHQgdmlzaWJpbGl0eSBwb2x5Z29uIGlzIGNoYW5nZWQgdGhpcyB3aWxsIHF1ZXJ5IGVhY2ggcGxheWVyIGluIHRoZSBwb2x5Z29uJ3MgcmVhY2ggYW5kXG4gICAgICAgIC8vIHNwcmVhZCB0aGUgdmlzaWJpbGl0eSAob25seSB3aXRoIHRoYXQgbGlnaHQhKVxuXG4gICAgICAgIGlmICh0aGlzLmFtYmllbnRJbGx1bWluYXRlZCkgcmV0dXJuOy8vIFdobyBuZWVkcyBsaWdodHM/XG5cbiAgICAgICAgbGV0IHZpc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChWSVNJQklMSVRZX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8VmlzaWJpbGl0eUNvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NTdG9yYWdlID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IGxpZ2h0UG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQobGlnaHRWaXMuZW50aXR5KSE7XG4gICAgICAgIGxldCBsaWdodE1lc2ggPSB0aGlzLmNyZWF0ZVZpc01lc2hGcm9tKGxpZ2h0UG9zLCBsaWdodFZpcyk7XG5cbiAgICAgICAgbGV0IGxpZ2h0RGF0YSA9IFt7XG4gICAgICAgICAgICBtZXNoOiBsaWdodE1lc2gsXG4gICAgICAgICAgICBwb3M6IGxpZ2h0UG9zLFxuICAgICAgICAgICAgdmlzOiBsaWdodFZpcyxcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5U3ByZWFkRW50cnlEYXRhXTtcblxuICAgICAgICBsZXQgYWFiYiA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgcGxheWVycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMudmlzaWJpbGl0eVN5c3RlbS5hYWJiVHJlZS5xdWVyeShsaWdodFZpcy5hYWJiISkpIHtcbiAgICAgICAgICAgIGxldCB2aXNDb21wb25lbnQgPSBjLnRhZyE7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXNDb21wb25lbnQuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IHVuZGVmaW5lZCB8fCB2aXNDb21wb25lbnQucmFuZ2UgPD0gMCB8fCBwbGF5ZXIubmlnaHRWaXNpb24pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoYWFiYiA9PT0gdW5kZWZpbmVkKSBhYWJiID0gdmlzQ29tcG9uZW50LmFhYmIhLmNvcHkoKTtcbiAgICAgICAgICAgIGVsc2UgYWFiYi5jb21iaW5lKHZpc0NvbXBvbmVudC5hYWJiISwgYWFiYik7XG5cbiAgICAgICAgICAgIGxldCB2aXMgPSB2aXNTdG9yYWdlLmdldENvbXBvbmVudChwbGF5ZXIuZW50aXR5KSE7XG4gICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQocGxheWVyLmVudGl0eSkhO1xuXG4gICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXMpO1xuXG4gICAgICAgICAgICBwbGF5ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc2gsXG4gICAgICAgICAgICAgICAgcG9zLFxuICAgICAgICAgICAgICAgIHZpcyxcbiAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVycy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBhYWJiIS5pbnRlcnNlY3QobGlnaHRWaXMuYWFiYiEsIGFhYmIhKTtcblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGFhYmIsXG4gICAgICAgICAgICBsaWdodHM6IGxpZ2h0RGF0YSxcbiAgICAgICAgICAgIHBsYXllcnMsXG4gICAgICAgICAgICBuaWdodFZpc1BsYXllcnM6IFtdLFxuICAgICAgICAgICAgbmlnaHRWaXNpb246IGZhbHNlLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWREYXRhO1xuXG4gICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoRVZFTlRfVklTSUJJTElUWV9TUFJFQUQsIGRhdGEpO1xuICAgICAgICBsaWdodERhdGFbMF0ubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIHBsYXllcnMpIHBsYXllci5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3ByZWFkQWZ0ZXJMaWdodE5vdE5lZWRlZCgpOiB2b2lkIHtcbiAgICAgICAgLy8gU29tZXRoaW5nIGNoYW5nZWQsIGxpZ2h0IGlzIG5vdCBuZWVkZWQgYW55bW9yZVxuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgbW9zdCBvZiB0aGUgdGhpbmdzIHRoYXQgd2VyZSBub3QgdmlzaWJsZSBhbnltb3JlIG5vdyBhcmVcbiAgICAgICAgLy8gYnV0IHdoYXQ/IGFuZCB3aGVyZT8gdGhpcyBpcyB0aGUgcXVlc3Rpb25zIGkgd2lsbCBhbnN3ZXIgdG9kYXlcbiAgICAgICAgbGV0IHBsYXllcnMgPSBbXTtcblxuICAgICAgICBsZXQgdmlzU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFZJU0lCSUxJVFlfVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxWaXNpYmlsaXR5Q29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgYWFiYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIHRoaXMuc3RvcmFnZS5hbGxDb21wb25lbnRzKCkpIHtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIubmlnaHRWaXNpb24pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdmlzID0gdmlzU3RvcmFnZS5nZXRDb21wb25lbnQocGxheWVyLmVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHkpITtcbiAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG5cbiAgICAgICAgICAgIGlmIChhYWJiID09PSB1bmRlZmluZWQpIGFhYmIgPSB2aXMuYWFiYiEuY29weSgpO1xuICAgICAgICAgICAgZWxzZSBhYWJiLmNvbWJpbmUodmlzLmFhYmIhLCBhYWJiKTtcblxuICAgICAgICAgICAgbGV0IGRhdGEgPSB7bWVzaCwgcG9zLCB2aXN9IGFzIFZpc2liaWxpdHlTcHJlYWRFbnRyeURhdGE7XG4gICAgICAgICAgICBwbGF5ZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWFiYiA9PT0gdW5kZWZpbmVkKSByZXR1cm47Ly8gTm90IGVub3VnaCBwbGF5ZXJzXG5cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBhYWJiLFxuICAgICAgICAgICAgbGlnaHRzOiBbXSxcbiAgICAgICAgICAgIHBsYXllcnM6IFtdLFxuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzOiBwbGF5ZXJzLFxuICAgICAgICAgICAgbmlnaHRWaXNpb246IGZhbHNlLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWREYXRhO1xuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5lbWl0KEVWRU5UX1ZJU0lCSUxJVFlfU1BSRUFELCBkYXRhKTtcblxuICAgICAgICBmb3IgKGxldCB4IG9mIHBsYXllcnMpIHgubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cbiAgICBnZXRTcHJlYWREYXRhRm9yQWFiYihhYWJiOiBBYWJiLCBjYjogKGRhdGE6IFZpc2liaWxpdHlTcHJlYWREYXRhKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGxldCBuaWdodFZpc1BsYXllcnMgPSBbXTtcbiAgICAgICAgbGV0IHBsYXllcnMgPSBbXTtcbiAgICAgICAgbGV0IGxpZ2h0cyA9IFtdO1xuXG4gICAgICAgIGxldCBsaWdodHNOZWVkZWQgPSAhdGhpcy5hbWJpZW50SWxsdW1pbmF0ZWQ7XG4gICAgICAgIGxldCBsaWdodFN0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChMSUdIVF9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPExpZ2h0Q29tcG9uZW50PjtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMudmlzaWJpbGl0eVN5c3RlbS5hYWJiVHJlZS5xdWVyeShhYWJiKSkge1xuICAgICAgICAgICAgbGV0IHZpcyA9IGMudGFnITtcblxuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMuc3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocGxheWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgIGxldCBtZXNoID0gdGhpcy5jcmVhdGVWaXNNZXNoRnJvbShwb3MsIHZpcyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHttZXNoLCBwb3MsIHZpc30gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLm5pZ2h0VmlzaW9uIHx8ICFsaWdodHNOZWVkZWQpIG5pZ2h0VmlzUGxheWVycy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIGVsc2UgcGxheWVycy5wdXNoKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlnaHRzTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpZ2h0ID0gbGlnaHRTdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0gcG9zU3RvcmFnZS5nZXRDb21wb25lbnQodmlzLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzaCA9IHRoaXMuY3JlYXRlVmlzTWVzaEZyb20ocG9zLCB2aXMpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHttZXNoLCBwb3MsIHZpc30gYXMgVmlzaWJpbGl0eVNwcmVhZEVudHJ5RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlYWxQbGF5ZXJzID0gcGxheWVycztcbiAgICAgICAgbGV0IHJlYWxMaWdodHMgPSBsaWdodHM7XG5cbiAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoID09PSAwIHx8IGxpZ2h0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmVhbFBsYXllcnMgPSBbXTtcbiAgICAgICAgICAgIHJlYWxMaWdodHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgYWFiYixcbiAgICAgICAgICAgIGxpZ2h0czogcmVhbExpZ2h0cyxcbiAgICAgICAgICAgIHBsYXllcnM6IHJlYWxQbGF5ZXJzLFxuICAgICAgICAgICAgbmlnaHRWaXNQbGF5ZXJzLFxuICAgICAgICB9IGFzIFZpc2liaWxpdHlTcHJlYWREYXRhO1xuICAgICAgICBjYihkYXRhKTtcblxuICAgICAgICBmb3IgKGxldCB4IG9mIGxpZ2h0cykgeC5tZXNoLmRlc3Ryb3koREVTVFJPWV9BTEwpO1xuICAgICAgICBmb3IgKGxldCB4IG9mIHBsYXllcnMpIHgubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICAgICAgZm9yIChsZXQgeCBvZiBuaWdodFZpc1BsYXllcnMpIHgubWVzaC5kZXN0cm95KERFU1RST1lfQUxMKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjb21wLnR5cGUgPT09IFBMQVlFUl9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gY29tcCBhcyBQbGF5ZXJDb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBZGRlZCBwbGF5ZXIgdG8gcGluIHdpdGhvdXQgcGxheWVyIHZpc2liaWxpdHkhIFwiICsgY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHB2Ll9wbGF5ZXJOaWdodFZpc2lvbkNvdW50Kys7Ly8gQSBiaXQgaGFja2lzaCwgYnV0IGl0IHdvcmtzIDspXG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHB2KTtcblxuICAgICAgICAgICAgLy8gV2UgbmVlZCBhIHZpc2liaWxpdHkgY29tcG9uZW50LCBjcmVhdGUgb25lIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3RcbiAgICAgICAgICAgIGxldCB2aXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogVklTSUJJTElUWV9UWVBFLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBwbGF5ZXIucmFuZ2UsXG4gICAgICAgICAgICAgICAgdHJhY2tXYWxsczogdHJ1ZSxcbiAgICAgICAgICAgIH0gYXMgVmlzaWJpbGl0eUNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29tcG9uZW50KGNvbXAuZW50aXR5LCB2aXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1ZJU0lCTEVfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIFBsYXllclZpc2libGVDb21wb25lbnQ7XG4gICAgICAgICAgICBjLl9saWdodENvdW50ID0gMDtcbiAgICAgICAgICAgIGMuX3BsYXllckNvdW50ID0gMDtcbiAgICAgICAgICAgIGMuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoYy5lbnRpdHksIG5ld1Zpc2liaWxpdHlBd2FyZUNvbXBvbmVudChjLmlzV2FsbCA9PT0gdHJ1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gSE9TVF9ISURERU5fVFlQRSkge1xuICAgICAgICAgICAgbGV0IHB2ID0gdGhpcy52aXNpYmxlU3RvcmFnZS5nZXRDb21wb25lbnQoY29tcC5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHB2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudEVkaXRlZChjb21wOiBDb21wb25lbnQsIGNoYW5nZWQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVFlQRSkge1xuICAgICAgICAgICAgbGV0IGMgPSBjb21wIGFzIFBsYXllckNvbXBvbmVudFxuXG4gICAgICAgICAgICBpZiAoJ25pZ2h0VmlzaW9uJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk5pZ2h0VmlzaW9uVXBkYXRlKGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJ3JhbmdlJyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUsIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGMucmFuZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGMuZW50aXR5LCBWSVNJQklMSVRZX1RZUEUpIGFzIFZpc2liaWxpdHlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHZpcy5wb2x5Z29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRQbGF5ZXJWaXNpYmlsaXR5KGNvbXAuZW50aXR5LCBwb3MsIHZpcywgYy5uaWdodFZpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbXAudHlwZSA9PT0gVklTSUJJTElUWV9UWVBFKSB7XG4gICAgICAgICAgICBsZXQgdmlzID0gY29tcCBhcyBWaXNpYmlsaXR5Q29tcG9uZW50O1xuICAgICAgICAgICAgaWYgKCEoJ3BvbHlnb24nIGluIGNoYW5nZWQpKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudCh2aXMuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh2aXMucG9seWdvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByZWFkUGxheWVyVmlzaWJpbGl0eShjb21wLmVudGl0eSwgcG9zLCB2aXMsIHBsYXllci5uaWdodFZpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaWdodCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHZpcy5lbnRpdHksIExJR0hUX1RZUEUpO1xuICAgICAgICAgICAgaWYgKGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcmVhZExpZ2h0VmlzaWJpbGl0eSh2aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gUExBWUVSX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCB2aXMgPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgVklTSUJJTElUWV9UWVBFKTtcbiAgICAgICAgICAgIGlmICh2aXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIHBsYXllciB2aXNpYmlsaXR5IGZvdW5kIG9uIHJlbW92YWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHYgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBpZiAocHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgcHYuX3BsYXllck5pZ2h0VmlzaW9uQ291bnQtLTsvLyBHb3R0YSB1bmRvIHRob3NlIGhhY2tzXG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyVmlzaWJsZUNvdW50ZXJzVXBkYXRlKHB2KTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wLnR5cGUgPT09IEhPU1RfSElEREVOX1RZUEUpIHtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChwdiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShwdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcC50eXBlID09PSBQTEFZRVJfVklTSUJMRV9UWVBFKSB7XG4gICAgICAgICAgICBjb25zdCB2aXNBd2FyZSA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXAuZW50aXR5LCBWSVNJQklMSVRZX0FXQVJFX1RZUEUpO1xuICAgICAgICAgICAgaWYgKHZpc0F3YXJlICE9PSB1bmRlZmluZWQpIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZpc0F3YXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNvdXJjZUVkaXRlZChyZXM6IFJlc291cmNlLCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlcy50eXBlID09PSBMSUdIVF9TRVRUSU5HU19UWVBFICYmICduZWVkc0xpZ2h0JyBpbiBjaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgbGlnaHQgPSByZXMgYXMgTGlnaHRTZXR0aW5ncztcbiAgICAgICAgICAgIHRoaXMuYW1iaWVudElsbHVtaW5hdGVkID0gIWxpZ2h0Lm5lZWRzTGlnaHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIHRoaXMudmlzaWJsZVN0b3JhZ2UuYWxsQ29tcG9uZW50cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllclZpc2libGVDb3VudGVyc1VwZGF0ZShjb21wKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsaWdodC5uZWVkc0xpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcHJlYWRBZnRlckxpZ2h0Tm90TmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVzLnR5cGUgPT09IEdSSURfVFlQRSAmJiAnc2l6ZScgaW4gY2hhbmdlZCkge1xuICAgICAgICAgICAgbGV0IGdyaWQgPSByZXMgYXMgR3JpZFJlc291cmNlO1xuICAgICAgICAgICAgdGhpcy5ncmlkU2l6ZSA9IGdyaWQuc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBVQkxJQyBJTlRFUkZBQ0VcbiAgICBhZGRQbGF5ZXJWaXNMaXN0ZW5lcihlbnRpdHk6IG51bWJlciwgaXNXYWxsOiBib29sZWFuID0gZmFsc2UpOiBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50IHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnZpc2libGVTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBMQVlFUl9WSVNJQkxFX1RZUEUsXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzV2FsbCxcbiAgICAgICAgICAgICAgICBfcmVmQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgX2xpZ2h0Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgX3BsYXllckNvdW50OiAwLFxuICAgICAgICAgICAgICAgIF9wbGF5ZXJOaWdodFZpc2lvbkNvdW50OiAwLFxuICAgICAgICAgICAgfSBhcyBQbGF5ZXJWaXNpYmxlQ29tcG9uZW50O1xuICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoZW50aXR5LCBjKTtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5fcmVmQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG5cbiAgICByZW1vdmVQbGF5ZXJWaXNMaXN0ZW5lcihlbnRpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMudmlzaWJsZVN0b3JhZ2UuZ2V0Q29tcG9uZW50KGVudGl0eSk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgYy5fcmVmQ291bnQtLTtcbiAgICAgICAgaWYgKGMuX3JlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudChjKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBQb2ludExpZ2h0UmVuZGVyLnNldHVwKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cblxufSIsImltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbVwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge0Rpc3BsYXlQcmVjZWRlbmNlfSBmcm9tIFwiLi4vLi4vcGhhc2UvZWRpdE1hcC9kaXNwbGF5UHJlY2VkZW5jZVwiO1xuaW1wb3J0IHtTaW5nbGVFY3NTdG9yYWdlfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgRm9sbG93TW91c2VDb21wb25lbnQsXG4gICAgSE9TVF9ISURERU5fVFlQRSxcbiAgICBIb3N0SGlkZGVuQ29tcG9uZW50LFxuICAgIFBPU0lUSU9OX1RZUEUsXG4gICAgUG9zaXRpb25Db21wb25lbnQsXG4gICAgVFJBTlNGT1JNX1RZUEUsXG4gICAgVHJhbnNmb3JtQ29tcG9uZW50XG59IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25Db21wb25lbnQsIEludGVyYWN0aW9uU3lzdGVtLCBzaGFwZVBvaW50fSBmcm9tIFwiLi9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1RleHR1cmV9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge1BpbkNvbXBvbmVudH0gZnJvbSBcIi4vcGluU3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIEVsZW1lbnRUeXBlLFxuICAgIEdSQVBISUNfVFlQRSxcbiAgICBHcmFwaGljQ29tcG9uZW50LFxuICAgIEltYWdlRWxlbWVudCxcbiAgICBJbWFnZVNjYWxlTW9kZSxcbiAgICBWaXNpYmlsaXR5VHlwZVxufSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUGFydCwgVG9vbFN5c3RlbX0gZnJvbSBcIi4vYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge1BvaW50ZXJDbGlja0V2ZW50LCBQb2ludGVyRXZlbnRzLCBQb2ludGVyVXBFdmVudH0gZnJvbSBcIi4vYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7U0VMRUNUSU9OX1RZUEUsIFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4vYmFjay9zZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL3Rvb2xzL3Rvb2xUeXBlXCI7XG5pbXBvcnQge1NwYXduQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2V4ZWN1dGVBbmRMb2dDb21tYW5kfSBmcm9tIFwiLi9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7Y29tcG9uZW50RWRpdENvbW1hbmQsIEVkaXRUeXBlfSBmcm9tIFwiLi9jb21tYW5kL2NvbXBvbmVudEVkaXRcIjtcbmltcG9ydCB7ZmluZEZvcmVncm91bmQsIExBWUVSX1RZUEUsIExheWVyU3lzdGVtfSBmcm9tIFwiLi9iYWNrL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge0xpbmtSZWxvY2F0aW9uU3lzdGVtLCBMSU5LX1JFTE9DQVRJT05fVFlQRX0gZnJvbSBcIi4vYmFjay9saW5rUmVsb2NhdGlvblN5c3RlbVwiO1xuaW1wb3J0IFNhZmVFdmVudEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvc2FmZUV2ZW50RW1pdHRlclwiO1xuaW1wb3J0IHsgQ3JlYXRpb25JbmZvUmVzb3VyY2UsIENSRUFUSU9OX0lORk9fVFlQRSB9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuXG5cbmV4cG9ydCBjb25zdCBQUk9QX1RZUEUgPSAncHJvcCc7XG5leHBvcnQgdHlwZSBQUk9QX1RZUEUgPSB0eXBlb2YgUFJPUF9UWVBFO1xuZXhwb3J0IGludGVyZmFjZSBQcm9wQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICB0eXBlOiBQUk9QX1RZUEU7XG4gICAgcHJvcFR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9wVHlwZSB7XG4gICAgaWQ6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdGV4dHVyZTogVGV4dHVyZSxcbn1cblxuZXhwb3J0IGNvbnN0IFBST1BfVEVMRVBPUlRfVFlQRSA9ICdwcm9wX3RlbGVwb3J0JztcbmV4cG9ydCB0eXBlIFBST1BfVEVMRVBPUlRfVFlQRSA9IHR5cGVvZiBQUk9QX1RFTEVQT1JUX1RZUEU7XG5leHBvcnQgaW50ZXJmYWNlIFByb3BUZWxlcG9ydCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogUFJPUF9URUxFUE9SVF9UWVBFO1xuICAgIHRhcmdldFByb3A6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFByb3BTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBQUk9QX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0dSQVBISUNfVFlQRSwgSU5URVJBQ1RJT05fVFlQRSwgU0VMRUNUSU9OX1RZUEUsIExBWUVSX1RZUEVdO1xuICAgIHJlYWRvbmx5IG9wdGlvbmFsRGVwZW5kZW5jaWVzID0gW0xJTktfUkVMT0NBVElPTl9UWVBFXTtcblxuICAgIHJlYWRvbmx5IHdvcmxkOiBXb3JsZDtcbiAgICByZWFkb25seSBpbnRlcmFjdGlvblN5czogSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG4gICAgcmVhZG9ubHkgbGF5ZXJTeXM6IExheWVyU3lzdGVtO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFByb3BDb21wb25lbnQ+KFBST1BfVFlQRSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgcmVhZG9ubHkgdGVsZXBvcnRTdG9yYWdlID0gbmV3IFNpbmdsZUVjc1N0b3JhZ2U8UHJvcFRlbGVwb3J0PihQUk9QX1RFTEVQT1JUX1RZUEUsIHRydWUsIHRydWUpO1xuXG4gICAgcHJvcFR5cGVzOiBNYXA8c3RyaW5nLCBQcm9wVHlwZT47XG4gICAgZGVmYXVsdFByb3BUeXBlOiBzdHJpbmcgPSBcImxhZGRlcl9kb3duXCI7XG5cblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAgICAgaWYgKHdvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0b29sU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoVE9PTF9UWVBFKSBhcyBUb29sU3lzdGVtO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sUGFydChuZXcgQ3JlYXRlUHJvcFRvb2xQYXJ0KHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChUb29sLkNSRUFURV9QUk9QLCBbJ3NwYWNlX3BhbicsIFRvb2wuQ1JFQVRFX1BST1AsICdjcmVhdGlvbl9mbGFnJ10pO1xuICAgICAgICAgICAgdG9vbFN5cy5hZGRUb29sUGFydChuZXcgUHJvcFRlbGVwb3J0TGlua1Rvb2xQYXJ0KHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbChUb29sLlBST1BfVEVMRVBPUlRfTElOSywgWydzcGFjZV9wYW4nLCBUb29sLlBST1BfVEVMRVBPUlRfTElOS10pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxpbmtSZWxvYyA9IHRoaXMud29ybGQuc3lzdGVtcy5nZXQoTElOS19SRUxPQ0FUSU9OX1RZUEUpIGFzIExpbmtSZWxvY2F0aW9uU3lzdGVtIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAobGlua1JlbG9jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpbmtSZWxvYy5hZGRMaW5rKFBST1BfVEVMRVBPUlRfVFlQRSwgJ3RhcmdldFByb3AnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgICAgICB0aGlzLmxheWVyU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoTEFZRVJfVFlQRSkgYXMgTGF5ZXJTeXN0ZW07XG5cbiAgICAgICAgdGhpcy5wcm9wVHlwZXMgPSBuZXcgTWFwPHN0cmluZywgUHJvcFR5cGU+KCk7XG5cbiAgICAgICAgdGhpcy5sb2FkUHJvcFR5cGVzKCk7XG5cbiAgICAgICAgd29ybGQuYWRkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMudGVsZXBvcnRTdG9yYWdlKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgdGhpcy5vbkNvbXBvbmVudEFkZCwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2VkaXRlZCcsIHRoaXMub25Db21wb25lbnRFZGl0ZWQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9yZW1vdmUnLCB0aGlzLm9uQ29tcG9uZW50UmVtb3ZlLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdwcm9wX3VzZScsIHRoaXMub25Qcm9wVXNlLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZWdpc3RlclByb3BUeXBlKHByb3BUeXBlOiBQcm9wVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb3BUeXBlcy5zZXQocHJvcFR5cGUuaWQsIHByb3BUeXBlKTtcbiAgICB9XG5cbiAgICBsb2FkUHJvcFR5cGVzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBhdGxhcyA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJwcm9wc1wiXS5zcHJpdGVzaGVldCE7XG4gICAgICAgIGNvbnN0IHByb3BzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbGFkZGVyX3VwJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFkZGVyIFVwJyxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBhdGxhcy50ZXh0dXJlc1snbGFkZGVyX3VwLnBuZyddLFxuICAgICAgICAgICAgfSBhcyBQcm9wVHlwZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2xhZGRlcl9kb3duJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFkZGVyIERvd24nLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IGF0bGFzLnRleHR1cmVzWydsYWRkZXJfZG93bi5wbmcnXSxcbiAgICAgICAgICAgIH0gYXMgUHJvcFR5cGUsXG4gICAgICAgIF07XG4gICAgICAgIGZvciAobGV0IHByb3Agb2YgcHJvcHMpIHRoaXMucmVnaXN0ZXJQcm9wVHlwZShwcm9wKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByb3BUeXBlKHA6IFByb3BDb21wb25lbnQpOiBQcm9wVHlwZSB7XG4gICAgICAgIGxldCBwVHlwZSA9IHRoaXMucHJvcFR5cGVzLmdldChwLnByb3BUeXBlKTtcbiAgICAgICAgaWYgKHBUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGZpbmQgcHJvcCB0eXBlOiAke3AucHJvcFR5cGV9YCk7XG4gICAgICAgICAgICBwVHlwZSA9IHRoaXMucHJvcFR5cGVzLmdldCh0aGlzLmRlZmF1bHRQcm9wVHlwZSk7XG5cbiAgICAgICAgICAgIGlmIChwVHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGVmYXVsdCBwcm9wIHR5cGUgaXMgaW52YWxpZCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBUeXBlO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoYzogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgIT09ICdwcm9wJykgcmV0dXJuO1xuICAgICAgICBsZXQgcHJvcCA9IGMgYXMgUHJvcENvbXBvbmVudDtcbiAgICAgICAgbGV0IHByb3BUeXBlID0gdGhpcy5nZXRQcm9wVHlwZShwcm9wKTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjLmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFLFxuICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IERpc3BsYXlQcmVjZWRlbmNlLlBST1AsXG4gICAgICAgICAgICAgICAgc2NhbGU6IEltYWdlU2NhbGVNb2RlLkdSSUQsXG4gICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHByb3BUeXBlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgc2hhcmVkVGV4dHVyZTogdHJ1ZSwvLyBET05UIERFTEVURSBNWSBURVhUVVJFXG4gICAgICAgICAgICAgICAgYW5jaG9yOiB7IHg6IDAuNSwgeTogMC41IH0sXG4gICAgICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICB9IGFzIEltYWdlRWxlbWVudCxcbiAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29tcG9uZW50RWRpdGVkKGM6IENvbXBvbmVudCwgY2hhbmdlZDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChjLnR5cGUgPT09IFBST1BfVFlQRSkge1xuICAgICAgICAgICAgbGV0IHByb3AgPSBjIGFzIFByb3BDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIGxldCBwVHlwZSA9IHRoaXMuZ2V0UHJvcFR5cGUocHJvcCk7XG4gICAgICAgICAgICBsZXQgZGlzcGxheSA9ICh0aGlzLndvcmxkLmdldENvbXBvbmVudChjLmVudGl0eSwgR1JBUEhJQ19UWVBFKSBhcyBHcmFwaGljQ29tcG9uZW50KS5kaXNwbGF5IGFzIEltYWdlRWxlbWVudDtcbiAgICAgICAgICAgIGRpc3BsYXkudGV4dHVyZSA9IHBUeXBlLnRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmVkaXRDb21wb25lbnQoYy5lbnRpdHksIEdSQVBISUNfVFlQRSwgeyBkaXNwbGF5IH0sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjOiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGMudHlwZSA9PT0gJ3Byb3AnKSB7XG4gICAgICAgICAgICBsZXQgdHAgPSB0aGlzLnRlbGVwb3J0U3RvcmFnZS5nZXRDb21wb25lbnQoYy5lbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHRwICE9PSB1bmRlZmluZWQpIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHRwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Qcm9wVXNlKGVudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBwcm9wID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBsZXQgdGVsZXBvcnQgPSB0aGlzLnRlbGVwb3J0U3RvcmFnZS5nZXRDb21wb25lbnQoZW50aXR5KTtcbiAgICAgICAgaWYgKHByb3AgPT09IHVuZGVmaW5lZCB8fCB0ZWxlcG9ydCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KHRlbGVwb3J0LmVudGl0eSk7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5saW5rZWQgdGVsZXBvcnRlciFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9zaXRpb25zID0gdGhpcy53b3JsZC5zdG9yYWdlcy5nZXQoUE9TSVRJT05fVFlQRSkgYXMgU2luZ2xlRWNzU3RvcmFnZTxQb3NpdGlvbkNvbXBvbmVudD47XG4gICAgICAgIGxldCBwb3NGcm9tID0gcG9zaXRpb25zLmdldENvbXBvbmVudChlbnRpdHkpITtcbiAgICAgICAgbGV0IHBvc1RvID0gcG9zaXRpb25zLmdldENvbXBvbmVudCh0ZWxlcG9ydC50YXJnZXRQcm9wKSE7XG4gICAgICAgIGxldCBkaWZmWCA9IHBvc1RvLnggLSBwb3NGcm9tLng7XG4gICAgICAgIGxldCBkaWZmWSA9IHBvc1RvLnkgLSBwb3NGcm9tLnk7XG5cbiAgICAgICAgbGV0IHNoYXBlID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGVudGl0eSwgSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25Db21wb25lbnQpLnNoYXBlO1xuICAgICAgICBsZXQgcGluU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KCdwaW4nKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBpbkNvbXBvbmVudD47XG5cbiAgICAgICAgbGV0IGZvcmVncm91bmQgPSBmaW5kRm9yZWdyb3VuZCh0aGlzLndvcmxkKTtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5pbnRlcmFjdGlvblN5cy5xdWVyeShzaGFwZSwgeCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGluU3RvcmFnZS5nZXRDb21wb25lbnQoeC5lbnRpdHkpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyU3lzLmdldEVudGl0eUxheWVyKHguZW50aXR5KS5lbnRpdHkgPT0gZm9yZWdyb3VuZDtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBsZXQgZWRpdCA9IFtdIGFzIEVkaXRUeXBlW107XG4gICAgICAgIGZvciAobGV0IHEgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NpdGlvbnMuZ2V0Q29tcG9uZW50KHEuZW50aXR5KSE7XG4gICAgICAgICAgICBlZGl0LnB1c2goe1xuICAgICAgICAgICAgICAgIGVudGl0eTogcS5lbnRpdHksXG4gICAgICAgICAgICAgICAgdHlwZTogcG9zLnR5cGUsXG4gICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBwb3MueCArIGRpZmZYLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb3MueSArIGRpZmZZLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjbWQgPSBjb21wb25lbnRFZGl0Q29tbWFuZCh1bmRlZmluZWQsIGVkaXQpO1xuICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLndvcmxkLCBjbWQpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlUHJvcFRvb2xQYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBUb29sLkNSRUFURV9QUk9QO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQcm9wU3lzdGVtO1xuXG4gICAgLy8gRW50aXR5IG9mIHRoZSBwcm9wIHRvIGJlIGNyZWF0ZWRcbiAgICBjcmVhdGVQcm9wOiBudW1iZXIgPSAtMTtcbiAgICBjcmVhdGVQcm9wVHlwZT86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHN5czogUHJvcFN5c3RlbSkge1xuICAgICAgICB0aGlzLnN5cyA9IHN5cztcbiAgICB9XG5cbiAgICBpbml0Q3JlYXRpb24oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ3JlYXRpb24oKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVByb3BUeXBlID0gdGhpcy5zeXMuZGVmYXVsdFByb3BUeXBlO1xuICAgICAgICBsZXQgcHJvcFR5cGUgPSB0aGlzLnN5cy5wcm9wVHlwZXMuZ2V0KHRoaXMuY3JlYXRlUHJvcFR5cGUpO1xuICAgICAgICBpZiAocHJvcFR5cGUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIHByb3AgdHlwZTogJyArIHRoaXMuY3JlYXRlUHJvcFR5cGUpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcCA9IHRoaXMuc3lzLndvcmxkLnNwYXduRW50aXR5KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEhPU1RfSElEREVOX1RZUEUsXG4gICAgICAgICAgICB9IGFzIEhvc3RIaWRkZW5Db21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fVFlQRSxcbiAgICAgICAgICAgICAgICB4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgeTogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUUkFOU0ZPUk1fVFlQRSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IC0xLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBpZ25vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogRGlzcGxheVByZWNlZGVuY2UuUFJPUCxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IEltYWdlU2NhbGVNb2RlLkdSSUQsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZS5BTFdBWVNfVklTSUJMRSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTogcHJvcFR5cGUudGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVkVGV4dHVyZTogdHJ1ZSwvLyBET05UIERFTEVURSBNWSBURVhUVVJFXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcjoge3g6IDAuNSwgeTogMC41fSxcbiAgICAgICAgICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICAgICAgfSBhcyBJbWFnZUVsZW1lbnQsXG4gICAgICAgICAgICB9IGFzIEdyYXBoaWNDb21wb25lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogRk9MTE9XX01PVVNFX1RZUEUsXG4gICAgICAgICAgICB9IGFzIEZvbGxvd01vdXNlQ29tcG9uZW50LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNhbmNlbENyZWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVQcm9wICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zeXMud29ybGQuZGVzcGF3bkVudGl0eSh0aGlzLmNyZWF0ZVByb3ApO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25maXJtQ3JlYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZVByb3AgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5jcmVhdGVQcm9wO1xuICAgICAgICBjb25zdCB3b3JsZCA9IHRoaXMuc3lzLndvcmxkO1xuICAgICAgICBsZXQgbG9jID0gd29ybGQuZ2V0Q29tcG9uZW50KGlkLCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgbGV0IHRyYW4gPSB3b3JsZC5nZXRDb21wb25lbnQoaWQsIFRSQU5TRk9STV9UWVBFKSBhcyBUcmFuc2Zvcm1Db21wb25lbnQ7XG4gICAgICAgIHdvcmxkLmRlc3Bhd25FbnRpdHkoaWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVByb3AgPSAtMTtcblxuICAgICAgICBjb25zdCBjbWQgPSBTcGF3bkNvbW1hbmRLaW5kLmZyb20od29ybGQsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQT1NJVElPTl9UWVBFLFxuICAgICAgICAgICAgICAgIHg6IGxvYy54LFxuICAgICAgICAgICAgICAgIHk6IGxvYy55LFxuICAgICAgICAgICAgfSBhcyBQb3NpdGlvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUUkFOU0ZPUk1fVFlQRSxcbiAgICAgICAgICAgICAgICBzY2FsZTogdHJhbi5zY2FsZSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogdHJhbi5yb3RhdGlvbixcbiAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBST1BfVFlQRSxcbiAgICAgICAgICAgICAgICBwcm9wVHlwZTogdGhpcy5jcmVhdGVQcm9wVHlwZSxcbiAgICAgICAgICAgIH0gYXMgUHJvcENvbXBvbmVudCxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRpb25JbmZvID0gdGhpcy5zeXMud29ybGQuZ2V0UmVzb3VyY2UoQ1JFQVRJT05fSU5GT19UWVBFKSBhcyBDcmVhdGlvbkluZm9SZXNvdXJjZSB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoY3JlYXRpb25JbmZvPy5leGl0QWZ0ZXJDcmVhdGlvbiA/PyB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnN5cy53b3JsZC5lZGl0UmVzb3VyY2UoVE9PTF9UWVBFLCB7XG4gICAgICAgICAgICAgICAgdG9vbDogVG9vbC5JTlNQRUNULFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHdvcmxkLCBjbWQpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlclVwKGV2ZW50OiBQb2ludGVyVXBFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVQcm9wID09PSAtMSkgcmV0dXJuO1xuICAgICAgICBpZiAoZXZlbnQuaXNJbnNpZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybUNyZWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW5jZWxDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpXG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wVGVsZXBvcnRMaW5rVG9vbFBhcnQgaW1wbGVtZW50cyBUb29sUGFydCB7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFRvb2wuUFJPUF9URUxFUE9SVF9MSU5LO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBQcm9wU3lzdGVtO1xuXG4gICAgY3VycmVudFRhcmdldDogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihzeXM6IFByb3BTeXN0ZW0pIHtcbiAgICAgICAgdGhpcy5zeXMgPSBzeXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblByb3BUZWxlcG9ydExpbmsoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IHRwID0gdGhpcy5zeXMudGVsZXBvcnRTdG9yYWdlLmdldENvbXBvbmVudChlbnRpdHkpO1xuICAgICAgICBpZiAodHAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2FsbGVkIHRlbGVwb3J0IGxpbmsgb24gYSBub24tdGVsZXBvcnQgcHJvcCwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZW50aXR5O1xuXG4gICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgIHRvb2w6IFRvb2wuUFJPUF9URUxFUE9SVF9MSU5LLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxpbmtUbyh0YXJnZXQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zeXMuc3RvcmFnZS5nZXRDb21wb25lbnQodGFyZ2V0KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUcnlpbmcgdG8gbGluayB0ZWxlcG9ydCB0byBhIG5vbi1wcm9wLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHBlciA9IHRoaXMuc3lzLnRlbGVwb3J0U3RvcmFnZS5nZXRDb21wb25lbnQodGhpcy5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKHRwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGVsZXBvcnRlciBoYXMgYmVlbiBkZXN0cm95ZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyBpdHNlbGYgdGhlbiBkZWxldGUgdGhlIGxpbmtcbiAgICAgICAgbGV0IGVkaXQgPSBbXTtcbiAgICAgICAgZWRpdC5wdXNoKHtcbiAgICAgICAgICAgIGVudGl0eTogdHBlci5lbnRpdHksXG4gICAgICAgICAgICB0eXBlOiB0cGVyLnR5cGUsXG4gICAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0UHJvcDogdGFyZ2V0ID09PSB0aGlzLmN1cnJlbnRUYXJnZXQgPyAtMSA6IHRhcmdldFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZXhlY3V0ZUFuZExvZ0NvbW1hbmQodGhpcy5zeXMud29ybGQsIGNvbXBvbmVudEVkaXRDb21tYW5kKHVuZGVmaW5lZCwgZWRpdCkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSAtMTtcbiAgICB9XG5cbiAgICBsaW5rQ2FuY2VsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSAtMTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgbGV0IHBvaW50ID0gZXZlbnQuYm9hcmRQb3M7XG5cbiAgICAgICAgbGV0IGludGVyYWN0aW9uU3lzdGVtID0gdGhpcy5zeXMud29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIGxldCBxdWVyeSA9IGludGVyYWN0aW9uU3lzdGVtLnF1ZXJ5KHNoYXBlUG9pbnQocG9pbnQpLCB4ID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN5cy53b3JsZC5nZXRDb21wb25lbnQoeC5lbnRpdHksICdwcm9wJykgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGZvdW5kIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBsZXQgb2xkVHBlciA9IHRoaXMuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMubGlua1RvKGZvdW5kLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLnN5cy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eShvbGRUcGVyKTtcbiAgICAgICAgICAgIHRoaXMuc3lzLndvcmxkLmVkaXRSZXNvdXJjZShUT09MX1RZUEUsIHtcbiAgICAgICAgICAgICAgICB0b29sOiBUb29sLklOU1BFQ1QsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcic7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmtDYW5jZWwoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zeXMud29ybGQuZXZlbnRzLm9uKCdwcm9wX3RlbGVwb3J0X2xpbmsnLCB0aGlzLm9uUHJvcFRlbGVwb3J0TGluaywgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfQ0xJQ0ssIHRoaXMub25Qb2ludGVyQ2xpY2ssIHRoaXMpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgfVxufVxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uLy4uL1BJWElcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7REVTVFJPWV9BTEx9IGZyb20gXCIuLi8uLi91dGlsL3BpeGlcIjtcbmltcG9ydCB7RGlzcGxheVByZWNlZGVuY2V9IGZyb20gXCIuLi8uLi9waGFzZS9lZGl0TWFwL2Rpc3BsYXlQcmVjZWRlbmNlXCI7XG5pbXBvcnQge1NpbmdsZUVjc1N0b3JhZ2V9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQge0NvbXBvbmVudCwgUE9TSVRJT05fVFlQRSwgUG9zaXRpb25Db21wb25lbnR9IGZyb20gXCIuLi9jb21wb25lbnRcIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgUG9pbnR9IGZyb20gXCIuLi8uLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9saW5lXCI7XG5pbXBvcnQge2ludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQsIGxpbmVTYW1lU2xvcGUsIFNlZ21lbnRWc1NlZ21lbnRSZXN9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9jb2xsaXNpb25cIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25TeXN0ZW0sIExpbmVTaGFwZSwgc2hhcGVBYWJiLCBzaGFwZUxpbmV9IGZyb20gXCIuL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7VklTSUJJTElUWV9CTE9DS0VSX1RZUEUsIFZpc2liaWxpdHlCbG9ja2VyfSBmcm9tIFwiLi9iYWNrL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7RWxlbWVudFR5cGUsIEdSQVBISUNfVFlQRSwgR3JhcGhpY0NvbXBvbmVudCwgTGluZUVsZW1lbnQsIFZpc2liaWxpdHlUeXBlfSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3NcIjtcbmltcG9ydCB7VE9PTF9UWVBFLCBUb29sUGFydCwgVG9vbFN5c3RlbX0gZnJvbSBcIi4vYmFjay90b29sU3lzdGVtXCI7XG5pbXBvcnQge1xuICAgIFBJWElfQk9BUkRfVFlQRSxcbiAgICBQaXhpQm9hcmRTeXN0ZW0sXG4gICAgUG9pbnRlckNsaWNrRXZlbnQsXG4gICAgUG9pbnRlck1vdmVFdmVudCxcbiAgICBQb2ludGVyUmlnaHREb3duRXZlbnQsXG4gICAgUG9pbnRlckV2ZW50c1xufSBmcm9tIFwiLi9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtUb29sfSBmcm9tIFwiLi4vdG9vbHMvdG9vbFR5cGVcIjtcbmltcG9ydCB7ZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvY29tbWFuZFwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmQsIFNwYXduQ29tbWFuZEtpbmR9IGZyb20gXCIuL2NvbW1hbmQvc3Bhd25Db21tYW5kXCI7XG5pbXBvcnQge2FycmF5UmVtb3ZlRWxlbX0gZnJvbSBcIi4uLy4uL3V0aWwvYXJyYXlcIjtcbmltcG9ydCB7RGVTcGF3bkNvbW1hbmR9IGZyb20gXCIuL2NvbW1hbmQvZGVzcGF3bkNvbW1hbmRcIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gXCIuLi8uLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7IHNuYXBQb2ludCB9IGZyb20gXCIuLi90b29scy91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgV0FMTF9UWVBFID0gJ3dhbGwnO1xuZXhwb3J0IHR5cGUgV0FMTF9UWVBFID0gdHlwZW9mIFdBTExfVFlQRTtcbmV4cG9ydCBpbnRlcmZhY2UgV2FsbENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgdHlwZTogV0FMTF9UWVBFO1xuICAgIHZlYzogUG9pbnQ7XG4gICAgX2RvbnRNZXJnZTogbnVtYmVyO1xufVxuXG5jb25zdCBTRUxFQ1RJT05fQ09MT1IgPSAweDc5ODZDQjtcblxuZXhwb3J0IGNsYXNzIFdhbGxTeXN0ZW0gaW1wbGVtZW50cyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBXQUxMX1RZUEU7XG4gICAgcmVhZG9ubHkgZGVwZW5kZW5jaWVzID0gW0lOVEVSQUNUSU9OX1RZUEUsIEdSQVBISUNfVFlQRSwgVE9PTF9UWVBFLCBTRUxFQ1RJT05fVFlQRV07XG5cbiAgICByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcmVhZG9ubHkgaW50ZXJhY3Rpb25TeXM6IEludGVyYWN0aW9uU3lzdGVtO1xuICAgIHJlYWRvbmx5IHNlbGVjdGlvblN5czogU2VsZWN0aW9uU3lzdGVtO1xuXG4gICAgcmVhZG9ubHkgc3RvcmFnZSA9IG5ldyBTaW5nbGVFY3NTdG9yYWdlPFdhbGxDb21wb25lbnQ+KFdBTExfVFlQRSk7XG5cbiAgICBpc1RyYW5zbGF0aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIC8vIE9ubHkgbWFzdGVycyBjYW4gY3JlYXRlIHdhbGxzXG4gICAgICAgIGlmICh0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICBsZXQgdG9vbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFRPT0xfVFlQRSkgYXMgVG9vbFN5c3RlbTtcbiAgICAgICAgICAgIHRvb2xTeXMuYWRkVG9vbFBhcnQobmV3IENyZWF0ZVdhbGxUb29sUGFydCh0aGlzKSk7XG4gICAgICAgICAgICB0b29sU3lzLmFkZFRvb2woVG9vbC5DUkVBVEVfV0FMTCwgWydzcGFjZV9wYW4nLCBUb29sLkNSRUFURV9XQUxMXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoSU5URVJBQ1RJT05fVFlQRSkgYXMgSW50ZXJhY3Rpb25TeXN0ZW07XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcblxuICAgICAgICB3b3JsZC5hZGRTdG9yYWdlKHRoaXMuc3RvcmFnZSk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbignY29tcG9uZW50X2FkZCcsIHRoaXMub25Db21wb25lbnRBZGQsIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ2NvbXBvbmVudF9lZGl0ZWQnLCB0aGlzLm9uQ29tcG9uZW50RWRpdGVkLCB0aGlzKTtcbiAgICAgICAgd29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgdGhpcy5vbkNvbXBvbmVudFJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHdvcmxkLmV2ZW50cy5vbigndG9vbF9tb3ZlX2JlZ2luJywgdGhpcy5vblRvb2xNb3ZlQmVnaW4sIHRoaXMpO1xuICAgICAgICB3b3JsZC5ldmVudHMub24oJ3Rvb2xfbW92ZV9lbmQnLCB0aGlzLm9uVG9vbE1vdmVFbmQsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRBZGQoY29tcG9uZW50OiBDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudC50eXBlICE9PSBXQUxMX1RZUEUpIHJldHVybjtcbiAgICAgICAgbGV0IHdhbGwgPSBjb21wb25lbnQgYXMgV2FsbENvbXBvbmVudDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBQT1NJVElPTl9UWVBFKSBhcyBQb3NpdGlvbkNvbXBvbmVudDtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGb3VuZCB3YWxsIHdpdGhvdXQgcG9zaXRpb24sIHBsZWFzZSBhZGQgZmlyc3QgdGhlIHBvc2l0aW9uLCB0aGVuIHRoZSB3YWxsXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhbGwuX2RvbnRNZXJnZSA9IDA7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb21wb25lbnQoY29tcG9uZW50LmVudGl0eSwge1xuICAgICAgICAgICAgdHlwZTogR1JBUEhJQ19UWVBFLFxuICAgICAgICAgICAgZW50aXR5OiAtMSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFbGVtZW50VHlwZS5MSU5FLFxuICAgICAgICAgICAgICAgIGlnbm9yZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmlzaWI6IFZpc2liaWxpdHlUeXBlLlJFTUVNQkVSLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBEaXNwbGF5UHJlY2VkZW5jZS5XQUxMLFxuICAgICAgICAgICAgICAgIHZlYzogeyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfSxcbiAgICAgICAgICAgIH0gYXMgTGluZUVsZW1lbnQsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlzV2FsbDogdHJ1ZSxcbiAgICAgICAgfSBhcyBHcmFwaGljQ29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudChjb21wb25lbnQuZW50aXR5LCB7XG4gICAgICAgICAgICB0eXBlOiBWSVNJQklMSVRZX0JMT0NLRVJfVFlQRSxcbiAgICAgICAgICAgIGVudGl0eTogLTFcbiAgICAgICAgfSBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG4gICAgfVxuXG4gICAgZml4V2FsbFByZVRyYW5zbGF0aW9uKHdhbGxzOiBXYWxsQ29tcG9uZW50W10pIHtcbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiB3YWxscykge1xuICAgICAgICAgICAgbGV0IHZpc0Jsb2NrID0gdGhpcy53b3JsZC5nZXRDb21wb25lbnQod2FsbC5lbnRpdHksIFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKTtcbiAgICAgICAgICAgIGlmICh2aXNCbG9jayAhPT0gdW5kZWZpbmVkKSB0aGlzLndvcmxkLnJlbW92ZUNvbXBvbmVudCh2aXNCbG9jayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGF0IGNoYW5nZXMgaGVyZT8gYSBsaXR0bGUgYml0dGxlIHRoaW5nOlxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHVuZml4IHRoZSB3YWxsIChyZW1vdmUgdGhlIGludGVyc2VjdGlvbiBicmVha3MpLlxuXG4gICAgICAgIGxldCB3YWxsX2luZGV4ID0gbmV3IE1hcDxzdHJpbmcsIFdhbGxDb21wb25lbnRbXT4oKTtcbiAgICAgICAgbGV0IHBvc1N0b3JhZ2UgPSB0aGlzLndvcmxkLnN0b3JhZ2VzLmdldChQT1NJVElPTl9UWVBFKSBhcyBTaW5nbGVFY3NTdG9yYWdlPFBvc2l0aW9uQ29tcG9uZW50PjtcblxuICAgICAgICBsZXQgaW5zZXJ0SW5JbmRleCA9IChpbmRleDogc3RyaW5nLCB3YWxsOiBXYWxsQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBsZXQgbGlzdCA9IHdhbGxfaW5kZXguZ2V0KGluZGV4KTtcbiAgICAgICAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsaXN0ID0gW107XG4gICAgICAgICAgICAgICAgd2FsbF9pbmRleC5zZXQoaW5kZXgsIGxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdC5wdXNoKHdhbGwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IHdhbGwgb2Ygd2FsbHMpIHtcbiAgICAgICAgICAgIGlmICh3YWxsLl9kb250TWVyZ2UgIT09IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5KSE7XG5cbiAgICAgICAgICAgIGxldCBwMSA9IHBvcy54ICsgXCJAXCIgKyBwb3MueTtcbiAgICAgICAgICAgIGxldCBwMiA9IChwb3MueCArIHdhbGwudmVjWzBdKSArIFwiQFwiICsgKHBvcy55ICsgd2FsbC52ZWNbMV0pO1xuXG4gICAgICAgICAgICBsZXQgdHJ5TWVyZ2UgPSAoaW5kZXg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAgICAgICAgIGxldCBtZXJnZVdpdGhJbmRleCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIGxldCB3YWxscyA9IHdhbGxfaW5kZXguZ2V0KGluZGV4KTtcblxuICAgICAgICAgICAgICAgIGlmICh3YWxscyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBsZXQgd2xlbiA9IHdhbGxzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3dhbGwgPSB3YWxsc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVTYW1lU2xvcGUod2FsbC52ZWNbMF0sIHdhbGwudmVjWzFdLCBvd2FsbC52ZWNbMF0sIG93YWxsLnZlY1sxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlV2l0aEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1lcmdlV2l0aEluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCBtd2FsbCA9IHdhbGxzW21lcmdlV2l0aEluZGV4XTtcbiAgICAgICAgICAgICAgICBsZXQgbXBvcyA9IHBvc1N0b3JhZ2UuZ2V0Q29tcG9uZW50KG13YWxsLmVudGl0eSkhO1xuICAgICAgICAgICAgICAgIGxldCBtaW5DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBwb3MueDtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHBvcy55O1xuICAgICAgICAgICAgICAgIGxldCBkeCA9IHdhbGwudmVjWzBdO1xuICAgICAgICAgICAgICAgIGxldCBkeSA9IHdhbGwudmVjWzFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHAyID09PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB4ICs9IGR4O1xuICAgICAgICAgICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgICAgICAgICBkeCA9IC1keDtcbiAgICAgICAgICAgICAgICAgICAgZHkgPSAtZHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1wb3MueCA9PT0geCAmJiBtcG9zLnkgPT09IHkpIHtcbiAgICAgICAgICAgICAgICAgICAgbXBvcy54ICs9IGR4O1xuICAgICAgICAgICAgICAgICAgICBtcG9zLnkgKz0gZHk7XG4gICAgICAgICAgICAgICAgICAgIG1pbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG13YWxsLnZlY1swXSArPSB3YWxsLnZlY1swXTtcbiAgICAgICAgICAgICAgICAgICAgbXdhbGwudmVjWzFdICs9IHdhbGwudmVjWzFdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdhbGxzLnNwbGljZShtZXJnZVdpdGhJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgbGV0IHA7XG4gICAgICAgICAgICAgICAgaWYgKG1pbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IG1wb3MueCArIFwiQFwiICsgbXBvcy55O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSAobXBvcy54ICsgbXdhbGwudmVjWzBdKSArIFwiQFwiICsgKG1wb3MueSArIG13YWxsLnZlY1sxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc2VydEluSW5kZXgocCwgbXdhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQuZGVzcGF3bkVudGl0eSh3YWxsLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRyYXdXYWxsKG13YWxsKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRyeU1lcmdlKHAxKSB8fCB0cnlNZXJnZShwMikpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpbnNlcnRJbkluZGV4KHAxLCB3YWxsKTtcbiAgICAgICAgICAgIGluc2VydEluSW5kZXgocDIsIHdhbGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZml4V2FsbFBvc3RUcmFuc2xhdGlvbih3YWxsczogV2FsbENvbXBvbmVudFtdKSB7XG4gICAgICAgIC8vIFJlY29tcHV0ZSBpbnRlcnNlY3Rpb25zIHdpdGggb3RoZXIgd2FsbHMuXG4gICAgICAgIC8vIFdoeSBub3QgYWxsIGV2ZXJ5dGhpbmcgZGlyZWN0bHk/IHdlIHdhbnQgdG8gY29tcHV0ZSBhbHNvIHRoZSBzZWxmLWludGVyc2VjdGlvbnNcblxuICAgICAgICBsZXQgcG9zU3RvcmFnZSA9IHRoaXMud29ybGQuc3RvcmFnZXMuZ2V0KFBPU0lUSU9OX1RZUEUpIGFzIFNpbmdsZUVjc1N0b3JhZ2U8UG9zaXRpb25Db21wb25lbnQ+O1xuXG4gICAgICAgIGZvciAobGV0IHdhbGwgb2Ygd2FsbHMpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwb3NTdG9yYWdlLmdldENvbXBvbmVudCh3YWxsLmVudGl0eSkhO1xuICAgICAgICAgICAgbGV0IHBvaW50cyA9IFtwb3MueCwgcG9zLnksIHBvcy54ICsgd2FsbC52ZWNbMF0sIHBvcy55ICsgd2FsbC52ZWNbMV1dO1xuICAgICAgICAgICAgdGhpcy5maXhJbnRlcnNlY3Rpb25zKHBvaW50cywgMCk7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuZWRpdENvbXBvbmVudChwb3MuZW50aXR5LCBJTlRFUkFDVElPTl9UWVBFLCB7XG4gICAgICAgICAgICAgICAgc2hhcGU6IHNoYXBlTGluZShuZXcgTGluZShwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10pKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgICAgICBwb3MueCA9IHBvaW50c1swXTtcbiAgICAgICAgICAgICAgICBwb3MueSA9IHBvaW50c1sxXTtcbiAgICAgICAgICAgICAgICB3YWxsLnZlY1swXSA9IHBvaW50c1syXSAtIHBvcy54O1xuICAgICAgICAgICAgICAgIHdhbGwudmVjWzFdID0gcG9pbnRzWzNdIC0gcG9zLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVkcmF3V2FsbCh3YWxsKTtcblxuICAgICAgICAgICAgY29uc3QgcGxlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBjSWRzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gNDsgaSA8IHBsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGxldCBjbWQgPSB0aGlzLmNyZWF0ZVdhbGwoXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpIC0gMl0sIHBvaW50c1tpIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY0lkcy5wdXNoKGNtZC5kYXRhLmVudGl0aWVzWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmRlc2VyaWFsaXplKGNtZC5kYXRhLCB7IHJlbWFwOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5hZGRFbnRpdGllcyhjSWRzKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBvcHRpbWl6YXRpb24sIHVwZGF0ZSB0aGUgc2VsZWN0aW9uIG9ubHkgb25jZSFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB3YWxsIG9mIHdhbGxzKSB7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmFkZENvbXBvbmVudCh3YWxsLmVudGl0eSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidmlzaWJpbGl0eV9ibG9ja2VyXCIsXG4gICAgICAgICAgICAgICAgZW50aXR5OiAtMVxuICAgICAgICAgICAgfSBhcyBWaXNpYmlsaXR5QmxvY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgb25Db21wb25lbnRFZGl0ZWQoY29tcDogQ29tcG9uZW50LCBjaGFuZ2VkOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNvbXAudHlwZSAhPT0gV0FMTF9UWVBFICYmIGNvbXAudHlwZSAhPT0gUE9TSVRJT05fVFlQRSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB3YWxsLCBwb3NpdGlvbjtcbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gV0FMTF9UWVBFKSB7XG4gICAgICAgICAgICB3YWxsID0gY29tcCBhcyBXYWxsQ29tcG9uZW50O1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLndvcmxkLmdldENvbXBvbmVudChjb21wLmVudGl0eSwgUE9TSVRJT05fVFlQRSkgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YWxsID0gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjb21wLmVudGl0eSk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGNvbXAgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FsbCA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuaXNUcmFuc2xhdGluZykge1xuICAgICAgICAgICAgdGhpcy5maXhXYWxsUHJlVHJhbnNsYXRpb24oW3dhbGxdKTtcbiAgICAgICAgICAgIHRoaXMuZml4V2FsbFBvc3RUcmFuc2xhdGlvbihbd2FsbF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXAudHlwZSA9PT0gV0FMTF9UWVBFICYmICd2ZWMnIGluIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3V2FsbCh3YWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVkcmF3V2FsbCh3YWxsOiBXYWxsQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBkaXNwbGF5ID0gKHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBHUkFQSElDX1RZUEUpIGFzIEdyYXBoaWNDb21wb25lbnQpLmRpc3BsYXkgYXMgTGluZUVsZW1lbnQ7XG4gICAgICAgIGRpc3BsYXkudmVjID0geyB4OiB3YWxsLnZlY1swXSwgeTogd2FsbC52ZWNbMV0gfTtcbiAgICAgICAgdGhpcy53b3JsZC5lZGl0Q29tcG9uZW50KHdhbGwuZW50aXR5LCBHUkFQSElDX1RZUEUsIHtkaXNwbGF5fSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZmluZExvY2F0aW9uT25XYWxsKHBvaW50OiBQSVhJLlBvaW50LCByYWRpdXM6IG51bWJlcik6IFBJWEkuUG9pbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcG9pbnRzID0gdGhpcy5pbnRlcmFjdGlvblN5cy5xdWVyeShzaGFwZUFhYmIobmV3IEFhYmIoXG4gICAgICAgICAgICBwb2ludC54IC0gcmFkaXVzLCBwb2ludC55IC0gcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnQueCArIHJhZGl1cywgcG9pbnQueSArIHJhZGl1c1xuICAgICAgICApKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBiZXN0UG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBsZXQgYmVzdERpc3QgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgbGV0IHRtcFBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gKG5vZGUuc2hhcGUgYXMgTGluZVNoYXBlKS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFsaW5lLnByb2plY3RQb2ludChwb2ludCwgdG1wUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGlzdCA9IGRpc3RTcXVhcmVkMmQodG1wUG9pbnQueCwgdG1wUG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0IDwgYmVzdERpc3QgJiYgZGlzdCA8IHJhZGl1cykge1xuICAgICAgICAgICAgICAgIGJlc3RQb2ludC5jb3B5RnJvbSh0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgYmVzdERpc3QgPSBkaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlc3REaXN0ICE9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXN0UG9pbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBvbmVudFJlbW92ZShjb21wb25lbnQ6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgIT09IFdBTExfVFlQRSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB2YmxvY2tlciA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50KGNvbXBvbmVudC5lbnRpdHksIFZJU0lCSUxJVFlfQkxPQ0tFUl9UWVBFKTtcbiAgICAgICAgaWYgKHZibG9ja2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlQ29tcG9uZW50KHZibG9ja2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub29sTW92ZUJlZ2luKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSB0cnVlO1xuICAgICAgICBsZXQgd2FsbHMgPSBbLi4udGhpcy5zZWxlY3Rpb25TeXMuZ2V0U2VsZWN0ZWRCeVR5cGUoV0FMTF9UWVBFKV0gYXMgV2FsbENvbXBvbmVudFtdO1xuICAgICAgICB0aGlzLmZpeFdhbGxQcmVUcmFuc2xhdGlvbih3YWxscyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvb2xNb3ZlRW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IHdhbGxzID0gWy4uLnRoaXMuc2VsZWN0aW9uU3lzLmdldFNlbGVjdGVkQnlUeXBlKFdBTExfVFlQRSldIGFzIFdhbGxDb21wb25lbnRbXTtcbiAgICAgICAgdGhpcy5maXhXYWxsUG9zdFRyYW5zbGF0aW9uKHdhbGxzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcXVlcnlJbnRlcnNlY3Rpb25zKHBvc1g6IG51bWJlciwgcG9zWTogbnVtYmVyLCB2ZWNYOiBudW1iZXIsIHZlY1k6IG51bWJlcik6IG51bWJlcltdIHtcbiAgICAgICAgbGV0IHN0cmlwID0gW3Bvc1gsIHBvc1ksIHBvc1ggKyB2ZWNYLCBwb3NZICsgdmVjWV07XG4gICAgICAgIGxldCBpZHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuICAgICAgICB0aGlzLmZpeEludGVyc2VjdGlvbnMoc3RyaXAsIDAsIHVuZGVmaW5lZCwgaWRzKTtcbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICB9XG5cbiAgICBmaXhJbnRlcnNlY3Rpb25zKHN0cmlwOiBudW1iZXJbXSwgc3RhcnQ6IG51bWJlciwgZW5kPzogbnVtYmVyLCB3YWxsSWRzPzogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICBsZXQgYWFiYiA9IG5ldyBBYWJiKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG5cbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBzdHJpcC5sZW5ndGggOiBlbmQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGFhYmIubWluWCA9IE1hdGgubWluKGFhYmIubWluWCwgc3RyaXBbaV0pO1xuICAgICAgICAgICAgYWFiYi5taW5ZID0gTWF0aC5taW4oYWFiYi5taW5ZLCBzdHJpcFtpICsgMV0pO1xuICAgICAgICAgICAgYWFiYi5tYXhYID0gTWF0aC5tYXgoYWFiYi5tYXhYLCBzdHJpcFtpXSk7XG4gICAgICAgICAgICBhYWJiLm1heFkgPSBNYXRoLm1heChhYWJiLm1heFksIHN0cmlwW2kgKyAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG1wTGluZSA9IG5ldyBMaW5lKDAsIDAsIDAsIDApO1xuICAgICAgICBsZXQgdG1wUG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLmludGVyYWN0aW9uU3lzLnF1ZXJ5KHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldENvbXBvbmVudChjLmVudGl0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgd2FsbCBvZiBxdWVyeSkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNoZWNraW5nIHdhbGw6IFwiLCB3YWxsLnRhZyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAyOyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLmZyb21YID0gc3RyaXBbaSAtIDJdO1xuICAgICAgICAgICAgICAgIHRtcExpbmUuZnJvbVkgPSBzdHJpcFtpIC0gMV07XG4gICAgICAgICAgICAgICAgdG1wTGluZS50b1ggPSBzdHJpcFtpXTtcbiAgICAgICAgICAgICAgICB0bXBMaW5lLnRvWSA9IHN0cmlwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9ICh3YWxsLnNoYXBlIGFzIExpbmVTaGFwZSkuZGF0YTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCh0bXBMaW5lLCBsaW5lLCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb250aW51ZSBpZiB0aGUgaW50ZXJzZWN0aW9uIGlzIGluc2lkZSBvZiBib3RoIGxpbmVzIChub3Qgb24gdGhlIGVkZ2UpXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGluIHRoZSBzdHJpcFxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJGSVhJTkcgQVQ6IFwiICsgdG1wUG9pbnQueCArIFwiLCBcIiArIHRtcFBvaW50LnkpO1xuICAgICAgICAgICAgICAgIHN0cmlwLnNwbGljZShpLCAwLCB0bXBQb2ludC54LCB0bXBQb2ludC55KTtcbiAgICAgICAgICAgICAgICBpICs9IDI7Ly8gU2tpcCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgZW5kICs9IDI7XG4gICAgICAgICAgICAgICAgd2FsbElkcz8ucHVzaCh3YWxsLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9XG5cbiAgICBjcmVhdGVXYWxsKG1pblg6IG51bWJlciwgbWluWTogbnVtYmVyLCBtYXhYOiBudW1iZXIsIG1heFk6IG51bWJlcik6IFNwYXduQ29tbWFuZCB7XG4gICAgICAgIGxldCBjb21wb25lbnRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgeDogbWluWCxcbiAgICAgICAgICAgICAgICB5OiBtaW5ZLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBPU0lUSU9OX1RZUEUsXG4gICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFdBTExfVFlQRSxcbiAgICAgICAgICAgICAgICB2ZWM6IFttYXhYIC0gbWluWCwgbWF4WSAtIG1pblldLFxuICAgICAgICAgICAgfSBhcyBXYWxsQ29tcG9uZW50LFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gU3Bhd25Db21tYW5kS2luZC5mcm9tKHRoaXMud29ybGQsIGNvbXBvbmVudHMpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVdhbGxUb29sUGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lID0gVG9vbC5DUkVBVEVfV0FMTDtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3lzOiBXYWxsU3lzdGVtO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGl4aUJvYXJkU3lzOiBQaXhpQm9hcmRTeXN0ZW07XG5cbiAgICAvLyBTcHJpdGUgb2YgdGhlIHBpbiB0byBiZSBjcmVhdGVkXG4gICAgY3JlYXRlZElkczogbnVtYmVyW10gPSBbXTtcbiAgICBjcmVhdGVkTGFzdFBvcz86IFBvaW50O1xuICAgIGNyZWF0ZUxhc3RMaW5lRGlzcGxheTogUElYSS5HcmFwaGljcztcblxuICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgbW91c2VMYXN0UG9zOiBQSVhJLklQb2ludERhdGEgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgY29uc3RydWN0b3Ioc3lzOiBXYWxsU3lzdGVtKSB7XG4gICAgICAgIHRoaXMuc3lzID0gc3lzO1xuICAgICAgICB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIHRoaXMucGl4aUJvYXJkU3lzID0gc3lzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBzeXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfYWRkJywgKGM6IENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUgJiYgYy50eXBlID09PSAnd2FsbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZWRJZHMucHVzaChjLmVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzeXMud29ybGQuZXZlbnRzLm9uKCdjb21wb25lbnRfcmVtb3ZlJywgKGM6IENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUgJiYgYy50eXBlID09PSAnd2FsbCcgJiYgYXJyYXlSZW1vdmVFbGVtKHRoaXMuY3JlYXRlZElkcywgYy5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVDcmVhdGVkTGFzdFBvcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0Q3JlYXRpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW5kQ3JlYXRpb24oKTtcbiAgICB9XG5cbiAgICBlbmRDcmVhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVkTGFzdFBvcyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuc3lzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXRpZXModGhpcy5jcmVhdGVkSWRzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGRvbid0IGNoYW5nZSB0b29sXG4gICAgICAgIC8qdGhpcy5zeXMud29ybGQuZWRpdFJlc291cmNlKFRPT0xfVFlQRSwge1xuICAgICAgICAgICAgdG9vbDogVG9vbC5JTlNQRUNULFxuICAgICAgICB9KSovXG4gICAgfVxuXG4gICAgcmVkcmF3Q3JlYXRpb25MYXN0TGluZShwb3M6IFBJWEkuSVBvaW50RGF0YSk6IHZvaWQge1xuICAgICAgICB0aGlzLm1vdXNlTGFzdFBvcyA9IHBvcztcbiAgICAgICAgbGV0IGcgPSB0aGlzLmNyZWF0ZUxhc3RMaW5lRGlzcGxheTtcbiAgICAgICAgZy5jbGVhcigpO1xuXG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRMYXN0UG9zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGcubW92ZVRvKHRoaXMuY3JlYXRlZExhc3RQb3NbMF0sIHRoaXMuY3JlYXRlZExhc3RQb3NbMV0pO1xuICAgICAgICAgICAgZy5saW5lU3R5bGUoNSwgU0VMRUNUSU9OX0NPTE9SKTtcbiAgICAgICAgICAgIGcubGluZVRvKHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cbiAgICAgICAgZy5saW5lU3R5bGUoMCk7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAwICYmIHRoaXMuY3JlYXRlZExhc3RQb3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZy5iZWdpbkZpbGwoMHhlNTEwMTApO1xuICAgICAgICAgICAgZy5kcmF3Q2lyY2xlKHRoaXMuY3JlYXRlZExhc3RQb3NbMF0sIHRoaXMuY3JlYXRlZExhc3RQb3NbMV0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBnLmJlZ2luRmlsbCgweDQwNUZGRSk7XG4gICAgICAgIGcuZHJhd0NpcmNsZShwb3MueCwgcG9zLnksIDEwKTtcbiAgICB9XG5cbiAgICBhZGRWZXJ0ZXgocG9pbnQ6IFBJWEkuSVBvaW50RGF0YSk6IHZvaWQge1xuICAgICAgICBsZXQgbHAgPSB0aGlzLmNyZWF0ZWRMYXN0UG9zO1xuXG4gICAgICAgIGlmIChscCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgICB9IGVsc2UgaWYgKHBvaW50LnggPT0gbHBbMF0gJiYgcG9pbnQueSA9PSBscFsxXSkge1xuICAgICAgICAgICAgdGhpcy5lbmRDcmVhdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvaW50cyA9IFtscFswXSwgbHBbMV0sIHBvaW50LngsIHBvaW50LnldO1xuICAgICAgICAgICAgdGhpcy5zeXMuZml4SW50ZXJzZWN0aW9ucyhwb2ludHMsIDApO1xuICAgICAgICAgICAgbGV0IHBsZW4gPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBsZW47IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGxldCBjbWQgPSB0aGlzLnN5cy5jcmVhdGVXYWxsKFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNbaSAtIDJdLCBwb2ludHNbaSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNbaSAgICBdLCBwb2ludHNbaSArIDFdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBleGVjdXRlQW5kTG9nQ29tbWFuZCh0aGlzLnN5cy53b3JsZCwgY21kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSBbcG9pbnQueCwgcG9pbnQueV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bmRvVmVydGV4KHBvaW50OiBQSVhJLklQb2ludERhdGEpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZExhc3RQb3MgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLm1vdXNlTGFzdFBvcyA9IHBvaW50O1xuICAgICAgICBsZXQgcmVjb21wdXRlTGFzdCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jcmVhdGVkSWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3Qgd2FsbCA9IHRoaXMuc3lzLndvcmxkLmdldENvbXBvbmVudCh0aGlzLmNyZWF0ZWRJZHNbMF0sIFBPU0lUSU9OX1RZUEUpISEgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gW3dhbGwueCwgd2FsbC55XTtcbiAgICAgICAgICAgIHJlY29tcHV0ZUxhc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbWQgPSB7XG4gICAgICAgICAgICBraW5kOiAnZGVzcGF3bicsXG4gICAgICAgICAgICBlbnRpdGllczogW3RoaXMuY3JlYXRlZElkcy5wb3AoKV0sXG4gICAgICAgIH0gYXMgRGVTcGF3bkNvbW1hbmQ7XG4gICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMuc3lzLndvcmxkLCBjbWQpO1xuXG4gICAgICAgIGlmIChyZWNvbXB1dGVMYXN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUNyZWF0ZWRMYXN0UG9zKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd0NyZWF0aW9uTGFzdExpbmUodGhpcy5tb3VzZUxhc3RQb3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVjb21wdXRlQ3JlYXRlZExhc3RQb3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZWRJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRMYXN0UG9zID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5jcmVhdGVkSWRzW3RoaXMuY3JlYXRlZElkcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCB3YWxsUG9zID0gdGhpcy5zeXMud29ybGQuZ2V0Q29tcG9uZW50KGlkLCBQT1NJVElPTl9UWVBFKSEgYXMgUG9zaXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgd2FsbCA9IHRoaXMuc3lzLnN0b3JhZ2UuZ2V0Q29tcG9uZW50KGlkKSE7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZExhc3RQb3MgPSBbXG4gICAgICAgICAgICAgICAgd2FsbFBvcy54ICsgd2FsbC52ZWNbMF0sXG4gICAgICAgICAgICAgICAgd2FsbFBvcy55ICsgd2FsbC52ZWNbMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWRyYXdDcmVhdGlvbkxhc3RMaW5lKHRoaXMubW91c2VMYXN0UG9zKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJNb3ZlKGV2ZW50OiBQb2ludGVyTW92ZUV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVkcmF3Q3JlYXRpb25MYXN0TGluZShzbmFwUG9pbnQodGhpcy5zeXMud29ybGQsIGV2ZW50LmJvYXJkUG9zKSk7XG4gICAgfVxuXG4gICAgb25Qb2ludGVyRG93bihldmVudDogUG9pbnRlckNsaWNrRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50LmNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hZGRWZXJ0ZXgoc25hcFBvaW50KHRoaXMuc3lzLndvcmxkLCBldmVudC5ib2FyZFBvcykpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlclJpZ2h0RG93bihldmVudDogUG9pbnRlclJpZ2h0RG93bkV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5jb25zdW1lZCkgcmV0dXJuO1xuICAgICAgICBldmVudC5jb25zdW1lZCA9IHRydWU7XG4gICAgICAgIHRoaXMudW5kb1ZlcnRleChzbmFwUG9pbnQodGhpcy5zeXMud29ybGQsIGV2ZW50LmJvYXJkUG9zKSk7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbmRDcmVhdGlvbigpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuekluZGV4ID0gRGlzcGxheVByZWNlZGVuY2UuV0FMTCArIDE7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3JlYXRlTGFzdExpbmVEaXNwbGF5LmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5waXhpQm9hcmRTeXMuYm9hcmQuYWRkQ2hpbGQodGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkpO1xuICAgICAgICB0aGlzLnBpeGlCb2FyZFN5cy5ib2FyZC5zb3J0Q2hpbGRyZW4oKTtcblxuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX01PVkUsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9SSUdIVF9ET1dOLCB0aGlzLm9uUG9pbnRlclJpZ2h0RG93biwgdGhpcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXN0TGluZURpc3BsYXkuZGVzdHJveShERVNUUk9ZX0FMTClcbiAgICB9XG59IiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtTRUxFQ1RJT05fVFlQRSwgU2VsZWN0aW9uU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtQb2ludGVyQ2xpY2tFdmVudCwgUG9pbnRlckRvd25FdmVudCwgUG9pbnRlckV2ZW50cywgUG9pbnRlck1vdmVFdmVudCwgUG9pbnRlclVwRXZlbnR9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge1Rvb2xQYXJ0fSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3Rvb2xTeXN0ZW1cIjtcbmltcG9ydCB7UmVjdGFuZ3VsYXJTZWxlY3Rpb259IGZyb20gXCIuL3JlY3Rhbmd1bGFyU2VsZWN0aW9uXCI7XG5pbXBvcnQge0xBWUVSX1RZUEUsIExheWVyU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2xheWVyU3lzdGVtXCI7XG5pbXBvcnQge0tFWUJPQVJEX1RZUEUsIEtleWJvYXJkUmVzb3VyY2V9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2sva2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gXCIuLi8uLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcblxuZXhwb3J0IGNsYXNzIEZpbHRlcmVkUGFuUGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHJlYWRvbmx5IGZpbHRlcjogKHdvcmxkOiBXb3JsZCwgZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpID0+IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgcHJpb3JpdHk6IG51bWJlcjtcblxuICAgIGlzUGFubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICB3b3JsZDogV29ybGQsIG5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgIGZpbHRlcjogKHdvcmxkOiBXb3JsZCwgZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpID0+IGJvb2xlYW4sXG4gICAgICAgICAgICBwcmlvcml0eTogbnVtYmVyID0gMFxuICAgICAgICApIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIH1cblxuICAgIG9uUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJEb3duRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNQYW5uaW5nID0gdGhpcy5maWx0ZXIodGhpcy53b3JsZCwgZXZlbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzUGFubmluZykge1xuICAgICAgICAgICAgZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXZlbnQuY29uc3VtZURyYWdCb2FyZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2ZW50LmlzQ2xpY2spIHtcbiAgICAgICAgICAgIGV2ZW50LmNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUGFubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzLCB0aGlzLnByaW9yaXR5KTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9VUCwgdGhpcy5vblBvaW50ZXJVcCwgdGhpcywgdGhpcy5wcmlvcml0eSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0UGFydCBpbXBsZW1lbnRzIFRvb2xQYXJ0IHtcbiAgICByZWFkb25seSBuYW1lID0gXCJpbnRlcmFjdFwiO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgbGFzdENsaWNrOiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJDbGljayhldmVudDogUG9pbnRlckNsaWNrRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBpZiAobm93IC0gdGhpcy5sYXN0Q2xpY2sgPCA4MDApIHtcbiAgICAgICAgICAgIC8vIGRvdWJsZSBjbGljayFcbiAgICAgICAgICAgIHRoaXMubGFzdENsaWNrID0gMDtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdChcImludGVyYWN0XCIsIGV2ZW50LmVudGl0aWVzSG92ZXJlZCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENsaWNrID0gbm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIpOiB2b2lkIHtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9DTElDSywgdGhpcy5vblBvaW50ZXJDbGljaywgdGhpcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICB9XG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlbGVjdFBhcnQgaW1wbGVtZW50cyBUb29sUGFydCB7XG4gICAgbmFtZSA9IFwic2VsZWN0XCI7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBsYXllclN5czogTGF5ZXJTeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBzZWxlY3Rpb25TeXM6IFNlbGVjdGlvblN5c3RlbTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleWJvYXJkOiBLZXlib2FyZFJlc291cmNlO1xuICAgIHByaXZhdGUgcmVjdFNlbGVjdGlvbjogUmVjdGFuZ3VsYXJTZWxlY3Rpb247XG5cbiAgICBwcml2YXRlIGlzRG93biA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBsYXN0RG93bkVudGl0aWVzOiBudW1iZXJbXSA9IFtdO1xuICAgIHByaXZhdGUgbGFzdERvd25TZWxlY3RlZDogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIGp1c3RTZWxlY3RlZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgcHJpdmF0ZSBjYW5Nb3ZlU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGlzTW92aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBtb3ZpbmdTdGFydCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgcHJpdmF0ZSBsYXN0TW92ZSA9IG5ldyBQSVhJLlBvaW50KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICB0aGlzLmxheWVyU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoTEFZRVJfVFlQRSkgYXMgTGF5ZXJTeXN0ZW07XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzID0gd29ybGQuc3lzdGVtcy5nZXQoU0VMRUNUSU9OX1RZUEUpIGFzIFNlbGVjdGlvblN5c3RlbTtcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoS0VZQk9BUkRfVFlQRSkgYXMgS2V5Ym9hcmRSZXNvdXJjZTtcbiAgICAgICAgdGhpcy5yZWN0U2VsZWN0aW9uID0gbmV3IFJlY3Rhbmd1bGFyU2VsZWN0aW9uKHdvcmxkKTtcbiAgICAgICAgdGhpcy5yZWN0U2VsZWN0aW9uLnByZWRpY2F0ZSA9IGlkID0+ICF0aGlzLmxheWVyU3lzLmdldEVudGl0eUxheWVyKGlkKS5sb2NrZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRG93bkV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChldmVudC5jb25zdW1lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMubGFzdERvd25FbnRpdGllcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmxhc3REb3duU2VsZWN0ZWQubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5qdXN0U2VsZWN0ZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGV2ZW50LmVudGl0aWVzSG92ZXJlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXllclN5cy5nZXRFbnRpdHlMYXllcihlbnRpdHkpLmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERvd25FbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERvd25TZWxlY3RlZC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA9PT0gMCAmJiB0aGlzLndvcmxkLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uYmVnaW4oZXZlbnQuYm9hcmRQb3MpO1xuICAgICAgICAgICAgZXZlbnQuY29uc3VtZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xpZW50cyBjYW4ndCBtb3ZlIGFueXRoaW5nIChUT0RPOiB0aGlzIHNob3VsZCBiZSBmYWxzZSlcbiAgICAgICAgZXZlbnQuY29uc3VtZWQgfHw9IHRoaXMud29ybGQuaXNNYXN0ZXI7XG4gICAgICAgIC8vIGV2ZW50LmNvbnN1bWVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBjdHJsUHJlc3NlZCA9IHRoaXMua2V5Ym9hcmQuY3RybDtcbiAgICAgICAgaWYgKGN0cmxQcmVzc2VkKSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzO1xuICAgICAgICAgICAgbGV0IGUgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLmxhc3REb3duU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmFkZEVudGl0aWVzKGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGFzdERvd25TZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmxhc3REb3duU2VsZWN0ZWRbMF07XG4gICAgICAgICAgICB0aGlzLmp1c3RTZWxlY3RlZCA9IGVudGl0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGJldHRlciBtb3ZlIHN5c3RlbVxuICAgICAgICB0aGlzLmNhbk1vdmVTZWxlY3RlZCA9IHRoaXMud29ybGQuaXNNYXN0ZXIgJiYgIWN0cmxQcmVzc2VkO1xuICAgICAgICBpZiAoIXRoaXMuY2FuTW92ZVNlbGVjdGVkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5tb3ZpbmdTdGFydC5jb3B5RnJvbShldmVudC5ib2FyZFBvcyk7XG4gICAgICAgIHRoaXMubGFzdE1vdmUuc2V0KDAsIDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJVcEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FuTW92ZVNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNEb3duID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGV2ZW50LmlzQ2xpY2spIHtcbiAgICAgICAgICAgIGlmIChldmVudC5lbnRpdGllc0hvdmVyZWQoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5jbGVhcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmp1c3RTZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuc2V0T25seUVudGl0eSh0aGlzLmp1c3RTZWxlY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZWN0U2VsZWN0aW9uLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uZG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZXZlbnRzLmVtaXQoJ3Rvb2xfbW92ZV9lbmQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93biB8fCAhdGhpcy5jYW5Nb3ZlU2VsZWN0ZWQgfHwgZXZlbnQuY2FuQmVjb21lQ2xpY2spIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5sYXN0RG93blNlbGVjdGVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY3RTZWxlY3Rpb24uaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3RTZWxlY3Rpb24uYmVnaW4odGhpcy5tb3ZpbmdTdGFydCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVjdFNlbGVjdGlvbi5tb3ZlRW5kKGV2ZW50LmJvYXJkUG9zKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuanVzdFNlbGVjdGVkICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuc2VsZWN0aW9uU3lzLnNlbGVjdGVkRW50aXRpZXMuaGFzKHRoaXMuanVzdFNlbGVjdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN5cy5zZXRPbmx5RW50aXR5KHRoaXMuanVzdFNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5ldmVudHMuZW1pdCgndG9vbF9tb3ZlX2JlZ2luJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaWZmWCA9IGV2ZW50LmJvYXJkUG9zLnggLSB0aGlzLm1vdmluZ1N0YXJ0Lng7XG4gICAgICAgICAgICBsZXQgZGlmZlkgPSBldmVudC5ib2FyZFBvcy55IC0gdGhpcy5tb3ZpbmdTdGFydC55O1xuXG4gICAgICAgICAgICBsZXQgbW92ZVggPSBkaWZmWCAtIHRoaXMubGFzdE1vdmUueDtcbiAgICAgICAgICAgIGxldCBtb3ZlWSA9IGRpZmZZIC0gdGhpcy5sYXN0TW92ZS55O1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZS5zZXQoZGlmZlgsIGRpZmZZKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLm1vdmVBbGwobW92ZVgsIG1vdmVZLCB0aGlzLnNlbGVjdGlvblN5cy5zZWxlY3RlZEVudGl0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemUoZXZlbnRzOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfRE9XTiwgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzKTtcbiAgICAgICAgZXZlbnRzLm9uKFBvaW50ZXJFdmVudHMuUE9JTlRFUl9NT1ZFLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX1VQLCB0aGlzLm9uUG9pbnRlclVwLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgIH1cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vLi4vUElYSVwiO1xuaW1wb3J0IHtQb2ludGVyRG93bkV2ZW50LCBQb2ludGVyRXZlbnRzLCBQb2ludGVyTW92ZUV2ZW50LCBQb2ludGVyVXBFdmVudH0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9waXhpQm9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbFBhcnR9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtLRVlCT0FSRF9UWVBFLCBLZXlib2FyZFJlc291cmNlfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge01lYXN1cmVSZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBzbmFwUG9pbnQgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5cbmV4cG9ydCBjb25zdCBNRUFTVVJFX1RZUEUgPSBcIm1lYXN1cmVcIjtcbmV4cG9ydCB0eXBlIE1FQVNVUkVfVFlQRSA9IHR5cGVvZiBNRUFTVVJFX1RZUEU7XG5leHBvcnQgY2xhc3MgTWVhc3VyZVRvb2xQYXJ0IGltcGxlbWVudHMgVG9vbFBhcnQge1xuICAgIHJlYWRvbmx5IG5hbWUgPSBNRUFTVVJFX1RZUEU7XG4gICAgcHJpdmF0ZSByZWFkb25seSB3b3JsZDogV29ybGQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBrZXlib2FyZDogS2V5Ym9hcmRSZXNvdXJjZTtcblxuICAgIHByaXZhdGUgc3RhcnRNZWFzdXJlOiBQSVhJLklQb2ludERhdGEgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgIHByaXZhdGUgbGFzdE1lYXN1cmU6IFBJWEkuSVBvaW50RGF0YSA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgcHJpdmF0ZSBpc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZCkge1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSB3b3JsZC5nZXRSZXNvdXJjZShLRVlCT0FSRF9UWVBFKSEgYXMgS2V5Ym9hcmRSZXNvdXJjZTtcbiAgICB9XG5cbiAgICBwdXNoUmVzKCkge1xuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHtcbiAgICAgICAgICAgIHR5cGU6IE1FQVNVUkVfVFlQRSxcbiAgICAgICAgICAgIGZyb21YOiB0aGlzLnN0YXJ0TWVhc3VyZS54LFxuICAgICAgICAgICAgZnJvbVk6IHRoaXMuc3RhcnRNZWFzdXJlLnksXG4gICAgICAgICAgICB0b1g6IHRoaXMubGFzdE1lYXN1cmUueCxcbiAgICAgICAgICAgIHRvWTogdGhpcy5sYXN0TWVhc3VyZS55LFxuICAgICAgICAgICAgX3NhdmU6IGZhbHNlLFxuICAgICAgICAgICAgX3N5bmM6IGZhbHNlLFxuICAgICAgICB9IGFzIE1lYXN1cmVSZXNvdXJjZSwgJ3VwZGF0ZScpO1xuICAgIH1cblxuICAgIHJlbW92ZVJlcygpIHtcbiAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVSZXNvdXJjZShNRUFTVVJFX1RZUEUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRG93bkV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChldmVudC5jb25zdW1lZCkgcmV0dXJuO1xuICAgICAgICBldmVudC5jb25zdW1lZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5pc0Rvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXJ0TWVhc3VyZSA9IHNuYXBQb2ludCh0aGlzLndvcmxkLCBldmVudC5ib2FyZFBvcyk7XG4gICAgICAgIHRoaXMubGFzdE1lYXN1cmUgPSB0aGlzLnN0YXJ0TWVhc3VyZTtcblxuICAgICAgICB0aGlzLnB1c2hSZXMoKTtcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChldmVudDogUG9pbnRlclVwRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzRG93biA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubGFzdE1lYXN1cmUgPSBzbmFwUG9pbnQodGhpcy53b3JsZCwgZXZlbnQuYm9hcmRQb3MpO1xuXG4gICAgICAgIHRoaXMucHVzaFJlcygpO1xuICAgIH1cblxuICAgIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubGFzdE1lYXN1cmUgPSBzbmFwUG9pbnQodGhpcy53b3JsZCwgZXZlbnQuYm9hcmRQb3MpO1xuXG4gICAgICAgIHRoaXMucHVzaFJlcygpO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW1vdmVSZXMoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGV2ZW50czogU2FmZUV2ZW50RW1pdHRlcikge1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX0RPV04sIHRoaXMub25Qb2ludGVyRG93biwgdGhpcyk7XG4gICAgICAgIGV2ZW50cy5vbihQb2ludGVyRXZlbnRzLlBPSU5URVJfVVAsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMpO1xuICAgICAgICBldmVudHMub24oUG9pbnRlckV2ZW50cy5QT0lOVEVSX01PVkUsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQge0FhYmJ9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9hYWJiXCI7XG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vd29ybGRcIjtcbmltcG9ydCB7SU5URVJBQ1RJT05fVFlQRSwgSW50ZXJhY3Rpb25TeXN0ZW0sIHNoYXBlQWFiYiwgc2hhcGVJbnRlcnNlY3R9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svaW50ZXJhY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7YWFiYlNhbWVPcmlnaW5EaWZmZXJlbmNlfSBmcm9tIFwiLi4vLi4vdXRpbC9nZW9tZXRyeVwiO1xuaW1wb3J0IHtSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSwgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZX0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XG5pbXBvcnQge1NFTEVDVElPTl9UWVBFLCBTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2svc2VsZWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge0tFWUJPQVJEX1RZUEUsIEtleWJvYXJkUmVzb3VyY2V9IGZyb20gXCIuLi9zeXN0ZW1zL2JhY2sva2V5Ym9hcmRTeXN0ZW1cIjtcbmltcG9ydCB7IElQb2ludERhdGEgfSBmcm9tIFwicGl4aS5qc1wiO1xuXG50eXBlIElQb2ludCA9IFBJWEkuSVBvaW50O1xuXG5leHBvcnQgY2xhc3MgUmVjdGFuZ3VsYXJTZWxlY3Rpb24ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VsZWN0aW9uU3lzOiBTZWxlY3Rpb25TeXN0ZW07XG4gICAgcHJpdmF0ZSByZWFkb25seSBrZXlib2FyZDogS2V5Ym9hcmRSZXNvdXJjZTtcblxuICAgIGlzQWN0aXZlOiBib29sZWFuID0gZmFsc2U7XG4gICAgc3RhcnRQb2ludDogSVBvaW50RGF0YSA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgZW5kUG9pbnQ6IElQb2ludERhdGEgPSBuZXcgUElYSS5Qb2ludCgpO1xuXG4gICAgcHJlZGljYXRlOiAoaWQ6IG51bWJlcikgPT4gYm9vbGVhbiA9IF8gPT4gdHJ1ZTtcbiAgICBlbnRpdGllc0luc2lkZSA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIGVudGl0aWVzU2VsZWN0ZWQgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBpc011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBkaXNwbGF5OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkKSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IHdvcmxkLmdldFJlc291cmNlKEtFWUJPQVJEX1RZUEUpIGFzIEtleWJvYXJkUmVzb3VyY2U7XG4gICAgICAgIHRoaXMuZGlzcGxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMgPSB3b3JsZC5zeXN0ZW1zLmdldChTRUxFQ1RJT05fVFlQRSkgYXMgU2VsZWN0aW9uU3lzdGVtO1xuICAgIH1cblxuICAgIGJlZ2luKHBvczogSVBvaW50RGF0YSkge1xuICAgICAgICB0aGlzLmVudGl0aWVzU2VsZWN0ZWQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2Uoe1xuICAgICAgICAgICAgdHlwZTogUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsXG4gICAgICAgICAgICBhYWJiOiBuZXcgQWFiYihwb3MueCwgcG9zLnksIHBvcy54LCBwb3MueSksXG4gICAgICAgICAgICBfc2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBfc3luYzogZmFsc2UsXG4gICAgICAgIH0gYXMgUmVjdGFuZ3VsYXJTZWxlY3Rpb25SZXNvdXJjZSwgJ3VwZGF0ZScpO1xuICAgICAgICB0aGlzLnN0YXJ0UG9pbnQgPSBwb3M7XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBwb3M7XG5cbiAgICAgICAgdGhpcy5pc011bHRpcGxlID0gdGhpcy5rZXlib2FyZC5jdHJsO1xuICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbW92ZUVuZChwb3M6IElQb2ludERhdGEpIHtcbiAgICAgICAgbGV0IGFkZGVkID0gW10gYXMgQWFiYltdO1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IFtdIGFzIEFhYmJbXTtcbiAgICAgICAgYWFiYlNhbWVPcmlnaW5EaWZmZXJlbmNlKHRoaXMuc3RhcnRQb2ludCEsIHRoaXMuZW5kUG9pbnQhLCBwb3MsIGFkZGVkLCByZW1vdmVkKTtcblxuICAgICAgICBjb25zdCBuZXdBYWJiID0gbmV3IEFhYmIodGhpcy5zdGFydFBvaW50IS54LCB0aGlzLnN0YXJ0UG9pbnQhLnksIHBvcy54LCBwb3MueSk7XG5cbiAgICAgICAgZm9yIChsZXQgeCBvZiBhZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZWN0KHgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHggb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVSZWN0KHgsIG5ld0FhYmIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBwb3M7XG5cbiAgICAgICAgdGhpcy53b3JsZC5lZGl0UmVzb3VyY2UoUkVDVEFOR1VMQVJfU0VMRUNUSU9OX1RZUEUsIHtcbiAgICAgICAgICAgIGFhYmI6IG5ld0FhYmIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRvbmUoKSB7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVSZXNvdXJjZShSRUNUQU5HVUxBUl9TRUxFQ1RJT05fVFlQRSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdGllc0luc2lkZS5jbGVhcigpO1xuICAgICAgICB0aGlzLmVudGl0aWVzU2VsZWN0ZWQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRW50aXR5RW50ZXIoaWQ6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25TeXMuc2VsZWN0ZWRFbnRpdGllcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnRpdGllc1NlbGVjdGVkLmFkZChpZCk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3lzLmFkZEVudGl0aWVzKFtpZF0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25FbnRpdHlMZWF2ZShpZDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmVudGl0aWVzU2VsZWN0ZWQuZGVsZXRlKGlkKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25TeXMucmVtb3ZlRW50aXRpZXMoW2lkXSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFkZFJlY3QoYWFiYjogQWFiYikge1xuICAgICAgICBsZXQgc3lzID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChJTlRFUkFDVElPTl9UWVBFKSBhcyBJbnRlcmFjdGlvblN5c3RlbTtcbiAgICAgICAgbGV0IGVudHMgPSBzeXMucXVlcnlWaXNpYmxlKHNoYXBlQWFiYihhYWJiKSwgYyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbnRpdGllc0luc2lkZS5oYXMoYy5lbnRpdHkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVkaWNhdGUoYy5lbnRpdHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzSW5zaWRlLmFkZChjLmVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLm9uRW50aXR5RW50ZXIoYy5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlUmVjdChhYWJiOiBBYWJiLCBuZXdBYWJiOiBBYWJiKSB7XG4gICAgICAgIGxldCBzeXMgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgICAgICBsZXQgZW50cyA9IHN5cy5xdWVyeVZpc2libGUoc2hhcGVBYWJiKGFhYmIpLCBjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzSW5zaWRlLmhhcyhjLmVudGl0eSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIXNoYXBlSW50ZXJzZWN0KHNoYXBlQWFiYihuZXdBYWJiKSwgYy5zaGFwZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXNJbnNpZGUuZGVsZXRlKGMuZW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMub25FbnRpdHlMZWF2ZShjLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufSIsImV4cG9ydCBlbnVtIFRvb2wge1xuICAgIElOU1BFQ1Q9ICdpbnNwZWN0JyxcbiAgICBDUkVBVEVfV0FMTCA9ICdjcmVhdGVfd2FsbCcsXG4gICAgQ1JFQVRFX1BJTiA9ICdjcmVhdGVfcGluJyxcbiAgICBDUkVBVEVfUFJPUCA9ICdjcmVhdGVfcHJvcCcsXG4gICAgR1JJRCA9ICdncmlkJyxcbiAgICBMSUdIVCA9ICdsaWdodCcsXG4gICAgTUVBU1VSRT0gJ21lYXN1cmUnLFxuICAgIFBST1BfVEVMRVBPUlRfTElOSyA9ICdwcm9wX3RlbGVwb3J0X2xpbmsnLFxuICAgIE1PVVNFX1RSQUlMID0gJ21vdXNlX3RyYWlsJyxcbn1cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi8uLi9QSVhJXCI7XG5pbXBvcnQge1F1ZXJ5SGl0RXZlbnR9IGZyb20gXCIuLi9pbnRlcmFjdGlvblwiO1xuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL3dvcmxkXCI7XG5pbXBvcnQge1BJWElfQk9BUkRfVFlQRSwgUGl4aUJvYXJkU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtJTlRFUkFDVElPTl9UWVBFLCBJbnRlcmFjdGlvblN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvYmFjay9pbnRlcmFjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtXQUxMX1RZUEUsIFdhbGxTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL3dhbGxTeXN0ZW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFbnRpdGllc0F0KHdvcmxkOiBXb3JsZCwgcG9pbnQ6IFBJWEkuUG9pbnQsIG11bHRpOiBib29sZWFuKTogbnVtYmVyW10ge1xuICAgIGxldCBldmVudCA9IFF1ZXJ5SGl0RXZlbnQucXVlcnlQb2ludChwb2ludCwgbXVsdGkpO1xuXG4gICAgd29ybGQuZXZlbnRzLmVtaXQoJ3F1ZXJ5X2hpdCcsIGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQuZ2V0U29ydGVkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb2FyZFBvc0Zyb21PcmlnaW4od29ybGQ6IFdvcmxkLCBldmVudDogUElYSS5JbnRlcmFjdGlvbkV2ZW50LCBvcmlnPzogUElYSS5Qb2ludCk6IFBJWEkuUG9pbnQge1xuICAgIGxldCBib2FyZCA9IHdvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgIHJldHVybiBldmVudC5kYXRhLmdldExvY2FsUG9zaXRpb24oYm9hcmQuYm9hcmQsIG9yaWcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwUG9pbnRGcm9tTW91c2VJbnRlcmFjdGlvbih3b3JsZDogV29ybGQsIGV2ZW50OiBQSVhJLkludGVyYWN0aW9uRXZlbnQsIG9yaWc/OiBQSVhJLlBvaW50KTogUElYSS5Qb2ludCB7XG4gICAgbGV0IHBvaW50ID0gZ2V0Qm9hcmRQb3NGcm9tT3JpZ2luKHdvcmxkLCBldmVudCwgb3JpZyk7XG5cbiAgICByZXR1cm4gc25hcFBvaW50KHdvcmxkLCBwb2ludCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbmFwUG9pbnQod29ybGQ6IFdvcmxkLCBwOiBQSVhJLklQb2ludERhdGEsIHVzZVdhbGw6IGJvb2xlYW4gPSB0cnVlKTogUElYSS5Qb2ludCB7XG4gICAgY29uc3QgcG9pbnQgPSBuZXcgUElYSS5Qb2ludChwLngsIHAueSk7XG5cbiAgICBjb25zdCBpbnRlclN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KElOVEVSQUNUSU9OX1RZUEUpIGFzIEludGVyYWN0aW9uU3lzdGVtO1xuICAgIGxldCBuZWFyZXN0ID0gaW50ZXJTeXMuc25hcERiLmZpbmROZWFyZXN0KFtwb2ludC54LCBwb2ludC55XSk7XG4gICAgaWYgKG5lYXJlc3QgIT09IHVuZGVmaW5lZCAmJiBuZWFyZXN0WzFdIDwgMTAwKSB7XG4gICAgICAgIHBvaW50LnNldChuZWFyZXN0WzBdWzBdLCBuZWFyZXN0WzBdWzFdKTtcbiAgICB9IGVsc2UgaWYgKHVzZVdhbGwpIHtcbiAgICAgICAgY29uc3Qgd2FsbFN5cyA9IHdvcmxkLnN5c3RlbXMuZ2V0KFdBTExfVFlQRSkgYXMgV2FsbFN5c3RlbTtcbiAgICAgICAgbGV0IG9uV2FsbExvYyA9IHdhbGxTeXM/LmZpbmRMb2NhdGlvbk9uV2FsbChwb2ludCwgNTApO1xuICAgICAgICBpZiAob25XYWxsTG9jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvaW50LmNvcHlGcm9tKG9uV2FsbExvYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufVxuIiwiLy8gV2VsY29tZSB0byB0aGlzIHRhbGssIEknbGwgcHJlc2VudCB0byB5b3U6IG15IHN0dXBpZCB2ZXJzaW9uIG9mIEVDUy5cbi8vIFdoYXQgYW0gSSB0cnlpbmcgdG8gc29sdmU/XG4vLyBFdmVyeXRoaW5nIGluIHRoZSBtYXAgd2lsbCBuZWVkIHRvIGhvbGQgaW5mb3JtYXRpb24sIHRoaXMgbWlnaHQgYmUgYSBwbGF5ZXIgaG9sZGluZyBpbnZlbnRvcnkgb3IgbWF5YmUgYSBtb25zdGVyXG4vLyBob2xkaW5nIHRvIGxpZmVwb2ludHMgYW5kIHN1Y2guXG4vLyBXaGF0J3MgbW9yZT8gZXZlcnkgZW50aXR5IG1pZ2h0IGhhdmUgbXVsdGlwbGUgbmFtZXMgYW5kIG9ubHkgc29tZSBvZiB0aGVtIG1pZ2h0IGJlIHB1YmxpY1xuLy8gc28gd2UgYWxzbyBoYXZlIHNvbWV0aGluZyBzaW1pbGFyIHRvIGEgXCJtdWx0aXBsZSBjb21wb25lbnRcIi5cblxuaW1wb3J0IHtFY3NTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQge1Jlc291cmNlfSBmcm9tIFwiLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHtTeXN0ZW1HcmFwaH0gZnJvbSBcIi4vc3lzdGVtR3JhcGhcIjtcbmltcG9ydCB7U3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW1cIjtcbmltcG9ydCBTYWZlRXZlbnRFbWl0dGVyIGZyb20gXCIuLi91dGlsL3NhZmVFdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7Z2VuZXJhdGVSYW5kb21JZH0gZnJvbSBcIi4vZWNzVXRpbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZvcmdldERhdGEge1xuICAgIGVudGl0aWVzOiBTZXQ8bnVtYmVyPjtcbn1cblxuZXhwb3J0IHR5cGUgU2VyaWFsaXplZEVudGl0aWVzID0ge1xuICAgIGVudGl0aWVzOiBudW1iZXJbXTtcbiAgICBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9O1xufTtcblxuZXhwb3J0IHR5cGUgU2VyaWFsaXplZFJlc291cmNlcyA9IHtcbiAgICByZXNvdXJjZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fTtcbn1cblxuZXhwb3J0IHR5cGUgU2VyaWFsaXplZFdvcmxkID0gU2VyaWFsaXplZEVudGl0aWVzICYgUGFydGlhbDxTZXJpYWxpemVkUmVzb3VyY2VzPjtcblxuZXhwb3J0IGludGVyZmFjZSBFY3NFbnRpdHlMaW5rZWQge1xuICAgIF9lY3NfZW50aXR5PzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBBbnlNYXBUeXBlID0ge1trZXk6IHN0cmluZ106IGFueX07XG5leHBvcnQgdHlwZSBNdWx0aUVkaXRUeXBlID0gQXJyYXk8e1xuICAgIHR5cGU6IHN0cmluZyxcbiAgICBjaGFuZ2VzOiBBbnlNYXBUeXBlLFxuICAgIG11bHRpSWQ/OiBudW1iZXIsXG4gICAgY2xlYXJDaGFuZ2VzPzogYm9vbGVhbixcbn0+O1xudHlwZSBNdWx0aUVkaXRUeXBlV29yayA9IE11bHRpRWRpdFR5cGUgJiBBcnJheTx7XG4gICAgX3NraXA/OiB0cnVlO1xuICAgIF9jb21wPzogQ29tcG9uZW50O1xufT47XG5cbmV4cG9ydCB0eXBlIFJlc291cmNlQWRkUHJlc2VudFR5cGUgPSAnZmFpbCcgfCAnaWdub3JlJyB8ICd1cGRhdGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZURhdGEge1xuICAgIG9wdGlvbnM6IFNlcmlhbGl6ZU9wdGlvbnM7XG4gICAgZW50aXR5TWFwcGluZzogKGlkOiBudW1iZXIpID0+IG51bWJlcjtcbiAgICBzaG91bGRJZ25vcmU6IChpZDogbnVtYmVyKSA9PiBib29sZWFuO1xuICAgIHJlc3VsdD86IFNlcmlhbGl6ZWRXb3JsZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZXNlcmlhbGl6ZURhdGEge1xuICAgIG9wdGlvbnM6IERlc2VyaWFsaXplT3B0aW9ucztcbiAgICBkYXRhOiBTZXJpYWxpemVkV29ybGQ7XG4gICAgZW50aXR5TWFwcGluZzogKGlkOiBudW1iZXIpID0+IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVPcHRpb25zIHtcbiAgICAvLyBJZiB0cnVlIG9ubHkgc2VyaWFsaXplcyBzeW5jIGNvbXBvbmVudHMvcmVzb3VyY2VzXG4gICAgcmVxdWlyZVN5bmM6IGJvb2xlYW4sXG4gICAgLy8gSWYgdHJ1ZSBvbmx5IHNlcmlhbGl6ZXMgc2F2ZSBjb21wb25lbnRzL3Jlc291cmNlc1xuICAgIHJlcXVpcmVTYXZlOiBib29sZWFuLFxuICAgIC8vIFJlbWFwcyBlbnRpdGllcyB0byAxLDIsMy4uLlxuICAgIHJlbWFwOiBib29sZWFuLFxuICAgIC8vIFJlbW92ZXMgY2xpZW50VmlzaWJsZSAoYW5kIGNsaWVudFZpc2libGUgPT09IGZhbHNlIGNvbXBvbmVudHMpXG4gICAgLy8gYW5kIEhPU1RfSElEREVOIGVudGl0aWVzXG4gICAgc3RyaXBDbGllbnQ6IGJvb2xlYW4sXG4gICAgLy8gSWYgdHJ1ZSBzZXJpYWxpemVzIGV2ZXJ5IGVudGl0eSwgZXZlbiBpZiBpdCBoYXMgSE9TVF9ISURERU5cbiAgICAvLyAob25seSB1c2VmdWwgd2hlbiBzdHJpcENsaWVudCBpcyBlbmFibGVkKVxuICAgIGlnbm9yZUhvc3RIaWRkZW46IGJvb2xlYW4sXG4gICAgLy8gT25seSBzZXJpYWxpemVzIGVudGl0aWVzIGNvbnRhaW5lZCBpbiB0aGUgc2V0XG4gICAgb25seT86IFNldDxudW1iZXI+LFxuICAgIC8vIElmIHRydWUgYWxzbyBzZXJpYWxpemVzIHJlc291cmNlc1xuICAgIHJlc291cmNlczogYm9vbGVhbixcbn1cblxuY29uc3QgREVGQVVMVF9TRVJJQUxJWkVfT1BUSU9OUyA9IHtcbiAgICByZXF1aXJlU3luYzogZmFsc2UsXG4gICAgcmVxdWlyZVNhdmU6IGZhbHNlLFxuICAgIHJlbWFwOiBmYWxzZSxcbiAgICBzdHJpcENsaWVudDogZmFsc2UsXG4gICAgaWdub3JlSG9zdEhpZGRlbjogZmFsc2UsXG4gICAgcmVzb3VyY2VzOiBmYWxzZSxcbn0gYXMgU2VyaWFsaXplT3B0aW9ucztcblxuZXhwb3J0IGludGVyZmFjZSBEZXNlcmlhbGl6ZU9wdGlvbnMge1xuICAgIHJlbWFwOiBib29sZWFuLFxuICAgIHRoZW5TZWxlY3Q6IGJvb2xlYW4sXG59XG5cbmNvbnN0IERFRkFVTFRfREVTRVJJQUxJWkVfT1BUSU9OUyA9IHtcbiAgICByZW1hcDogZmFsc2UsXG4gICAgdGhlblNlbGVjdDogZmFsc2UsXG59IGFzIERlc2VyaWFsaXplT3B0aW9ucztcblxuZXhwb3J0IGNsYXNzIFdvcmxkIHtcbiAgICBzeXN0ZW1zID0gbmV3IFN5c3RlbUdyYXBoKCk7XG4gICAgc3RvcmFnZXMgPSBuZXcgTWFwPHN0cmluZywgRWNzU3RvcmFnZTxhbnk+PigpO1xuICAgIHN0b3JhZ2VMaXN0ID0gbmV3IEFycmF5PEVjc1N0b3JhZ2U8YW55Pj4oKTtcbiAgICBlbnRpdGllcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIHJlc291cmNlcyA9IG5ldyBNYXA8c3RyaW5nLCBSZXNvdXJjZT4oKTtcblxuICAgIHByaXZhdGUgc3lzdGVtc0ZpbmFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzRGVzZXJpYWxpemluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzRGVzcGF3bmluZzogbnVtYmVyW10gPSBbXTtcbiAgICBpc01hc3RlcjogYm9vbGVhbjtcblxuICAgIC8vICAgICAgRXZlbnQgbGlzdDpcbiAgICAvLyBlbnRpdHlfc3Bhd24oaWQpXG4gICAgLy8gZW50aXR5X3NwYXduZWQoaWQpIC0gQWZ0ZXIgYW4gZW50aXR5IGlzIHNwYXduZWRcbiAgICAvLyBlbnRpdHlfZGVzcGF3bihpZClcbiAgICAvLyBlbnRpdHlfZGVzcGF3bmVkKGlkKSAtIEFmdGVyIGFuIGVudGl0eSBpcyBkZXNwYXduZWRcbiAgICAvLyBjb21wb25lbnRfYWRkKGNvbXBvbmVudClcbiAgICAvLyBjb21wb25lbnRfZWRpdChjaGFuZ2VzLCBjb21wb25lbnQpIC0gQmVmb3JlIHRoZSBjb21wb25lbnQgaXMgZWRpdGVkXG4gICAgLy8gY29tcG9uZW50X2VkaXRlZChjb21wb25lbnQsIGNoYW5nZXMpIC0gQWZ0ZXIgdGhlIGNvbXBvbmVudCBpcyBlZGl0ZWRcbiAgICAvLyBjb21wb25lbnRfcmVtb3ZlKGNvbXBvbmVudClcbiAgICAvLyBjb21wb25lbnRfcmVtb3ZlZChjb21wb25lbnQpXG4gICAgLy8gcmVzb3VyY2VfYWRkKHJlc291cmNlKVxuICAgIC8vIHJlc291cmNlX2FkZGVkKHJlc291cmNlKVxuICAgIC8vIHJlc291cmNlX2VkaXQob2xkUmVzLCBuZXdSZXMpXG4gICAgLy8gcmVzb3VyY2VfcmVtb3ZlKHJlc291cmNlKVxuICAgIC8vIHJlc291cmNlX3JlbW92ZWQocmVzb3VyY2UpXG4gICAgLy8gY2xlYXIoKVxuICAgIC8vIGNsZWFyZWQoKVxuICAgIC8vIHNlcmlhbGl6ZShkYXRhKVxuICAgIC8vIHNlcmlhbGl6ZWQoZGF0YSlcbiAgICAvLyBkZXNlcmlhbGl6ZShkYXRhKVxuICAgIC8vIGRlc2VyaWFsaXplZChkYXRhKVxuICAgIC8vICAgICAgRXh0ZXJuYWwgZXZlbnRzOlxuICAgIC8vIHF1ZXJ5X2hpdChldmVudDogUXVlcnlIaXRFdmVudClcbiAgICAvLyBzZWxlY3Rpb25fYmVnaW4oZW50aXRpZXMpXG4gICAgLy8gc2VsZWN0aW9uX2VuZChlbnRpdGllcylcbiAgICAvLyBzZWxlY3Rpb25fdXBkYXRlKClcbiAgICAvLyB0b29sX21vdmVfYmVnaW4oKVxuICAgIC8vIHRvb2xfbW92ZV9lbmQoKVxuICAgIGV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihpc01hc3RlcjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTWFzdGVyID0gaXNNYXN0ZXI7XG4gICAgfVxuXG4gICAgZ2V0U3RvcmFnZShuYW1lOiBzdHJpbmcpOiBFY3NTdG9yYWdlPENvbXBvbmVudD4ge1xuICAgICAgICBsZXQgcyA9IHRoaXMuc3RvcmFnZXMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzdG9yYWdlIFwiICsgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgYWxsb2NhdGVJZCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgaWQgPSAtMTtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZCA9IGdlbmVyYXRlUmFuZG9tSWQoKTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5lbnRpdGllcy5oYXMoaWQpKVxuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBzcGF3bkVudGl0eSguLi5jb21wb25lbnRzOiBBcnJheTxDb21wb25lbnQ+KTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5hbGxvY2F0ZUlkKCk7XG5cbiAgICAgICAgdGhpcy5zcGF3bkVudGl0eU1hbnVhbChpZCwgY29tcG9uZW50cyk7XG5cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHNwYXduRW50aXR5TWFudWFsKGlkOiBudW1iZXIsIGNvbXBvbmVudHM6IEFycmF5PENvbXBvbmVudD4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcy5hZGQoaWQpO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bicsIGlkKTtcblxuICAgICAgICBmb3IgKGxldCBjb21wIG9mIGNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGlkLCBjb21wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bmVkJywgaWQpO1xuICAgIH1cblxuICAgIGRlc3Bhd25FbnRpdHkoZW50aXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc0Rlc3Bhd25pbmcucHVzaChlbnRpdHkpO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdlbnRpdHlfZGVzcGF3bicsIGVudGl0eSk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0b3JhZ2VMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZUxpc3RbaV07XG4gICAgICAgICAgICBsZXQgY29tcHMgPSBbLi4uc3RvcmFnZS5nZXRDb21wb25lbnRzKGVudGl0eSldXG4gICAgICAgICAgICBpZiAoY29tcHMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmUnLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmFnZS51bnJlZ2lzdGVyQWxsT2YoZW50aXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiBjb21wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmVkJywgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVudGl0aWVzLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICBpZiAodGhpcy5pc0Rlc3Bhd25pbmcucG9wKCkgIT09IGVudGl0eSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlc3Bhd25pbmcgZW50aXR5LCBkZXNwYXduIHF1ZXVlIG1vZGlmaWVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9kZXNwYXduZWQnLCBlbnRpdHkpO1xuICAgIH1cblxuICAgIGFkZFN5c3RlbShzeXN0ZW06IFN5c3RlbSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zeXN0ZW1zRmluYWxpemVkKSB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBsYXRlIHRvIGFkZCBhIHN5c3RlbScpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnJlZ2lzdGVyKHN5c3RlbSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIHdoaWxlIG1vdW50aW5nIFwiICsgc3lzdGVtLm5hbWUgKyBcIjogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc0FsbENvbXBvbmVudHMoZW50aXR5OiBudW1iZXIsIC4uLnR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGxldCB0IG9mIHR5cGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRDb21wb25lbnQoZW50aXR5LCB0KSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYWRkQ29tcG9uZW50KGVudGl0eTogbnVtYmVyLCBjbXA6IENvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVudGl0eSBub3QgcHJlc2VudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjbXAuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZXMuZ2V0KGNtcC50eXBlKTtcbiAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVnaXN0ZXIgY29tcG9uZW50IG9mIHR5cGUgJyArIGNtcC50eXBlICsgJywgbm8gc3RvcmFnZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JhZ2UucmVnaXN0ZXIoY21wKTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY29tcG9uZW50X2FkZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNtcDogQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9yZW1vdmUnLCBjbXApO1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZShjbXAudHlwZSk7XG4gICAgICAgIHN0b3JhZ2UudW5yZWdpc3RlcihjbXApO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfcmVtb3ZlZCcsIGNtcCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50VHlwZShlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5nZXRTdG9yYWdlKHR5cGUpLmdldENvbXBvbmVudHMoZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRTdG9yYWdlKHN0b3JhZ2U6IEVjc1N0b3JhZ2U8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JhZ2VzLnNldChzdG9yYWdlLnR5cGUsIHN0b3JhZ2UpO1xuICAgICAgICB0aGlzLnN0b3JhZ2VMaXN0LnB1c2goc3RvcmFnZSk7XG4gICAgfVxuXG4gICAgZ2V0Q29tcG9uZW50KGVudGl0eTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIG11bHRpSWQ/OiBudW1iZXIpOiBDb21wb25lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2UuZ2V0Rmlyc3RDb21wb25lbnQoZW50aXR5LCBtdWx0aUlkKTtcbiAgICB9XG5cbiAgICBnZXRBbGxDb21wb25lbnRzKGVudGl0eTogbnVtYmVyKTogQ29tcG9uZW50W10ge1xuICAgICAgICBsZXQgcmVzID0gbmV3IEFycmF5PENvbXBvbmVudD4oKTtcblxuICAgICAgICBmb3IgKGxldCBzdG9yYWdlIG9mIHRoaXMuc3RvcmFnZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLnN0b3JhZ2UuZ2V0Q29tcG9uZW50cyhlbnRpdHkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZWRpdENvbXBvbmVudChlbnRpdHk6IG51bWJlciwgdHlwZTogc3RyaW5nLCBjaGFuZ2VzOiBBbnlNYXBUeXBlLCBtdWx0aUlkPzogbnVtYmVyLCBjbGVhckNoOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IHRoaXMuZ2V0Q29tcG9uZW50KGVudGl0eSwgdHlwZSwgbXVsdGlJZCk7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgY29tcG9uZW50ICcgKyB0eXBlICsgJyBvZiBlbnRpdHk6ICcgKyBlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsZWFyQ2ggJiYgIWNsZWFyQ2hhbmdlcyhjLCBjaGFuZ2VzKSkgcmV0dXJuOy8vIE5vIHJlYWwgY2hhbmdlc1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdCcsIGMsIGNoYW5nZXMpO1xuXG4gICAgICAgIGxldCBjaGFuZ2VkID0gYXNzaWduU3dhcChjLCBjaGFuZ2VzKTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdjb21wb25lbnRfZWRpdGVkJywgYywgY2hhbmdlZCk7XG4gICAgfVxuXG4gICAgZWRpdENvbXBvbmVudE11bHRpcGxlKGVudGl0eTogbnVtYmVyLCBjaGFuZ2VzOiBNdWx0aUVkaXRUeXBlKTogdm9pZCB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbXBvbmVudChlbnRpdHksIGNoYW5nZXNbMF0udHlwZSwgY2hhbmdlc1swXS5jaGFuZ2VzLCBjaGFuZ2VzWzBdLm11bHRpSWQsIGNoYW5nZXNbMF0uY2xlYXJDaGFuZ2VzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hzID0gY2hhbmdlcyBhcyBNdWx0aUVkaXRUeXBlV29yaztcbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmdldENvbXBvbmVudChlbnRpdHksIGNoYW5nZS50eXBlLCBjaGFuZ2UubXVsdGlJZCk7XG4gICAgICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBjb21wb25lbnQgJyArIGNoYW5nZS50eXBlICsgJyBvZiBlbnRpdHk6ICcgKyBlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhbmdlLl9jb21wID0gYztcblxuICAgICAgICAgICAgaWYgKGNoYW5nZS5jbGVhckNoYW5nZXMgJiYgIWNsZWFyQ2hhbmdlcyhjLCBjaGFuZ2VzKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZS5fc2tpcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5fc2tpcCkgY29udGludWU7XG5cbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9lZGl0JywgY2hhbmdlLl9jb21wISwgY2hhbmdlLmNoYW5nZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNocykge1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5fc2tpcCkgY29udGludWU7XG4gICAgICAgICAgICBhc3NpZ25Td2FwKGNoYW5nZS5fY29tcCEsIGNoYW5nZS5jaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaGFuZ2Ugb2YgY2hzKSB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlLl9za2lwKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbXBvbmVudF9lZGl0ZWQnLCBjaGFuZ2UuX2NvbXAhLCBjaGFuZ2UuY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRSZXNvdXJjZShyZXNvdXJjZTogUmVzb3VyY2UsIGlmUHJlc2VudDogUmVzb3VyY2VBZGRQcmVzZW50VHlwZSA9ICdmYWlsJyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXMuaGFzKHJlc291cmNlLnR5cGUpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGlmUHJlc2VudCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2lnbm9yZSc6IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6IHRoaXMuZWRpdFJlc291cmNlKHJlc291cmNlLnR5cGUsIHJlc291cmNlKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSB0eXBlIGFscmVhZHkgcHJlc2VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfYWRkJywgcmVzb3VyY2UpO1xuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXMuaGFzKHJlc291cmNlLnR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoJ1wicmVzb3VyY2VfYWRkXCIgZXZlbnQgaGFzIGFkZGVkIGEgcmVzb3VyY2Ugb2YgdGhlIHNhbWUgdHlwZSEnKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlcy5zZXQocmVzb3VyY2UudHlwZSwgcmVzb3VyY2UpO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9hZGRlZCcsIHJlc291cmNlKTtcbiAgICB9XG5cbiAgICBnZXRSZXNvdXJjZSh0eXBlOiBzdHJpbmcpOiBSZXNvdXJjZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5nZXQodHlwZSk7XG4gICAgfVxuXG4gICAgZWRpdFJlc291cmNlKHR5cGU6IHN0cmluZywgY2hhbmdlczogQW55TWFwVHlwZSk6IHZvaWQge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5nZXRSZXNvdXJjZSh0eXBlKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHJlc291cmNlICcgKyB0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2xlYXJDaGFuZ2VzKHJlcywgY2hhbmdlcykpIHJldHVybjsvLyBObyByZWFsIGNoYW5nZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncmVzb3VyY2VfZWRpdCcsIHJlcywgY2hhbmdlcyk7XG4gICAgICAgIGFzc2lnblN3YXAocmVzLCBjaGFuZ2VzKTsvLyBjaGFuZ2VzIG5vdyBoYXMgb2xkIHZhbHVlc1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9lZGl0ZWQnLCByZXMsIGNoYW5nZXMpO1xuICAgIH1cblxuICAgIHJlbW92ZVJlc291cmNlKHR5cGU6IHN0cmluZywgZmFpbElmTm90UHJlc2VudDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXMuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAocmVzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGZhaWxJZk5vdFByZXNlbnQpIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgdHlwZSBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9yZW1vdmUnLCByZXNvdXJjZSk7XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMuZGVsZXRlKHR5cGUpO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZXNvdXJjZV9yZW1vdmVkJywgcmVzb3VyY2UpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgZm9yIChsZXQgc3lzdGVtIG9mIHRoaXMuc3lzdGVtcykge1xuICAgICAgICAgICAgc3lzdGVtLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuc3lzdGVtcy5zaXplKCkgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHN5c3RlbSA9IHRoaXMuc3lzdGVtcy5nZXRBdChpKTtcbiAgICAgICAgICAgIHN5c3RlbS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemUob3B0aW9uczogUGFydGlhbDxTZXJpYWxpemVPcHRpb25zPik6IFNlcmlhbGl6ZWRXb3JsZCB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFUklBTElaRV9PUFRJT05TLCBvcHRpb25zKSBhcyBTZXJpYWxpemVPcHRpb25zO1xuICAgICAgICBsZXQgZW50aXRpZXM6IG51bWJlcltdO1xuICAgICAgICBpZiAob3B0aW9ucy5vbmx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVudGl0aWVzID0gWy4uLnRoaXMuZW50aXRpZXNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW50aXRpZXMgPSBbLi4ub3B0aW9ucy5vbmx5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNFbnQgPSBlbnRpdGllcztcblxuICAgICAgICBsZXQgbWFwcGluZyA9ICh4OiBudW1iZXIpID0+IHg7XG4gICAgICAgIGlmIChvcHRpb25zLnJlbWFwKSB7XG4gICAgICAgICAgICByZXNFbnQgPSBBcnJheS5mcm9tKEFycmF5KGVudGl0aWVzLmxlbmd0aCksIChlLGkpPT5pKzEpO1xuICAgICAgICAgICAgbWFwcGluZyA9ICh4OiBudW1iZXIpID0+IGVudGl0aWVzLmluZGV4T2YoeCkgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNob3VsZElnbm9yZSA9ICh4OiBudW1iZXIpID0+IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy5zdHJpcENsaWVudCAmJiAhb3B0aW9ucy5pZ25vcmVIb3N0SGlkZGVuKSB7XG4gICAgICAgICAgICBjb25zdCBob3N0SGlkZGVuID0gdGhpcy5nZXRTdG9yYWdlKCdob3N0X2hpZGRlbicpO1xuXG4gICAgICAgICAgICBzaG91bGRJZ25vcmUgPSAoZSkgPT4gaG9zdEhpZGRlbi5nZXRGaXJzdENvbXBvbmVudChlKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNkYXRhID0ge1xuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGVudGl0eU1hcHBpbmc6IG1hcHBpbmcsXG4gICAgICAgICAgICBzaG91bGRJZ25vcmUsXG4gICAgICAgIH0gYXMgU2VyaWFsaXplRGF0YTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2VyaWFsaXplJywgc2RhdGEpO1xuXG4gICAgICAgIGxldCBzdG9yYWdlczoge1t0eXBlOiBzdHJpbmddOiBhbnl9ID0ge307XG4gICAgICAgIGZvciAobGV0IHN0b3JhZ2Ugb2YgdGhpcy5zdG9yYWdlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zLnJlcXVpcmVTeW5jICYmICFzdG9yYWdlLnN5bmMpIHx8IChvcHRpb25zLnJlcXVpcmVTYXZlICYmICFzdG9yYWdlLnNhdmUpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBkYXRhID0gc3RvcmFnZS5zZXJpYWxpemUoc2RhdGEpO1xuICAgICAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICBzdG9yYWdlc1tzdG9yYWdlLnR5cGVdID0gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvdXJjZXM6IHtbdHlwZTogc3RyaW5nXTogYW55fSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAob3B0aW9ucy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIHJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgICAgICBmb3IgKGxldCByZXNvdXJjZSBvZiB0aGlzLnJlc291cmNlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBpcyB0cmVhdGVkIGFzIHRydWUgc28gdGhhdCBsb2FkZWQgcmVzb3VyY2VzIGdldCBzYXZlZCBhZ2FpblxuICAgICAgICAgICAgICAgIGlmICgob3B0aW9ucy5yZXF1aXJlU2F2ZSAmJiAhcmVzb3VyY2UuX3NhdmUpIHx8IChvcHRpb25zLnJlcXVpcmVTeW5jICYmICFyZXNvdXJjZS5fc3luYykpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiByZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZVswXSA9PT0gJ18nIHx8IG5hbWUgPT09ICd0eXBlJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc1tuYW1lXSA9IChyZXNvdXJjZSBhcyBhbnkpW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvdXJjZXNbcmVzb3VyY2UudHlwZV0gPSByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzID0ge1xuICAgICAgICAgICAgZW50aXRpZXM6IHJlc0VudCxcbiAgICAgICAgICAgIHN0b3JhZ2VzLFxuICAgICAgICB9IGFzIFNlcmlhbGl6ZWRXb3JsZDtcblxuICAgICAgICBpZiAocmVzb3VyY2VzICE9PSB1bmRlZmluZWQpIHJlcy5yZXNvdXJjZXMgPSByZXNvdXJjZXM7XG5cbiAgICAgICAgc2RhdGEucmVzdWx0ID0gcmVzO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzZXJpYWxpemVkJywgc2RhdGEpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemUoZGF0YTogU2VyaWFsaXplZFdvcmxkLCBvcHRpb25zOiBQYXJ0aWFsPERlc2VyaWFsaXplT3B0aW9ucz4pIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfREVTRVJJQUxJWkVfT1BUSU9OUywgb3B0aW9ucykgYXMgRGVzZXJpYWxpemVPcHRpb25zO1xuXG4gICAgICAgIGxldCBtYXBwaW5nID0gKHg6IG51bWJlcikgPT4geDtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVtYXApIHtcbiAgICAgICAgICAgIGxldCByZW1hcHNVbmR1cCA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgICAgICAgICAgbGV0IHJlbWFwcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmFsbG9jYXRlSWQoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtYXBzVW5kdXAuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW1hcHNVbmR1cC5hZGQoaWQpO1xuICAgICAgICAgICAgICAgIHJlbWFwcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcHBpbmcgPSAoeDogbnVtYmVyKSA9PiByZW1hcHNbeCAtIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRzRGF0YSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZW50aXR5TWFwcGluZzogbWFwcGluZyxcbiAgICAgICAgfSBhcyBEZXNlcmlhbGl6ZURhdGE7XG5cbiAgICAgICAgdGhpcy5pc0Rlc2VyaWFsaXppbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdkZXNlcmlhbGl6ZScsIGRzRGF0YSk7XG5cbiAgICAgICAgaWYgKGRhdGEucmVzb3VyY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHR5cGUgaW4gZGF0YS5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gZGF0YS5yZXNvdXJjZXNbdHlwZV07XG4gICAgICAgICAgICAgICAgcmVzLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2UocmVzLCAndXBkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YS5lbnRpdGllcykge1xuICAgICAgICAgICAgbGV0ICByZWFsRW50ID0gbWFwcGluZyhlbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5hZGQocmVhbEVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2VudGl0eV9zcGF3bicsIHJlYWxFbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBkYXRhLnN0b3JhZ2VzKSB7XG4gICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuc3RvcmFnZXMuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZGVzZXJpYWxpemUgc3RvcmFnZSB0eXBlOiBcIiArIHR5cGUgKyBcIiwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yYWdlLmRlc2VyaWFsaXplKHRoaXMsIGRzRGF0YSwgZGF0YS5zdG9yYWdlc1t0eXBlXSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZGF0YS5lbnRpdGllcykge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZW50aXR5X3NwYXduZWQnLCBtYXBwaW5nKGVudGl0eSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0Rlc2VyaWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnZGVzZXJpYWxpemVkJywgZHNEYXRhKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZSgpIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncG9wdWxhdGUnKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY2xlYXInKTtcbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIFsuLi50aGlzLmVudGl0aWVzXSkge1xuICAgICAgICAgICAgdGhpcy5kZXNwYXduRW50aXR5KGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUm91bmQgMiAoaWYgc29tZSBlbnRpdHkgZ2V0cyBzcGF3bmVkIG9uIGRlc3Bhd24pXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBbLi4udGhpcy5lbnRpdGllc10pIHtcbiAgICAgICAgICAgIHRoaXMuZGVzcGF3bkVudGl0eShlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVudGl0aWVzLnNpemUgIT09IDApIHRocm93IG5ldyBFcnJvcignRW50aXRpZXMgc3Bhd25lZCB3aGlsZSBjbGVhcmluZyEnKTtcbiAgICAgICAgLy8gVE9ETzogYWxzbyBjbGVhciByZXNvdXJjZXNcbiAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnY2xlYXJlZCcpO1xuICAgICAgICB0aGlzLnBvcHVsYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogdXNlIFZ1ZSAzXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iailgIHJlc3VsdC5cbiAgICAgKiBUaGlzIGlzIGRvbmUgdG8gaGlkZSB0aGlzIG9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gb2JzZXJ2ZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMjYzNylcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIHR5cGUgbmFtZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N5bWJvbC90b1N0cmluZ1RhZ31cbiAgICAgKi9cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGNhbiBnbyBoZXJlIHJlYWxseSBhcyBsb25nIGFzIGl0J3Mgbm90ICdPYmplY3QnXG4gICAgICAgIHJldHVybiAnT2JqZWN0Tm9PYnNlcnZlJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzc2lnblN3YXAob2JqOiBhbnksIGNoYW5nZXM6IGFueSk6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gY2hhbmdlcykge1xuICAgICAgICBsZXQgdG1wID0gY2hhbmdlc1tuYW1lXTtcbiAgICAgICAgY2hhbmdlc1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgICAgb2JqW25hbWVdID0gdG1wO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlcztcbn1cblxuZnVuY3Rpb24gY2xlYXJDaGFuZ2VzKGZyb206IEFueU1hcFR5cGUsIGNoYW5nZXM6IEFueU1hcFR5cGUpOiBib29sZWFuIHtcbiAgICBsZXQgY2hhbmdlYyA9IDA7XG4gICAgZm9yIChsZXQgY2hhbmdlIGluIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGZyb21bY2hhbmdlXSA9PT0gY2hhbmdlc1tjaGFuZ2VdKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbmdlc1tjaGFuZ2VdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlYysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VjICE9PSAwO1xufVxuIiwiZXhwb3J0IGVudW0gR3JpZFR5cGUge1xuICAgIFNRVUFSRSxcbiAgICBIRVhBR09OLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRHcmFwaGljYWxPcHRpb25zIHtcbiAgICB2aXNpYmxlOiBib29sZWFuO1xuICAgIGdyaWRUeXBlOiBHcmlkVHlwZSxcbiAgICBjb2xvcjogbnVtYmVyO1xuICAgIHRoaWNrOiBudW1iZXI7XG4gICAgb3BhY2l0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRQbGFjZW1lbnRPcHRpb25zIHtcbiAgICBzaXplOiBudW1iZXI7XG4gICAgb2ZmWDogbnVtYmVyO1xuICAgIG9mZlk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkVW5pdHNPcHRpb25zIHtcbiAgICB1bml0TXVsOiBudW1iZXI7XG4gICAgdW5pdE5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9ucyBleHRlbmRzIEdyaWRHcmFwaGljYWxPcHRpb25zLCBHcmlkUGxhY2VtZW50T3B0aW9ucywgR3JpZFVuaXRzT3B0aW9ucyB7fVxuXG5leHBvcnQgY29uc3QgU1RBTkRBUkRfR1JJRF9PUFRJT05TID0ge1xuICAgIHZpc2libGU6IHRydWUsXG4gICAgZ3JpZFR5cGU6IEdyaWRUeXBlLlNRVUFSRSxcbiAgICBjb2xvcjogMCxcbiAgICB0aGljazogMTAsXG4gICAgb3BhY2l0eTogMC43NSxcbiAgICBzaXplOiAxMjgsXG4gICAgb2ZmWDogMCxcbiAgICBvZmZZOiAwLFxuICAgIHVuaXRNdWw6IDEuNSxcbiAgICB1bml0TmFtZTogJ20nLFxufSBhcyBHcmlkT3B0aW9ucztcbiIsImltcG9ydCB7SzJkVHJlZX0gZnJvbSBcIi4uL3V0aWwvazJkVHJlZVwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBQb2ludH0gZnJvbSBcIi4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7R3JpZFN5c3RlbX0gZnJvbSBcIi4uL2Vjcy9zeXN0ZW1zL2dyaWRTeXN0ZW1cIjtcblxuXG5leHBvcnQgY2xhc3MgUG9pbnREQiB7XG4gICAgLy8gSW4ganMgd2UgY2Fubm90IGNyZWF0ZSBhIE1hcCB3aXRoIGEgY3VzdG9tIG9iamVjdCBhcyBrZXkgLV8tXG4gICAgcHJpdmF0ZSBjb3VudGVyID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBwcml2YXRlIHRyZWUgPSBuZXcgSzJkVHJlZSgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ3JpZD86IEdyaWRTeXN0ZW07XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihncmlkPzogR3JpZFN5c3RlbSkge1xuICAgICAgICB0aGlzLmdyaWQgPSBncmlkO1xuICAgIH1cblxuXG4gICAgaW5zZXJ0KHBvaW50OiBQb2ludCk6IHZvaWQge1xuICAgICAgICBsZXQgcHRyU3RyID0gcG9pbnRbMF0gKyAnfCcgKyBwb2ludFsxXTtcbiAgICAgICAgbGV0IHAgPSB0aGlzLmNvdW50ZXIuZ2V0KHB0clN0cikgfHwgMFxuICAgICAgICB0aGlzLmNvdW50ZXIuc2V0KHB0clN0ciwgcCArIDEpO1xuICAgICAgICBpZiAocCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWUuaW5zZXJ0KHBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgfVxuXG4gICAgcmVtb3ZlKHBvaW50OiBQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcHRyU3RyID0gcG9pbnRbMF0gKyAnfCcgKyBwb2ludFsxXTtcbiAgICAgICAgbGV0IHAgPSAodGhpcy5jb3VudGVyLmdldChwdHJTdHIpIHx8IDApIC0gMTtcbiAgICAgICAgaWYgKHAgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyLmRlbGV0ZShwdHJTdHIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyZWUucmVtb3ZlKHBvaW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgbm9kZTogJyArIHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyLnNldChwdHJTdHIsIHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudC0tO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdChwb2ludDogUG9pbnQpOiBbUG9pbnQsIG51bWJlcl0gfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgdHJlZU5lYXJlc3QgPSB0aGlzLnRyZWUubmVhcmVzdFBvaW50KHBvaW50KTtcblxuICAgICAgICBsZXQgZ3JpZE5lYXJlc3Q6IFBvaW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ncmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGdyaWROZWFyZXN0ID0gdGhpcy5ncmlkLmNsb3Nlc3RQb2ludChwb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ3JpZE5lYXJlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGdyaWREaXN0ID0gZGlzdFNxdWFyZWQyZChwb2ludFswXSwgcG9pbnRbMV0sIGdyaWROZWFyZXN0WzBdLCBncmlkTmVhcmVzdFsxXSk7XG4gICAgICAgICAgICBpZiAodHJlZU5lYXJlc3QgPT09IHVuZGVmaW5lZCB8fCBncmlkRGlzdCA8IHRyZWVOZWFyZXN0WzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtncmlkTmVhcmVzdCwgZ3JpZERpc3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyZWVOZWFyZXN0O1xuICAgIH1cbn0iLCJpbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuaW1wb3J0IGhleDJyZ2IgPSBQSVhJLnV0aWxzLmhleDJyZ2I7XG5cbi8vIE90aGVyIG1ldGhvZHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9sd2pnbC1iYXNpY3Mvd2lraS8yRC1QaXhlbC1QZXJmZWN0LVNoYWRvd3NcbmNvbnN0IExJR0hUX1ZFUlRFWF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xuICAgIFxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG5cbiAgICB1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgIHZlY1BvcyA9IGFWZXJ0ZXhQb3NpdGlvbjtcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAgICB9XG5gO1xuXG5jb25zdCBMSUdIVF9GUkFHTUVOVF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdmVjUG9zO1xuICAgIFxuICAgIHVuaWZvcm0gdmVjMiBjZW50ZXI7XG4gICAgdW5pZm9ybSBmbG9hdCByYWRTcXVhcmVkO1xuICAgIHVuaWZvcm0gdmVjMyBjb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjMiBkaWZmID0gY2VudGVyIC0gdmVjUG9zO1xuICAgICAgICBmbG9hdCBkaXN0U3EgPSBkaWZmLnggKiBkaWZmLnggKyBkaWZmLnkgKiBkaWZmLnk7XG4gICAgICAgIGZsb2F0IGludGVuc2l0eSA9IDEuMCAtIGNsYW1wKGRpc3RTcSAvIHJhZFNxdWFyZWQsIDAuLCAxLik7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEpICogKGludGVuc2l0eSAqIGludGVuc2l0eSk7Ly8gUHJlIG11bHRpcGxpZWQgYWxwaGFcbiAgICB9XG5gO1xuXG5jb25zdCBDT05TVF9MSUdIVF9GUkFHTUVOVF9TSEFERVIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdmVjUG9zO1xuICAgIFxuICAgIHVuaWZvcm0gdmVjMiBjZW50ZXI7XG4gICAgdW5pZm9ybSBmbG9hdCByYWRTcXVhcmVkO1xuICAgIHVuaWZvcm0gdmVjMyBjb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjMiBkaWZmID0gY2VudGVyIC0gdmVjUG9zO1xuICAgICAgICBmbG9hdCBkaXN0U3EgPSBkaWZmLnggKiBkaWZmLnggKyBkaWZmLnkgKiBkaWZmLnk7XG4gICAgICAgIGZsb2F0IGludGVuc2l0eSA9IGZsb2F0KGRpc3RTcSA8PSByYWRTcXVhcmVkKTtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMSkgKiBpbnRlbnNpdHk7Ly8gUHJlIG11bHRpcGxpZWQgYWxwaGFcbiAgICB9XG5gO1xuXG5jb25zdCBQTEFZRVJfVklTX0ZSQUdNRU5UX1NIQURFUiA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIHZhcnlpbmcgdmVjMiB2ZWNQb3M7XG4gICAgXG4gICAgdW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiAgICB1bmlmb3JtIGZsb2F0IHJhZFNxdWFyZWQ7XG4gICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgICB2ZWMyIGRpZmYgPSBjZW50ZXIgLSB2ZWNQb3M7XG4gICAgICAgIGZsb2F0IGRpc3RTcSA9IGRpZmYueCAqIGRpZmYueCArIGRpZmYueSAqIGRpZmYueTtcbiAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gMS4wIC0gc21vb3Roc3RlcCgwLjksIDEuMCwgY2xhbXAoZGlzdFNxIC8gcmFkU3F1YXJlZCwgMC4sIDEuKSk7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEpICogaW50ZW5zaXR5Oy8vIFByZSBtdWx0aXBsaWVkIGFscGhhXG4gICAgfVxuYDtcblxubGV0IGxpZ2h0UHJvZ3JhbTogUElYSS5Qcm9ncmFtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xubGV0IGNvbnN0TGlnaHRQcm9ncmFtOiBQSVhJLlByb2dyYW0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5sZXQgcGxheWVyVmlzUHJvZ3JhbTogUElYSS5Qcm9ncmFtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG50eXBlIExpZ2h0UHJvZ3JhbVR5cGUgPSAnbm9ybWFsJyB8ICdjb25zdCcgfCAncGxheWVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChsaWdodFByb2dyYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsaWdodFByb2dyYW0gPSBQSVhJLlByb2dyYW0uZnJvbShMSUdIVF9WRVJURVhfU0hBREVSLCBMSUdIVF9GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBjb25zdExpZ2h0UHJvZ3JhbSA9IFBJWEkuUHJvZ3JhbS5mcm9tKExJR0hUX1ZFUlRFWF9TSEFERVIsIENPTlNUX0xJR0hUX0ZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIHBsYXllclZpc1Byb2dyYW0gPSBQSVhJLlByb2dyYW0uZnJvbShMSUdIVF9WRVJURVhfU0hBREVSLCBQTEFZRVJfVklTX0ZSQUdNRU5UX1NIQURFUik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVzaChsaWdodFR5cGU6IExpZ2h0UHJvZ3JhbVR5cGUgPSAnbm9ybWFsJyk6IFBJWEkuTWVzaCB7XG4gICAgbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAgICBsZXQgYnVmZiA9IG5ldyBQSVhJLkJ1ZmZlcihuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIGJ1ZmYsIDIsIGZhbHNlLCBQSVhJLlRZUEVTLkZMT0FUKTtcblxuICAgIGxldCBwcm9ncmFtO1xuICAgIHN3aXRjaCAobGlnaHRUeXBlKSB7XG4gICAgICAgIGNhc2UgJ25vcm1hbCc6IHByb2dyYW0gPSBsaWdodFByb2dyYW07IGJyZWFrO1xuICAgICAgICBjYXNlICdjb25zdCc6IHByb2dyYW0gPSBjb25zdExpZ2h0UHJvZ3JhbTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BsYXllcic6IHByb2dyYW0gPSBwbGF5ZXJWaXNQcm9ncmFtOyBicmVhaztcbiAgICB9XG4gICAgLy8gV2UnbGwgY2hhbmdlIHRoZW0gYWxsLCBpbiBkdWUgdGltZVxuICAgIGxldCBzaGFkZXJzID0gbmV3IFBJWEkuU2hhZGVyKHByb2dyYW0sIHtcbiAgICAgICAgJ2NlbnRlcic6IG5ldyBGbG9hdDMyQXJyYXkoWzAuNSwgMC41XSksXG4gICAgICAgICdyYWRTcXVhcmVkJzogMTAsXG4gICAgICAgICdjb2xvcic6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDBdKSxcbiAgICB9KTtcblxuICAgIGxldCBtZXNoID0gbmV3IFBJWEkuTWVzaChnZW9tZXRyeSwgc2hhZGVycyBhcyBQSVhJLk1lc2hNYXRlcmlhbCwgdW5kZWZpbmVkLCBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOKTtcbiAgICBtZXNoLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgbWVzaC5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICByZXR1cm4gbWVzaDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1lc2hQb2x5Z29ucyhtZXNoOiBQSVhJLk1lc2gsIHBvczogUElYSS5JUG9pbnREYXRhLCBwb2x5OiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBidWZmZXIgPSBtZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG5cbiAgICBsZXQgZkJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkocG9seS5sZW5ndGggKyA0KTtcbiAgICBmQnVmZmVyWzBdID0gcG9zLng7XG4gICAgZkJ1ZmZlclsxXSA9IHBvcy55O1xuICAgIGZCdWZmZXIuc2V0KHBvbHksIDIpO1xuICAgIGZCdWZmZXJbcG9seS5sZW5ndGggKyAyXSA9IHBvbHlbMF07XG4gICAgZkJ1ZmZlcltwb2x5Lmxlbmd0aCArIDNdID0gcG9seVsxXTtcbiAgICBidWZmZXIudXBkYXRlKGZCdWZmZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWVzaFVuaWZvcm1zKG1lc2g6IFBJWEkuTWVzaCwgY2VudGVyOiBQSVhJLklQb2ludERhdGEsIHJhbmdlU3F1YXJlZDogbnVtYmVyLCBjb2xvcjogbnVtYmVyKSB7XG4gICAgbGV0IHVuaSA9IG1lc2guc2hhZGVyLnVuaWZvcm1zO1xuICAgIGxldCBjID0gdW5pLmNlbnRlcjtcbiAgICBjWzBdID0gY2VudGVyLng7XG4gICAgY1sxXSA9IGNlbnRlci55O1xuICAgIHVuaS5yYWRTcXVhcmVkID0gcmFuZ2VTcXVhcmVkO1xuICAgIGhleDJyZ2IoY29sb3IsIHVuaS5jb2xvcik7XG59IiwiaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcbmltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQgeyBJUG9pbnREYXRhIH0gZnJvbSBcInBpeGkuanNcIjtcblxuZXhwb3J0IGNsYXNzIEFhYmIge1xuICAgIG1pblg6IG51bWJlcjtcbiAgICBtaW5ZOiBudW1iZXI7XG4gICAgbWF4WDogbnVtYmVyO1xuICAgIG1heFk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHgxID4geDIpIFt4MSwgeDJdID0gW3gyLCB4MV07XG4gICAgICAgIGlmICh5MSA+IHkyKSBbeTEsIHkyXSA9IFt5MiwgeTFdO1xuXG4gICAgICAgIHRoaXMubWluWCA9IHgxO1xuICAgICAgICB0aGlzLm1pblkgPSB5MTtcbiAgICAgICAgdGhpcy5tYXhYID0geDI7XG4gICAgICAgIHRoaXMubWF4WSA9IHkyO1xuICAgIH1cblxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPCB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDwgdGhpcy5tYXhZO1xuICAgIH1cblxuICAgIGdldENlbnRlcigpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5Qb2ludChcbiAgICAgICAgICAgICh0aGlzLm1pblggKyB0aGlzLm1heFgpIC8gMixcbiAgICAgICAgICAgICh0aGlzLm1pblkgKyB0aGlzLm1heFkpIC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFBlcmltZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKHRoaXMubWF4WCAtIHRoaXMubWluWCArIHRoaXMubWF4WSAtIHRoaXMubWluWSkgKiAyO1xuICAgIH1cblxuICAgIGRpc3RhbmNlUG9pbnQocDogSVBvaW50RGF0YSk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGR4ID0gTWF0aC5tYXgodGhpcy5taW5YIC0gcC54LCAwLCBwLnggLSB0aGlzLm1heFgpO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGgubWF4KHRoaXMubWluWSAtIHAueSwgMCwgcC55IC0gdGhpcy5tYXhZKTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHRhcmdldDogQWFiYik6IHZvaWQge1xuICAgICAgICB0YXJnZXQubWluWCA9IHRoaXMubWluWCArIHg7XG4gICAgICAgIHRhcmdldC5taW5ZID0gdGhpcy5taW5ZICsgeTtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSB0aGlzLm1heFggKyB4O1xuICAgICAgICB0YXJnZXQubWF4WSA9IHRoaXMubWF4WSArIHk7XG4gICAgfVxuXG4gICAgY29tYmluZShvdGhlcjogQWFiYiwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIHRhcmdldC5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBvdGhlci5taW5YKTtcbiAgICAgICAgdGFyZ2V0Lm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIG90aGVyLm1pblkpO1xuICAgICAgICB0YXJnZXQubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgb3RoZXIubWF4WCk7XG4gICAgICAgIHRhcmdldC5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBvdGhlci5tYXhZKTtcbiAgICB9XG5cbiAgICBpbnRlcnNlY3Qob3RoZXI6IEFhYmIsIHRhcmdldDogQWFiYikge1xuICAgICAgICB0YXJnZXQubWluWCA9IE1hdGgubWF4KHRoaXMubWluWCwgb3RoZXIubWluWCk7XG4gICAgICAgIHRhcmdldC5taW5ZID0gTWF0aC5tYXgodGhpcy5taW5ZLCBvdGhlci5taW5ZKTtcbiAgICAgICAgdGFyZ2V0Lm1heFggPSBNYXRoLm1pbih0aGlzLm1heFgsIG90aGVyLm1heFgpO1xuICAgICAgICB0YXJnZXQubWF4WSA9IE1hdGgubWluKHRoaXMubWF4WSwgb3RoZXIubWF4WSk7XG4gICAgfVxuXG4gICAgZXh0ZW5kKGFtb3VudDogbnVtYmVyLCB0YXJnZXQ6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSB0aGlzLm1pblggLSBhbW91bnQ7XG4gICAgICAgIHRhcmdldC5taW5ZID0gdGhpcy5taW5ZIC0gYW1vdW50O1xuICAgICAgICB0YXJnZXQubWF4WCA9IHRoaXMubWF4WCArIGFtb3VudDtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSB0aGlzLm1heFkgKyBhbW91bnQ7XG4gICAgfVxuXG4gICAgc2NhbGUoZHg6IG51bWJlciwgZHk6IG51bWJlciwgdGFyZ2V0OiBBYWJiKTogdm9pZCB7XG4gICAgICAgIGxldCBjeCA9ICh0aGlzLm1pblggKyB0aGlzLm1heFgpIC8gMjtcbiAgICAgICAgbGV0IGN5ID0gKHRoaXMubWluWSArIHRoaXMubWF4WSkgLyAyO1xuICAgICAgICBsZXQgaHcgPSAodGhpcy5tYXhYIC0gdGhpcy5taW5YKSAvIDI7XG4gICAgICAgIGxldCBoaCA9ICh0aGlzLm1heFkgLSB0aGlzLm1pblkpIC8gMjtcbiAgICAgICAgdGFyZ2V0Lm1pblggPSBjeCAtIGh3ICogZHg7XG4gICAgICAgIHRhcmdldC5taW5ZID0gY3kgLSBoaCAqIGR5O1xuICAgICAgICB0YXJnZXQubWF4WCA9IGN4ICsgaHcgKiBkeDtcbiAgICAgICAgdGFyZ2V0Lm1heFkgPSBjeSArIGhoICogZHk7XG4gICAgfVxuXG4gICAgY29weUZyb20ob3RoZXI6IEFhYmIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5taW5YID0gb3RoZXIubWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gb3RoZXIubWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gb3RoZXIubWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gb3RoZXIubWF4WTtcbiAgICB9XG5cbiAgICByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5taW5YID0gMDtcbiAgICAgICAgdGhpcy5taW5ZID0gMDtcbiAgICAgICAgdGhpcy5tYXhYID0gMDtcbiAgICAgICAgdGhpcy5tYXhZID0gMDtcbiAgICB9XG5cbiAgICB3cmFwUG9seWdvbihwb2x5Z29uOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHRoaXMubWluWSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5tYXhYID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLm1heFkgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgbGV0IGxlbiA9IHBvbHlnb24ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvbHlnb25baV0pO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2x5Z29uW2kgKyAxXSk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvbHlnb25baV0pO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2x5Z29uW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb3B5KCk6IEFhYmIge1xuICAgICAgICBsZXQgb3RoZXIgPSBBYWJiLnplcm8oKTtcbiAgICAgICAgb3RoZXIuY29weUZyb20odGhpcyk7XG4gICAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJBQUJCKFwiICsgdGhpcy5taW5YLnRvRml4ZWQoMikgKyBcIiwgXCIgKyB0aGlzLm1pblkudG9GaXhlZCgyKSArIFwiLCBcIiArIHRoaXMubWF4WC50b0ZpeGVkKDIpICsgXCIsIFwiICsgdGhpcy5tYXhZLnRvRml4ZWQoMikgKyBcIilcIjtcbiAgICB9XG5cbiAgICBzdGF0aWMgemVybygpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKDAsIDAsIDAsIDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQm91bmRzKGI6IFBJWEkuUmVjdGFuZ2xlKTogQWFiYiB7XG4gICAgICAgIHJldHVybiBuZXcgQWFiYihiLmxlZnQsIGIudG9wLCBiLnJpZ2h0LCBiLmJvdHRvbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludChwOiBQSVhJLklQb2ludERhdGEpOiBBYWJiIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBYWJiKHAueCwgcC55LCBwLngsIHAueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludEFuY2hvcihwb3M6IFBJWEkuSVBvaW50RGF0YSwgc2l6ZTogUElYSS5JUG9pbnREYXRhLCBhbmNob3I6IFBJWEkuSVBvaW50RGF0YSk6IEFhYmIge1xuICAgICAgICByZXR1cm4gbmV3IEFhYmIoXG4gICAgICAgICAgICBwb3MueCAtIHNpemUueCAqIGFuY2hvci54LFxuICAgICAgICAgICAgcG9zLnkgLSBzaXplLnkgKiBhbmNob3IueSxcbiAgICAgICAgICAgIHBvcy54ICsgc2l6ZS54ICogKDEgLSBhbmNob3IueCksXG4gICAgICAgICAgICBwb3MueSArIHNpemUueSAqICgxIC0gYW5jaG9yLnkpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge1BvaW50LCBTdHVwaWRQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcbmltcG9ydCB7TGluZX0gZnJvbSBcIi4vbGluZVwiO1xuaW1wb3J0IHtFUFNJTE9OfSBmcm9tIFwiLi92aXNpYmlsaXR5UG9seWdvblwiO1xuaW1wb3J0IHtkaXN0U3F1YXJlZDJkLCBwb2x5Z29uUG9pbnRJbnRlcnNlY3R9IGZyb20gXCIuLi91dGlsL2dlb21ldHJ5XCI7XG5pbXBvcnQge09iYn0gZnJvbSBcIi4vb2JiXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBBYWJiVnNBYWJiKGE6IEFhYmIsIGI6IEFhYmIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYS5taW5YIDw9IGIubWF4WCAmJiBhLm1heFggPj0gYi5taW5YICYmXG4gICAgICAgICAgIGEubWluWSA8PSBiLm1heFkgJiYgYS5tYXhZID49IGIubWluWTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQWFiYlZzQWFiYihhOiBBYWJiLCBiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLm1pblggJiYgYS5tYXhYID49IGIubWF4WCAmJlxuICAgICAgICAgICBhLm1pblkgPD0gYi5taW5ZICYmIGEubWF4WSA+PSBiLm1heFk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQWFiYlZzUG9pbnQoYTogQWFiYiwgYjogUElYSS5JUG9pbnREYXRhKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGEubWluWCA8PSBiLnggJiYgYS5taW5ZIDw9IGIueSAmJlxuICAgICAgICAgICBhLm1heFggPj0gYi54ICYmIGEubWF4WSA+PSBiLnk7XG59XG5cbmNvbnN0IElOU0lERSA9IDA7XG5jb25zdCBMRUZUID0gMTtcbmNvbnN0IFJJR0hUID0gMjtcbmNvbnN0IEJPVFRPTSA9IDQ7XG5jb25zdCBUT1AgPSA4O1xuXG5mdW5jdGlvbiBjb21wdXRlT3V0Q29kZShib3g6IEFhYmIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgY29kZSA9IElOU0lERTtcblxuICAgIGlmICAgICAgKHggPCBib3gubWluWCkgY29kZSB8PSBMRUZUO1xuICAgIGVsc2UgaWYgKHggPiBib3gubWF4WCkgY29kZSB8PSBSSUdIVDtcblxuICAgIGlmICAgICAgKHkgPCBib3gubWluWSkgY29kZSB8PSBCT1RUT007XG4gICAgZWxzZSBpZiAoeSA+IGJveC5tYXhZKSBjb2RlIHw9IFRPUDtcblxuICAgIHJldHVybiBjb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcEFhYmJWc0xpbmUoYTogQWFiYiwgYjogTGluZSk6IGJvb2xlYW4ge1xuICAgIGxldCBmYyA9IGNvbXB1dGVPdXRDb2RlKGEsIGIuZnJvbVgsIGIuZnJvbVkpO1xuICAgIGxldCB0YyA9IGNvbXB1dGVPdXRDb2RlKGEsIGIudG9YLCBiLnRvWSk7XG5cbiAgICAvLyBGYXN0IHBhdGhzOlxuICAgIC8vIE9uZSBvZiB0aGUgcG9pbnRzIGlzIGluc2lkZVxuICAgIGlmIChmYyA9PT0gSU5TSURFIHx8IHRjID09PSBJTlNJREUpIHJldHVybiB0cnVlO1xuICAgIC8vIGJpdHdpc2UgQU5EIGlzIG5vdCAwOiBib3RoIHBvaW50cyBzaGFyZSBhbiBvdXRzaWRlIHpvbmUgKExFRlQsIFJJR0hULCBUT1AsXG4gICAgLy8gb3IgQk9UVE9NKSwgc28gYm90aCBtdXN0IGJlIG91dHNpZGUgd2luZG93XG4gICAgaWYgKChmYyAmIHRjKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIEJvdGggcG9pbnRzIGFyZSBpbiBkaXJlY3RseSBvcHBvc2l0ZSBzaXRlcyAobGVmdC9yaWdodCBvciB0b3AvYm90dG9tKVxuICAgIGlmICgoZmMgfCB0YykgPT09IChMRUZUIHwgUklHSFQpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoKGZjIHwgdGMpID09PSAoVE9QIHwgQk9UVE9NKSkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1pblgsIGEubWluWSwgYS5taW5YLCBhLm1heFkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1pblgsIGEubWF4WSwgYS5tYXhYLCBhLm1heFkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1heFgsIGEubWF4WSwgYS5tYXhYLCBhLm1pblkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gfHxcbiAgICAgICAgICAgaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChuZXcgTGluZShhLm1heFgsIGEubWluWSwgYS5taW5YLCBhLm1pblkpLCBiKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUG9pbnRWc0NpcmNsZShwb2ludDogUElYSS5JUG9pbnREYXRhLCBjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGlzdFNxdWFyZWQyZChwb2ludC54LCBwb2ludC55LCBjZW50ZXIueCwgY2VudGVyLnkpIDwgcmFkaXVzICogcmFkaXVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcENpcmNsZVZzQWFiYihjZW50ZXI6IFBJWEkuSVBvaW50RGF0YSwgcmFkaXVzOiBudW1iZXIsIGFhYmI6IEFhYmIpOiBib29sZWFuIHtcbiAgICBsZXQgZGlzdFggPSBNYXRoLmFicyhjZW50ZXIueCAtIChhYWJiLm1pblggKyBhYWJiLm1heFgpIC8gMik7XG4gICAgbGV0IGRpc3RZID0gTWF0aC5hYnMoY2VudGVyLnkgLSAoYWFiYi5taW5ZICsgYWFiYi5tYXhZKSAvIDIpO1xuXG4gICAgbGV0IGhhbGZXID0gKGFhYmIubWF4WCAtIGFhYmIubWluWCkgLyAyO1xuICAgIGxldCBoYWxmSCA9IChhYWJiLm1heFkgLSBhYWJiLm1pblkpIC8gMjtcblxuICAgIGlmIChkaXN0WCA+IGhhbGZXICsgcmFkaXVzKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGRpc3RZID4gaGFsZkggKyByYWRpdXMpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChkaXN0WCA8IGhhbGZXIHx8IGRpc3RZIDwgaGFsZkgpIHJldHVybiB0cnVlO1xuXG4gICAgbGV0IGR4ID0gZGlzdFggLSBoYWxmVztcbiAgICBsZXQgZHkgPSBkaXN0WSAtIGhhbGZIO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMgKiByYWRpdXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwQ2lyY2xlVnNDaXJjbGUoYWM6IFBJWEkuSVBvaW50RGF0YSwgYXI6IG51bWJlciwgYmM6IFBJWEkuSVBvaW50RGF0YSwgYnI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCBkeCA9IGFjLnggLSBiYy54O1xuICAgIGxldCBkeSA9IGFjLnkgLSBiYy55O1xuICAgIGxldCByID0gYXIgKyBicjtcblxuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8ICByICogcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBDaXJjbGVWc1BvbHlnb24oYWM6IFBJWEkuSVBvaW50RGF0YSwgYXI6IG51bWJlciwgcG9seTogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBpZiAocG9seWdvblBvaW50SW50ZXJzZWN0KGFjLCBwb2x5KSkgcmV0dXJuIHRydWU7XG5cbiAgICBsZXQgdG1wTGluZSA9IG5ldyBMaW5lKDAsIDAsIDAsIDApO1xuICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG4gICAgbGV0IHIyID0gYXIgKiBhcjtcblxuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcG9seS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICB0bXBMaW5lLmZyb21YID0gcG9seVtpIC0gMl07XG4gICAgICAgIHRtcExpbmUuZnJvbVkgPSBwb2x5W2kgLSAxXTtcbiAgICAgICAgdG1wTGluZS50b1ggPSBwb2x5W2ldO1xuICAgICAgICB0bXBMaW5lLnRvWSA9IHBvbHlbaSArIDFdO1xuXG4gICAgICAgIHRtcExpbmUucHJvamVjdFBvaW50KGFjLCB0bXBQb2ludCwgdHJ1ZSk7XG4gICAgICAgIGlmIChkaXN0U3F1YXJlZDJkKHRtcFBvaW50LngsIHRtcFBvaW50LnksIGFjLngsIGFjLnkpIDw9IHIyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBPYmJWc1BvbHlnb24ob2JiOiBPYmIsIHBvbHk6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgbGV0IHBvbHlBYWJiID0gQWFiYi56ZXJvKCk7XG4gICAgcG9seUFhYmIud3JhcFBvbHlnb24ocG9seSk7XG4gICAgLy8gRmFzdCBwYXRoXG4gICAgaWYgKCFvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIob2JiLCBwb2x5QWFiYikpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgICAgIGxldCBwID0ge1xuICAgICAgICAgICAgeDogb2JiLnJvdFZlcnRleFtpXSxcbiAgICAgICAgICAgIHk6IG9iYi5yb3RWZXJ0ZXhbaSArIDFdLFxuICAgICAgICB9O1xuICAgICAgICAvLyBJZiBhIHBvaW50IG9mIHRoZSBPQkIgaXMgaW5zaWRlIHRoZSBwb2x5Z29uIHRoZW4gd2UncmUgZG9uZVxuICAgICAgICBpZiAocG9seWdvblBvaW50SW50ZXJzZWN0KHAsIHBvbHkpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbHkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHAgPSB7XG4gICAgICAgICAgICB4OiBwb2x5W2ldLFxuICAgICAgICAgICAgeTogcG9seVtpICsgMV0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgYSBwb2ludCBvZiB0aGUgcG9seWdvbiBpcyBpbnNpZGUgdGhlIE9CQiB0aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgaWYgKG92ZXJsYXBSb3RhdGVkUmVjdFZzUG9pbnQob2JiLCBwKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBvYmJMaW5lcyA9IFtcbiAgICAgICAgWzAsIDJdLFxuICAgICAgICBbMiwgNF0sXG4gICAgICAgIFs0LCA2XSxcbiAgICAgICAgWzYsIDBdXG4gICAgXTtcblxuICAgIC8vIENoZWNrIGxpbmUgaW50ZXJzZWN0aW9uc1xuICAgIGZvciAobGV0IGxpbmUgb2Ygb2JiTGluZXMpIHtcbiAgICAgICAgbGV0IG9iYkxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIG9iYi5yb3RWZXJ0ZXhbbGluZVswXV0sIG9iYi5yb3RWZXJ0ZXhbbGluZVswXSArIDFdLFxuICAgICAgICAgICAgb2JiLnJvdFZlcnRleFtsaW5lWzFdXSwgb2JiLnJvdFZlcnRleFtsaW5lWzFdICsgMV1cbiAgICAgICAgKVxuICAgICAgICBpZiAob3ZlcmxhcExpbmVWc1BvbHlnb24ob2JiTGluZSwgcG9seSkpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBMaW5lVnNQb2x5Z29uKGxpbmU6IExpbmUsIHBvbHk6IG51bWJlcltdKSB7XG4gICAgbGV0IHRvdExpbmVzID0gcG9seS5sZW5ndGggLSAyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90TGluZXM7IGkgKz0gMikge1xuICAgICAgICBsZXQgcG9sTGluZSA9IG5ldyBMaW5lKHBvbHlbaV0sIHBvbHlbaSsxXSwgcG9seVtpKzJdLCBwb2x5W2krM10pO1xuICAgICAgICBpZiAoaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChsaW5lLCBwb2xMaW5lKSA9PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBwb2xMaW5lID0gbmV3IExpbmUocG9seVswXSwgcG9seVsxXSwgcG9seVtwb2x5Lmxlbmd0aC0yXSwgcG9seVtwb2x5Lmxlbmd0aC0xXSk7XG4gICAgcmV0dXJuIGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQobGluZSwgcG9sTGluZSkgPT0gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVQb2ludEJ5T3JpZyhvOiBQSVhJLklQb2ludERhdGEsIHJvdDogbnVtYmVyLCBwOiBQSVhJLklQb2ludERhdGEpOiBQSVhJLlBvaW50IHtcbiAgICBsZXQgcyA9IE1hdGguc2luKC1yb3QpO1xuICAgIGxldCBjID0gTWF0aC5jb3MoLXJvdCk7XG5cbiAgICBsZXQgdHJhbnNYID0gcC54IC0gby54O1xuICAgIGxldCB0cmFuc1kgPSBwLnkgLSBvLnk7XG5cbiAgICByZXR1cm4gbmV3IFBJWEkuUG9pbnQoXG4gICAgICAgICh0cmFuc1ggKiBjIC0gdHJhbnNZICogcykgKyBvLngsXG4gICAgICAgICh0cmFuc1ggKiBzICsgdHJhbnNZICogYykgKyBvLnlcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNQb2ludChvYmI6IE9iYiwgcDogUElYSS5JUG9pbnREYXRhKSB7XG4gICAgbGV0IHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50QnlPcmlnKG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCksIG9iYi5yb3RhdGlvbiwgcCk7XG5cbiAgICByZXR1cm4gb3ZlcmxhcEFhYmJWc1BvaW50KG9iYi51bnJvdGF0ZWQsIHJvdGF0ZWRQb2ludCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwUm90YXRlZFJlY3RWc0NpcmNsZShvYmI6IE9iYiwgcG9zOiBQSVhJLklQb2ludERhdGEsIHJhZDogbnVtYmVyKSB7XG4gICAgbGV0IHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50QnlPcmlnKG9iYi51bnJvdGF0ZWQuZ2V0Q2VudGVyKCksIG9iYi5yb3RhdGlvbiwgcG9zKTtcblxuICAgIHJldHVybiBvdmVybGFwQ2lyY2xlVnNBYWJiKHJvdGF0ZWRQb2ludCwgcmFkLCBvYmIudW5yb3RhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBSb3RhdGVkUmVjdFZzTGluZShvYmI6IE9iYiwgbGluZTogTGluZSkge1xuICAgIGxldCBjZW50ZXIgPSBvYmIudW5yb3RhdGVkLmdldENlbnRlcigpO1xuICAgIGxldCByb3RGcm9tID0gcm90YXRlUG9pbnRCeU9yaWcoY2VudGVyLCBvYmIucm90YXRpb24sIHt4OiBsaW5lLmZyb21YLCB5OiBsaW5lLmZyb21ZfSk7XG4gICAgbGV0IHJvdFRvID0gcm90YXRlUG9pbnRCeU9yaWcoY2VudGVyLCBvYmIucm90YXRpb24sIHt4OiBsaW5lLnRvWCwgeTogbGluZS50b1l9KTtcblxuICAgIHJldHVybiBvdmVybGFwQWFiYlZzTGluZShvYmIudW5yb3RhdGVkLCBuZXcgTGluZShyb3RGcm9tLngsIHJvdEZyb20ueSwgcm90VG8ueCwgcm90VG8ueSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU9iYlBvaW50cyhhYWJiOiBBYWJiLCByb3Q6IG51bWJlciwgb3JpZ2luPzogUElYSS5JUG9pbnREYXRhKTogbnVtYmVyW10ge1xuICAgIGxldCByZXMgPSBuZXcgQXJyYXk8bnVtYmVyPig4KTtcblxuICAgIGxldCBvID0gb3JpZ2luIHx8IHtcbiAgICAgICAgeDogKGFhYmIubWluWCArIGFhYmIubWF4WCkgLyAyLFxuICAgICAgICB5OiAoYWFiYi5taW5ZICsgYWFiYi5tYXhZKSAvIDIsXG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGxldCBtaW5YID0gKGkgJiAxKTtcbiAgICAgICAgbGV0IG1pblkgPSAoaSAmIDIpID4+PiAxO1xuXG4gICAgICAgIGxldCBwID0gcm90YXRlUG9pbnRCeU9yaWcobywgcm90LCB7XG4gICAgICAgICAgICB4OiBtaW5YID8gYWFiYi5taW5YIDogYWFiYi5tYXhYLFxuICAgICAgICAgICAgeTogbWluWSA/IGFhYmIubWluWSA6IGFhYmIubWF4WSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc1tpICogMiAgICBdID0gcC54O1xuICAgICAgICByZXNbaSAqIDIgKyAxXSA9IHAueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNBYWJiKG9iYjogT2JiLCBhYWJiOiBBYWJiKTogYm9vbGVhbiB7XG4gICAgLy8gU2VwYXJhdGluZyBBeGlzIFRoZW9yZW1cbiAgICBsZXQgb3RoZXJBYWJiID0gQWFiYi56ZXJvKCk7XG5cbiAgICBvdGhlckFhYmIud3JhcFBvbHlnb24ob2JiLnJvdFZlcnRleCk7XG4gICAgaWYgKG92ZXJsYXBBYWJiVnNBYWJiKGFhYmIsIG90aGVyQWFiYikpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gQXBwbHkgdGhlIGludmVyc2UgdHJhbnNmb3JtIG9mIHRoZSBvYmIgdG8gdGhlIGFhYmJcbiAgICBsZXQgb3JpZ2luYWxJbnYgPSBjb21wdXRlT2JiUG9pbnRzKGFhYmIsIG9iYi5yb3RhdGlvbiwgb2JiLnVucm90YXRlZC5nZXRDZW50ZXIoKSk7XG5cbiAgICBvdGhlckFhYmIucmVzZXQoKTtcbiAgICBvdGhlckFhYmIud3JhcFBvbHlnb24ob3JpZ2luYWxJbnYpO1xuICAgIHJldHVybiBvdmVybGFwQWFiYlZzQWFiYihvYmIudW5yb3RhdGVkLCBvdGhlckFhYmIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcFJvdGF0ZWRSZWN0VnNSb3RhdGVkUmVjdChvYmIxOiBPYmIsIG9iYjI6IE9iYik6IGJvb2xlYW4ge1xuICAgIGxldCBjZW50ZXIgPSBvYmIyLnVucm90YXRlZC5nZXRDZW50ZXIoKTtcbiAgICBsZXQgcmVzID0gb2JiMi51bnJvdGF0ZWQuY29weSgpO1xuICAgIHJlcy50cmFuc2xhdGUoLWNlbnRlci54LCAtY2VudGVyLnksIHJlcyk7XG5cbiAgICBsZXQgb2JiMyA9IE9iYi5yb3RhdGVBYWJiKHJlcywgb2JiMi5yb3RhdGlvbiAtIG9iYjEucm90YXRpb24pO1xuICAgIHJldHVybiBvdmVybGFwUm90YXRlZFJlY3RWc0FhYmIob2JiMywgb2JiMS51bnJvdGF0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcExpbmVWc0NpcmNsZShsaW5lOiBMaW5lLCBwb2ludDogUElYSS5JUG9pbnREYXRhLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCB0bXBQb2ludCA9IG5ldyBQSVhJLlBvaW50KCk7XG5cbiAgICBpZiAoIWxpbmUucHJvamVjdFBvaW50KHBvaW50LCB0bXBQb2ludCwgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgZGlzdCA9IGRpc3RTcXVhcmVkMmQodG1wUG9pbnQueCwgdG1wUG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG4gICAgcmV0dXJuIGRpc3QgPCByYWRpdXMgKiByYWRpdXM7XG59XG5cbmV4cG9ydCBlbnVtIFNlZ21lbnRWc1NlZ21lbnRSZXMge1xuICAgIE5PTkUsIElOVEVSTiwgRURHRV9BLCBFREdFX0IgPSA0LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChhOiBMaW5lLCBiOiBMaW5lLCB0YXJnZXQ/OiBQb2ludCk6IFNlZ21lbnRWc1NlZ21lbnRSZXMge1xuICAgIGxldCBkZW4gPSAoYi50b1kgLSBiLmZyb21ZKSAqIChhLnRvWCAtIGEuZnJvbVgpIC1cbiAgICAgICAgICAgICAgKGIudG9YIC0gYi5mcm9tWCkgKiAoYS50b1kgLSBhLmZyb21ZKTtcblxuICAgIGlmIChkZW4gPT09IDApIHJldHVybiBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkU7IC8vIFBhcmFsbGVsIChvciBjb2luY2lkZW50KVxuXG4gICAgY29uc3QgcyA9IChcbiAgICAgICAgKGIudG9YIC0gYi5mcm9tWCkgKiAoYS5mcm9tWSAtIGIuZnJvbVkpIC1cbiAgICAgICAgKGIudG9ZIC0gYi5mcm9tWSkgKiAoYS5mcm9tWCAtIGIuZnJvbVgpXG4gICAgKSAvIGRlbjtcblxuICAgIGlmIChzIDwgLUVQU0lMT04gfHwgcyA+IDEgKyBFUFNJTE9OKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FO1xuXG4gICAgY29uc3QgdSA9IChcbiAgICAgICAgKGEudG9YIC0gYS5mcm9tWCkgKiAoYS5mcm9tWSAtIGIuZnJvbVkpIC1cbiAgICAgICAgKGEudG9ZIC0gYS5mcm9tWSkgKiAoYS5mcm9tWCAtIGIuZnJvbVgpXG4gICAgKSAvIGRlbjtcblxuICAgIGlmICh1IDwgLUVQU0lMT04gfHwgdSA+IDEgKyBFUFNJTE9OKSByZXR1cm4gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FO1xuXG4gICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldC5zZXQoXG4gICAgICAgICAgICBhLmZyb21YICsgcyAqIChhLnRvWCAtIGEuZnJvbVgpLFxuICAgICAgICAgICAgYS5mcm9tWSArIHMgKiAoYS50b1kgLSBhLmZyb21ZKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgZWRnZSA9IDA7XG4gICAgaWYgKHMgPCBFUFNJTE9OIHx8IHMgPiAxIC0gRVBTSUxPTikgZWRnZSB8PSBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQTtcbiAgICBpZiAodSA8IEVQU0lMT04gfHwgdSA+IDEgLSBFUFNJTE9OKSBlZGdlIHw9IFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CO1xuICAgIHJldHVybiBlZGdlID09PSAwID8gU2VnbWVudFZzU2VnbWVudFJlcy5JTlRFUk4gOiBlZGdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJpYW5nbGVDb250YWluc1BvaW50KHA6IFN0dXBpZFBvaW50LCBwMDogU3R1cGlkUG9pbnQsIHAxOiBTdHVwaWRQb2ludCwgcDI6IFN0dXBpZFBvaW50KSB7XG4gICAgbGV0IEEgPSAxLzIgKiAoLXAxLnkgKiBwMi54ICsgcDAueSAqICgtcDEueCArIHAyLngpICsgcDAueCAqIChwMS55IC0gcDIueSkgKyBwMS54ICogcDIueSk7XG4gICAgbGV0IHNpZ24gPSBBIDwgMCA/IC0xIDogMTtcbiAgICBsZXQgcyA9IChwMC55ICogcDIueCAtIHAwLnggKiBwMi55ICsgKHAyLnkgLSBwMC55KSAqIHAueCArIChwMC54IC0gcDIueCkgKiBwLnkpICogc2lnbjtcbiAgICBsZXQgdCA9IChwMC54ICogcDEueSAtIHAwLnkgKiBwMS54ICsgKHAwLnkgLSBwMS55KSAqIHAueCArIChwMS54IC0gcDAueCkgKiBwLnkpICogc2lnbjtcblxuICAgIHJldHVybiBzIC0gRVBTSUxPTiA+IDAgJiYgdCAtIEVQU0lMT04gPiAwICYmIChzICsgdCkgPCAyICogQSAqIHNpZ24gLSBFUFNJTE9OO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGluZVNhbWVTbG9wZShheDogbnVtYmVyLCBheTogbnVtYmVyLCBieDogbnVtYmVyLCBieTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgLy8gV2UgbmVlZCB0byByZW1vdmUgZGl2aXNpb25zLCAodGhpcyBpcyBub3QgcmVhbCBjb2RlKVxuICAgIC8vIGF5IC8gYXggPT0gYnkgLyBieCAgPT0+IGF5ICogYnggPT0gYnkgKiBheFxuICAgIHJldHVybiBNYXRoLmFicyhheSAqIGJ4IC0gYnkgKiBheCkgPCBFUFNJTE9OO1xufVxuXG4iLCJcbi8vIEEgdmVyc2lvbiBoaWdobHkgaW5zcGlyZWQgYnkgcGxhbmsuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9zaGFraWJhL3BsYW5jay5qcy9ibG9iL2Y1Nzc3ODg0ZjUzN2RiOTc2MDhkODAxNmJkYTk2MGQyNTFkNDJkNGQvbGliL2NvbGxpc2lvbi9EeW5hbWljVHJlZS5qcylcblxuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQge2NvbnRhaW5zQWFiYlZzQWFiYiwgb3ZlcmxhcEFhYmJWc0FhYmJ9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xuaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuY2xhc3MgVHJlZU5vZGU8VD4ge1xuICAgIGlkOiBudW1iZXI7XG4gICAgYWFiYiA9IEFhYmIuemVybygpO1xuICAgIHRhZz86IFQ7XG5cbiAgICBwYXJlbnQ/OiBUcmVlTm9kZTxUPjtcbiAgICBsZWZ0PzogVHJlZU5vZGU8VD47XG4gICAgcmlnaHQ/OiBUcmVlTm9kZTxUPjtcblxuICAgIGhlaWdodDogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZCArIFwiOiBcIiArIHRoaXMudGFnO1xuICAgIH1cblxuICAgIGlzTGVhZigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgRHluYW1pY1RyZWU8VD4ge1xuICAgIHJvb3Q/OiBUcmVlTm9kZTxUPjtcbiAgICBub2RlcyA9IG5ldyBNYXA8bnVtYmVyLCBUcmVlTm9kZTxUPj4oKTtcbiAgICBsYXN0UHJveHlJZDogbnVtYmVyID0gMDtcblxuICAgIGFhYmJFeHRlbnNpb246IG51bWJlcjtcbiAgICBhYWJiTXVsdGlwbGllcjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYWFiYkV4dGVuc2lvbjogbnVtYmVyID0gMC4xLCBhYWJiTXVsdGlwbGllcjogbnVtYmVyID0gMikge1xuICAgICAgICB0aGlzLmFhYmJFeHRlbnNpb24gPSBhYWJiRXh0ZW5zaW9uO1xuICAgICAgICB0aGlzLmFhYmJNdWx0aXBsaWVyID0gYWFiYk11bHRpcGxpZXI7XG4gICAgfVxuXG4gICAgZ2V0VGFnKGlkOiBudW1iZXIpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuZ2V0KGlkKT8udGFnO1xuICAgIH1cblxuICAgIHNldFRhZyhpZDogbnVtYmVyLCB0YWc6IFQpIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5nZXQoaWQpIS50YWcgPSB0YWc7XG4gICAgfVxuXG4gICAgZ2V0RmF0QWFiYihpZDogbnVtYmVyKTogQWFiYiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmdldChpZCk/LmFhYmI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhbGxvY2F0ZU5vZGUoKTogVHJlZU5vZGU8VD4ge1xuICAgICAgICBsZXQgbm9kZSA9IG5ldyBUcmVlTm9kZTxUPigrK3RoaXMubGFzdFByb3h5SWQpO1xuICAgICAgICB0aGlzLm5vZGVzLnNldChub2RlLmlkLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmcmVlTm9kZShub2RlOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLm5vZGVzLmRlbGV0ZShub2RlLmlkKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQcm94eShhYWJiOiBBYWJiLCB0YWc6IFQpOiBudW1iZXIge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuYWxsb2NhdGVOb2RlKCk7XG5cbiAgICAgICAgbm9kZS5hYWJiLmNvcHlGcm9tKGFhYmIpO1xuXG4gICAgICAgIC8vIEZhdHRlbiB0aGUgYWFiYlxuICAgICAgICBub2RlLmFhYmIuZXh0ZW5kKHRoaXMuYWFiYkV4dGVuc2lvbiwgbm9kZS5hYWJiKTtcblxuICAgICAgICBub2RlLnRhZyA9IHRhZztcbiAgICAgICAgbm9kZS5oZWlnaHQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0TGVhZihub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaWQ7XG4gICAgfVxuXG4gICAgZGVzdHJveVByb3h5KGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzLmdldChpZCkhO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlTGVhZihub2RlKTtcbiAgICAgICAgdGhpcy5mcmVlTm9kZShub2RlKTtcbiAgICB9XG5cbiAgICBtb3ZlUHJveHkoaWQ6IG51bWJlciwgYWFiYjogQWFiYiwgZDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzLmdldChpZCkhO1xuXG4gICAgICAgIGlmIChjb250YWluc0FhYmJWc0FhYmIobm9kZS5hYWJiLCBhYWJiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW1vdmVMZWFmKG5vZGUpO1xuICAgICAgICBub2RlLmFhYmIuY29weUZyb20oYWFiYik7XG5cbiAgICAgICAgLy8gRmF0dGVuXG4gICAgICAgIG5vZGUuYWFiYi5leHRlbmQodGhpcy5hYWJiRXh0ZW5zaW9uLCBub2RlLmFhYmIpO1xuXG4gICAgICAgIC8vIFByZWRpY3QgbW90aW9uXG4gICAgICAgIGlmICh0aGlzLmFhYmJNdWx0aXBsaWVyICE9PSAxKSB7XG4gICAgICAgICAgICBpZiAoZC54IDwgMCkgYWFiYi5taW5YICs9IGQueCAqIHRoaXMuYWFiYk11bHRpcGxpZXI7XG4gICAgICAgICAgICBlbHNlIGFhYmIubWF4WCArPSBkLnggKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICBpZiAoZC55IDwgMCkgYWFiYi5taW5ZICs9IGQueSAqIHRoaXMuYWFiYk11bHRpcGxpZXI7XG4gICAgICAgICAgICBlbHNlIGFhYmIubWF4WSArPSBkLnkgKiB0aGlzLmFhYmJNdWx0aXBsaWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnNlcnRMZWFmKG5vZGUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0TGVhZihsZWFmOiBUcmVlTm9kZTxUPik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGxlYWY7XG4gICAgICAgICAgICB0aGlzLnJvb3QucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlYWZBYWJiID0gbGVhZi5hYWJiO1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnJvb3Q7XG5cbiAgICAgICAgd2hpbGUgKCFpbmRleC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBpbmRleC5sZWZ0ITtcbiAgICAgICAgICAgIGxldCByaWdodCA9IGluZGV4LnJpZ2h0ITtcblxuICAgICAgICAgICAgbGV0IHBlciA9IGluZGV4LmFhYmIuZ2V0UGVyaW1ldGVyKCk7XG5cblxuICAgICAgICAgICAgbGV0IGNvbWJpbmVkQWFiYiA9IEFhYmIuemVybygpO1xuICAgICAgICAgICAgaW5kZXguYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBjb21iaW5lZEFhYmIpO1xuICAgICAgICAgICAgbGV0IGNvbWJpbmVkUGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuXG4gICAgICAgICAgICBsZXQgY29zdCA9IGNvbWJpbmVkUGVyICogMjtcblxuICAgICAgICAgICAgbGV0IGluaGVyaXRhbmNlQ29zdCA9IChjb21iaW5lZFBlciAtIHBlcikgKiAyO1xuXG4gICAgICAgICAgICBsZXQgY29zdExlZnQ7XG4gICAgICAgICAgICBpZiAobGVmdC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIGxlZnQuYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBjb21iaW5lZEFhYmIpO1xuICAgICAgICAgICAgICAgIGNvc3RMZWZ0ID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWZ0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkUGVyaW1ldGVyID0gbGVmdC5hYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdQZXJpbWV0ZXIgPSBjb21iaW5lZEFhYmIuZ2V0UGVyaW1ldGVyKCk7XG4gICAgICAgICAgICAgICAgY29zdExlZnQgPSAobmV3UGVyaW1ldGVyIC0gb2xkUGVyaW1ldGVyKSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNvc3RSaWdodDtcbiAgICAgICAgICAgIGlmIChyaWdodC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBjb3N0UmlnaHQgPSBjb21iaW5lZEFhYmIuZ2V0UGVyaW1ldGVyKCkgKyBpbmhlcml0YW5jZUNvc3Q7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJpZ2h0LmFhYmIuY29tYmluZShsZWFmQWFiYiwgY29tYmluZWRBYWJiKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkUGVyaW1ldGVyID0gcmlnaHQuYWFiYi5nZXRQZXJpbWV0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyaW1ldGVyID0gY29tYmluZWRBYWJiLmdldFBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIGNvc3RSaWdodCA9IChuZXdQZXJpbWV0ZXIgLSBvbGRQZXJpbWV0ZXIpICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29zdCA8IGNvc3RMZWZ0ICYmIGNvc3QgPCBjb3N0UmlnaHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvc3RMZWZ0IDwgY29zdFJpZ2h0KSBpbmRleCA9IGxlZnQ7XG4gICAgICAgICAgICBlbHNlIGluZGV4ID0gcmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2libGluZyA9IGluZGV4O1xuICAgICAgICBsZXQgb2xkUGFyZW50ID0gc2libGluZy5wYXJlbnQ7XG4gICAgICAgIGxldCBuZXdQYXJlbnQgPSB0aGlzLmFsbG9jYXRlTm9kZSgpO1xuXG4gICAgICAgIG5ld1BhcmVudC5wYXJlbnQgPSBvbGRQYXJlbnQ7XG4gICAgICAgIHNpYmxpbmcuYWFiYi5jb21iaW5lKGxlYWZBYWJiLCBuZXdQYXJlbnQuYWFiYik7XG4gICAgICAgIG5ld1BhcmVudC5oZWlnaHQgPSBzaWJsaW5nLmhlaWdodCArIDE7XG5cbiAgICAgICAgaWYgKG9sZFBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGUgc2libGluZyB3YXMgbm90IHRoZSByb290XG4gICAgICAgICAgICBpZiAob2xkUGFyZW50LmxlZnQgPT09IHNpYmxpbmcpIG9sZFBhcmVudC5sZWZ0ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRQYXJlbnQucmlnaHQgPSBuZXdQYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGUgc2libGluZyB3YXMgdGhlIHJvb3RcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5ld1BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBuZXdQYXJlbnQubGVmdCA9IHNpYmxpbmc7XG4gICAgICAgIG5ld1BhcmVudC5yaWdodCA9IGxlYWY7XG4gICAgICAgIHNpYmxpbmcucGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICBsZWFmLnBhcmVudCA9IG5ld1BhcmVudDtcblxuICAgICAgICAvLyBXYWxrIGJhY2sgdXAgZml4aW5nIGhlaWdodHMgYW5kIEFBQkJzXG4gICAgICAgIGluZGV4ID0gbGVhZi5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYmFsYW5jZShpbmRleCk7XG5cbiAgICAgICAgICAgIGluZGV4LmhlaWdodCA9IDEgKyBNYXRoLm1heChpbmRleC5sZWZ0IS5oZWlnaHQsIGluZGV4LnJpZ2h0IS5oZWlnaHQpO1xuICAgICAgICAgICAgaW5kZXgubGVmdCEuYWFiYi5jb21iaW5lKGluZGV4LnJpZ2h0IS5hYWJiLCBpbmRleC5hYWJiKTtcblxuICAgICAgICAgICAgaW5kZXggPSBpbmRleC5wYXJlbnQhO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVMZWFmKGxlYWY6IFRyZWVOb2RlPFQ+KTogdm9pZCB7XG4gICAgICAgIGlmIChsZWFmID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJlbnQgPSBsZWFmLnBhcmVudCE7XG4gICAgICAgIGxldCBncmFuZFBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIGxldCBzaWJsaW5nO1xuICAgICAgICBpZiAocGFyZW50LmxlZnQgPT09IGxlYWYpIHNpYmxpbmcgPSBwYXJlbnQucmlnaHQhO1xuICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQubGVmdCE7XG5cbiAgICAgICAgaWYgKGdyYW5kUGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIERlc3Ryb3kgcGFyZW50IGFuZCBjb25uZWN0IHNpYmxpbmcgdG8gZ3JhbmRQYXJlbnRcbiAgICAgICAgICAgIGlmIChncmFuZFBhcmVudC5sZWZ0ID09PSBwYXJlbnQpIGdyYW5kUGFyZW50LmxlZnQgPSBzaWJsaW5nO1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbmRQYXJlbnQucmlnaHQgPSBzaWJsaW5nO1xuXG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IGdyYW5kUGFyZW50O1xuICAgICAgICAgICAgdGhpcy5mcmVlTm9kZShwYXJlbnQpO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgYW5jZXN0b3IgYm91bmRzXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBncmFuZFBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJhbGFuY2UoaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaW5kZXgubGVmdCEuYWFiYi5jb21iaW5lKGluZGV4LnJpZ2h0IS5hYWJiLCBpbmRleC5hYWJiKTtcbiAgICAgICAgICAgICAgICBpbmRleC5oZWlnaHQgPSAxICsgTWF0aC5tYXgoaW5kZXgubGVmdCEuaGVpZ2h0LCBpbmRleC5yaWdodCEuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXgucGFyZW50ITtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZnJlZU5vZGUocGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYSByb3RhdGlvbiBpZiBjdXJyZW50IG5vZGUgaXMgaW1iYWxhbmNlZCwgcmV0dXJucyB0aGUgbmV3IHN1Yi10cmVlIHJvb3QuXG4gICAgICogQHBhcmFtIGN1cnJlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgYmFsYW5jZShjdXJyZW50OiBUcmVlTm9kZTxUPik6IFRyZWVOb2RlPFQ+IHtcbiAgICAgICAgbGV0IGEgPSBjdXJyZW50O1xuXG4gICAgICAgIGlmIChhLmlzTGVhZigpIHx8IGEuaGVpZ2h0IDwgMikgcmV0dXJuIGE7XG5cbiAgICAgICAgbGV0IGIgPSBhLmxlZnQhO1xuICAgICAgICBsZXQgYyA9IGEucmlnaHQhO1xuXG4gICAgICAgIGxldCBiYWxhbmNlID0gYy5oZWlnaHQgLSBiLmhlaWdodDtcblxuICAgICAgICAvLyBSb3RhdGUgQyB1cFxuICAgICAgICBpZiAoYmFsYW5jZSA+IDEpIHtcbiAgICAgICAgICAgIGxldCBmID0gYy5sZWZ0ITtcbiAgICAgICAgICAgIGxldCBnID0gYy5yaWdodCE7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgYSBhbmQgY1xuICAgICAgICAgICAgYy5sZWZ0ID0gYTtcbiAgICAgICAgICAgIGMucGFyZW50ID0gYS5wYXJlbnQ7XG4gICAgICAgICAgICBhLnBhcmVudCA9IGM7XG5cbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHNob3VsZCBwb2ludCB0byBjXG4gICAgICAgICAgICBpZiAoYy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChjLnBhcmVudC5sZWZ0ID09PSBhKSBjLnBhcmVudC5sZWZ0ID0gYztcbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgYy5wYXJlbnQucmlnaHQgPSBjO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBjO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSb3RhdGVcbiAgICAgICAgICAgIGlmIChmLmhlaWdodCA+IGcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYy5yaWdodCA9IGY7XG4gICAgICAgICAgICAgICAgYS5yaWdodCA9IGc7XG4gICAgICAgICAgICAgICAgZy5wYXJlbnQgPSBhO1xuICAgICAgICAgICAgICAgIGIuYWFiYi5jb21iaW5lKGcuYWFiYiwgYS5hYWJiKTtcbiAgICAgICAgICAgICAgICBhLmFhYmIuY29tYmluZShmLmFhYmIsIGMuYWFiYik7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChiLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGYucGFyZW50ID0gYTtcbiAgICAgICAgICAgICAgICBiLmFhYmIuY29tYmluZShmLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZy5hYWJiLCBjLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYi5oZWlnaHQsIGYuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYWxhbmNlIDwgLTEpIHtcbiAgICAgICAgICAgIGxldCBkID0gYi5sZWZ0ITtcbiAgICAgICAgICAgIGxldCBlID0gYi5yaWdodCE7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgYSBhbmQgYlxuICAgICAgICAgICAgYi5sZWZ0ID0gYTtcbiAgICAgICAgICAgIGIucGFyZW50ID0gYS5wYXJlbnQ7XG4gICAgICAgICAgICBhLnBhcmVudCA9IGI7XG5cbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHNob3VsZCBwb2ludCB0byBiXG4gICAgICAgICAgICBpZiAoYi5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChiLnBhcmVudC5sZWZ0ID09PSBhKSBiLnBhcmVudC5sZWZ0ID0gYjtcbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgYi5wYXJlbnQucmlnaHQgPSBiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSb3RhdGVcbiAgICAgICAgICAgIGlmIChkLmhlaWdodCA+IGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYi5yaWdodCA9IGQ7XG4gICAgICAgICAgICAgICAgYS5sZWZ0ID0gZTtcbiAgICAgICAgICAgICAgICBlLnBhcmVudCA9IGE7XG5cbiAgICAgICAgICAgICAgICBjLmFhYmIuY29tYmluZShlLmFhYmIsIGEuYWFiYik7XG4gICAgICAgICAgICAgICAgYS5hYWJiLmNvbWJpbmUoZC5hYWJiLCBiLmFhYmIpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYy5oZWlnaHQsIGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBiLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZC5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiLnJpZ2h0ID0gZTtcbiAgICAgICAgICAgICAgICBhLmxlZnQgPSBkO1xuICAgICAgICAgICAgICAgIGQucGFyZW50ID0gYTtcblxuICAgICAgICAgICAgICAgIGMuYWFiYi5jb21iaW5lKGQuYWFiYiwgYS5hYWJiKTtcbiAgICAgICAgICAgICAgICBhLmFhYmIuY29tYmluZShlLmFhYmIsIGIuYWFiYik7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChjLmhlaWdodCwgZC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGIuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBlLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgKnF1ZXJ5KGFhYmI6IEFhYmIpOiBHZW5lcmF0b3I8VHJlZU5vZGU8VD4+IHtcbiAgICAgICAgbGV0IHN0YWNrID0gbmV3IEFycmF5PFRyZWVOb2RlPFQ+PigpO1xuXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTdGFydGluZyBxdWVyeTogXCIgKyBhYWJiLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIHN0YWNrLnB1c2godGhpcy5yb290KTtcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gc3RhY2sucG9wKCkhO1xuXG4gICAgICAgICAgICBsZXQgb3ZlcmxhcCA9IG92ZXJsYXBBYWJiVnNBYWJiKG5vZGUuYWFiYiwgYWFiYik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiVmlzaXQ6IFwiICsgbm9kZS5pZCArIFwiID0gXCIgKyBvdmVybGFwKTtcbiAgICAgICAgICAgIGlmICghb3ZlcmxhcCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlzTGVhZigpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLmxlZnQhKTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucmlnaHQhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vcG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIExpbmUge1xuICAgIGZyb21YOiBudW1iZXI7XG4gICAgZnJvbVk6IG51bWJlcjtcbiAgICB0b1g6IG51bWJlcjtcbiAgICB0b1k6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5mcm9tWCA9IGZ4O1xuICAgICAgICB0aGlzLmZyb21ZID0gZnk7XG4gICAgICAgIHRoaXMudG9YID0gdHg7XG4gICAgICAgIHRoaXMudG9ZID0gdHk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2UoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy50b1ggLSB0aGlzLmZyb21YO1xuICAgICAgICBsZXQgZHkgPSB0aGlzLnRvWSAtIHRoaXMuZnJvbVk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cblxuICAgIGRpc3RhbmNlU3F1YXJlZCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZHggPSB0aGlzLnRvWCAtIHRoaXMuZnJvbVg7XG4gICAgICAgIGxldCBkeSA9IHRoaXMudG9ZIC0gdGhpcy5mcm9tWTtcbiAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuICAgIH1cblxuICAgIHByb2plY3RQb2ludChwOiBQSVhJLklQb2ludERhdGEsIHRhcmdldDogUG9pbnQsIGlnbm9yZVZhbGlkOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZnJvbVggPT09IHRoaXMudG9YICYmIHRoaXMuZnJvbVkgPT09IHRoaXMudG9ZKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB1ID0gKChwLnggLSB0aGlzLmZyb21YKSAqICh0aGlzLnRvWCAtIHRoaXMuZnJvbVgpKSArXG4gICAgICAgICAgICAgICAgKChwLnkgLSB0aGlzLmZyb21ZKSAqICh0aGlzLnRvWSAtIHRoaXMuZnJvbVkpKTtcblxuICAgICAgICBsZXQgdWRlbm9tID0gdGhpcy5kaXN0YW5jZVNxdWFyZWQoKTtcblxuICAgICAgICB1IC89IHVkZW5vbTtcblxuICAgICAgICBsZXQgcnggPSB0aGlzLmZyb21YICsgdSAqICh0aGlzLnRvWCAtIHRoaXMuZnJvbVgpO1xuICAgICAgICBsZXQgcnkgPSB0aGlzLmZyb21ZICsgdSAqICh0aGlzLnRvWSAtIHRoaXMuZnJvbVkpO1xuXG4gICAgICAgIGlmIChpZ25vcmVWYWxpZCkge1xuICAgICAgICAgICAgdGFyZ2V0LnNldChyeCwgcnkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWlueCA9IHRoaXMuZnJvbVgsIG1heHggPSB0aGlzLnRvWDtcbiAgICAgICAgbGV0IG1pbnkgPSB0aGlzLmZyb21ZLCBtYXh5ID0gdGhpcy50b1k7XG5cbiAgICAgICAgaWYgKG1pbnggPiBtYXh4KSBbbWlueCwgbWF4eF0gPSBbbWF4eCwgbWlueF07XG4gICAgICAgIGlmIChtaW55ID4gbWF4eSkgW21pbnksIG1heHldID0gW21heHksIG1pbnldO1xuXG4gICAgICAgIGxldCBpc1ZhbGlkID0gKHJ4ID49IG1pbnggJiYgcnggPD0gbWF4eCkgJiYgKHJ5ID49IG1pbnkgJiYgcnkgPD0gbWF4eSk7XG5cbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRhcmdldC5zZXQocngsIHJ5KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29weSgpOiBMaW5lIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lKFxuICAgICAgICAgICAgdGhpcy5mcm9tWCwgdGhpcy5mcm9tWSxcbiAgICAgICAgICAgIHRoaXMudG9YLCB0aGlzLnRvWVxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQge0FhYmJ9IGZyb20gXCIuL2FhYmJcIjtcbmltcG9ydCB7Y29tcHV0ZU9iYlBvaW50c30gZnJvbSBcIi4vY29sbGlzaW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBPYmIge1xuICAgIHVucm90YXRlZDogQWFiYjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xuICAgIHJvdFZlcnRleDogQXJyYXk8bnVtYmVyPjtcblxuICAgIGNvbnN0cnVjdG9yKHVucm90YXRlZDogQWFiYiwgcm90YXRpb246IG51bWJlciwgcm90VmVydGV4OiBBcnJheTxudW1iZXI+KSB7XG4gICAgICAgIHRoaXMudW5yb3RhdGVkID0gdW5yb3RhdGVkO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMucm90VmVydGV4ID0gcm90VmVydGV4O1xuICAgIH1cblxuICAgIHJlY29tcHV0ZSgpIHtcbiAgICAgICAgdGhpcy5yb3RWZXJ0ZXggPSBjb21wdXRlT2JiUG9pbnRzKHRoaXMudW5yb3RhdGVkLCB0aGlzLnJvdGF0aW9uKTtcbiAgICB9XG5cbiAgICBjb3B5KCk6IE9iYiB7XG4gICAgICAgIHJldHVybiBuZXcgT2JiKHRoaXMudW5yb3RhdGVkLmNvcHkoKSwgdGhpcy5yb3RhdGlvbiwgWy4uLnRoaXMucm90VmVydGV4XSk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcm90YXRlQWFiYihhYWJiOiBBYWJiLCByb3Q6IG51bWJlcik6IE9iYiB7XG4gICAgICAgIGlmIChyb3QgPT09IDApIHJldHVybiB0aGlzLmZyb21BYWJiKGFhYmIpO1xuICAgICAgICByZXR1cm4gbmV3IE9iYihhYWJiLCByb3QsIGNvbXB1dGVPYmJQb2ludHMoYWFiYiwgcm90KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21BYWJiKGFhYmI6IEFhYmIpOiBPYmIge1xuICAgICAgICBsZXQgcG9pbnRzID0gW1xuICAgICAgICAgICAgYWFiYi5taW5YLCBhYWJiLm1pblksXG4gICAgICAgICAgICBhYWJiLm1pblgsIGFhYmIubWF4WSxcbiAgICAgICAgICAgIGFhYmIubWF4WCwgYWFiYi5tYXhZLFxuICAgICAgICAgICAgYWFiYi5tYXhYLCBhYWJiLm1pbllcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmIoYWFiYiwgMCwgcG9pbnRzKTtcbiAgICB9XG59IiwiaW1wb3J0IHtQb2ludCwgU3R1cGlkUG9pbnR9IGZyb20gXCIuL3BvaW50XCI7XG5pbXBvcnQge0xpbmV9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7aW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudCwgU2VnbWVudFZzU2VnbWVudFJlcywgdHJpYW5nbGVDb250YWluc1BvaW50fSBmcm9tIFwiLi9jb2xsaXNpb25cIjtcbmltcG9ydCB7ZGlzdFNxdWFyZWQyZCwgaW50ZXJzZWN0TGluZVZzTGluZX0gZnJvbSBcIi4uL3V0aWwvZ2VvbWV0cnlcIjtcbmltcG9ydCB7QmluYXJ5SGVhcH0gZnJvbSBcIi4uL3V0aWwvYmluYXJ5SGVhcFwiO1xuaW1wb3J0IHtBYWJifSBmcm9tIFwiLi9hYWJiXCI7XG5pbXBvcnQgUElYSSBmcm9tIFwiLi4vUElYSVwiO1xuXG5leHBvcnQgY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAwMTtcblxuY2xhc3MgRW5kUG9pbnQgZXh0ZW5kcyBQSVhJLlBvaW50IHtcbiAgICBhbmdsZTogbnVtYmVyID0gMDtcbiAgICBkaXN0OiBudW1iZXIgPSAwO1xuICAgIHNlZ21lbnQ/OiBTZWdtZW50O1xufVxuXG5jbGFzcyBTZWdtZW50IHtcbiAgICBmcm9tOiBFbmRQb2ludDtcbiAgICB0bzogRW5kUG9pbnQ7XG4gICAgdXNlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGY6IEVuZFBvaW50LCB0OiBFbmRQb2ludCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmO1xuICAgICAgICB0aGlzLnRvID0gdDtcbiAgICAgICAgdGhpcy51c2VkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBhIDwgYlxuZnVuY3Rpb24gc2VnbWVudEx0KGE6IFNlZ21lbnQsIGI6IFNlZ21lbnQsIG86IFN0dXBpZFBvaW50KTogYm9vbGVhbiB7XG4gICAgLy8gKm9wZW5zIHBoaWxvc29waHkgYm9vaypcbiAgICAvLyBCdXQgd2hhdCBkb2VzIGl0IG1lYW4gZm9yIGEgc2VnbWVudCB0byBiZSBsZXNzIHRoYW4gYW5vdGhlciBvbmU/IChyZWxhdGl2ZSB0byBhIHBvaW50KVxuICAgIC8vIFRoZXJlIGFyZSBtdWx0aXBsZSBhbGdvcml0aG1zIGZvciB0aGlzLCB0aGUgb25lIHRoYXQgbWFrZXMgbW9zdCBzZW5zZSB0byBtZSBpcyB3aGF0IEkgY2FsbCB0aGVcbiAgICAvLyB0cmlhbmd1bGFyIGludGVyc2VjdGlvbjpcbiAgICAvLyBHaXZlbiB0d28gc2VnbWVudHMgYSwgYiBhbmQgYSBwb2ludCBvIHdlIGRlZmluZSBhIDwgYiA9PSB0cnVlIG9ubHkgaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHBvaW50IGluIGIgdGhhdFxuICAgIC8vIGlzIGhpZGRlbiBieSBhLlxuICAgIC8vIEZvciBldmVyeSBzZWdtZW50IHRoZW4gdGhlIHByb3BlcnR5IGEgPCBiID0+ICEoYiA8IGEpIGlzIG1haW50YWluZWQgb25seSBpZiB0aGUgc2VnbWVudHMgZG8gbm90IGludGVyc2VjdFxuICAgIC8vIChhcyB0aGUgb25seSB3YXkgdGhhdCB0d28gbGluZXMgd291bGQgaGlkZSBlYWNoIG90aGVyIGlzIGlmIHRoZXkgbWVldCBpbiBhIHBvaW50KS5cbiAgICAvLyBPbiBhbm90aGVyIG5vdGUsIHRoZSBwcm9wZXJ0eSBhIDwgYiwgYiA8IGMgPT4gYSA8IGMgaXMgbm90IG1haW50YWluZWQhXG4gICAgLy8gSG93IGNhbiB0aGlzIGJlIGNvbXB1dGVkLCB0aGVuP1xuXG4gICAgLy8gYS5mcm9tIGlzIGluc2lkZSB0aGUgdHJpYW5nbGUgZm9ybWVkIGJ5IGIgYW5kIG8sIHRoaXMgbWVhbnM6XG4gICAgLy8gLSBhLnRvIGlzIGFsc28gaW5zaWRlLCB0aGVuIGEgPCBiXG4gICAgLy8gLSBhLnRvIGlzIG91dHNpZGUsIHRoZW4gYSA8IGJcbiAgICBpZiAodHJpYW5nbGVDb250YWluc1BvaW50KGEuZnJvbSwgYi5mcm9tLCBiLnRvLCBvKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHRyaWFuZ2xlQ29udGFpbnNQb2ludChhLnRvLCBiLmZyb20sIGIudG8sIG8pKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIElmIHdlIGFycml2ZSBoZXJlIHdlIGNhbiBiZSBzdXJlIHRoYXQgbmVpdGhlciBwb2ludHMgb2YgYSBpcyBpbnNpZGUgdGhlIHRyaWFuZ2xlLFxuICAgIC8vIEEgc2VnbWVudCB3aXRoIGJvdGggcG9pbnRzIG91dHNpZGUgb2YgdGhlIHRyaWFuZ2xlIGNhbiBpbnRlcnNlY3QgaXQgb25seSBieSBpbnRlcnNlY3RpbmcgdHdvIG9mIHRoZSB0aHJlZVxuICAgIC8vIGxpbmVzLiBXZSBhbHJlYWR5IGFzc3VtZSB0aGF0IGEgYW5kIGIgY2Fubm90IGludGVyc2VjdCBzbyB3ZSBjYW4gY2hlY2sgZWl0aGVyIChiLmZyb20sIG8pIG9yIChiLnRvLCBvKSBhbmQgc2VlXG4gICAgLy8gaWYgaXQgaW50ZXJzZWN0cyB3aXRoIGFcblxuICAgIGxldCBjMSA9IGludGVyc2VjdFNlZ21lbnRWc1NlZ21lbnQoXG4gICAgICAgIG5ldyBMaW5lKGIuZnJvbS54LCBiLmZyb20ueSwgby54LCBvLnkpLFxuICAgICAgICBuZXcgTGluZShhLmZyb20ueCwgYS5mcm9tLnksIGEudG8ueCwgYS50by55KVxuICAgICk7XG4gICAgaWYgKGMxID09PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG5cbiAgICBsZXQgYzIgPSBpbnRlcnNlY3RTZWdtZW50VnNTZWdtZW50KFxuICAgICAgICBuZXcgTGluZShiLnRvLngsIGIudG8ueSwgby54LCBvLnkpLFxuICAgICAgICBuZXcgTGluZShhLmZyb20ueCwgYS5mcm9tLnksIGEudG8ueCwgYS50by55KVxuICAgICk7XG4gICAgaWYgKGMyID09PSBTZWdtZW50VnNTZWdtZW50UmVzLklOVEVSTikgcmV0dXJuIHRydWU7XG5cblxuICAgIC8vIEVkZ2UgY2FzZTogb25lIG9mIHRoZSBlbmQgcG9pbnRzIG9mIHRoZSBzZWNvbmQgbGluZSAodGhlIHNlZ21lbnQgYSkgbGllc1xuICAgIC8vIGluIHRoZSBsaW5lIChiLmZyb20sIG8pLCB0aGlzIG1pZ2h0IG1lYW4gdHdvIHRoaW5nczpcbiAgICAvLyAxOiB0aGUgbGluZSBzaGFyZXMgYSBwb2ludCBidXQgZG9lcyBub3QgYmxvY2sgdGhlIHNlY29uZCBzZWdtZW50J3Mgdmlld1xuICAgIC8vIDI6IHRoZSBsaW5lIHNoYXJlcyBhIHBvaW50IGFuZCB0aGUgb3RoZXIgcG9pbnQgYmxvY2tzIHRoZSB3aG9sZSB2aWV3IChoaXR0aW5nIHRoZSBvdGhlciB0cmlhbmdsZSBsaW5lKVxuICAgIC8vIHdlIHdhbnQgdG8gY2hlY2sgdGhlIHNlY29uZCBjYXNlLCBzbyBsZXQncyB0cnkgdGhlIHNlY29uZCBzZWdtZW50IGludGVyc2VjdFxuICAgIGlmICgoYzEgJiBTZWdtZW50VnNTZWdtZW50UmVzLkVER0VfQikgIT09IDAgJiYgYzIgIT09IFNlZ21lbnRWc1NlZ21lbnRSZXMuTk9ORSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKChjMiAmIFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CKSAhPT0gMCAmJiBjMSAhPT0gU2VnbWVudFZzU2VnbWVudFJlcy5OT05FKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEVkZ2UgY2FzZSBuLjIgKEknbSBraW5kYSBoYXRpbmcgb24gZ3JpZHMpXG4gICAgLy8gVGhlIHNlZ21lbnQgYSBjb3VsZCBsYXkgYSBwb2ludCBvbiB0aGUgbGluZSBiZXR3ZWVuIChiLmZyb20vdG8sIG8pIGFuZCB0aGUgb3RoZXIgaW4gYlxuICAgIC8vIEVkZ2UgY2FzZSBvZiB0aGUgZWRnZSBjYXNlOiBJZiB0aGUgc2VnbWVudCBpcyBpbiBhbnkgb2YgdGhlIGVuZHBvaW50cyBvZiBiIHRoZW4gaXQgZG9lcyBub3Qgb2NjbHVkZSB0aGUgdmlld1xuICAgIGlmICgoKGMxIHwgYzIpICYgKFNlZ21lbnRWc1NlZ21lbnRSZXMuRURHRV9CIHwgU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0EpKSA9PT0gU2VnbWVudFZzU2VnbWVudFJlcy5FREdFX0IpIHtcbiAgICAgICAgbGV0IGMzID0gaW50ZXJzZWN0U2VnbWVudFZzU2VnbWVudChcbiAgICAgICAgICAgIG5ldyBMaW5lKGIuZnJvbS54LCBiLmZyb20ueSwgYi50by54LCBiLnRvLnkpLFxuICAgICAgICAgICAgbmV3IExpbmUoYS5mcm9tLngsIGEuZnJvbS55LCBhLnRvLngsIGEudG8ueSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGMzICE9PSBTZWdtZW50VnNTZWdtZW50UmVzLk5PTkUpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbWVhbnMgYSA+PSBiXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbml0U2VnbWVudCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwb3M6IFN0dXBpZFBvaW50KTogU2VnbWVudCB7XG4gICAgbGV0IGEgPSBuZXcgRW5kUG9pbnQoeDEsIHkxKTtcbiAgICBsZXQgYiA9IG5ldyBFbmRQb2ludCh4MiwgeTIpO1xuXG4gICAgYS5hbmdsZSA9IE1hdGguYXRhbjIocG9zLnkgLSBhLnksIHBvcy54IC0gYS54KTtcbiAgICBiLmFuZ2xlID0gTWF0aC5hdGFuMihwb3MueSAtIGIueSwgcG9zLnggLSBiLngpO1xuICAgIGEuZGlzdCA9IGRpc3RTcXVhcmVkMmQocG9zLngsIHBvcy55LCBhLngsIGEueSk7XG4gICAgYi5kaXN0ID0gZGlzdFNxdWFyZWQyZChwb3MueCwgcG9zLnksIGIueCwgYi55KTtcblxuICAgIGxldCBzID0gbmV3IFNlZ21lbnQoYSwgYik7XG4gICAgYS5zZWdtZW50ID0gcztcbiAgICBiLnNlZ21lbnQgPSBzO1xuXG4gICAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGUwKHBvczogU3R1cGlkUG9pbnQsIHNlZ21lbnRzOiBTZWdtZW50W10pOiBBcnJheTxudW1iZXI+IHtcbiAgICBsZXQgcG9pbnRzID0gbmV3IEFycmF5PEVuZFBvaW50PigpO1xuICAgIGZvciAobGV0IHMgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgcG9pbnRzLnB1c2gocy5mcm9tLCBzLnRvKTtcbiAgICB9XG5cbiAgICAvLyBPKE5sb2coTikpXG4gICAgcG9pbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGEuYW5nbGUgLSBiLmFuZ2xlO1xuICAgIH0pO1xuXG4gICAgbGV0IHNlZ21lbnRQcmlvcml0eVF1ZXVlID0gbmV3IEJpbmFyeUhlYXA8U2VnbWVudD4oKGEsIGIpID0+IHNlZ21lbnRMdChhLCBiLCBwb3MpKTtcblxuICAgIC8vIFBvcHVsYXRlIHRoZSBwcmlvcml0eSBxdWV1ZSBPKE5sb2coTikpXG4gICAgLy8gVGhlIHByaW9yaXR5IHF1ZXVlIHNob3VsZCBhbHJlYWR5IGhhdmUgYWxsIHRoZSBzZWdtZW50IGl0IGNvbGxpZGVzIHdpdGgsIGJ1dCBkbyBub3QgZmVhciBhc1xuICAgIC8vIHRoZSBtYXRoIGlzIHF1aXRlIHNpbXBsZSBhbmQgc3RyYWlnaHRmb3J3YXJkOlxuICAgIC8vIFdlIHNob3VsZCBjaGVjayB0aGF0IHRoZSBzZWdtZW50IGNvbGxpZGVzIHdpdGggdGhlIGxpbmUgdGhhdCBzdGFydHMgYXQgcG9zIGFuZCBoYXMgYW5nbGUgPSAtTWF0aC5QSS5cbiAgICAvLyBUbyBkbyB0aGF0IHdlIGNhbiBqdXN0IGNoZWNrIHRoZSBhbmdsZXMgb2YgdGhlIHR3byBlbmRwb2ludHMgKGRyYXcgaXQgaW4gYSBwaWVjZSBvZiBwYXBlciwgaXQncyBlYXNpZXIgaWYgc2hvd24pLlxuICAgIGZvciAobGV0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgbGV0IGZhID0gc2VnbWVudC5mcm9tLmFuZ2xlO1xuICAgICAgICBsZXQgdGEgPSBzZWdtZW50LnRvLmFuZ2xlO1xuXG4gICAgICAgIGxldCBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpc0FjdGl2ZSB8fD0gZmEgPD0gMCAmJiB0YSA+PSAwICYmIHRhIC0gZmEgPiBNYXRoLlBJO1xuICAgICAgICBpc0FjdGl2ZSB8fD0gdGEgPD0gMCAmJiBmYSA+PSAwICYmIGZhIC0gdGEgPiBNYXRoLlBJO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHNlZ21lbnRQcmlvcml0eVF1ZXVlLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgbGV0IHBvbHlnb24gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOykge1xuICAgICAgICAvLyBFeHRlbmQgc2lnbmFscyB0aGF0IHRoZSBmaXJzdCBzZWdtZW50IGhhcyBlbmRlZFxuICAgICAgICAvLyB3ZSBzaG91bGQgdGhlbiBleHRlbmQgdGhlIHBvbHlnb24gdG8gdGhlIG5ldyBmaXJzdCB2aXNpYmxlIHNlZ21lbnQuXG4gICAgICAgIGxldCBleHRlbmQgPSBmYWxzZTtcblxuICAgICAgICBsZXQgb3JpZyA9IGk7Ly8gVGhlIG9yaWdpbmFsIHBvaW50IGluZGV4XG4gICAgICAgIGxldCB2ZXJ0ZXggPSBwb2ludHNbaV07XG4gICAgICAgIGxldCBvbGRTZWdtZW50ID0gc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpO1xuICAgICAgICBpZiAob2xkU2VnbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBTaG91bGQgYmUgaW1wb3NzaWJsZSBidXQgYmVjb21lcyBwb3NzaWJsZSB3aGVuIE5hTiBpcyBhcm91bmRcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG9sZCBzZWdtZW50XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGV0IGN1cnJTZWdtZW50ID0gcG9pbnRzW2ldLnNlZ21lbnQhXG4gICAgICAgICAgICBpZiAoc2VnbWVudFByaW9yaXR5UXVldWUuaGFzRWxlbShjdXJyU2VnbWVudCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclNlZ21lbnQgPT09IG9sZFNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wb3BFbGVtKGN1cnJTZWdtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudFByaW9yaXR5UXVldWUucHVzaChjdXJyU2VnbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGlmIChpID09PSBwb2ludHMubGVuZ3RoKSBicmVhaztcbiAgICAgICAgfSB3aGlsZSAocG9pbnRzW2ldLmFuZ2xlIDwgcG9pbnRzW29yaWddLmFuZ2xlICsgRVBTSUxPTik7XG5cbiAgICAgICAgc2VnbWVudFByaW9yaXR5UXVldWUucGVlaygpIS51c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGV4dGVuZCkge1xuICAgICAgICAgICAgLy8gVmVydGV4IGlzIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgb2xkIHNlZ21lbnQsIHdlIG5lZWQgdG8gcHVzaCB0aGlzIHJpZ2h0IGF3YXlcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaCh2ZXJ0ZXgueCwgdmVydGV4LnkpO1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gbmV3IFBJWEkuUG9pbnQoKTtcbiAgICAgICAgICAgIGxldCBmaXJzdFNlZyA9IHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSE7XG4gICAgICAgICAgICBpbnRlcnNlY3RMaW5lVnNMaW5lKGZpcnN0U2VnLmZyb20sIGZpcnN0U2VnLnRvLCBwb3MsIHZlcnRleCwgcG9pbnQpO1xuICAgICAgICAgICAgaWYgKCEoTWF0aC5hYnMocG9pbnQueCAtIHZlcnRleC54KSA8IEVQU0lMT04gJiYgTWF0aC5hYnMocG9pbnQueSAtIHZlcnRleC55KSA8IEVQU0lMT04pKSB7XG4gICAgICAgICAgICAgICAgcG9seWdvbi5wdXNoKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlZ21lbnRQcmlvcml0eVF1ZXVlLnBlZWsoKSAhPSBvbGRTZWdtZW50KSB7XG4gICAgICAgICAgICAvLyBBIG5ldyBzZWdtZW50IGhhcyBoaWRkZW4gdGhlIG9sZCBmaXJzdCBzZWdtZW50LlxuICAgICAgICAgICAgLy8gRmlyc3QgY29tcHV0ZSB3aGVyZSB0aGUgb2xkIHNlZ21lbnQgaGFzIGJlZW4gaGlkZGVuLCBhbmQgcHVzaCB0aGF0IHBvaW50IHRvIHRoZSBwb2x5Z29uXG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBuZXcgUElYSS5Qb2ludCgpO1xuICAgICAgICAgICAgaW50ZXJzZWN0TGluZVZzTGluZShvbGRTZWdtZW50LmZyb20sIG9sZFNlZ21lbnQudG8sIHBvcywgdmVydGV4LCBwb2ludCk7XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2gocG9pbnQueCwgcG9pbnQueSk7XG5cbiAgICAgICAgICAgIC8vIFRoZW4gY29tcHV0ZSB3aGVyZSB0aGUgbmV3IHNlZ21lbnQgaW50ZXJzZWN0c1xuICAgICAgICAgICAgbGV0IG5ld0Nsb3Nlc3QgPSBzZWdtZW50UHJpb3JpdHlRdWV1ZS5wZWVrKCkhO1xuICAgICAgICAgICAgbGV0IG5Qb2ludDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXdDbG9zZXN0LmZyb20uYW5nbGUgLSBwb2ludHNbb3JpZ10uYW5nbGUpIDwgRVBTSUxPTikge1xuICAgICAgICAgICAgICAgIG5Qb2ludCA9IG5ld0Nsb3Nlc3QuZnJvbTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgblBvaW50ID0gbmV3Q2xvc2VzdC50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKE1hdGguYWJzKHBvaW50LnggLSBuUG9pbnQueCkgPCBFUFNJTE9OICYmIE1hdGguYWJzKHBvaW50LnkgLSBuUG9pbnQueSkgPCBFUFNJTE9OKSkge1xuICAgICAgICAgICAgICAgIHBvbHlnb24ucHVzaChuUG9pbnQueCwgblBvaW50LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2x5Z29uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZShwb3M6IFBvaW50LCBpblNlZ21lbnRzOiBMaW5lW10pOiBBcnJheTxudW1iZXI+IHtcbiAgICBsZXQgc2VnbWVudHMgPSBuZXcgQXJyYXk8U2VnbWVudD4oaW5TZWdtZW50cy5sZW5ndGgpO1xuXG4gICAgLy8gTyhOKVxuICAgIGZvciAobGV0IHNlZ21lbnQgb2YgaW5TZWdtZW50cykge1xuICAgICAgICBsZXQgcyA9IGluaXRTZWdtZW50KHNlZ21lbnQuZnJvbVgsIHNlZ21lbnQuZnJvbVksIHNlZ21lbnQudG9YLCBzZWdtZW50LnRvWSwgcG9zKTtcblxuICAgICAgICBzZWdtZW50cy5wdXNoKHMpO1xuICAgIH1cblxuICAgIHJldHVybiBjb21wdXRlMChwb3MsIHNlZ21lbnRzKTtcbn1cblxuY29uc3QgSU5TSURFID0gMDtcbmNvbnN0IExFRlQgPSAxO1xuY29uc3QgUklHSFQgPSAyO1xuY29uc3QgQk9UVE9NID0gNDtcbmNvbnN0IFRPUCA9IDg7XG5cbmZ1bmN0aW9uIGNvbXB1dGVPdXRDb2RlKGJveDogQWFiYiwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBjb2RlID0gSU5TSURFO1xuXG4gICAgaWYgICAgICAoeCA8IGJveC5taW5YKSBjb2RlIHw9IExFRlQ7XG4gICAgZWxzZSBpZiAoeCA+IGJveC5tYXhYKSBjb2RlIHw9IFJJR0hUO1xuXG4gICAgaWYgICAgICAoeSA8IGJveC5taW5ZKSBjb2RlIHw9IEJPVFRPTTtcbiAgICBlbHNlIGlmICh5ID4gYm94Lm1heFkpIGNvZGUgfD0gVE9QO1xuXG4gICAgcmV0dXJuIGNvZGU7XG59XG5cbmZ1bmN0aW9uIGNsaXBTZWdtZW50KGxpbmU6IExpbmUsIGFhYmI6IEFhYmIsIGxpZ2h0OiBTdHVwaWRQb2ludCk6IFNlZ21lbnQgfCB1bmRlZmluZWQge1xuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvaGVuJUUyJTgwJTkzU3V0aGVybGFuZF9hbGdvcml0aG1cbiAgICBsZXQgeDAgPSBsaW5lLmZyb21YO1xuICAgIGxldCB5MCA9IGxpbmUuZnJvbVk7XG4gICAgbGV0IHgxID0gbGluZS50b1g7XG4gICAgbGV0IHkxID0gbGluZS50b1k7XG5cbiAgICBsZXQgY29kZTAgPSBjb21wdXRlT3V0Q29kZShhYWJiLCB4MCwgeTApO1xuICAgIGxldCBjb2RlMSA9IGNvbXB1dGVPdXRDb2RlKGFhYmIsIHgxLCB5MSk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoKGNvZGUwIHwgY29kZTEpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBiaXR3aXNlIE9SIGlzIDA6IGJvdGggcG9pbnRzIGluc2lkZSB3aW5kb3c7IHRyaXZpYWxseSBhY2NlcHQgYW5kIGV4aXQgbG9vcFxuICAgICAgICAgICAgcmV0dXJuIGluaXRTZWdtZW50KHgwLCB5MCwgeDEsIHkxLCBsaWdodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGNvZGUwICYgY29kZTEpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBmYWlsZWQgYm90aCB0ZXN0cywgc28gY2FsY3VsYXRlIHRoZSBsaW5lIHNlZ21lbnQgdG8gY2xpcFxuICAgICAgICAgICAgLy8gZnJvbSBhbiBvdXRzaWRlIHBvaW50IHRvIGFuIGludGVyc2VjdGlvbiB3aXRoIGNsaXAgZWRnZVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCB4ID0gMCwgeSA9IDA7XG5cbiAgICAgICAgICAgIC8vIEF0IGxlYXN0IG9uZSBlbmRwb2ludCBpcyBvdXRzaWRlIHRoZSBjbGlwIHJlY3RhbmdsZTsgcGljayBpdC5cbiAgICAgICAgICAgIGxldCBjb2RlT3V0ID0gY29kZTEgPiBjb2RlMCA/IGNvZGUxIDogY29kZTA7XG5cbiAgICAgICAgICAgIC8vIE5vdyBmaW5kIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQ7XG4gICAgICAgICAgICAvLyB1c2UgZm9ybXVsYXM6XG4gICAgICAgICAgICAvLyAgIHNsb3BlID0gKHkxIC0geTApIC8gKHgxIC0geDApXG4gICAgICAgICAgICAvLyAgIHggPSB4MCArICgxIC8gc2xvcGUpICogKHltIC0geTApLCB3aGVyZSB5bSBpcyB5bWluIG9yIHltYXhcbiAgICAgICAgICAgIC8vICAgeSA9IHkwICsgc2xvcGUgKiAoeG0gLSB4MCksIHdoZXJlIHhtIGlzIHhtaW4gb3IgeG1heFxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB3b3JyeSBhYm91dCBkaXZpZGUtYnktemVybyBiZWNhdXNlLCBpbiBlYWNoIGNhc2UsIHRoZVxuICAgICAgICAgICAgLy8gb3V0Y29kZSBiaXQgYmVpbmcgdGVzdGVkIGd1YXJhbnRlZXMgdGhlIGRlbm9taW5hdG9yIGlzIG5vbi16ZXJvXG5cbiAgICAgICAgICAgIGlmICgoY29kZU91dCAmIFRPUCkgIT09IDApIHsgICAgICAgICAgIC8vIHBvaW50IGlzIGFib3ZlIHRoZSBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHggPSB4MCArICh4MSAtIHgwKSAqIChhYWJiLm1heFkgLSB5MCkgLyAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgeSA9IGFhYmIubWF4WTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvZGVPdXQgJiBCT1RUT00pICE9PSAwKSB7IC8vIHBvaW50IGlzIGJlbG93IHRoZSBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHggPSB4MCArICh4MSAtIHgwKSAqIChhYWJiLm1pblkgLSB5MCkgLyAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgeSA9IGFhYmIubWluWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvZGVPdXQgJiBSSUdIVCkgIT09IDApIHsgIC8vIHBvaW50IGlzIHRvIHRoZSByaWdodCBvZiBjbGlwIHdpbmRvd1xuICAgICAgICAgICAgICAgIHkgPSB5MCArICh5MSAtIHkwKSAqIChhYWJiLm1heFggLSB4MCkgLyAoeDEgLSB4MCk7XG4gICAgICAgICAgICAgICAgeCA9IGFhYmIubWF4WDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvZGVPdXQgJiBMRUZUKSAhPT0gMCkgeyAgIC8vIHBvaW50IGlzIHRvIHRoZSBsZWZ0IG9mIGNsaXAgd2luZG93XG4gICAgICAgICAgICAgICAgeSA9IHkwICsgKHkxIC0geTApICogKGFhYmIubWluWCAtIHgwKSAvICh4MSAtIHgwKTtcbiAgICAgICAgICAgICAgICB4ID0gYWFiYi5taW5YO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3cgd2UgbW92ZSBvdXRzaWRlIHBvaW50IHRvIGludGVyc2VjdGlvbiBwb2ludCB0byBjbGlwXG4gICAgICAgICAgICAvLyBhbmQgZ2V0IHJlYWR5IGZvciBuZXh0IHBhc3MuXG4gICAgICAgICAgICBsZXQgY29kZSA9IGNvbXB1dGVPdXRDb2RlKGFhYmIsIHgsIHkpO1xuICAgICAgICAgICAgaWYgKGNvZGVPdXQgPT09IGNvZGUwKSB7XG4gICAgICAgICAgICAgICAgeDAgPSB4O1xuICAgICAgICAgICAgICAgIHkwID0geTtcbiAgICAgICAgICAgICAgICBjb2RlMCA9IGNvZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHgxID0geDtcbiAgICAgICAgICAgICAgICB5MSA9IHk7XG4gICAgICAgICAgICAgICAgY29kZTEgPSBjb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVZpZXdwb3J0KGxpbmVzOiBMaW5lW10sIGFhYmI6IEFhYmIsIGxpZ2h0OiBTdHVwaWRQb2ludCwgdXNlZExpbmVzPzogbnVtYmVyW10pOiBBcnJheTxudW1iZXI+IHtcbiAgICAvL2NvbnNvbGUubG9nKFwiTGluZXM6IFwiICsgbGluZXMubGVuZ3RoKTtcbiAgICBsZXQgc2VnbWVudHMgPSBuZXcgQXJyYXk8U2VnbWVudD4oKTtcblxuICAgIGxldCBsaW5lTGVuID0gbGluZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZUxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gY2xpcFNlZ21lbnQobGluZXNbaV0sIGFhYmIsIGxpZ2h0KTtcbiAgICAgICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKHNlZ21lbnQgYXMgYW55KS5pbmRleCA9IGk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJEb25lXCIpO1xuICAgIC8vIFB1c2ggdmlld3BvcnQgc2VnbWVudHM6XG4gICAgc2VnbWVudHMucHVzaChcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5taW5YLCBhYWJiLm1pblksIGFhYmIubWluWCwgYWFiYi5tYXhZLCBsaWdodCksXG4gICAgICAgIGluaXRTZWdtZW50KGFhYmIubWluWCwgYWFiYi5tYXhZLCBhYWJiLm1heFgsIGFhYmIubWF4WSwgbGlnaHQpLFxuICAgICAgICBpbml0U2VnbWVudChhYWJiLm1heFgsIGFhYmIubWF4WSwgYWFiYi5tYXhYLCBhYWJiLm1pblksIGxpZ2h0KSxcbiAgICAgICAgaW5pdFNlZ21lbnQoYWFiYi5tYXhYLCBhYWJiLm1pblksIGFhYmIubWluWCwgYWFiYi5taW5ZLCBsaWdodCksXG4gICAgKTtcblxuICAgIC8vY29uc29sZS5sb2coXCJTRUdNRU5UUzogXCIsIHNlZ21lbnRzKTtcblxuICAgIGxldCBwb2x5ID0gY29tcHV0ZTAobGlnaHQsIHNlZ21lbnRzKTtcblxuICAgIGlmICh1c2VkTGluZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBDb21wdXRlIHdoYXQgbGluZXMgaGF2ZSBiZWVuIHVzZWRcbiAgICAgICAgbGV0IHNlZ0xlbiA9IHNlZ21lbnRzLmxlbmd0aCAtIDQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnTGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgICBpZiAocy51c2VkKSB1c2VkTGluZXMucHVzaCgocyBhcyBhbnkpLmluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwb2x5O1xufVxuIiwiLy8gQ29tbW9uIGluZm8gYWJvdXQgdGhlIGdyYXBoaWNhbCBzeXN0ZW1zLCB0aGlzIHNob3VsZCBiZSBhIHNlbWktYWJzdHJhY3Rpb24uXG4vLyBOT05FIE9GIFRISVMgU0hPVUxEIEJFIFNFUklBTElaRUQhIFRISVMgSVMgQUxMIFJVTlRJTUUgREVQRU5EQU5UISBERVRBSUxTIFdJTEwgQ0hBTkdFIEJFVFdFRU4gTUlOT1IgVkVSU0lPTlMhXG5cbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQgeyBCaWdTdG9yYWdlSW5kZXggfSBmcm9tIFwiLi9lY3Mvc3lzdGVtcy9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW1cIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUgPSAncmVtZW1iZXJfYml0X2J5X2JpdF92aXNfdXBkYXRlJztcblxuZXhwb3J0IHR5cGUgR1JBUEhJQ19UWVBFID0gXCJncmFwaGljXCI7XG5leHBvcnQgY29uc3QgR1JBUEhJQ19UWVBFID0gXCJncmFwaGljXCI7XG5leHBvcnQgaW50ZXJmYWNlIEdyYXBoaWNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHR5cGU6IEdSQVBISUNfVFlQRSxcbiAgICBkaXNwbGF5OiBEaXNwbGF5RWxlbWVudDtcbiAgICAvLyBXaHkgZG9lcyB0aGlzIGZsYWcgZXhpc3Q/IGdvb2QgdGhpbmcgeW91IGFza2VkISBXYWxscyBoYXZlIGEgc3BlY2lhbCBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBkb2VzXG4gICAgLy8gbm90IHVzZSBpbXByZWNpc2UgY29sbGlzaW9uIGRldGVjdGlvbiwgdGhleSB1c2UgZGF0YSBleHRyYWN0ZWQgZnJvbSB0aGUgdmlzaWJpbGl0eSBwb2x5Z29uIGFsZ29yaXRobS5cbiAgICAvLyBJZiB5b3UgdGhpbmsgYWJvdXQgaXQgYSBiaXQgaXQncyBub3QgdGhhdCBmYXItZmV0Y2hlZCwgdGhlIGFsZ29yaXRobSBjb21wdXRlcyBhbGwgb2YgdGhlIHZpc2liaWxpdHkgcGF0aHMsIGl0XG4gICAgLy8gc2hvdWxkIGFsc28ga25vdyB3aGF0IHdhbGxzIGFyZSBiZWluZyB1c2VkIChhbmQgd2UgZ2V0IHRoYXQgaW5mbyBmb3IgZnJlZSEpLlxuICAgIGlzV2FsbD86IHRydWU7XG4gICAgaW50ZXJhY3RpdmU6IGJvb2xlYW47Ly8gV2hlbiB0cnVlIHRoaXMgZWxlbWVudCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBJbnRlcmFjdGlvbiBzeXN0ZW1cbn1cblxuZXhwb3J0IGVudW0gRWxlbWVudFR5cGUge1xuICAgIENPTlRBSU5FUixcbiAgICBJTUFHRSxcbiAgICBMSU5FLFxuICAgIFBPSU5ULFxuICAgIFRFWFQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzcGxheUVsZW1lbnQgZXh0ZW5kcyBWaXNpYmlsaXR5T3B0aW9ucyB7XG4gICAgdHlwZTogRWxlbWVudFR5cGU7XG4gICAgdGFnPzogc3RyaW5nOy8vIHVzZWQgc29tZXRpbWVzIHRvIGRpZmZlcmVudGlhdGUgZWxlbWVudHMgYmV0d2VlbiBzeXN0ZW1zXG4gICAgaWdub3JlOiBib29sZWFuO1xuICAgIHByaW9yaXR5OiBudW1iZXI7Ly8gKGlnbm9yZWQgaWYgdGV4dCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucylcbiAgICBvZmZzZXQ/OiBQSVhJLklQb2ludERhdGE7XG4gICAgY2hpbGRyZW4/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIC8vIFRoZXNlIGFyZSBha2luIHRvIGZ1bmN0aW9uIGNhbGxzLCB1cG9uIHVwZGF0aW5nIHRoZSBzeXN0ZW0gaW4gY2hhcmdlIG9mXG4gICAgLy8gR1VJIGVkaXRpbmcgd2lsbCBhZGQvcmVtb3ZlL3JlcGxhY2UgdGhlIGNoaWxkcmVucyBjb250YWluZWRcbiAgICBfY2hpbGRyZW5BZGQ/OiBEaXNwbGF5RWxlbWVudFtdO1xuICAgIF9jaGlsZHJlblJlbW92ZT86IERpc3BsYXlFbGVtZW50W107XG4gICAgX2NoaWxkcmVuUmVwbGFjZT86IERpc3BsYXlFbGVtZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5jaG9yYWJsZUVsZW1lbnQge1xuICAgIGFuY2hvcjogUElYSS5JUG9pbnREYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIGNvbG9yOiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIFZpc2liaWxpdHlUeXBlIHtcbiAgICAvLyBZb3Ugb25seSBzZWUgb25lIHRoaW5nIHdoZW4geW91IHNlZSBpdCEgc2VlbXMgc3R1cGlkIGJ1dCB5b3UgY2FuIGFsc28gcmVtZW1iZXIgdGhpbmdzXG4gICAgTk9STUFMLFxuICAgIC8vIEEgcGxheWVyIGNhbiBhbHdheXMgc2VlIGl0c2VsZiwgZXZlbiB3aXRoIG5vIGxpZ2h0LCBcIkkgdGhpbmsgdGhlcmVmb3JlIEkgYW1cIlxuICAgIEFMV0FZU19WSVNJQkxFLFxuICAgIC8vIFlvdSdsbCByZW1lbWJlciBvbmNlIHlvdSBzZWUgaXRcbiAgICBSRU1FTUJFUixcbiAgICAvLyBVc2VkIGluIGltYWdlcywgeW91IG9ubHkgcmVtZW1iZXIgd2hhdCB5b3Ugc2VlISAob25seSBzdXBwb3J0IGltYWdlcyBmb3Igbm93KVxuICAgIFJFTUVNQkVSX0JJVF9CWV9CSVQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eU9wdGlvbnMge1xuICAgIHZpc2liOiBWaXNpYmlsaXR5VHlwZTtcbn1cblxuLy8gUmVhbCBjb21wb25lbnRzXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIERpc3BsYXlFbGVtZW50IHtcbiAgICB0eXBlOiBFbGVtZW50VHlwZS5DT05UQUlORVI7XG59XG5cbmV4cG9ydCBlbnVtIEltYWdlU2NhbGVNb2RlIHtcbiAgICAvLyAxIHBpeGVsID0gMSpzY2FsZSBwaXhlbHNcbiAgICBSRUFMLFxuICAgIC8vIDEgcGl4ZWwgPSAxKmdyaWRTaXplKnNjYWxlIHBpeGVsc1xuICAgIEdSSUQsXG59XG5cbi8vIFRPRE86IGNyZWF0ZSBhIHNoYXJlZCByZXNvdXJjZXMgcmVzb3VyY2UgYW5kIHB1dCB0ZXh0dXJlcyBpbiB0aGVtICh0aGVuIHB1dCBiYWNrZ3JvdW5kcyBpbiBpdCEpLlxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCwgQW5jaG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLklNQUdFO1xuICAgIHNjYWxlOiBJbWFnZVNjYWxlTW9kZTtcbiAgICB0ZXh0dXJlOiBQSVhJLlRleHR1cmU7XG4gICAgc2hhcmVkVGV4dHVyZT86IHRydWU7Ly8gSWYgdGhpcyBmaWVsZCBpcyBwcmVzZW50IHRoZSB0ZXh0dXJlIHdvbid0IGJlIGRlc3Ryb3llZFxuICAgIHRpbnQ6IG51bWJlcjtcbiAgICAvLyBPdXRwdXQgb2YgdGhlIHZpc2libGUgaW1hZ2UsIG9ubHkgYXZhaWxhYmxlIGlmIHZpc2liPVJFTUVNQkVSX0JJVF9CWV9CSVQgYW5kIGl0J3MgYW4gaW1hZ2VcbiAgICAvLyB1cGRhdGVkIHdoZW4gdGhlIGVudGl0eSBpcyBzZXJpYWxpemVkLCB3aGVuIGl0IGlzIEVWRU5UX1JFTUVNQkVSX0JJVF9CWV9CSVlfTUFTS19VUERBVEUgaXMgZmlyZWQgd2l0aCBhIGxpc3RcbiAgICAvLyBvZiB1cGRhdGVkIGVudGl0aWVzLlxuICAgIHZpc01hcD86IFVpbnQ4QXJyYXk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGluZUVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCwgQ29sb3JhYmxlRWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuTElORTtcbiAgICB2ZWM6IFBJWEkuSVBvaW50RGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludEVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCwgQ29sb3JhYmxlRWxlbWVudCB7XG4gICAgdHlwZTogRWxlbWVudFR5cGUuUE9JTlQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dEVsZW1lbnQgZXh0ZW5kcyBEaXNwbGF5RWxlbWVudCwgQW5jaG9yYWJsZUVsZW1lbnQsIENvbG9yYWJsZUVsZW1lbnQge1xuICAgIHR5cGU6IEVsZW1lbnRUeXBlLlRFWFQ7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIGxpbmVBbGlnbj86ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0Jztcbn1cbiIsImltcG9ydCB7U3RhZ2V9IGZyb20gXCIuL3BoYXNlL3N0YWdlXCI7XG5cbmltcG9ydCB7SG9tZVBoYXNlfSBmcm9tIFwiLi9waGFzZS9ob21lUGhhc2VcIjtcblxuaW1wb3J0IHtFdmVudEVtaXR0ZXJXcmFwcGVyfSBmcm9tIFwiLi91dGlsL2V2ZW50RW1pdHRlcldyYXBwZXJcIjtcblxuaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5pbXBvcnQgeyBCb290c3RyYXBWdWUgfSBmcm9tICdib290c3RyYXAtdnVlJ1xuXG5pbXBvcnQgJ0Bmb3J0YXdlc29tZS9mb250YXdlc29tZS1mcmVlL2Nzcy9hbGwuY3NzJ1xuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9qcy9hbGwuanMnXG5cblZ1ZS51c2UoQm9vdHN0cmFwVnVlKVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHVibGljXG5cbmltcG9ydCBcIlB1YmxpYy9zdHlsZS5jc3NcIjtcbmltcG9ydCB7Q2xpZW50RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9waGFzZS9lZGl0TWFwL2NsaWVudEVkaXRNYXBQaGFzZVwiO1xuaW1wb3J0IHtsb2FkQXNzZXRzfSBmcm9tIFwiLi9hc3NldHNMb2FkZXJcIjtcbmltcG9ydCB7TG9hZGluZ1BoYXNlfSBmcm9tIFwiLi9waGFzZS9sb2FkaW5nUGhhc2VcIjtcblxuZXhwb3J0IGNvbnN0IHdpbmRvd0V2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXJXcmFwcGVyKChldmVudCwgZW1pdHRlcikgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBkYXRhID0+IHtcbiAgICAgICAgZW1pdHRlci5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBNYWluXG5leHBvcnQgY29uc3Qgc3RhZ2UgPSBuZXcgU3RhZ2UoXCJtYWluXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gb25IYXNoQ2hhbmdlKCkge1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICBjb25zdCByb29tSWQgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSk7Ly8gUmVtb3ZlICNcbiAgICAgICAgaWYgKHJvb21JZC5zdGFydHNXaXRoKCd0JykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB3aXRoOiB0b3JyZW50XCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IENsaWVudEVkaXRNYXBQaGFzZShyb29tSWQuc3Vic3RyKDEpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgaGFzaFwiKVxuICAgICAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvbWVQaGFzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvbWVQaGFzZSgpKTtcbiAgICB9XG59XG5cbihhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIGRuZG1lOiBcIiArIF9fQ09NTUlUX0hBU0hfXyk7XG5cbiAgICBzdGFnZS5zZXRQaGFzZShuZXcgTG9hZGluZ1BoYXNlKCkpO1xuXG4gICAgYXdhaXQgbG9hZEFzc2V0cygpO1xuXG4gICAgb25IYXNoQ2hhbmdlKCk7XG5cbiAgICB3aW5kb3cub25oYXNoY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkhhc2ggY2hhbmdlXCIgKyBsb2NhdGlvbi5oYXNoKTtcbiAgICAgICAgb25IYXNoQ2hhbmdlKCk7XG4gICAgfVxufSkoKTtcbiIsImltcG9ydCB7TWFwTGV2ZWx9IGZyb20gXCIuL21hcExldmVsXCI7XG5cbmltcG9ydCB7ZGVjb2RlLCBlbmNvZGV9IGZyb20gXCJAbXNncGFjay9tc2dwYWNrXCI7XG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwIHtcbiAgICBzdGF0aWMgU0VSX1ZFUlNJT04gPSAnMS4wJztcblxuICAgIGxldmVscyA9IG5ldyBNYXA8bnVtYmVyLCBNYXBMZXZlbD4oKTtcblxuXG4gICAgcHJpdmF0ZSBjcmVhdGVEYXRhSnNvbigpOiBVaW50OEFycmF5IHtcbiAgICAgICAgbGV0IGxldmVsczogeyBbaWQ6IHN0cmluZ106IGFueSB9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgW2lkLCBsZXZlbF0gb2YgdGhpcy5sZXZlbHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBsZXZlbHNbaWRdID0gbGV2ZWwuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IEdhbWVNYXAuU0VSX1ZFUlNJT04sXG4gICAgICAgICAgICBsZXZlbHM6IGxldmVscyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGVuY29kZShkYXRhKTtcbiAgICB9XG5cbiAgICBzYXZlVG9GaWxlKCk6IFByb21pc2U8QmxvYj4ge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlRGF0YUpzb24oKTtcbiAgICAgICAgbGV0IHppcCA9IG5ldyBKU1ppcCgpO1xuICAgICAgICB6aXAuZmlsZShcImRhdGEubXNncGFja1wiLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHppcC5nZW5lcmF0ZUFzeW5jKHtcbiAgICAgICAgICAgIHR5cGU6IFwiYmxvYlwiLFxuICAgICAgICAgICAgY29tcHJlc3Npb246ICdERUZMQVRFJyxcbiAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGJyb3dzZXIgZnJvbSByZW5hbWluZyB0aGUgZXh0ZW5zaW9uXG4gICAgICAgICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGxvYWRGcm9tRmlsZShmcm9tOiBGaWxlKTogUHJvbWlzZTxHYW1lTWFwPiB7XG4gICAgICAgIGxldCB6aXAgPSBhd2FpdCBKU1ppcC5sb2FkQXN5bmMoZnJvbSk7XG4gICAgICAgIC8vIFRPRE86IGJldHRlciBlcnJvciBtYW5hZ2VtZW50XG4gICAgICAgIGxldCBmaWxlID0gYXdhaXQgemlwLmZpbGUoXCJkYXRhLm1zZ3BhY2tcIikhLmFzeW5jKCdhcnJheWJ1ZmZlcicpO1xuICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IGRlY29kZShmaWxlKSBhcyBhbnk7XG5cbiAgICAgICAgaWYgKGRhdGFbJ3ZlcnNpb24nXSAhPT0gdGhpcy5TRVJfVkVSU0lPTikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWZXJzaW9uIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBnYW1lTWFwID0gbmV3IEdhbWVNYXAoKTtcblxuICAgICAgICBsZXQgbGV2ZWxzRGF0YSA9IGRhdGFbXCJsZXZlbHNcIl07XG4gICAgICAgIGZvciAobGV0IGlkIGluIGxldmVsc0RhdGEpIHtcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IGxldmVsc0RhdGFbaWRdO1xuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IE1hcExldmVsLmRlc2VyaWFsaXplKHBhcnNlSW50KGlkKSwgbGV2ZWwpO1xuICAgICAgICAgICAgZ2FtZU1hcC5sZXZlbHMuc2V0KHJlcy5pZCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZU1hcDtcbiAgICB9XG59IiwiaW1wb3J0IHtTZXJpYWxpemVkV29ybGQsIFdvcmxkfSBmcm9tIFwiLi4vZWNzL3dvcmxkXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXBMZXZlbCB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGVjcz86IFNlcmlhbGl6ZWRXb3JsZDtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cblxuICAgIGxvYWRJbnRvKGVjczogV29ybGQpOiB2b2lkIHtcbiAgICAgICAgZWNzLmNsZWFyKCk7XG4gICAgICAgIGlmICh0aGlzLmVjcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlY3MuZGVzZXJpYWxpemUodGhpcy5lY3MsIHt9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNhdmVGcm9tKGVjczogV29ybGQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lY3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZWNzID0gZWNzLnNlcmlhbGl6ZSh7XG4gICAgICAgICAgICByZXF1aXJlU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlc291cmNlczogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBlY3M6IHRoaXMuZWNzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoaWQ6IG51bWJlciwgZGF0YTogYW55KTogTWFwTGV2ZWwge1xuICAgICAgICBsZXQgcmVzID0gbmV3IE1hcExldmVsKGlkKTtcbiAgICAgICAgcmVzLm5hbWUgPSBkYXRhWyduYW1lJ107XG4gICAgICAgIHJlcy5lY3MgPSBkYXRhWydlY3MnXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59IiwiaW1wb3J0IFNpbXBsZVBlZXIgZnJvbSBcInNpbXBsZS1wZWVyXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tIFwiLi4vLi4vdXRpbC9zYWZlRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBXVERpc2NvdmVyeSB9IGZyb20gXCIuL1dURGlzY292ZXJ5XCI7XG5pbXBvcnQgeyBlbmNvZGUsIGRlY29kZSB9IGZyb20gXCJAbXNncGFjay9tc2dwYWNrXCI7XG5pbXBvcnQgeyBiYXNlNjRVcmxUb0J1ZmZlciwgYnVmZmVyVG9CYXNlNjRVcmwsIHJhbmRvbWJ5dGVzIH0gZnJvbSBcIi4uLy4uL3V0aWwvanNvYmpcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcblxuZGVjbGFyZSBtb2R1bGUgJ3NpbXBsZS1wZWVyJyB7XG4gICAgaW50ZXJmYWNlIEluc3RhbmNlIHtcbiAgICAgICAgX3BjOiBSVENQZWVyQ29ubmVjdGlvbiB8IG51bGw7XG4gICAgICAgIF9jaGFubmVsOiBSVENEYXRhQ2hhbm5lbCB8IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlYWRlciBzdHJ1Y3R1cmU6XG4gKiBmbGFnczogMSBieXRlXG4gKiBmcm9tOiA0IGJ5dGVzXG4gKiB0bzogNCBieXRlcyAoLTEgPSBicm9hZGNhc3QpXG4gKiBwYXJ0aWFsX3NpemU6IDQgYnl0ZXMgKG9ubHkgaWYgZmxhZ3MgY29udGFpbnMgUEFSVElBTClcbiAqXG4gKi9cbmVudW0gQ2h1bmtGbGFncyB7XG4gICAgUEFSVElBTCAgICAgPSAxIDw8IDAsXG59XG5jb25zdCBNSU5fSEVBREVSX0xFTkdUSCA9IDEgKyA0ICsgNDtcbmNvbnN0IFJFQ0VJVkVSX0JST0FEQ0FTVCA9IDB4RkZGRl9GRkZGO1xuXG5jb25zdCBFTkRJQU5FU1MgPSB0cnVlO1xuXG5pbnRlcmZhY2UgUGVlckRhdGEge1xuICAgIHBlZXJJZDogc3RyaW5nO1xuICAgIGlkOiBudW1iZXI7XG4gICAgc29ja2V0OiBTaW1wbGVQZWVyLkluc3RhbmNlO1xuICAgIGFmdGVyU2VuZEJvdW5kZWQ6IChlOiBFcnJvciB8IHVuZGVmaW5lZCB8IG51bGwpID0+IHZvaWQsXG4gICAgc2VuZGluZzogYm9vbGVhbjtcbiAgICBwYWNrZXRzOiBVaW50OEFycmF5W107XG4gICAgcGFydGlhbD86IHtcbiAgICAgICAgaW5kZXg6IG51bWJlcjtcbiAgICAgICAgc2l6ZTogbnVtYmVyO1xuICAgICAgICBpbmZvOiBQYWNrZXRJbmZvO1xuICAgICAgICAvLyBUaGF0J3MgYW4gWE9SIGJldHdlZW4gYnVmZmVyIGFuZCBmb3J3YXJkVG8sXG4gICAgICAgIC8vIGJ1dCB0eXBlc2NyaXB0IHdvbid0IGxldCBtZSB3cml0ZSB0aGlzIGluIGFuXG4gICAgICAgIC8vIGFsZ2VicmFpYyB0eXBlLlxuICAgICAgICBidWZmZXI/OiBVaW50OEFycmF5LFxuICAgICAgICBmb3J3YXJkVG8/OiBudW1iZXIsXG4gICAgfSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWNrZXRJbmZvIHtcbiAgICBpc0Jyb2FkY2FzdDogYm9vbGVhbjtcbiAgICBzZW5kZXJJZDogbnVtYmVyO1xufVxuXG4vKipcbiAqIFdlYlJUQyBkYXRhIGNoYW5uZWwgbGltaXQgYmV5b25kIHdoaWNoIGRhdGEgaXMgc3BsaXQgaW50byBjaHVua3NcbiAqIENob3NlIDE2S0IgY29uc2lkZXJpbmcgQ2hyb21pdW1cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJSVENfQVBJL1VzaW5nX2RhdGFfY2hhbm5lbHMjQ29uY2VybnNfd2l0aF9sYXJnZV9tZXNzYWdlc1xuICovXG5jb25zdCBNQVhfTUVTU0FHRV9MRU5HVEggPSAxNjMwMDtcblxuZXhwb3J0IGNsYXNzIFdUQ2hhbm5lbCB7XG4gICAgcmVhZG9ubHkgZGlzY292ZXJ5OiBXVERpc2NvdmVyeTtcbiAgICByZWFkb25seSBldmVudHM6IFNhZmVFdmVudEVtaXR0ZXIgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuICAgIHJlYWRvbmx5IHBhY2tldHM6IFNhZmVFdmVudEVtaXR0ZXIgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuICAgIGNvbm5lY3RlZFNlY3JldDogQnVmZmVyO1xuXG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwPG51bWJlciwgUGVlckRhdGE+KCk7XG4gICAgcHJpdmF0ZSBuZXh0SWQ6IG51bWJlciA9IC0xO1xuICAgIG15SWQ6IG51bWJlciA9IC0xO1xuICAgIHByaXZhdGUgcGVlcnMgPSBuZXcgTWFwPHN0cmluZywgUGVlckRhdGE+KCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRTZWNyZXQgPSBCdWZmZXIuZnJvbShbXSk7XG4gICAgICAgIHRoaXMuZGlzY292ZXJ5ID0gbmV3IFdURGlzY292ZXJ5KCk7XG4gICAgICAgIHRoaXMuZGlzY292ZXJ5Lm9uUGVlckNhbGxiYWNrID0gdGhpcy5vblBlZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kaXNjb3Zlcnkub25UcmFja2VyQ29ubmVjdGlvbkNvdW50RWRpdCA9IChjOiBudW1iZXIpID0+IHRoaXMuZXZlbnRzLmVtaXQoJ3RyYWNrZXJfY29ubmVjdGlvbnMnLCBjKTtcbiAgICB9XG5cbiAgICBzdGFydE1hc3RlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRTZWNyZXQgPSByYW5kb21ieXRlcygyMCk7XG4gICAgICAgIHRoaXMuZGlzY292ZXJ5LnN0YXJ0KHRydWUsIHRoaXMuY29ubmVjdGVkU2VjcmV0LnRvU3RyaW5nKCdoZXgnKSk7XG4gICAgICAgIHRoaXMubXlJZCA9IDA7XG4gICAgICAgIHRoaXMubmV4dElkID0gMTtcbiAgICB9XG5cbiAgICBzdGFydENsaWVudChjb25uZWN0VG86IEJ1ZmZlciB8IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIGNvbm5lY3RUbyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29ubmVjdFRvID0gYmFzZTY0VXJsVG9CdWZmZXIoY29ubmVjdFRvKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RlZFNlY3JldCA9IGNvbm5lY3RUbztcbiAgICAgICAgdGhpcy5kaXNjb3Zlcnkuc3RhcnQoZmFsc2UsIGNvbm5lY3RUby50b1N0cmluZygnaGV4JykpO1xuICAgIH1cblxuICAgIGdldENvbm5lY3RTZWNyZXQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlclRvQmFzZTY0VXJsKHRoaXMuY29ubmVjdGVkU2VjcmV0KTtcbiAgICB9XG5cbiAgICBzZW5kKGRhdGE6IG9iamVjdCwgdG86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCByZWNlaXZlciA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KHRvKTtcbiAgICAgICAgaWYgKHJlY2VpdmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHJlY2l2ZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZShkYXRhKTtcbiAgICAgICAgdGhpcy5zZW5kUmF3KGVuY29kZWQsIHJlY2VpdmVyKTtcbiAgICB9XG5cbiAgICBicm9hZGNhc3QoZGF0YTogb2JqZWN0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VuZFJhdyhlbmNvZGUoZGF0YSkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzY292ZXJ5LnN0b3AoKTtcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBlZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBwLnNvY2tldC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmRSYXcoZGF0YTogVWludDhBcnJheSwgb25seVRvPzogUGVlckRhdGEpOiB2b2lkIHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSB0byB3b3JyeSBoZXJlIGFib3V0IGZvcndhcmRlZCBwYWNrZXRzXG4gICAgICAgIC8vIHRoZXkgYXJlIGhhbmRsZWQgb24gdGhlIHJlY2VpdmluZyBlbmQuXG4gICAgICAgIGlmIChkYXRhLmJ5dGVMZW5ndGggPD0gTUFYX01FU1NBR0VfTEVOR1RIIC0gTUlOX0hFQURFUl9MRU5HVEgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IG5ldyBVaW50OEFycmF5KGRhdGEuYnl0ZUxlbmd0aCArIE1JTl9IRUFERVJfTEVOR1RIKTtcbiAgICAgICAgICAgIHBhY2tldC5zZXQoZGF0YSwgTUlOX0hFQURFUl9MRU5HVEgpO1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KHBhY2tldC5idWZmZXIpO1xuICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoMSwgdGhpcy5teUlkLCBFTkRJQU5FU1MpO1xuXG4gICAgICAgICAgICB0aGlzLnNlbmRQYWNrZXRSYXcocGFja2V0LCBvbmx5VG8pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFlhYXksIGxldCdzIHNwbGl0IHRoaW5ncyFcbiAgICAgICAgY29uc3QgcGFja2V0ID0gbmV3IFVpbnQ4QXJyYXkoTUFYX01FU1NBR0VfTEVOR1RIKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhwYWNrZXQuYnVmZmVyKTtcbiAgICAgICAgcGFja2V0WzBdID0gQ2h1bmtGbGFncy5QQVJUSUFMO1xuICAgICAgICB2aWV3LnNldFVpbnQzMigxLCB0aGlzLm15SWQsIEVORElBTkVTUyk7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKE1JTl9IRUFERVJfTEVOR1RILCBkYXRhLmxlbmd0aCwgRU5ESUFORVNTKVxuXG4gICAgICAgIGxldCBzZW50ID0gTUFYX01FU1NBR0VfTEVOR1RIIC0gTUlOX0hFQURFUl9MRU5HVEggLSA0O1xuICAgICAgICBwYWNrZXQuc2V0KGRhdGEuc3ViYXJyYXkoMCwgc2VudCksIE1JTl9IRUFERVJfTEVOR1RIICsgNCk7XG4gICAgICAgIHRoaXMuc2VuZFBhY2tldFJhdyhwYWNrZXQsIG9ubHlUbywgdHJ1ZSk7XG5cbiAgICAgICAgd2hpbGUgKHNlbnQgPCBkYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmFyciA9IGRhdGEuc3ViYXJyYXkoc2VudCwgc2VudCArIE1BWF9NRVNTQUdFX0xFTkdUSCk7XG4gICAgICAgICAgICBzZW50ICs9IHN1YmFyci5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0UmF3KHN1YmFyciwgb25seVRvLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmRQYWNrZXRSYXcocGFja2V0OiBVaW50OEFycmF5LCBvbmx5VG8/OiBQZWVyRGF0YSwgYWRqdXN0RmxhZ3M6IGJvb2xlYW4gPSB0cnVlLCBicm9hZGNhc3RFeGNsZGU/OiBQZWVyRGF0YSk6IHZvaWQge1xuICAgICAgICBjb25zdCBzZW5kUmF3ID0gKHg6IFBlZXJEYXRhKTogdm9pZCA9PiB7XG4gICAgICAgICAgICBpZiAoeC5zZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgeC5wYWNrZXRzLnB1c2gocGFja2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeC5zZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB4LnNvY2tldC53cml0ZShwYWNrZXQsIHVuZGVmaW5lZCwgeC5hZnRlclNlbmRCb3VuZGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgZGF0YVZpZXcgPSBhZGp1c3RGbGFncyA/IG5ldyBEYXRhVmlldyhwYWNrZXQuYnVmZmVyLCBwYWNrZXQuYnl0ZU9mZnNldCkgOiBudWxsO1xuXG4gICAgICAgIGlmIChvbmx5VG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YVZpZXc/LnNldFVpbnQzMigxICsgNCwgUkVDRUlWRVJfQlJPQURDQVNULCBFTkRJQU5FU1MpO1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiB0aGlzLnBlZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGJyb2FkY2FzdEV4Y2xkZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgc2VuZFJhdyh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGFWaWV3Py5zZXRVaW50MzIoMSArIDQsIG9ubHlUby5pZCwgRU5ESUFORVNTKTtcblxuICAgICAgICAgICAgc2VuZFJhdyhvbmx5VG8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZnRlckRhdGFTZW5kKHBlZXI6IFBlZXJEYXRhLCBlOiBFcnJvciB8IG51bGwgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbmV4dERhdGEgPSBwZWVyLnBhY2tldHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKG5leHREYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBlZXIuc2VuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBlZXIuc29ja2V0LndyaXRlKG5leHREYXRhLCB1bmRlZmluZWQsIHBlZXIuYWZ0ZXJTZW5kQm91bmRlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBlZXIocGVlcjogU2ltcGxlUGVlci5JbnN0YW5jZSwgcGVlcklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHBlZXJJZCxcbiAgICAgICAgICAgIGlkOiB0aGlzLmRpc2NvdmVyeS5pc01hc3RlciA/IHRoaXMubmV4dElkKysgOiAwLFxuICAgICAgICAgICAgc29ja2V0OiBwZWVyLFxuICAgICAgICAgICAgcGFja2V0czogW10sXG4gICAgICAgICAgICBzZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGFmdGVyU2VuZEJvdW5kZWQ6IF8gPT4ge30sXG4gICAgICAgIH0gYXMgUGVlckRhdGE7XG4gICAgICAgIGRhdGEuYWZ0ZXJTZW5kQm91bmRlZCA9IGUgPT4gdGhpcy5hZnRlckRhdGFTZW5kKGRhdGEsIGUpO1xuICAgICAgICB0aGlzLnBlZXJzLnNldChwZWVySWQsIGRhdGEpO1xuXG4gICAgICAgIHBlZXIub25jZSgnY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2NvdmVyeS5pc01hc3Rlcikge1xuICAgICAgICAgICAgICAgIHBlZXIuc2VuZCgnJyArIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgIHBvc3RCb290c3RyYXAoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb3ZlcnkucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBwb3N0Qm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5zZXQoZGF0YS5pZCwgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdkZXZpY2Vfam9pbicsIGRhdGEuaWQpO1xuXG4gICAgICAgICAgICBwZWVyLm9uKCdkYXRhJywgKGNodW5rOiBVaW50OEFycmF5KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBlZXJEYXRhKGRhdGEsIGNodW5rKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmRpc2NvdmVyeS5pc01hc3Rlcikge1xuICAgICAgICAgICAgcGVlci5vbmNlKCdkYXRhJywgKGNodW5rOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm15SWQgPSBwYXJzZUludChjaHVuayk7XG4gICAgICAgICAgICAgICAgcG9zdEJvb3RzdHJhcCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcGVlci5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oXCJQZWVyIGNsb3NlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKGRhdGEuaWQpO1xuICAgICAgICAgICAgdGhpcy5wZWVycy5kZWxldGUocGVlcklkKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2RldmljZV9sZWZ0JywgZGF0YS5pZCk7XG4gICAgICAgICAgICAvLyBSZS1saXN0ZW4gZm9yIG1hc3RlclxuICAgICAgICAgICAgdGhpcy5kaXNjb3ZlcnkucmVzdW1lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBlZXIub24oJ2Vycm9yJywgKGU6IEVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGVlciBlcnJvclwiLCBlKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUGVlckRhdGEocGVlcjogUGVlckRhdGEsIGNodW5rOiBVaW50OEFycmF5KTogdm9pZCB7XG4gICAgICAgIGlmIChwZWVyLnBhcnRpYWwpIHtcbiAgICAgICAgICAgIHRoaXMub25QYXJ0aWFsRGF0YShwZWVyLCBjaHVuayk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmbGFncyA9IGNodW5rWzBdO1xuICAgICAgICBjb25zdCBoZWFkZXJWaWV3ID0gbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlciwgY2h1bmsuYnl0ZU9mZnNldCk7XG4gICAgICAgIGNvbnN0IHNlbmRlciAgID0gaGVhZGVyVmlldy5nZXRVaW50MzIoMSAgICAsIEVORElBTkVTUyk7XG4gICAgICAgIGNvbnN0IHJlY2VpdmVyID0gaGVhZGVyVmlldy5nZXRVaW50MzIoMSArIDQsIEVORElBTkVTUyk7XG4gICAgICAgIGxldCBoZWFkZXIgPSBNSU5fSEVBREVSX0xFTkdUSDtcblxuICAgICAgICBsZXQgcGt0SW5mbyA9IHtcbiAgICAgICAgICAgIGlzQnJvYWRjYXN0OiByZWNlaXZlciA9PT0gUkVDRUlWRVJfQlJPQURDQVNULFxuICAgICAgICAgICAgc2VuZGVySWQ6IHNlbmRlcixcbiAgICAgICAgfSBhcyBQYWNrZXRJbmZvO1xuXG4gICAgICAgIGNvbnN0IG5lZWRzRm9yd2FyZCA9IHJlY2VpdmVyICE9PSB0aGlzLm15SWQgJiYgIXBrdEluZm8uaXNCcm9hZGNhc3Q7XG5cbiAgICAgICAgaWYgKGZsYWdzICYgQ2h1bmtGbGFncy5QQVJUSUFMKSB7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGhlYWRlclZpZXcuZ2V0VWludDMyKGhlYWRlciwgRU5ESUFORVNTKTtcbiAgICAgICAgICAgIHBlZXIucGFydGlhbCA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICBidWZmZXI6ICFuZWVkc0ZvcndhcmQgPyBuZXcgVWludDhBcnJheShzaXplKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBpbmZvOiBwa3RJbmZvLFxuICAgICAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaGVhZGVyICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVlZHNGb3J3YXJkKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzY292ZXJ5LmlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQXNrZXQgYSBub24tbWFzdGVyIHRvIGZvcndhcmRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVjdiA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KHJlY2VpdmVyKTtcbiAgICAgICAgICAgIGlmIChyZWN2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBc2tlZCB0byBmb3J3YXJkIHRvIHVua25vd24gcGVlclwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGVlci5wYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgcGVlci5wYXJ0aWFsLmZvcndhcmRUbyA9IHJlY2VpdmVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRQYWNrZXRSYXcoY2h1bmssIHJlY3YsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRpc2NvdmVyeS5pc01hc3RlciAmJiBwa3RJbmZvLmlzQnJvYWRjYXN0KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRQYWNrZXRSYXcoY2h1bmssIHVuZGVmaW5lZCwgZmFsc2UsIHBlZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBlZXIucGFydGlhbCkge1xuICAgICAgICAgICAgdGhpcy5vblBhcnRpYWxEYXRhKHBlZXIsIGNodW5rLnN1YmFycmF5KGhlYWRlcikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbk1lc3NhZ2UoY2h1bmsuc3ViYXJyYXkoaGVhZGVyKSwgcGt0SW5mbyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBhcnRpYWxEYXRhKHBlZXI6IFBlZXJEYXRhLCBjaHVuazogVWludDhBcnJheSk6IHZvaWQge1xuICAgICAgICBpZiAoIXBlZXIucGFydGlhbCkgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBzdGF0ZTogbm9yIHBhcnRpYWwnKTtcblxuICAgICAgICBsZXQgb2xkSW5kZXggPSBwZWVyLnBhcnRpYWwuaW5kZXg7XG4gICAgICAgIHBlZXIucGFydGlhbC5pbmRleCArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGlzRG9uZSA9IHBlZXIucGFydGlhbC5zaXplIDw9IHBlZXIucGFydGlhbC5pbmRleDtcblxuICAgICAgICBpZiAocGVlci5wYXJ0aWFsLmJ1ZmZlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZWVyLnBhcnRpYWwuYnVmZmVyLnNldChjaHVuaywgb2xkSW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KHBlZXIucGFydGlhbC5mb3J3YXJkVG8hISk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuc2VuZFBhY2tldFJhdyhjaHVuaywgdGFyZ2V0LCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICBpZiAocGVlci5wYXJ0aWFsLnNpemUgPCBwZWVyLnBhcnRpYWwuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQYXJ0aWFsIGlzIGxvbmdlciB0aGFuIGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwYXJ0aWFsID0gcGVlci5wYXJ0aWFsO1xuICAgICAgICAgICAgcGVlci5wYXJ0aWFsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHBhcnRpYWwuYnVmZmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTWVzc2FnZShwYXJ0aWFsLmJ1ZmZlciwgcGFydGlhbC5pbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25NZXNzYWdlKGJ1ZmZlcjogVWludDhBcnJheSwgaW5mbzogUGFja2V0SW5mbykge1xuICAgICAgICBsZXQgb2JqO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2JqID0gZGVjb2RlKGJ1ZmZlcikgYXMgYW55O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVjZWl2ZWQgd3JvbmcgZGF0YVwiLCBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ21lc3NhZ2UnLCBvYmosIGluZm8pO1xuICAgICAgICBjb25zdCBwYWNrZXRUeXBlID0gb2JqLnR5cGU7XG4gICAgICAgIGlmIChwYWNrZXRUeXBlICYmIHR5cGVvZiBwYWNrZXRUeXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXRzLmVtaXQocGFja2V0VHlwZSwgb2JqLCBpbmZvKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgU2ltcGxlUGVlciBmcm9tIFwic2ltcGxlLXBlZXJcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmltcG9ydCB7IHJhbmRvbWJ5dGVzIH0gZnJvbSBcIi4uLy4uL3V0aWwvanNvYmpcIjtcbmltcG9ydCB7T2ZmZXJGaWx0ZXJEYXRhLCBUcmFja2VyQ29uZmlnLCBXZWJUb3JyZW50VHJhY2tlcn0gZnJvbSBcIi4vV2ViVG9ycmVudFRyYWNrZXJcIjtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL25nb3NhbmcvdHJhY2tlcnNsaXN0L2Jsb2IvbWFzdGVyL3RyYWNrZXJzX2FsbF93cy50eHRcbmNvbnN0IFRSQUNLRVJTID0gW1xuICAgIC8vJ3dzOi8vbG9jYWxob3N0OjgwMDAnLFxuICAgICd3c3M6Ly90cmFja2VyLm9wZW53ZWJ0b3JyZW50LmNvbScsXG4gICAgJ3dzczovL3RyYWNrZXIuYnRvcnJlbnQueHl6Jyxcbl1cblxuY29uc3QgV0FJVElOR19GT1JfSU5JVCA9IHt9O1xuXG5leHBvcnQgaW50ZXJmYWNlIE9mZmVyRGF0YSB7XG4gICAgbWFzdGVyPzogdHJ1ZSxcbn1cblxuZXhwb3J0IGNsYXNzIFdURGlzY292ZXJ5IHtcbiAgICBwcml2YXRlIHRyYWNrZXJDb25maWc6IFRyYWNrZXJDb25maWc7XG4gICAgcmVhZG9ubHkgcGVlcklkOiBzdHJpbmc7XG4gICAgcGVlcnMgPSBuZXcgTWFwPHN0cmluZywgU2ltcGxlUGVlci5JbnN0YW5jZSB8IHR5cGVvZiBXQUlUSU5HX0ZPUl9JTklUPigpO1xuICAgIGNvbm5lY3RlZFRyYWNrZXJzOiBudW1iZXI7XG4gICAgb25QZWVyQ2FsbGJhY2s6IChwZWVyOiBTaW1wbGVQZWVyLkluc3RhbmNlLCBwZWVySWQ6IHN0cmluZykgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIG9uVHJhY2tlckNvbm5lY3Rpb25Db3VudEVkaXQ6IChjb3VudDogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgICBpc01hc3RlcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzUGF1c2VkID0gdHJ1ZTtcbiAgICB0cmFja2Vyczoge1t0cmFja2VyVXJsOiBzdHJpbmddOiBXZWJUb3JyZW50VHJhY2tlcn0gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBsZXQgcGVlcklkID0gcmFuZG9tYnl0ZXMoMjApO1xuICAgICAgICB0aGlzLnRyYWNrZXJDb25maWcgPSB7XG4gICAgICAgICAgICBwZWVySWRCaW5hcnk6IHBlZXJJZC50b1N0cmluZygnYmluYXJ5JyksXG4gICAgICAgICAgICBpbmZvSGFzaEJpbmFyeTogJycsXG4gICAgICAgICAgICBkZWZBbm5vdW5jZU9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgcGVlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBjaGFubmVsQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZlckRhdGE6IHt9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBlZXJJZCA9IHBlZXJJZC50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkVHJhY2tlcnMgPSAwO1xuICAgIH1cblxuICAgIGFzeW5jIHNldEluZm9IYXNoKHN0cjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpO1xuICAgICAgICBjb25zdCBkaWdlc3QgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTEnLCBidWZmZXIpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgZGlnZXN0IHRvIGhleCBzdHJpbmdcbiAgICAgICAgdGhpcy50cmFja2VyQ29uZmlnLmluZm9IYXNoQmluYXJ5ID0gQnVmZmVyLmZyb20oZGlnZXN0KS50b1N0cmluZygnYmluYXJ5Jyk7XG4gICAgfVxuXG4gICAgYWRkVHJhY2tlcih0cmFja2VyVXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRyYWNrZXJVcmwgaW4gdGhpcy50cmFja2Vycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWNrZXIgPSBuZXcgV2ViVG9ycmVudFRyYWNrZXIodHJhY2tlclVybCwgdGhpcy50cmFja2VyQ29uZmlnKTtcbiAgICAgICAgdGhpcy50cmFja2Vyc1t0cmFja2VyVXJsXSA9IHRyYWNrZXI7XG4gICAgICAgIHRyYWNrZXIuZXZlbnRzLm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyYWNrZXIgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCAnICsgdHJhY2tlclVybCk7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZFRyYWNrZXJzKys7XG4gICAgICAgICAgICB0aGlzLm9uVHJhY2tlckNvbm5lY3Rpb25Db3VudEVkaXQodGhpcy5jb25uZWN0ZWRUcmFja2Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFja2VyLmV2ZW50cy5vbignZGlzY29ubmVjdCcsIChldjogQ2xvc2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcmFja2VyIGNsb3NlZFwiLCBldik7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZFRyYWNrZXJzLS07XG4gICAgICAgICAgICB0aGlzLm9uVHJhY2tlckNvbm5lY3Rpb25Db3VudEVkaXQodGhpcy5jb25uZWN0ZWRUcmFja2Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFja2VyLmV2ZW50cy5vbignZXJyb3InLCB4ID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyYWNrZXIgZXJyb3InLCB4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNrZXIuZXZlbnRzLm9uKCdvZmZlcl9maWx0ZXInLCAoZTogT2ZmZXJGaWx0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoKCEhKGUub2ZmZXIgYXMgT2ZmZXJEYXRhKS5tYXN0ZXIpID09PSB0aGlzLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPZmZlciByZWplY3RlZCAobm9uLW1hc3Rlcik6IFwiICsgZS5vZmZlcik7XG4gICAgICAgICAgICAgICAgZS5jb250aW51ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBlZXJzLmhhcyhlLnBlZXJJZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGhhdmUgb25lXG4gICAgICAgICAgICAgICAgZS5jb250aW51ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT2ZmZXIgcmVqZWN0ZWQgKGFscmVhZHkgcHJlc2VudCk6IFwiICsgZS5vZmZlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZWVycy5zZXQoZS5wZWVySWQsIFdBSVRJTkdfRk9SX0lOSVQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2tlci5ldmVudHMub24oJ29mZmVyX3RpbWVvdXQnLCAocGVlcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgcGFzc2VkIG9mZmVyX2ZpbHRlciwgcmVjZWl2ZWQgYW4gYW5zd2VyIGJ1dCBkaWRuJ3QgcmVwbHkgYmFja1xuICAgICAgICAgICAgdGhpcy5wZWVycy5kZWxldGUocGVlcklkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNrZXIuZXZlbnRzLm9uKCdwZWVyJywgKHBlZXI6IFNpbXBsZVBlZXIuSW5zdGFuY2UsIHBlZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvbGRQZWVyRGF0YSA9IHRoaXMucGVlcnMuZ2V0KHBlZXJJZCk7XG4gICAgICAgICAgICBpZiAob2xkUGVlckRhdGEgIT09IHVuZGVmaW5lZCAmJiBvbGRQZWVyRGF0YSAhPT0gV0FJVElOR19GT1JfSU5JVCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJPcGVuZWQgYW5vdGhlciBzb2NrZXQgZm9yIGFuIGFscmVhZHkgY29ubmVjdGVkIHBlZXJcIik7XG4gICAgICAgICAgICAgICAgcGVlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1BlZXIgY29ubmVjdGVkJywgcGVlcklkKTtcbiAgICAgICAgICAgIHRoaXMucGVlcnMuc2V0KHBlZXJJZCwgcGVlcik7XG4gICAgICAgICAgICBwZWVyLm9uY2UoJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTWFzdGVyIGNvbm5lY3RlZCwgcGF1c2luZy5cIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vblBlZXJDYWxsYmFjayhwZWVyLCBwZWVySWQpO1xuICAgICAgICAgICAgcGVlci5vbmNlKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJzLmRlbGV0ZShwZWVySWQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNrZXIuZXZlbnRzLm9uKCd3YXJuaW5nJywgeCA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3dhcm5pbmcnLCB4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcGF1c2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHRyYWNrZXJOYW1lIGluIHRoaXMudHJhY2tlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrZXIgPSB0aGlzLnRyYWNrZXJzW3RyYWNrZXJOYW1lXTtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2godHJhY2tlci5zdG9wKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN1bWVUcmFja2VyKHRyYWNrZXI6IFdlYlRvcnJlbnRUcmFja2VyKTogdm9pZCB7XG4gICAgICAgIHRyYWNrZXIuc3RhcnQoKTtcbiAgICAgICAgdHJhY2tlci5hbm5vdW5jZSh7XG4gICAgICAgICAgICBldmVudDogJ3N0YXJ0ZWQnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXN1bWUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1BhdXNlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgdHJhY2tlck5hbWUgaW4gdGhpcy50cmFja2Vycykge1xuICAgICAgICAgICAgY29uc3QgdHJhY2tlciA9IHRoaXMudHJhY2tlcnNbdHJhY2tlck5hbWVdO1xuICAgICAgICAgICAgdGhpcy5yZXN1bWVUcmFja2VyKHRyYWNrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQoaXNNYXN0ZXI6IGJvb2xlYW4sIGlkZW50aWZpZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmlzTWFzdGVyID0gaXNNYXN0ZXI7XG4gICAgICAgIHRoaXMudHJhY2tlckNvbmZpZy5kZWZBbm5vdW5jZU9wdGlvbnMubnVtd2FudCA9IGlzTWFzdGVyID8gMCA6IDEwO1xuICAgICAgICB0aGlzLnRyYWNrZXJDb25maWcub2ZmZXJEYXRhLm1hc3RlciA9IGlzTWFzdGVyO1xuICAgICAgICB0aGlzLnNldEluZm9IYXNoKGlkZW50aWZpZXIpO1xuICAgICAgICBmb3IgKGxldCB1cmwgb2YgVFJBQ0tFUlMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJhY2tlcih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RvcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLnRyYWNrZXJzID0ge307XG4gICAgfVxufSIsImltcG9ydCBTaW1wbGVQZWVyIGZyb20gJ3NpbXBsZS1wZWVyJztcbmltcG9ydCB7cmFuZG9tYnl0ZXN9IGZyb20gXCIuLi8uLi91dGlsL2pzb2JqXCI7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XG5pbXBvcnQgU2FmZUV2ZW50RW1pdHRlciBmcm9tICcuLi8uLi91dGlsL3NhZmVFdmVudEVtaXR0ZXInO1xuXG5pbnRlcmZhY2UgT2ZmZXIge1xuICAgIG9mZmVyOiBhbnk7XG4gICAgb2ZmZXJfaWQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEFubm91bmNlUmVzcG9uc2Uge1xuICAgIGluZm9faGFzaDogc3RyaW5nO1xuICAgIHBlZXJfaWQ/OiBzdHJpbmc7XG4gICAgJ2ZhaWx1cmUgcmVhc29uJz86IHN0cmluZztcbiAgICAnd2FybmluZyBtZXNzYWdlJz86IHN0cmluZztcbiAgICBpbnRlcnZhbD86IG51bWJlcjtcbiAgICAnbWluIGludGVydmFsJz86IG51bWJlcjtcbiAgICAndHJhY2tlciBpZCc/OiBzdHJpbmc7XG4gICAgY29tcGxldGU6IGFueTtcbiAgICBvZmZlcnM6IEFycmF5PE9mZmVyPjtcbiAgICBvZmZlcjogYW55O1xuICAgIG9mZmVyX2lkOiBzdHJpbmc7XG4gICAgdHJhY2tlcklkOiBhbnk7XG4gICAgYW5zd2VyOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2ZmZXJGaWx0ZXJEYXRhIHtcbiAgICBwZWVySWQ6IHN0cmluZztcbiAgICBvZmZlcjogYW55O1xuICAgIC8vIHNldCB0aGlzIHRvIGZhbHNlIHRvIGRlY2xpbmUgdGhlIG9mZmVyXG4gICAgY29udGludWU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVlckV2ZW50RGF0YSB7XG4gICAgcGVlcklkOiBzdHJpbmc7XG4gICAgcGVlcjogU2ltcGxlUGVlci5JbnN0YW5jZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbm5vdW5jZU9wdGlvbnMge1xuICAgIG51bXdhbnQ/OiBudW1iZXI7XG4gICAgZXZlbnQ/OiAnc3RhcnRlZCcgfCAnc3RvcHBlZCcgfCAnY29tcGxldGVkJyB8ICd1cGRhdGUnO1xufVxuXG5pbnRlcmZhY2UgQ29ubmVjdGluZ1BlZXIge1xuICAgIHBlZXI/OiBTaW1wbGVQZWVyLkluc3RhbmNlO1xuICAgIG9mZmVyVGltZW91dD86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VyQ29uZmlnIHtcbiAgICBwZWVyT3B0aW9uczogU2ltcGxlUGVlci5PcHRpb25zXG4gICAgcGVlcklkQmluYXJ5OiBzdHJpbmc7XG4gICAgaW5mb0hhc2hCaW5hcnk6IHN0cmluZztcbiAgICBkZWZBbm5vdW5jZU9wdGlvbnM6IEFubm91bmNlT3B0aW9ucztcbiAgICBvZmZlckRhdGE6IGFueTtcbn1cblxuY29uc3QgUkVDT05ORUNUX01JTklNVU0gPSA1ICogMTAwMDtcbmNvbnN0IFJFQ09OTkVDVF9NQVhJTVVNID0gNjAgKiAxMDAwO1xuY29uc3QgUkVDT05ORUNUX1ZBUklBTkNFID0gMTAgKiAxMDAwO1xuY29uc3QgT0ZGRVJfVElNRU9VVCA9IDMwICogMTAwMDtcblxuLypcbiAqIFByb3RvY29sOiAzLXdheSBoYW5kc2hha2VcbiAqIG9yaWdpbmFsbHkgdGhlcmUgd2FzIG9ubHkgYSAyLXdheSBoYW5kc2hha2U6XG4gKiBjbGllbnQgQSAtLS1vZmZlciAtLT4gY2xpZW50IEIgKG9mZmVyID0gV2ViUlRDIG9mZmVyKVxuICogY2xpZW50IEEgPC0tYW5zd2VyLS0tIGNsaWVudCBCIChhbnN3ZXIgPSBXZWJSVEMgYW5zd2VyKVxuICogY29ubmVjdGlvbiBlc3RhYmxpc2hlZFxuICpcbiAqIGJ1dCBhZnRlciB0aGUgb2ZmZXIgdGhlIGNsaWVudCBtaWdodCBub3QgY29udGludWUgdGhlIGFuc3dlcixcbiAqIG1heWJlIGJlY2F1c2UgaXQncyBhbHJlYWR5IGNvbm5lY3RlZCBvciBiZWNhdXNlIGl0J3Mgc2VhcmNoaW5nIHNvbWVvbmUgZWxzZS5cbiAqIFNvIHRoZSBXZWJSVEMgb2ZmZXIgd2lsbCBiZSB3YXN0ZWQgKGFuZCB0aGF0J3MgYSBiaXQgb2Ygd2FzdGUgaW4gcmVzb3VyY2UpLlxuICpcbiAqIFRvIG1pdGlnYXRlIHRoaXMgd2UnbGwgbWFrZSB0aGUgYWN0dWFsIG9mZmVyIG9ubHkgYWZ0ZXIgd2UncmUgc3VyZSB0aGF0IHRoZVxuICogY2xpZW50IHdpbGwgcmVjZWl2ZSBpdC5cbiAqIEEgLS0tb2ZmZXIgLS0+IEIgIChvZmZlciA9IGN1c3RvbSBkYXRhKVxuICogQSA8LS1hbnN3ZXItLS0gQiAgKGFuc3dlcj1XZWJSVEMgb2ZmZXIpXG4gKiBBIC0tLWFuc3dlci0tPiBCICAoYW5zd2VyPVdlYlJUQyByZXNwb25zZSlcbiAqXG4gKiBUaGUgc2VydmVyIGRvZXMgbm90IHN0b3JlIGFueSBkYXRhIHJlZ2FyZGluZyBvZmZlcnMvYW5zd2VycyBzbyB0aGlzIGlzIGNvbXBhdGlibGUuXG4gKiBBYm91dCB0aGUgY3Jvc3MtY2xpZW50IGNvbXBhdGliaWxpdHk6IHdlIGRvbid0IGhhdmUgd29yayB3aXRoIHJlYWwgd2VidG9ycmVudCBjbGllbnRzLlxuICpcbiAqL1xuXG5leHBvcnQgY2xhc3MgV2ViVG9ycmVudFRyYWNrZXIge1xuICAgIHJlYWRvbmx5IGNvbmZpZzogVHJhY2tlckNvbmZpZztcbiAgICBldmVudHM6IFNhZmVFdmVudEVtaXR0ZXI7XG4gICAgaXNDb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGFubm91bmNlVXJsOiBzdHJpbmc7XG4gICAgc29ja2V0PzogV2ViU29ja2V0O1xuICAgIGRlc3Ryb3llZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgZXhwZWN0aW5nUmVzcG9uc2U6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgcHJpdmF0ZSByZWNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICBwcml2YXRlIHJlY29ubmVjdFRpbWVyOiBhbnkgPSBudWxsO1xuXG4gICAgdHJhY2tlcklkOiBhbnk7XG4gICAgcHJpdmF0ZSBpbnRlcnZhbDogYW55O1xuICAgIHByaXZhdGUgY29ubmVjdGluZ1BlZXJzOiB7W2lkOiBzdHJpbmddOiBDb25uZWN0aW5nUGVlcn07XG5cbiAgICBjb25zdHJ1Y3Rvcihhbm5vdW5jZVVybDogc3RyaW5nLCBjb25maWc6IFRyYWNrZXJDb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VVcmwgPSBhbm5vdW5jZVVybDtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nUGVlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuICAgIH1cblxuICAgIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zb2NrZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBzdGFydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3BlblNvY2tldCgpO1xuICAgIH1cblxuICAgIHNldEludGVydmFsKGludGVydmFsTXM6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgICAgICBpZiAoaW50ZXJ2YWxNcyA9PSBudWxsKSBpbnRlcnZhbE1zID0gMzAgKiAxMDAwIC8vIDMwIHNlY29uZHNcblxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICAgICAgaWYgKGludGVydmFsTXMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbm5vdW5jZSgpXG4gICAgICAgICAgICB9LCBpbnRlcnZhbE1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHN0b3AoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuYW5ub3VuY2UoeyBldmVudDogJ3N0b3BwZWQnIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHJldHVybiByZXNvbHZlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Rpc2Nvbm5lY3QnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBlZXJJZCBpbiB0aGlzLmNvbm5lY3RpbmdQZWVycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlZXIgPSB0aGlzLmNvbm5lY3RpbmdQZWVyc1twZWVySWRdO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChwZWVyLm9mZmVyVGltZW91dCk7XG4gICAgICAgICAgICAgICAgcGVlci5wZWVyPy5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RpbmdQZWVycyA9IHt9XG5cbiAgICAgICAgICAgIGxldCBzb2NrZXQgPSB0aGlzLnNvY2tldDtcbiAgICAgICAgICAgIGlmICghc29ja2V0KSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgc29ja2V0Lm9ub3BlbiA9IG5vb3A7XG4gICAgICAgICAgICBzb2NrZXQub25tZXNzYWdlID0gbm9vcDtcbiAgICAgICAgICAgIHNvY2tldC5vbmNsb3NlID0gbm9vcDtcbiAgICAgICAgICAgIHNvY2tldC5vbmVycm9yID0gbm9vcDtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBpZiAoc29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQgfHwgc29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TSU5HKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc29ja2V0Lm9uY2xvc2UgPSAoKSA9PiByZXNvbHZlKCk7XG5cbiAgICAgICAgICAgIGxldCB0aW1lb3V0OiBhbnk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGRhdGEgcmVzcG9uc2UgZXhwZWN0ZWQsIGRlc3Ryb3kgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhwZWN0aW5nUmVzcG9uc2UpIHJldHVybiBkZXN0cm95Q2xlYW51cCgpO1xuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdhaXQgYSBzaG9ydCB0aW1lIGZvciBwb3RlbnRpYWwgcmVzcG9uc2VzIHRvIGNvbWUgaW4gZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIHNlcnZlciwgdGhlbiBmb3JjZSBjbG9zZSB0aGUgc29ja2V0LlxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZGVzdHJveUNsZWFudXAsIDEwMDApO1xuXG4gICAgICAgICAgICAvLyBCdXQsIGlmIGEgcmVzcG9uc2UgY29tZXMgZnJvbSB0aGUgc2VydmVyIGJlZm9yZSB0aGUgdGltZW91dCBmaXJlcywgZG8gY2xlYW51cFxuICAgICAgICAgICAgLy8gcmlnaHQgYXdheS5cbiAgICAgICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBkZXN0cm95Q2xlYW51cDtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZGVzdHJveUNsZWFudXAgKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Tb2NrZXRDb25uZWN0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Nvbm5lY3QnKTtcblxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFJldHJpZXMgPSAwO1xuICAgICAgICAgICAgdGhpcy5hbm5vdW5jZSh7fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uU29ja2V0RXJyb3IoZXJyOiBFcnJvcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIldUVDogU29ja2V0IGVycm9yXCIsIGVycik7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIC8vIGVycm9ycyB3aWxsIG9mdGVuIGhhcHBlbiBpZiBhIHRyYWNrZXIgaXMgb2ZmbGluZSwgc28gZG9uJ3QgdHJlYXQgaXQgYXMgZmF0YWxcbiAgICAgICAgdGhpcy5zdGFydFJlY29ubmVjdGluZygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Tb2NrZXREYXRhKGNodW5rOiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5leHBlY3RpbmdSZXNwb25zZSA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoY2h1bmsuZGF0YSBhcyBzdHJpbmcpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoXCJJbnZhbGlkIHRyYWNrZXIgcmVzcG9uc2VcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuYWN0aW9uID09ICdhbm5vdW5jZScpIHtcbiAgICAgICAgICAgIHRoaXMub25Bbm5vdW5jZVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuYWN0aW9uID09PSAnc2NyYXBlJykge1xuICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9uU29ja2V0RXJyb3IobmV3IEVycm9yKGBpbnZhbGlkIGFjdGlvbiBpbiBXUyByZXNwb25zZTogJHtkYXRhLmFjdGlvbn1gKSlcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBvblNvY2tldENsb3NlKGV2OiBDbG9zZUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWNrZXIgY2xvc2VkXCIsIGV2KTtcbiAgICAgICAgYXdhaXQgdGhpcy5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5zdGFydFJlY29ubmVjdGluZygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRSZWNvbm5lY3RpbmcoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1zID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogUkVDT05ORUNUX1ZBUklBTkNFKSArIE1hdGgubWluKE1hdGgucG93KDIsIHRoaXMucmVjb25uZWN0UmV0cmllcykgKiBSRUNPTk5FQ1RfTUlOSU1VTSwgUkVDT05ORUNUX01BWElNVU0pXG5cbiAgICAgICAgY29uc29sZS5sb2coXCJSZWNvbm5lY3RpbmcgaW4gXCIgKyBtcyAvIDEwMDApO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVyKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZWNvbm5lY3RpbmcuLi5cIik7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFJldHJpZXMrKztcbiAgICAgICAgICAgIHRoaXMub3BlblNvY2tldCgpO1xuICAgICAgICB9LCBtcyk7XG4gICAgfVxuXG4gICAgYW5ub3VuY2Uob3B0aW9uczogQW5ub3VuY2VPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkIHx8IHRoaXMucmVjb25uZWN0aW5nKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuc29ja2V0Py5yZWFkeVN0YXRlICE9IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKCdjb25uZWN0JywgKCkgPT4gdGhpcy5hbm5vdW5jZShvcHRpb25zKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJBbm5vdW5jaW5nOiBcIiArIEJ1ZmZlci5mcm9tKHRoaXMuY29uZmlnLmluZm9IYXNoQmluYXJ5LCAnYmluYXJ5JykudG9TdHJpbmcoJ2hleCcpKTtcblxuICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2Fubm91bmNlJyxcbiAgICAgICAgICAgIGluZm9faGFzaDogdGhpcy5jb25maWcuaW5mb0hhc2hCaW5hcnksXG4gICAgICAgICAgICBwZWVyX2lkOiB0aGlzLmNvbmZpZy5wZWVySWRCaW5hcnksXG4gICAgICAgIH0sIHRoaXMuY29uZmlnLmRlZkFubm91bmNlT3B0aW9ucywgb3B0aW9ucykgYXMgYW55O1xuXG4gICAgICAgIGlmICh0aGlzLnRyYWNrZXJJZCkgcGFyYW1zLnRyYWNrZXJJZCA9IHRoaXMudHJhY2tlcklkO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmV2ZW50ICE9PSAnc3RvcHBlZCcgJiYgb3B0aW9ucy5ldmVudCAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHBhcmFtcy5udW13YW50ID0gb3B0aW9ucy5udW13YW50ID8/IDEwO1xuICAgICAgICAgICAgY29uc3Qgb2ZmZXJzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLm51bXdhbnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBvZmZlcklkID0gcmFuZG9tYnl0ZXMoMjApO1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGluZ1BlZXJzW29mZmVySWQudG9TdHJpbmcoJ2hleCcpXSA9IHt9XG4gICAgICAgICAgICAgICAgb2ZmZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvZmZlcl9pZDogb2ZmZXJJZC50b1N0cmluZygnYmluYXJ5JyksXG4gICAgICAgICAgICAgICAgICAgIG9mZmVyOiB0aGlzLmNvbmZpZy5vZmZlckRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmFtcy5vZmZlcnMgPSBvZmZlcnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCIgIE9mZmVyczogXCIgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMub2ZmZXJzKSk7XG5cbiAgICAgICAgdGhpcy5zZW5kKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBvbkFubm91bmNlUmVzcG9uc2UoZGF0YTogQW5ub3VuY2VSZXNwb25zZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiQW5ub3VuY2UgcmVzcG9uc2U6IFwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICBpZiAoZGF0YS5pbmZvX2hhc2ggIT09IHRoaXMuY29uZmlnLmluZm9IYXNoQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEucGVlcl9pZCAmJiBkYXRhLnBlZXJfaWQgPT09IHRoaXMuY29uZmlnLnBlZXJJZEJpbmFyeSkge1xuICAgICAgICAgICAgLy8gaWdub3JlIG9mZmVycy9hbnN3ZXJzIGZyb20gdGhpcyBjbGllbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYWlsdXJlID0gZGF0YVsnZmFpbHVyZSByZWFzb24nXTtcbiAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgIHRoaXMub25Tb2NrZXRFcnJvcihuZXcgRXJyb3IoZmFpbHVyZSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2FybmluZyA9IGRhdGFbJ3dhcm5pbmcgbWVzc2FnZSddO1xuICAgICAgICBpZiAod2FybmluZykge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnd2FybmluZycsIG5ldyBFcnJvcih3YXJuaW5nKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IGRhdGEuaW50ZXJ2YWwgfHwgZGF0YVsnbWluIGludGVydmFsJ107XG4gICAgICAgIGlmIChpbnRlcnZhbCkgdGhpcy5zZXRJbnRlcnZhbChpbnRlcnZhbCAqIDEwMDApO1xuXG4gICAgICAgIGNvbnN0IHRyYWNrZXJJZCA9IGRhdGFbJ3RyYWNrZXIgaWQnXTtcbiAgICAgICAgaWYgKHRyYWNrZXJJZCkge1xuICAgICAgICAgICAgLy8gSWYgYWJzZW50LCBkbyBub3QgZGlzY2FyZCBwcmV2aW91cyB0cmFja2VySWQgdmFsdWVcbiAgICAgICAgICAgIHRoaXMudHJhY2tlcklkID0gdHJhY2tlcklkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEub2ZmZXIgJiYgZGF0YS5wZWVyX2lkKSB7XG4gICAgICAgICAgICBjb25zdCBwZWVySWQgPSBCdWZmZXIuZnJvbShkYXRhLnBlZXJfaWQsICdiaW5hcnknKS50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgcGVlcklkLFxuICAgICAgICAgICAgICAgIG9mZmVyOiBkYXRhLm9mZmVyLFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiB0cnVlLFxuICAgICAgICAgICAgfSBhcyBPZmZlckZpbHRlckRhdGE7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdvZmZlcl9maWx0ZXInLCBldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKCFldmVudERhdGEuY29udGludWUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpc2NhcmRpbmcgb2ZmZXJcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0aGlzLmNyZWF0ZUluaXRQZWVyKHBlZXJJZCwgQnVmZmVyLmZyb20oZGF0YS5vZmZlcl9pZCwgJ2JpbmFyeScpLCB7fSk7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnYW5ub3VuY2UnLFxuICAgICAgICAgICAgICAgIGluZm9faGFzaDogdGhpcy5jb25maWcuaW5mb0hhc2hCaW5hcnksXG4gICAgICAgICAgICAgICAgcGVlcl9pZDogdGhpcy5jb25maWcucGVlcklkQmluYXJ5LFxuICAgICAgICAgICAgICAgIHRvX3BlZXJfaWQ6IGRhdGEucGVlcl9pZCxcbiAgICAgICAgICAgICAgICBhbnN3ZXI6IG9mZmVyLFxuICAgICAgICAgICAgICAgIG9mZmVyX2lkOiBkYXRhLm9mZmVyX2lkLFxuICAgICAgICAgICAgfSBhcyBhbnk7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFja2VySWQpIHBhcmFtcy50cmFja2VySWQgPSB0aGlzLnRyYWNrZXJJZDtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJBbnN3ZXJpbmcgb2ZmZXJcIik7XG4gICAgICAgICAgICB0aGlzLnNlbmQocGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmFuc3dlciAmJiBkYXRhLnBlZXJfaWQpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJSZWNlaXZlZCBhbnN3ZXJcIik7XG4gICAgICAgICAgICBjb25zdCBvZmZlcklkID0gQnVmZmVyLmZyb20oZGF0YS5vZmZlcl9pZCwgJ2JpbmFyeScpLnRvU3RyaW5nKCdoZXgnKTtcblxuICAgICAgICAgICAgbGV0IG9mZmVyRGF0YSA9IHRoaXMuY29ubmVjdGluZ1BlZXJzW29mZmVySWRdO1xuICAgICAgICAgICAgY29uc3QgcGVlcklkID0gQnVmZmVyLmZyb20oZGF0YS5wZWVyX2lkLCAnYmluYXJ5JykudG9TdHJpbmcoJ2hleCcpO1xuXG4gICAgICAgICAgICBpZiAob2ZmZXJEYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3dhcm5pbmcnLCBuZXcgRXJyb3IoXCJHb3QgYW5zd2VyIGZvciB1bmtub3duIG9mZmVyIGZyb20gXCIgKyBwZWVySWQpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29ubmVjdGluZ1BlZXJzW29mZmVySWRdO1xuICAgICAgICAgICAgaWYgKG9mZmVyRGF0YS5wZWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUmVjZWl2ZWQgc2Vjb25kXCIpO1xuICAgICAgICAgICAgICAgIC8vIFJlY2VpdmVkIHRoZSBzZWNvbmQgbWVzc2FnZSBvZiB0aGUgMy13YXkgaGFuZHNoYWtlIVxuICAgICAgICAgICAgICAgIGNvbnN0IHBlZXIgPSB0aGlzLmNyZWF0ZVBlZXIoe30pO1xuICAgICAgICAgICAgICAgIHBlZXIub25jZSgnc2lnbmFsJywgYW5zd2VyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnYW5ub3VuY2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb19oYXNoOiB0aGlzLmNvbmZpZy5pbmZvSGFzaEJpbmFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZXJfaWQ6IHRoaXMuY29uZmlnLnBlZXJJZEJpbmFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvX3BlZXJfaWQ6IGRhdGEucGVlcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyX2lkOiBkYXRhLm9mZmVyX2lkLFxuICAgICAgICAgICAgICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tlcklkKSBwYXJhbXMudHJhY2tlcklkID0gdGhpcy50cmFja2VySWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU2VuZGluZyB0aGlyZCBtZXNzYWdlXCIpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcGVlci5zaWduYWwoZGF0YS5hbnN3ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3BlZXInLCBwZWVyLCBwZWVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUmVjZWl2ZWQgdGhpcmRcIik7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG9mZmVyRGF0YS5vZmZlclRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncGVlcicsIG9mZmVyRGF0YS5wZWVyLCBwZWVySWQpO1xuICAgICAgICAgICAgICAgIG9mZmVyRGF0YS5wZWVyLnNpZ25hbChkYXRhLmFuc3dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmQoZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmV4cGVjdGluZ1Jlc3BvbnNlID0gZGF0YS5hbnN3ZXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB0aGlzLnNvY2tldCEhLnNlbmQobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQZWVyKG9wdGlvbnM6IHt9KTogU2ltcGxlUGVlci5JbnN0YW5jZSB7XG4gICAgICAgIGNvbnN0IHBlZXJPcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgdGhpcy5jb25maWcucGVlck9wdGlvbnMpO1xuICAgICAgICBwZWVyT3B0cy50cmlja2xlID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IHBlZXIgPSBuZXcgU2ltcGxlUGVlcihwZWVyT3B0cyk7XG5cbiAgICAgICAgY29uc3Qgb25FcnIgPSAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcGVlci5kZXN0cm95KCk7XG4gICAgICAgIH07XG4gICAgICAgIHBlZXIub25jZSgnZXJyb3InLCBvbkVycik7XG4gICAgICAgIHBlZXIub25jZSgnY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgIHBlZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVJbml0UGVlcihwZWVySWQ6IHN0cmluZywgb2ZmZXJJZDogQnVmZmVyLCBvcHRpb25zOiB7fSk6IFByb21pc2U8U2ltcGxlUGVlci5TaWduYWxEYXRhPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9mZmVySGV4ID0gb2ZmZXJJZC50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICBjb25zdCBwZWVyID0gdGhpcy5jcmVhdGVQZWVyKE9iamVjdC5hc3NpZ24oeyBpbml0aWF0b3I6IHRydWUgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICBwZWVyLm9uY2UoJ3NpZ25hbCcsICBvZmZlciA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvZmZlcik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY29uc3Qgb2ZmZXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29ubmVjdGluZ1BlZXJzW29mZmVySGV4XTtcbiAgICAgICAgICAgICAgICBwZWVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdvZmZlcl90aW1lb3V0JywgcGVlcklkKTtcbiAgICAgICAgICAgIH0sIE9GRkVSX1RJTUVPVVQpO1xuXG4gICAgICAgICAgICBjb25zdCBjb25uUGVlciA9IHtcbiAgICAgICAgICAgICAgICBwZWVyLFxuICAgICAgICAgICAgICAgIG9mZmVyVGltZW91dCxcbiAgICAgICAgICAgIH0gYXMgQ29ubmVjdGluZ1BlZXI7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RpbmdQZWVyc1tvZmZlckhleF0gPSBjb25uUGVlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuU29ja2V0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodGhpcy5hbm5vdW5jZVVybCk7XG4gICAgICAgIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSB0aGlzLm9uU29ja2V0Q29ubmVjdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSB0aGlzLm9uU29ja2V0RGF0YS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNvY2tldC5vbmNsb3NlID0gdGhpcy5vblNvY2tldENsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uZXJyb3IgPSAoKSA9PiB0aGlzLm9uU29ja2V0RXJyb3IobmV3IEVycm9yKFwiRXJyb3IgY29ubmVjdGluZyB0byBcIiArIHRoaXMuYW5ub3VuY2VVcmwpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuIiwiaW1wb3J0IHtQaGFzZX0gZnJvbSBcIi4vcGhhc2VcIjtcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9lY3Mvd29ybGRcIjtcbmltcG9ydCB7cmVnaXN0ZXJDb21tb25TdG9yYWdlfSBmcm9tIFwiLi4vZWNzL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgRWNzUGhhc2UgZXh0ZW5kcyBQaGFzZSB7XG4gICAgcmVhZG9ubHkgd29ybGQ6IFdvcmxkO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBpc01hc3RlcjogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICAgICAgdGhpcy53b3JsZCA9IG5ldyBXb3JsZChpc01hc3Rlcik7XG5cbiAgICB9XG5cbiAgICBlY3NTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgcmVnaXN0ZXJDb21tb25TdG9yYWdlKHRoaXMud29ybGQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyU3lzdGVtcygpO1xuICAgICAgICB0aGlzLndvcmxkLnBvcHVsYXRlKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW1zKCk6IHZvaWQge1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5lY3NTZXR1cCgpO1xuICAgICAgICBzdXBlci5lbmFibGUoKTtcbiAgICAgICAgdGhpcy53b3JsZC5lbmFibGUoKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMud29ybGQuZGVzdHJveSgpO1xuICAgIH1cbn0iLCJpbXBvcnQge0VkaXRNYXBQaGFzZX0gZnJvbSBcIi4vZWRpdE1hcFBoYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGllbnRFZGl0TWFwUGhhc2UgZXh0ZW5kcyBFZGl0TWFwUGhhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ2VkaXRDbGllbnQnLCBpZCk7XG4gICAgfVxufSIsIlxuZXhwb3J0IGVudW0gRGlzcGxheVByZWNlZGVuY2Uge1xuICAgIEJBQ0tHUk9VTkQgPSAwLFxuICAgIEdSSUQgPSAxMCxcbiAgICBXQUxMID0gMjEwLFxuICAgIFBST1AgPSAyMjAsXG4gICAgUElOUyA9IDIzMCxcbiAgICBXQUxMX0NSRUFUT1IgPSAyNjAsXG59XG5cbiIsImltcG9ydCBFZGl0TWFwQ29tcG9uZW50IGZyb20gXCIuLi8uLi91aS9lZGl0L2VkaXRNYXAudnVlXCI7XG5pbXBvcnQge0JhY2tncm91bmRJbWFnZVN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRJbWFnZVN5c3RlbVwiO1xuaW1wb3J0IHtTZWxlY3Rpb25TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3NlbGVjdGlvblN5c3RlbVwiO1xuaW1wb3J0IHtQaW5TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9waW5TeXN0ZW1cIjtcbmltcG9ydCB7V2FsbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3dhbGxTeXN0ZW1cIjtcbmltcG9ydCB7TGlnaHRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9saWdodFN5c3RlbVwiO1xuaW1wb3J0IHtUZXh0U3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay90ZXh0U3lzdGVtXCI7XG5pbXBvcnQge1Zpc2liaWxpdHlTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Zpc2liaWxpdHlTeXN0ZW1cIjtcbmltcG9ydCB7SW50ZXJhY3Rpb25TeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2ludGVyYWN0aW9uU3lzdGVtXCI7XG5pbXBvcnQge1BsYXllclN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL3BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHtWaXNpYmlsaXR5QXdhcmVTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3Zpc2liaWxpdHlBd2FyZVN5c3RlbVwiO1xuaW1wb3J0IHtEb29yU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvZG9vclN5c3RlbVwiO1xuaW1wb3J0IHtQcm9wU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvcHJvcFN5c3RlbVwiO1xuaW1wb3J0IHtQaXhpR3JhcGhpY1N5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUdyYXBoaWNTeXN0ZW1cIjtcbmltcG9ydCB7VG9vbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svdG9vbFN5c3RlbVwiO1xuaW1wb3J0IHtHcmlkU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvZ3JpZFN5c3RlbVwiO1xuaW1wb3J0IHtFY3NQaGFzZX0gZnJvbSBcIi4uL2Vjc1BoYXNlXCI7XG5pbXBvcnQge1BpeGlCb2FyZFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge0NvbW1hbmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRTeXN0ZW1cIjtcbmltcG9ydCB7Q29tbWFuZEhpc3RvcnlTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRIaXN0b3J5U3lzdGVtXCI7XG5pbXBvcnQge0xheWVyU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvYmFjay9sYXllclN5c3RlbVwiO1xuaW1wb3J0IHtQaXhpUmVjdFNlbGVjdGlvblN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aVJlY3RTZWxlY3Rpb25TeXN0ZW1cIjtcbmltcG9ydCB7V2ViS2V5Ym9hcmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2tleWJvYXJkU3lzdGVtXCI7XG5pbXBvcnQge0NvbW1vbk5ldHdvcmtTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25ldHdvcmtTeXN0ZW1cIjtcbmltcG9ydCB7UGl4aU1lYXN1cmVTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlNZWFzdXJlU3lzdGVtXCI7XG5pbXBvcnQge1BpeGlMYXllclN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svcGl4aUxheWVyU3lzdGVtXCI7XG5pbXBvcnQge0JpZ1N0b3JhZ2VTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2JpZ1N0b3JhZ2VTeXN0ZW1cIjtcbmltcG9ydCB7TW91c2VUcmFpbFN5c3RlbX0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL21vdXNlVHJhaWxTeXN0ZW1cIjtcbmltcG9ydCB7Q29weVBhc3RlU3lzdGVtfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvY29weVBhc3RlU3lzdGVtXCI7XG5pbXBvcnQgeyBMaW5rUmVsb2NhdGlvblN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL2xpbmtSZWxvY2F0aW9uU3lzdGVtXCI7XG5pbXBvcnQgeyBOYW1lQXNMYWJlbFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL25hbWVBc0xhYmVsU3lzdGVtXCI7XG5pbXBvcnQgeyBXVENoYW5uZWwgfSBmcm9tIFwiLi4vLi4vbmV0d29yay93ZWJ0b3JyZW50L1dUQ2hhbm5lbFwiO1xuaW1wb3J0IHsgUGxheWVyTG9jYXRvclN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9wbGF5ZXJMb2NhdG9yXCI7XG5cblxuZXhwb3J0IGNsYXNzIEVkaXRNYXBQaGFzZSBleHRlbmRzIEVjc1BoYXNlIHtcbiAgICBjaGFubmVsITogV1RDaGFubmVsO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2FtZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGdhbWVJZD86IHN0cmluZykge1xuICAgICAgICBzdXBlcihuYW1lLCBnYW1lSWQgPT09IHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuZ2FtZUlkID0gZ2FtZUlkO1xuICAgIH1cblxuICAgIGVjc1NldHVwKCkge1xuICAgICAgICB0aGlzLnNldHVwTmV0d29ya01hbmFnZXIoKTtcblxuICAgICAgICBzdXBlci5lY3NTZXR1cCgpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyU3lzdGVtcygpIHtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJTeXN0ZW1zKCk7XG4gICAgICAgIGxldCB3ID0gdGhpcy53b3JsZDtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvbW1vbk5ldHdvcmtTeXN0ZW0odywgdGhpcy5jaGFubmVsKSk7XG5cbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvbW1hbmRTeXN0ZW0odykpO1xuICAgICAgICBpZiAody5pc01hc3Rlcikge1xuICAgICAgICAgICAgdy5hZGRTeXN0ZW0obmV3IENvbW1hbmRIaXN0b3J5U3lzdGVtKHcpKTtcbiAgICAgICAgfVxuICAgICAgICB3LmFkZFN5c3RlbShuZXcgV2ViS2V5Ym9hcmRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgQmlnU3RvcmFnZVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBMaW5rUmVsb2NhdGlvblN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBMYXllclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaXhpQm9hcmRTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgU2VsZWN0aW9uU3lzdGVtKHcpKTtcbiAgICAgICAgaWYgKHcuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHcuYWRkU3lzdGVtKG5ldyBDb3B5UGFzdGVTeXN0ZW0odykpO1xuICAgICAgICB9XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaXhpUmVjdFNlbGVjdGlvblN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBQaXhpTWVhc3VyZVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBUb29sU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IE1vdXNlVHJhaWxTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgR3JpZFN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBJbnRlcmFjdGlvblN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBUZXh0U3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlHcmFwaGljU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBpeGlMYXllclN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBOYW1lQXNMYWJlbFN5c3RlbSh3KSk7XG5cbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IEJhY2tncm91bmRJbWFnZVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBXYWxsU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IERvb3JTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgVmlzaWJpbGl0eVN5c3RlbSh3KSk7XG4gICAgICAgIHcuYWRkU3lzdGVtKG5ldyBWaXNpYmlsaXR5QXdhcmVTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGluU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFByb3BTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgUGxheWVyU3lzdGVtKHcpKTtcbiAgICAgICAgdy5hZGRTeXN0ZW0obmV3IFBsYXllckxvY2F0b3JTeXN0ZW0odykpO1xuICAgICAgICB3LmFkZFN5c3RlbShuZXcgTGlnaHRTeXN0ZW0odykpO1xuICAgIH1cblxuICAgIHNldHVwTmV0d29ya01hbmFnZXIoKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IG5ldyBXVENoYW5uZWwoKTtcbiAgICAgICAgaWYgKHRoaXMud29ybGQuaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5zdGFydE1hc3RlcigpO1xuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgJyN0JyArIHRoaXMuY2hhbm5lbC5nZXRDb25uZWN0U2VjcmV0KCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLnN0YXJ0Q2xpZW50KHRoaXMuZ2FtZUlkISEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gb3ZlcnJpZGVzXG5cbiAgICB1aSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0TWFwQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHByb3BzRGF0YToge1xuICAgICAgICAgICAgICAgIHdvcmxkOiB0aGlzLndvcmxkLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG5cbiAgICAgICAgdGhpcy5jaGFubmVsLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0VkaXRNYXBQaGFzZX0gZnJvbSBcIi4vZWRpdE1hcFBoYXNlXCI7XG5pbXBvcnQge05hbWVDb21wb25lbnQsIFBvc2l0aW9uQ29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnR9IGZyb20gXCIuLi8uLi9lY3MvY29tcG9uZW50XCI7XG5pbXBvcnQge0JhY2tncm91bmRJbWFnZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2tncm91bmRJbWFnZVN5c3RlbVwiO1xuaW1wb3J0IHtHYW1lTWFwfSBmcm9tIFwiLi4vLi4vbWFwL2dhbWVNYXBcIjtcbmltcG9ydCB7TWFwTGV2ZWx9IGZyb20gXCIuLi8uLi9tYXAvbWFwTGV2ZWxcIjtcbmltcG9ydCB7UElYSV9CT0FSRF9UWVBFLCBQaXhpQm9hcmRTeXN0ZW19IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9iYWNrL3BpeGlCb2FyZFN5c3RlbVwiO1xuaW1wb3J0IHtTcGF3bkNvbW1hbmRLaW5kfSBmcm9tIFwiLi4vLi4vZWNzL3N5c3RlbXMvY29tbWFuZC9zcGF3bkNvbW1hbmRcIjtcbmltcG9ydCB7ZXhlY3V0ZUFuZExvZ0NvbW1hbmR9IGZyb20gXCIuLi8uLi9lY3Mvc3lzdGVtcy9jb21tYW5kL2NvbW1hbmRcIjtcbmltcG9ydCB7QklHX1NUT1JBR0VfVFlQRSwgQmlnU3RvcmFnZVN5c3RlbSwgQmlnRW50cnlGbGFnc30gZnJvbSBcIi4uLy4uL2Vjcy9zeXN0ZW1zL2JhY2svYmlnU3RvcmFnZVN5c3RlbVwiO1xuXG5leHBvcnQgY2xhc3MgSG9zdEVkaXRNYXBQaGFzZSBleHRlbmRzIEVkaXRNYXBQaGFzZSB7XG4gICAgbWFwOiBHYW1lTWFwO1xuICAgIGN1cnJlbnRMZXZlbDogTWFwTGV2ZWw7XG5cbiAgICBwcml2YXRlIGJlZm9yZVVubG9hZExpc3RlbmVyOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IEdhbWVNYXApIHtcbiAgICAgICAgc3VwZXIoJ2VkaXRIb3N0JywgdW5kZWZpbmVkKTtcblxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMubWFwLmxldmVscy5zaXplID09IDApIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmxldmVscy5zZXQoNDIsIG5ldyBNYXBMZXZlbCg0MikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gdGhpcy5tYXAubGV2ZWxzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcblxuICAgICAgICB0aGlzLndvcmxkLmV2ZW50cy5vbignZXhwb3J0X21hcCcsICgpID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5leHBvcnRNYXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25Ecm9wKGV2ZW50OiBEcmFnRXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgbGV0IHggPSBldmVudC5wYWdlWDtcbiAgICAgICAgbGV0IHkgPSBldmVudC5wYWdlWTtcblxuICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyIS5pdGVtcykge1xuICAgICAgICAgICAgbGV0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZiBvZiBldmVudC5kYXRhVHJhbnNmZXIhLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBmLmdldEFzRmlsZSgpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9uRmlsZURyb3AocmVzLCB4LCB5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub25GaWxlRHJvcChldmVudC5kYXRhVHJhbnNmZXIhLmZpbGVzLCB4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRHJhZ092ZXIoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyIS5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkZpbGVEcm9wKGZpbGVzOiBBYnNGaWxlTGlzdCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICAgIGxldCBmaXJzdEZpbGUgPSBmaWxlc1swXTtcblxuICAgICAgICAvLyBTb21ldGltZXMgdGhpcyBkb2VzIG5vdCB3b3JrIGJ1dCB0aGUgcHJvYmxlbSBpcyBub3QgdGhlIG1hdHJpeCBjYWxjdWxhdGlvbiwgaXQncyB0aGUgYnJvd3NlciBjb29yZHNcbiAgICAgICAgLy8gc28gaWYgeW91IGhhdmUgZmlyZWZveCBhbmQgbGludXggKHRoaXMgc2VlbXMgdG8gYmUgdGhlIHdyb25nIHN0YWNrKSBhbmQgaGF2ZSBzcGFyZSB0aW1lLCBwbHMgZGVidWcgdGhpcy5cbiAgICAgICAgLy8gQ291bGQgYmUgY2F1c2VkIGJ5OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjEjYzgwXG4gICAgICAgIGxldCBwID0gbmV3IFBJWEkuUG9pbnQoeCwgeSk7XG4gICAgICAgIGxldCBwaXhpQm9hcmQgPSB0aGlzLndvcmxkLnN5c3RlbXMuZ2V0KFBJWElfQk9BUkRfVFlQRSkgYXMgUGl4aUJvYXJkU3lzdGVtO1xuICAgICAgICBwaXhpQm9hcmQuYm9hcmQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHBpeGlCb2FyZC5ib2FyZC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHAsIHApO1xuXG4gICAgICAgIGlmIChmaXJzdEZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGF3YWl0IGZpcnN0RmlsZS5hcnJheUJ1ZmZlcigpKTtcbiAgICAgICAgICAgIGxldCBiaWdTdG9yYWdlID0gdGhpcy53b3JsZC5zeXN0ZW1zLmdldChCSUdfU1RPUkFHRV9UWVBFKSBhcyBCaWdTdG9yYWdlU3lzdGVtO1xuICAgICAgICAgICAgbGV0IGRhdGFJZCA9IGJpZ1N0b3JhZ2UuY3JlYXRlKFxuICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgQmlnRW50cnlGbGFncy5SRUFET05MWSB8IEJpZ0VudHJ5RmxhZ3MuU0hBUkVELFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApLm11bHRpSWQ7XG4gICAgICAgICAgICBjb25zdCBjbWQgPSBTcGF3bkNvbW1hbmRLaW5kLmZyb20odGhpcy53b3JsZCwgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaXJzdEZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50VmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSBhcyBOYW1lQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwb3NpdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICB4OiBwLngsXG4gICAgICAgICAgICAgICAgICAgIHk6IHAueSxcbiAgICAgICAgICAgICAgICB9IGFzIFBvc2l0aW9uQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiYWNrZ3JvdW5kX2ltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eTogLTEsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBkYXRhSWQsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlVHlwZTogZmlyc3RGaWxlLnR5cGUsXG4gICAgICAgICAgICAgICAgfSBhcyBCYWNrZ3JvdW5kSW1hZ2VDb21wb25lbnQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGV4ZWN1dGVBbmRMb2dDb21tYW5kKHRoaXMud29ybGQsIGNtZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkltYWdlIGxvYWRlZFwiKVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhc3luYyBleHBvcnRNYXAoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsLnNhdmVGcm9tKHRoaXMud29ybGQpO1xuICAgICAgICBsZXQgYmxvYiA9IGF3YWl0IHRoaXMubWFwLnNhdmVUb0ZpbGUoKTtcbiAgICAgICAgdGhpcy5zYXZlQmxvYihibG9iLCBcIm1hcC5kbmRtXCIpO1xuICAgIH1cblxuICAgIHNhdmVCbG9iKGJsb2I6IEJsb2IsIGZpbGVOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpZGRlbi1kb3dubG9hZC1saW5rXCIpIGFzIEhUTUxBbmNob3JFbGVtZW50O1xuICAgICAgICBsZXQgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBzdXBlci5lbmFibGUoKTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSAodGhpcy53b3JsZC5zeXN0ZW1zLmdldChQSVhJX0JPQVJEX1RZUEUpIGFzIFBpeGlCb2FyZFN5c3RlbSkucmVuZGVyZXIudmlldztcbiAgICAgICAgY2FudmFzLm9uZHJvcCA9IHRoaXMub25Ecm9wLmJpbmQodGhpcyk7XG4gICAgICAgIGNhbnZhcy5vbmRyYWdvdmVyID0gdGhpcy5vbkRyYWdPdmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5iZWZvcmVVbmxvYWRMaXN0ZW5lciA9IChldmVudDogQmVmb3JlVW5sb2FkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9ICdwbHMnO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5iZWZvcmVVbmxvYWRMaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwubG9hZEludG8odGhpcy53b3JsZCk7XG4gICAgICAgIC8vbGV0IGNoID0gdGhpcy5uZXR3b3JrTWFuYWdlci5jaGFubmVsLmV2ZW50RW1pdHRlcjtcbiAgICAgICAgLy9jaC5vbihcIl9kZXZpY2Vfam9pblwiLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgLy9sZXQgY2ggPSB0aGlzLm5ldHdvcmtNYW5hZ2VyLmNoYW5uZWwuZXZlbnRFbWl0dGVyO1xuICAgICAgICAvL2NoLm9mZihcIl9kZXZpY2Vfam9pblwiLCB0aGlzLm9uRGV2aWNlSm9pbiwgdGhpcyk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmJlZm9yZVVubG9hZExpc3RlbmVyKTtcblxuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG4gICAgfVxuXG59XG5cblxuaW50ZXJmYWNlIEFic0ZpbGVMaXN0IHtcbiAgICByZWFkb25seSBsZW5ndGg6IG51bWJlcjtcbiAgICBbaW5kZXg6IG51bWJlcl06IEZpbGU7XG59XG4iLCJcbmV4cG9ydCBlbnVtIExheWVyT3JkZXIge1xuICAgIEJBQ0tHUk9VTkQgPSAwLFxuICAgIEdSSUQgPSAxMCxcbiAgICBGT1JFR1JPVU5EID0gMTAwLFxuICAgIERFVEFJTFMgPSAxMTAsXG4gICAgTElHSFQgPSAyMDAsXG4gICAgVE9PTFMgPSAyNTAsXG4gICAgVEVYVCA9IDMwMCxcbn1cblxuIiwiaW1wb3J0IHtQaGFzZX0gZnJvbSBcIi4vcGhhc2VcIjtcbmltcG9ydCB7c3RhZ2V9IGZyb20gXCIuLi9pbmRleFwiXG5cbmltcG9ydCBIb21lQ29tcG9uZW50IGZyb20gXCIuLi91aS9ob21lL2hvbWUudnVlXCI7XG5pbXBvcnQge0dhbWVNYXB9IGZyb20gXCIuLi9tYXAvZ2FtZU1hcFwiO1xuaW1wb3J0IHtIb3N0RWRpdE1hcFBoYXNlfSBmcm9tIFwiLi9lZGl0TWFwL2hvc3RFZGl0TWFwUGhhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEhvbWVQaGFzZSBleHRlbmRzIFBoYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImhvbWVcIik7XG4gICAgfVxuXG4gICAgdWkoKTogVnVlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb21lQ29tcG9uZW50KCkgYXMgdW5rbm93biBhcyBWdWU7XG4gICAgfVxuXG4gICAgY3JlYXRlTWFwKCkge1xuICAgICAgICBsZXQgbWFwID0gbmV3IEdhbWVNYXAoKTtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobWFwKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZWRpdE1hcChmaWxlOiBGaWxlKSB7XG4gICAgICAgIGxldCBtYXAgPSBhd2FpdCBHYW1lTWFwLmxvYWRGcm9tRmlsZShmaWxlKTtcbiAgICAgICAgc3RhZ2Uuc2V0UGhhc2UobmV3IEhvc3RFZGl0TWFwUGhhc2UobWFwKSk7XG4gICAgfVxuXG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN1cGVyLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdjcmVhdGVfbWFwJywgdGhpcy5jcmVhdGVNYXAsIHRoaXMpO1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdlZGl0JywgdGhpcy5lZGl0TWFwLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyLm9uKCdlZGl0JywgdGhpcy5lZGl0TWFwLCB0aGlzKTtcbiAgICAgICAgdGhpcy51aUV2ZW50RW1pdHRlci5vbignY3JlYXRlX21hcCcsIHRoaXMuY3JlYXRlTWFwLCB0aGlzKTtcbiAgICAgICAgc3VwZXIuZGlzYWJsZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UGhhc2V9IGZyb20gXCIuL3BoYXNlXCI7XG5pbXBvcnQgTG9hZGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiO1xuXG5leHBvcnQgY2xhc3MgTG9hZGluZ1BoYXNlIGV4dGVuZHMgUGhhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImxvYWRpbmdcIik7XG4gICAgfVxuXG4gICAgdWkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9hZGluZ0NvbXBvbmVudCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcbmltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG5leHBvcnQgY2xhc3MgUGhhc2Uge1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIHZ1ZTogYW55O1xuICAgIHVpRXZlbnRFbWl0dGVyOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgICAgICAvLyBDcmVhdGUgVnVlIGluc3RhbmNlIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGhhbmRsaW5nIHRoZSBVSSBldmVudHMgb2YgdGhlIGN1cnJlbnQgcGhhc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS92dWVqb2JzL2NyZWF0ZS1hLWdsb2JhbC1ldmVudC1idXMtaW4tdnVlLWpzLTgzOGE1ZDlhYjAzYVxuICAgICAgICB0aGlzLnVpRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cblxuICAgIGxvZyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIGAgKyBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB1aSgpOiBWdWUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5sb2coXCJFbmFibGluZ1wiKTtcblxuICAgICAgICAoVnVlLnByb3RvdHlwZSBhcyBhbnkpLmV2ZW50RW1pdHRlciA9IHRoaXMudWlFdmVudEVtaXR0ZXI7XG5cbiAgICAgICAgdGhpcy52dWUgPSB0aGlzLnVpKCk7XG4gICAgICAgIGlmICh0aGlzLnZ1ZSkge1xuICAgICAgICAgICAgdGhpcy52dWUuJG1vdW50KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudnVlLiRlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25lIF5eXG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIERpc2FibGluZ2ApO1xuICAgICAgICBpZiAodGhpcy52dWUpIHtcbiAgICAgICAgICAgIHRoaXMudnVlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMudnVlLiRlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iailgIHJlc3VsdC5cbiAgICAgKiBUaGlzIGlzIGRvbmUgdG8gaGlkZSB0aGlzIG9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gb2JzZXJ2ZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMjYzNylcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIHR5cGUgbmFtZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N5bWJvbC90b1N0cmluZ1RhZ31cbiAgICAgKi9cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGNhbiBnbyBoZXJlIHJlYWxseSBhcyBsb25nIGFzIGl0J3Mgbm90ICdPYmplY3QnXG4gICAgICAgIHJldHVybiAnT2JqZWN0Tm9PYnNlcnZlJztcbiAgICB9XG59XG4iLCJpbXBvcnQge1BoYXNlfSBmcm9tIFwiLi9waGFzZVwiO1xuXG5leHBvcnQgY2xhc3MgU3RhZ2UgZXh0ZW5kcyBQaGFzZSB7XG4gICAgcGhhc2U6IFBoYXNlIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgfVxuXG4gICAgc2V0UGhhc2UocGhhc2U6IFBoYXNlIHwgbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5waGFzZSlcbiAgICAgICAgICAgIHRoaXMucGhhc2UuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLnBoYXNlID0gcGhhc2U7XG4gICAgICAgIGlmICh0aGlzLnBoYXNlKVxuICAgICAgICAgICAgdGhpcy5waGFzZS5lbmFibGUoKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdXBlci5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuc2V0UGhhc2UobnVsbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtWdWUsIFdhdGNofSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciA9IFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyO1xuaW1wb3J0IHtWdWVEZWNvcmF0b3J9IGZyb20gXCJ2dWUtY2xhc3MtY29tcG9uZW50XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGhhc2VWdWUge1xuICAgIGV2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyO1xufVxuXG5leHBvcnQge1xuICAgIFZ1ZSxcbiAgICBDb21wb25lbnQgYXMgVkNvbXBvbmVudCxcbiAgICBQcm9wIGFzIFZQcm9wLFxuICAgIFdhdGNoIGFzIFZXYXRjaCxcbiAgICBSZWYgYXMgVlJlZixcbn0gZnJvbSBcInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3JcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gVldhdGNoSW1tZWRpYXRlKG5hbWU6IHN0cmluZyk6IFZ1ZURlY29yYXRvciB7XG4gICAgcmV0dXJuIFdhdGNoKG5hbWUsIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xufVxuXG5leHBvcnQgY29uc3QgbmV0d29ya1N0YXR1cyA9IFZ1ZS5vYnNlcnZhYmxlKHtcbiAgICBpc09ubGluZTogbmF2aWdhdG9yLm9uTGluZSxcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgKCkgPT4gbmV0d29ya1N0YXR1cy5pc09ubGluZSA9IHRydWUpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCAoKSA9PiBuZXR3b3JrU3RhdHVzLmlzT25saW5lID0gZmFsc2UpO1xuIiwiZXhwb3J0IGNsYXNzIFVuaW9uRmluZFNldCB7XG4gICAgcGFyZW50czogQXJyYXk8bnVtYmVyPjtcbiAgICByYW5rczogQXJyYXk8bnVtYmVyPjtcblxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucGFyZW50cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICB0aGlzLnJhbmtzID0gbmV3IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRzW2ldID0gaTtcbiAgICAgICAgICAgIHRoaXMucmFua3NbaV0gPSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluZCh4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAvKlxuICAgICAgICBQYXRoIHNwbGl0dGluZzpcblxuICAgICAgICB3aGlsZSB4LnBhcmVudCDiiaAgeCBkb1xuICAgICAgICAgICAgKHgsIHgucGFyZW50KSA6PSAoeC5wYXJlbnQsIHgucGFyZW50LnBhcmVudClcbiAgICAgICAgZW5kIHdoaWxlXG4gICAgICAgIHJldHVybiB4XG4gICAgICAgICovXG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudHNbeF07XG4gICAgICAgIHdoaWxlIChwYXJlbnQgIT09IHgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld3BhciA9IHRoaXMucGFyZW50c1twYXJlbnRdO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRzW3hdID0gdGhpcy5wYXJlbnRzW25ld3Bhcl07XG4gICAgICAgICAgICB4ID0gcGFyZW50O1xuICAgICAgICAgICAgcGFyZW50ID0gbmV3cGFyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgdW5pb24oYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBhID0gdGhpcy5maW5kKGEpO1xuICAgICAgICBiID0gdGhpcy5maW5kKGIpO1xuXG4gICAgICAgIGlmIChhID09IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhcmFuayA9IHRoaXMucmFua3NbYV07XG4gICAgICAgIGxldCBicmFuayA9IHRoaXMucmFua3NbYl07XG4gICAgICAgIGlmIChhcmFuayA8IGJyYW5rKSB7XG4gICAgICAgICAgICBbYSwgYl0gPSBbYiwgYV07XG4gICAgICAgICAgICAvLyBEbyBub3Qgc3dhcCByYW5rcywgd2Ugd2lsbCBub3QgdXNlIHRoZWlyIG9yZGVyaW5nIGxhdGVyXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcmVudHNbYl0gPSBhO1xuICAgICAgICBpZiAoYXJhbmsgPT09IGJyYW5rKSB7XG4gICAgICAgICAgICB0aGlzLnJhbmtzW2FdICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxufSIsIlxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlSZW1vdmVFbGVtPFQ+KGFycjogVFtdLCBlbGVtOiBUKTogYm9vbGVhbiB7XG4gICAgbGV0IGluZGV4ID0gYXJyLmluZGV4T2YoZWxlbSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIGluZGV4ICE9PSAtMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5RmlsdGVySW5QbGFjZTxUPihhOiBUW10sIGNvbmRpdGlvbjogKHg6IFQpID0+IGJvb2xlYW4pIHtcbiAgICBsZXQgaSA9IDAsIGogPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBhLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB2YWwgPSBhW2ldO1xuICAgICAgICBpZiAoY29uZGl0aW9uKHZhbCkpIGFbaisrXSA9IHZhbDtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGEubGVuZ3RoID0gajtcbiAgICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5UmFuZG9tRWxlbWVudDxUPihhOiBUW10pOiBUIHtcbiAgICByZXR1cm4gYVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhLmxlbmd0aCldO1xufVxuIiwiXG4vLyBCaW5hcnkgaGVhcCBpbXBsZW1lbnRhdGlvbiBmcm9tOlxuLy8gaHR0cDovL2Vsb3F1ZW50amF2YXNjcmlwdC5uZXQvYXBwZW5kaXgyLmh0bWxcblxuZXhwb3J0IGNsYXNzIEJpbmFyeUhlYXA8VD4ge1xuICAgIGNvbnRlbnQgPSBuZXcgQXJyYXk8VD4oKTtcbiAgICBlbGVtTWFwID0gbmV3IE1hcDxULCBudW1iZXI+KCk7XG4gICAgY21wTHQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY21wTHQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY21wTHQgPSBjbXBMdDtcbiAgICB9XG5cbiAgICBwdXNoKGVsZW1lbnQ6IFQpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgZWxlbWVudCB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbGVtZW50LCB0aGlzLmNvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2goZWxlbWVudCk7XG4gICAgICAgIC8vIEFsbG93IGl0IHRvIGJ1YmJsZSB1cC5cbiAgICAgICAgdGhpcy5idWJibGVVcCh0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgcG9wKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGZpcnN0IGVsZW1lbnQgc28gd2UgY2FuIHJldHVybiBpdCBsYXRlci5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29udGVudFswXTtcbiAgICAgICAgdGhpcy5lbGVtTWFwLmRlbGV0ZShyZXN1bHQpO1xuICAgICAgICAvLyBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCkhO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IGVsZW1lbnRzIGxlZnQsIHB1dCB0aGUgZW5kIGVsZW1lbnQgYXQgdGhlXG4gICAgICAgIC8vIHN0YXJ0LCBhbmQgbGV0IGl0IHNpbmsgZG93bi5cbiAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFswXSA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZW5kLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc2lua0Rvd24oMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwb3BFbGVtKGU6IFQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5lbGVtTWFwLmdldChlKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmVsZW1NYXAuZGVsZXRlKGUpO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5jb250ZW50LnBvcCgpITtcbiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmNvbnRlbnQubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jb250ZW50W2luZGV4XSA9IGVuZDtcbiAgICAgICAgdGhpcy5lbGVtTWFwLnNldChlbmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5zaW5rRG93bihpbmRleCk7XG4gICAgICAgIHRoaXMuYnViYmxlVXAoaW5kZXgpOy8vIEZpeCwgc29tZSBzeXN0ZW1zIHdoZXJlIGEgPCBiLiBiIDwgYyA9PiBhIDwgYyBpcyBub3QgbWFpbnRhaW5lZFxuICAgIH1cblxuICAgIGhhc0VsZW0oZTogVCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtTWFwLmhhcyhlKTtcbiAgICB9XG5cbiAgICBwZWVrKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50WzBdO1xuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg7XG4gICAgfVxuXG4gICAgYnViYmxlVXAobjogbnVtYmVyKSB7XG4gICAgICAgIC8vIEZldGNoIHRoZSBlbGVtZW50IHRoYXQgaGFzIHRvIGJlIG1vdmVkLlxuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXTtcbiAgICAgICAgLy8gV2hlbiBhdCAwLCBhbiBlbGVtZW50IGNhbiBub3QgZ28gdXAgYW55IGZ1cnRoZXIuXG4gICAgICAgIHdoaWxlIChuID4gMCkge1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcGFyZW50IGVsZW1lbnQncyBpbmRleCwgYW5kIGZldGNoIGl0LlxuICAgICAgICAgICAgbGV0IHBhcmVudE4gPSBNYXRoLmZsb29yKChuICsgMSkgLyAyKSAtIDE7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5jb250ZW50W3BhcmVudE5dO1xuICAgICAgICAgICAgLy8gU3dhcCB0aGUgZWxlbWVudHMgaWYgdGhlIHBhcmVudCBpcyBncmVhdGVyLlxuICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoZWxlbWVudCwgcGFyZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtwYXJlbnROXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQoZWxlbWVudCwgcGFyZW50Tik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtTWFwLnNldChwYXJlbnQsIG4pO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSAnbicgdG8gY29udGludWUgYXQgdGhlIG5ldyBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBuID0gcGFyZW50TjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvdW5kIGEgcGFyZW50IHRoYXQgaXMgbGVzcywgbm8gbmVlZCB0byBtb3ZlIGl0IGZ1cnRoZXIuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpbmtEb3duKG46IG51bWJlcikge1xuICAgICAgICAvLyBMb29rIHVwIHRoZSB0YXJnZXQgZWxlbWVudCBhbmQgaXRzIHNjb3JlLlxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmNvbnRlbnRbbl07XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIGluZGljZXMgb2YgdGhlIGNoaWxkIGVsZW1lbnRzLlxuICAgICAgICAgICAgbGV0IGNoaWxkMk4gPSAobiArIDEpICogMiwgY2hpbGQxTiA9IGNoaWxkMk4gLSAxO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAgICAvLyBpZiBhbnkuXG4gICAgICAgICAgICBsZXQgc3dhcCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY2hpbGQxOiBUIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpcnN0IGNoaWxkIGV4aXN0cyAoaXMgaW5zaWRlIHRoZSBhcnJheSkuLi5cbiAgICAgICAgICAgIGlmIChjaGlsZDFOIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9vayBpdCB1cCBhbmQgY29tcHV0ZSBpdHMgc2NvcmUuXG4gICAgICAgICAgICAgICAgY2hpbGQxID0gdGhpcy5jb250ZW50W2NoaWxkMU5dO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzY29yZSBpcyBsZXNzIHRoYW4gb3VyIGVsZW1lbnQncywgd2UgbmVlZCB0byBzd2FwLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNtcEx0KGNoaWxkMSwgZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgIHN3YXAgPSBjaGlsZDFOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdGhlIHNhbWUgY2hlY2tzIGZvciB0aGUgb3RoZXIgY2hpbGQuXG4gICAgICAgICAgICBpZiAoY2hpbGQyTiA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZDIgPSB0aGlzLmNvbnRlbnRbY2hpbGQyTl07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY21wTHQoY2hpbGQyLCBzd2FwID09IG51bGwgPyBlbGVtZW50IDogY2hpbGQxISkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IGNoaWxkMk47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBuZWVkcyB0byBiZSBtb3ZlZCwgc3dhcCBpdCwgYW5kIGNvbnRpbnVlLlxuICAgICAgICAgICAgaWYgKHN3YXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFtuXSA9IHRoaXMuY29udGVudFtzd2FwXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbc3dhcF0gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbU1hcC5zZXQodGhpcy5jb250ZW50W25dLCBuKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1NYXAuc2V0KGVsZW1lbnQsIHN3YXApO1xuICAgICAgICAgICAgICAgIG4gPSBzd2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBhcmUgZG9uZS5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIi8qKlxuICogQmFzaWMgQml0U2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBCaXRTZXQge1xuICAgIGRhdGE6IFVpbnQzMkFycmF5O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YTogbnVtYmVyIHwgVWludDMyQXJyYXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KE1hdGguY2VpbChsZW5ndGggLyAzMikpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5mbG9vcihkYXRhLmJ5dGVMZW5ndGggLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgbGVuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoIDw8IDU7XG4gICAgfVxuXG4gICAgZ2V0KGk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpIHw9IDA7XG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIGlmICh3aSA+PSB0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBiID0gdGhpcy5kYXRhW3dpXTtcbiAgICAgICAgcmV0dXJuICEhKChiID4+PiBpKSAmIDEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZW5zdXJlQ2FwYWNpdHkod2k6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgbmV3TGVuID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKG5ld0xlbiA8IHdpKSBuZXdMZW4gKj0gMjtcbiAgICAgICAgaWYgKG5ld0xlbiA9PT0gdGhpcy5kYXRhLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBsZXQgbmV3RGF0YSA9IG5ldyBVaW50MzJBcnJheShuZXdMZW4pO1xuICAgICAgICBuZXdEYXRhLnNldCh0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXdEYXRhO1xuICAgIH1cblxuICAgIHNldChpOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaSB8PSAwO1xuXG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkod2kpO1xuICAgICAgICB0aGlzLmRhdGFbd2ldIHw9IDEgPDwgaTtcbiAgICB9XG5cbiAgICByZXNldChpOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaSB8PSAwO1xuXG4gICAgICAgIGxldCB3aSA9IGkgPj4+IDU7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkod2kpO1xuICAgICAgICB0aGlzLmRhdGFbd2ldICY9IH4oMSA8PCBpKTtcbiAgICB9XG5cbiAgICBpc0FsbCh0YXJnZXQ6IGJvb2xlYW4sIHVudGlsPzogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgdCA9IDB4RkZGRkZGRkY7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbG9vcExhc3QgPSB1bnRpbCA9PT0gdW5kZWZpbmVkID8gdGhpcy5kYXRhLmxlbmd0aCA6ICh1bnRpbCA+Pj4gNSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb29wTGFzdDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhW2ldICE9PSB0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW50aWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgbGV0IGkgPSAoKHVudGlsIC0gMSkgPj4gNSkgKyAxO1xuICAgICAgICBsZXQgaWwgPSB1bnRpbCAmIDB4MUY7XG4gICAgICAgIGxldCBtYXNrID0gKDEgPDwgaWwpIC0gMTtcblxuICAgICAgICBsZXQgZCA9IHRoaXMuZGF0YVtpXTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZCA9IH5kO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChkICYgbWFzaykgPT09IDA7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG4vKipcbiAqIFRoZSB0YXNrIG9mIHRoaXMgZnVuY3Rpb24gaXMgdG8gYnJpbmcgdGhlIGV2ZW50IGZyb20gYSB0aGlyZC1wYXJ0eVxuICogRXZlbnRNYW5hZ2VyICh0aGF0IGNvdWxkIGJlIHRoZSBET00sIFZ1ZSBvciB3aGF0ZXZlcikgdG8gRXZlbnRFbWl0dGVyMy5cbiAqL1xudHlwZSBDYXRjaEV2ZW50Rm9yRW1pdHRlciA9IChldmVudDogYW55LCBlbWl0dGVyOiBFdmVudEVtaXR0ZXIpID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBFdmVudEVtaXR0ZXJXcmFwcGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICByZWFkb25seSBjYXRjaGVyOiBDYXRjaEV2ZW50Rm9yRW1pdHRlcjtcbiAgICBwcml2YXRlIGNhdWdodDogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cblxuICAgIGNvbnN0cnVjdG9yKGNhdGNoZXI6IENhdGNoRXZlbnRGb3JFbWl0dGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2F0Y2hlciA9IGNhdGNoZXI7XG4gICAgfVxuXG4gICAgY2F0Y2hFdmVudChldmVudDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2F0Y2hlcihldmVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2F1Z2h0LmFkZChldmVudCk7XG4gICAgfVxuXG4gICAgb24oZXZlbnQ6IHN0cmluZywgZm46IEV2ZW50RW1pdHRlci5MaXN0ZW5lckZuLCBjb250ZXh0PzogYW55KTogdGhpcyB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBmbiwgY29udGV4dCk7XG4gICAgICAgIGlmICghdGhpcy5jYXVnaHQuaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBmbjogRXZlbnRFbWl0dGVyLkxpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgc3VwZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCF0aGlzLmNhdWdodC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBQSVhJIGZyb20gXCIuLi9QSVhJXCI7XG5pbXBvcnQge1N0dXBpZFBvaW50fSBmcm9tIFwiLi4vZ2VvbWV0cnkvcG9pbnRcIjtcbmltcG9ydCB7QWFiYn0gZnJvbSBcIi4uL2dlb21ldHJ5L2FhYmJcIjtcblxudHlwZSBQUG9pbnQgPSBQSVhJLlBvaW50O1xuZXhwb3J0IHR5cGUgUG9pbnQgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvblBvaW50SW50ZXJzZWN0KHBvaW50OiBQSVhJLklQb2ludERhdGEsIHBvbHlnb246IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeCA9IHBvaW50Lng7XG4gICAgY29uc3QgeSA9IHBvaW50Lnk7XG4gICAgbGV0IGluc2lkZSA9IGZhbHNlO1xuICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICBjb25zdCBsZW5ndGggPSBwb2x5Z29uLmxlbmd0aCAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgIGNvbnN0IHhpID0gcG9seWdvbltpICogMl07XG4gICAgICAgIGNvbnN0IHlpID0gcG9seWdvblsoaSAqIDIpICsgMV07XG4gICAgICAgIGNvbnN0IHhqID0gcG9seWdvbltqICogMl07XG4gICAgICAgIGNvbnN0IHlqID0gcG9seWdvblsoaiAqIDIpICsgMV07XG4gICAgICAgIGNvbnN0IGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPT0gKHlqID4geSkpICYmICh4IDwgKCh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkpICsgeGkpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYWJiQWFiYkludGVyc2VjdChhbDogbnVtYmVyLCBhdDogbnVtYmVyLCBhcjogbnVtYmVyLCBhYjogbnVtYmVyLFxuICAgIGJsOiBudW1iZXIsIGJ0OiBudW1iZXIsIGJyOiBudW1iZXIsIGJiOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYWwgPCBiciAmJiBhciA+IGJsICYmIGF0IDwgYmIgJiYgYWIgPiBidDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RTcXVhcmVkMmQoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHggPSB4MSAtIHgyO1xuICAgIGxldCB5ID0geTEgLSB5MjtcbiAgICByZXR1cm4geCAqIHggKyB5ICogeVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdFBvaW50T25TZWdtZW50KGF4OiBudW1iZXIsIGF5OiBudW1iZXIsIGJ4OiBudW1iZXIsIGJ5OiBudW1iZXIsIHB4OiBudW1iZXIsIHB5OiBudW1iZXIpOiBQb2ludCB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKGF4ID09IGJ4ICYmIGF5ID09IGF5KSBheCAtPSAwLjAwMDAxO1xuXG4gICAgbGV0IHUgPSAoKHB4IC0gYXgpICogKGJ4IC0gYXgpKSArICgocHkgLSBheSkgKiAoYnkgLSBheSkpO1xuXG4gICAgbGV0IHVkZW5vbSA9IE1hdGgucG93KGJ4IC0gYXgsIDIpICsgTWF0aC5wb3coYnkgLSBheSwgMik7XG5cbiAgICB1IC89IHVkZW5vbTtcblxuICAgIGxldCByeCA9IGF4ICsgKHUgKiAoYnggLSBheCkpO1xuICAgIGxldCByeSA9IGF5ICsgKHUgKiAoYnkgLSBheSkpO1xuXG4gICAgbGV0IG1pbngsIG1heHgsIG1pbnksIG1heHk7XG5cbiAgICBtaW54ID0gTWF0aC5taW4oYXgsIGJ4KTtcbiAgICBtYXh4ID0gTWF0aC5tYXgoYXgsIGJ4KTtcblxuICAgIG1pbnkgPSBNYXRoLm1pbihheSwgYnkpO1xuICAgIG1heHkgPSBNYXRoLm1heChheSwgYnkpO1xuXG4gICAgbGV0IGlzVmFsaWQgPSAocnggPj0gbWlueCAmJiByeCA8PSBtYXh4KSAmJiAocnkgPj0gbWlueSAmJiByeSA8PSBtYXh5KTtcblxuICAgIHJldHVybiBpc1ZhbGlkID8gW3J4LCByeV0gOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RMaW5lVnNMaW5lKGExOiBTdHVwaWRQb2ludCwgYTI6IFN0dXBpZFBvaW50LCBiMTogU3R1cGlkUG9pbnQsIGIyOiBTdHVwaWRQb2ludCwgdGFyZ2V0PzogUFBvaW50KTogYm9vbGVhbiB7XG4gICAgbGV0IGRieCA9IGIyLnggLSBiMS54O1xuICAgIGxldCBkYnkgPSBiMi55IC0gYjEueTtcbiAgICBsZXQgZGF4ID0gYTIueCAtIGExLng7XG4gICAgbGV0IGRheSA9IGEyLnkgLSBhMS55O1xuXG4gICAgbGV0IHVfYiA9IGRieSAqIGRheCAtIGRieCAqIGRheTtcbiAgICBpZiAodV9iID09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgdWEgPSAoZGJ4ICogKGExLnkgLSBiMS55KSAtIGRieSAqIChhMS54IC0gYjEueCkpIC8gdV9iO1xuXG4gICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldC5zZXQoYTEueCAtIHVhICogLWRheCwgYTEueSAtIHVhICogLWRheSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWFiYlNhbWVPcmlnaW5EaWZmZXJlbmNlKG9yaWc6IFN0dXBpZFBvaW50LCBsYXN0OiBTdHVwaWRQb2ludCwgbm93OiBTdHVwaWRQb2ludCwgYWRkZWQ6IEFhYmJbXSwgcmVtb3ZlZDogQWFiYltdKTogdm9pZCB7XG4gICAgbGV0IHhBY3QgPSAwO1xuICAgIGlmIChub3cueCAhPSBsYXN0LngpIHtcbiAgICAgICAgbGV0IHhCb3ggPSBuZXcgQWFiYihcbiAgICAgICAgICAgIG5vdy54LCBvcmlnLnksXG4gICAgICAgICAgICBsYXN0LngsIGxhc3QueSxcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGFkZCA9IChub3cueCA+IGxhc3QueCkgPT0gKG9yaWcueCA8IG5vdy54KTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgeEFjdCA9IDE7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHhCb3gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeEFjdCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKHhCb3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHlBY3QgPSAwO1xuICAgIGlmIChub3cueSAhPSBsYXN0LnkpIHtcbiAgICAgICAgbGV0IHlCb3ggPSBuZXcgQWFiYihcbiAgICAgICAgICAgIG9yaWcueCwgbGFzdC55LFxuICAgICAgICAgICAgbGFzdC54LCBub3cueSxcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGFkZCA9IChub3cueSA+IGxhc3QueSkgPT0gKG9yaWcueSA8IGxhc3QueSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIHlBY3QgPSAxO1xuICAgICAgICAgICAgYWRkZWQucHVzaCh5Qm94KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHlBY3QgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaCh5Qm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh4QWN0ID09IHlBY3QpIHtcbiAgICAgICAgbGV0IGJveCA9IG5ldyBBYWJiKFxuICAgICAgICAgICAgbGFzdC54LCBsYXN0LnksXG4gICAgICAgICAgICBub3cueCwgbm93LnlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHhBY3QgPiAwKSB7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKGJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2goYm94KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGRlY29kZSwgZW5jb2RlIH0gZnJvbSBcIkBtc2dwYWNrL21zZ3BhY2tcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdE1lcmdlKHRvOiBhbnksIGZyb206IGFueSkge1xuICAgIGZvciAobGV0IGkgaW4gZnJvbSkge1xuICAgICAgICB0b1tpXSA9IGZyb21baV07XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0RmlsdGVySW5wbGFjZTxUPih4OiB7W25hbWU6IHN0cmluZ106IFR9LCBmaWx0ZXI6IChuYW1lOiBzdHJpbmcsIHZhbDogVCkgPT4gYm9vbGVhbikge1xuICAgIGZvciAobGV0IG5hbWUgaW4geCkge1xuICAgICAgICBpZiAoIWZpbHRlcihuYW1lLCB4W25hbWVdKSkge1xuICAgICAgICAgICAgZGVsZXRlIHhbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RDbG9uZShvYmo6IGFueSk6IGFueSB7XG4gICAgLy8gWWVzLCByZWFsbHksIHRoYW5rcyBqcy5cbiAgICByZXR1cm4gZGVjb2RlKGVuY29kZShvYmopKTtcbiAgICAvL3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tYnl0ZXMobnVtOiBudW1iZXIpOiBCdWZmZXIge1xuICAgIGxldCBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobnVtKTtcblxuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnVmZmVyKTtcbiAgICByZXR1cm4gYnVmZmVyO1xufVxuXG4vLyBiYXNlIDY0XG5cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUb0Jhc2U2NFVybChpbnB1dDogQnVmZmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoXCJiYXNlNjRcIilcbiAgICAgICAgLnJlcGxhY2UoLz0vZywgXCJcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcKy9nLCBcIi1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCBcIl9cIik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VXJsVG9CdWZmZXIoYmFzZTY0dXJsOiBzdHJpbmcpOiBCdWZmZXIge1xuICAgIGNvbnN0IGJhc2U2NCA9IGI2NFBhZFN0cmluZyhiYXNlNjR1cmwpXG4gICAgICAgIC5yZXBsYWNlKC9cXC0vZywgXCIrXCIpXG4gICAgICAgIC5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oYmFzZTY0LCBcImJhc2U2NFwiKTtcbn1cblxuZnVuY3Rpb24gYjY0UGFkU3RyaW5nKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBzZWdtZW50TGVuZ3RoID0gNDtcbiAgICBsZXQgc3RyaW5nTGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIGxldCBkaWZmID0gc3RyaW5nTGVuZ3RoICUgc2VnbWVudExlbmd0aDtcblxuICAgIGlmICghZGlmZikge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgbGV0IHBvc2l0aW9uID0gc3RyaW5nTGVuZ3RoO1xuICAgIGxldCBwYWRMZW5ndGggPSBzZWdtZW50TGVuZ3RoIC0gZGlmZjtcbiAgICBsZXQgcGFkZGVkU3RyaW5nTGVuZ3RoID0gc3RyaW5nTGVuZ3RoICsgcGFkTGVuZ3RoO1xuICAgIGxldCBidWZmZXIgPSBCdWZmZXIuYWxsb2MocGFkZGVkU3RyaW5nTGVuZ3RoKTtcblxuICAgIGJ1ZmZlci53cml0ZShpbnB1dCk7XG5cbiAgICB3aGlsZSAocGFkTGVuZ3RoLS0pIHtcbiAgICAgICAgYnVmZmVyLndyaXRlKFwiPVwiLCBwb3NpdGlvbisrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKCk7XG59XG4iLCJcbnR5cGUgUG9pbnQgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5jbGFzcyBOb2RlIHtcbiAgICBwb2ludDogUG9pbnQ7XG4gICAgbGVmdD86IE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgcmlnaHQ/OiBOb2RlID0gdW5kZWZpbmVkO1xuICAgIHBhcmVudD86IE5vZGU7XG4gICAgZGltZW5zaW9uOiBudW1iZXI7Ly8gMDogWCwgMTogWVxuXG4gICAgY29uc3RydWN0b3IocG9pbnQ6IFBvaW50LCBwYXJlbnQ6IE5vZGUgfCB1bmRlZmluZWQsIGRpbWVuc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uID0gZGltZW5zaW9uO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEsyZFRyZWUge1xuICAgIHJvb3Q/OiBOb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgcHJpdmF0ZSBkaXN0YW5jZShhOiBQb2ludCwgYjogUG9pbnQpOiBudW1iZXIge1xuICAgICAgICBsZXQgZHggPSBhWzBdIC0gYlswXTtcbiAgICAgICAgbGV0IGR5ID0gYVsxXSAtIGJbMV07XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhc3RTZWFyY2gocG9pbnQ6IFBvaW50LCBub2RlOiBOb2RlIHwgdW5kZWZpbmVkLCBwYXJlbnQ6IE5vZGUgfCB1bmRlZmluZWQpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChwb2ludFtub2RlLmRpbWVuc2lvbl0gPCBub2RlLnBvaW50W25vZGUuZGltZW5zaW9uXSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBub2RlU2VhcmNoKHBvaW50OiBQb2ludCk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHBvaW50WzBdID09PSBub2RlLnBvaW50WzBdICYmIHBvaW50WzFdID09PSBub2RlLnBvaW50WzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9pbnRbbm9kZS5kaW1lbnNpb25dIDwgbm9kZS5wb2ludFtub2RlLmRpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGluc2VydChwb2ludDogUG9pbnQpIHtcbiAgICAgICAgbGV0IGluc2VydFBvc2l0aW9uID0gdGhpcy5sYXN0U2VhcmNoKHBvaW50LCB0aGlzLnJvb3QsIHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKGluc2VydFBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBOb2RlKHBvaW50LCB1bmRlZmluZWQsIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld05vZGUgPSBuZXcgTm9kZShwb2ludCwgaW5zZXJ0UG9zaXRpb24sIChpbnNlcnRQb3NpdGlvbi5kaW1lbnNpb24gKyAxKSAmIDEpO1xuICAgICAgICBsZXQgZGltZW5zaW9uID0gaW5zZXJ0UG9zaXRpb24uZGltZW5zaW9uO1xuXG4gICAgICAgIGlmIChwb2ludFtkaW1lbnNpb25dIDwgaW5zZXJ0UG9zaXRpb24ucG9pbnRbZGltZW5zaW9uXSkge1xuICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24ubGVmdCA9IG5ld05vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRQb3NpdGlvbi5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgZmluZE1pbihub2RlOiBOb2RlIHwgdW5kZWZpbmVkLCBkaW06IG51bWJlcik6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUuZGltZW5zaW9uID09PSBkaW0pIHtcbiAgICAgICAgICAgIGlmIChub2RlLmxlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBkaW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3duID0gbm9kZS5wb2ludFtkaW1dO1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuZmluZE1pbihub2RlLmxlZnQsIGRpbSk7XG4gICAgICAgIGxldCByaWdodCA9IHRoaXMuZmluZE1pbihub2RlLnJpZ2h0LCBkaW0pO1xuICAgICAgICBsZXQgbWluID0gbm9kZTtcblxuICAgICAgICBpZiAobGVmdCAhPT0gdW5kZWZpbmVkICYmIGxlZnQucG9pbnRbZGltXSA8IG93bikge1xuICAgICAgICAgICAgbWluID0gbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmlnaHQgIT09IHVuZGVmaW5lZCAmJiByaWdodC5wb2ludFtkaW1dIDwgbWluLnBvaW50W2RpbV0pIHtcbiAgICAgICAgICAgIG1pbiA9IHJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZU5vZGUobm9kZTogTm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sZWZ0ID09PSB1bmRlZmluZWQgJiYgbm9kZS5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGltID0gbm9kZS5wYXJlbnQuZGltZW5zaW9uO1xuICAgICAgICAgICAgaWYgKG5vZGUucG9pbnRbZGltXSA8IG5vZGUucGFyZW50LnBvaW50W2RpbV0pIHtcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5sZWZ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5yaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSByaWdodCBzdWJ0cmVlIGlzIG5vdCBlbXB0eSwgc3dhcCB3aXRoIHRoZSBtaW5pbXVtIGVsZW1lbnQgb24gdGhlXG4gICAgICAgIC8vIG5vZGUncyBkaW1lbnNpb24uIElmIGl0IGlzIGVtcHR5LCB3ZSBzd2FwIHRoZSBsZWZ0IGFuZCByaWdodCBzdWJ0cmVlcyBhbmRcbiAgICAgICAgLy8gZG8gdGhlIHNhbWUuXG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBuZXh0Tm9kZSA9IHRoaXMuZmluZE1pbihub2RlLnJpZ2h0LCBub2RlLmRpbWVuc2lvbikhO1xuICAgICAgICAgICAgbGV0IG5leHRQb2ludCA9IG5leHROb2RlLnBvaW50O1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5leHROb2RlKTtcbiAgICAgICAgICAgIG5vZGUucG9pbnQgPSBuZXh0UG9pbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmV4dE5vZGUgPSB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBub2RlLmRpbWVuc2lvbikhO1xuICAgICAgICAgICAgbGV0IG5leHRQb2ludCA9IG5leHROb2RlLnBvaW50O1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5leHROb2RlKTtcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICBub2RlLmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBub2RlLnBvaW50ID0gbmV4dFBvaW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlKHBvaW50OiBQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZVNlYXJjaChwb2ludCk7XG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlbW92ZU5vZGUobm9kZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIG5lYXJlc3RQb2ludChwb2ludDogUG9pbnQsIHJvb3Q/OiBOb2RlKTogW1BvaW50LCBudW1iZXJdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcm9vdCA9IHJvb3QgfHwgdGhpcy5yb290O1xuICAgICAgICBpZiAocm9vdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIGxldCBvd25EaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2Uocm9vdC5wb2ludCwgcG9pbnQpO1xuICAgICAgICBpZiAocm9vdC5sZWZ0ID09PSB1bmRlZmluZWQgJiYgcm9vdC5yaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gW3Jvb3QucG9pbnQsIG93bkRpc3RhbmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiZXN0Q2hpbGQ7XG5cbiAgICAgICAgaWYgKHJvb3QucmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmVzdENoaWxkID0gcm9vdC5sZWZ0O1xuICAgICAgICB9IGVsc2UgaWYgKHJvb3QubGVmdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LnJpZ2h0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnRbcm9vdC5kaW1lbnNpb25dIDwgcm9vdC5wb2ludFtyb290LmRpbWVuc2lvbl0pIHtcbiAgICAgICAgICAgICAgICBiZXN0Q2hpbGQgPSByb290LmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJlc3RDaGlsZCA9IHJvb3QucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgW2Jlc3RDaGlsZE5vZGUsIGJlc3RDaGlsZERpc3RdID0gdGhpcy5uZWFyZXN0UG9pbnQocG9pbnQsIGJlc3RDaGlsZCkhO1xuXG4gICAgICAgIGxldCBiZXN0Tm9kZTtcbiAgICAgICAgbGV0IGJlc3REaXN0O1xuICAgICAgICBpZiAoYmVzdENoaWxkRGlzdCA8IG93bkRpc3RhbmNlKSB7XG4gICAgICAgICAgICBiZXN0Tm9kZSA9IGJlc3RDaGlsZE5vZGU7XG4gICAgICAgICAgICBiZXN0RGlzdCA9IGJlc3RDaGlsZERpc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiZXN0Tm9kZSA9IHJvb3QucG9pbnQ7XG4gICAgICAgICAgICBiZXN0RGlzdCA9IG93bkRpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VhcmNoZWQgcG9pbnQgcHJvamVjdGVkIHRvIG91ciBheGlzXG4gICAgICAgIGxldCBsaW5lYXJQb2ludDogUG9pbnQgPSBbcG9pbnRbMF0sIHBvaW50WzFdXTtcbiAgICAgICAgbGluZWFyUG9pbnRbcm9vdC5kaW1lbnNpb25dID0gcm9vdC5wb2ludFtyb290LmRpbWVuc2lvbl07XG5cbiAgICAgICAgbGV0IGxpbmVhckRpc3QgPSB0aGlzLmRpc3RhbmNlKGxpbmVhclBvaW50LCBwb2ludCk7XG4gICAgICAgIGlmIChsaW5lYXJEaXN0IDwgYmVzdERpc3QpIHtcbiAgICAgICAgICAgIGxldCBvdGhlckNoaWxkO1xuICAgICAgICAgICAgaWYgKGJlc3RDaGlsZCA9PT0gcm9vdC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgb3RoZXJDaGlsZCA9IHJvb3QucmlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG90aGVyQ2hpbGQgPSByb290LmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3RoZXJDaGlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IFtvdGhlck5vZGUsIG90aGVyRGlzdF0gPSB0aGlzLm5lYXJlc3RQb2ludChwb2ludCwgb3RoZXJDaGlsZCkhO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlckRpc3QgPCBiZXN0RGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBiZXN0Tm9kZSA9IG90aGVyTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgYmVzdERpc3QgPSBvdGhlckRpc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbYmVzdE5vZGUsIGJlc3REaXN0XVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IFBJWEkgZnJvbSBcIi4uL1BJWElcIjtcblxuZXhwb3J0IGNvbnN0IERFU1RST1lfQUxMID0ge1xuICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgIHRleHR1cmU6IHRydWUsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgREVTVFJPWV9NSU4gPSB7XG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIHRleHR1cmU6IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiBmYWxzZSxcbn07XG5cbmNvbnN0IEFMTE9XRURfSU1BR0VUWVBFUyA9IFsnanBlZycsICdwbmcnLCAneC1qZycsICdibXAnLCAneC1pY29uJywgJ2llZicsICdwanBlZycsICd4LXBvcnRhYmxlLWJpdG1hcCcsICd4LXJnYicsICd0aWZmJywgJ3gtdGlmZiddXG5cbmZ1bmN0aW9uIHZhbGlkYXRlSW1hZ2VNaW1lVHlwZSh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlOiBpdCBzaG91bGQgYmUgYW4gaW1hZ2UnKTtcbiAgICBpZiAoQUxMT1dFRF9JTUFHRVRZUEVTLmluZGV4T2YodHlwZS5zdWJzdHIoJ2ltYWdlLycubGVuZ3RoKSkgPCAwKSB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGltYWdlIHR5cGUnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUZXh0dXJlKGRhdGE6IEFycmF5QnVmZmVyLCBkYXRhVHlwZTogc3RyaW5nKTogUHJvbWlzZTxQSVhJLlRleHR1cmU+IHtcbiAgICB2YWxpZGF0ZUltYWdlTWltZVR5cGUoZGF0YVR5cGUpO1xuICAgIGxldCBiNjQgPSAnZGF0YTonICsgZGF0YVR5cGUgKyAnO2Jhc2U2NCwnICsgQnVmZmVyLmZyb20oZGF0YSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFBJWEkuVGV4dHVyZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4ID0gbmV3IFBJWEkuVGV4dHVyZShuZXcgUElYSS5CYXNlVGV4dHVyZShuZXcgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZShpbWFnZSkpKTtcbiAgICAgICAgICAgIHJlc29sdmUodGV4KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgaW1hZ2Uuc3JjID0gYjY0O1xuICAgIH0pO1xufVxuXG5leHBvcnQgZW51bSBDVVNUT01fQkxFTkRfTU9ERVMge1xuICAgIE1VTFRJUExZX0NPTE9SX09OTFkgPSAzMCxcbiAgICBBRERfV0hFUkVfQUxQSEFfMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEN1c3RvbUJsZW5kTW9kZXMocmVuZGVyZXI6IFBJWEkuUmVuZGVyZXIpIHtcbiAgICBsZXQgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBsZXQgYXJyYXkgPSAocmVuZGVyZXIuc3RhdGUgYXMgYW55KS5ibGVuZE1vZGVzO1xuICAgIGFycmF5W0NVU1RPTV9CTEVORF9NT0RFUy5NVUxUSVBMWV9DT0xPUl9PTkxZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLlpFUk8sIGdsLk9ORSwgZ2wuWkVST107XG4gICAgYXJyYXlbQ1VTVE9NX0JMRU5EX01PREVTLkFERF9XSEVSRV9BTFBIQV8xXSA9IFtnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuWkVSTywgZ2wuT05FXTtcbn0iLCJcbnR5cGUgTGlzdGVuZXJGbiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEV2ZW50SGFuZGxlciB7XG4gICAgY2I6IExpc3RlbmVyRm47XG4gICAgc2VsZjogYW55O1xuICAgIG9uY2U6IGJvb2xlYW47XG4gICAgcHJpb3JpdHk6IG51bWJlcjsvLyBpZiAtaW5mOiBkaXNhYmxlZFxufVxuXG5leHBvcnQgY29uc3QgUFJJT1JJVFlfRElTQUJMRUQgPSAtSW5maW5pdHk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhZmVFdmVudEVtaXR0ZXIge1xuICAgIGV2ZW50czoge1tuYW1lOiBzdHJpbmddOiBFdmVudEhhbmRsZXJbXX0gPSB7fTtcbiAgICBjaGlsZHJlbjogU2FmZUV2ZW50RW1pdHRlcltdID0gW107XG5cbiAgICBlbWl0KGV2ZW50OiBzdHJpbmcsIC4uLmFyZ3M6IEFycmF5PGFueT4pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHJlY2VpdmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IHggPSBjLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgcmVjZWl2ZWQgfHw9IHg7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCB8fCBsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSByZXR1cm4gcmVjZWl2ZWQ7XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID09PSBQUklPUklUWV9ESVNBQkxFRCkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2IuY2FsbChsaXN0ZW5lci5zZWxmLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igd2hpbGUgY2FsbGluZyBldmVudCBcIiArIGV2ZW50KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydEhhbmRsZXIoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyKSB7XG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF07XG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlzdGVuZXJzID0gW2hhbmRsZXJdO1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gbGlzdGVuZXJzO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLnByaW9yaXR5ID49IGhhbmRsZXIucHJpb3JpdHkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBhdCBwb3NpdGlvblxuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDAsIGhhbmRsZXIpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb24oZXZlbnQ6IHN0cmluZywgZm46IExpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnksIHByaW9yaXR5OiBudW1iZXIgPSAwKTogdGhpcyB7XG4gICAgICAgIHRoaXMuaW5zZXJ0SGFuZGxlcihldmVudCwge1xuICAgICAgICAgICAgY2I6IGZuLFxuICAgICAgICAgICAgc2VsZjogY29udGV4dCxcbiAgICAgICAgICAgIG9uY2U6IGZhbHNlLFxuICAgICAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICAgICAqL1xuICAgIG9uY2UoZXZlbnQ6IHN0cmluZywgZm46IExpc3RlbmVyRm4sIGNvbnRleHQ/OiBhbnkpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5pbnNlcnRIYW5kbGVyKGV2ZW50LCB7XG4gICAgICAgICAgICBjYjogZm4sXG4gICAgICAgICAgICBzZWxmOiBjb250ZXh0LFxuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgfSBhcyBFdmVudEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICAgICAqL1xuICAgIG9mZihldmVudDogc3RyaW5nLCBmbjogTGlzdGVuZXJGbiwgY29udGV4dD86IGFueSwgb25jZT86IGJvb2xlYW4pOiB0aGlzIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIGV2ZW50ICcgKyBldmVudCk7XG4gICAgICAgIGxldCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIuY2IgPT09IGZuICYmIGxpc3RlbmVyLnNlbGYgPT09IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgZXZlbnQgJyArIGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKi9cbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQ/OiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgaWYgKGV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZW9yZGVyT2JqZWN0cyhwcmlvcml0eUxpc3Q6IGFueVtdLCBkZWZhdWx0UHJpb3JpdHk6IG51bWJlciA9IC0xKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW25hbWVdO1xuICAgICAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIucHJpb3JpdHkgPSBwcmlvcml0eUxpc3QuaW5kZXhPZihsaXN0ZW5lci5zZWxmKTtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPCAwKSBsaXN0ZW5lci5wcmlvcml0eSA9IGRlZmF1bHRQcmlvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlY3Jlc2NlbnQgb3JkZXJcbiAgICAgICAgICAgIGxpc3RlbmVycy5zb3J0KChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRDaGlsZChlbWl0dGVyOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChlbWl0dGVyKTtcbiAgICB9XG5cbiAgICByZW1vdmVDaGlsZChlbWl0dGVyOiBTYWZlRXZlbnRFbWl0dGVyKTogdm9pZCB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihlbWl0dGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wM2QzMjRkNiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMDNkMzI0ZDYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMDNkMzI0ZDYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMDNkMzI0ZDYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wM2QzMjRkNiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcwM2QzMjRkNicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvY29tcFdyYXBwZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVlZmQ3MDE2JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc0JhY2tncm91bmRJbWFnZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzVlZmQ3MDE2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzVlZmQ3MDE2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVlZmQ3MDE2JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzVlZmQ3MDE2Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xODYyZThiNSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzRG9vci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzE4NjJlOGI1JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzE4NjJlOGI1JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzE4NjJlOGI1JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xODYyZThiNSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcxODYyZThiNScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzRG9vci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03MjRlMDExZiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NMaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNzI0ZTAxMWYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNzI0ZTAxMWYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNzI0ZTAxMWYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03MjRlMDExZiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc3MjRlMDExZicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTGlnaHQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zZTc2ODkxMiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzNlNzY4OTEyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzNlNzY4OTEyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NOYW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zZTc2ODkxMiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCczZTc2ODkxMicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZWNzTmFtZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJlZmZiMmY5JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcyZWZmYjJmOScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcyZWZmYjJmOScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcyZWZmYjJmOScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzTm90ZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MmVmZmIyZjkmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMmVmZmIyZjknLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc05vdGUudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI2ZDg4ZTVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzI2ZDg4ZTVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzI2ZDg4ZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzI2ZDg4ZTVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI2ZDg4ZTVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzI2ZDg4ZTVlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NQaW4udnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTYzNmNlZWE4JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzYzNmNlZWE4JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzYzNmNlZWE4JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzYzNmNlZWE4JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQbGF5ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTYzNmNlZWE4JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzYzNmNlZWE4Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NQbGF5ZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZTgxZTRkYTAmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2U4MWU0ZGEwJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2U4MWU0ZGEwJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2U4MWU0ZGEwJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lY3NQb3NpdGlvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZTgxZTRkYTAmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZTgxZTRkYTAnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1Bvc2l0aW9uLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDRmMGY0MmMmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1Byb3AudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdkNGYwZjQyYycpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdkNGYwZjQyYycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdkNGYwZjQyYycsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZWNzUHJvcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDRmMGY0MmMmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignZDRmMGY0MmMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1Byb3AudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lY3NQcm9wVGVsZXBvcnQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA4YjJkMWI1JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjA4YjJkMWI1XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMDhiMmQxYjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMDhiMmQxYjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMDhiMmQxYjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDhiMmQxYjUmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDhiMmQxYjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1Byb3BUZWxlcG9ydC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGVlODdiZjUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNGVlODdiZjUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNGVlODdiZjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNGVlODdiZjUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1RyYW5zZm9ybS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGVlODdiZjUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNGVlODdiZjUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWNzL2Vjc1RyYW5zZm9ybS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM3ZTIyZTVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMzdlMjJlNWUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMzdlMjJlNWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMzdlMjJlNWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2Vjc1dhbGwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM3ZTIyZTVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzM3ZTIyZTVlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2Vjcy9lY3NXYWxsLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YzQwN2RiZmEmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2M0MDdkYmZhJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2M0MDdkYmZhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2M0MDdkYmZhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lbnRpdHlJbnNwZWN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jNDA3ZGJmYSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdjNDA3ZGJmYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lY3MvZW50aXR5SW5zcGVjdC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2NyZWF0aW9uT3B0aW9ucy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ3Mzc2OWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vY3JlYXRpb25PcHRpb25zLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vY3JlYXRpb25PcHRpb25zLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNWQ3Mzc2OWUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNWQ3Mzc2OWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNWQ3Mzc2OWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2NyZWF0aW9uT3B0aW9ucy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ3Mzc2OWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNWQ3Mzc2OWUnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9jcmVhdGlvbk9wdGlvbnMudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01M2I0NjA1MSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNTNiNDYwNTEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNTNiNDYwNTEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNTNiNDYwNTEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2VkaXRNYXAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUzYjQ2MDUxJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzUzYjQ2MDUxJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2VkaXQvZWRpdE1hcC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02OWU2ZTIyMSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNjllNmUyMjEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNjllNmUyMjEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNjllNmUyMjEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02OWU2ZTIyMSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc2OWU2ZTIyMScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L2dyaWRFZGl0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUyYTUwNTIyJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1MmE1MDUyMicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1MmE1MDUyMicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1MmE1MDUyMicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbGlnaHRTZXR0aW5nc0VkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUyYTUwNTIyJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzUyYTUwNTIyJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2VkaXQvbGlnaHRTZXR0aW5nc0VkaXQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGQ0YzBmN2ImXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vcmVjb25uZWN0aW9uTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzRkNGMwZjdiJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzRkNGMwZjdiJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzRkNGMwZjdiJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGQ0YzBmN2ImXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNGQ0YzBmN2InLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9yZWNvbm5lY3Rpb25Nb2RhbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA3NTU5OGNhJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwNzU1OThjYScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwNzU1OThjYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwNzU1OThjYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vc2lkZUJhci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDc1NTk4Y2EmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDc1NTk4Y2EnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvZWRpdC9zaWRlQmFyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZmRlOGU3OGMmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vdG9vbEJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2ZkZThlNzhjJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2ZkZThlNzhjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2ZkZThlNzhjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi90b29sQmFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mZGU4ZTc4YyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdmZGU4ZTc4YycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9lZGl0L3Rvb2xCYXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUzOWYyYmZmJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1MzlmMmJmZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1MzlmMmJmZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZm9vdGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MzlmMmJmZiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1MzlmMmJmZicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9mb290ZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kODU1MGI0YSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaG9tZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZDg1NTBiNGEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZDg1NTBiNGEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZDg1NTBiNGEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2hvbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ4NTUwYjRhJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2Q4NTUwYjRhJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL2hvbWUvaG9tZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03ZTlkNDA2YyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9tYXBJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnN2U5ZDQwNmMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnN2U5ZDQwNmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnN2U5ZDQwNmMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL21hcElucHV0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03ZTlkNDA2YyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc3ZTlkNDA2YycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9ob21lL21hcElucHV0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIjx0ZW1wbGF0ZT5cbiAgICA8IS0tdHJhbnNpdGlvbiBuYW1lPVwibW9kYWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLW1hc2tcIlxuICAgICAgICAgICAgIG9uZHJhZ2VudGVyPVwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCJcbiAgICAgICAgICAgICBvbmRyYWdvdmVyPVwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCJcbiAgICAgICAgICAgICB2LW9uOm9uZHJvcD1cImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyBvbkRyb3AoZXZlbnQpXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGFpbmVyXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc2VydCBtYXAgdG8gbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXAgbG9hZGluZyBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBmb290ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWwtZGVmYXVsdC1idXR0b25cIiBAY2xpY2s9XCIkZW1pdCgnY2FuY2VsJylcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbi0tPlxuICAgIDxiLW1vZGFsIHJlZj1cIm15LW1vZGFsXCIgaGlkZS1mb290ZXIgdGl0bGU9XCJHaW1tZSB0aGUgbWFwXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkLWJsb2NrIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8aDM+SW5zZXJ0IG1hcCB0byBsb2FkPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxiLWJ1dHRvbiBjbGFzcz1cIm10LTNcIiB2YXJpYW50PVwib3V0bGluZS1kYW5nZXJcIiBibG9jayBAY2xpY2s9XCJoaWRlTW9kYWxcIj5DYW5jZWw8L2ItYnV0dG9uPlxuICAgIDwvYi1tb2RhbD5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiBcIm1hcElucHV0XCIsXG4gICAgICAgIGRhdGEoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZpbGU6IG51bGwsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIG9uRHJvcDogZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWRlTW9kYWw6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2xvc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuPC9zdHlsZT4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2hleGFnb25JY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03YzcxOGYxMCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9oZXhhZ29uSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2hleGFnb25JY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnN2M3MThmMTAnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnN2M3MThmMTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnN2M3MThmMTAnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2hleGFnb25JY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03YzcxOGYxMCZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc3YzcxOGYxMCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9pY29ucy9oZXhhZ29uSWNvbi52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL21vdXNlVHJhaWxJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01NjczYmI3MyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9tb3VzZVRyYWlsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL21vdXNlVHJhaWxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNTY3M2JiNzMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNTY3M2JiNzMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNTY3M2JiNzMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL21vdXNlVHJhaWxJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01NjczYmI3MyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1NjczYmI3MycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9pY29ucy9tb3VzZVRyYWlsSWNvbi52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xNWRjY2M5YyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi93YWxsSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL21udC9kYXRhL2hvbWUvc25vd3kvcHJvamVjdHMvZG5kbWUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMTVkY2NjOWMnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMTVkY2NjOWMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMTVkY2NjOWMnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xNWRjY2M5YyZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCcxNWRjY2M5YycsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS9pY29ucy93YWxsSWNvbi52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWIxMGFmNDk2JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvbW50L2RhdGEvaG9tZS9zbm93eS9wcm9qZWN0cy9kbmRtZS9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCdiMTBhZjQ5NicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCdiMTBhZjQ5NicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCdiMTBhZjQ5NicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjEwYWY0OTYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignYjEwYWY0OTYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjhhZDZlMTQmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2I4YWQ2ZTE0JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2I4YWQ2ZTE0JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2I4YWQ2ZTE0JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iOGFkNmUxNCZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdiOGFkNmUxNCcsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC91aS91dGlsL2VkaXRhYmxlQ29sb3IudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NmZlMTAwNDYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWRpdGFibGVOdW1iZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzZmZTEwMDQ2JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzZmZTEwMDQ2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzZmZTEwMDQ2JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NmZlMTAwNDYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNmZlMTAwNDYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvdWkvdXRpbC9lZGl0YWJsZU51bWJlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9Yzc2OTY1MmMmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9tbnQvZGF0YS9ob21lL3Nub3d5L3Byb2plY3RzL2RuZG1lL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2M3Njk2NTJjJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2M3Njk2NTJjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2M3Njk2NTJjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM3Njk2NTJjJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2M3Njk2NTJjJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvYXBwL3VpL3V0aWwvZWRpdGFibGVUZXh0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY29tcFdyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzQmFja2dyb3VuZEltYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NCYWNrZ3JvdW5kSW1hZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NEb29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTGlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc0xpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzTmFtZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NQaW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bpbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1BsYXllci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUGxheWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc1Byb3BUZWxlcG9ydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzUHJvcFRlbGVwb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWNzVHJhbnNmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NUcmFuc2Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NXYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NyZWF0aW9uT3B0aW9ucy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vY3JlYXRpb25PcHRpb25zLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2dyaWRFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ncmlkRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xpZ2h0U2V0dGluZ3NFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9saWdodFNldHRpbmdzRWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3JlY29ubmVjdGlvbk1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9yZWNvbm5lY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi90b29sQmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaGV4YWdvbkljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hleGFnb25JY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbW91c2VUcmFpbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL21vdXNlVHJhaWxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vd2FsbEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3dhbGxJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbG9hZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbG9hZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlQ29sb3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZU51bWJlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVOdW1iZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZVRleHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbWFwSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfYyhcImRpdlwiLCBbXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJjd3JhcHBlcl9jb21wb25lbnQtaGVhZGVyXCIgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdm0udmlzaWJsZSA9ICFfdm0udmlzaWJsZVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbX3ZtLl92KFwiIFwiICsgX3ZtLl9zKF92bS5jb21wb25lbnQudHlwZU5hbWUpKV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJjd3JhcHBlcl9jb21wb25lbnQtYXJyb3dcIixcbiAgICAgICAgICAgICAgY2xhc3M6IHsgY3dyYXBwZXJfcm90YXRlOiBfdm0udmlzaWJsZSB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNTdHlsZTogeyB3aWR0aDogXCIxMDAlXCIgfSB9KSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuY2xpZW50VmlzaWJsZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZSAhPT0gdW5kZWZpbmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgZGlzcGxheTogXCJncmlkXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiSGlkZSBjb21wb25lbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlNob3cgY29tcG9uZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29tcG9uZW50LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xpZW50VmlzaWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAhX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29tcG9uZW50Lm11bHRpSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29tcG9uZW50LmNsaWVudFZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuY2xpZW50VmlzaWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImcxMVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWVcIiB9KV1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhX3ZtLmNvbXBvbmVudC5jbGllbnRWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiIWNvbXBvbmVudC5jbGllbnRWaXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZzExXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWV5ZS1zbGFzaFwiIH0pXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2lzRnVsbHNjcmVlbiAhPT0gdW5kZWZpbmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBcInByaW1hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJGdWxsc2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQuX2lzRnVsbHNjcmVlbiA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXhwYW5kXCIgfSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5fY2FuRGVsZXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQuX2NhbkRlbGV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJkYW5nZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiJFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlbW92ZUNvbXBvbmVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29tcG9uZW50LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jb21wb25lbnQubXVsdGlJZFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS10cmFzaFwiIH0pXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIDFcbiAgICAgICAgKSxcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItY29sbGFwc2VcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImN3cmFwcGVyX2NvbXBvbmVudC1ib2R5XCIsXG4gICAgICAgICAgYXR0cnM6IHsgdmlzaWJsZTogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGUsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0udmlzaWJsZSA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwidmlzaWJsZVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhfdm0uY29tcG9uZW50VHlwZSwge1xuICAgICAgICAgICAgdGFnOiBcImNvbXBvbmVudFwiLFxuICAgICAgICAgICAgYXR0cnM6IHsgY29tcG9uZW50OiBfdm0uY29tcG9uZW50LCBpc0FkbWluOiBfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCI6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFxuICAgICAgICAgICAgICAgICAgXCJlY3MtcHJvcGVydHktY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHNbM11cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJzcGFuXCIsIFtfdm0uX3YoXCJZb3VyIHJlZ3VsYXIgYmFja2dyb3VuZCBpbWFnZVwiKV0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFR5cGU6XFxuICAgIFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgW1xuICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBcIiArIF92bS5fcyh0aGlzLmRvb3JUeXBlTmFtZSkgKyBcIlxcbiAgICBcIiksXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJiLWZvcm0tc2VsZWN0XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJtYi0zXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZG9vclR5cGUsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uZG9vclR5cGUgPSAkJHZcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImRvb3JUeXBlXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFwiYi1mb3JtLXNlbGVjdC1vcHRpb25cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJub3JtYWxsXCIgfSB9LCBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCJOb3JtYWxcIiksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcImItZm9ybS1zZWxlY3Qtb3B0aW9uXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwibm9ybWFsclwiIH0gfSwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiTm9ybWFsIHJpZ2h0XCIpLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJiLWZvcm0tc2VsZWN0LW9wdGlvblwiLCB7IGF0dHJzOiB7IHZhbHVlOiBcInJvdGF0ZVwiIH0gfSwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiUm90YXRpbmdcIiksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoX3ZtLm9wZW4gPyBcIk9wZW5cIiA6IFwiQ2xvc2VkXCIpKV0pXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgIV92bS5pc0FkbWluXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidGhpcy5sb2NrZWRcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC41cmVtXCIgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1sb2NrXCIgfSldXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmlzQWRtaW5cbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyBwcmVzc2VkOiBfdm0ub3BlbiB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBcInVwZGF0ZTpwcmVzc2VkXCI6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLm9wZW4gPSAkZXZlbnRcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoX3ZtLm9wZW4gPyBcIk9wZW5cIiA6IFwiQ2xvc2VkXCIpKV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHByZXNzZWQ6IF92bS5sb2NrZWQgfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS5sb2NrZWQgPSAkZXZlbnRcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0ubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJsb2NrZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9ja1wiIH0pXVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIV92bS5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIiFsb2NrZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtbG9jay1vcGVuXCIgfSldXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIENvbG9yOlxcbiAgICBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtY29sb3JcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbG9yLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLmNvbG9yID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb2xvclwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFZpc2liaWxpdHkgUmFuZ2U6XFxuICAgIFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sIGlzTmVnYXRpdmU6IFwiZmFsc2VcIiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ucmFuZ2UsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0ucmFuZ2UgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInJhbmdlXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJlZGl0YWJsZS10ZXh0XCIsIHtcbiAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluLCBwbGFjZWhvbGRlcjogXCJFbnRpdHkgbmFtZVwiIH0sXG4gICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICBtb2RlbDoge1xuICAgICAgdmFsdWU6IF92bS5jb21wb25lbnQubmFtZSxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgIF92bS4kc2V0KF92bS5jb21wb25lbnQsIFwibmFtZVwiLCAkJHYpXG4gICAgICB9LFxuICAgICAgZXhwcmVzc2lvbjogXCJjb21wb25lbnQubmFtZVwiLFxuICAgIH0sXG4gIH0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfYyhcImItdGV4dGFyZWFcIiwge1xuICAgICAgICBzdGF0aWNDbGFzczogXCJocHJpb3IgZWNzLW5vdGVfdGV4dGFyZWFcIixcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJXcml0ZSBzb21ldGhpbmcgaGVyZS4uLlwiLFxuICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgdmFsdWU6IF92bS5ub3RlLFxuICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICBfdm0ubm90ZSA9ICQkdlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwcmVzc2lvbjogXCJub3RlXCIsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLW1vZGFsXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdGl0bGU6IFwiTm90ZVwiLFxuICAgICAgICAgICAgXCJoaWRlLWZvb3RlclwiOiBcIlwiLFxuICAgICAgICAgICAgXCJoaWRlLWhlYWRlclwiOiBcIlwiLFxuICAgICAgICAgICAgXCJkaWFsb2ctY2xhc3NcIjogXCJtb2RhbC1mdWxsc2NyZWVuIG1vZGFsLXh4bFwiLFxuICAgICAgICAgICAgXCJjb250ZW50LWNsYXNzXCI6IFwibW9kYWwtY29udGVudC1kYXJrXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBcIm1vZGFsLWZvb3RlclwiLFxuICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcHJveHk6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pLFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmNvbXBvbmVudC5faXNGdWxsc2NyZWVuLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmNvbXBvbmVudCwgXCJfaXNGdWxsc2NyZWVuXCIsICQkdilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImNvbXBvbmVudC5faXNGdWxsc2NyZWVuXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiYi10ZXh0YXJlYVwiLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJocHJpb3IgZWNzLW5vdGVfdGV4dGFyZWFcIixcbiAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGhlaWdodDogXCIxMDAlXCIsIHJlc2l6ZTogXCJub25lXCIgfSxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIldyaXRlIHNvbWV0aGluZyBoZXJlLi4uXCIsXG4gICAgICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0ubm90ZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICBfdm0ubm90ZSA9ICQkdlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIm5vdGVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIFtcbiAgICAgIF92bS5pc0FkbWluXG4gICAgICAgID8gW1xuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBDb2xvcjpcXG4gICAgICBcIiksXG4gICAgICAgICAgICAgICAgX2MoXCJlZGl0YWJsZS1jb2xvclwiLCB7XG4gICAgICAgICAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uY29sb3IgPSAkJHZcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjb2xvclwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBdXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgXSxcbiAgICAyXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIE5pZ2h0IHZpc2lvbjpcXG4gICAgXCIpLFxuICAgICAgICBfdm0uaXNBZG1pblxuICAgICAgICAgID8gX2MoXCJiLWZvcm0tY2hlY2tib3hcIiwge1xuICAgICAgICAgICAgICBvbjogeyBpbnB1dDogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5uaWdodFZpc2lvbixcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLm5pZ2h0VmlzaW9uID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIm5pZ2h0VmlzaW9uXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogX2MoXCJzcGFuXCIsIHsgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tbGVmdFwiOiBcIjAuNXJlbVwiIH0gfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5uaWdodFZpc2lvbiA/IFwieWVzXCIgOiBcIm5vXCIpKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIFZpc2liaWxpdHkgUmFuZ2U6XFxuICAgIFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4sIGlzTmVnYXRpdmU6IFwiZmFsc2VcIiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ucmFuZ2UsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0ucmFuZ2UgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInJhbmdlXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBYOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS54LFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLnggPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInhcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBZOiBcIiksXG4gICAgICAgIF9jKFwiZWRpdGFibGUtbnVtYmVyXCIsIHtcbiAgICAgICAgICBhdHRyczogeyByZWFkb25seTogIV92bS5pc0FkbWluIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS55LFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLnkgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInlcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJhbGlnbi1pdGVtc1wiOiBcImNlbnRlclwiIH0gfSwgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVGFyZ2V0OiBcIiksXG4gICAgICAgIF9jKFwic3BhblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0uZm9jdXNUYXJnZXQgfSB9LCBbXG4gICAgICAgICAgX3ZtLl92KF92bS5fcyh0aGlzLmNvbXBvbmVudC50YXJnZXRQcm9wKSksXG4gICAgICAgIF0pLFxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJiLWJ1dHRvblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0ubGluayB9IH0sIFtfdm0uX3YoXCJMaW5rXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJiLWJ1dHRvblwiLCB7IG9uOiB7IGNsaWNrOiBfdm0udXNlIH0gfSwgW192bS5fdihcIlVzZVwiKV0pLFxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgW1xuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sXG4gICAgICBbXG4gICAgICAgIF92bS5fdihcIlxcbiAgICBBbmdsZTogXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICFfdm0uaXNBZG1pbiB9LFxuICAgICAgICAgIG9uOiB7IGNoYW5nZTogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgIHZhbHVlOiBfdm0ucm90YXRpb24sXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0ucm90YXRpb24gPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcInJvdGF0aW9uXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgU2NhbGU6IFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnNjYWxlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLnNjYWxlID0gJCR2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJzY2FsZVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfdm0uX3YoXCJcXG4gICAgVzogXCIpLFxuICAgICAgICBfYyhcImVkaXRhYmxlLW51bWJlclwiLCB7XG4gICAgICAgICAgYXR0cnM6IHsgcmVhZG9ubHk6ICF0aGlzLmlzQWRtaW4gfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkNoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLncsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0udyA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwid1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl92KFwiXFxuICAgIEg6IFwiKSxcbiAgICAgICAgX2MoXCJlZGl0YWJsZS1udW1iZXJcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhdGhpcy5pc0FkbWluIH0sXG4gICAgICAgICAgb246IHsgY2hhbmdlOiBfdm0ub25DaGFuZ2UgfSxcbiAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgdmFsdWU6IF92bS5oLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgX3ZtLmggPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImhcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgdmFsdWU6IF92bS5kYXRhLmNvbXBvbmVudHMubGVuZ3RoID4gMCxcbiAgICAgICAgICBleHByZXNzaW9uOiBcImRhdGEuY29tcG9uZW50cy5sZW5ndGggPiAwXCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZW50aXR5LWluc3BlY3RfY29tcG9uZW50LWJ0bi1oZWFkZXJcIiB9LFxuICAgICAgICBbXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93blwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwidG9nZ2xlLWNsYXNzXCI6IFwicm91bmRlZC0wXCIsIHZhcmlhbnQ6IFwic3VjY2Vzc1wiIH0sXG4gICAgICAgICAgICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImJ1dHRvbi1jb250ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1wbHVzXCIgfSldXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIDE3NzQ1NTQ2NDFcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5kYXRhLmFkZGFibGUsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTcGVjaWFsKFwiYWRkQ29tcG9uZW50XCIsIHgudHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiXFxuICAgICAgICBcIiArIF92bS5fcyh4Lm5hbWUpICsgXCJcXG4gICAgICBcIildXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImdyaWRcIiB9LFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF92bS5kYXRhLmhpZGRlbiA/IFwiU2hvdyBlbnRpdHlcIiA6IFwiSGlkZSBlbnRpdHlcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZW1pdFNwZWNpYWwoXCJoaWRkZW5cIiwgIV92bS5kYXRhLmhpZGRlbilcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImcxMVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBfdm0uZGF0YS5oaWRkZW4gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1leWUtc2xhc2hcIiB9KV1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJnMTFcIixcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogX3ZtLmRhdGEuaGlkZGVuID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXllXCIgfSldXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJkYW5nZXJcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRGVsZXRlIGVudGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtdHJhc2hcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFuZDogXCJkYW5nZXJcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRm9yZ2V0IGVudGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICBzcXVhcmVkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U3BlY2lhbChcImZvcmdldFwiKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtZXJhc2VyXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX3ZtLl9sKF92bS5kYXRhLmNvbXBvbmVudHMsIGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgIHJldHVybiBfYyhcImVjcy1jb21wb25lbnQtd3JhcHBlclwiLCB7XG4gICAgICAgICAga2V5OiBjb21wLnR5cGUgKyAoY29tcC5tdWx0aUlkIHx8IFwiXCIpLFxuICAgICAgICAgIGF0dHJzOiB7IGNvbXBvbmVudDogY29tcCwgaXNBZG1pbjogX3ZtLndvcmxkLmlzTWFzdGVyIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiZWNzLXByb3BlcnR5LWNoYW5nZVwiOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdm0ub25FY3NQcm9wZXJ0eUNoYW5nZShcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1syXSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbM11cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgfSksXG4gICAgXSxcbiAgICAyXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfdm0udmlzaWJsZVxuICAgID8gX2MoXCJzZWN0aW9uXCIsIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7IHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBcImFsaWduLWl0ZW1zXCI6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIF92bS5fdihcIlxcbiAgICBDcmVhdGUgb25jZTpcXG4gICAgXCIpLFxuICAgICAgICAgICAgX2MoXCJiLWZvcm0tY2hlY2tib3hcIiwge1xuICAgICAgICAgICAgICBvbjogeyBpbnB1dDogX3ZtLm9uQ2hhbmdlIH0sXG4gICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5leGl0QWZ0ZXJDcmVhdGlvbixcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgX3ZtLmV4aXRBZnRlckNyZWF0aW9uID0gJCR2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImV4aXRBZnRlckNyZWF0aW9uXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIDFcbiAgICAgICAgKSxcbiAgICAgIF0pXG4gICAgOiBfdm0uX2UoKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJlZGl0LW1hcF9nYW1lXCIgfSxcbiAgICBbXG4gICAgICBfYyhcInRvb2wtYmFyXCIsIHsgYXR0cnM6IHsgd29ybGQ6IF92bS53b3JsZCB9IH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiZGl2XCIsIHtcbiAgICAgICAgc3RhdGljU3R5bGU6IHtcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcImNhbGMoMTAwdmggLSB2YXIoLS10b3BiYXItaGVpZ2h0KSlcIixcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IHsgaWQ6IFwiY2FudmFzLWNvbnRhaW5lclwiIH0sXG4gICAgICB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcInNpZGUtYmFyXCIsIHsgYXR0cnM6IHsgd29ybGQ6IF92bS53b3JsZCB9IH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICFfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgPyBfYyhcInJlY29ubmVjdGlvbi1tb2RhbFwiLCB7IGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfSB9KVxuICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiYVwiLCB7XG4gICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0sXG4gICAgICAgIGF0dHJzOiB7IGlkOiBcImhpZGRlbi1kb3dubG9hZC1saW5rXCIgfSxcbiAgICAgIH0pLFxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfdm0uX3YoXCJcXG4gIFR5cGU6XFxuICBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJiLXJhZGlvLWdyb3VwXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBhdHRyczogeyBpZDogXCJncmlkLXR5cGUtcmFkaW9cIiwgYnV0dG9uczogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQudHlwZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInR5cGVcIiwgJCR2KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC50eXBlXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiYi1yYWRpb1wiLCB7IGF0dHJzOiB7IHZhbHVlOiBcIm5vbmVcIiB9IH0sIFtcbiAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1ib3JkZXItbm9uZVwiIH0pLFxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJiLXJhZGlvXCIsIHsgYXR0cnM6IHsgdmFsdWU6IFwic3F1YXJlXCIgfSB9LCBbXG4gICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXIgZmEtc3F1YXJlXCIgfSksXG4gICAgICAgICAgXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImItcmFkaW9cIiwgeyBhdHRyczogeyB2YWx1ZTogXCJoZXhcIiB9IH0sIFtfYyhcImhleGFnb24taWNvblwiKV0sIDEpLFxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF92bS5ncmlkLnR5cGUgIT09IFwibm9uZVwiXG4gICAgICAgID8gX2MoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgW192bS5fdihcIlVuaXQ6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc2l6ZTogXCJzbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC51bml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwidW5pdFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnVuaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCBbX3ZtLl92KFwiU2l6ZTpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIxMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjUxMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwic2l6ZVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnNpemVcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMTBcIiwgbWF4OiBcIjUxMlwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5zaXplLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwic2l6ZVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLnNpemVcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIFtfdm0uX3YoXCJYb2Zmc2V0OlwiKV0pLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJwLTJcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiBcIjAuMDAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9mZlgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvZmZYXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub2ZmWFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInJhbmdlXCIsIG1pbjogXCIwXCIsIG1heDogXCIxXCIsIHN0ZXA6IFwiMC4wMDFcIiB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWCxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9mZlhcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vZmZYXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZC1mbGV4IGZsZXgtcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIllvZmZzZXQ6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IFwiMC4wMDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmdyaWQub2ZmWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcIm9mZllcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC5vZmZZXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwicmFuZ2VcIiwgbWluOiBcIjBcIiwgbWF4OiBcIjFcIiwgc3RlcDogXCIwLjAwMVwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vZmZZLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib2ZmWVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9mZllcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuXFxuICAgIENvbG9yOiBcIiArIF92bS5fcyhfdm0uZ3JpZC5jb2xvcikgKyBcIlxcbiAgICBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJjb2xvclwiIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5jb2xvcixcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcImNvbG9yXCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQuY29sb3JcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHt9LCBbX3ZtLl92KFwiT3BhY2l0eTpcIildKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwicC0yXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogXCIwLjAwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwib3BhY2l0eVwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJncmlkLm9wYWNpdHlcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMFwiLCBtYXg6IFwiMVwiLCBzdGVwOiBcIjAuMDAxXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZ3JpZCwgXCJvcGFjaXR5XCIsICQkdilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQub3BhY2l0eVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJUaGlja25lc3M6XCIpXSksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInAtMlwiIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBcIjIwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZ3JpZC50aGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5ncmlkLCBcInRoaWNrXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImdyaWQudGhpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiYi1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJyYW5nZVwiLCBtaW46IFwiMVwiLCBtYXg6IFwiMjAwXCIgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5ncmlkLnRoaWNrLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmdyaWQsIFwidGhpY2tcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZ3JpZC50aGlja1wiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInB4LTMgcHktMlwiIH0sIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1jZW50ZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcImRpdlwiLCB7fSwgW192bS5fdihcIkxpZ2h0OlwiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiY29sb3JcIiwgcmVhZG9ubHk6ICFfdm0ud29ybGQuaXNNYXN0ZXIgfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkFtYmllbnRMaWdodENoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmFtYmllbnRMaWdodCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgIF92bS5hbWJpZW50TGlnaHQgPSAkJHZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHByZXNzaW9uOiBcImFtYmllbnRMaWdodFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJOZWVkcyBsaWdodDpcIildKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJiLWZvcm0tY2hlY2tib3hcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHJlYWRvbmx5OiAhX3ZtLndvcmxkLmlzTWFzdGVyIH0sXG4gICAgICAgICAgb246IHsgaW5wdXQ6IF92bS5vbkFtYmllbnRMaWdodENoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLm5lZWRzTGlnaHQsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0ubmVlZHNMaWdodCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwibmVlZHNMaWdodFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJWaXNpb24gdHlwZTpcIildKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHByZXNzZWQ6IF92bS5yb2xlcGxheVZpc2lvbixcbiAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0ud29ybGQuaXNNYXN0ZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgXCJ1cGRhdGU6cHJlc3NlZFwiOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3ZtLnJvbGVwbGF5VmlzaW9uID0gJGV2ZW50XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICBcIlxcbiAgICAgIFwiICtcbiAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLnJvbGVwbGF5VmlzaW9uID8gXCJSb2xlcGxheWVyXCIgOiBcIk1hc3RlclwiKSArXG4gICAgICAgICAgICAgICAgXCJcXG4gICAgXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXVxuICAgICAgICApLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyXCIgfSxcbiAgICAgIFtcbiAgICAgICAgX2MoXCJkaXZcIiwge30sIFtfdm0uX3YoXCJCYWNrZ3JvdW5kOlwiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImItaW5wdXRcIiwge1xuICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiY29sb3JcIiwgcmVhZG9ubHk6ICFfdm0ud29ybGQuaXNNYXN0ZXIgfSxcbiAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5vbkFtYmllbnRMaWdodENoYW5nZSB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLmJhY2tncm91bmQsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0uYmFja2dyb3VuZCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwiYmFja2dyb3VuZFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgW1xuICAgICAgICBfYyhcImItYnV0dG9uXCIsIHsgb246IHsgY2xpY2s6IF92bS5vbkxpZ2h0U2V0dGluZ3NSZXNldCB9IH0sIFtcbiAgICAgICAgICBfdm0uX3YoXCJSZXNldFwiKSxcbiAgICAgICAgXSksXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJiLW1vZGFsXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJuby1jbG9zZS1vbi1iYWNrZHJvcFwiOiBcIlwiLFxuICAgICAgICBcIm5vLWNsb3NlLW9uLWVzY1wiOiBcIlwiLFxuICAgICAgICBcImhpZGUtaGVhZGVyLWNsb3NlXCI6IFwiXCIsXG4gICAgICAgIFwiaGVhZGVyLWJnLXZhcmlhbnRcIjogXCJkYXJrXCIsXG4gICAgICAgIFwiaGVhZGVyLXRleHQtdmFyaWFudFwiOiBcImxpZ2h0XCIsXG4gICAgICAgIFwiaGVhZGVyLWNsYXNzXCI6IFwiYm9yZGVyLWJvdHRvbS0wXCIsXG4gICAgICAgIFwiYm9keS1iZy12YXJpYW50XCI6IFwiZGFya1wiLFxuICAgICAgICBcImJvZHktdGV4dC12YXJpYW50XCI6IFwibGlnaHRcIixcbiAgICAgICAgXCJmb290ZXItYmctdmFyaWFudFwiOiBcImRhcmtcIixcbiAgICAgICAgXCJmb290ZXItdGV4dC12YXJpYW50XCI6IFwibGlnaHRcIixcbiAgICAgICAgXCJmb290ZXItY2xhc3NcIjogXCJib3JkZXItdG9wLTBcIixcbiAgICAgICAgdGl0bGU6IFwiQ29ubmVjdGluZy4uLlwiLFxuICAgICAgfSxcbiAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoW1xuICAgICAgICB7XG4gICAgICAgICAga2V5OiBcIm1vZGFsLWZvb3RlclwiLFxuICAgICAgICAgIGZuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc2l6ZTogXCJzbVwiLCB2YXJpYW50OiBcIm91dGxpbmUtc2Vjb25kYXJ5XCIgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zdG9wKClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX3ZtLl92KFwiXFxuICAgICAgQ2FuY2VsXFxuICAgIFwiKV1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3h5OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgXSksXG4gICAgICBtb2RlbDoge1xuICAgICAgICB2YWx1ZTogX3ZtLnNob3VsZEJlU2hvd24sXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgX3ZtLnNob3VsZEJlU2hvd24gPSAkJHZcbiAgICAgICAgfSxcbiAgICAgICAgZXhwcmVzc2lvbjogXCJzaG91bGRCZVNob3duXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgW192bS5fdihcIlxcbiAgXCIgKyBfdm0uX3MoX3ZtLmJvZHlNZXNzYWdlKSArIFwiXFxuXFxuICBcIildXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImItc2lkZWJhclwiLFxuICAgIHtcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGlkOiBcInNpZGViYXItcmlnaHRcIixcbiAgICAgICAgdGl0bGU6IFwiU2lkZWJhclwiLFxuICAgICAgICBcImJnLXZhcmlhbnRcIjogXCJkYXJrXCIsXG4gICAgICAgIFwidGV4dC12YXJpYW50XCI6IFwibGlnaHRcIixcbiAgICAgICAgcmlnaHQ6IFwiXCIsXG4gICAgICAgIHZpc2libGU6IFwiXCIsXG4gICAgICAgIFwibm8taGVhZGVyXCI6IFwiXCIsXG4gICAgICAgIHNoYWRvdzogXCJcIixcbiAgICAgICAgXCJzaWRlYmFyLWNsYXNzXCI6IFwidW5kZXItbmF2YmFyXCIsXG4gICAgICB9LFxuICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6IFwiZm9vdGVyXCIsXG4gICAgICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwic2lkZWJhci1mb290ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgXCIgKyBfdm0uX3MoX3ZtLnRyYWNrZXJDb3VudCkgKyBcIlxcbiAgICAgIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY1N0eWxlOiB7IFwibWFyZ2luLWxlZnRcIjogXCIwLjJyZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1zZXJ2ZXJcIiB9KSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBcIiArIF92bS5fcyhfdm0uY29ubmVjdGlvbkNvdW50KSArIFwiXFxuICAgICAgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgcm90YXRlOiBfdm0uY29ubmVjdGlvbkJ1ZmZlcmluZyB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1sZWZ0XCI6IFwiMC4ycmVtXCIgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXN5bmMtYWx0XCIgfSldXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcm94eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIF0pLFxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXCJncmlkLWVkaXRcIiwge1xuICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgdmFsdWU6IF92bS50b29sID09PSBcImdyaWRcIixcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwidG9vbCA9PT0gJ2dyaWQnXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc3RhdGljQ2xhc3M6IFwicHgtMyBweS0yXCIsXG4gICAgICAgIGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfSxcbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS50b29sID09PSBcImluc3BlY3RcIixcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ0b29sID09PSAnaW5zcGVjdCdcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgW19jKFwiZW50aXR5LWluc3BlY3RcIiwgeyBhdHRyczogeyB3b3JsZDogX3ZtLndvcmxkIH0gfSldLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwibGlnaHQtc2V0dGluZ3MtZWRpdFwiLCB7XG4gICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wgPT09IFwibGlnaHRcIixcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwidG9vbCA9PT0gJ2xpZ2h0J1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGF0dHJzOiB7IHdvcmxkOiBfdm0ud29ybGQgfSxcbiAgICAgIH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiY3JlYXRpb24tb3B0aW9uc1wiLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcInB4LTMgcHktMlwiLFxuICAgICAgICBhdHRyczogeyB3b3JsZDogX3ZtLndvcmxkIH0sXG4gICAgICB9KSxcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiYi1idXR0b24tdG9vbGJhclwiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImJnLWRhcmtcIixcbiAgICAgIHN0YXRpY1N0eWxlOiB7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcInZhcigtLXRvcGJhci1oZWlnaHQpXCIsXG4gICAgICAgIFwiei1pbmRleFwiOiBcIjEwMDBcIixcbiAgICAgIH0sXG4gICAgICBhdHRyczogeyB0eXBlOiBcImRhcmtcIiwgdmFyaWFudDogXCJpbmZvXCIsIGp1c3RpZnk6IFwiXCIgfSxcbiAgICB9LFxuICAgIFtcbiAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICA/IF9jKFxuICAgICAgICAgICAgXCJiLWJ1dHRvbi1ncm91cFwiLFxuICAgICAgICAgICAgeyBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1yaWdodFwiOiBcIjJyZW1cIiB9IH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZSB1bmRvLXJlZG8tYnRuXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJVbmRvXCIsXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5jYW5VbmRvLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS51bmRvKClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXVuZG9cIiB9KV1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplIHVuZG8tcmVkby1idG5cIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlJlZG9cIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICF0aGlzLmNhblJlZG8sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlZG8oKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtcmVkb1wiIH0pXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1yYWRpby1ncm91cFwiLFxuICAgICAgICB7XG4gICAgICAgICAgYXR0cnM6IHsgYnV0dG9uczogXCJcIiB9LFxuICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICB2YWx1ZTogX3ZtLnRvb2wsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCQkdikge1xuICAgICAgICAgICAgICBfdm0udG9vbCA9ICQkdlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cHJlc3Npb246IFwidG9vbFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByZWY6IFwicmFkaW9pbnNwZWN0XCIsXG4gICAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgXCJ0b29sYmFyLWJ0blwiOiB0aGlzLmJhY2tncm91bmRMb2NrZWQsXG4gICAgICAgICAgICAgICAgXCJidG4td2FybmluZ1wiOiAhdGhpcy5iYWNrZ3JvdW5kTG9ja2VkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJJbnNwZWN0XCIsIHZhbHVlOiBcImluc3BlY3RcIiwgc3F1YXJlZDogXCJcIiB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJmYXMgZmEtaGFuZC1wb2ludGVyXCIgfSldXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQWRkIHdhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiY3JlYXRlX3dhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJ3YWxsLWljb25cIildLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQWRkIHByb3BcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiY3JlYXRlX3Byb3BcIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWNvdWNoXCIgfSldXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfdm0ud29ybGQuaXNNYXN0ZXJcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJiLXJhZGlvXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIkFkZCBwaW5cIiwgdmFsdWU6IFwiY3JlYXRlX3BpblwiLCBzcXVhcmVkOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLXRodW1idGFja1wiIH0pXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJFZGl0IGdyaWRcIiwgdmFsdWU6IFwiZ3JpZFwiLCBzcXVhcmVkOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWJvcmRlci1hbGxcIiB9KV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ0b29sYmFyLWJ0biBwbHotcHJpb3JpdGl6ZVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiTGlnaHQgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwibGlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwiZmFzIGZhLWxpZ2h0YnVsYlwiIH0pXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLndvcmxkLmlzTWFzdGVyXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYi1yYWRpb1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRvb2xiYXItYnRuIHBsei1wcmlvcml0aXplXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCJNZWFzdXJlXCIsIHZhbHVlOiBcIm1lYXN1cmVcIiwgc3F1YXJlZDogXCJcIiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1ydWxlclwiIH0pXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItcmFkaW9cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidG9vbGJhci1idG4gcGx6LXByaW9yaXRpemVcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJNb3VzZSB0cmFpbFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIm1vdXNlX3RyYWlsXCIsXG4gICAgICAgICAgICAgICAgc3F1YXJlZDogXCJcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX2MoXCJtb3VzZS10cmFpbC1pY29uXCIpXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF92bS53b3JsZC5pc01hc3RlclxuICAgICAgICA/IF9jKFxuICAgICAgICAgICAgXCJiLWJ1dHRvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4teHNcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiRXhwb3J0IG1hcFwiLCBzcXVhcmVkOiBcIlwiLCB2YXJpYW50OiBcInN1Y2Nlc3NcIiB9LFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLndvcmxkLmV2ZW50cy5lbWl0KFwiZXhwb3J0X21hcFwiKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1kb3dubG9hZFwiIH0pXVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY1N0eWxlOiB7IGZsZXg6IFwiMSAxIDBcIiB9IH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwiYi10b2dnbGVcIixcbiAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LWItdG9nZ2xlLnNpZGViYXItcmlnaHRcIixcbiAgICAgICAgICAgICAgbW9kaWZpZXJzOiB7IFwic2lkZWJhci1yaWdodFwiOiB0cnVlIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuLXhzXCIsXG4gICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IFwiVG9nZ2xlIHNpZGViYXJcIiwgdmFyaWFudDogXCJ3YXJuaW5nXCIgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW19jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcImZhcyBmYS1hbmdsZS1kb3VibGUtcmlnaHRcIiB9KV1cbiAgICAgICksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfdm0uX20oMClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3ZtID0gdGhpc1xuICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICAgIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImZvb3RlclwiIH0sIFtcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZm9vdGVyX2NyZWRpdHNcIiB9LCBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwibGlua3NcIiB9LCBbXG4gICAgICAgICAgX2MoXCJhXCIsIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvb3Rlcl9naXRodWJcIixcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL1Nub3d5Q29kZXIvZG5kbWVcIixcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwic21hbGxcIiwgeyBzdGF0aWNTdHlsZTogeyBjb2xvcjogXCJsaWdodGdyYXlcIiB9IH0sIFtcbiAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICBEZXZlbG9wZWQgYnkgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvb3Rlcl9wcm9maWxlXCIsXG4gICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vU25vd3lDb2RlclwiLFxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX3ZtLl92KFwiUm9zc2kgTG9yZW56b1wiKV1cbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiAvXFxuICAgICAgRHJhd2luZ3MgYnkgXCIpLFxuICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSB9LCBbXG4gICAgICAgICAgICBfdm0uX3YoXCJHaW9yZ2lhIE5penpvbGlcIiksXG4gICAgICAgICAgXSksXG4gICAgICAgIF0pLFxuICAgICAgXSksXG4gICAgXSlcbiAgfSxcbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgXCJwaGFzZS1jb250YWluZXIgdGV4dC1jZW50ZXIgZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgcm93XCIsXG4gICAgICBzdGF0aWNTdHlsZTogeyBoZWlnaHQ6IFwiMTAwdmhcIiwgbWFyZ2luOiBcIjBcIiB9LFxuICAgIH0sXG4gICAgW1xuICAgICAgX3ZtLl9tKDApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1lbnRyeVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcIndhcm5pbmdcIiwgc2l6ZTogXCJsZ1wiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ub25DcmVhdGVNYXAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbX3ZtLl92KFwiQ3JlYXRlIE1hcFwiKV1cbiAgICAgICAgICApLFxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImItYnV0dG9uXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0bi1lbnRyeVwiLFxuICAgICAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcImluZm9cIiwgc2l6ZTogXCJsZ1wiIH0sXG4gICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ub25FZGl0TWFwIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW192bS5fdihcIkVkaXQgTWFwXCIpXVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1tb2RhbFwiLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmOiBcIm1hcC1sb2FkLW1vZGFsXCIsXG4gICAgICAgICAgYXR0cnM6IHsgXCJoaWRlLWZvb3RlclwiOiBcIlwiLCB0aXRsZTogXCJHaW1tZSB0aGUgbWFwXCIgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiYi1mb3JtLWZpbGVcIiwge1xuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgc3RhdGU6IEJvb2xlYW4oX3ZtLmZpbGUpLFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJDaG9vc2UgYSBmaWxlIG9yIGRyb3AgaXQgaGVyZS4uLlwiLFxuICAgICAgICAgICAgICBcImRyb3AtcGxhY2Vob2xkZXJcIjogXCJEcm9wIGZpbGUgaGVyZS4uLlwiLFxuICAgICAgICAgICAgICBhY2NlcHQ6IFwiLmRuZG1cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZpbGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoJCR2KSB7XG4gICAgICAgICAgICAgICAgX3ZtLmZpbGUgPSAkJHZcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmaWxlXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiZm9vdGVyLWNvbXBvbmVudFwiKSxcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidGV4dC13aGl0ZVwiIH0sIFtcbiAgICAgIF9jKFxuICAgICAgICBcInBcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRpdGxlXCIsXG4gICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJmb250LXNpemVcIjogXCIzLjVlbVwiLCBtYXJnaW46IFwiMFwiIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtfdm0uX3YoXCJEUkFXJkRJQ0VcIildXG4gICAgICApLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwicFwiLCB7IHN0YXRpY1N0eWxlOiB7IFwiZm9udC1zaXplXCI6IFwiMmVtXCIgfSB9LCBbXG4gICAgICAgIF92bS5fdihcIkRuZCBtYWRlIGV6IVwiKSxcbiAgICAgIF0pLFxuICAgIF0pXG4gIH0sXG5dXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiYi1tb2RhbFwiLFxuICAgIHsgcmVmOiBcIm15LW1vZGFsXCIsIGF0dHJzOiB7IFwiaGlkZS1mb290ZXJcIjogXCJcIiwgdGl0bGU6IFwiR2ltbWUgdGhlIG1hcFwiIH0gfSxcbiAgICBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImQtYmxvY2sgdGV4dC1jZW50ZXJcIiB9LCBbXG4gICAgICAgIF9jKFwiaDNcIiwgW192bS5fdihcIkluc2VydCBtYXAgdG8gbG9hZFwiKV0pLFxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiYi1idXR0b25cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm10LTNcIixcbiAgICAgICAgICBhdHRyczogeyB2YXJpYW50OiBcIm91dGxpbmUtZGFuZ2VyXCIsIGJsb2NrOiBcIlwiIH0sXG4gICAgICAgICAgb246IHsgY2xpY2s6IF92bS5oaWRlTW9kYWwgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW192bS5fdihcIkNhbmNlbFwiKV1cbiAgICAgICksXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLWhleGFnb24gZmEtdy0xOFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgcm9sZTogXCJpbWdcIixcbiAgICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgICAgdmlld0JveDogXCIwIDAgNTc2IDUxMlwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFwicGF0aFwiLCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBkOiBcIk00NDEuNSAzOS44QzQzMi45IDI1LjEgNDE3LjEgMTYgNDAwIDE2SDE3NmMtMTcuMSAwLTMyLjkgOS4xLTQxLjUgMjMuOGwtMTEyIDE5MmMtOC43IDE0LjktOC43IDMzLjQgMCA0OC40bDExMiAxOTJjOC42IDE0LjcgMjQuNCAyMy44IDQxLjUgMjMuOGgyMjRjMTcuMSAwIDMyLjktOS4xIDQxLjUtMjMuOGwxMTItMTkyYzguNy0xNC45IDguNy0zMy40IDAtNDguNGwtMTEyLTE5MnpNNDAwIDQ0OEgxNzZMNjQgMjU2IDE3NiA2NGgyMjRsMTEyIDE5Mi0xMTIgMTkyelwiLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgXVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBzdGF0aWNDbGFzczogXCJzdmctaW5saW5lLS1mYSBmYS13LTE2XCIsXG4gICAgICBhdHRyczoge1xuICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICB2aWV3Qm94OiBcIjAgMCAyMTcuNDYgMjAwLjFcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcImdcIiwgW1xuICAgICAgICBfYyhcImNpcmNsZVwiLCB7XG4gICAgICAgICAgc3RhdGljU3R5bGU6IHsgZmlsbDogXCIjZmZmXCIgfSxcbiAgICAgICAgICBhdHRyczogeyBjeDogXCIzNy43OFwiLCBjeTogXCIzOC4yM1wiLCByOiBcIjM3Ljc4XCIgfSxcbiAgICAgICAgfSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwicGF0aFwiLCB7XG4gICAgICAgICAgc3RhdGljU3R5bGU6IHsgZmlsbDogXCIjZmZmXCIgfSxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZDogXCJNMjM2LjQxLDI5MWgyLjI0bDIsMCwzLjkxLjA5cTMuODguMTEsNy43MS4yN2M1LjEyLjIyLDEwLjIuNSwxNS4yOS44NSwxMC4xNy42OSwyMC4zMywxLjYyLDMwLjU1LDIuODhTMzE4LjYsMjk3LjkyLDMyOSwzMDBhMjU4LDI1OCwwLDAsMSwzMS43LDguMjUsMTU1LjYsMTU1LjYsMCwwLDEsMTYuNSw2LjU1LDEwMSwxMDEsMCwwLDEsMTcuMjQsMTAuMSw3Mi4xNCw3Mi4xNCwwLDAsMSw4Ljc2LDcuNTljMS40NCwxLjQ4LDIuODUsMy4wNyw0LjIyLDQuNzlhNTYuNzMsNTYuNzMsMCwwLDEsMy44OCw1LjU4LDUwLjcxLDUwLjcxLDAsMCwxLDUuNjksMTMuMyw0OS4wOSw0OS4wOSwwLDAsMSwxLjU3LDE0LjI0YzAsMS4xNC0uMTIsMi4yNy0uMjQsMy4zN2wtLjA4LjgyLS4xLjY5LS4yMSwxLjM1Yy0uMjUsMS43Ni0uNjcsMy42NS0xLjA3LDUuNDlhNTkuODYsNTkuODYsMCwwLDEtNC4xMSwxMS41OCw0OS4yMSw0OS4yMSwwLDAsMS03LjM3LDExLjIxLDQ4LjA5LDQ4LjA5LDAsMCwxLTEwLDguNjUsNTMuNTgsNTMuNTgsMCwwLDEtMTAuNTksNS4yOCw2Ny4zOCw2Ny4zOCwwLDAsMS05Ljk0LDIuOCwxMDUuNDMsMTA1LjQzLDAsMCwxLTE3LjUzLDEuODdjLTEwLjg3LjMtMjAuNjQtLjM3LTMwLS43OGEyNDMuMzEsMjQzLjMxLDAsMCwwLTI2LjgxLS4xNWMtOC40NS41OC0xNi4zNiwyLTIzLjE0LDVhNDQsNDQsMCwwLDAtNC44NywyLjUzYy0uNzguNDctMS41MywxLTIuMjgsMS40OWwtMS4xLjgxYy0uMzcuMjYtLjc4LjYxLTEuMTcuOTFhNDAuMTgsNDAuMTgsMCwwLDAtNy43Myw3Ljc4LDE3LjM0LDE3LjM0LDAsMCwwLTIuMTEsMy43OSw5LjY3LDkuNjcsMCwwLDAtLjc0LDMuNTdjLS4wOCwyLjQxLDEuMSw1LjQ0LDMuNCw4LjQ1YTQzLjM0LDQzLjM0LDAsMCwwLDksOC40OCw5NCw5NCwwLDAsMCwxMS41NCw3LjExLDE4MC4xLDE4MC4xLDAsMCwwLDI2LDEwLjkyLDI3Mi4yMywyNzIuMjMsMCwwLDAsMjcuNjIsNy43MUEyNzIuNzQsMjcyLjc0LDAsMCwxLDMwNiw0ODguNTNhMTg2LjYyLDE4Ni42MiwwLDAsMS0yOC43Ny02LjI3QTEwNi4yNSwxMDYuMjUsMCwwLDEsMjYzLDQ3Ni43N2E1OC44Nyw1OC44NywwLDAsMS0xMy43NS04Ljg2LDM2Ljg2LDM2Ljg2LDAsMCwxLTYuMDktNi45MywyOC43MywyOC43MywwLDAsMS00LjEzLTkuNCwyOC4zNiwyOC4zNiwwLDAsMS0uNDYtMTAuNjksMzYuNjYsMzYuNjYsMCwwLDEsMi43OS05LjY1QTYwLjU5LDYwLjU5LDAsMCwxLDI1MSw0MTYuMzdjLjQ3LS41My44OS0xLjA2LDEuNDEtMS41OWwxLjU1LTEuNjFjMS4wNi0xLjA1LDIuMTYtMi4wNywzLjI5LTNhNjcuNzUsNjcuNzUsMCwwLDEsNy4xMS01LjM1QTgxLjA4LDgxLjA4LDAsMCwxLDI3OS44NCwzOTdhMTE4LjA5LDExOC4wOSwwLDAsMSwxNS43OC00Ljc0QTI2OC40NSwyNjguNDUsMCwwLDEsMzI2LDM4Ny41MmM5LjctMS4wOSwxOS4xLTIsMjcuMjgtMy41N0E2Mi4wNiw2Mi4wNiwwLDAsMCwzNjQsMzgxYzIuOTQtMS4xNiw0LjkyLTIuNTUsNS41Ny0zLjUxYTEuODYsMS44NiwwLDAsMCwuNDItMS4xMmMwLS4yOSwwLS41OCwwLTEuMDhsMC0yLjEzYzAtLjUzLDAtMS0uMDctMS42MWwwLS40NHYtLjJsMC0uMDdhLjg1Ljg1LDAsMCwwLS4xMy0uMjJjLS4yLS4yMi0uNC0uMS0uNTMuMDlzLS4yNS4zOS0uNDYuMzljLS40LDAtMS42MS0uOC0zLjc2LTEuNzVhNTcuMzEsNTcuMzEsMCwwLDAtOC4zMS0yLjg5LDEwMy4zNSwxMDMuMzUsMCwwLDAtMTAuNzktMi4yOSwyMDMuNzUsMjAzLjc1LDAsMCwwLTI0LjctMi4yOGMtOC42LS4zMi0xNy40My0uMjctMjYuMzMuMDZzLTE3Ljg4LjkxLTI2Ljg0LDEuNzJxLTYuNzQuNjItMTMuNDIsMS4zOWwtNi42NC44Mi0zLjI1LjQ1LTEuNTguMjMtLjc2LjExYy0uMjIsMC0uNTIuMDgtLjU5LjExWlwiLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtMjAxLjEzIC0yOTAuOTgpXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICBdKSxcbiAgICBdXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcInN2Zy1pbmxpbmUtLWZhIGZhLXctMTZcIixcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDIzNC44MDkgMjM0LjgwOVwiLFxuICAgICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXCJwYXRoXCIsIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGQ6IFwiTTcuNSw1My45ODhjLTQuMTM1LDAtNy41LTMuMzY0LTcuNS03LjVWMjAuNTcxYzAtNC4xMzYsMy4zNjUtNy41LDcuNS03LjVoOTQuOTA0YzQuMTM1LDAsNy41LDMuMzY0LDcuNSw3LjV2MjUuOTE3XFxuICAgIGMwLDQuMTM2LTMuMzY1LDcuNS03LjUsNy41SDcuNXogTTIyNy4zMDksNTMuOTg4YzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjVWMjAuNTcxYzAtNC4xMzYtMy4zNjUtNy41LTcuNS03LjVoLTk0LjkwNFxcbiAgICBjLTQuMTM1LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjUsNy41LDcuNSw3LjVIMjI3LjMwOXogTTE2NC44NTYsMTA5LjkwNGM0LjEzNSwwLDcuNS0zLjM2NSw3LjUtNy41Vjc2LjQ4OFxcbiAgICBjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNUg2OS45NTJjLTQuMTM1LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzUsMy4zNjUsNy41LDcuNSw3LjVIMTY0Ljg1NnogTTM5Ljk1MiwxMDkuOTA0XFxuICAgIGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41Vjc2LjQ4OGMwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41SDguMDQ4Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41XFxuICAgIEgzOS45NTJ6IE0yMjYuNzYxLDEwOS45MDRjNC4xMzYsMCw3LjUtMy4zNjQsNy41LTcuNVY3Ni40ODhjMC00LjEzNi0zLjM2NC03LjUtNy41LTcuNWgtMzEuOTA0Yy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN1xcbiAgICBjMCw0LjEzNiwzLjM2NCw3LjUsNy41LDcuNUgyMjYuNzYxeiBNMTAyLjQwNCwxNjUuODIxYzQuMTM1LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM1LTMuMzY1LTcuNS03LjUtNy41SDcuNVxcbiAgICBjLTQuMTM1LDAtNy41LDMuMzY1LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjUsNy41LDcuNSw3LjVIMTAyLjQwNHogTTIyNy4zMDksMTY1LjgyMWM0LjEzNSwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdcXG4gICAgYzAtNC4xMzUtMy4zNjUtNy41LTcuNS03LjVoLTk0LjkwNGMtNC4xMzUsMC03LjUsMy4zNjUtNy41LDcuNXYyNS45MTdjMCw0LjEzNiwzLjM2NSw3LjUsNy41LDcuNUgyMjcuMzA5eiBNMTY0Ljg1NiwyMjEuNzM4XFxuICAgIGM0LjEzNSwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdjMC00LjEzNi0zLjM2NS03LjUtNy41LTcuNUg2OS45NTJjLTQuMTM1LDAtNy41LDMuMzY0LTcuNSw3LjV2MjUuOTE3YzAsNC4xMzYsMy4zNjUsNy41LDcuNSw3LjVcXG4gICAgSDE2NC44NTZ6IE0zOS45NTIsMjIxLjczOGM0LjEzNiwwLDcuNS0zLjM2NCw3LjUtNy41di0yNS45MTdjMC00LjEzNi0zLjM2NC03LjUtNy41LTcuNUg4LjA0OGMtNC4xMzYsMC03LjUsMy4zNjQtNy41LDcuNXYyNS45MTdcXG4gICAgYzAsNC4xMzYsMy4zNjQsNy41LDcuNSw3LjVIMzkuOTUyeiBNMjI2Ljc2MSwyMjEuNzM4YzQuMTM2LDAsNy41LTMuMzY0LDcuNS03LjV2LTI1LjkxN2MwLTQuMTM2LTMuMzY0LTcuNS03LjUtNy41aC0zMS45MDRcXG4gICAgYy00LjEzNiwwLTcuNSwzLjM2NC03LjUsNy41djI1LjkxN2MwLDQuMTM2LDMuMzY0LDcuNSw3LjUsNy41SDIyNi43NjF6XCIsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICBdXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJzbG9hZGluZy1jb250YWluZXJcIiB9LCBbXG4gICAgICBfYyhcImgxXCIsIHsgc3RhdGljQ2xhc3M6IFwic2xvYWRpbmctdGl0bGVcIiB9LCBbX3ZtLl92KFwiRFJBVyZESUNFXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJoMlwiLCBbX3ZtLl92KF92bS5fcyhfdm0ubWVzc2FnZSkpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJoNVwiLCBbX3ZtLl92KFwiTG9hZGluZ1wiKV0pLFxuICAgIF0pLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiaW5wdXRcIiwge1xuICAgIHN0YXRpY0NsYXNzOiBcInV0aWxfZWNvbG9yXCIsXG4gICAgYXR0cnM6IHtcbiAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICAgIHJlYWRvbmx5OiBfdm0ucmVhZG9ubHksXG4gICAgICBwbGFjZWhvbGRlcjogX3ZtLnBsYWNlaG9sZGVyLFxuICAgIH0sXG4gICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS52YWx1ZSB9LFxuICAgIG9uOiB7XG4gICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiaW5wdXRcIiwgJGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgIH0sXG4gICAgICBjaGFuZ2U6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcImNoYW5nZVwiKVxuICAgICAgfSxcbiAgICB9LFxuICB9KVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZWRpdGFibGUtdGV4dFwiLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHZhbHVlOiBfdm0udmFsdWUsXG4gICAgICByZWFkb25seTogX3ZtLnJlYWRvbmx5LFxuICAgICAgcGxhY2Vob2xkZXI6IF92bS5wbGFjZWhvbGRlcixcbiAgICAgIGZpbHRlcjogX3ZtLmZpbHRlcixcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBjaGFuZ2U6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgX3ZtLiRlbWl0KFwiY2hhbmdlXCIsIHBhcnNlRmxvYXQoJGV2ZW50KSlcbiAgICAgIH0sXG4gICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiaW5wdXRcIiwgJGV2ZW50KVxuICAgICAgfSxcbiAgICB9LFxuICB9KVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidXRpbF9lZGl0YWJsZS10ZXh0X2RpdlwiIH0sIFtcbiAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tY29udHJvbC1wbGFpbnRleHQgaHByaW9yIHV0aWxfZWRpdGFibGUtdGV4dF9pbnB1dFwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHJlYWRvbmx5OiBfdm0ucmVhZG9ubHksXG4gICAgICAgIHBsYWNlaG9sZGVyOiBfdm0ucGxhY2Vob2xkZXIsXG4gICAgICB9LFxuICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS52YWx1ZSB9LFxuICAgICAgb246IHtcbiAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3ZtLm9uRXZlbnQoXCJpbnB1dFwiLCAkZXZlbnQpXG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdm0ub25FdmVudChcImNoYW5nZVwiLCAkZXZlbnQpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidXRpbF9lZGl0YWJsZS10ZXh0X2JvcmRlclwiIH0pLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiNmEwMzJkYTZcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2NvbXBXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9jb21wV3JhcHBlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Vjc05vdGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjFjNWQ4MmIzXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lY3NOb3RlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZW50aXR5SW5zcGVjdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMzRhNDM0ZjJcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VudGl0eUluc3BlY3QudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0TWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI3YTI0MjNhY1wiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdE1hcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NpZGVCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjE0ZjIzNzZjXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zaWRlQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vdG9vbEJhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMGY3YTExZThcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Rvb2xCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjM0OWVhZDVjXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2Zvb3Rlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2hvbWUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjM0MjE4NTlmXCIsIGNvbnRlbnQsIGZhbHNlLCB7fSk7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG4gLy8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3NcbiBpZighY29udGVudC5sb2NhbHMpIHtcbiAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ob21lLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMTM4NzcyNDRcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9lZGl0YWJsZUNvbG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCJkNjE4MWJmOFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVDb2xvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiZWQ1ZmRkMDBcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2VkaXRhYmxlVGV4dC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZWRpdGFibGVUZXh0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiNTExZjM5MGVcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuICAgICBpZihuZXdDb250ZW50Ll9fZXNNb2R1bGUpIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LmRlZmF1bHQ7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHRcIm1haW5cIjogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2RyYXduZGljZVwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtkcmF3bmRpY2VcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFtcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2ZvcnRhd2Vzb21lX2ZvbnRhd2Vzb21lLWZyZWVfanNfYWxsX2pzLW5vZGVfbW9kdWxlc19ib290c3RyYXAtdnVlX2VzbV9pbi1iN2ZiODJcIl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvYXBwL2luZGV4LnRzXCIpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iLCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=